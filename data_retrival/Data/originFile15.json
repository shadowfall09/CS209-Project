{"items":[{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701761062,"post_id":77604395,"comment_id":136812444,"body_markdown":"No your understanding is wrong. If there is anything blocking the shutdown that will be timed out after 1 minute to proceed with the shutdown. Currently there are no active requests so the shutdown can be done directly.","body":"No your understanding is wrong. If there is anything blocking the shutdown that will be timed out after 1 minute to proceed with the shutdown. Currently there are no active requests so the shutdown can be done directly."}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701763135,"creation_date":1701763135,"answer_id":77604617,"question_id":77604395,"body_markdown":"\r\nActually , if there is no running blocking thread in tomcat thread pool , it is normally that close the sever immediately when you stop the  server.\r\n\r\n\r\nyou can use the following code snippet for test .\r\n```java\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class ShutdownController {\r\n\r\n    private volatile boolean shutdownRequested = false;\r\n\r\n    @GetMapping(&quot;/graceful-shutdown-test&quot;)\r\n    public String gracefulShutdownTest() {\r\n        // Simulate a long-running process\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            if (shutdownRequested) {\r\n                return &quot;Shutdown requested. Cleaning up...&quot;;\r\n            }\r\n\r\n            try {\r\n                Thread.sleep(1000); // Simulate some work\r\n            } catch (InterruptedException e) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n\r\n        return &quot;Process completed successfully!&quot;;\r\n    }\r\n\r\n    // Endpoint to trigger a graceful shutdown\r\n    @GetMapping(&quot;/trigger-shutdown&quot;)\r\n    public String triggerShutdown() {\r\n        shutdownRequested = true;\r\n        return &quot;Shutdown requested. It may take some time to complete ongoing tasks.&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\ntry to  request the REST API , and when it is blocking , close the server , it would wait  for all the thread is done which is in tomcat thread pool . that is graceful shutdown","title":"Enabling Graceful shutdown for SpringBoot app does not take effect","body":"<p>Actually , if there is no running blocking thread in tomcat thread pool , it is normally that close the sever immediately when you stop the  server.</p>\n<p>you can use the following code snippet for test .</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class ShutdownController {\n\n    private volatile boolean shutdownRequested = false;\n\n    @GetMapping(&quot;/graceful-shutdown-test&quot;)\n    public String gracefulShutdownTest() {\n        // Simulate a long-running process\n        for (int i = 0; i &lt; 10; i++) {\n            if (shutdownRequested) {\n                return &quot;Shutdown requested. Cleaning up...&quot;;\n            }\n\n            try {\n                Thread.sleep(1000); // Simulate some work\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }\n\n        return &quot;Process completed successfully!&quot;;\n    }\n\n    // Endpoint to trigger a graceful shutdown\n    @GetMapping(&quot;/trigger-shutdown&quot;)\n    public String triggerShutdown() {\n        shutdownRequested = true;\n        return &quot;Shutdown requested. It may take some time to complete ongoing tasks.&quot;;\n    }\n}\n\n</code></pre>\n<p>try to  request the REST API , and when it is blocking , close the server , it would wait  for all the thread is done which is in tomcat thread pool . that is graceful shutdown</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701763135,"creation_date":1701760367,"question_id":77604395,"body_markdown":"I am trying to enable graceful shutdown for my app \r\n\r\nI added following settings to application.properties : \r\n\r\n    server.shutdown=graceful\r\n    spring.lifecycle.timeout-per-shutdown-phase=1m\r\n\r\nSo here, as I understand, expected period after shutdown happens is 1 min - i.e. the app can get requests within 1 min after shutdown - is it correct ?  \r\nFor test I also enabled `/actuator/shutdown` endpoint. And when I access via Postman to the \r\n/actuator/shutdown , I see the app ending immediately, here is log \r\n\r\n    05 08:55:24.741 | Thread-14            | 325 | INFO  | \t |o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully [53] - Commencing graceful shutdown. Waiting for active requests to complete\r\n    05 08:55:24.921 | tomcat-shutdown      | 325 | INFO  | \t |o.s.b.w.e.tomcat.GracefulShutdown.doShutdown [78] - Graceful shutdown complete\r\n    05 08:55:24.922 | Thread-14            | 325 | INFO  | \t |o.a.catalina.core.StandardService.log [173] - Stopping service [Tomcat]\r\n    05 08:55:24.925 | Thread-14            | 325 | INFO  | \t |o.a.c.c.C.[.[localhost].[/bff].log [173] - Destroying Spring FrameworkServlet\r\n\r\nSpringboot version : 2.7.15\r\nIs there missing here something in config? Thanks in advance \r\n\r\n\r\n ","title":"Enabling Graceful shutdown for SpringBoot app does not take effect","body":"<p>I am trying to enable graceful shutdown for my app</p>\n<p>I added following settings to application.properties :</p>\n<pre><code>server.shutdown=graceful\nspring.lifecycle.timeout-per-shutdown-phase=1m\n</code></pre>\n<p>So here, as I understand, expected period after shutdown happens is 1 min - i.e. the app can get requests within 1 min after shutdown - is it correct ?<br />\nFor test I also enabled <code>/actuator/shutdown</code> endpoint. And when I access via Postman to the\n/actuator/shutdown , I see the app ending immediately, here is log</p>\n<pre><code>05 08:55:24.741 | Thread-14            | 325 | INFO  |   |o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully [53] - Commencing graceful shutdown. Waiting for active requests to complete\n05 08:55:24.921 | tomcat-shutdown      | 325 | INFO  |   |o.s.b.w.e.tomcat.GracefulShutdown.doShutdown [78] - Graceful shutdown complete\n05 08:55:24.922 | Thread-14            | 325 | INFO  |   |o.a.catalina.core.StandardService.log [173] - Stopping service [Tomcat]\n05 08:55:24.925 | Thread-14            | 325 | INFO  |   |o.a.c.c.C.[.[localhost].[/bff].log [173] - Destroying Spring FrameworkServlet\n</code></pre>\n<p>Springboot version : 2.7.15\nIs there missing here something in config? Thanks in advance</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1622930361,"post_id":67854139,"comment_id":119934027,"body_markdown":"What is the exact error?","body":"What is the exact error?"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1686829566,"creation_date":1622930376,"answer_id":67854230,"question_id":67854139,"body_markdown":"**TL;DR:**\r\n\r\nMake sure JavaFX is resolved as _named modules_.\r\n\r\n* Non-modular application:\r\n\r\n    ```none\r\n    java --module-path &lt;path-to-fx&gt; --add-modules &lt;fx-modules&gt; ...\r\n    ```\r\n* Modular application:\r\n\r\n    ```none\r\n    java --module-path &lt;path&gt; --module &lt;main-module&gt;/&lt;main-class&gt; [args...]\r\n    ```\r\n\r\n  Where `&lt;path&gt;` includes your module as well as JavaFX.\r\n\r\n* Use JDK distribution which includes JavaFX (see answer below for more information). May still need to use `--add-modules`.\r\n\r\n---\r\n\r\n# Background\r\n\r\nThis warning is related to the _Java Platform Module System_ (JPMS) introduced in Java 9. If you&#39;re not familiar with modules, then I recommend reading [Understanding Java 9 Modules][1] for a brief overview.\r\n\r\nWith JPMS came the module-path, which now exists alongside the class-path. When classes are loaded from the class-path they become a part of the so-called _unnamed module_. Whereas classes on the module-path are contained within modules, and are thus loaded &quot;into&quot; _named modules_. A named module may or may not be _automatic_, depending on if it has a `module-info` descriptor or not, respectively.\r\n\r\n---\r\n\r\n# The Warning\r\n\r\nJavaFX only supports being loaded as _named modules_. In other words, JavaFX only supports being loaded from the module-path, not the class-path. This has been implicitly true since version 9, back when the framework was modularized. But now, as of version 16, a warning is emitted if JavaFX detects it was loaded from the class-path (i.e. is in the _unnamed module_). See [JDK-8256362][2].\r\n\r\n---\r\n\r\n# Solution\r\n\r\nThe solution is to make sure JavaFX is loaded from the module-path and resolved as _named modules_. Note JavaFX is made up of seven modules, as can be seen by [its documentation][3].\r\n\r\nHow exactly you ensure JavaFX is resolved as named modules may depend on your environment (e.g. non-modular vs modular application, external JavaFX SDK, etc.). The examples below all use the command-line to show how to set the needed arguments. However, if you&#39;re using an IDE (e.g. NetBeans, IntelliJ, Eclipse) and/or a build tool (e.g. Maven, Gradle) and are unsure of where to set these arguments, then check out [Getting Started with JavaFX 11+][6].\r\n\r\nNote that both Gradle and Maven have plugins that make it easier to work with JavaFX (i.e. they handle all the configuration for you).\r\n\r\n## Non-modular Application\r\n\r\nIf your code is non-modular then you do not have a `module-info` descriptor. This means adding JavaFX to the module-path is not enough; you also have to force Java to resolve the JavaFX modules. That can be done via the `--add-modules` argument.\r\n\r\nFor example:\r\n\r\n```none\r\njava --module-path &lt;path-to-fx&gt; --add-modules javafx.controls ...\r\n```\r\n\r\nNotice I only include the `javafx.controls` module in the `--add-modules` argument. This is because it requires the `javafx.base` and `javafx.graphics` modules, which means they will be implicitly pulled in.\r\n\r\nIf you need other modules then you need to include them in the `--add-modules` argument as well, separated by a comma.\r\n\r\nAlso, note it&#39;s okay, in this case, to have your code and other non-modular dependencies on the class-path. The important part is that JavaFX is loaded from the module-path.\r\n\r\n## Modular Application\r\n\r\nIf your code is modular then you _will_ have a `module-info` descriptor. This descriptor will have the necessary `requires` directives. In this case, you no longer need to use `--add-modules`, but you do need to make sure to launch your application as a module via `--module`.\r\n\r\nFor example:\r\n\r\n```java\r\nmodule app {\r\n  // transitively requires javafx.base and javafx.graphics\r\n  requires javafx.controls;\r\n\r\n  // export javafx.application.Application implementation&#39;s package\r\n  // to at least javafx.graphics\r\n  exports com.example.app to javafx.graphics;\r\n}\r\n```\r\n\r\n```none\r\njava --module-path &lt;path&gt; --module app/com.example.app.Main [args...]\r\n```\r\n\r\nNote for this you need to not only put JavaFX on the module-path, but also your own module.\r\n\r\n\r\n## Use a JDK Distribution that Includes JavaFX\r\n\r\nSince Java 11, JavaFX is no longer included in the JDK provided by Oracle. But Oracle is not the only vendor for Java based on OpenJDK. There are vendors out there that provide JDK distributions which include JavaFX. At least two of them are:\r\n\r\n* [BellSoft Liberica JDK][4] (make sure to choose the &quot;Full JDK&quot; option).\r\n* [Azul Zulu JDK][5] (make sure to choose the &quot;JDK FX&quot; package).\r\n\r\nAlso note that you can [use `jilnk` to create a Java runtime that includes the JavaFX modules](https://stackoverflow.com/q/76155054/2189127).\r\n\r\nWhen JavaFX is included in the JDK, it&#39;s now part of the run-time image like all the other Java modules (e.g. `java.base`). This means it will automatically be loaded as _named modules_ and you no longer have to manually put JavaFX on the module-path. However, if your application is non-modular then you may still need to use `--add-modules` (not sure).\r\n\r\n#### Deployment\r\n\r\nWhen you go to deploy a JavaFX application, including JavaFX in the run-time image is likely the easiest approach. You can do this with the `jlink` / `jpackage` tools. And this can be done with either a JDK that includes JavaFX or an external JavaFX SDK. However, if you use the latter then make sure to use the JMOD files when making the custom run-time image (or use the JavaFX JARs from Maven Central, which embed the needed native code).\r\n\r\nIf your code is non-modular, then you&#39;d create a custom run-time image that includes JavaFX (and all the other non-automatic named modules needed by your application), and then configure `jpackage` to place your code (and all non-modular dependencies) on the class-path.\r\n\r\n## Ignore the Warning\r\n\r\nAs far as I can tell, nothing **currently** breaks if JavaFX is loaded from the class-path. This means another option, at least for now, is to just ignore the warning. However, I recommend putting at least JavaFX on the module-path if you can do so without too much trouble.\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8256362\r\n  [3]: https://openjfx.io/javadoc/17/\r\n  [4]: https://bell-sw.com/pages/downloads/\r\n  [5]: https://www.azul.com/downloads/?package=jdk-fx\r\n  [6]: https://openjfx.io/openjfx-docs/","title":"JavaFX WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @...&#39;","body":"<p><strong>TL;DR:</strong></p>\n<p>Make sure JavaFX is resolved as <em>named modules</em>.</p>\n<ul>\n<li><p>Non-modular application:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --module-path &lt;path-to-fx&gt; --add-modules &lt;fx-modules&gt; ...\n</code></pre>\n</li>\n<li><p>Modular application:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --module-path &lt;path&gt; --module &lt;main-module&gt;/&lt;main-class&gt; [args...]\n</code></pre>\n<p>Where <code>&lt;path&gt;</code> includes your module as well as JavaFX.</p>\n</li>\n<li><p>Use JDK distribution which includes JavaFX (see answer below for more information). May still need to use <code>--add-modules</code>.</p>\n</li>\n</ul>\n<hr />\n<h1>Background</h1>\n<p>This warning is related to the <em>Java Platform Module System</em> (JPMS) introduced in Java 9. If you're not familiar with modules, then I recommend reading <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules</a> for a brief overview.</p>\n<p>With JPMS came the module-path, which now exists alongside the class-path. When classes are loaded from the class-path they become a part of the so-called <em>unnamed module</em>. Whereas classes on the module-path are contained within modules, and are thus loaded &quot;into&quot; <em>named modules</em>. A named module may or may not be <em>automatic</em>, depending on if it has a <code>module-info</code> descriptor or not, respectively.</p>\n<hr />\n<h1>The Warning</h1>\n<p>JavaFX only supports being loaded as <em>named modules</em>. In other words, JavaFX only supports being loaded from the module-path, not the class-path. This has been implicitly true since version 9, back when the framework was modularized. But now, as of version 16, a warning is emitted if JavaFX detects it was loaded from the class-path (i.e. is in the <em>unnamed module</em>). See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8256362\" rel=\"nofollow noreferrer\">JDK-8256362</a>.</p>\n<hr />\n<h1>Solution</h1>\n<p>The solution is to make sure JavaFX is loaded from the module-path and resolved as <em>named modules</em>. Note JavaFX is made up of seven modules, as can be seen by <a href=\"https://openjfx.io/javadoc/17/\" rel=\"nofollow noreferrer\">its documentation</a>.</p>\n<p>How exactly you ensure JavaFX is resolved as named modules may depend on your environment (e.g. non-modular vs modular application, external JavaFX SDK, etc.). The examples below all use the command-line to show how to set the needed arguments. However, if you're using an IDE (e.g. NetBeans, IntelliJ, Eclipse) and/or a build tool (e.g. Maven, Gradle) and are unsure of where to set these arguments, then check out <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX 11+</a>.</p>\n<p>Note that both Gradle and Maven have plugins that make it easier to work with JavaFX (i.e. they handle all the configuration for you).</p>\n<h2>Non-modular Application</h2>\n<p>If your code is non-modular then you do not have a <code>module-info</code> descriptor. This means adding JavaFX to the module-path is not enough; you also have to force Java to resolve the JavaFX modules. That can be done via the <code>--add-modules</code> argument.</p>\n<p>For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --module-path &lt;path-to-fx&gt; --add-modules javafx.controls ...\n</code></pre>\n<p>Notice I only include the <code>javafx.controls</code> module in the <code>--add-modules</code> argument. This is because it requires the <code>javafx.base</code> and <code>javafx.graphics</code> modules, which means they will be implicitly pulled in.</p>\n<p>If you need other modules then you need to include them in the <code>--add-modules</code> argument as well, separated by a comma.</p>\n<p>Also, note it's okay, in this case, to have your code and other non-modular dependencies on the class-path. The important part is that JavaFX is loaded from the module-path.</p>\n<h2>Modular Application</h2>\n<p>If your code is modular then you <em>will</em> have a <code>module-info</code> descriptor. This descriptor will have the necessary <code>requires</code> directives. In this case, you no longer need to use <code>--add-modules</code>, but you do need to make sure to launch your application as a module via <code>--module</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module app {\n  // transitively requires javafx.base and javafx.graphics\n  requires javafx.controls;\n\n  // export javafx.application.Application implementation's package\n  // to at least javafx.graphics\n  exports com.example.app to javafx.graphics;\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>java --module-path &lt;path&gt; --module app/com.example.app.Main [args...]\n</code></pre>\n<p>Note for this you need to not only put JavaFX on the module-path, but also your own module.</p>\n<h2>Use a JDK Distribution that Includes JavaFX</h2>\n<p>Since Java 11, JavaFX is no longer included in the JDK provided by Oracle. But Oracle is not the only vendor for Java based on OpenJDK. There are vendors out there that provide JDK distributions which include JavaFX. At least two of them are:</p>\n<ul>\n<li><a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">BellSoft Liberica JDK</a> (make sure to choose the &quot;Full JDK&quot; option).</li>\n<li><a href=\"https://www.azul.com/downloads/?package=jdk-fx\" rel=\"nofollow noreferrer\">Azul Zulu JDK</a> (make sure to choose the &quot;JDK FX&quot; package).</li>\n</ul>\n<p>Also note that you can <a href=\"https://stackoverflow.com/q/76155054/2189127\">use <code>jilnk</code> to create a Java runtime that includes the JavaFX modules</a>.</p>\n<p>When JavaFX is included in the JDK, it's now part of the run-time image like all the other Java modules (e.g. <code>java.base</code>). This means it will automatically be loaded as <em>named modules</em> and you no longer have to manually put JavaFX on the module-path. However, if your application is non-modular then you may still need to use <code>--add-modules</code> (not sure).</p>\n<h4>Deployment</h4>\n<p>When you go to deploy a JavaFX application, including JavaFX in the run-time image is likely the easiest approach. You can do this with the <code>jlink</code> / <code>jpackage</code> tools. And this can be done with either a JDK that includes JavaFX or an external JavaFX SDK. However, if you use the latter then make sure to use the JMOD files when making the custom run-time image (or use the JavaFX JARs from Maven Central, which embed the needed native code).</p>\n<p>If your code is non-modular, then you'd create a custom run-time image that includes JavaFX (and all the other non-automatic named modules needed by your application), and then configure <code>jpackage</code> to place your code (and all non-modular dependencies) on the class-path.</p>\n<h2>Ignore the Warning</h2>\n<p>As far as I can tell, nothing <strong>currently</strong> breaks if JavaFX is loaded from the class-path. This means another option, at least for now, is to just ignore the warning. However, I recommend putting at least JavaFX on the module-path if you can do so without too much trouble.</p>\n"}],"owner":{"account_id":20774454,"reputation":501,"user_id":15256309,"display_name":"Jon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44921,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":67854230,"answer_count":1,"score":33,"last_activity_date":1701762992,"creation_date":1622929330,"question_id":67854139,"body_markdown":"I just downloaded JavaFX and set it up, I have done nothing else. I ran the sample code and this was the warning that popped up, although everything compiled. I&#39;m using IntelliJ.\r\n\r\nThis is in Main.java:\r\n```\r\npackage sample;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Hello World&quot;);\r\n        primaryStage.setScene(new Scene(root, 300, 275));\r\n        primaryStage.show();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nThis is in sample.fxml:\r\n```\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;GridPane fx:controller=&quot;sample.Controller&quot;\r\n          xmlns:fx=&quot;http://javafx.com/fxml&quot; alignment=&quot;center&quot; hgap=&quot;10&quot; vgap=&quot;10&quot;&gt;\r\n&lt;/GridPane&gt;\r\n```\r\nWhen running, everything compiles, the window pops up, but I get the warning as stated in the title.\r\n\r\nI never used JavaFX before so I&#39;m unsure of where to locate this module.","title":"JavaFX WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @...&#39;","body":"<p>I just downloaded JavaFX and set it up, I have done nothing else. I ran the sample code and this was the warning that popped up, although everything compiled. I'm using IntelliJ.</p>\n<p>This is in Main.java:</p>\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This is in sample.fxml:</p>\n<pre><code>&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;GridPane fx:controller=&quot;sample.Controller&quot;\n          xmlns:fx=&quot;http://javafx.com/fxml&quot; alignment=&quot;center&quot; hgap=&quot;10&quot; vgap=&quot;10&quot;&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p>When running, everything compiles, the window pops up, but I get the warning as stated in the title.</p>\n<p>I never used JavaFX before so I'm unsure of where to locate this module.</p>\n"},{"tags":["java","javafx","bouncycastle","javafx-11","jlink"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":5,"creation_date":1701590765,"post_id":77593369,"comment_id":136793124,"body_markdown":"Bouncy 1.60 is over 5 years old. Any newer version -- even 1.61 -- does support modulosity.","body":"Bouncy 1.60 is over 5 years old. Any newer version -- even 1.61 -- does support modulosity."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701686375,"post_id":77593369,"comment_id":136802204,"body_markdown":"JavaFX 11 is quite old and won&#39;t function on certain systems (e.g. M series Macs), I recommend a more recent version (e.g. 21+).","body":"JavaFX 11 is quite old and won&#39;t function on certain systems (e.g. M series Macs), I recommend a more recent version (e.g. 21+)."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701762030,"creation_date":1701685701,"answer_id":77598710,"question_id":77593369,"body_markdown":"As noted in comments:\r\n\r\n&gt; Bouncy 1.60 is over 5 years old. Any newer version -- even 1.61 -- does support modularity.\r\n\r\nBut in general, you can&#39;t &quot;fix&quot; &quot;auto module name cannot be used with jlink&quot;.  `jlink` (as of Java 21) does not support [automatic modules](https://stackoverflow.com/questions/46741907/what-is-an-automatic-module).\r\n\r\nThe only solution to be able to link an automatic module, is to rebuild it as a standard module (with a `module-info.java`).  That is what the bouncy castle library developers did for latter versions of the bouncy castle libraries.  \r\n\r\nThe other option is to not link the automatic modules into a jlink image and add them to the runtime later by placing them on the classpath or modulepath.  \r\n\r\nAlternately, you can use jpackage as that can create packages for non-modular software, though the result is different than what jlink does.\r\n\r\n**Tools that assist in creating module-info for non-modular software**\r\n\r\n * [ModiTect][1] can generate module-info for dependencies that don&#39;t have it.\r\n * The [badass jlink plugin][2] can work with non-modular dependencies (it creates a single jar for them and adds a synthetic module info).\r\n * You can also unpack the jar, create and compile a module-info for it that you write yourself and add that to a repacked jar. [jdeps][3] might be able to assist you in this task.\r\n\r\nDetailed descriptions of how to use these tools is beyond the scope of what I am prepared to write here.  I advise you to study their documentation or relevant tutorials that use them, if you would like to try them.\r\n\r\nNone of these workarounds for non-modular dependencies is ideal nor guaranteed to work flawlessly for any non-modular software.  It is best to have module-info provided from the library developers when it is available.\r\n\r\n\r\n  [1]: https://github.com/moditect/moditect\r\n  [2]: https://badass-jlink-plugin.beryx.org/releases/latest/\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs//specs/man/jdeps.html","title":"How to fix &quot;auto module name cannot be used with jlink&quot;?","body":"<p>As noted in comments:</p>\n<blockquote>\n<p>Bouncy 1.60 is over 5 years old. Any newer version -- even 1.61 -- does support modularity.</p>\n</blockquote>\n<p>But in general, you can't &quot;fix&quot; &quot;auto module name cannot be used with jlink&quot;.  <code>jlink</code> (as of Java 21) does not support <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic modules</a>.</p>\n<p>The only solution to be able to link an automatic module, is to rebuild it as a standard module (with a <code>module-info.java</code>).  That is what the bouncy castle library developers did for latter versions of the bouncy castle libraries.</p>\n<p>The other option is to not link the automatic modules into a jlink image and add them to the runtime later by placing them on the classpath or modulepath.</p>\n<p>Alternately, you can use jpackage as that can create packages for non-modular software, though the result is different than what jlink does.</p>\n<p><strong>Tools that assist in creating module-info for non-modular software</strong></p>\n<ul>\n<li><a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">ModiTect</a> can generate module-info for dependencies that don't have it.</li>\n<li>The <a href=\"https://badass-jlink-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">badass jlink plugin</a> can work with non-modular dependencies (it creates a single jar for them and adds a synthetic module info).</li>\n<li>You can also unpack the jar, create and compile a module-info for it that you write yourself and add that to a repacked jar. <a href=\"https://docs.oracle.com/en/java/javase/21/docs//specs/man/jdeps.html\" rel=\"nofollow noreferrer\">jdeps</a> might be able to assist you in this task.</li>\n</ul>\n<p>Detailed descriptions of how to use these tools is beyond the scope of what I am prepared to write here.  I advise you to study their documentation or relevant tutorials that use them, if you would like to try them.</p>\n<p>None of these workarounds for non-modular dependencies is ideal nor guaranteed to work flawlessly for any non-modular software.  It is best to have module-info provided from the library developers when it is available.</p>\n"}],"owner":{"account_id":28985227,"reputation":89,"user_id":22202172,"display_name":"Dharun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701762030,"creation_date":1701588054,"question_id":77593369,"body_markdown":"I&#39;ve been working on a javafx application. Iam using Bouncy castle (for generating certificates) and google zxing library (for QR code generation). both these dependecies doesn&#39;t have a `module-info.class` file. When i try to run jlink it throws the following error\r\n```\r\n[INFO] \r\n[INFO] --- jlink:3.1.0:jlink (default-cli) @ flexi ---\r\n[INFO]  -&gt; module: javafx.graphicsEmpty ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-graphics\\11\\javafx-graphics-11.jar )\r\n[INFO]  -&gt; module: javafx.baseEmpty ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-base\\11\\javafx-base-11.jar )\r\n[INFO]  -&gt; module: org.bouncycastle.provider ( C:\\Users\\dharu\\.m2\\repository\\org\\bouncycastle\\bcprov-jdk15on\\1.60\\bcprov-jdk15on-1.60.jar )\r\n[INFO]  -&gt; module: com.google.zxing ( C:\\Users\\dharu\\.m2\\repository\\com\\google\\zxing\\core\\3.5.0\\core-3.5.0.jar )\r\n[INFO]  -&gt; module: javafx.base ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-base\\11\\javafx-base-11-win.jar )\r\n[INFO]  -&gt; module: javafx.controls ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-controls\\11\\javafx-controls-11-win.jar )\r\n[INFO]  -&gt; module: javafx.graphics ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-graphics\\11\\javafx-graphics-11-win.jar )\r\n[INFO]  -&gt; module: com.github.rkdharun.flexi ( D:\\Source\\Flexi-desk\\target\\classes )\r\n[INFO]  -&gt; module: javafx.fxml ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-fxml\\11\\javafx-fxml-11-win.jar )\r\n[INFO]  -&gt; module: javafx.fxmlEmpty ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-fxml\\11\\javafx-fxml-11.jar )\r\n[INFO]  -&gt; module: javafx.media ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-media\\11\\javafx-media-11-win.jar )\r\n[INFO]  -&gt; module: org.bouncycastle.pkix ( C:\\Users\\dharu\\.m2\\repository\\org\\bouncycastle\\bcpkix-jdk15on\\1.60\\bcpkix-jdk15on-1.60.jar )\r\n[ERROR] \r\n[ERROR] Error: automatic module cannot be used with jlink: org.bouncycastle.provider from file:///C:/Users/dharu/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar\r\n\r\n```\r\n\r\nas long as i searched for this issue, it says that i should write the module-info file myself. \r\nI have no idea how to do it and Iam a newbie. \r\n\r\n\r\n\r\nIs there a possibility to package my application with all its dependency and jre if yes please tell me how to do it.","title":"How to fix &quot;auto module name cannot be used with jlink&quot;?","body":"<p>I've been working on a javafx application. Iam using Bouncy castle (for generating certificates) and google zxing library (for QR code generation). both these dependecies doesn't have a <code>module-info.class</code> file. When i try to run jlink it throws the following error</p>\n<pre><code>[INFO] \n[INFO] --- jlink:3.1.0:jlink (default-cli) @ flexi ---\n[INFO]  -&gt; module: javafx.graphicsEmpty ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-graphics\\11\\javafx-graphics-11.jar )\n[INFO]  -&gt; module: javafx.baseEmpty ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-base\\11\\javafx-base-11.jar )\n[INFO]  -&gt; module: org.bouncycastle.provider ( C:\\Users\\dharu\\.m2\\repository\\org\\bouncycastle\\bcprov-jdk15on\\1.60\\bcprov-jdk15on-1.60.jar )\n[INFO]  -&gt; module: com.google.zxing ( C:\\Users\\dharu\\.m2\\repository\\com\\google\\zxing\\core\\3.5.0\\core-3.5.0.jar )\n[INFO]  -&gt; module: javafx.base ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-base\\11\\javafx-base-11-win.jar )\n[INFO]  -&gt; module: javafx.controls ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-controls\\11\\javafx-controls-11-win.jar )\n[INFO]  -&gt; module: javafx.graphics ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-graphics\\11\\javafx-graphics-11-win.jar )\n[INFO]  -&gt; module: com.github.rkdharun.flexi ( D:\\Source\\Flexi-desk\\target\\classes )\n[INFO]  -&gt; module: javafx.fxml ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-fxml\\11\\javafx-fxml-11-win.jar )\n[INFO]  -&gt; module: javafx.fxmlEmpty ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-fxml\\11\\javafx-fxml-11.jar )\n[INFO]  -&gt; module: javafx.media ( C:\\Users\\dharu\\.m2\\repository\\org\\openjfx\\javafx-media\\11\\javafx-media-11-win.jar )\n[INFO]  -&gt; module: org.bouncycastle.pkix ( C:\\Users\\dharu\\.m2\\repository\\org\\bouncycastle\\bcpkix-jdk15on\\1.60\\bcpkix-jdk15on-1.60.jar )\n[ERROR] \n[ERROR] Error: automatic module cannot be used with jlink: org.bouncycastle.provider from file:///C:/Users/dharu/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar\n\n</code></pre>\n<p>as long as i searched for this issue, it says that i should write the module-info file myself.\nI have no idea how to do it and Iam a newbie.</p>\n<p>Is there a possibility to package my application with all its dependency and jre if yes please tell me how to do it.</p>\n"},{"tags":["java","spring-boot","encoding","jwt","public-key"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":8,"creation_date":1656680587,"post_id":72829633,"comment_id":128637677,"body_markdown":"you decode the whole key string, which sill includes header (&quot;-----BEGIN PUBLIC KEY-----&quot;) and footer, which are not part of the base64 encoded key. Illegal base64 character 2d is the &quot;-&quot; in the header.","body":"you decode the whole key string, which sill includes header (&quot;-----BEGIN PUBLIC KEY-----&quot;) and footer, which are not part of the base64 encoded key. Illegal base64 character 2d is the &quot;-&quot; in the header."},{"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"score":0,"creation_date":1656681089,"post_id":72829633,"comment_id":128637864,"body_markdown":"thanks @jps, that worked! Happy to give you the correct answer if you rewrite it as an answer.","body":"thanks @jps, that worked! Happy to give you the correct answer if you rewrite it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":9336998,"reputation":61,"user_id":6930902,"display_name":"nasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701756678,"creation_date":1701756678,"answer_id":77604139,"question_id":72829633,"body_markdown":"I had such a problem. I used the following command and my problem was solved. Apparently, this problem occurs because of the minus character in the string.\r\n\r\n    new String(Base64.getUrlDecoder().decode());","title":"Illegal base64 character 2d","body":"<p>I had such a problem. I used the following command and my problem was solved. Apparently, this problem occurs because of the minus character in the string.</p>\n<pre><code>new String(Base64.getUrlDecoder().decode());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11663630,"reputation":11,"user_id":8541039,"display_name":"王大拿"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701761676,"creation_date":1701761676,"answer_id":77604502,"question_id":72829633,"body_markdown":"your public key should not have Illegal character like &#39;-&#39; &#39;\\n&#39; ...\r\n\r\nyour public key is \r\n\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAilGFaGPnAThX75U5w3kdl+McOglx+wSckiBgvgomO8PkwFX3g8YaKoIsKl4FnBab5o3gylg1X0NEqdadzY/V4SxCN1ED2y4i55BbHQ2eVAP2fNdsn0kB7GHxJsIu0hlaZSfjO7W9qtOExB4Y9LUx4UxGckRZFoF8zdtG9gDWgFdRxrWDZ6hfsKTm3aAOhL4GpCafGDiwedM9S6f6HWGJBSg+aBFWtafebnei1IRNtnRBvZWND3Etj3K9nqOOwrTs8o9f3fIx5NUd4bHkBBpFE0IXpkiZKCeLQ3kaEttWwnqUSE2WZKIPfoCc6PNVXX3FVkOJOO5/MPl/RtoOnkqR4wIDAQAB\r\n\r\n    public static PublicKey getPublicKeyFromX509(String signType, String signKey) throws Exception {\r\n        KeyFactory keyFactory = KeyFactory.getInstance(signType);\r\n        byte[] encodedKey = signKey.getBytes();\r\n        encodedKey = Base64.getDecoder().decode(encodedKey);\r\n        return keyFactory.generatePublic(new X509EncodedKeySpec(encodedKey));\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        PublicKey rsa = getPublicKeyFromX509(&quot;RSA&quot;, &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAilGFaGPnAThX75U5w3kd&quot; +\r\n                &quot;l+McOglx+wSckiBgvgomO8PkwFX3g8YaKoIsKl4FnBab5o3gylg1X0NEqdadzY/V&quot; +\r\n                &quot;4SxCN1ED2y4i55BbHQ2eVAP2fNdsn0kB7GHxJsIu0hlaZSfjO7W9qtOExB4Y9LUx&quot; +\r\n                &quot;4UxGckRZFoF8zdtG9gDWgFdRxrWDZ6hfsKTm3aAOhL4GpCafGDiwedM9S6f6HWGJ&quot; +\r\n                &quot;BSg+aBFWtafebnei1IRNtnRBvZWND3Etj3K9nqOOwrTs8o9f3fIx5NUd4bHkBBpF&quot; +\r\n                &quot;E0IXpkiZKCeLQ3kaEttWwnqUSE2WZKIPfoCc6PNVXX3FVkOJOO5/MPl/RtoOnkqR&quot; +\r\n                &quot;4wIDAQAB&quot;);\r\n        System.out.println(rsa.toString());\r\n    }","title":"Illegal base64 character 2d","body":"<p>your public key should not have Illegal character like '-' '\\n' ...</p>\n<p>your public key is</p>\n<p>MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAilGFaGPnAThX75U5w3kdl+McOglx+wSckiBgvgomO8PkwFX3g8YaKoIsKl4FnBab5o3gylg1X0NEqdadzY/V4SxCN1ED2y4i55BbHQ2eVAP2fNdsn0kB7GHxJsIu0hlaZSfjO7W9qtOExB4Y9LUx4UxGckRZFoF8zdtG9gDWgFdRxrWDZ6hfsKTm3aAOhL4GpCafGDiwedM9S6f6HWGJBSg+aBFWtafebnei1IRNtnRBvZWND3Etj3K9nqOOwrTs8o9f3fIx5NUd4bHkBBpFE0IXpkiZKCeLQ3kaEttWwnqUSE2WZKIPfoCc6PNVXX3FVkOJOO5/MPl/RtoOnkqR4wIDAQAB</p>\n<pre><code>public static PublicKey getPublicKeyFromX509(String signType, String signKey) throws Exception {\n    KeyFactory keyFactory = KeyFactory.getInstance(signType);\n    byte[] encodedKey = signKey.getBytes();\n    encodedKey = Base64.getDecoder().decode(encodedKey);\n    return keyFactory.generatePublic(new X509EncodedKeySpec(encodedKey));\n}\n\npublic static void main(String[] args) throws Exception {\n    PublicKey rsa = getPublicKeyFromX509(&quot;RSA&quot;, &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAilGFaGPnAThX75U5w3kd&quot; +\n            &quot;l+McOglx+wSckiBgvgomO8PkwFX3g8YaKoIsKl4FnBab5o3gylg1X0NEqdadzY/V&quot; +\n            &quot;4SxCN1ED2y4i55BbHQ2eVAP2fNdsn0kB7GHxJsIu0hlaZSfjO7W9qtOExB4Y9LUx&quot; +\n            &quot;4UxGckRZFoF8zdtG9gDWgFdRxrWDZ6hfsKTm3aAOhL4GpCafGDiwedM9S6f6HWGJ&quot; +\n            &quot;BSg+aBFWtafebnei1IRNtnRBvZWND3Etj3K9nqOOwrTs8o9f3fIx5NUd4bHkBBpF&quot; +\n            &quot;E0IXpkiZKCeLQ3kaEttWwnqUSE2WZKIPfoCc6PNVXX3FVkOJOO5/MPl/RtoOnkqR&quot; +\n            &quot;4wIDAQAB&quot;);\n    System.out.println(rsa.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701761676,"creation_date":1656680300,"question_id":72829633,"body_markdown":"I am building a java spring boot auth service that creates a jwt and a resource service that uses that jwt afterwards. \r\n\r\nTherefore I created a public/private key pair using:\r\n\r\n    keytool -genkeypair -alias myalias -keyalg RSA -keypass password1 -keystore myclient.jks -storepass password1\r\n\r\nI then exported the public key using:\r\n\r\n    keytool -list -rfc --keystore myclient.jks | openssl x509 -inform pem -pubkey\r\n\r\nAfterwards I stored the public key in the application.properties file in the resource server:\r\n\r\n        jwt.publicKey = -----BEGIN PUBLIC KEY-----\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAilGFaGPnAThX75U5w3kd\r\n    l+McOglx+wSckiBgvgomO8PkwFX3g8YaKoIsKl4FnBab5o3gylg1X0NEqdadzY/V\r\n    4SxCN1ED2y4i55BbHQ2eVAP2fNdsn0kB7GHxJsIu0hlaZSfjO7W9qtOExB4Y9LUx\r\n    4UxGckRZFoF8zdtG9gDWgFdRxrWDZ6hfsKTm3aAOhL4GpCafGDiwedM9S6f6HWGJ\r\n    BSg+aBFWtafebnei1IRNtnRBvZWND3Etj3K9nqOOwrTs8o9f3fIx5NUd4bHkBBpF\r\n    E0IXpkiZKCeLQ3kaEttWwnqUSE2WZKIPfoCc6PNVXX3FVkOJOO5/MPl/RtoOnkqR\r\n    4wIDAQAB\r\n    -----END PUBLIC KEY-----\r\n\r\nHowever when I then try to decode the JWT:\r\n\r\n    @Value(&quot;${jwt.publicKey}&quot;)\r\n    private String publicKey;\r\n\r\n    public Claims decodeJWT(String jwt) {\r\n\r\n        KeyFactory kf;\r\n        PublicKey key;\r\n\r\n        try{\r\n            kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\r\n            key = kf.generatePublic(pubKeySpecX509EncodedKeySpec);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to generate Public Key&quot;, e);\r\n        }\r\n\r\n        //This line will throw an exception if it is not a signed JWS (as expected)\r\n        return Jwts.parser()\r\n                .setSigningKey(key)\r\n                .parseClaimsJws(jwt).getBody();\r\n    }\r\n\r\nI get an error:\r\n\r\n    java.lang.IllegalArgumentException: Illegal base64 character 2d\r\n\r\ncan anyone spot what I&#39;m doing wrong here?\r\n\r\nCheers,\r\nKris","title":"Illegal base64 character 2d","body":"<p>I am building a java spring boot auth service that creates a jwt and a resource service that uses that jwt afterwards.</p>\n<p>Therefore I created a public/private key pair using:</p>\n<pre><code>keytool -genkeypair -alias myalias -keyalg RSA -keypass password1 -keystore myclient.jks -storepass password1\n</code></pre>\n<p>I then exported the public key using:</p>\n<pre><code>keytool -list -rfc --keystore myclient.jks | openssl x509 -inform pem -pubkey\n</code></pre>\n<p>Afterwards I stored the public key in the application.properties file in the resource server:</p>\n<pre><code>    jwt.publicKey = -----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAilGFaGPnAThX75U5w3kd\nl+McOglx+wSckiBgvgomO8PkwFX3g8YaKoIsKl4FnBab5o3gylg1X0NEqdadzY/V\n4SxCN1ED2y4i55BbHQ2eVAP2fNdsn0kB7GHxJsIu0hlaZSfjO7W9qtOExB4Y9LUx\n4UxGckRZFoF8zdtG9gDWgFdRxrWDZ6hfsKTm3aAOhL4GpCafGDiwedM9S6f6HWGJ\nBSg+aBFWtafebnei1IRNtnRBvZWND3Etj3K9nqOOwrTs8o9f3fIx5NUd4bHkBBpF\nE0IXpkiZKCeLQ3kaEttWwnqUSE2WZKIPfoCc6PNVXX3FVkOJOO5/MPl/RtoOnkqR\n4wIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n<p>However when I then try to decode the JWT:</p>\n<pre><code>@Value(&quot;${jwt.publicKey}&quot;)\nprivate String publicKey;\n\npublic Claims decodeJWT(String jwt) {\n\n    KeyFactory kf;\n    PublicKey key;\n\n    try{\n        kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\n        key = kf.generatePublic(pubKeySpecX509EncodedKeySpec);\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Failed to generate Public Key&quot;, e);\n    }\n\n    //This line will throw an exception if it is not a signed JWS (as expected)\n    return Jwts.parser()\n            .setSigningKey(key)\n            .parseClaimsJws(jwt).getBody();\n}\n</code></pre>\n<p>I get an error:</p>\n<pre><code>java.lang.IllegalArgumentException: Illegal base64 character 2d\n</code></pre>\n<p>can anyone spot what I'm doing wrong here?</p>\n<p>Cheers,\nKris</p>\n"},{"tags":["java","android-studio","physics","jbox2d","sketchware"],"owner":{"account_id":30069335,"reputation":1,"user_id":23043648,"display_name":"Man Sab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701761595,"creation_date":1701761595,"question_id":77604493,"body_markdown":"How to move imageview or any other view in jbox2d library used from jawnypoo PhysicsLayout a custom library from jbox2d I want to move objects views left right and up down I don&#39;t know how to do so please tell me how can I move object using this library I have Tried Using ApplyForceTocenter And ApplyLinearImpulse but it is not defined in it how can I get it please help me.....\r\n\r\nLinearImpulse and applyForceToCenter was not working as it said it is not defined in library ","title":"How to move imageview in Jbox2d like in simple code setTranslationX(); getTranslationY type Movement","body":"<p>How to move imageview or any other view in jbox2d library used from jawnypoo PhysicsLayout a custom library from jbox2d I want to move objects views left right and up down I don't know how to do so please tell me how can I move object using this library I have Tried Using ApplyForceTocenter And ApplyLinearImpulse but it is not defined in it how can I get it please help me.....</p>\n<p>LinearImpulse and applyForceToCenter was not working as it said it is not defined in library</p>\n"},{"tags":["java","jackson","mapping","deserialization","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653711712,"creation_date":1653711712,"answer_id":72412821,"question_id":72396593,"body_markdown":"My base class should have “structure_type” property, after adding this - everything is working.","title":"Jackson mapper. Could not resolve subtype of [simple type, class ]: missing type id property &#39;&#39; (for POJO property &#39;&#39;)","body":"<p>My base class should have “structure_type” property, after adding this - everything is working.</p>\n"},{"tags":[],"owner":{"account_id":26678367,"reputation":1,"user_id":20288684,"display_name":"Analyst_VijayRR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671776319,"creation_date":1671776319,"answer_id":74896704,"question_id":72396593,"body_markdown":"In my case, json string was not matched with the JAVA object type. I corrected my json string, ","title":"Jackson mapper. Could not resolve subtype of [simple type, class ]: missing type id property &#39;&#39; (for POJO property &#39;&#39;)","body":"<p>In my case, json string was not matched with the JAVA object type. I corrected my json string,</p>\n"},{"tags":[],"owner":{"account_id":18220238,"reputation":1,"user_id":13261146,"display_name":"Marya Alamzeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678371711,"creation_date":1678371711,"answer_id":75685859,"question_id":72396593,"body_markdown":" I have resolved this exception by correcting my JSON format. If you have arrays of multiple objects in a class, your JSON format should be nested too. Checkout this link for using correct JSON format https://stackoverflow.com/questions/14641463/how-to-format-json-array-of-objects-or-document-containing-elements-with-objec","title":"Jackson mapper. Could not resolve subtype of [simple type, class ]: missing type id property &#39;&#39; (for POJO property &#39;&#39;)","body":"<p>I have resolved this exception by correcting my JSON format. If you have arrays of multiple objects in a class, your JSON format should be nested too. Checkout this link for using correct JSON format <a href=\"https://stackoverflow.com/questions/14641463/how-to-format-json-array-of-objects-or-document-containing-elements-with-objec\">How to format JSON: Array of objects, or document containing elements with objects?</a></p>\n"},{"tags":[],"owner":{"account_id":8708087,"reputation":11,"user_id":7000165,"display_name":"Valentine Tobah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701761469,"creation_date":1701761469,"answer_id":77604487,"question_id":72396593,"body_markdown":"Had a similar error for below pojo class:\r\n\r\n[![enter image description here][1]][1]\r\n \r\nError\r\n[![enter image description here][2]][2]\r\n\r\nResolved this by adding @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, property = &quot;@class&quot;) to pojo class\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ulcUi.png\r\n  [2]: https://i.stack.imgur.com/ghH96.png\r\n  [3]: https://i.stack.imgur.com/X5VIb.png","title":"Jackson mapper. Could not resolve subtype of [simple type, class ]: missing type id property &#39;&#39; (for POJO property &#39;&#39;)","body":"<p>Had a similar error for below pojo class:</p>\n<p><a href=\"https://i.stack.imgur.com/ulcUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulcUi.png\" alt=\"enter image description here\" /></a></p>\n<p>Error\n<a href=\"https://i.stack.imgur.com/ghH96.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ghH96.png\" alt=\"enter image description here\" /></a></p>\n<p>Resolved this by adding @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, property = &quot;@class&quot;) to pojo class\n<a href=\"https://i.stack.imgur.com/X5VIb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X5VIb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72412821,"answer_count":4,"score":0,"last_activity_date":1701761469,"creation_date":1653590652,"question_id":72396593,"body_markdown":"I am using openapi generator in order to generate my classes\r\n\r\nBase class\r\n\r\n    @JsonPropertyOrder({\r\n      EntityType.CONTAINER\r\n    })\r\n    @javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;...&quot;)\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;structure_type&quot;, visible = true)\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = SonClass1, name = &quot;sonClass1&quot;),\r\n      @JsonSubTypes.Type(value = SonClass2, name = &quot;sonClass2&quot;),\r\n    })\r\n    public class MyBaseClass {\r\n      public static final String JSON_PROPERTY_CONTAINER = &quot;container&quot;;\r\n      private String container;\r\n    }\r\n\r\nSonClass1 example\r\n\r\n    @JsonPropertyOrder({\r\n      NodeType.JSON_PROPERTY_PROPERTIES,\r\n    })\r\n    @javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;...&quot;)\r\n    public class SonClass1 extends MyBaseClass {\r\n      public static final String JSON_PROPERTY_PROPERTIES = &quot;properties&quot;;\r\n      private Map&lt;String, Property&gt; properties = null;\r\n    }\r\n\r\nI am trying to build object using ObjectMapper using mapper.readValue();\r\nResult is exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.MySon1]: missing type id property &#39;structure_type&#39; \r\n\r\nCould you please explain me why is that, and what I could do with this? Does it mean I have to add property &quot;structure_type&quot; on each subclass?\r\n\r\nOpenapi yaml look like this \r\n\r\n    MyBaseClass:\r\n      type: object\r\n      properties:\r\n        container:\r\n          type: string\r\n      discriminator:\r\n        propertyName: structure_type\r\n        mapping:\r\n          sonClass: &#39;#/sonClass1&#39;\r\n\r\n\r\n    sonClass1:\r\n      allOf:\r\n      - $ref: &#39;#/MyBaseClass&#39;\r\n      - type: object\r\n        properties:\r\n          properties:\r\n            type: object\r\n            additionalProperties:\r\n              $ref: &#39;#/Property&#39;","title":"Jackson mapper. Could not resolve subtype of [simple type, class ]: missing type id property &#39;&#39; (for POJO property &#39;&#39;)","body":"<p>I am using openapi generator in order to generate my classes</p>\n<p>Base class</p>\n<pre><code>@JsonPropertyOrder({\n  EntityType.CONTAINER\n})\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;...&quot;)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;structure_type&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = SonClass1, name = &quot;sonClass1&quot;),\n  @JsonSubTypes.Type(value = SonClass2, name = &quot;sonClass2&quot;),\n})\npublic class MyBaseClass {\n  public static final String JSON_PROPERTY_CONTAINER = &quot;container&quot;;\n  private String container;\n}\n</code></pre>\n<p>SonClass1 example</p>\n<pre><code>@JsonPropertyOrder({\n  NodeType.JSON_PROPERTY_PROPERTIES,\n})\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;...&quot;)\npublic class SonClass1 extends MyBaseClass {\n  public static final String JSON_PROPERTY_PROPERTIES = &quot;properties&quot;;\n  private Map&lt;String, Property&gt; properties = null;\n}\n</code></pre>\n<p>I am trying to build object using ObjectMapper using mapper.readValue();\nResult is exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.MySon1]: missing type id property 'structure_type' \n</code></pre>\n<p>Could you please explain me why is that, and what I could do with this? Does it mean I have to add property &quot;structure_type&quot; on each subclass?</p>\n<p>Openapi yaml look like this</p>\n<pre><code>MyBaseClass:\n  type: object\n  properties:\n    container:\n      type: string\n  discriminator:\n    propertyName: structure_type\n    mapping:\n      sonClass: '#/sonClass1'\n\n\nsonClass1:\n  allOf:\n  - $ref: '#/MyBaseClass'\n  - type: object\n    properties:\n      properties:\n        type: object\n        additionalProperties:\n          $ref: '#/Property'\n</code></pre>\n"},{"tags":["java","javafx","3d","fxgl"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701762656,"post_id":77604297,"comment_id":136812689,"body_markdown":"See [this cube example with a MeshView on p25-30](https://www.slideshare.net/jpt1122/con2221-weaver-exploringjavafx3d).  To create the texture used containing two images, you can paint the two images on a canvas in a scene, then snapshot the canvas or scene.","body":"See <a href=\"https://www.slideshare.net/jpt1122/con2221-weaver-exploringjavafx3d\" rel=\"nofollow noreferrer\">this cube example with a MeshView on p25-30</a>.  To create the texture used containing two images, you can paint the two images on a canvas in a scene, then snapshot the canvas or scene."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701762939,"post_id":77604297,"comment_id":136812734,"body_markdown":"It is a different question, but somewhat similar because the concepts involved are the same, see [How to color some triangles in a TriangleMesh?](https://stackoverflow.com/questions/69305387/how-to-color-some-triangles-in-a-trianglemesh)","body":"It is a different question, but somewhat similar because the concepts involved are the same, see <a href=\"https://stackoverflow.com/questions/69305387/how-to-color-some-triangles-in-a-trianglemesh\">How to color some triangles in a TriangleMesh?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701761106,"creation_date":1701759551,"answer_id":77604330,"question_id":77604297,"body_markdown":"**For 3D boxes:**\r\n\r\nPlease take a look at this thread: \r\nhttps://stackoverflow.com/questions/47946126/javafx-applying-image-to-meshview-not-working\r\n\r\n\r\n**For 2D boxes:**\r\n\r\nUse a `BorderPane`. Put the top `Image` into the top part and the bottom `Image` into to bottom part. The center is used for your content (or spacing element).\r\n\r\nYou can rotate the complete element. \r\nThe spacing element could be a simple `vbox` with a fixed height.","title":"How to create a box with two different pictures(same size) on the top and bottom of the box?","body":"<p><strong>For 3D boxes:</strong></p>\n<p>Please take a look at this thread:\n<a href=\"https://stackoverflow.com/questions/47946126/javafx-applying-image-to-meshview-not-working\">Javafx: applying image to meshview not working</a></p>\n<p><strong>For 2D boxes:</strong></p>\n<p>Use a <code>BorderPane</code>. Put the top <code>Image</code> into the top part and the bottom <code>Image</code> into to bottom part. The center is used for your content (or spacing element).</p>\n<p>You can rotate the complete element.\nThe spacing element could be a simple <code>vbox</code> with a fixed height.</p>\n"}],"owner":{"account_id":30069047,"reputation":23,"user_id":23043426,"display_name":"ArTist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77604330,"answer_count":1,"score":2,"last_activity_date":1701761106,"creation_date":1701758996,"question_id":77604297,"body_markdown":"I just want to create a box in javafx. That box has two different pictures(at same size) on top and bottom (It&#39;s no need to be only on top or bottom because the box can rotate, just at two opposite faces). Just like the two covers of a book.\r\nI thought there are various methods but I don&#39;t know how to write the code and which is best. These methods are on below:\r\n1. Use two MeshView and two textures.\r\n2. Combine the two pictures in a new texture and use one MeshView.\r\n\r\n\r\nI tried to use the phongmeterial in Javafx but it painted the six faces with one picture(six times), that not what I thought.\r\nI expect a box with two pictures on top and bottom with other faces in white.","title":"How to create a box with two different pictures(same size) on the top and bottom of the box?","body":"<p>I just want to create a box in javafx. That box has two different pictures(at same size) on top and bottom (It's no need to be only on top or bottom because the box can rotate, just at two opposite faces). Just like the two covers of a book.\nI thought there are various methods but I don't know how to write the code and which is best. These methods are on below:</p>\n<ol>\n<li>Use two MeshView and two textures.</li>\n<li>Combine the two pictures in a new texture and use one MeshView.</li>\n</ol>\n<p>I tried to use the phongmeterial in Javafx but it painted the six faces with one picture(six times), that not what I thought.\nI expect a box with two pictures on top and bottom with other faces in white.</p>\n"},{"tags":["java","spring-boot","rest","web-services","soap"],"answers":[{"tags":[],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653696329,"creation_date":1653695900,"answer_id":72412016,"question_id":72411800,"body_markdown":"Try adding a JVM argument: `--add-opens java.base/jdk.internal.misc=ALL-UNNAMED`. This allows reflective access to `jdk.internal.misc.Unsafe`. You can also try adding `--illegal-access=permit` instead of that if you are using Java 16 or lower.","title":"Unable to make field private static final jdk.internal.misc.Unsafe accessible: module java.base does not &quot;opens jdk.internal.misc&quot;","body":"<p>Try adding a JVM argument: <code>--add-opens java.base/jdk.internal.misc=ALL-UNNAMED</code>. This allows reflective access to <code>jdk.internal.misc.Unsafe</code>. You can also try adding <code>--illegal-access=permit</code> instead of that if you are using Java 16 or lower.</p>\n"},{"tags":[],"owner":{"account_id":12871229,"reputation":13,"user_id":9309603,"display_name":"Keshar Somvanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701761024,"creation_date":1701508195,"answer_id":77589732,"question_id":72411800,"body_markdown":"Adding --add-opens `java.base/jdk.internal.misc=ALL-UNNAMED` to Modify Options under Java - VM options resolved this exception but program than landed on next error \r\n\r\nCannot invoke &quot;`java.net.InetAddress.isAnyLocalAddress()`&quot; because the return value of &quot;`java.net.InetSocketAddress.getAddress()`&quot; is null\r\nNot sure if this is related.\r\n","title":"Unable to make field private static final jdk.internal.misc.Unsafe accessible: module java.base does not &quot;opens jdk.internal.misc&quot;","body":"<p>Adding --add-opens <code>java.base/jdk.internal.misc=ALL-UNNAMED</code> to Modify Options under Java - VM options resolved this exception but program than landed on next error</p>\n<p>Cannot invoke &quot;<code>java.net.InetAddress.isAnyLocalAddress()</code>&quot; because the return value of &quot;<code>java.net.InetSocketAddress.getAddress()</code>&quot; is null\nNot sure if this is related.</p>\n"}],"owner":{"account_id":23394250,"reputation":133,"user_id":19037767,"display_name":"Paul Dlc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701761024,"creation_date":1653692861,"question_id":72411800,"body_markdown":"I&#39;m trying read functions in a SOAP Web Service with Spring Tools and then send the result with REST API. So, I used this code\r\n\r\n**Service Interface**\r\n\r\n    package com.example.springbootsoapexample.service;\r\n    \r\n    import org.eclipse.persistence.jaxb.xmlmodel.ObjectFactory;\r\n    \r\n    import jakarta.jws.WebMethod;\r\n    import jakarta.jws.WebParam;\r\n    import jakarta.jws.WebResult;\r\n    import jakarta.jws.WebService;\r\n    import jakarta.jws.soap.SOAPBinding;\r\n    import jakarta.xml.bind.annotation.XmlSeeAlso;\r\n    import jakarta.xml.ws.Action;\r\n    \r\n    @WebService(name = &quot;SOAPDemoSoap&quot;, targetNamespace = &quot;http://tempuri.org&quot;)\r\n    @SOAPBinding(style = SOAPBinding.Style.DOCUMENT)\r\n    @XmlSeeAlso({ ObjectFactory.class })\r\n    public interface IColorService {\r\n    \t@WebMethod\r\n        @WebResult(partName = &quot;parameters&quot;)\r\n        @Action(input = &quot;http://tempuri.org/SOAP.Demo.AddInteger/AddIntegerSoapIn&quot;, \r\n          output = &quot;http://tempuri.org/SOAP.Demo.AddInteger/AddIntegerSoapOut&quot;)\r\n    \tpublic Long sumar(@WebParam(name = &quot;parameters&quot;, partName=&quot;Arg1&quot;) Long arg0, @WebParam(name = &quot;parameters&quot;, partName=&quot;Arg2&quot;) Long arg1);\r\n    }\r\n\r\n**Service Implements**\r\n\r\n    package com.example.springbootsoapexample.service;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import jakarta.xml.ws.Service;\r\n    import jakarta.xml.ws.WebEndpoint;\r\n    import jakarta.xml.ws.WebServiceClient;\r\n    import jakarta.xml.ws.WebServiceException;\r\n    \r\n    @WebServiceClient(\tname = &quot;SOAPDemo&quot;, \r\n    \t\t\t\t\ttargetNamespace = &quot;http://tempuri.org&quot;, \r\n    \t\t\t\t\twsdlLocation = &quot;https://www.crcind.com:443/csp/samples/SOAP.Demo.cls&quot;)\r\n    public class ColorServiceImpl extends Service {\r\n    \r\n        private final static URL COUNTRYSERVICEIMPLSERVICE_WSDL_LOCATION;\r\n        private final static WebServiceException COUNTRYSERVICEIMPLSERVICE_EXCEPTION;\r\n        private final static QName COUNTRYSERVICEIMPLSERVICE_QNAME = \r\n          new QName(&quot;http://tempuri.org&quot;, &quot;SOAPDemo&quot;);\r\n    \r\n        static {\r\n            URL url = null;\r\n            WebServiceException e = null;\r\n            try {\r\n                url = new URL(&quot;https://www.crcind.com:443/csp/samples/SOAP.Demo.cls&quot;);\r\n            } catch (MalformedURLException ex) {\r\n                e = new WebServiceException(ex);\r\n            }\r\n            COUNTRYSERVICEIMPLSERVICE_WSDL_LOCATION = url;\r\n            COUNTRYSERVICEIMPLSERVICE_EXCEPTION = e;\r\n        }\r\n    \r\n        public ColorServiceImpl() {\r\n            super(__getWsdlLocation(), COUNTRYSERVICEIMPLSERVICE_QNAME);\r\n        }\r\n        \r\n        @WebEndpoint(name = &quot;SOAPDemoSoap&quot;)\r\n        public IColorService getColorServiceImpl() {\r\n            return super.getPort(new QName(&quot;http://tempuri.org&quot;, &quot;SOAPDemoSoap&quot;), \r\n            \t\tIColorService.class);\r\n        }\r\n    \r\n        private static URL __getWsdlLocation() {\r\n            if (COUNTRYSERVICEIMPLSERVICE_EXCEPTION != null) {\r\n                throw COUNTRYSERVICEIMPLSERVICE_EXCEPTION;\r\n            }\r\n            return COUNTRYSERVICEIMPLSERVICE_WSDL_LOCATION;\r\n        }\r\n    \r\n    }\r\n\r\n**Rest Controller**\r\n\r\n    package com.example.springbootsoapexample.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.example.springbootsoapexample.service.ColorServiceImpl;\r\n    import com.example.springbootsoapexample.service.IColorService;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ColorRestController {\r\n    \tColorServiceImpl colorImpl = new ColorServiceImpl();\r\n    \tIColorService colorService = colorImpl.getColorServiceImpl();\r\n    }\r\n\r\nWhen the project is trying to run, I have this error.\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;colorRestController&#39; defined in file [D:\\prueba\\spring-boot-soap-example\\target\\classes\\com\\example\\springbootsoapexample\\controller\\ColorRestController.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.springbootsoapexample.controller.ColorRestController]: Constructor threw exception; nested exception is java.lang.ExceptionInInitializerError\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:566) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:928) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:926) ~[spring-context-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n    \tat com.example.springbootsoapexample.SpringBootSoapExampleApplication.main(SpringBootSoapExampleApplication.java:17) ~[classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.springbootsoapexample.controller.ColorRestController]: Constructor threw exception; nested exception is java.lang.ExceptionInInitializerError\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:219) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1299) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \t... 17 common frames omitted\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n    \tat com.sun.xml.ws.model.WrapperBeanGenerator.createRequestWrapperBean(WrapperBeanGenerator.java:274) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.model.RuntimeModeler.getRequestWrapperClass(RuntimeModeler.java:345) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.model.RuntimeModeler.processDocWrappedMethod(RuntimeModeler.java:771) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.model.RuntimeModeler.processMethod(RuntimeModeler.java:701) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.model.RuntimeModeler.processClass(RuntimeModeler.java:461) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.model.RuntimeModeler.buildRuntimeModel(RuntimeModeler.java:290) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:70) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:44) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:28) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:90) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:852) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:869) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:832) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:421) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:390) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:372) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat jakarta.xml.ws.Service.getPort(Service.java:139) ~[jakarta.xml.ws-api-3.0.0.jar:3.0.0]\r\n    \tat com.example.springbootsoapexample.service.ColorServiceImpl.getColorServiceImpl(ColorServiceImpl.java:43) ~[classes/:na]\r\n    \tat com.example.springbootsoapexample.controller.ColorRestController.&lt;init&gt;(ColorRestController.java:13) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:206) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final jdk.internal.misc.Unsafe jdk.internal.misc.Unsafe.theUnsafe accessible: module java.base does not &quot;opens jdk.internal.misc&quot; to unnamed module @740fb309\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n    \tat com.sun.xml.ws.model.Injector$2.run(Injector.java:71) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\r\n    \tat com.sun.xml.ws.model.Injector.&lt;clinit&gt;(Injector.java:66) ~[jaxws-rt-3.0.0.jar:3.0.0]\r\n    \t... 44 common frames omitted\r\n\r\nThe last cause is in the function ***getColorServiceImpl()*** in the Service Implement, but I don&#39;t know why. [This is the WS][1]\r\n\r\n\r\n  [1]: https://www.crcind.com/csp/samples/SOAP.Demo.cls?wsdl","title":"Unable to make field private static final jdk.internal.misc.Unsafe accessible: module java.base does not &quot;opens jdk.internal.misc&quot;","body":"<p>I'm trying read functions in a SOAP Web Service with Spring Tools and then send the result with REST API. So, I used this code</p>\n<p><strong>Service Interface</strong></p>\n<pre><code>package com.example.springbootsoapexample.service;\n\nimport org.eclipse.persistence.jaxb.xmlmodel.ObjectFactory;\n\nimport jakarta.jws.WebMethod;\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebResult;\nimport jakarta.jws.WebService;\nimport jakarta.jws.soap.SOAPBinding;\nimport jakarta.xml.bind.annotation.XmlSeeAlso;\nimport jakarta.xml.ws.Action;\n\n@WebService(name = &quot;SOAPDemoSoap&quot;, targetNamespace = &quot;http://tempuri.org&quot;)\n@SOAPBinding(style = SOAPBinding.Style.DOCUMENT)\n@XmlSeeAlso({ ObjectFactory.class })\npublic interface IColorService {\n    @WebMethod\n    @WebResult(partName = &quot;parameters&quot;)\n    @Action(input = &quot;http://tempuri.org/SOAP.Demo.AddInteger/AddIntegerSoapIn&quot;, \n      output = &quot;http://tempuri.org/SOAP.Demo.AddInteger/AddIntegerSoapOut&quot;)\n    public Long sumar(@WebParam(name = &quot;parameters&quot;, partName=&quot;Arg1&quot;) Long arg0, @WebParam(name = &quot;parameters&quot;, partName=&quot;Arg2&quot;) Long arg1);\n}\n</code></pre>\n<p><strong>Service Implements</strong></p>\n<pre><code>package com.example.springbootsoapexample.service;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport javax.xml.namespace.QName;\n\nimport jakarta.xml.ws.Service;\nimport jakarta.xml.ws.WebEndpoint;\nimport jakarta.xml.ws.WebServiceClient;\nimport jakarta.xml.ws.WebServiceException;\n\n@WebServiceClient(  name = &quot;SOAPDemo&quot;, \n                    targetNamespace = &quot;http://tempuri.org&quot;, \n                    wsdlLocation = &quot;https://www.crcind.com:443/csp/samples/SOAP.Demo.cls&quot;)\npublic class ColorServiceImpl extends Service {\n\n    private final static URL COUNTRYSERVICEIMPLSERVICE_WSDL_LOCATION;\n    private final static WebServiceException COUNTRYSERVICEIMPLSERVICE_EXCEPTION;\n    private final static QName COUNTRYSERVICEIMPLSERVICE_QNAME = \n      new QName(&quot;http://tempuri.org&quot;, &quot;SOAPDemo&quot;);\n\n    static {\n        URL url = null;\n        WebServiceException e = null;\n        try {\n            url = new URL(&quot;https://www.crcind.com:443/csp/samples/SOAP.Demo.cls&quot;);\n        } catch (MalformedURLException ex) {\n            e = new WebServiceException(ex);\n        }\n        COUNTRYSERVICEIMPLSERVICE_WSDL_LOCATION = url;\n        COUNTRYSERVICEIMPLSERVICE_EXCEPTION = e;\n    }\n\n    public ColorServiceImpl() {\n        super(__getWsdlLocation(), COUNTRYSERVICEIMPLSERVICE_QNAME);\n    }\n    \n    @WebEndpoint(name = &quot;SOAPDemoSoap&quot;)\n    public IColorService getColorServiceImpl() {\n        return super.getPort(new QName(&quot;http://tempuri.org&quot;, &quot;SOAPDemoSoap&quot;), \n                IColorService.class);\n    }\n\n    private static URL __getWsdlLocation() {\n        if (COUNTRYSERVICEIMPLSERVICE_EXCEPTION != null) {\n            throw COUNTRYSERVICEIMPLSERVICE_EXCEPTION;\n        }\n        return COUNTRYSERVICEIMPLSERVICE_WSDL_LOCATION;\n    }\n\n}\n</code></pre>\n<p><strong>Rest Controller</strong></p>\n<pre><code>package com.example.springbootsoapexample.controller;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.springbootsoapexample.service.ColorServiceImpl;\nimport com.example.springbootsoapexample.service.IColorService;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ColorRestController {\n    ColorServiceImpl colorImpl = new ColorServiceImpl();\n    IColorService colorService = colorImpl.getColorServiceImpl();\n}\n</code></pre>\n<p>When the project is trying to run, I have this error.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'colorRestController' defined in file [D:\\prueba\\spring-boot-soap-example\\target\\classes\\com\\example\\springbootsoapexample\\controller\\ColorRestController.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.springbootsoapexample.controller.ColorRestController]: Constructor threw exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:566) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:928) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:926) ~[spring-context-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\n    at com.example.springbootsoapexample.SpringBootSoapExampleApplication.main(SpringBootSoapExampleApplication.java:17) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.springbootsoapexample.controller.ColorRestController]: Constructor threw exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:219) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1299) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    ... 17 common frames omitted\nCaused by: java.lang.ExceptionInInitializerError: null\n    at com.sun.xml.ws.model.WrapperBeanGenerator.createRequestWrapperBean(WrapperBeanGenerator.java:274) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.model.RuntimeModeler.getRequestWrapperClass(RuntimeModeler.java:345) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.model.RuntimeModeler.processDocWrappedMethod(RuntimeModeler.java:771) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.model.RuntimeModeler.processMethod(RuntimeModeler.java:701) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.model.RuntimeModeler.processClass(RuntimeModeler.java:461) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.model.RuntimeModeler.buildRuntimeModel(RuntimeModeler.java:290) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:70) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:44) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:28) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:90) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:852) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:869) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:832) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:421) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:390) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:372) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at jakarta.xml.ws.Service.getPort(Service.java:139) ~[jakarta.xml.ws-api-3.0.0.jar:3.0.0]\n    at com.example.springbootsoapexample.service.ColorServiceImpl.getColorServiceImpl(ColorServiceImpl.java:43) ~[classes/:na]\n    at com.example.springbootsoapexample.controller.ColorRestController.&lt;init&gt;(ColorRestController.java:13) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:206) ~[spring-beans-6.0.0-M4.jar:6.0.0-M4]\n    ... 19 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final jdk.internal.misc.Unsafe jdk.internal.misc.Unsafe.theUnsafe accessible: module java.base does not &quot;opens jdk.internal.misc&quot; to unnamed module @740fb309\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n    at com.sun.xml.ws.model.Injector$2.run(Injector.java:71) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\n    at com.sun.xml.ws.model.Injector.&lt;clinit&gt;(Injector.java:66) ~[jaxws-rt-3.0.0.jar:3.0.0]\n    ... 44 common frames omitted\n</code></pre>\n<p>The last cause is in the function <em><strong>getColorServiceImpl()</strong></em> in the Service Implement, but I don't know why. <a href=\"https://www.crcind.com/csp/samples/SOAP.Demo.cls?wsdl\" rel=\"nofollow noreferrer\">This is the WS</a></p>\n"},{"tags":["java","quarkus","distributed-tracing"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1701760321,"post_id":77602265,"comment_id":136812349,"body_markdown":"https://quarkus.io/guides/opentelemetry","body":"<a href=\"https://quarkus.io/guides/opentelemetry\" rel=\"nofollow noreferrer\">quarkus.io/guides/opentelemetry</a>"}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701760926,"creation_date":1701760537,"answer_id":77604408,"question_id":77602265,"body_markdown":"- You can attempt to inject the `HttpServerRequest` bean.\r\n\r\n```java\r\nimport io.vertx.core.http.HttpServerRequest;\r\nimport jakarta.enterprise.context.RequestScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.core.Context;\r\nimport org.jboss.logging.Logger;\r\n\r\n@RequestScoped\r\npublic class FooServiceImpl implements FooService {\r\n\r\n  @Inject Logger logger;\r\n  @Context HttpServerRequest httpRequest;\r\n\r\n  @Override\r\n  public String foo() {\r\n    httpRequest.headers().forEach((key, value) -&gt; {\r\n      logger.debug(&quot;Header: &quot; + key + &quot; = &quot; + value);\r\n    });\r\n    return &quot;foo&quot;;\r\n  }\r\n}\r\n```\r\n\r\n- Another approach is to create a filter class that implements `ContainerRequestFilter`.\r\n\r\n```java\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.container.ContainerRequestContext;\r\nimport jakarta.ws.rs.container.ContainerRequestFilter;\r\nimport java.io.IOException;\r\n\r\nimport jakarta.ws.rs.ext.Provider;\r\nimport org.jboss.logging.Logger;\r\n\r\n@Provider\r\npublic class RequestFilter implements ContainerRequestFilter {\r\n  @Inject Logger logger;\r\n\r\n  public RequestFilter() {}\r\n\r\n  public void filter(ContainerRequestContext containerRequestContext) throws IOException {\r\n    containerRequestContext\r\n        .getHeaders()\r\n        .forEach(\r\n            (key, value) -&gt; {\r\n              logger.debug(&quot;Header: &quot; + key + &quot; = &quot; + value);\r\n            });\r\n  }\r\n}\r\n\r\n```\r\n\r\nhttps://quarkus.io/guides/resteasy-reactive#request-or-response-filters","title":"how to log with request context information in Quarkus","body":"<ul>\n<li>You can attempt to inject the <code>HttpServerRequest</code> bean.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import io.vertx.core.http.HttpServerRequest;\nimport jakarta.enterprise.context.RequestScoped;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.core.Context;\nimport org.jboss.logging.Logger;\n\n@RequestScoped\npublic class FooServiceImpl implements FooService {\n\n  @Inject Logger logger;\n  @Context HttpServerRequest httpRequest;\n\n  @Override\n  public String foo() {\n    httpRequest.headers().forEach((key, value) -&gt; {\n      logger.debug(&quot;Header: &quot; + key + &quot; = &quot; + value);\n    });\n    return &quot;foo&quot;;\n  }\n}\n</code></pre>\n<ul>\n<li>Another approach is to create a filter class that implements <code>ContainerRequestFilter</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.inject.Inject;\nimport jakarta.ws.rs.container.ContainerRequestContext;\nimport jakarta.ws.rs.container.ContainerRequestFilter;\nimport java.io.IOException;\n\nimport jakarta.ws.rs.ext.Provider;\nimport org.jboss.logging.Logger;\n\n@Provider\npublic class RequestFilter implements ContainerRequestFilter {\n  @Inject Logger logger;\n\n  public RequestFilter() {}\n\n  public void filter(ContainerRequestContext containerRequestContext) throws IOException {\n    containerRequestContext\n        .getHeaders()\n        .forEach(\n            (key, value) -&gt; {\n              logger.debug(&quot;Header: &quot; + key + &quot; = &quot; + value);\n            });\n  }\n}\n\n</code></pre>\n<p><a href=\"https://quarkus.io/guides/resteasy-reactive#request-or-response-filters\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/resteasy-reactive#request-or-response-filters</a></p>\n"}],"owner":{"account_id":2576016,"reputation":2874,"user_id":2233683,"accept_rate":75,"display_name":"GeauxEric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701760926,"creation_date":1701720214,"question_id":77602265,"body_markdown":"I have a Quarkus service, and would like to log with DataDog trace id for distributed tracing. The trace id is from the request header and differs per request.\r\n\r\nIn the current setup, I have singleton logger in an `@ApplicationScoped` bean, for example,\r\n```\r\n@ApplicationScoped\r\npublic class FooServiceImpl implements FooService {\r\n\r\n  private static final Logger LOG = LoggerFactory.getLogger(FooServiceImpl.class);\r\n\r\n  # error occurred, LOG.error(&quot;xxx&quot;)\r\n```\r\n\r\nHow can I inject the request header and use it to enrich my log message?\r\n","title":"how to log with request context information in Quarkus","body":"<p>I have a Quarkus service, and would like to log with DataDog trace id for distributed tracing. The trace id is from the request header and differs per request.</p>\n<p>In the current setup, I have singleton logger in an <code>@ApplicationScoped</code> bean, for example,</p>\n<pre><code>@ApplicationScoped\npublic class FooServiceImpl implements FooService {\n\n  private static final Logger LOG = LoggerFactory.getLogger(FooServiceImpl.class);\n\n  # error occurred, LOG.error(&quot;xxx&quot;)\n</code></pre>\n<p>How can I inject the request header and use it to enrich my log message?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701763068,"post_id":77604397,"comment_id":136812748,"body_markdown":"`jouerPicoFermiBagels()` has a comment _Appelle la m&#233;thode pour jouer une partie_ before calling `jouerPartie()` - but `jouerPartie()` actually lets you play multiple parties. IMHO the option to play multiple parties should be part of `jouerPicoFermiBagels()` instead of `jouerPartie()`.","body":"<code>jouerPicoFermiBagels()</code> has a comment <i>Appelle la m&#233;thode pour jouer une partie</i> before calling <code>jouerPartie()</code> - but <code>jouerPartie()</code> actually lets you play multiple parties. IMHO the option to play multiple parties should be part of <code>jouerPicoFermiBagels()</code> instead of <code>jouerPartie()</code>."}],"owner":{"account_id":30069205,"reputation":1,"user_id":23043545,"display_name":"b_m"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701770931,"answer_count":0,"score":-2,"last_activity_date":1701760393,"creation_date":1701760393,"question_id":77604397,"body_markdown":"I have this program that is basically a guessing game.\r\n\r\nwhe i click the first option I play the game.\r\n\r\nI can play multiple sessions of the game by clicking option 1 once.\r\n\r\noption 2 has to display each session of the game with the results.\r\n\r\na result is only added if i go back to the main menu between each session. if i play multiple sessions by clicking on option 1 ONCE. only the last session will be displayed.\r\n\r\ni dont know how to fix this  (i am not allowed to use lists, global variables or dinamic arrays)\r\n\r\ni tried a lot of different ways to structure the code but nothing changed\r\nimport java.util.Arrays;\r\n\r\npublic class JouerPFB {\r\n\r\n    private static PicoFermiBagels[] parties = new PicoFermiBagels[2];\r\n\r\n    private static void afficherMenu() {\r\n        System.out.println(&quot;----\\nMENU\\n----&quot;);\r\n        System.out.println(&quot;1. JOUER A PICO FERMI BAGELS&quot;);\r\n        System.out.println(&quot;2. AFFICHER STATISTIQUES&quot;);\r\n        System.out.println(&quot;3. SUPPRIMER PARTIES ABANDONNEES&quot;);\r\n        System.out.println(&quot;4. QUITTER&quot;);\r\n    }\r\n\r\n    private static String validerMotif(String msgSol) {\r\n        String motif;\r\n\r\n        System.out.print(msgSol);\r\n        motif = Clavier.lireString();\r\n\r\n        while (!motif.equals(&quot;0&quot;) &amp;&amp; (motif.length() != 3 || !motif.matches(&quot;\\\\d{3}&quot;))) {\r\n            System.out.println(&quot;Motif invalide. Veuillez entrer un motif de trois chiffres.&quot;);\r\n            System.out.print(msgSol);\r\n            motif = Clavier.lireString();\r\n        }\r\n\r\n        return motif;\r\n    }\r\n\r\n    private static int jouerPicoFermiBagels(int nombreTotalParties) {\r\n    // Affiche un message d&#39;en-t&#234;te pour le jeu Pico Fermi Bagels\r\n    System.out.println(&quot;\\n*********************\\n* PICO FERMI BAGELS *\\n*********************\\n&quot;);\r\n\r\n    // Obtient l&#39;index pour la nouvelle partie dans le tableau de jeux\r\n    int index = nombreTotalParties;\r\n\r\n    // V&#233;rifie si le tableau de jeux est plein, si oui, agrandissez-le\r\n    if (index == parties.length) {\r\n        parties = Arrays.copyOf(parties, parties.length * 2);\r\n    }\r\n\r\n    // Initialise une nouvelle instance de PicoFermiBagels avec un motif g&#233;n&#233;r&#233; al&#233;atoirement\r\n    // et un nombre d&#39;essais maximum valid&#233; par l&#39;utilisateur\r\n    parties[index] = new PicoFermiBagels(JeuxUtils.genererMotifPFB(), validerEntier(&quot;Entrez le nombre d&#39;essais maximum (3 - 20) : \\n&quot;, 3, 20));\r\n\r\n    // Appelle la m&#233;thode pour jouer une partie\r\n    jouerPartie(parties, index);\r\n\r\n    // Retourne le nombre total de parties, incr&#233;ment&#233; de 1\r\n    return nombreTotalParties + 1;\r\n}\r\n\r\n\r\n    private static void jouerPartie(PicoFermiBagels[] parties, int index) {\r\n    boolean abandonnee = false;\r\n    boolean continuerPartie;\r\n\r\n    do {\r\n        int nombreEssais = 0;\r\n        abandonnee = false;\r\n        continuerPartie = true;\r\n        boolean sortieBoucleInterne = false;\r\n\r\n        // Boucle principale de la partie\r\n        while (!parties[index].estPartieTerminee() &amp;&amp; continuerPartie &amp;&amp; !sortieBoucleInterne) {\r\n            nombreEssais++;\r\n            String essai;\r\n\r\n            // Si c&#39;est le premier essai, demandez simplement &#224; l&#39;utilisateur d&#39;entrer un motif\r\n            if (nombreEssais == 1) {\r\n                System.out.print(&quot;ESSAI NO &quot; + nombreEssais + &quot; =&gt; Entrez un motif (0 pour abandonner) : \\n&quot;);\r\n                essai = Clavier.lireString();\r\n            } else {\r\n                // Sinon, utilisez la m&#233;thode validerMotif pour obtenir un motif valide\r\n                essai = validerMotif(&quot;ESSAI NO &quot; + nombreEssais + &quot; =&gt; Entrez un motif (0 pour abandonner) : \\n&quot;);\r\n            }\r\n\r\n            // G&#232;re la saisie de l&#39;utilisateur et met &#224; jour la variable abandonnee\r\n            abandonnee = gererSaisieUtilisateur(essai, parties, index, nombreEssais, abandonnee);\r\n\r\n            // Si la partie est abandonn&#233;e ou termin&#233;e, v&#233;rifiez si le joueur veut continuer\r\n            if (abandonnee &amp;&amp; (essai.equals(&quot;0&quot;) || parties[index].estPartieTerminee())) {\r\n                continuerPartie = demanderNouvellePartie();\r\n\r\n                // Si le joueur veut continuer, initialisez une nouvelle partie\r\n                if (continuerPartie) {\r\n                    parties[index] = new PicoFermiBagels(JeuxUtils.genererMotifPFB(), validerEntier(&quot;Entrez le nombre d&#39;essais maximum (3 - 20) : \\n&quot;, 3, 20));\r\n                    sortieBoucleInterne = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Si la partie n&#39;est pas abandonn&#233;e et que le joueur veut continuer, affichez les r&#233;sultats\r\n        if (continuerPartie &amp;&amp; !abandonnee) {\r\n            System.out.println(parties[index].toString());\r\n\r\n            // Demandez au joueur s&#39;il veut jouer une nouvelle partie\r\n            continuerPartie = demanderNouvellePartie();\r\n\r\n            // Si le joueur veut continuer, initialisez une nouvelle partie\r\n            if (continuerPartie) {\r\n                parties[index] = new PicoFermiBagels(JeuxUtils.genererMotifPFB(), validerEntier(&quot;Entrez le nombre d&#39;essais maximum (3 - 20) : \\n&quot;, 3, 20));\r\n            }\r\n        }\r\n\r\n    } while (continuerPartie);\r\n}\r\n\r\n\r\n    private static boolean demanderNouvellePartie() {\r\n        String reponse = Validation.validerRepDeuxChoix(&quot;Voulez-vous jouer encore (oui ou non) : \\n&quot;,\r\n                &quot;\\nERREUR, vous devez r&#233;pondre par oui ou par non... Recommencez !&quot;, &quot;oui&quot;, &quot;non&quot;);\r\n        return reponse.equalsIgnoreCase(&quot;oui&quot;);\r\n    }\r\n\r\n    private static boolean gererSaisieUtilisateur(String essai, PicoFermiBagels[] parties, int index, int nombreEssais, boolean abandonnee) {\r\n        if (essai.equals(&quot;0&quot;)) {\r\n            abandonnee = true;\r\n            System.out.println(&quot;=&gt; Partie abandonn&#233;e &lt;=\\n&quot;);\r\n        } else if (essai.length() != 3 || !essai.matches(&quot;\\\\d{3}&quot;)) {\r\n            System.out.println(&quot;Motif invalide. Veuillez entrer un motif de trois chiffres.&quot;);\r\n        } else {\r\n            parties[index].faireUnEssai(essai);\r\n            System.out.println(parties[index]);\r\n        }\r\n        return abandonnee;\r\n    }\r\n\r\n    private static void afficherStatistiques(PicoFermiBagels[] parties, int nombreTotalParties) {\r\n        System.out.println(&quot;\\n****************\\n* STATISTIQUES *\\n****************&quot;);\r\n        System.out.printf(&quot;%-8s | %-17s | %-11s\\n&quot;, &quot;ID JEU&quot;, &quot;NBR ESSAIS / MAX&quot;, &quot;SCORE (%)&quot;);\r\n        System.out.println(&quot;-------------------------------------&quot;);\r\n\r\n        for (int i = 0; i &lt; nombreTotalParties; i++) {\r\n            PicoFermiBagels partie = parties[i];\r\n            if (partie != null) {\r\n                System.out.printf(&quot;%-7d | %-15d/%-3d |&quot;, partie.getIdJeu(), partie.getNbrEssais(), partie.getNbrEssaisMax());\r\n\r\n                if (partie.estPartieTerminee()) {\r\n                    if (partie.isPartieAbandonnee()) {\r\n                        System.out.printf(&quot;%-8s\\n&quot;, &quot;ABANDON&quot;);\r\n                    } else {\r\n                        System.out.printf(&quot;%-10.2f\\n&quot;, partie.getScore());\r\n                    }\r\n                } else {\r\n                    System.out.println();\r\n                }\r\n            }\r\n        }\r\n\r\n        double scoreMoyen = calculerScoreMoyen(parties, nombreTotalParties);\r\n        System.out.printf(&quot;\\nSCORE MOYEN : %.2f %%\\n&quot;, scoreMoyen);\r\n\r\n        Clavier.lireFinLigne();\r\n    }\r\n\r\n    private static double calculerScoreMoyen(PicoFermiBagels[] parties, int nombreTotalParties) {\r\n        double sommeScores = 0;\r\n        int nombrePartiesTerminees = 0;\r\n\r\n        for (int i = 0; i &lt; nombreTotalParties; i++) {\r\n            if (parties[i] != null &amp;&amp; parties[i].estPartieTerminee() &amp;&amp; !parties[i].isPartieAbandonnee()) {\r\n                sommeScores += parties[i].getScore();\r\n                nombrePartiesTerminees++;\r\n            }\r\n        }\r\n\r\n        return (nombrePartiesTerminees &gt; 0) ? sommeScores / nombrePartiesTerminees : 0;\r\n    }\r\n\r\n    private static void supprimerPartiesAbandonnees(int nombreTotalParties) {\r\n        int partiesAbandonneesSupprimees = 0;\r\n\r\n        for (int i = 0; i &lt; getNombreParties(); i++) {\r\n            if (parties[i].isPartieAbandonnee()) {\r\n                parties[i] = null;\r\n                partiesAbandonneesSupprimees++;\r\n            }\r\n        }\r\n\r\n        System.out.printf(&quot;%d parties abandonn&#233;es supprim&#233;es.\\n&quot;, partiesAbandonneesSupprimees);\r\n    }\r\n\r\n    private static int getNombreParties() {\r\n        return (int) Arrays.stream(parties).filter(p -&gt; p != null).count();\r\n    }\r\n\r\n    private static int validerEntier(String message, int min, int max) {\r\n        int valeur;\r\n\r\n        do {\r\n            System.out.print(message);\r\n            valeur = Clavier.lireInt();\r\n\r\n            if (valeur &lt; min || valeur &gt; max) {\r\n                System.out.println(&quot;ERREUR, vous devez entrer un nombre entre &quot; + min + &quot; et &quot; + max + &quot;... Recommencez !&quot;);\r\n            }\r\n\r\n        } while (valeur &lt; min || valeur &gt; max);\r\n\r\n        return valeur;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Ce logiciel permet de jouer &#224; PICO FERMI BAGELS.\\n&quot;);\r\n\r\n        int nombreTotalParties = 0;\r\n        boolean quitter = false;\r\n\r\n        while (!quitter) {\r\n            afficherMenu();\r\n            char choix = Validation.validerCaractere(&quot;\\nEntrez votre choix : &quot;, &quot;Erreur, entrez une option valide.&quot;, &#39;1&#39;, &#39;4&#39;);\r\n\r\n            switch (choix) {\r\n                case &#39;1&#39;:\r\n                    nombreTotalParties = jouerPicoFermiBagels(nombreTotalParties);\r\n                    break;\r\n                case &#39;2&#39;:\r\n                    afficherStatistiques(parties, nombreTotalParties);\r\n                    break;\r\n                case &#39;3&#39;:\r\n                    supprimerPartiesAbandonnees(nombreTotalParties);\r\n                    break;\r\n                case &#39;4&#39;:\r\n                    quitter = true;\r\n                    System.out.println(&quot;AUREVOIR !&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"My tab doesnt print all of the items I want","body":"<p>I have this program that is basically a guessing game.</p>\n<p>whe i click the first option I play the game.</p>\n<p>I can play multiple sessions of the game by clicking option 1 once.</p>\n<p>option 2 has to display each session of the game with the results.</p>\n<p>a result is only added if i go back to the main menu between each session. if i play multiple sessions by clicking on option 1 ONCE. only the last session will be displayed.</p>\n<p>i dont know how to fix this  (i am not allowed to use lists, global variables or dinamic arrays)</p>\n<p>i tried a lot of different ways to structure the code but nothing changed\nimport java.util.Arrays;</p>\n<p>public class JouerPFB {</p>\n<pre><code>private static PicoFermiBagels[] parties = new PicoFermiBagels[2];\n\nprivate static void afficherMenu() {\n    System.out.println(&quot;----\\nMENU\\n----&quot;);\n    System.out.println(&quot;1. JOUER A PICO FERMI BAGELS&quot;);\n    System.out.println(&quot;2. AFFICHER STATISTIQUES&quot;);\n    System.out.println(&quot;3. SUPPRIMER PARTIES ABANDONNEES&quot;);\n    System.out.println(&quot;4. QUITTER&quot;);\n}\n\nprivate static String validerMotif(String msgSol) {\n    String motif;\n\n    System.out.print(msgSol);\n    motif = Clavier.lireString();\n\n    while (!motif.equals(&quot;0&quot;) &amp;&amp; (motif.length() != 3 || !motif.matches(&quot;\\\\d{3}&quot;))) {\n        System.out.println(&quot;Motif invalide. Veuillez entrer un motif de trois chiffres.&quot;);\n        System.out.print(msgSol);\n        motif = Clavier.lireString();\n    }\n\n    return motif;\n}\n\nprivate static int jouerPicoFermiBagels(int nombreTotalParties) {\n// Affiche un message d'en-tête pour le jeu Pico Fermi Bagels\nSystem.out.println(&quot;\\n*********************\\n* PICO FERMI BAGELS *\\n*********************\\n&quot;);\n\n// Obtient l'index pour la nouvelle partie dans le tableau de jeux\nint index = nombreTotalParties;\n\n// Vérifie si le tableau de jeux est plein, si oui, agrandissez-le\nif (index == parties.length) {\n    parties = Arrays.copyOf(parties, parties.length * 2);\n}\n\n// Initialise une nouvelle instance de PicoFermiBagels avec un motif généré aléatoirement\n// et un nombre d'essais maximum validé par l'utilisateur\nparties[index] = new PicoFermiBagels(JeuxUtils.genererMotifPFB(), validerEntier(&quot;Entrez le nombre d'essais maximum (3 - 20) : \\n&quot;, 3, 20));\n\n// Appelle la méthode pour jouer une partie\njouerPartie(parties, index);\n\n// Retourne le nombre total de parties, incrémenté de 1\nreturn nombreTotalParties + 1;\n</code></pre>\n<p>}</p>\n<pre><code>private static void jouerPartie(PicoFermiBagels[] parties, int index) {\nboolean abandonnee = false;\nboolean continuerPartie;\n\ndo {\n    int nombreEssais = 0;\n    abandonnee = false;\n    continuerPartie = true;\n    boolean sortieBoucleInterne = false;\n\n    // Boucle principale de la partie\n    while (!parties[index].estPartieTerminee() &amp;&amp; continuerPartie &amp;&amp; !sortieBoucleInterne) {\n        nombreEssais++;\n        String essai;\n\n        // Si c'est le premier essai, demandez simplement à l'utilisateur d'entrer un motif\n        if (nombreEssais == 1) {\n            System.out.print(&quot;ESSAI NO &quot; + nombreEssais + &quot; =&gt; Entrez un motif (0 pour abandonner) : \\n&quot;);\n            essai = Clavier.lireString();\n        } else {\n            // Sinon, utilisez la méthode validerMotif pour obtenir un motif valide\n            essai = validerMotif(&quot;ESSAI NO &quot; + nombreEssais + &quot; =&gt; Entrez un motif (0 pour abandonner) : \\n&quot;);\n        }\n\n        // Gère la saisie de l'utilisateur et met à jour la variable abandonnee\n        abandonnee = gererSaisieUtilisateur(essai, parties, index, nombreEssais, abandonnee);\n\n        // Si la partie est abandonnée ou terminée, vérifiez si le joueur veut continuer\n        if (abandonnee &amp;&amp; (essai.equals(&quot;0&quot;) || parties[index].estPartieTerminee())) {\n            continuerPartie = demanderNouvellePartie();\n\n            // Si le joueur veut continuer, initialisez une nouvelle partie\n            if (continuerPartie) {\n                parties[index] = new PicoFermiBagels(JeuxUtils.genererMotifPFB(), validerEntier(&quot;Entrez le nombre d'essais maximum (3 - 20) : \\n&quot;, 3, 20));\n                sortieBoucleInterne = true;\n            }\n        }\n    }\n\n    // Si la partie n'est pas abandonnée et que le joueur veut continuer, affichez les résultats\n    if (continuerPartie &amp;&amp; !abandonnee) {\n        System.out.println(parties[index].toString());\n\n        // Demandez au joueur s'il veut jouer une nouvelle partie\n        continuerPartie = demanderNouvellePartie();\n\n        // Si le joueur veut continuer, initialisez une nouvelle partie\n        if (continuerPartie) {\n            parties[index] = new PicoFermiBagels(JeuxUtils.genererMotifPFB(), validerEntier(&quot;Entrez le nombre d'essais maximum (3 - 20) : \\n&quot;, 3, 20));\n        }\n    }\n\n} while (continuerPartie);\n</code></pre>\n<p>}</p>\n<pre><code>private static boolean demanderNouvellePartie() {\n    String reponse = Validation.validerRepDeuxChoix(&quot;Voulez-vous jouer encore (oui ou non) : \\n&quot;,\n            &quot;\\nERREUR, vous devez répondre par oui ou par non... Recommencez !&quot;, &quot;oui&quot;, &quot;non&quot;);\n    return reponse.equalsIgnoreCase(&quot;oui&quot;);\n}\n\nprivate static boolean gererSaisieUtilisateur(String essai, PicoFermiBagels[] parties, int index, int nombreEssais, boolean abandonnee) {\n    if (essai.equals(&quot;0&quot;)) {\n        abandonnee = true;\n        System.out.println(&quot;=&gt; Partie abandonnée &lt;=\\n&quot;);\n    } else if (essai.length() != 3 || !essai.matches(&quot;\\\\d{3}&quot;)) {\n        System.out.println(&quot;Motif invalide. Veuillez entrer un motif de trois chiffres.&quot;);\n    } else {\n        parties[index].faireUnEssai(essai);\n        System.out.println(parties[index]);\n    }\n    return abandonnee;\n}\n\nprivate static void afficherStatistiques(PicoFermiBagels[] parties, int nombreTotalParties) {\n    System.out.println(&quot;\\n****************\\n* STATISTIQUES *\\n****************&quot;);\n    System.out.printf(&quot;%-8s | %-17s | %-11s\\n&quot;, &quot;ID JEU&quot;, &quot;NBR ESSAIS / MAX&quot;, &quot;SCORE (%)&quot;);\n    System.out.println(&quot;-------------------------------------&quot;);\n\n    for (int i = 0; i &lt; nombreTotalParties; i++) {\n        PicoFermiBagels partie = parties[i];\n        if (partie != null) {\n            System.out.printf(&quot;%-7d | %-15d/%-3d |&quot;, partie.getIdJeu(), partie.getNbrEssais(), partie.getNbrEssaisMax());\n\n            if (partie.estPartieTerminee()) {\n                if (partie.isPartieAbandonnee()) {\n                    System.out.printf(&quot;%-8s\\n&quot;, &quot;ABANDON&quot;);\n                } else {\n                    System.out.printf(&quot;%-10.2f\\n&quot;, partie.getScore());\n                }\n            } else {\n                System.out.println();\n            }\n        }\n    }\n\n    double scoreMoyen = calculerScoreMoyen(parties, nombreTotalParties);\n    System.out.printf(&quot;\\nSCORE MOYEN : %.2f %%\\n&quot;, scoreMoyen);\n\n    Clavier.lireFinLigne();\n}\n\nprivate static double calculerScoreMoyen(PicoFermiBagels[] parties, int nombreTotalParties) {\n    double sommeScores = 0;\n    int nombrePartiesTerminees = 0;\n\n    for (int i = 0; i &lt; nombreTotalParties; i++) {\n        if (parties[i] != null &amp;&amp; parties[i].estPartieTerminee() &amp;&amp; !parties[i].isPartieAbandonnee()) {\n            sommeScores += parties[i].getScore();\n            nombrePartiesTerminees++;\n        }\n    }\n\n    return (nombrePartiesTerminees &gt; 0) ? sommeScores / nombrePartiesTerminees : 0;\n}\n\nprivate static void supprimerPartiesAbandonnees(int nombreTotalParties) {\n    int partiesAbandonneesSupprimees = 0;\n\n    for (int i = 0; i &lt; getNombreParties(); i++) {\n        if (parties[i].isPartieAbandonnee()) {\n            parties[i] = null;\n            partiesAbandonneesSupprimees++;\n        }\n    }\n\n    System.out.printf(&quot;%d parties abandonnées supprimées.\\n&quot;, partiesAbandonneesSupprimees);\n}\n\nprivate static int getNombreParties() {\n    return (int) Arrays.stream(parties).filter(p -&gt; p != null).count();\n}\n\nprivate static int validerEntier(String message, int min, int max) {\n    int valeur;\n\n    do {\n        System.out.print(message);\n        valeur = Clavier.lireInt();\n\n        if (valeur &lt; min || valeur &gt; max) {\n            System.out.println(&quot;ERREUR, vous devez entrer un nombre entre &quot; + min + &quot; et &quot; + max + &quot;... Recommencez !&quot;);\n        }\n\n    } while (valeur &lt; min || valeur &gt; max);\n\n    return valeur;\n}\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Ce logiciel permet de jouer à PICO FERMI BAGELS.\\n&quot;);\n\n    int nombreTotalParties = 0;\n    boolean quitter = false;\n\n    while (!quitter) {\n        afficherMenu();\n        char choix = Validation.validerCaractere(&quot;\\nEntrez votre choix : &quot;, &quot;Erreur, entrez une option valide.&quot;, '1', '4');\n\n        switch (choix) {\n            case '1':\n                nombreTotalParties = jouerPicoFermiBagels(nombreTotalParties);\n                break;\n            case '2':\n                afficherStatistiques(parties, nombreTotalParties);\n                break;\n            case '3':\n                supprimerPartiesAbandonnees(nombreTotalParties);\n                break;\n            case '4':\n                quitter = true;\n                System.out.println(&quot;AUREVOIR !&quot;);\n                break;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":302854,"reputation":4422,"user_id":611446,"accept_rate":82,"display_name":"Sasikumar Murugesan"},"score":0,"creation_date":1513054895,"post_id":47765360,"comment_id":82492455,"body_markdown":"post your sample code so that we can find the issue with your code","body":"post your sample code so that we can find the issue with your code"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1513055094,"post_id":47765360,"comment_id":82492502,"body_markdown":"The problem is that the compiled version of `FileCounter` is not where Tomcat can find it.","body":"The problem is that the compiled version of <code>FileCounter</code> is not where Tomcat can find it."}],"answers":[{"tags":[],"owner":{"account_id":4598824,"reputation":3087,"user_id":3730154,"display_name":"websky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688625115,"creation_date":1613030179,"answer_id":66150753,"question_id":47765360,"body_markdown":"In this case, check the dependencies in the pom.xml file. You may be trying to use too new one for JVM or Server. \r\n\r\nfor example\r\nJVM 1.8\r\nTomcat 8.5\r\n\r\nUsing jackson version 2.12.1 will cause this bug.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut with version 2.9.4 there won&#39;t be a problem\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever, Good Practice says: Use the latest stable versions whenever possible. So maybe Upgrade server and JVM.\r\n","title":"Tomcat: The server encountered an unexpected condition that prevented it from fulfilling the request","body":"<p>In this case, check the dependencies in the pom.xml file. You may be trying to use too new one for JVM or Server.</p>\n<p>for example\nJVM 1.8\nTomcat 8.5</p>\n<p>Using jackson version 2.12.1 will cause this bug.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But with version 2.9.4 there won't be a problem</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.9.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, Good Practice says: Use the latest stable versions whenever possible. So maybe Upgrade server and JVM.</p>\n"}],"owner":{"display_name":"user7694262"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9040,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701759960,"creation_date":1513052859,"question_id":47765360,"body_markdown":"&lt;!-- What are you trying to accomplish? (Please include sample data.) --&gt;\r\nI had written a program that counts th times i visited the site. When i press run button there opens new window with this stack trace: \r\n[![my stack trace][1]][1]\r\n\r\nI dont know what to do, beacause i am a newbie for tomcat. Im using Eclipse and tomcat 8.5. I also provide my project tree and web.xml\r\n\r\n[![web.xml][2]][2]\r\n[![project tree][3]][3]\r\n\r\nI hope we`ll find the answer, because i want to continue learning, and for now i stuck on this. \r\n&lt;!-- What is the actual result you get? (Please include any errors.) --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1dijE.jpg\r\n  [2]: https://i.stack.imgur.com/LqF9s.jpg\r\n  [3]: https://i.stack.imgur.com/OmzAK.jpg","title":"Tomcat: The server encountered an unexpected condition that prevented it from fulfilling the request","body":"<p>\nI had written a program that counts th times i visited the site. When i press run button there opens new window with this stack trace: \n<a href=\"https://i.stack.imgur.com/1dijE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1dijE.jpg\" alt=\"my stack trace\"></a></p>\n\n<p>I dont know what to do, beacause i am a newbie for tomcat. Im using Eclipse and tomcat 8.5. I also provide my project tree and web.xml</p>\n\n<p><a href=\"https://i.stack.imgur.com/LqF9s.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LqF9s.jpg\" alt=\"web.xml\"></a>\n<a href=\"https://i.stack.imgur.com/OmzAK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmzAK.jpg\" alt=\"project tree\"></a></p>\n\n<p>I hope we`ll find the answer, because i want to continue learning, and for now i stuck on this. \n</p>\n"},{"tags":["java","date","datetime","timestamp"],"comments":[{"owner":{"account_id":5124438,"reputation":2515,"user_id":4107038,"accept_rate":44,"display_name":"Rajat"},"score":0,"creation_date":1544593275,"post_id":23068676,"comment_id":94326320,"body_markdown":"preparedStatement.setTimestamp(1, new Timestamp(System.currentTimeMillis()));","body":"preparedStatement.setTimestamp(1, new Timestamp(System.currentTimeMillis()));"},{"owner":{"account_id":8643622,"reputation":6348,"user_id":6471538,"display_name":"Robert Columbia"},"score":0,"creation_date":1545669549,"post_id":23068676,"comment_id":94674602,"body_markdown":"What error are you getting?","body":"What error are you getting?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1545681690,"post_id":23068676,"comment_id":94677396,"body_markdown":"FYI, the terribly troublesome old date-time classes such as `SimpleDateFormat` and `java.sql.Timestamp` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <code>SimpleDateFormat</code> and <code>java.sql.Timestamp</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":2,"up_vote_count":269,"is_accepted":true,"score":267,"last_activity_date":1416931045,"creation_date":1397503998,"answer_id":23068695,"question_id":23068676,"body_markdown":"Replace \r\n\r\n    new Timestamp();\r\n\r\nwith\r\n\r\n    new java.util.Date()\r\n\r\n\r\nbecause there is no default constructor for [`Timestamp`][1], or you can do it with the method:\r\n\r\n    new Timestamp(System.currentTimeMillis());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Timestamp.html","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>Replace </p>\n\n<pre><code>new Timestamp();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>new java.util.Date()\n</code></pre>\n\n<p>because there is no default constructor for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Timestamp.html\"><code>Timestamp</code></a>, or you can do it with the method:</p>\n\n<pre><code>new Timestamp(System.currentTimeMillis());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"down_vote_count":1,"up_vote_count":234,"is_accepted":false,"score":233,"last_activity_date":1652878558,"creation_date":1397504087,"answer_id":23068721,"question_id":23068676,"body_markdown":"Use `java.util.Date` class instead of Timestamp.\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\r\n\r\nThis will get you the current date in the format specified.\r\n\r\n","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>Use <code>java.util.Date</code> class instead of Timestamp.</p>\n<pre><code>String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\n</code></pre>\n<p>This will get you the current date in the format specified.</p>\n"},{"tags":[],"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"down_vote_count":3,"up_vote_count":35,"is_accepted":false,"score":32,"last_activity_date":1397504169,"creation_date":1397504169,"answer_id":23068748,"question_id":23068676,"body_markdown":"You can make use of java.util.Date instead of Timestamp  :\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date());\r\n\r\n","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>You can make use of java.util.Date instead of Timestamp  :</p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"yyyy.MM.dd.HH.mm.ss\").format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3787296,"reputation":4100,"user_id":3144836,"accept_rate":100,"display_name":"user3144836"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456192840,"creation_date":1449073398,"answer_id":34047753,"question_id":23068676,"body_markdown":"A more appropriate approach is to specify a Locale region as a parameter in the constructor. The example below uses a US Locale region. Date formatting is locale-sensitive and uses the Locale to tailor information relative to the customs and conventions of the user&#39;s region [Locale (Java Platform SE 7)][1]\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;, Locale.US).format(new Date());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>A more appropriate approach is to specify a Locale region as a parameter in the constructor. The example below uses a US Locale region. Date formatting is locale-sensitive and uses the Locale to tailor information relative to the customs and conventions of the user's region <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\" rel=\"noreferrer\">Locale (Java Platform SE 7)</a></p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"yyyy.MM.dd.HH.mm.ss\", Locale.US).format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":101,"is_accepted":false,"score":100,"last_activity_date":1592804822,"creation_date":1455954605,"answer_id":35520573,"question_id":23068676,"body_markdown":"# tl;dr\r\n\r\nUse only modern *java.time* classes. Never use the terrible legacy classes such as `SimpleDateFormat`, `Date`, or `java.sql.Timestamp`. \r\n\r\n    ZonedDateTime                    // Represent a moment as perceived in the wall-clock time used by the people of a particular region ( a time zone).\r\n    .now(                            // Capture the current moment.\r\n        ZoneId.of( &quot;Africa/Tunis&quot; )  // Specify the time zone using proper Continent/Region name. Never use 3-4 character pseudo-zones such as PDT, EST, IST. \r\n    )                                // Returns a `ZonedDateTime` object. \r\n    .format(                         // Generate a `String` object containing text representing the value of our date-time object. \r\n        DateTimeFormatter.ofPattern( &quot;uuuu.MM.dd.HH.mm.ss&quot; )\r\n    )                                // Returns a `String`. \r\n\r\nOr use the [JVM][1]’s current default time zone.\r\n\r\n    ZonedDateTime\r\n    .now( ZoneId.systemDefault() )\r\n    .format( DateTimeFormatter.ofPattern( &quot;uuuu.MM.dd.HH.mm.ss&quot; ) )\r\n\r\n# *java.time* &amp; JDBC 4.2\r\n\r\nThe modern approach uses the *java.time* classes as seen above.\r\n\r\nIf your [JDBC driver][2] complies with [JDBC 4.2][3], you can directly exchange *java.time* objects with the database. Use [`PreparedStatement::setObject`][4] and [`ResultSet::getObject`][5].\r\n\r\n\r\n# Use java.sql only for drivers before JDBC 4.2\r\n\r\nIf your JDBC driver does not yet comply with JDBC 4.2 for support of *java.time* types, you must fall back to using the java.sql classes.\r\n\r\n## Storing data.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;  // Capture the current moment in UTC.\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\n## Retrieving data.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nThe java.sql types, such as [`java.sql.Timestamp`][6], should only be used for transfer in and out of the database. Immediately convert to java.time types in Java 8 and later. \r\n\r\n# `java.time.Instant`\r\n\r\nA `java.sql.Timestamp` maps to a [`java.time.Instant`][7], a moment on the timeline in UTC. Notice the new conversion method [`toInstant`][8] added to the old class.\r\n\r\n    java.sql.Timestamp ts = myResultSet.getTimestamp( … );\r\n    Instant instant = ts.toInstant(); \r\n\r\n# Time Zone\r\n\r\nApply the desired/expected time zone ([`ZoneId`][9]) to get a [`ZonedDateTime`][10].\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\r\n\r\n# Formatted Strings\r\n\r\nUse a [`DateTimeFormatter`][11] to generate your string. The pattern codes are similar to those of [`java.text.SimpleDateFormat`][12] but not exactly, so read the doc carefully.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern( &quot;uuuu.MM.dd.HH.mm.ss&quot; );\r\n    String output = zdt.format( formatter );\r\n\r\nThis particular format is ambiguous as to its exact meaning as it lacks any indication of [offset-from-UTC][13] or time zone.\r\n\r\n# ISO 8601\r\n\r\nIf you have any say in the matter, I suggest you consider using standard [ISO 8601][14] formats rather than rolling your own. The standard format is quite similar to yours. For example:&lt;br /&gt;`2016-02-20T03:26:32+05:30`.\r\n\r\nThe java.time classes use these standard formats by default, so no need to specify a pattern. The `ZonedDateTime` class extends the standard format by appending the name of the time zone (a wise improvement).\r\n\r\n    String output = zdt.toString(); // Example: 2007-12-03T10:15:30+01:00[Europe/Paris]\r\n    \r\n# Convert to java.sql\r\n\r\nYou can convert from java.time back to `java.sql.Timestamp`. Extract an `Instant` from the `ZonedDateTime`.\r\n\r\nNew methods have been added to the old classes to facilitate converting to/from java.time classes.\r\n\r\n    java.sql.Timestamp ts = java.sql.Timestamp.from( zdt.toInstant() );\r\n\r\n\r\n----------\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in standard SQL][15]][15]\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [2]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [3]: https://www.jcp.org/en/jsr/detail?id=221\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html#setObject(int,java.lang.Object)\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/ResultSet.html#getObject(int,java.lang.Class)\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Timestamp.html#toInstant()\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\r\n  [10]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [11]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [12]: http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [13]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [14]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [15]: https://i.stack.imgur.com/bXtIS.png","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<h1>tl;dr</h1>\n<p>Use only modern <em>java.time</em> classes. Never use the terrible legacy classes such as <code>SimpleDateFormat</code>, <code>Date</code>, or <code>java.sql.Timestamp</code>.</p>\n<pre><code>ZonedDateTime                    // Represent a moment as perceived in the wall-clock time used by the people of a particular region ( a time zone).\n.now(                            // Capture the current moment.\n    ZoneId.of( &quot;Africa/Tunis&quot; )  // Specify the time zone using proper Continent/Region name. Never use 3-4 character pseudo-zones such as PDT, EST, IST. \n)                                // Returns a `ZonedDateTime` object. \n.format(                         // Generate a `String` object containing text representing the value of our date-time object. \n    DateTimeFormatter.ofPattern( &quot;uuuu.MM.dd.HH.mm.ss&quot; )\n)                                // Returns a `String`. \n</code></pre>\n<p>Or use the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"noreferrer\">JVM</a>’s current default time zone.</p>\n<pre><code>ZonedDateTime\n.now( ZoneId.systemDefault() )\n.format( DateTimeFormatter.ofPattern( &quot;uuuu.MM.dd.HH.mm.ss&quot; ) )\n</code></pre>\n<h1><em>java.time</em> &amp; JDBC 4.2</h1>\n<p>The modern approach uses the <em>java.time</em> classes as seen above.</p>\n<p>If your <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> complies with <a href=\"https://www.jcp.org/en/jsr/detail?id=221\" rel=\"noreferrer\">JDBC 4.2</a>, you can directly exchange <em>java.time</em> objects with the database. Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html#setObject(int,java.lang.Object)\" rel=\"noreferrer\"><code>PreparedStatement::setObject</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/ResultSet.html#getObject(int,java.lang.Class)\" rel=\"noreferrer\"><code>ResultSet::getObject</code></a>.</p>\n<h1>Use java.sql only for drivers before JDBC 4.2</h1>\n<p>If your JDBC driver does not yet comply with JDBC 4.2 for support of <em>java.time</em> types, you must fall back to using the java.sql classes.</p>\n<h2>Storing data.</h2>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;  // Capture the current moment in UTC.\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<h2>Retrieving data.</h2>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>The java.sql types, such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"noreferrer\"><code>java.sql.Timestamp</code></a>, should only be used for transfer in and out of the database. Immediately convert to java.time types in Java 8 and later.</p>\n<h1><code>java.time.Instant</code></h1>\n<p>A <code>java.sql.Timestamp</code> maps to a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"noreferrer\"><code>java.time.Instant</code></a>, a moment on the timeline in UTC. Notice the new conversion method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Timestamp.html#toInstant()\" rel=\"noreferrer\"><code>toInstant</code></a> added to the old class.</p>\n<pre><code>java.sql.Timestamp ts = myResultSet.getTimestamp( … );\nInstant instant = ts.toInstant(); \n</code></pre>\n<h1>Time Zone</h1>\n<p>Apply the desired/expected time zone (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a>) to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<h1>Formatted Strings</h1>\n<p>Use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> to generate your string. The pattern codes are similar to those of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>java.text.SimpleDateFormat</code></a> but not exactly, so read the doc carefully.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern( &quot;uuuu.MM.dd.HH.mm.ss&quot; );\nString output = zdt.format( formatter );\n</code></pre>\n<p>This particular format is ambiguous as to its exact meaning as it lacks any indication of <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> or time zone.</p>\n<h1>ISO 8601</h1>\n<p>If you have any say in the matter, I suggest you consider using standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats rather than rolling your own. The standard format is quite similar to yours. For example:<br /><code>2016-02-20T03:26:32+05:30</code>.</p>\n<p>The java.time classes use these standard formats by default, so no need to specify a pattern. The <code>ZonedDateTime</code> class extends the standard format by appending the name of the time zone (a wise improvement).</p>\n<pre><code>String output = zdt.toString(); // Example: 2007-12-03T10:15:30+01:00[Europe/Paris]\n</code></pre>\n<h1>Convert to java.sql</h1>\n<p>You can convert from java.time back to <code>java.sql.Timestamp</code>. Extract an <code>Instant</code> from the <code>ZonedDateTime</code>.</p>\n<p>New methods have been added to the old classes to facilitate converting to/from java.time classes.</p>\n<pre><code>java.sql.Timestamp ts = java.sql.Timestamp.from( zdt.toInstant() );\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/bXtIS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bXtIS.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":3962804,"reputation":1490,"user_id":3269543,"accept_rate":83,"display_name":"Phoenix"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1625981610,"creation_date":1539595731,"answer_id":52813615,"question_id":23068676,"body_markdown":"You can use the following:\r\n\r\n    new java.sql.Timestamp(System.currentTimeMillis()).getTime()\r\n\r\nResult:\r\n\r\n    1539594988651\r\n","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>You can use the following:</p>\n<pre><code>new java.sql.Timestamp(System.currentTimeMillis()).getTime()\n</code></pre>\n<p>Result:</p>\n<pre><code>1539594988651\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1097512,"reputation":8279,"user_id":1090791,"accept_rate":63,"display_name":"gzc"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1573615519,"creation_date":1573615519,"answer_id":58829877,"question_id":23068676,"body_markdown":"Use modern `java.time` classes if you use java 8 or newer.\r\n\r\n    String s = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(LocalDateTime.now());\r\n\r\n---\r\n\r\nBasil Bourque&#39;s answer is pretty good. But it&#39;s too long. Many people would have no patience to read it. Top 3 answers are too old and may mislead Java new bee .So I provide this short and modern answer for new coming devs. Hope this answer can reduce usage of terrible `SimpleDateFormat`.","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>Use modern <code>java.time</code> classes if you use java 8 or newer.</p>\n\n<pre><code>String s = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\").format(LocalDateTime.now());\n</code></pre>\n\n<hr>\n\n<p>Basil Bourque's answer is pretty good. But it's too long. Many people would have no patience to read it. Top 3 answers are too old and may mislead Java new bee .So I provide this short and modern answer for new coming devs. Hope this answer can reduce usage of terrible <code>SimpleDateFormat</code>.</p>\n"},{"tags":[],"owner":{"account_id":16457341,"reputation":127,"user_id":11889238,"display_name":"Anuj Bansal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607770889,"creation_date":1607770889,"answer_id":65264153,"question_id":23068676,"body_markdown":"I am Using this\r\n```\r\nString timeStamp = new SimpleDateFormat(&quot;dd/MM/yyyy_HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\r\nSystem.out.println(timeStamp);\r\n```","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>I am Using this</p>\n<pre><code>String timeStamp = new SimpleDateFormat(&quot;dd/MM/yyyy_HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\nSystem.out.println(timeStamp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677850872,"creation_date":1677850872,"answer_id":75627822,"question_id":23068676,"body_markdown":" **Use the following strategy.**\r\n\r\n    import java.sql.Timestamp;\r\n\r\n    Timestamp today = new Timestamp(System.currentTimeMillis())\r\n\r\n\r\n     \r\n","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p><strong>Use the following strategy.</strong></p>\n<pre><code>import java.sql.Timestamp;\n\nTimestamp today = new Timestamp(System.currentTimeMillis())\n\n\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10223835,"reputation":109,"user_id":7547177,"display_name":"BrianKeys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701759487,"creation_date":1701432944,"answer_id":77585202,"question_id":23068676,"body_markdown":"## *java.time*\r\n\r\nThose `java.util.Date` answers at the top need to go.  Here&#39;s some code I wrote that deals with different formats. It&#39;s also easier to go with a working example:\r\n\r\n    package com.brian.TimeZoneUtil;\r\n    \r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    import java.time.LocalDateTime;\r\n    \r\n    public class TimeZoneConversion {\r\n    \r\n    \r\n    \t    public static void main(String[] args) {\r\n    \t    \t\r\n    \t        String inSlashDateString = &quot;10/31/201100:00:00&quot;;\r\n    \t        String inHyphenDateString = &quot;2011-10-31T01:01:01&quot;;\r\n    \t        String inEpochDateString = &quot;1687170164410&quot;;\r\n    \r\n    \t        DateTimeFormatter slashFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyyHH:mm:ss&quot;);\r\n    \t        DateTimeFormatter hyphenFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n    \t        \r\n    \t        ZonedDateTime epochDateTime = Instant.ofEpochMilli(Long.parseLong(inEpochDateString)).atZone(ZoneId.of(&quot;America/Indiana/Indianapolis&quot;));\r\n    \t        \r\n    \t        System.out.println(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).format( LocalDateTime.parse(inSlashDateString + &quot;00:00:00&quot;, slashFormatter)));\r\n    \t        System.out.println(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).format( LocalDateTime.parse(inHyphenDateString, hyphenFormatter)));\r\n    \t        System.out.println(epochDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;)));\r\n    \t        \r\n    \t        \t        \r\n    \t    }\r\n    }","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<h2><em>java.time</em></h2>\n<p>Those <code>java.util.Date</code> answers at the top need to go.  Here's some code I wrote that deals with different formats. It's also easier to go with a working example:</p>\n<pre><code>package com.brian.TimeZoneUtil;\n\nimport java.time.*;\nimport java.time.format.*;\nimport java.time.LocalDateTime;\n\npublic class TimeZoneConversion {\n\n\n        public static void main(String[] args) {\n            \n            String inSlashDateString = &quot;10/31/201100:00:00&quot;;\n            String inHyphenDateString = &quot;2011-10-31T01:01:01&quot;;\n            String inEpochDateString = &quot;1687170164410&quot;;\n\n            DateTimeFormatter slashFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyyHH:mm:ss&quot;);\n            DateTimeFormatter hyphenFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n            \n            ZonedDateTime epochDateTime = Instant.ofEpochMilli(Long.parseLong(inEpochDateString)).atZone(ZoneId.of(&quot;America/Indiana/Indianapolis&quot;));\n            \n            System.out.println(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).format( LocalDateTime.parse(inSlashDateString + &quot;00:00:00&quot;, slashFormatter)));\n            System.out.println(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).format( LocalDateTime.parse(inHyphenDateString, hyphenFormatter)));\n            System.out.println(epochDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;)));\n            \n                        \n        }\n}\n</code></pre>\n"}],"owner":{"account_id":4130925,"reputation":4808,"user_id":3388884,"accept_rate":64,"display_name":"user3388884"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845413,"favorite_count":0,"down_vote_count":2,"up_vote_count":275,"accepted_answer_id":23068695,"answer_count":10,"score":273,"last_activity_date":1701759487,"creation_date":1397503959,"question_id":23068676,"body_markdown":"How to get timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;\r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Timestamp());\r\n\r\nThis is what I have, but Timestamp() requires an parameters... ","title":"How to get current timestamp in string format in Java? &quot;yyyy.MM.dd.HH.mm.ss&quot;","body":"<p>How to get timestamp in string format in Java? \"yyyy.MM.dd.HH.mm.ss\"</p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"yyyy.MM.dd.HH.mm.ss\").format(new Timestamp());\n</code></pre>\n\n<p>This is what I have, but Timestamp() requires an parameters... </p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","vuejs3"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1701763774,"post_id":77604311,"comment_id":136812840,"body_markdown":"Show your request and response with headers. Show your Spring Security `DEBUG` logs.","body":"Show your request and response with headers. Show your Spring Security <code>DEBUG</code> logs."},{"owner":{"account_id":18617532,"reputation":1,"user_id":13568519,"display_name":"陳冠諭"},"score":0,"creation_date":1701828147,"post_id":77604311,"comment_id":136822893,"body_markdown":"I found in the debug log the message &#39;OAuth &quot;Facebook Platform&quot; &quot;invalid_code&quot; &quot;Invalid verification code format.&#39; The code I passed in is obtained from FB.getLoginStatus, perhaps the access token is not equivalent to the authentication code?","body":"I found in the debug log the message &#39;OAuth &quot;Facebook Platform&quot; &quot;invalid_code&quot; &quot;Invalid verification code format.&#39; The code I passed in is obtained from FB.getLoginStatus, perhaps the access token is not equivalent to the authentication code?"},{"owner":{"account_id":18617532,"reputation":1,"user_id":13568519,"display_name":"陳冠諭"},"score":1,"creation_date":1701832359,"post_id":77604311,"comment_id":136823178,"body_markdown":"I initially misunderstood and used the access token instead of the authentication code. I used 「https://www.facebook.com/v12.0/dialog/oauth\n    ?client_id=YOUR_APP_ID\n    &amp;redirect_uri=YOUR_REDIRECT_URI\n    &amp;scope=email,user_posts\n    &amp;response_type=code」 to get the authentication code and sent it to the backend. Finally I got the authentication .Thanks for providing the guidance that led to the solution.","body":"I initially misunderstood and used the access token instead of the authentication code. I used 「<a href=\"https://www.facebook.com/v12.0/dialog/oauth\" rel=\"nofollow noreferrer\">facebook.com/v12.0/dialog/oauth</a>     ?client_id=YOUR_APP_ID     &amp;redirect_uri=YOUR_REDIRECT_URI     &amp;scope=email,user_posts     &amp;response_type=code」 to get the authentication code and sent it to the backend. Finally I got the authentication .Thanks for providing the guidance that led to the solution."}],"owner":{"account_id":18617532,"reputation":1,"user_id":13568519,"display_name":"陳冠諭"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701759393,"creation_date":1701759206,"question_id":77604311,"body_markdown":"The provided configuration works for Google, and I can obtain authentication in the sixth step, such as Name: [114139398535802188369], Granted Authorities, and so on. However, when using Facebook, I am unable to print anything, and the result in the Vue console is an AxiosError. Please help me with this issue.\r\n\r\nVue\r\n```\r\n  getFBStatus() {\r\n            const FB = this.$store.state.FB\r\n            FB.getLoginStatus(response =&gt; {\r\n                if (response.status === &#39;connected&#39;) {\r\n                    const code = response.authResponse.accessToken;\r\n                    this.sendCodeToBackend(&#39;facebook&#39;, code)\r\n                }\r\n            })\r\n        },\r\n        sendCodeToBackend(name, code) {\r\n            this.$axios.post(&#39;http://localhost:8081/api/oauth/&#39; + name, this.socialLoginForm, {\r\n                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },\r\n            })\r\n                .then(response =&gt; {\r\n                    this.loginResponseProcessiing(response);\r\n                })\r\n                .catch(error =&gt; {\r\n                    console.log(error);\r\n                })\r\n        },\r\n\r\n```\r\n\r\nController\r\n```\r\n@PostMapping(&quot;/api/oauth/facebook&quot;)\r\n\tpublic ResponseEntity&lt;LoginResponse&gt; facebookTest(@RequestBody SocialLoginRequest socialLoginRequest,HttpServletRequest request) {\r\n\tLoginResponse res = socialLoginTokenService.createToken(socialLoginRequest,request);\r\n\t\treturn ResponseEntity.ok(res);\r\n\t}\r\n```\r\n\r\nSocialLoginTokenService\r\n```\r\npublic LoginResponse createToken(SocialLoginRequest socialLoginRequest,HttpServletRequest request) {\r\n\t\tString readCode = socialLoginRequest.getCode();\r\n\t\t\r\n\t\tClientRegistration clientRegistration = createGoogleClientRegistration(socialLoginRequest);\r\n\r\n\t\tString clientName = clientRegistration.getClientName();\r\n\r\n\t\t//1.resolver \r\n\t\tDefaultOAuth2AuthorizationRequestResolver authorizationRequestResolver = new DefaultOAuth2AuthorizationRequestResolver(clientRegistrationRepository, &quot;/auth&quot;);\r\n\t\t//2.request \r\n\t\tOAuth2AuthorizationRequest authorizationRequest = authorizationRequestResolver.resolve(request, clientName);\r\n\t\t//3.response\r\n\t\tOAuth2AuthorizationResponse authorizationResponse = OAuth2AuthorizationResponse\r\n\t\t\t\t.success(readCode)\r\n\t\t\t\t.code(readCode)\r\n\t\t\t\t.redirectUri(&quot;postmessage&quot;) \r\n\t\t\t\t.state(authorizationRequest.getState())\r\n\t\t\t\t.build();\r\n\t\t// 4. authentication\r\n\t\tAuthentication authentication = new OAuth2LoginAuthenticationToken(\r\n\t\t\t\tclientRegistration, new OAuth2AuthorizationExchange(authorizationRequest, authorizationResponse));\r\n\r\n\t\t// 5. authenticationProvider \r\n\t\tOAuth2LoginAuthenticationProvider authenticationProvider  = new OAuth2LoginAuthenticationProvider(tokenResponseClient, userService);\r\n                // 6. authenticate\r\n\t\tauthentication = authenticationProvider.authenticate(authentication);\r\n                System.out.println(authentication);\r\n\t\t//7. get useretails\r\n\t\tDefaultOAuth2User userDetails =(DefaultOAuth2User) authentication.getPrincipal();\r\n\r\n```\r\n\r\nOauth2Config\r\n```\r\nprivate ClientRegistration facebookClientRegistration() {\r\n\t\r\n\t\treturn ClientRegistration.withRegistrationId(&quot;Facebook&quot;)\r\n\t\t\t\t.clientId(&quot;my id&quot;)\r\n\t\t\t\t.clientSecret(&quot;my secret&quot;)\r\n\t\t\t\t.redirectUri(&quot;postmessage&quot;)\r\n\t\t\t\t.authorizationUri(&quot;https://www.facebook.com/v3.0/dialog/oauth&quot;) \r\n\t\t\t\t.tokenUri(&quot;https://graph.facebook.com/v3.0/oauth/access_token&quot;)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n\t\t\t\t.scope(&quot;email&quot;,&quot;public_profile&quot;)\r\n\t\t\t\t.userInfoUri(&quot;https://graph.facebook.com/me?fields=id,name,email,birthday,gender,location&quot;)\r\n\t\t\t\t.clientName(&quot;Facebook&quot;)\r\n\t\t\t\t.userNameAttributeName(&quot;id&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nI have confirmed that the accessToken, id, and secret are correct, so I&#39;m not sure which part of the process is encountering an issue.","title":"Vue + Spring boot,unable to get the authentication","body":"<p>The provided configuration works for Google, and I can obtain authentication in the sixth step, such as Name: [114139398535802188369], Granted Authorities, and so on. However, when using Facebook, I am unable to print anything, and the result in the Vue console is an AxiosError. Please help me with this issue.</p>\n<p>Vue</p>\n<pre><code>  getFBStatus() {\n            const FB = this.$store.state.FB\n            FB.getLoginStatus(response =&gt; {\n                if (response.status === 'connected') {\n                    const code = response.authResponse.accessToken;\n                    this.sendCodeToBackend('facebook', code)\n                }\n            })\n        },\n        sendCodeToBackend(name, code) {\n            this.$axios.post('http://localhost:8081/api/oauth/' + name, this.socialLoginForm, {\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then(response =&gt; {\n                    this.loginResponseProcessiing(response);\n                })\n                .catch(error =&gt; {\n                    console.log(error);\n                })\n        },\n\n</code></pre>\n<p>Controller</p>\n<pre><code>@PostMapping(&quot;/api/oauth/facebook&quot;)\n    public ResponseEntity&lt;LoginResponse&gt; facebookTest(@RequestBody SocialLoginRequest socialLoginRequest,HttpServletRequest request) {\n    LoginResponse res = socialLoginTokenService.createToken(socialLoginRequest,request);\n        return ResponseEntity.ok(res);\n    }\n</code></pre>\n<p>SocialLoginTokenService</p>\n<pre><code>public LoginResponse createToken(SocialLoginRequest socialLoginRequest,HttpServletRequest request) {\n        String readCode = socialLoginRequest.getCode();\n        \n        ClientRegistration clientRegistration = createGoogleClientRegistration(socialLoginRequest);\n\n        String clientName = clientRegistration.getClientName();\n\n        //1.resolver \n        DefaultOAuth2AuthorizationRequestResolver authorizationRequestResolver = new DefaultOAuth2AuthorizationRequestResolver(clientRegistrationRepository, &quot;/auth&quot;);\n        //2.request \n        OAuth2AuthorizationRequest authorizationRequest = authorizationRequestResolver.resolve(request, clientName);\n        //3.response\n        OAuth2AuthorizationResponse authorizationResponse = OAuth2AuthorizationResponse\n                .success(readCode)\n                .code(readCode)\n                .redirectUri(&quot;postmessage&quot;) \n                .state(authorizationRequest.getState())\n                .build();\n        // 4. authentication\n        Authentication authentication = new OAuth2LoginAuthenticationToken(\n                clientRegistration, new OAuth2AuthorizationExchange(authorizationRequest, authorizationResponse));\n\n        // 5. authenticationProvider \n        OAuth2LoginAuthenticationProvider authenticationProvider  = new OAuth2LoginAuthenticationProvider(tokenResponseClient, userService);\n                // 6. authenticate\n        authentication = authenticationProvider.authenticate(authentication);\n                System.out.println(authentication);\n        //7. get useretails\n        DefaultOAuth2User userDetails =(DefaultOAuth2User) authentication.getPrincipal();\n\n</code></pre>\n<p>Oauth2Config</p>\n<pre><code>private ClientRegistration facebookClientRegistration() {\n    \n        return ClientRegistration.withRegistrationId(&quot;Facebook&quot;)\n                .clientId(&quot;my id&quot;)\n                .clientSecret(&quot;my secret&quot;)\n                .redirectUri(&quot;postmessage&quot;)\n                .authorizationUri(&quot;https://www.facebook.com/v3.0/dialog/oauth&quot;) \n                .tokenUri(&quot;https://graph.facebook.com/v3.0/oauth/access_token&quot;)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n                .scope(&quot;email&quot;,&quot;public_profile&quot;)\n                .userInfoUri(&quot;https://graph.facebook.com/me?fields=id,name,email,birthday,gender,location&quot;)\n                .clientName(&quot;Facebook&quot;)\n                .userNameAttributeName(&quot;id&quot;)\n                .build();\n    }\n</code></pre>\n<p>I have confirmed that the accessToken, id, and secret are correct, so I'm not sure which part of the process is encountering an issue.</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1349371580,"post_id":12732422,"comment_id":17197759,"body_markdown":"Works for me, how do you tell the header was sent and not received?","body":"Works for me, how do you tell the header was sent and not received?"},{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":3,"creation_date":1349371606,"post_id":12732422,"comment_id":17197764,"body_markdown":"sorry if this sounds dumb, but where are you calling `connect()` on the URLConnection?","body":"sorry if this sounds dumb, but where are you calling <code>connect()</code> on the URLConnection?"},{"owner":{"account_id":1843889,"reputation":1339,"user_id":1672701,"accept_rate":92,"display_name":"noobed"},"score":0,"creation_date":1349374813,"post_id":12732422,"comment_id":28354983,"body_markdown":"I&#39;m not sure if this has an effect but you can try adding `connection.setRequestMethod(&quot;GET&quot;);` (or POST or whatever you want)?","body":"I&#39;m not sure if this has an effect but you can try adding <code>connection.setRequestMethod(&quot;GET&quot;);</code> (or POST or whatever you want)?"},{"owner":{"account_id":8627114,"reputation":417,"user_id":6459998,"display_name":"zerzevul"},"score":1,"creation_date":1555070821,"post_id":12732422,"comment_id":97991085,"body_markdown":"You initialise `authorization` to the empty string. If either `username` or `password` is null, then `authorization` will be the empty string, not null. Therefore, the final `if` will get executed, but the `&quot;Authorization&quot;` property will be set to empty, seems to me.","body":"You initialise <code>authorization</code> to the empty string. If either <code>username</code> or <code>password</code> is null, then <code>authorization</code> will be the empty string, not null. Therefore, the final <code>if</code> will get executed, but the <code>&quot;Authorization&quot;</code> property will be set to empty, seems to me."}],"answers":[{"tags":[],"owner":{"account_id":2527547,"reputation":5214,"user_id":2196599,"display_name":"Cyril Beschi"},"down_vote_count":0,"up_vote_count":507,"is_accepted":true,"score":507,"last_activity_date":1537445778,"creation_date":1363892441,"answer_id":15555952,"question_id":12732422,"body_markdown":"I have used the following code in the past and it had worked with basic authentication enabled in TomCat:\r\n\r\n    URL myURL = new URL(serviceURL);\r\n    HttpURLConnection myURLConnection = (HttpURLConnection)myURL.openConnection();\r\n\r\n    String userCredentials = &quot;username:password&quot;;\r\n    String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userCredentials.getBytes()));\r\n\r\n    myURLConnection.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    myURLConnection.setRequestMethod(&quot;POST&quot;);\r\n    myURLConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    myURLConnection.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + postData.getBytes().length);\r\n    myURLConnection.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\r\n    myURLConnection.setUseCaches(false);\r\n    myURLConnection.setDoInput(true);\r\n    myURLConnection.setDoOutput(true);\r\n\r\nYou can try the above code.  The code above is for POST, and you can modify it for GET","title":"Adding header for HttpURLConnection","body":"<p>I have used the following code in the past and it had worked with basic authentication enabled in TomCat:</p>\n\n<pre><code>URL myURL = new URL(serviceURL);\nHttpURLConnection myURLConnection = (HttpURLConnection)myURL.openConnection();\n\nString userCredentials = \"username:password\";\nString basicAuth = \"Basic \" + new String(Base64.getEncoder().encode(userCredentials.getBytes()));\n\nmyURLConnection.setRequestProperty (\"Authorization\", basicAuth);\nmyURLConnection.setRequestMethod(\"POST\");\nmyURLConnection.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\nmyURLConnection.setRequestProperty(\"Content-Length\", \"\" + postData.getBytes().length);\nmyURLConnection.setRequestProperty(\"Content-Language\", \"en-US\");\nmyURLConnection.setUseCaches(false);\nmyURLConnection.setDoInput(true);\nmyURLConnection.setDoOutput(true);\n</code></pre>\n\n<p>You can try the above code.  The code above is for POST, and you can modify it for GET</p>\n"},{"tags":[],"owner":{"account_id":5243670,"reputation":190,"user_id":4190048,"display_name":"Joseph Cozad"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1491782449,"creation_date":1426537155,"answer_id":29086206,"question_id":12732422,"body_markdown":"Just cause I don&#39;t see this bit of information in the answers above, the reason the code snippet originally posted doesn&#39;t work correctly is because the `encodedBytes` variable is a `byte[]` and not a `String` value. If you pass the `byte[]` to a `new String()` as below, the code snippet works perfectly.\r\n\r\n    encodedBytes = Base64.encode(authorization.getBytes(), 0);\r\n    authorization = &quot;Basic &quot; + new String(encodedBytes);","title":"Adding header for HttpURLConnection","body":"<p>Just cause I don't see this bit of information in the answers above, the reason the code snippet originally posted doesn't work correctly is because the <code>encodedBytes</code> variable is a <code>byte[]</code> and not a <code>String</code> value. If you pass the <code>byte[]</code> to a <code>new String()</code> as below, the code snippet works perfectly.</p>\n\n<pre><code>encodedBytes = Base64.encode(authorization.getBytes(), 0);\nauthorization = \"Basic \" + new String(encodedBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6009690,"reputation":1181,"user_id":4720495,"display_name":"gori"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1593115391,"creation_date":1428179897,"answer_id":29451171,"question_id":12732422,"body_markdown":"Finally this worked for me\r\n\r\n    private String buildBasicAuthorizationString(String username, String password) {\r\n\t\r\n\t\tString credentials = username + &quot;:&quot; + password;\r\n\t\treturn &quot;Basic &quot; + new String(Base64.encode(credentials.getBytes(), Base64.NO_WRAP));\r\n\t}","title":"Adding header for HttpURLConnection","body":"<p>Finally this worked for me</p>\n<pre><code>private String buildBasicAuthorizationString(String username, String password) {\n\n    String credentials = username + &quot;:&quot; + password;\n    return &quot;Basic &quot; + new String(Base64.encode(credentials.getBytes(), Base64.NO_WRAP));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":506673,"reputation":331,"user_id":4042365,"display_name":"pintu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1448971609,"creation_date":1448971609,"answer_id":34020080,"question_id":12732422,"body_markdown":"Your code is fine.You can also use the same thing in this way.\r\n\r\n\r\n\r\n\r\n\tpublic static String getResponseFromJsonURL(String url) {\r\n\t\tString jsonResponse = null;\r\n\t\tif (CommonUtility.isNotEmpty(url)) {\r\n\t\t\ttry {\r\n\t\t\t\t/************** For getting response from HTTP URL start ***************/\r\n\t\t\t\tURL object = new URL(url);\r\n\r\n\t\t\t\tHttpURLConnection connection = (HttpURLConnection) object\r\n\t\t\t\t\t\t.openConnection();\r\n\t\t\t\t// int timeOut = connection.getReadTimeout();\r\n\t\t\t\tconnection.setReadTimeout(60 * 1000);\r\n\t\t\t\tconnection.setConnectTimeout(60 * 1000);\r\n\t\t\t\tString authorization=&quot;xyz:xyz$123&quot;;\r\n\t\t\t\tString encodedAuth=&quot;Basic &quot;+Base64.encode(authorization.getBytes());\r\n\t\t\t\tconnection.setRequestProperty(&quot;Authorization&quot;, encodedAuth);\r\n\t\t\t\tint responseCode = connection.getResponseCode();\r\n\t\t\t\t//String responseMsg = connection.getResponseMessage();\r\n\r\n\t\t\t\tif (responseCode == 200) {\r\n\t\t\t\t\tInputStream inputStr = connection.getInputStream();\r\n\t\t\t\t\tString encoding = connection.getContentEncoding() == null ? &quot;UTF-8&quot;\r\n\t\t\t\t\t\t\t: connection.getContentEncoding();\r\n\t\t\t\t\tjsonResponse = IOUtils.toString(inputStr, encoding);\r\n\t\t\t\t\t/************** For getting response from HTTP URL end ***************/\r\n\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn jsonResponse;\r\n\t}\r\n\r\nIts Return response code 200 if authorizationis success","title":"Adding header for HttpURLConnection","body":"<p>Your code is fine.You can also use the same thing in this way.</p>\n\n<pre><code>public static String getResponseFromJsonURL(String url) {\n    String jsonResponse = null;\n    if (CommonUtility.isNotEmpty(url)) {\n        try {\n            /************** For getting response from HTTP URL start ***************/\n            URL object = new URL(url);\n\n            HttpURLConnection connection = (HttpURLConnection) object\n                    .openConnection();\n            // int timeOut = connection.getReadTimeout();\n            connection.setReadTimeout(60 * 1000);\n            connection.setConnectTimeout(60 * 1000);\n            String authorization=\"xyz:xyz$123\";\n            String encodedAuth=\"Basic \"+Base64.encode(authorization.getBytes());\n            connection.setRequestProperty(\"Authorization\", encodedAuth);\n            int responseCode = connection.getResponseCode();\n            //String responseMsg = connection.getResponseMessage();\n\n            if (responseCode == 200) {\n                InputStream inputStr = connection.getInputStream();\n                String encoding = connection.getContentEncoding() == null ? \"UTF-8\"\n                        : connection.getContentEncoding();\n                jsonResponse = IOUtils.toString(inputStr, encoding);\n                /************** For getting response from HTTP URL end ***************/\n\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n    }\n    return jsonResponse;\n}\n</code></pre>\n\n<p>Its Return response code 200 if authorizationis success</p>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488120657,"creation_date":1468928312,"answer_id":38457453,"question_id":12732422,"body_markdown":"With [RestAssurd][1] you can also do the following: \r\n\r\n    String path = baseApiUrl; //This is the base url of the API tested\r\n        URL url = new URL(path);\r\n        given(). //Rest Assured syntax \r\n                contentType(&quot;application/json&quot;). //API content type\r\n                given().header(&quot;headerName&quot;, &quot;headerValue&quot;). //Some API contains headers to run with the API \r\n                when().\r\n                get(url).\r\n                then().\r\n                statusCode(200); //Assert that the response is 200 - OK\r\n\r\n\r\n  [1]: https://github.com/rest-assured/rest-assured/wiki/Usage#headers-cookies-status-etc","title":"Adding header for HttpURLConnection","body":"<p>With <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#headers-cookies-status-etc\" rel=\"nofollow noreferrer\">RestAssurd</a> you can also do the following: </p>\n\n<pre><code>String path = baseApiUrl; //This is the base url of the API tested\n    URL url = new URL(path);\n    given(). //Rest Assured syntax \n            contentType(\"application/json\"). //API content type\n            given().header(\"headerName\", \"headerValue\"). //Some API contains headers to run with the API \n            when().\n            get(url).\n            then().\n            statusCode(200); //Assert that the response is 200 - OK\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10381315,"reputation":151,"user_id":7656009,"display_name":"Chandubabu"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1496773135,"creation_date":1496771313,"answer_id":44396597,"question_id":12732422,"body_markdown":"If you are using Java 8, use the code below.\r\n\r\n    URLConnection connection = url.openConnection();\r\n    HttpURLConnection httpConn = (HttpURLConnection) connection;\r\n    \r\n    String basicAuth = Base64.getEncoder().encodeToString((username+&quot;:&quot;+password).getBytes(StandardCharsets.UTF_8));\r\n    httpConn.setRequestProperty (&quot;Authorization&quot;, &quot;Basic &quot;+basicAuth);","title":"Adding header for HttpURLConnection","body":"<p>If you are using Java 8, use the code below.</p>\n\n<pre><code>URLConnection connection = url.openConnection();\nHttpURLConnection httpConn = (HttpURLConnection) connection;\n\nString basicAuth = Base64.getEncoder().encodeToString((username+\":\"+password).getBytes(StandardCharsets.UTF_8));\nhttpConn.setRequestProperty (\"Authorization\", \"Basic \"+basicAuth);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1577546306,"creation_date":1577546306,"answer_id":59512135,"question_id":12732422,"body_markdown":"Step 1: Get HttpURLConnection object\r\n\r\n    URL url = new URL(urlToConnect);\r\n    HttpURLConnection httpUrlConnection = (HttpURLConnection) url.openConnection();\r\n\r\nStep 2: Add headers to the HttpURLConnection using setRequestProperty method.\r\n\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    \r\n    headers.put(&quot;X-CSRF-Token&quot;, &quot;fetch&quot;);\r\n    headers.put(&quot;content-type&quot;, &quot;application/json&quot;);\r\n                    \r\n    for (String headerKey : headers.keySet()) {\r\n    \thttpUrlConnection.setRequestProperty(headerKey, headers.get(headerKey));\r\n    }\r\n\r\nReference [link][1]\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2017/09/adding-headers-using-httpurlconnection.html","title":"Adding header for HttpURLConnection","body":"<p>Step 1: Get HttpURLConnection object</p>\n\n<pre><code>URL url = new URL(urlToConnect);\nHttpURLConnection httpUrlConnection = (HttpURLConnection) url.openConnection();\n</code></pre>\n\n<p>Step 2: Add headers to the HttpURLConnection using setRequestProperty method.</p>\n\n<pre><code>Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n\nheaders.put(\"X-CSRF-Token\", \"fetch\");\nheaders.put(\"content-type\", \"application/json\");\n\nfor (String headerKey : headers.keySet()) {\n    httpUrlConnection.setRequestProperty(headerKey, headers.get(headerKey));\n}\n</code></pre>\n\n<p>Reference <a href=\"https://self-learning-java-tutorial.blogspot.com/2017/09/adding-headers-using-httpurlconnection.html\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":21427279,"reputation":9,"user_id":15784373,"display_name":"ivvasch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660943001,"creation_date":1660827125,"answer_id":73403412,"question_id":12732422,"body_markdown":"It work for me.\r\nI had to send request to another hand, and transfer header &quot;Authorization&quot; + jwt and some params via POST. By another side we formed jettyRequest with params and headers. If I send this sequence of code:\r\n\r\n    URL url = new URL(serviceURL);\r\n    HttpURLConnection myURLConnection = (HttpURLConnection)url.openConnection();\r\n    myURLConnection.setRequestMethod(&quot;POST&quot;);\r\n    myURLConnection.setRequestProperty (&quot;Authorization&quot;, jwt); // &lt;---- this place\r\n    // some code add params\r\nthen I received only params in a body.\r\nIf I send this:\r\n\r\n    URL url = new URL(serviceURL);\r\n    HttpURLConnection myURLConnection = (HttpURLConnection)url.openConnection();\r\n    myURLConnection.setRequestProperty (&quot;Authorization&quot;, jwt); // &lt;---- this place\r\n    myURLConnection.setRequestMethod(&quot;POST&quot;);\r\n    // some code add params\r\n\r\nthen I received headers Authorization and params. \r\n ","title":"Adding header for HttpURLConnection","body":"<p>It work for me.\nI had to send request to another hand, and transfer header &quot;Authorization&quot; + jwt and some params via POST. By another side we formed jettyRequest with params and headers. If I send this sequence of code:</p>\n<pre><code>URL url = new URL(serviceURL);\nHttpURLConnection myURLConnection = (HttpURLConnection)url.openConnection();\nmyURLConnection.setRequestMethod(&quot;POST&quot;);\nmyURLConnection.setRequestProperty (&quot;Authorization&quot;, jwt); // &lt;---- this place\n// some code add params\n</code></pre>\n<p>then I received only params in a body.\nIf I send this:</p>\n<pre><code>URL url = new URL(serviceURL);\nHttpURLConnection myURLConnection = (HttpURLConnection)url.openConnection();\nmyURLConnection.setRequestProperty (&quot;Authorization&quot;, jwt); // &lt;---- this place\nmyURLConnection.setRequestMethod(&quot;POST&quot;);\n// some code add params\n</code></pre>\n<p>then I received headers Authorization and params.</p>\n"},{"tags":[],"owner":{"account_id":6380922,"reputation":41,"user_id":4950403,"display_name":"yuriyni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701758868,"creation_date":1701758868,"answer_id":77604290,"question_id":12732422,"body_markdown":"if you are sure that the server is trustworthy and you are only connecting to it for testing purposes, you can use this option. \r\n\r\nYou will need to modify your Java code to use a custom TrustManager that does not validate the server&#39;s certificate.\r\n\r\nadditional code snippet for json body. And also send request and get repsponse examples:\r\n```\r\n//Create json body \r\n// option1\r\n            JSONObject json = new JSONObject();\r\n            json.put(&quot;param1Name&quot;, param1);\r\n            json.put(&quot;param2Name&quot;, param2); \r\n\r\n//Create json body \r\n// option2\r\n//String jsonInputString = &quot;{&quot;param1Name&quot;: param1, &quot;param2Name&quot;: param2}&quot;;\r\n\r\n            String jsonInputString = json.toJSONString();\r\n//Create the Request Body\r\n            try(OutputStream os = myURLConnection.getOutputStream()) {\r\n                byte[] input = jsonInputString.getBytes(&quot;utf-8&quot;);\r\n                os.write(input, 0, input.length);\r\n            }\r\n\r\n//Read the Response From Input Stream\r\n            try(BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(myURLConnection.getInputStream(), &quot;utf-8&quot;))) {\r\n\r\n                String responseLine = null;\r\n                while ((responseLine = br.readLine()) != null) {\r\n                    response.append(responseLine.trim());\r\n                }\r\n                System.out.println(response.toString());\r\n\r\n            }\r\n```\r\n\r\nHere is an full example of such a code is [here][1] \r\n\r\n\r\n  [1]: https://yuriyni.com/java/java-code-that-ignores-an-invalid-ssl-certificate/","title":"Adding header for HttpURLConnection","body":"<p>if you are sure that the server is trustworthy and you are only connecting to it for testing purposes, you can use this option.</p>\n<p>You will need to modify your Java code to use a custom TrustManager that does not validate the server's certificate.</p>\n<p>additional code snippet for json body. And also send request and get repsponse examples:</p>\n<pre><code>//Create json body \n// option1\n            JSONObject json = new JSONObject();\n            json.put(&quot;param1Name&quot;, param1);\n            json.put(&quot;param2Name&quot;, param2); \n\n//Create json body \n// option2\n//String jsonInputString = &quot;{&quot;param1Name&quot;: param1, &quot;param2Name&quot;: param2}&quot;;\n\n            String jsonInputString = json.toJSONString();\n//Create the Request Body\n            try(OutputStream os = myURLConnection.getOutputStream()) {\n                byte[] input = jsonInputString.getBytes(&quot;utf-8&quot;);\n                os.write(input, 0, input.length);\n            }\n\n//Read the Response From Input Stream\n            try(BufferedReader br = new BufferedReader(\n                    new InputStreamReader(myURLConnection.getInputStream(), &quot;utf-8&quot;))) {\n\n                String responseLine = null;\n                while ((responseLine = br.readLine()) != null) {\n                    response.append(responseLine.trim());\n                }\n                System.out.println(response.toString());\n\n            }\n</code></pre>\n<p>Here is an full example of such a code is <a href=\"https://yuriyni.com/java/java-code-that-ignores-an-invalid-ssl-certificate/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1905933,"reputation":3235,"user_id":1720811,"display_name":"Minh-Ha Le"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512748,"favorite_count":0,"down_vote_count":0,"up_vote_count":312,"accepted_answer_id":15555952,"answer_count":9,"score":312,"last_activity_date":1701758868,"creation_date":1349371230,"question_id":12732422,"body_markdown":"I&#39;m trying to add header for my request using `HttpUrlConnection` but the method `setRequestProperty()` doesn&#39;t seem working. The server side doesn&#39;t receive any request with my header.\r\n\r\n    HttpURLConnection hc;\r\n\t\ttry {\r\n\t\t\tString authorization = &quot;&quot;;\r\n\t\t\tURL address = new URL(url);\r\n\t\t\thc = (HttpURLConnection) address.openConnection();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\thc.setDoOutput(true);\r\n\t\t\thc.setDoInput(true);\r\n\t\t\thc.setUseCaches(false);\r\n\t\t\t\r\n\t\t\tif (username != null &amp;&amp; password != null) {\r\n\t\t\t\tauthorization = username + &quot;:&quot; + password;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (authorization != null) {\r\n\t\t\t\tbyte[] encodedBytes;\r\n\t\t\t\tencodedBytes = Base64.encode(authorization.getBytes(), 0);\r\n\t\t\t\tauthorization = &quot;Basic &quot; + encodedBytes;\r\n\t\t\t\thc.setRequestProperty(&quot;Authorization&quot;, authorization);\r\n\t\t\t}","title":"Adding header for HttpURLConnection","body":"<p>I'm trying to add header for my request using <code>HttpUrlConnection</code> but the method <code>setRequestProperty()</code> doesn't seem working. The server side doesn't receive any request with my header.</p>\n\n<pre><code>HttpURLConnection hc;\n    try {\n        String authorization = \"\";\n        URL address = new URL(url);\n        hc = (HttpURLConnection) address.openConnection();\n\n\n        hc.setDoOutput(true);\n        hc.setDoInput(true);\n        hc.setUseCaches(false);\n\n        if (username != null &amp;&amp; password != null) {\n            authorization = username + \":\" + password;\n        }\n\n        if (authorization != null) {\n            byte[] encodedBytes;\n            encodedBytes = Base64.encode(authorization.getBytes(), 0);\n            authorization = \"Basic \" + encodedBytes;\n            hc.setRequestProperty(\"Authorization\", authorization);\n        }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2611382,"reputation":6389,"user_id":2261424,"accept_rate":100,"display_name":"AntonH"},"score":1,"creation_date":1413824328,"post_id":26470972,"comment_id":41579391,"body_markdown":"Look into the `Scanner` class, it should give you what you&#39;re looking for.","body":"Look into the <code>Scanner</code> class, it should give you what you&#39;re looking for."},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1413824573,"post_id":26470972,"comment_id":41579506,"body_markdown":"First result for googling last words from title of your question: &quot;read from console JAVA&quot; gives: [Java: How to get input from System.console()](http://stackoverflow.com/questions/4644415/java-how-to-get-input-from-system-console). Also `System.console().readLine();` works fine for me (if I run my code via console, outside of IDE). We need to see your code and know how are you using it and what exception you are getting.","body":"First result for googling last words from title of your question: &quot;read from console JAVA&quot; gives: <a href=\"http://stackoverflow.com/questions/4644415/java-how-to-get-input-from-system-console\">Java: How to get input from System.console()</a>. Also <code>System.console().readLine();</code> works fine for me (if I run my code via console, outside of IDE). We need to see your code and know how are you using it and what exception you are getting."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1413832139,"post_id":26470972,"comment_id":41583638,"body_markdown":"possible duplicate of [Reading and writing to console in Java](http://stackoverflow.com/questions/1746181/reading-and-writing-to-console-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1746181/reading-and-writing-to-console-in-java\">Reading and writing to console in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":3074879,"reputation":2637,"user_id":2604532,"display_name":"Nagakishore Sidde"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1413824828,"creation_date":1413824628,"answer_id":26471060,"question_id":26470972,"body_markdown":"`java.util.Scanner` API is what you are looking for.","title":"Trying to read from the console in Java","body":"<p><code>java.util.Scanner</code> API is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1599484768,"creation_date":1413831925,"answer_id":26473083,"question_id":26470972,"body_markdown":"&lt;sub&gt;NOTE: problem doesn&#39;t appear when we run your code *from* console/terminal via `java [options] [MainClass]` so if this is valid solution for you you can stop reading here. Rest of this answer is for people who are using some IDEs to run their code.\r\n\r\n## Problem\r\n\r\nMost IDEs are using `javaw.exe` instead of `java.exe` to run Java code (see image below).  \r\n\r\nDifference between these two programs is that `javaw` runs Java code *without association with current terminal/console* (which is useful for GUI applications), and since there is no associated console window `System.console()` returns `null`. Because of that `System.console().readLine()` ends up as `null.readLine()` which throws `NullPointerException` since `null` doesn&#39;t have `readLine()` method (nor any method/field).\r\n\r\nBut just because there is no associated console, it doesn&#39;t mean that we can&#39;t communicate with `javaw` process. This process still supports standard input/output/error streams, so IDEs process (and via it also we) can use them via `System.in`, `System.out` and `System.err`. \r\n\r\nThis way IDEs can have some tab/window and let it *simulate* console.\r\n\r\nFor instance when we run code like in Eclipse:\r\n\r\n    package com.stackoverflow;\r\n    \r\n    public class Demo {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.out.println(&quot;hello world&quot;);\r\n    \t\tSystem.out.println(System.console());\r\n    \t}\r\n    \r\n    }\r\n\r\nwe will see as result\r\n\r\n![enter image description here][1]\r\n\r\nwhich shows that despite `javaw.exe` not having associated console (`null` at the end) IDE was able to handle data from standard output of the `javaw` process `System.out.println(&quot;hello world&quot;);` and show `hello world`.\r\n\r\n# General solution\r\n\r\nTo let user pass information to process use standard input stream (`System.in`). But since `in` is simple `InputStream` and `Stream`s are meant to handle *binary* data it doesn&#39;t have methods which would let it easily and properly read data as text (especially if encoding can be involved). That is why `Readers` and `Writers` ware added to Java. \r\n\r\nSo to make life easier and let application read data from user as text you can wrap this stream in one of the `Reader`s like `BufferedReader` which will let you read entire line with `readLine()` method. Unfortunately this class doesn&#39;t accept `Streams` but `Reader`s, so we need some kind of *adapter* which will simulate Reader and be able to translate bytes to text. But that is why `InputStreamReader` exists.\r\n\r\nSo code which would let application read data from input stream could look like\r\n\r\n\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\tSystem.out.print(&quot;Hello. Please write your name: &quot;);\r\n\tString name = br.readLine();\r\n\tSystem.out.println(&quot;Your name is: &quot;+name);\r\n\r\n## Preferred/simplest solution - Scanner\r\n\r\nTo avoid this *magic* involving converting Stream to Reader you can use `Scanner` class, which is meant to read data as text from Streams and Readers.  \r\n\r\nThis means you can simply use \r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n\t//...\r\n    String name = scanner.nextLine();\r\n\t\r\nto read data from user (which will be send by console simulated by IDE using standard input stream).\r\n\r\n  [1]: http://i.stack.imgur.com/QTmpx.png","title":"Trying to read from the console in Java","body":"<p>NOTE: problem doesn't appear when we run your code <em>from</em> console/terminal via <code>java [options] [MainClass]</code> so if this is valid solution for you you can stop reading here. Rest of this answer is for people who are using some IDEs to run their code.</p>\n<h2>Problem</h2>\n<p>Most IDEs are using <code>javaw.exe</code> instead of <code>java.exe</code> to run Java code (see image below).</p>\n<p>Difference between these two programs is that <code>javaw</code> runs Java code <em>without association with current terminal/console</em> (which is useful for GUI applications), and since there is no associated console window <code>System.console()</code> returns <code>null</code>. Because of that <code>System.console().readLine()</code> ends up as <code>null.readLine()</code> which throws <code>NullPointerException</code> since <code>null</code> doesn't have <code>readLine()</code> method (nor any method/field).</p>\n<p>But just because there is no associated console, it doesn't mean that we can't communicate with <code>javaw</code> process. This process still supports standard input/output/error streams, so IDEs process (and via it also we) can use them via <code>System.in</code>, <code>System.out</code> and <code>System.err</code>.</p>\n<p>This way IDEs can have some tab/window and let it <em>simulate</em> console.</p>\n<p>For instance when we run code like in Eclipse:</p>\n<pre><code>package com.stackoverflow;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;hello world&quot;);\n        System.out.println(System.console());\n    }\n\n}\n</code></pre>\n<p>we will see as result</p>\n<p><img src=\"https://i.stack.imgur.com/QTmpx.png\" alt=\"enter image description here\" /></p>\n<p>which shows that despite <code>javaw.exe</code> not having associated console (<code>null</code> at the end) IDE was able to handle data from standard output of the <code>javaw</code> process <code>System.out.println(&quot;hello world&quot;);</code> and show <code>hello world</code>.</p>\n<h1>General solution</h1>\n<p>To let user pass information to process use standard input stream (<code>System.in</code>). But since <code>in</code> is simple <code>InputStream</code> and <code>Stream</code>s are meant to handle <em>binary</em> data it doesn't have methods which would let it easily and properly read data as text (especially if encoding can be involved). That is why <code>Readers</code> and <code>Writers</code> ware added to Java.</p>\n<p>So to make life easier and let application read data from user as text you can wrap this stream in one of the <code>Reader</code>s like <code>BufferedReader</code> which will let you read entire line with <code>readLine()</code> method. Unfortunately this class doesn't accept <code>Streams</code> but <code>Reader</code>s, so we need some kind of <em>adapter</em> which will simulate Reader and be able to translate bytes to text. But that is why <code>InputStreamReader</code> exists.</p>\n<p>So code which would let application read data from input stream could look like</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nSystem.out.print(&quot;Hello. Please write your name: &quot;);\nString name = br.readLine();\nSystem.out.println(&quot;Your name is: &quot;+name);\n</code></pre>\n<h2>Preferred/simplest solution - Scanner</h2>\n<p>To avoid this <em>magic</em> involving converting Stream to Reader you can use <code>Scanner</code> class, which is meant to read data as text from Streams and Readers.</p>\n<p>This means you can simply use</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n//...\nString name = scanner.nextLine();\n</code></pre>\n<p>to read data from user (which will be send by console simulated by IDE using standard input stream).</p>\n"},{"tags":[],"owner":{"account_id":10714452,"reputation":5430,"user_id":7885651,"display_name":"Muhammed Ozdogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515198315,"creation_date":1515198315,"answer_id":48123090,"question_id":26470972,"body_markdown":"If you realy need to Console object you can compile your class from command line. Firstly in my java file first statement is `package com.inputOutput;`\r\n\r\nGo in your project &quot;`src`&quot; folder and compile it like : &quot;`javac com/inputOutput/Password.java`&quot; &#39;`com`&#39; and &#39;`inputOutput`&#39; are folder(package). Run your class file in `src` folder   \r\n`java com.inputOutput.Password`&quot;. It had worked work for me.\r\n","title":"Trying to read from the console in Java","body":"<p>If you realy need to Console object you can compile your class from command line. Firstly in my java file first statement is <code>package com.inputOutput;</code></p>\n\n<p>Go in your project \"<code>src</code>\" folder and compile it like : \"<code>javac com/inputOutput/Password.java</code>\" '<code>com</code>' and '<code>inputOutput</code>' are folder(package). Run your class file in <code>src</code> folder<br>\n<code>java com.inputOutput.Password</code>\". It had worked work for me.</p>\n"},{"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547426644,"creation_date":1543486839,"answer_id":53536712,"question_id":26470972,"body_markdown":"**You could use an Jframe.**\r\n\r\n    JFrame frame = new JFrame(&quot;titile&quot;);\r\n\r\n\t// prompt the user to enter their code\r\n\tString code = JOptionPane.showInputDialog(frame, &quot;promt here&quot;);\r\n","title":"Trying to read from the console in Java","body":"<p><strong>You could use an Jframe.</strong></p>\n\n<pre><code>JFrame frame = new JFrame(\"titile\");\n\n// prompt the user to enter their code\nString code = JOptionPane.showInputDialog(frame, \"promt here\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678184217,"creation_date":1678184217,"answer_id":75660641,"question_id":26470972,"body_markdown":"Normally, the `Console` object requires a valid tty provided by an operating system, but IntelliJ IDEA output window does not provide one. It&#39;s not very trivial to do this in OS-independent way. Not only IntelliJ IDEA is affected. You cannot use `System.console()` in jshell as well:\r\n\r\n```\r\n|  Welcome to JShell -- Version 17.0.6\r\n|  For an introduction type: /help intro\r\n\r\njshell&gt; System.console()\r\n$1 ==&gt; null\r\n\r\njshell&gt;\r\n```\r\n\r\nIn Java 20, this issue was partially addressed. Now, you can add a VM option `-Djdk.console=jdk.internal.le`. Go to &#39;Edit Run/Debug configurations&#39;, then Modify Options, Add VM Options and type it there. After that the `System.console()` will work inside IDE. It will be hooked to `System.in` which IDE already intercepts.\r\n\r\nNote that this solution is undocumented and unsupported, so may not work in future Java versions. You can find more information in this [JDK issue](https://bugs.openjdk.org/browse/JDK-8297226).","title":"Trying to read from the console in Java","body":"<p>Normally, the <code>Console</code> object requires a valid tty provided by an operating system, but IntelliJ IDEA output window does not provide one. It's not very trivial to do this in OS-independent way. Not only IntelliJ IDEA is affected. You cannot use <code>System.console()</code> in jshell as well:</p>\n<pre><code>|  Welcome to JShell -- Version 17.0.6\n|  For an introduction type: /help intro\n\njshell&gt; System.console()\n$1 ==&gt; null\n\njshell&gt;\n</code></pre>\n<p>In Java 20, this issue was partially addressed. Now, you can add a VM option <code>-Djdk.console=jdk.internal.le</code>. Go to 'Edit Run/Debug configurations', then Modify Options, Add VM Options and type it there. After that the <code>System.console()</code> will work inside IDE. It will be hooked to <code>System.in</code> which IDE already intercepts.</p>\n<p>Note that this solution is undocumented and unsupported, so may not work in future Java versions. You can find more information in this <a href=\"https://bugs.openjdk.org/browse/JDK-8297226\" rel=\"nofollow noreferrer\">JDK issue</a>.</p>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682060279,"creation_date":1682060279,"answer_id":76070662,"question_id":26470972,"body_markdown":"I abstracted it out, so when running in an IDE, it will use the scanner, but when running from the command line, it&#39;ll use the console:\r\n\r\n```java\r\nimport java.io.Console;\r\nimport java.util.Scanner;\r\n    \r\npublic class UserInputReader {\r\n  private final Console console;\r\n  private final Scanner scanner;\r\n\r\n  public UserInputReader() {\r\n    console = System.console();\r\n    scanner = console == null ? new Scanner(System.in) : null;\r\n  }\r\n\r\n  public String readLine() {\r\n    return console != null ? console.readLine() : scanner.nextLine();\r\n  }\r\n    \r\n  public String readPassword() {\r\n    return console != null ? String.valueOf(console.readPassword()) : scanner.nextLine();\r\n  }\r\n}\r\n```","title":"Trying to read from the console in Java","body":"<p>I abstracted it out, so when running in an IDE, it will use the scanner, but when running from the command line, it'll use the console:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Console;\nimport java.util.Scanner;\n    \npublic class UserInputReader {\n  private final Console console;\n  private final Scanner scanner;\n\n  public UserInputReader() {\n    console = System.console();\n    scanner = console == null ? new Scanner(System.in) : null;\n  }\n\n  public String readLine() {\n    return console != null ? console.readLine() : scanner.nextLine();\n  }\n    \n  public String readPassword() {\n    return console != null ? String.valueOf(console.readPassword()) : scanner.nextLine();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701758757,"creation_date":1691289163,"answer_id":76844230,"question_id":26470972,"body_markdown":"As a workaround I start a terminal from my project in intellij then I type:\r\n```sh\r\n$ java -cp target/classes org.enricogiurin.ocp17.ch14.UserInput\r\n```\r\nWhere `UserInput` is the class whose `main` uses the `java.io.Console`.\r\n\r\nI know it&#39;s not the expected solution, in fact I have written that it&#39;s a workaround.","title":"Trying to read from the console in Java","body":"<p>As a workaround I start a terminal from my project in intellij then I type:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -cp target/classes org.enricogiurin.ocp17.ch14.UserInput\n</code></pre>\n<p>Where <code>UserInput</code> is the class whose <code>main</code> uses the <code>java.io.Console</code>.</p>\n<p>I know it's not the expected solution, in fact I have written that it's a workaround.</p>\n"}],"owner":{"account_id":5204453,"reputation":637,"user_id":4162866,"accept_rate":0,"display_name":"LidorA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51689,"favorite_count":0,"down_vote_count":2,"up_vote_count":53,"answer_count":7,"score":51,"last_activity_date":1701758757,"creation_date":1413824273,"question_id":26470972,"body_markdown":"I have just started learning Java with IntelliJ IDE.  I know a bit C# so the logic makes some sense, however there is one thing so far I couldn&#39;t get over it.\r\n\r\nHow do I read from the console? In C#, you could easily read what the human typed into it, using `Console.ReadLine()`.  In Java,  `System.console().readLine();` does not work for me and throws a `NullPointerException`.\r\n\r\nWhat am I missing here?","title":"Trying to read from the console in Java","body":"<p>I have just started learning Java with IntelliJ IDE.  I know a bit C# so the logic makes some sense, however there is one thing so far I couldn't get over it.</p>\n\n<p>How do I read from the console? In C#, you could easily read what the human typed into it, using <code>Console.ReadLine()</code>.  In Java,  <code>System.console().readLine();</code> does not work for me and throws a <code>NullPointerException</code>.</p>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701758713,"creation_date":1701758713,"answer_id":77604274,"question_id":77596297,"body_markdown":"You have to use [sendMessageEmbeds](https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#sendMessageEmbeds(net.dv8tion.jda.api.entities.MessageEmbed,net.dv8tion.jda.api.entities.MessageEmbed...)).","title":"Sending embeds with JDA","body":"<p>You have to use <a href=\"https://docs.jda.wiki/net/dv8tion/jda/api/entities/channel/middleman/MessageChannel.html#sendMessageEmbeds(net.dv8tion.jda.api.entities.MessageEmbed,net.dv8tion.jda.api.entities.MessageEmbed...)\" rel=\"nofollow noreferrer\">sendMessageEmbeds</a>.</p>\n"}],"owner":{"account_id":30057711,"reputation":1,"user_id":23034628,"display_name":"Kerso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701758749,"creation_date":1701640265,"question_id":77596297,"body_markdown":"I&#39;m trying to make command &quot;help&quot; that will send all bot commands in embed message, but `event.channel().sendMessage(eb.build()).queue();` don&#39;t work.\r\n**Full Code of command:**\r\n\r\n\r\n        if (event.getAuthor().isBot()) return;\r\n\r\n        MessageChannel channel = event.getChannel();\r\n        String message = event.getMessage().getContentRaw();\r\n        String name = event.getAuthor().getName();\r\n    \r\n        if (message.equalsIgnoreCase(&quot;&gt;help&quot;)) {\r\n            EmbedBuilder eb = new EmbedBuilder();\r\n    \r\n            eb.setColor(0x26FF00);\r\n            eb.setTitle(&quot;Commands&quot;);\r\n            eb.setDescription(&quot;Command test...&quot;);\r\n            eb.setFooter(&quot;Made by kersozone.pl&quot;);\r\n            event.getChannel().sendMessage((CharSequence) eb.build()).queue();\r\n        }\r\n\\`\r\n\r\n I tried adding`(CharSequence)`, but command still don&#39;t work.","title":"Sending embeds with JDA","body":"<p>I'm trying to make command &quot;help&quot; that will send all bot commands in embed message, but <code>event.channel().sendMessage(eb.build()).queue();</code> don't work.\n<strong>Full Code of command:</strong></p>\n<pre><code>    if (event.getAuthor().isBot()) return;\n\n    MessageChannel channel = event.getChannel();\n    String message = event.getMessage().getContentRaw();\n    String name = event.getAuthor().getName();\n\n    if (message.equalsIgnoreCase(&quot;&gt;help&quot;)) {\n        EmbedBuilder eb = new EmbedBuilder();\n\n        eb.setColor(0x26FF00);\n        eb.setTitle(&quot;Commands&quot;);\n        eb.setDescription(&quot;Command test...&quot;);\n        eb.setFooter(&quot;Made by kersozone.pl&quot;);\n        event.getChannel().sendMessage((CharSequence) eb.build()).queue();\n    }\n</code></pre>\n<p>`</p>\n<p>I tried adding<code>(CharSequence)</code>, but command still don't work.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","testng-eclipse","selenium-extent-report"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1701752873,"post_id":77603862,"comment_id":136811622,"body_markdown":"Does this answer your question? [How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version](https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version</a>"}],"answers":[{"tags":[],"owner":{"account_id":30068330,"reputation":1,"user_id":23042877,"display_name":"VIJAY B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701758457,"creation_date":1701758457,"answer_id":77604254,"question_id":77603862,"body_markdown":"I have resolved this issue. Changed the Java version to 1.11 in pom.xml and it works fine now. Able to generate extent html and pdf report both. ","title":"Getting the error while running Cucumber TestNG with Java through eclipse","body":"<p>I have resolved this issue. Changed the Java version to 1.11 in pom.xml and it works fine now. Able to generate extent html and pdf report both.</p>\n"}],"owner":{"account_id":30068330,"reputation":1,"user_id":23042877,"display_name":"VIJAY B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701758457,"creation_date":1701751376,"question_id":77603862,"body_markdown":"&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError:\r\n&gt; org/testng/remote/RemoteTestNG has been compiled by a more recent\r\n&gt; version of the Java Runtime (class file version 55.0), this version of\r\n&gt; the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n\r\nTried downgrading and upgrading the TestNG version. The Java version is 1.8. TestNG - 6.14.3 Eclipse: 2023.09, Cucumber 6.19.3 \r\n\r\nI can trigger if I change the java version in build path to Java-SE11. But I think due to this Spark report and PDF report are not getting generated. ","title":"Getting the error while running Cucumber TestNG with Java through eclipse","body":"<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError:\norg/testng/remote/RemoteTestNG has been compiled by a more recent\nversion of the Java Runtime (class file version 55.0), this version of\nthe Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n<p>Tried downgrading and upgrading the TestNG version. The Java version is 1.8. TestNG - 6.14.3 Eclipse: 2023.09, Cucumber 6.19.3</p>\n<p>I can trigger if I change the java version in build path to Java-SE11. But I think due to this Spark report and PDF report are not getting generated.</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1701732075,"post_id":77603016,"comment_id":136809988,"body_markdown":"The best place to work out how to setup an environment for JavaFX based on an OpenJDK distribution is by following relevant instructions at [openjfx.io](https://openjfx.io/openjfx-docs/).","body":"The best place to work out how to setup an environment for JavaFX based on an OpenJDK distribution is by following relevant instructions at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1701732078,"post_id":77603016,"comment_id":136809989,"body_markdown":"Alternately, you could use a version of the JDK that already includes JavaFX (e.g. BellSoft or Azul &quot;Full JDK&quot; or &quot;JDK FX&quot;).  Both of those are easier to work with for beginners when developing JavaFX applications than a standard OpenJDK that does not include JavaFX.  The versions of the JDK that include JavaFX place JavaFX modules on the default module path, so you don&#39;t need to configure the module system, and you don&#39;t need the JavaFX SDK at all nor to define JavaFX modules as dependencies in your build tool.","body":"Alternately, you could use a version of the JDK that already includes JavaFX (e.g. BellSoft or Azul &quot;Full JDK&quot; or &quot;JDK FX&quot;).  Both of those are easier to work with for beginners when developing JavaFX applications than a standard OpenJDK that does not include JavaFX.  The versions of the JDK that include JavaFX place JavaFX modules on the default module path, so you don&#39;t need to configure the module system, and you don&#39;t need the JavaFX SDK at all nor to define JavaFX modules as dependencies in your build tool."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1701734243,"post_id":77603016,"comment_id":136810167,"body_markdown":"Can you show the errors you are getting?","body":"Can you show the errors you are getting?"},{"owner":{"account_id":30066646,"reputation":1,"user_id":23041623,"display_name":"xxtracelestial"},"score":0,"creation_date":1701750248,"post_id":77603016,"comment_id":136811406,"body_markdown":"The JavaFX that Im using on eclipse is what I have to use for this assignment, otherwise I would probably try something else. \n\nSome of the errors I&#39;m receiving include:\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found\nbut under my &#39;lib&#39; directory it says javafx.controls.jar\n\nError: JavaFX runtime components are missing, and are required to run this application","body":"The JavaFX that Im using on eclipse is what I have to use for this assignment, otherwise I would probably try something else.   Some of the errors I&#39;m receiving include: Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.controls not found but under my &#39;lib&#39; directory it says javafx.controls.jar  Error: JavaFX runtime components are missing, and are required to run this application"},{"owner":{"account_id":30066646,"reputation":1,"user_id":23041623,"display_name":"xxtracelestial"},"score":0,"creation_date":1701750380,"post_id":77603016,"comment_id":136811418,"body_markdown":"The other error was:\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: sample/MainApp has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)","body":"The other error was: Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: sample/MainApp has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 52.0 \tat java.lang.ClassLoader.defineClass1(Native Method) \tat java.lang.ClassLoader.defineClass(ClassLoader.java:756) \tat java.security.SecureClassLoader.defineClass(SecureClassLoade&zwnj;&#8203;r.java:142) \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)"},{"owner":{"account_id":30066646,"reputation":1,"user_id":23041623,"display_name":"xxtracelestial"},"score":0,"creation_date":1701750388,"post_id":77603016,"comment_id":136811420,"body_markdown":"continued..\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:359)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:635)","body":"continued.. \tat java.net.URLClassLoader.access$100(URLClassLoader.java:74) \tat java.net.URLClassLoader$1.run(URLClassLoader.java:369) \tat java.net.URLClassLoader$1.run(URLClassLoader.java:363) \tat java.security.AccessController.doPrivileged(Native Method) \tat java.net.URLClassLoader.findClass(URLClassLoader.java:362) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418) \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:359&zwnj;&#8203;) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351) \tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.&zwnj;&#8203;java:635)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1701752438,"post_id":77603016,"comment_id":136811589,"body_markdown":"Don&#39;t put the errors in comments, edit the question and put them in the question, as text, formatted as code (just indent them four spaces).","body":"Don&#39;t put the errors in comments, edit the question and put them in the question, as text, formatted as code (just indent them four spaces)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1701752565,"post_id":77603016,"comment_id":136811603,"body_markdown":"Duplicate: [Class has been compiled by a more recent version of the Java Environment](https://stackoverflow.com/questions/47457105/class-has-been-compiled-by-a-more-recent-version-of-the-java-environment).  If you follow either of the suggestions in my first two comments, (and also rebuild your app and run it with the new JDK that following the instructions in the comments will install), then it will fix it.","body":"Duplicate: <a href=\"https://stackoverflow.com/questions/47457105/class-has-been-compiled-by-a-more-recent-version-of-the-java-environment\">Class has been compiled by a more recent version of the Java Environment</a>.  If you follow either of the suggestions in my first two comments, (and also rebuild your app and run it with the new JDK that following the instructions in the comments will install), then it will fix it."}],"owner":{"account_id":30066646,"reputation":1,"user_id":23041623,"display_name":"xxtracelestial"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701790223,"answer_count":0,"score":-1,"last_activity_date":1701758443,"creation_date":1701731189,"question_id":77603016,"body_markdown":"I can&#39;t seem to get JavaFX to work anymore in eclipse. I added it to eclipse about a month ago for an assignment and everything worked fantastic with no issues, however now when I try to use it, for seemingly the same exact projects I receive several errors and it won&#39;t work properly.\r\n\r\nI&#39;ve tried multiple different ways to add JavaFX to my project, via adding the library to the Java Build Path. No matter what I try I receive similar errors. I&#39;ve tried moving JavaFX to the module path, then I tried in the class path and both do not work. I&#39;ve tried moving the JRE system library (as I saw that worked for some) and that did nothing for me. A month ago when I used Java FX in eclipse for the first time I did not have any issues and I practiced with about 5 different ways and each worked fine. They still run/work fine. I am a beginner when it comes to Java, after spending a few days searching youtube, and looking through previous questions on here I still can&#39;t seem to pinpoint my problem.\r\n\r\nI have the latest version of eclipse and I already checked for updates. I downloaded JavaFX a month ago, and like I said it worked fine before so I&#39;m not sure why it isn&#39;t working now. I believe I&#39;m doing something wrong (user error) however even following the most basic JavaFX tutorials I still have errors.\r\n\r\nOne thing confusing me is that in my previous projects I believe I only configured the build path to have JavaFX SDK and that worked, however, now when I do the same thing it is no longer working. I tried creating a user library, adding all of the external JAR&#39;s for JavaFX, and configuring the build path that way (which I saw through a youtube tutorial) but that still didn&#39;t work for me. I also tried modifying the Run Configurations and typing in a specific VM argument, which I saw on a tutorial as well and that didn&#39;t work either. Again I think it must be something I&#39;m doing!\r\n\r\nCan anyone offer solutions for me? I have another day or two to get this assignment in and this is just a very small part of it, however without JavaFX I can&#39;t do anything else for it.","title":"JavaFX SDK not working anymore in Eclipse","body":"<p>I can't seem to get JavaFX to work anymore in eclipse. I added it to eclipse about a month ago for an assignment and everything worked fantastic with no issues, however now when I try to use it, for seemingly the same exact projects I receive several errors and it won't work properly.</p>\n<p>I've tried multiple different ways to add JavaFX to my project, via adding the library to the Java Build Path. No matter what I try I receive similar errors. I've tried moving JavaFX to the module path, then I tried in the class path and both do not work. I've tried moving the JRE system library (as I saw that worked for some) and that did nothing for me. A month ago when I used Java FX in eclipse for the first time I did not have any issues and I practiced with about 5 different ways and each worked fine. They still run/work fine. I am a beginner when it comes to Java, after spending a few days searching youtube, and looking through previous questions on here I still can't seem to pinpoint my problem.</p>\n<p>I have the latest version of eclipse and I already checked for updates. I downloaded JavaFX a month ago, and like I said it worked fine before so I'm not sure why it isn't working now. I believe I'm doing something wrong (user error) however even following the most basic JavaFX tutorials I still have errors.</p>\n<p>One thing confusing me is that in my previous projects I believe I only configured the build path to have JavaFX SDK and that worked, however, now when I do the same thing it is no longer working. I tried creating a user library, adding all of the external JAR's for JavaFX, and configuring the build path that way (which I saw through a youtube tutorial) but that still didn't work for me. I also tried modifying the Run Configurations and typing in a specific VM argument, which I saw on a tutorial as well and that didn't work either. Again I think it must be something I'm doing!</p>\n<p>Can anyone offer solutions for me? I have another day or two to get this assignment in and this is just a very small part of it, however without JavaFX I can't do anything else for it.</p>\n"},{"tags":["java","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701758425,"creation_date":1701758425,"answer_id":77604251,"question_id":77602560,"body_markdown":"You are adding the cookies to the `Set` returned from `getCookies()`, you need to add it to the `WebDriver`\r\n\r\n    webDriver.manage().addCookie(new Cookie(&quot;__Secure-access_token&quot;, accessToken));","title":"Why can&#39;t I add cookies to Selenium webdriver?","body":"<p>You are adding the cookies to the <code>Set</code> returned from <code>getCookies()</code>, you need to add it to the <code>WebDriver</code></p>\n<pre><code>webDriver.manage().addCookie(new Cookie(&quot;__Secure-access_token&quot;, accessToken));\n</code></pre>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77604251,"answer_count":1,"score":0,"last_activity_date":1701758425,"creation_date":1701723911,"question_id":77602560,"body_markdown":"I have this code:\r\n\r\n```\r\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;D:\\\\chromedriver&quot;);\r\n\r\n        WebDriver webDriver = new ChromeDriver();\r\n\r\n        webDriver.get(&quot;https://example.com&quot;);\r\n\r\n        Thread.sleep(3000);\r\n\r\n        Cookie cookie = new Cookie.Builder(&quot;dsdsdsds&quot;, &quot;dsdsds&quot;).path(&quot;/&quot;).sameSite(&quot;None&quot;).expiresOn(new Date()).isSecure(true).build();\r\n\r\n        webDriver.manage().deleteAllCookies();\r\n\r\n        webDriver.manage().getCookies().add(cookie);\r\n\r\n        webDriver.manage().getCookies().add(new Cookie(&quot;__Secure-access_token&quot;, accessToken));\r\n\r\n        webDriver.manage().getCookies().add(new Cookie(&quot;__Secure-id_token&quot;, secIdToken));\r\n\r\n        webDriver.manage().getCookies().add(new Cookie(&quot;__Secure-id_hint&quot;, idHint));\r\n        webDriver.manage().getCookies().add(new Cookie(&quot;a12l-csrf-prod&quot;, csrfToken));\r\n        webDriver.manage().getCookies().add(new Cookie(&quot;id_token&quot;, idToken));\r\n\r\n\r\n        webDriver.navigate().refresh();\r\n\r\n        webDriver.manage().getCookies().forEach(System.out::println);\r\n```\r\n\r\nHowever, after reloading, the standard page cookies are rendered, but my custom ones are not. What to do?","title":"Why can&#39;t I add cookies to Selenium webdriver?","body":"<p>I have this code:</p>\n<pre><code>        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;D:\\\\chromedriver&quot;);\n\n        WebDriver webDriver = new ChromeDriver();\n\n        webDriver.get(&quot;https://example.com&quot;);\n\n        Thread.sleep(3000);\n\n        Cookie cookie = new Cookie.Builder(&quot;dsdsdsds&quot;, &quot;dsdsds&quot;).path(&quot;/&quot;).sameSite(&quot;None&quot;).expiresOn(new Date()).isSecure(true).build();\n\n        webDriver.manage().deleteAllCookies();\n\n        webDriver.manage().getCookies().add(cookie);\n\n        webDriver.manage().getCookies().add(new Cookie(&quot;__Secure-access_token&quot;, accessToken));\n\n        webDriver.manage().getCookies().add(new Cookie(&quot;__Secure-id_token&quot;, secIdToken));\n\n        webDriver.manage().getCookies().add(new Cookie(&quot;__Secure-id_hint&quot;, idHint));\n        webDriver.manage().getCookies().add(new Cookie(&quot;a12l-csrf-prod&quot;, csrfToken));\n        webDriver.manage().getCookies().add(new Cookie(&quot;id_token&quot;, idToken));\n\n\n        webDriver.navigate().refresh();\n\n        webDriver.manage().getCookies().forEach(System.out::println);\n</code></pre>\n<p>However, after reloading, the standard page cookies are rendered, but my custom ones are not. What to do?</p>\n"},{"tags":["java","macos","selenium-webdriver","appium","appium-ios"],"comments":[{"owner":{"account_id":9532641,"reputation":57,"user_id":7083756,"display_name":"akash mahato"},"score":0,"creation_date":1486825100,"post_id":42104318,"comment_id":71517939,"body_markdown":"Any help will be highly appreciated","body":"Any help will be highly appreciated"}],"answers":[{"tags":[],"owner":{"account_id":8899812,"reputation":994,"user_id":6721832,"accept_rate":80,"display_name":"animal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1487246871,"creation_date":1487246871,"answer_id":42273514,"question_id":42104318,"body_markdown":"Check the URL your are using, It should not contain **https** instead use **http**. I tried it worked for me.","title":"javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Support","body":"<p>Check the URL your are using, It should not contain <strong>https</strong> instead use <strong>http</strong>. I tried it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4600184,"reputation":310,"user_id":3731154,"accept_rate":57,"display_name":"harry"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1487247313,"creation_date":1487247313,"answer_id":42273685,"question_id":42104318,"body_markdown":"It has nothing to with java as such. Check your certificates \n&#39; OpenSSL s_client -connect &lt;&lt;server ip &gt;&gt;443&#39;\n\nEnsure that the verify code is 0\nIf it&#39;s non zero ;(20) it probably means(I am guessing here) you might have a self signed certificate. That means you have to import that certificate into your java truststore.\n","title":"javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Support","body":"<p>It has nothing to with java as such. Check your certificates \n' OpenSSL s_client -connect &lt;>443'</p>\n\n<p>Ensure that the verify code is 0\nIf it's non zero ;(20) it probably means(I am guessing here) you might have a self signed certificate. That means you have to import that certificate into your java truststore.</p>\n"},{"tags":[],"owner":{"account_id":29936727,"reputation":1,"user_id":22942289,"display_name":"Siyah kalem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701757664,"creation_date":1701757664,"answer_id":77604197,"question_id":42104318,"body_markdown":"You can get information using the                                                     \r\n         openssl s_client -connect &lt;server_name&gt;:&lt;port_number&gt; \r\ncommand line. ","title":"javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Support","body":"<p>You can get information using the<br />\nopenssl s_client -connect &lt;server_name&gt;:&lt;port_number&gt;\ncommand line.</p>\n"}],"owner":{"account_id":9532641,"reputation":57,"user_id":7083756,"display_name":"akash mahato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42273514,"answer_count":3,"score":1,"last_activity_date":1701757664,"creation_date":1486525570,"question_id":42104318,"body_markdown":"I am trying automate android app in mac using appium (ver.1.5.3). i am getting below mentioned error. Please help.\r\n\r\n&gt; WebDriverException: javax.net.ssl.SSLHandshakeException: Remote host\r\n&gt; closed connection during handshake Build info: version: &#39;unknown&#39;,\r\n&gt; revision: &#39;1969d75&#39;, time: &#39;2016-10-18 09:43:45 -0700&#39; System info:\r\n&gt; host: &#39;AKASHs-MacBook-Pro.local&#39;, ip: &#39;192.168.1.4&#39;, os.name: &#39;Mac OS\r\n&gt; X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.11.6&#39;, java.version:\r\n&gt; &#39;1.8.0_121&#39; Driver info: driver.version: AndroidDriver at\r\n&gt; io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:84)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:601)\r\n&gt; at\r\n&gt; io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:42)\r\n&gt; at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1) at\r\n&gt; io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:241)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:128)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:141)\r\n&gt; at\r\n&gt; io.appium.java_client.DefaultGenericMobileDriver.(DefaultGenericMobileDriver.java:38)\r\n&gt; at io.appium.java_client.AppiumDriver.(AppiumDriver.java:90) at\r\n&gt; io.appium.java_client.AppiumDriver.(AppiumDriver.java:128) at\r\n&gt; io.appium.java_client.android.AndroidDriver.(AndroidDriver.java:72) at\r\n&gt; com.test1.Test1.setUp(Test1.java:33) at\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; at\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; at java.lang.reflect.Method.invoke(Method.java:498) at\r\n&gt; org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\r\n&gt; at org.testng.internal.Invoker.invokeMethod(Invoker.java:645) at\r\n&gt; org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851) at\r\n&gt; org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177) at\r\n&gt; org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n&gt; at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n&gt; at org.testng.TestRunner.privateRun(TestRunner.java:756) at\r\n&gt; org.testng.TestRunner.run(TestRunner.java:610) at\r\n&gt; org.testng.SuiteRunner.runTest(SuiteRunner.java:387) at\r\n&gt; org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382) at\r\n&gt; org.testng.SuiteRunner.privateRun(SuiteRunner.java:340) at\r\n&gt; org.testng.SuiteRunner.run(SuiteRunner.java:289) at\r\n&gt; org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52) at\r\n&gt; org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86) at\r\n&gt; org.testng.TestNG.runSuitesSequentially(TestNG.java:1293) at\r\n&gt; org.testng.TestNG.runSuitesLocally(TestNG.java:1218) at\r\n&gt; org.testng.TestNG.runSuites(TestNG.java:1133) at\r\n&gt; org.testng.TestNG.run(TestNG.java:1104) at\r\n&gt; org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)\r\n&gt; at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:236) at\r\n&gt; org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:81) Caused by:\r\n&gt; javax.net.ssl.SSLHandshakeException: Remote host closed connection\r\n&gt; during handshake at\r\n&gt; sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:992) at\r\n&gt; sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n&gt; at\r\n&gt; sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n&gt; at\r\n&gt; sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n&gt; at\r\n&gt; org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\r\n&gt; at\r\n&gt; org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\r\n&gt; at\r\n&gt; org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\r\n&gt; at\r\n&gt; org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n&gt; at\r\n&gt; org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n&gt; at\r\n&gt; org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n&gt; at\r\n&gt; org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n&gt; at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n&gt; at\r\n&gt; org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n&gt; at\r\n&gt; org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n&gt; at\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n&gt; at\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.internal.ApacheHttpClient.fallBackExecute(ApacheHttpClient.java:142)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.internal.ApacheHttpClient.execute(ApacheHttpClient.java:88)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:108)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:64)\r\n&gt; at\r\n&gt; org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\r\n&gt; at\r\n&gt; io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:69)\r\n&gt; ... 37 more Caused by: java.io.EOFException: SSL peer shut down\r\n&gt; incorrectly at sun.security.ssl.InputRecord.read(InputRecord.java:505)\r\n&gt; at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\r\n&gt; ... 58 more","title":"javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Support","body":"<p>I am trying automate android app in mac using appium (ver.1.5.3). i am getting below mentioned error. Please help.</p>\n\n<blockquote>\n  <p>WebDriverException: javax.net.ssl.SSLHandshakeException: Remote host\n  closed connection during handshake Build info: version: 'unknown',\n  revision: '1969d75', time: '2016-10-18 09:43:45 -0700' System info:\n  host: 'AKASHs-MacBook-Pro.local', ip: '192.168.1.4', os.name: 'Mac OS\n  X', os.arch: 'x86_64', os.version: '10.11.6', java.version:\n  '1.8.0_121' Driver info: driver.version: AndroidDriver at\n  io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:84)\n  at\n  org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:601)\n  at\n  io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:42)\n  at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1) at\n  io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\n  at\n  org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:241)\n  at\n  org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:128)\n  at\n  org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:141)\n  at\n  io.appium.java_client.DefaultGenericMobileDriver.(DefaultGenericMobileDriver.java:38)\n  at io.appium.java_client.AppiumDriver.(AppiumDriver.java:90) at\n  io.appium.java_client.AppiumDriver.(AppiumDriver.java:128) at\n  io.appium.java_client.android.AndroidDriver.(AndroidDriver.java:72) at\n  com.test1.Test1.setUp(Test1.java:33) at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498) at\n  org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\n  at org.testng.internal.Invoker.invokeMethod(Invoker.java:645) at\n  org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851) at\n  org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177) at\n  org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n  at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n  at org.testng.TestRunner.privateRun(TestRunner.java:756) at\n  org.testng.TestRunner.run(TestRunner.java:610) at\n  org.testng.SuiteRunner.runTest(SuiteRunner.java:387) at\n  org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382) at\n  org.testng.SuiteRunner.privateRun(SuiteRunner.java:340) at\n  org.testng.SuiteRunner.run(SuiteRunner.java:289) at\n  org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52) at\n  org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86) at\n  org.testng.TestNG.runSuitesSequentially(TestNG.java:1293) at\n  org.testng.TestNG.runSuitesLocally(TestNG.java:1218) at\n  org.testng.TestNG.runSuites(TestNG.java:1133) at\n  org.testng.TestNG.run(TestNG.java:1104) at\n  org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)\n  at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:236) at\n  org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:81) Caused by:\n  javax.net.ssl.SSLHandshakeException: Remote host closed connection\n  during handshake at\n  sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:992) at\n  sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n  at\n  sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n  at\n  sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n  at\n  org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\n  at\n  org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\n  at\n  org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\n  at\n  org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n  at\n  org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n  at\n  org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n  at\n  org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n  at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n  at\n  org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n  at\n  org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n  at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n  at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n  at\n  org.openqa.selenium.remote.internal.ApacheHttpClient.fallBackExecute(ApacheHttpClient.java:142)\n  at\n  org.openqa.selenium.remote.internal.ApacheHttpClient.execute(ApacheHttpClient.java:88)\n  at\n  org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:108)\n  at\n  org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:64)\n  at\n  org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\n  at\n  io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:69)\n  ... 37 more Caused by: java.io.EOFException: SSL peer shut down\n  incorrectly at sun.security.ssl.InputRecord.read(InputRecord.java:505)\n  at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\n  ... 58 more</p>\n</blockquote>\n"},{"tags":["java","postgresql","spring-data-jpa","greatest-n-per-group","hibernate-native-query"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1701741167,"post_id":77603395,"comment_id":136810760,"body_markdown":"How much data do you have? If it&#39;s not a ton, I would query the DB for all the data. I would then use code to find the highest power and the highest high. I am not sure how pagination works with `Spring`, so I am not going to comment on that.","body":"How much data do you have? If it&#39;s not a ton, I would query the DB for all the data. I would then use code to find the highest power and the highest high. I am not sure how pagination works with <code>Spring</code>, so I am not going to comment on that."},{"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"score":0,"creation_date":1701742091,"post_id":77603395,"comment_id":136810822,"body_markdown":"The data might be hunderds, like there is no delete operation on the data, but there is date expiration, so data will be exclude by using the date &lt; now().","body":"The data might be hunderds, like there is no delete operation on the data, but there is date expiration, so data will be exclude by using the date &lt; now()."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1701742211,"post_id":77603395,"comment_id":136810835,"body_markdown":"Sounds like a small memory amount. It should be doable.","body":"Sounds like a small memory amount. It should be doable."},{"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"score":0,"creation_date":1701743229,"post_id":77603395,"comment_id":136810943,"body_markdown":"I think no. The problem is 1. the API might have big number of hit, 2. the logic of pagination containing page_number and page_size and sorting query. I will update the question why is it not doable by using Java to loop and do the logic","body":"I think no. The problem is 1. the API might have big number of hit, 2. the logic of pagination containing page_number and page_size and sorting query. I will update the question why is it not doable by using Java to loop and do the logic"}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701757617,"creation_date":1701757617,"answer_id":77604194,"question_id":77603395,"body_markdown":"See if using `CASE WHEN` helps.\r\n\r\n```\r\nSELECT id, name, power, \r\nCASE WHEN (SELECT MAX(power) FROM user) = power THEN true ELSE false END AS is_highest_power,\r\nheigh,\r\nCASE WHEN (SELECT MAX(heigh) FROM user) = heigh THEN true ELSE false END AS is_highest_heigh\r\nFROM user\r\n```\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hBr9D.png","title":"How to select all row and give boolean mark the row with max value of a column (with multiple marking)? (Java Native Query, Psql)","body":"<p>See if using <code>CASE WHEN</code> helps.</p>\n<pre><code>SELECT id, name, power, \nCASE WHEN (SELECT MAX(power) FROM user) = power THEN true ELSE false END AS is_highest_power,\nheigh,\nCASE WHEN (SELECT MAX(heigh) FROM user) = heigh THEN true ELSE false END AS is_highest_heigh\nFROM user\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/hBr9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBr9D.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77604194,"answer_count":1,"score":1,"last_activity_date":1701757617,"creation_date":1701740427,"question_id":77603395,"body_markdown":"Currently I am working on giving a label to my data. I will give the label to data that marked as highest on the resulting query. the problem is the label is not only for 1 case but multiple, and also I need pagination for the query using Pageable.\r\n\r\n*Note: I need it by query because I think it&#39;s not feasible to do in Java because 1. the API might have big number of hit, 2. the logic of pagination containing page_number and page_size and sorting query.\r\n\r\n---\r\nExample of data\r\n\r\n| id    | name   | power  |  heigh  |\r\n| ----- | ------ | ------ | ------- |\r\n| uuid1 | ace    | 1000   | 170     |\r\n| uuid2 | luffy  | 990    | 168     |\r\n| uuid3 | zorro  | 980    | 167     |\r\n| uuid4 | sanji  | 970    | 180     |\r\n\r\n---\r\nMocked result that I wanted when I queried is like this\r\n\r\n| id    | name   | power  | is_highest_power |  heigh  | is_highest_heigh |\r\n| ----- | ------ | ------ | ---------------- | ------- | ---------------- |\r\n| uuid1 | ace    | 1000   | true             | 170     | false            |\r\n| uuid2 | luffy  | 990    | false            | 168     | false            |\r\n| uuid3 | zorro  | 980    | false            | 167     | false            |\r\n| uuid4 | sanji  | 970    | false            | 180     | true             |\r\n\r\n---\r\nCurrently, working on it with Postgresql db with java JPARepository interface.\r\nI need to build the native query with pagination in it and also a filter for the result.\r\n\r\n```\r\n@Query(\r\n      nativeQuery = true,\r\n      countQuery = &quot;SELECT count(1) &quot;\r\n          + &quot; FROM user u &quot;\r\n          + &quot; WHERE (:startPower IS NULL OR u.power &gt;= :startPower) AND &quot;\r\n          + &quot; (:startHeigh IS NULL OR u.heigh &gt;= :startHeigh)&quot;,\r\n      value = &quot;SELECT u.id, u.name, u.power, u.is_highest_power (??), u.heigh, &quot;\r\n          + &quot; u.is_highest_heigh (??)&quot;\r\n          + &quot; FROM user u &quot;\r\n          + &quot; WHERE (:startPower IS NULL OR u.power &gt;= :startPower) AND &quot;\r\n          + &quot; (:startHeigh IS NULL OR u.heigh &gt;= :startHeigh)&quot;\r\n  )\r\n  Page&lt;SearchUser&gt; searchUser(\r\n      Pageable pageable,\r\n      BigDecimal startPower,\r\n      BigDecimal startHeigh\r\n  );\r\n\r\n\r\npublic interface SearchUser {\r\n\r\n  @Value(&quot;#{target.id}&quot;)\r\n  String getId();\r\n\r\n  @Value(&quot;#{target.name}&quot;)\r\n  String getName();\r\n\r\n  @Value(&quot;#{target.power}&quot;)\r\n  BigDecimal getPower();\r\n\r\n  @Value(&quot;#{target.is_highest_power}&quot;)\r\n  Boolean getIsHighestPower();\r\n\r\n  @Value(&quot;#{target.heigh}&quot;)\r\n  BigDecimal getHeigh();\r\n\r\n  @Value(&quot;#{target.is_highest_heigh}&quot;)\r\n  Boolean getIsHighestHeigh();\r\n```\r\n\r\nI have found how to query to get the highest power or heigh (as mentioned [here](https://stackoverflow.com/questions/7745609/sql-select-only-rows-with-max-value-on-a-column)) but can not found how to mark a row as the highest and query it as the result column too.\r\n\r\nHow to achieve this in nativeQuery string?","title":"How to select all row and give boolean mark the row with max value of a column (with multiple marking)? (Java Native Query, Psql)","body":"<p>Currently I am working on giving a label to my data. I will give the label to data that marked as highest on the resulting query. the problem is the label is not only for 1 case but multiple, and also I need pagination for the query using Pageable.</p>\n<p>*Note: I need it by query because I think it's not feasible to do in Java because 1. the API might have big number of hit, 2. the logic of pagination containing page_number and page_size and sorting query.</p>\n<hr />\n<p>Example of data</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n<th>power</th>\n<th>heigh</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>uuid1</td>\n<td>ace</td>\n<td>1000</td>\n<td>170</td>\n</tr>\n<tr>\n<td>uuid2</td>\n<td>luffy</td>\n<td>990</td>\n<td>168</td>\n</tr>\n<tr>\n<td>uuid3</td>\n<td>zorro</td>\n<td>980</td>\n<td>167</td>\n</tr>\n<tr>\n<td>uuid4</td>\n<td>sanji</td>\n<td>970</td>\n<td>180</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>Mocked result that I wanted when I queried is like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n<th>power</th>\n<th>is_highest_power</th>\n<th>heigh</th>\n<th>is_highest_heigh</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>uuid1</td>\n<td>ace</td>\n<td>1000</td>\n<td>true</td>\n<td>170</td>\n<td>false</td>\n</tr>\n<tr>\n<td>uuid2</td>\n<td>luffy</td>\n<td>990</td>\n<td>false</td>\n<td>168</td>\n<td>false</td>\n</tr>\n<tr>\n<td>uuid3</td>\n<td>zorro</td>\n<td>980</td>\n<td>false</td>\n<td>167</td>\n<td>false</td>\n</tr>\n<tr>\n<td>uuid4</td>\n<td>sanji</td>\n<td>970</td>\n<td>false</td>\n<td>180</td>\n<td>true</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>Currently, working on it with Postgresql db with java JPARepository interface.\nI need to build the native query with pagination in it and also a filter for the result.</p>\n<pre><code>@Query(\n      nativeQuery = true,\n      countQuery = &quot;SELECT count(1) &quot;\n          + &quot; FROM user u &quot;\n          + &quot; WHERE (:startPower IS NULL OR u.power &gt;= :startPower) AND &quot;\n          + &quot; (:startHeigh IS NULL OR u.heigh &gt;= :startHeigh)&quot;,\n      value = &quot;SELECT u.id, u.name, u.power, u.is_highest_power (??), u.heigh, &quot;\n          + &quot; u.is_highest_heigh (??)&quot;\n          + &quot; FROM user u &quot;\n          + &quot; WHERE (:startPower IS NULL OR u.power &gt;= :startPower) AND &quot;\n          + &quot; (:startHeigh IS NULL OR u.heigh &gt;= :startHeigh)&quot;\n  )\n  Page&lt;SearchUser&gt; searchUser(\n      Pageable pageable,\n      BigDecimal startPower,\n      BigDecimal startHeigh\n  );\n\n\npublic interface SearchUser {\n\n  @Value(&quot;#{target.id}&quot;)\n  String getId();\n\n  @Value(&quot;#{target.name}&quot;)\n  String getName();\n\n  @Value(&quot;#{target.power}&quot;)\n  BigDecimal getPower();\n\n  @Value(&quot;#{target.is_highest_power}&quot;)\n  Boolean getIsHighestPower();\n\n  @Value(&quot;#{target.heigh}&quot;)\n  BigDecimal getHeigh();\n\n  @Value(&quot;#{target.is_highest_heigh}&quot;)\n  Boolean getIsHighestHeigh();\n</code></pre>\n<p>I have found how to query to get the highest power or heigh (as mentioned <a href=\"https://stackoverflow.com/questions/7745609/sql-select-only-rows-with-max-value-on-a-column\">here</a>) but can not found how to mark a row as the highest and query it as the result column too.</p>\n<p>How to achieve this in nativeQuery string?</p>\n"},{"tags":["java","exception","out-of-memory"],"comments":[{"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1404217561,"post_id":24510188,"comment_id":37946283,"body_markdown":"Downvotes. Interesting. As if some people do not want to create a canonical question.","body":"Downvotes. Interesting. As if some people do not want to create a canonical question."},{"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":4,"creation_date":1404217854,"post_id":24510188,"comment_id":37946446,"body_markdown":"I&#39;m sure people want _a_ canonical question, just not _your_ canonical question. :-P (I&#39;m not one of the downvoters.)","body":"I&#39;m sure people want <i>a</i> canonical question, just not <i>your</i> canonical question. :-P (I&#39;m not one of the downvoters.)"},{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":6,"creation_date":1404217939,"post_id":24510188,"comment_id":37946509,"body_markdown":"There are already about a dozen questions on this site about how to deal with an `OutOfMemoryError` in Java.  How does adding one more help anyone?","body":"There are already about a dozen questions on this site about how to deal with an <code>OutOfMemoryError</code> in Java.  How does adding one more help anyone?"},{"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1404217988,"post_id":24510188,"comment_id":37946544,"body_markdown":"@DavidWallace The intent of a &quot;canonical&quot; question is to make all the other similar question marked duplicate of the canonical one. Again, though, my comment is, why pick this one over any of the others?","body":"@DavidWallace The intent of a &quot;canonical&quot; question is to make all the other similar question marked duplicate of the canonical one. Again, though, my comment is, why pick this one over any of the others?"},{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1404218110,"post_id":24510188,"comment_id":37946640,"body_markdown":"They&#39;re all already mostly duplicates of each other.  Adding one more doesn&#39;t fix anything.","body":"They&#39;re all already mostly duplicates of each other.  Adding one more doesn&#39;t fix anything."},{"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1404218637,"post_id":24510188,"comment_id":37946999,"body_markdown":"@DavidWallace It can, if you make all the other duplicates point to this one. (I am not actually endorsing _this_ question to be a canonical question, just endorsing the canonical question concept.)","body":"@DavidWallace It can, if you make all the other duplicates point to this one. (I am not actually endorsing <i>this</i> question to be a canonical question, just endorsing the canonical question concept.)"},{"owner":{"account_id":440158,"reputation":323221,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1404218708,"post_id":24510188,"comment_id":37947039,"body_markdown":"@DavidWallace Most OOME questions deal with a very specific problem and do not necessarily receive generic answers. I think it is a great idea to create a canonical Q&amp;A that can be used as a duplicate.","body":"@DavidWallace Most OOME questions deal with a very specific problem and do not necessarily receive generic answers. I think it is a great idea to create a canonical Q&amp;A that can be used as a duplicate."},{"owner":{"account_id":6657838,"reputation":3741,"user_id":5137782,"accept_rate":71,"display_name":"8protons"},"score":0,"creation_date":1570557126,"post_id":24510188,"comment_id":102947528,"body_markdown":"Possible duplicate of [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a>"}],"answers":[{"tags":[],"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1404230780,"creation_date":1404217301,"answer_id":24510189,"question_id":24510188,"body_markdown":"An `OutOfMemoryError` is an exception thrown by the Java Virtual Machine (JVM) because it needs to allocate memory for a (new) object, but insufficient memory is available for the object. The JVM will have first tried to free memory used by dead objects, by [running the garbage collector][1].\r\n\r\nAs an `OutOfMemoryError` is a `VirtualMachineError`, the JVM is permitted to [throw it at *any* time][2], although it must [try to release memory through garbage collection first][7].\r\n\r\nHowever, in practice it is likely to be thrown from a `new` statement that tried to create an object for which memory could not be allocated. Therefore, you should first examine the stacktrace associated with the exception for clues about the cause of the problem, [as you would for any other exception][3].\r\n\r\n* If the exception is thrown from an attempt to allocate an array (such as `int[] values = new int[n]`), the cause could be that you are trying to create an excessively large array (`n` is too large). Have you made a mistake in the calculation of the size of array you need?\r\n* If the exception is thrown from an attempt to allocate an array in a method of a container class written by someone else, the cause could be that your code is asking the container to store an excessive number of things. Methods such as `ArrayList.reserve(int)` and `HashMap(int)` must allocate storage for future use. Have you made a mistake in the calculation of the size of container you need?\r\n* If the exception is thrown from inside a loop, the cause could be that the code has looped too many times. Is your loop termination condition correct? If it is a `for` loop, are you asking it to loop the correct number of times?\r\n\r\nIf the stacktrace does not provide enough clues, you could try using a heap profiler. That is a monitoring program that enables you to examine the memory used for objects while the program runs, or examies a _heap dump_ written when the program exits. It can provide information about the sizes, number and classes of objects stored in memory.\r\n\r\nThe JVM has a [finite amount of memory][4] made available to it. You might conclude that you program is behaving correctly, but just needs more memory to run than has been made available to it.  If you do not explicitly tell the JVM how much memory to use, most implementations will choose a [sensible default][5] amount based on the amount of RAM that your computer has, but that amount could be too small for your program. Command line options for the JVM can control how much memory is made available. For most JVM implementations, the most important of those options are [`-Xmx`][6] and `-Xms`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12298725/is-the-garbage-collector-guaranteed-to-run-before-out-of-memory-error\r\n  [2]: https://stackoverflow.com/questions/8913902/when-exactly-is-the-jvm-throwing-an-outofmemoryerror\r\n  [3]: https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\r\n  [4]: https://stackoverflow.com/questions/3358328/why-does-the-sun-jvm-have-a-fixed-upper-limit-for-memory-usage-xmx\r\n  [5]: https://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined\r\n  [6]: https://stackoverflow.com/questions/1030256/java-app-that-uses-a-lot-of-memory-use-xmx\r\n  [7]: https://stackoverflow.com/questions/12298725/is-the-garbage-collector-guaranteed-to-run-before-out-of-memory-error","title":"What is an OutOfMemoryError and how do I debug and fix it","body":"<p>An <code>OutOfMemoryError</code> is an exception thrown by the Java Virtual Machine (JVM) because it needs to allocate memory for a (new) object, but insufficient memory is available for the object. The JVM will have first tried to free memory used by dead objects, by <a href=\"https://stackoverflow.com/questions/12298725/is-the-garbage-collector-guaranteed-to-run-before-out-of-memory-error\">running the garbage collector</a>.</p>\n\n<p>As an <code>OutOfMemoryError</code> is a <code>VirtualMachineError</code>, the JVM is permitted to <a href=\"https://stackoverflow.com/questions/8913902/when-exactly-is-the-jvm-throwing-an-outofmemoryerror\">throw it at <em>any</em> time</a>, although it must <a href=\"https://stackoverflow.com/questions/12298725/is-the-garbage-collector-guaranteed-to-run-before-out-of-memory-error\">try to release memory through garbage collection first</a>.</p>\n\n<p>However, in practice it is likely to be thrown from a <code>new</code> statement that tried to create an object for which memory could not be allocated. Therefore, you should first examine the stacktrace associated with the exception for clues about the cause of the problem, <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">as you would for any other exception</a>.</p>\n\n<ul>\n<li>If the exception is thrown from an attempt to allocate an array (such as <code>int[] values = new int[n]</code>), the cause could be that you are trying to create an excessively large array (<code>n</code> is too large). Have you made a mistake in the calculation of the size of array you need?</li>\n<li>If the exception is thrown from an attempt to allocate an array in a method of a container class written by someone else, the cause could be that your code is asking the container to store an excessive number of things. Methods such as <code>ArrayList.reserve(int)</code> and <code>HashMap(int)</code> must allocate storage for future use. Have you made a mistake in the calculation of the size of container you need?</li>\n<li>If the exception is thrown from inside a loop, the cause could be that the code has looped too many times. Is your loop termination condition correct? If it is a <code>for</code> loop, are you asking it to loop the correct number of times?</li>\n</ul>\n\n<p>If the stacktrace does not provide enough clues, you could try using a heap profiler. That is a monitoring program that enables you to examine the memory used for objects while the program runs, or examies a <em>heap dump</em> written when the program exits. It can provide information about the sizes, number and classes of objects stored in memory.</p>\n\n<p>The JVM has a <a href=\"https://stackoverflow.com/questions/3358328/why-does-the-sun-jvm-have-a-fixed-upper-limit-for-memory-usage-xmx\">finite amount of memory</a> made available to it. You might conclude that you program is behaving correctly, but just needs more memory to run than has been made available to it.  If you do not explicitly tell the JVM how much memory to use, most implementations will choose a <a href=\"https://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined\">sensible default</a> amount based on the amount of RAM that your computer has, but that amount could be too small for your program. Command line options for the JVM can control how much memory is made available. For most JVM implementations, the most important of those options are <a href=\"https://stackoverflow.com/questions/1030256/java-app-that-uses-a-lot-of-memory-use-xmx\"><code>-Xmx</code></a> and <code>-Xms</code>.</p>\n"},{"tags":[],"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404217623,"creation_date":1404217623,"answer_id":24510283,"question_id":24510188,"body_markdown":"To debug an `OutOfMemoryError`, invoke the JVM with the `-XX:+HeapDumpOnOutOfMemoryError` option, which will cause a heap dump to be written out when an `OutOfMemoryError` occurs. Then use a tool like [VisualVM](http://docs.oracle.com/javase/8/docs/technotes/guides/visualvm/), [jhat](http://docs.oracle.com/javase/8/docs/technotes/tools/unix/jhat.html), or [fasthat](https://github.com/on-site/fasthat) to look at the heap dump.\r\n\r\nYou can also generate a heap dump manually at any time by using [jmap](http://docs.oracle.com/javase/8/docs/technotes/tools/unix/jmap.html) with the `-dump` option.\r\n\r\n*Disclosure: I&#39;m the maintainer of fasthat, which is a fork of jhat.*","title":"What is an OutOfMemoryError and how do I debug and fix it","body":"<p>To debug an <code>OutOfMemoryError</code>, invoke the JVM with the <code>-XX:+HeapDumpOnOutOfMemoryError</code> option, which will cause a heap dump to be written out when an <code>OutOfMemoryError</code> occurs. Then use a tool like <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/visualvm/\" rel=\"noreferrer\">VisualVM</a>, <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/unix/jhat.html\" rel=\"noreferrer\">jhat</a>, or <a href=\"https://github.com/on-site/fasthat\" rel=\"noreferrer\">fasthat</a> to look at the heap dump.</p>\n\n<p>You can also generate a heap dump manually at any time by using <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/unix/jmap.html\" rel=\"noreferrer\">jmap</a> with the <code>-dump</code> option.</p>\n\n<p><em>Disclosure: I'm the maintainer of fasthat, which is a fork of jhat.</em></p>\n"},{"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404217691,"creation_date":1404217691,"answer_id":24510317,"question_id":24510188,"body_markdown":"When the application resources run out of the allocated memory of JVM heap, the OutOfMemmoryException is thrown. Try increasing JVM heap size.","title":"What is an OutOfMemoryError and how do I debug and fix it","body":"<p>When the application resources run out of the allocated memory of JVM heap, the OutOfMemmoryException is thrown. Try increasing JVM heap size.</p>\n"},{"tags":[],"owner":{"account_id":5345310,"reputation":1870,"user_id":4261022,"accept_rate":40,"display_name":"Mike Clark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422956673,"creation_date":1422956673,"answer_id":28295735,"question_id":24510188,"body_markdown":"This problem occur when tomcat goes out of memory i.e tomcat has less memory configured then the application required to run application.\r\n\r\nSo to overcome this problem go to the **tomcat bin directory** and **create a new file  setenv.bat** and define PermSize in that file as below:\r\n\r\n**set JAVA_OPTS=-Dfile.encoding=UTF-8 -Xms512m -Xmx1024m -XX:PermSize=512m -XX:MaxPermSize=1024m** \r\n\r\nPermSize can be set to more higher range according to the application requirement.\r\n","title":"What is an OutOfMemoryError and how do I debug and fix it","body":"<p>This problem occur when tomcat goes out of memory i.e tomcat has less memory configured then the application required to run application.</p>\n\n<p>So to overcome this problem go to the <strong>tomcat bin directory</strong> and <strong>create a new file  setenv.bat</strong> and define PermSize in that file as below:</p>\n\n<p><strong>set JAVA_OPTS=-Dfile.encoding=UTF-8 -Xms512m -Xmx1024m -XX:PermSize=512m -XX:MaxPermSize=1024m</strong> </p>\n\n<p>PermSize can be set to more higher range according to the application requirement.</p>\n"}],"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10049,"favorite_count":0,"down_vote_count":4,"up_vote_count":12,"accepted_answer_id":24510189,"answer_count":4,"score":8,"last_activity_date":1701757452,"creation_date":1404217301,"question_id":24510188,"body_markdown":"My Java program threw an `OutOfMemoryError`. How do I debug and fix this problem?\r\n\r\n---\r\nMany newcomers to Java struggle to cope with an `OutOfMemoryError`. This is an attempt to create a canonical question that will answer the most frequently asked questions about an `OutOfMemoryError`. I&#39;m creating this new question, rather than adapting one of the numerous previous questions about a `OutOfMemoryError` because those questions and their answers are tightly coupled to the *particular* problem a person had.\r\n\r\nThis question is distinct from [general advice on debugging exceptions](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors) because the cause of the problem is not always on the call stack, and specific advice is necessary.","title":"What is an OutOfMemoryError and how do I debug and fix it","body":"<p>My Java program threw an <code>OutOfMemoryError</code>. How do I debug and fix this problem?</p>\n\n<hr>\n\n<p>Many newcomers to Java struggle to cope with an <code>OutOfMemoryError</code>. This is an attempt to create a canonical question that will answer the most frequently asked questions about an <code>OutOfMemoryError</code>. I'm creating this new question, rather than adapting one of the numerous previous questions about a <code>OutOfMemoryError</code> because those questions and their answers are tightly coupled to the <em>particular</em> problem a person had.</p>\n\n<p>This question is distinct from <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">general advice on debugging exceptions</a> because the cause of the problem is not always on the call stack, and specific advice is necessary.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":104025,"reputation":5234,"user_id":278329,"accept_rate":90,"display_name":"x4rf41"},"score":2,"creation_date":1376467766,"post_id":18226288,"comment_id":26718931,"body_markdown":"`null` is a valid value for a string in java (and every other programming language i know), so it makes sense that it doesnt choose the fallback, if it the key would simply not exist, it would take the fallback","body":"<code>null</code> is a valid value for a string in java (and every other programming language i know), so it makes sense that it doesnt choose the fallback, if it the key would simply not exist, it would take the fallback"},{"owner":{"account_id":1473844,"reputation":1383,"user_id":1384756,"accept_rate":100,"display_name":"joschplusa"},"score":0,"creation_date":1376480664,"post_id":18226288,"comment_id":26726207,"body_markdown":"Thanks. It&#39;s not the behaviour I expected from _optString_ but it seems that the developer had something different in mind. Have to do the check by myself.","body":"Thanks. It&#39;s not the behaviour I expected from <i>optString</i> but it seems that the developer had something different in mind. Have to do the check by myself."}],"answers":[{"tags":[],"owner":{"account_id":233420,"reputation":2979,"user_id":498888,"display_name":"dev.serghini"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1376518195,"creation_date":1376518195,"answer_id":18243174,"question_id":18226288,"body_markdown":"You basically have 2 choices:\r\n\r\n1) Send a JSON payload with null values\r\n\r\n    {\r\n    &quot;street2&quot;: &quot;s2&quot;,\r\n    &quot;province&quot;: &quot;p1&quot;,\r\n    &quot;street1&quot;: null,\r\n    &quot;postalCode&quot;: null,\r\n    &quot;country&quot;: null,\r\n    &quot;city&quot;: null\r\n    }\r\n  \r\nYou will have to check for null values and parse them accordingly:\r\n\r\n    private String optString_1(final JSONObject json, final String key) {\r\n        return json.isNull(key) ? null : json.optString(key);\r\n    }\r\n\r\n2) Do not send the keys with null values and use optString(key, null) directly (should save you bandwidth).\r\n    \r\n    {\r\n    &quot;street2&quot;: &quot;s2&quot;,\r\n    &quot;province&quot;: &quot;p1&quot;\r\n    }\r\n    ","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>You basically have 2 choices:</p>\n\n<p>1) Send a JSON payload with null values</p>\n\n<pre><code>{\n\"street2\": \"s2\",\n\"province\": \"p1\",\n\"street1\": null,\n\"postalCode\": null,\n\"country\": null,\n\"city\": null\n}\n</code></pre>\n\n<p>You will have to check for null values and parse them accordingly:</p>\n\n<pre><code>private String optString_1(final JSONObject json, final String key) {\n    return json.isNull(key) ? null : json.optString(key);\n}\n</code></pre>\n\n<p>2) Do not send the keys with null values and use optString(key, null) directly (should save you bandwidth).</p>\n\n<pre><code>{\n\"street2\": \"s2\",\n\"province\": \"p1\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168145,"reputation":7673,"user_id":393402,"accept_rate":100,"display_name":"Matt Quigley"},"down_vote_count":0,"up_vote_count":121,"is_accepted":true,"score":121,"last_activity_date":1398819883,"creation_date":1398819883,"answer_id":23377941,"question_id":18226288,"body_markdown":"You&#39;re not alone in running into this problem and scratching your head, thinking &quot;Could they really have meant this?&quot; According to an AOSP issue, the Google engineers ***did*** **consider this a bug**, but they had to be compatible with the org.json implementation, even bug-compatible. \n\nIf you think about it, it makes sense, because if the same code which uses the same libraries run in other Java environments behaves differently in Android, there would be major compatibility problems when using 3rd party libraries. Even if the intentions were good and it truly fixed bugs, it would open up a whole new can of worms.\n\nAccording to the [AOSP issue][1]:\n\n&gt; The behavior is intentional; we went out of our way to be bug-compatible with org.json. Now that that&#39;s fixed, it&#39;s unclear whether we should fix our code as well. Applications may have come to rely on this buggy behavior.\n&gt;\n&gt; If this is causing you grief, I recommend you workaround by using a different mechanism to test for null, such as json.isNull().\n\nHere&#39;s a simple method to help you out:\n\n    /** Return the value mapped by the given key, or {@code null} if not present or null. */\n    public static String optString(JSONObject json, String key)\n    {\n        // http://code.google.com/p/android/issues/detail?id=13830\n        if (json.isNull(key))\n            return null;\n        else\n            return json.optString(key, null);\n    }\n\n\n\n  [1]: https://code.google.com/p/android/issues/detail?id=13830","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>You're not alone in running into this problem and scratching your head, thinking &quot;Could they really have meant this?&quot; According to an AOSP issue, the Google engineers <em><strong>did</strong></em> <strong>consider this a bug</strong>, but they had to be compatible with the org.json implementation, even bug-compatible.</p>\n<p>If you think about it, it makes sense, because if the same code which uses the same libraries run in other Java environments behaves differently in Android, there would be major compatibility problems when using 3rd party libraries. Even if the intentions were good and it truly fixed bugs, it would open up a whole new can of worms.</p>\n<p>According to the <a href=\"https://code.google.com/p/android/issues/detail?id=13830\" rel=\"noreferrer\">AOSP issue</a>:</p>\n<blockquote>\n<p>The behavior is intentional; we went out of our way to be bug-compatible with org.json. Now that that's fixed, it's unclear whether we should fix our code as well. Applications may have come to rely on this buggy behavior.</p>\n<p>If this is causing you grief, I recommend you workaround by using a different mechanism to test for null, such as json.isNull().</p>\n</blockquote>\n<p>Here's a simple method to help you out:</p>\n<pre><code>/** Return the value mapped by the given key, or {@code null} if not present or null. */\npublic static String optString(JSONObject json, String key)\n{\n    // http://code.google.com/p/android/issues/detail?id=13830\n    if (json.isNull(key))\n        return null;\n    else\n        return json.optString(key, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5117151,"reputation":1,"user_id":4101900,"display_name":"bhanu Prakash Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440756743,"creation_date":1440756743,"answer_id":32268565,"question_id":18226288,"body_markdown":"    if (json != null &amp;&amp; json.getString(KEY_SUCCESS) != null){\r\n         // PARSE RESULT \r\n    }else{\r\n        // SHOW NOTIFICIATION: URL/SERVER NOT REACHABLE\r\n   }\r\n\r\nthat is for checking json null with there key word.\r\n\r\n    JSONObject json = new JSONObject(&quot;{\\&quot;hello\\&quot;:null}&quot;);\r\n    json.getString(&quot;hello&quot;);\r\n\r\nthis you get is String &quot;null&quot; not null.\r\n\r\nyour shoud use\r\n\r\n    if(json.isNull(&quot;hello&quot;)) {\r\n        helloStr = null;\r\n    } else {\r\n        helloStr = json.getString(&quot;hello&quot;);\r\n    }\r\n\r\n\r\nfirst check with isNull()....if cant work then try belows\r\n\r\nand also you have JSONObject.NULL to check null value...\r\n\r\n     if ((resultObject.has(&quot;username&quot;)\r\n        &amp;&amp; null != resultObject.getString(&quot;username&quot;)\r\n        &amp;&amp; resultObject.getString(&quot;username&quot;).trim().length() != 0)\r\n        {\r\n               //not null\r\n        }\r\nand in your case also check \r\n\r\n    resultObject.getString(&quot;username&quot;).trim().eqauls(&quot;null&quot;)\r\n\r\n\r\nIf you must parse json first and handle object later, let try this\r\n\r\nParser\r\n\r\n    Object data = json.get(&quot;username&quot;);\r\nHandler\r\n\r\n     if (data instanceof Integer || data instanceof Double || data instanceof Long) {\r\n            // handle number ;\r\n      } else if (data instanceof String) {\r\n            // hanle string;               \r\n      } else if (data == JSONObject.NULL) {\r\n            // hanle null;                 \r\n      }","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<pre><code>if (json != null &amp;&amp; json.getString(KEY_SUCCESS) != null){\n     // PARSE RESULT \n}else{\n    // SHOW NOTIFICIATION: URL/SERVER NOT REACHABLE\n</code></pre>\n\n<p>}</p>\n\n<p>that is for checking json null with there key word.</p>\n\n<pre><code>JSONObject json = new JSONObject(\"{\\\"hello\\\":null}\");\njson.getString(\"hello\");\n</code></pre>\n\n<p>this you get is String \"null\" not null.</p>\n\n<p>your shoud use</p>\n\n<pre><code>if(json.isNull(\"hello\")) {\n    helloStr = null;\n} else {\n    helloStr = json.getString(\"hello\");\n}\n</code></pre>\n\n<p>first check with isNull()....if cant work then try belows</p>\n\n<p>and also you have JSONObject.NULL to check null value...</p>\n\n<pre><code> if ((resultObject.has(\"username\")\n    &amp;&amp; null != resultObject.getString(\"username\")\n    &amp;&amp; resultObject.getString(\"username\").trim().length() != 0)\n    {\n           //not null\n    }\n</code></pre>\n\n<p>and in your case also check </p>\n\n<pre><code>resultObject.getString(\"username\").trim().eqauls(\"null\")\n</code></pre>\n\n<p>If you must parse json first and handle object later, let try this</p>\n\n<p>Parser</p>\n\n<pre><code>Object data = json.get(\"username\");\n</code></pre>\n\n<p>Handler</p>\n\n<pre><code> if (data instanceof Integer || data instanceof Double || data instanceof Long) {\n        // handle number ;\n  } else if (data instanceof String) {\n        // hanle string;               \n  } else if (data == JSONObject.NULL) {\n        // hanle null;                 \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5272485,"reputation":601,"user_id":4210350,"display_name":"Digvijay Machale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537639081,"creation_date":1497247894,"answer_id":44492459,"question_id":18226288,"body_markdown":"If values for key is null like below \r\n    \r\n    {\r\n    \r\n      &quot;status&quot;: 200,\r\n    \r\n      &quot;message&quot;: &quot;&quot;,\r\n    \r\n      &quot;data&quot;: {\r\n    \r\n        &quot;totalFare&quot;: null,\r\n      },\r\n      \r\n    }\r\n    \r\n    check with &quot;isNull&quot; , for Eg:\r\n    \r\n    String strTotalFare;\r\n    \r\n    if (objResponse.isNull(&quot;totalFare&quot;)) \r\n    \r\n    {\r\n    \r\n      strTotalFare = &quot;0&quot;;\r\n    \r\n    } else {\r\n     \r\n     strTotalFare = objResponse.getString(&quot;totalFare&quot;);\r\n    \r\n    }\r\n\r\nif value is &quot;null&quot; for  key &quot;totalFare&quot;, above function will enter in if and assign value zero else it will get actual  value from key.","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>If values for key is null like below </p>\n\n<pre><code>{\n\n  \"status\": 200,\n\n  \"message\": \"\",\n\n  \"data\": {\n\n    \"totalFare\": null,\n  },\n\n}\n\ncheck with \"isNull\" , for Eg:\n\nString strTotalFare;\n\nif (objResponse.isNull(\"totalFare\")) \n\n{\n\n  strTotalFare = \"0\";\n\n} else {\n\n strTotalFare = objResponse.getString(\"totalFare\");\n\n}\n</code></pre>\n\n<p>if value is \"null\" for  key \"totalFare\", above function will enter in if and assign value zero else it will get actual  value from key.</p>\n"},{"tags":[],"owner":{"account_id":6404783,"reputation":88,"user_id":4966383,"display_name":"Bret Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499296521,"creation_date":1499296521,"answer_id":44937407,"question_id":18226288,"body_markdown":"Using Matt Quigley&#39;s answer as a basis, here is the code if you desire to mimic the full functionality of optString, including the fallback portion, written in Kotlin and Java. \r\n\r\n*Kotlin:*\r\n\r\n    fun optString(json: JSONObject, key: String, fallback: String?): String? {\r\n        var stringToReturn = fallback\r\n        if (!json.isNull(key)) {\r\n            stringToReturn = json.optString(key, null)\r\n        }\r\n        return stringToReturn\r\n    }\r\n\r\n*Java:*\r\n\r\n    public static String optString(JSONObject json, String key, String fallback) {\r\n        String stringToReturn = fallback;\r\n        if (!json.isNull(key)) {\r\n            stringToReturn = json.optString(key, null);\r\n        }\r\n        return stringToReturn;\r\n     }\r\n\r\nSimply pass in null for the fallback parameter if you don&#39;t need the fallback.","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>Using Matt Quigley's answer as a basis, here is the code if you desire to mimic the full functionality of optString, including the fallback portion, written in Kotlin and Java. </p>\n\n<p><em>Kotlin:</em></p>\n\n<pre><code>fun optString(json: JSONObject, key: String, fallback: String?): String? {\n    var stringToReturn = fallback\n    if (!json.isNull(key)) {\n        stringToReturn = json.optString(key, null)\n    }\n    return stringToReturn\n}\n</code></pre>\n\n<p><em>Java:</em></p>\n\n<pre><code>public static String optString(JSONObject json, String key, String fallback) {\n    String stringToReturn = fallback;\n    if (!json.isNull(key)) {\n        stringToReturn = json.optString(key, null);\n    }\n    return stringToReturn;\n }\n</code></pre>\n\n<p>Simply pass in null for the fallback parameter if you don't need the fallback.</p>\n"},{"tags":[],"owner":{"account_id":8780408,"reputation":169,"user_id":6564186,"display_name":"Galeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529387990,"creation_date":1528192877,"answer_id":50697353,"question_id":18226288,"body_markdown":"My Josn parser was long and had to create a new class to fix that,\r\nthen just had to add 1 extra line in each method and rename current JSONObject property name, so all other calls were referencing to my new class instead to JSONObject. \r\n\r\n        public static ArrayList&lt;PieceOfNews&gt; readNews(String json) {\r\n        if (json != null) {\r\n            ArrayList&lt;PieceOfNews&gt; res = new ArrayList&lt;&gt;();\r\n            try {\r\n                JSONArray jsonArray = new JSONArray(json);\r\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                    //before JSONObject jo = jsonArray.getJSONObject(i);\r\n                    JSONObject joClassic = jsonArray.getJSONObject(i);\r\n                    //facade\r\n                    FixJsonObject jo = new FixJsonObject(joClassic);\r\n                    PieceOfNews pn = new PieceOfNews();\r\n                    pn.setId(jo.getInt(&quot;id&quot;));\r\n                    pn.setImageUrl(jo.getString(&quot;imageURL&quot;));\r\n                    pn.setText(jo.getString(&quot;text&quot;));\r\n                    pn.setTitle(jo.getString(&quot;title&quot;));\r\n                    pn.setDate(jo.getLong(&quot;mills&quot;));\r\n                    res.add(pn);\r\n                }\r\n                return res;\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nHere is my class with the methods I needed, you can add more\r\n\r\n    public class FixJsonObject {\r\n    private JSONObject jsonObject;\r\n\r\n    public FixJsonObject(JSONObject jsonObject) {\r\n        this.jsonObject = jsonObject;\r\n    }\r\n\r\n    public String optString(String key, String defaultValue) {\r\n        if (jsonObject.isNull(key)) {\r\n            return null;\r\n        } else {\r\n            return jsonObject.optString(key, defaultValue);\r\n        }\r\n    }\r\n\r\n    public String optString(String key) {\r\n        return optString(key, null);\r\n    }\r\n\r\n    public int optInt(String key) {\r\n        if (jsonObject.isNull(key)) {\r\n            return 0;\r\n        } else {\r\n            return jsonObject.optInt(key, 0);\r\n        }\r\n    }\r\n\r\n    public double optDouble(String key) {\r\n        return optDouble(key, 0);\r\n    }\r\n\r\n    public double optDouble(String key, double defaultValue) {\r\n        if (jsonObject.isNull(key)) {\r\n            return 0;\r\n        } else {\r\n            return jsonObject.optDouble(key, defaultValue);\r\n        }\r\n    }\r\n\r\n    public boolean optBoolean(String key, boolean defaultValue) {\r\n        if (jsonObject.isNull(key)) {\r\n            return false;\r\n        } else {\r\n            return jsonObject.optBoolean(key, defaultValue);\r\n        }\r\n    }\r\n\r\n    public long optLong(String key) {\r\n        if (jsonObject.isNull(key)) {\r\n            return 0;\r\n        } else {\r\n            return jsonObject.optLong(key, 0);\r\n        }\r\n    }\r\n\r\n    public long getLong(String key) {\r\n        return optLong(key);\r\n    }\r\n\r\n    public String getString(String key) {\r\n        return optString(key);\r\n    }\r\n\r\n    public int getInt(String key) {\r\n        return optInt(key);\r\n    }\r\n\r\n    public double getDouble(String key) {\r\n        return optDouble(key);\r\n    }\r\n\r\n    public JSONArray getJSONArray(String key) {\r\n        if (jsonObject.isNull(key)) {\r\n            return null;\r\n        } else {\r\n            return jsonObject.optJSONArray(key);\r\n        }\r\n    }\r\n}\r\n","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>My Josn parser was long and had to create a new class to fix that,\nthen just had to add 1 extra line in each method and rename current JSONObject property name, so all other calls were referencing to my new class instead to JSONObject. </p>\n\n<pre><code>    public static ArrayList&lt;PieceOfNews&gt; readNews(String json) {\n    if (json != null) {\n        ArrayList&lt;PieceOfNews&gt; res = new ArrayList&lt;&gt;();\n        try {\n            JSONArray jsonArray = new JSONArray(json);\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\n                //before JSONObject jo = jsonArray.getJSONObject(i);\n                JSONObject joClassic = jsonArray.getJSONObject(i);\n                //facade\n                FixJsonObject jo = new FixJsonObject(joClassic);\n                PieceOfNews pn = new PieceOfNews();\n                pn.setId(jo.getInt(\"id\"));\n                pn.setImageUrl(jo.getString(\"imageURL\"));\n                pn.setText(jo.getString(\"text\"));\n                pn.setTitle(jo.getString(\"title\"));\n                pn.setDate(jo.getLong(\"mills\"));\n                res.add(pn);\n            }\n            return res;\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Here is my class with the methods I needed, you can add more</p>\n\n<pre><code>public class FixJsonObject {\nprivate JSONObject jsonObject;\n\npublic FixJsonObject(JSONObject jsonObject) {\n    this.jsonObject = jsonObject;\n}\n\npublic String optString(String key, String defaultValue) {\n    if (jsonObject.isNull(key)) {\n        return null;\n    } else {\n        return jsonObject.optString(key, defaultValue);\n    }\n}\n\npublic String optString(String key) {\n    return optString(key, null);\n}\n\npublic int optInt(String key) {\n    if (jsonObject.isNull(key)) {\n        return 0;\n    } else {\n        return jsonObject.optInt(key, 0);\n    }\n}\n\npublic double optDouble(String key) {\n    return optDouble(key, 0);\n}\n\npublic double optDouble(String key, double defaultValue) {\n    if (jsonObject.isNull(key)) {\n        return 0;\n    } else {\n        return jsonObject.optDouble(key, defaultValue);\n    }\n}\n\npublic boolean optBoolean(String key, boolean defaultValue) {\n    if (jsonObject.isNull(key)) {\n        return false;\n    } else {\n        return jsonObject.optBoolean(key, defaultValue);\n    }\n}\n\npublic long optLong(String key) {\n    if (jsonObject.isNull(key)) {\n        return 0;\n    } else {\n        return jsonObject.optLong(key, 0);\n    }\n}\n\npublic long getLong(String key) {\n    return optLong(key);\n}\n\npublic String getString(String key) {\n    return optString(key);\n}\n\npublic int getInt(String key) {\n    return optInt(key);\n}\n\npublic double getDouble(String key) {\n    return optDouble(key);\n}\n\npublic JSONArray getJSONArray(String key) {\n    if (jsonObject.isNull(key)) {\n        return null;\n    } else {\n        return jsonObject.optJSONArray(key);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2871426,"reputation":133,"user_id":2464697,"display_name":"Sunit Samanta"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1543577726,"creation_date":1543577726,"answer_id":53556768,"question_id":18226288,"body_markdown":"Got rid off this situation by simply replacing `&quot;null&quot;` with `&quot;&quot;`.\r\n\r\n    String city = address.optString(&quot;city&quot;).replace(&quot;null&quot;, &quot;&quot;);","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>Got rid off this situation by simply replacing <code>\"null\"</code> with <code>\"\"</code>.</p>\n\n<pre><code>String city = address.optString(\"city\").replace(\"null\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2236552,"reputation":740,"user_id":1972778,"accept_rate":100,"display_name":"VPZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599674086,"creation_date":1599674086,"answer_id":63817048,"question_id":18226288,"body_markdown":"I ended up creating a utility class for this purpose:\r\n\r\n```java\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nfinal public class JsonUtil {\r\n    \r\n    @Nullable\r\n    public static String optString(\r\n            @NonNull JSONObject object,\r\n            @NonNull String key\r\n    ) throws JSONException {\r\n        if (object.has(key) &amp;&amp; !object.isNull(key)) {\r\n            return object.getString(key);\r\n        }\r\n        \r\n        return null;\r\n    }\r\n}\r\n```","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>I ended up creating a utility class for this purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nfinal public class JsonUtil {\n    \n    @Nullable\n    public static String optString(\n            @NonNull JSONObject object,\n            @NonNull String key\n    ) throws JSONException {\n        if (object.has(key) &amp;&amp; !object.isNull(key)) {\n            return object.getString(key);\n        }\n        \n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14844439,"reputation":11,"user_id":11574852,"display_name":"bsgdragao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599971555,"creation_date":1599971555,"answer_id":63867184,"question_id":18226288,"body_markdown":"I do like this...\r\n\r\n    String value; \r\n\r\n     if(jsonObject.get(&quot;name&quot;).toString().equals(&quot;null&quot;)) {\r\n      value = &quot;&quot;; \r\n     }else {\r\n      value = jsonObject.getString(&quot;name&quot;); \r\n     }\r\n\r\n          ","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>I do like this...</p>\n<pre><code>String value; \n\n if(jsonObject.get(&quot;name&quot;).toString().equals(&quot;null&quot;)) {\n  value = &quot;&quot;; \n }else {\n  value = jsonObject.getString(&quot;name&quot;); \n }\n\n      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2658916,"reputation":9882,"user_id":2299040,"accept_rate":63,"display_name":"Sahil Manchanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701757259,"creation_date":1701757259,"answer_id":77604165,"question_id":18226288,"body_markdown":"I recently encountered this and here is my Kotlin extension version of `optString`\r\n\r\n    fun JSONObject.optString1(key: String, fallback: String): String{\r\n        if(isNull(key)){\r\n            return fallback\r\n        }\r\n        return getString(key)\r\n    }\r\n\r\nIf the key is null, it would return the fallback string otherwise it would return the value of that key. \r\n\r\nOne certain advantage is you can directly replace your `obj.optString` method calls with `obj.optString1`\r\n","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>I recently encountered this and here is my Kotlin extension version of <code>optString</code></p>\n<pre><code>fun JSONObject.optString1(key: String, fallback: String): String{\n    if(isNull(key)){\n        return fallback\n    }\n    return getString(key)\n}\n</code></pre>\n<p>If the key is null, it would return the fallback string otherwise it would return the value of that key.</p>\n<p>One certain advantage is you can directly replace your <code>obj.optString</code> method calls with <code>obj.optString1</code></p>\n"}],"owner":{"account_id":1473844,"reputation":1383,"user_id":1384756,"accept_rate":100,"display_name":"joschplusa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66665,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":23377941,"answer_count":10,"score":77,"last_activity_date":1701757259,"creation_date":1376467579,"question_id":18226288,"body_markdown":"I&#39;m developing an Android App which uses JSON for the server communication and I&#39;ve got a weird problem when I&#39;m trying to parse my json file.\r\n\r\nThis is my json from the server\r\n\r\n    {\r\n        &quot;street2&quot;: null,\r\n        &quot;province&quot;: null,\r\n        &quot;street1&quot;: null,\r\n        &quot;postalCode&quot;: null,\r\n        &quot;country&quot;: null,\r\n        &quot;city&quot;: null\r\n    }\r\n\r\nI&#39;m getting the value for City by calling `String city = address.optString(&quot;city&quot;, &quot;&quot;)` on my address Json-object. For this situation I&#39;m expecting `city` to be empty (that&#39;s what optString is here for isn&#39;t it?) but in fact it contains the String &quot;null&quot;. So further null- or isEmpty-checks will return false as the String contains text. If I call `address.isNull(&quot;city&quot;)` it returns true which is correct. Only `optString` fails.\r\n\r\nI couldn&#39;t find anything on Google or Stack Overflow for this problem. I don&#39;t really understand how it can happen as I thought `optString` would do exactly what I expected. Anybody knows what&#39;s going wrong here?","title":"JSON jsonObject.optString() returns String &quot;null&quot;","body":"<p>I'm developing an Android App which uses JSON for the server communication and I've got a weird problem when I'm trying to parse my json file.</p>\n<p>This is my json from the server</p>\n<pre><code>{\n    &quot;street2&quot;: null,\n    &quot;province&quot;: null,\n    &quot;street1&quot;: null,\n    &quot;postalCode&quot;: null,\n    &quot;country&quot;: null,\n    &quot;city&quot;: null\n}\n</code></pre>\n<p>I'm getting the value for City by calling <code>String city = address.optString(&quot;city&quot;, &quot;&quot;)</code> on my address Json-object. For this situation I'm expecting <code>city</code> to be empty (that's what optString is here for isn't it?) but in fact it contains the String &quot;null&quot;. So further null- or isEmpty-checks will return false as the String contains text. If I call <code>address.isNull(&quot;city&quot;)</code> it returns true which is correct. Only <code>optString</code> fails.</p>\n<p>I couldn't find anything on Google or Stack Overflow for this problem. I don't really understand how it can happen as I thought <code>optString</code> would do exactly what I expected. Anybody knows what's going wrong here?</p>\n"},{"tags":["java","file","maven"],"comments":[{"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":1,"creation_date":1364840665,"post_id":15749192,"comment_id":22380346,"body_markdown":"Doesn&#39;t work how?  What is your error?","body":"Doesn&#39;t work how?  What is your error?"},{"owner":{"account_id":1245537,"reputation":2911,"user_id":1207086,"accept_rate":95,"display_name":"SRy"},"score":39,"creation_date":1364840881,"post_id":15749192,"comment_id":22380482,"body_markdown":"try this `this.getClass().getResource(&quot;/test.csv&quot;)`","body":"try this <code>this.getClass().getResource(&quot;&#47;test.csv&quot;)</code>"},{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":1,"creation_date":1364840889,"post_id":15749192,"comment_id":22380488,"body_markdown":"http://stackoverflow.com/questions/3891375/how-to-read-a-text-file-resource-into-java-unit-test","body":"<a href=\"http://stackoverflow.com/questions/3891375/how-to-read-a-text-file-resource-into-java-unit-test\" title=\"how to read a text file resource into java unit test\">stackoverflow.com/questions/3891375/&hellip;</a>"},{"owner":{"account_id":3958992,"reputation":447,"user_id":3266623,"display_name":"ShankPossible"},"score":4,"creation_date":1589279587,"post_id":15749192,"comment_id":109223590,"body_markdown":"@SRy it worked (cause this will give absolute path url in return ) however the moment i make jar file it&#39;s not working as its inside a jar and absolute path becomes invalid, is there a way to play with relative path itself","body":"@SRy it worked (cause this will give absolute path url in return ) however the moment i make jar file it&#39;s not working as its inside a jar and absolute path becomes invalid, is there a way to play with relative path itself"},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1609191478,"post_id":15749192,"comment_id":115773904,"body_markdown":"@SRy, somewhere between now and 2013, this seems to have been fixed. I am today able to load root resources without the initial `/`. However, I do `getClass().getClassLoader().getResourceAsStream(filename)`... maybe that&#39;s the difference?","body":"@SRy, somewhere between now and 2013, this seems to have been fixed. I am today able to load root resources without the initial <code>&#47;</code>. However, I do <code>getClass().getClassLoader().getResourceAsStream(filename)</code>... maybe that&#39;s the difference?"}],"answers":[{"tags":[],"owner":{"account_id":79065,"reputation":9725,"user_id":224508,"display_name":"vanza"},"down_vote_count":1,"up_vote_count":117,"is_accepted":false,"score":116,"last_activity_date":1585744037,"creation_date":1364840873,"answer_id":15749260,"question_id":15749192,"body_markdown":"Try:\r\n\r\n    InputStream is = MyTest.class.getResourceAsStream(&quot;/test.csv&quot;);\r\n\r\nIIRC `getResourceAsStream()` by default is relative to the class&#39;s package.\r\n\r\n**As @Terran noted, don&#39;t forget to add the `/` at the starting of the filename** ","title":"How do I load a file from resource folder?","body":"<p>Try:</p>\n\n<pre><code>InputStream is = MyTest.class.getResourceAsStream(\"/test.csv\");\n</code></pre>\n\n<p>IIRC <code>getResourceAsStream()</code> by default is relative to the class's package.</p>\n\n<p><strong>As @Terran noted, don't forget to add the <code>/</code> at the starting of the filename</strong> </p>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":3,"up_vote_count":358,"is_accepted":true,"score":355,"last_activity_date":1530547330,"creation_date":1364840953,"answer_id":15749281,"question_id":15749192,"body_markdown":"Try the next:\r\n\r\n    ClassLoader classloader = Thread.currentThread().getContextClassLoader();\r\n    InputStream is = classloader.getResourceAsStream(&quot;test.csv&quot;);\r\n\r\n---\r\n\r\nIf the above doesn&#39;t work, various projects have been added the following class: [**`ClassLoaderUtil`**](http://grepcode.com/file/repo1.maven.org/maven2/com.opensymphony/xwork/2.1.3/com/opensymphony/xwork2/util/ClassLoaderUtil.java)&lt;sup&gt;1&lt;/sup&gt; (code [here](http://grepcode.com/file_/repo1.maven.org/maven2/com.opensymphony/xwork/2.1.3/com/opensymphony/xwork2/util/ClassLoaderUtil.java/?v=source)).&lt;sup&gt;2&lt;/sup&gt;\r\n\r\nHere are some examples of how that class is used:\r\n\r\n&lt;pre&gt;&lt;sub&gt;src\\main\\java\\com\\company\\test\\YourCallingClass.java\r\nsrc\\main\\java\\com\\opensymphony\\xwork2\\util\\ClassLoaderUtil.java\r\nsrc\\main\\resources\\test.csv&lt;/sub&gt;&lt;/pre&gt;\r\n\r\n\t// java.net.URL\r\n\tURL url = ClassLoaderUtil.getResource(&quot;test.csv&quot;, YourCallingClass.class);\r\n\tPath path = Paths.get(url.toURI());\r\n\tList&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.UTF_8);\r\n\r\n&lt;!-- --&gt;\r\n\r\n\t// java.io.InputStream\r\n\tInputStream inputStream = ClassLoaderUtil.getResourceAsStream(&quot;test.csv&quot;, YourCallingClass.class);\r\n\tInputStreamReader streamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\r\n\tBufferedReader reader = new BufferedReader(streamReader);\r\n\tfor (String line; (line = reader.readLine()) != null;) {\r\n\t\t// Process line\r\n\t}\r\n\r\n---\r\n\r\n*Notes*\r\n\r\n1. [See it](https://web.archive.org/web/20171212030426/http://grepcode.com/file/repo1.maven.org/maven2/com.opensymphony/xwork/2.1.3/com/opensymphony/xwork2/util/ClassLoaderUtil.java) in *The Wayback Machine*.\r\n2. Also in [GitHub](https://github.com/krosenvold/struts2/blob/master/xwork-core/src/main/java/com/opensymphony/xwork2/util/ClassLoaderUtil.java).","title":"How do I load a file from resource folder?","body":"<p>Try the next:</p>\n\n<pre><code>ClassLoader classloader = Thread.currentThread().getContextClassLoader();\nInputStream is = classloader.getResourceAsStream(\"test.csv\");\n</code></pre>\n\n<hr>\n\n<p>If the above doesn't work, various projects have been added the following class: <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.opensymphony/xwork/2.1.3/com/opensymphony/xwork2/util/ClassLoaderUtil.java\" rel=\"noreferrer\"><strong><code>ClassLoaderUtil</code></strong></a><sup>1</sup> (code <a href=\"http://grepcode.com/file_/repo1.maven.org/maven2/com.opensymphony/xwork/2.1.3/com/opensymphony/xwork2/util/ClassLoaderUtil.java/?v=source\" rel=\"noreferrer\">here</a>).<sup>2</sup></p>\n\n<p>Here are some examples of how that class is used:</p>\n\n<pre><sub>src\\main\\java\\com\\company\\test\\YourCallingClass.java\nsrc\\main\\java\\com\\opensymphony\\xwork2\\util\\ClassLoaderUtil.java\nsrc\\main\\resources\\test.csv</sub></pre>\n\n<pre><code>// java.net.URL\nURL url = ClassLoaderUtil.getResource(\"test.csv\", YourCallingClass.class);\nPath path = Paths.get(url.toURI());\nList&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.UTF_8);\n</code></pre>\n\n\n\n<pre><code>// java.io.InputStream\nInputStream inputStream = ClassLoaderUtil.getResourceAsStream(\"test.csv\", YourCallingClass.class);\nInputStreamReader streamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\nBufferedReader reader = new BufferedReader(streamReader);\nfor (String line; (line = reader.readLine()) != null;) {\n    // Process line\n}\n</code></pre>\n\n<hr>\n\n<p><em>Notes</em></p>\n\n<ol>\n<li><a href=\"https://web.archive.org/web/20171212030426/http://grepcode.com/file/repo1.maven.org/maven2/com.opensymphony/xwork/2.1.3/com/opensymphony/xwork2/util/ClassLoaderUtil.java\" rel=\"noreferrer\">See it</a> in <em>The Wayback Machine</em>.</li>\n<li>Also in <a href=\"https://github.com/krosenvold/struts2/blob/master/xwork-core/src/main/java/com/opensymphony/xwork2/util/ClassLoaderUtil.java\" rel=\"noreferrer\">GitHub</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364841340,"creation_date":1364841340,"answer_id":15749385,"question_id":15749192,"body_markdown":"Does the code work when not running the Maven-build jar, for example when running from your IDE? If so, make sure the file is actually included in the jar. The resources folder should be included in the pom file, in `&lt;build&gt;&lt;resources&gt;`.","title":"How do I load a file from resource folder?","body":"<p>Does the code work when not running the Maven-build jar, for example when running from your IDE? If so, make sure the file is actually included in the jar. The resources folder should be included in the pom file, in <code>&lt;build&gt;&lt;resources&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":4066546,"reputation":321,"user_id":3341255,"display_name":"Bimales Mandal"},"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1417605036,"creation_date":1417310339,"answer_id":27209015,"question_id":15749192,"body_markdown":"    ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n    InputStream is = loader.getResourceAsStream(&quot;test.csv&quot;);\r\n\r\nIf you use context ClassLoader to find a resource then definitely it will cost application performance.   ","title":"How do I load a file from resource folder?","body":"<pre><code>ClassLoader loader = Thread.currentThread().getContextClassLoader();\nInputStream is = loader.getResourceAsStream(\"test.csv\");\n</code></pre>\n\n<p>If you use context ClassLoader to find a resource then definitely it will cost application performance.   </p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422900520,"creation_date":1422900520,"answer_id":28283998,"question_id":15749192,"body_markdown":"The following class can be used to load a `resource` from the `classpath` and also receive a fitting error message in case there&#39;s a problem with the given `filePath`.\r\n\r\n    import java.io.InputStream;\r\n    import java.nio.file.NoSuchFileException;\r\n    \r\n    public class ResourceLoader\r\n    {\r\n    \tprivate String filePath;\r\n    \r\n    \tpublic ResourceLoader(String filePath)\r\n    \t{\r\n    \t\tthis.filePath = filePath;\r\n    \r\n    \t\tif(filePath.startsWith(&quot;/&quot;))\r\n    \t\t{\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Relative paths may not have a leading slash!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic InputStream getResource() throws NoSuchFileException\r\n    \t{\r\n    \t\tClassLoader classLoader = this.getClass().getClassLoader();\r\n    \r\n    \t\tInputStream inputStream = classLoader.getResourceAsStream(filePath);\r\n    \r\n    \t\tif(inputStream == null)\r\n    \t\t{\r\n    \t\t\tthrow new NoSuchFileException(&quot;Resource file not found. Note that the current directory is the source folder!&quot;);\r\n    \t\t}\r\n    \r\n    \t\treturn inputStream;\r\n    \t}\r\n    }","title":"How do I load a file from resource folder?","body":"<p>The following class can be used to load a <code>resource</code> from the <code>classpath</code> and also receive a fitting error message in case there's a problem with the given <code>filePath</code>.</p>\n\n<pre><code>import java.io.InputStream;\nimport java.nio.file.NoSuchFileException;\n\npublic class ResourceLoader\n{\n    private String filePath;\n\n    public ResourceLoader(String filePath)\n    {\n        this.filePath = filePath;\n\n        if(filePath.startsWith(\"/\"))\n        {\n            throw new IllegalArgumentException(\"Relative paths may not have a leading slash!\");\n        }\n    }\n\n    public InputStream getResource() throws NoSuchFileException\n    {\n        ClassLoader classLoader = this.getClass().getClassLoader();\n\n        InputStream inputStream = classLoader.getResourceAsStream(filePath);\n\n        if(inputStream == null)\n        {\n            throw new NoSuchFileException(\"Resource file not found. Note that the current directory is the source folder!\");\n        }\n\n        return inputStream;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130027,"reputation":26113,"user_id":328989,"accept_rate":79,"display_name":"Datageek"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1492196113,"creation_date":1457121215,"answer_id":35804936,"question_id":15749192,"body_markdown":"Here is one quick solution with the use of [Guava][1]:\r\n\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.io.Resources;\r\n\r\n    public String readResource(final String fileName, Charset charset) throws IOException {\r\n            return Resources.toString(Resources.getResource(fileName), charset);\r\n    }\r\n\r\nUsage:\r\n\r\n    String fixture = this.readResource(&quot;filename.txt&quot;, Charsets.UTF_8)\r\n\r\n\r\n  [1]: https://github.com/google/guava","title":"How do I load a file from resource folder?","body":"<p>Here is one quick solution with the use of <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>import com.google.common.base.Charsets;\nimport com.google.common.io.Resources;\n\npublic String readResource(final String fileName, Charset charset) throws IOException {\n        return Resources.toString(Resources.getResource(fileName), charset);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>String fixture = this.readResource(\"filename.txt\", Charsets.UTF_8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5485972,"reputation":447,"user_id":4360728,"display_name":"AndreGraveler"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1470450350,"creation_date":1470450350,"answer_id":38800014,"question_id":15749192,"body_markdown":"I get it to work without any reference to &quot;class&quot; or &quot;ClassLoader&quot;.\r\n\r\nLet&#39;s say we have three scenarios with the location of the file &#39;example.file&#39; and your working directory (where your app executes) is home/mydocuments/program/projects/myapp:\r\n\r\na)A sub folder descendant to the working directory: \r\nmyapp/res/files/example.file\r\n\r\nb)A sub folder not descendant to the working directory: \r\nprojects/files/example.file\r\n\r\nb2)Another sub folder not descendant to the working directory: \r\nprogram/files/example.file\r\n\r\nc)A root folder: \r\nhome/mydocuments/files/example.file (Linux; in Windows replace home/ with C:)\r\n\r\n1) Get the right path:\r\na)`String path = &quot;res/files/example.file&quot;;`\r\nb)`String path = &quot;../projects/files/example.file&quot;`\r\nb2)`String path = &quot;../../program/files/example.file&quot;`\r\nc)`String path = &quot;/home/mydocuments/files/example.file&quot;`\r\n\r\nBasically, if it is a root folder, start the path name with a leading slash.\r\nIf it is a sub folder, no slash must be before the path name. If the sub folder is not descendant to the working directory you have to cd to it using &quot;../&quot;. This tells the system to go up one folder.\r\n\r\n2) Create a File object by passing the right path:\r\n\r\n    File file = new File(path);\r\n\r\n3) You are now good to go:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(file));","title":"How do I load a file from resource folder?","body":"<p>I get it to work without any reference to \"class\" or \"ClassLoader\".</p>\n\n<p>Let's say we have three scenarios with the location of the file 'example.file' and your working directory (where your app executes) is home/mydocuments/program/projects/myapp:</p>\n\n<p>a)A sub folder descendant to the working directory: \nmyapp/res/files/example.file</p>\n\n<p>b)A sub folder not descendant to the working directory: \nprojects/files/example.file</p>\n\n<p>b2)Another sub folder not descendant to the working directory: \nprogram/files/example.file</p>\n\n<p>c)A root folder: \nhome/mydocuments/files/example.file (Linux; in Windows replace home/ with C:)</p>\n\n<p>1) Get the right path:\na)<code>String path = \"res/files/example.file\";</code>\nb)<code>String path = \"../projects/files/example.file\"</code>\nb2)<code>String path = \"../../program/files/example.file\"</code>\nc)<code>String path = \"/home/mydocuments/files/example.file\"</code></p>\n\n<p>Basically, if it is a root folder, start the path name with a leading slash.\nIf it is a sub folder, no slash must be before the path name. If the sub folder is not descendant to the working directory you have to cd to it using \"../\". This tells the system to go up one folder.</p>\n\n<p>2) Create a File object by passing the right path:</p>\n\n<pre><code>File file = new File(path);\n</code></pre>\n\n<p>3) You are now good to go:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(file));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6147981,"reputation":1870,"user_id":4793343,"accept_rate":87,"display_name":"Piyush Mittal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487579706,"creation_date":1487579706,"answer_id":42339765,"question_id":15749192,"body_markdown":"getResource() was working fine with the resources files placed in `src/main/resources` only. To get a file which is at the path other than `src/main/resources` say `src/test/java` you need to create it exlicitly.\r\n\r\n\r\n\r\nthe following example may help you \r\n\r\n\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws URISyntaxException, IOException {\r\n    \t\tURL location = Main.class.getProtectionDomain().getCodeSource().getLocation();\r\n    \t\tBufferedReader br = new BufferedReader(new FileReader(location.getPath().toString().replace(&quot;/target/classes/&quot;, &quot;/src/test/java/youfilename.txt&quot;)));\r\n    \t}\r\n    }\r\n\r\n","title":"How do I load a file from resource folder?","body":"<p>getResource() was working fine with the resources files placed in <code>src/main/resources</code> only. To get a file which is at the path other than <code>src/main/resources</code> say <code>src/test/java</code> you need to create it exlicitly.</p>\n\n<p>the following example may help you </p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.net.URL;\n\npublic class Main {\n    public static void main(String[] args) throws URISyntaxException, IOException {\n        URL location = Main.class.getProtectionDomain().getCodeSource().getLocation();\n        BufferedReader br = new BufferedReader(new FileReader(location.getPath().toString().replace(\"/target/classes/\", \"/src/test/java/youfilename.txt\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3673303,"reputation":1737,"user_id":3059941,"display_name":"srsajid"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1643218389,"creation_date":1492187754,"answer_id":43415602,"question_id":15749192,"body_markdown":"Try following codes on Spring project\r\n\r\n    ClassPathResource resource = new ClassPathResource(&quot;fileName&quot;);\r\n    InputStream inputStream = resource.getInputStream();\r\n\r\nOr on non spring project\r\n\r\n     ClassLoader classLoader = getClass().getClassLoader();\r\n     File file = new File(classLoader.getResource(&quot;fileName&quot;).getFile());\r\n     InputStream inputStream = new FileInputStream(file);","title":"How do I load a file from resource folder?","body":"<p>Try following codes on Spring project</p>\n<pre><code>ClassPathResource resource = new ClassPathResource(&quot;fileName&quot;);\nInputStream inputStream = resource.getInputStream();\n</code></pre>\n<p>Or on non spring project</p>\n<pre><code> ClassLoader classLoader = getClass().getClassLoader();\n File file = new File(classLoader.getResource(&quot;fileName&quot;).getFile());\n InputStream inputStream = new FileInputStream(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1506527143,"creation_date":1506527143,"answer_id":46452118,"question_id":15749192,"body_markdown":"Now I am illustrating the source code for reading a font from maven created resources directory, \r\n\r\n&gt; scr/main/resources/calibril.ttf\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    Font getCalibriLightFont(int fontSize){\r\n    \tFont font = null;\r\n    \ttry{\r\n    \t\tURL fontURL = OneMethod.class.getResource(&quot;/calibril.ttf&quot;);\r\n    \t\tInputStream fontStream = fontURL.openStream();\r\n    \t\tfont = new Font(Font.createFont(Font.TRUETYPE_FONT, fontStream).getFamily(), Font.PLAIN, fontSize);\r\n    \t\tfontStream.close();\r\n    \t}catch(IOException | FontFormatException ief){\r\n    \t\tfont = new Font(&quot;Arial&quot;, Font.PLAIN, fontSize);\r\n    \t\tief.printStackTrace();\r\n    \t}\t\r\n    \treturn font;\r\n    }\r\n\r\nIt worked for me and hope that the entire source code will also help you, Enjoy!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cxA6E.png","title":"How do I load a file from resource folder?","body":"<p>Now I am illustrating the source code for reading a font from maven created resources directory, </p>\n\n<blockquote>\n  <p>scr/main/resources/calibril.ttf</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/cxA6E.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cxA6E.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Font getCalibriLightFont(int fontSize){\n    Font font = null;\n    try{\n        URL fontURL = OneMethod.class.getResource(\"/calibril.ttf\");\n        InputStream fontStream = fontURL.openStream();\n        font = new Font(Font.createFont(Font.TRUETYPE_FONT, fontStream).getFamily(), Font.PLAIN, fontSize);\n        fontStream.close();\n    }catch(IOException | FontFormatException ief){\n        font = new Font(\"Arial\", Font.PLAIN, fontSize);\n        ief.printStackTrace();\n    }   \n    return font;\n}\n</code></pre>\n\n<p>It worked for me and hope that the entire source code will also help you, Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":10920703,"reputation":2232,"user_id":8027110,"display_name":"shalamus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541186761,"creation_date":1541186761,"answer_id":53124738,"question_id":15749192,"body_markdown":"Import the following:\r\n\r\n    import java.io.IOException;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n\r\nThe following method returns a file in an ArrayList of Strings:\r\n\r\n    public ArrayList&lt;String&gt; loadFile(String filename){\r\n\r\n      ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n\r\n      try{\r\n\r\n        ClassLoader classloader = Thread.currentThread().getContextClassLoader();\r\n        InputStream inputStream = classloader.getResourceAsStream(filename);\r\n        InputStreamReader streamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\r\n        BufferedReader reader = new BufferedReader(streamReader);\r\n        for (String line; (line = reader.readLine()) != null;) {\r\n          lines.add(line);\r\n        }\r\n\r\n      }catch(FileNotFoundException fnfe){\r\n        // process errors\r\n      }catch(IOException ioe){\r\n        // process errors\r\n      }\r\n      return lines;\r\n    }","title":"How do I load a file from resource folder?","body":"<p>Import the following:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.FileNotFoundException;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.InputStream;\nimport java.util.ArrayList;\n</code></pre>\n\n<p>The following method returns a file in an ArrayList of Strings:</p>\n\n<pre><code>public ArrayList&lt;String&gt; loadFile(String filename){\n\n  ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n\n  try{\n\n    ClassLoader classloader = Thread.currentThread().getContextClassLoader();\n    InputStream inputStream = classloader.getResourceAsStream(filename);\n    InputStreamReader streamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\n    BufferedReader reader = new BufferedReader(streamReader);\n    for (String line; (line = reader.readLine()) != null;) {\n      lines.add(line);\n    }\n\n  }catch(FileNotFoundException fnfe){\n    // process errors\n  }catch(IOException ioe){\n    // process errors\n  }\n  return lines;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1272260,"reputation":993,"user_id":1228276,"accept_rate":18,"display_name":"rakeeee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612885369,"creation_date":1548164434,"answer_id":54309603,"question_id":15749192,"body_markdown":"I got it work on both running jar and in IDE by writing as\r\n\r\n    \r\n    InputStream schemaStream = \r\n          ProductUtil.class.getClassLoader().getResourceAsStream(jsonSchemaPath);\r\n    byte[] buffer = new byte[schemaStream.available()];\r\n    schemaStream.read(buffer);\r\n\r\n    File tempFile = File.createTempFile(&quot;com/package/schema/testSchema&quot;, &quot;json&quot;);\r\n    tempFile.deleteOnExit();\r\n    FileOutputStream out = new FileOutputStream(tempFile);\r\n    out.write(buffer);","title":"How do I load a file from resource folder?","body":"<p>I got it work on both running jar and in IDE by writing as</p>\n<pre><code>InputStream schemaStream = \n      ProductUtil.class.getClassLoader().getResourceAsStream(jsonSchemaPath);\nbyte[] buffer = new byte[schemaStream.available()];\nschemaStream.read(buffer);\n\nFile tempFile = File.createTempFile(&quot;com/package/schema/testSchema&quot;, &quot;json&quot;);\ntempFile.deleteOnExit();\nFileOutputStream out = new FileOutputStream(tempFile);\nout.write(buffer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12395,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1632326301,"creation_date":1553825803,"answer_id":55409595,"question_id":15749192,"body_markdown":"I faced [the same issue][1].\r\n\r\n\r\nThe file was not found by a class loader, which means it was not packed into the artifact (jar). You need to **build the project**. For example, with maven:\r\n\r\n    mvn clean package\r\n\r\n\r\nSo the files you added to resources folder will get into maven build and become available to the application.\r\n\r\nI would like to keep my answer: it does not explain how to read a file (other answers do explain that), it answers **why** `InputStream` or `resource` was **null**. Similar [answer is here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27703508/read-file-from-src-main-resources\r\n  [2]: https://stackoverflow.com/a/55409569/4587961","title":"How do I load a file from resource folder?","body":"<p>I faced <a href=\"https://stackoverflow.com/questions/27703508/read-file-from-src-main-resources\">the same issue</a>.</p>\n<p>The file was not found by a class loader, which means it was not packed into the artifact (jar). You need to <strong>build the project</strong>. For example, with maven:</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>So the files you added to resources folder will get into maven build and become available to the application.</p>\n<p>I would like to keep my answer: it does not explain how to read a file (other answers do explain that), it answers <strong>why</strong> <code>InputStream</code> or <code>resource</code> was <strong>null</strong>. Similar <a href=\"https://stackoverflow.com/a/55409569/4587961\">answer is here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2589411,"reputation":435,"user_id":2244431,"display_name":"phray2002"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1638330121,"creation_date":1570167375,"answer_id":58230499,"question_id":15749192,"body_markdown":"For java **after 1.7**\r\n\r\n   \r\n\r\n     List&lt;String&gt; lines = Files.readAllLines(Paths.get(getClass().getResource(&quot;test.csv&quot;).toURI()));\r\n\r\nAlternatively you can use Spring utils if you are in Spring echosystem\r\n\r\n    final val file = ResourceUtils.getFile(&quot;classpath:json/abcd.json&quot;);\r\n\r\nTo get to more behind the scene, check out following blog\r\n\r\nhttps://todzhang.com/blogs/tech/en/save_resources_to_files","title":"How do I load a file from resource folder?","body":"<p>For java <strong>after 1.7</strong></p>\n<pre><code> List&lt;String&gt; lines = Files.readAllLines(Paths.get(getClass().getResource(&quot;test.csv&quot;).toURI()));\n</code></pre>\n<p>Alternatively you can use Spring utils if you are in Spring echosystem</p>\n<pre><code>final val file = ResourceUtils.getFile(&quot;classpath:json/abcd.json&quot;);\n</code></pre>\n<p>To get to more behind the scene, check out following blog</p>\n<p><a href=\"https://todzhang.com/blogs/tech/en/save_resources_to_files\" rel=\"noreferrer\">https://todzhang.com/blogs/tech/en/save_resources_to_files</a></p>\n"},{"tags":[],"owner":{"account_id":2790085,"reputation":11324,"user_id":2400485,"accept_rate":43,"display_name":"shiva kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1571814974,"creation_date":1571814306,"answer_id":58517220,"question_id":15749192,"body_markdown":"    this.getClass().getClassLoader().getResource(&quot;filename&quot;).getPath()","title":"How do I load a file from resource folder?","body":"<pre><code>this.getClass().getClassLoader().getResource(\"filename\").getPath()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1602244174,"creation_date":1575925988,"answer_id":59256704,"question_id":15749192,"body_markdown":"Non spring project:\r\n\r\n    String filePath = Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;any.json&quot;)).getPath();\r\n\r\n    Stream&lt;String&gt; lines = Files.lines(Paths.get(filePath));\r\n\r\nOr\r\n\r\n    String filePath = Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;any.json&quot;)).getPath();\r\n\r\n    InputStream in = new FileInputStream(filePath);\r\n\r\nFor spring projects, you can also use one line code to get any file under resources folder: \r\n\r\n\r\n    File file = ResourceUtils.getFile(ResourceUtils.CLASSPATH_URL_PREFIX + &quot;any.json&quot;);\r\n\r\n\tString content = new String(Files.readAllBytes(file.toPath()));","title":"How do I load a file from resource folder?","body":"<p>Non spring project:</p>\n<pre><code>String filePath = Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;any.json&quot;)).getPath();\n\nStream&lt;String&gt; lines = Files.lines(Paths.get(filePath));\n</code></pre>\n<p>Or</p>\n<pre><code>String filePath = Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;any.json&quot;)).getPath();\n\nInputStream in = new FileInputStream(filePath);\n</code></pre>\n<p>For spring projects, you can also use one line code to get any file under resources folder:</p>\n<pre><code>File file = ResourceUtils.getFile(ResourceUtils.CLASSPATH_URL_PREFIX + &quot;any.json&quot;);\n\nString content = new String(Files.readAllBytes(file.toPath()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10643013,"reputation":300,"user_id":7837411,"accept_rate":0,"display_name":"Bhawna Joshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586109848,"creation_date":1586109848,"answer_id":61047136,"question_id":15749192,"body_markdown":"You can use the com.google.common.io.Resources.getResource to read the url of file and then get the file content using java.nio.file.Files to read the content of file.\r\n\r\n    URL urlPath = Resources.getResource(&quot;src/main/resource&quot;);\r\n    List&lt;String&gt; multilineContent= Files.readAllLines(Paths.get(urlPath.toURI()));","title":"How do I load a file from resource folder?","body":"<p>You can use the com.google.common.io.Resources.getResource to read the url of file and then get the file content using java.nio.file.Files to read the content of file.</p>\n\n<pre><code>URL urlPath = Resources.getResource(\"src/main/resource\");\nList&lt;String&gt; multilineContent= Files.readAllLines(Paths.get(urlPath.toURI()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15700458,"reputation":121,"user_id":11328722,"display_name":"sagar vyas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600839813,"creation_date":1600839813,"answer_id":64021719,"question_id":15749192,"body_markdown":"if you are loading file in static method then\r\n`ClassLoader classLoader = getClass().getClassLoader();`\r\nthis might give you an error.\r\n\r\nYou can try this \r\ne.g. file you want to load from resources is resources &gt;&gt; Images &gt;&gt; Test.gif\r\n\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.core.io.Resource;\r\n\r\n    Resource resource = new ClassPathResource(&quot;Images/Test.gif&quot;);\r\n\r\n\t\tFile file = resource.getFile();","title":"How do I load a file from resource folder?","body":"<p>if you are loading file in static method then\n<code>ClassLoader classLoader = getClass().getClassLoader();</code>\nthis might give you an error.</p>\n<p>You can try this\ne.g. file you want to load from resources is resources &gt;&gt; Images &gt;&gt; Test.gif</p>\n<pre><code>import org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\n\nResource resource = new ClassPathResource(&quot;Images/Test.gif&quot;);\n\n    File file = resource.getFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":559587,"reputation":11480,"user_id":1245622,"accept_rate":76,"display_name":"linqu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602755876,"creation_date":1602755876,"answer_id":64369112,"question_id":15749192,"body_markdown":"My file in the test folder could not be found even though I followed the answers. It got resolved by **rebuilding the project**. It seems IntelliJ did not recognize the new file automatically. Pretty nasty to find out.\r\n","title":"How do I load a file from resource folder?","body":"<p>My file in the test folder could not be found even though I followed the answers. It got resolved by <strong>rebuilding the project</strong>. It seems IntelliJ did not recognize the new file automatically. Pretty nasty to find out.</p>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612336160,"creation_date":1612336160,"answer_id":66022750,"question_id":15749192,"body_markdown":"To read the files from  src/resources folder then try this :\r\n\r\n    DataSource fds = new FileDataSource(getFileHandle(&quot;images/sample.jpeg&quot;));\r\n\r\n    public static File getFileHandle(String fileName){\r\n           return new File(YourClassName.class.getClassLoader().getResource(fileName).getFile());\r\n    }\r\n\r\nin case of non static reference:  \r\n\r\n    return new File(getClass().getClassLoader().getResource(fileName).getFile());\r\n\r\n","title":"How do I load a file from resource folder?","body":"<p>To read the files from  src/resources folder then try this :</p>\n<pre><code>DataSource fds = new FileDataSource(getFileHandle(&quot;images/sample.jpeg&quot;));\n\npublic static File getFileHandle(String fileName){\n       return new File(YourClassName.class.getClassLoader().getResource(fileName).getFile());\n}\n</code></pre>\n<p>in case of non static reference:</p>\n<pre><code>return new File(getClass().getClassLoader().getResource(fileName).getFile());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9275935,"reputation":270,"user_id":6888598,"display_name":"yasin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659011615,"creation_date":1659011615,"answer_id":73152989,"question_id":15749192,"body_markdown":"This worked pretty fine for me :\r\n\r\n    InputStream in = getClass().getResourceAsStream(&quot;/main/resources/xxx.xxx&quot;);\r\n    InputStreamReader streamReader = new InputStreamReader(in, StandardCharsets.UTF_8);\r\n    BufferedReader reader = new BufferedReader(streamReader);\r\n    String content = &quot;&quot;;\r\n    for (String line; (line = reader.readLine()) != null;) {\r\n        content += line;\r\n    }","title":"How do I load a file from resource folder?","body":"<p>This worked pretty fine for me :</p>\n<pre><code>InputStream in = getClass().getResourceAsStream(&quot;/main/resources/xxx.xxx&quot;);\nInputStreamReader streamReader = new InputStreamReader(in, StandardCharsets.UTF_8);\nBufferedReader reader = new BufferedReader(streamReader);\nString content = &quot;&quot;;\nfor (String line; (line = reader.readLine()) != null;) {\n    content += line;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123367,"reputation":1413,"user_id":317772,"accept_rate":70,"display_name":"OJVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692296484,"creation_date":1692296484,"answer_id":76924188,"question_id":15749192,"body_markdown":"I am currently doing it this way.\r\n\r\nThis is my structure.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    final String path =   &quot;src/test/resources/archivos/B-163.txt&quot;;\r\n    final Path filePath = Path.of( path );\r\n    final String documento = Files.readString( filePath );\r\n    \t\t \r\n    log.debug(&quot;DOCUMENTO: {}&quot; , document); \r\n\r\nI am working with Java 11.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/up8ip.png","title":"How do I load a file from resource folder?","body":"<p>I am currently doing it this way.</p>\n<p>This is my structure.\n<a href=\"https://i.stack.imgur.com/up8ip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/up8ip.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>final String path =   &quot;src/test/resources/archivos/B-163.txt&quot;;\nfinal Path filePath = Path.of( path );\nfinal String documento = Files.readString( filePath );\n         \nlog.debug(&quot;DOCUMENTO: {}&quot; , document); \n</code></pre>\n<p>I am working with Java 11.</p>\n"},{"tags":[],"owner":{"account_id":6286298,"reputation":1368,"user_id":4885394,"display_name":"George Shalvashvili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697141029,"creation_date":1697140509,"answer_id":77283517,"question_id":15749192,"body_markdown":"For Kotlin:\r\n\r\n```kotlin\r\nimport java.nio.charset.StandardCharsets\r\nimport java.nio.file.Files\r\nimport java.nio.file.Paths\r\n\r\nval lines = Files.readAllLines(\r\n    Paths.get((object {}).javaClass.getResource(&quot;videos.txt&quot;).toURI()),\r\n    StandardCharsets.UTF_8\r\n)\r\n\r\nlines // will contain list of lines in a file\r\n```","title":"How do I load a file from resource folder?","body":"<p>For Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.nio.charset.StandardCharsets\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\nval lines = Files.readAllLines(\n    Paths.get((object {}).javaClass.getResource(&quot;videos.txt&quot;).toURI()),\n    StandardCharsets.UTF_8\n)\n\nlines // will contain list of lines in a file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21573632,"reputation":106,"user_id":15906145,"display_name":"Assay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701754604,"creation_date":1701754604,"answer_id":77604013,"question_id":15749192,"body_markdown":"For Kotlin I am doing the following:\r\n1) I created an assets folder in my project \r\n(for Android studio go to File -&gt; New-&gt; Folder -&gt; Assets Folder)\r\n2) Copied my assets (.txt files) to this folder\r\n3) Then I used the code below\r\n\r\nImport these items:\r\n\r\n        import android.content.Context\r\n        import android.util.Log\r\n        import java.io.FileNotFoundException\r\n\r\nI created a function like this:\r\n         \r\n        fun loadBook(context: Context) {\r\n           val assetManager = context.assets\r\n           try {\r\n              val inputStream = assetManager?.open(&quot;19-Psalms.usfm&quot;)\r\n              val lineList = mutableListOf&lt;String&gt;()\r\n\r\n              inputStream?.bufferedReader()?.forEachLine { lineList.add(it) }\r\n              lineList.forEach{println(&quot;&gt;  $it&quot;)}\r\n          }\r\n          catch (e:FileNotFoundException) {\r\n              Log.e(&quot;FileNotFoundException&quot;,&quot;File not found&quot;)\r\n          }\r\n        }\r\n     \r\n\r\n\r\n","title":"How do I load a file from resource folder?","body":"<p>For Kotlin I am doing the following:</p>\n<ol>\n<li>I created an assets folder in my project\n(for Android studio go to File -&gt; New-&gt; Folder -&gt; Assets Folder)</li>\n<li>Copied my assets (.txt files) to this folder</li>\n<li>Then I used the code below</li>\n</ol>\n<p>Import these items:</p>\n<pre><code>    import android.content.Context\n    import android.util.Log\n    import java.io.FileNotFoundException\n</code></pre>\n<p>I created a function like this:</p>\n<pre><code>    fun loadBook(context: Context) {\n       val assetManager = context.assets\n       try {\n          val inputStream = assetManager?.open(&quot;19-Psalms.usfm&quot;)\n          val lineList = mutableListOf&lt;String&gt;()\n\n          inputStream?.bufferedReader()?.forEachLine { lineList.add(it) }\n          lineList.forEach{println(&quot;&gt;  $it&quot;)}\n      }\n      catch (e:FileNotFoundException) {\n          Log.e(&quot;FileNotFoundException&quot;,&quot;File not found&quot;)\n      }\n    }\n \n</code></pre>\n"}],"owner":{"account_id":305557,"reputation":13620,"user_id":615780,"accept_rate":92,"display_name":"codereviewanskquestions"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731763,"favorite_count":0,"down_vote_count":1,"up_vote_count":389,"accepted_answer_id":15749281,"answer_count":24,"score":388,"last_activity_date":1701754604,"creation_date":1364840630,"question_id":15749192,"body_markdown":"My project has the following structure:\r\n \r\n    /src/main/java/\r\n    /src/main/resources/\r\n    /src/test/java/\r\n    /src/test/resources/\r\n\r\nI have a file in `/src/test/resources/test.csv` and I want to load the file from a unit test in `/src/test/java/MyTest.java` \r\n\r\nI have this code which didn&#39;t work. It complains &quot;No such file or directory&quot;.\r\n\r\n    BufferedReader br = new BufferedReader (new FileReader(test.csv))\r\n\r\nI also tried this\r\n\r\n    InputStream is = (InputStream) MyTest.class.getResourcesAsStream(test.csv))\r\n\r\nThis also doesn&#39;t work. It returns `null`. I am using Maven to build my project.\r\n\r\n","title":"How do I load a file from resource folder?","body":"<p>My project has the following structure:</p>\n\n<pre><code>/src/main/java/\n/src/main/resources/\n/src/test/java/\n/src/test/resources/\n</code></pre>\n\n<p>I have a file in <code>/src/test/resources/test.csv</code> and I want to load the file from a unit test in <code>/src/test/java/MyTest.java</code> </p>\n\n<p>I have this code which didn't work. It complains \"No such file or directory\".</p>\n\n<pre><code>BufferedReader br = new BufferedReader (new FileReader(test.csv))\n</code></pre>\n\n<p>I also tried this</p>\n\n<pre><code>InputStream is = (InputStream) MyTest.class.getResourcesAsStream(test.csv))\n</code></pre>\n\n<p>This also doesn't work. It returns <code>null</code>. I am using Maven to build my project.</p>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1274867444,"post_id":672916,"comment_id":2962619,"body_markdown":"What error? You only show a part of a stack trace (that seems to come from `jstack`).","body":"What error? You only show a part of a stack trace (that seems to come from <code>jstack</code>)."},{"owner":{"account_id":53647,"reputation":540,"user_id":160402,"accept_rate":50,"display_name":"Timothy Chen"},"score":0,"creation_date":1277147257,"post_id":672916,"comment_id":3165070,"body_markdown":"Have you found the cause or fix to this problem? I&#39;m getting the same issue where it&#39;s locking the thread on that same method.","body":"Have you found the cause or fix to this problem? I&#39;m getting the same issue where it&#39;s locking the thread on that same method."},{"owner":{"account_id":160483,"reputation":10670,"user_id":380587,"accept_rate":89,"display_name":"Adam Schmideg"},"score":0,"creation_date":1301397650,"post_id":672916,"comment_id":6203021,"body_markdown":"There is a bug that might be related: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6791502","body":"There is a bug that might be related: <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6791502\" rel=\"nofollow noreferrer\">bugs.sun.com/bugdatabase/view_bug.do?bug_id=6791502</a>"}],"answers":[{"tags":[],"owner":{"account_id":562120,"reputation":1287,"user_id":69658,"accept_rate":75,"display_name":"joinJpegs"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1238205579,"creation_date":1238205579,"answer_id":692013,"question_id":672916,"body_markdown":"You can load jpeg binary data as a file and parse the jpeg headers yourself. The one you are looking for is the 0xFFC0 or Start of Frame header:\r\n\r\n    Start of frame marker (FFC0)\r\n\r\n    * the first two bytes, the length, after the marker indicate the number of bytes, including the two length bytes, that this header contains\r\n    * P -- one byte: sample precision in bits (usually 8, for baseline JPEG)\r\n    * Y -- two bytes\r\n    * X -- two bytes\r\n    * Nf -- one byte: the number of components in the image\r\n          o 3 for color baseline JPEG images\r\n          o 1 for grayscale baseline JPEG images\r\n\r\n    * Nf times:\r\n          o Component ID -- one byte\r\n          o H and V sampling factors -- one byte: H is first four bits and V is second four bits\r\n          o Quantization table number-- one byte\r\n\r\n    The H and V sampling factors dictate the final size of the component they are associated with. For instance, the color space defaults to YCbCr and the H and V sampling factors for each component, Y, Cb, and Cr, default to 2, 1, and 1, respectively (2 for both H and V of the Y component, etc.) in the Jpeg-6a library by the Independent Jpeg Group. While this does mean that the Y component will be twice the size of the other two components--giving it a higher resolution, the lower resolution components are quartered in size during compression in order to achieve this difference. Thus, the Cb and Cr components must be quadrupled in size during decompression.\r\n\r\nFor more info about the headers check out wikipedia&#39;s jpeg entry or I got the above info [here][1].\r\n\r\nI used a method similar to the code below which I got from [this post][2] at the sun forums:\r\n\r\n    import java.awt.Dimension;\r\n    import java.io.*;\r\n \r\n    public class JPEGDim {\r\n \r\n\tpublic static Dimension getJPEGDimension(File f) throws IOException {\r\n\t\tFileInputStream fis = new FileInputStream(f);\r\n \r\n\t\t// check for SOI marker\r\n\t\tif (fis.read() != 255 || fis.read() != 216)\r\n\t\t\tthrow new RuntimeException(&quot;SOI (Start Of Image) marker 0xff 0xd8 missing&quot;);\r\n \r\n\t\tDimension d = null;\r\n \r\n\t\twhile (fis.read() == 255) {\r\n\t\t\tint marker = fis.read();\r\n\t\t\tint len = fis.read() &lt;&lt; 8 | fis.read();\r\n \r\n\t\t\tif (marker == 192) {\r\n\t\t\t\tfis.skip(1);\r\n \r\n\t\t\t\tint height = fis.read() &lt;&lt; 8 | fis.read();\r\n\t\t\t\tint width = fis.read() &lt;&lt; 8 | fis.read();\r\n \r\n\t\t\t\td = new Dimension(width, height);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n \r\n\t\t\tfis.skip(len - 2);\r\n\t\t}\r\n \r\n\t\tfis.close();\r\n \r\n\t\treturn d;\r\n\t}\r\n \r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tSystem.out.println(getJPEGDimension(new File(args[0])));\r\n\t}\r\n}\r\n\r\n\r\n  [1]: http://www.obrador.com/essentialjpeg/headerinfo.htm\r\n  [2]: http://forums.sun.com/thread.jspa?messageID=2717499#2717499","title":"How to get image height and width using java?","body":"<p>You can load jpeg binary data as a file and parse the jpeg headers yourself. The one you are looking for is the 0xFFC0 or Start of Frame header:</p>\n\n<pre><code>Start of frame marker (FFC0)\n\n* the first two bytes, the length, after the marker indicate the number of bytes, including the two length bytes, that this header contains\n* P -- one byte: sample precision in bits (usually 8, for baseline JPEG)\n* Y -- two bytes\n* X -- two bytes\n* Nf -- one byte: the number of components in the image\n      o 3 for color baseline JPEG images\n      o 1 for grayscale baseline JPEG images\n\n* Nf times:\n      o Component ID -- one byte\n      o H and V sampling factors -- one byte: H is first four bits and V is second four bits\n      o Quantization table number-- one byte\n\nThe H and V sampling factors dictate the final size of the component they are associated with. For instance, the color space defaults to YCbCr and the H and V sampling factors for each component, Y, Cb, and Cr, default to 2, 1, and 1, respectively (2 for both H and V of the Y component, etc.) in the Jpeg-6a library by the Independent Jpeg Group. While this does mean that the Y component will be twice the size of the other two components--giving it a higher resolution, the lower resolution components are quartered in size during compression in order to achieve this difference. Thus, the Cb and Cr components must be quadrupled in size during decompression.\n</code></pre>\n\n<p>For more info about the headers check out wikipedia's jpeg entry or I got the above info <a href=\"http://www.obrador.com/essentialjpeg/headerinfo.htm\" rel=\"noreferrer\">here</a>.</p>\n\n<p>I used a method similar to the code below which I got from <a href=\"http://forums.sun.com/thread.jspa?messageID=2717499#2717499\" rel=\"noreferrer\">this post</a> at the sun forums:</p>\n\n<pre><code>import java.awt.Dimension;\nimport java.io.*;\n\npublic class JPEGDim {\n\npublic static Dimension getJPEGDimension(File f) throws IOException {\n    FileInputStream fis = new FileInputStream(f);\n\n    // check for SOI marker\n    if (fis.read() != 255 || fis.read() != 216)\n        throw new RuntimeException(\"SOI (Start Of Image) marker 0xff 0xd8 missing\");\n\n    Dimension d = null;\n\n    while (fis.read() == 255) {\n        int marker = fis.read();\n        int len = fis.read() &lt;&lt; 8 | fis.read();\n\n        if (marker == 192) {\n            fis.skip(1);\n\n            int height = fis.read() &lt;&lt; 8 | fis.read();\n            int width = fis.read() &lt;&lt; 8 | fis.read();\n\n            d = new Dimension(width, height);\n            break;\n        }\n\n        fis.skip(len - 2);\n    }\n\n    fis.close();\n\n    return d;\n}\n\npublic static void main(String[] args) throws IOException {\n    System.out.println(getJPEGDimension(new File(args[0])));\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":142816,"reputation":559,"user_id":350756,"display_name":"user350756"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1465902211,"creation_date":1274867178,"answer_id":2911772,"question_id":672916,"body_markdown":"I have found another way to read an image size (more generic). \r\nYou can use ImageIO class in cooperation with ImageReaders. \r\nHere is the sample code:\r\n\r\n    private Dimension getImageDim(final String path) {\r\n        Dimension result = null;\r\n        String suffix = this.getFileSuffix(path);\r\n        Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReadersBySuffix(suffix);\r\n        if (iter.hasNext()) {\r\n            ImageReader reader = iter.next();\r\n            try {\r\n                ImageInputStream stream = new FileImageInputStream(new File(path));\r\n                reader.setInput(stream);\r\n                int width = reader.getWidth(reader.getMinIndex());\r\n                int height = reader.getHeight(reader.getMinIndex());\r\n                result = new Dimension(width, height);\r\n            } catch (IOException e) {\r\n                log(e.getMessage());\r\n            } finally {\r\n                reader.dispose();\r\n            }\r\n        } else {\r\n            log(&quot;No reader found for given format: &quot; + suffix));\r\n        }\r\n        return result;\r\n    }\r\nNote that getFileSuffix is method that returns extension of path without &quot;.&quot; so e.g.: png, jpg etc.\r\nExample implementation is:\r\n\r\n    private String getFileSuffix(final String path) {\r\n        String result = null;\r\n        if (path != null) {\r\n            result = &quot;&quot;;\r\n            if (path.lastIndexOf(&#39;.&#39;) != -1) {\r\n                result = path.substring(path.lastIndexOf(&#39;.&#39;));\r\n                if (result.startsWith(&quot;.&quot;)) {\r\n                    result = result.substring(1);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nThis solution is very quick as only image size is read from the file and not the whole image. I tested it and there is no comparison to ImageIO.read performance. I hope someone will find this useful.\r\n","title":"How to get image height and width using java?","body":"<p>I have found another way to read an image size (more generic). \nYou can use ImageIO class in cooperation with ImageReaders. \nHere is the sample code:</p>\n\n<pre><code>private Dimension getImageDim(final String path) {\n    Dimension result = null;\n    String suffix = this.getFileSuffix(path);\n    Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReadersBySuffix(suffix);\n    if (iter.hasNext()) {\n        ImageReader reader = iter.next();\n        try {\n            ImageInputStream stream = new FileImageInputStream(new File(path));\n            reader.setInput(stream);\n            int width = reader.getWidth(reader.getMinIndex());\n            int height = reader.getHeight(reader.getMinIndex());\n            result = new Dimension(width, height);\n        } catch (IOException e) {\n            log(e.getMessage());\n        } finally {\n            reader.dispose();\n        }\n    } else {\n        log(\"No reader found for given format: \" + suffix));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Note that getFileSuffix is method that returns extension of path without \".\" so e.g.: png, jpg etc.\nExample implementation is:</p>\n\n<pre><code>private String getFileSuffix(final String path) {\n    String result = null;\n    if (path != null) {\n        result = \"\";\n        if (path.lastIndexOf('.') != -1) {\n            result = path.substring(path.lastIndexOf('.'));\n            if (result.startsWith(\".\")) {\n                result = result.substring(1);\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>This solution is very quick as only image size is read from the file and not the whole image. I tested it and there is no comparison to ImageIO.read performance. I hope someone will find this useful.</p>\n"},{"tags":[],"owner":{"account_id":556574,"reputation":4455,"user_id":1055001,"accept_rate":46,"display_name":"Apurv"},"down_vote_count":26,"up_vote_count":349,"is_accepted":false,"score":323,"last_activity_date":1345185840,"creation_date":1328030259,"answer_id":9083914,"question_id":672916,"body_markdown":"Here is something very simple and handy.  \r\n\r\n    BufferedImage bimg = ImageIO.read(new File(filename));\r\n    int width          = bimg.getWidth();\r\n    int height         = bimg.getHeight();\r\n      ","title":"How to get image height and width using java?","body":"<p>Here is something very simple and handy.  </p>\n\n<pre><code>BufferedImage bimg = ImageIO.read(new File(filename));\nint width          = bimg.getWidth();\nint height         = bimg.getHeight();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1256076,"reputation":125,"user_id":1215499,"display_name":"user1215499"},"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1345186088,"creation_date":1329458544,"answer_id":9323662,"question_id":672916,"body_markdown":"Simple way:\r\n \r\n            \r\n     \r\n\r\n    BufferedImage readImage = null;\r\n    \r\n    try {\r\n        readImage = ImageIO.read(new File(your path);\r\n        int h = readImage.getHeight();\r\n        int w = readImage.getWidth();\r\n    } catch (Exception e) {\r\n        readImage = null;\r\n    }","title":"How to get image height and width using java?","body":"<p>Simple way:</p>\n\n<pre><code>BufferedImage readImage = null;\n\ntry {\n    readImage = ImageIO.read(new File(your path);\n    int h = readImage.getHeight();\n    int w = readImage.getWidth();\n} catch (Exception e) {\n    readImage = null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115585,"reputation":1378,"user_id":303442,"display_name":"Andrew Taylor"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1481936724,"creation_date":1346173054,"answer_id":12164026,"question_id":672916,"body_markdown":"This is a rewrite of the great post by @Kay, which throws IOException and provides an early exit:\r\n\r\n    /**\r\n     * Gets image dimensions for given file \r\n     * @param imgFile image file\r\n     * @return dimensions of image\r\n     * @throws IOException if the file is not a known image\r\n     */\r\n    public static Dimension getImageDimension(File imgFile) throws IOException {\r\n      int pos = imgFile.getName().lastIndexOf(&quot;.&quot;);\r\n      if (pos == -1)\r\n        throw new IOException(&quot;No extension for file: &quot; + imgFile.getAbsolutePath());\r\n      String suffix = imgFile.getName().substring(pos + 1);\r\n      Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReadersBySuffix(suffix);\r\n      while(iter.hasNext()) {\r\n        ImageReader reader = iter.next();\r\n        try {\r\n          ImageInputStream stream = new FileImageInputStream(imgFile);\r\n          reader.setInput(stream);\r\n          int width = reader.getWidth(reader.getMinIndex());\r\n          int height = reader.getHeight(reader.getMinIndex());\r\n          return new Dimension(width, height);\r\n        } catch (IOException e) {\r\n          log.warn(&quot;Error reading: &quot; + imgFile.getAbsolutePath(), e);\r\n        } finally {\r\n          reader.dispose();\r\n        }\r\n      }\r\n  \r\n      throw new IOException(&quot;Not a known image file: &quot; + imgFile.getAbsolutePath());\r\n    }\r\n\r\n\r\nI guess my rep is not high enough for my input to be considered worthy as a reply.","title":"How to get image height and width using java?","body":"<p>This is a rewrite of the great post by @Kay, which throws IOException and provides an early exit:</p>\n\n<pre><code>/**\n * Gets image dimensions for given file \n * @param imgFile image file\n * @return dimensions of image\n * @throws IOException if the file is not a known image\n */\npublic static Dimension getImageDimension(File imgFile) throws IOException {\n  int pos = imgFile.getName().lastIndexOf(\".\");\n  if (pos == -1)\n    throw new IOException(\"No extension for file: \" + imgFile.getAbsolutePath());\n  String suffix = imgFile.getName().substring(pos + 1);\n  Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReadersBySuffix(suffix);\n  while(iter.hasNext()) {\n    ImageReader reader = iter.next();\n    try {\n      ImageInputStream stream = new FileImageInputStream(imgFile);\n      reader.setInput(stream);\n      int width = reader.getWidth(reader.getMinIndex());\n      int height = reader.getHeight(reader.getMinIndex());\n      return new Dimension(width, height);\n    } catch (IOException e) {\n      log.warn(\"Error reading: \" + imgFile.getAbsolutePath(), e);\n    } finally {\n      reader.dispose();\n    }\n  }\n\n  throw new IOException(\"Not a known image file: \" + imgFile.getAbsolutePath());\n}\n</code></pre>\n\n<p>I guess my rep is not high enough for my input to be considered worthy as a reply.</p>\n"},{"tags":[],"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1360014140,"creation_date":1360011720,"answer_id":14695579,"question_id":672916,"body_markdown":"You could use the Toolkit, no need for ImageIO\r\n\r\n    Image image = Toolkit.getDefaultToolkit().getImage(file.getAbsolutePath());\r\n    int width = image.getWidth(null);\r\n    int height = image.getHeight(null);\r\n\r\nIf you don&#39;t want to handle the loading of the image do\r\n\r\n    ImageIcon imageIcon = new ImageIcon(file.getAbsolutePath());\r\n    int height = imageIcon.getIconHeight();\r\n    int width = imageIcon.getIconWidth();","title":"How to get image height and width using java?","body":"<p>You could use the Toolkit, no need for ImageIO</p>\n\n<pre><code>Image image = Toolkit.getDefaultToolkit().getImage(file.getAbsolutePath());\nint width = image.getWidth(null);\nint height = image.getHeight(null);\n</code></pre>\n\n<p>If you don't want to handle the loading of the image do</p>\n\n<pre><code>ImageIcon imageIcon = new ImageIcon(file.getAbsolutePath());\nint height = imageIcon.getIconHeight();\nint width = imageIcon.getIconWidth();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66358,"reputation":6551,"user_id":194715,"display_name":"mp31415"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1360901318,"creation_date":1360901318,"answer_id":14888091,"question_id":672916,"body_markdown":"I tried to test performance using some of the various approaches listed. It&#39;s hard to make a rigorous test as many factors affect the result. I prepared two folders, one with 330 jpg files and another one with 330 png files. The average file size was 4Mb in both cases. Then I called getDimension for each file. Each implementation of getDimension method and each image type was tested separately (separate run). Here is the execution times that I got (first number for jpg, second number for png): \r\n\r\n    1(Apurv) - 101454ms, 84611ms\r\n    2(joinJpegs) - 471ms, N/A\r\n    3(Andrew Taylor) - 707ms, 68ms\r\n    4(Karussell, ImageIcon) - 106655ms, 100898ms\r\n    5(user350756) - 2649ms, 68ms\r\n\r\nIt&#39;s obvious that some methods load the whole file in order to get dimensions while others get by just reading some header information from the image. I think these numbers may be useful when application performance is critical.\r\n\r\nThank you everyone for the contribution to this thread - very helpful.\r\n\t\r\n","title":"How to get image height and width using java?","body":"<p>I tried to test performance using some of the various approaches listed. It's hard to make a rigorous test as many factors affect the result. I prepared two folders, one with 330 jpg files and another one with 330 png files. The average file size was 4Mb in both cases. Then I called getDimension for each file. Each implementation of getDimension method and each image type was tested separately (separate run). Here is the execution times that I got (first number for jpg, second number for png): </p>\n\n<pre><code>1(Apurv) - 101454ms, 84611ms\n2(joinJpegs) - 471ms, N/A\n3(Andrew Taylor) - 707ms, 68ms\n4(Karussell, ImageIcon) - 106655ms, 100898ms\n5(user350756) - 2649ms, 68ms\n</code></pre>\n\n<p>It's obvious that some methods load the whole file in order to get dimensions while others get by just reading some header information from the image. I think these numbers may be useful when application performance is critical.</p>\n\n<p>Thank you everyone for the contribution to this thread - very helpful.</p>\n"},{"tags":[],"owner":{"account_id":5058865,"reputation":91,"user_id":4061196,"display_name":"Jessi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423044184,"creation_date":1423044184,"answer_id":28318521,"question_id":672916,"body_markdown":"To get a Buffered Image with ImageIO.read is a very heavy method, as it&#39;s creating a complete uncompressed copy of the image in memory. For png&#39;s you may also use pngj and the code:\r\n    \r\n    if (png)\r\n        PngReader pngr = new PngReader(file);\r\n        width = pngr.imgInfo.cols;\r\n        height = pngr.imgInfo.rows;\r\n        pngr.close();\r\n    }\r\n    ","title":"How to get image height and width using java?","body":"<p>To get a Buffered Image with ImageIO.read is a very heavy method, as it's creating a complete uncompressed copy of the image in memory. For png's you may also use pngj and the code:</p>\n\n<pre><code>if (png)\n    PngReader pngr = new PngReader(file);\n    width = pngr.imgInfo.cols;\n    height = pngr.imgInfo.rows;\n    pngr.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6441295,"reputation":189,"user_id":4991236,"display_name":"Viktor Sirotin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1448272575,"creation_date":1448272575,"answer_id":33868060,"question_id":672916,"body_markdown":"To get size of emf file without EMF Image Reader you can use code:\r\n\r\n    Dimension getImageDimForEmf(final String path) throws IOException {\r\n\r\n        ImageInputStream inputStream = new FileImageInputStream(new File(path));\r\n\r\n        inputStream.setByteOrder(ByteOrder.LITTLE_ENDIAN);\r\n\r\n        // Skip magic number and file size\r\n        inputStream.skipBytes(6*4);\r\n\r\n        int left   = inputStream.readInt();\r\n        int top    = inputStream.readInt();\r\n        int right  = inputStream.readInt();\r\n        int bottom = inputStream.readInt();\r\n\r\n        // Skip other headers\r\n        inputStream.skipBytes(30);\r\n\r\n        int deviceSizeInPixelX = inputStream.readInt();\r\n        int deviceSizeInPixelY = inputStream.readInt();\r\n\r\n        int deviceSizeInMlmX = inputStream.readInt();\r\n        int deviceSizeInMlmY = inputStream.readInt();\r\n\r\n        int widthInPixel = (int) Math.round(0.5 + ((right - left + 1.0) * deviceSizeInPixelX / deviceSizeInMlmX) / 100.0);\r\n        int heightInPixel = (int) Math.round(0.5 + ((bottom-top + 1.0) * deviceSizeInPixelY / deviceSizeInMlmY) / 100.0);\r\n\r\n        inputStream.close();\r\n\r\n        return new Dimension(widthInPixel, heightInPixel);\r\n    }","title":"How to get image height and width using java?","body":"<p>To get size of emf file without EMF Image Reader you can use code:</p>\n\n<pre><code>Dimension getImageDimForEmf(final String path) throws IOException {\n\n    ImageInputStream inputStream = new FileImageInputStream(new File(path));\n\n    inputStream.setByteOrder(ByteOrder.LITTLE_ENDIAN);\n\n    // Skip magic number and file size\n    inputStream.skipBytes(6*4);\n\n    int left   = inputStream.readInt();\n    int top    = inputStream.readInt();\n    int right  = inputStream.readInt();\n    int bottom = inputStream.readInt();\n\n    // Skip other headers\n    inputStream.skipBytes(30);\n\n    int deviceSizeInPixelX = inputStream.readInt();\n    int deviceSizeInPixelY = inputStream.readInt();\n\n    int deviceSizeInMlmX = inputStream.readInt();\n    int deviceSizeInMlmY = inputStream.readInt();\n\n    int widthInPixel = (int) Math.round(0.5 + ((right - left + 1.0) * deviceSizeInPixelX / deviceSizeInMlmX) / 100.0);\n    int heightInPixel = (int) Math.round(0.5 + ((bottom-top + 1.0) * deviceSizeInPixelY / deviceSizeInMlmY) / 100.0);\n\n    inputStream.close();\n\n    return new Dimension(widthInPixel, heightInPixel);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5295682,"reputation":379,"user_id":4226914,"display_name":"KIBOU Hassan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1673964908,"creation_date":1493287059,"answer_id":43654491,"question_id":672916,"body_markdown":"You can get width and height of image with BufferedImage object using java.\r\n\r\n    public void setWidthAndHeightImage(FileUploadEvent event) {\r\n        byte[] imageTest = event.getFile().getContents();\r\n        baiStream = new ByteArrayInputStream(imageTest);\r\n        BufferedImage bi = ImageIO.read(baiStream);\r\n        //get width and height of image\r\n        int imageWidth = bi.getWidth();\r\n        int imageHeight = bi.getHeight();\r\n    }","title":"How to get image height and width using java?","body":"<p>You can get width and height of image with BufferedImage object using java.</p>\n<pre><code>public void setWidthAndHeightImage(FileUploadEvent event) {\n    byte[] imageTest = event.getFile().getContents();\n    baiStream = new ByteArrayInputStream(imageTest);\n    BufferedImage bi = ImageIO.read(baiStream);\n    //get width and height of image\n    int imageWidth = bi.getWidth();\n    int imageHeight = bi.getHeight();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3847714,"reputation":897,"user_id":3188664,"display_name":"Aleksander Rezen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701754359,"creation_date":1529517968,"answer_id":50954520,"question_id":672916,"body_markdown":"Problem with ImageIO.read is that it is really slow. All you need to do is to read image header to get the size. `ImageIO.getImageReader` is perfect candidate.\r\n\r\nHere is the Groovy example, but the same thing applies to Java\r\n\r\n    def stream = ImageIO.createImageInputStream(new ByteArrayInputStream(inputStream))\r\n    def formatReader = ImageIO.getImageWritersByFormatName(format).next() \r\n    def reader = ImageIO.getImageReader(formatReader)\r\n    reader.setInput(stream, true)\r\n\r\n    println &quot;width:reader.getWidth(0) -&gt; height: reader.getHeight(0)&quot;\r\n\r\nThe performance was the same as using SimpleImageInfo java library.\r\n\r\nhttps://github.com/cbeust/personal/blob/master/src/main/java/com/beust/SimpleImageInfo.java","title":"How to get image height and width using java?","body":"<p>Problem with ImageIO.read is that it is really slow. All you need to do is to read image header to get the size. <code>ImageIO.getImageReader</code> is perfect candidate.</p>\n<p>Here is the Groovy example, but the same thing applies to Java</p>\n<pre><code>def stream = ImageIO.createImageInputStream(new ByteArrayInputStream(inputStream))\ndef formatReader = ImageIO.getImageWritersByFormatName(format).next() \ndef reader = ImageIO.getImageReader(formatReader)\nreader.setInput(stream, true)\n\nprintln &quot;width:reader.getWidth(0) -&gt; height: reader.getHeight(0)&quot;\n</code></pre>\n<p>The performance was the same as using SimpleImageInfo java library.</p>\n<p><a href=\"https://github.com/cbeust/personal/blob/master/src/main/java/com/beust/SimpleImageInfo.java\" rel=\"nofollow noreferrer\">https://github.com/cbeust/personal/blob/master/src/main/java/com/beust/SimpleImageInfo.java</a></p>\n"},{"tags":[],"owner":{"account_id":6755440,"reputation":144,"user_id":5204057,"display_name":"AppEmmanuel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564501701,"creation_date":1564501701,"answer_id":57275510,"question_id":672916,"body_markdown":"So unfortunately, after trying all the answers from above, I did not get them to work after tireless times of trying. So I decided to do the real hack myself and I go this to work for me. I trust it would work perfectly for you too. \r\n\r\nI am using this simple method to get the width of an image generated by the app and yet to be upload later for verification :\r\n\r\nPls. take note : you would have to enable permissions in manifest for access storage.\r\n\r\n/*I made it static and put in my Global class so I can reference or access it from just one source and if there is any modification, it would all have to be done at just one place. Just maintaining a DRY concept in java. (anyway) :)*/\r\n\r\n    public static int getImageWidthOrHeight(String imgFilePath) {\r\n    \t\t\t\r\n    \t\t\tLog.d(&quot;img path : &quot;+imgFilePath);\r\n    \t\t\t\r\n    \t\t\t// Decode image size\r\n    \t\t\tBitmapFactory.Options o = new BitmapFactory.Options();\r\n    \t\t\to.inJustDecodeBounds = true;\r\n    \t\t\tBitmapFactory.decodeFile(imgFilePath, o);\r\n    \t\t\t\t\r\n    \t\t\tint width_tmp = o.outWidth, height_tmp = o.outHeight;\r\n    \t\t\t\t\t\r\n    \t\t\tLog.d(&quot;Image width : &quot;, Integer.toString(width_tmp) );\r\n    \t\t\t\t\r\n\t            //you can decide to rather return height_tmp to get the height.\r\n\r\n    \t\t\treturn width_tmp;\r\n    \t\t\t\r\n}","title":"How to get image height and width using java?","body":"<p>So unfortunately, after trying all the answers from above, I did not get them to work after tireless times of trying. So I decided to do the real hack myself and I go this to work for me. I trust it would work perfectly for you too. </p>\n\n<p>I am using this simple method to get the width of an image generated by the app and yet to be upload later for verification :</p>\n\n<p>Pls. take note : you would have to enable permissions in manifest for access storage.</p>\n\n<p>/<em>I made it static and put in my Global class so I can reference or access it from just one source and if there is any modification, it would all have to be done at just one place. Just maintaining a DRY concept in java. (anyway) :)</em>/</p>\n\n<pre><code>public static int getImageWidthOrHeight(String imgFilePath) {\n\n            Log.d(\"img path : \"+imgFilePath);\n\n            // Decode image size\n            BitmapFactory.Options o = new BitmapFactory.Options();\n            o.inJustDecodeBounds = true;\n            BitmapFactory.decodeFile(imgFilePath, o);\n\n            int width_tmp = o.outWidth, height_tmp = o.outHeight;\n\n            Log.d(\"Image width : \", Integer.toString(width_tmp) );\n\n            //you can decide to rather return height_tmp to get the height.\n\n            return width_tmp;\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":494694,"reputation":181,"user_id":6693204,"display_name":"Fabien M"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1592494820,"creation_date":1592494820,"answer_id":62453833,"question_id":672916,"body_markdown":"Having struggled with `ImageIO` a lot in the past years, I think **Andrew Taylor**&#39;s [solution][1] is by far the best compromise (fast: not using `ImageIO#read`, and versatile). Thanks man!!\r\n\r\nBut I was a little frustrated to be compelled to use a local file (File/String), especially in cases where you want to check image sizes coming from, say, a multipart/form-data request where you usually retrieve `InputPart`/`InputStream`&#39;s. So I quickly made a variant that accepts `File`, `InputStream` and `RandomAccessFile`, based on the ability of `ImageIO#createImageInputStream` to do so.\r\n\r\nOf course, such a method with `Object input`, may only remain private and you shall create as many polymorphic methods as needed, calling this one. You can also accept `Path` with `Path#toFile()` and `URL` with `URL#openStream()` prior to passing to this method:\r\n\r\n      private static Dimension getImageDimensions(Object input) throws IOException {\r\n    \r\n        try (ImageInputStream stream = ImageIO.createImageInputStream(input)) { // accepts File, InputStream, RandomAccessFile\r\n          if(stream != null) {\r\n            IIORegistry iioRegistry = IIORegistry.getDefaultInstance();\r\n            Iterator&lt;ImageReaderSpi&gt; iter = iioRegistry.getServiceProviders(ImageReaderSpi.class, true);\r\n            while (iter.hasNext()) {\r\n              ImageReaderSpi readerSpi = iter.next();\r\n              if (readerSpi.canDecodeInput(stream)) {\r\n                ImageReader reader = readerSpi.createReaderInstance();\r\n                try {\r\n                  reader.setInput(stream);\r\n                  int width = reader.getWidth(reader.getMinIndex());\r\n                  int height = reader.getHeight(reader.getMinIndex());\r\n                  return new Dimension(width, height);\r\n                } finally {\r\n                  reader.dispose();\r\n                }\r\n              }\r\n            }\r\n            throw new IllegalArgumentException(&quot;Can&#39;t find decoder for this image&quot;);\r\n          } else {\r\n            throw new IllegalArgumentException(&quot;Can&#39;t open stream for this image&quot;);\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12164026/6693204","title":"How to get image height and width using java?","body":"<p>Having struggled with <code>ImageIO</code> a lot in the past years, I think <strong>Andrew Taylor</strong>'s <a href=\"https://stackoverflow.com/a/12164026/6693204\">solution</a> is by far the best compromise (fast: not using <code>ImageIO#read</code>, and versatile). Thanks man!!</p>\n\n<p>But I was a little frustrated to be compelled to use a local file (File/String), especially in cases where you want to check image sizes coming from, say, a multipart/form-data request where you usually retrieve <code>InputPart</code>/<code>InputStream</code>'s. So I quickly made a variant that accepts <code>File</code>, <code>InputStream</code> and <code>RandomAccessFile</code>, based on the ability of <code>ImageIO#createImageInputStream</code> to do so.</p>\n\n<p>Of course, such a method with <code>Object input</code>, may only remain private and you shall create as many polymorphic methods as needed, calling this one. You can also accept <code>Path</code> with <code>Path#toFile()</code> and <code>URL</code> with <code>URL#openStream()</code> prior to passing to this method:</p>\n\n<pre><code>  private static Dimension getImageDimensions(Object input) throws IOException {\n\n    try (ImageInputStream stream = ImageIO.createImageInputStream(input)) { // accepts File, InputStream, RandomAccessFile\n      if(stream != null) {\n        IIORegistry iioRegistry = IIORegistry.getDefaultInstance();\n        Iterator&lt;ImageReaderSpi&gt; iter = iioRegistry.getServiceProviders(ImageReaderSpi.class, true);\n        while (iter.hasNext()) {\n          ImageReaderSpi readerSpi = iter.next();\n          if (readerSpi.canDecodeInput(stream)) {\n            ImageReader reader = readerSpi.createReaderInstance();\n            try {\n              reader.setInput(stream);\n              int width = reader.getWidth(reader.getMinIndex());\n              int height = reader.getHeight(reader.getMinIndex());\n              return new Dimension(width, height);\n            } finally {\n              reader.dispose();\n            }\n          }\n        }\n        throw new IllegalArgumentException(\"Can't find decoder for this image\");\n      } else {\n        throw new IllegalArgumentException(\"Can't open stream for this image\");\n      }\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673965519,"creation_date":1673964384,"answer_id":75147653,"question_id":672916,"body_markdown":"\r\n    public static Optional&lt;Dimension&gt; getImageDimensions(Path imageFile) {\r\n    \r\n        Optional&lt;String&gt; suffixOpt = getExtension(imageFile);\r\n        Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReadersBySuffix(suffixOpt.orElse(&quot;&quot;));\r\n        while (iter.hasNext()) {\r\n            ImageReader reader = iter.next();\r\n            try (ImageInputStream stream = new FileImageInputStream(imageFile.toFile())) {\r\n                reader.setInput(stream);\r\n                return Optional.of(new Dimension(reader.getWidth(reader.getMinIndex()),\r\n                        reader.getHeight(reader.getMinIndex())));\r\n            } catch (IOException e) {\r\n                log.warn(&quot;Error reading: &quot; + imageFile, e); //or however you want to handle the exception\r\n            } finally {\r\n                reader.dispose();\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n    \r\n    public static Optional&lt;String&gt; getExtension(Path file) {\r\n        int pos = file.getFileName().toString().lastIndexOf(&quot;.&quot;);\r\n        if (pos == -1) {\r\n            return Optional.empty();\r\n        }\r\n        return Optional.of(file.getFileName().toString().substring(pos + 1));\r\n    }\r\n\r\nRevised [the method by @Andrew Taylor][1] to use Optionals.  \r\n\r\nAlso uses the Java&#39;s NIO Path to make the transition to `Path.getExt` easier in Java 21 (the second method can be removed and `getExtension(imageFile)` can be replaced with `imageFile.getExtension()`).  \r\n\r\nAlso uses the `try-with-resources` design from Java.\r\n\r\nOne could instead use an external library in place of the second method if that&#39;s preferable.\r\n\r\nUsing a `Spliterator` could be another way, though in the end the code became more verbose as little is gained by converting from an Iterator.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/672916/how-to-get-image-height-and-width-using-java/12164026#12164026","title":"How to get image height and width using java?","body":"<pre><code>public static Optional&lt;Dimension&gt; getImageDimensions(Path imageFile) {\n\n    Optional&lt;String&gt; suffixOpt = getExtension(imageFile);\n    Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReadersBySuffix(suffixOpt.orElse(&quot;&quot;));\n    while (iter.hasNext()) {\n        ImageReader reader = iter.next();\n        try (ImageInputStream stream = new FileImageInputStream(imageFile.toFile())) {\n            reader.setInput(stream);\n            return Optional.of(new Dimension(reader.getWidth(reader.getMinIndex()),\n                    reader.getHeight(reader.getMinIndex())));\n        } catch (IOException e) {\n            log.warn(&quot;Error reading: &quot; + imageFile, e); //or however you want to handle the exception\n        } finally {\n            reader.dispose();\n        }\n    }\n    return Optional.empty();\n}\n\npublic static Optional&lt;String&gt; getExtension(Path file) {\n    int pos = file.getFileName().toString().lastIndexOf(&quot;.&quot;);\n    if (pos == -1) {\n        return Optional.empty();\n    }\n    return Optional.of(file.getFileName().toString().substring(pos + 1));\n}\n</code></pre>\n<p>Revised <a href=\"https://stackoverflow.com/questions/672916/how-to-get-image-height-and-width-using-java/12164026#12164026\">the method by @Andrew Taylor</a> to use Optionals.</p>\n<p>Also uses the Java's NIO Path to make the transition to <code>Path.getExt</code> easier in Java 21 (the second method can be removed and <code>getExtension(imageFile)</code> can be replaced with <code>imageFile.getExtension()</code>).</p>\n<p>Also uses the <code>try-with-resources</code> design from Java.</p>\n<p>One could instead use an external library in place of the second method if that's preferable.</p>\n<p>Using a <code>Spliterator</code> could be another way, though in the end the code became more verbose as little is gained by converting from an Iterator.</p>\n"}],"owner":{"display_name":"Dick Song"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252355,"favorite_count":0,"down_vote_count":1,"up_vote_count":132,"answer_count":14,"score":131,"last_activity_date":1701754359,"creation_date":1237805314,"question_id":672916,"body_markdown":"Is there any other way besides using [ImageIO.read][1] to get image height and width?\r\n\r\nBecause I encounter an issue that locks up the thread.\r\n\r\n    at com.sun.medialib.codec.jpeg.Decoder.njpeg_decode(Native Method)      \r\n    at com.sun.medialib.codec.jpeg.Decoder.decode(Decoder.java:87)      \r\n    at com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader.decode(CLibJPEGImageReader.java:73)     \r\n     - locked &lt;0xd96fb668&gt; (a com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader)      \r\n    at com.sun.media.imageioimpl.plugins.clib.CLibImageReader.getImage(CLibImageReader.java:320)    \r\n     - locked &lt;0xd96fb668&gt; (a com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader)     \r\n     at com.sun.media.imageioimpl.plugins.clib.CLibImageReader.read(CLibImageReader.java:384)   \r\n     - locked &lt;0xd96fb668&gt; (a com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader)      \r\n    at javax.imageio.ImageIO.read(ImageIO.java:1400)      \r\n    at javax.imageio.ImageIO.read(ImageIO.java:1322)\r\n\r\nThis error only occurs on a Sun app server and therefore I suspect that it is a Sun bug.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#read-java.io.File-","title":"How to get image height and width using java?","body":"<p>Is there any other way besides using <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#read-java.io.File-\" rel=\"noreferrer\">ImageIO.read</a> to get image height and width?</p>\n\n<p>Because I encounter an issue that locks up the thread.</p>\n\n<pre><code>at com.sun.medialib.codec.jpeg.Decoder.njpeg_decode(Native Method)      \nat com.sun.medialib.codec.jpeg.Decoder.decode(Decoder.java:87)      \nat com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader.decode(CLibJPEGImageReader.java:73)     \n - locked &lt;0xd96fb668&gt; (a com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader)      \nat com.sun.media.imageioimpl.plugins.clib.CLibImageReader.getImage(CLibImageReader.java:320)    \n - locked &lt;0xd96fb668&gt; (a com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader)     \n at com.sun.media.imageioimpl.plugins.clib.CLibImageReader.read(CLibImageReader.java:384)   \n - locked &lt;0xd96fb668&gt; (a com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReader)      \nat javax.imageio.ImageIO.read(ImageIO.java:1400)      \nat javax.imageio.ImageIO.read(ImageIO.java:1322)\n</code></pre>\n\n<p>This error only occurs on a Sun app server and therefore I suspect that it is a Sun bug.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":28979439,"reputation":1,"user_id":23043045,"display_name":"tara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701753821,"creation_date":1701753720,"question_id":77603973,"body_markdown":"I am encountering an issue while trying to deserialize a JSON payload using Jackson in my Java application. The error message I&#39;m receiving is:\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `rayanCommonLibrary.contracts.filterAndSort.FilterOperation`, problem: argument type mismatch\r\n at [Source: (PushbackInputStream); line: 1, column: 169] (through reference chain: rayanCommonLibrary.contracts.readContracts.ReadContract[&quot;Filters&quot;]-&gt;java.util.ArrayList[0]-&gt;rayanCommonLibrary.contracts.filterAndSort.Filter[&quot;Operation&quot;])\r\n\r\n\r\nI am running my project and I that error\r\nthis my code \r\nI did not knew why happen because it was working and I did not change any thing\r\n\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\npublic enum FilterOperation {\r\n    IsEqualTo(1),\r\n    IsNotEqualTo(2),\r\n    IsGreaterThan(3),\r\n    IsGreaterThanOrEqualTo(4),\r\n    IsLessThan(5),\r\n    IsLessThanOrEqualTo(6),\r\n    IsLike(7),\r\n    IsNotLike(8),\r\n    Contains(9),\r\n    StartsWith(10),\r\n    EndsWith(11),\r\n    NotContains(12),\r\n    IsNull(13),\r\n    IsNotNull(14),\r\n    IsContainedIn(15),\r\n    IsNotContainedIn(16),\r\n    And(17),\r\n    Or(18),\r\n    Not(19),\r\n    OpenParenthesis(20),\r\n    CloseParenthesis(21),\r\n    IsExists(22);\r\n\r\n    private static final Map&lt;Integer, FilterOperation&gt; lookup = new HashMap&lt;&gt;();\r\n\r\n    static {\r\n        int ordinal = 1;\r\n        for (FilterOperation suit : EnumSet.allOf(FilterOperation.class)) {\r\n            lookup.put(ordinal, suit);\r\n            ordinal += 1;\r\n        }\r\n    }\r\n\r\n    private final int manualValue;\r\n\r\n    FilterOperation(int seconds) {\r\n        this.manualValue = seconds;\r\n    }\r\n\r\n    int getManualValue() {\r\n        return manualValue;\r\n    }\r\n\r\n    public static final int SIZE = java.lang.Integer.SIZE;\r\n\r\n    public int getValue() {\r\n        return this.ordinal();\r\n    }\r\n\r\n    @JsonCreator\r\n    public static FilterOperation forValue(int value) {\r\n        return values()[value];\r\n    }\r\n\r\n    @JsonValue\r\n    public Integer toValue() {\r\n        for (Map.Entry&lt;Integer, FilterOperation&gt; entry : lookup.entrySet()) {\r\n            if (entry.getValue() == this)\r\n                return entry.getKey();\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Error: InvalidDefinitionException - Cannot construct instance of FilterOperation, argument type mismatch in Jackson","body":"<p>I am encountering an issue while trying to deserialize a JSON payload using Jackson in my Java application. The error message I'm receiving is:\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of <code>rayanCommonLibrary.contracts.filterAndSort.FilterOperation</code>, problem: argument type mismatch\nat [Source: (PushbackInputStream); line: 1, column: 169] (through reference chain: rayanCommonLibrary.contracts.readContracts.ReadContract[&quot;Filters&quot;]-&gt;java.util.ArrayList[0]-&gt;rayanCommonLibrary.contracts.filterAndSort.Filter[&quot;Operation&quot;])</p>\n<p>I am running my project and I that error\nthis my code\nI did not knew why happen because it was working and I did not change any thing</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum FilterOperation {\n    IsEqualTo(1),\n    IsNotEqualTo(2),\n    IsGreaterThan(3),\n    IsGreaterThanOrEqualTo(4),\n    IsLessThan(5),\n    IsLessThanOrEqualTo(6),\n    IsLike(7),\n    IsNotLike(8),\n    Contains(9),\n    StartsWith(10),\n    EndsWith(11),\n    NotContains(12),\n    IsNull(13),\n    IsNotNull(14),\n    IsContainedIn(15),\n    IsNotContainedIn(16),\n    And(17),\n    Or(18),\n    Not(19),\n    OpenParenthesis(20),\n    CloseParenthesis(21),\n    IsExists(22);\n\n    private static final Map&lt;Integer, FilterOperation&gt; lookup = new HashMap&lt;&gt;();\n\n    static {\n        int ordinal = 1;\n        for (FilterOperation suit : EnumSet.allOf(FilterOperation.class)) {\n            lookup.put(ordinal, suit);\n            ordinal += 1;\n        }\n    }\n\n    private final int manualValue;\n\n    FilterOperation(int seconds) {\n        this.manualValue = seconds;\n    }\n\n    int getManualValue() {\n        return manualValue;\n    }\n\n    public static final int SIZE = java.lang.Integer.SIZE;\n\n    public int getValue() {\n        return this.ordinal();\n    }\n\n    @JsonCreator\n    public static FilterOperation forValue(int value) {\n        return values()[value];\n    }\n\n    @JsonValue\n    public Integer toValue() {\n        for (Map.Entry&lt;Integer, FilterOperation&gt; entry : lookup.entrySet()) {\n            if (entry.getValue() == this)\n                return entry.getKey();\n        }\n        return null;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","unit-testing","junit","copy-constructor"],"comments":[{"owner":{"account_id":6606163,"reputation":494,"user_id":5102932,"display_name":"Roy Shahaf"},"score":3,"creation_date":1545242485,"post_id":53856766,"comment_id":94561471,"body_markdown":"by making your fields final you force your constructor to set all of the fields","body":"by making your fields final you force your constructor to set all of the fields"},{"owner":{"account_id":1082858,"reputation":104678,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1545242593,"post_id":53856766,"comment_id":94561512,"body_markdown":"@RoyShahaf:  What about the case in which that&#39;s not tenable?  There&#39;s no guarantee that this is constructed with a builder which would handle that or there could be the possibility that some fields may not be set.  This isn&#39;t about guaranteeing that there is *a* value, it&#39;s guaranteeing that the values are the same across instances.  `null` is a perfectly acceptable value in that scenario.","body":"@RoyShahaf:  What about the case in which that&#39;s not tenable?  There&#39;s no guarantee that this is constructed with a builder which would handle that or there could be the possibility that some fields may not be set.  This isn&#39;t about guaranteeing that there is <i>a</i> value, it&#39;s guaranteeing that the values are the same across instances.  <code>null</code> is a perfectly acceptable value in that scenario."},{"owner":{"account_id":278030,"reputation":10509,"user_id":572380,"accept_rate":78,"display_name":"nilgun"},"score":0,"creation_date":1545242944,"post_id":53856766,"comment_id":94561654,"body_markdown":"@RoyShahaf: I don&#39;t want to enforce final, just for the sake of copy constructor. We could easily forget to make the field final too leaving us with the same problem.","body":"@RoyShahaf: I don&#39;t want to enforce final, just for the sake of copy constructor. We could easily forget to make the field final too leaving us with the same problem."},{"owner":{"account_id":6606163,"reputation":494,"user_id":5102932,"display_name":"Roy Shahaf"},"score":0,"creation_date":1545243262,"post_id":53856766,"comment_id":94561779,"body_markdown":"@Makoto it&#39;s true that for some cases is a perfectly acceptable value.\nHow ever it&#39;s been a while since using null was considered good practice if you&#39;re able to avoid doing so (if such a time ever existed).","body":"@Makoto it&#39;s true that for some cases is a perfectly acceptable value. How ever it&#39;s been a while since using null was considered good practice if you&#39;re able to avoid doing so (if such a time ever existed)."},{"owner":{"account_id":1082858,"reputation":104678,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1545243376,"post_id":53856766,"comment_id":94561827,"body_markdown":"@RoyShahaf:  `null` is the default field value when it&#39;s unassigned...","body":"@RoyShahaf:  <code>null</code> is the default field value when it&#39;s unassigned..."},{"owner":{"account_id":6606163,"reputation":494,"user_id":5102932,"display_name":"Roy Shahaf"},"score":0,"creation_date":1545243411,"post_id":53856766,"comment_id":94561845,"body_markdown":"@nilgun if you have a good reason (and it really needs to be good) to use mutable types (and seemingly we are talking about mutable data types, or copy constructors and serializations make less sense) go ahead and use reflection to test that.\nOtherwise I would recommend using an immutable approach.\nYou can use lombok annotations (or AutoValue annotations) to help guarantee that fields are final.","body":"@nilgun if you have a good reason (and it really needs to be good) to use mutable types (and seemingly we are talking about mutable data types, or copy constructors and serializations make less sense) go ahead and use reflection to test that. Otherwise I would recommend using an immutable approach. You can use lombok annotations (or AutoValue annotations) to help guarantee that fields are final."},{"owner":{"account_id":6606163,"reputation":494,"user_id":5102932,"display_name":"Roy Shahaf"},"score":0,"creation_date":1545243600,"post_id":53856766,"comment_id":94561921,"body_markdown":"@Makoto as Doug Lea supposedly said: &quot;null sucks&quot; and as Tony Hoare said: &quot;I call it my billion-dollar mistake&quot;","body":"@Makoto as Doug Lea supposedly said: &quot;null sucks&quot; and as Tony Hoare said: &quot;I call it my billion-dollar mistake&quot;"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1545243737,"post_id":53856766,"comment_id":94561980,"body_markdown":"@RoyShahaf If all fields are final, then a copy constructor is likely not necessary (unless it does a deep copy of other objects that are mutable).","body":"@RoyShahaf If all fields are final, then a copy constructor is likely not necessary (unless it does a deep copy of other objects that are mutable)."},{"owner":{"account_id":6606163,"reputation":494,"user_id":5102932,"display_name":"Roy Shahaf"},"score":0,"creation_date":1545244110,"post_id":53856766,"comment_id":94562132,"body_markdown":"@MarkRotteveel that&#39;s true, for data types that are not deeply immutable a copy constructor makes sense when you want to make a deep copy that protects you on both sides","body":"@MarkRotteveel that&#39;s true, for data types that are not deeply immutable a copy constructor makes sense when you want to make a deep copy that protects you on both sides"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701751545,"post_id":53856766,"comment_id":136811506,"body_markdown":"I would first ask why you even *have* a copy constructor. Strictly speaking there isn&#39;t such a thing in Java. I haven&#39;t used one in 26 years. Why do you think you need to copy instances of this class?","body":"I would first ask why you even <i>have</i> a copy constructor. Strictly speaking there isn&#39;t such a thing in Java. I haven&#39;t used one in 26 years. Why do you think you need to copy instances of this class?"}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104678,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545242303,"creation_date":1545242303,"answer_id":53856825,"question_id":53856766,"body_markdown":"I&#39;d do this with reflection.\r\n\r\n - New up an instance of `MyClass`. (A)\r\n - Through reflection, assign a value to *every* field.  This can be accomplished with `getClass().getDeclaredFields()`.\r\n - New up a blank instance of `MyClass`. (B)\r\n - Run the copy constructor on A against B.\r\n - Through reflection, determine if the fields in A are equal to B.","title":"How to write a unit test to check copy constructor is in sync with class properties?","body":"<p>I'd do this with reflection.</p>\n\n<ul>\n<li>New up an instance of <code>MyClass</code>. (A)</li>\n<li>Through reflection, assign a value to <em>every</em> field.  This can be accomplished with <code>getClass().getDeclaredFields()</code>.</li>\n<li>New up a blank instance of <code>MyClass</code>. (B)</li>\n<li>Run the copy constructor on A against B.</li>\n<li>Through reflection, determine if the fields in A are equal to B.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9511237,"reputation":1636,"user_id":7069108,"accept_rate":100,"display_name":"Hzzkygcs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701750670,"creation_date":1701747883,"answer_id":77603703,"question_id":53856766,"body_markdown":"IMO, there are three ways to solve this problem\r\n\r\n\r\n 1. use a copy-constructor that will be auto-updated (using Lombok for example)\r\n```\r\n@Builder(toBuilder=true)\r\nclass Foo {\r\n   int x;\r\n   ...\r\n}\r\nFoo f0 = Foo.builder().build();\r\nFoo f1 = f0.toBuilder().build();  // copy\r\n```\r\n 2. Create a tests that populate an object with non-default values, and then use reflection/Jackson to read all its key-value pairs, and make sure that the value is not a default value (`null`, `0`, `0.0`, `false`, `&#39;\\0&#39;`)\r\n\r\n```\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n// other imports\r\n\r\npublic class FooTest {\r\n  @Test\r\n  public void testCopyConstructor_shouldCopyAllFields() {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    // only use field, don&#39;t use getters\r\n    mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n\r\n    // should be instantiated with non-default values\r\n    Foo original = new Foo();\r\n    original.setSimilarity(0.1);\r\n    original.setStatus(SomeEnum.PENDING);\r\n    // ...\r\n\r\n    Foo copied = new Foo(original);\r\n\r\n\r\n    Map&lt;String, Object&gt; originalMap = mapper.convertValue(original, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;(){});\r\n    for (Map.Entry&lt;String, Object&gt; entry : originalMap.entrySet()) {\r\n      // if we add new fields and forget to update this test, this test should fail\r\n      assertTrue(isNotDefaultValue(entry.getValue()), &quot;Forgot to update this test: &quot; + entry.getKey());\r\n    }\r\n\r\n    Map&lt;String, Object&gt; resultingMap = mapper.convertValue(copied, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;(){});\r\n    for (Map.Entry&lt;String, Object&gt; entry : resultingMap.entrySet()) {\r\n      Object expectedValue = originalMap.get(entry.getKey());\r\n      assertEquals(entry.getValue(), expectedValue);\r\n    }\r\n  }\r\n\r\n  private static boolean isNotDefaultValue(Object value){\r\n    if (value == null)\r\n      return false;\r\n    boolean defaultBoolean = false;\r\n    char defaultChar = &#39;\\0&#39;;\r\n    byte defaultByte = 0;\r\n    short defaultShort = 0;\r\n    int defaultInt = 0;\r\n    long defaultLong = 0;\r\n    float defaultFloat = 0;\r\n    double defaultDouble = 0;\r\n    List&lt;Object&gt; defaultValues = List.of(defaultBoolean, defaultChar, defaultByte, defaultShort,\r\n      defaultInt, defaultLong, defaultFloat, defaultDouble);\r\n    return !defaultValues.contains(value);\r\n  }\r\n}\r\n```\r\n\r\n 3. Use a complex object-randomizer, such as [EasyRandom][1], and use it in your unit tests and do your copy constructor\r\n\r\n```\r\nimport java.util.Objects;\r\n// other imports\r\n\r\npublic class FooTest {\r\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n\r\n  @Test\r\n  public void testCopyConstructor_shouldCopyAllFields() {\r\n    EasyRandom generator = new EasyRandom();\r\n    \r\n    for (int i = 0; i &lt; 4; i++){  // you can do it multiple times if you&#39;re unsure\r\n      Person person = generator.nextObject(Person.class);\r\n      Person copied = new Person(person);\r\n\r\n      // or if you afraid of forgetting to update your .equals() method, \r\n      // just convert both of them to hashmaps (using jackson) \r\n      // and compare the hashmaps\r\n      assertEquals(copied, person);  \r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-easy-random","title":"How to write a unit test to check copy constructor is in sync with class properties?","body":"<p>IMO, there are three ways to solve this problem</p>\n<ol>\n<li>use a copy-constructor that will be auto-updated (using Lombok for example)</li>\n</ol>\n<pre><code>@Builder(toBuilder=true)\nclass Foo {\n   int x;\n   ...\n}\nFoo f0 = Foo.builder().build();\nFoo f1 = f0.toBuilder().build();  // copy\n</code></pre>\n<ol start=\"2\">\n<li>Create a tests that populate an object with non-default values, and then use reflection/Jackson to read all its key-value pairs, and make sure that the value is not a default value (<code>null</code>, <code>0</code>, <code>0.0</code>, <code>false</code>, <code>'\\0'</code>)</li>\n</ol>\n<pre><code>\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\n// other imports\n\npublic class FooTest {\n  @Test\n  public void testCopyConstructor_shouldCopyAllFields() {\n    ObjectMapper mapper = new ObjectMapper();\n    // only use field, don't use getters\n    mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n\n    // should be instantiated with non-default values\n    Foo original = new Foo();\n    original.setSimilarity(0.1);\n    original.setStatus(SomeEnum.PENDING);\n    // ...\n\n    Foo copied = new Foo(original);\n\n\n    Map&lt;String, Object&gt; originalMap = mapper.convertValue(original, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;(){});\n    for (Map.Entry&lt;String, Object&gt; entry : originalMap.entrySet()) {\n      // if we add new fields and forget to update this test, this test should fail\n      assertTrue(isNotDefaultValue(entry.getValue()), &quot;Forgot to update this test: &quot; + entry.getKey());\n    }\n\n    Map&lt;String, Object&gt; resultingMap = mapper.convertValue(copied, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;(){});\n    for (Map.Entry&lt;String, Object&gt; entry : resultingMap.entrySet()) {\n      Object expectedValue = originalMap.get(entry.getKey());\n      assertEquals(entry.getValue(), expectedValue);\n    }\n  }\n\n  private static boolean isNotDefaultValue(Object value){\n    if (value == null)\n      return false;\n    boolean defaultBoolean = false;\n    char defaultChar = '\\0';\n    byte defaultByte = 0;\n    short defaultShort = 0;\n    int defaultInt = 0;\n    long defaultLong = 0;\n    float defaultFloat = 0;\n    double defaultDouble = 0;\n    List&lt;Object&gt; defaultValues = List.of(defaultBoolean, defaultChar, defaultByte, defaultShort,\n      defaultInt, defaultLong, defaultFloat, defaultDouble);\n    return !defaultValues.contains(value);\n  }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Use a complex object-randomizer, such as <a href=\"https://www.baeldung.com/java-easy-random\" rel=\"nofollow noreferrer\">EasyRandom</a>, and use it in your unit tests and do your copy constructor</li>\n</ol>\n<pre><code>import java.util.Objects;\n// other imports\n\npublic class FooTest {\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n\n  @Test\n  public void testCopyConstructor_shouldCopyAllFields() {\n    EasyRandom generator = new EasyRandom();\n    \n    for (int i = 0; i &lt; 4; i++){  // you can do it multiple times if you're unsure\n      Person person = generator.nextObject(Person.class);\n      Person copied = new Person(person);\n\n      // or if you afraid of forgetting to update your .equals() method, \n      // just convert both of them to hashmaps (using jackson) \n      // and compare the hashmaps\n      assertEquals(copied, person);  \n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701753441,"creation_date":1701753441,"answer_id":77603958,"question_id":53856766,"body_markdown":"__1)__ To add to Makoto post, I once used a method to control programmatically the correctness of a cloning. But it&#39;s something hard and long.\r\n\r\nI give you the code I&#39;ve used as an unit test. It&#39;s surely perfectible:\r\n\r\n```java\r\n/**\r\n * V&#233;rification du bon clonage d&#39;un objet.\r\n * @param o Objet original.\r\n * @param clone Objet qui se dit clone du premier.\r\n * @param champsExclus Champs qu&#39;il faut exclure de la v&#233;rification d&#39;assertNotSame().\r\n */\r\npublic void controlerClonage(Object o, Object clone, String... champsExclus) {\r\n   assertNotNull(o, MessageFormat.format(&quot;L&#39;&#39;objet de classe {0} dont le clonage doit &#234;tre contr&#244;l&#233; ne peut pas valoir null.&quot;, o.getClass().getName()));\r\n   assertNotNull(clone, MessageFormat.format(&quot;L&#39;&#39;objet de classe {0} dont le clonage doit &#234;tre contr&#244;l&#233; ne peut pas valoir null.&quot;, o.getClass().getName()));\r\n\r\n   // Cloner l&#39;objet puis v&#233;rifier qu&#39;il est &#233;gal &#224; son original.\r\n   assertEquals(o, clone, MessageFormat.format(&quot;L&#39;&#39;objet clon&#233; {0} et son original devraient &#234;tre &#233;gaux.&quot;, o.getClass().getSimpleName()));\r\n   assertNotSame(o, clone, MessageFormat.format(&quot;L&#39;&#39;objet clon&#233; {0} et son original ne devraient pas partager le m&#234;me pointeur.&quot;, o.getClass().getSimpleName()));\r\n\r\n   // Enum&#233;rer toutes les variables membres de l&#39;objet.\r\n   Field[] champs = o.getClass().getDeclaredFields();\r\n\r\n   for(Field champ : champs) {\r\n      // Si le champ est parmi la liste de ceux &#224; exclure, ne pas en tenir compte.\r\n      if (isChampExclu(champ, champsExclus)) {\r\n         continue;\r\n      }\r\n\r\n      // Si l&#39;objet est un type primitif ou un String, l&#39;assertNotSame() ne pourra pas s&#39;appliquer.\r\n      // En revanche, l&#39;assertEquals(), lui, toujours.\r\n      champ.setAccessible(true);\r\n\r\n      // Lecture de la valeur originale.\r\n      Object valeurOriginal = null;\r\n\r\n      try {\r\n         valeurOriginal = champ.get(o);\r\n      }\r\n      catch(IllegalArgumentException | IllegalAccessException e) {\r\n         fail(MessageFormat.format(&quot;L&#39;&#39;obtention de la valeur du champ {0} dans l&#39;&#39;objet original {1} a &#233;chou&#233; : {2}.&quot;, champ.getName(),\r\n               o.getClass().getSimpleName(), e.getMessage()));\r\n      }\r\n\r\n      // Lecture de la valeur clon&#233;e.\r\n      Object valeurClone = null;\r\n\r\n      try {\r\n         valeurClone = champ.get(clone);\r\n      }\r\n      catch(IllegalArgumentException | IllegalAccessException e) {\r\n         fail(MessageFormat.format(&quot;L&#39;&#39;obtention de la valeur du champ {0} dans l&#39;&#39;objet clon&#233; {1} a &#233;chou&#233; : {2}.&quot;, champ.getName(),\r\n               clone.getClass().getSimpleName(), e.getMessage()));\r\n      }\r\n\r\n      assertEquals(valeurOriginal, valeurClone, MessageFormat.format(&quot;La valeur de la variable membre {0} de l&#39;&#39;objet {1} et de son clone devrait &#234;tre &#233;gales.&quot;, champ.getName(), clone.getClass().getSimpleName()));\r\n\r\n      // Les types primitifs, les cha&#238;nes de caract&#232;res et les &#233;num&#233;rations, ne voient pas leurs pointeurs v&#233;rifi&#233;s.\r\n      // Et cela n&#39;a de sens que si les valeurs de ces pointeurs sont non nuls.\r\n      if (valeurOriginal != null &amp;&amp; valeurClone != null) {\r\n         if (champ.getType().isPrimitive() == false &amp;&amp; champ.getType().equals(String.class) == false\r\n               &amp;&amp; Enum.class.isAssignableFrom(champ.getType()) == false)\r\n            assertNotSame(valeurOriginal, valeurClone, MessageFormat.format(&quot;La variable membre {0} de l&#39;&#39;objet {1} et de son clone ne devraient pas partager le m&#234;me pointeur.&quot;, champ.getName(), clone.getClass().getSimpleName()));\r\n      }\r\n   }\r\n}\r\n\r\n/**\r\n * D&#233;terminer si un champ fait partie d&#39;une liste de champs exclus.\r\n * @param champ Champ.\r\n * @param champsExclus Liste de champs exclus.\r\n * @return true, si c&#39;est le cas.\r\n */\r\nprivate boolean isChampExclu(Field champ, String[] champsExclus) {\r\n   for (String exclus : champsExclus) {\r\n      if (exclus.equals(champ.getName()))\r\n         return true;\r\n   }\r\n\r\n   return false;\r\n}\r\n\r\n/**\r\n * Alimenter un objet avec des valeurs par d&#233;faut.\r\n * @param objet Objet.\r\n * @return Objet lui-m&#234;me (aliment&#233;).\r\n */\r\npublic Object alimenter(Object objet) {\r\n   double nDouble = 1.57818;\r\n   int nInt = 1;\r\n   long nLong = 10000L;\r\n   \r\n   Class&lt;?&gt; classe = objet.getClass();\r\n   \r\n   while(classe.equals(Object.class) == false &amp;&amp; classe.getName().startsWith(&quot;java.&quot;) == false) {\r\n      for(Field field : classe.getDeclaredFields()) {\r\n         // Ignorer certains types\r\n         if (field.getType().equals(Class.class) || field.getType().equals(ArrayList.class)\r\n            || field.getType().equals(List.class)|| field.getType().equals(Set.class)\r\n            || field.getType().equals(HashSet.class) || field.getType().equals(HashMap.class)) {\r\n            continue;\r\n         }\r\n         \r\n         // Ecarter les champs statiques.\r\n         if (Modifier.isStatic(field.getModifiers())) {\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type texte.\r\n         if (field.getType().equals(String.class)) {\r\n            setValue(field, objet, &quot;*&quot; + field.getName() + &quot;*&quot;);\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type LocalDate.\r\n         if (field.getType().equals(LocalDate.class)) {\r\n            setValue(field, objet, LocalDate.now());\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type LocalDateTime.\r\n         if (field.getType().equals(LocalDateTime.class)) {\r\n            setValue(field, objet, LocalDateTime.now());\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type URL.\r\n         if (field.getType().equals(URL.class)) {\r\n            try {\r\n               URL url = new URL(&quot;http://a.b.c/test&quot;);\r\n               setValue(field, objet, url);\r\n            }\r\n            catch(MalformedURLException e) {\r\n               throw new RuntimeException(&quot;Mauvaise pr&#233;paration d&#39;URL pour test toString : &quot; + e.getMessage());\r\n            }\r\n            \r\n            continue;\r\n         }\r\n         \r\n         // Champs de type ZonedDateTime.\r\n         if (field.getType().equals(ZonedDateTime.class)) {\r\n            setValue(field, objet, ZonedDateTime.now());\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type texte.\r\n         if (field.getType().equals(Double.class) || field.getType().equals(Double.TYPE)) {\r\n            setValue(field, objet, nDouble ++);\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type integer.\r\n         if (field.getType().equals(Integer.class) || field.getType().equals(Integer.TYPE)) {\r\n            setValue(field, objet, nInt ++);\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type long.\r\n         if (field.getType().equals(Long.class) || field.getType().equals(Long.TYPE)) {\r\n            setValue(field, objet, nLong ++);\r\n            continue;\r\n         }\r\n         \r\n         // Champs de type &#233;num&#233;ration\r\n         if (Enum.class.isAssignableFrom(field.getType())) {\r\n            @SuppressWarnings(&quot;unchecked&quot;) \r\n            Class&lt;Enum&lt;?&gt;&gt; enumeration = (Class&lt;Enum&lt;?&gt;&gt;)field.getType();\r\n            Enum&lt;?&gt;[] constantes = enumeration.getEnumConstants();\r\n            setValue(field, objet, constantes[0]);\r\n            \r\n            // On en profite pour v&#233;rifier toutes ses constantes.\r\n            for(Enum&lt;?&gt; constante : constantes) {\r\n               System.out.println(MessageFormat.format(&quot;{0}.{1}.{2} = {3}&quot;, classe.getName(), field.getName(), constante.name(), constante.toString()));\r\n            }\r\n            \r\n            continue;\r\n         }\r\n         \r\n         if (field.getType().getName().startsWith(&quot;java.&quot;) == false) {\r\n            try {\r\n               field.setAccessible(true);\r\n               Object membre = field.get(objet);\r\n               \r\n               // Ecarter les champs statiques et abstraits.\r\n               if ((Modifier.isStatic(field.getModifiers()) &amp;&amp; Modifier.isAbstract(field.getModifiers())) == false) {\r\n                  // Si l&#39;objet n&#39;est pas initialis&#233;, tenter de le faire.\r\n                  if (membre == null) {\r\n                     try {\r\n                        membre = field.getType().getDeclaredConstructor().newInstance();\r\n                     }\r\n                     catch(@SuppressWarnings(&quot;unused&quot;) InstantiationException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\r\n                        // On laisse passer, on ne pourra  pas l&#39;attribuer.\r\n                     }\r\n                  }\r\n                  \r\n                  // Si l&#39;on a obtenu le membre ou si on l&#39;a cr&#233;&#233;, on l&#39;alimente et on l&#39;affecte.\r\n                  if (membre != null &amp;&amp; membre != objet) {\r\n                     alimenter(membre);\r\n                     setValue(field, objet, membre);\r\n                  }\r\n               }\r\n               \r\n               continue;\r\n            }\r\n            catch(IllegalArgumentException | IllegalAccessException e) {\r\n               System.err.println(MessageFormat.format(&quot;{0}.{1}.{2} n&#39;a pas pu &#234;tre assign&#233; : {3}&quot;, objet.getClass().getName(), field.getName(), e.getMessage()));\r\n            }\r\n         }\r\n\r\n         // Indiquer les champs que l&#39;on a pas pu assigner.\r\n         System.err.println(MessageFormat.format(&quot;non assign&#233; : {0}.{1}&quot;, field.getName(), field.getType().getName()));\r\n      }\r\n      \r\n      classe = classe.getSuperclass();\r\n   }\r\n   \r\n   return objet;\r\n}\r\n\r\n/**\r\n * Fixer une valeur &#224; un champ.\r\n * @param field Champ dans l&#39;objet cible.\r\n * @param objet Objet cible.\r\n * @param valeur Valeur &#224; attribuer.\r\n */\r\nprivate void setValue(Field field, Object objet, Object valeur) {\r\n   field.setAccessible(true);\r\n   \r\n   try {\r\n      field.set(objet, valeur);\r\n   }\r\n   catch(IllegalArgumentException | IllegalAccessException e) {\r\n      System.err.println(MessageFormat.format(&quot;{0}.{1} n&#39;a pas pu &#234;tre assign&#233; : {2}&quot;, objet.getClass().getName(), field.getName(), e.getMessage()));\r\n   }\r\n}\r\n```\r\n\r\n---\r\n\r\n__2)__ This isn&#39;t about automatic control by U.T., but for develop time, inside the IDE:\r\n\r\nThese days, I removed all the `clone()` methods I had, having learnt that they are a bad practice, to replace them with copy constructors.\r\n\r\nI noticed that if an IDE like _IntelliJ_ detects in a class `MyClass` a constructor of the form `MyClass(MyClass source) {...}` it will warn if one assignation is missing.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe class name is surrounded in yellow, with the message: `Copy constructor does not copy field &#39;population&#39;`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zkwWT.png","title":"How to write a unit test to check copy constructor is in sync with class properties?","body":"<p><strong>1)</strong> To add to Makoto post, I once used a method to control programmatically the correctness of a cloning. But it's something hard and long.</p>\n<p>I give you the code I've used as an unit test. It's surely perfectible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Vérification du bon clonage d'un objet.\n * @param o Objet original.\n * @param clone Objet qui se dit clone du premier.\n * @param champsExclus Champs qu'il faut exclure de la vérification d'assertNotSame().\n */\npublic void controlerClonage(Object o, Object clone, String... champsExclus) {\n   assertNotNull(o, MessageFormat.format(&quot;L''objet de classe {0} dont le clonage doit être contrôlé ne peut pas valoir null.&quot;, o.getClass().getName()));\n   assertNotNull(clone, MessageFormat.format(&quot;L''objet de classe {0} dont le clonage doit être contrôlé ne peut pas valoir null.&quot;, o.getClass().getName()));\n\n   // Cloner l'objet puis vérifier qu'il est égal à son original.\n   assertEquals(o, clone, MessageFormat.format(&quot;L''objet cloné {0} et son original devraient être égaux.&quot;, o.getClass().getSimpleName()));\n   assertNotSame(o, clone, MessageFormat.format(&quot;L''objet cloné {0} et son original ne devraient pas partager le même pointeur.&quot;, o.getClass().getSimpleName()));\n\n   // Enumérer toutes les variables membres de l'objet.\n   Field[] champs = o.getClass().getDeclaredFields();\n\n   for(Field champ : champs) {\n      // Si le champ est parmi la liste de ceux à exclure, ne pas en tenir compte.\n      if (isChampExclu(champ, champsExclus)) {\n         continue;\n      }\n\n      // Si l'objet est un type primitif ou un String, l'assertNotSame() ne pourra pas s'appliquer.\n      // En revanche, l'assertEquals(), lui, toujours.\n      champ.setAccessible(true);\n\n      // Lecture de la valeur originale.\n      Object valeurOriginal = null;\n\n      try {\n         valeurOriginal = champ.get(o);\n      }\n      catch(IllegalArgumentException | IllegalAccessException e) {\n         fail(MessageFormat.format(&quot;L''obtention de la valeur du champ {0} dans l''objet original {1} a échoué : {2}.&quot;, champ.getName(),\n               o.getClass().getSimpleName(), e.getMessage()));\n      }\n\n      // Lecture de la valeur clonée.\n      Object valeurClone = null;\n\n      try {\n         valeurClone = champ.get(clone);\n      }\n      catch(IllegalArgumentException | IllegalAccessException e) {\n         fail(MessageFormat.format(&quot;L''obtention de la valeur du champ {0} dans l''objet cloné {1} a échoué : {2}.&quot;, champ.getName(),\n               clone.getClass().getSimpleName(), e.getMessage()));\n      }\n\n      assertEquals(valeurOriginal, valeurClone, MessageFormat.format(&quot;La valeur de la variable membre {0} de l''objet {1} et de son clone devrait être égales.&quot;, champ.getName(), clone.getClass().getSimpleName()));\n\n      // Les types primitifs, les chaînes de caractères et les énumérations, ne voient pas leurs pointeurs vérifiés.\n      // Et cela n'a de sens que si les valeurs de ces pointeurs sont non nuls.\n      if (valeurOriginal != null &amp;&amp; valeurClone != null) {\n         if (champ.getType().isPrimitive() == false &amp;&amp; champ.getType().equals(String.class) == false\n               &amp;&amp; Enum.class.isAssignableFrom(champ.getType()) == false)\n            assertNotSame(valeurOriginal, valeurClone, MessageFormat.format(&quot;La variable membre {0} de l''objet {1} et de son clone ne devraient pas partager le même pointeur.&quot;, champ.getName(), clone.getClass().getSimpleName()));\n      }\n   }\n}\n\n/**\n * Déterminer si un champ fait partie d'une liste de champs exclus.\n * @param champ Champ.\n * @param champsExclus Liste de champs exclus.\n * @return true, si c'est le cas.\n */\nprivate boolean isChampExclu(Field champ, String[] champsExclus) {\n   for (String exclus : champsExclus) {\n      if (exclus.equals(champ.getName()))\n         return true;\n   }\n\n   return false;\n}\n\n/**\n * Alimenter un objet avec des valeurs par défaut.\n * @param objet Objet.\n * @return Objet lui-même (alimenté).\n */\npublic Object alimenter(Object objet) {\n   double nDouble = 1.57818;\n   int nInt = 1;\n   long nLong = 10000L;\n   \n   Class&lt;?&gt; classe = objet.getClass();\n   \n   while(classe.equals(Object.class) == false &amp;&amp; classe.getName().startsWith(&quot;java.&quot;) == false) {\n      for(Field field : classe.getDeclaredFields()) {\n         // Ignorer certains types\n         if (field.getType().equals(Class.class) || field.getType().equals(ArrayList.class)\n            || field.getType().equals(List.class)|| field.getType().equals(Set.class)\n            || field.getType().equals(HashSet.class) || field.getType().equals(HashMap.class)) {\n            continue;\n         }\n         \n         // Ecarter les champs statiques.\n         if (Modifier.isStatic(field.getModifiers())) {\n            continue;\n         }\n         \n         // Champs de type texte.\n         if (field.getType().equals(String.class)) {\n            setValue(field, objet, &quot;*&quot; + field.getName() + &quot;*&quot;);\n            continue;\n         }\n         \n         // Champs de type LocalDate.\n         if (field.getType().equals(LocalDate.class)) {\n            setValue(field, objet, LocalDate.now());\n            continue;\n         }\n         \n         // Champs de type LocalDateTime.\n         if (field.getType().equals(LocalDateTime.class)) {\n            setValue(field, objet, LocalDateTime.now());\n            continue;\n         }\n         \n         // Champs de type URL.\n         if (field.getType().equals(URL.class)) {\n            try {\n               URL url = new URL(&quot;http://a.b.c/test&quot;);\n               setValue(field, objet, url);\n            }\n            catch(MalformedURLException e) {\n               throw new RuntimeException(&quot;Mauvaise préparation d'URL pour test toString : &quot; + e.getMessage());\n            }\n            \n            continue;\n         }\n         \n         // Champs de type ZonedDateTime.\n         if (field.getType().equals(ZonedDateTime.class)) {\n            setValue(field, objet, ZonedDateTime.now());\n            continue;\n         }\n         \n         // Champs de type texte.\n         if (field.getType().equals(Double.class) || field.getType().equals(Double.TYPE)) {\n            setValue(field, objet, nDouble ++);\n            continue;\n         }\n         \n         // Champs de type integer.\n         if (field.getType().equals(Integer.class) || field.getType().equals(Integer.TYPE)) {\n            setValue(field, objet, nInt ++);\n            continue;\n         }\n         \n         // Champs de type long.\n         if (field.getType().equals(Long.class) || field.getType().equals(Long.TYPE)) {\n            setValue(field, objet, nLong ++);\n            continue;\n         }\n         \n         // Champs de type énumération\n         if (Enum.class.isAssignableFrom(field.getType())) {\n            @SuppressWarnings(&quot;unchecked&quot;) \n            Class&lt;Enum&lt;?&gt;&gt; enumeration = (Class&lt;Enum&lt;?&gt;&gt;)field.getType();\n            Enum&lt;?&gt;[] constantes = enumeration.getEnumConstants();\n            setValue(field, objet, constantes[0]);\n            \n            // On en profite pour vérifier toutes ses constantes.\n            for(Enum&lt;?&gt; constante : constantes) {\n               System.out.println(MessageFormat.format(&quot;{0}.{1}.{2} = {3}&quot;, classe.getName(), field.getName(), constante.name(), constante.toString()));\n            }\n            \n            continue;\n         }\n         \n         if (field.getType().getName().startsWith(&quot;java.&quot;) == false) {\n            try {\n               field.setAccessible(true);\n               Object membre = field.get(objet);\n               \n               // Ecarter les champs statiques et abstraits.\n               if ((Modifier.isStatic(field.getModifiers()) &amp;&amp; Modifier.isAbstract(field.getModifiers())) == false) {\n                  // Si l'objet n'est pas initialisé, tenter de le faire.\n                  if (membre == null) {\n                     try {\n                        membre = field.getType().getDeclaredConstructor().newInstance();\n                     }\n                     catch(@SuppressWarnings(&quot;unused&quot;) InstantiationException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\n                        // On laisse passer, on ne pourra  pas l'attribuer.\n                     }\n                  }\n                  \n                  // Si l'on a obtenu le membre ou si on l'a créé, on l'alimente et on l'affecte.\n                  if (membre != null &amp;&amp; membre != objet) {\n                     alimenter(membre);\n                     setValue(field, objet, membre);\n                  }\n               }\n               \n               continue;\n            }\n            catch(IllegalArgumentException | IllegalAccessException e) {\n               System.err.println(MessageFormat.format(&quot;{0}.{1}.{2} n'a pas pu être assigné : {3}&quot;, objet.getClass().getName(), field.getName(), e.getMessage()));\n            }\n         }\n\n         // Indiquer les champs que l'on a pas pu assigner.\n         System.err.println(MessageFormat.format(&quot;non assigné : {0}.{1}&quot;, field.getName(), field.getType().getName()));\n      }\n      \n      classe = classe.getSuperclass();\n   }\n   \n   return objet;\n}\n\n/**\n * Fixer une valeur à un champ.\n * @param field Champ dans l'objet cible.\n * @param objet Objet cible.\n * @param valeur Valeur à attribuer.\n */\nprivate void setValue(Field field, Object objet, Object valeur) {\n   field.setAccessible(true);\n   \n   try {\n      field.set(objet, valeur);\n   }\n   catch(IllegalArgumentException | IllegalAccessException e) {\n      System.err.println(MessageFormat.format(&quot;{0}.{1} n'a pas pu être assigné : {2}&quot;, objet.getClass().getName(), field.getName(), e.getMessage()));\n   }\n}\n</code></pre>\n<hr />\n<p><strong>2)</strong> This isn't about automatic control by U.T., but for develop time, inside the IDE:</p>\n<p>These days, I removed all the <code>clone()</code> methods I had, having learnt that they are a bad practice, to replace them with copy constructors.</p>\n<p>I noticed that if an IDE like <em>IntelliJ</em> detects in a class <code>MyClass</code> a constructor of the form <code>MyClass(MyClass source) {...}</code> it will warn if one assignation is missing.</p>\n<p><a href=\"https://i.stack.imgur.com/zkwWT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zkwWT.png\" alt=\"enter image description here\" /></a></p>\n<p>The class name is surrounded in yellow, with the message: <code>Copy constructor does not copy field 'population'</code>.</p>\n"}],"owner":{"account_id":278030,"reputation":10509,"user_id":572380,"accept_rate":78,"display_name":"nilgun"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1701753441,"creation_date":1545242084,"question_id":53856766,"body_markdown":"Recently we had a bug in our system that is caused by forgetting to assign a newly added class property in the copy constructor.\r\n\r\nFor example:\r\n\r\n    public class MyClass {\r\n    \r\n    \tprivate Long companyId;\r\n    \tprivate Long classId;\r\n    \tprivate Double value;   &lt;=  newly added\r\n    \r\n        public MyClass(MyClass myClass) {\r\n    \t\tthis.setCompanyId(myClass.getCompanyId());\r\n    \t\tthis.setClassId(myClass.getClassId());\r\n    \t\tthis.setValue(myClass.getValue());   &lt;= we forget this line\r\n    \t}\r\n\r\nI want to write a unit test that guarantees to catch the missing copy assignment when a new property is added. How should I proceed with this?\r\n\r\n","title":"How to write a unit test to check copy constructor is in sync with class properties?","body":"<p>Recently we had a bug in our system that is caused by forgetting to assign a newly added class property in the copy constructor.</p>\n\n<p>For example:</p>\n\n<pre><code>public class MyClass {\n\n    private Long companyId;\n    private Long classId;\n    private Double value;   &lt;=  newly added\n\n    public MyClass(MyClass myClass) {\n        this.setCompanyId(myClass.getCompanyId());\n        this.setClassId(myClass.getClassId());\n        this.setValue(myClass.getValue());   &lt;= we forget this line\n    }\n</code></pre>\n\n<p>I want to write a unit test that guarantees to catch the missing copy assignment when a new property is added. How should I proceed with this?</p>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":16147,"reputation":11216,"user_id":34880,"accept_rate":73,"display_name":"Fernando Migu&#233;lez"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1227563269,"creation_date":1227562538,"answer_id":315569,"question_id":315517,"body_markdown":"The transformer API is the only XML-standard way to transform from a DOM object to a serialized form (String in this case). As standard I mean SUN [Java XML API for XML Processing][1]. \r\n\r\nOther alternatives such as Xerces [XMLSerializer][2] or JDOM [XMLOutputter][3] are more direct methods (less code) but they are framework-specific.\r\n\r\nIn my opinion the way you have used is the most elegant and most portable of all. By using a standard XML Java API you can plug the XML-Parser or XML-Transformer of your choice without changing the code(the same as JDBC drivers). Is there anything more elegant than that?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_API_for_XML_Processing\r\n  [2]: http://xerces.apache.org/xerces-j/apiDocs/org/apache/xml/serialize/XMLSerializer.html\r\n  [3]: http://www.jdom.org/docs/apidocs/org/jdom/output/XMLOutputter.html","title":"Is there a more elegant way to convert an XML Document to a String in Java than this code?","body":"<p>The transformer API is the only XML-standard way to transform from a DOM object to a serialized form (String in this case). As standard I mean SUN <a href=\"http://en.wikipedia.org/wiki/Java_API_for_XML_Processing\" rel=\"noreferrer\">Java XML API for XML Processing</a>. </p>\n\n<p>Other alternatives such as Xerces <a href=\"http://xerces.apache.org/xerces-j/apiDocs/org/apache/xml/serialize/XMLSerializer.html\" rel=\"noreferrer\">XMLSerializer</a> or JDOM <a href=\"http://www.jdom.org/docs/apidocs/org/jdom/output/XMLOutputter.html\" rel=\"noreferrer\">XMLOutputter</a> are more direct methods (less code) but they are framework-specific.</p>\n\n<p>In my opinion the way you have used is the most elegant and most portable of all. By using a standard XML Java API you can plug the XML-Parser or XML-Transformer of your choice without changing the code(the same as JDBC drivers). Is there anything more elegant than that?</p>\n"},{"tags":[],"owner":{"account_id":11602,"reputation":3279,"user_id":22436,"accept_rate":68,"display_name":"digitalsanctum"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1449591537,"creation_date":1227562624,"answer_id":315578,"question_id":315517,"body_markdown":"This is a little more concise:\r\n\r\n    try {\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n        StreamResult result = new StreamResult(new StringWriter());\r\n        DOMSource source = new DOMSource(doc);\r\n        transformer.transform(source, result);\r\n        return result.getWriter().toString();\r\n    } catch(TransformerException ex) {\r\n        ex.printStackTrace();\r\n        return null;\r\n    }\r\n\r\nOtherwise you could use a library like XMLSerializer from Apache:\r\n\r\n    //Serialize DOM\r\n    OutputFormat format    = new OutputFormat (doc); \r\n    // as a String\r\n    StringWriter stringOut = new StringWriter ();    \r\n    XMLSerializer serial   = new XMLSerializer (stringOut,format);\r\n    serial.serialize(doc);\r\n    // Display the XML\r\n    System.out.println(stringOut.toString());","title":"Is there a more elegant way to convert an XML Document to a String in Java than this code?","body":"<p>This is a little more concise:</p>\n\n<pre><code>try {\n    Transformer transformer = TransformerFactory.newInstance().newTransformer();\n    StreamResult result = new StreamResult(new StringWriter());\n    DOMSource source = new DOMSource(doc);\n    transformer.transform(source, result);\n    return result.getWriter().toString();\n} catch(TransformerException ex) {\n    ex.printStackTrace();\n    return null;\n}\n</code></pre>\n\n<p>Otherwise you could use a library like XMLSerializer from Apache:</p>\n\n<pre><code>//Serialize DOM\nOutputFormat format    = new OutputFormat (doc); \n// as a String\nStringWriter stringOut = new StringWriter ();    \nXMLSerializer serial   = new XMLSerializer (stringOut,format);\nserial.serialize(doc);\n// Display the XML\nSystem.out.println(stringOut.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636442581,"creation_date":1227562780,"answer_id":315595,"question_id":315517,"body_markdown":"You could use [XOM](http://xom.nu/):\r\n\r\n    org.w3c.dom.Document domDocument = ...;\r\n    nu.xom.Document xomDocument = \r\n        nu.xom.converters.DOMConverter.convert(domDocument);\r\n    String xml = xomDocument.toXML();\r\n\r\nYou could use [Jsoup](https://jsoup.org/):\r\n\r\n    org.jsoup.helper.W3CDom converter = new W3CDom();\r\n    String html = converter.asString( domDocument );\r\n","title":"Is there a more elegant way to convert an XML Document to a String in Java than this code?","body":"<p>You could use <a href=\"http://xom.nu/\" rel=\"nofollow noreferrer\">XOM</a>:</p>\n<pre><code>org.w3c.dom.Document domDocument = ...;\nnu.xom.Document xomDocument = \n    nu.xom.converters.DOMConverter.convert(domDocument);\nString xml = xomDocument.toXML();\n</code></pre>\n<p>You could use <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a>:</p>\n<pre><code>org.jsoup.helper.W3CDom converter = new W3CDom();\nString html = converter.asString( domDocument );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1227563935,"creation_date":1227563935,"answer_id":315663,"question_id":315517,"body_markdown":"Relies on [DOM Level3 Load/Save][1]:\r\n\r\n    public String getStringFromDoc(org.w3c.dom.Document doc)    {\r\n        DOMImplementationLS domImplementation = (DOMImplementationLS) doc.getImplementation();\r\n        LSSerializer lsSerializer = domImplementation.createLSSerializer();\r\n        return lsSerializer.writeToString(doc);   \r\n    }\r\n\r\n\r\n  [1]: http://www.w3.org/TR/DOM-Level-3-LS/load-save.html","title":"Is there a more elegant way to convert an XML Document to a String in Java than this code?","body":"<p>Relies on <a href=\"http://www.w3.org/TR/DOM-Level-3-LS/load-save.html\" rel=\"noreferrer\">DOM Level3 Load/Save</a>:</p>\n\n<pre><code>public String getStringFromDoc(org.w3c.dom.Document doc)    {\n    DOMImplementationLS domImplementation = (DOMImplementationLS) doc.getImplementation();\n    LSSerializer lsSerializer = domImplementation.createLSSerializer();\n    return lsSerializer.writeToString(doc);   \n}\n</code></pre>\n"}],"owner":{"account_id":540,"reputation":13430,"user_id":700,"accept_rate":79,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75640,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":315663,"answer_count":4,"score":71,"last_activity_date":1701752806,"creation_date":1227561690,"question_id":315517,"body_markdown":"Here is the code currently used.\r\n\r\n    public String getStringFromDoc(org.w3c.dom.Document doc) \t{\r\n    \t    try\r\n    \t    {\r\n    \t       DOMSource domSource = new DOMSource(doc);\r\n    \t       StringWriter writer = new StringWriter();\r\n    \t       StreamResult result = new StreamResult(writer);\r\n    \t       TransformerFactory tf = TransformerFactory.newInstance();\r\n    \t       Transformer transformer = tf.newTransformer();\r\n    \t       transformer.transform(domSource, result);\r\n    \t       writer.flush();\r\n    \t       return writer.toString();\r\n    \t    }\r\n    \t    catch(TransformerException ex)\r\n    \t    {\r\n    \t       ex.printStackTrace();\r\n    \t       return null;\r\n    \t    }\r\n    \t}","title":"Is there a more elegant way to convert an XML Document to a String in Java than this code?","body":"<p>Here is the code currently used.</p>\n\n<pre><code>public String getStringFromDoc(org.w3c.dom.Document doc)    {\n        try\n        {\n           DOMSource domSource = new DOMSource(doc);\n           StringWriter writer = new StringWriter();\n           StreamResult result = new StreamResult(writer);\n           TransformerFactory tf = TransformerFactory.newInstance();\n           Transformer transformer = tf.newTransformer();\n           transformer.transform(domSource, result);\n           writer.flush();\n           return writer.toString();\n        }\n        catch(TransformerException ex)\n        {\n           ex.printStackTrace();\n           return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678369892,"post_id":75682819,"comment_id":133521820,"body_markdown":"Get maven to give you the stacktraces for the errors; e.g. `mvn -e ...`.  The problem &gt;is&lt; most likely something to do with encoding.  Maybe some of the HTML files it is copying are NOT properly encoded UTF-8.  Maybe Maven is trying to read them as UTF-8 and that is failing.","body":"Get maven to give you the stacktraces for the errors; e.g. <code>mvn -e ...</code>.  The problem &gt;is&lt; most likely something to do with encoding.  Maybe some of the HTML files it is copying are NOT properly encoded UTF-8.  Maybe Maven is trying to read them as UTF-8 and that is failing."}],"answers":[{"tags":[],"owner":{"account_id":16102168,"reputation":31,"user_id":11622635,"display_name":"theckler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691012449,"creation_date":1691012449,"answer_id":76823701,"question_id":75682819,"body_markdown":"I had this issue and fixed it by adding the below plugin to my pom.xml:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis is a workaround, and the proper fix is to make sure your files are properly encoded. More details in the selected answer here: https://stackoverflow.com/questions/65910112/maven-clean-install-failed-to-execute-goal-org-apache-maven-pluginsmaven-resou","title":"failed with MalformedInputException: Input length = 1 when building java application with maven 3.9.0","body":"<p>I had this issue and fixed it by adding the below plugin to my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This is a workaround, and the proper fix is to make sure your files are properly encoded. More details in the selected answer here: <a href=\"https://stackoverflow.com/questions/65910112/maven-clean-install-failed-to-execute-goal-org-apache-maven-pluginsmaven-resou\">Maven clean install: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources</a></p>\n"},{"tags":[],"owner":{"account_id":20252621,"reputation":1,"user_id":14853233,"display_name":"Emmanuel Orozco Lopez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701752755,"creation_date":1701752755,"answer_id":77603926,"question_id":75682819,"body_markdown":"The first response helped me, but it still resulted in a &#39;Warning&#39;. I resolved it by making the following configuration:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"failed with MalformedInputException: Input length = 1 when building java application with maven 3.9.0","body":"<p>The first response helped me, but it still resulted in a 'Warning'. I resolved it by making the following configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":27093269,"reputation":31,"user_id":20640756,"display_name":"Dray56"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2430,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1701752755,"creation_date":1678355079,"question_id":75682819,"body_markdown":"The java application is building perfectly fine with maven 3.6.0-3.8.x . However with maven 3.9.0 it is giving this strange error for html or xml files.\r\n\r\nFailed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project {project_name}: filtering {path1}/30168019.html to {path2}/30168019.html failed with MalformedInputException: Input length = 1 -&gt; [Help 1]\r\n\r\n\r\n\r\nFirst I thought might be some encoding issue wrt maven but in the pom file it is mentioned utf-8 itself. Does anyobody have any idea what might be causing this error?","title":"failed with MalformedInputException: Input length = 1 when building java application with maven 3.9.0","body":"<p>The java application is building perfectly fine with maven 3.6.0-3.8.x . However with maven 3.9.0 it is giving this strange error for html or xml files.</p>\n<p>Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project {project_name}: filtering {path1}/30168019.html to {path2}/30168019.html failed with MalformedInputException: Input length = 1 -&gt; [Help 1]</p>\n<p>First I thought might be some encoding issue wrt maven but in the pom file it is mentioned utf-8 itself. Does anyobody have any idea what might be causing this error?</p>\n"},{"tags":["java","mysql","database","indexing","ddl"],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701751865,"creation_date":1701751865,"answer_id":77603888,"question_id":77603686,"body_markdown":"    SELECT * FROM mysql.innodb_index_stats\r\n        WHERE table_name = &#39;mytablename&#39;;\r\n\r\nThen see if it has an `index_name` of `FTS_DOC_ID_INDEX` and a `stat_description` of `FTS_DOC_ID`.\r\n\r\n(That works in MySQL 8.0; I don&#39;t know about older versions or MariaDB.)","title":"How does java get an index of a database table and distinguish between a unique index and a full-text index","body":"<pre><code>SELECT * FROM mysql.innodb_index_stats\n    WHERE table_name = 'mytablename';\n</code></pre>\n<p>Then see if it has an <code>index_name</code> of <code>FTS_DOC_ID_INDEX</code> and a <code>stat_description</code> of <code>FTS_DOC_ID</code>.</p>\n<p>(That works in MySQL 8.0; I don't know about older versions or MariaDB.)</p>\n"}],"owner":{"account_id":23166277,"reputation":1,"user_id":17266151,"display_name":"陈平安"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701751865,"creation_date":1701747283,"question_id":77603686,"body_markdown":"I want to get all the information about the database table to generate a DDL statement, but there is no way to tell if the index is a full-text index.\r\n\r\n        // 获取连接\r\n        Connection conn = sqlSessionFactory.openSession().getConnection();\r\n        // 获取元数据\r\n        DatabaseMetaData metaData = conn.getMetaData();\r\n        String catalog = conn.getCatalog();\r\n        String schema = conn.getSchema();\r\n        ResultSet rs = metaData.getIndexInfo(catalog, schema, tableName, false, false);\r\n        String indexName = rs.getString(&quot;INDEX_NAME&quot;);\r\n        String columnName = rs.getString(&quot;COLUMN_NAME&quot;);\r\n        boolean unique = rs.getBoolean(&quot;NON_UNIQUE&quot;);\r\n        int type = rs.getShort(&quot;TYPE&quot;);","title":"How does java get an index of a database table and distinguish between a unique index and a full-text index","body":"<p>I want to get all the information about the database table to generate a DDL statement, but there is no way to tell if the index is a full-text index.</p>\n<pre><code>    // 获取连接\n    Connection conn = sqlSessionFactory.openSession().getConnection();\n    // 获取元数据\n    DatabaseMetaData metaData = conn.getMetaData();\n    String catalog = conn.getCatalog();\n    String schema = conn.getSchema();\n    ResultSet rs = metaData.getIndexInfo(catalog, schema, tableName, false, false);\n    String indexName = rs.getString(&quot;INDEX_NAME&quot;);\n    String columnName = rs.getString(&quot;COLUMN_NAME&quot;);\n    boolean unique = rs.getBoolean(&quot;NON_UNIQUE&quot;);\n    int type = rs.getShort(&quot;TYPE&quot;);\n</code></pre>\n"},{"tags":["java","javafx","dialog","internationalization"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701691394,"post_id":77599174,"comment_id":136803003,"body_markdown":"Perhaps something to ask on the [openjfx-dev mailing list](https://mail.openjdk.org/mailman/listinfo/openjfx-dev).","body":"Perhaps something to ask on the <a href=\"https://mail.openjdk.org/mailman/listinfo/openjfx-dev\" rel=\"nofollow noreferrer\">openjfx-dev mailing list</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701732870,"post_id":77599174,"comment_id":136810041,"body_markdown":"This kind of functionality is [documented well for the standard JDK and Swing distributions](https://www.oracle.com/java/technologies/javase/jdk21-suported-locales.html#jfc).  I think that allows customization of locales via service provider interfaces such as [java.util.spi](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/spi/package-summary.html) and java.text.spi. If so, the service provider would allow you to add new locales and still work with modules.  But I don&#39;t know where it is equivalently documented for JavaFX (or if documentation or spi classes exists).","body":"This kind of functionality is <a href=\"https://www.oracle.com/java/technologies/javase/jdk21-suported-locales.html#jfc\" rel=\"nofollow noreferrer\">documented well for the standard JDK and Swing distributions</a>.  I think that allows customization of locales via service provider interfaces such as <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/spi/package-summary.html\" rel=\"nofollow noreferrer\">java.util.spi</a> and java.text.spi. If so, the service provider would allow you to add new locales and still work with modules.  But I don&#39;t know where it is equivalently documented for JavaFX (or if documentation or spi classes exists)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701733385,"post_id":77599174,"comment_id":136810091,"body_markdown":"I checked the JavaFX 21 documentation and it doesn&#39;t define any services for modules at all.  Perhaps a service to allow addition of new language localization resources for built-in JavaFX platform dialogs (or other text), could be added in the future via a feature request (again perhaps something to discuss on the openjfx-dev mailing list).","body":"I checked the JavaFX 21 documentation and it doesn&#39;t define any services for modules at all.  Perhaps a service to allow addition of new language localization resources for built-in JavaFX platform dialogs (or other text), could be added in the future via a feature request (again perhaps something to discuss on the openjfx-dev mailing list)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701752010,"post_id":77599174,"comment_id":136811545,"body_markdown":"An alternative to `--patch-module` (see my answer below) _might_ be to simply modify the `javafx.controls` JAR file and insert your properties file. This would be done as part of your project&#39;s build process. Though I would prefer using `--patch-module`, as that seems more &quot;official&quot; to me.","body":"An alternative to <code>--patch-module</code> (see my answer below) <i>might</i> be to simply modify the <code>javafx.controls</code> JAR file and insert your properties file. This would be done as part of your project&#39;s build process. Though I would prefer using <code>--patch-module</code>, as that seems more &quot;official&quot; to me."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701723548,"creation_date":1701723207,"answer_id":77602497,"question_id":77599174,"body_markdown":"I am not 100% sure I understand, but here is a workaround if I understand you correctly.\r\n\r\nThis is tedious: Find the button using `lookupButton`.\r\n\r\n**Example**\r\n\r\n```\r\nimport java.util.Locale;\r\nimport java.util.Optional;\r\nimport java.util.ResourceBundle;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        Locale defaultLocale = Locale.getDefault();\r\n        System.out.println(&quot;default Locale: &quot; + defaultLocale.toLanguageTag());\r\n        ResourceBundle resourceBundle = ResourceBundle.getBundle(&quot;sed.work.internationalizationexample.resourcebundle.main&quot;, defaultLocale);\r\n        \r\n        Button btnAlert = new Button(&quot;Press for alert!&quot;);\r\n        \r\n        btnAlert.setOnAction((t) -&gt; {\r\n            Alert alert = new Alert(AlertType.CONFIRMATION);\r\n            alert.setTitle(resourceBundle.getString(&quot;alertTitle&quot;));\r\n            alert.setHeaderText(resourceBundle.getString(&quot;alertHeaderText&quot;));\r\n            alert.setContentText(resourceBundle.getString(&quot;alertContentText&quot;));\r\n\r\n            Button okButton = (Button)alert.getDialogPane().lookupButton(ButtonType.OK);\r\n            okButton.setText(resourceBundle.getString(&quot;alertOkBtnText&quot;));\r\n            Button cancelButton = (Button)alert.getDialogPane().lookupButton(ButtonType.CANCEL);\r\n            cancelButton.setText(resourceBundle.getString(&quot;alertCancelBtnText&quot;));\r\n            \r\n            Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n            if (result.get() == ButtonType.OK){\r\n                // ... user chose OK\r\n            } else {\r\n                // ... user chose CANCEL or closed the dialog\r\n            }\r\n        });\r\n\r\n        \r\n        //var label = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\r\n        var scene = new Scene(new StackPane(btnAlert), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BiUbo.gif","title":"JavaFX dialog internationalization in java module based project","body":"<p>I am not 100% sure I understand, but here is a workaround if I understand you correctly.</p>\n<p>This is tedious: Find the button using <code>lookupButton</code>.</p>\n<p><strong>Example</strong></p>\n<pre><code>import java.util.Locale;\nimport java.util.Optional;\nimport java.util.ResourceBundle;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Locale defaultLocale = Locale.getDefault();\n        System.out.println(&quot;default Locale: &quot; + defaultLocale.toLanguageTag());\n        ResourceBundle resourceBundle = ResourceBundle.getBundle(&quot;sed.work.internationalizationexample.resourcebundle.main&quot;, defaultLocale);\n        \n        Button btnAlert = new Button(&quot;Press for alert!&quot;);\n        \n        btnAlert.setOnAction((t) -&gt; {\n            Alert alert = new Alert(AlertType.CONFIRMATION);\n            alert.setTitle(resourceBundle.getString(&quot;alertTitle&quot;));\n            alert.setHeaderText(resourceBundle.getString(&quot;alertHeaderText&quot;));\n            alert.setContentText(resourceBundle.getString(&quot;alertContentText&quot;));\n\n            Button okButton = (Button)alert.getDialogPane().lookupButton(ButtonType.OK);\n            okButton.setText(resourceBundle.getString(&quot;alertOkBtnText&quot;));\n            Button cancelButton = (Button)alert.getDialogPane().lookupButton(ButtonType.CANCEL);\n            cancelButton.setText(resourceBundle.getString(&quot;alertCancelBtnText&quot;));\n            \n            Optional&lt;ButtonType&gt; result = alert.showAndWait();\n            if (result.get() == ButtonType.OK){\n                // ... user chose OK\n            } else {\n                // ... user chose CANCEL or closed the dialog\n            }\n        });\n\n        \n        //var label = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\n        var scene = new Scene(new StackPane(btnAlert), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BiUbo.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BiUbo.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701751610,"creation_date":1701751103,"answer_id":77603847,"question_id":77599174,"body_markdown":"Ideally, the `javafx.controls` module would make use of the [`ResourceBundleProvider`][1] SPI. This would let your own module provide an implementation that would find the custom resource bundles. But since JavaFX does not make use of said SPI (as of version 21.0.1), and since split packages are not allowed, another solution is needed.\r\n\r\nOne option is to make use of `--patch-module`.&#160;For instance, if you wanted to add translations for Russian ([which is not one of the provided languages in JavaFX 21][3]), then you would create the properties file in the correct package:\r\n\r\n```none\r\ncom/sun/javafx/scene/control/skin/resources/controls_ru.properties\r\n```\r\n\r\nAnd place that in some directory; let&#39;s say that directory is named `bundles` for this example. Then at run-time, you would use the following option:\r\n\r\n```none\r\n--patch-module javafx.controls=bundles\r\n```\r\n\r\n&lt;sup&gt;**Note:** This assumes `bundles` is relative to the working directory. If that&#39;s not the case, then use the proper relative path or an absolute path.&lt;/sup&gt;\r\n\r\n---\r\n\r\n# Example\r\n\r\nHere&#39;s a full example using Java 21.0.1, JavaFX 21.0.1, and Gradle 8.5.\r\n\r\n## Source Code\r\n\r\n**module-info**\r\n\r\n```java\r\nmodule app {\r\n  requires javafx.controls;\r\n\r\n  exports sample to\r\n      javafx.graphics;\r\n}\r\n```\r\n\r\n**sample.Main**\r\n\r\n```java\r\npackage sample;\r\n\r\nimport java.util.Locale;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) throws Exception {\r\n    Locale.setDefault(Locale.of(&quot;ru&quot;));\r\n\r\n    var dialogBtn = new Button(&quot;Show dialog&quot;);\r\n    dialogBtn.setOnAction(\r\n        e -&gt; {\r\n          var alert = new Alert(AlertType.CONFIRMATION);\r\n          alert.getButtonTypes().setAll(ButtonType.YES, ButtonType.NO);\r\n          alert.initOwner(primaryStage);\r\n          alert.setContentText(&quot;This text is intentionally English.&quot;);\r\n          alert.show();\r\n        });\r\n\r\n    var root = new StackPane(dialogBtn);\r\n    primaryStage.setScene(new Scene(root, 500, 300));\r\n    primaryStage.setTitle(&quot;Demo&quot;);\r\n    primaryStage.show();\r\n  }\r\n}\r\n```\r\n\r\n## Bundle Properties File\r\n\r\n**controls_ru.properties**\r\n\r\n```none\r\nDialog.yes.button = Да\r\nDialog.no.button = Нет\r\n\r\nDialog.confirm.title = Подтверждение\r\nDialog.confirm.header = Подтверждение\r\n```\r\n\r\n&lt;sup&gt;**Note:** There are many more properties you&#39;d have to set to properly add a language, but these are all that were needed for this example.&lt;/sup&gt;\r\n\r\nThese translations were taken from Google Translate. I have no idea how accurate they are.\r\n\r\n| English      | Russian       |\r\n|:------------:|:-------------:|\r\n| Yes          | Да            |\r\n| No           | Нет           |\r\n| Confirmation | Подтверждение |\r\n\r\n## Gradle Files\r\n\r\n**settings.gradle.kts**\r\n\r\n```kotlin\r\nrootProject.name = &quot;app&quot;\r\n```\r\n\r\n**build.gradle.kts**\r\n\r\n```kotlin\r\nplugins {\r\n    id(&quot;org.openjfx.javafxplugin&quot;) version &quot;0.1.0&quot;\r\n    application\r\n}\r\n\r\ngroup = &quot;sample&quot;\r\nversion = &quot;0.1.0&quot;\r\n\r\napplication {\r\n    mainModule = &quot;app&quot;\r\n    mainClass = &quot;sample.Main&quot;\r\n}\r\n\r\njavafx {\r\n    modules(&quot;javafx.controls&quot;)\r\n    version = &quot;21.0.1&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ntasks {\r\n    named&lt;JavaExec&gt;(&quot;run&quot;) {\r\n        jvmArgs(&quot;--patch-module=javafx.controls=${file(&quot;bundles&quot;)}&quot;)\r\n    }\r\n}\r\n```\r\n\r\n## Project Structure\r\n\r\n```none\r\n&lt;PROJECT_DIRECTORY&gt;\r\n│   build.gradle.kts\r\n│   settings.gradle.kts\r\n│\r\n├───bundles\r\n│   └───com\r\n│       └───sun\r\n│           └───javafx\r\n│               └───scene\r\n│                   └───control\r\n│                       └───skin\r\n│                           └───resources\r\n│                                   controls_ru.properties\r\n│\r\n└───src\r\n    └───main\r\n        └───java\r\n            │   module-info.java\r\n            │\r\n            └───sample\r\n                    Main.java\r\n```\r\n\r\nNote the `bundles` directory is not under `src/main/resources`. You don&#39;t want to package this in your own module, as doing so will cause a split-package error. Unfortunately, this means you have to find a way to deploy `bundles` alongside your application. I _assume_ doing this would be relatively easy using a tool like `jpackage`, but I haven&#39;t tried it.\r\n\r\n## Output\r\n\r\nFrom executing the Gradle `run` task.\r\n\r\n[![screenshot of running application][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/spi/ResourceBund\r\n  [2]: https://i.stack.imgur.com/e1h5G.jpg\r\n  [3]: https://github.com/openjdk/jfx/tree/jfx21/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/resources","title":"JavaFX dialog internationalization in java module based project","body":"<p>Ideally, the <code>javafx.controls</code> module would make use of the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/spi/ResourceBund\" rel=\"nofollow noreferrer\"><code>ResourceBundleProvider</code></a> SPI. This would let your own module provide an implementation that would find the custom resource bundles. But since JavaFX does not make use of said SPI (as of version 21.0.1), and since split packages are not allowed, another solution is needed.</p>\n<p>One option is to make use of <code>--patch-module</code>. For instance, if you wanted to add translations for Russian (<a href=\"https://github.com/openjdk/jfx/tree/jfx21/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/resources\" rel=\"nofollow noreferrer\">which is not one of the provided languages in JavaFX 21</a>), then you would create the properties file in the correct package:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com/sun/javafx/scene/control/skin/resources/controls_ru.properties\n</code></pre>\n<p>And place that in some directory; let's say that directory is named <code>bundles</code> for this example. Then at run-time, you would use the following option:</p>\n<pre class=\"lang-none prettyprint-override\"><code>--patch-module javafx.controls=bundles\n</code></pre>\n<p><sup><strong>Note:</strong> This assumes <code>bundles</code> is relative to the working directory. If that's not the case, then use the proper relative path or an absolute path.</sup></p>\n<hr />\n<h1>Example</h1>\n<p>Here's a full example using Java 21.0.1, JavaFX 21.0.1, and Gradle 8.5.</p>\n<h2>Source Code</h2>\n<p><strong>module-info</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module app {\n  requires javafx.controls;\n\n  exports sample to\n      javafx.graphics;\n}\n</code></pre>\n<p><strong>sample.Main</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.util.Locale;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n  @Override\n  public void start(Stage primaryStage) throws Exception {\n    Locale.setDefault(Locale.of(&quot;ru&quot;));\n\n    var dialogBtn = new Button(&quot;Show dialog&quot;);\n    dialogBtn.setOnAction(\n        e -&gt; {\n          var alert = new Alert(AlertType.CONFIRMATION);\n          alert.getButtonTypes().setAll(ButtonType.YES, ButtonType.NO);\n          alert.initOwner(primaryStage);\n          alert.setContentText(&quot;This text is intentionally English.&quot;);\n          alert.show();\n        });\n\n    var root = new StackPane(dialogBtn);\n    primaryStage.setScene(new Scene(root, 500, 300));\n    primaryStage.setTitle(&quot;Demo&quot;);\n    primaryStage.show();\n  }\n}\n</code></pre>\n<h2>Bundle Properties File</h2>\n<p><strong>controls_ru.properties</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Dialog.yes.button = Да\nDialog.no.button = Нет\n\nDialog.confirm.title = Подтверждение\nDialog.confirm.header = Подтверждение\n</code></pre>\n<p><sup><strong>Note:</strong> There are many more properties you'd have to set to properly add a language, but these are all that were needed for this example.</sup></p>\n<p>These translations were taken from Google Translate. I have no idea how accurate they are.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">English</th>\n<th style=\"text-align: center;\">Russian</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">Yes</td>\n<td style=\"text-align: center;\">Да</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">No</td>\n<td style=\"text-align: center;\">Нет</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">Confirmation</td>\n<td style=\"text-align: center;\">Подтверждение</td>\n</tr>\n</tbody>\n</table>\n</div><h2>Gradle Files</h2>\n<p><strong>settings.gradle.kts</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>rootProject.name = &quot;app&quot;\n</code></pre>\n<p><strong>build.gradle.kts</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;org.openjfx.javafxplugin&quot;) version &quot;0.1.0&quot;\n    application\n}\n\ngroup = &quot;sample&quot;\nversion = &quot;0.1.0&quot;\n\napplication {\n    mainModule = &quot;app&quot;\n    mainClass = &quot;sample.Main&quot;\n}\n\njavafx {\n    modules(&quot;javafx.controls&quot;)\n    version = &quot;21.0.1&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\ntasks {\n    named&lt;JavaExec&gt;(&quot;run&quot;) {\n        jvmArgs(&quot;--patch-module=javafx.controls=${file(&quot;bundles&quot;)}&quot;)\n    }\n}\n</code></pre>\n<h2>Project Structure</h2>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;PROJECT_DIRECTORY&gt;\n│   build.gradle.kts\n│   settings.gradle.kts\n│\n├───bundles\n│   └───com\n│       └───sun\n│           └───javafx\n│               └───scene\n│                   └───control\n│                       └───skin\n│                           └───resources\n│                                   controls_ru.properties\n│\n└───src\n    └───main\n        └───java\n            │   module-info.java\n            │\n            └───sample\n                    Main.java\n</code></pre>\n<p>Note the <code>bundles</code> directory is not under <code>src/main/resources</code>. You don't want to package this in your own module, as doing so will cause a split-package error. Unfortunately, this means you have to find a way to deploy <code>bundles</code> alongside your application. I <em>assume</em> doing this would be relatively easy using a tool like <code>jpackage</code>, but I haven't tried it.</p>\n<h2>Output</h2>\n<p>From executing the Gradle <code>run</code> task.</p>\n<p><a href=\"https://i.stack.imgur.com/e1h5G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1h5G.jpg\" alt=\"screenshot of running application\" /></a></p>\n"}],"owner":{"account_id":8877206,"reputation":93,"user_id":6628911,"display_name":"Petr Štechm&#252;ller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77603847,"answer_count":2,"score":3,"last_activity_date":1701751610,"creation_date":1701690413,"question_id":77599174,"body_markdown":"I would like to ask for a help with internationalization of buttons in JavaFX built in dialogs.\r\n\r\nTranslations for buttons are available in https://github.com/openjdk/jfx/tree/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/resources\r\nThere are some other countries and also fallback to English variant.\r\n\r\nFrom code POV translatiosn are loaded by this class: https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/skin/resources/ControlResources.java\r\n\r\n```\r\npublic final class ControlResources {\r\n\r\n    // Translatable properties\r\n    private static final String BASE_NAME = &quot;com/sun/javafx/scene/control/skin/resources/controls&quot;;\r\n\r\n    public static String getString(String key) {\r\n        return ResourceBundle.getBundle(BASE_NAME).getString(key);\r\n    }\r\n}\r\n```\r\n\r\nTo add custom translation I would create new **controls_xx.properties** file in resources of my application under following package: *com/sun/javafx/scene/control/skin/resources/controls*.\r\n\r\nThe issue is that &quot;java-modules&quot; do not allow to have one package in multiple modules.\r\n\r\nWhat are the possibilities to load custom translations for JavaFX dialogs?\r\n\r\nNote: disabling &quot;java-modules&quot; is not an option.\r\n\r\nThank you\r\n\r\nEDIT: I&#39;m aware of this thread: https://stackoverflow.com/questions/40838804/javafx-internationalization-with-custom-language","title":"JavaFX dialog internationalization in java module based project","body":"<p>I would like to ask for a help with internationalization of buttons in JavaFX built in dialogs.</p>\n<p>Translations for buttons are available in <a href=\"https://github.com/openjdk/jfx/tree/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/resources\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx/tree/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/resources</a>\nThere are some other countries and also fallback to English variant.</p>\n<p>From code POV translatiosn are loaded by this class: <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/skin/resources/ControlResources.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/skin/resources/ControlResources.java</a></p>\n<pre><code>public final class ControlResources {\n\n    // Translatable properties\n    private static final String BASE_NAME = &quot;com/sun/javafx/scene/control/skin/resources/controls&quot;;\n\n    public static String getString(String key) {\n        return ResourceBundle.getBundle(BASE_NAME).getString(key);\n    }\n}\n</code></pre>\n<p>To add custom translation I would create new <strong>controls_xx.properties</strong> file in resources of my application under following package: <em>com/sun/javafx/scene/control/skin/resources/controls</em>.</p>\n<p>The issue is that &quot;java-modules&quot; do not allow to have one package in multiple modules.</p>\n<p>What are the possibilities to load custom translations for JavaFX dialogs?</p>\n<p>Note: disabling &quot;java-modules&quot; is not an option.</p>\n<p>Thank you</p>\n<p>EDIT: I'm aware of this thread: <a href=\"https://stackoverflow.com/questions/40838804/javafx-internationalization-with-custom-language\">Javafx Internationalization with custom language</a></p>\n"},{"tags":["java","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1508240335,"post_id":46788749,"comment_id":80524686,"body_markdown":"Do you have access to the logs from the broker to see why it closed the connection? My first guess would be that you are not authorised to publish to the topic you are using.","body":"Do you have access to the logs from the broker to see why it closed the connection? My first guess would be that you are not authorised to publish to the topic you are using."},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508241177,"post_id":46788749,"comment_id":80525207,"body_markdown":"@hardillb no i don&#39;t check the log . can you tel me where is the log ? and how can i check this ?","body":"@hardillb no i don&#39;t check the log . can you tel me where is the log ? and how can i check this ?"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1508241503,"post_id":46788749,"comment_id":80525389,"body_markdown":"Not without knowing a lot more information such as what broker you are using and how you installed it. (edit the question to add these details)","body":"Not without knowing a lot more information such as what broker you are using and how you installed it. (edit the question to add these details)"},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508393948,"post_id":46788749,"comment_id":80594889,"body_markdown":"@hardillb Eclipse paho log added","body":"@hardillb Eclipse paho log added"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1508394231,"post_id":46788749,"comment_id":80594992,"body_markdown":"Still doesn&#39;t help, the connection was closed by the broker. The only way to know why is to see the broker logs, which since they belong to Facebook is unlikely to happen. As I said, most likely situation is the user is not authorised to publish to the topic","body":"Still doesn&#39;t help, the connection was closed by the broker. The only way to know why is to see the broker logs, which since they belong to Facebook is unlikely to happen. As I said, most likely situation is the user is not authorised to publish to the topic"},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508395396,"post_id":46788749,"comment_id":80595413,"body_markdown":"i can connect with this username and password in php with this library https://packagist.org/packages/binsoul/net-mqtt-client-react but when i implement this mqtt in java . i got error !","body":"i can connect with this username and password in php with this library <a href=\"https://packagist.org/packages/binsoul/net-mqtt-client-react\" rel=\"nofollow noreferrer\">packagist.org/packages/binsoul/net-mqtt-client-react</a> but when i implement this mqtt in java . i got error !"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1508395533,"post_id":46788749,"comment_id":80595489,"body_markdown":"But can you publish to the exact same topic? The other option is that there is 2 clients with the same client-id but that is less likely as it seams to only fail after a publish","body":"But can you publish to the exact same topic? The other option is that there is 2 clients with the same client-id but that is less likely as it seams to only fail after a publish"},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508395785,"post_id":46788749,"comment_id":80595602,"body_markdown":"yeah . i can publish with same topic . i tested with same and diffrent client id ! but my problem not sloved","body":"yeah . i can publish with same topic . i tested with same and diffrent client id ! but my problem not sloved"},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508395907,"post_id":46788749,"comment_id":80595663,"body_markdown":"and i check it with https://github.com/eclipse/paho.mqtt-spy . i got problem again and again","body":"and i check it with <a href=\"https://github.com/eclipse/paho.mqtt-spy\" rel=\"nofollow noreferrer\">github.com/eclipse/paho.mqtt-spy</a> . i got problem again and again"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1508395986,"post_id":46788749,"comment_id":80595695,"body_markdown":"So as I said, without the broker logs, we can not answer this","body":"So as I said, without the broker logs, we can not answer this"},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508396147,"post_id":46788749,"comment_id":80595757,"body_markdown":"would you tel me how can i get the broker log to update this question ? if you mean what is the mqtt type of server ? i think it is mqtt mosquitto","body":"would you tel me how can i get the broker log to update this question ? if you mean what is the mqtt type of server ? i think it is mqtt mosquitto"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1508396272,"post_id":46788749,"comment_id":80595821,"body_markdown":"I answered that already, Ask Facebook for the logs. And no it&#39;s not mosquitto, Facebook have written their own broker implementation that may not be totally standard.","body":"I answered that already, Ask Facebook for the logs. And no it&#39;s not mosquitto, Facebook have written their own broker implementation that may not be totally standard."},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508396459,"post_id":46788749,"comment_id":80595911,"body_markdown":"it&#39;s mosquitto . please check the license https://mosquitto.org/wp-content/uploads/2011/08/image.png and https://www.facebook.com/notes/facebook-engineering/building-facebook-messenger/10150259350998920/","body":"it&#39;s mosquitto . please check the license <a href=\"https://mosquitto.org/wp-content/uploads/2011/08/image.png\" rel=\"nofollow noreferrer\">mosquitto.org/wp-content/uploads/2011/08/image.png</a> and <a href=\"https://www.facebook.com/notes/facebook-engineering/building-facebook-messenger/10150259350998920/\" rel=\"nofollow noreferrer\">facebook.com/notes/facebook-engineering/&hellip;</a>"},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1508396679,"post_id":46788749,"comment_id":80596027,"body_markdown":"That does not say the broker is mosquitto, it implies the client uses the mosquitto client libraries, it is well known that Facebook book have written their own broker. Also it doesn&#39;t matter what broker it is if you can&#39;t get the logs","body":"That does not say the broker is mosquitto, it implies the client uses the mosquitto client libraries, it is well known that Facebook book have written their own broker. Also it doesn&#39;t matter what broker it is if you can&#39;t get the logs"},{"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"score":0,"creation_date":1508758223,"post_id":46788749,"comment_id":80723492,"body_markdown":"@hardillb  hi again . i can login with this mqtt broker by https://github.com/binsoul/net-mqtt-client-react .  do you know how can i find the same mqtt library for java ?","body":"@hardillb  hi again . i can login with this mqtt broker by <a href=\"https://github.com/binsoul/net-mqtt-client-react\" rel=\"nofollow noreferrer\">github.com/binsoul/net-mqtt-client-react</a> .  do you know how can i find the same mqtt library for java ?"},{"owner":{"account_id":2520553,"reputation":395,"user_id":2191032,"accept_rate":11,"display_name":"Artist404"},"score":0,"creation_date":1516352233,"post_id":46788749,"comment_id":83659665,"body_markdown":"Got the same issue, then I figured I was using same CLIENT ID in two mobile devices. removing which fixed it.","body":"Got the same issue, then I figured I was using same CLIENT ID in two mobile devices. removing which fixed it."}],"answers":[{"tags":[],"owner":{"account_id":55135,"reputation":21845,"user_id":165071,"accept_rate":96,"display_name":"Alexander Farber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508313081,"creation_date":1508313081,"answer_id":46805219,"question_id":46788749,"body_markdown":"The javadoc for [connectWithResult][1] recommends to call `setCallback(MqttCallback)` prior to connecting in order that messages destined for the client can be accepted as soon as the client is connected.\r\n\r\nTry moving the `mqttClient.setCallback` call up in your source code.\r\n\r\nAlso try running your program with [java -Djavax.net.debug=all][2]\r\n\r\n\r\n  [1]: https://www.eclipse.org/paho/files/javadoc/org/eclipse/paho/client/mqttv3/IMqttClient.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html","title":"Connection lost (32109) - java.io.EOFException","body":"<p>The javadoc for <a href=\"https://www.eclipse.org/paho/files/javadoc/org/eclipse/paho/client/mqttv3/IMqttClient.html\" rel=\"nofollow noreferrer\">connectWithResult</a> recommends to call <code>setCallback(MqttCallback)</code> prior to connecting in order that messages destined for the client can be accepted as soon as the client is connected.</p>\n\n<p>Try moving the <code>mqttClient.setCallback</code> call up in your source code.</p>\n\n<p>Also try running your program with <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">java -Djavax.net.debug=all</a></p>\n"},{"tags":[],"owner":{"account_id":340420,"reputation":956,"user_id":1898523,"accept_rate":75,"display_name":"wrapperapps"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1639834041,"creation_date":1515784657,"answer_id":48232717,"question_id":46788749,"body_markdown":"I had the same exception and fixed it by ensuring a unique client ID was generated (with `MqttAsyncClient.generateClientId()`), as mentioned here:\r\nhttps://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879","title":"Connection lost (32109) - java.io.EOFException","body":"<p>I had the same exception and fixed it by ensuring a unique client ID was generated (with <code>MqttAsyncClient.generateClientId()</code>), as mentioned here:\n<a href=\"https://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879\" rel=\"noreferrer\">https://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879</a></p>\n"},{"tags":[],"owner":{"account_id":13827153,"reputation":1966,"user_id":9981129,"display_name":"Abhay Pratap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562313516,"creation_date":1562311255,"answer_id":56898324,"question_id":46788749,"body_markdown":"Try to reduce the keep-alive time to 15 sec and setConnectionTimeout to 30\r\n\r\n      connOpts.setKeepAliveInterval(15);\r\n      connOpts.setConnectionTimeout(30);","title":"Connection lost (32109) - java.io.EOFException","body":"<p>Try to reduce the keep-alive time to 15 sec and setConnectionTimeout to 30</p>\n\n<pre><code>  connOpts.setKeepAliveInterval(15);\n  connOpts.setConnectionTimeout(30);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13077033,"reputation":328,"user_id":9448764,"display_name":"markomoreno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617910839,"creation_date":1617910839,"answer_id":67010824,"question_id":46788749,"body_markdown":"Recently I&#39;ve worked with this. I fronted the same issue: a 32109 error just after a successful connection.\r\n\r\nIt&#39;s a reported [issue][1] on Paho&#39;s repository. \r\n\r\nI updated my library from:\r\n\r\n    implementation &#39;org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.1&#39;\r\n\r\nto:\r\n\r\n    implementation &#39;org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.2&#39;\r\n\r\n[as the repository says.][2]\r\n\r\nAnd that fixes it.  \r\n\r\n\r\n  [1]: https://github.com/eclipse/paho.mqtt.java/issues/679\r\n  [2]: https://github.com/eclipse/paho.mqtt.java/issues/679#issuecomment-504565422\r\n\r\n","title":"Connection lost (32109) - java.io.EOFException","body":"<p>Recently I've worked with this. I fronted the same issue: a 32109 error just after a successful connection.</p>\n<p>It's a reported <a href=\"https://github.com/eclipse/paho.mqtt.java/issues/679\" rel=\"nofollow noreferrer\">issue</a> on Paho's repository.</p>\n<p>I updated my library from:</p>\n<pre><code>implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.1'\n</code></pre>\n<p>to:</p>\n<pre><code>implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.2'\n</code></pre>\n<p><a href=\"https://github.com/eclipse/paho.mqtt.java/issues/679#issuecomment-504565422\" rel=\"nofollow noreferrer\">as the repository says.</a></p>\n<p>And that fixes it.</p>\n"},{"tags":[],"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701751533,"creation_date":1701751533,"answer_id":77603868,"question_id":46788749,"body_markdown":"In my case it was somehow related to the `keepAliveInterval` in `MqttConnectOptions()`. \r\n\r\nI kept keepAliveInterval to 10 seconds, and if my app is not `publishing`  anything for 10 seconds, then I was getting this `EOFException`.\r\nI increased it to 100 seconds and it worked fine.\r\n\r\nHope this helps resolving the issue further","title":"Connection lost (32109) - java.io.EOFException","body":"<p>In my case it was somehow related to the <code>keepAliveInterval</code> in <code>MqttConnectOptions()</code>.</p>\n<p>I kept keepAliveInterval to 10 seconds, and if my app is not <code>publishing</code>  anything for 10 seconds, then I was getting this <code>EOFException</code>.\nI increased it to 100 seconds and it worked fine.</p>\n<p>Hope this helps resolving the issue further</p>\n"}],"owner":{"account_id":8093520,"reputation":1444,"user_id":6098741,"accept_rate":79,"display_name":"Nadimibox"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22332,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1701751533,"creation_date":1508238699,"question_id":46788749,"body_markdown":"I used [eclipse MQTT][1]  for connect to MQTT server.\r\n\r\nI can connect to server successfully but when i publish message , i got this error \r\n\r\n&gt; Connection lost  \r\nmsg : Connection lost  \r\nloc : Connection lost\r\ncause : java.io.EOFException  \r\nexcep : Connection lost (32109) - java.io.EOFException\r\n\r\nI searched for this problem . but i can&#39;t find any true answer ! some link i founded in here {[here][2] , [here][3]  , [here][4] , ... }\r\n\r\nMy code :\r\n\r\n    private final String DEFAULT_HOST = &quot;edge-mqtt.facebook.com&quot;;\r\n    private final int DEFAULT_PORT = 443;\r\n\r\n    public void connect(String protogle) throws Exception {\r\n\r\n        this.broker =  protogle + &quot;://&quot;+ DEFAULT_HOST + &quot;:&quot; + DEFAULT_PORT;\r\n        this.mqttClient = new MqttClient(broker,getMqttClientId() ,new MemoryPersistence() );\r\n\r\n        MqttConnectOptions connOpts = new MqttConnectOptions();\r\n        connOpts.setCleanSession(true);\r\n        connOpts.setKeepAliveInterval( MQTT_KEEPALIVE);\r\n        connOpts.setUserName( getMqttUsername() );\r\n        connOpts.setPassword( getMqttPassword().toCharArray() );\r\n        //connOpts.setMqttVersion( 3 );//some times it have an error\r\n        //connOpts.setSocketFactory(SSLTunnelSocketFactory.getInstance());\r\n        Logger.w(&quot;Connecting to broker: &quot;+broker);\r\n        Logger.w(&quot;isConnected:&quot;+mqttClient.isConnected());\r\n        try {\r\n            IMqttToken cn = mqttClient.connectWithResult(connOpts);\r\n            Logger.w(&quot;connected&quot;);\r\n        }catch (MqttException me){\r\n            System.out.println(&quot;reason &quot;+me.getReasonCode());\r\n            System.out.println(&quot;msg &quot;+me.getMessage());\r\n            System.out.println(&quot;loc &quot;+me.getLocalizedMessage());\r\n            System.out.println(&quot;cause &quot;+me.getCause());\r\n            System.out.println(&quot;excep &quot;+me);\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        this.mqttClient.setCallback(new MqttCallback() {\r\n            @Override\r\n            public void connectionLost(Throwable me) {\r\n                Logger.w(&quot;Connection lost&quot;);\r\n                System.out.println(&quot;msg &quot;+me.getMessage());\r\n                System.out.println(&quot;loc &quot;+me.getLocalizedMessage());\r\n                System.out.println(&quot;cause &quot;+me.getCause());\r\n                System.out.println(&quot;excep &quot;+me);\r\n            }\r\n\r\n            @Override\r\n            public void messageArrived(String s, MqttMessage mqttMessage) throws Exception {\r\n                Logger.w(&quot;message Arrived&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\r\n                Logger.w(&quot;deliverd--------&quot;);\r\n                try {\r\n                    MqttDeliveryToken token  = (MqttDeliveryToken) iMqttDeliveryToken;\r\n                    String h = token.getMessage().toString();\r\n                    Logger.w(&quot;deliverd message :&quot;+h);\r\n                } catch (MqttException me) {\r\n                    System.out.println(&quot;reason &quot;+me.getReasonCode());\r\n                    System.out.println(&quot;msg &quot;+me.getMessage());\r\n                    System.out.println(&quot;loc &quot;+me.getLocalizedMessage());\r\n                    System.out.println(&quot;cause &quot;+me.getCause());\r\n                    System.out.println(&quot;excep &quot;+me);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n       \r\n\r\n    }\r\n\r\n\r\nAnd publish method :\r\n\r\n    private void publish(String topic , String payload , int qosLevel) throws Exception {\r\n        Logger.w(&quot;start publishing :&quot;);\r\n        //payload = Helper.zlib_encode(payload);\r\n        topic = mapTopic(topic);\r\n\r\n        MqttMessage message = new MqttMessage();\r\n        message.setPayload(payload.getBytes(&quot;UTF-8&quot;) );\r\n        message.setQos(0);\r\n\r\n        mqttClient.publish(topic , message);\r\n        Logger.w(&quot;publised------------------&quot;);\r\n    }\r\n\r\noutput :\r\n\r\n     Connecting to broker: ssl://edge-mqtt.facebook.com:443  \r\n     isConnected:false  \r\n     connected  \r\n     start publishing :  \r\n     deliverd--------  \r\n     publised------------------  \r\n     deliverd message : //my message\r\n     Connection lost\r\n     msg : Connection lost\r\n     loc : Connection lost\r\n     cause : java.io.EOFException\r\n     excep : Connection lost (32109) - java.io.EOFException\r\n\r\n\r\nEclipse paho log :\r\n\r\n     ============== Connection options ==============\r\n     CleanSession                :  true\r\n     SocketFactory               :  sun.security.ssl.SSLSocketFactoryImpl@6c010ee9\r\n     MqttVersion                 :  3\r\n     KeepAliveInterval           :  60\r\n     ConTimeout                  :  30\r\n     UserName                    :  . . . \r\n     SSLProperties               :  null\r\n     WillDestination             :  null\r\n     ==========================================\r\n     2017-10-19 09:42:02,182 INFO  [MQTT Call: Bahram091547759    ] [MqttConnectionResultHandler   ]  - insta connected\r\n     2017-10-19 09:42:02,187 INFO  [JavaFX Application Thread     ] [MqttEventHandler              ]  - About to resubscribe to all requested topics\r\n     2017-10-19 09:42:08,559 INFO  [JavaFX Application Thread     ] [MqttAsyncConnection           ]  - Publishing message on topic &quot;k.,&quot;.  Payload size = &quot;3&quot;\r\n     2017-10-19 09:42:08,739 ERROR [MQTT Rec: Bahram091547759     ] [MqttCallbackHandler           ]  - Connection insta lost\r\n     Connection lost (32109) - java.io.EOFException\r\n\t     at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java: 146)\r\n\t     at java.lang.Thread.run(Unknown Source)\r\n     Caused by: java.io.EOFException\r\n\t     at java.io.DataInputStream.readByte(Unknown Source)\r\n\t     at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMess age(MqttInputStream.java:65)\r\n\t     at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:107)\r\n\t     ... 1 more\r\n\r\n\r\n  [1]: https://www.eclipse.org/paho/\r\n  [2]: https://github.com/emqtt/emqttd/issues/551\r\n  [3]: https://stackoverflow.com/questions/33998919/eclipse-paho-mqttgetting-java-io-eof-exception\r\n  [4]: https://stackoverflow.com/questions/19813101/java-io-eofexception-with-paho","title":"Connection lost (32109) - java.io.EOFException","body":"<p>I used <a href=\"https://www.eclipse.org/paho/\" rel=\"noreferrer\">eclipse MQTT</a>  for connect to MQTT server.</p>\n\n<p>I can connect to server successfully but when i publish message , i got this error </p>\n\n<blockquote>\n  <p>Connection lost<br>\n  msg : Connection lost<br>\n  loc : Connection lost\n  cause : java.io.EOFException<br>\n  excep : Connection lost (32109) - java.io.EOFException</p>\n</blockquote>\n\n<p>I searched for this problem . but i can't find any true answer ! some link i founded in here {<a href=\"https://github.com/emqtt/emqttd/issues/551\" rel=\"noreferrer\">here</a> , <a href=\"https://stackoverflow.com/questions/33998919/eclipse-paho-mqttgetting-java-io-eof-exception\">here</a>  , <a href=\"https://stackoverflow.com/questions/19813101/java-io-eofexception-with-paho\">here</a> , ... }</p>\n\n<p>My code :</p>\n\n<pre><code>private final String DEFAULT_HOST = \"edge-mqtt.facebook.com\";\nprivate final int DEFAULT_PORT = 443;\n\npublic void connect(String protogle) throws Exception {\n\n    this.broker =  protogle + \"://\"+ DEFAULT_HOST + \":\" + DEFAULT_PORT;\n    this.mqttClient = new MqttClient(broker,getMqttClientId() ,new MemoryPersistence() );\n\n    MqttConnectOptions connOpts = new MqttConnectOptions();\n    connOpts.setCleanSession(true);\n    connOpts.setKeepAliveInterval( MQTT_KEEPALIVE);\n    connOpts.setUserName( getMqttUsername() );\n    connOpts.setPassword( getMqttPassword().toCharArray() );\n    //connOpts.setMqttVersion( 3 );//some times it have an error\n    //connOpts.setSocketFactory(SSLTunnelSocketFactory.getInstance());\n    Logger.w(\"Connecting to broker: \"+broker);\n    Logger.w(\"isConnected:\"+mqttClient.isConnected());\n    try {\n        IMqttToken cn = mqttClient.connectWithResult(connOpts);\n        Logger.w(\"connected\");\n    }catch (MqttException me){\n        System.out.println(\"reason \"+me.getReasonCode());\n        System.out.println(\"msg \"+me.getMessage());\n        System.out.println(\"loc \"+me.getLocalizedMessage());\n        System.out.println(\"cause \"+me.getCause());\n        System.out.println(\"excep \"+me);\n        return;\n    }\n\n\n\n    this.mqttClient.setCallback(new MqttCallback() {\n        @Override\n        public void connectionLost(Throwable me) {\n            Logger.w(\"Connection lost\");\n            System.out.println(\"msg \"+me.getMessage());\n            System.out.println(\"loc \"+me.getLocalizedMessage());\n            System.out.println(\"cause \"+me.getCause());\n            System.out.println(\"excep \"+me);\n        }\n\n        @Override\n        public void messageArrived(String s, MqttMessage mqttMessage) throws Exception {\n            Logger.w(\"message Arrived\");\n        }\n\n        @Override\n        public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\n            Logger.w(\"deliverd--------\");\n            try {\n                MqttDeliveryToken token  = (MqttDeliveryToken) iMqttDeliveryToken;\n                String h = token.getMessage().toString();\n                Logger.w(\"deliverd message :\"+h);\n            } catch (MqttException me) {\n                System.out.println(\"reason \"+me.getReasonCode());\n                System.out.println(\"msg \"+me.getMessage());\n                System.out.println(\"loc \"+me.getLocalizedMessage());\n                System.out.println(\"cause \"+me.getCause());\n                System.out.println(\"excep \"+me);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n\n\n}\n</code></pre>\n\n<p>And publish method :</p>\n\n<pre><code>private void publish(String topic , String payload , int qosLevel) throws Exception {\n    Logger.w(\"start publishing :\");\n    //payload = Helper.zlib_encode(payload);\n    topic = mapTopic(topic);\n\n    MqttMessage message = new MqttMessage();\n    message.setPayload(payload.getBytes(\"UTF-8\") );\n    message.setQos(0);\n\n    mqttClient.publish(topic , message);\n    Logger.w(\"publised------------------\");\n}\n</code></pre>\n\n<p>output :</p>\n\n<pre><code> Connecting to broker: ssl://edge-mqtt.facebook.com:443  \n isConnected:false  \n connected  \n start publishing :  \n deliverd--------  \n publised------------------  \n deliverd message : //my message\n Connection lost\n msg : Connection lost\n loc : Connection lost\n cause : java.io.EOFException\n excep : Connection lost (32109) - java.io.EOFException\n</code></pre>\n\n<p>Eclipse paho log :</p>\n\n<pre><code> ============== Connection options ==============\n CleanSession                :  true\n SocketFactory               :  sun.security.ssl.SSLSocketFactoryImpl@6c010ee9\n MqttVersion                 :  3\n KeepAliveInterval           :  60\n ConTimeout                  :  30\n UserName                    :  . . . \n SSLProperties               :  null\n WillDestination             :  null\n ==========================================\n 2017-10-19 09:42:02,182 INFO  [MQTT Call: Bahram091547759    ] [MqttConnectionResultHandler   ]  - insta connected\n 2017-10-19 09:42:02,187 INFO  [JavaFX Application Thread     ] [MqttEventHandler              ]  - About to resubscribe to all requested topics\n 2017-10-19 09:42:08,559 INFO  [JavaFX Application Thread     ] [MqttAsyncConnection           ]  - Publishing message on topic \"k.,\".  Payload size = \"3\"\n 2017-10-19 09:42:08,739 ERROR [MQTT Rec: Bahram091547759     ] [MqttCallbackHandler           ]  - Connection insta lost\n Connection lost (32109) - java.io.EOFException\n     at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java: 146)\n     at java.lang.Thread.run(Unknown Source)\n Caused by: java.io.EOFException\n     at java.io.DataInputStream.readByte(Unknown Source)\n     at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMess age(MqttInputStream.java:65)\n     at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:107)\n     ... 1 more\n</code></pre>\n"},{"tags":["java","selenium-webdriver","persist"],"answers":[{"tags":[],"owner":{"account_id":16236,"reputation":5779,"user_id":35148,"accept_rate":60,"display_name":"Paul Harris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406794583,"creation_date":1406794583,"answer_id":25053952,"question_id":25045365,"body_markdown":"I really recommend that you look up the page object pattern with regard to how you structure your tests, it will make this much more scalable as you go on I would suggest something like: [http://code.google.com/p/selenium/wiki/PageObjects][1] but if you google for that name then you will find lots of excellent resources.\r\n\r\nYou might want to ignore my advice and just have your tests continue to work. Well the easiest way will be to have your login method return the driver you created.\r\n\r\n\r\n    public WebDriver Login(){\r\n        //your current code here\r\n    \r\n        return driver;\r\n    }\r\n\r\n\r\nthen in your test you would have:\r\n\r\n    WebDriver driver = Login();\r\n    \r\n    AddAccountData(driver);\r\n\r\nbasically you would pass the driver in to each method.\r\n\r\n\r\n**I would really recommend my first approach though with page objects.** \r\n\r\n\r\nWhile I&#39;m here a few other things are worth noting, you have your test as public static void main, that although is the normal entry point for an application this is not normally how tests are structures, it should just be a public void method and the name does not have to be main (in fact having it called so is confusing).\r\n\r\nSecondly method names in Java by convention start with lowercase letters, following the conventions will help people follow your code easier as it gets more complicated.\r\n\r\n  [1]: http://code.google.com/p/selenium/wiki/PageObjects","title":"Persist web driver between tests","body":"<p>I really recommend that you look up the page object pattern with regard to how you structure your tests, it will make this much more scalable as you go on I would suggest something like: <a href=\"http://code.google.com/p/selenium/wiki/PageObjects\" rel=\"nofollow\">http://code.google.com/p/selenium/wiki/PageObjects</a> but if you google for that name then you will find lots of excellent resources.</p>\n\n<p>You might want to ignore my advice and just have your tests continue to work. Well the easiest way will be to have your login method return the driver you created.</p>\n\n<pre><code>public WebDriver Login(){\n    //your current code here\n\n    return driver;\n}\n</code></pre>\n\n<p>then in your test you would have:</p>\n\n<pre><code>WebDriver driver = Login();\n\nAddAccountData(driver);\n</code></pre>\n\n<p>basically you would pass the driver in to each method.</p>\n\n<p><strong>I would really recommend my first approach though with page objects.</strong> </p>\n\n<p>While I'm here a few other things are worth noting, you have your test as public static void main, that although is the normal entry point for an application this is not normally how tests are structures, it should just be a public void method and the name does not have to be main (in fact having it called so is confusing).</p>\n\n<p>Secondly method names in Java by convention start with lowercase letters, following the conventions will help people follow your code easier as it gets more complicated.</p>\n"}],"owner":{"account_id":2274824,"reputation":45,"user_id":2001386,"accept_rate":50,"display_name":"user2001386"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701750380,"creation_date":1406748623,"question_id":25045365,"body_markdown":"```java\r\npublic class LogIntoapp {\r\n\r\n\t@Test\r\n\tpublic static void main() {\r\n\t\t\r\n\t\t\r\n\t\tLogin();\r\n\t\tAddAccountData();\r\n\t}\r\n\t\t\r\n```\r\n\r\nIn my login method I have :\r\n```java\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/drivers/chromedriver.exe&quot;);\r\nWebDriver driver = new ChromeDriver();\r\n```\r\n\r\n\r\nSo that when I call the AddAccountData I need to persist that driver to continue the navigation. I don&#39;t want to create a new web drive in my second method. Hopefully I&#39;m not completely off base with this approach.\r\n\r\n\r\n\t\t","title":"Persist web driver between tests","body":"<pre class=\"lang-java prettyprint-override\"><code>public class LogIntoapp {\n\n    @Test\n    public static void main() {\n        \n        \n        Login();\n        AddAccountData();\n    }\n        \n</code></pre>\n<p>In my login method I have :</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/drivers/chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();\n</code></pre>\n<p>So that when I call the AddAccountData I need to persist that driver to continue the navigation. I don't want to create a new web drive in my second method. Hopefully I'm not completely off base with this approach.</p>\n"},{"tags":["java","ssl","active-directory","keystore","truststore"],"comments":[{"owner":{"account_id":309002,"reputation":877,"user_id":621219,"accept_rate":14,"display_name":"Mohan"},"score":0,"creation_date":1337158852,"post_id":10613767,"comment_id":13755134,"body_markdown":"this worked good when i restart my server. and http://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory link is a good tutorial.","body":"this worked good when i restart my server. and <a href=\"http://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory\" rel=\"nofollow noreferrer\">confluence.atlassian.com/display/CROWD/&hellip;</a> link is a good tutorial."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1469668172,"post_id":10613767,"comment_id":64636295,"body_markdown":"An empty keystore won&#39;t contain any aliases, so testing for the presence of the alias is futile. And why your server certificate is being held in a file called `client.crt` is another mystery. And what is supposed to happen when the server certificate is renewed, another. This is poor technique.","body":"An empty keystore won&#39;t contain any aliases, so testing for the presence of the alias is futile. And why your server certificate is being held in a file called <code>client.crt</code> is another mystery. And what is supposed to happen when the server certificate is renewed, another. This is poor technique."},{"owner":{"display_name":"user9461715"},"score":1,"creation_date":1520628541,"post_id":10613767,"comment_id":85409058,"body_markdown":"Can you enable SSL debugging (e.g. -Djavax.net.debug=all) and collect more information on SSL handshake? That&#39;s the stage it&#39;s failing.","body":"Can you enable SSL debugging (e.g. -Djavax.net.debug=all) and collect more information on SSL handshake? That&#39;s the stage it&#39;s failing."}],"answers":[{"tags":[],"owner":{"account_id":2227530,"reputation":1,"user_id":1965929,"display_name":"user1965929"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1357804872,"creation_date":1357804872,"answer_id":14253197,"question_id":10613767,"body_markdown":"I had the same error message using Atlassian Crowd and Active Directory over SSL. It is not applicable to this specific question, but when I tried to find out what was happening this thread was the first Google search hit, so I will write it down here. \r\n\r\nIn my case I first tested without SSL and then changed to SSL. Turns out I forgot to change the protocol used in the Crowd Connector settings. \r\n\r\nBefore: ldap://&lt;server ip&gt;:389\r\nAfter: ldaps://&lt;server ip&gt;:636\r\n\r\nAccidentally using ldap://&lt;server ip&gt;:636 gave me the &quot;Connection reset&quot; error. ","title":"Connect active directory with the support of ssl (ldaps)","body":"<p>I had the same error message using Atlassian Crowd and Active Directory over SSL. It is not applicable to this specific question, but when I tried to find out what was happening this thread was the first Google search hit, so I will write it down here. </p>\n\n<p>In my case I first tested without SSL and then changed to SSL. Turns out I forgot to change the protocol used in the Crowd Connector settings. </p>\n\n<p>Before: ldap://:389\nAfter: ldaps://:636</p>\n\n<p>Accidentally using ldap://:636 gave me the \"Connection reset\" error. </p>\n"},{"tags":[],"owner":{"account_id":65496,"reputation":654,"user_id":192687,"display_name":"Dustin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422083077,"creation_date":1422083077,"answer_id":28123185,"question_id":10613767,"body_markdown":"I had a similar issue after my AD domain was renamed.  After reinstalling certificate services, you need to delete and re-issue the certificate issued to your Domain Controller.  Steps:\r\n\r\n 1. Open MMC\r\n 2. Add Snap In &gt; Certificates &gt; Computer &gt; Local Computer\r\n 3. Navigate to Personal &gt; Certificates\r\n 4. Delete any old certificates issued to this machine (in my case, these were issued by the old CA)\r\n 4. Right click on Certificates folder, click Request New Certificate.\r\n 5. Follow the steps to issue the new certificate to your domain controller.\r\n 6. Restart (not sure if this is necessary, but I restarted before it worked)","title":"Connect active directory with the support of ssl (ldaps)","body":"<p>I had a similar issue after my AD domain was renamed.  After reinstalling certificate services, you need to delete and re-issue the certificate issued to your Domain Controller.  Steps:</p>\n\n<ol>\n<li>Open MMC</li>\n<li>Add Snap In > Certificates > Computer > Local Computer</li>\n<li>Navigate to Personal > Certificates</li>\n<li>Delete any old certificates issued to this machine (in my case, these were issued by the old CA)</li>\n<li>Right click on Certificates folder, click Request New Certificate.</li>\n<li>Follow the steps to issue the new certificate to your domain controller.</li>\n<li>Restart (not sure if this is necessary, but I restarted before it worked)</li>\n</ol>\n"}],"owner":{"account_id":309002,"reputation":877,"user_id":621219,"accept_rate":14,"display_name":"Mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701749180,"creation_date":1337152817,"question_id":10613767,"body_markdown":"am trying to connect with active directory with the support of ssl.\r\n\r\ni tried the steps from following web site.\r\n\r\nhttp://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory\r\n\r\nwhen i try to connect active directory from the java code it gives following error.\r\n\r\n    Exception in thread &quot;main&quot; javax.naming.CommunicationException: simple bind fail\r\n    ed: 172.16.12.4:636 [Root exception is java.net.SocketException: Connection rese\r\n    t]\r\n            at com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\r\n            at com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\r\n            at com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\r\n            at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\r\n            at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\r\n            at javax.naming.InitialContext.init(Unknown Source)\r\n            at javax.naming.InitialContext.&lt;init&gt;(Unknown Source)\r\n            at javax.naming.directory.InitialDirContext.&lt;init&gt;(Unknown Source)\r\n            at ConnectActiveDirectory.main(ConnectActiveDirectory.java:39)\r\n    Caused by: java.net.SocketException: Connection reset\r\n            at java.net.SocketInputStream.read(Unknown Source)\r\n            at com.sun.net.ssl.internal.ssl.InputRecord.readFully(Unknown Source)\r\n            at com.sun.net.ssl.internal.ssl.InputRecord.read(Unknown Source)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    \r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.waitForClose(Unknown Sourc\r\n    e)\r\n            at com.sun.net.ssl.internal.ssl.HandshakeOutStream.flush(Unknown Source)\r\n    \r\n            at com.sun.net.ssl.internal.ssl.Handshaker.kickstart(Unknown Source)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.kickstartHandshake(Unknown\r\n     Source)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(Un\r\n    known Source)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(Unknown Source\r\n    )\r\n            at com.sun.net.ssl.internal.ssl.AppOutputStream.write(Unknown Source)\r\n            at java.io.BufferedOutputStream.flushBuffer(Unknown Source)\r\n            at java.io.BufferedOutputStream.flush(Unknown Source)\r\n            at com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\r\n            at com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\r\n            at com.sun.jndi.ldap.LdapClient.ldapBind(Unknown Source)\r\n            ... 13 more\r\n\r\nCode that am using is\r\n\r\n    import java.util.Hashtable;\r\n    import javax.naming.*;\r\n    import javax.naming.directory.*;\r\n    \r\n    public class ConnectActiveDirectory {\r\n    \r\n        public static void main(String[] args) throws NamingException {\r\n            Hashtable env = new Hashtable();\r\n            env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n            env.put(Context.SECURITY_PRINCIPAL,&quot;Administrator@mysite.com&quot;);\r\n            env.put(Context.SECURITY_CREDENTIALS, &quot;password&quot;);\r\n            env.put(Context.INITIAL_CONTEXT_FACTORY,&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n            env.put(Context.PROVIDER_URL, &quot;ldaps://172.16.12.4:636/cn=Users,dc=mysite,dc=com&quot;);\r\n    \t\ttry{\r\n    \t\t\tjava.io.InputStream in = new java.io.FileInputStream(&quot;C:\\\\client.crt&quot;);\r\n    \t\t\tjava.security.cert.Certificate c = java.security.cert.CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(in);\r\n    \t\t\tjava.security.KeyStore ks = java.security.KeyStore.getInstance(&quot;JKS&quot;);\r\n    \t\t\tks.load(null);\r\n    \t\t\tif (!ks.containsAlias(&quot;alias ldap&quot;)) {\r\n    \t\t\t\tks.setCertificateEntry(&quot;alias ldap&quot;, c);\r\n    \t\t\t}\r\n    \t\t\tjava.io.OutputStream out = new java.io.FileOutputStream(&quot;C:\\\\keystorefile.jks&quot;);\r\n    \t\t\tchar[] kspass = &quot;changeit&quot;.toCharArray();\r\n    \t\t\tks.store(out, kspass);\r\n    \t\t\tout.close();\t\t\r\n    \t\t}catch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:\\\\keystorefile.jks&quot;);\r\n    \t\tDirContext ctx = new InitialDirContext(env);\r\n            NamingEnumeration enm = ctx.list(&quot;&quot;);\r\n            while (enm.hasMore()) {\r\n                System.out.println(enm.next());\r\n            }\r\n            ctx.close();\r\n        }\r\n    }\r\n\r\ndoes am doing any mistake?\r\n\r\nwhere can i get good tutorial to do ssl connection with active directory ?\r\n\r\ndoes http://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory site has correct steps to create and connect active directory with ssl?\r\n\r\ncould any on please help me.\r\n","title":"Connect active directory with the support of ssl (ldaps)","body":"<p>am trying to connect with active directory with the support of ssl.</p>\n\n<p>i tried the steps from following web site.</p>\n\n<p><a href=\"http://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory\" rel=\"nofollow\">http://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory</a></p>\n\n<p>when i try to connect active directory from the java code it gives following error.</p>\n\n<pre><code>Exception in thread \"main\" javax.naming.CommunicationException: simple bind fail\ned: 172.16.12.4:636 [Root exception is java.net.SocketException: Connection rese\nt]\n        at com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\n        at com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\n        at com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\n        at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\n        at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\n        at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\n        at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\n        at javax.naming.InitialContext.init(Unknown Source)\n        at javax.naming.InitialContext.&lt;init&gt;(Unknown Source)\n        at javax.naming.directory.InitialDirContext.&lt;init&gt;(Unknown Source)\n        at ConnectActiveDirectory.main(ConnectActiveDirectory.java:39)\nCaused by: java.net.SocketException: Connection reset\n        at java.net.SocketInputStream.read(Unknown Source)\n        at com.sun.net.ssl.internal.ssl.InputRecord.readFully(Unknown Source)\n        at com.sun.net.ssl.internal.ssl.InputRecord.read(Unknown Source)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(Unknown Source)\n\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.waitForClose(Unknown Sourc\ne)\n        at com.sun.net.ssl.internal.ssl.HandshakeOutStream.flush(Unknown Source)\n\n        at com.sun.net.ssl.internal.ssl.Handshaker.kickstart(Unknown Source)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.kickstartHandshake(Unknown\n Source)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(Un\nknown Source)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(Unknown Source\n)\n        at com.sun.net.ssl.internal.ssl.AppOutputStream.write(Unknown Source)\n        at java.io.BufferedOutputStream.flushBuffer(Unknown Source)\n        at java.io.BufferedOutputStream.flush(Unknown Source)\n        at com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\n        at com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\n        at com.sun.jndi.ldap.LdapClient.ldapBind(Unknown Source)\n        ... 13 more\n</code></pre>\n\n<p>Code that am using is</p>\n\n<pre><code>import java.util.Hashtable;\nimport javax.naming.*;\nimport javax.naming.directory.*;\n\npublic class ConnectActiveDirectory {\n\n    public static void main(String[] args) throws NamingException {\n        Hashtable env = new Hashtable();\n        env.put(Context.SECURITY_AUTHENTICATION, \"simple\");\n        env.put(Context.SECURITY_PRINCIPAL,\"Administrator@mysite.com\");\n        env.put(Context.SECURITY_CREDENTIALS, \"password\");\n        env.put(Context.INITIAL_CONTEXT_FACTORY,\"com.sun.jndi.ldap.LdapCtxFactory\");\n        env.put(Context.PROVIDER_URL, \"ldaps://172.16.12.4:636/cn=Users,dc=mysite,dc=com\");\n        try{\n            java.io.InputStream in = new java.io.FileInputStream(\"C:\\\\client.crt\");\n            java.security.cert.Certificate c = java.security.cert.CertificateFactory.getInstance(\"X.509\").generateCertificate(in);\n            java.security.KeyStore ks = java.security.KeyStore.getInstance(\"JKS\");\n            ks.load(null);\n            if (!ks.containsAlias(\"alias ldap\")) {\n                ks.setCertificateEntry(\"alias ldap\", c);\n            }\n            java.io.OutputStream out = new java.io.FileOutputStream(\"C:\\\\keystorefile.jks\");\n            char[] kspass = \"changeit\".toCharArray();\n            ks.store(out, kspass);\n            out.close();        \n        }catch(Exception e){\n            e.printStackTrace();\n        }\n        System.setProperty(\"javax.net.ssl.trustStore\", \"C:\\\\keystorefile.jks\");\n        DirContext ctx = new InitialDirContext(env);\n        NamingEnumeration enm = ctx.list(\"\");\n        while (enm.hasMore()) {\n            System.out.println(enm.next());\n        }\n        ctx.close();\n    }\n}\n</code></pre>\n\n<p>does am doing any mistake?</p>\n\n<p>where can i get good tutorial to do ssl connection with active directory ?</p>\n\n<p>does <a href=\"http://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory\" rel=\"nofollow\">http://confluence.atlassian.com/display/CROWD/Configuring+an+SSL+Certificate+for+Microsoft+Active+Directory</a> site has correct steps to create and connect active directory with ssl?</p>\n\n<p>could any on please help me.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":3683985,"reputation":24027,"user_id":3068190,"display_name":"samthecodingman"},"score":2,"creation_date":1701755803,"post_id":77603738,"comment_id":136811899,"body_markdown":"Welcome to StackOverflow. As you&#39;ve provided a fair chunk of code here, please reduce it to a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). This will help others be able to focus on the problem at hand rather than sift through many lines of code.","body":"Welcome to StackOverflow. As you&#39;ve provided a fair chunk of code here, please reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. This will help others be able to focus on the problem at hand rather than sift through many lines of code."},{"owner":{"account_id":3683985,"reputation":24027,"user_id":3068190,"display_name":"samthecodingman"},"score":1,"creation_date":1701756051,"post_id":77603738,"comment_id":136811917,"body_markdown":"On a first pass, I can see that you have many calls to `query.addValueEventListener` where you attach a listener but never detach those same listeners. Over time you will have many listeners firing at the same time that will conflict with each other. I also see that there are many places where you are attaching listeners from inside other listeners. This will have the same effect of causing unexpected behaviour. Consider reviewing the [Chaining tasks documentation](https://developers.google.com/android/guides/tasks#chaining). Once you&#39;ve made those changes, please update your question.","body":"On a first pass, I can see that you have many calls to <code>query.addValueEventListener</code> where you attach a listener but never detach those same listeners. Over time you will have many listeners firing at the same time that will conflict with each other. I also see that there are many places where you are attaching listeners from inside other listeners. This will have the same effect of causing unexpected behaviour. Consider reviewing the <a href=\"https://developers.google.com/android/guides/tasks#chaining\" rel=\"nofollow noreferrer\">Chaining tasks documentation</a>. Once you&#39;ve made those changes, please update your question."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701774248,"post_id":77603738,"comment_id":136814588,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **500** (five hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way, you increase your chances of being helped. Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>500</b> (five hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way, you increase your chances of being helped. Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."}],"owner":{"account_id":26570332,"reputation":1,"user_id":20196642,"display_name":"Trần Anh Phương Ng&#244;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701748691,"creation_date":1701748691,"question_id":77603738,"body_markdown":"I&#39;m building a Java Android Project using Firebase and its Firestore. The problem is in my AddPostFragment:\r\n\r\n```\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.app.ProgressDialog;\r\nimport android.content.ContentValues;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.EmailAuthProvider;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class EditProfilePage extends AppCompatActivity {\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n    FirebaseUser firebaseUser;\r\n    FirebaseDatabase firebaseDatabase;\r\n    DatabaseReference databaseReference;\r\n    StorageReference storageReference;\r\n    String storagepath = &quot;Users_Profile_Cover_image/&quot;;\r\n    String uid;\r\n    ImageView set;\r\n    TextView profilepic, editname, editpassword;\r\n    ProgressDialog pd;\r\n    private static final int CAMERA_REQUEST = 100;\r\n    private static final int STORAGE_REQUEST = 200;\r\n    private static final int IMAGEPICK_GALLERY_REQUEST = 300;\r\n    private static final int IMAGE_PICKCAMERA_REQUEST = 400;\r\n    String cameraPermission[];\r\n    String storagePermission[];\r\n    Uri imageuri;\r\n    String profileOrCoverPhoto;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit_profile_page);\r\n\r\n        profilepic = findViewById(R.id.profilepic);\r\n        editname = findViewById(R.id.editname);\r\n        set = findViewById(R.id.setting_profile_image);\r\n        pd = new ProgressDialog(this);\r\n        pd.setCanceledOnTouchOutside(false);\r\n        editpassword = findViewById(R.id.changepassword);\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        firebaseUser = firebaseAuth.getCurrentUser();\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n        databaseReference = firebaseDatabase.getReference(&quot;Users&quot;);\r\n        cameraPermission = new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE};\r\n        storagePermission = new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE};\r\n        Query query = databaseReference.orderByChild(&quot;email&quot;).equalTo(firebaseUser.getEmail());\r\n        query.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\r\n\r\n                    String image = &quot;&quot; + dataSnapshot1.child(&quot;image&quot;).getValue();\r\n\r\n                    try {\r\n                        Glide.with(EditProfilePage.this).load(image).into(set);\r\n                    } catch (Exception e) {\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        editpassword.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                pd.setMessage(&quot;Changing Password&quot;);\r\n                showPasswordChangeDailog();\r\n            }\r\n        });\r\n\r\n        profilepic.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                pd.setMessage(&quot;Updating Profile Picture&quot;);\r\n                profileOrCoverPhoto = &quot;image&quot;;\r\n                showImagePicDialog();\r\n            }\r\n        });\r\n\r\n        editname.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                pd.setMessage(&quot;Updating Name&quot;);\r\n                showNamephoneupdate(&quot;name&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        Query query = databaseReference.orderByChild(&quot;email&quot;).equalTo(firebaseUser.getEmail());\r\n        query.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\r\n\r\n                    String image = &quot;&quot; + dataSnapshot1.child(&quot;image&quot;).getValue();\r\n\r\n                    try {\r\n                        Glide.with(EditProfilePage.this).load(image).into(set);\r\n                    } catch (Exception e) {\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        editpassword.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                pd.setMessage(&quot;Changing Password&quot;);\r\n                showPasswordChangeDailog();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        Query query = databaseReference.orderByChild(&quot;email&quot;).equalTo(firebaseUser.getEmail());\r\n        query.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\r\n\r\n                    String image = &quot;&quot; + dataSnapshot1.child(&quot;image&quot;).getValue();\r\n\r\n                    try {\r\n                        Glide.with(EditProfilePage.this).load(image).into(set);\r\n                    } catch (Exception e) {\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n        editpassword.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                pd.setMessage(&quot;Changing Password&quot;);\r\n                showPasswordChangeDailog();\r\n            }\r\n        });\r\n    }\r\n\r\n    // checking storage permission ,if given then we can add something in our storage\r\n    private Boolean checkStoragePermission() {\r\n        boolean result = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == (PackageManager.PERMISSION_GRANTED);\r\n        return result;\r\n    }\r\n\r\n    // requesting for storage permission\r\n    private void requestStoragePermission() {\r\n        requestPermissions(storagePermission, STORAGE_REQUEST);\r\n    }\r\n\r\n    // checking camera permission ,if given then we can click image using our camera\r\n    private Boolean checkCameraPermission() {\r\n        boolean result = ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == (PackageManager.PERMISSION_GRANTED);\r\n        boolean result1 = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == (PackageManager.PERMISSION_GRANTED);\r\n        return result &amp;&amp; result1;\r\n    }\r\n\r\n    // requesting for camera permission if not given\r\n    private void requestCameraPermission() {\r\n        requestPermissions(cameraPermission, CAMERA_REQUEST);\r\n    }\r\n\r\n    // We will show an alert box where we will write our old and new password\r\n    private void showPasswordChangeDailog() {\r\n        View view = LayoutInflater.from(this).inflate(R.layout.dialog_update_password, null);\r\n        final EditText oldpass = view.findViewById(R.id.oldpasslog);\r\n        final EditText newpass = view.findViewById(R.id.newpasslog);\r\n        Button editpass = view.findViewById(R.id.updatepass);\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setView(view);\r\n        final AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n        editpass.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String oldp = oldpass.getText().toString().trim();\r\n                String newp = newpass.getText().toString().trim();\r\n                if (TextUtils.isEmpty(oldp)) {\r\n                    Toast.makeText(EditProfilePage.this, &quot;Current Password cant be empty&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n                if (TextUtils.isEmpty(newp)) {\r\n                    Toast.makeText(EditProfilePage.this, &quot;New Password cant be empty&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n                dialog.dismiss();\r\n                updatePassword(oldp, newp);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Now we will check that if old password was authenticated\r\n    // correctly then we will update the new password\r\n    private void updatePassword(String oldp, final String newp) {\r\n        pd.show();\r\n        final FirebaseUser user = firebaseAuth.getCurrentUser();\r\n        AuthCredential authCredential = EmailAuthProvider.getCredential(user.getEmail(), oldp);\r\n        user.reauthenticate(authCredential)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        user.updatePassword(newp)\r\n                                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void aVoid) {\r\n                                        pd.dismiss();\r\n                                        Toast.makeText(EditProfilePage.this, &quot;Changed Password&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                }).addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        pd.dismiss();\r\n                                        Toast.makeText(EditProfilePage.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                });\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        pd.dismiss();\r\n                        Toast.makeText(EditProfilePage.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    // Updating name\r\n    private void showNamephoneupdate(final String key) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(&quot;Update&quot; + key);\r\n\r\n        // creating a layout to write the new name\r\n        LinearLayout layout = new LinearLayout(this);\r\n        layout.setOrientation(LinearLayout.VERTICAL);\r\n        layout.setPadding(10, 10, 10, 10);\r\n        final EditText editText = new EditText(this);\r\n        editText.setHint(&quot;Enter&quot; + key);\r\n        layout.addView(editText);\r\n        builder.setView(layout);\r\n\r\n        builder.setPositiveButton(&quot;Update&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                final String value = editText.getText().toString().trim();\r\n                if (!TextUtils.isEmpty(value)) {\r\n                    pd.show();\r\n\r\n                    // Here we are updating the new name\r\n                    HashMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n                    result.put(key, value);\r\n                    databaseReference.child(firebaseUser.getUid()).updateChildren(result).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            pd.dismiss();\r\n\r\n                            // after updated we will show updated\r\n                            Toast.makeText(EditProfilePage.this, &quot; updated &quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            pd.dismiss();\r\n                            Toast.makeText(EditProfilePage.this, &quot;Unable to update&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    });\r\n                    if (key.equals(&quot;name&quot;)) {\r\n                        final DatabaseReference databaser = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;);\r\n                        Query query = databaser.orderByChild(&quot;uid&quot;).equalTo(uid);\r\n                        query.addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\r\n                                    String child = databaser.getKey();\r\n                                    dataSnapshot1.getRef().child(&quot;uname&quot;).setValue(value);\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    Toast.makeText(EditProfilePage.this, &quot;Unable to update&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                pd.dismiss();\r\n            }\r\n        });\r\n        builder.create().show();\r\n    }\r\n\r\n    // Here we are showing image pic dialog where we will select\r\n    // and image either from camera or gallery\r\n    private void showImagePicDialog() {\r\n        String options[] = {&quot;Camera&quot;, &quot;Gallery&quot;};\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(&quot;Pick Image From&quot;);\r\n        builder.setItems(options, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                // if access is not given then we will request for permission\r\n                if (which == 0) {\r\n                    if (!checkCameraPermission()) {\r\n                        requestCameraPermission();\r\n                    } else {\r\n                        pickFromCamera();\r\n                    }\r\n                } else if (which == 1) {\r\n                    if (!checkStoragePermission()) {\r\n                        requestStoragePermission();\r\n                    } else {\r\n                        pickFromGallery();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        builder.create().show();\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (resultCode == Activity.RESULT_OK) {\r\n            if (requestCode == IMAGEPICK_GALLERY_REQUEST) {\r\n                imageuri = data.getData();\r\n                uploadProfileCoverPhoto(imageuri);\r\n            }\r\n            if (requestCode == IMAGE_PICKCAMERA_REQUEST) {\r\n                uploadProfileCoverPhoto(imageuri);\r\n            }\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingSuperCall&quot;)\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case CAMERA_REQUEST: {\r\n                if (grantResults.length &gt; 0) {\r\n                    boolean camera_accepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                    boolean writeStorageaccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\r\n                    if (camera_accepted &amp;&amp; writeStorageaccepted) {\r\n                        pickFromCamera();\r\n                    } else {\r\n                        Toast.makeText(this, &quot;Please Enable Camera and Storage Permissions&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n            case STORAGE_REQUEST: {\r\n                if (grantResults.length &gt; 0) {\r\n                    boolean writeStorageaccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                    if (writeStorageaccepted) {\r\n                        pickFromGallery();\r\n                    } else {\r\n                        Toast.makeText(this, &quot;Please Enable Storage Permissions&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    // Here we will click a photo and then go to startactivityforresult for updating data\r\n    private void pickFromCamera() {\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.Images.Media.TITLE, &quot;Temp_pic&quot;);\r\n        contentValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;Temp Description&quot;);\r\n        imageuri = this.getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n        Intent camerIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        camerIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageuri);\r\n        startActivityForResult(camerIntent, IMAGE_PICKCAMERA_REQUEST);\r\n    }\r\n\r\n    // We will select an image from gallery\r\n    private void pickFromGallery() {\r\n        Intent galleryIntent = new Intent(Intent.ACTION_PICK);\r\n        galleryIntent.setType(&quot;image/*&quot;);\r\n        startActivityForResult(galleryIntent, IMAGEPICK_GALLERY_REQUEST);\r\n    }\r\n\r\n    // We will upload the image from here.\r\n    private void uploadProfileCoverPhoto(final Uri uri) {\r\n        pd.show();\r\n\r\n        // We are taking the filepath as storagepath + firebaseauth.getUid()+&quot;.png&quot;\r\n        String filepathname = storagepath + &quot;&quot; + profileOrCoverPhoto + &quot;_&quot; + firebaseUser.getUid();\r\n        StorageReference storageReference1 = storageReference.child(filepathname);\r\n        storageReference1.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                while (!uriTask.isSuccessful()) ;\r\n\r\n                // We will get the url of our image using uritask\r\n                final Uri downloadUri = uriTask.getResult();\r\n                if (uriTask.isSuccessful()) {\r\n\r\n                    // updating our image url into the realtime database\r\n                    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n                    hashMap.put(profileOrCoverPhoto, downloadUri.toString());\r\n                    databaseReference.child(firebaseUser.getUid()).updateChildren(hashMap).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            pd.dismiss();\r\n                            Toast.makeText(EditProfilePage.this, &quot;Updated&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            pd.dismiss();\r\n                            Toast.makeText(EditProfilePage.this, &quot;Error Updating &quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    });\r\n                } else {\r\n                    pd.dismiss();\r\n                    Toast.makeText(EditProfilePage.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                pd.dismiss();\r\n                Toast.makeText(EditProfilePage.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI can choose a pic from my gallery or take a pic, but when I upload it always fails. The logcat has this exception: StorageException has occurred.Object does not exist at location.Code: -13010 HttpResult: 404\r\n\r\n\r\n\r\n\r\nI&#39;m currently building the project on my physical device. I have made my database public, and grant permission on my physical phone.\r\nI&#39;m mimicing a pretty old code so it can have some problem with the depracated functions, I really dont know what is the problem here. In the old project it worked fine. Thanks for any help!","title":"Getting StorageException has occurred. Object does not exist at location. Code: -13010 HttpResult: 404","body":"<p>I'm building a Java Android Project using Firebase and its Firestore. The problem is in my AddPostFragment:</p>\n<pre><code>import android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.ProgressDialog;\nimport android.content.ContentValues;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.ContextCompat;\n\nimport com.bumptech.glide.Glide;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthCredential;\nimport com.google.firebase.auth.EmailAuthProvider;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.util.HashMap;\n\npublic class EditProfilePage extends AppCompatActivity {\n\n    private FirebaseAuth firebaseAuth;\n    FirebaseUser firebaseUser;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference databaseReference;\n    StorageReference storageReference;\n    String storagepath = &quot;Users_Profile_Cover_image/&quot;;\n    String uid;\n    ImageView set;\n    TextView profilepic, editname, editpassword;\n    ProgressDialog pd;\n    private static final int CAMERA_REQUEST = 100;\n    private static final int STORAGE_REQUEST = 200;\n    private static final int IMAGEPICK_GALLERY_REQUEST = 300;\n    private static final int IMAGE_PICKCAMERA_REQUEST = 400;\n    String cameraPermission[];\n    String storagePermission[];\n    Uri imageuri;\n    String profileOrCoverPhoto;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_edit_profile_page);\n\n        profilepic = findViewById(R.id.profilepic);\n        editname = findViewById(R.id.editname);\n        set = findViewById(R.id.setting_profile_image);\n        pd = new ProgressDialog(this);\n        pd.setCanceledOnTouchOutside(false);\n        editpassword = findViewById(R.id.changepassword);\n        firebaseAuth = FirebaseAuth.getInstance();\n        firebaseUser = firebaseAuth.getCurrentUser();\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        storageReference = FirebaseStorage.getInstance().getReference();\n        databaseReference = firebaseDatabase.getReference(&quot;Users&quot;);\n        cameraPermission = new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE};\n        storagePermission = new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE};\n        Query query = databaseReference.orderByChild(&quot;email&quot;).equalTo(firebaseUser.getEmail());\n        query.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\n\n                    String image = &quot;&quot; + dataSnapshot1.child(&quot;image&quot;).getValue();\n\n                    try {\n                        Glide.with(EditProfilePage.this).load(image).into(set);\n                    } catch (Exception e) {\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n\n        editpassword.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                pd.setMessage(&quot;Changing Password&quot;);\n                showPasswordChangeDailog();\n            }\n        });\n\n        profilepic.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                pd.setMessage(&quot;Updating Profile Picture&quot;);\n                profileOrCoverPhoto = &quot;image&quot;;\n                showImagePicDialog();\n            }\n        });\n\n        editname.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                pd.setMessage(&quot;Updating Name&quot;);\n                showNamephoneupdate(&quot;name&quot;);\n            }\n        });\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        Query query = databaseReference.orderByChild(&quot;email&quot;).equalTo(firebaseUser.getEmail());\n        query.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\n\n                    String image = &quot;&quot; + dataSnapshot1.child(&quot;image&quot;).getValue();\n\n                    try {\n                        Glide.with(EditProfilePage.this).load(image).into(set);\n                    } catch (Exception e) {\n                    }\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n\n        editpassword.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                pd.setMessage(&quot;Changing Password&quot;);\n                showPasswordChangeDailog();\n            }\n        });\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        Query query = databaseReference.orderByChild(&quot;email&quot;).equalTo(firebaseUser.getEmail());\n        query.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\n\n                    String image = &quot;&quot; + dataSnapshot1.child(&quot;image&quot;).getValue();\n\n                    try {\n                        Glide.with(EditProfilePage.this).load(image).into(set);\n                    } catch (Exception e) {\n                    }\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n        editpassword.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                pd.setMessage(&quot;Changing Password&quot;);\n                showPasswordChangeDailog();\n            }\n        });\n    }\n\n    // checking storage permission ,if given then we can add something in our storage\n    private Boolean checkStoragePermission() {\n        boolean result = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == (PackageManager.PERMISSION_GRANTED);\n        return result;\n    }\n\n    // requesting for storage permission\n    private void requestStoragePermission() {\n        requestPermissions(storagePermission, STORAGE_REQUEST);\n    }\n\n    // checking camera permission ,if given then we can click image using our camera\n    private Boolean checkCameraPermission() {\n        boolean result = ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == (PackageManager.PERMISSION_GRANTED);\n        boolean result1 = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == (PackageManager.PERMISSION_GRANTED);\n        return result &amp;&amp; result1;\n    }\n\n    // requesting for camera permission if not given\n    private void requestCameraPermission() {\n        requestPermissions(cameraPermission, CAMERA_REQUEST);\n    }\n\n    // We will show an alert box where we will write our old and new password\n    private void showPasswordChangeDailog() {\n        View view = LayoutInflater.from(this).inflate(R.layout.dialog_update_password, null);\n        final EditText oldpass = view.findViewById(R.id.oldpasslog);\n        final EditText newpass = view.findViewById(R.id.newpasslog);\n        Button editpass = view.findViewById(R.id.updatepass);\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setView(view);\n        final AlertDialog dialog = builder.create();\n        dialog.show();\n        editpass.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String oldp = oldpass.getText().toString().trim();\n                String newp = newpass.getText().toString().trim();\n                if (TextUtils.isEmpty(oldp)) {\n                    Toast.makeText(EditProfilePage.this, &quot;Current Password cant be empty&quot;, Toast.LENGTH_LONG).show();\n                    return;\n                }\n                if (TextUtils.isEmpty(newp)) {\n                    Toast.makeText(EditProfilePage.this, &quot;New Password cant be empty&quot;, Toast.LENGTH_LONG).show();\n                    return;\n                }\n                dialog.dismiss();\n                updatePassword(oldp, newp);\n            }\n        });\n    }\n\n    // Now we will check that if old password was authenticated\n    // correctly then we will update the new password\n    private void updatePassword(String oldp, final String newp) {\n        pd.show();\n        final FirebaseUser user = firebaseAuth.getCurrentUser();\n        AuthCredential authCredential = EmailAuthProvider.getCredential(user.getEmail(), oldp);\n        user.reauthenticate(authCredential)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        user.updatePassword(newp)\n                                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onSuccess(Void aVoid) {\n                                        pd.dismiss();\n                                        Toast.makeText(EditProfilePage.this, &quot;Changed Password&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                }).addOnFailureListener(new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n                                        pd.dismiss();\n                                        Toast.makeText(EditProfilePage.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                });\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        pd.dismiss();\n                        Toast.makeText(EditProfilePage.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\n                    }\n                });\n    }\n\n    // Updating name\n    private void showNamephoneupdate(final String key) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(&quot;Update&quot; + key);\n\n        // creating a layout to write the new name\n        LinearLayout layout = new LinearLayout(this);\n        layout.setOrientation(LinearLayout.VERTICAL);\n        layout.setPadding(10, 10, 10, 10);\n        final EditText editText = new EditText(this);\n        editText.setHint(&quot;Enter&quot; + key);\n        layout.addView(editText);\n        builder.setView(layout);\n\n        builder.setPositiveButton(&quot;Update&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                final String value = editText.getText().toString().trim();\n                if (!TextUtils.isEmpty(value)) {\n                    pd.show();\n\n                    // Here we are updating the new name\n                    HashMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n                    result.put(key, value);\n                    databaseReference.child(firebaseUser.getUid()).updateChildren(result).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void aVoid) {\n                            pd.dismiss();\n\n                            // after updated we will show updated\n                            Toast.makeText(EditProfilePage.this, &quot; updated &quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            pd.dismiss();\n                            Toast.makeText(EditProfilePage.this, &quot;Unable to update&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    });\n                    if (key.equals(&quot;name&quot;)) {\n                        final DatabaseReference databaser = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;);\n                        Query query = databaser.orderByChild(&quot;uid&quot;).equalTo(uid);\n                        query.addValueEventListener(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                                for (DataSnapshot dataSnapshot1 : dataSnapshot.getChildren()) {\n                                    String child = databaser.getKey();\n                                    dataSnapshot1.getRef().child(&quot;uname&quot;).setValue(value);\n                                }\n                            }\n\n                            @Override\n                            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                            }\n                        });\n                    }\n                } else {\n                    Toast.makeText(EditProfilePage.this, &quot;Unable to update&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n\n        builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                pd.dismiss();\n            }\n        });\n        builder.create().show();\n    }\n\n    // Here we are showing image pic dialog where we will select\n    // and image either from camera or gallery\n    private void showImagePicDialog() {\n        String options[] = {&quot;Camera&quot;, &quot;Gallery&quot;};\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(&quot;Pick Image From&quot;);\n        builder.setItems(options, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                // if access is not given then we will request for permission\n                if (which == 0) {\n                    if (!checkCameraPermission()) {\n                        requestCameraPermission();\n                    } else {\n                        pickFromCamera();\n                    }\n                } else if (which == 1) {\n                    if (!checkStoragePermission()) {\n                        requestStoragePermission();\n                    } else {\n                        pickFromGallery();\n                    }\n                }\n            }\n        });\n        builder.create().show();\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (resultCode == Activity.RESULT_OK) {\n            if (requestCode == IMAGEPICK_GALLERY_REQUEST) {\n                imageuri = data.getData();\n                uploadProfileCoverPhoto(imageuri);\n            }\n            if (requestCode == IMAGE_PICKCAMERA_REQUEST) {\n                uploadProfileCoverPhoto(imageuri);\n            }\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    @SuppressLint(&quot;MissingSuperCall&quot;)\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case CAMERA_REQUEST: {\n                if (grantResults.length &gt; 0) {\n                    boolean camera_accepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                    boolean writeStorageaccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\n                    if (camera_accepted &amp;&amp; writeStorageaccepted) {\n                        pickFromCamera();\n                    } else {\n                        Toast.makeText(this, &quot;Please Enable Camera and Storage Permissions&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }\n            }\n            break;\n            case STORAGE_REQUEST: {\n                if (grantResults.length &gt; 0) {\n                    boolean writeStorageaccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                    if (writeStorageaccepted) {\n                        pickFromGallery();\n                    } else {\n                        Toast.makeText(this, &quot;Please Enable Storage Permissions&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }\n            }\n            break;\n        }\n    }\n\n    // Here we will click a photo and then go to startactivityforresult for updating data\n    private void pickFromCamera() {\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.Images.Media.TITLE, &quot;Temp_pic&quot;);\n        contentValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;Temp Description&quot;);\n        imageuri = this.getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n        Intent camerIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        camerIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageuri);\n        startActivityForResult(camerIntent, IMAGE_PICKCAMERA_REQUEST);\n    }\n\n    // We will select an image from gallery\n    private void pickFromGallery() {\n        Intent galleryIntent = new Intent(Intent.ACTION_PICK);\n        galleryIntent.setType(&quot;image/*&quot;);\n        startActivityForResult(galleryIntent, IMAGEPICK_GALLERY_REQUEST);\n    }\n\n    // We will upload the image from here.\n    private void uploadProfileCoverPhoto(final Uri uri) {\n        pd.show();\n\n        // We are taking the filepath as storagepath + firebaseauth.getUid()+&quot;.png&quot;\n        String filepathname = storagepath + &quot;&quot; + profileOrCoverPhoto + &quot;_&quot; + firebaseUser.getUid();\n        StorageReference storageReference1 = storageReference.child(filepathname);\n        storageReference1.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\n                while (!uriTask.isSuccessful()) ;\n\n                // We will get the url of our image using uritask\n                final Uri downloadUri = uriTask.getResult();\n                if (uriTask.isSuccessful()) {\n\n                    // updating our image url into the realtime database\n                    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n                    hashMap.put(profileOrCoverPhoto, downloadUri.toString());\n                    databaseReference.child(firebaseUser.getUid()).updateChildren(hashMap).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void aVoid) {\n                            pd.dismiss();\n                            Toast.makeText(EditProfilePage.this, &quot;Updated&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            pd.dismiss();\n                            Toast.makeText(EditProfilePage.this, &quot;Error Updating &quot;, Toast.LENGTH_LONG).show();\n                        }\n                    });\n                } else {\n                    pd.dismiss();\n                    Toast.makeText(EditProfilePage.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                pd.dismiss();\n                Toast.makeText(EditProfilePage.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>I can choose a pic from my gallery or take a pic, but when I upload it always fails. The logcat has this exception: StorageException has occurred.Object does not exist at location.Code: -13010 HttpResult: 404</p>\n<p>I'm currently building the project on my physical device. I have made my database public, and grant permission on my physical phone.\nI'm mimicing a pretty old code so it can have some problem with the depracated functions, I really dont know what is the problem here. In the old project it worked fine. Thanks for any help!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701745317,"post_id":77603598,"comment_id":136811062,"body_markdown":"&quot;...  error say problem is curly brackets&quot; - Show us the complete error message.","body":"&quot;...  error say problem is curly brackets&quot; - Show us the complete error message."},{"owner":{"account_id":196869,"reputation":402525,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1701745435,"post_id":77603598,"comment_id":136811069,"body_markdown":"Please [edit] your question to include the full and complete build-log, copy-pasted as text. And add a comment on the lines where the errors are reported.","body":"Please <a href=\"https://stackoverflow.com/posts/77603598/edit\">edit</a> your question to include the full and complete build-log, copy-pasted as text. And add a comment on the lines where the errors are reported."},{"owner":{"account_id":196869,"reputation":402525,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1701745531,"post_id":77603598,"comment_id":136811075,"body_markdown":"With that said, where are the last few closing `}`?","body":"With that said, where are the last few closing <code>}</code>?"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701745676,"post_id":77603598,"comment_id":136811095,"body_markdown":"Have you tried the old-fashioned way?  Count / match the `{` and `}`s.  By hand.   When the compiler tells you that curly brackets do not match ... it will be correct.  Look harder.","body":"Have you tried the old-fashioned way?  Count / match the <code>{</code> and <code>}</code>s.  By hand.   When the compiler tells you that curly brackets do not match ... it will be correct.  Look harder."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701745738,"post_id":77603598,"comment_id":136811097,"body_markdown":"`else if (num2 &gt; num1 &amp;&amp; num2 &gt; num3) {` should probably start with `{`","body":"<code>else if (num2 &gt; num1 &amp;&amp; num2 &gt; num3) {</code> should probably start with <code>{</code>"},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1701746174,"post_id":77603598,"comment_id":136811118,"body_markdown":"@MadProgrammer You mean ```}```?","body":"@MadProgrammer You mean <code>}</code>?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701746359,"post_id":77603598,"comment_id":136811127,"body_markdown":"@ewoke sure that to &#129318;‍♂️","body":"@ewoke sure that to 🤦‍♂️"},{"owner":{"account_id":29851138,"reputation":1,"user_id":22876967,"display_name":"Rody"},"score":0,"creation_date":1701746976,"post_id":77603598,"comment_id":136811166,"body_markdown":"@MadProgrammer i try this extra } it works but my example greatest to smallest it not working why maybe else if or if statments","body":"@MadProgrammer i try this extra } it works but my example greatest to smallest it not working why maybe else if or if statments"},{"owner":{"account_id":196869,"reputation":402525,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1701750003,"post_id":77603598,"comment_id":136811386,"body_markdown":"If you have a decent programming-oriented editor, then it probably contains an indentation tool. Mark all of your code and run it. Look at the indentation, does it really make sense?","body":"If you have a decent programming-oriented editor, then it probably contains an indentation tool. Mark all of your code and run it. Look at the indentation, does it really make sense?"}],"owner":{"account_id":29851138,"reputation":1,"user_id":22876967,"display_name":"Rody"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701771157,"answer_count":0,"score":-1,"last_activity_date":1701746665,"creation_date":1701744973,"question_id":77603598,"body_markdown":"import java.util.*;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    int num1, num2, num3;\r\n\r\n    System.out.print(&quot;Please enter your first number :&quot;);\r\n    num1 = input.nextInt();\r\n\r\n    System.out.print(&quot;Please enter your second number :&quot;);\r\n    num2 = input.nextInt();\r\n\r\n    System.out.print(&quot;Please enter your Third number :&quot;);\r\n    num3 = input.nextInt();\r\n\r\n    if (num1 &gt; num2 &amp;&amp; num1 &gt; num3) {\r\n      if (num2 &gt; num3) {\r\n        System.out.println(num1 + &quot;&gt;&quot; + num2 + &quot;&gt;&quot; + num3);\r\n      } else if (num3 &gt; num2) {\r\n        System.out.println(num1 + &quot;&gt;&quot; + num3 + &quot;&gt;&quot; + num2);\r\n      } else if (num1 &gt; num2 &amp;&amp; num1 &gt; num3) {\r\n        if (num2 == num3) {\r\n          System.out.println(num1 + &quot;&gt;&quot; + num2 + &quot;=&quot; + num3);\r\n        }\r\n      }\r\n    \r\n\r\n    else if (num2 &gt; num1 &amp;&amp; num2 &gt; num3) {\r\n      if (num1 &gt; num3) {\r\n        System.out.println(num2 + &quot;&gt;&quot; + num1 + &quot;&gt;&quot; + num3);\r\n      } else if (num3 &gt; num1) {\r\n        System.out.println(num2 + &quot;&gt;&quot; + num3 + &quot;&gt;&quot; + num1);\r\n      } else if (num2 &gt; num1 &amp;&amp; num2 &gt; num3) {\r\n        if (num1 == num3) {\r\n          System.out.println(num2 + &quot;&gt;&quot; + num1 + &quot;=&quot; + num3);\r\n        }\r\n      }\r\n\r\n      else if (num3 &gt; num1 &amp;&amp; num3 &gt; num2) {\r\n        if (num1 &gt; num2) {\r\n          System.out.println(num3 + &quot;&gt;&quot; + num1 + &quot;&gt;&quot; + num2);\r\n        } else if (num2 &gt; num1) {\r\n          System.out.println(num3 + &quot;&gt;&quot; + num2 + &quot;&gt;&quot; + num1);\r\n        } else if (num3 &gt; num1 &amp;&amp; num3 &gt; num2) {\r\n          if (num1 == num2) {\r\n            System.out.println(num3 + &quot;&gt;&quot; + num1 + &quot;=&quot; + num2);\r\n          }\r\n        }\r\n      }\r\n    } // ./Main.java:54: error: rerached ed of file while parsing }//\r\n\r\n\r\n\r\n//i want specifying numbers that are greater than or equal to less than or equal to but error say problem is curly brackets \r\n\r\n\r\n// EDIT: If I delete one curly brace I see the same error in the others","title":"why this error saying problem is curly brackets i dont know","body":"<p>import java.util.*;</p>\n<p>class Main {\npublic static void main(String[] args) {</p>\n<pre><code>Scanner input = new Scanner(System.in);\nint num1, num2, num3;\n\nSystem.out.print(&quot;Please enter your first number :&quot;);\nnum1 = input.nextInt();\n\nSystem.out.print(&quot;Please enter your second number :&quot;);\nnum2 = input.nextInt();\n\nSystem.out.print(&quot;Please enter your Third number :&quot;);\nnum3 = input.nextInt();\n\nif (num1 &gt; num2 &amp;&amp; num1 &gt; num3) {\n  if (num2 &gt; num3) {\n    System.out.println(num1 + &quot;&gt;&quot; + num2 + &quot;&gt;&quot; + num3);\n  } else if (num3 &gt; num2) {\n    System.out.println(num1 + &quot;&gt;&quot; + num3 + &quot;&gt;&quot; + num2);\n  } else if (num1 &gt; num2 &amp;&amp; num1 &gt; num3) {\n    if (num2 == num3) {\n      System.out.println(num1 + &quot;&gt;&quot; + num2 + &quot;=&quot; + num3);\n    }\n  }\n\n\nelse if (num2 &gt; num1 &amp;&amp; num2 &gt; num3) {\n  if (num1 &gt; num3) {\n    System.out.println(num2 + &quot;&gt;&quot; + num1 + &quot;&gt;&quot; + num3);\n  } else if (num3 &gt; num1) {\n    System.out.println(num2 + &quot;&gt;&quot; + num3 + &quot;&gt;&quot; + num1);\n  } else if (num2 &gt; num1 &amp;&amp; num2 &gt; num3) {\n    if (num1 == num3) {\n      System.out.println(num2 + &quot;&gt;&quot; + num1 + &quot;=&quot; + num3);\n    }\n  }\n\n  else if (num3 &gt; num1 &amp;&amp; num3 &gt; num2) {\n    if (num1 &gt; num2) {\n      System.out.println(num3 + &quot;&gt;&quot; + num1 + &quot;&gt;&quot; + num2);\n    } else if (num2 &gt; num1) {\n      System.out.println(num3 + &quot;&gt;&quot; + num2 + &quot;&gt;&quot; + num1);\n    } else if (num3 &gt; num1 &amp;&amp; num3 &gt; num2) {\n      if (num1 == num2) {\n        System.out.println(num3 + &quot;&gt;&quot; + num1 + &quot;=&quot; + num2);\n      }\n    }\n  }\n} // ./Main.java:54: error: rerached ed of file while parsing }//\n</code></pre>\n<p>//i want specifying numbers that are greater than or equal to less than or equal to but error say problem is curly brackets</p>\n<p>// EDIT: If I delete one curly brace I see the same error in the others</p>\n"},{"tags":["java","android","adb"],"comments":[{"owner":{"account_id":18651946,"reputation":1,"user_id":13595220,"display_name":"guevara-balong"},"score":0,"creation_date":1590138487,"post_id":61951303,"comment_id":109572089,"body_markdown":"the command help from frameworks/base/services/core/java/com/android/server/display/DisplayManagerShellCommand.java","body":"the command help from frameworks/base/services/core/java/com/android/server/displa&zwnj;&#8203;y/DisplayManagerShel&zwnj;&#8203;lCommand.java"}],"answers":[{"tags":[],"owner":{"account_id":1354194,"reputation":11,"user_id":1292942,"display_name":"Semuka Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596787052,"creation_date":1596787052,"answer_id":63297632,"question_id":61951303,"body_markdown":"You can use:\r\n\r\n    adb shell cmd display\r\n\r\nto get help message\r\n\r\n","title":"How to using the Display manager commands of android DisplayManager service by adb command","body":"<p>You can use:</p>\n<pre><code>adb shell cmd display\n</code></pre>\n<p>to get help message</p>\n"},{"tags":[],"owner":{"account_id":13683997,"reputation":123,"user_id":9873556,"display_name":"Rayman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701746118,"creation_date":1701743822,"answer_id":77603545,"question_id":61951303,"body_markdown":"As you can see DisplayManagerShellCommand, like &quot;ab-logging-enable&quot;, just use\r\n\r\n    adb shell cmd display ab-logging-enable","title":"How to using the Display manager commands of android DisplayManager service by adb command","body":"<p>As you can see DisplayManagerShellCommand, like &quot;ab-logging-enable&quot;, just use</p>\n<pre><code>adb shell cmd display ab-logging-enable\n</code></pre>\n"}],"owner":{"account_id":18651946,"reputation":1,"user_id":13595220,"display_name":"guevara-balong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701746118,"creation_date":1590137861,"question_id":61951303,"body_markdown":"How to using the Display manager commands of android DisplayManager service  by adb command\r\nI want to know how to using the following command to debug android service \r\n\r\n\r\n```\r\n60      public void onHelp() {\r\n61          final PrintWriter pw = getOutPrintWriter();\r\n62          pw.println(&quot;Display manager commands:&quot;);\r\n63          pw.println(&quot;  help&quot;);\r\n64          pw.println(&quot;    Print this help text.&quot;);\r\n65          pw.println();\r\n66          pw.println(&quot;  set-brightness BRIGHTNESS&quot;);\r\n67          pw.println(&quot;    Sets the current brightness to BRIGHTNESS (a number between 0 and 1).&quot;);\r\n68          pw.println(&quot;  reset-brightness-configuration&quot;);\r\n69          pw.println(&quot;    Reset the brightness to its default configuration.&quot;);\r\n70          pw.println(&quot;  ab-logging-enable&quot;);\r\n71          pw.println(&quot;    Enable auto-brightness logging.&quot;);\r\n72          pw.println(&quot;  ab-logging-disable&quot;);\r\n73          pw.println(&quot;    Disable auto-brightness logging.&quot;);\r\n74          pw.println(&quot;  dwb-logging-enable&quot;);\r\n75          pw.println(&quot;    Enable display white-balance logging.&quot;);\r\n76          pw.println(&quot;  dwb-logging-disable&quot;);\r\n77          pw.println(&quot;    Disable display white-balance logging.&quot;);\r\n78          pw.println(&quot;  dwb-set-cct CCT&quot;);\r\n79          pw.println(&quot;    Sets the ambient color temperature override to CCT (use -1 to disable).&quot;);\r\n80          pw.println();\r\n81          Intent.printIntentArgsHelp(pw , &quot;&quot;);\r\n82      }\r\n```","title":"How to using the Display manager commands of android DisplayManager service by adb command","body":"<p>How to using the Display manager commands of android DisplayManager service  by adb command\nI want to know how to using the following command to debug android service </p>\n\n<pre><code>60      public void onHelp() {\n61          final PrintWriter pw = getOutPrintWriter();\n62          pw.println(\"Display manager commands:\");\n63          pw.println(\"  help\");\n64          pw.println(\"    Print this help text.\");\n65          pw.println();\n66          pw.println(\"  set-brightness BRIGHTNESS\");\n67          pw.println(\"    Sets the current brightness to BRIGHTNESS (a number between 0 and 1).\");\n68          pw.println(\"  reset-brightness-configuration\");\n69          pw.println(\"    Reset the brightness to its default configuration.\");\n70          pw.println(\"  ab-logging-enable\");\n71          pw.println(\"    Enable auto-brightness logging.\");\n72          pw.println(\"  ab-logging-disable\");\n73          pw.println(\"    Disable auto-brightness logging.\");\n74          pw.println(\"  dwb-logging-enable\");\n75          pw.println(\"    Enable display white-balance logging.\");\n76          pw.println(\"  dwb-logging-disable\");\n77          pw.println(\"    Disable display white-balance logging.\");\n78          pw.println(\"  dwb-set-cct CCT\");\n79          pw.println(\"    Sets the ambient color temperature override to CCT (use -1 to disable).\");\n80          pw.println();\n81          Intent.printIntentArgsHelp(pw , \"\");\n82      }\n</code></pre>\n"},{"tags":["java","exception","try-catch","code-readability"],"comments":[{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1701742956,"post_id":77603477,"comment_id":136810923,"body_markdown":"No.  This is not how exceptions should be used.","body":"No.  This is not how exceptions should be used."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701742849,"creation_date":1701742849,"answer_id":77603500,"question_id":77603477,"body_markdown":"I wouldn&#39;t throw an exception just to streamline your code. How about merging them like this:\r\n\r\n    String result = null;\r\n    try {\r\n        result = x.getResult();\r\n    } catch (Throwable t) {\r\n        // fall through\r\n    }\r\n    if (result == null) {\r\n        // some handling\r\n        logger.error(&quot;xxx&quot;, t);\r\n    }","title":"throw exception and then catch vs duplicate error handling","body":"<p>I wouldn't throw an exception just to streamline your code. How about merging them like this:</p>\n<pre><code>String result = null;\ntry {\n    result = x.getResult();\n} catch (Throwable t) {\n    // fall through\n}\nif (result == null) {\n    // some handling\n    logger.error(&quot;xxx&quot;, t);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7161855,"reputation":1,"user_id":5472368,"display_name":"Enrique Marin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701745405,"creation_date":1701745405,"answer_id":77603613,"question_id":77603477,"body_markdown":"     try {\r\n            String result = x.getResult();\r\n          /*  if (result == null) { &lt; -- Code not need it\r\n                throw new RuntimeException(&quot;yyy&quot;);\r\n            }*/\r\n        } catch (Throwable t) {\r\n            // some handling\r\n            logger.error(&quot;xxx&quot;, t);\r\n        }\r\n\r\n\r\nyeah 2 option is better, less duplicate code that is all. \r\nU can remove the if sentence and then be sure on the catch u have the Exception type that u are expecting. If not then use Throwable.\r\n\r\nhttps://www.youtube.com/watch?v=PzK4ZXa2Tbc &lt;-- check this","title":"throw exception and then catch vs duplicate error handling","body":"<pre><code> try {\n        String result = x.getResult();\n      /*  if (result == null) { &lt; -- Code not need it\n            throw new RuntimeException(&quot;yyy&quot;);\n        }*/\n    } catch (Throwable t) {\n        // some handling\n        logger.error(&quot;xxx&quot;, t);\n    }\n</code></pre>\n<p>yeah 2 option is better, less duplicate code that is all.\nU can remove the if sentence and then be sure on the catch u have the Exception type that u are expecting. If not then use Throwable.</p>\n<p><a href=\"https://www.youtube.com/watch?v=PzK4ZXa2Tbc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=PzK4ZXa2Tbc</a> &lt;-- check this</p>\n"}],"owner":{"account_id":5195570,"reputation":416,"user_id":4157010,"accept_rate":50,"display_name":"eriee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701745405,"creation_date":1701742282,"question_id":77603477,"body_markdown":"I have a code logic as below:\r\n```\r\n// Option 1\r\ntry {\r\n   String result = x.getResult();\r\n   if (result == null) {\r\n     // some handling\r\n     logger.error(&quot;xxx&quot;);\r\n   }\r\n} catch (Throwable t) {\r\n   // some handling\r\n  logger.error(&quot;xxx&quot;, t);\r\n} \r\n```\r\nIn the if and catch block, the handling and logging logic duplicates. We can change it to \r\n```\r\n// Option 2\r\ntry {\r\n   String result = x.getResult();\r\n   if (result == null) {\r\n     throw new RuntimeException(&quot;yyy&quot;);\r\n   }\r\n} catch (Throwable t) {\r\n   // some handling\r\n  logger.error(&quot;xxx&quot;, t);\r\n} \r\n```\r\nI feel creating an exception and then immediately catch it is just for code readability. However, this is an more expensive operation. Is option 2 better than option 1? ","title":"throw exception and then catch vs duplicate error handling","body":"<p>I have a code logic as below:</p>\n<pre><code>// Option 1\ntry {\n   String result = x.getResult();\n   if (result == null) {\n     // some handling\n     logger.error(&quot;xxx&quot;);\n   }\n} catch (Throwable t) {\n   // some handling\n  logger.error(&quot;xxx&quot;, t);\n} \n</code></pre>\n<p>In the if and catch block, the handling and logging logic duplicates. We can change it to</p>\n<pre><code>// Option 2\ntry {\n   String result = x.getResult();\n   if (result == null) {\n     throw new RuntimeException(&quot;yyy&quot;);\n   }\n} catch (Throwable t) {\n   // some handling\n  logger.error(&quot;xxx&quot;, t);\n} \n</code></pre>\n<p>I feel creating an exception and then immediately catch it is just for code readability. However, this is an more expensive operation. Is option 2 better than option 1?</p>\n"},{"tags":["java","maven","facebook-infer"],"owner":{"account_id":15388568,"reputation":135,"user_id":11102002,"display_name":"이희원"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701744951,"creation_date":1701744951,"question_id":77603595,"body_markdown":"I am trying to perform static analysis of a Java project for null dereference errors using Facebook Infer, while using Maven to build the project and perform unit tests.\r\nHere&#39;s the part of `pom.xml` that is responsible for working with Infer:\r\n```xml\r\n&lt;profile&gt;\r\n   &lt;id&gt;infer-capture&lt;/id&gt;\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n               &lt;verbose&gt;true&lt;/verbose&gt;\r\n               &lt;fork&gt;true&lt;/fork&gt;\r\n               &lt;executable&gt;/PATH/TO/INFER/infer&lt;/executable&gt;\r\n               &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n            &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nHere&#39;s my status quo:\r\n- When I run `mvn clean test`, everything builds and tests successfully.\r\n- When I run `infer capture -- mvn clean test` with this project, I get a `MojoFailureException`.\r\n- When I comment out the `&lt;fork&gt;true&lt;/fork&gt;` line, the capture process terminates successfully. However, when I run `infer analyze` afterwards, I get &quot;Nothing to analyze.&quot;\r\n- When I run `infer capture -- mvn clean test --fail-never` and analyze the project, only about a quarter of all source files is analyzed.\r\n\r\nAs this is my first time working with Infer, I can&#39;t seem to grasp what is causing this issue.\r\nThe above `pom.xml` snippet is used in many other projects and never caused an error.\r\nI&#39;m especially frustrated because the `MojoFailureException` basically tells me nothing about the root cause.\r\n\r\nAny suggestions for the root cause and/or solutions would be grateful.","title":"Infer capture fails with Maven, succeeds without fork, but can&#39;t analyze","body":"<p>I am trying to perform static analysis of a Java project for null dereference errors using Facebook Infer, while using Maven to build the project and perform unit tests.\nHere's the part of <code>pom.xml</code> that is responsible for working with Infer:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n   &lt;id&gt;infer-capture&lt;/id&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n               &lt;verbose&gt;true&lt;/verbose&gt;\n               &lt;fork&gt;true&lt;/fork&gt;\n               &lt;executable&gt;/PATH/TO/INFER/infer&lt;/executable&gt;\n               &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>Here's my status quo:</p>\n<ul>\n<li>When I run <code>mvn clean test</code>, everything builds and tests successfully.</li>\n<li>When I run <code>infer capture -- mvn clean test</code> with this project, I get a <code>MojoFailureException</code>.</li>\n<li>When I comment out the <code>&lt;fork&gt;true&lt;/fork&gt;</code> line, the capture process terminates successfully. However, when I run <code>infer analyze</code> afterwards, I get &quot;Nothing to analyze.&quot;</li>\n<li>When I run <code>infer capture -- mvn clean test --fail-never</code> and analyze the project, only about a quarter of all source files is analyzed.</li>\n</ul>\n<p>As this is my first time working with Infer, I can't seem to grasp what is causing this issue.\nThe above <code>pom.xml</code> snippet is used in many other projects and never caused an error.\nI'm especially frustrated because the <code>MojoFailureException</code> basically tells me nothing about the root cause.</p>\n<p>Any suggestions for the root cause and/or solutions would be grateful.</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":114053,"reputation":2143,"user_id":300082,"accept_rate":74,"display_name":"awsome"},"score":0,"creation_date":1701699703,"post_id":77600016,"comment_id":136804615,"body_markdown":"add this to jvm args  --add-opens java.base/java.lang=ALL-UNNAMED. this may help you.  https://www.javagists.com/resolving-java-lang-reflect-inaccessibleobjectexception-in-old-spring-applications","body":"add this to jvm args  --add-opens java.base/java.lang=ALL-UNNAMED. this may help you.  <a href=\"https://www.javagists.com/resolving-java-lang-reflect-inaccessibleobjectexception-in-old-spring-applications\" rel=\"nofollow noreferrer\">javagists.com/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701699716,"post_id":77600016,"comment_id":136804616,"body_markdown":"Please add your full pom.","body":"Please add your full pom."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701700307,"post_id":77600016,"comment_id":136804766,"body_markdown":"And please include the complete stacktrace.","body":"And please include the complete stacktrace."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701700441,"post_id":77600016,"comment_id":136804792,"body_markdown":"*&quot;... although it appears to be Spring&#39;s `ReflectionUtils` via the Spring Data MongoDB code&quot;* - and the stacktrace will allow people who know how to read it to understand *why* that is happening.   (But this *smells* like inconsistent dependencies.)","body":"<i>&quot;... although it appears to be Spring&#39;s <code>ReflectionUtils</code> via the Spring Data MongoDB code&quot;</i> - and the stacktrace will allow people who know how to read it to understand <i>why</i> that is happening.   (But this <i>smells</i> like inconsistent dependencies.)"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701700688,"post_id":77600016,"comment_id":136804849,"body_markdown":"@awsome - The OP should avoid doing that, if possible.  It is only putting off solving the real problem ... whatever that is.","body":"@awsome - The OP should avoid doing that, if possible.  It is only putting off solving the real problem ... whatever that is."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1701706504,"post_id":77600016,"comment_id":136806069,"body_markdown":"Hint: using code formatting makes stacktraces easier to read, because the indentation won&#39;t be mangled. I have fixed this for you this time.","body":"Hint: using code formatting makes stacktraces easier to read, because the indentation won&#39;t be mangled. I have fixed this for you this time."},{"owner":{"account_id":6615208,"reputation":1,"user_id":5108730,"display_name":"Shannon Kohl"},"score":0,"creation_date":1701734331,"post_id":77600016,"comment_id":136810174,"body_markdown":"Just FYI I&#39;ve generated a new project, which uses Spring Boot / Data / Rest Repositories and with some minor changes have been able to get REST POST / GETs working on at least one old collection. So there appears to be something in my code that is triggering the Exception somehow. But I should be able to narrow it down by trial and error if nothing else.","body":"Just FYI I&#39;ve generated a new project, which uses Spring Boot / Data / Rest Repositories and with some minor changes have been able to get REST POST / GETs working on at least one old collection. So there appears to be something in my code that is triggering the Exception somehow. But I should be able to narrow it down by trial and error if nothing else."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1701744467,"post_id":77600016,"comment_id":136811013,"body_markdown":"... or you could set an exception breakpoint, and investigate the variables on the stack at the time the exception is thrown to discover just why Spring is trying to instantiate a Charset. If I had to venture a guess, some model class contains a Charset, and not recognizing this JDK class, Spring tries to treat it as a model class to be instantiated ... a bit curious how that previously worked without exception, though.","body":"... or you could set an exception breakpoint, and investigate the variables on the stack at the time the exception is thrown to discover just why Spring is trying to instantiate a Charset. If I had to venture a guess, some model class contains a Charset, and not recognizing this JDK class, Spring tries to treat it as a model class to be instantiated ... a bit curious how that previously worked without exception, though."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701746419,"post_id":77600016,"comment_id":136811130,"body_markdown":"*&quot;... a bit curious how that previously worked without exception&quot;*  - Probably because the earlier version of Java is more relaxed about application code accessing internals of JDK classes.  But probably the fix is to change the application code to not try to save a `CharSet` in MongoDB.  The `CharSet`s name should suffice ...","body":"<i>&quot;... a bit curious how that previously worked without exception&quot;</i>  - Probably because the earlier version of Java is more relaxed about application code accessing internals of JDK classes.  But probably the fix is to change the application code to not try to save a <code>CharSet</code> in MongoDB.  The <code>CharSet</code>s name should suffice ..."},{"owner":{"account_id":6615208,"reputation":1,"user_id":5108730,"display_name":"Shannon Kohl"},"score":0,"creation_date":1701772024,"post_id":77600016,"comment_id":136814236,"body_markdown":"The application does not directly reference CharSet. That does show up in numerous jars however. I&#39;ve been able to get it working in a test bed, although I&#39;m still not 100% sure what the root cause was. I believe it was likely that CharSet was being loaded as part of Spring&#39;s error handling which was triggered by a config issue that caused an exception to be thrown. So if you see it realize that it may just show up when you get other exceptions in a Spring environment.","body":"The application does not directly reference CharSet. That does show up in numerous jars however. I&#39;ve been able to get it working in a test bed, although I&#39;m still not 100% sure what the root cause was. I believe it was likely that CharSet was being loaded as part of Spring&#39;s error handling which was triggered by a config issue that caused an exception to be thrown. So if you see it realize that it may just show up when you get other exceptions in a Spring environment."}],"owner":{"account_id":6615208,"reputation":1,"user_id":5108730,"display_name":"Shannon Kohl"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701744799,"creation_date":1701698455,"question_id":77600016,"body_markdown":"I&#39;m attempting to start an old Spring Boot / Mongo project on Java 21. It&#39;s giving me an exception:\r\n\r\n&gt;java.lang.reflect.InaccessibleObjectException: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible\r\n\r\nDoes anyone know what this issue is and how to solve it? I can of course post the full stacktrace, although it appears to be Spring&#39;s ReflectionUtils via the Spring Data MongoDB code. Or anything else that may be helpful.\r\n\r\nThanks!\r\n\r\n--Shannon\r\n\r\n\r\nI&#39;ve changed the Spring Boot version to 3.2.0:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nI believe that Spring Boot 3.2.0 should be compatible with Java 21?\r\n\r\nI&#39;ve tried some other things like adding JVM arguments (based on answers to other questions):\r\n\r\n    --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED  --add-opens java.base/sun.security.action=ALL-UNNAMED --add-opens java.base/sun.net=ALL-UNNAMED --illegal-access=permit\r\n\r\nWhich does not seem to help.\r\n\r\n---full stacktrace\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;characterSheetGeneratorController&#39;: Unsatisfied dependency expressed through field &#39;generators&#39;: Error creating bean with name &#39;dragonQuestGenerationConfig&#39;: Unsatisfied dependency expressed through field &#39;dqRepo&#39;: Error creating bean with name &#39;dragonQuestCharacterSheetRepository&#39; defined in com.talkingjack.gma.dragonquest.DragonQuestCharacterSheetRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:772) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat com.talkingjack.gma.GameMasterAssistantApplication.main(GameMasterAssistantApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dragonQuestGenerationConfig&#39;: Unsatisfied dependency expressed through field &#39;dqRepo&#39;: Error creating bean with name &#39;dragonQuestCharacterSheetRepository&#39; defined in com.talkingjack.gma.dragonquest.DragonQuestCharacterSheetRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:772) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 20 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dragonQuestCharacterSheetRepository&#39; defined in com.talkingjack.gma.dragonquest.DragonQuestCharacterSheetRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 43 common frames omitted\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\r\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:391) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:367) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:315) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:194) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:187) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:201) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.data.mapping.PreferredConstructor.&lt;init&gt;(PreferredConstructor.java:56) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.model.PreferredConstructorDiscoverer$Discoverers.buildPreferredConstructor(PreferredConstructorDiscoverer.java:265) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.model.PreferredConstructorDiscoverer$Discoverers$1.discover(PreferredConstructorDiscoverer.java:139) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.model.PreferredConstructorDiscoverer.discover(PreferredConstructorDiscoverer.java:84) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.model.InstanceCreatorMetadataDiscoverer.discover(InstanceCreatorMetadataDiscoverer.java:116) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.model.BasicPersistentEntity.&lt;init&gt;(BasicPersistentEntity.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mongodb.core.mapping.BasicMongoPersistentEntity.&lt;init&gt;(BasicMongoPersistentEntity.java:84) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\r\n\tat org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:91) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\r\n\tat org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:41) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:403) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.addPropertiesForRemainingDescriptors(AbstractMappingContext.java:559) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:423) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:280) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:206) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:92) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getEntityInformation(MongoRepositoryFactory.java:162) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\r\n\tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getTargetRepository(MongoRepositoryFactory.java:138) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n\tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:101) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 53 common frames omitted\r\n```\r\n\r\n---pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.talkingjack.rest.gma&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;GameMasterAssistant&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;GameMasterAssistant&lt;/name&gt;\r\n\t&lt;description&gt;Assistant for Game Masters&lt;/description&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;!-- Spring dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- I believe that by having this here, it will be served as a J2EE Servlet, not a Reactive client --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        \t&lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n        \t&lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Added dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- Figure out why the STSTest project wants to exclude lombok here, it appears that causes lombok to not work --&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;it&lt;/id&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;start-spring-boot&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;start&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;stop&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t\t&lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n\t\t\t\t\t\t\t&lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\r\n\t&lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"java.lang.reflect.InaccessibleObjectException while attempting to run old Spring Boot project on Java 21","body":"<p>I'm attempting to start an old Spring Boot / Mongo project on Java 21. It's giving me an exception:</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible</p>\n</blockquote>\n<p>Does anyone know what this issue is and how to solve it? I can of course post the full stacktrace, although it appears to be Spring's ReflectionUtils via the Spring Data MongoDB code. Or anything else that may be helpful.</p>\n<p>Thanks!</p>\n<p>--Shannon</p>\n<p>I've changed the Spring Boot version to 3.2.0:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>I believe that Spring Boot 3.2.0 should be compatible with Java 21?</p>\n<p>I've tried some other things like adding JVM arguments (based on answers to other questions):</p>\n<pre><code>--add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED  --add-opens java.base/sun.security.action=ALL-UNNAMED --add-opens java.base/sun.net=ALL-UNNAMED --illegal-access=permit\n</code></pre>\n<p>Which does not seem to help.</p>\n<p>---full stacktrace</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'characterSheetGeneratorController': Unsatisfied dependency expressed through field 'generators': Error creating bean with name 'dragonQuestGenerationConfig': Unsatisfied dependency expressed through field 'dqRepo': Error creating bean with name 'dragonQuestCharacterSheetRepository' defined in com.talkingjack.gma.dragonquest.DragonQuestCharacterSheetRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:772) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\n    at com.talkingjack.gma.GameMasterAssistantApplication.main(GameMasterAssistantApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dragonQuestGenerationConfig': Unsatisfied dependency expressed through field 'dqRepo': Error creating bean with name 'dragonQuestCharacterSheetRepository' defined in com.talkingjack.gma.dragonquest.DragonQuestCharacterSheetRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:772) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dragonQuestCharacterSheetRepository' defined in com.talkingjack.gma.dragonquest.DragonQuestCharacterSheetRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 43 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.nio.charset.Charset(java.lang.String,java.lang.String[]) accessible: module java.base does not &quot;opens java.nio.charset&quot; to unnamed module @4b2bac3f\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:391) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:367) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:315) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:194) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:187) ~[na:na]\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:201) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.data.mapping.PreferredConstructor.&lt;init&gt;(PreferredConstructor.java:56) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.model.PreferredConstructorDiscoverer$Discoverers.buildPreferredConstructor(PreferredConstructorDiscoverer.java:265) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.model.PreferredConstructorDiscoverer$Discoverers$1.discover(PreferredConstructorDiscoverer.java:139) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.model.PreferredConstructorDiscoverer.discover(PreferredConstructorDiscoverer.java:84) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.model.InstanceCreatorMetadataDiscoverer.discover(InstanceCreatorMetadataDiscoverer.java:116) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.model.BasicPersistentEntity.&lt;init&gt;(BasicPersistentEntity.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mongodb.core.mapping.BasicMongoPersistentEntity.&lt;init&gt;(BasicMongoPersistentEntity.java:84) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\n    at org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:91) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\n    at org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:41) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:403) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.addPropertiesForRemainingDescriptors(AbstractMappingContext.java:559) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:423) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:280) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:206) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:92) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getEntityInformation(MongoRepositoryFactory.java:162) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\n    at org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getTargetRepository(MongoRepositoryFactory.java:138) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:101) ~[spring-data-mongodb-4.2.0.jar:4.2.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 53 common frames omitted\n</code></pre>\n<p>---pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.talkingjack.rest.gma&lt;/groupId&gt;\n    &lt;artifactId&gt;GameMasterAssistant&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;GameMasterAssistant&lt;/name&gt;\n    &lt;description&gt;Assistant for Game Masters&lt;/description&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Spring dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- I believe that by having this here, it will be served as a J2EE Servlet, not a Reactive client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Added dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Figure out why the STSTest project wants to exclude lombok here, it appears that causes lombok to not work --&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;start&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385393915,"creation_date":1385393563,"answer_id":20196909,"question_id":20196884,"body_markdown":"I assume that `_synchronizer` is a `Boolean` object. When you do\r\n\r\n    _synchronizer = true;\r\n\r\nThe compiler resolves `true` as the object referred to by `Boolean.TRUE`.\r\n\r\nIf `_synchronizer` was `Boolean.FALSE` or another `Boolean` object before, then you are referring to a different object. You don&#39;t have the monitor on that object so `notify()` fails.\r\n\r\nAs stated in the comments, you shouldn&#39;t be synchronizing on a reference (object) that might change. You can change the state of the object referenced by the variable, but not the reference of the variable itself. Good place to start is to only `synchronized` on `final` variables.","title":"IllegalMonitorStateException on notify() call","body":"<p>I assume that <code>_synchronizer</code> is a <code>Boolean</code> object. When you do</p>\n\n<pre><code>_synchronizer = true;\n</code></pre>\n\n<p>The compiler resolves <code>true</code> as the object referred to by <code>Boolean.TRUE</code>.</p>\n\n<p>If <code>_synchronizer</code> was <code>Boolean.FALSE</code> or another <code>Boolean</code> object before, then you are referring to a different object. You don't have the monitor on that object so <code>notify()</code> fails.</p>\n\n<p>As stated in the comments, you shouldn't be synchronizing on a reference (object) that might change. You can change the state of the object referenced by the variable, but not the reference of the variable itself. Good place to start is to only <code>synchronized</code> on <code>final</code> variables.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701744302,"creation_date":1701744302,"answer_id":77603573,"question_id":20196884,"body_markdown":"Suggest you use a constant object for protection of the mutable one\r\n\r\n    Object sync = new Object();\r\n\r\n    ...\r\n    synchronized (sync) \r\n    {\r\n        _synchronizer = true;\r\n        sync.notify();\r\n    }\r\n\r\n    ...\r\n    synchronized (sync) \r\n    {\r\n        sync.wait();\r\n        if (_synchronizer) ...;\r\n    }\r\n","title":"IllegalMonitorStateException on notify() call","body":"<p>Suggest you use a constant object for protection of the mutable one</p>\n<pre><code>Object sync = new Object();\n\n...\nsynchronized (sync) \n{\n    _synchronizer = true;\n    sync.notify();\n}\n\n...\nsynchronized (sync) \n{\n    sync.wait();\n    if (_synchronizer) ...;\n}\n</code></pre>\n"}],"owner":{"account_id":3638015,"reputation":91,"user_id":3032925,"accept_rate":0,"display_name":"user3032925"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701744302,"creation_date":1385393488,"question_id":20196884,"body_markdown":"I am calling the notify() method from synchronized block and I get a java.lang.IllegalMonitorStateException. I am synchronized on this specific object, so I don&#39;t see where i am wrong. My code is like this:\r\n\r\n    public void setSynchronizer() {\r\n    \tsynchronized (_synchronizer) {\r\n    \t\t_synchronizer = true;\r\n    \t\t_synchronizer.notify();\r\n    \t}\t\t\r\n    }\r\n\r\nCan anybody help me, please?","title":"IllegalMonitorStateException on notify() call","body":"<p>I am calling the notify() method from synchronized block and I get a java.lang.IllegalMonitorStateException. I am synchronized on this specific object, so I don't see where i am wrong. My code is like this:</p>\n\n<pre><code>public void setSynchronizer() {\n    synchronized (_synchronizer) {\n        _synchronizer = true;\n        _synchronizer.notify();\n    }       \n}\n</code></pre>\n\n<p>Can anybody help me, please?</p>\n"},{"tags":["java","unix","encryption","gnupg"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701743340,"creation_date":1419875354,"answer_id":27693628,"question_id":27693111,"body_markdown":"What about something like this, using a pipe?\r\n\r\n&lt;!-- language: none --&gt;\r\n    echo hello | gpg --recipient &quot;owlstead&quot; --output deleteme.gpg --yes --encrypt","title":"how to encrypt a text present in a string in unix using gpg","body":"<p>What about something like this, using a pipe?</p>\n<pre class=\"lang-none prettyprint-override\"><code>echo hello | gpg --recipient &quot;owlstead&quot; --output deleteme.gpg --yes --encrypt\n</code></pre>\n"}],"owner":{"account_id":5549165,"reputation":1,"user_id":4402899,"display_name":"ritesh pratap singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701743359,"creation_date":1419873155,"question_id":27693111,"body_markdown":"I have to encrypt a content inside a string buffer.\r\n\r\nCurrently Im encrypting the file. I write string buffer into a file and then encrypt using following command.\r\n\r\n```none\r\ngpg --recipient &quot;raj&quot; --output &quot;C:\\a.txt.gpg&quot; --yes --encrypt &quot;C:\\a.txt&quot;\r\n```\r\n\r\n\r\nBut due to security reason, we dont need to write into a file and the content should be passed directly to the gpg command.\r\n\r\nPlease help.","title":"how to encrypt a text present in a string in unix using gpg","body":"<p>I have to encrypt a content inside a string buffer.</p>\n<p>Currently Im encrypting the file. I write string buffer into a file and then encrypt using following command.</p>\n<pre class=\"lang-none prettyprint-override\"><code>gpg --recipient &quot;raj&quot; --output &quot;C:\\a.txt.gpg&quot; --yes --encrypt &quot;C:\\a.txt&quot;\n</code></pre>\n<p>But due to security reason, we dont need to write into a file and the content should be passed directly to the gpg command.</p>\n<p>Please help.</p>\n"},{"tags":["java","caffeine-cache"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":3,"creation_date":1701743004,"post_id":77603499,"comment_id":136810926,"body_markdown":"Welcome to Stack Overflow.  Please note that advice/opinions-seeking questions are not on-topic here in Stack Overflow as they tend to require a lengthy discussion which isn&#39;t what Stack Overflow is about.","body":"Welcome to Stack Overflow.  Please note that advice/opinions-seeking questions are not on-topic here in Stack Overflow as they tend to require a lengthy discussion which isn&#39;t what Stack Overflow is about."}],"owner":{"account_id":29954974,"reputation":1,"user_id":22956083,"display_name":"lmrwang"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701744049,"answer_count":0,"score":-3,"last_activity_date":1701742823,"creation_date":1701742823,"question_id":77603499,"body_markdown":"As a java developer who is still learning at school and working part-time at a company, should I learn how Caffeine cache works?Instead of just using it , should I learn the basic theory of it?\r\n\r\nI tried to learn the git-hub address:https://github.com/ben-manes/caffeine/wiki,\r\nI am expected to get some advice from other experienced developer.","title":"should I learn how Caffeine cache works?","body":"<p>As a java developer who is still learning at school and working part-time at a company, should I learn how Caffeine cache works?Instead of just using it , should I learn the basic theory of it?</p>\n<p>I tried to learn the git-hub address:<a href=\"https://github.com/ben-manes/caffeine/wiki\" rel=\"nofollow noreferrer\">https://github.com/ben-manes/caffeine/wiki</a>,\nI am expected to get some advice from other experienced developer.</p>\n"},{"tags":["java","tcp","ftp","connectexception"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688616989,"post_id":28130278,"comment_id":135098171,"body_markdown":"You can&#39;t use passive mode unless you have opened a port in your firewall and forwarded it, and as you can&#39;t control what the passive port is you can&#39;t know where to forward it to: so, you can&#39;t use passive mode at all. So don&#39;t. NB Please format your code rationally.","body":"You can&#39;t use passive mode unless you have opened a port in your firewall and forwarded it, and as you can&#39;t control what the passive port is you can&#39;t know where to forward it to: so, you can&#39;t use passive mode at all. So don&#39;t. NB Please format your code rationally."}],"answers":[{"tags":[],"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688639536,"creation_date":1422134775,"answer_id":28130412,"question_id":28130278,"body_markdown":"This is a common conectivity problem that you&#39;ll have to debug first:\r\n\r\nFirst, ensure the name of the server is correctly typed. Also ensure that you have properly specified a port (if, for some reason, it is not the well-known FTP port 21).\r\n\r\nThen, ensure you have TCP conectivity between your local host and the remote FTP server: For example, open a command shell and try to execute &quot;telnet &amp;lt;host&amp;gt; 21&quot;. \r\n\r\n - If some error happens, you CAN NOT connect to that server. It is not accessible from your location.\r\n - Else, if the terminal clears out, then you can exit: A connection has been succesfully made. In this case, check if you are using a *proxy* in your system setup (in windows, for example, it is seen on Control Panel\\Internet Options\\Connections\\LAN). If yes, you have to set the same proxy parameters to the JVM when running it:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: shell --&gt;\r\n\r\n    java -Dftp.socksProxyHost=&lt;proxy host&gt; -Dftp.socksProxyPort=&lt;proxy port&gt; -Djava.net.socks.username=&lt;proxy username&gt; -Djava.net.socks.password=&lt;proxy user password&gt; -classpath ... MainClass\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nLook all the [networking properties][1] in Java.\r\n\r\nAnd yet another possibility is that you have some local *firewall* blocking this connection. Check it out and read the firewall&#39;s manual.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\r\n","title":"Java FTP connection timed out","body":"<p>This is a common conectivity problem that you'll have to debug first:</p>\n<p>First, ensure the name of the server is correctly typed. Also ensure that you have properly specified a port (if, for some reason, it is not the well-known FTP port 21).</p>\n<p>Then, ensure you have TCP conectivity between your local host and the remote FTP server: For example, open a command shell and try to execute &quot;telnet &lt;host&gt; 21&quot;.</p>\n<ul>\n<li>If some error happens, you CAN NOT connect to that server. It is not accessible from your location.</li>\n<li>Else, if the terminal clears out, then you can exit: A connection has been succesfully made. In this case, check if you are using a <em>proxy</em> in your system setup (in windows, for example, it is seen on Control Panel\\Internet Options\\Connections\\LAN). If yes, you have to set the same proxy parameters to the JVM when running it:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Dftp.socksProxyHost=&lt;proxy host&gt; -Dftp.socksProxyPort=&lt;proxy port&gt; -Djava.net.socks.username=&lt;proxy username&gt; -Djava.net.socks.password=&lt;proxy user password&gt; -classpath ... MainClass\n</code></pre>\n<p>Look all the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">networking properties</a> in Java.</p>\n<p>And yet another possibility is that you have some local <em>firewall</em> blocking this connection. Check it out and read the firewall's manual.</p>\n"}],"owner":{"account_id":5678523,"reputation":1,"user_id":4490680,"display_name":"user4490680"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701741825,"creation_date":1422133766,"question_id":28130278,"body_markdown":"I am working on a project which will later upload a few files to an FTP server after they are modified...I have everything but uploading the file figured out.  I can successfully connect to the FTP server, but once the file goes to upload, the program hangs for a couple minutes, then it states that it timed out.\r\n\r\n\r\n    java.net.ConnectException: Connection timed out: connect\r\n    \tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:579)\r\n    \tat org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:762)\r\n    \tat org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:565)\r\n    \tat org.apache.commons.net.ftp.FTPClient.__storeFile(FTPClient.java:557)\r\n    \tat org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:1795)\r\n    \tat AdvertisementCreator.main(AdvertisementCreator.java:128)\r\n    \r\n     \r\nHere is the code I have for the FTP connection: (Keep in mind I omitted the login details)\r\n\r\n\r\n    FTPClient fClient = new FTPClient();\r\n    try {\r\n        fClient.connect(server, port);\r\n        showServerReply(fClient);\r\n        int replyCode = fClient.getReplyCode();\r\n        if (!FTPReply.isPositiveCompletion(replyCode)) {\r\n            System.out.println(&quot;Operation failed. Server reply code: &quot; + replyCode);\r\n            return;\r\n        }\r\n        boolean success = fClient.login(user, pass);\r\n        showServerReply(fClient);\r\n        if (!success) {\r\n            System.out.println(&quot;Could not login to the server&quot;);\r\n        } else {\r\n            System.out.println(&quot;You are now logged on!&quot;);\r\n            loginLoop = false;\r\n        }\r\n        fClient.enterLocalPassiveMode();\r\n        fClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n        File localFile = new File(&quot;files\\\\shared.txt&quot;);\r\n        String remoteFile = &quot;shared.txt&quot;;\r\n        InputStream inputStream = new FileInputStream(localFile);\r\n        System.out.println(&quot;Start uploading the file&quot;);\r\n        boolean done = fClient.storeFile(remoteFile, inputStream);\r\n        inputStream.close();\r\n        if (done) {\r\n            System.out.println(remoteFile+&quot; has been uploaded successfully&quot;);\r\n        }\r\n    } catch (IOException ex) {\r\n        System.out.println(&quot;Oops! Something wrong happened&quot;);\r\n        ex.printStackTrace();\r\n    } finally {\r\n        try {\r\n            if (fClient.isConnected()) {\r\n                fClient.logout();\r\n                fClient.disconnect();\r\n                System.out.println(&quot;FTP Disconnected&quot;);\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\nI have never really messed with Apache Commons FTP until today.  If anyone could provide some insight, I would greatly appreciate it\r\n\r\nEdit: I forgot to mention that before adding the following line, the file transferred, but when I tried to open it on the server, it was empty.\r\n\r\n    fClient.enterLocalPassiveMode();\r\n    fClient.setFileType(FTP.BINARY_FILE_TYPE);","title":"Java FTP connection timed out","body":"<p>I am working on a project which will later upload a few files to an FTP server after they are modified...I have everything but uploading the file figured out.  I can successfully connect to the FTP server, but once the file goes to upload, the program hangs for a couple minutes, then it states that it timed out.</p>\n<pre><code>java.net.ConnectException: Connection timed out: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:579)\n    at org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:762)\n    at org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:565)\n    at org.apache.commons.net.ftp.FTPClient.__storeFile(FTPClient.java:557)\n    at org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:1795)\n    at AdvertisementCreator.main(AdvertisementCreator.java:128)\n\n \n</code></pre>\n<p>Here is the code I have for the FTP connection: (Keep in mind I omitted the login details)</p>\n<pre><code>FTPClient fClient = new FTPClient();\ntry {\n    fClient.connect(server, port);\n    showServerReply(fClient);\n    int replyCode = fClient.getReplyCode();\n    if (!FTPReply.isPositiveCompletion(replyCode)) {\n        System.out.println(&quot;Operation failed. Server reply code: &quot; + replyCode);\n        return;\n    }\n    boolean success = fClient.login(user, pass);\n    showServerReply(fClient);\n    if (!success) {\n        System.out.println(&quot;Could not login to the server&quot;);\n    } else {\n        System.out.println(&quot;You are now logged on!&quot;);\n        loginLoop = false;\n    }\n    fClient.enterLocalPassiveMode();\n    fClient.setFileType(FTP.BINARY_FILE_TYPE);\n    File localFile = new File(&quot;files\\\\shared.txt&quot;);\n    String remoteFile = &quot;shared.txt&quot;;\n    InputStream inputStream = new FileInputStream(localFile);\n    System.out.println(&quot;Start uploading the file&quot;);\n    boolean done = fClient.storeFile(remoteFile, inputStream);\n    inputStream.close();\n    if (done) {\n        System.out.println(remoteFile+&quot; has been uploaded successfully&quot;);\n    }\n} catch (IOException ex) {\n    System.out.println(&quot;Oops! Something wrong happened&quot;);\n    ex.printStackTrace();\n} finally {\n    try {\n        if (fClient.isConnected()) {\n            fClient.logout();\n            fClient.disconnect();\n            System.out.println(&quot;FTP Disconnected&quot;);\n        }\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>I have never really messed with Apache Commons FTP until today.  If anyone could provide some insight, I would greatly appreciate it</p>\n<p>Edit: I forgot to mention that before adding the following line, the file transferred, but when I tried to open it on the server, it was empty.</p>\n<pre><code>fClient.enterLocalPassiveMode();\nfClient.setFileType(FTP.BINARY_FILE_TYPE);\n</code></pre>\n"},{"tags":["java","ajax","jackson"],"comments":[{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":4,"creation_date":1529419335,"post_id":12583638,"comment_id":88861146,"body_markdown":"http://www.baeldung.com/jackson-annotations","body":"<a href=\"http://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">baeldung.com/jackson-annotations</a>"}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":344,"is_accepted":true,"score":344,"last_activity_date":1503673151,"creation_date":1348578908,"answer_id":12583772,"question_id":12583638,"body_markdown":"Here&#39;s a good example. I use it to rename the variable because the JSON is coming from a `.Net` environment where properties start with an upper-case letter.\r\n\r\n    public class Parameter {\r\n      @JsonProperty(&quot;Name&quot;)\r\n      public String name;\r\n      @JsonProperty(&quot;Value&quot;)\r\n      public String value; \r\n    }\r\n\r\nThis correctly parses to/from the JSON:\r\n\r\n    &quot;Parameter&quot;:{\r\n      &quot;Name&quot;:&quot;Parameter-Name&quot;,\r\n      &quot;Value&quot;:&quot;Parameter-Value&quot;\r\n    }","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>Here's a good example. I use it to rename the variable because the JSON is coming from a <code>.Net</code> environment where properties start with an upper-case letter.</p>\n\n<pre><code>public class Parameter {\n  @JsonProperty(\"Name\")\n  public String name;\n  @JsonProperty(\"Value\")\n  public String value; \n}\n</code></pre>\n\n<p>This correctly parses to/from the JSON:</p>\n\n<pre><code>\"Parameter\":{\n  \"Name\":\"Parameter-Name\",\n  \"Value\":\"Parameter-Value\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114066,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1348627998,"creation_date":1348627998,"answer_id":12593927,"question_id":12583638,"body_markdown":"Without annotations, inferred property name (to match from JSON) would be &quot;set&quot;, and not -- as seems to be the intent -- &quot;isSet&quot;. This is because as per Java Beans specification, methods of form &quot;isXxx&quot; and &quot;setXxx&quot; are taken to mean that there is logical property &quot;xxx&quot; to manage.\r\n","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>Without annotations, inferred property name (to match from JSON) would be \"set\", and not -- as seems to be the intent -- \"isSet\". This is because as per Java Beans specification, methods of form \"isXxx\" and \"setXxx\" are taken to mean that there is logical property \"xxx\" to manage.</p>\n"},{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1536770844,"creation_date":1382030408,"answer_id":19433237,"question_id":12583638,"body_markdown":"I think OldCurmudgeon and StaxMan are both correct but here is one sentence answer with simple example for you.\r\n\r\n@JsonProperty(name), tells Jackson ObjectMapper to map the JSON property name to the annotated Java field&#39;s name.\r\n\r\n    //example of json that is submitted \r\n    &quot;Car&quot;:{\r\n      &quot;Type&quot;:&quot;Ferrari&quot;,\r\n    }\r\n    \r\n    //where it gets mapped \r\n    public static class Car {\r\n      @JsonProperty(&quot;Type&quot;)\r\n      public String type;\r\n     }\r\n\r\n","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>I think OldCurmudgeon and StaxMan are both correct but here is one sentence answer with simple example for you.</p>\n\n<p>@JsonProperty(name), tells Jackson ObjectMapper to map the JSON property name to the annotated Java field's name.</p>\n\n<pre><code>//example of json that is submitted \n\"Car\":{\n  \"Type\":\"Ferrari\",\n}\n\n//where it gets mapped \npublic static class Car {\n  @JsonProperty(\"Type\")\n  public String type;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345422,"reputation":2110,"user_id":678342,"accept_rate":88,"display_name":"Richeek"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1655910809,"creation_date":1415220226,"answer_id":26766734,"question_id":12583638,"body_markdown":"well for what its worth now... JsonProperty is ALSO used to specify getter and setter methods for the variable apart from usual serialization and deserialization. For example suppose you have a payload like this:\r\n\r\n    {\r\n      &quot;check&quot;: true\r\n    }\r\n\r\nand a Deserializer class:\r\n\r\n    public class Check {\r\n    \r\n      @JsonProperty(&quot;check&quot;)    // It is needed else Jackson will look got getCheck method and will fail\r\n      private Boolean check;\r\n    \r\n      public Boolean isCheck() {\r\n         return check;\r\n      }\r\n    }\r\n\r\nThen in this case JsonProperty annotation is neeeded. However if you also have a method in the class \r\n\r\n    public class Check {\r\n    \r\n      //@JsonProperty(&quot;check&quot;)    Not needed anymore\r\n      private Boolean check;\r\n    \r\n      public Boolean getCheck() {\r\n         return check;\r\n      }\r\n    }\r\n\r\nHave a look at this documentation too: \r\nhttp://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonProperty.html","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>well for what its worth now... JsonProperty is ALSO used to specify getter and setter methods for the variable apart from usual serialization and deserialization. For example suppose you have a payload like this:</p>\n<pre><code>{\n  &quot;check&quot;: true\n}\n</code></pre>\n<p>and a Deserializer class:</p>\n<pre><code>public class Check {\n\n  @JsonProperty(&quot;check&quot;)    // It is needed else Jackson will look got getCheck method and will fail\n  private Boolean check;\n\n  public Boolean isCheck() {\n     return check;\n  }\n}\n</code></pre>\n<p>Then in this case JsonProperty annotation is neeeded. However if you also have a method in the class</p>\n<pre><code>public class Check {\n\n  //@JsonProperty(&quot;check&quot;)    Not needed anymore\n  private Boolean check;\n\n  public Boolean getCheck() {\n     return check;\n  }\n}\n</code></pre>\n<p>Have a look at this documentation too:\n<a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"noreferrer\">http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonProperty.html</a></p>\n"},{"tags":[],"owner":{"account_id":318586,"reputation":1889,"user_id":635891,"accept_rate":62,"display_name":"Mostafa Barmshory"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1498913989,"creation_date":1498913989,"answer_id":44861221,"question_id":12583638,"body_markdown":"As you know, this is all about serialize and desalinize an object. Suppose there is an object:\r\n\r\n    public class Parameter {\r\n      public String _name;\r\n      public String _value; \r\n    }\r\n\r\nThe serialization of this object is:\r\n\r\n    {\r\n      &quot;_name&quot;: &quot;...&quot;,\r\n      &quot;_value&quot;: &quot;...&quot;\r\n    }\r\n\r\nThe name of variable is directly used to serialize data. If you are about to remove system api from system implementation, in some cases, you have to rename variable in serialization/deserialization. @JsonProperty is a meta data to tell serializer how to serial object. It is used to:\r\n\r\n- variable name\r\n- access (READ, WRITE)\r\n- default value\r\n- required/optional\r\n\r\nfrom example:\r\n\r\n\r\n    public class Parameter {\r\n      @JsonProperty(\r\n            value=&quot;Name&quot;,\r\n            required=true,\r\n            defaultValue=&quot;No name&quot;,\r\n            access= Access.READ_WRITE)\r\n      public String _name;\r\n      @JsonProperty(\r\n            value=&quot;Value&quot;,\r\n            required=true,\r\n            defaultValue=&quot;Empty&quot;,\r\n            access= Access.READ_WRITE)\r\n      public String _value; \r\n    }","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>As you know, this is all about serialize and desalinize an object. Suppose there is an object:</p>\n\n<pre><code>public class Parameter {\n  public String _name;\n  public String _value; \n}\n</code></pre>\n\n<p>The serialization of this object is:</p>\n\n<pre><code>{\n  \"_name\": \"...\",\n  \"_value\": \"...\"\n}\n</code></pre>\n\n<p>The name of variable is directly used to serialize data. If you are about to remove system api from system implementation, in some cases, you have to rename variable in serialization/deserialization. @JsonProperty is a meta data to tell serializer how to serial object. It is used to:</p>\n\n<ul>\n<li>variable name</li>\n<li>access (READ, WRITE)</li>\n<li>default value</li>\n<li>required/optional</li>\n</ul>\n\n<p>from example:</p>\n\n<pre><code>public class Parameter {\n  @JsonProperty(\n        value=\"Name\",\n        required=true,\n        defaultValue=\"No name\",\n        access= Access.READ_WRITE)\n  public String _name;\n  @JsonProperty(\n        value=\"Value\",\n        required=true,\n        defaultValue=\"Empty\",\n        access= Access.READ_WRITE)\n  public String _value; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448327,"reputation":131,"user_id":1366087,"display_name":"sc30"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510156212,"creation_date":1510156212,"answer_id":47184011,"question_id":12583638,"body_markdown":"From JsonProperty javadoc, \r\n\r\n&gt;  Defines name of the logical property, i.e. JSON object field name to use for the property. If value is empty String (which is the default), will try to use name of the field that is annotated.","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>From JsonProperty javadoc, </p>\n\n<blockquote>\n  <p>Defines name of the logical property, i.e. JSON object field name to use for the property. If value is empty String (which is the default), will try to use name of the field that is annotated.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7899184,"reputation":21451,"user_id":5966775,"display_name":"DVarga"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1549556963,"creation_date":1518114699,"answer_id":48692468,"question_id":12583638,"body_markdown":"As addition to other answers, `@JsonProperty` annotation is really important if you use the `@JsonCreator` annotation in classes which do not have a no-arg constructor.\r\n\r\n\tpublic class ClassToSerialize {\r\n\r\n\t\tpublic enum MyEnum {\r\n\t\t\tFIRST,SECOND,THIRD\r\n\t\t}\r\n\r\n\t\tpublic String stringValue = &quot;ABCD&quot;;\r\n\t\tpublic MyEnum myEnum;\r\n\r\n\r\n\t\t@JsonCreator\r\n\t\tpublic ClassToSerialize(MyEnum myEnum) {\r\n\t\t\tthis.myEnum = myEnum;\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\t\tClassToSerialize classToSerialize = new ClassToSerialize(MyEnum.FIRST);\r\n\t\t\tString jsonString = mapper.writeValueAsString(classToSerialize);\r\n\t\t\tSystem.out.println(jsonString);\r\n\t\t\tClassToSerialize deserialized = mapper.readValue(jsonString, ClassToSerialize.class);\r\n\t\t\tSystem.out.println(&quot;StringValue: &quot; + deserialized.stringValue);\r\n            System.out.println(&quot;MyEnum: &quot; + deserialized.myEnum);\r\n\t\t}\r\n\t}\r\n\r\nIn this example the only constructor is marked as `@JsonCreator`, therefore Jackson will use this constructor to create the instance. But the output is like:\r\n\r\n&gt; Serialized: {&quot;stringValue&quot;:&quot;ABCD&quot;,&quot;myEnum&quot;:&quot;FIRST&quot;}\r\n\r\n&gt; Exception in\r\n&gt; thread &quot;main&quot;\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not\r\n&gt; construct instance of\r\n&gt; ClassToSerialize$MyEnum\r\n&gt; **from String value &#39;stringValue&#39;: value not one of declared Enum\r\n&gt; instance names: [FIRST, SECOND, THIRD]**\r\n\r\nBut after the addition of the `@JsonProperty` annotation in the constructor:\r\n\r\n    @JsonCreator\r\n    public ClassToSerialize(@JsonProperty(&quot;myEnum&quot;) MyEnum myEnum) {\r\n        this.myEnum = myEnum;\r\n    }\r\n\r\nThe deserialization is successful:\r\n\r\n&gt; Serialized: {&quot;myEnum&quot;:&quot;FIRST&quot;,&quot;stringValue&quot;:&quot;ABCD&quot;}\r\n&gt;\r\n&gt; StringValue: ABCD\r\n\r\n&gt; MyEnum: FIRST","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>As addition to other answers, <code>@JsonProperty</code> annotation is really important if you use the <code>@JsonCreator</code> annotation in classes which do not have a no-arg constructor.</p>\n\n<pre><code>public class ClassToSerialize {\n\n    public enum MyEnum {\n        FIRST,SECOND,THIRD\n    }\n\n    public String stringValue = \"ABCD\";\n    public MyEnum myEnum;\n\n\n    @JsonCreator\n    public ClassToSerialize(MyEnum myEnum) {\n        this.myEnum = myEnum;\n    }\n\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n\n        ClassToSerialize classToSerialize = new ClassToSerialize(MyEnum.FIRST);\n        String jsonString = mapper.writeValueAsString(classToSerialize);\n        System.out.println(jsonString);\n        ClassToSerialize deserialized = mapper.readValue(jsonString, ClassToSerialize.class);\n        System.out.println(\"StringValue: \" + deserialized.stringValue);\n        System.out.println(\"MyEnum: \" + deserialized.myEnum);\n    }\n}\n</code></pre>\n\n<p>In this example the only constructor is marked as <code>@JsonCreator</code>, therefore Jackson will use this constructor to create the instance. But the output is like:</p>\n\n<blockquote>\n  <p>Serialized: {\"stringValue\":\"ABCD\",\"myEnum\":\"FIRST\"}</p>\n  \n  <p>Exception in\n  thread \"main\"\n  com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not\n  construct instance of\n  ClassToSerialize$MyEnum\n  <strong>from String value 'stringValue': value not one of declared Enum\n  instance names: [FIRST, SECOND, THIRD]</strong></p>\n</blockquote>\n\n<p>But after the addition of the <code>@JsonProperty</code> annotation in the constructor:</p>\n\n<pre><code>@JsonCreator\npublic ClassToSerialize(@JsonProperty(\"myEnum\") MyEnum myEnum) {\n    this.myEnum = myEnum;\n}\n</code></pre>\n\n<p>The deserialization is successful:</p>\n\n<blockquote>\n  <p>Serialized: {\"myEnum\":\"FIRST\",\"stringValue\":\"ABCD\"}</p>\n  \n  <p>StringValue: ABCD</p>\n  \n  <p>MyEnum: FIRST</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2500775,"reputation":1778,"user_id":2175945,"display_name":"arush436"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1524651260,"creation_date":1524651260,"answer_id":50019646,"question_id":12583638,"body_markdown":"Adding the JsonProperty also ensures safety in case someone decides they want to change one of the property names not realizing the class in question will be serialized to a Json object. If they change the property name the JsonProperty ensures it will be used in the Json object, and not the property name.","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>Adding the JsonProperty also ensures safety in case someone decides they want to change one of the property names not realizing the class in question will be serialized to a Json object. If they change the property name the JsonProperty ensures it will be used in the Json object, and not the property name.</p>\n"},{"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1559159711,"creation_date":1559159711,"answer_id":56367638,"question_id":12583638,"body_markdown":"In addition to all the answers above, don&#39;t forget the part of the documentation that says \r\n\r\n&gt; Marker annotation that can be used to define a non-static method as a\r\n&gt; &quot;setter&quot; or &quot;getter&quot; for a logical property (depending on its\r\n&gt; signature), or non-static object field to be used (serialized,\r\n&gt; deserialized) as a logical property.\r\n\r\nIf you have a `non-static` method in your class that is not a conventional `getter or setter` then you can make it act like a `getter and setter` by using the annotation on it. See the example below \r\n\r\n    public class Testing {\r\n        private Integer id;\r\n        private String username;\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n        \r\n        public String getIdAndUsername() {\r\n            return id + &quot;.&quot; + username; \r\n        }\r\n        \r\n        public String concatenateIdAndUsername() {\r\n            return id + &quot;.&quot; + username; \r\n        }\r\n    }\r\n\r\nWhen the above object is serialized, then response will contain \r\n\r\n - username from `getUsername()` \r\n - id from `getId()` \r\n - idAndUsername from `getIdAndUsername`* \r\n\r\nSince the method `getIdAndUsername` starts with `get` then it&#39;s treated as normal getter hence, why you could annotate such with `@JsonIgnore`. \r\n\r\nIf you have noticed the `concatenateIdAndUsername` is not returned and that&#39;s because it name does not start with `get` and if you wish the result of that method to be included in the response then you can use `@JsonProperty(&quot;...&quot;)` and it would be treated as normal `getter/setter` as mentioned in the above highlighted documentation. ","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>In addition to all the answers above, don't forget the part of the documentation that says </p>\n\n<blockquote>\n  <p>Marker annotation that can be used to define a non-static method as a\n  \"setter\" or \"getter\" for a logical property (depending on its\n  signature), or non-static object field to be used (serialized,\n  deserialized) as a logical property.</p>\n</blockquote>\n\n<p>If you have a <code>non-static</code> method in your class that is not a conventional <code>getter or setter</code> then you can make it act like a <code>getter and setter</code> by using the annotation on it. See the example below </p>\n\n<pre><code>public class Testing {\n    private Integer id;\n    private String username;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getIdAndUsername() {\n        return id + \".\" + username; \n    }\n\n    public String concatenateIdAndUsername() {\n        return id + \".\" + username; \n    }\n}\n</code></pre>\n\n<p>When the above object is serialized, then response will contain </p>\n\n<ul>\n<li>username from <code>getUsername()</code> </li>\n<li>id from <code>getId()</code> </li>\n<li>idAndUsername from <code>getIdAndUsername</code>* </li>\n</ul>\n\n<p>Since the method <code>getIdAndUsername</code> starts with <code>get</code> then it's treated as normal getter hence, why you could annotate such with <code>@JsonIgnore</code>. </p>\n\n<p>If you have noticed the <code>concatenateIdAndUsername</code> is not returned and that's because it name does not start with <code>get</code> and if you wish the result of that method to be included in the response then you can use <code>@JsonProperty(\"...\")</code> and it would be treated as normal <code>getter/setter</code> as mentioned in the above highlighted documentation. </p>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730489,"favorite_count":0,"down_vote_count":0,"up_vote_count":286,"accepted_answer_id":12583772,"answer_count":9,"score":286,"last_activity_date":1701741566,"creation_date":1348578440,"question_id":12583638,"body_markdown":"This bean `State` :\r\n\r\n    public class State {\r\n    \t\r\n    \tprivate boolean isSet;\r\n    \r\n    \t@JsonProperty(&quot;isSet&quot;)\r\n    \tpublic boolean isSet() {\r\n    \t\treturn isSet;\r\n    \t}\r\n    \r\n    \t@JsonProperty(&quot;isSet&quot;)\r\n    \tpublic void setSet(boolean isSet) {\r\n    \t\tthis.isSet = isSet;\r\n    \t}\r\n    \r\n    }\r\n\r\nis sent over the wire using the ajax `success` callback : \r\n\r\n    success : function(response) {\t\r\n        if(response.State.isSet){\t\r\n            alert(&#39;success called successfully)\r\n        }\r\n    }\r\n\t\t\t\t\r\n\r\nIs the annotation `@JsonProperty` required here? What is the advantage of using it?\r\nI think I can remove this annotation without causing any side effects.\r\n\r\nReading about this [Jackson Annotations][1] I don&#39;t know when this is required to be used ?\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations","title":"When is the @JsonProperty property used and what is it used for?","body":"<p>This bean <code>State</code> :</p>\n<pre><code>public class State {\n    \n    private boolean isSet;\n\n    @JsonProperty(&quot;isSet&quot;)\n    public boolean isSet() {\n        return isSet;\n    }\n\n    @JsonProperty(&quot;isSet&quot;)\n    public void setSet(boolean isSet) {\n        this.isSet = isSet;\n    }\n\n}\n</code></pre>\n<p>is sent over the wire using the ajax <code>success</code> callback :</p>\n<pre><code>success : function(response) {  \n    if(response.State.isSet){   \n        alert('success called successfully)\n    }\n}\n            \n</code></pre>\n<p>Is the annotation <code>@JsonProperty</code> required here? What is the advantage of using it?\nI think I can remove this annotation without causing any side effects.</p>\n<p>Reading about this <a href=\"https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations\" rel=\"nofollow noreferrer\">Jackson Annotations</a> I don't know when this is required to be used ?</p>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1701627108,"post_id":77587934,"comment_id":136796600,"body_markdown":"You might look at overriding `refreshTicks*`.","body":"You might look at overriding <code>refreshTicks*</code>."}],"owner":{"account_id":20216674,"reputation":1,"user_id":17166363,"display_name":"McDonut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701741039,"creation_date":1701462596,"question_id":77587934,"body_markdown":"I&#39;m trying to create a plot using JFreeChart, and I&#39;m having trouble configuring the axes. My requirements for my axes:\r\n1. Set a fixed range: i.e. 0 to 1000\r\n2. Initialize the graph with ticks at every X units, i.e. let&#39;s say every 50 units.\r\n3. If the user increases the size, or zooms in, recompute and add new ticks (like the default auto tick unit selection functionality).\r\n4. No need to worry about decreasing chart size, the chart size minimum is the initial size.\r\n\r\nThe problem I&#39;m facing is that defining my own tick intervals with `NumberAxis.setTickUnit()` disables the auto tick unit selection, so scaling up the graph no longer adds new ticks. But if I don&#39;t manually set the ticks, it gives me a different tick unit order (i.e. every 100 units).\r\n\r\nHere&#39;s my code:\r\n```java\r\n// this doesn&#39;t scale up properly, won&#39;t add new tick marks\r\nNumberAxis xAxis = (NumberAxis) plot.getDomainAxis();\r\nxAxis.setRange(0, X);\r\nxAxis.setAutoRange(false);    // stop graph from resizing axis to data\r\nxAxis.setTickUnit(new NumberTickUnit(Y));    // disables auto tick unit selection\r\n```\r\nSo this gives a fixed range from 0 to X, with ticks at every Y units. No new ticks when I increase the size. How can I maintain the auto tick selection when I increase size?","title":"JFreeChart: set fixed range, fixed tick intervals, but keep auto tick selection for resizing","body":"<p>I'm trying to create a plot using JFreeChart, and I'm having trouble configuring the axes. My requirements for my axes:</p>\n<ol>\n<li>Set a fixed range: i.e. 0 to 1000</li>\n<li>Initialize the graph with ticks at every X units, i.e. let's say every 50 units.</li>\n<li>If the user increases the size, or zooms in, recompute and add new ticks (like the default auto tick unit selection functionality).</li>\n<li>No need to worry about decreasing chart size, the chart size minimum is the initial size.</li>\n</ol>\n<p>The problem I'm facing is that defining my own tick intervals with <code>NumberAxis.setTickUnit()</code> disables the auto tick unit selection, so scaling up the graph no longer adds new ticks. But if I don't manually set the ticks, it gives me a different tick unit order (i.e. every 100 units).</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this doesn't scale up properly, won't add new tick marks\nNumberAxis xAxis = (NumberAxis) plot.getDomainAxis();\nxAxis.setRange(0, X);\nxAxis.setAutoRange(false);    // stop graph from resizing axis to data\nxAxis.setTickUnit(new NumberTickUnit(Y));    // disables auto tick unit selection\n</code></pre>\n<p>So this gives a fixed range from 0 to X, with ticks at every Y units. No new ticks when I increase the size. How can I maintain the auto tick selection when I increase size?</p>\n"},{"tags":["java","eclipse","swt"],"answers":[{"tags":[],"owner":{"account_id":1236089,"reputation":818,"user_id":1199651,"accept_rate":62,"display_name":"npeder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1328795008,"creation_date":1328795008,"answer_id":9211940,"question_id":9211106,"body_markdown":"This might come in handy:\r\n&lt;!-- language: java --&gt;\r\n\r\n    Composite tableComposite = new Composite(parent, SWT.NONE);\r\n    TableViewer xslTable = new TableViewer(tableComposite, SWT.SINGLE | SWT.FULL_SELECTION | SWT.H_SCROLL | SWT.V_SCROLL);\r\n    xslTable.getTable().setLinesVisible(true);\r\n    xslTable.getTable().setHeaderVisible(true);\r\n    TableViewerColumn stylesheetColumn = new TableViewerColumn(xslTable, SWT.NONE);\r\n    stylesheetColumn.getColumn().setText(COLUMN_NAMES[0]);\r\n    stylesheetColumn.getColumn().setResizable(false);\r\n    TableViewerColumn conceptColumn = new TableViewerColumn(xslTable, SWT.NONE);\r\n    conceptColumn.getColumn().setText(COLUMN_NAMES[1]);\r\n    conceptColumn.getColumn().setResizable(false);\r\n    TableColumnLayout tableLayout = new TableColumnLayout();\r\n    tableComposite.setLayout(tableLayout);\r\n\r\n    layoutTableColumns();\r\n\r\nThe `layoutTableColumns` method\r\n\r\n      /**\r\n       * Resize table columns so the concept column is packed and the stylesheet column takes the rest of the space\r\n       */\r\n      private void layoutTableColumns()\r\n      {\r\n        // Resize the columns to fit the contents\r\n        conceptColumn.getColumn().pack();\r\n        stylesheetColumn.getColumn().pack();\r\n        // Use the packed widths as the minimum widths\r\n        int stylesheetWidth = stylesheetColumn.getColumn().getWidth();\r\n        int conceptWidth = conceptColumn.getColumn().getWidth();\r\n        // Set stylesheet column to fill 100% and concept column to fit 0%, but with their packed widths as minimums\r\n        tableLayout.setColumnData(stylesheetColumn.getColumn(), new ColumnWeightData(100, stylesheetWidth));\r\n        tableLayout.setColumnData(conceptColumn.getColumn(), new ColumnWeightData(0, conceptWidth));\r\n      }","title":"Resize the column of a table to fill all the available space","body":"<p>This might come in handy:\n</p>\n\n<pre><code>Composite tableComposite = new Composite(parent, SWT.NONE);\nTableViewer xslTable = new TableViewer(tableComposite, SWT.SINGLE | SWT.FULL_SELECTION | SWT.H_SCROLL | SWT.V_SCROLL);\nxslTable.getTable().setLinesVisible(true);\nxslTable.getTable().setHeaderVisible(true);\nTableViewerColumn stylesheetColumn = new TableViewerColumn(xslTable, SWT.NONE);\nstylesheetColumn.getColumn().setText(COLUMN_NAMES[0]);\nstylesheetColumn.getColumn().setResizable(false);\nTableViewerColumn conceptColumn = new TableViewerColumn(xslTable, SWT.NONE);\nconceptColumn.getColumn().setText(COLUMN_NAMES[1]);\nconceptColumn.getColumn().setResizable(false);\nTableColumnLayout tableLayout = new TableColumnLayout();\ntableComposite.setLayout(tableLayout);\n\nlayoutTableColumns();\n</code></pre>\n\n<p>The <code>layoutTableColumns</code> method</p>\n\n<pre><code>  /**\n   * Resize table columns so the concept column is packed and the stylesheet column takes the rest of the space\n   */\n  private void layoutTableColumns()\n  {\n    // Resize the columns to fit the contents\n    conceptColumn.getColumn().pack();\n    stylesheetColumn.getColumn().pack();\n    // Use the packed widths as the minimum widths\n    int stylesheetWidth = stylesheetColumn.getColumn().getWidth();\n    int conceptWidth = conceptColumn.getColumn().getWidth();\n    // Set stylesheet column to fill 100% and concept column to fit 0%, but with their packed widths as minimums\n    tableLayout.setColumnData(stylesheetColumn.getColumn(), new ColumnWeightData(100, stylesheetWidth));\n    tableLayout.setColumnData(conceptColumn.getColumn(), new ColumnWeightData(0, conceptWidth));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1584586,"reputation":21,"user_id":1469231,"display_name":"Demetra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519013161,"creation_date":1519013161,"answer_id":48859400,"question_id":9211106,"body_markdown":"This is what, I have tried and it is working fine.\r\n\r\n    viewer.getControl().addControlListener(new ControlListener() {\r\n            \r\n            @Override\r\n            public void controlResized(ControlEvent arg0) {\r\n                Rectangle rect = viewer.getTable().getClientArea();\r\n                if(rect.width&gt;0){\r\n                    int extraSpace=rect.width/4;\r\n                    col1.getColumn().setWidth(extraSpace);\r\n                    col2.getColumn().setWidth(extraSpace);\r\n                    col3.getColumn().setWidth(extraSpace);\r\n                    col4.getColumn().setWidth(extraSpace);\r\n                }\r\n            }\r\n            \r\n            @Override\r\n            public void controlMoved(ControlEvent arg0) {\r\n                // TODO Auto-generated method stub\r\n                \r\n            }\r\n        });","title":"Resize the column of a table to fill all the available space","body":"<p>This is what, I have tried and it is working fine.</p>\n\n<pre><code>viewer.getControl().addControlListener(new ControlListener() {\n\n        @Override\n        public void controlResized(ControlEvent arg0) {\n            Rectangle rect = viewer.getTable().getClientArea();\n            if(rect.width&gt;0){\n                int extraSpace=rect.width/4;\n                col1.getColumn().setWidth(extraSpace);\n                col2.getColumn().setWidth(extraSpace);\n                col3.getColumn().setWidth(extraSpace);\n                col4.getColumn().setWidth(extraSpace);\n            }\n        }\n\n        @Override\n        public void controlMoved(ControlEvent arg0) {\n            // TODO Auto-generated method stub\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6625798,"reputation":834,"user_id":5116073,"display_name":"Seb T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701741000,"creation_date":1629752875,"answer_id":68899025,"question_id":9211106,"body_markdown":"I solved it like this:\r\n\r\n```java\r\npublic static void makeLastColumnAutoExpand(Table table, int minWidth) {\r\n   var resizer = new ControlAdapter() {\r\n      @Override\r\n      public void controlResized(ControlEvent event) {\r\n         var columns = table.getColumns();\r\n         if (columns.length == 0)\r\n            return;\r\n\r\n         if (columns.length == 1) {\r\n            columns[0].setWidth(Math.max(minWidth, table.getClientArea().width));\r\n            return;\r\n         }\r\n\r\n         var totalWidthOfOtherColumns = 0;\r\n         for (var i = 0; i &lt; columns.length - 1; i++) {\r\n            totalWidthOfOtherColumns += columns[i].getWidth();\r\n         }\r\n\r\n         var newWidth = Math.max(minWidth, table.getClientArea().width - totalWidthOfOtherColumns);\r\n         columns[columns.length - 1].setWidth(newWidth);\r\n      }\r\n   };\r\n\r\n   table.addControlListener(resizer);\r\n   for (final var col : table.getColumns()) {\r\n      col.addControlListener(resizer);\r\n   }\r\n}\r\n```\r\n\r\n`setLastColumnAutoExpand` adds a `ControlListener` to the table and all it&#39;s columns. This ensures that all resize operations will trigger auto resizing of the last column.\r\n","title":"Resize the column of a table to fill all the available space","body":"<p>I solved it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void makeLastColumnAutoExpand(Table table, int minWidth) {\n   var resizer = new ControlAdapter() {\n      @Override\n      public void controlResized(ControlEvent event) {\n         var columns = table.getColumns();\n         if (columns.length == 0)\n            return;\n\n         if (columns.length == 1) {\n            columns[0].setWidth(Math.max(minWidth, table.getClientArea().width));\n            return;\n         }\n\n         var totalWidthOfOtherColumns = 0;\n         for (var i = 0; i &lt; columns.length - 1; i++) {\n            totalWidthOfOtherColumns += columns[i].getWidth();\n         }\n\n         var newWidth = Math.max(minWidth, table.getClientArea().width - totalWidthOfOtherColumns);\n         columns[columns.length - 1].setWidth(newWidth);\n      }\n   };\n\n   table.addControlListener(resizer);\n   for (final var col : table.getColumns()) {\n      col.addControlListener(resizer);\n   }\n}\n</code></pre>\n<p><code>setLastColumnAutoExpand</code> adds a <code>ControlListener</code> to the table and all it's columns. This ensures that all resize operations will trigger auto resizing of the last column.</p>\n"}],"owner":{"account_id":354229,"reputation":393,"user_id":692446,"accept_rate":83,"display_name":"Mircea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18558,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1701741000,"creation_date":1328791654,"question_id":9211106,"body_markdown":"I have this table in Eclipse SWT, with 5 columns. I resize the window and together with that the whole table but the columns don&#39;t get resized to fill all the available space.\r\n\r\nIs there a layout method I can use in order to make a column resize itself to fill all the available space? I found some code that makes the columns resize when the client space has been resized but that seems like a small hack to me. \r\n\r\nThere surely must be a decent elegant way of doing this by using the layout itself. ","title":"Resize the column of a table to fill all the available space","body":"<p>I have this table in Eclipse SWT, with 5 columns. I resize the window and together with that the whole table but the columns don't get resized to fill all the available space.</p>\n\n<p>Is there a layout method I can use in order to make a column resize itself to fill all the available space? I found some code that makes the columns resize when the client space has been resized but that seems like a small hack to me. </p>\n\n<p>There surely must be a decent elegant way of doing this by using the layout itself. </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10396927,"reputation":68257,"user_id":7666442,"display_name":"AskNilesh"},"score":4,"creation_date":1517555895,"post_id":48577562,"comment_id":84151339,"body_markdown":"share your code with question","body":"share your code with question"},{"owner":{"account_id":3156818,"reputation":839,"user_id":2669044,"accept_rate":38,"display_name":"Mauricio"},"score":1,"creation_date":1517556066,"post_id":48577562,"comment_id":84151397,"body_markdown":"That&#39;s the thing I have no idea what code to share since I don&#39;t know what caused it. The error was reported to me by Crashlytics. @NileshRathod","body":"That&#39;s the thing I have no idea what code to share since I don&#39;t know what caused it. The error was reported to me by Crashlytics. @NileshRathod"},{"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"score":3,"creation_date":1517556079,"post_id":48577562,"comment_id":84151401,"body_markdown":"you have 34 letters in your String but you are passing more than 34 in your code, check your where you have added the SpannableString and check the String length and change code accordingly","body":"you have 34 letters in your String but you are passing more than 34 in your code, check your where you have added the SpannableString and check the String length and change code accordingly"},{"owner":{"account_id":8510724,"reputation":742,"user_id":6380853,"display_name":"Arti"},"score":0,"creation_date":1517556312,"post_id":48577562,"comment_id":84151492,"body_markdown":"Please share your code than I can analyze and might be help you","body":"Please share your code than I can analyze and might be help you"},{"owner":{"account_id":10396927,"reputation":68257,"user_id":7666442,"display_name":"AskNilesh"},"score":1,"creation_date":1517556768,"post_id":48577562,"comment_id":84151698,"body_markdown":"@RakshitNawani yup you are right","body":"@RakshitNawani yup you are right"},{"owner":{"account_id":10396927,"reputation":68257,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1517556874,"post_id":48577562,"comment_id":84151766,"body_markdown":"@Mauricio check the code where you are using SpannableStringBuilder","body":"@Mauricio check the code where you are using SpannableStringBuilder"},{"owner":{"account_id":5617891,"reputation":4182,"user_id":4448617,"display_name":"Ratilal Chopda"},"score":1,"creation_date":1517557020,"post_id":48577562,"comment_id":84151836,"body_markdown":"@Mauricio without snippet of code other people only guess.","body":"@Mauricio without snippet of code other people only guess."},{"owner":{"account_id":10396927,"reputation":68257,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1517557057,"post_id":48577562,"comment_id":84151855,"body_markdown":"ha @RatilalChopda ha","body":"ha @RatilalChopda ha"},{"owner":{"account_id":3280906,"reputation":917,"user_id":2761541,"display_name":"Anigif"},"score":0,"creation_date":1542034122,"post_id":48577562,"comment_id":93413308,"body_markdown":"Did you find a solution to this? I have a similar crash where the stacktrace also contains `SuggestionsPopupWindow.show(...)` and `SuggestionsPopupWindow.updateSuggestions(...)` (which is a contrary to the issue you referenced). In my case it happend to one user two times - the user has a Galaxy S6 Edge (Android 7.0.0). I don&#39;t have a `SpannableString` (or alike) in my project, but I guess it&#39;s used as part of e.g. TextView or Webview (which I do use)?","body":"Did you find a solution to this? I have a similar crash where the stacktrace also contains <code>SuggestionsPopupWindow.show(...)</code> and <code>SuggestionsPopupWindow.updateSuggestions(...)</code> (which is a contrary to the issue you referenced). In my case it happend to one user two times - the user has a Galaxy S6 Edge (Android 7.0.0). I don&#39;t have a <code>SpannableString</code> (or alike) in my project, but I guess it&#39;s used as part of e.g. TextView or Webview (which I do use)?"}],"answers":[{"tags":[],"owner":{"account_id":8020763,"reputation":257,"user_id":6049499,"display_name":"Sylvester Yao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625036837,"creation_date":1625036837,"answer_id":68189941,"question_id":48577562,"body_markdown":"The error is not caused by your code. See the stack: `at android.widget.Editor$SuggestionsPopupWindow.updateSuggestions(Editor.java:3980)` that occurred when long-clicking the text to show the PopWindow. So it&#39;s a framework error, not yours.\r\n\r\nThis answer is better: https://stackoverflow.com/questions/53749080/edittext-crashing-on-clearing-text\r\n\r\n&gt; Problem is &quot;updateSuggestions&quot; try to setSpan after you change text in EditText. So you need make text change after editor modify EditText. Just put your code in view.post\r\n\r\n```\r\nmEditText.post {\r\n   mEditText.setText(&quot;your text&quot;)\r\n}\r\n```","title":"IndexOutOfBoundsException setSpan (34 ... 48) ends beyond length 34","body":"<p>The error is not caused by your code. See the stack: <code>at android.widget.Editor$SuggestionsPopupWindow.updateSuggestions(Editor.java:3980)</code> that occurred when long-clicking the text to show the PopWindow. So it's a framework error, not yours.</p>\n<p>This answer is better: <a href=\"https://stackoverflow.com/questions/53749080/edittext-crashing-on-clearing-text\">EditText crashing on clearing text</a></p>\n<blockquote>\n<p>Problem is &quot;updateSuggestions&quot; try to setSpan after you change text in EditText. So you need make text change after editor modify EditText. Just put your code in view.post</p>\n</blockquote>\n<pre><code>mEditText.post {\n   mEditText.setText(&quot;your text&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33911,"reputation":43296,"user_id":95313,"accept_rate":75,"display_name":"Fedor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701740951,"creation_date":1701147527,"answer_id":77561443,"question_id":48577562,"body_markdown":"I am able to reproduce this crash with exactly the same stacktrace on my device. Can confirm it&#39;s really a framework issue and doesn&#39;t depend on your code. I can reproduce it in any app on my device including system apps like Messages, etc.\r\n\r\nSo what can we do:\r\n1. Ignore it. Rare case actually, hard to reproduce, not much users should be affected. Apparently google thinks the same. Because in my crash reports I can see this issue on Android 8,9,10,11,12,13 and even the latest 14. Still not fixed.\r\n2. Disable dictionary-based word suggestions with inputType=&quot;textNoSuggestions&quot;. It fixes the problem. But users would not be happy with this solution.\r\n3. Wait for a fix from Google. Here&#39;s a ticket https://issuetracker.google.com/issues/314288203. There&#39;s upvote button if you&#39;re concerned about this crash.","title":"IndexOutOfBoundsException setSpan (34 ... 48) ends beyond length 34","body":"<p>I am able to reproduce this crash with exactly the same stacktrace on my device. Can confirm it's really a framework issue and doesn't depend on your code. I can reproduce it in any app on my device including system apps like Messages, etc.</p>\n<p>So what can we do:</p>\n<ol>\n<li>Ignore it. Rare case actually, hard to reproduce, not much users should be affected. Apparently google thinks the same. Because in my crash reports I can see this issue on Android 8,9,10,11,12,13 and even the latest 14. Still not fixed.</li>\n<li>Disable dictionary-based word suggestions with inputType=&quot;textNoSuggestions&quot;. It fixes the problem. But users would not be happy with this solution.</li>\n<li>Wait for a fix from Google. Here's a ticket <a href=\"https://issuetracker.google.com/issues/314288203\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/314288203</a>. There's upvote button if you're concerned about this crash.</li>\n</ol>\n"}],"owner":{"account_id":3156818,"reputation":839,"user_id":2669044,"accept_rate":38,"display_name":"Mauricio"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3780,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1701740951,"creation_date":1517555849,"question_id":48577562,"body_markdown":"I have a crash report indicating an `IndexOutOfBoundsException` but I have no idea what caused it since there isn&#39;t anything from my code in the stack. This is the stack: \r\n\r\n    Fatal Exception: java.lang.IndexOutOfBoundsException: setSpan (34 ... 48) ends beyond length 34\r\n           at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1265)\r\n           at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:684)\r\n           at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:677)\r\n           at android.widget.Editor$SuggestionsPopupWindow.updateSuggestions(Editor.java:3980)\r\n           at android.widget.Editor$SuggestionsPopupWindow.show(Editor.java:3833)\r\n           at android.widget.Editor.replace(Editor.java:435)\r\n           at android.widget.Editor$3.run(Editor.java:2359)\r\n           at android.os.Handler.handleCallback(Handler.java:751)\r\n           at android.os.Handler.dispatchMessage(Handler.java:95)\r\n           at android.os.Looper.loop(Looper.java:154)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\r\n\r\nThe only thing I&#39;ve found similar to my problem is [this][1] but the guy wasn&#39;t able to solve it.\r\n\r\nHow can I know what caused it so I can look for a solution?\r\n\r\n**EDIT**\r\n\r\nOk so I found in multiple parts of my large code this function being used:\r\n\r\n    public static Spannable spannabletext(String message, int start, int end, String font_family, Typeface font) {\r\n\r\n        Spannable spannable = new SpannableString(Html.fromHtml(message));\r\n        spannable.setSpan(new CustomTypefaceSpan(font_family, font),\r\n                start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\r\n\r\n        return spannable;\r\n\r\n    }\r\n\r\nSo I&#39;m guessing at some point this is where the problem comes from. But since I don&#39;t want to spend hours and hours trying to guess which text and in what language (my app is in 8 different languages) was this crash generated I&#39;m going to wait till it happens again but this time I added some `Crashlytics` lines so I can get more info from the crash report. So my `spannabletext` function is like this now:\r\n\r\n    public static Spannable spannabletext(String message, int start, int end, String font_family, Typeface font, Activity activity) {\r\n\r\n        Crashlytics.setString(&quot;activity&quot;, activity.getLocalClassName());\r\n        Crashlytics.setString(&quot;message&quot;, message);\r\n        Crashlytics.setInt(&quot;start&quot;, start);\r\n        Crashlytics.setInt(&quot;end&quot;, end);\r\n\r\n        Spannable spannable = new SpannableString(Html.fromHtml(message));\r\n        spannable.setSpan(new CustomTypefaceSpan(font_family, font),\r\n                start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\r\n\r\n        return spannable;\r\n\r\n    }\r\n\r\nI&#39;ll keep you posted..\r\n\r\n  [1]: https://stackoverflow.com/questions/26948302/indexoutofboundsexception-for-setspan-outside-my-application-code","title":"IndexOutOfBoundsException setSpan (34 ... 48) ends beyond length 34","body":"<p>I have a crash report indicating an <code>IndexOutOfBoundsException</code> but I have no idea what caused it since there isn't anything from my code in the stack. This is the stack: </p>\n\n<pre><code>Fatal Exception: java.lang.IndexOutOfBoundsException: setSpan (34 ... 48) ends beyond length 34\n       at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1265)\n       at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:684)\n       at android.text.SpannableStringBuilder.setSpan(SpannableStringBuilder.java:677)\n       at android.widget.Editor$SuggestionsPopupWindow.updateSuggestions(Editor.java:3980)\n       at android.widget.Editor$SuggestionsPopupWindow.show(Editor.java:3833)\n       at android.widget.Editor.replace(Editor.java:435)\n       at android.widget.Editor$3.run(Editor.java:2359)\n       at android.os.Handler.handleCallback(Handler.java:751)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:154)\n       at android.app.ActivityThread.main(ActivityThread.java:6776)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\n</code></pre>\n\n<p>The only thing I've found similar to my problem is <a href=\"https://stackoverflow.com/questions/26948302/indexoutofboundsexception-for-setspan-outside-my-application-code\">this</a> but the guy wasn't able to solve it.</p>\n\n<p>How can I know what caused it so I can look for a solution?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Ok so I found in multiple parts of my large code this function being used:</p>\n\n<pre><code>public static Spannable spannabletext(String message, int start, int end, String font_family, Typeface font) {\n\n    Spannable spannable = new SpannableString(Html.fromHtml(message));\n    spannable.setSpan(new CustomTypefaceSpan(font_family, font),\n            start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\n\n    return spannable;\n\n}\n</code></pre>\n\n<p>So I'm guessing at some point this is where the problem comes from. But since I don't want to spend hours and hours trying to guess which text and in what language (my app is in 8 different languages) was this crash generated I'm going to wait till it happens again but this time I added some <code>Crashlytics</code> lines so I can get more info from the crash report. So my <code>spannabletext</code> function is like this now:</p>\n\n<pre><code>public static Spannable spannabletext(String message, int start, int end, String font_family, Typeface font, Activity activity) {\n\n    Crashlytics.setString(\"activity\", activity.getLocalClassName());\n    Crashlytics.setString(\"message\", message);\n    Crashlytics.setInt(\"start\", start);\n    Crashlytics.setInt(\"end\", end);\n\n    Spannable spannable = new SpannableString(Html.fromHtml(message));\n    spannable.setSpan(new CustomTypefaceSpan(font_family, font),\n            start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE);\n\n    return spannable;\n\n}\n</code></pre>\n\n<p>I'll keep you posted..</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"score":0,"creation_date":1585646025,"post_id":60936643,"comment_id":107826985,"body_markdown":"@MarkRotteveel  I hope that you find it better now. Please, provided any feedback as you seem to have experience with java jdbc drivers","body":"@MarkRotteveel  I hope that you find it better now. Please, provided any feedback as you seem to have experience with java jdbc drivers"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1585648340,"post_id":60936643,"comment_id":107828172,"body_markdown":"It looks better now. My experience with the MySQL Connector/J driver is limited, but looking at [MySQL Connector/J documentation, Configuration Properties](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html), I&#39;d suggest trying the connection property `connectionAttributes` or maybe `sessionVariables` (although I&#39;m not sure if that is actually related to how MySQL Connector/J handles client info!)","body":"It looks better now. My experience with the MySQL Connector/J driver is limited, but looking at <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"nofollow noreferrer\">MySQL Connector/J documentation, Configuration Properties</a>, I&#39;d suggest trying the connection property <code>connectionAttributes</code> or maybe <code>sessionVariables</code> (although I&#39;m not sure if that is actually related to how MySQL Connector/J handles client info!)"},{"owner":{"account_id":17330027,"reputation":91,"user_id":12553373,"display_name":"Nafiseh Daneshian"},"score":0,"creation_date":1586420208,"post_id":60936643,"comment_id":108122538,"body_markdown":"Maybe if you use another sql or javadb which is availabe in compilers of java can be better :)","body":"Maybe if you use another sql or javadb which is availabe in compilers of java can be better :)"}],"answers":[{"tags":[],"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585926802,"creation_date":1585926802,"answer_id":61014951,"question_id":60936643,"body_markdown":"I think you can use AspectJ as a possible solution for it. You can create an aspect which will intercept calls of the `DataSource.getConnection` method and then call the `setClientInfo` method with configured parameters when the connection is established.","title":"How to set the jdbc ClientInfo in a MySQL DataSource","body":"<p>I think you can use AspectJ as a possible solution for it. You can create an aspect which will intercept calls of the <code>DataSource.getConnection</code> method and then call the <code>setClientInfo</code> method with configured parameters when the connection is established.</p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701740749,"creation_date":1696442491,"answer_id":77231983,"question_id":60936643,"body_markdown":"Following [Ilya Lysenko&#39;s answer][1], I have used this aspect in my Spring Boot application, this aspect get invoked every time when database connection is returned from `getConnection` method, then using this aspect I am setting `client info` in connection object.\r\n\r\n```\r\n@Component\r\n@Aspect\r\n@Slf4j\r\npublic class ConnectionAspect {\r\n    \r\n    public ConnectionAspect() {\r\n    }\r\n\r\n    @AfterReturning(\r\n        pointcut = &quot;execution(* *..*getConnection(..))&quot;,\r\n        returning = &quot;connection&quot;\r\n    )\r\n    public void afterReturningConnection(JoinPoint joinPoint, Connection connection) throws SQLClientInfoException {\r\n        LOGGER.debug(&quot;Connection Aspect triggered.&quot;);\r\n            connection.setClientInfo(&quot;OCSID.CLIENTID&quot;, &quot;JAY&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n[1]: https://stackoverflow.com/a/61014951","title":"How to set the jdbc ClientInfo in a MySQL DataSource","body":"<p>Following <a href=\"https://stackoverflow.com/a/61014951\">Ilya Lysenko's answer</a>, I have used this aspect in my Spring Boot application, this aspect get invoked every time when database connection is returned from <code>getConnection</code> method, then using this aspect I am setting <code>client info</code> in connection object.</p>\n<pre><code>@Component\n@Aspect\n@Slf4j\npublic class ConnectionAspect {\n    \n    public ConnectionAspect() {\n    }\n\n    @AfterReturning(\n        pointcut = &quot;execution(* *..*getConnection(..))&quot;,\n        returning = &quot;connection&quot;\n    )\n    public void afterReturningConnection(JoinPoint joinPoint, Connection connection) throws SQLClientInfoException {\n        LOGGER.debug(&quot;Connection Aspect triggered.&quot;);\n            connection.setClientInfo(&quot;OCSID.CLIENTID&quot;, &quot;JAY&quot;);\n        }\n\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61014951,"answer_count":2,"score":3,"last_activity_date":1701740749,"creation_date":1585591240,"question_id":60936643,"body_markdown":"In Java with MySQL we want to add the jdbc ClientInfo to identify the source of each query. Currently we can do something like:\r\n\r\n\t\ttry(Connection connection = dataSource.getConnection()){\r\n\t\t\tconnection.setClientInfo(&quot;ApplicationName&quot;, &quot;MyApp&quot;);\r\n\t\t}\r\n\r\nBut I need to add it to every connection created and means checking all the source code for places where a new connection is created. I will like to set it to the DataSource level. \r\n\r\nSo far what works for me is to extends the DataSource with a custom overriden getConnection method that calls setClientInfo. This is not only a dirty workarround but datasource specific. \r\n\r\nI have seen that mysql driver has [ClientInfoProviders][1] like the default [com.mysql.cj.jdbc.CommentClientInfoProvider][2]. A custom ClientInfoProvider can be configured like: \r\n\r\n    \tProperties properties = new Properties();\r\n\t    properties.setProperty(PropertyKey.clientInfoProvider.getKeyName(), &quot;foo.bar.CustomClientInfoProvider&quot;);\r\n\t\tproperties.setProperty(APPLICATION_NAME, &quot;MyApp&quot;);\r\n\r\n\t\tHikariConfig dataSourceConfig = new HikariConfig();\r\n\t\tdataSourceConfig.setDataSourceProperties(properties);\r\n        ...\r\n\r\nBut it is only called if someone calls the getClientInfo in the connection anyway. \r\n\r\nSo I will like to know:\r\n\r\n - Is there support in the MySql driver to set the clientInfo in the DataSource just by setting properties?\r\n - If there is a way. How can it be done?\r\n\r\n\r\n  [1]: https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-api/java/com/mysql/cj/jdbc/ClientInfoProvider.java\r\n  [2]: https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/CommentClientInfoProvider.java","title":"How to set the jdbc ClientInfo in a MySQL DataSource","body":"<p>In Java with MySQL we want to add the jdbc ClientInfo to identify the source of each query. Currently we can do something like:</p>\n\n<pre><code>    try(Connection connection = dataSource.getConnection()){\n        connection.setClientInfo(\"ApplicationName\", \"MyApp\");\n    }\n</code></pre>\n\n<p>But I need to add it to every connection created and means checking all the source code for places where a new connection is created. I will like to set it to the DataSource level. </p>\n\n<p>So far what works for me is to extends the DataSource with a custom overriden getConnection method that calls setClientInfo. This is not only a dirty workarround but datasource specific. </p>\n\n<p>I have seen that mysql driver has <a href=\"https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-api/java/com/mysql/cj/jdbc/ClientInfoProvider.java\" rel=\"nofollow noreferrer\">ClientInfoProviders</a> like the default <a href=\"https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/CommentClientInfoProvider.java\" rel=\"nofollow noreferrer\">com.mysql.cj.jdbc.CommentClientInfoProvider</a>. A custom ClientInfoProvider can be configured like: </p>\n\n<pre><code>    Properties properties = new Properties();\n    properties.setProperty(PropertyKey.clientInfoProvider.getKeyName(), \"foo.bar.CustomClientInfoProvider\");\n    properties.setProperty(APPLICATION_NAME, \"MyApp\");\n\n    HikariConfig dataSourceConfig = new HikariConfig();\n    dataSourceConfig.setDataSourceProperties(properties);\n    ...\n</code></pre>\n\n<p>But it is only called if someone calls the getClientInfo in the connection anyway. </p>\n\n<p>So I will like to know:</p>\n\n<ul>\n<li>Is there support in the MySql driver to set the clientInfo in the DataSource just by setting properties?</li>\n<li>If there is a way. How can it be done?</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc"],"owner":{"account_id":27850385,"reputation":1,"user_id":21265009,"display_name":"会跑的麻雀"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701740284,"creation_date":1701612852,"question_id":77594652,"body_markdown":"I was using, the springmvc write demo, which USES pure annotations development, achieved AbstractDispatcherServletInitializer class was used to configure the spring container loading and was relieved from the web. The XML configuration file, I can start using tomcat server, but not using maven to integrate tomcat to start.\r\n\r\nThis is my pom.xml configuration information:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.13&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;port&gt;80&lt;/port&gt;\r\n        &lt;path&gt;/&lt;/path&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nAfter the bean is accessed, an error is reported. Here is the stack information:\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ----------------&lt; com.itxitao:springmvc_01_quickstart &gt;-----------------\r\n[INFO] Building springmvc_01_quickstart 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ war ]---------------------------------\r\n[INFO]\r\n[INFO] &gt;&gt;&gt; tomcat7-maven-plugin:2.2:run (default-cli) &gt;process-classes @ springmvc_01_quickstart &gt;&gt;&gt;\r\n[INFO]\r\n[INFO] -- maven-resources-plugin:2.6:resources (default-resources) @springmvc_01_quickstart --\r\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] Copying 0 resource\r\n[INFO]\r\n[INFO] -- maven-compiler-plugin:3.1:compile (default-compile) @springmvc_01_quickstart --\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO]\r\n[INFO] &lt;&lt;&lt; tomcat7-maven-plugin:2.2:run (default-cli) &lt;process-classes @ springmvc_01_quickstart &lt;&lt;&amp;lt;\r\n[INFO]\r\n[INFO]\r\n[INFO] -- tomcat7-maven-plugin:2.2:run (default-cli) @springmvc_01_quickstart --\r\n[INFO] Running war on http://localhost:80/\r\n[INFO] Using existing Tomcat server configuration at D:\\IdeaProject\\springmvc\\springmvc_01_quickstart\\target\\tomcat\r\n[INFO] create webapp with contextPath:\r\nOn December 3, 2023 9:59:49 afternoon org. Apache. Coyote. AbstractProtocol init\r\nMessage: Initializing ProtocolHandler [&quot;http-bio-80&quot;]\r\nOn December 3, 2023 9:59:49 afternoon org. Apache. Catalina. Core. StandardService startInternal\r\nInformation: Starting service Tomcat\r\nOn December 3, 2023 9:59:49 afternoon org. Apache. Catalina. Core. StandardEngine startInternal\r\nInformation: Starting Servlet Engine: Apache Tomcat/7.0.47\r\nOn December 3, 2023 9:59:50 afternoon org. Apache. Catalina. Core. The ApplicationContext log\r\nInformation: 1 Spring WebApplicationInitializers detected on the classpath\r\nOn December 3, 2023 9:59:50 afternoon org. Apache. Catalina. Core. The ApplicationContext log\r\nOn December 3, 2023 9:59:50 afternoon org. Apache. Catalina. Core. The ApplicationContext log\r\nInformation: Initializing Spring DispatcherServlet &#39;dispatcher&#39;\r\n[INFO] Initializing Servlet &#39;dispatcher&#39;\r\n[INFO] Completed initialization in 421 ms\r\nOn December 3, 2023 9:59:51 afternoon org. Apache. Coyote. AbstractProtocol start\r\nMessage: Starting ProtocolHandler [&quot;http-bio-80&quot;]\r\nuser save ..\r\nOn December 3, 2023 10:00:35 afternoon org. Apache. Catalina. Core. StandardWrapperValve invoke\r\nSerious: Servlet.service() for servlet [dispatcher] in context with path [] threw exception [Handler dispatch failed;  nested exception is java.lang.NoSuchMethodError:  &#39;void javax.servlet.http.HttpServletResponse.setContentLengthLong(long)&#39;] with root cause\r\njava.lang.NoSuchMethodError: &#39;void javax.servlet.http.HttpServletResponse.setContentLengthLong(long)&#39;\r\nat org.springframework.http.server.ServletServerHttpResponse.writeHeaders(ServletServerHttpResponse.java:130)\r\nat org.springframework.http.server.ServletServerHttpResponse.getBody(ServletServerHttpResponse.java:96)\r\nat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:126)\r\nat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:44)\r\nat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)\r\nat  org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters (AbstractMessageConverterMethodProcessor.java:293)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleRe\r\n```\r\n\r\nI hope that I can integrate tomcat with Maven to run the project, so that the domain name can be short and fast.","title":"An error about Maven integrating tomcat running","body":"<p>I was using, the springmvc write demo, which USES pure annotations development, achieved AbstractDispatcherServletInitializer class was used to configure the spring container loading and was relieved from the web. The XML configuration file, I can start using tomcat server, but not using maven to integrate tomcat to start.</p>\n<p>This is my pom.xml configuration information:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;5.3.13&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;port&gt;80&lt;/port&gt;\n        &lt;path&gt;/&lt;/path&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>After the bean is accessed, an error is reported. Here is the stack information:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ----------------&lt; com.itxitao:springmvc_01_quickstart &gt;-----------------\n[INFO] Building springmvc_01_quickstart 1.0-SNAPSHOT\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; tomcat7-maven-plugin:2.2:run (default-cli) &gt;process-classes @ springmvc_01_quickstart &gt;&gt;&gt;\n[INFO]\n[INFO] -- maven-resources-plugin:2.6:resources (default-resources) @springmvc_01_quickstart --\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 0 resource\n[INFO]\n[INFO] -- maven-compiler-plugin:3.1:compile (default-compile) @springmvc_01_quickstart --\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] &lt;&lt;&lt; tomcat7-maven-plugin:2.2:run (default-cli) &lt;process-classes @ springmvc_01_quickstart &lt;&lt;&amp;lt;\n[INFO]\n[INFO]\n[INFO] -- tomcat7-maven-plugin:2.2:run (default-cli) @springmvc_01_quickstart --\n[INFO] Running war on http://localhost:80/\n[INFO] Using existing Tomcat server configuration at D:\\IdeaProject\\springmvc\\springmvc_01_quickstart\\target\\tomcat\n[INFO] create webapp with contextPath:\nOn December 3, 2023 9:59:49 afternoon org. Apache. Coyote. AbstractProtocol init\nMessage: Initializing ProtocolHandler [&quot;http-bio-80&quot;]\nOn December 3, 2023 9:59:49 afternoon org. Apache. Catalina. Core. StandardService startInternal\nInformation: Starting service Tomcat\nOn December 3, 2023 9:59:49 afternoon org. Apache. Catalina. Core. StandardEngine startInternal\nInformation: Starting Servlet Engine: Apache Tomcat/7.0.47\nOn December 3, 2023 9:59:50 afternoon org. Apache. Catalina. Core. The ApplicationContext log\nInformation: 1 Spring WebApplicationInitializers detected on the classpath\nOn December 3, 2023 9:59:50 afternoon org. Apache. Catalina. Core. The ApplicationContext log\nOn December 3, 2023 9:59:50 afternoon org. Apache. Catalina. Core. The ApplicationContext log\nInformation: Initializing Spring DispatcherServlet 'dispatcher'\n[INFO] Initializing Servlet 'dispatcher'\n[INFO] Completed initialization in 421 ms\nOn December 3, 2023 9:59:51 afternoon org. Apache. Coyote. AbstractProtocol start\nMessage: Starting ProtocolHandler [&quot;http-bio-80&quot;]\nuser save ..\nOn December 3, 2023 10:00:35 afternoon org. Apache. Catalina. Core. StandardWrapperValve invoke\nSerious: Servlet.service() for servlet [dispatcher] in context with path [] threw exception [Handler dispatch failed;  nested exception is java.lang.NoSuchMethodError:  'void javax.servlet.http.HttpServletResponse.setContentLengthLong(long)'] with root cause\njava.lang.NoSuchMethodError: 'void javax.servlet.http.HttpServletResponse.setContentLengthLong(long)'\nat org.springframework.http.server.ServletServerHttpResponse.writeHeaders(ServletServerHttpResponse.java:130)\nat org.springframework.http.server.ServletServerHttpResponse.getBody(ServletServerHttpResponse.java:96)\nat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:126)\nat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:44)\nat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:227)\nat  org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters (AbstractMessageConverterMethodProcessor.java:293)\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleRe\n</code></pre>\n<p>I hope that I can integrate tomcat with Maven to run the project, so that the domain name can be short and fast.</p>\n"},{"tags":["java","schemacrawler"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701748522,"post_id":77603281,"comment_id":136811277,"body_markdown":"Look at the error output, as it tells you that you have missing command-line options. Aside from that: this is off-topic, as it&#39;s not a programming question (and really nothing to do with Java, aside from the need to install a Java runtime)","body":"Look at the error output, as it tells you that you have missing command-line options. Aside from that: this is off-topic, as it&#39;s not a programming question (and really nothing to do with Java, aside from the need to install a Java runtime)"}],"owner":{"account_id":1948783,"reputation":123,"user_id":1753352,"accept_rate":0,"display_name":"user1753352"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701748412,"answer_count":0,"score":-1,"last_activity_date":1701739023,"creation_date":1701737018,"question_id":77603281,"body_markdown":"Trying to run Schemacrawler on Windows Server 2019.  Downloaded Schemacrawler.  Installed Java.\r\nWhen I run the schemacrawler.bat file I get errors. \r\n\r\nHere is the content of the .bat file\r\n\r\n    @java &quot;-Djava.library.path=%~dp0/../lib/&quot; -classpath &quot;%~dp0/../lib/*&quot;;&quot;%~dp0/../config&quot;;. schemacrawler.Main %*\r\n\r\nHere is the error output\r\n\r\n```\r\nC:\\Installs\\SchemaCrawler\\schemacrawler-16.20.6-bin\\bin&gt;schemacrawler.bat\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nSchemaCrawler 16.20.6\r\n\r\nError: Missing required options: &#39;--command=&lt;command&gt;&#39;, &#39;--info-level=&lt;infolevel&gt;&#39;\r\n\r\nRun SchemaCrawler again with just the\r\n-h\r\noption for help\r\n\r\nOr, run SchemaCrawler again with an additional\r\n--log-level=CONFIG\r\noption for details on the error\r\n\r\nAdditional resources are on the SchemaCrawler website,\r\nhttps://www.schemacrawler.com\r\nand a live, interactive tutorial is on\r\nhttps://killercoda.com/schemacrawler\r\n\r\n\r\nEnvironment:\r\n  SchemaCrawler 16.20.6\r\n  Windows Server 2019 10.0\r\n  Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 1.8.0_391-b13\r\n```\r\nWhat is off here?\r\n\r\n","title":"How to run Schemacrawler","body":"<p>Trying to run Schemacrawler on Windows Server 2019.  Downloaded Schemacrawler.  Installed Java.\nWhen I run the schemacrawler.bat file I get errors.</p>\n<p>Here is the content of the .bat file</p>\n<pre><code>@java &quot;-Djava.library.path=%~dp0/../lib/&quot; -classpath &quot;%~dp0/../lib/*&quot;;&quot;%~dp0/../config&quot;;. schemacrawler.Main %*\n</code></pre>\n<p>Here is the error output</p>\n<pre><code>C:\\Installs\\SchemaCrawler\\schemacrawler-16.20.6-bin\\bin&gt;schemacrawler.bat\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nSchemaCrawler 16.20.6\n\nError: Missing required options: '--command=&lt;command&gt;', '--info-level=&lt;infolevel&gt;'\n\nRun SchemaCrawler again with just the\n-h\noption for help\n\nOr, run SchemaCrawler again with an additional\n--log-level=CONFIG\noption for details on the error\n\nAdditional resources are on the SchemaCrawler website,\nhttps://www.schemacrawler.com\nand a live, interactive tutorial is on\nhttps://killercoda.com/schemacrawler\n\n\nEnvironment:\n  SchemaCrawler 16.20.6\n  Windows Server 2019 10.0\n  Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 1.8.0_391-b13\n</code></pre>\n<p>What is off here?</p>\n"},{"tags":["java","methods","interface","linked-list"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701738899,"post_id":77603268,"comment_id":136810564,"body_markdown":"Welcome to Stack Overflow.\nSorry, but this site is not a discussion forum or programming tutorial site.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively. \nAlso read \n[Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157) \nand\n[Open letter to students with homework problems](http://meta.softwareengineering.stackexchange.com/q/6166/18157)","body":"Welcome to Stack Overflow. Sorry, but this site is not a discussion forum or programming tutorial site. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Also read  <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>  and <a href=\"http://meta.softwareengineering.stackexchange.com/q/6166/18157\">Open letter to students with homework problems</a>"}],"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701738963,"creation_date":1701736766,"question_id":77603268,"body_markdown":"I&#39;m trying to implement methods for Chapter 24 Programming Project called Exercise24_01 and I&#39;m trying to make it work.\r\n\r\nThe code below is the code I have so far:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    import java.util.*;\r\n\r\n    public class Exercise24_01A {\r\n      public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        String[] name1 = new String[5];\r\n        String[] name2 = new String[5];\r\n        String[] name3 = new String[2];\r\n        System.out.print(&quot;Enter five strings for array name1 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          name1[i] = input.next();\r\n        }\r\n        \r\n        System.out.print(&quot;Enter five strings for array name2 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          name2[i] = input.next();\r\n        }\r\n\r\n        System.out.print(&quot;Enter two strings for array name3 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 2; i++) {\r\n          name3[i] = input.next();\r\n        }\r\n        \r\n        MyList&lt;String&gt; list1 = new MyArrayList&lt;&gt;(name1);   \r\n        MyList&lt;String&gt; list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.addAll(list2);\r\n        System.out.println(&quot;After addAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.removeAll(list2);\r\n        System.out.println(&quot;After removeAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.retainAll(list2);\r\n        System.out.println(&quot;After retainAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.retainAll(list2);\r\n        System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name3);\r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\r\n        \r\n        Object[] name4 = list1.toArray();\r\n        System.out.print(&quot;name4: &quot;);\r\n        for (Object e: name4) {\r\n          System.out.print(e + &quot; &quot;);\r\n        }\r\n        \r\n        String[] name5 = new String[list1.size()];\r\n        String[] name6 = list1.toArray(name5);\r\n        System.out.print(&quot;\\nname6: &quot;);\r\n        for (Object e: name6) {\r\n          System.out.print(e + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n    class MyArrayList&lt;E&gt; implements MyList&lt;E&gt; {\r\n        public static final int INITIAL_CAPACITY = 16;\r\n        private E[] data = (E[])new Object[INITIAL_CAPACITY];\r\n        private int size = 0;\r\n\r\n        public MyArrayList() {\r\n        }\r\n\r\n        public MyArrayList(E[] objects) {\r\n          for (int i = 0; i &lt; objects.length; i++)\r\n            add(objects[i]);\r\n        }\r\n\r\n        public void add(int index, E e) {   \r\n          ensureCapacity();\r\n\r\n          for (int i = size - 1; i &gt;= index; i--)\r\n            data[i + 1] = data[i];\r\n\r\n          data[index] = e;\r\n\r\n          size++;\r\n        }\r\n\r\n        private void ensureCapacity() {\r\n          if (size &gt;= data.length) {\r\n            E[] newData = (E[])(new Object[size * 2 + 1]);\r\n            System.arraycopy(data, 0, newData, 0, size);\r\n            data = newData;\r\n          }\r\n        }\r\n\r\n        public void clear() {\r\n          data = (E[])new Object[INITIAL_CAPACITY];\r\n          size = 0;\r\n        }\r\n\r\n        public boolean contains(Object e) {\r\n          for (int i = 0; i &lt; size; i++) {\r\n            if (e.equals(data[i])) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }\r\n\r\n        public E get(int index) {\r\n          checkIndex(index);\r\n          return data[index];\r\n        }\r\n\r\n        private void checkIndex(int index) {\r\n          if (index &lt; 0 || index &gt;= size)\r\n            throw new IndexOutOfBoundsException\r\n              (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\r\n        }\r\n\r\n        public int indexOf(Object e) {\r\n          for (int i = 0; i &lt; size; i++)\r\n            if (e.equals(data[i])) return i;\r\n\r\n          return -1;\r\n        }\r\n\r\n        public int lastIndexOf(E e) {\r\n          for (int i = size - 1; i &gt;= 0; i--)\r\n            if (e.equals(data[i])) return i;\r\n\r\n          return -1;\r\n        }\r\n\r\n        public E remove(int index) {\r\n          checkIndex(index);\r\n          \r\n          E e = data[index];\r\n\r\n          for (int j = index; j &lt; size - 1; j++)\r\n            data[j] = data[j + 1];\r\n\r\n          data[size - 1] = null;\r\n\r\n          size--;\r\n\r\n          return e;\r\n        }\r\n\r\n        public E set(int index, E e) {\r\n          checkIndex(index);\r\n          E old = data[index];\r\n          data[index] = e;\r\n          return old;\r\n        }\r\n     \r\n        public String toString() {\r\n          StringBuilder result = new StringBuilder(&quot;[&quot;);\r\n\r\n          for (int i = 0; i &lt; size; i++) {\r\n            result.append(data[i]);\r\n            if (i &lt; size - 1) result.append(&quot;, &quot;);\r\n          }\r\n\r\n          return result.toString() + &quot;]&quot;;\r\n        }\r\n\r\n        public void trimToSize() {\r\n          if (size != data.length) { \r\n            E[] newData = (E[])(new Object[size]);\r\n            System.arraycopy(data, 0, newData, 0, size);\r\n            data = newData;\r\n          }\r\n        }\r\n\r\n        public java.util.Iterator&lt;E&gt; iterator() {\r\n          return new ArrayListIterator();\r\n        }\r\n       \r\n        private class ArrayListIterator implements java.util.Iterator&lt;E&gt; {\r\n          private int current = 0;\r\n      \r\n          public boolean hasNext() {\r\n            return (current &lt; size);\r\n          }\r\n\r\n          public E next() {\r\n            return data[current++];\r\n          }\r\n\r\n          public void remove() {\r\n            if (current == 0) {\r\n              throw new IllegalStateException(); \r\n            }\r\n            MyArrayList.this.remove(--current);\r\n          }\r\n        }\r\n\r\n        public int size() {\r\n          return size;\r\n        }\r\n    }\r\n\r\n    interface MyList&lt;E&gt; extends java.util.Collection&lt;E&gt; {\r\n        public void add(int index, E e);\r\n        public E get(int index);\r\n        public int indexOf(Object e);\r\n        public int lastIndexOf(E e);\r\n        public E remove(int index);\r\n        public E set(int index, E e);\r\n        \r\n        public default boolean add(E e) {\r\n        add(size(), e);\r\n            return true;\r\n        }\r\n        \r\n        public default boolean isEmpty() {\r\n            return size() == 0;\r\n        }\r\n        \r\n        public default boolean remove(Object e) {\r\n            if (indexOf(e) &gt;= 0) {\r\n              remove(indexOf(e));\r\n              return true;\r\n            } else {\r\n              return false;\r\n            }\r\n        }\r\n        \r\n        public default boolean containsAll(Collection&lt;?&gt; c) {\r\n            for (Object e: c) {\r\n                if (!this.contains(e)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        \r\n        public default boolean addAll(Collection&lt;? extends E&gt; c) {\r\n            boolean changed = false;\r\n            for (E e: c) {\r\n                if (this.add(e)) {\r\n                    changed = true;\r\n                }\r\n            }\r\n            return changed;\r\n        }\r\n        \r\n        public default boolean removeAll(Collection&lt;?&gt; c) {\r\n            boolean changed = false;\r\n            for (Object e: c) {\r\n                if (this.remove(e)) {\r\n                    changed = true;\r\n                }\r\n            }\r\n            return changed;\r\n        }\r\n        \r\n        public default boolean retainAll(Collection&lt;?&gt; c) {\r\n            boolean changed = false;\r\n            int index = size() - 1;\r\n            while (index &gt;= 0) {\r\n                Object ob = get(index);\r\n                if (c.contains(ob)) {\r\n                    remove(index);\r\n                    changed = true;\r\n                }\r\n                index--;\r\n            }\r\n            return changed;\r\n        }\r\n        \r\n        public default Object[] toArray() {\r\n            Object[] array = new Object[this.size()];\r\n            for (int i = 0; i &lt; this.size(); i++) {\r\n              array[i] = (Object) (this.get(i));\r\n            }\r\n            return array;\r\n        }\r\n        \r\n        public default &lt;T&gt; T[] toArray(T[] a) {\r\n            int size = size();\r\n            if (a.length &lt; size) {\r\n                a = (T[]) new Object[size];\r\n            }\r\n            for (int i = 0; i &lt; size; i++) {\r\n                a[i] = (T) get(i);\r\n            }\r\n            return a;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd if anyone tells me that this code is the right answer:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    public class MyLinkedList&lt;E&gt; extends MyAbstractList&lt;E&gt; {\r\n      private Node&lt;E&gt; head, tail;\r\n\r\n      /** Create a default list */\r\n      public MyLinkedList() {\r\n      }\r\n\r\n      /** Create a list from an array of objects */\r\n      public MyLinkedList(E[] objects) {\r\n        super(objects);\r\n      }\r\n\r\n      /** Return the head element in the list */\r\n      public E getFirst() {\r\n        if (size == 0) {\r\n          return null;\r\n        }\r\n        else {\r\n          return head.element;\r\n        }\r\n      }\r\n\r\n      /** Return the last element in the list */\r\n      public E getLast() {\r\n        if (size == 0) {\r\n          return null;\r\n        }\r\n        else {\r\n          return tail.element;\r\n        }\r\n      }\r\n\r\n      /** Add an element to the beginning of the list */\r\n      public void addFirst(E e) {\r\n        Node&lt;E&gt; newNode = new Node&lt;E&gt;(e); // Create a new node\r\n        newNode.next = head; // link the new node with the head\r\n        head = newNode; // head points to the new node\r\n        size++; // Increase list size\r\n\r\n        if (tail == null) // the new node is the only node in list\r\n          tail = head;\r\n      }\r\n\r\n      /** Add an element to the end of the list */\r\n      public void addLast(E e) {\r\n        Node&lt;E&gt; newNode = new Node&lt;E&gt;(e); // Create a new for element e\r\n\r\n        if (tail == null) {\r\n          head = tail = newNode; // The new node is the only node in list\r\n        }\r\n        else {\r\n          tail.next = newNode; // Link the new with the last node\r\n          tail = tail.next; // tail now points to the last node\r\n        }\r\n\r\n        size++; // Increase size\r\n      }\r\n\r\n\r\n      @Override /** Add a new element at the specified index \r\n       * in this list. The index of the head element is 0 */\r\n      public void add(int index, E e) {\r\n        if (index == 0) {\r\n          addFirst(e);\r\n        }\r\n        else if (index &gt;= size) {\r\n          addLast(e);\r\n        }\r\n        else {\r\n          Node&lt;E&gt; current = head;\r\n          for (int i = 1; i &lt; index; i++) {\r\n            current = current.next;\r\n          }\r\n          Node&lt;E&gt; temp = current.next;\r\n          current.next = new Node&lt;E&gt;(e);\r\n          (current.next).next = temp;\r\n          size++;\r\n        }\r\n      }\r\n\r\n      /** Remove the head node and\r\n       *  return the object that is contained in the removed node. */\r\n      public E removeFirst() {\r\n        if (size == 0) {\r\n          return null;\r\n        }\r\n        else {\r\n          Node&lt;E&gt; temp = head;\r\n          head = head.next;\r\n          size--;\r\n          if (head == null) {\r\n            tail = null;\r\n          }\r\n          return temp.element;\r\n        }\r\n      }\r\n\r\n      /** Remove the last node and\r\n       * return the object that is contained in the removed node. */\r\n      public E removeLast() {\r\n        if (size == 0) {\r\n          return null;\r\n        }\r\n        else if (size == 1) {\r\n          Node&lt;E&gt; temp = head;\r\n          head = tail = null;\r\n          size = 0;\r\n          return temp.element;\r\n        }\r\n        else {\r\n          Node&lt;E&gt; current = head;\r\n\r\n          for (int i = 0; i &lt; size - 2; i++) {\r\n            current = current.next;\r\n          }\r\n\r\n          Node&lt;E&gt; temp = tail;\r\n          tail = current;\r\n          tail.next = null;\r\n          size--;\r\n          return temp.element;\r\n        }\r\n      }\r\n\r\n      @Override /** Remove the element at the specified position in this \r\n       *  list. Return the element that was removed from the list. */\r\n      public E remove(int index) {   \r\n        if (index &lt; 0 || index &gt;= size) {\r\n          return null;\r\n        }\r\n        else if (index == 0) {\r\n          return removeFirst();\r\n        }\r\n        else if (index == size - 1) {\r\n          return removeLast();\r\n        }\r\n        else {\r\n          Node&lt;E&gt; previous = head;\r\n\r\n          for (int i = 1; i &lt; index; i++) {\r\n            previous = previous.next;\r\n          }\r\n\r\n          Node&lt;E&gt; current = previous.next;\r\n          previous.next = current.next;\r\n          size--;\r\n          return current.element;\r\n        }\r\n      }\r\n\r\n      @Override /** Override toString() to return elements in the list */\r\n      public String toString() {\r\n        StringBuilder result = new StringBuilder(&quot;[&quot;);\r\n\r\n        Node&lt;E&gt; current = head;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          result.append(current.element);\r\n          current = current.next;\r\n          if (current != null) {\r\n            result.append(&quot;, &quot;); // Separate two elements with a comma\r\n          }\r\n          else {\r\n            result.append(&quot;]&quot;); // Insert the closing ] in the string\r\n          }\r\n        }\r\n\r\n        return result.toString();\r\n      }\r\n\r\n      @Override /** Clear the list */\r\n      public void clear() {\r\n        size = 0;\r\n        head = tail = null;\r\n      }\r\n\r\n      @Override /** Return true if this list contains the element e */\r\n      public boolean contains(E e) {\r\n        Node&lt;E&gt; current = head;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          if (current.element.equals(e))\r\n            return true;\r\n          current = current.next;\r\n        }\r\n\r\n        return false;\r\n      }\r\n\r\n      @Override /** Return the element at the specified index */\r\n      public E get(int index) {\r\n        checkIndex(index);\r\n        Node&lt;E&gt; current = head;\r\n\r\n        for (int i = 0; i &lt; size; i++) {\r\n          if (i == index)\r\n            return current.element;\r\n          current = current.next;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      @Override /** Return the index of the head matching element in \r\n       *  this list. Return -1 if no match. */\r\n      public int indexOf(E e) {\r\n        Node&lt;E&gt; current = head;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          if (current.element.equals(e))\r\n            return i;\r\n          current = current.next;\r\n        }\r\n        return -1;\r\n      }\r\n\r\n      @Override /** Return the index of the last matching element in \r\n       *  this list. Return -1 if no match. */\r\n      public int lastIndexOf(E e) {\r\n        Node&lt;E&gt; current = head;\r\n        int lastIndex = -1;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          if (current.element.equals(e))\r\n            lastIndex = i;\r\n          current = current.next;\r\n        }\r\n        return lastIndex;\r\n      }\r\n\r\n      @Override /** Replace the element at the specified position \r\n       *  in this list with the specified element. */\r\n      public E set(int index, E e) {\r\n        checkIndex(index);\r\n\r\n        Node&lt;E&gt; current = head;\r\n        E oldValue = null;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          if (i == index) {\r\n            oldValue = current.element;\r\n            current.element = e;\r\n            break;\r\n          }\r\n          current = current.next;\r\n        }\r\n        return oldValue;\r\n      }\r\n\r\n      @Override /** Override iterator() defined in Iterable */\r\n      public java.util.Iterator&lt;E&gt; iterator() {\r\n        return new LinkedListIterator();\r\n      }\r\n\r\n      private void checkIndex(int index) {\r\n        if (index &lt; 0 || index &gt;= size)\r\n          throw new IndexOutOfBoundsException\r\n            (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\r\n      }\r\n      \r\n      private class LinkedListIterator \r\n          implements java.util.Iterator&lt;E&gt; {\r\n        private Node&lt;E&gt; current = head; // Current index \r\n        \r\n        @Override\r\n        public boolean hasNext() {\r\n          return (current != null);\r\n        }\r\n\r\n        @Override\r\n        public E next() {\r\n          E e = current.element;\r\n          current = current.next;\r\n          return e;\r\n        }\r\n\r\n        @Override\r\n        public void remove() {\r\n\r\n          System.out.println(&quot;Implementation left as an exercise&quot;);\r\n        }\r\n      }\r\n      \r\n      private static class Node&lt;E&gt; {\r\n        E element;\r\n        Node&lt;E&gt; next;\r\n\r\n        public Node(E element) {\r\n          this.element = element;\r\n        }\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nit&#39;s not because the project want me use this temple:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    // Look for WRITE YOUR CODE to write your code\r\n    import java.util.*;\r\n\r\n    public class Exercise24_01 {\r\n      public static void main(String[] args) {\r\n        new Exercise24_01();\r\n      }\r\n\r\n      public Exercise24_01() {\r\n        Scanner input = new Scanner(System.in);\r\n        String[] name1 = new String[5];\r\n        String[] name2 = new String[5];\r\n        String[] name3 = new String[2];\r\n        System.out.print(&quot;Enter five strings for array name1 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          name1[i] = input.next();\r\n        }\r\n        \r\n        System.out.print(&quot;Enter five strings for array name2 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          name2[i] = input.next();\r\n        }\r\n\r\n        System.out.print(&quot;Enter two strings for array name3 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 2; i++) {\r\n          name3[i] = input.next();\r\n        }\r\n        \r\n        MyList&lt;String&gt; list1 = new MyArrayList&lt;&gt;(name1);   \r\n        MyList&lt;String&gt; list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.addAll(list2);\r\n        System.out.println(&quot;After addAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.removeAll(list2);\r\n        System.out.println(&quot;After removeAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.retainAll(list2);\r\n        System.out.println(&quot;After retainAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.retainAll(list2);\r\n        System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name3);\r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\r\n        \r\n        Object[] name4 = list1.toArray();\r\n        System.out.print(&quot;name4: &quot;);\r\n        for (Object e: name4) {\r\n          System.out.print(e + &quot; &quot;);\r\n        }\r\n        \r\n        String[] name5 = new String[list1.size()];\r\n        String[] name6 = list1.toArray(name5);\r\n        System.out.print(&quot;\\nname6: &quot;);\r\n        for (Object e: name6) {\r\n          System.out.print(e + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n    class MyArrayList&lt;E&gt; implements MyList&lt;E&gt; {\r\n        public static final int INITIAL_CAPACITY = 16;\r\n        private E[] data = (E[])new Object[INITIAL_CAPACITY];\r\n        private int size = 0; // Number of elements in the list\r\n\r\n        /** Create an empty list */\r\n        public MyArrayList() {\r\n        }\r\n\r\n        /** Create a list from an array of objects */\r\n        public MyArrayList(E[] objects) {\r\n          for (int i = 0; i &lt; objects.length; i++)\r\n            add(objects[i]); // Warning: don&#39;t use super(objects)! \r\n        }\r\n\r\n        @Override /** Add a new element at the specified index */\r\n        public void add(int index, E e) {   \r\n          ensureCapacity();\r\n\r\n          // Move the elements to the right after the specified index\r\n          for (int i = size - 1; i &gt;= index; i--)\r\n            data[i + 1] = data[i];\r\n\r\n          // Insert new element to data[index]\r\n          data[index] = e;\r\n\r\n          // Increase size by 1\r\n          size++;\r\n        }\r\n\r\n        /** Create a new larger array, double the current size + 1 */\r\n        private void ensureCapacity() {\r\n          if (size &gt;= data.length) {\r\n            E[] newData = (E[])(new Object[size * 2 + 1]);\r\n            System.arraycopy(data, 0, newData, 0, size);\r\n            data = newData;\r\n          }\r\n        }\r\n\r\n        @Override /** Clear the list */\r\n        public void clear() {\r\n          data = (E[])new Object[INITIAL_CAPACITY];\r\n          size = 0;\r\n        }\r\n\r\n        @Override /** Return true if this list contains the element */\r\n        public boolean contains(Object e) {\r\n          for (int i = 0; i &lt; size; i++)\r\n            if (e.equals(data[i])) return true;\r\n\r\n          return false;\r\n        }\r\n\r\n        @Override /** Return the element at the specified index */\r\n        public E get(int index) {\r\n          checkIndex(index);\r\n          return data[index];\r\n        }\r\n\r\n        private void checkIndex(int index) {\r\n          if (index &lt; 0 || index &gt;= size)\r\n            throw new IndexOutOfBoundsException\r\n              (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\r\n        }\r\n        \r\n        @Override /** Return the index of the first matching element \r\n         *  in this list. Return -1 if no match. */\r\n        public int indexOf(Object e) {\r\n          for (int i = 0; i &lt; size; i++)\r\n            if (e.equals(data[i])) return i;\r\n\r\n          return -1;\r\n        }\r\n\r\n        @Override /** Return the index of the last matching element \r\n         *  in this list. Return -1 if no match. */\r\n        public int lastIndexOf(E e) {\r\n          for (int i = size - 1; i &gt;= 0; i--)\r\n            if (e.equals(data[i])) return i;\r\n\r\n          return -1;\r\n        }\r\n\r\n        @Override /** Remove the element at the specified position \r\n         *  in this list. Shift any subsequent elements to the left.\r\n         *  Return the element that was removed from the list. */\r\n        public E remove(int index) {\r\n          checkIndex(index);\r\n          \r\n          E e = data[index];\r\n\r\n          // Shift data to the left\r\n          for (int j = index; j &lt; size - 1; j++)\r\n            data[j] = data[j + 1];\r\n\r\n          data[size - 1] = null; // This element is now null\r\n\r\n          // Decrement size\r\n          size--;\r\n\r\n          return e;\r\n        }\r\n\r\n        @Override /** Replace the element at the specified position \r\n         *  in this list with the specified element. */\r\n        public E set(int index, E e) {\r\n          checkIndex(index);\r\n          E old = data[index];\r\n          data[index] = e;\r\n          return old;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n          StringBuilder result = new StringBuilder(&quot;[&quot;);\r\n\r\n          for (int i = 0; i &lt; size; i++) {\r\n            result.append(data[i]);\r\n            if (i &lt; size - 1) result.append(&quot;, &quot;);\r\n          }\r\n\r\n          return result.toString() + &quot;]&quot;;\r\n        }\r\n\r\n        /** Trims the capacity to current size */\r\n        public void trimToSize() {\r\n          if (size != data.length) { \r\n            E[] newData = (E[])(new Object[size]);\r\n            System.arraycopy(data, 0, newData, 0, size);\r\n            data = newData;\r\n          } // If size == capacity, no need to trim\r\n        }\r\n\r\n        @Override /** Override iterator() defined in Iterable */\r\n        public java.util.Iterator&lt;E&gt; iterator() {\r\n          return new ArrayListIterator();\r\n        }\r\n       \r\n        private class ArrayListIterator \r\n            implements java.util.Iterator&lt;E&gt; {\r\n          private int current = 0; // Current index \r\n\r\n          @Override\r\n          public boolean hasNext() {\r\n            return (current &lt; size);\r\n          }\r\n\r\n          @Override\r\n          public E next() {\r\n            return data[current++];\r\n          }\r\n\r\n          @Override\r\n          public void remove() {\r\n            if (current == 0) // next() has not been called yet\r\n              throw new IllegalStateException(); \r\n            MyArrayList.this.remove(--current);\r\n          }\r\n        }\r\n        \r\n        @Override /** Return the number of elements in this list */\r\n        public int size() {\r\n          return size;\r\n        }\r\n    }\r\n\r\n    interface MyList&lt;E&gt; extends java.util.Collection&lt;E&gt; {\r\n      // WRITE YOUR CODE HERE\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nCan anyone help me with my code and tell me how to fix the first code if I&#39;m getting closer?","title":"Is there a way to implement methods in MyLinkedList Class and if so how do I implement them?","body":"<p>I'm trying to implement methods for Chapter 24 Programming Project called Exercise24_01 and I'm trying to make it work.</p>\n<p>The code below is the code I have so far:</p>\n<pre><code>import java.util.*;\n\npublic class Exercise24_01A {\n  public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    String[] name1 = new String[5];\n    String[] name2 = new String[5];\n    String[] name3 = new String[2];\n    System.out.print(&quot;Enter five strings for array name1 separated by space: &quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      name1[i] = input.next();\n    }\n    \n    System.out.print(&quot;Enter five strings for array name2 separated by space: &quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      name2[i] = input.next();\n    }\n\n    System.out.print(&quot;Enter two strings for array name3 separated by space: &quot;);\n    for (int i = 0; i &lt; 2; i++) {\n      name3[i] = input.next();\n    }\n    \n    MyList&lt;String&gt; list1 = new MyArrayList&lt;&gt;(name1);   \n    MyList&lt;String&gt; list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.addAll(list2);\n    System.out.println(&quot;After addAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.removeAll(list2);\n    System.out.println(&quot;After removeAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.retainAll(list2);\n    System.out.println(&quot;After retainAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.retainAll(list2);\n    System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name3);\n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\n    \n    Object[] name4 = list1.toArray();\n    System.out.print(&quot;name4: &quot;);\n    for (Object e: name4) {\n      System.out.print(e + &quot; &quot;);\n    }\n    \n    String[] name5 = new String[list1.size()];\n    String[] name6 = list1.toArray(name5);\n    System.out.print(&quot;\\nname6: &quot;);\n    for (Object e: name6) {\n      System.out.print(e + &quot; &quot;);\n    }\n  }\n}\n\nclass MyArrayList&lt;E&gt; implements MyList&lt;E&gt; {\n    public static final int INITIAL_CAPACITY = 16;\n    private E[] data = (E[])new Object[INITIAL_CAPACITY];\n    private int size = 0;\n\n    public MyArrayList() {\n    }\n\n    public MyArrayList(E[] objects) {\n      for (int i = 0; i &lt; objects.length; i++)\n        add(objects[i]);\n    }\n\n    public void add(int index, E e) {   \n      ensureCapacity();\n\n      for (int i = size - 1; i &gt;= index; i--)\n        data[i + 1] = data[i];\n\n      data[index] = e;\n\n      size++;\n    }\n\n    private void ensureCapacity() {\n      if (size &gt;= data.length) {\n        E[] newData = (E[])(new Object[size * 2 + 1]);\n        System.arraycopy(data, 0, newData, 0, size);\n        data = newData;\n      }\n    }\n\n    public void clear() {\n      data = (E[])new Object[INITIAL_CAPACITY];\n      size = 0;\n    }\n\n    public boolean contains(Object e) {\n      for (int i = 0; i &lt; size; i++) {\n        if (e.equals(data[i])) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    public E get(int index) {\n      checkIndex(index);\n      return data[index];\n    }\n\n    private void checkIndex(int index) {\n      if (index &lt; 0 || index &gt;= size)\n        throw new IndexOutOfBoundsException\n          (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\n    }\n\n    public int indexOf(Object e) {\n      for (int i = 0; i &lt; size; i++)\n        if (e.equals(data[i])) return i;\n\n      return -1;\n    }\n\n    public int lastIndexOf(E e) {\n      for (int i = size - 1; i &gt;= 0; i--)\n        if (e.equals(data[i])) return i;\n\n      return -1;\n    }\n\n    public E remove(int index) {\n      checkIndex(index);\n      \n      E e = data[index];\n\n      for (int j = index; j &lt; size - 1; j++)\n        data[j] = data[j + 1];\n\n      data[size - 1] = null;\n\n      size--;\n\n      return e;\n    }\n\n    public E set(int index, E e) {\n      checkIndex(index);\n      E old = data[index];\n      data[index] = e;\n      return old;\n    }\n \n    public String toString() {\n      StringBuilder result = new StringBuilder(&quot;[&quot;);\n\n      for (int i = 0; i &lt; size; i++) {\n        result.append(data[i]);\n        if (i &lt; size - 1) result.append(&quot;, &quot;);\n      }\n\n      return result.toString() + &quot;]&quot;;\n    }\n\n    public void trimToSize() {\n      if (size != data.length) { \n        E[] newData = (E[])(new Object[size]);\n        System.arraycopy(data, 0, newData, 0, size);\n        data = newData;\n      }\n    }\n\n    public java.util.Iterator&lt;E&gt; iterator() {\n      return new ArrayListIterator();\n    }\n   \n    private class ArrayListIterator implements java.util.Iterator&lt;E&gt; {\n      private int current = 0;\n  \n      public boolean hasNext() {\n        return (current &lt; size);\n      }\n\n      public E next() {\n        return data[current++];\n      }\n\n      public void remove() {\n        if (current == 0) {\n          throw new IllegalStateException(); \n        }\n        MyArrayList.this.remove(--current);\n      }\n    }\n\n    public int size() {\n      return size;\n    }\n}\n\ninterface MyList&lt;E&gt; extends java.util.Collection&lt;E&gt; {\n    public void add(int index, E e);\n    public E get(int index);\n    public int indexOf(Object e);\n    public int lastIndexOf(E e);\n    public E remove(int index);\n    public E set(int index, E e);\n    \n    public default boolean add(E e) {\n    add(size(), e);\n        return true;\n    }\n    \n    public default boolean isEmpty() {\n        return size() == 0;\n    }\n    \n    public default boolean remove(Object e) {\n        if (indexOf(e) &gt;= 0) {\n          remove(indexOf(e));\n          return true;\n        } else {\n          return false;\n        }\n    }\n    \n    public default boolean containsAll(Collection&lt;?&gt; c) {\n        for (Object e: c) {\n            if (!this.contains(e)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    \n    public default boolean addAll(Collection&lt;? extends E&gt; c) {\n        boolean changed = false;\n        for (E e: c) {\n            if (this.add(e)) {\n                changed = true;\n            }\n        }\n        return changed;\n    }\n    \n    public default boolean removeAll(Collection&lt;?&gt; c) {\n        boolean changed = false;\n        for (Object e: c) {\n            if (this.remove(e)) {\n                changed = true;\n            }\n        }\n        return changed;\n    }\n    \n    public default boolean retainAll(Collection&lt;?&gt; c) {\n        boolean changed = false;\n        int index = size() - 1;\n        while (index &gt;= 0) {\n            Object ob = get(index);\n            if (c.contains(ob)) {\n                remove(index);\n                changed = true;\n            }\n            index--;\n        }\n        return changed;\n    }\n    \n    public default Object[] toArray() {\n        Object[] array = new Object[this.size()];\n        for (int i = 0; i &lt; this.size(); i++) {\n          array[i] = (Object) (this.get(i));\n        }\n        return array;\n    }\n    \n    public default &lt;T&gt; T[] toArray(T[] a) {\n        int size = size();\n        if (a.length &lt; size) {\n            a = (T[]) new Object[size];\n        }\n        for (int i = 0; i &lt; size; i++) {\n            a[i] = (T) get(i);\n        }\n        return a;\n    }\n}\n</code></pre>\n<p>And if anyone tells me that this code is the right answer:</p>\n<pre><code>public class MyLinkedList&lt;E&gt; extends MyAbstractList&lt;E&gt; {\n  private Node&lt;E&gt; head, tail;\n\n  /** Create a default list */\n  public MyLinkedList() {\n  }\n\n  /** Create a list from an array of objects */\n  public MyLinkedList(E[] objects) {\n    super(objects);\n  }\n\n  /** Return the head element in the list */\n  public E getFirst() {\n    if (size == 0) {\n      return null;\n    }\n    else {\n      return head.element;\n    }\n  }\n\n  /** Return the last element in the list */\n  public E getLast() {\n    if (size == 0) {\n      return null;\n    }\n    else {\n      return tail.element;\n    }\n  }\n\n  /** Add an element to the beginning of the list */\n  public void addFirst(E e) {\n    Node&lt;E&gt; newNode = new Node&lt;E&gt;(e); // Create a new node\n    newNode.next = head; // link the new node with the head\n    head = newNode; // head points to the new node\n    size++; // Increase list size\n\n    if (tail == null) // the new node is the only node in list\n      tail = head;\n  }\n\n  /** Add an element to the end of the list */\n  public void addLast(E e) {\n    Node&lt;E&gt; newNode = new Node&lt;E&gt;(e); // Create a new for element e\n\n    if (tail == null) {\n      head = tail = newNode; // The new node is the only node in list\n    }\n    else {\n      tail.next = newNode; // Link the new with the last node\n      tail = tail.next; // tail now points to the last node\n    }\n\n    size++; // Increase size\n  }\n\n\n  @Override /** Add a new element at the specified index \n   * in this list. The index of the head element is 0 */\n  public void add(int index, E e) {\n    if (index == 0) {\n      addFirst(e);\n    }\n    else if (index &gt;= size) {\n      addLast(e);\n    }\n    else {\n      Node&lt;E&gt; current = head;\n      for (int i = 1; i &lt; index; i++) {\n        current = current.next;\n      }\n      Node&lt;E&gt; temp = current.next;\n      current.next = new Node&lt;E&gt;(e);\n      (current.next).next = temp;\n      size++;\n    }\n  }\n\n  /** Remove the head node and\n   *  return the object that is contained in the removed node. */\n  public E removeFirst() {\n    if (size == 0) {\n      return null;\n    }\n    else {\n      Node&lt;E&gt; temp = head;\n      head = head.next;\n      size--;\n      if (head == null) {\n        tail = null;\n      }\n      return temp.element;\n    }\n  }\n\n  /** Remove the last node and\n   * return the object that is contained in the removed node. */\n  public E removeLast() {\n    if (size == 0) {\n      return null;\n    }\n    else if (size == 1) {\n      Node&lt;E&gt; temp = head;\n      head = tail = null;\n      size = 0;\n      return temp.element;\n    }\n    else {\n      Node&lt;E&gt; current = head;\n\n      for (int i = 0; i &lt; size - 2; i++) {\n        current = current.next;\n      }\n\n      Node&lt;E&gt; temp = tail;\n      tail = current;\n      tail.next = null;\n      size--;\n      return temp.element;\n    }\n  }\n\n  @Override /** Remove the element at the specified position in this \n   *  list. Return the element that was removed from the list. */\n  public E remove(int index) {   \n    if (index &lt; 0 || index &gt;= size) {\n      return null;\n    }\n    else if (index == 0) {\n      return removeFirst();\n    }\n    else if (index == size - 1) {\n      return removeLast();\n    }\n    else {\n      Node&lt;E&gt; previous = head;\n\n      for (int i = 1; i &lt; index; i++) {\n        previous = previous.next;\n      }\n\n      Node&lt;E&gt; current = previous.next;\n      previous.next = current.next;\n      size--;\n      return current.element;\n    }\n  }\n\n  @Override /** Override toString() to return elements in the list */\n  public String toString() {\n    StringBuilder result = new StringBuilder(&quot;[&quot;);\n\n    Node&lt;E&gt; current = head;\n    for (int i = 0; i &lt; size; i++) {\n      result.append(current.element);\n      current = current.next;\n      if (current != null) {\n        result.append(&quot;, &quot;); // Separate two elements with a comma\n      }\n      else {\n        result.append(&quot;]&quot;); // Insert the closing ] in the string\n      }\n    }\n\n    return result.toString();\n  }\n\n  @Override /** Clear the list */\n  public void clear() {\n    size = 0;\n    head = tail = null;\n  }\n\n  @Override /** Return true if this list contains the element e */\n  public boolean contains(E e) {\n    Node&lt;E&gt; current = head;\n    for (int i = 0; i &lt; size; i++) {\n      if (current.element.equals(e))\n        return true;\n      current = current.next;\n    }\n\n    return false;\n  }\n\n  @Override /** Return the element at the specified index */\n  public E get(int index) {\n    checkIndex(index);\n    Node&lt;E&gt; current = head;\n\n    for (int i = 0; i &lt; size; i++) {\n      if (i == index)\n        return current.element;\n      current = current.next;\n    }\n\n    return null;\n  }\n\n  @Override /** Return the index of the head matching element in \n   *  this list. Return -1 if no match. */\n  public int indexOf(E e) {\n    Node&lt;E&gt; current = head;\n    for (int i = 0; i &lt; size; i++) {\n      if (current.element.equals(e))\n        return i;\n      current = current.next;\n    }\n    return -1;\n  }\n\n  @Override /** Return the index of the last matching element in \n   *  this list. Return -1 if no match. */\n  public int lastIndexOf(E e) {\n    Node&lt;E&gt; current = head;\n    int lastIndex = -1;\n    for (int i = 0; i &lt; size; i++) {\n      if (current.element.equals(e))\n        lastIndex = i;\n      current = current.next;\n    }\n    return lastIndex;\n  }\n\n  @Override /** Replace the element at the specified position \n   *  in this list with the specified element. */\n  public E set(int index, E e) {\n    checkIndex(index);\n\n    Node&lt;E&gt; current = head;\n    E oldValue = null;\n    for (int i = 0; i &lt; size; i++) {\n      if (i == index) {\n        oldValue = current.element;\n        current.element = e;\n        break;\n      }\n      current = current.next;\n    }\n    return oldValue;\n  }\n\n  @Override /** Override iterator() defined in Iterable */\n  public java.util.Iterator&lt;E&gt; iterator() {\n    return new LinkedListIterator();\n  }\n\n  private void checkIndex(int index) {\n    if (index &lt; 0 || index &gt;= size)\n      throw new IndexOutOfBoundsException\n        (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\n  }\n  \n  private class LinkedListIterator \n      implements java.util.Iterator&lt;E&gt; {\n    private Node&lt;E&gt; current = head; // Current index \n    \n    @Override\n    public boolean hasNext() {\n      return (current != null);\n    }\n\n    @Override\n    public E next() {\n      E e = current.element;\n      current = current.next;\n      return e;\n    }\n\n    @Override\n    public void remove() {\n\n      System.out.println(&quot;Implementation left as an exercise&quot;);\n    }\n  }\n  \n  private static class Node&lt;E&gt; {\n    E element;\n    Node&lt;E&gt; next;\n\n    public Node(E element) {\n      this.element = element;\n    }\n  }\n}\n</code></pre>\n<p>it's not because the project want me use this temple:</p>\n<pre><code>// Look for WRITE YOUR CODE to write your code\nimport java.util.*;\n\npublic class Exercise24_01 {\n  public static void main(String[] args) {\n    new Exercise24_01();\n  }\n\n  public Exercise24_01() {\n    Scanner input = new Scanner(System.in);\n    String[] name1 = new String[5];\n    String[] name2 = new String[5];\n    String[] name3 = new String[2];\n    System.out.print(&quot;Enter five strings for array name1 separated by space: &quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      name1[i] = input.next();\n    }\n    \n    System.out.print(&quot;Enter five strings for array name2 separated by space: &quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      name2[i] = input.next();\n    }\n\n    System.out.print(&quot;Enter two strings for array name3 separated by space: &quot;);\n    for (int i = 0; i &lt; 2; i++) {\n      name3[i] = input.next();\n    }\n    \n    MyList&lt;String&gt; list1 = new MyArrayList&lt;&gt;(name1);   \n    MyList&lt;String&gt; list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.addAll(list2);\n    System.out.println(&quot;After addAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.removeAll(list2);\n    System.out.println(&quot;After removeAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.retainAll(list2);\n    System.out.println(&quot;After retainAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.retainAll(list2);\n    System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name3);\n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\n    \n    Object[] name4 = list1.toArray();\n    System.out.print(&quot;name4: &quot;);\n    for (Object e: name4) {\n      System.out.print(e + &quot; &quot;);\n    }\n    \n    String[] name5 = new String[list1.size()];\n    String[] name6 = list1.toArray(name5);\n    System.out.print(&quot;\\nname6: &quot;);\n    for (Object e: name6) {\n      System.out.print(e + &quot; &quot;);\n    }\n  }\n}\n\nclass MyArrayList&lt;E&gt; implements MyList&lt;E&gt; {\n    public static final int INITIAL_CAPACITY = 16;\n    private E[] data = (E[])new Object[INITIAL_CAPACITY];\n    private int size = 0; // Number of elements in the list\n\n    /** Create an empty list */\n    public MyArrayList() {\n    }\n\n    /** Create a list from an array of objects */\n    public MyArrayList(E[] objects) {\n      for (int i = 0; i &lt; objects.length; i++)\n        add(objects[i]); // Warning: don't use super(objects)! \n    }\n\n    @Override /** Add a new element at the specified index */\n    public void add(int index, E e) {   \n      ensureCapacity();\n\n      // Move the elements to the right after the specified index\n      for (int i = size - 1; i &gt;= index; i--)\n        data[i + 1] = data[i];\n\n      // Insert new element to data[index]\n      data[index] = e;\n\n      // Increase size by 1\n      size++;\n    }\n\n    /** Create a new larger array, double the current size + 1 */\n    private void ensureCapacity() {\n      if (size &gt;= data.length) {\n        E[] newData = (E[])(new Object[size * 2 + 1]);\n        System.arraycopy(data, 0, newData, 0, size);\n        data = newData;\n      }\n    }\n\n    @Override /** Clear the list */\n    public void clear() {\n      data = (E[])new Object[INITIAL_CAPACITY];\n      size = 0;\n    }\n\n    @Override /** Return true if this list contains the element */\n    public boolean contains(Object e) {\n      for (int i = 0; i &lt; size; i++)\n        if (e.equals(data[i])) return true;\n\n      return false;\n    }\n\n    @Override /** Return the element at the specified index */\n    public E get(int index) {\n      checkIndex(index);\n      return data[index];\n    }\n\n    private void checkIndex(int index) {\n      if (index &lt; 0 || index &gt;= size)\n        throw new IndexOutOfBoundsException\n          (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\n    }\n    \n    @Override /** Return the index of the first matching element \n     *  in this list. Return -1 if no match. */\n    public int indexOf(Object e) {\n      for (int i = 0; i &lt; size; i++)\n        if (e.equals(data[i])) return i;\n\n      return -1;\n    }\n\n    @Override /** Return the index of the last matching element \n     *  in this list. Return -1 if no match. */\n    public int lastIndexOf(E e) {\n      for (int i = size - 1; i &gt;= 0; i--)\n        if (e.equals(data[i])) return i;\n\n      return -1;\n    }\n\n    @Override /** Remove the element at the specified position \n     *  in this list. Shift any subsequent elements to the left.\n     *  Return the element that was removed from the list. */\n    public E remove(int index) {\n      checkIndex(index);\n      \n      E e = data[index];\n\n      // Shift data to the left\n      for (int j = index; j &lt; size - 1; j++)\n        data[j] = data[j + 1];\n\n      data[size - 1] = null; // This element is now null\n\n      // Decrement size\n      size--;\n\n      return e;\n    }\n\n    @Override /** Replace the element at the specified position \n     *  in this list with the specified element. */\n    public E set(int index, E e) {\n      checkIndex(index);\n      E old = data[index];\n      data[index] = e;\n      return old;\n    }\n\n    @Override\n    public String toString() {\n      StringBuilder result = new StringBuilder(&quot;[&quot;);\n\n      for (int i = 0; i &lt; size; i++) {\n        result.append(data[i]);\n        if (i &lt; size - 1) result.append(&quot;, &quot;);\n      }\n\n      return result.toString() + &quot;]&quot;;\n    }\n\n    /** Trims the capacity to current size */\n    public void trimToSize() {\n      if (size != data.length) { \n        E[] newData = (E[])(new Object[size]);\n        System.arraycopy(data, 0, newData, 0, size);\n        data = newData;\n      } // If size == capacity, no need to trim\n    }\n\n    @Override /** Override iterator() defined in Iterable */\n    public java.util.Iterator&lt;E&gt; iterator() {\n      return new ArrayListIterator();\n    }\n   \n    private class ArrayListIterator \n        implements java.util.Iterator&lt;E&gt; {\n      private int current = 0; // Current index \n\n      @Override\n      public boolean hasNext() {\n        return (current &lt; size);\n      }\n\n      @Override\n      public E next() {\n        return data[current++];\n      }\n\n      @Override\n      public void remove() {\n        if (current == 0) // next() has not been called yet\n          throw new IllegalStateException(); \n        MyArrayList.this.remove(--current);\n      }\n    }\n    \n    @Override /** Return the number of elements in this list */\n    public int size() {\n      return size;\n    }\n}\n\ninterface MyList&lt;E&gt; extends java.util.Collection&lt;E&gt; {\n  // WRITE YOUR CODE HERE\n}\n</code></pre>\n<p>Can anyone help me with my code and tell me how to fix the first code if I'm getting closer?</p>\n"},{"tags":["java","docker","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701739203,"post_id":77603337,"comment_id":136810588,"body_markdown":"[Duplicate](https://stackoverflow.com/questions/77417549/running-javafx-application-on-docker) (though it isn&#39;t answered so I can&#39;t close this a duplicate).","body":"<a href=\"https://stackoverflow.com/questions/77417549/running-javafx-application-on-docker\">Duplicate</a> (though it isn&#39;t answered so I can&#39;t close this a duplicate)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701739274,"post_id":77603337,"comment_id":136810594,"body_markdown":"Similarly, [various other duplicates](https://stackoverflow.com/search?tab=newest&amp;q=%5bjavafx%5d%20docker&amp;searchOn=3).","body":"Similarly, <a href=\"https://stackoverflow.com/search?tab=newest&amp;q=%5bjavafx%5d%20docker&amp;searchOn=3\">various other duplicates</a>."}],"owner":{"account_id":30067397,"reputation":1,"user_id":23042179,"display_name":"Edgar Jimenez Aceves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701741208,"answer_count":0,"score":-1,"last_activity_date":1701738892,"creation_date":1701738892,"question_id":77603337,"body_markdown":"So as a college project i needed to implement dockers to an application i was making that uses JavaFX GUI and some HTTP requests, i tried to use dockers on a consolo application and that worked no problem, but now that im actually trying to do it for my JavaFX application its very unclear to me what logic there is to grabbing the base java image then adding the dependencies of JavaFX, or if its even possible at all, since ive researched and even found some people saying that what im trying to accomplish is just not possible.\r\nSo yeah, is it possible at all? Or if at the very least you can make it look like it works with a docker.\r\nThanks in advance.\r\n\r\nIve tried using JavaFX base images but that would result in me missing depencies like the HTTP requests mentioned before.","title":"Is it possible at all to use a docker for a JavaFX application?","body":"<p>So as a college project i needed to implement dockers to an application i was making that uses JavaFX GUI and some HTTP requests, i tried to use dockers on a consolo application and that worked no problem, but now that im actually trying to do it for my JavaFX application its very unclear to me what logic there is to grabbing the base java image then adding the dependencies of JavaFX, or if its even possible at all, since ive researched and even found some people saying that what im trying to accomplish is just not possible.\nSo yeah, is it possible at all? Or if at the very least you can make it look like it works with a docker.\nThanks in advance.</p>\n<p>Ive tried using JavaFX base images but that would result in me missing depencies like the HTTP requests mentioned before.</p>\n"},{"tags":["java","sparql","jena","jena-querybuilder"],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701707662,"creation_date":1701707662,"answer_id":77601092,"question_id":77600913,"body_markdown":"Try something like below :    \r\n\r\n\r\n\r\n\r\n    import org.apache.jena.arq.querybuilder.SelectBuilder;\r\n    import org.apache.jena.arq.querybuilder.WhereBuilder;\r\n    import org.apache.jena.query.Query;\r\n    \r\n    public class JenaQueryBuilderExample {\r\n        public static void main(String[] args) {\r\n            \r\n            SelectBuilder select = new SelectBuilder();   \r\n            \r\n            select.addVar(&quot;?subject&quot;).addVar(&quot;?predicate&quot;).addVar(&quot;?object&quot;).addVar(&quot;?graph&quot;);\r\n                \r\n            WhereBuilder where1 = new WhereBuilder();    \r\n            \r\n            where1.addGraph(&quot;&lt;G1&gt;&quot;, graph -&gt; graph.addTriple(&quot;?subject&quot;, &quot;?predicate&quot;, &quot;?object&quot;));  \r\n            \r\n            where1.addValues(&quot;?subject ?predicate ?object&quot;, &quot;(&lt;S1&gt; &lt;P1&gt; &lt;O1&gt;)&quot;, &quot;(&lt;S2&gt; &lt;P2&gt; &lt;O2&gt;)&quot;, &quot;(&lt;S3&gt; &lt;P3&gt; &lt;O3&gt;)&quot;);    \r\n            \r\n            where1.addBind(&quot;&lt;G1&gt;&quot;, &quot;?graph&quot;);    \r\n            \r\n            WhereBuilder where2 = new WhereBuilder();    \r\n            \r\n            where2.addGraph(&quot;&lt;G2&gt;&quot;, graph -&gt; graph.addTriple(&quot;?subject&quot;, &quot;?predicate&quot;, &quot;?object&quot;));\r\n                \r\n            where2.addValues(&quot;?subject ?predicate ?object&quot;, &quot;(&lt;S4&gt; &lt;P4&gt; &lt;O4&gt;)&quot;, &quot;(&lt;S5&gt; &lt;P4&gt; &lt;O5&gt;)&quot;, &quot;(&lt;S6&gt; &lt;P4&gt; &lt;O6&gt;)&quot;);\r\n                \r\n            where2.addBind(&quot;&lt;G2&gt;&quot;, &quot;?graph&quot;);   \r\n            \r\n            select.addUnion(where1, where2);    \r\n            \r\n            Query query = select.build();    \r\n            \r\n            System.out.println(query);\r\n        }\r\n    }\r\n\r\n","title":"How to build this query using jena query builder?","body":"<p>Try something like below :</p>\n<pre><code>import org.apache.jena.arq.querybuilder.SelectBuilder;\nimport org.apache.jena.arq.querybuilder.WhereBuilder;\nimport org.apache.jena.query.Query;\n\npublic class JenaQueryBuilderExample {\n    public static void main(String[] args) {\n        \n        SelectBuilder select = new SelectBuilder();   \n        \n        select.addVar(&quot;?subject&quot;).addVar(&quot;?predicate&quot;).addVar(&quot;?object&quot;).addVar(&quot;?graph&quot;);\n            \n        WhereBuilder where1 = new WhereBuilder();    \n        \n        where1.addGraph(&quot;&lt;G1&gt;&quot;, graph -&gt; graph.addTriple(&quot;?subject&quot;, &quot;?predicate&quot;, &quot;?object&quot;));  \n        \n        where1.addValues(&quot;?subject ?predicate ?object&quot;, &quot;(&lt;S1&gt; &lt;P1&gt; &lt;O1&gt;)&quot;, &quot;(&lt;S2&gt; &lt;P2&gt; &lt;O2&gt;)&quot;, &quot;(&lt;S3&gt; &lt;P3&gt; &lt;O3&gt;)&quot;);    \n        \n        where1.addBind(&quot;&lt;G1&gt;&quot;, &quot;?graph&quot;);    \n        \n        WhereBuilder where2 = new WhereBuilder();    \n        \n        where2.addGraph(&quot;&lt;G2&gt;&quot;, graph -&gt; graph.addTriple(&quot;?subject&quot;, &quot;?predicate&quot;, &quot;?object&quot;));\n            \n        where2.addValues(&quot;?subject ?predicate ?object&quot;, &quot;(&lt;S4&gt; &lt;P4&gt; &lt;O4&gt;)&quot;, &quot;(&lt;S5&gt; &lt;P4&gt; &lt;O5&gt;)&quot;, &quot;(&lt;S6&gt; &lt;P4&gt; &lt;O6&gt;)&quot;);\n            \n        where2.addBind(&quot;&lt;G2&gt;&quot;, &quot;?graph&quot;);   \n        \n        select.addUnion(where1, where2);    \n        \n        Query query = select.build();    \n        \n        System.out.println(query);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11958658,"reputation":1,"user_id":8750233,"display_name":"Lio Kishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701736890,"creation_date":1701706183,"question_id":77600913,"body_markdown":"I am trying to construct the below query using the Jena query builder in JAVA. I have tried multiple different ways to build it, but nothing seems to work. Adding values block inside Graph seems to be not possible. Can anyone suggest how this can be done? \r\n\r\nWe are currently using jena query builder 3.5. Which does not have `WhereBuilder`\r\n\r\n\r\n```\r\nSELECT ?subject ?predicate ?object ?graph\r\nWHERE {\r\n \r\n{\r\n  GRAPH &lt;G1&gt; {\r\n    ?subject ?predicate ?object\r\n    \r\n      VALUES (?subject ?predicate ?object) {\r\n      (&lt;S1&gt; &lt;P1&gt; &lt;O1&gt;)   \r\n      (&lt;S2&gt; &lt;P2&gt; &lt;O2&gt;)   \r\n      (&lt;S3&gt; &lt;P3&gt; &lt;O3&gt;)   \r\n     }\r\n   \r\n    BIND(&lt;G1&gt; AS ?graph)\r\n  }\r\n}\r\n \r\nUNION\r\n \r\n{\r\n  GRAPH &lt;G2 &gt; {\r\n    ?subject ?predicate ?object\r\n    \r\n      VALUES (?subject ?predicate ?object) {\r\n      (&lt;S4&gt; &lt;P4&gt; &lt;O4&gt;)   \r\n      (&lt;S5&gt; &lt;P4&gt; &lt;O5&gt;)   \r\n      (&lt;S6&gt; &lt;P4&gt; &lt;O6&gt;)   \r\n   }\r\n   \r\n    BIND(&lt;G2&gt; AS ?graph)\r\n  }\r\n}\r\n```\r\n","title":"How to build this query using jena query builder?","body":"<p>I am trying to construct the below query using the Jena query builder in JAVA. I have tried multiple different ways to build it, but nothing seems to work. Adding values block inside Graph seems to be not possible. Can anyone suggest how this can be done?</p>\n<p>We are currently using jena query builder 3.5. Which does not have <code>WhereBuilder</code></p>\n<pre><code>SELECT ?subject ?predicate ?object ?graph\nWHERE {\n \n{\n  GRAPH &lt;G1&gt; {\n    ?subject ?predicate ?object\n    \n      VALUES (?subject ?predicate ?object) {\n      (&lt;S1&gt; &lt;P1&gt; &lt;O1&gt;)   \n      (&lt;S2&gt; &lt;P2&gt; &lt;O2&gt;)   \n      (&lt;S3&gt; &lt;P3&gt; &lt;O3&gt;)   \n     }\n   \n    BIND(&lt;G1&gt; AS ?graph)\n  }\n}\n \nUNION\n \n{\n  GRAPH &lt;G2 &gt; {\n    ?subject ?predicate ?object\n    \n      VALUES (?subject ?predicate ?object) {\n      (&lt;S4&gt; &lt;P4&gt; &lt;O4&gt;)   \n      (&lt;S5&gt; &lt;P4&gt; &lt;O5&gt;)   \n      (&lt;S6&gt; &lt;P4&gt; &lt;O6&gt;)   \n   }\n   \n    BIND(&lt;G2&gt; AS ?graph)\n  }\n}\n</code></pre>\n"},{"tags":["java","swing","jbutton","jtogglebutton"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1701737063,"post_id":77603269,"comment_id":136810424,"body_markdown":"Consider providing a [mcve]","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1701737227,"post_id":77603269,"comment_id":136810447,"body_markdown":"1) Why are you extending JToggleButton? You should only extend a class to add functionality, not set properties of the class. 2) *but they cover up the text* - by default the text is painted to the right of the Icon. If you don&#39;t see the text, my guess is you are using a null layout and the text is truncated. 3) *Is there a way to layer the text of the button above its icons so it&#39;s visible in both states?* - think you looking for setHorizontalTextPosition(...) and setVerticalTextPosition(...). When set to CENTER the text will be painted in the center of the Icon.","body":"1) Why are you extending JToggleButton? You should only extend a class to add functionality, not set properties of the class. 2) <i>but they cover up the text</i> - by default the text is painted to the right of the Icon. If you don&#39;t see the text, my guess is you are using a null layout and the text is truncated. 3) <i>Is there a way to layer the text of the button above its icons so it&#39;s visible in both states?</i> - think you looking for setHorizontalTextPosition(...) and setVerticalTextPosition(...). When set to CENTER the text will be painted in the center of the Icon."}],"owner":{"account_id":30067235,"reputation":1,"user_id":23042065,"display_name":"milkchunks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701736887,"creation_date":1701736769,"question_id":77603269,"body_markdown":"I&#39;m trying to make a JToggleButton with icons for the toggled on and toggled off states. The icons work just fine, but they cover up the text even when I make the center of the toggled off state transparent.\r\n\r\nThis is my code for the button, in a constructor for a class extending JToggleButton\r\n\r\n\r\n```\r\npublic SettingsButton(String text) {\r\n        super.setText(text);\r\n        super.setIcon(disabledIcon);\r\n        super.setSelectedIcon(enabledIcon);\r\n        super.setBackground(new Color(255, 255, 255));\r\n        super.setFont(settingsButtonsFont);\r\n    }\r\n```\r\n\r\nIt looks like this disabled (should have text reading &quot;English to Spanish&quot;):\r\n[disabled]\r\n\r\n[![https://i.stack.imgur.com/95geH.png][1]][1]\r\n\r\nand like this enabled (should have text reading &quot;Spanish to English&quot;):\r\n[enabled]\r\n\r\n[![https://i.stack.imgur.com/ZUEqy.png][2]][2]\r\n\r\n\r\nI tried to set the background to white, and I tried to use setComponentZOrder(). I found that this didn&#39;t work because it only works for components in the frame, not the parts of a button.\r\n\r\nIs there a way to layer the text of the button above its icons so it&#39;s visible in both states?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/95geH.png\r\n  [2]: https://i.stack.imgur.com/ZUEqy.png","title":"Layering text and images on JToggleButton?","body":"<p>I'm trying to make a JToggleButton with icons for the toggled on and toggled off states. The icons work just fine, but they cover up the text even when I make the center of the toggled off state transparent.</p>\n<p>This is my code for the button, in a constructor for a class extending JToggleButton</p>\n<pre><code>public SettingsButton(String text) {\n        super.setText(text);\n        super.setIcon(disabledIcon);\n        super.setSelectedIcon(enabledIcon);\n        super.setBackground(new Color(255, 255, 255));\n        super.setFont(settingsButtonsFont);\n    }\n</code></pre>\n<p>It looks like this disabled (should have text reading &quot;English to Spanish&quot;):\n[disabled]</p>\n<p><a href=\"https://i.stack.imgur.com/95geH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95geH.png\" alt=\"https://i.stack.imgur.com/95geH.png\" /></a></p>\n<p>and like this enabled (should have text reading &quot;Spanish to English&quot;):\n[enabled]</p>\n<p><a href=\"https://i.stack.imgur.com/ZUEqy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUEqy.png\" alt=\"https://i.stack.imgur.com/ZUEqy.png\" /></a></p>\n<p>I tried to set the background to white, and I tried to use setComponentZOrder(). I found that this didn't work because it only works for components in the frame, not the parts of a button.</p>\n<p>Is there a way to layer the text of the button above its icons so it's visible in both states?</p>\n"},{"tags":["java","pseudocode","divide-and-conquer"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1701737749,"post_id":77603258,"comment_id":136810490,"body_markdown":"The answer depends on which RDBMS you&#39;re using and what you mean by &quot;database&quot;. Many RDBMS can do it in one query, because many can have multiple databases on the same server and can query multiple databases in one query.","body":"The answer depends on which RDBMS you&#39;re using and what you mean by &quot;database&quot;. Many RDBMS can do it in one query, because many can have multiple databases on the same server and can query multiple databases in one query."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1701738540,"post_id":77603258,"comment_id":136810545,"body_markdown":"The right way is binary search.  Whoever is calling that a &quot;divide and conquer algorithm&quot; is incorrect, I think.","body":"The right way is binary search.  Whoever is calling that a &quot;divide and conquer algorithm&quot; is incorrect, I think."}],"owner":{"account_id":30067247,"reputation":1,"user_id":23042073,"display_name":"salexiou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701739138,"answer_count":0,"score":-1,"last_activity_date":1701736595,"creation_date":1701736519,"question_id":77603258,"body_markdown":"I have to analyze data from two separate databases with limited access. Each database contains n numerical values (2n values in total), and all values are distinct. The goal is to find the median of these 2n values (i.e., the nth smallest value).\r\n\r\nHowever, the only way to access the data is by making selection queries on the databases. Each query specifies one of the two databases and a value k, returning the k-th smallest value from that specific database. These queries have a cost, so your objective is to calculate the median using as few queries as possible.\r\n\r\nI have to use a Divide and Conquer algorithm that returns the median using at most O(log n) queries.\r\n\r\nI cant imagine a way that will lead to O(logn)","title":"Find median of two databases complexity","body":"<p>I have to analyze data from two separate databases with limited access. Each database contains n numerical values (2n values in total), and all values are distinct. The goal is to find the median of these 2n values (i.e., the nth smallest value).</p>\n<p>However, the only way to access the data is by making selection queries on the databases. Each query specifies one of the two databases and a value k, returning the k-th smallest value from that specific database. These queries have a cost, so your objective is to calculate the median using as few queries as possible.</p>\n<p>I have to use a Divide and Conquer algorithm that returns the median using at most O(log n) queries.</p>\n<p>I cant imagine a way that will lead to O(logn)</p>\n"},{"tags":["java","zstd"],"owner":{"account_id":20396497,"reputation":25,"user_id":14963172,"display_name":"munna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701736498,"creation_date":1701736498,"question_id":77603256,"body_markdown":"We have a use case where we need to retrieve multiple zstd files and decompress them and we don&#39;t know the size of the original files.\r\n\r\nZstd-jni requires us to provide the size of the decompressed file to do the decompression process.\r\n\r\nThe method provided by Zstd-jni library, listed below, is returning -1 for the size of the decompressed file.\r\n\r\n```\r\nbyte[] inputArray;\r\nlong size = Zstd.decompressedSize(inputArray);\r\n```\r\n\r\nIs there any other way to find out the original file size or decompress it without knowing the original file size?\r\n\r\n```\r\nSample file sizes:\r\nCompressed file size: 17355 bytes\r\nDecompressed file size: 275379 bytes\r\n```","title":"how to decompress zstd files with unknown original file size with zstd-jni","body":"<p>We have a use case where we need to retrieve multiple zstd files and decompress them and we don't know the size of the original files.</p>\n<p>Zstd-jni requires us to provide the size of the decompressed file to do the decompression process.</p>\n<p>The method provided by Zstd-jni library, listed below, is returning -1 for the size of the decompressed file.</p>\n<pre><code>byte[] inputArray;\nlong size = Zstd.decompressedSize(inputArray);\n</code></pre>\n<p>Is there any other way to find out the original file size or decompress it without knowing the original file size?</p>\n<pre><code>Sample file sizes:\nCompressed file size: 17355 bytes\nDecompressed file size: 275379 bytes\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701734025,"post_id":77603109,"comment_id":136810144,"body_markdown":"Presumably, `Object weirdCars = createVehicleList();` is &quot;inferring&quot; `List&lt;Vechicle&gt;`, as that&#39;s the upper bound of `T`, and all reference types are an `Object`, so the assignment works.","body":"Presumably, <code>Object weirdCars = createVehicleList();</code> is &quot;inferring&quot; <code>List&lt;Vechicle&gt;</code>, as that&#39;s the upper bound of <code>T</code>, and all reference types are an <code>Object</code>, so the assignment works."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1701734178,"post_id":77603109,"comment_id":136810161,"body_markdown":"Also, you can&#39;t use `add` on a `List&lt;?&gt;` because `?` means that you don&#39;t know what is allowed in it. For instance, a `List&lt;String&gt;` would be a `List&lt;?&gt;` but doesn&#39;t allow adding a `LocalDate`.","body":"Also, you can&#39;t use <code>add</code> on a <code>List&lt;?&gt;</code> because <code>?</code> means that you don&#39;t know what is allowed in it. For instance, a <code>List&lt;String&gt;</code> would be a <code>List&lt;?&gt;</code> but doesn&#39;t allow adding a <code>LocalDate</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1701736321,"post_id":77603109,"comment_id":136810357,"body_markdown":"Gilad Bracha’s excellent [explanation of Generics](https://docs.oracle.com/javase/tutorial/extra/generics/), now part of the official Java tutorial, taught me everything about how Java generics work.  It is invaluable.","body":"Gilad Bracha’s excellent <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/\" rel=\"nofollow noreferrer\">explanation of Generics</a>, now part of the official Java tutorial, taught me everything about how Java generics work.  It is invaluable."},{"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"score":0,"creation_date":1701736348,"post_id":77603109,"comment_id":136810359,"body_markdown":"@Slaw I&#39;ve confirmed this is correct. I&#39;m able to cast `weirdCars` above to a `List&lt;Vehicle&gt;`, and then I can assign a new `Vehicle`, `Car`, or `Boat`. Etc. This must have been the one thing I didn&#39;t try. Thanks!","body":"@Slaw I&#39;ve confirmed this is correct. I&#39;m able to cast <code>weirdCars</code> above to a <code>List&lt;Vehicle&gt;</code>, and then I can assign a new <code>Vehicle</code>, <code>Car</code>, or <code>Boat</code>. Etc. This must have been the one thing I didn&#39;t try. Thanks!"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701736560,"post_id":77603109,"comment_id":136810378,"body_markdown":"You&#39;ll be able to cast `weirdCars` to any `List` parameterization; even, for example, `List&lt;String&gt;`. There&#39;s a reason this is an unchecked cast.","body":"You&#39;ll be able to cast <code>weirdCars</code> to any <code>List</code> parameterization; even, for example, <code>List&lt;String&gt;</code>. There&#39;s a reason this is an unchecked cast."},{"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"score":0,"creation_date":1701739173,"post_id":77603109,"comment_id":136810586,"body_markdown":"@Slaw Agreed, I meant I could cast and then use it as expected. Simply surviving a cast is indeed a low bar.","body":"@Slaw Agreed, I meant I could cast and then use it as expected. Simply surviving a cast is indeed a low bar."},{"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"score":0,"creation_date":1701739254,"post_id":77603109,"comment_id":136810592,"body_markdown":"@VGR Thanks! That was a very good read. I definitely didn&#39;t understand it all the first time through, but it helped a few things, and it&#39;s good to know it&#39;s there for rereads. Interesting one of the people named in the Acknowledgements is Mads Torgersen, of C# fame.","body":"@VGR Thanks! That was a very good read. I definitely didn&#39;t understand it all the first time through, but it helped a few things, and it&#39;s good to know it&#39;s there for rereads. Interesting one of the people named in the Acknowledgements is Mads Torgersen, of C# fame."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701768975,"post_id":77603109,"comment_id":136813727,"body_markdown":"I don’t understand your question. You can write `List&lt;?&gt; listOfUnknown=createVehicleList(); Object weirdCars = listOfUnknown;` so why should the compiler not allow to write `Object weirdCars = createVehicleList();` which does the same without the intermediate variable? As a side note, it’s weird to write `System.out.println(String.format(&quot;el = %s&quot;, el));` If you like the formatting API, just use `System.out.printf(&quot;el = %s%n&quot;, el);` to format and print. If you like simplicity and efficiency, just write `System.out.println(&quot;el = &quot; + el);`","body":"I don’t understand your question. You can write <code>List&lt;?&gt; listOfUnknown=createVehicleList(); Object weirdCars = listOfUnknown;</code> so why should the compiler not allow to write <code>Object weirdCars = createVehicleList();</code> which does the same without the intermediate variable? As a side note, it’s weird to write <code>System.out.println(String.format(&quot;el = %s&quot;, el));</code> If you like the formatting API, just use <code>System.out.printf(&quot;el = %s%n&quot;, el);</code> to format and print. If you like simplicity and efficiency, just write <code>System.out.println(&quot;el = &quot; + el);</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701736274,"creation_date":1701736274,"answer_id":77603247,"question_id":77603109,"body_markdown":"```\r\nObject weirdCars = createVehicleList();\r\n```\r\n\r\nThe `creeateVehicleList()` invokes the `createVehicleList` method, which declares a fresh new type variable. That&#39;s the `T` surrounded by exclamation points in `private static &lt;!!T!! extends Vehicle&gt; List&lt;T&gt; createVehicleList ()` - the second usage of T (`List&lt;T&gt;`) is not declaring a new type var, no, that&#39;s _using it_.\r\n\r\nA type var is best understood as follows:\r\n\r\nThe __user__, i .e. the caller, of `createVehicleList` is forced to pick some type T. This T is restricted here; the caller gets to pick any type it wants, but, that type must either be Vehicle, or any subtype of it. So, a caller can pick Vehicle, or it can pick Car, or it can pick Bike, or it can pick Airplane, or it can pick Froobargle. Froobargles don&#39;t exist yet. Nobody knows what they are. In 2049, someone will invent a vehicle called Froobargle. You can&#39;t plan for this. But it will be a vehicle by then.\r\n\r\nHence, your method declaration is now constrained by the compiler: Given that you write only one method declaration, but there are a potentially infinite number of _users_ of that declaration (callers), and each caller gets to pick a vehicle type to bind to their particular &#39;take&#39; on T, and it is in fact impossible to enumerate all choices, given that in 2049 someone is going to invent a Floobargle which is a kind of vehicle, the code of `createVehicleListz` must deal with the fact that __T is a meta-type&#39;: It stands for every possible vehicle, all at once. In other words, your code must be valid __for _all_ possible choices__. Your code must make sense if T is Bike. It must make sense if T is Car. It must make sense if T is Vehicle. It must make sense if T is Feoobargle.\r\n\r\nHence, 2 constraints are created here:\r\n\r\n* A call to `createVehicleList()` __must__ either [A] explicitly make clear what type you want, i.e. `Foo.&lt;Car&gt;createVehicleList()`, or [B] needs to implicitly make that clear, e.g. `Foo&lt;Car&gt; f = Foo.createVehicleList()` (the compiler infers what type you want here from context), or [C] you get a warning that the compiler can&#39;t follow along (generics are gone once compiled; it&#39;s purely a figment of the compiler&#39;s imagination, it&#39;s compiler-documentation type documentation), or [D] the compiler must be able to ascertain it doesn&#39;t matter.\r\n\r\n* The code within the `createVehicleList` must make sense for __all possible choices__, even the ones we can&#39;t enumerate yet, such as the Froobargle choice which isn&#39;t going to be sensible until 2049 when that is invented.\r\n\r\nHence:\r\n\r\n`Object x = createVehicleList()` is fine, because that&#39;s a D case: It doesn&#39;t matter. for compilation purposes the compiler picks the lower bound (Vehicle) here, which then ceases to be relevant. Generics exist solely as compiler-checked documentation, and you&#39;ve opted to ignore any and all bounds here, `x` has no types associated with it, so, the compiler can just recognize it has nothing to do and completely ignore it.\r\n\r\n\r\n----\r\n\r\n```\r\nList&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\r\n```\r\n\r\nThis is fine, of course. You&#39;re casting an expression of type `Object` to `List` which is valid java: Java will inject some bytecode which has only 2 options: Either [A] that expression resolves to a value that is indeed an instance of `List`, or `null`, in which case this __does absolutely nothing at all__, or [B] it isn&#39;t, in which case __this is a weird way to write `throw new ClassCastException()`. This kind of cast _does not ever_ convert anything. It merely does either nothing at all, or throws. Lists need a type param and as type params are a figment of the compiler&#39;s imagination and casting is a runtime thing, there&#39;s nothing left to say, but, fortunately, that ? works out: ? means, literally: __don&#39;t know__. `Lis&lt;?&gt;` does not mean: &quot;This is a list that can hold whatever&quot;. It means: &quot;This is a list that contains __I do not know__. There _is_ a constraint. I just do not know what it is. It might be a list constrained to contain only strings. It might be a list constraint to contain only sets of maps of strings to integers. It might be a list that can contain everything (effectively, `Object` - all things are objects). I just don&#39;t know&quot;.\r\n\r\nThat&#39;s the only fair cast you can make here. You have no idea what the constraint might be and `?` accurately represents &#39;no idea - ensure whatever code I write is valid regardless of what constraint exists&#39;.\r\n\r\n---\r\n\r\n```\r\nlist.add(null);\r\n```\r\n\r\nThe `list` expression is of type `List&lt;?&gt;` which, as we covered, means: &quot;A list which is constrained to only contain things of some type and unfortunately I have no idea what that is&quot;.\r\n\r\nThe compiler will ensure that any code you wrote works for __all possible valid choices within that domain__. So, that constraint could be &#39;strings&#39;, &#39;integers&#39;, &#39;doubles&#39;, &#39;inputstreams&#39;, or &#39;lists of sets of maps of strings to lists of froobargles&#39; - we just do not know. So, what thing can you pass to the `add` method that works __for ALL of those choices__?\r\n\r\nThe one, and only, value, is `null`. It&#39;s not because `null` has no type. Quite the opposite. `null`, the literal, is _every_ type. And only an expression that is all types at once could possibly fit when the code needs to work for all cases, whether that ? is Integer, String, or `Set&lt;Map&lt;String, List&lt;Froobargle&gt;&gt;`.\r\n\r\nHence, yeah, a `List&lt;?&gt;` or `List&lt;? extends Whatever&gt;` __cannot__ be added to, except the academic (i.e. useless) case of the null literal.\r\n\r\nThat&#39;s the point.\r\n\r\n## An important case to think about\r\n\r\nIn java, the basic type system is __covariant__. Meaning, any expression of some type is valid anytime an expression of some supertype is needed. Stated simply, this:\r\n\r\n```\r\nNumber n = new Integer(5);\r\n```\r\n\r\nis legal java.\r\n\r\nHowever, generics __just do not play that game__ - generics are __invariant__. If `Number` is needed, only `Number` will do. We can see this too:\r\n\r\n```\r\nList&lt;Number&gt; n = new ArrayList&lt;Integer&gt;();\r\n```\r\n\r\ndoes not compile.  The problem isn&#39;t the ArrayList part - basic java says that any subtype is a valid standin and ArrayList is a subtype of List. No, the problem is the generics: shoving `&lt;Integer&gt;` is no good, it must be `&lt;Number&gt;` and nothing else will do. The reason is because __that&#39;s just how math / the universe is__.\r\n\r\nImagine we doggedly ignore the universe and say that should work. Then I Can write this:\r\n\r\n```\r\nList&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\nList&lt;Number&gt; numbers = ints; // hey, you wanted this to be legal.\r\nNumber z = new Double(5.5); // this HAS to be legal.\r\nnumbers.add(z); // so does this; of course I can add a number to a list of numbers.\r\nInteger i = ints.get(0); // this has to be legal too\r\n```\r\n\r\nEvery step other than the second line is obviously correct, and yet, we end up trying to shove a double value into a variable of type Integer which obviously cannot be allowed. The answer to this paradox is that the second line is lying: `List&lt;Number&gt; n = someListOfInt;` does __not__ compile at all, because it __cannot__ - if that was allowed you run into this clusterbomb of a situation.\r\n\r\nHence, generics are __invariant__.\r\n\r\nHowever, this raises an issue: What if you write a method that never adds anything to a list (which it got as an argument); it only reads from that list. This method demands that the values in said list are numbers, but the method can deal with `List&lt;Number&gt;`, `List&lt;Integer&gt;`, `List&lt;Double&gt;` - any number you like, as long as its a list of some sort of type that is Number or a subtype of it. In plain java you can write a method `void foo(Number n)` and rest assured that a caller can pass a double, an integer, or anything else that is a subtype of Number. But generics bounds have to be covariant, so a method `void foo(List&lt;Number&gt; n)` cannot be invoked with a `List&lt;Integer&gt;` argument, because if you could, that `foo` method could add a double to your list of integers and we don&#39;t want that.\r\n\r\nSo, we want methods to be able to handcuff themselves: A tradeoff; I shall promise not to add anything to the list, but I do want the ability to assume that any object in this list is null or an instance of Vehicle or some subtype thereof. In trade for these handcuffs, the compiler will take a chill pill and allow callers to pass `List&lt;Vehicle&gt;`, `List&lt;Car&gt;`, `List&lt;Bike&gt;`, and even, come 2049, `List&lt;Froobargle&gt;`.\r\n\r\nAnd, yay, you can do that. `List&lt;? extends Vehicle&gt;` is what you want. You can&#39;t add anything to this list, because no x in `list.add(x)` will work for ALL possible cases (those cases being `List&lt;Vehicle&gt;`, `List&lt;Car&gt;`, `List&lt;Bike&gt;`, and `List&lt;Froobargle&gt;` - there can be an infinite number of imaginable vehicles, hence, the actual use cases are infinite). Well, except literally `list.add(null)`, of course.\r\n\r\n`? extends Vehicle` is opting back into covariance. Which adds handcuffs: The compiler will ensure you don&#39;t break stuff. Which you will, if you call `.add`, so the compiler will ensure you don&#39;t call that.\r\n","title":"Java Generics w &lt;extends&gt; ... why does this code compile?","body":"<pre><code>Object weirdCars = createVehicleList();\n</code></pre>\n<p>The <code>creeateVehicleList()</code> invokes the <code>createVehicleList</code> method, which declares a fresh new type variable. That's the <code>T</code> surrounded by exclamation points in <code>private static &lt;!!T!! extends Vehicle&gt; List&lt;T&gt; createVehicleList ()</code> - the second usage of T (<code>List&lt;T&gt;</code>) is not declaring a new type var, no, that's <em>using it</em>.</p>\n<p>A type var is best understood as follows:</p>\n<p>The <strong>user</strong>, i .e. the caller, of <code>createVehicleList</code> is forced to pick some type T. This T is restricted here; the caller gets to pick any type it wants, but, that type must either be Vehicle, or any subtype of it. So, a caller can pick Vehicle, or it can pick Car, or it can pick Bike, or it can pick Airplane, or it can pick Froobargle. Froobargles don't exist yet. Nobody knows what they are. In 2049, someone will invent a vehicle called Froobargle. You can't plan for this. But it will be a vehicle by then.</p>\n<p>Hence, your method declaration is now constrained by the compiler: Given that you write only one method declaration, but there are a potentially infinite number of <em>users</em> of that declaration (callers), and each caller gets to pick a vehicle type to bind to their particular 'take' on T, and it is in fact impossible to enumerate all choices, given that in 2049 someone is going to invent a Floobargle which is a kind of vehicle, the code of <code>createVehicleListz</code> must deal with the fact that __T is a meta-type': It stands for every possible vehicle, all at once. In other words, your code must be valid <strong>for <em>all</em> possible choices</strong>. Your code must make sense if T is Bike. It must make sense if T is Car. It must make sense if T is Vehicle. It must make sense if T is Feoobargle.</p>\n<p>Hence, 2 constraints are created here:</p>\n<ul>\n<li><p>A call to <code>createVehicleList()</code> <strong>must</strong> either [A] explicitly make clear what type you want, i.e. <code>Foo.&lt;Car&gt;createVehicleList()</code>, or [B] needs to implicitly make that clear, e.g. <code>Foo&lt;Car&gt; f = Foo.createVehicleList()</code> (the compiler infers what type you want here from context), or [C] you get a warning that the compiler can't follow along (generics are gone once compiled; it's purely a figment of the compiler's imagination, it's compiler-documentation type documentation), or [D] the compiler must be able to ascertain it doesn't matter.</p>\n</li>\n<li><p>The code within the <code>createVehicleList</code> must make sense for <strong>all possible choices</strong>, even the ones we can't enumerate yet, such as the Froobargle choice which isn't going to be sensible until 2049 when that is invented.</p>\n</li>\n</ul>\n<p>Hence:</p>\n<p><code>Object x = createVehicleList()</code> is fine, because that's a D case: It doesn't matter. for compilation purposes the compiler picks the lower bound (Vehicle) here, which then ceases to be relevant. Generics exist solely as compiler-checked documentation, and you've opted to ignore any and all bounds here, <code>x</code> has no types associated with it, so, the compiler can just recognize it has nothing to do and completely ignore it.</p>\n<hr />\n<pre><code>List&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\n</code></pre>\n<p>This is fine, of course. You're casting an expression of type <code>Object</code> to <code>List</code> which is valid java: Java will inject some bytecode which has only 2 options: Either [A] that expression resolves to a value that is indeed an instance of <code>List</code>, or <code>null</code>, in which case this <strong>does absolutely nothing at all</strong>, or [B] it isn't, in which case __this is a weird way to write <code>throw new ClassCastException()</code>. This kind of cast <em>does not ever</em> convert anything. It merely does either nothing at all, or throws. Lists need a type param and as type params are a figment of the compiler's imagination and casting is a runtime thing, there's nothing left to say, but, fortunately, that ? works out: ? means, literally: <strong>don't know</strong>. <code>Lis&lt;?&gt;</code> does not mean: &quot;This is a list that can hold whatever&quot;. It means: &quot;This is a list that contains <strong>I do not know</strong>. There <em>is</em> a constraint. I just do not know what it is. It might be a list constrained to contain only strings. It might be a list constraint to contain only sets of maps of strings to integers. It might be a list that can contain everything (effectively, <code>Object</code> - all things are objects). I just don't know&quot;.</p>\n<p>That's the only fair cast you can make here. You have no idea what the constraint might be and <code>?</code> accurately represents 'no idea - ensure whatever code I write is valid regardless of what constraint exists'.</p>\n<hr />\n<pre><code>list.add(null);\n</code></pre>\n<p>The <code>list</code> expression is of type <code>List&lt;?&gt;</code> which, as we covered, means: &quot;A list which is constrained to only contain things of some type and unfortunately I have no idea what that is&quot;.</p>\n<p>The compiler will ensure that any code you wrote works for <strong>all possible valid choices within that domain</strong>. So, that constraint could be 'strings', 'integers', 'doubles', 'inputstreams', or 'lists of sets of maps of strings to lists of froobargles' - we just do not know. So, what thing can you pass to the <code>add</code> method that works <strong>for ALL of those choices</strong>?</p>\n<p>The one, and only, value, is <code>null</code>. It's not because <code>null</code> has no type. Quite the opposite. <code>null</code>, the literal, is <em>every</em> type. And only an expression that is all types at once could possibly fit when the code needs to work for all cases, whether that ? is Integer, String, or <code>Set&lt;Map&lt;String, List&lt;Froobargle&gt;&gt;</code>.</p>\n<p>Hence, yeah, a <code>List&lt;?&gt;</code> or <code>List&lt;? extends Whatever&gt;</code> <strong>cannot</strong> be added to, except the academic (i.e. useless) case of the null literal.</p>\n<p>That's the point.</p>\n<h2>An important case to think about</h2>\n<p>In java, the basic type system is <strong>covariant</strong>. Meaning, any expression of some type is valid anytime an expression of some supertype is needed. Stated simply, this:</p>\n<pre><code>Number n = new Integer(5);\n</code></pre>\n<p>is legal java.</p>\n<p>However, generics <strong>just do not play that game</strong> - generics are <strong>invariant</strong>. If <code>Number</code> is needed, only <code>Number</code> will do. We can see this too:</p>\n<pre><code>List&lt;Number&gt; n = new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>does not compile.  The problem isn't the ArrayList part - basic java says that any subtype is a valid standin and ArrayList is a subtype of List. No, the problem is the generics: shoving <code>&lt;Integer&gt;</code> is no good, it must be <code>&lt;Number&gt;</code> and nothing else will do. The reason is because <strong>that's just how math / the universe is</strong>.</p>\n<p>Imagine we doggedly ignore the universe and say that should work. Then I Can write this:</p>\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\nList&lt;Number&gt; numbers = ints; // hey, you wanted this to be legal.\nNumber z = new Double(5.5); // this HAS to be legal.\nnumbers.add(z); // so does this; of course I can add a number to a list of numbers.\nInteger i = ints.get(0); // this has to be legal too\n</code></pre>\n<p>Every step other than the second line is obviously correct, and yet, we end up trying to shove a double value into a variable of type Integer which obviously cannot be allowed. The answer to this paradox is that the second line is lying: <code>List&lt;Number&gt; n = someListOfInt;</code> does <strong>not</strong> compile at all, because it <strong>cannot</strong> - if that was allowed you run into this clusterbomb of a situation.</p>\n<p>Hence, generics are <strong>invariant</strong>.</p>\n<p>However, this raises an issue: What if you write a method that never adds anything to a list (which it got as an argument); it only reads from that list. This method demands that the values in said list are numbers, but the method can deal with <code>List&lt;Number&gt;</code>, <code>List&lt;Integer&gt;</code>, <code>List&lt;Double&gt;</code> - any number you like, as long as its a list of some sort of type that is Number or a subtype of it. In plain java you can write a method <code>void foo(Number n)</code> and rest assured that a caller can pass a double, an integer, or anything else that is a subtype of Number. But generics bounds have to be covariant, so a method <code>void foo(List&lt;Number&gt; n)</code> cannot be invoked with a <code>List&lt;Integer&gt;</code> argument, because if you could, that <code>foo</code> method could add a double to your list of integers and we don't want that.</p>\n<p>So, we want methods to be able to handcuff themselves: A tradeoff; I shall promise not to add anything to the list, but I do want the ability to assume that any object in this list is null or an instance of Vehicle or some subtype thereof. In trade for these handcuffs, the compiler will take a chill pill and allow callers to pass <code>List&lt;Vehicle&gt;</code>, <code>List&lt;Car&gt;</code>, <code>List&lt;Bike&gt;</code>, and even, come 2049, <code>List&lt;Froobargle&gt;</code>.</p>\n<p>And, yay, you can do that. <code>List&lt;? extends Vehicle&gt;</code> is what you want. You can't add anything to this list, because no x in <code>list.add(x)</code> will work for ALL possible cases (those cases being <code>List&lt;Vehicle&gt;</code>, <code>List&lt;Car&gt;</code>, <code>List&lt;Bike&gt;</code>, and <code>List&lt;Froobargle&gt;</code> - there can be an infinite number of imaginable vehicles, hence, the actual use cases are infinite). Well, except literally <code>list.add(null)</code>, of course.</p>\n<p><code>? extends Vehicle</code> is opting back into covariance. Which adds handcuffs: The compiler will ensure you don't break stuff. Which you will, if you call <code>.add</code>, so the compiler will ensure you don't call that.</p>\n"}],"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701736274,"creation_date":1701733098,"question_id":77603109,"body_markdown":"I&#39;ve never known how `extends` and `super` work with Java Generics, so I&#39;ve been playing around a bit. I&#39;ve gotten something I don&#39;t understand. I&#39;ll let the code do the talking ...\r\n\r\n```\r\npublic class Tests \r\n{\r\n    // Some straightforward sample tyes\r\n    class Vehicle {}\r\n    class Car extends Vehicle {}\r\n    \r\n    // Generic list factory method for Vehicles and all subtypes\r\n    private static &lt;T extends Vehicle&gt; List&lt;T&gt; createVehicleList ()\r\n    {\r\n        return new ArrayList&lt;T&gt;();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void funWithExtends ()\r\n    {\r\n        // This works because the type is explicitly specified\r\n        List&lt;Car&gt; alsoCars = Tests.&lt;Car&gt;createVehicleList();\r\n\r\n        // This works because of type inference ... I think\r\n        List&lt;Car&gt; cars = createVehicleList();\r\n\r\n        // Here&#39;s where it gets weird. Why is this legal?\r\n        Object weirdCars = createVehicleList();\r\n        List&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\r\n        list.add(null);\r\n        // This next line doesn&#39;t compile - I can&#39;t add() anything but null\r\n        //   list.add(new Vehicle());\r\n        Object el = list.get(0);\r\n        System.out.println(String.format(&quot;el = %s&quot;, el));\r\n        assertEquals(null, el);\r\n    }\r\n}\r\n```\r\n\r\nIn my last call to `createVehicleList()`, I do not give the compiler any clue as to what type of List I want. I expected a compiler error. Instead, the function executes just fine, and returns a strange list. The list is apparently valid, but I cannot add anything to the list except `null`, presumably because `null` has no type, at least for these purposes.\r\n\r\nIs there a fundamental, conceptual reason for this that I&#39;m missing? Or is it just a strange corner case, in a 30+ year old language that is adding modern features, while supporting syntactic sugar to reduce pain (eg type inference), while also focusing on backward compatability. Thanks!","title":"Java Generics w &lt;extends&gt; ... why does this code compile?","body":"<p>I've never known how <code>extends</code> and <code>super</code> work with Java Generics, so I've been playing around a bit. I've gotten something I don't understand. I'll let the code do the talking ...</p>\n<pre><code>public class Tests \n{\n    // Some straightforward sample tyes\n    class Vehicle {}\n    class Car extends Vehicle {}\n    \n    // Generic list factory method for Vehicles and all subtypes\n    private static &lt;T extends Vehicle&gt; List&lt;T&gt; createVehicleList ()\n    {\n        return new ArrayList&lt;T&gt;();\n    }\n\n\n    @Test\n    public void funWithExtends ()\n    {\n        // This works because the type is explicitly specified\n        List&lt;Car&gt; alsoCars = Tests.&lt;Car&gt;createVehicleList();\n\n        // This works because of type inference ... I think\n        List&lt;Car&gt; cars = createVehicleList();\n\n        // Here's where it gets weird. Why is this legal?\n        Object weirdCars = createVehicleList();\n        List&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\n        list.add(null);\n        // This next line doesn't compile - I can't add() anything but null\n        //   list.add(new Vehicle());\n        Object el = list.get(0);\n        System.out.println(String.format(&quot;el = %s&quot;, el));\n        assertEquals(null, el);\n    }\n}\n</code></pre>\n<p>In my last call to <code>createVehicleList()</code>, I do not give the compiler any clue as to what type of List I want. I expected a compiler error. Instead, the function executes just fine, and returns a strange list. The list is apparently valid, but I cannot add anything to the list except <code>null</code>, presumably because <code>null</code> has no type, at least for these purposes.</p>\n<p>Is there a fundamental, conceptual reason for this that I'm missing? Or is it just a strange corner case, in a 30+ year old language that is adding modern features, while supporting syntactic sugar to reduce pain (eg type inference), while also focusing on backward compatability. Thanks!</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":1834874,"reputation":897,"user_id":1665452,"accept_rate":67,"display_name":"nickcodefresh"},"score":2,"creation_date":1456139892,"post_id":35496115,"comment_id":58792439,"body_markdown":"This isn&#39;t a duplicate, as it happens under Maven. The original ticket is for IntelliJ","body":"This isn&#39;t a duplicate, as it happens under Maven. The original ticket is for IntelliJ"},{"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"score":0,"creation_date":1456364836,"post_id":35496115,"comment_id":58916744,"body_markdown":"For somebody who is looking for a solution like me: I found a solution at http://stackoverflow.com/questions/11329965/how-to-ignore-the-java-source-directory-during-maven-compilation","body":"For somebody who is looking for a solution like me: I found a solution at <a href=\"http://stackoverflow.com/questions/11329965/how-to-ignore-the-java-source-directory-during-maven-compilation\" title=\"how to ignore the java source directory during maven compilation\">stackoverflow.com/questions/11329965/&hellip;</a>"},{"owner":{"account_id":318652,"reputation":13493,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"score":0,"creation_date":1569620194,"post_id":35496115,"comment_id":102669312,"body_markdown":"This Q is totally unrelated to the &quot;duplicate&quot; Q and was incorrectly flagged.","body":"This Q is totally unrelated to the &quot;duplicate&quot; Q and was incorrectly flagged."}],"answers":[{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572887801,"creation_date":1572887801,"answer_id":58698235,"question_id":35496115,"body_markdown":"I had the same issue, resolved by:\r\n\r\n 1. Configuring `lombok-maven-plugin` to \r\n   1. Delombok the classes into `target/delombok` directory\r\n   2. Don&#39;t `addOutputDirectory` to the compiler source paths\r\n\r\n 2. Configure `maven-javadoc-plugin` to look into the `target/delombok` directory\r\n\r\nA good explanation is also at this [similar question][1]\r\n\r\nAlso, bare in mind that [onConstructor][2] is an experimental feature and that with jdk8, you should use `(onConstructor_ = @Autowired)` instead of jdk7-style `onConstructor = @__(@Autowired)`\r\n\r\nHere is my full config:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok-maven-plugin-version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                     &lt;goal&gt;delombok&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n                    &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n                    &lt;outputDirectory&gt;\r\n                         ${project.build.directory}/delombok\r\n                    &lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n           &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-javadoc-plugin-version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;sourcepath&gt;target/generated-sources/delombok&lt;/sourcepath&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/11329965/1998422\r\n  [2]: https://projectlombok.org/features/experimental/onX","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>I had the same issue, resolved by:</p>\n\n<ol>\n<li><p>Configuring <code>lombok-maven-plugin</code> to </p>\n\n<ol>\n<li>Delombok the classes into <code>target/delombok</code> directory</li>\n<li>Don't <code>addOutputDirectory</code> to the compiler source paths</li>\n</ol></li>\n<li><p>Configure <code>maven-javadoc-plugin</code> to look into the <code>target/delombok</code> directory</p></li>\n</ol>\n\n<p>A good explanation is also at this <a href=\"https://stackoverflow.com/q/11329965/1998422\">similar question</a></p>\n\n<p>Also, bare in mind that <a href=\"https://projectlombok.org/features/experimental/onX\" rel=\"noreferrer\">onConstructor</a> is an experimental feature and that with jdk8, you should use <code>(onConstructor_ = @Autowired)</code> instead of jdk7-style <code>onConstructor = @__(@Autowired)</code></p>\n\n<p>Here is my full config:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${lombok-maven-plugin-version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                 &lt;goal&gt;delombok&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n                &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n                &lt;outputDirectory&gt;\n                     ${project.build.directory}/delombok\n                &lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n       &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-javadoc-plugin-version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;sourcepath&gt;target/generated-sources/delombok&lt;/sourcepath&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189903,"reputation":17885,"user_id":429521,"accept_rate":65,"display_name":"Felipe Sabino"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1582118174,"creation_date":1582118174,"answer_id":60301260,"question_id":35496115,"body_markdown":"Adding here just for future reference as on my case I was trying to build on Intelij and the error was due to compiler annotation processors being disabled.\r\n\r\nTo enable it, go to Intelij preferences, open _&quot;Build, Execution, Deployment&quot;_ -&gt; _&quot;Compiler&quot;_ -&gt; _&quot;Annotation Processors&quot;_ and make sure _&quot;Enable annotation processing&quot;_ is enabled\r\n\r\n[![Enable annotation processing Intelij preference][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r1Qek.png","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>Adding here just for future reference as on my case I was trying to build on Intelij and the error was due to compiler annotation processors being disabled.</p>\n\n<p>To enable it, go to Intelij preferences, open <em>\"Build, Execution, Deployment\"</em> -> <em>\"Compiler\"</em> -> <em>\"Annotation Processors\"</em> and make sure <em>\"Enable annotation processing\"</em> is enabled</p>\n\n<p><a href=\"https://i.stack.imgur.com/r1Qek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1Qek.png\" alt=\"Enable annotation processing Intelij preference\"></a></p>\n"},{"tags":[],"owner":{"account_id":7673063,"reputation":1,"user_id":5814679,"display_name":"Lotes Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658423394,"creation_date":1658423322,"answer_id":73070184,"question_id":35496115,"body_markdown":"If you use intellij Idea go to setting and add Lombok plugin to your intellij idea\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1FXZG.png","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>If you use intellij Idea go to setting and add Lombok plugin to your intellij idea</p>\n<p><a href=\"https://i.stack.imgur.com/1FXZG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":8250836,"reputation":241,"user_id":6422750,"display_name":"Theta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675428290,"creation_date":1675428290,"answer_id":75335927,"question_id":35496115,"body_markdown":"For me the reason for this error (caused by `@RequiredArgsConstructor(onConstructor = @__(@Autowired))` to be exact) was a duplicated `@Transactional` annotation in another class (overlooked after rebasing a branch in Git). Removing the duplicate resolved the issue immediately, maybe this piece of information helps somebody in the future :-)","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>For me the reason for this error (caused by <code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))</code> to be exact) was a duplicated <code>@Transactional</code> annotation in another class (overlooked after rebasing a branch in Git). Removing the duplicate resolved the issue immediately, maybe this piece of information helps somebody in the future :-)</p>\n"},{"tags":[],"owner":{"account_id":13461364,"reputation":37,"user_id":9713261,"display_name":"Ahmed "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701734527,"creation_date":1701734527,"answer_id":77603172,"question_id":35496115,"body_markdown":"None of the answers that are written worked for me, and I don&#39;t think the answers are directly relevant to what OP alluded to is the main problem (which was my main problem as well).\r\n\r\nI was trying to make the JavaDocs integration work with SpringDoc in a Spring Boot application I had. [With the example given in the SpringDoc documentation itself](https://springdoc.org/#javadoc-support), things didn&#39;t really work and I got the error that OP got.\r\n\r\nGoogling around a bit more, [I found this StackOverflow answer](https://stackoverflow.com/a/74287938/9713261)\r\n\r\nFollowing it, I just added the following to my pom.xml to make things work:\r\n\r\n**Add the following to your dependency:**\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;therapi-runtime-javadoc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.15.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n**Then add the following plugin to your `&lt;build&gt;` section**\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.15.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>None of the answers that are written worked for me, and I don't think the answers are directly relevant to what OP alluded to is the main problem (which was my main problem as well).</p>\n<p>I was trying to make the JavaDocs integration work with SpringDoc in a Spring Boot application I had. <a href=\"https://springdoc.org/#javadoc-support\" rel=\"nofollow noreferrer\">With the example given in the SpringDoc documentation itself</a>, things didn't really work and I got the error that OP got.</p>\n<p>Googling around a bit more, <a href=\"https://stackoverflow.com/a/74287938/9713261\">I found this StackOverflow answer</a></p>\n<p>Following it, I just added the following to my pom.xml to make things work:</p>\n<p><strong>Add the following to your dependency:</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\n        &lt;artifactId&gt;therapi-runtime-javadoc&lt;/artifactId&gt;\n        &lt;version&gt;0.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Then add the following plugin to your <code>&lt;build&gt;</code> section</strong></p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\n                        &lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\n                        &lt;version&gt;0.15.0&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18976,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1701734527,"creation_date":1455847896,"question_id":35496115,"body_markdown":"I am trying to generate the javadoc using JDK 8 for a bunch of codes using lombok.\r\n\r\nI am getting the error below:\r\n\r\n    error: cannot find symbol\r\n    [ERROR] @RequiredArgsConstructor(onConstructor=@__(@Inject))\r\n    [ERROR] ^\r\n    [ERROR] symbol: class __\r\n\r\nAny advice will be much appreciated on how to resolve the error above.\r\n\r\nUpdate: the error is happening using the maven javadoc plugin configured as below:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.3&lt;/version&gt;\r\n                &lt;!--\r\n                &lt;configuration&gt;\r\n                    &lt;doclet&gt;ch.raffael.doclets.pegdown.PegdownDoclet&lt;/doclet&gt;\r\n                    &lt;docletArtifact&gt;\r\n                        &lt;groupId&gt;ch.raffael.pegdown-doclet&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;pegdown-doclet&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1.1&lt;/version&gt;\r\n                    &lt;/docletArtifact&gt;\r\n                    &lt;useStandardDocletOptions&gt;true&lt;/useStandardDocletOptions&gt;\r\n                &lt;/configuration&gt;\r\n                --&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>I am trying to generate the javadoc using JDK 8 for a bunch of codes using lombok.</p>\n\n<p>I am getting the error below:</p>\n\n<pre><code>error: cannot find symbol\n[ERROR] @RequiredArgsConstructor(onConstructor=@__(@Inject))\n[ERROR] ^\n[ERROR] symbol: class __\n</code></pre>\n\n<p>Any advice will be much appreciated on how to resolve the error above.</p>\n\n<p>Update: the error is happening using the maven javadoc plugin configured as below:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10.3&lt;/version&gt;\n            &lt;!--\n            &lt;configuration&gt;\n                &lt;doclet&gt;ch.raffael.doclets.pegdown.PegdownDoclet&lt;/doclet&gt;\n                &lt;docletArtifact&gt;\n                    &lt;groupId&gt;ch.raffael.pegdown-doclet&lt;/groupId&gt;\n                    &lt;artifactId&gt;pegdown-doclet&lt;/artifactId&gt;\n                    &lt;version&gt;1.1.1&lt;/version&gt;\n                &lt;/docletArtifact&gt;\n                &lt;useStandardDocletOptions&gt;true&lt;/useStandardDocletOptions&gt;\n            &lt;/configuration&gt;\n            --&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","mysql","json","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26952294,"reputation":324,"user_id":20521312,"display_name":"Dhanusha Dilshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701733520,"creation_date":1701733520,"answer_id":77603130,"question_id":77602754,"body_markdown":"Exactly it&#39;s possible to store JSON data in MySQL using Spring JPA and Hibernate. However, MySQL itself doesn&#39;t have a native JSON data type **`before version 5.7`**, so you might need to use a string column to store JSON data.\r\n\r\nFor save an array of JSON objects using Spring JPA and Hibernate, \r\nyou can refere bellow steps,\r\n\r\n1.First you should defined the Enity class like this,\r\n\r\n    @Entity\r\n    public class Employee {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        @Column(columnDefinition = &quot;json&quot;)\r\n        private String skills; //you can store JSON strings \r\n    \r\n        // keep getters and setters in here\r\n    }\r\n\r\n2.And then Serialize/Deserialize JSON:\r\n\r\nYou want to manually serialize/deserialize the `List&lt;Skill&gt;` to/from JSON when saving/retrieving data from the database. You can use libraries like Jackson for this purpose.\r\n\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.util.List;\r\n    \r\n    public class JsonUtil {\r\n    \r\n        private static final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n        public static String convertObjectToJson(Object object) throws JsonProcessingException {\r\n            return objectMapper.writeValueAsString(object);\r\n        }\r\n    \r\n        public static &lt;T&gt; T convertJsonToObject(String jsonString, Class&lt;T&gt; valueType) throws JsonProcessingException {\r\n            return objectMapper.readValue(jsonString, valueType);\r\n        }\r\n    \r\n        // Other utility methods if needed\r\n    }\r\n\r\n3.Save and retrive skils as JSON,\r\n\r\nWhen you saving the Employee object you shpuld before convert the List&lt;Skill&gt; to JSON string using the utility method, and when retrieving, convert the JSON string back to the List&lt;Skill&gt;.\r\n\r\nexample,\r\n\r\n\r\n\r\n    / Saving an Employee with Skills\r\n    List&lt;Skill&gt; skillsList = // Your list of skills\r\n    String skillsJson = JsonUtil.convertObjectToJson(skillsList);\r\n    Employee employee = new Employee();\r\n    employee.setSkills(skillsJson);\r\n    employeeRepository.save(employee);\r\n    \r\n    // Retrieving employee Skills\r\n    Employee retrievedEmployee = employeeRepository.findById(employee.getId()).orElse(null);\r\n    if (retrievedEmployee != null) {\r\n        String retrievedSkillsJson = retrievedEmployee.getSkills();\r\n        List&lt;Skill&gt; retrievedSkillsList = JsonUtil.convertJsonToObject(retrievedSkillsJson, new TypeReference&lt;List&lt;Skill&gt;&gt;() {});\r\n        // Use retrievedSkillsList as your neededs\r\n    }\r\n\r\nBut remeber that stroing JSON as a string has limitation.\r\n\r\n\r\n","title":"Is it possible to save an array of JSON objects in MySQL using Spring JPA + Hibernate","body":"<p>Exactly it's possible to store JSON data in MySQL using Spring JPA and Hibernate. However, MySQL itself doesn't have a native JSON data type <strong><code>before version 5.7</code></strong>, so you might need to use a string column to store JSON data.</p>\n<p>For save an array of JSON objects using Spring JPA and Hibernate,\nyou can refere bellow steps,</p>\n<p>1.First you should defined the Enity class like this,</p>\n<pre><code>@Entity\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(columnDefinition = &quot;json&quot;)\n    private String skills; //you can store JSON strings \n\n    // keep getters and setters in here\n}\n</code></pre>\n<p>2.And then Serialize/Deserialize JSON:</p>\n<p>You want to manually serialize/deserialize the <code>List&lt;Skill&gt;</code> to/from JSON when saving/retrieving data from the database. You can use libraries like Jackson for this purpose.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.util.List;\n\npublic class JsonUtil {\n\n    private static final ObjectMapper objectMapper = new ObjectMapper();\n\n    public static String convertObjectToJson(Object object) throws JsonProcessingException {\n        return objectMapper.writeValueAsString(object);\n    }\n\n    public static &lt;T&gt; T convertJsonToObject(String jsonString, Class&lt;T&gt; valueType) throws JsonProcessingException {\n        return objectMapper.readValue(jsonString, valueType);\n    }\n\n    // Other utility methods if needed\n}\n</code></pre>\n<p>3.Save and retrive skils as JSON,</p>\n<p>When you saving the Employee object you shpuld before convert the List to JSON string using the utility method, and when retrieving, convert the JSON string back to the List.</p>\n<p>example,</p>\n<pre><code>/ Saving an Employee with Skills\nList&lt;Skill&gt; skillsList = // Your list of skills\nString skillsJson = JsonUtil.convertObjectToJson(skillsList);\nEmployee employee = new Employee();\nemployee.setSkills(skillsJson);\nemployeeRepository.save(employee);\n\n// Retrieving employee Skills\nEmployee retrievedEmployee = employeeRepository.findById(employee.getId()).orElse(null);\nif (retrievedEmployee != null) {\n    String retrievedSkillsJson = retrievedEmployee.getSkills();\n    List&lt;Skill&gt; retrievedSkillsList = JsonUtil.convertJsonToObject(retrievedSkillsJson, new TypeReference&lt;List&lt;Skill&gt;&gt;() {});\n    // Use retrievedSkillsList as your neededs\n}\n</code></pre>\n<p>But remeber that stroing JSON as a string has limitation.</p>\n"}],"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701733520,"creation_date":1701726644,"question_id":77602754,"body_markdown":"I have a table called `employee` with one of the attributes being list of skills. I would like to save this list of skills as an array in same table as `employee`  \r\n\r\nI do not want to(cannot even if I wanted to) create a separate table to save these objects/skills. \r\n\r\nI am sharing the relevant piece of the code: \r\n\r\nEmployee.java \r\n\r\n    @Entity\r\n    public class Employee {\r\n    \t\r\n    \tprivate int id;\r\n    \r\n    \tprivate List&lt;Skill&gt; skills = new ArrayList&lt;&gt;();\r\n    \r\n    \t//Getter and Setter\r\n    }\r\n\r\nSkill.java\r\n\r\n    @Entity\r\n    public class Skill {\r\n    \t\r\n    \tprivate String name;\r\n    \r\n    \tprivate String category;\r\n    \r\n    \t//Getter and Setter\r\n    \r\n    }\r\n\r\n\r\nI tried looking for some answers posted by others and I found examples for saving JSON object with MySQL and Spring JPA but not a JSON Array (With Spring JPA)\r\n\r\n[Link 1][1]\r\n\r\n[Link 2][2]\r\n\r\nI also found an example where array of JSON objects is mapped to Java entity but it only works with Postgres\r\n\r\n[Link 3][3]\r\n\r\nI would really appreciate some help with this and please let me know if you need more information \r\n\r\n\r\n  [1]: https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\r\n  [2]: https://vladmihalcea.com/sql-server-json-hibernate/\r\n  [3]: https://vladmihalcea.com/how-to-map-json-collections-using-jpa-and-hibernate/","title":"Is it possible to save an array of JSON objects in MySQL using Spring JPA + Hibernate","body":"<p>I have a table called <code>employee</code> with one of the attributes being list of skills. I would like to save this list of skills as an array in same table as <code>employee</code></p>\n<p>I do not want to(cannot even if I wanted to) create a separate table to save these objects/skills.</p>\n<p>I am sharing the relevant piece of the code:</p>\n<p>Employee.java</p>\n<pre><code>@Entity\npublic class Employee {\n    \n    private int id;\n\n    private List&lt;Skill&gt; skills = new ArrayList&lt;&gt;();\n\n    //Getter and Setter\n}\n</code></pre>\n<p>Skill.java</p>\n<pre><code>@Entity\npublic class Skill {\n    \n    private String name;\n\n    private String category;\n\n    //Getter and Setter\n\n}\n</code></pre>\n<p>I tried looking for some answers posted by others and I found examples for saving JSON object with MySQL and Spring JPA but not a JSON Array (With Spring JPA)</p>\n<p><a href=\"https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\" rel=\"nofollow noreferrer\">Link 1</a></p>\n<p><a href=\"https://vladmihalcea.com/sql-server-json-hibernate/\" rel=\"nofollow noreferrer\">Link 2</a></p>\n<p>I also found an example where array of JSON objects is mapped to Java entity but it only works with Postgres</p>\n<p><a href=\"https://vladmihalcea.com/how-to-map-json-collections-using-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">Link 3</a></p>\n<p>I would really appreciate some help with this and please let me know if you need more information</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":925856,"reputation":6351,"user_id":956660,"accept_rate":100,"display_name":"Cyrbil"},"score":0,"creation_date":1434310550,"post_id":30833582,"comment_id":49711893,"body_markdown":"Period have a method `long get(TemporalUnit unit)`, TemporalUnit can be ChronoUnit.DAYS","body":"Period have a method <code>long get(TemporalUnit unit)</code>, TemporalUnit can be ChronoUnit.DAYS"},{"owner":{"account_id":186532,"reputation":13508,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"score":8,"creation_date":1434310718,"post_id":30833582,"comment_id":49711942,"body_markdown":"@cyrbil but that does not do what the OP asks, try it and see.","body":"@cyrbil but that does not do what the OP asks, try it and see."}],"answers":[{"tags":[],"owner":{"account_id":5746837,"reputation":3806,"user_id":4537840,"accept_rate":80,"display_name":"Saket Mittal"},"down_vote_count":1,"up_vote_count":158,"is_accepted":true,"score":157,"last_activity_date":1434567030,"creation_date":1434310323,"answer_id":30833631,"question_id":30833582,"body_markdown":"From the [documentation][1]:\r\n\r\n&gt; To define an amount of time with date-based values (years, months,\r\n&gt; days), use the `Period` class. The `Period` class provides various get\r\n&gt; methods, such as `getMonths`, `getDays`, and `getYears`.To present the amount &gt;of time measured in a  single unit of time, such as days, you can use the\r\n&gt; `ChronoUnit.between` method.\r\n&gt; \r\n&gt;     LocalDate today = LocalDate.now();\r\n&gt;     LocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\r\n&gt;     \r\n&gt;     Period p = Period.between(birthday, today);\r\n&gt;     long p2 = ChronoUnit.DAYS.between(birthday, today);\r\n&gt;     System.out.println(&quot;You are &quot; + p.getYears() + &quot; years, &quot; + p.getMonths() +\r\n&gt;                        &quot; months, and &quot; + p.getDays() +\r\n&gt;                        &quot; days old. (&quot; + p2 + &quot; days total)&quot;);\r\n&gt; \r\n&gt; The code produces output similar to the following:\r\n&gt; \r\n&gt;     You are 53 years, 4 months, and 29 days old. (19508 days total)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html","title":"How to calculate the number of days in a period?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\">documentation</a>:</p>\n\n<blockquote>\n  <p>To define an amount of time with date-based values (years, months,\n  days), use the <code>Period</code> class. The <code>Period</code> class provides various get\n  methods, such as <code>getMonths</code>, <code>getDays</code>, and <code>getYears</code>.To present the amount >of time measured in a  single unit of time, such as days, you can use the\n  <code>ChronoUnit.between</code> method.</p>\n\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\n\nPeriod p = Period.between(birthday, today);\nlong p2 = ChronoUnit.DAYS.between(birthday, today);\nSystem.out.println(\"You are \" + p.getYears() + \" years, \" + p.getMonths() +\n                   \" months, and \" + p.getDays() +\n                   \" days old. (\" + p2 + \" days total)\");\n</code></pre>\n  \n  <p>The code produces output similar to the following:</p>\n\n<pre><code>You are 53 years, 4 months, and 29 days old. (19508 days total)\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":186532,"reputation":13508,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1434311245,"creation_date":1434311245,"answer_id":30833785,"question_id":30833582,"body_markdown":"There is no way to do what you ask. The reason is that it is not possible from a `Period` to deduce the actual number of calendar days in the period. A `Period` is not tied to specific dates, once constructed in the way you show, it loses track of the actual calendar dates.\r\n\r\nFor example your first period represents a period of 1 month and 1 day. But the period does not care which month. It is simply a concept of &quot;a month and a day&quot;.\r\n\r\nIf you need the number of days between two dates you should use `ChronoUnit.DAYS.between` as Saket Mittal writes.","title":"How to calculate the number of days in a period?","body":"<p>There is no way to do what you ask. The reason is that it is not possible from a <code>Period</code> to deduce the actual number of calendar days in the period. A <code>Period</code> is not tied to specific dates, once constructed in the way you show, it loses track of the actual calendar dates.</p>\n\n<p>For example your first period represents a period of 1 month and 1 day. But the period does not care which month. It is simply a concept of \"a month and a day\".</p>\n\n<p>If you need the number of days between two dates you should use <code>ChronoUnit.DAYS.between</code> as Saket Mittal writes.</p>\n"},{"tags":[],"owner":{"account_id":281453,"reputation":2359,"user_id":577769,"display_name":"Ualter Jr."},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1459956054,"creation_date":1459956054,"answer_id":36455454,"question_id":30833582,"body_markdown":"There&#39;s a specific object depending at the amount of time you&#39;d like to deal with.\r\nThis page [here][1] is very useful explaining which is best for your scenario.\r\n\r\n&gt; The ChronoUnit.between method is useful when you want to measure an amount of time in a single unit of time only, such as days or seconds\r\n\r\n    LocalDate localDateStartDate = LocalDate.of(2016, 06, 10);\r\n    LocalDate localDateEndDate = LocalDate.of(2016,06,23);\r\n    long days = ChronoUnit.DAYS.between(localDateStartDate, localDateEndDate);\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html","title":"How to calculate the number of days in a period?","body":"<p>There's a specific object depending at the amount of time you'd like to deal with.\nThis page <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"noreferrer\">here</a> is very useful explaining which is best for your scenario.</p>\n\n<blockquote>\n  <p>The ChronoUnit.between method is useful when you want to measure an amount of time in a single unit of time only, such as days or seconds</p>\n</blockquote>\n\n<pre><code>LocalDate localDateStartDate = LocalDate.of(2016, 06, 10);\nLocalDate localDateEndDate = LocalDate.of(2016,06,23);\nlong days = ChronoUnit.DAYS.between(localDateStartDate, localDateEndDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289403,"reputation":2407,"user_id":1241783,"accept_rate":61,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689818817,"creation_date":1689818817,"answer_id":76726227,"question_id":30833582,"body_markdown":"ChronoUnit works fine, but it requires API level 26, if you are still targeting API level 24 like me, I found this alternative which works well:\r\n\r\n    val start = LocalDate.now()\r\n    val end = LocalDate.now().plusYears(1)\r\n    val totalDays = Duration.between(start.atStartOfDay(), end.atStartOfDay()).toDays()\r\n\r\natStartOfDay will convert LocalDate to LocalDateTime, with time set to 00:00, so we can use Duration calculation to get the total days between the dates","title":"How to calculate the number of days in a period?","body":"<p>ChronoUnit works fine, but it requires API level 26, if you are still targeting API level 24 like me, I found this alternative which works well:</p>\n<pre><code>val start = LocalDate.now()\nval end = LocalDate.now().plusYears(1)\nval totalDays = Duration.between(start.atStartOfDay(), end.atStartOfDay()).toDays()\n</code></pre>\n<p>atStartOfDay will convert LocalDate to LocalDateTime, with time set to 00:00, so we can use Duration calculation to get the total days between the dates</p>\n"},{"tags":[],"owner":{"account_id":61719,"reputation":1399,"user_id":183795,"display_name":"Luis Rocha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701733493,"creation_date":1701733493,"answer_id":77603128,"question_id":30833582,"body_markdown":"You can just use LocalDate `until` method. For example:\r\n\r\n    LocalDate startDate = LocalDate.now().minusYears(1);\r\n    LocalDate endDate = LocalDate.now();\r\n\r\n    Long days = startDate.until(endDate, ChronoUnit.DAYS);\r\n    System.out.println(days);\r\n\r\nThis produces the following output:\r\n\r\n    365","title":"How to calculate the number of days in a period?","body":"<p>You can just use LocalDate <code>until</code> method. For example:</p>\n<pre><code>LocalDate startDate = LocalDate.now().minusYears(1);\nLocalDate endDate = LocalDate.now();\n\nLong days = startDate.until(endDate, ChronoUnit.DAYS);\nSystem.out.println(days);\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>365\n</code></pre>\n"}],"owner":{"display_name":"user3248346"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41550,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":30833631,"answer_count":5,"score":74,"last_activity_date":1701733493,"creation_date":1434310031,"question_id":30833582,"body_markdown":"For the following `Period` calculation:\r\n\r\n    Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 9, 2))\r\n\r\nthe result is:\r\n\r\n    P1M1D\r\n\r\nThis is equivalent to 31 days + 1 day = 32 days.\r\n\r\nFor this `Period`:\r\n\r\n    Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 10, 2))\r\n\r\nthe result is:\r\n\r\n    P2M1D\r\n\r\nThis is equivalent to: 31 days (in August) + 30 days (in September) + 1 (in October) = 62 days\r\n\r\nIs there a method in the `java.time` package which will give the number of days in a `Period`? I can&#39;t find one. Not sure if I have overlooked anything or if it is just plain not there.","title":"How to calculate the number of days in a period?","body":"<p>For the following <code>Period</code> calculation:</p>\n\n<pre><code>Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 9, 2))\n</code></pre>\n\n<p>the result is:</p>\n\n<pre><code>P1M1D\n</code></pre>\n\n<p>This is equivalent to 31 days + 1 day = 32 days.</p>\n\n<p>For this <code>Period</code>:</p>\n\n<pre><code>Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 10, 2))\n</code></pre>\n\n<p>the result is:</p>\n\n<pre><code>P2M1D\n</code></pre>\n\n<p>This is equivalent to: 31 days (in August) + 30 days (in September) + 1 (in October) = 62 days</p>\n\n<p>Is there a method in the <code>java.time</code> package which will give the number of days in a <code>Period</code>? I can't find one. Not sure if I have overlooked anything or if it is just plain not there.</p>\n"},{"tags":["java","algorithm","caching"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":83,"is_accepted":true,"score":81,"last_activity_date":1298446765,"creation_date":1298446765,"answer_id":5088167,"question_id":5088128,"body_markdown":"Imagine you were looking up the details of buses as they arrived at a bus stop, based on their bus number (or whatever identifier you use).\r\n\r\nIt&#39;s somewhat reasonable to think that if you&#39;ve *just* seen a number 36 bus, you&#39;re *less* likely to see another one imminently than to see one of the other buses that stops there.\r\n\r\nJust one example, but the idea is more general: in some cases, having &quot;just seen something&quot; is a good indicator that you&#39;re *unlikely* to see the same thing again soon.","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>Imagine you were looking up the details of buses as they arrived at a bus stop, based on their bus number (or whatever identifier you use).</p>\n\n<p>It's somewhat reasonable to think that if you've <em>just</em> seen a number 36 bus, you're <em>less</em> likely to see another one imminently than to see one of the other buses that stops there.</p>\n\n<p>Just one example, but the idea is more general: in some cases, having \"just seen something\" is a good indicator that you're <em>unlikely</em> to see the same thing again soon.</p>\n"},{"tags":[],"owner":{"account_id":124667,"reputation":30351,"user_id":319906,"display_name":"Jeremiah Willcock"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1298446777,"creation_date":1298446777,"answer_id":5088169,"question_id":5088128,"body_markdown":"The use case is when you are iterating through the same (larger-than-cache) data multiple times, and so you will not go back to recently accessed data.[1]\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cache_algorithms#Most_Recently_Used","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>The use case is when you are iterating through the same (larger-than-cache) data multiple times, and so you will not go back to recently accessed data.<a href=\"http://en.wikipedia.org/wiki/Cache_algorithms#Most_Recently_Used\" rel=\"nofollow\">1</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1701733468,"creation_date":1298448951,"answer_id":5088434,"question_id":5088128,"body_markdown":"I think the both @Jon Skeet and @Jeremiah Willcock&#39;s answers are describing using MRU as a way to avoid polluting the cache with useless entries.  \r\n\r\n  1. This only works if your cache APIs allow you to change the policy on the fly; e.g. on a per-request basis.  Setting your cache policy to MRU in &quot;normal&quot; situations is probably a bad idea ... because your cache becomes ineffective once it fills up.\r\n\r\n  1. MRU has the problem that if you get a hit on an entry that is often used in &quot;normal&quot; mode while doing MRU lookups, you end up throwing out the entry ... \r\n\r\nBetter alternatives to MRU for doing a scan without poluting the cache are:\r\n\r\n  - bypass the cache entirely,\r\n  - probe the cache without doing a read through / update, and without altering the LRU chains.\r\n\r\n-------------------------\r\n\r\nFor what it is worth, I cannot think of any use-cases for MRU that don&#39;t fit this general pattern.\r\n\r\n-------------------------\r\n\r\nIncidentally, @Jon Skeet&#39;s example of buses arrivals is not always borne out in reality due the bunching effect.  \r\n\r\n  - If a bus is running late, there are likely to be more than average people waiting at each bus stop.  The bus has to stop more frequently, and stays longer at each stop. This slows down the late bus.\r\n\r\n  - A bus that is on time that is following the late bus will typically have fewer people than the average waiting at each bus stop.  (Because they just go onto the late bus.)  This speeds up the following bus.\r\n\r\n  - The net result is that the buses tend to bunch up.\r\n\r\nSee: https://en.wikipedia.org/wiki/Bus_bunching","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>I think the both @Jon Skeet and @Jeremiah Willcock's answers are describing using MRU as a way to avoid polluting the cache with useless entries.</p>\n<ol>\n<li><p>This only works if your cache APIs allow you to change the policy on the fly; e.g. on a per-request basis.  Setting your cache policy to MRU in &quot;normal&quot; situations is probably a bad idea ... because your cache becomes ineffective once it fills up.</p>\n</li>\n<li><p>MRU has the problem that if you get a hit on an entry that is often used in &quot;normal&quot; mode while doing MRU lookups, you end up throwing out the entry ...</p>\n</li>\n</ol>\n<p>Better alternatives to MRU for doing a scan without poluting the cache are:</p>\n<ul>\n<li>bypass the cache entirely,</li>\n<li>probe the cache without doing a read through / update, and without altering the LRU chains.</li>\n</ul>\n<hr />\n<p>For what it is worth, I cannot think of any use-cases for MRU that don't fit this general pattern.</p>\n<hr />\n<p>Incidentally, @Jon Skeet's example of buses arrivals is not always borne out in reality due the bunching effect.</p>\n<ul>\n<li><p>If a bus is running late, there are likely to be more than average people waiting at each bus stop.  The bus has to stop more frequently, and stays longer at each stop. This slows down the late bus.</p>\n</li>\n<li><p>A bus that is on time that is following the late bus will typically have fewer people than the average waiting at each bus stop.  (Because they just go onto the late bus.)  This speeds up the following bus.</p>\n</li>\n<li><p>The net result is that the buses tend to bunch up.</p>\n</li>\n</ul>\n<p>See: <a href=\"https://en.wikipedia.org/wiki/Bus_bunching\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Bus_bunching</a></p>\n"},{"tags":[],"owner":{"account_id":4436726,"reputation":21,"user_id":3612388,"display_name":"user3612388"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399469174,"creation_date":1399469174,"answer_id":23519164,"question_id":5088128,"body_markdown":"Lets say you are caching the seats of a hall for a concert, to expedite the booking. As your application books the seats, remove the cached item from the cache as they are no more required for the booking application.","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>Lets say you are caching the seats of a hall for a concert, to expedite the booking. As your application books the seats, remove the cached item from the cache as they are no more required for the booking application.</p>\n"},{"tags":[],"owner":{"account_id":3702078,"reputation":3841,"user_id":3081480,"accept_rate":78,"display_name":"Kyle Chadha"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566432521,"creation_date":1566432521,"answer_id":57600546,"question_id":5088128,"body_markdown":"Perhaps a more tangible example would be a media server. When the user has completed watching a video (let&#39;s say it&#39;s an episode of a TV show), they are presumably the least likely to want to view it again. So if you must evict something, evict the most recently viewed item.\r\n\r\nIn practice though, I believe this type of cache is typically used in addition to an LRU or LFU cache, where the two caches in tandem allow you to cover a wide variety of cases.","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>Perhaps a more tangible example would be a media server. When the user has completed watching a video (let's say it's an episode of a TV show), they are presumably the least likely to want to view it again. So if you must evict something, evict the most recently viewed item.</p>\n\n<p>In practice though, I believe this type of cache is typically used in addition to an LRU or LFU cache, where the two caches in tandem allow you to cover a wide variety of cases.</p>\n"},{"tags":[],"owner":{"account_id":26398464,"reputation":21,"user_id":20049244,"display_name":"callmeabin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663739636,"creation_date":1663739636,"answer_id":73795939,"question_id":5088128,"body_markdown":"I know one scenario MRU is better than LRU. In database cache, assume we have a cache that can contain 50 blocks, and we have 2 tables that exceed the size of cache(let&#39;s say 51 blocks). For block nested loop join operation, we need to join rows to the other entire table. But since cache is smaller than the entire table, we need to drop some blocks.\r\n\r\nFor cache policy LRU, it will drop the first block of the table, and replace it with last block of the table. However, when we continue to join next row with the entire table, we find the first block is missing, then we load the first block into the place of last round second block. And cascading reload all the entire table.\r\n\r\nBut for MRU, we only need to replace the latest block of the table, so that we can reuse all the blocks loaded before. \r\n\r\nHope this can help you","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>I know one scenario MRU is better than LRU. In database cache, assume we have a cache that can contain 50 blocks, and we have 2 tables that exceed the size of cache(let's say 51 blocks). For block nested loop join operation, we need to join rows to the other entire table. But since cache is smaller than the entire table, we need to drop some blocks.</p>\n<p>For cache policy LRU, it will drop the first block of the table, and replace it with last block of the table. However, when we continue to join next row with the entire table, we find the first block is missing, then we load the first block into the place of last round second block. And cascading reload all the entire table.</p>\n<p>But for MRU, we only need to replace the latest block of the table, so that we can reuse all the blocks loaded before.</p>\n<p>Hope this can help you</p>\n"}],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27622,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":5088167,"answer_count":6,"score":47,"last_activity_date":1701733468,"creation_date":1298446506,"question_id":5088128,"body_markdown":"I know the algorithms of MRU and its reversed one Least Recently Used (LRU).\r\n\r\nI think LRU is reasonable, as LRU element means it will be used at least possible in future. However, MRU element means the element is very possible to be used in future, why evict it? What is the reasonable scenario?\r\n","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>I know the algorithms of MRU and its reversed one Least Recently Used (LRU).</p>\n\n<p>I think LRU is reasonable, as LRU element means it will be used at least possible in future. However, MRU element means the element is very possible to be used in future, why evict it? What is the reasonable scenario?</p>\n"},{"tags":["java","selinux","busybox"],"owner":{"account_id":27039980,"reputation":3,"user_id":20594932,"display_name":"sw team"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701732866,"creation_date":1701732866,"question_id":77603098,"body_markdown":"I&#39;m trying to use busybox in my non-rooted application but for some reason I&#39;m getting a permission denied error, I&#39;m testing on Android 11 and I gave all permissions to the executable like &#39;chmod 777&#39; but the executable still doesn&#39;t work\r\n\r\n[enter image description here](https://i.stack.imgur.com/yxinA.jpg)\r\n\r\nEsse &#233; meu c&#243;digo pra executar comando\r\n```\r\nProcess mProcess = mProcessBuilder.start();\r\n\t\t\t\r\n\t\t\tBufferedReader mBufferedReader = new BufferedReader(new InputStreamReader(mProcess.getInputStream()));\r\n\t\t\t\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = mBufferedReader.readLine()) != null) {\r\n\t\t\t\tpublishProgress(String.format(&quot;%s\\n&quot;, line));\r\n\t\t\t}\r\n\t\t\tmBufferedReader.close();\r\n\t\t\t\r\n\t\t\tBufferedReader mBufferedReaderError = new BufferedReader(new InputStreamReader(mProcess.getErrorStream()));\r\n\t\t\twhile ((line = mBufferedReaderError.readLine()) != null) {\r\n\t\t\t    publishProgress(String.format(&quot;%s\\n&quot;, line));\r\n\t\t\t}\r\n\t\t\tmBufferedReaderError.close();\r\n\t\t\t\r\n\t\t\tmProcess.waitFor();\r\n```","title":"binary executable in java android permission denied","body":"<p>I'm trying to use busybox in my non-rooted application but for some reason I'm getting a permission denied error, I'm testing on Android 11 and I gave all permissions to the executable like 'chmod 777' but the executable still doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/yxinA.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Esse é meu código pra executar comando</p>\n<pre><code>Process mProcess = mProcessBuilder.start();\n            \n            BufferedReader mBufferedReader = new BufferedReader(new InputStreamReader(mProcess.getInputStream()));\n            \n            String line = null;\n            while ((line = mBufferedReader.readLine()) != null) {\n                publishProgress(String.format(&quot;%s\\n&quot;, line));\n            }\n            mBufferedReader.close();\n            \n            BufferedReader mBufferedReaderError = new BufferedReader(new InputStreamReader(mProcess.getErrorStream()));\n            while ((line = mBufferedReaderError.readLine()) != null) {\n                publishProgress(String.format(&quot;%s\\n&quot;, line));\n            }\n            mBufferedReaderError.close();\n            \n            mProcess.waitFor();\n</code></pre>\n"},{"tags":["java","spring","azure","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":14544371,"reputation":15021,"user_id":10504999,"display_name":"Tony Ju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565665798,"creation_date":1565665798,"answer_id":57470657,"question_id":57464714,"body_markdown":"You can get the access token this way:\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model, OAuth2AuthenticationToken authentication) {\r\n        final OAuth2AuthorizedClient authorizedClient =\r\n                this.authorizedClientService.loadAuthorizedClient(\r\n                        authentication.getAuthorizedClientRegistrationId(),\r\n                        authentication.getName());\r\n        String accessToken=authorizedClient.getAccessToken().getTokenValue();\r\n        System.out.println(accessToken);\r\n        model.addAttribute(&quot;userName&quot;, authentication.getName());\r\n        return &quot;index&quot;;\r\n    }\r\n\r\nFor the complete sample, you can refer to [this][1].\r\n\r\n\r\n  [1]: https://github.com/microsoft/azure-spring-boot/tree/master/azure-spring-boot-samples/azure-active-directory-spring-boot-backend-sample","title":"Azure Spring Boot - Get OAuth 2.0 Access Token of Logged In User","body":"<p>You can get the access token this way:</p>\n\n<pre><code>@GetMapping(\"/\")\npublic String index(Model model, OAuth2AuthenticationToken authentication) {\n    final OAuth2AuthorizedClient authorizedClient =\n            this.authorizedClientService.loadAuthorizedClient(\n                    authentication.getAuthorizedClientRegistrationId(),\n                    authentication.getName());\n    String accessToken=authorizedClient.getAccessToken().getTokenValue();\n    System.out.println(accessToken);\n    model.addAttribute(\"userName\", authentication.getName());\n    return \"index\";\n}\n</code></pre>\n\n<p>For the complete sample, you can refer to <a href=\"https://github.com/microsoft/azure-spring-boot/tree/master/azure-spring-boot-samples/azure-active-directory-spring-boot-backend-sample\" rel=\"nofollow noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":319016,"reputation":441,"user_id":636542,"display_name":"DejanR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701732837,"creation_date":1701732837,"answer_id":77603096,"question_id":57464714,"body_markdown":"    @GetMapping(&quot;/&quot;)\r\n    // inject OAuth2AuthorizedClient\r\n    public String hello(@RegisteredOAuth2AuthorizedClient(&quot;example-dev&quot;) OAuth2AuthorizedClient authorizedClient) {\r\n        \r\n        //here is the access token\r\n        String accessToken = authorizedClient.getAccessToken().getTokenValue();\r\n    \r\n    }\r\n\r\nbe sure that application.yml register the azure client &#39;example-dev&#39;:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              azure:\r\n                issuer-uri: https://login.microsoftonline.com/xxxx/v2.0    \r\n            registration:\r\n              example-dev:\r\n                provider: azure\r\n                client-id: xxxxx\r\n                client-secret: xxxx     \r\n                scope:\r\n                - openid\r\n                - email\r\n                - profile\r\n    \t\r\n\r\n\t\t\r\n\t\t\r\n\t\r\n","title":"Azure Spring Boot - Get OAuth 2.0 Access Token of Logged In User","body":"<pre><code>@GetMapping(&quot;/&quot;)\n// inject OAuth2AuthorizedClient\npublic String hello(@RegisteredOAuth2AuthorizedClient(&quot;example-dev&quot;) OAuth2AuthorizedClient authorizedClient) {\n    \n    //here is the access token\n    String accessToken = authorizedClient.getAccessToken().getTokenValue();\n\n}\n</code></pre>\n<p>be sure that application.yml register the azure client 'example-dev':</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          azure:\n            issuer-uri: https://login.microsoftonline.com/xxxx/v2.0    \n        registration:\n          example-dev:\n            provider: azure\n            client-id: xxxxx\n            client-secret: xxxx     \n            scope:\n            - openid\n            - email\n            - profile\n    \n\n    \n    \n</code></pre>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4161,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701732837,"creation_date":1565626508,"question_id":57464714,"body_markdown":"I use the `azure-active-directory-spring-boot-starter` to secure endpoints in my spring boot application. This works properly - when a user accesses my application, they are redirected to Azure to log in, then directed back to my application. In my controllers, I can access the `OAuth2AuthenticationToken` to get info on the logged-in user by just adding it as a method parameter and letting spring inject it, as such.\r\n\r\n    @RestController\r\n    public class SomeController {\r\n    \r\n        @GetMapping(&quot;/something&quot;)\r\n        public Object getSomething(final OAuth2AuthenticationToken authToken) {\r\n            final Map&lt;String, Object&gt; attributes = authToken.getPrincipal().getAttributes();\r\n        }\r\n\r\n    }\r\n\r\nHowever, I want to call the Microsoft Graph API on behalf of the logged-in user in order to get additional information. In order to do that, I need to retrieve the OAuth 2.0 access token for the logged-in user. When running through a debugger, it does not look like it is contained anywhere in the `OAuth2AuthenticationToken` object. I tried adding `OAuth2AccessToken` as a controller parameter, the same way as the `OAuth2AuthenticationToken`, but get the following error.\r\n\r\n    java.lang.NoSuchMethodException: org.springframework.security.oauth2.core.OAuth2AccessToken.&lt;init&gt;()\r\n    \tat java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_162]\r\n    \tat java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_162]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:216) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:84) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:139) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:126) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_162]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_162]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_162]\r\n\r\n\r\nHow can I retrieve the OAuth 2 access token for the logged-in user in my controller?\r\n","title":"Azure Spring Boot - Get OAuth 2.0 Access Token of Logged In User","body":"<p>I use the <code>azure-active-directory-spring-boot-starter</code> to secure endpoints in my spring boot application. This works properly - when a user accesses my application, they are redirected to Azure to log in, then directed back to my application. In my controllers, I can access the <code>OAuth2AuthenticationToken</code> to get info on the logged-in user by just adding it as a method parameter and letting spring inject it, as such.</p>\n\n<pre><code>@RestController\npublic class SomeController {\n\n    @GetMapping(\"/something\")\n    public Object getSomething(final OAuth2AuthenticationToken authToken) {\n        final Map&lt;String, Object&gt; attributes = authToken.getPrincipal().getAttributes();\n    }\n\n}\n</code></pre>\n\n<p>However, I want to call the Microsoft Graph API on behalf of the logged-in user in order to get additional information. In order to do that, I need to retrieve the OAuth 2.0 access token for the logged-in user. When running through a debugger, it does not look like it is contained anywhere in the <code>OAuth2AuthenticationToken</code> object. I tried adding <code>OAuth2AccessToken</code> as a controller parameter, the same way as the <code>OAuth2AuthenticationToken</code>, but get the following error.</p>\n\n<pre><code>java.lang.NoSuchMethodException: org.springframework.security.oauth2.core.OAuth2AccessToken.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_162]\n    at java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_162]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:216) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:84) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:139) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:126) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_162]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_162]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_162]\n</code></pre>\n\n<p>How can I retrieve the OAuth 2 access token for the logged-in user in my controller?</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":13210239,"reputation":59,"user_id":9540717,"display_name":"Fahmi Barguellil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701732825,"creation_date":1701732825,"answer_id":77603095,"question_id":77602329,"body_markdown":"you can make this check : \r\n\r\nchange Gradle JDK to a version that is compatible with your new upgrade.\r\n\r\nFile -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle\r\n\r\nOnce it is done it is recommended to make : \r\n\r\nFile -&gt; Invalidate Caches / Restart \r\n","title":"Flutter build fails on android emulator","body":"<p>you can make this check :</p>\n<p>change Gradle JDK to a version that is compatible with your new upgrade.</p>\n<p>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</p>\n<p>Once it is done it is recommended to make :</p>\n<p>File -&gt; Invalidate Caches / Restart</p>\n"}],"owner":{"account_id":20707728,"reputation":109,"user_id":15205158,"display_name":"mame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701732825,"creation_date":1701721055,"question_id":77602329,"body_markdown":"The build of my flutter app fails since I installed new java 17 version.\r\n\r\nI already updated ```JAVA_HOME``` and the gradle user home in Android Studio.\r\n\r\nThis is how my ```gradle-wrapper.properties``` file looks like\r\n\r\n```\r\n#Fri Jun 23 08:50:38 CEST 2017\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\r\n```\r\n\r\nThis is the error message I got:\r\n\r\n``` \r\nA problem occurred configuring project &#39;:cloud_firestore&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:cloud_firestore:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\r\n     Required by:\r\n         project :cloud_firestore\r\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6.1&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n&gt; Failed to notify project evaluation listener.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n   &gt; Could not find method implementation() for arguments [project &#39;:firebase_core&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n```","title":"Flutter build fails on android emulator","body":"<p>The build of my flutter app fails since I installed new java 17 version.</p>\n<p>I already updated <code>JAVA_HOME</code> and the gradle user home in Android Studio.</p>\n<p>This is how my <code>gradle-wrapper.properties</code> file looks like</p>\n<pre><code>#Fri Jun 23 08:50:38 CEST 2017\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\n</code></pre>\n<p>This is the error message I got:</p>\n<pre><code>A problem occurred configuring project ':cloud_firestore'.\n&gt; Could not resolve all files for configuration ':cloud_firestore:classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\n     Required by:\n         project :cloud_firestore\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6.1' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:8.1.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n&gt; Failed to notify project evaluation listener.\n   &gt; Could not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.\n   &gt; Could not find method implementation() for arguments [project ':firebase_core'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n   &gt; Could not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701732288,"post_id":77603032,"comment_id":136810007,"body_markdown":"You have `recurse1` returning `re`, so it can only ever return the base case. But you have `recurse2` returning `x`, so it always returns its input unchanged.","body":"You have <code>recurse1</code> returning <code>re</code>, so it can only ever return the base case. But you have <code>recurse2</code> returning <code>x</code>, so it always returns its input unchanged."},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1701733437,"post_id":77603032,"comment_id":136810097,"body_markdown":"That&#39;s quite simple: despite the base case `recurse2` would always return its argument. Thanks!","body":"That&#39;s quite simple: despite the base case <code>recurse2</code> would always return its argument. Thanks!"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701734189,"post_id":77603032,"comment_id":136810162,"body_markdown":"Sounds like you got it. There is one special case where `recurse2` would return the base case though, and that&#39;s when its input `x` is less than or equal to `0`.","body":"Sounds like you got it. There is one special case where <code>recurse2</code> would return the base case though, and that&#39;s when its input <code>x</code> is less than or equal to <code>0</code>."}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701732715,"creation_date":1701732715,"answer_id":77603090,"question_id":77603032,"body_markdown":"You must know that the return at the end of the function is different?\r\n\r\nChange you program to be like this, explicitly outputting the values as walk through the program and showing the call depth to your recursive program.  Maybe this will help you understand what is going on:\r\n\r\n```\r\npublic class T {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Version 1\\n&quot;);\r\n        recurse1(5, 0);\r\n        System.out.println(&quot;\\n=============\\nVersion 2\\n&quot;);\r\n        recurse2(5, 0);\r\n    }\r\n\r\n    public static int recurse1(int x, int callDepth) {\r\n        //base condition\r\n        if(x &lt;= 0) return 1;\r\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\r\n        int re = recurse1(x - 1, callDepth+1);\r\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, returning this value&quot;);\r\n\r\n        //System.out.println(&quot;re &quot;+re+&quot;, &quot;);\r\n\r\n        return re;\r\n    }\r\n\r\n    public static int recurse2(int x, int callDepth) {\r\n        //base condition\r\n        if(x &lt;= 0) return 1;\r\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\r\n        int re = recurse2(x - 1, callDepth+1);\r\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, but returning &quot; + x);\r\n\r\n        //System.out.print(&quot;re &quot;+re+&quot;, &quot;);\r\n\r\n        return x;\r\n    }\r\n\r\n    public static String indent(int padding) {\r\n        String pad = &quot;&quot;;\r\n        for(int i=0; i&lt; padding; i++) {\r\n            pad += &quot;  &quot;;\r\n        }\r\n        return pad;\r\n    }\r\n```","title":"How does java handle recursive calls with multiple return statements?","body":"<p>You must know that the return at the end of the function is different?</p>\n<p>Change you program to be like this, explicitly outputting the values as walk through the program and showing the call depth to your recursive program.  Maybe this will help you understand what is going on:</p>\n<pre><code>public class T {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Version 1\\n&quot;);\n        recurse1(5, 0);\n        System.out.println(&quot;\\n=============\\nVersion 2\\n&quot;);\n        recurse2(5, 0);\n    }\n\n    public static int recurse1(int x, int callDepth) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\n        int re = recurse1(x - 1, callDepth+1);\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, returning this value&quot;);\n\n        //System.out.println(&quot;re &quot;+re+&quot;, &quot;);\n\n        return re;\n    }\n\n    public static int recurse2(int x, int callDepth) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\n        int re = recurse2(x - 1, callDepth+1);\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, but returning &quot; + x);\n\n        //System.out.print(&quot;re &quot;+re+&quot;, &quot;);\n\n        return x;\n    }\n\n    public static String indent(int padding) {\n        String pad = &quot;&quot;;\n        for(int i=0; i&lt; padding; i++) {\n            pad += &quot;  &quot;;\n        }\n        return pad;\n    }\n</code></pre>\n"}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77603090,"answer_count":1,"score":-2,"last_activity_date":1701732715,"creation_date":1701731551,"question_id":77603032,"body_markdown":"I have two similar methods with each returning different values as shown below\r\n\r\n```\r\npublic static int recurse1(int x) {\r\n\t\t//base condition\r\n\t\tif(x &lt;= 0) return 1;\r\n\t\tint re = recurse1(x - 1);\r\n\t\t\r\n\t\tSystem.out.print(&quot;re &quot;+re+&quot;, &quot;);\r\n\t\t\r\n\t\treturn re;\r\n\t}\r\n```\r\n   and this \r\n```\r\npublic static int recurse2(int x) {\r\n\t\t//base condition\r\n\t\tif(x &lt;= 0) return 1;\r\n\t\tint re = recurse2(x - 1);\r\n\t\t\r\n\t\tSystem.out.print(&quot;re &quot;+re+&quot;, &quot;);\r\n\t\t\r\n\t\treturn x;\r\n\t}\r\n``` \r\nwhen I called each of the methods in the ```main``` method passing an argument of `5`,I expected the outputs to be something like ```re 1, re 1, re 1 ...``` for the respective methods since the base case for each should return 1.But the output for `recursive2(5)` printed ```re 1, re 1, re 2, re 3, re 4```. I really want to know why the difference in the output. I am sorry if this question has already been asked as I couldn&#39;t find a clear explanation.","title":"How does java handle recursive calls with multiple return statements?","body":"<p>I have two similar methods with each returning different values as shown below</p>\n<pre><code>public static int recurse1(int x) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        int re = recurse1(x - 1);\n        \n        System.out.print(&quot;re &quot;+re+&quot;, &quot;);\n        \n        return re;\n    }\n</code></pre>\n<p>and this</p>\n<pre><code>public static int recurse2(int x) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        int re = recurse2(x - 1);\n        \n        System.out.print(&quot;re &quot;+re+&quot;, &quot;);\n        \n        return x;\n    }\n</code></pre>\n<p>when I called each of the methods in the <code>main</code> method passing an argument of <code>5</code>,I expected the outputs to be something like <code>re 1, re 1, re 1 ...</code> for the respective methods since the base case for each should return 1.But the output for <code>recursive2(5)</code> printed <code>re 1, re 1, re 2, re 3, re 4</code>. I really want to know why the difference in the output. I am sorry if this question has already been asked as I couldn't find a clear explanation.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":9,"creation_date":1378326570,"post_id":18623180,"comment_id":27415238,"body_markdown":"It&#39;s a trick question; no PM will ever handle a mundane support call.","body":"It&#39;s a trick question; no PM will ever handle a mundane support call."},{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1378326707,"post_id":18623180,"comment_id":27415293,"body_markdown":"@DaveNewton Could you illustate more, please?","body":"@DaveNewton Could you illustate more, please?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1378326791,"post_id":18623180,"comment_id":27415339,"body_markdown":"And where does it pass a `CallHandler` to an employee? All I see is passing a `Call` to an employee. The call handler finds an employee to handle the call.","body":"And where does it pass a <code>CallHandler</code> to an employee? All I see is passing a <code>Call</code> to an employee. The call handler finds an employee to handle the call."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378327307,"post_id":18623180,"comment_id":27415590,"body_markdown":"CallHandler sounds for my like it should be a singleton","body":"CallHandler sounds for my like it should be a singleton"},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378327511,"post_id":18623180,"comment_id":27415703,"body_markdown":"maybe some more information about the book could help us. is it for beginners?","body":"maybe some more information about the book could help us. is it for beginners?"},{"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"score":0,"creation_date":1378327933,"post_id":18623180,"comment_id":27415901,"body_markdown":"It&#39;s hard to make meaningful comments on this code.  The main reason is because of the superficial requirements.  An actual application would have a user intervace for all the users rather than have the code just do everything for them etc.","body":"It&#39;s hard to make meaningful comments on this code.  The main reason is because of the superficial requirements.  An actual application would have a user intervace for all the users rather than have the code just do everything for them etc."},{"owner":{"account_id":176261,"reputation":1887,"user_id":406838,"accept_rate":68,"display_name":"Ohas"},"score":0,"creation_date":1378329394,"post_id":18623180,"comment_id":27416539,"body_markdown":"The book is supposed to prepare you for software development interviews in big companies like Microsoft, Amazon, Google, etc., so I assume it&#39;s not for beginners. Even if it was for beginners, I am more interested in knowing how experts would approach the problem.","body":"The book is supposed to prepare you for software development interviews in big companies like Microsoft, Amazon, Google, etc., so I assume it&#39;s not for beginners. Even if it was for beginners, I am more interested in knowing how experts would approach the problem."}],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1378327557,"creation_date":1378327557,"answer_id":18623459,"question_id":18623180,"body_markdown":"There are an infinite number of ways to design this system (that&#39;s what makes developing software so fun) some ways are better than others.  The provided answer is not the best but it works.\r\n\r\nYou have to have some way of an Employee to escalate a call by doing somekind of callback to the `Callhandler`.  Whether that is done by passing around the `Callhandler` or having `Employee`s and `callhandler`s listening to events are both good ideas.  The given solution is simpler and therefore more easy to understand for the target audience.  An event based solution is more complicated, harder to write but more scalable and easier to modify.  \r\n\r\nFor example, if you had to add a new feature for some kind of &quot;overseer&quot; to monitor how often Employees successfully resolve calls versus how many times they escalate, it would be easy to just write a new event listener than try to shoe-horn a new object between the Employee and the Callhandler.\r\n\r\nBasically, yes your ideas are probably better than the solution, but they both answer the question.","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>There are an infinite number of ways to design this system (that's what makes developing software so fun) some ways are better than others.  The provided answer is not the best but it works.</p>\n\n<p>You have to have some way of an Employee to escalate a call by doing somekind of callback to the <code>Callhandler</code>.  Whether that is done by passing around the <code>Callhandler</code> or having <code>Employee</code>s and <code>callhandler</code>s listening to events are both good ideas.  The given solution is simpler and therefore more easy to understand for the target audience.  An event based solution is more complicated, harder to write but more scalable and easier to modify.  </p>\n\n<p>For example, if you had to add a new feature for some kind of \"overseer\" to monitor how often Employees successfully resolve calls versus how many times they escalate, it would be easy to just write a new event listener than try to shoe-horn a new object between the Employee and the Callhandler.</p>\n\n<p>Basically, yes your ideas are probably better than the solution, but they both answer the question.</p>\n"},{"tags":[],"owner":{"account_id":3064637,"reputation":2333,"user_id":2596621,"display_name":"progrenhard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378328580,"creation_date":1378328580,"answer_id":18623722,"question_id":18623180,"body_markdown":"This is how I would design it.\r\n\r\n\r\n    Employee as an interface\r\n        properties-&gt;\r\n            int rank = 0;\r\n            bool availability;\r\n        branches off to(these classes extend employee) -&gt;\r\n            fresher\r\n            TL\r\n            PM\r\n\r\nThen essentially fresher, TL, PM have different ranks(&quot;levels&quot;).\r\n\r\nCall Handle can base it off a list of who&#39;s available based on rank.\r\n\r\nEX. If all rank 0 employees are not available +1 the level to see if anyone up there is available.\r\n\r\nIt might even make more sense to have &quot;lower level&quot; employees have higher levels and make the top dog rank 1 or 0 so it&#39;ll be simple to see where the end is.       ","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>This is how I would design it.</p>\n\n<pre><code>Employee as an interface\n    properties-&gt;\n        int rank = 0;\n        bool availability;\n    branches off to(these classes extend employee) -&gt;\n        fresher\n        TL\n        PM\n</code></pre>\n\n<p>Then essentially fresher, TL, PM have different ranks(\"levels\").</p>\n\n<p>Call Handle can base it off a list of who's available based on rank.</p>\n\n<p>EX. If all rank 0 employees are not available +1 the level to see if anyone up there is available.</p>\n\n<p>It might even make more sense to have \"lower level\" employees have higher levels and make the top dog rank 1 or 0 so it'll be simple to see where the end is.       </p>\n"},{"tags":[],"owner":{"account_id":554485,"reputation":62,"user_id":1074770,"display_name":"Harish Iyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701731303,"creation_date":1701731303,"answer_id":77603023,"question_id":18623180,"body_markdown":"Shouldn&#39;t the call have a status or bunch of valid statuses? \r\nThe handlers should update the status. This would make it more realistic.\r\n","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>Shouldn't the call have a status or bunch of valid statuses?\nThe handlers should update the status. This would make it more realistic.</p>\n"}],"owner":{"account_id":176261,"reputation":1887,"user_id":406838,"accept_rate":68,"display_name":"Ohas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1617,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18623459,"answer_count":3,"score":2,"last_activity_date":1701731303,"creation_date":1378326488,"question_id":18623180,"body_markdown":"I came across this design question in the book Cracking the Coding Interview:\r\n&gt; Imagine you have a call center with three levels of employees:\r\n&gt; fresher, technical lead (TL), product manager (PM). There can be\r\n&gt; multiple employees, but only one TL or PM. An incoming telephone call\r\n&gt; must be allocated to a fresher who is free. If a fresher can’t handle\r\n&gt; the call, he or she must escalate the call to technical lead. If the\r\n&gt; TL is not free or not able to handle it, then the call should be\r\n&gt; escalated to PM. Design the classes and data structures for this\r\n&gt; problem. Implement a method getCallHandler().\r\n\r\n**Solution in the book**\r\n\r\n    public class CallHandler {\r\n    \tstatic final int LEVELS = 3; // we have 3 levels of employees\r\n    \tstatic final int NUM_FRESHERS = 5; // we have 5 freshers\r\n    \tArrayList&lt;Employee&gt;[] employeeLevels = new ArrayList[LEVELS];\r\n    \t// queues for each call’s rank\r\n    \tQueue&lt;Call&gt;[] callQueues = new LinkedList[LEVELS];\r\n    \t\r\n    \tpublic CallHandler() { ... }\r\n    \t\r\n    \tEmployee getCallHandler(Call call) {\r\n    \t\tfor (int level = call.rank; level &lt; LEVELS - 1; level++) {\r\n    \t\t\tArrayList&lt;Employee&gt; employeeLevel = employeeLevels[level];\r\n    \t\t\tfor (Employee emp : employeeLevel) {\r\n    \t\t\t\tif (emp.free) {\r\n    \t\t\t\t\treturn emp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// routes the call to an available employee, or adds to a queue\r\n    \tvoid dispatchCall(Call call) {\r\n    \t\t// try to route the call to an employee with minimal rank\r\n    \t\tEmployee emp = getCallHandler(call);\r\n    \t\tif (emp != null) {\r\n    \t\t\temp.ReceiveCall(call);\r\n    \t\t} else {\r\n    \t\t\t// place the call into queue according to its rank\r\n    \t\t\tcallQueues[call.rank].add(call);\r\n    \t\t}\r\n    \t}\r\n    \tvoid getNextCall(Employee e) {...} // look for call for e’s rank\r\n    }\r\n    \r\n    class Call {\r\n    \tint rank = 0; // minimal rank of employee who can handle this call\r\n    \tpublic void reply(String message) { ... }\r\n    \tpublic void disconnect() { ... }\r\n    }\r\n    \r\n    class Employee {\r\n    \tCallHandler callHandler;\r\n    \tint rank; // 0- fresher, 1 - technical lead, 2 - product manager\r\n    \tboolean free;\r\n    \tEmployee(int rank) { this.rank = rank; }\r\n    \tvoid ReceiveCall(Call call) { ... }\r\n    \tvoid CallHandled(Call call) { ... } // call is complete\r\n    \tvoid CannotHandle(Call call) { // escalate call\r\n    \t\tcall.rank = rank + 1;\r\n    \t\tcallHandler.dispatchCall(call);\r\n    \t\tfree = true;\r\n    \t\tcallHandler.getNextCall(this); // look for waiting call\r\n    \t}\r\n    }\r\n    \r\n    class Fresher extends Employee {\r\n    \tpublic Fresher() { super(0); }\r\n    }\r\n    class TechLead extends Employee {\r\n    \tpublic TechLead() { super(1); }\r\n    }\r\n    class ProductManager extends Employee {\r\n    \tpublic ProductManager() { super(2); }\r\n    }\r\n\r\nThis solution is not very satisfying mainly because it involves passing a `CallHandler` object to `Employee`. I think `Employee` should be treated as a value object meaning its job should be mostly holding data without being aware of entities that contain the real business logic (like `CallHandler`). So I am interested in finding out what better ways there are to design this. I come from ActionScript background and in that I would probably use ActionScript&#39;s event model to send messages from `Employee` and listen to them in `CallHandler`.","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>I came across this design question in the book Cracking the Coding Interview:</p>\n\n<blockquote>\n  <p>Imagine you have a call center with three levels of employees:\n  fresher, technical lead (TL), product manager (PM). There can be\n  multiple employees, but only one TL or PM. An incoming telephone call\n  must be allocated to a fresher who is free. If a fresher can’t handle\n  the call, he or she must escalate the call to technical lead. If the\n  TL is not free or not able to handle it, then the call should be\n  escalated to PM. Design the classes and data structures for this\n  problem. Implement a method getCallHandler().</p>\n</blockquote>\n\n<p><strong>Solution in the book</strong></p>\n\n<pre><code>public class CallHandler {\n    static final int LEVELS = 3; // we have 3 levels of employees\n    static final int NUM_FRESHERS = 5; // we have 5 freshers\n    ArrayList&lt;Employee&gt;[] employeeLevels = new ArrayList[LEVELS];\n    // queues for each call’s rank\n    Queue&lt;Call&gt;[] callQueues = new LinkedList[LEVELS];\n\n    public CallHandler() { ... }\n\n    Employee getCallHandler(Call call) {\n        for (int level = call.rank; level &lt; LEVELS - 1; level++) {\n            ArrayList&lt;Employee&gt; employeeLevel = employeeLevels[level];\n            for (Employee emp : employeeLevel) {\n                if (emp.free) {\n                    return emp;\n                }\n            }\n        }\n        return null;\n    }\n\n    // routes the call to an available employee, or adds to a queue\n    void dispatchCall(Call call) {\n        // try to route the call to an employee with minimal rank\n        Employee emp = getCallHandler(call);\n        if (emp != null) {\n            emp.ReceiveCall(call);\n        } else {\n            // place the call into queue according to its rank\n            callQueues[call.rank].add(call);\n        }\n    }\n    void getNextCall(Employee e) {...} // look for call for e’s rank\n}\n\nclass Call {\n    int rank = 0; // minimal rank of employee who can handle this call\n    public void reply(String message) { ... }\n    public void disconnect() { ... }\n}\n\nclass Employee {\n    CallHandler callHandler;\n    int rank; // 0- fresher, 1 - technical lead, 2 - product manager\n    boolean free;\n    Employee(int rank) { this.rank = rank; }\n    void ReceiveCall(Call call) { ... }\n    void CallHandled(Call call) { ... } // call is complete\n    void CannotHandle(Call call) { // escalate call\n        call.rank = rank + 1;\n        callHandler.dispatchCall(call);\n        free = true;\n        callHandler.getNextCall(this); // look for waiting call\n    }\n}\n\nclass Fresher extends Employee {\n    public Fresher() { super(0); }\n}\nclass TechLead extends Employee {\n    public TechLead() { super(1); }\n}\nclass ProductManager extends Employee {\n    public ProductManager() { super(2); }\n}\n</code></pre>\n\n<p>This solution is not very satisfying mainly because it involves passing a <code>CallHandler</code> object to <code>Employee</code>. I think <code>Employee</code> should be treated as a value object meaning its job should be mostly holding data without being aware of entities that contain the real business logic (like <code>CallHandler</code>). So I am interested in finding out what better ways there are to design this. I come from ActionScript background and in that I would probably use ActionScript's event model to send messages from <code>Employee</code> and listen to them in <code>CallHandler</code>.</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701728222,"creation_date":1701726969,"answer_id":77602782,"question_id":77479159,"body_markdown":"Yes, it is possible to unmarshal XML instances that include varying content distinguished by a given attribute having different values.\r\n\r\nHere is a standalone Maven demonstration [project][21] and [zip][20] that uses these JAXB features to provide a solution:\r\n\r\n+ `@XmlJavaTypeAdapter(MethodXmlAdapter.class)` - a JAXB annotation to specify a class to provide custom _unmarshaller_ and _marshaller_ methods.\r\n+ `MethodXmlAdapter.class` - receives a [DOM][10] [`Element`][11] from JAXB when unmarshalling the _method_ element. The `Element` instance is used to read the distinguishing name as a DOM attribute. When marshaling, JAXB provides a `MethodXXN` instance to be marshaled, in the adapter, to back to a DOM `Element` representation.\r\n\r\nThe key points for unmarshalling is the distinguishing attribute is programmatically accessible and the DOM element can be unmarshaled to the desired Java type.\r\n\r\n[Context.mainUnmarshalByName(...)][36]\r\n~~~\r\npublic static Object mainUnmarshalByName(Element element)\r\n{\r\n    Object value = null;\r\n    String name = element.getAttribute(&quot;name&quot;);\r\n    switch (name)\r\n    {\r\n        case &quot;platce-info&quot;:\r\n            value = mainUnmarshal(element, METHODXX1_CLASS);\r\n            break;\r\n        case &quot;platce-data&quot;:\r\n            value = mainUnmarshal(element, METHODXX2_CLASS);\r\n            break;\r\n        default:\r\n            value = element;\r\n            break;\r\n    }\r\n    return value;\r\n}\r\n~~~\r\n\r\nThe key point for marshalling is the different `MethodXXN` instances can be marshaled to the one _method_ element using a declared [QName][12] with or without a namespace.\r\n\r\n[Context.mainWrapAsMethod(...)][36]\r\n~~~\r\n@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\npublic static Object mainWrapAsMethod(Object value)\r\n{\r\n    Object wrap = null;\r\n    if ( value != null )\r\n    {\r\n        if ( isJAXBElement(value) )\r\n            value = ((JAXBElement) value).getValue();\r\n\r\n        if ( METHODXX1_CLASS.equals(value.getClass()) )\r\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX1_CLASS, value);\r\n        else if ( METHODXX2_CLASS.equals(value.getClass()) )\r\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX2_CLASS, value);\r\n    }\r\n    return wrap;\r\n}\r\n~~~\r\n\r\n#### Implementation\r\n\r\nThe [sample project][21] generates the JAXB classes using the [HiSrc HigherJAXB][2] Maven plugin and XJC plugins from [HiSrc BasicJAXB][1]. The XML Schema defines the `MethodXXN` types as sub-types of `MethodBase` which contains common attributes and elements.\r\n\r\n**Classes generated from [platce.xsd][31] by XJC**\r\n~~~\r\norg\r\n└── example\r\n    └── platce\r\n        ├── MethodBase.java\r\n        ├── MethodXX1.java\r\n        ├── MethodXX2.java\r\n        ├── ObjectFactory.java\r\n        ├── Response.java\r\n        └── VeraWSClass.java\r\n~~~\r\n\r\nThe [platce.xsd][31] schema defines the `VeraWSClass` type to hold the _any_ element; but, the [HiSrc HigherJAXB][2] Maven plugin uses the [HiSrc BasicJAXB][1] customization XJC plugin and the [HiSrc HyperJAXB Annox][3] annotation XJC plugin to add the `@XmlAnyElement` and `@XmlJavaTypeAdapter` annotation using a separate configuration file: [VeraWSClass.any.xml][30].\r\n\r\n#### Execution\r\n\r\nFor the demo, you can run the test and/or application using:\r\n\r\n~~~\r\nmvn -Ptest clean test\r\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response01.xml&quot;\r\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response02.xml&quot;\r\n~~~\r\n\r\n_Disclaimer:_ I am the maintainer for the forked [HiSrc BasicJAXB][1], [HiSrc HigherJAXB][2] and [HiSrc HyperJAXB Annox][3] projects.\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-basicjaxb#readme\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb#readme\r\n[3]: https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\r\n[10]: https://www.w3.org/TR/WD-DOM/introduction.html\r\n[11]: https://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/Element.html\r\n[12]: https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/namespace/QName.html\r\n[20]: https://github.com/patrodyne/hisrc-basicjaxb/releases/download/2.1.1/hisrc-basicjaxb-sample-platce-01-2.1.1-mvn-src.zip\r\n[21]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/README.md\r\n[22]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/OUTPUT.txt\r\n[23]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/project-pom.xml\r\n[24]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/bin/run.sh\r\n[25]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/bin/run.cmd\r\n[30]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/org/example/platce/VeraWSClass.any.xml\r\n[31]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xsd\r\n[32]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xjb\r\n[33]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Demo.java\r\n[34]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/util/DOMUtils.java\r\n[35]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/util/XmlTypeUtils.java\r\n[36]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Context.java\r\n[37]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/MethodXmlAdapter.java\r\n[41]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/samples/response01.xml\r\n[42]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/samples/response02.xml\r\n[43]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/resources/jvmsystem.arguments\r\n[44]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/resources/jvmsystem.properties\r\n[45]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/resources/simplelogger.properties\r\n[46]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/java/org/example/platce/ContextTest.java","title":"Unmarshalling multiple XMLs with similar wrapper","body":"<p>Yes, it is possible to unmarshal XML instances that include varying content distinguished by a given attribute having different values.</p>\n<p>Here is a standalone Maven demonstration <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/README.md\" rel=\"nofollow noreferrer\">project</a> and <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/releases/download/2.1.1/hisrc-basicjaxb-sample-platce-01-2.1.1-mvn-src.zip\" rel=\"nofollow noreferrer\">zip</a> that uses these JAXB features to provide a solution:</p>\n<ul>\n<li><code>@XmlJavaTypeAdapter(MethodXmlAdapter.class)</code> - a JAXB annotation to specify a class to provide custom <em>unmarshaller</em> and <em>marshaller</em> methods.</li>\n<li><code>MethodXmlAdapter.class</code> - receives a <a href=\"https://www.w3.org/TR/WD-DOM/introduction.html\" rel=\"nofollow noreferrer\">DOM</a> <a href=\"https://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/Element.html\" rel=\"nofollow noreferrer\"><code>Element</code></a> from JAXB when unmarshalling the <em>method</em> element. The <code>Element</code> instance is used to read the distinguishing name as a DOM attribute. When marshaling, JAXB provides a <code>MethodXXN</code> instance to be marshaled, in the adapter, to back to a DOM <code>Element</code> representation.</li>\n</ul>\n<p>The key points for unmarshalling is the distinguishing attribute is programmatically accessible and the DOM element can be unmarshaled to the desired Java type.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Context.java\" rel=\"nofollow noreferrer\">Context.mainUnmarshalByName(...)</a></p>\n<pre><code>public static Object mainUnmarshalByName(Element element)\n{\n    Object value = null;\n    String name = element.getAttribute(&quot;name&quot;);\n    switch (name)\n    {\n        case &quot;platce-info&quot;:\n            value = mainUnmarshal(element, METHODXX1_CLASS);\n            break;\n        case &quot;platce-data&quot;:\n            value = mainUnmarshal(element, METHODXX2_CLASS);\n            break;\n        default:\n            value = element;\n            break;\n    }\n    return value;\n}\n</code></pre>\n<p>The key point for marshalling is the different <code>MethodXXN</code> instances can be marshaled to the one <em>method</em> element using a declared <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/namespace/QName.html\" rel=\"nofollow noreferrer\">QName</a> with or without a namespace.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Context.java\" rel=\"nofollow noreferrer\">Context.mainWrapAsMethod(...)</a></p>\n<pre><code>@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\npublic static Object mainWrapAsMethod(Object value)\n{\n    Object wrap = null;\n    if ( value != null )\n    {\n        if ( isJAXBElement(value) )\n            value = ((JAXBElement) value).getValue();\n\n        if ( METHODXX1_CLASS.equals(value.getClass()) )\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX1_CLASS, value);\n        else if ( METHODXX2_CLASS.equals(value.getClass()) )\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX2_CLASS, value);\n    }\n    return wrap;\n}\n</code></pre>\n<h4>Implementation</h4>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/README.md\" rel=\"nofollow noreferrer\">sample project</a> generates the JAXB classes using the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> Maven plugin and XJC plugins from <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a>. The XML Schema defines the <code>MethodXXN</code> types as sub-types of <code>MethodBase</code> which contains common attributes and elements.</p>\n<p><strong>Classes generated from <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xsd\" rel=\"nofollow noreferrer\">platce.xsd</a> by XJC</strong></p>\n<pre><code>org\n└── example\n    └── platce\n        ├── MethodBase.java\n        ├── MethodXX1.java\n        ├── MethodXX2.java\n        ├── ObjectFactory.java\n        ├── Response.java\n        └── VeraWSClass.java\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xsd\" rel=\"nofollow noreferrer\">platce.xsd</a> schema defines the <code>VeraWSClass</code> type to hold the <em>any</em> element; but, the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> Maven plugin uses the <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a> customization XJC plugin and the <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">HiSrc HyperJAXB Annox</a> annotation XJC plugin to add the <code>@XmlAnyElement</code> and <code>@XmlJavaTypeAdapter</code> annotation using a separate configuration file: <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/org/example/platce/VeraWSClass.any.xml\" rel=\"nofollow noreferrer\">VeraWSClass.any.xml</a>.</p>\n<h4>Execution</h4>\n<p>For the demo, you can run the test and/or application using:</p>\n<pre><code>mvn -Ptest clean test\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response01.xml&quot;\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response02.xml&quot;\n</code></pre>\n<p><em>Disclaimer:</em> I am the maintainer for the forked <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a>, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> and <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">HiSrc HyperJAXB Annox</a> projects.</p>\n\n"}],"owner":{"account_id":29898188,"reputation":1,"user_id":22912527,"display_name":"František Slab&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701728222,"creation_date":1699950726,"question_id":77479159,"body_markdown":"I have multiple different XMLs with similar wrapper. For example:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;response id=&quot;085845&quot;&gt;\r\n  &lt;class name=&quot;vera-pd&quot; version=&quot;1.25&quot; revision=&quot;1&quot;&gt;\r\n    &lt;method name=&quot;platce-info&quot;&gt;\r\n      &lt;status&gt;0&lt;/status&gt;\r\n      &lt;error_msg/&gt;\r\n      ... method content ...\r\n    &lt;/method&gt;\r\n  &lt;/class&gt;\r\n&lt;/response&gt;\r\n```\r\n\r\nI want to unmarshall them to POJOs based on the content or the attribute &quot;name&quot; in &lt;method&gt;. Is something like that posible? I want to avoid having to write different ResponseClass for every method. XMLs arent mine, they come from different system so i am unable to use type or namespace.\r\n\r\nI tried to use @XmlElements like this (classes MethodXX1 and MethodXX2 override VeraWSMethod). It didnt work because unmarshaller is unable to determine class and uses the last one in @XmlElements. \r\n\r\n\r\n```\r\n@XmlRootElement(name = &quot;class&quot;)\r\npublic class VeraWSClass {\r\n    private String name;\r\n    private String version;\r\n    private String revision;\r\n    private VeraWSMethod method;\r\n\r\n    @XmlAttribute\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @XmlAttribute\r\n    public String getVersion() {\r\n        return version;\r\n    }\r\n\r\n    public void setVersion(String version) {\r\n        this.version = version;\r\n    }\r\n\r\n    @XmlAttribute\r\n    public String getRevision() {\r\n        return revision;\r\n    }\r\n\r\n    public void setRevision(String revision) {\r\n        this.revision = revision;\r\n    }\r\n\r\n    @XmlElements({\r\n            @XmlElement(name = &quot;method&quot;, type = MethodXX1.class),\r\n            @XmlElement(name = &quot;method&quot;, type = MethodXX2.class)\r\n    })\r\n    public VeraWSMethod getMethod() {\r\n        return method;\r\n    }\r\n\r\n    public void setMethod(VeraWSMethod method) {\r\n        this.method = method;\r\n    }\r\n}\r\n```\r\n","title":"Unmarshalling multiple XMLs with similar wrapper","body":"<p>I have multiple different XMLs with similar wrapper. For example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;response id=&quot;085845&quot;&gt;\n  &lt;class name=&quot;vera-pd&quot; version=&quot;1.25&quot; revision=&quot;1&quot;&gt;\n    &lt;method name=&quot;platce-info&quot;&gt;\n      &lt;status&gt;0&lt;/status&gt;\n      &lt;error_msg/&gt;\n      ... method content ...\n    &lt;/method&gt;\n  &lt;/class&gt;\n&lt;/response&gt;\n</code></pre>\n<p>I want to unmarshall them to POJOs based on the content or the attribute &quot;name&quot; in . Is something like that posible? I want to avoid having to write different ResponseClass for every method. XMLs arent mine, they come from different system so i am unable to use type or namespace.</p>\n<p>I tried to use @XmlElements like this (classes MethodXX1 and MethodXX2 override VeraWSMethod). It didnt work because unmarshaller is unable to determine class and uses the last one in @XmlElements.</p>\n<pre><code>@XmlRootElement(name = &quot;class&quot;)\npublic class VeraWSClass {\n    private String name;\n    private String version;\n    private String revision;\n    private VeraWSMethod method;\n\n    @XmlAttribute\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @XmlAttribute\n    public String getVersion() {\n        return version;\n    }\n\n    public void setVersion(String version) {\n        this.version = version;\n    }\n\n    @XmlAttribute\n    public String getRevision() {\n        return revision;\n    }\n\n    public void setRevision(String revision) {\n        this.revision = revision;\n    }\n\n    @XmlElements({\n            @XmlElement(name = &quot;method&quot;, type = MethodXX1.class),\n            @XmlElement(name = &quot;method&quot;, type = MethodXX2.class)\n    })\n    public VeraWSMethod getMethod() {\n        return method;\n    }\n\n    public void setMethod(VeraWSMethod method) {\n        this.method = method;\n    }\n}\n</code></pre>\n"},{"tags":["java","reflection","wrapper"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1591373659,"post_id":1704634,"comment_id":110041421,"body_markdown":"there are [better ways](https://stackoverflow.com/a/62219759/1059372)","body":"there are <a href=\"https://stackoverflow.com/a/62219759/1059372\">better ways</a>"}],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1257808911,"creation_date":1257808911,"answer_id":1704650,"question_id":1704634,"body_markdown":"You can call class.isPrimitive() to know if it is a primitive or not, however, there is no boxing method to convert the classes within the JDK. There is at least one [open bug][1] relating to this.\r\n\r\n\r\n  [1]: http://bugs.sun.com/bugdatabase/view%5Fbug.do?bug%5Fid=6456930","title":"Simple way to get wrapper class type in Java","body":"<p>You can call class.isPrimitive() to know if it is a primitive or not, however, there is no boxing method to convert the classes within the JDK. There is at least one <a href=\"http://bugs.sun.com/bugdatabase/view%5Fbug.do?bug%5Fid=6456930\" rel=\"noreferrer\">open bug</a> relating to this.</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1668281014,"creation_date":1257809071,"answer_id":1704658,"question_id":1704634,"body_markdown":"I think [this answer](https://stackoverflow.com/a/62219759/202214) is probably the right way now \r\n\r\nOr, Guava has this:\r\n\r\nhttp://google.github.io/guava/releases/21.0/api/docs/com/google/common/primitives/Primitives.html\r\n\r\nIt has the wrap() method, plus unwrap() and a few other incidental things.\r\n\r\nIf you don&#39;t use Guava, you can follow the example of its implementation.","title":"Simple way to get wrapper class type in Java","body":"<p>I think <a href=\"https://stackoverflow.com/a/62219759/202214\">this answer</a> is probably the right way now</p>\n<p>Or, Guava has this:</p>\n<p><a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/primitives/Primitives.html\" rel=\"nofollow noreferrer\">http://google.github.io/guava/releases/21.0/api/docs/com/google/common/primitives/Primitives.html</a></p>\n<p>It has the wrap() method, plus unwrap() and a few other incidental things.</p>\n<p>If you don't use Guava, you can follow the example of its implementation.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1701727276,"creation_date":1257809270,"answer_id":1704671,"question_id":1704634,"body_markdown":"[Apache Commons Lang][1] has a utility method to do this ([ClassUtils.primitiveToWrapper()][2]), which will be just as ugly under the covers, but at least you can pretend it&#39;s nice.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ClassUtils.html#primitiveToWrapper-java.lang.Class-","title":"Simple way to get wrapper class type in Java","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> has a utility method to do this (<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ClassUtils.html#primitiveToWrapper-java.lang.Class-\" rel=\"nofollow noreferrer\">ClassUtils.primitiveToWrapper()</a>), which will be just as ugly under the covers, but at least you can pretend it's nice.</p>\n"},{"tags":[],"owner":{"account_id":1511094,"reputation":770,"user_id":1413206,"display_name":"Fai Ng"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1526331970,"creation_date":1480445277,"answer_id":40873503,"question_id":1704634,"body_markdown":"Here is another way if you don&#39;t need highly optimized code:\r\n\r\n\t\tClass&lt;?&gt; primitive=long.class;\r\n\t\tClass&lt;?&gt; boxed=Array.get(Array.newInstance(primitive,1),0).getClass();\r\n\t\tSystem.out.println(primitive.getName());\r\n\t\tSystem.out.println(boxed.getName());\r\n\r\n\r\n(Editing/adding explanation)\r\n\r\nAt first, it was to see if Java has a method to give you the wrapper class when given a primitive type. Couldn&#39;t find any.\r\n\r\nThen, it was to see if you can have Java create a primitive value when give a primitive type (then you can somehow get an object out of it). Couldn&#39;t find a way to do this.\r\n\r\nBut then it was found out that you CAN have Java create an array of primitive values when given a primitive type.  And then there is a Java method that gives you an object of the wrapping type of the array element(which is primitive). Once you have the object, you can then get the type.\r\n\r\nSo here is how the whole thing work:\r\n\r\nThe method Array.newInstance() creates a array of whatever type you specify, whether it is primitive or object. In the case of object, all elements are object type but initialized to null. In the case of primitive, elements are primitive type. But primitive variable/array element can&#39;t be null, so they have the default value of the primitive type, e.g. int will be zero. Thus no elements will be null. And now if you try to get the value of an element by using Array.get(), Array.get() has no choice but box that primitive value to an object, e.g. int to Integer, because Array.get() can&#39;t return primitive value. Now you have an object of the boxing(wrapping) type of you original primitive type. Finally calling Object.getClass() gives you the boxing(wrapping) type.\r\n\r\nThis trick works with any primitive type you have in Java today and in the future.","title":"Simple way to get wrapper class type in Java","body":"<p>Here is another way if you don't need highly optimized code:</p>\n\n<pre><code>    Class&lt;?&gt; primitive=long.class;\n    Class&lt;?&gt; boxed=Array.get(Array.newInstance(primitive,1),0).getClass();\n    System.out.println(primitive.getName());\n    System.out.println(boxed.getName());\n</code></pre>\n\n<p>(Editing/adding explanation)</p>\n\n<p>At first, it was to see if Java has a method to give you the wrapper class when given a primitive type. Couldn't find any.</p>\n\n<p>Then, it was to see if you can have Java create a primitive value when give a primitive type (then you can somehow get an object out of it). Couldn't find a way to do this.</p>\n\n<p>But then it was found out that you CAN have Java create an array of primitive values when given a primitive type.  And then there is a Java method that gives you an object of the wrapping type of the array element(which is primitive). Once you have the object, you can then get the type.</p>\n\n<p>So here is how the whole thing work:</p>\n\n<p>The method Array.newInstance() creates a array of whatever type you specify, whether it is primitive or object. In the case of object, all elements are object type but initialized to null. In the case of primitive, elements are primitive type. But primitive variable/array element can't be null, so they have the default value of the primitive type, e.g. int will be zero. Thus no elements will be null. And now if you try to get the value of an element by using Array.get(), Array.get() has no choice but box that primitive value to an object, e.g. int to Integer, because Array.get() can't return primitive value. Now you have an object of the boxing(wrapping) type of you original primitive type. Finally calling Object.getClass() gives you the boxing(wrapping) type.</p>\n\n<p>This trick works with any primitive type you have in Java today and in the future.</p>\n"},{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523642978,"creation_date":1523642060,"answer_id":49822682,"question_id":1704634,"body_markdown":"(Idea) Get class name and make first letter capital, then call Class.forInstance(className).newInstance(primitive). Exceptions are &quot;char&quot; -&gt; Character and &quot;int&quot; -&gt; Integer\r\n\r\n                                    Class c=Primitive class object\r\n                                    if (c.isPrimitive()) {\r\n                                        if (c == char.class) {\r\n                                            Object wrapper=new Character(primitive var);\r\n                                        }\r\n                                        if (c == int.class) {\r\n                                            Object wrapper=new Integer(primitive var);\r\n                                        }\r\n                                        else {\r\n                                            String name=c.getName();\r\n                                            try {\r\n                                                Class&lt;?&gt; c2=Class.forName(&quot;java.lang.&quot;+name.substring(0,1).toUpperCase()+name.substring(1,name.length()));\r\n                                                Object wrapper=c2.getConstructor(c).newInstance(primitve_var);\r\n                                            } catch (ClassNotFoundException ex) {\r\n                                                System.out.println(&quot;RROR&quot;);\r\n                                            }\r\n                                        }\r\n                                        \r\n                                    }","title":"Simple way to get wrapper class type in Java","body":"<p>(Idea) Get class name and make first letter capital, then call Class.forInstance(className).newInstance(primitive). Exceptions are \"char\" -> Character and \"int\" -> Integer</p>\n\n<pre><code>                                Class c=Primitive class object\n                                if (c.isPrimitive()) {\n                                    if (c == char.class) {\n                                        Object wrapper=new Character(primitive var);\n                                    }\n                                    if (c == int.class) {\n                                        Object wrapper=new Integer(primitive var);\n                                    }\n                                    else {\n                                        String name=c.getName();\n                                        try {\n                                            Class&lt;?&gt; c2=Class.forName(\"java.lang.\"+name.substring(0,1).toUpperCase()+name.substring(1,name.length()));\n                                            Object wrapper=c2.getConstructor(c).newInstance(primitve_var);\n                                        } catch (ClassNotFoundException ex) {\n                                            System.out.println(\"RROR\");\n                                        }\n                                    }\n\n                                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9218427,"reputation":71,"user_id":6848772,"display_name":"Jim Smith"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528786266,"creation_date":1528786266,"answer_id":50810905,"question_id":1704634,"body_markdown":"    Class&lt;?&gt; toWrapper(Class&lt;?&gt; clazz) {\r\n        if (!clazz.isPrimitive())\r\n            return clazz;\r\n\r\n        if (clazz == Integer.TYPE)\r\n            return Integer.class;\r\n        if (clazz == Long.TYPE)\r\n            return Long.class;\r\n        if (clazz == Boolean.TYPE)\r\n            return Boolean.class;\r\n        if (clazz == Byte.TYPE)\r\n            return Byte.class;\r\n        if (clazz == Character.TYPE)\r\n            return Character.class;\r\n        if (clazz == Float.TYPE)\r\n            return Float.class;\r\n        if (clazz == Double.TYPE)\r\n            return Double.class;\r\n        if (clazz == Short.TYPE)\r\n            return Short.class;\r\n        if (clazz == Void.TYPE)\r\n            return Void.class;\r\n\r\n        return clazz;\r\n    }","title":"Simple way to get wrapper class type in Java","body":"<pre><code>Class&lt;?&gt; toWrapper(Class&lt;?&gt; clazz) {\n    if (!clazz.isPrimitive())\n        return clazz;\n\n    if (clazz == Integer.TYPE)\n        return Integer.class;\n    if (clazz == Long.TYPE)\n        return Long.class;\n    if (clazz == Boolean.TYPE)\n        return Boolean.class;\n    if (clazz == Byte.TYPE)\n        return Byte.class;\n    if (clazz == Character.TYPE)\n        return Character.class;\n    if (clazz == Float.TYPE)\n        return Float.class;\n    if (clazz == Double.TYPE)\n        return Double.class;\n    if (clazz == Short.TYPE)\n        return Short.class;\n    if (clazz == Void.TYPE)\n        return Void.class;\n\n    return clazz;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1651641,"reputation":8505,"user_id":1522117,"display_name":"nickl-"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1655936786,"creation_date":1563528958,"answer_id":57109630,"question_id":1704634,"body_markdown":"## So you want to get the wrapper class type, ok.\r\nNo need to query the types or reference look up tables because java already does it anyway. Let&#39;s walk through the problem together...\r\n\r\n### Synopsis\r\n\r\nWe are retrieving a field and then find it contains a primitive type.\r\n\r\n```\r\nField f = getTheField(); // Dummy method that returns my Field\r\nClass&lt;?&gt; c = f.getType(); // Gets the declared primitive type\r\n```\r\n\r\nBut instead we want the wrapper type.\r\n\r\n### Primitive types in Java\r\n\r\nNow as you already found out the only thing a primitive class is good for is to return true for `c.isPrimitive();`.\r\n\r\nFrom [wiki books - java programming][1]:\r\n&gt; Primitive types are the most basic data types available within the Java language. There are 8: boolean , byte , char , short , int , long , float and double . These types serve as the building blocks of data manipulation in Java. Such types serve only one purpose — containing pure, simple values of a kind.\r\n\r\nSo why do we want to know the wrapper type?\r\n\r\nAttempting to use primitives in any other way and you are in for a lot of hurt.\r\n\r\n### Cannot make a new instance of a primitive.\r\n\r\n```\r\nField f = getTheField();\r\nClass&lt;?&gt; c = f.getType();\r\nObject wrapper = c.newInstance();\r\n//  java.lang.InstantiationException thrown: int\r\n//        at Class.newInstance (Class.java:545) \r\n```\r\n\r\n### Cannot cast to a primitive type.\r\n\r\n```\r\nField f = getTheField();\r\nClass&lt;?&gt; c = f.getType();\r\nObject wrapper = c.cast(0);\r\n//  java.lang.ClassCastException thrown: Cannot cast java.lang.Integer to int\r\n//        at Class.cast (Class.java:3578)\r\n```\r\n\r\n### Can cast to a null wrapper type. Yeah! \\o/\r\n\r\n```\r\nField f = getTheField();\r\nClass&lt;?&gt; c = f.getType();\r\nObject wrapper = c.cast(null);\r\n```\r\n\r\nNo exceptions and the variable `wrapper` is of type `class java.lang.Integer` but with a value of `null`, a whole lot of good that will do us.\r\n\r\n### Primitives are not even inherited from wrappers.\r\n\r\n```\r\nboolean isSuperClass = Integer.class.isAssignableFrom(int.class); // false\r\n```\r\n\r\nThis is obviously not getting us anywhere so lets rather take a step back from the problem and have a look at the bigger picture.\r\n\r\n## When at first you don&#39;t succeed...\r\n\r\nLets recap: We are retrieving a field which has to come from somewhere so if we were to fill in the gaps left out in the question it might look something like this.\r\n\r\n```\r\npublic class Simple {\r\n    public static int field;\r\n    \r\n    public static Field getTheField() {\r\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Field f = getTheField();\r\n        Class&lt;?&gt; c = f.getType();\r\n    }\r\n}\r\n```\r\n\r\nInstead of fighting against the machine lets rather work with it. One of the perks of primitives are that they will initialise to a default value `0` instead of `null`. Lets see if we can use that.\r\n\r\n### Get wrapper class from wrapped instance.\r\n\r\n\r\n```\r\npublic class Simple {\r\n    public static int field;\r\n\r\n    public static Field getTheField() {\r\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Field f = getTheField();\r\n        Object wrapped = f.get(null);    // Integer value 0\r\n        Class&lt;?&gt; c = wrapped.getClass(); // class java.lang.Integer\r\n    }\r\n}\r\n```\r\nThat was much easier than before and we didn&#39;t even have to do anything, auto boxing, everything was done for us. Yet another perk for not trying to go against the stream.\r\n\r\nLets improve on that, refactor and make it a little more reusable by extracting a method.\r\n\r\n### Implement a manual boxing method.\r\n\r\nWe can do the same auto boxing with generics:\r\n\r\n```\r\npublic class Simple {\r\n    public static int field;\r\n\r\n    public static Field getTheField() {\r\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\r\n    }\r\n\r\n    public static &lt;T&gt; T wrap(T t) {\r\n        return t;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Field f = getTheField();\r\n        Class&lt;?&gt; c = Simple.wrap(f.get(null)).getClass(); // class java.lang.Integer\r\n    }\r\n}\r\n```\r\n\r\nA simple primitive wrap without ever having to look at the types or use look up tables because java already does it anyway.\r\n\r\n## Conclusion\r\n\r\nThe simple solution using pure java to get the wrapper class from a primitive field:\r\n\r\n```\r\nField f = getTheField(); // Dummy method that returns my Field\r\nClass&lt;?&gt; c = f.get(null).getClass(); \r\n```\r\nOr you can replace null with an instance if the field is not static.\r\n\r\nnJoy!\r\n\r\n  [1]: https://en.wikibooks.org/wiki/Java_Programming/Primitive_Types","title":"Simple way to get wrapper class type in Java","body":"<h2>So you want to get the wrapper class type, ok.</h2>\n<p>No need to query the types or reference look up tables because java already does it anyway. Let's walk through the problem together...</p>\n<h3>Synopsis</h3>\n<p>We are retrieving a field and then find it contains a primitive type.</p>\n<pre><code>Field f = getTheField(); // Dummy method that returns my Field\nClass&lt;?&gt; c = f.getType(); // Gets the declared primitive type\n</code></pre>\n<p>But instead we want the wrapper type.</p>\n<h3>Primitive types in Java</h3>\n<p>Now as you already found out the only thing a primitive class is good for is to return true for <code>c.isPrimitive();</code>.</p>\n<p>From <a href=\"https://en.wikibooks.org/wiki/Java_Programming/Primitive_Types\" rel=\"nofollow noreferrer\">wiki books - java programming</a>:</p>\n<blockquote>\n<p>Primitive types are the most basic data types available within the Java language. There are 8: boolean , byte , char , short , int , long , float and double . These types serve as the building blocks of data manipulation in Java. Such types serve only one purpose — containing pure, simple values of a kind.</p>\n</blockquote>\n<p>So why do we want to know the wrapper type?</p>\n<p>Attempting to use primitives in any other way and you are in for a lot of hurt.</p>\n<h3>Cannot make a new instance of a primitive.</h3>\n<pre><code>Field f = getTheField();\nClass&lt;?&gt; c = f.getType();\nObject wrapper = c.newInstance();\n//  java.lang.InstantiationException thrown: int\n//        at Class.newInstance (Class.java:545) \n</code></pre>\n<h3>Cannot cast to a primitive type.</h3>\n<pre><code>Field f = getTheField();\nClass&lt;?&gt; c = f.getType();\nObject wrapper = c.cast(0);\n//  java.lang.ClassCastException thrown: Cannot cast java.lang.Integer to int\n//        at Class.cast (Class.java:3578)\n</code></pre>\n<h3>Can cast to a null wrapper type. Yeah! \\o/</h3>\n<pre><code>Field f = getTheField();\nClass&lt;?&gt; c = f.getType();\nObject wrapper = c.cast(null);\n</code></pre>\n<p>No exceptions and the variable <code>wrapper</code> is of type <code>class java.lang.Integer</code> but with a value of <code>null</code>, a whole lot of good that will do us.</p>\n<h3>Primitives are not even inherited from wrappers.</h3>\n<pre><code>boolean isSuperClass = Integer.class.isAssignableFrom(int.class); // false\n</code></pre>\n<p>This is obviously not getting us anywhere so lets rather take a step back from the problem and have a look at the bigger picture.</p>\n<h2>When at first you don't succeed...</h2>\n<p>Lets recap: We are retrieving a field which has to come from somewhere so if we were to fill in the gaps left out in the question it might look something like this.</p>\n<pre><code>public class Simple {\n    public static int field;\n    \n    public static Field getTheField() {\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\n    }\n\n    public static void main(String[] args) {\n        Field f = getTheField();\n        Class&lt;?&gt; c = f.getType();\n    }\n}\n</code></pre>\n<p>Instead of fighting against the machine lets rather work with it. One of the perks of primitives are that they will initialise to a default value <code>0</code> instead of <code>null</code>. Lets see if we can use that.</p>\n<h3>Get wrapper class from wrapped instance.</h3>\n<pre><code>public class Simple {\n    public static int field;\n\n    public static Field getTheField() {\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\n    }\n\n    public static void main(String[] args) {\n        Field f = getTheField();\n        Object wrapped = f.get(null);    // Integer value 0\n        Class&lt;?&gt; c = wrapped.getClass(); // class java.lang.Integer\n    }\n}\n</code></pre>\n<p>That was much easier than before and we didn't even have to do anything, auto boxing, everything was done for us. Yet another perk for not trying to go against the stream.</p>\n<p>Lets improve on that, refactor and make it a little more reusable by extracting a method.</p>\n<h3>Implement a manual boxing method.</h3>\n<p>We can do the same auto boxing with generics:</p>\n<pre><code>public class Simple {\n    public static int field;\n\n    public static Field getTheField() {\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\n    }\n\n    public static &lt;T&gt; T wrap(T t) {\n        return t;\n    }\n\n    public static void main(String[] args) {\n        Field f = getTheField();\n        Class&lt;?&gt; c = Simple.wrap(f.get(null)).getClass(); // class java.lang.Integer\n    }\n}\n</code></pre>\n<p>A simple primitive wrap without ever having to look at the types or use look up tables because java already does it anyway.</p>\n<h2>Conclusion</h2>\n<p>The simple solution using pure java to get the wrapper class from a primitive field:</p>\n<pre><code>Field f = getTheField(); // Dummy method that returns my Field\nClass&lt;?&gt; c = f.get(null).getClass(); \n</code></pre>\n<p>Or you can replace null with an instance if the field is not static.</p>\n<p>nJoy!</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668359060,"creation_date":1591373637,"answer_id":62219759,"question_id":1704634,"body_markdown":"Since Java 7, this is a one-liner:\r\n\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Class&lt;T&gt; wrap(Class&lt;T&gt; c) {\r\n        return (Class&lt;T&gt;) MethodType.methodType(c).wrap().returnType();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Class&lt;T&gt; unwrap(Class&lt;T&gt; c) {\r\n        return (Class&lt;T&gt;) MethodType.methodType(c).unwrap().returnType();\r\n    }\r\n\r\n---\r\n\r\n[Here][1] is a test that I wrote using `JMH` and here are the results:\r\n\r\n\r\n    Benchmark                        Mode  Cnt   Score   Error  Units\r\n    PrimitiveToWrapper.ifStatements  avgt   30  42.112 &#177; 0.716  ns/op\r\n    PrimitiveToWrapper.map           avgt   30  45.018 &#177; 0.923  ns/op\r\n    PrimitiveToWrapper.wrap          avgt   30  52.369 &#177; 0.836  ns/op\r\n\r\nThe difference is rather small.\r\n\r\n\r\n\r\n  [1]: https://github.com/wind57/0x-github-jmh-runner/blob/master/src/jmh/java/zero/x/so/PrimitiveToWrapper.java","title":"Simple way to get wrapper class type in Java","body":"<p>Since Java 7, this is a one-liner:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; Class&lt;T&gt; wrap(Class&lt;T&gt; c) {\n    return (Class&lt;T&gt;) MethodType.methodType(c).wrap().returnType();\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; Class&lt;T&gt; unwrap(Class&lt;T&gt; c) {\n    return (Class&lt;T&gt;) MethodType.methodType(c).unwrap().returnType();\n}\n</code></pre>\n<hr />\n<p><a href=\"https://github.com/wind57/0x-github-jmh-runner/blob/master/src/jmh/java/zero/x/so/PrimitiveToWrapper.java\" rel=\"nofollow noreferrer\">Here</a> is a test that I wrote using <code>JMH</code> and here are the results:</p>\n<pre><code>Benchmark                        Mode  Cnt   Score   Error  Units\nPrimitiveToWrapper.ifStatements  avgt   30  42.112 ± 0.716  ns/op\nPrimitiveToWrapper.map           avgt   30  45.018 ± 0.923  ns/op\nPrimitiveToWrapper.wrap          avgt   30  52.369 ± 0.836  ns/op\n</code></pre>\n<p>The difference is rather small.</p>\n"}],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28024,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":1704658,"answer_count":8,"score":38,"last_activity_date":1701727276,"creation_date":1257808714,"question_id":1704634,"body_markdown":"I have a piece of code where I need to pass the class of a field in a method. Because of the mechanics of my code I can only handle reference objects and not primitives. I want an easy way of determining if a `Field`&#39;s type is primitive and swap it with the appropriate wrapper class. So in code what I do so far is something like this:\r\n\r\n    Field f = getTheField(); // Dummy method that returns my Field\r\n    Class&lt;?&gt; c = f.getType();\r\n    if (c == int.class) {\r\n        c = Integer.class;\r\n    }\r\n    else if (c == float.class) {\r\n        c = Float.class;\r\n    }\r\n    // etc\r\n    myMethod(c);\r\n\r\nThis works fine, except for the fact that I need to explicitly check for all the primitive types and swap them with the appropriate wrapper class. Now I know that there are not so many primitive types and it won&#39;t be a problem to simply list them all, but I was wondering if there was an easier and more elegant way of doing it.","title":"Simple way to get wrapper class type in Java","body":"<p>I have a piece of code where I need to pass the class of a field in a method. Because of the mechanics of my code I can only handle reference objects and not primitives. I want an easy way of determining if a <code>Field</code>'s type is primitive and swap it with the appropriate wrapper class. So in code what I do so far is something like this:</p>\n\n<pre><code>Field f = getTheField(); // Dummy method that returns my Field\nClass&lt;?&gt; c = f.getType();\nif (c == int.class) {\n    c = Integer.class;\n}\nelse if (c == float.class) {\n    c = Float.class;\n}\n// etc\nmyMethod(c);\n</code></pre>\n\n<p>This works fine, except for the fact that I need to explicitly check for all the primitive types and swap them with the appropriate wrapper class. Now I know that there are not so many primitive types and it won't be a problem to simply list them all, but I was wondering if there was an easier and more elegant way of doing it.</p>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":3,"creation_date":1589380514,"post_id":61777308,"comment_id":109271785,"body_markdown":"This might happen if the file is not in a source directory","body":"This might happen if the file is not in a source directory"},{"owner":{"account_id":3757667,"reputation":231,"user_id":3123657,"display_name":"Maor agai"},"score":0,"creation_date":1589381036,"post_id":61777308,"comment_id":109272110,"body_markdown":"What does it mean? What i need to do to solve it?","body":"What does it mean? What i need to do to solve it?"},{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1589381096,"post_id":61777308,"comment_id":109272169,"body_markdown":"Can you show us your project structure?","body":"Can you show us your project structure?"},{"owner":{"account_id":3273477,"reputation":1291,"user_id":2756220,"accept_rate":83,"display_name":"HarryQ"},"score":1,"creation_date":1589386628,"post_id":61777308,"comment_id":109275640,"body_markdown":"does your project build successfully? Build-&gt;Make Project, does it run?","body":"does your project build successfully? Build-&gt;Make Project, does it run?"},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1701728378,"post_id":61777308,"comment_id":136809639,"body_markdown":"BTW. A `hash % 360` might be negative when `hash` is negative.","body":"BTW. A <code>hash % 360</code> might be negative when <code>hash</code> is negative."}],"answers":[{"tags":[],"owner":{"account_id":17383128,"reputation":5465,"user_id":12594975,"display_name":"Koyasha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1589386205,"creation_date":1589385133,"answer_id":61779138,"question_id":61777308,"body_markdown":"Several possible reasons:\r\n\r\n1. Your file doesn&#39;t reside in a content root and is not [bound to a build path](https://www.jetbrains.com/help/idea/content-roots.html#specify_output_path), so it doesn&#39;t get the required class definitions and resources needed for code completion. To fix, right click your root source directory -&gt; Mark Directory As -&gt; [Sources Root](https://www.jetbrains.com/help/idea/content-roots.html#folder-categories).\r\n\r\n2. Check to see if you accidentally turned on the Power Save mode (**File | Power Save Mode**). Turning it on minimizes power consumption of your laptop by eliminating the background operations, including error highlighting, on-the-fly inspections, and code completion. Turn it off.\r\n\r\n3. Make sure the JDK for your project is [set up correctly](https://www.jetbrains.com/help/idea/sdk.html) in the **File | Project Structure** window.\r\n\r\n4. A file containing classes and methods that you want to appear in completion suggestions list is marked as a plain text file. To fix, right-click on the file -&gt; Mark as Java class.\r\n\r\n5. External libraries that contain methods that you want to appear in the completion suggestions list are not [added as dependencies or global libraries](https://www.jetbrains.com/help/idea/library.html).","title":"Why doesn&#39;t IntelliJ code autocomplete work?","body":"<p>Several possible reasons:</p>\n\n<ol>\n<li><p>Your file doesn't reside in a content root and is not <a href=\"https://www.jetbrains.com/help/idea/content-roots.html#specify_output_path\" rel=\"noreferrer\">bound to a build path</a>, so it doesn't get the required class definitions and resources needed for code completion. To fix, right click your root source directory -> Mark Directory As -> <a href=\"https://www.jetbrains.com/help/idea/content-roots.html#folder-categories\" rel=\"noreferrer\">Sources Root</a>.</p></li>\n<li><p>Check to see if you accidentally turned on the Power Save mode (<strong>File | Power Save Mode</strong>). Turning it on minimizes power consumption of your laptop by eliminating the background operations, including error highlighting, on-the-fly inspections, and code completion. Turn it off.</p></li>\n<li><p>Make sure the JDK for your project is <a href=\"https://www.jetbrains.com/help/idea/sdk.html\" rel=\"noreferrer\">set up correctly</a> in the <strong>File | Project Structure</strong> window.</p></li>\n<li><p>A file containing classes and methods that you want to appear in completion suggestions list is marked as a plain text file. To fix, right-click on the file -> Mark as Java class.</p></li>\n<li><p>External libraries that contain methods that you want to appear in the completion suggestions list are not <a href=\"https://www.jetbrains.com/help/idea/library.html\" rel=\"noreferrer\">added as dependencies or global libraries</a>.</p></li>\n</ol>\n"}],"owner":{"account_id":3757667,"reputation":231,"user_id":3123657,"display_name":"Maor agai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4881,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701727246,"creation_date":1589380252,"question_id":61777308,"body_markdown":"When I try to use the code autocomplete of IntelliJ by using `ctrl+space` it doesn&#39;t work.\r\n\r\nWhat do I need to do?\r\n\r\nFor example, in this code I want to use the add method of List and it doesn&#39;t give me the option to.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q5LS5.png","title":"Why doesn&#39;t IntelliJ code autocomplete work?","body":"<p>When I try to use the code autocomplete of IntelliJ by using <code>ctrl+space</code> it doesn't work.</p>\n<p>What do I need to do?</p>\n<p>For example, in this code I want to use the add method of List and it doesn't give me the option to.</p>\n<p><a href=\"https://i.stack.imgur.com/q5LS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q5LS5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1701726839,"post_id":77602757,"comment_id":136809440,"body_markdown":"JFrame implements the WindowsConstants interface, where that constant is defined, and so the documentation is correct.","body":"JFrame implements the WindowsConstants interface, where that constant is defined, and so the documentation is correct."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1701728637,"post_id":77602757,"comment_id":136809671,"body_markdown":"The [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html) does **not** show it as a field declared in `JFrame`, but declared in `WindowConstants` (you probably found it in some older version - Java 8 or previous)","body":"The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">documentation</a> does <b>not</b> show it as a field declared in <code>JFrame</code>, but declared in <code>WindowConstants</code> (you probably found it in some older version - Java 8 or previous)"},{"owner":{"account_id":29451523,"reputation":5,"user_id":22568020,"display_name":"AaronMaiden99"},"score":0,"creation_date":1701729466,"post_id":77602757,"comment_id":136809767,"body_markdown":"@user85421 thank you, for some reason when i search &quot;java api&quot;, it takes to java se 8, I had no idea it was an old version, thank you","body":"@user85421 thank you, for some reason when i search &quot;java api&quot;, it takes to java se 8, I had no idea it was an old version, thank you"},{"owner":{"account_id":29451523,"reputation":5,"user_id":22568020,"display_name":"AaronMaiden99"},"score":0,"creation_date":1701729526,"post_id":77602757,"comment_id":136809772,"body_markdown":"@HovercraftFullOfEels  I think that an interface can have final fields that can be used by classes that implement it","body":"@HovercraftFullOfEels  I think that an interface can have final fields that can be used by classes that implement it"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1701735126,"post_id":77602757,"comment_id":136810236,"body_markdown":"Why are you telling me this?","body":"Why are you telling me this?"}],"owner":{"account_id":29451523,"reputation":5,"user_id":22568020,"display_name":"AaronMaiden99"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1701744888,"answer_count":0,"score":-2,"last_activity_date":1701726656,"creation_date":1701726656,"question_id":77602757,"body_markdown":"I was reading the java API Jframe class documentation and I saw that it has a field called EXIT_ON_CLOSE. And it drew my attention that is the only window constant that is defined in Jframe class, while others such as HIDE_ON_CLOSE or DO_NOTHING_ON_CLOSE are defined in the WindowConstant interface. But EXIT_ON_CLOSE is also defined in that interface, which makes me confused.\r\n\r\n\r\nWhen I read the Jframe class (in eclipse) I don&#180;t find EXIT_ON_CLOSE declaration, and if I click + crtl in a place where it&#39;s used, it takes me to the WindowConstant interface, so I don&#39;t know, but it looks like the documentation is wrong?. I&#39;m probably missing out somethin, I&#39;m kind of a newbie... anyways thanks in advance","title":"where is EXIT_ON_CLOSE defined","body":"<p>I was reading the java API Jframe class documentation and I saw that it has a field called EXIT_ON_CLOSE. And it drew my attention that is the only window constant that is defined in Jframe class, while others such as HIDE_ON_CLOSE or DO_NOTHING_ON_CLOSE are defined in the WindowConstant interface. But EXIT_ON_CLOSE is also defined in that interface, which makes me confused.</p>\n<p>When I read the Jframe class (in eclipse) I don´t find EXIT_ON_CLOSE declaration, and if I click + crtl in a place where it's used, it takes me to the WindowConstant interface, so I don't know, but it looks like the documentation is wrong?. I'm probably missing out somethin, I'm kind of a newbie... anyways thanks in advance</p>\n"},{"tags":["java","types"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1600910839,"creation_date":1600910839,"answer_id":64038306,"question_id":64038295,"body_markdown":"No. The most similar thing is an [`enum` Type](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html).\r\n\r\n    public enum Easing {\r\n        EASE_IN, EASE_OUT, EASE_IN_OUT;\r\n    }","title":"Is the any way to create String Literal Types in Java?","body":"<p>No. The most similar thing is an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\"><code>enum</code> Type</a>.</p>\n<pre><code>public enum Easing {\n    EASE_IN, EASE_OUT, EASE_IN_OUT;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701725763,"creation_date":1700585589,"answer_id":77524593,"question_id":64038295,"body_markdown":"Could one do this by subclassing the [Segment][1] class and requiring that each subclass only allows in one of the allowed values? Then use sealed classes to only allow in those classes.\r\n\r\nThat way the values are constrained and are string like. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/text/Segment.html","title":"Is the any way to create String Literal Types in Java?","body":"<p>Could one do this by subclassing the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/Segment.html\" rel=\"nofollow noreferrer\">Segment</a> class and requiring that each subclass only allows in one of the allowed values? Then use sealed classes to only allow in those classes.</p>\n<p>That way the values are constrained and are string like.</p>\n"}],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64038306,"answer_count":2,"score":3,"last_activity_date":1701725763,"creation_date":1600910718,"question_id":64038295,"body_markdown":"I&#39;m new to Java.\r\n\r\nI&#39;ve been using Typescript to type my projects in the Front-end and I&#39;m very used to creating [String Literal Types](https://www.typescriptlang.org/docs/handbook/literal-types.html#string-literal-types) to limit possible inputs. Is there any easy way to this in Java?\r\n\r\nFor *eye candy*, here&#39;s how you create it in Typescript:&lt;br&gt;\r\n```ts\r\ntype Easing = &quot;ease-in&quot; | &quot;ease-out&quot; | &quot;ease-in-out&quot;;\r\n```","title":"Is the any way to create String Literal Types in Java?","body":"<p>I'm new to Java.</p>\n<p>I've been using Typescript to type my projects in the Front-end and I'm very used to creating <a href=\"https://www.typescriptlang.org/docs/handbook/literal-types.html#string-literal-types\" rel=\"nofollow noreferrer\">String Literal Types</a> to limit possible inputs. Is there any easy way to this in Java?</p>\n<p>For <em>eye candy</em>, here's how you create it in Typescript:<br></p>\n<pre><code>type Easing = &quot;ease-in&quot; | &quot;ease-out&quot; | &quot;ease-in-out&quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data","spring-projections"],"answers":[{"tags":[],"owner":{"account_id":27424224,"reputation":33,"user_id":20922042,"display_name":"Nadir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701701700,"creation_date":1701701700,"answer_id":77600400,"question_id":77600211,"body_markdown":"If you need to customize the data that is returned from the overridden method, you can use the @Query annotation to create a custom query method.\r\nThe @Query annotation allows you to specify a JPQL or native SQL query that will be executed to retrieve the desired data.\r\nHere is an exmaple of how you can do it \r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends CrudRepository&lt;MyEntity, \r\n    Long&gt; {\r\n    @Query(&quot;SELECT e.id, e.name FROM MyEntity e WHERE e.id = ?1&quot;)\r\n    MyEntityProjection findByIdProjection(Long id);\r\n    }","title":"Can we use projections with spring data base methods or not?","body":"<p>If you need to customize the data that is returned from the overridden method, you can use the @Query annotation to create a custom query method.\nThe @Query annotation allows you to specify a JPQL or native SQL query that will be executed to retrieve the desired data.\nHere is an exmaple of how you can do it</p>\n<pre><code>@Repository\npublic interface MyEntityRepository extends CrudRepository&lt;MyEntity, \nLong&gt; {\n@Query(&quot;SELECT e.id, e.name FROM MyEntity e WHERE e.id = ?1&quot;)\nMyEntityProjection findByIdProjection(Long id);\n}\n</code></pre>\n"}],"owner":{"account_id":20848433,"reputation":9,"user_id":15313467,"display_name":"Akihiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701725616,"creation_date":1701700147,"question_id":77600211,"body_markdown":"I was reading the spring doc about projections :\r\n\r\nhttps://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\r\n\r\nwhen I came across this note \r\n\r\n&gt; Declaring a method in your Repository that overrides a base method (e.g. declared in CrudRepository, a store-specific repository interface, or the Simple…Repository) results in a call to the base method regardless of the declared return type. Make sure to use a compatible return type as base methods cannot be used for projections. Some store modules support @Query annotations to turn an overridden base method into a query method that then can be used to return projections.\r\n\r\nThe problem is just above it they are using it with a base method \r\n\r\n    interface PersonRepository extends Repository&lt;Person, UUID&gt; {\r\n              Collection&lt;NamesOnly&gt; findByLastname(String lastname);}\r\n\r\nPS: I know that projections alter the SQL queries sent to database to only retrieve the columns we want, does this mean that if we use projections with base methods it will get all the columns of the object then project it in java or what?\r\n\r\nI searched but didn&#39;t find any resources that can help, since the confusion came from the docs itself","title":"Can we use projections with spring data base methods or not?","body":"<p>I was reading the spring doc about projections :</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html</a></p>\n<p>when I came across this note</p>\n<blockquote>\n<p>Declaring a method in your Repository that overrides a base method (e.g. declared in CrudRepository, a store-specific repository interface, or the Simple…Repository) results in a call to the base method regardless of the declared return type. Make sure to use a compatible return type as base methods cannot be used for projections. Some store modules support @Query annotations to turn an overridden base method into a query method that then can be used to return projections.</p>\n</blockquote>\n<p>The problem is just above it they are using it with a base method</p>\n<pre><code>interface PersonRepository extends Repository&lt;Person, UUID&gt; {\n          Collection&lt;NamesOnly&gt; findByLastname(String lastname);}\n</code></pre>\n<p>PS: I know that projections alter the SQL queries sent to database to only retrieve the columns we want, does this mean that if we use projections with base methods it will get all the columns of the object then project it in java or what?</p>\n<p>I searched but didn't find any resources that can help, since the confusion came from the docs itself</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1701720457,"post_id":77602241,"comment_id":136808556,"body_markdown":"Your value has 9 subsecond digits. Your pattern has 6. I strongly suspect you also want HH instead of hh, and you probably want to specify a Locale.","body":"Your value has 9 subsecond digits. Your pattern has 6. I strongly suspect you also want HH instead of hh, and you probably want to specify a Locale."},{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":3,"creation_date":1701722759,"post_id":77602241,"comment_id":136808888,"body_markdown":"Month is case sensitiive you can call .parseCaseInsensitive() + subseconds fix from above. Take a look https://stackoverflow.com/q/68364049/9248765","body":"Month is case sensitiive you can call .parseCaseInsensitive() + subseconds fix from above. Take a look <a href=\"https://stackoverflow.com/q/68364049/9248765\">stackoverflow.com/q/68364049/9248765</a>"},{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":1,"creation_date":1701723413,"post_id":77602241,"comment_id":136808986,"body_markdown":"Does this answer your question? [How to parse case-insensitive strings with JSR-310 DateTimeFormatter?](https://stackoverflow.com/questions/10797808/how-to-parse-case-insensitive-strings-with-jsr-310-datetimeformatter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10797808/how-to-parse-case-insensitive-strings-with-jsr-310-datetimeformatter\">How to parse case-insensitive strings with JSR-310 DateTimeFormatter?</a>"}],"answers":[{"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701725192,"creation_date":1701725192,"answer_id":77602657,"question_id":77602241,"body_markdown":"    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .parseCaseInsensitive()\r\n            .appendPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSSSSS a z&quot;)\r\n            .toFormatter(Locale.US);/* or else*/\r\n    ZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter);","title":"Zoned Date Time cannot be parsed","body":"<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .parseCaseInsensitive()\n        .appendPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSSSSS a z&quot;)\n        .toFormatter(Locale.US);/* or else*/\nZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter);\n</code></pre>\n"}],"owner":{"account_id":5836943,"reputation":307,"user_id":4599667,"accept_rate":0,"display_name":"Catherine S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77602657,"answer_count":1,"score":0,"last_activity_date":1701725192,"creation_date":1701719840,"question_id":77602241,"body_markdown":"I am trying to parse this timestamp &quot;26-JUL-23 10.01.51.336231000 AM UTC&quot; to a ZonedDateTime object:\r\n\r\n    ZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter)\r\n\r\nI keep getting this error:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;26-JUL-23 10.01.51.336231000 AM UTC\r\n\r\nI tried adding a DateTimeFormatter like this, but it is not working:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSS a z&quot;)\r\n\r\nAm I using the wrong date pattern?\r\n\r\n","title":"Zoned Date Time cannot be parsed","body":"<p>I am trying to parse this timestamp &quot;26-JUL-23 10.01.51.336231000 AM UTC&quot; to a ZonedDateTime object:</p>\n<pre><code>ZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter)\n</code></pre>\n<p>I keep getting this error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '26-JUL-23 10.01.51.336231000 AM UTC\n</code></pre>\n<p>I tried adding a DateTimeFormatter like this, but it is not working:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSS a z&quot;)\n</code></pre>\n<p>Am I using the wrong date pattern?</p>\n"},{"tags":["java","jquery","arrays","element"],"answers":[{"tags":[],"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701265803,"creation_date":1701201219,"answer_id":77566810,"question_id":77566620,"body_markdown":"The code for this problem could be heavily optimized, but assuming we want an answer that is easier to understand, here is some java code to replace a word with it&#39;s synonym, **no input is validated**, so will fail if using null values:\r\n\r\n```\r\npublic class SynonymHandler {\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] synonymData = { &quot;merciful&quot;, &quot;gracious&quot;, &quot;kindly&quot;, &quot;forgiving&quot; };\r\n\t\tSystem.out.println(&quot;# original&quot;);\r\n\t\tfor (String element : synonymData) {\r\n\t\t\tSystem.out.println(element);\r\n\t\t}\r\n\r\n\t\tString[] modified = removeSynonym(synonymData, &quot;merciful&quot;, &quot;gracious&quot;);\r\n\t\tSystem.out.println(&quot;# modified&quot;);\r\n\t\tfor (String element : modified) {\r\n\t\t\tSystem.out.println(element);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static String[] removeSynonym(String[] synonymData, String word, String synonym) {\r\n\t\t// result will have the same length as source:\r\n\t\tString[] result = new String[synonymData.length];\r\n\r\n\t\t// loop through the synonymData\r\n\t\tfor (int index = 0; index &lt; synonymData.length; index++) {\r\n\t\t// if word = synonymData[index] use synomyn, else use the original value\r\n\t\t\tresult[index] = word.equals(synonymData[index]) ? synonym : synonymData[index];\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n```","title":"Remove an element from an index in an array","body":"<p>The code for this problem could be heavily optimized, but assuming we want an answer that is easier to understand, here is some java code to replace a word with it's synonym, <strong>no input is validated</strong>, so will fail if using null values:</p>\n<pre><code>public class SynonymHandler {\n    public static void main(String[] args) {\n        String[] synonymData = { &quot;merciful&quot;, &quot;gracious&quot;, &quot;kindly&quot;, &quot;forgiving&quot; };\n        System.out.println(&quot;# original&quot;);\n        for (String element : synonymData) {\n            System.out.println(element);\n        }\n\n        String[] modified = removeSynonym(synonymData, &quot;merciful&quot;, &quot;gracious&quot;);\n        System.out.println(&quot;# modified&quot;);\n        for (String element : modified) {\n            System.out.println(element);\n        }\n    }\n\n    private static String[] removeSynonym(String[] synonymData, String word, String synonym) {\n        // result will have the same length as source:\n        String[] result = new String[synonymData.length];\n\n        // loop through the synonymData\n        for (int index = 0; index &lt; synonymData.length; index++) {\n        // if word = synonymData[index] use synomyn, else use the original value\n            result[index] = word.equals(synonymData[index]) ? synonym : synonymData[index];\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701202256,"creation_date":1701202256,"answer_id":77566894,"question_id":77566620,"body_markdown":"That&#39;s a very strange way to store the data. Is that your design or one you were handled? It would make more sense to store either a HashMap of Strings (the word) to arrays of strings (the synonyms). But let&#39;s work with what you have.\r\n\r\nIt looks like your synonym data is being passed in as an array of simple strings -- just like they appear when you printed them -- rather than parsed into a better format. So `synonymData[0]` is the data for `merciful` and `synonynData[1]` is the data for `powerful`. After that, it&#39;s free format text.\r\n\r\nLet&#39;s look at your code:\r\n\r\n```java\r\npublic static void removeSynonym(String[] synonymData, String word, String synonym) {\r\n    int index = synonymLineIndex(synonymData, word);\r\n    String[] removedSynData = new String[synonymData.length];\r\n    for (int i = 0, int m = 0; i &lt; synonymData.length; i++)\r\n        if (synonymData[index].contains(word))\r\n            removedSynData[m++] = synonymData[i];\r\n}\r\n```\r\n\r\nYour code never modifies synonymData. It creates a new removedSynData array, builds it out, and then proceeds to dump it on the floor, not doing anything with it. Furthermore, it&#39;s not in the same style as the original structure.\r\n\r\nThere are two basic approaches you can take. First, you get the right index when you do this:\r\n\r\n\r\n```java\r\n    int index = synonymLineIndex(synonymData, word);\r\n```\r\n\r\n**Method One: Parse Line, Remove, Rebuild Line**\r\n\r\nMethod one would involve parsing this line -- making a string array of the synonyms, then removing the one you&#39;re trying to remove, then rebuilding a new string.\r\n\r\nDo do that you could do:\r\n\r\n```java\r\n   String[] bigParts = synonymData[index].split(&quot;\\\\|&quot;);\r\n```\r\n\r\nAfter this, `bigParts[0]` contains the word (possibly with white space) and `bigParts[1]` contains all the synonyms as a single string (possibly with white space). Note that `split()` takes a regular expression, which is why I included the `\\\\`. So it passes a single `\\` to split, to escape the pipe character that would otherwise stand for OR.\r\n\r\nYou&#39;ll want to check the length of the array is at least 2 then do:\r\n\r\n```java\r\n   String[] synonyms = bigParts[1].split(&quot;,&quot;);\r\n```\r\n\r\nYou can run through the array, trim them of white space, and then look for the one you want to remove it. Remove it from the array. Then reassemble a string (code of you to figure out), and do this:\r\n\r\n\r\n```java\r\n   synonymData[index] = YourNewString;\r\n```\r\n\r\n**Method Two: ReplaceAll()**\r\n\r\nThe other approach would be to just use a regular expression with `String.replaceAll()`. It would need to be a sorta complicated RE to make sure you only match the entire word. For instance, if you&#39;re supposed to remove `rent` you wouldn&#39;t want to match `parent`. That will take time to figure out, but when you&#39;re done, it&#39;s a single line of code.\r\n\r\n```java\r\n   synonymData[index] = synonymData[index].replaceAll(&quot;The big RE&quot;);\r\n```\r\n\r\n\r\n\r\n","title":"Remove an element from an index in an array","body":"<p>That's a very strange way to store the data. Is that your design or one you were handled? It would make more sense to store either a HashMap of Strings (the word) to arrays of strings (the synonyms). But let's work with what you have.</p>\n<p>It looks like your synonym data is being passed in as an array of simple strings -- just like they appear when you printed them -- rather than parsed into a better format. So <code>synonymData[0]</code> is the data for <code>merciful</code> and <code>synonynData[1]</code> is the data for <code>powerful</code>. After that, it's free format text.</p>\n<p>Let's look at your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void removeSynonym(String[] synonymData, String word, String synonym) {\n    int index = synonymLineIndex(synonymData, word);\n    String[] removedSynData = new String[synonymData.length];\n    for (int i = 0, int m = 0; i &lt; synonymData.length; i++)\n        if (synonymData[index].contains(word))\n            removedSynData[m++] = synonymData[i];\n}\n</code></pre>\n<p>Your code never modifies synonymData. It creates a new removedSynData array, builds it out, and then proceeds to dump it on the floor, not doing anything with it. Furthermore, it's not in the same style as the original structure.</p>\n<p>There are two basic approaches you can take. First, you get the right index when you do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int index = synonymLineIndex(synonymData, word);\n</code></pre>\n<p><strong>Method One: Parse Line, Remove, Rebuild Line</strong></p>\n<p>Method one would involve parsing this line -- making a string array of the synonyms, then removing the one you're trying to remove, then rebuilding a new string.</p>\n<p>Do do that you could do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   String[] bigParts = synonymData[index].split(&quot;\\\\|&quot;);\n</code></pre>\n<p>After this, <code>bigParts[0]</code> contains the word (possibly with white space) and <code>bigParts[1]</code> contains all the synonyms as a single string (possibly with white space). Note that <code>split()</code> takes a regular expression, which is why I included the <code>\\\\</code>. So it passes a single <code>\\</code> to split, to escape the pipe character that would otherwise stand for OR.</p>\n<p>You'll want to check the length of the array is at least 2 then do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   String[] synonyms = bigParts[1].split(&quot;,&quot;);\n</code></pre>\n<p>You can run through the array, trim them of white space, and then look for the one you want to remove it. Remove it from the array. Then reassemble a string (code of you to figure out), and do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   synonymData[index] = YourNewString;\n</code></pre>\n<p><strong>Method Two: ReplaceAll()</strong></p>\n<p>The other approach would be to just use a regular expression with <code>String.replaceAll()</code>. It would need to be a sorta complicated RE to make sure you only match the entire word. For instance, if you're supposed to remove <code>rent</code> you wouldn't want to match <code>parent</code>. That will take time to figure out, but when you're done, it's a single line of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   synonymData[index] = synonymData[index].replaceAll(&quot;The big RE&quot;);\n</code></pre>\n"}],"owner":{"account_id":29983188,"reputation":1,"user_id":22977727,"display_name":"Adam Cole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701725108,"creation_date":1701199242,"question_id":77566620,"body_markdown":"I have a question where i have to remove a  an array. for example;\r\n\r\n      2 (3, 5, 6) \r\n    \r\nIn this case in th array \r\n.\r\n    \r\nFor example, i have to implement this defintion in my main class,\r\n\r\n\r\n    \r\n\r\n    \r\n    \r\n      \r\n\r\n","title":"Remove an element from an index in an array","body":"<p>I have a question where i have to remove a  an array. for example;</p>\n<pre><code>  2 (3, 5, 6) \n</code></pre>\n<p>In this case in th array\n.</p>\n<p>For example, i have to implement this defintion in my main class,</p>\n"},{"tags":["java","spring","spring-data-mongodb","morphia"],"comments":[{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1701723372,"post_id":77600843,"comment_id":136808981,"body_markdown":"A close vote? No question on stackoverflow has an answer for this problem so it is new material","body":"A close vote? No question on stackoverflow has an answer for this problem so it is new material"}],"answers":[{"tags":[],"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701724027,"creation_date":1701724027,"answer_id":77602565,"question_id":77600843,"body_markdown":"Ok, since Spring doesn&#39;t call `bulkFetch` for Collections of size 1, I ditched the `CustomDbRefResolver` and overrode the higher-level `MappingMongoConverter` instead. The `DBRefResolver`&#39;s methods get invoked during the execution of `MappingMongoConverter.readCollectionOrArray` which can be overridden:\r\n\r\n```java\r\nimport com.mongodb.DBRef; //make sure to use the right import!\r\n\r\npublic class CustomMappingMongoConverter extends MappingMongoConverter {\r\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext) {\r\n        super(dbRefResolver, mappingContext);\r\n    }\r\n\r\n    @Override\r\n    protected Object readCollectionOrArray(ConversionContext context, Collection&lt;?&gt; source, TypeInformation&lt;?&gt; targetType) {\r\n        var readResult = super.readCollectionOrArray(context, source, targetType);\r\n        if (source.isEmpty()\r\n                || !(source.stream().findAny().orElse(null) instanceof DBRef)\r\n                || !(readResult instanceof List)\r\n                || ((List&lt;?&gt;) readResult).isEmpty()\r\n        ) {\r\n            return readResult;\r\n        }\r\n        var list = ((List&lt;?&gt;) readResult);\r\n        return list.stream().filter(Objects::nonNull).collect(toList());\r\n    }\r\n}\r\n```\r\n\r\nIn order to use this converter with spring-data-mongodb, I had to override this part of my MongoConfiguration:\r\n```java\r\n@Configuration\r\npublic class MongoConfiguration extends AbstractMongoClientConfiguration {\r\n    @Override\r\n    @Bean\r\n    @NotNull\r\n    public MappingMongoConverter mappingMongoConverter(MongoDatabaseFactory databaseFactory,\r\n                                                       MongoCustomConversions customConversions,\r\n                                                       MongoMappingContext mappingContext) {\r\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(databaseFactory);\r\n        MappingMongoConverter converter = new CustomMappingMongoConverter(dbRefResolver, mappingContext);\r\n        converter.setCustomConversions(customConversions);\r\n        converter.setCodecRegistryProvider(databaseFactory);\r\n        return converter;\r\n    }\r\n}\r\n```","title":"How to make Spring-data-mongo skip over null @DBRef for a List&lt;Entity&gt;?","body":"<p>Ok, since Spring doesn't call <code>bulkFetch</code> for Collections of size 1, I ditched the <code>CustomDbRefResolver</code> and overrode the higher-level <code>MappingMongoConverter</code> instead. The <code>DBRefResolver</code>'s methods get invoked during the execution of <code>MappingMongoConverter.readCollectionOrArray</code> which can be overridden:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.mongodb.DBRef; //make sure to use the right import!\n\npublic class CustomMappingMongoConverter extends MappingMongoConverter {\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext) {\n        super(dbRefResolver, mappingContext);\n    }\n\n    @Override\n    protected Object readCollectionOrArray(ConversionContext context, Collection&lt;?&gt; source, TypeInformation&lt;?&gt; targetType) {\n        var readResult = super.readCollectionOrArray(context, source, targetType);\n        if (source.isEmpty()\n                || !(source.stream().findAny().orElse(null) instanceof DBRef)\n                || !(readResult instanceof List)\n                || ((List&lt;?&gt;) readResult).isEmpty()\n        ) {\n            return readResult;\n        }\n        var list = ((List&lt;?&gt;) readResult);\n        return list.stream().filter(Objects::nonNull).collect(toList());\n    }\n}\n</code></pre>\n<p>In order to use this converter with spring-data-mongodb, I had to override this part of my MongoConfiguration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MongoConfiguration extends AbstractMongoClientConfiguration {\n    @Override\n    @Bean\n    @NotNull\n    public MappingMongoConverter mappingMongoConverter(MongoDatabaseFactory databaseFactory,\n                                                       MongoCustomConversions customConversions,\n                                                       MongoMappingContext mappingContext) {\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(databaseFactory);\n        MappingMongoConverter converter = new CustomMappingMongoConverter(dbRefResolver, mappingContext);\n        converter.setCustomConversions(customConversions);\n        converter.setCodecRegistryProvider(databaseFactory);\n        return converter;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701724027,"creation_date":1701705496,"question_id":77600843,"body_markdown":"We have a large Spring Boot app using a Mongo database, and we are migrating our ORM from Morphia to Spring-data-mongo. In Morphia, they have an [annotation][1] `@Reference(ignoreMissing = true)` which we use for our DBRefs. When we use the `@Reference` annotation on a `List&lt;Entity&gt;`, Morphia will [skip over][2] any null refs (ie refs it cannot load), which helps avoid nulls in our list items.\r\n\r\nSample of our existing model class:\r\n```\r\npublic class Book {\r\n\t@Reference(ignoreMissing = true)\r\n\tprivate List&lt;Author&gt; authors;\r\n}\r\n```\r\n\r\nWe are trying to reproduce the same behavior with Spring-data-mongo&#39;s `@DBRef` annotation, but by default Spring is always including the null dbrefs in the `List&lt;Entity&gt;` class members that we have. \r\n\r\nTo resolve this, as a start, I tried overriding the `DbRefResolver.bulkFetch` [method][3] Spring uses for resolving DBRefs:\r\n```\r\npublic class CustomDbRefResolver extends DefaultDbRefResolver {\r\n    public CustomDbRefResolver(MongoDatabaseFactory mongoDbFactory) {\r\n        super(mongoDbFactory);\r\n    }\r\n\r\n    @Override\r\n    @NotNull\r\n    public List&lt;Document&gt; bulkFetch(@NotNull List&lt;DBRef&gt; refs) {\r\n        var docs = super.bulkFetch(refs);\r\n        return docs.stream().filter(Objects::nonNull).collect(toList());\r\n    }\r\n}\r\n```\r\n\r\nBut looking deep into [Spring&#39;s implementation][4], they don&#39;t use this method at all if the list of DBRefs only has 1 element in it:\r\n```\r\nList&lt;Document&gt; referencedRawDocuments = dbrefs.size() == 1\r\n\t\t? Collections.singletonList(readRef(dbrefs.iterator().next()))\r\n\t\t: bulkReadRefs(dbrefs);\r\n```\r\n\r\nSo now I&#39;m stuck on how to make Spring ignore the null DBRefs for any-size list like how Morphia does it?\r\n\r\n(I checked the [javadocs][5] and there doesn&#39;t seem to be an ignore property like Morphia has)\r\n\r\n\r\n  [1]: https://morphia.dev/morphia/2.2/references.html\r\n  [2]: https://github.com/MorphiaOrg/morphia/blob/1.6.x/morphia/src/main/java/dev/morphia/mapping/ReferenceMapper.java#L168\r\n  [3]: https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultDbRefResolver.java#L96\r\n  [4]: https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java#L1715\r\n  [5]: https://javadoc.io/static/org.springframework.data/spring-data-mongodb/3.4.0/org/springframework/data/mongodb/core/mapping/DBRef.html","title":"How to make Spring-data-mongo skip over null @DBRef for a List&lt;Entity&gt;?","body":"<p>We have a large Spring Boot app using a Mongo database, and we are migrating our ORM from Morphia to Spring-data-mongo. In Morphia, they have an <a href=\"https://morphia.dev/morphia/2.2/references.html\" rel=\"nofollow noreferrer\">annotation</a> <code>@Reference(ignoreMissing = true)</code> which we use for our DBRefs. When we use the <code>@Reference</code> annotation on a <code>List&lt;Entity&gt;</code>, Morphia will <a href=\"https://github.com/MorphiaOrg/morphia/blob/1.6.x/morphia/src/main/java/dev/morphia/mapping/ReferenceMapper.java#L168\" rel=\"nofollow noreferrer\">skip over</a> any null refs (ie refs it cannot load), which helps avoid nulls in our list items.</p>\n<p>Sample of our existing model class:</p>\n<pre><code>public class Book {\n    @Reference(ignoreMissing = true)\n    private List&lt;Author&gt; authors;\n}\n</code></pre>\n<p>We are trying to reproduce the same behavior with Spring-data-mongo's <code>@DBRef</code> annotation, but by default Spring is always including the null dbrefs in the <code>List&lt;Entity&gt;</code> class members that we have.</p>\n<p>To resolve this, as a start, I tried overriding the <code>DbRefResolver.bulkFetch</code> <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultDbRefResolver.java#L96\" rel=\"nofollow noreferrer\">method</a> Spring uses for resolving DBRefs:</p>\n<pre><code>public class CustomDbRefResolver extends DefaultDbRefResolver {\n    public CustomDbRefResolver(MongoDatabaseFactory mongoDbFactory) {\n        super(mongoDbFactory);\n    }\n\n    @Override\n    @NotNull\n    public List&lt;Document&gt; bulkFetch(@NotNull List&lt;DBRef&gt; refs) {\n        var docs = super.bulkFetch(refs);\n        return docs.stream().filter(Objects::nonNull).collect(toList());\n    }\n}\n</code></pre>\n<p>But looking deep into <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java#L1715\" rel=\"nofollow noreferrer\">Spring's implementation</a>, they don't use this method at all if the list of DBRefs only has 1 element in it:</p>\n<pre><code>List&lt;Document&gt; referencedRawDocuments = dbrefs.size() == 1\n        ? Collections.singletonList(readRef(dbrefs.iterator().next()))\n        : bulkReadRefs(dbrefs);\n</code></pre>\n<p>So now I'm stuck on how to make Spring ignore the null DBRefs for any-size list like how Morphia does it?</p>\n<p>(I checked the <a href=\"https://javadoc.io/static/org.springframework.data/spring-data-mongodb/3.4.0/org/springframework/data/mongodb/core/mapping/DBRef.html\" rel=\"nofollow noreferrer\">javadocs</a> and there doesn't seem to be an ignore property like Morphia has)</p>\n"},{"tags":["java","spring-boot","docker","maven","noclassdeffounderror"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701792734,"post_id":77602549,"comment_id":136818056,"body_markdown":"By default spring-boot-maven-plugin does not package system scope deps which are in general a bad idea...","body":"By default spring-boot-maven-plugin does not package system scope deps which are in general a bad idea..."}],"owner":{"account_id":20964255,"reputation":11,"user_id":15402975,"display_name":"Everis Souza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701723776,"creation_date":1701723776,"question_id":77602549,"body_markdown":"My Spring Boot application has a dependency on a local JAR. I can run it on my machine, but when I generate the Docker image, I encounter the NoClassDefFoundError.\r\n\r\nMy pom:\r\n\r\nAttemp 1:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.amdocs.adh.impl&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;target-aldmpaymentarrangementfastdata&lt;/artifactId&gt;\r\n\t&lt;version&gt;20.06.02-SNAPSHOT&lt;/version&gt;\r\n\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t&lt;systemPath&gt;${project.basedir}/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAttemp 2:\r\n\r\nI tried to set it to an absolute system path.\r\n\r\n```&lt;systemPath&gt;/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;```\r\n\r\nIn the Docker, I copied the JAR. In the generated image, it exists in two locations:\r\n\r\n/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar\r\n\r\n/workspace/app/BOOT-INF/classes/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar\r\n\r\nThe error occurs only at runtime, at the moment when the class is about to be used, when I run the Docker container.\r\n\r\nRunning the code directly through the IDE or command line works fine.","title":"NoClassDefFoundError in Spring Boot: Issues with Local JAR Dependencies","body":"<p>My Spring Boot application has a dependency on a local JAR. I can run it on my machine, but when I generate the Docker image, I encounter the NoClassDefFoundError.</p>\n<p>My pom:</p>\n<p>Attemp 1:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amdocs.adh.impl&lt;/groupId&gt;\n    &lt;artifactId&gt;target-aldmpaymentarrangementfastdata&lt;/artifactId&gt;\n    &lt;version&gt;20.06.02-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Attemp 2:</p>\n<p>I tried to set it to an absolute system path.</p>\n<p><code>&lt;systemPath&gt;/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;</code></p>\n<p>In the Docker, I copied the JAR. In the generated image, it exists in two locations:</p>\n<p>/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar</p>\n<p>/workspace/app/BOOT-INF/classes/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar</p>\n<p>The error occurs only at runtime, at the moment when the class is about to be used, when I run the Docker container.</p>\n<p>Running the code directly through the IDE or command line works fine.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1701723062,"post_id":77602443,"comment_id":136808936,"body_markdown":"That String is mostly JSON. Use a JSON parser.","body":"That String is mostly JSON. Use a JSON parser."}],"owner":{"account_id":16689380,"reputation":1,"user_id":12062381,"display_name":"Srinivas manduva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701723046,"answer_count":0,"score":-1,"last_activity_date":1701723113,"creation_date":1701722552,"question_id":77602443,"body_markdown":"i have a metadata string like this\r\n```\r\n(java.lang.String) \r\n{\r\n  &quot;info&quot;: {\r\n    &quot;version&quot;: {\r\n      &quot;major&quot;: 2024,\r\n      &quot;minor&quot;: 1,\r\n      &quot;revision&quot;: 0,\r\n      &quot;extension&quot;: &quot;undefined&quot;,\r\n      &quot;qrc&quot;: false,\r\n      &quot;githash&quot;: &quot;0063730074c0cc745d330be36c307aa5bb72c6ff&quot;\r\n    },\r\n    &quot;chunk&quot;: {\r\n      &quot;n&quot;: &quot;1&quot;,\r\n      &quot;j&quot;: &quot;11111101000&quot;,\r\n      &quot;r&quot;: &quot;0&quot;,\r\n      &quot;a&quot;: &quot;10101111&quot;\r\n    },\r\n    &quot;tenant&quot;: &quot;TEST&quot;\r\n  },\r\n  &quot;objects&quot;: [\r\n    {\r\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\r\n      &quot;objectName&quot;: &quot;Models&quot;,\r\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\r\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:PUBLIC&quot;,\r\n      &quot;hasParentRes&quot;: true,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST:MODELS&quot;,\r\n      &quot;description&quot;: &quot;&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: [\r\n        &quot;PUBLIC&quot;\r\n      ],\r\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\r\n    },\r\n    {\r\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\r\n      &quot;objectName&quot;: &quot;New Model&quot;,\r\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\r\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\r\n      &quot;hasParentRes&quot;: true,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\r\n      &quot;description&quot;: &quot;&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [\r\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\r\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\r\n        &quot;RESOURCE:t.TEST:MODELS&quot;\r\n      ],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: [\r\n        &quot;PUBLIC&quot;,\r\n        &quot;Models&quot;\r\n      ],\r\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\r\n    },\r\n    {\r\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\r\n      &quot;objectName&quot;: &quot;Date&quot;,\r\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\r\n      &quot;parentResId&quot;: &quot;&quot;,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\r\n      &quot;description&quot;: &quot;Date&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: null,\r\n      &quot;ownerType&quot;: null\r\n    },\r\n    {\r\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\r\n      &quot;objectName&quot;: &quot;Version&quot;,\r\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\r\n      &quot;parentResId&quot;: &quot;&quot;,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\r\n      &quot;description&quot;: &quot;Version&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: null,\r\n      &quot;ownerType&quot;: null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\ni want a list of dependents from the string whats the best and fastest way to do this\r\nthanks\r\n\r\ni am trying to write an string parsing algorithm for this but couldn&#39;t do it efficiently","title":"How to parse this this string and get dependents from it","body":"<p>i have a metadata string like this</p>\n<pre><code>(java.lang.String) \n{\n  &quot;info&quot;: {\n    &quot;version&quot;: {\n      &quot;major&quot;: 2024,\n      &quot;minor&quot;: 1,\n      &quot;revision&quot;: 0,\n      &quot;extension&quot;: &quot;undefined&quot;,\n      &quot;qrc&quot;: false,\n      &quot;githash&quot;: &quot;0063730074c0cc745d330be36c307aa5bb72c6ff&quot;\n    },\n    &quot;chunk&quot;: {\n      &quot;n&quot;: &quot;1&quot;,\n      &quot;j&quot;: &quot;11111101000&quot;,\n      &quot;r&quot;: &quot;0&quot;,\n      &quot;a&quot;: &quot;10101111&quot;\n    },\n    &quot;tenant&quot;: &quot;TEST&quot;\n  },\n  &quot;objects&quot;: [\n    {\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\n      &quot;objectName&quot;: &quot;Models&quot;,\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:PUBLIC&quot;,\n      &quot;hasParentRes&quot;: true,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST:MODELS&quot;,\n      &quot;description&quot;: &quot;&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: [\n        &quot;PUBLIC&quot;\n      ],\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\n    },\n    {\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\n      &quot;objectName&quot;: &quot;New Model&quot;,\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\n      &quot;hasParentRes&quot;: true,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\n      &quot;description&quot;: &quot;&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\n        &quot;RESOURCE:t.TEST:MODELS&quot;\n      ],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: [\n        &quot;PUBLIC&quot;,\n        &quot;Models&quot;\n      ],\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\n    },\n    {\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\n      &quot;objectName&quot;: &quot;Date&quot;,\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\n      &quot;parentResId&quot;: &quot;&quot;,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\n      &quot;description&quot;: &quot;Date&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: null,\n      &quot;ownerType&quot;: null\n    },\n    {\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\n      &quot;objectName&quot;: &quot;Version&quot;,\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\n      &quot;parentResId&quot;: &quot;&quot;,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\n      &quot;description&quot;: &quot;Version&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: null,\n      &quot;ownerType&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>i want a list of dependents from the string whats the best and fastest way to do this\nthanks</p>\n<p>i am trying to write an string parsing algorithm for this but couldn't do it efficiently</p>\n"},{"tags":["java","json","spring-boot","jackson","serialization"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1577878902,"post_id":59549259,"comment_id":105272957,"body_markdown":"Why you extend `Jdk8BeanSerializerModifier `? Could you try `com.fasterxml.jackson.databind.ser.BeanSerializerModifier` instead? Maybe `Jdk8BeanSerializerModifier` does more than you want.","body":"Why you extend <code>Jdk8BeanSerializerModifier </code>? Could you try <code>com.fasterxml.jackson.databind.ser.BeanSerializerModifier</code> instead? Maybe <code>Jdk8BeanSerializerModifier</code> does more than you want."},{"owner":{"account_id":8641099,"reputation":3699,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1577930441,"post_id":59549259,"comment_id":105283506,"body_markdown":"Did you return the `TestVo` as a HTTP response with `@ResponseBody` in Spring Boot 1.X?","body":"Did you return the <code>TestVo</code> as a HTTP response with <code>@ResponseBody</code> in Spring Boot 1.X?"},{"owner":{"account_id":13966383,"reputation":127,"user_id":10086054,"display_name":"student"},"score":0,"creation_date":1578014833,"post_id":59549259,"comment_id":105311925,"body_markdown":"@Michał Ziober After trying, the effect is the same. It seems that Jdk8BeanSerializerModifier also extends BeanSerializerModifier, but only optimizes some details.","body":"@Michał Ziober After trying, the effect is the same. It seems that Jdk8BeanSerializerModifier also extends BeanSerializerModifier, but only optimizes some details."}],"answers":[{"tags":[],"owner":{"account_id":14520228,"reputation":347,"user_id":10488096,"display_name":"Deepak Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577839681,"creation_date":1577839681,"answer_id":59549361,"question_id":59549259,"body_markdown":"Can you please try if that helps (adding @JsonSerialize like mentioned below)\r\n\r\n    @JsonSerialize(as = Date.class)\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&quot;)\r\n    private Date createTime;\r\n\r\n","title":"@JsonFormat not working with custom serializer","body":"<p>Can you please try if that helps (adding @JsonSerialize like mentioned below)</p>\n\n<pre><code>@JsonSerialize(as = Date.class)\n@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd\")\nprivate Date createTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701722953,"creation_date":1701722953,"answer_id":77602480,"question_id":59549259,"body_markdown":"I think what you need is `JavaTimeModule` you can see [docs here][1]\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n      Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n      SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\r\n      builder.modules(simpleModule, new JavaTimeModule());\r\n      return builder;\r\n    }\r\n\r\nThis module can help to add many default serialize and deserialize way for date time data type.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html","title":"@JsonFormat not working with custom serializer","body":"<p>I think what you need is <code>JavaTimeModule</code> you can see <a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">docs here</a></p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilder objectMapperBuilder() {\n  Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n  SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\n  builder.modules(simpleModule, new JavaTimeModule());\n  return builder;\n}\n</code></pre>\n<p>This module can help to add many default serialize and deserialize way for date time data type.</p>\n"}],"owner":{"account_id":13966383,"reputation":127,"user_id":10086054,"display_name":"student"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2332,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701722953,"creation_date":1577837680,"question_id":59549259,"body_markdown":"I have some special business that makes me need a custom serializer，it add a field to the field that modified the **DictAnnotation** annotation, It works.  \r\nBut **@JsonFormat** not working.\r\nMy **createTime** field used to look like this：  \r\n\r\n    &quot;createTime&quot;:&quot;2019-12-12&quot;\r\nnow：\r\n\r\n    &quot;createTime&quot;:1577835397615\r\nThe fields that are not modified by DictAnnotation have used the default JsonSerializer, so I don&#39;t know where the problem lies.    \r\n\r\nMy main code is as follows: \r\n\r\nbind custom SerializerModifier\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n        SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\r\n        builder.modules(simpleModule);\r\n        return builder;\r\n    }\r\n\r\ncustome SerializerModifier  \r\n\r\n    public class DictSerializerModifier extends Jdk8BeanSerializerModifier {\r\n        @Override\r\n        public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n            return new DictSerializer(null, (JsonSerializer&lt;Object&gt;) serializer);\r\n        }\r\n    }\r\n\r\ncustom Serializer  \r\n\r\n    public class DictSerializer extends JsonSerializer&lt;Object&gt; implements ContextualSerializer {\r\n    \r\n        private static final String MY_BIZ_FIELD_SUFFIX = &quot;_test&quot;;\r\n        private DictAnnotation.ElementType type;\r\n        private JsonSerializer&lt;Object&gt; defSerializer;\r\n    \r\n        public DictSerializer(DictAnnotation.ElementType type, JsonSerializer&lt;Object&gt; jsonSerializer) {\r\n            this.defSerializer = jsonSerializer;\r\n            this.type = type;\r\n        }\r\n    \r\n        @Override\r\n        public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) {\r\n            // my biz annotation\r\n            DictAnnotation.ElementType elementType = Optional.ofNullable(property).map(b -&gt; b.getAnnotation(DictAnnotation.class))\r\n                    .map(d -&gt; d.type()).orElse(null);\r\n            // if null, use defSerializer\r\n            return elementType == null ? defSerializer : new DictSerializer(elementType, defSerializer);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            defSerializer.serialize(value, gen, serializers);\r\n            if (type != null) {\r\n                String fieldName = gen.getOutputContext().getCurrentName();\r\n                String codeLabel = RedisUtils.dictCodeToLabel(type, value.toString());\r\n                gen.writeStringField(fieldName.concat(MY_BIZ_FIELD_SUFFIX), codeLabel);\r\n            }\r\n        }\r\n    }\r\n\r\ntest pojo class  \r\n\r\n    public class TestVo {\r\n    \r\n        @DictAnnotation(type = A)\r\n        private String aCode;\r\n    \r\n        @DictAnnotation(type = B)\r\n        private String bCode;\r\n    \r\n        @DictAnnotation(type = C)\r\n        private String cCode;\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;,timezone = &quot;GMT+8&quot;)\r\n        private Date createTime;  \r\n    getter.... settter...\r\n\r\n\r\nLooking forward to your guidance！\r\n","title":"@JsonFormat not working with custom serializer","body":"<p>I have some special business that makes me need a custom serializer，it add a field to the field that modified the <strong>DictAnnotation</strong> annotation, It works.<br>\nBut <strong>@JsonFormat</strong> not working.\nMy <strong>createTime</strong> field used to look like this：  </p>\n\n<pre><code>\"createTime\":\"2019-12-12\"\n</code></pre>\n\n<p>now：</p>\n\n<pre><code>\"createTime\":1577835397615\n</code></pre>\n\n<p>The fields that are not modified by DictAnnotation have used the default JsonSerializer, so I don't know where the problem lies.    </p>\n\n<p>My main code is as follows: </p>\n\n<p>bind custom SerializerModifier</p>\n\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilder objectMapperBuilder() {\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\n    builder.modules(simpleModule);\n    return builder;\n}\n</code></pre>\n\n<p>custome SerializerModifier  </p>\n\n<pre><code>public class DictSerializerModifier extends Jdk8BeanSerializerModifier {\n    @Override\n    public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n        return new DictSerializer(null, (JsonSerializer&lt;Object&gt;) serializer);\n    }\n}\n</code></pre>\n\n<p>custom Serializer  </p>\n\n<pre><code>public class DictSerializer extends JsonSerializer&lt;Object&gt; implements ContextualSerializer {\n\n    private static final String MY_BIZ_FIELD_SUFFIX = \"_test\";\n    private DictAnnotation.ElementType type;\n    private JsonSerializer&lt;Object&gt; defSerializer;\n\n    public DictSerializer(DictAnnotation.ElementType type, JsonSerializer&lt;Object&gt; jsonSerializer) {\n        this.defSerializer = jsonSerializer;\n        this.type = type;\n    }\n\n    @Override\n    public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) {\n        // my biz annotation\n        DictAnnotation.ElementType elementType = Optional.ofNullable(property).map(b -&gt; b.getAnnotation(DictAnnotation.class))\n                .map(d -&gt; d.type()).orElse(null);\n        // if null, use defSerializer\n        return elementType == null ? defSerializer : new DictSerializer(elementType, defSerializer);\n    }\n\n    @Override\n    public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        defSerializer.serialize(value, gen, serializers);\n        if (type != null) {\n            String fieldName = gen.getOutputContext().getCurrentName();\n            String codeLabel = RedisUtils.dictCodeToLabel(type, value.toString());\n            gen.writeStringField(fieldName.concat(MY_BIZ_FIELD_SUFFIX), codeLabel);\n        }\n    }\n}\n</code></pre>\n\n<p>test pojo class  </p>\n\n<pre><code>public class TestVo {\n\n    @DictAnnotation(type = A)\n    private String aCode;\n\n    @DictAnnotation(type = B)\n    private String bCode;\n\n    @DictAnnotation(type = C)\n    private String cCode;\n\n    @JsonFormat(pattern=\"yyyy-MM-dd\",timezone = \"GMT+8\")\n    private Date createTime;  \ngetter.... settter...\n</code></pre>\n\n<p>Looking forward to your guidance！</p>\n"},{"tags":["java","android"],"owner":{"account_id":18601630,"reputation":15,"user_id":18215321,"display_name":"Grey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701722842,"creation_date":1701695709,"question_id":77600808,"body_markdown":"I&#39;m learning android development with &quot;Head First Android Development&quot; by Dawn Griffiths.\r\nIn this book, it explains that onPause() method is called when another app comes to focus but still visible on the screen. But the code inside onPause method doesn&#39;t seem to be executed. I tested this with several apps&#39; pop-up view. This is the code for my stopwatch app&#39;s mainActivity:\r\n\r\n```\r\npackage com.hfad.stopwatch;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport java.util.Locale;\r\nimport android.os.Handler;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends Activity {\r\n    private int seconds = 0;\r\n    private boolean running;\r\n    private boolean wasRunning;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if (savedInstanceState != null) {\r\n            seconds = savedInstanceState.getInt(&quot;seconds&quot;);\r\n            running = savedInstanceState.getBoolean(&quot;running&quot;);\r\n            wasRunning = savedInstanceState.getBoolean(&quot;wasRunning&quot;);\r\n        }\r\n        runTimer();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        wasRunning = running;\r\n        running = false;\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (wasRunning) {\r\n            running = true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle savedInstanceState) {\r\n        savedInstanceState.putInt(&quot;seconds&quot;, seconds);\r\n        savedInstanceState.putBoolean(&quot;running&quot;, running);\r\n        savedInstanceState.putBoolean(&quot;wasRunning&quot;, wasRunning);\r\n    }\r\n\r\n    public void onClickStart(View view) {\r\n        running = true;\r\n    }\r\n\r\n    public void onClickStop(View view) {\r\n        running = false;\r\n    }\r\n\r\n    public void onClickReset(View view) {\r\n        running = false;\r\n        seconds = 0;\r\n    }\r\n\r\n    private void runTimer() {\r\n        final TextView timeView = (TextView)findViewById(R.id.time_view);\r\n        final Handler handler = new Handler();\r\n        handler.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                int hours = seconds/3600;\r\n                int minutes = (seconds%3600)/60;\r\n                int secs = seconds%60;\r\n                String time = String.format(Locale.getDefault(),\r\n                        &quot;%d:%02d:%02d&quot;, hours, minutes, secs);\r\n                timeView.setText(time);\r\n                if (running) {\r\n                    seconds++;\r\n                }\r\n                handler.postDelayed(this, 1000);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\nrunTimer() method is the one for checking variables state every 1000 milliseconds to determine whether it increments &#39;seconds&#39; variable when &#39;running&#39; variable is true. Inside the onPause() method, it sets &#39;running&#39; variable to false, which leads to stop the stopwatch. But when I execute some apps as pop-up view, it doesn&#39;t stop. It does stop when my stopwatch app goes to background (invisible). Can anyone else tell me what I&#39;m missing about?","title":"onPause doesn&#39;t called when another app gets focus","body":"<p>I'm learning android development with &quot;Head First Android Development&quot; by Dawn Griffiths.\nIn this book, it explains that onPause() method is called when another app comes to focus but still visible on the screen. But the code inside onPause method doesn't seem to be executed. I tested this with several apps' pop-up view. This is the code for my stopwatch app's mainActivity:</p>\n<pre><code>package com.hfad.stopwatch;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport java.util.Locale;\nimport android.os.Handler;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity {\n    private int seconds = 0;\n    private boolean running;\n    private boolean wasRunning;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if (savedInstanceState != null) {\n            seconds = savedInstanceState.getInt(&quot;seconds&quot;);\n            running = savedInstanceState.getBoolean(&quot;running&quot;);\n            wasRunning = savedInstanceState.getBoolean(&quot;wasRunning&quot;);\n        }\n        runTimer();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        wasRunning = running;\n        running = false;\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (wasRunning) {\n            running = true;\n        }\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle savedInstanceState) {\n        savedInstanceState.putInt(&quot;seconds&quot;, seconds);\n        savedInstanceState.putBoolean(&quot;running&quot;, running);\n        savedInstanceState.putBoolean(&quot;wasRunning&quot;, wasRunning);\n    }\n\n    public void onClickStart(View view) {\n        running = true;\n    }\n\n    public void onClickStop(View view) {\n        running = false;\n    }\n\n    public void onClickReset(View view) {\n        running = false;\n        seconds = 0;\n    }\n\n    private void runTimer() {\n        final TextView timeView = (TextView)findViewById(R.id.time_view);\n        final Handler handler = new Handler();\n        handler.post(new Runnable() {\n            @Override\n            public void run() {\n                int hours = seconds/3600;\n                int minutes = (seconds%3600)/60;\n                int secs = seconds%60;\n                String time = String.format(Locale.getDefault(),\n                        &quot;%d:%02d:%02d&quot;, hours, minutes, secs);\n                timeView.setText(time);\n                if (running) {\n                    seconds++;\n                }\n                handler.postDelayed(this, 1000);\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>runTimer() method is the one for checking variables state every 1000 milliseconds to determine whether it increments 'seconds' variable when 'running' variable is true. Inside the onPause() method, it sets 'running' variable to false, which leads to stop the stopwatch. But when I execute some apps as pop-up view, it doesn't stop. It does stop when my stopwatch app goes to background (invisible). Can anyone else tell me what I'm missing about?</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-21"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":4,"creation_date":1701640664,"post_id":77596307,"comment_id":136797908,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":18422368,"reputation":31,"user_id":13419664,"display_name":"Yoosin Paddy"},"score":0,"creation_date":1701722995,"post_id":77596307,"comment_id":136808920,"body_markdown":"I just edited the question @S&#246;ren","body":"I just edited the question @S&#246;ren"},{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":2,"creation_date":1701731150,"post_id":77596307,"comment_id":136809909,"body_markdown":"The question is missing the important info, that this error occurs when opening the gradle project with IntelliJ.\nThe problem is, IntelliJ does not support Gradle 8.5 yet (same with NetBeans).\nHowever, the project should still compile!","body":"The question is missing the important info, that this error occurs when opening the gradle project with IntelliJ. The problem is, IntelliJ does not support Gradle 8.5 yet (same with NetBeans). However, the project should still compile!"},{"owner":{"account_id":6039751,"reputation":525,"user_id":6067277,"accept_rate":54,"display_name":"Arch"},"score":0,"creation_date":1701733451,"post_id":77596307,"comment_id":136810100,"body_markdown":"@Ben looks like you are right. https://github.com/gradle/gradle/issues/27272","body":"@Ben looks like you are right. <a href=\"https://github.com/gradle/gradle/issues/27272\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/27272</a>"}],"owner":{"account_id":18422368,"reputation":31,"user_id":13419664,"display_name":"Yoosin Paddy"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1701673700,"answer_count":0,"score":0,"last_activity_date":1701722495,"creation_date":1701640483,"question_id":77596307,"body_markdown":"I am getting the error\r\n\r\n```\r\nUnsupported Java. \r\nYour build is currently configured to use Java 21.0.1 and Gradle 8.5.\r\n\r\nPossible solution:\r\n - Use Java 20 as Gradle JVM: Open Gradle settings \r\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n```\r\nEven after instaling java 21 and using gradle 8.5 as shown below:\r\n\r\n```\r\nuser@laptop-MacBook-Pro ProjectName % ./gradlew -v\r\n\r\n------------------------------------------------------------\r\nGradle 8.5\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-11-29 14:08:57 UTC\r\nRevision:     28aca86a7180baa17117e0e5ba01d8ea9feca598\r\n\r\nKotlin:       1.9.20\r\nGroovy:       3.0.17\r\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\nJVM:          21.0.1 (Oracle Corporation 21.0.1+12-LTS-29)\r\nOS:           Mac OS X 14.1.1 aarch64\r\n\r\nuser@laptop-MacBook-Pro ProjectName % java -version\r\njava version &quot;21.0.1&quot; 2023-10-17 LTS\r\nJava(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\r\nJava HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\r\n```\r\n\r\n\r\nI tried reverting the JVM to 20 but still got errors\r\n","title":"Unsupported Java. Your build is currently configured to use Java 21.0.1 and Gradle 8.5","body":"<p>I am getting the error</p>\n<pre><code>Unsupported Java. \nYour build is currently configured to use Java 21.0.1 and Gradle 8.5.\n\nPossible solution:\n - Use Java 20 as Gradle JVM: Open Gradle settings \n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\n</code></pre>\n<p>Even after instaling java 21 and using gradle 8.5 as shown below:</p>\n<pre><code>user@laptop-MacBook-Pro ProjectName % ./gradlew -v\n\n------------------------------------------------------------\nGradle 8.5\n------------------------------------------------------------\n\nBuild time:   2023-11-29 14:08:57 UTC\nRevision:     28aca86a7180baa17117e0e5ba01d8ea9feca598\n\nKotlin:       1.9.20\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          21.0.1 (Oracle Corporation 21.0.1+12-LTS-29)\nOS:           Mac OS X 14.1.1 aarch64\n\nuser@laptop-MacBook-Pro ProjectName % java -version\njava version &quot;21.0.1&quot; 2023-10-17 LTS\nJava(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\nJava HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\n</code></pre>\n<p>I tried reverting the JVM to 20 but still got errors</p>\n"},{"tags":["java","docker","rest","dockerfile","dockerhub"],"comments":[{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1701701351,"post_id":77599867,"comment_id":136804987,"body_markdown":"running jar like that implies presence of entrypoint definition in META-INF/manifect.mf inside your jar.","body":"running jar like that implies presence of entrypoint definition in META-INF/manifect.mf inside your jar."},{"owner":{"account_id":30062543,"reputation":1,"user_id":23038359,"display_name":"Bruno Cesar Rodrigues"},"score":0,"creation_date":1701709191,"post_id":77599867,"comment_id":136806634,"body_markdown":"Do you know how can I do this? @an","body":"Do you know how can I do this? @an"},{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1701716360,"post_id":77599867,"comment_id":136807936,"body_markdown":"Jars are just regular zip archives.","body":"Jars are just regular zip archives."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701722442,"creation_date":1701722442,"answer_id":77602434,"question_id":77599867,"body_markdown":"You need to have an executable jar. Your Maven pom.xml currently does not create it.\r\n\r\nTo get an executable jar, the archive needs to contain a META-INF/MANIFEST.MF that declares which of the jar&#39;s classes is the main class. While you could create instructions yourself to get the task done, Maven has easy to use functionality to achieve the same. Add this plugin to your pom.xml&#39;s plugins:\r\n\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.mycompany.app.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nOf course you need to list your main class, not the one given in the example.\r\nTo verify if your jar is ready to be placed inside the container, just run\r\n\r\n    java -jar target/javarestassuredextentreport.jar\r\n\r\nand expect your application to startup in a meaningful way. Only then proceed to wrap it into the container.","title":"Invalid or corrupted jarfile - Docker","body":"<p>You need to have an executable jar. Your Maven pom.xml currently does not create it.</p>\n<p>To get an executable jar, the archive needs to contain a META-INF/MANIFEST.MF that declares which of the jar's classes is the main class. While you could create instructions yourself to get the task done, Maven has easy to use functionality to achieve the same. Add this plugin to your pom.xml's plugins:</p>\n\n        org.apache.maven.plugins\n        maven-jar-plugin\n        \n          \n            \n              true\n              com.mycompany.app.App\n            \n          \n        \n      \n<p>Of course you need to list your main class, not the one given in the example.\nTo verify if your jar is ready to be placed inside the container, just run</p>\n<pre><code>java -jar target/javarestassuredextentreport.jar\n</code></pre>\n<p>and expect your application to startup in a meaningful way. Only then proceed to wrap it into the container.</p>\n"}],"owner":{"account_id":30062543,"reputation":1,"user_id":23038359,"display_name":"Bruno Cesar Rodrigues"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701722442,"creation_date":1701697061,"question_id":77599867,"body_markdown":"i&#39;m creating a docker image to my automation test project, but i always got the error below\r\n\r\nCan you help me please?\r\n\r\nError: Invalid or corrupt jarfile javarestassuredextentreport.jar\r\n\r\nObs: When i generating jar file, it comes do the folder Artifacts, bug i dragged to the target, is it correct?\r\n\r\nMy projetct is base on Rest Assured, TestNG, JUnit and to create this image, i&#39;m using dockerfile-maven-plugin from spotity.com\r\n\r\nHere are my code and path[enter image description here](https://i.stack.imgur.com/YmHqy.png)\r\n\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javarestassuredextentreport&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.13&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;goal&gt;push&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;repository&gt;maven-4-openjdk-17&lt;/repository&gt;\r\n                &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                &lt;buildArgs&gt;\r\n                    &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n                &lt;/buildArgs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230618&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd this is my dockerfile\r\n\r\n    FROM openjdk:17\r\n    RUN mkdir app\r\n    ARG JAR_FILE\r\n    ADD /target/${JAR_FILE} /app/javarestassuredextentreport.jar\r\n    WORKDIR /app\r\n    ENTRYPOINT java -jar javarestassuredextentreport.jar","title":"Invalid or corrupted jarfile - Docker","body":"<p>i'm creating a docker image to my automation test project, but i always got the error below</p>\n<p>Can you help me please?</p>\n<p>Error: Invalid or corrupt jarfile javarestassuredextentreport.jar</p>\n<p>Obs: When i generating jar file, it comes do the folder Artifacts, bug i dragged to the target, is it correct?</p>\n<p>My projetct is base on Rest Assured, TestNG, JUnit and to create this image, i'm using dockerfile-maven-plugin from spotity.com</p>\n<p>Here are my code and path<a href=\"https://i.stack.imgur.com/YmHqy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;javarestassuredextentreport&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n            &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4.13&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;goal&gt;push&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;repository&gt;maven-4-openjdk-17&lt;/repository&gt;\n                &lt;tag&gt;${project.version}&lt;/tag&gt;\n                &lt;buildArgs&gt;\n                    &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                &lt;/buildArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230618&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;5.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>And this is my dockerfile</p>\n<pre><code>FROM openjdk:17\nRUN mkdir app\nARG JAR_FILE\nADD /target/${JAR_FILE} /app/javarestassuredextentreport.jar\nWORKDIR /app\nENTRYPOINT java -jar javarestassuredextentreport.jar\n</code></pre>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1701610342,"post_id":77594494,"comment_id":136794689,"body_markdown":"Isn&#39;t that what javadoc is for? What exactly are you asking?","body":"Isn&#39;t that what javadoc is for? What exactly are you asking?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1701610761,"post_id":77594494,"comment_id":136794728,"body_markdown":"What you&#39;re asking for seems to be exactly what Javadoc does already (though instead of Markdown it uses Javadoc taglets and HTML elements).","body":"What you&#39;re asking for seems to be exactly what Javadoc does already (though instead of Markdown it uses Javadoc taglets and HTML elements)."},{"owner":{"account_id":242409,"reputation":1411,"user_id":513904,"accept_rate":67,"display_name":"Eli S"},"score":0,"creation_date":1701619069,"post_id":77594494,"comment_id":136795631,"body_markdown":"It is not obvious this is what javadoc does. Most online descriptions of javadoc have &quot;API&quot; in the sentence. I&#39;m not as experienced with javadoc, but I don&#39;t see examples that have a readthedocs like exposition and their own structure, based for instance on use cases and hints and not on package structure.  @Ankit Kumar has a suggestion below shows sphinx can do the job even for Java, so +1 at least from me. However sphinx adds baggage for a Java project so if it can all be done in javadoc I would probably accept that answer.","body":"It is not obvious this is what javadoc does. Most online descriptions of javadoc have &quot;API&quot; in the sentence. I&#39;m not as experienced with javadoc, but I don&#39;t see examples that have a readthedocs like exposition and their own structure, based for instance on use cases and hints and not on package structure.  @Ankit Kumar has a suggestion below shows sphinx can do the job even for Java, so +1 at least from me. However sphinx adds baggage for a Java project so if it can all be done in javadoc I would probably accept that answer."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1701620464,"post_id":77594494,"comment_id":136795801,"body_markdown":"@EliS You can provide package level documentation, see https://stackoverflow.com/questions/12599058/eclipse-juno-what-is-the-use-of-package-info-java. There you can write documentation on how to use the package you are writing.","body":"@EliS You can provide package level documentation, see <a href=\"https://stackoverflow.com/questions/12599058/eclipse-juno-what-is-the-use-of-package-info-java\" title=\"eclipse juno what is the use of package info java\">stackoverflow.com/questions/12599058/&hellip;</a>. There you can write documentation on how to use the package you are writing."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701643113,"post_id":77594494,"comment_id":136798162,"body_markdown":"You can do pretty much anything you want with Javadoc. It can have links to external sources, or links to other embedded HTML pages (see VGR&#39;s answer). You can also put examples in Javadoc with `&lt;pre&gt;&lt;code&gt;` HTML elements, or `{@code}` and, in more recent versions, `{@snippet}` taglets. You can explain the purpose of the API and some reasons for using it. You can use package-level or even module-level Javadoc for more general documentation. Whether any of this is done depends on how much effort is put into the it; even in the standard library, not everything has the same level of documentation","body":"You can do pretty much anything you want with Javadoc. It can have links to external sources, or links to other embedded HTML pages (see VGR&#39;s answer). You can also put examples in Javadoc with <code>&lt;pre&gt;&lt;code&gt;</code> HTML elements, or <code>{@code}</code> and, in more recent versions, <code>{@snippet}</code> taglets. You can explain the purpose of the API and some reasons for using it. You can use package-level or even module-level Javadoc for more general documentation. Whether any of this is done depends on how much effort is put into the it; even in the standard library, not everything has the same level of documentation"}],"answers":[{"tags":[],"owner":{"account_id":29991737,"reputation":11,"user_id":22984228,"display_name":"Ankit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701611078,"creation_date":1701610851,"answer_id":77594538,"question_id":77594494,"body_markdown":"Integrate Javadoc Links:\r\nLink to your Javadoc-generated API documentation within your explanatory documentation using intersphinx references. For example:\r\n\r\n    :java:package:: com.example\r\n    :java:module:: com.example.mymodule\r\n    :java:method:: MyClass.myMethod(param1, param2)\r\n\r\n","title":"Javadoc API as part of larger documentation","body":"<p>Integrate Javadoc Links:\nLink to your Javadoc-generated API documentation within your explanatory documentation using intersphinx references. For example:</p>\n<pre><code>:java:package:: com.example\n:java:module:: com.example.mymodule\n:java:method:: MyClass.myMethod(param1, param2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701722196,"creation_date":1701625285,"answer_id":77595473,"question_id":77594494,"body_markdown":"Javadoc absolutely does support this.\r\n\r\nInternal documentation can be included in the special subdirectory `doc-files` under any package.  The javadoc tool will always copy doc-files subdirectories into generated documentation file trees, making them stable sources to which class (and package) javadoc can link using relative paths.  All javadoc content is HTML, so ordinary `&lt;a href=&quot;…&quot;&gt;` elements are sufficient.\r\n\r\nExamples:\r\n\r\n* The [java.awt package](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/package-summary.html) documentation links to in-depth Focus Subsystem documentation and in-depth modality documentation, both included in Java SE in a doc-files subdirectory.\r\n* The [javax.imageio package](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/package-summary.html) documentation links to full descriptions of metatadata for the image formats its supports, all located in a doc-files subdirectory.\r\n* Many security classes’ documentation will link to a table of standard algorithm names. For example, [KeyStore](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/KeyStore.html) links to a table of standard keystore types, with descriptions of each.  This document is part of the Java SE javadocs.\r\n\r\nExternal links can be placed in `@see` or `@spec` tags, like this:\r\n\r\n    /**\r\n     * This is a description of a package or class or class member.\r\n     *\r\n     * @see &lt;a href=&quot;https://example.com/docs/concepts/&quot;&gt;General concepts explanation&lt;/a&gt;\r\n     * @spec https://example.com/standard/myprotocol/ My protocol specification\r\n     */\r\n\r\n* The [Math](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html) class contains an external link to the IEEE floating point standard.\r\n* The [Locale](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Locale.html) documentation uses `@spec` to refer to language tag specifications.\r\n* The [java.util.zip package](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/package-summary.html) documentation links to full specifications related to zip and gzip compression.\r\n\r\nIf you’re looking for tutorials and examples, many Swing classes have such links.  For example:\r\n\r\n* The [JTable](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTable.html) documentation’s first paragraph links to the “How to Use Tables” section of the Java tutorial.\r\n* The [JFileChooser](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFileChooser.html) documentation’s first paragraph links to the “How to Use File Choosers” section of the Java tutorial.\r\n\r\nThere are many more links to in-depth documentation in Java SE.  The above ones are just some that I remembered off the top of my head.\r\n","title":"Javadoc API as part of larger documentation","body":"<p>Javadoc absolutely does support this.</p>\n<p>Internal documentation can be included in the special subdirectory <code>doc-files</code> under any package.  The javadoc tool will always copy doc-files subdirectories into generated documentation file trees, making them stable sources to which class (and package) javadoc can link using relative paths.  All javadoc content is HTML, so ordinary <code>&lt;a href=&quot;…&quot;&gt;</code> elements are sufficient.</p>\n<p>Examples:</p>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/package-summary.html\" rel=\"nofollow noreferrer\">java.awt package</a> documentation links to in-depth Focus Subsystem documentation and in-depth modality documentation, both included in Java SE in a doc-files subdirectory.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">javax.imageio package</a> documentation links to full descriptions of metatadata for the image formats its supports, all located in a doc-files subdirectory.</li>\n<li>Many security classes’ documentation will link to a table of standard algorithm names. For example, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">KeyStore</a> links to a table of standard keystore types, with descriptions of each.  This document is part of the Java SE javadocs.</li>\n</ul>\n<p>External links can be placed in <code>@see</code> or <code>@spec</code> tags, like this:</p>\n<pre><code>/**\n * This is a description of a package or class or class member.\n *\n * @see &lt;a href=&quot;https://example.com/docs/concepts/&quot;&gt;General concepts explanation&lt;/a&gt;\n * @spec https://example.com/standard/myprotocol/ My protocol specification\n */\n</code></pre>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">Math</a> class contains an external link to the IEEE floating point standard.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\">Locale</a> documentation uses <code>@spec</code> to refer to language tag specifications.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/package-summary.html\" rel=\"nofollow noreferrer\">java.util.zip package</a> documentation links to full specifications related to zip and gzip compression.</li>\n</ul>\n<p>If you’re looking for tutorials and examples, many Swing classes have such links.  For example:</p>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTable.html\" rel=\"nofollow noreferrer\">JTable</a> documentation’s first paragraph links to the “How to Use Tables” section of the Java tutorial.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFileChooser.html\" rel=\"nofollow noreferrer\">JFileChooser</a> documentation’s first paragraph links to the “How to Use File Choosers” section of the Java tutorial.</li>\n</ul>\n<p>There are many more links to in-depth documentation in Java SE.  The above ones are just some that I remembered off the top of my head.</p>\n"}],"owner":{"account_id":242409,"reputation":1411,"user_id":513904,"accept_rate":67,"display_name":"Eli S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595473,"answer_count":2,"score":0,"last_activity_date":1701722196,"creation_date":1701610142,"question_id":77594494,"body_markdown":"One of the nice things about sphinx and python is the relatively simple coupling between API documentation and explanatory documentation in markdown using chapters and sections that give the background and examples. Is there a way to do this in Java using javadoc, sphinx or some other library that has general community traction? ","title":"Javadoc API as part of larger documentation","body":"<p>One of the nice things about sphinx and python is the relatively simple coupling between API documentation and explanatory documentation in markdown using chapters and sections that give the background and examples. Is there a way to do this in Java using javadoc, sphinx or some other library that has general community traction?</p>\n"},{"tags":["java","spring","dependency-injection","autowired"],"comments":[{"owner":{"account_id":5082521,"reputation":538,"user_id":4078173,"display_name":"Alexandru Godri"},"score":0,"creation_date":1438895069,"post_id":31865667,"comment_id":51650719,"body_markdown":"You said you are autowiring (@Autowired) the interface in your service. How is the service accessed and where? Can you post the source code for the classes?","body":"You said you are autowiring (@Autowired) the interface in your service. How is the service accessed and where? Can you post the source code for the classes?"},{"owner":{"account_id":5082521,"reputation":538,"user_id":4078173,"display_name":"Alexandru Godri"},"score":0,"creation_date":1438895115,"post_id":31865667,"comment_id":51650745,"body_markdown":"If you autowire the interface in the service and the service is not also a bean or something then thie error will happen.","body":"If you autowire the interface in the service and the service is not also a bean or something then thie error will happen."},{"owner":{"account_id":6743247,"reputation":15,"user_id":5195719,"display_name":"Anand Arya"},"score":0,"creation_date":1438895624,"post_id":31865667,"comment_id":51650965,"body_markdown":"@AlexandruGodri - Code attached :)","body":"@AlexandruGodri - Code attached :)"}],"answers":[{"tags":[],"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1438896636,"creation_date":1438894703,"answer_id":31865687,"question_id":31865667,"body_markdown":"No spring can be used in any kind of Java application.\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type\r\n\r\nI am able to see above exception, this means spring is able to find the type which your injecting but not its implementation.\r\n\r\nCheck in your spring-config :-\r\n\r\n    &lt;context:component-scan base-package=&quot;...&quot; /&gt;\r\n\r\nCause of exception in your exception stack trace :-   \r\nIn your nl.ing.cram.gateway.CramImpl.cramDao class it failed to inject the dependency of type CreateCustomerRequestServiceOperationClient because it couldn&#39;t able to find its implementation.","title":"Spring is not able to autowire a dependency","body":"<p>No spring can be used in any kind of Java application.</p>\n\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type\n</code></pre>\n\n<p>I am able to see above exception, this means spring is able to find the type which your injecting but not its implementation.</p>\n\n<p>Check in your spring-config :-</p>\n\n<pre><code>&lt;context:component-scan base-package=\"...\" /&gt;\n</code></pre>\n\n<p>Cause of exception in your exception stack trace :-<br>\nIn your nl.ing.cram.gateway.CramImpl.cramDao class it failed to inject the dependency of type CreateCustomerRequestServiceOperationClient because it couldn't able to find its implementation.</p>\n"}],"owner":{"account_id":6743247,"reputation":15,"user_id":5195719,"display_name":"Anand Arya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31865687,"answer_count":1,"score":0,"last_activity_date":1701721892,"creation_date":1438894596,"question_id":31865667,"body_markdown":"I have an application which is not a dynamic web project. I have the arrangement such that its like a library in form of a jar which is exposed via interfaces. I am trying to auto wire this interface into my API project which is Dynamic web project. But it throws bean creation exception\r\n    \r\n1. I have a MyLibraryCofiguration class in library which has @Configuration and  @Import alongwith @ComponentScan.\r\n```\r\n@Configuration\r\n@Import({ BasicConfiguration.class, OperationalLoggingConfiguration.class, RestConfiguration.class })\r\n@ComponentScan(&quot;nl.ming.cram&quot;)\r\npublic class MyConfiguration() {\r\n\r\n\tpublic MyConfiguration() {\r\n\t\tpackages(&quot;nl.ming.cram.gateway&quot;);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MyInterface getMyInterface() {\r\n\t\treturn new MyImpl();\r\n\t}\r\n}\r\n``` \r\n2. My API project has MyApiCofiguration class which has @Import in which I am importing my MyLibraryCofiguration class. In the same class I have used:\r\n    \r\n```\r\n    @Configuration\r\n    @Import({\r\n            MyConfiguration.class\r\n    })\r\n    @ComponentScan({&quot;nl.ming.api.creditcardlist&quot;})\r\n    public class CreditCardListConfiguration {\r\n    \r\n        @Bean\r\n         public MyInterface getMyInterface() {\r\n            return new CramImpl();\r\n       }\r\n    }\r\n```    \r\n    \r\n3. In my API project , in MyApiService class  - I have @Autowired MyInterface to access methods of library jar as shown below:\r\n    \r\n```\r\n    @Component\r\n    public class MyAPIService {\r\n   \r\n    \t@Autowired\r\n    \tMyInterface MyInterface;    \r\n    }\r\n```    \r\n    \r\nIt throws a Bean creation exception for getMyInterface as is shown below - \r\n    \r\n&gt;    org.springframework.beans.factory.BeanCreationException:  \r\n&gt;       Error creating bean with name &#39;creditCardService&#39;: Injection of autowired dependencies failed; \r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: \r\n&gt; `nl.ing.cram.gateway.CramInterfacenl.ing.api.creditcardlist.services.CreditCardService.cramIface;`\r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;getCramInterface&#39;: Injection of autowired dependencies failed;\r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private nl.ing.cram.dao.CramDaonl.ing.cram.gateway.CramImpl.cramDao; \r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cramDao&#39;: Injection of resource dependencies failed; \r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [nl.ing.sc.customerrequest.createcustomerrequest1.CreateCustomerRequestServiceOperationClient] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.annotation.Resource(shareable=true, mappedName=, description=, name=, type=class java.lang.Object, lookup=, authenticationType=CONTAINER)}\r\n","title":"Spring is not able to autowire a dependency","body":"<p>I have an application which is not a dynamic web project. I have the arrangement such that its like a library in form of a jar which is exposed via interfaces. I am trying to auto wire this interface into my API project which is Dynamic web project. But it throws bean creation exception</p>\n<ol>\n<li>I have a MyLibraryCofiguration class in library which has @Configuration and  @Import alongwith @ComponentScan.</li>\n</ol>\n<pre><code>@Configuration\n@Import({ BasicConfiguration.class, OperationalLoggingConfiguration.class, RestConfiguration.class })\n@ComponentScan(&quot;nl.ming.cram&quot;)\npublic class MyConfiguration() {\n\n    public MyConfiguration() {\n        packages(&quot;nl.ming.cram.gateway&quot;);\n    }\n\n    @Bean\n    public MyInterface getMyInterface() {\n        return new MyImpl();\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>My API project has MyApiCofiguration class which has @Import in which I am importing my MyLibraryCofiguration class. In the same class I have used:</li>\n</ol>\n<pre><code>    @Configuration\n    @Import({\n            MyConfiguration.class\n    })\n    @ComponentScan({&quot;nl.ming.api.creditcardlist&quot;})\n    public class CreditCardListConfiguration {\n    \n        @Bean\n         public MyInterface getMyInterface() {\n            return new CramImpl();\n       }\n    }\n</code></pre>\n<ol start=\"3\">\n<li>In my API project , in MyApiService class  - I have @Autowired MyInterface to access methods of library jar as shown below:</li>\n</ol>\n<pre><code>    @Component\n    public class MyAPIService {\n   \n        @Autowired\n        MyInterface MyInterface;    \n    }\n</code></pre>\n<p>It throws a Bean creation exception for getMyInterface as is shown below -</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException:<br />\nError creating bean with name 'creditCardService': Injection of autowired dependencies failed;</p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field:\n<code>nl.ing.cram.gateway.CramInterfacenl.ing.api.creditcardlist.services.CreditCardService.cramIface;</code></p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'getCramInterface': Injection of autowired dependencies failed;</p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private nl.ing.cram.dao.CramDaonl.ing.cram.gateway.CramImpl.cramDao;</p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cramDao': Injection of resource dependencies failed;</p>\n<p>nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [nl.ing.sc.customerrequest.createcustomerrequest1.CreateCustomerRequestServiceOperationClient] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.annotation.Resource(shareable=true, mappedName=, description=, name=, type=class java.lang.Object, lookup=, authenticationType=CONTAINER)}</p>\n</blockquote>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701718988,"post_id":77602027,"comment_id":136808348,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701719052,"post_id":77602027,"comment_id":136808359,"body_markdown":"If a value can be `null`, you must test it before using it.  `if( value != null ) { use(value); } else { bail(); }`","body":"If a value can be <code>null</code>, you must test it before using it.  <code>if( value != null ) { use(value); } else { bail(); }</code>"}],"answers":[{"tags":[],"owner":{"account_id":30043658,"reputation":1,"user_id":23023910,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701720715,"creation_date":1701720715,"answer_id":77602309,"question_id":77602027,"body_markdown":"When getting a blank cell with the workbook class like you are in this scenario, that cell is assigned a null value by default which is why you are getting a NPE. Try using the setMissingCellPolicy(Row.MissingCellPolicy missingCellPolicy) method to initialize empty cells as something other than null. I found this method in the Workbook POI API online. ","title":"how to fix /avoid getting null pointer exception when getting a blank cell from method","body":"<p>When getting a blank cell with the workbook class like you are in this scenario, that cell is assigned a null value by default which is why you are getting a NPE. Try using the setMissingCellPolicy(Row.MissingCellPolicy missingCellPolicy) method to initialize empty cells as something other than null. I found this method in the Workbook POI API online.</p>\n"}],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701720715,"creation_date":1701717442,"question_id":77602027,"body_markdown":"I try to access a blank cell from method that getting a data from excel sheet.\r\nhow can I fix or avoid NPE.\r\n   \r\neg.\r\n```\r\n//TestData.java\r\npublic static float getData(int sheet, int row, int cell) {\r\n\r\n FileInputStream fis = new FileInputStream(new String(excelpath));\r\n XSSFWorkbook workbook = new XSSFWorkbook(fis);\r\n\r\nXSSFWorkbook wb = workbook.getSheetAt(sheet).getRow(row).getCell(cell);\r\n\r\n...\r\n//blah blah code\r\n\r\nif (cell == null) //tried this one but still getting error\r\n  throw new IOException(&quot;blank cell &quot;);\r\n...\r\n}\r\n```\r\nin different file I tried to access blank data\r\n```\r\npublic void getBlankData(){\r\nfloat data = (float) testData.getData(99,99,99);\r\nSystem.out.print(data);\r\n}\r\n```\r\n\r\nhere is error I hot\r\n`java.lang.NullPointerException: Cannot invoke &quot;java.lang.Float.floatValue()&quot; because the return value of &quot;TestData.getData(int, int, int)&quot; is null`\r\n","title":"how to fix /avoid getting null pointer exception when getting a blank cell from method","body":"<p>I try to access a blank cell from method that getting a data from excel sheet.\nhow can I fix or avoid NPE.</p>\n<p>eg.</p>\n<pre><code>//TestData.java\npublic static float getData(int sheet, int row, int cell) {\n\n FileInputStream fis = new FileInputStream(new String(excelpath));\n XSSFWorkbook workbook = new XSSFWorkbook(fis);\n\nXSSFWorkbook wb = workbook.getSheetAt(sheet).getRow(row).getCell(cell);\n\n...\n//blah blah code\n\nif (cell == null) //tried this one but still getting error\n  throw new IOException(&quot;blank cell &quot;);\n...\n}\n</code></pre>\n<p>in different file I tried to access blank data</p>\n<pre><code>public void getBlankData(){\nfloat data = (float) testData.getData(99,99,99);\nSystem.out.print(data);\n}\n</code></pre>\n<p>here is error I hot\n<code>java.lang.NullPointerException: Cannot invoke &quot;java.lang.Float.floatValue()&quot; because the return value of &quot;TestData.getData(int, int, int)&quot; is null</code></p>\n"},{"tags":["java","getter-setter"],"comments":[{"owner":{"account_id":6023206,"reputation":7992,"user_id":4729721,"display_name":"a_local_nobody"},"score":5,"creation_date":1701719312,"post_id":77602192,"comment_id":136808397,"body_markdown":"`I have two working solutions,` so why would only 1 be correct ? what do YOU think is the difference here ? where/when would it have an impact ? would it even make a difference ?","body":"<code>I have two working solutions,</code> so why would only 1 be correct ? what do YOU think is the difference here ? where/when would it have an impact ? would it even make a difference ?"},{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1701719961,"post_id":77602192,"comment_id":136808491,"body_markdown":"First of all boolean primitive will be init as false by default. Second: If the method `getNumberOfSubsrtipion` is inside a class, then it is better to access the field; it is more encapsulating. But remeber if there will be inheritence, the classes in hierarchy will use their own fields, only getter will allow overriding.\nhttps://stackoverflow.com/q/10722110/9248765","body":"First of all boolean primitive will be init as false by default. Second: If the method <code>getNumberOfSubsrtipion</code> is inside a class, then it is better to access the field; it is more encapsulating. But remeber if there will be inheritence, the classes in hierarchy will use their own fields, only getter will allow overriding. <a href=\"https://stackoverflow.com/q/10722110/9248765\">stackoverflow.com/q/10722110/9248765</a>"}],"owner":{"account_id":2166347,"reputation":71,"user_id":1919389,"display_name":"Qmails"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701720346,"answer_count":0,"score":-1,"last_activity_date":1701720217,"creation_date":1701719254,"question_id":77602192,"body_markdown":"I have two working solutions, but which one should I use? Which solution is correct?\r\n\r\nSolution 1:\r\n\r\n```\r\nList&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```\r\npublic class Client {\r\n    private final String firstName;\r\n    private final String lastName;\r\n    protected String cID;\r\n    protected boolean subscription = false;\r\n}\r\n```\r\n\r\n```\r\npublic int getNumberOfSubsrtipion(){\r\n    int count = 0;\r\n\r\n    for( Client myCustomer: myClient ){\r\n        if( myCustomer.subscription ){\r\n            count += 1;\r\n        }\r\n    }\r\n\r\n    return count;\r\n}\r\n```\r\n\r\nSolution 2:\r\n```\r\nList&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```\r\npublic class Client {\r\n    private final String firstName;\r\n    private final String lastName;\r\n    protected String cID;\r\n    private boolean subscription = false;\r\n\r\n    protected boolean getSubscription(){\r\n        return this.subscription;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic int getNumberOfSubsrtipion(){\r\n    int count = 0;\r\n\r\n    for( Client myCustomer: myClient ){\r\n        if( myCustomer.getSubscription() ){\r\n            count += 1;\r\n        }\r\n    }\r\n\r\n    return count;\r\n}\r\n```\r\n\r\nThe solutions differ only in the content of the IF conditional function.","title":"Java - Should I use getter in method?","body":"<p>I have two working solutions, but which one should I use? Which solution is correct?</p>\n<p>Solution 1:</p>\n<pre><code>List&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>public class Client {\n    private final String firstName;\n    private final String lastName;\n    protected String cID;\n    protected boolean subscription = false;\n}\n</code></pre>\n<pre><code>public int getNumberOfSubsrtipion(){\n    int count = 0;\n\n    for( Client myCustomer: myClient ){\n        if( myCustomer.subscription ){\n            count += 1;\n        }\n    }\n\n    return count;\n}\n</code></pre>\n<p>Solution 2:</p>\n<pre><code>List&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>public class Client {\n    private final String firstName;\n    private final String lastName;\n    protected String cID;\n    private boolean subscription = false;\n\n    protected boolean getSubscription(){\n        return this.subscription;\n    }\n}\n</code></pre>\n<pre><code>public int getNumberOfSubsrtipion(){\n    int count = 0;\n\n    for( Client myCustomer: myClient ){\n        if( myCustomer.getSubscription() ){\n            count += 1;\n        }\n    }\n\n    return count;\n}\n</code></pre>\n<p>The solutions differ only in the content of the IF conditional function.</p>\n"},{"tags":["java","postgresql","ant","dspace"],"owner":{"account_id":30066015,"reputation":1,"user_id":23041146,"display_name":"Saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":5,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701719388,"creation_date":1701719388,"question_id":77602202,"body_markdown":"i was installing dspace and encountered the following error\r\n\r\nC:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer&gt;ant fresh_install\r\nBuildfile: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml\r\n\r\ninit_installation:\r\n\r\nprepare_configs:\r\n    [mkdir] Created dir: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n     [copy] Copying 159 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n     [copy] Copying 1 file to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n     [copy] Copying 16 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n\r\ninit_configs:\r\n     [copy] Copying 1 file to C:\\dspace\\config\r\n   [delete] Deleting directory C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n\r\ntest_database:\r\n     [java] 2023-12-04 15:30:52,956 WARN  org.apache.commons.configuration.DefaultConfigurationBuilder @ Internal error\r\n     [java] org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source local.cfg\r\n     [java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:259)\r\n     [java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:238)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$FileConfigurationProvider.getConfiguration(DefaultConfigurationBuilder.java:1455)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationBeanFactory.createBean(DefaultConfigurationBuilder.java:1321)\r\n     [java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:390)\r\n     [java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:412)\r\n     [java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:426)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:855)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.initCombinedConfiguration(DefaultConfigurationBuilder.java:719)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:622)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:587)\r\n     [java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.loadInitialConfig(DSpaceConfigurationService.java:494)\r\n     [java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.&lt;init&gt;(DSpaceConfigurationService.java:87)\r\n     [java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:148)\r\n     [java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:128)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:49)\r\n     [java] 2023-12-04 15:30:54,654 WARN  org.dspace.services.email.EmailServiceImpl @ Couldn&#39;t get an email session from environment:  Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log2023-12-04 15:30:55,066 ERROR org.dspace.storage.rdbms.DatabaseUtils @ Unable to setup Flyway against DSpace database\r\n     [java]\r\n     [java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)WARNING: SQLException occurred while connecting to localhost:5432\r\n     [java]\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)      at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\r\n     [java]\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n        at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\r\n     [java]\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103) at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     ... 10 more\r\n     [java]\r\n     [java] Attempting to connect to database\r\n     [java]\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\r\n     [java] SEVERE: Connection error:\r\n     [java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log\r\n     [java] WARNING: SQLException occurred while connecting to localhost:5432\r\n     [java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\r\n     [java] SEVERE: Connection error:\r\n     [java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java]\r\n     [java] Error running &#39;test&#39;:\r\n     [java]  - java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\r\n     [java]\r\n     [java] Please see the DSpace documentation for assistance.\r\n     [java]\r\n     [java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     ... 9 more\r\n     [java] 2023-12-04 15:30:55,253 WARN  org.dspace.services.sessions.SessionRequestServiceImpl @ Request interceptor (org.dspace.services.events.SystemEventService$EventRequestInterceptor@50366f7e) failed to execute on end (request-64-1701684054826): null\r\n\r\nBUILD FAILED\r\nC:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml:785: Java returned: 1","title":"error in ant fresh_install command while installing dspace on windows 10","body":"<p>i was installing dspace and encountered the following error</p>\n<p>C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer&gt;ant fresh_install\nBuildfile: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml</p>\n<p>init_installation:</p>\n<p>prepare_configs:\n[mkdir] Created dir: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\n[copy] Copying 159 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\n[copy] Copying 1 file to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\n[copy] Copying 16 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp</p>\n<p>init_configs:\n[copy] Copying 1 file to C:\\dspace\\config\n[delete] Deleting directory C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp</p>\n<p>test_database:\n[java] 2023-12-04 15:30:52,956 WARN  org.apache.commons.configuration.DefaultConfigurationBuilder @ Internal error\n[java] org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source local.cfg\n[java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:259)\n[java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:238)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$FileConfigurationProvider.getConfiguration(DefaultConfigurationBuilder.java:1455)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationBeanFactory.createBean(DefaultConfigurationBuilder.java:1321)\n[java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:390)\n[java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:412)\n[java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:426)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:855)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.initCombinedConfiguration(DefaultConfigurationBuilder.java:719)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:622)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:587)\n[java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.loadInitialConfig(DSpaceConfigurationService.java:494)\n[java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.(DSpaceConfigurationService.java:87)\n[java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:148)\n[java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:128)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:49)\n[java] 2023-12-04 15:30:54,654 WARN  org.dspace.services.email.EmailServiceImpl @ Couldn't get an email session from environment:  Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log2023-12-04 15:30:55,066 ERROR org.dspace.storage.rdbms.DatabaseUtils @ Unable to setup Flyway against DSpace database\n[java]\n[java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)WARNING: SQLException occurred while connecting to localhost:5432\n[java]\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)      at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\n[java]\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\nat java.lang.reflect.Method.invoke(Method.java:498)\n[java]\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\nat org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\n[java]\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at org.postgresql.Driver.connect(Driver.java:254)\n[java]\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103) at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     ... 10 more\n[java]\n[java] Attempting to connect to database\n[java]\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\n[java] SEVERE: Connection error:\n[java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log\n[java] WARNING: SQLException occurred while connecting to localhost:5432\n[java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\n[java] SEVERE: Connection error:\n[java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java]\n[java] Error running 'test':\n[java]  - java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\n[java]\n[java] Please see the DSpace documentation for assistance.\n[java]\n[java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     ... 9 more\n[java] 2023-12-04 15:30:55,253 WARN  org.dspace.services.sessions.SessionRequestServiceImpl @ Request interceptor (org.dspace.services.events.SystemEventService$EventRequestInterceptor@50366f7e) failed to execute on end (request-64-1701684054826): null</p>\n<p>BUILD FAILED\nC:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml:785: Java returned: 1</p>\n"},{"tags":["java","xsd-validation","jaxb2","spring-web"],"answers":[{"tags":[],"owner":{"account_id":260993,"reputation":373,"user_id":544896,"display_name":"glatapoui"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506711657,"creation_date":1506711657,"answer_id":46495379,"question_id":41852874,"body_markdown":"I had the same error today, and got over it by applying the advice found in JAXB&#39;s [Messages.properties](https://github.com/javaee/jaxb-v2/blob/master/jaxb-ri/runtime/impl/src/main/resources/com/sun/xml/bind/v2/runtime/unmarshaller/Messages.properties) : Add `java.util.logging.Logger.getLogger(&quot;com.sun.xml.internal.bind&quot;).setLevel(Level.FINEST);` before calling the unmarshalling.","title":"Why Unmarshaller behaviour is not consistent?","body":"<p>I had the same error today, and got over it by applying the advice found in JAXB's <a href=\"https://github.com/javaee/jaxb-v2/blob/master/jaxb-ri/runtime/impl/src/main/resources/com/sun/xml/bind/v2/runtime/unmarshaller/Messages.properties\" rel=\"nofollow noreferrer\">Messages.properties</a> : Add <code>java.util.logging.Logger.getLogger(\"com.sun.xml.internal.bind\").setLevel(Level.FINEST);</code> before calling the unmarshalling.</p>\n"},{"tags":[],"owner":{"account_id":13244478,"reputation":11,"user_id":9564035,"display_name":"Makox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701719065,"creation_date":1701719065,"answer_id":77602176,"question_id":41852874,"body_markdown":"I had the same error, but changing logger level same as [glatapou][1] did not work for me. I needed to change logger level of *`com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext`*.\r\n\r\nIt is connected with condition inside method `com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext#shouldErrorBeReported`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46495379/9564035","title":"Why Unmarshaller behaviour is not consistent?","body":"<p>I had the same error, but changing logger level same as <a href=\"https://stackoverflow.com/a/46495379/9564035\">glatapou</a> did not work for me. I needed to change logger level of <em><code>com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext</code></em>.</p>\n<p>It is connected with condition inside method <code>com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext#shouldErrorBeReported</code></p>\n"}],"owner":{"account_id":941457,"reputation":441,"user_id":969463,"accept_rate":45,"display_name":"Maciej Papież"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5274,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1701719065,"creation_date":1485350955,"question_id":41852874,"body_markdown":"I have created a simple webservice (spring-web) which is meant to validate the incoming XML with respect to XSD and if any validation errors occured, they should be returned to the requester.\r\n\r\nThe below code does its job...\r\n\r\n    @PostMapping(path = &quot;/test&quot;, consumes = MediaType.APPLICATION_XML_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Object&gt; method2(@RequestBody Source request) throws IOException, JAXBException, SAXException {\r\n        \r\n        final URL schemaUrl = resourceLoader.getResource(&quot;classpath:test.xsd&quot;).getURL();\r\n        final CumulatingErrorHandler errorHandler = new CumulatingErrorHandler();\r\n        final Schema schema = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI)\r\n                .newSchema(schemaUrl);\r\n        final ValidationEventCollector validationEventCollector = new MyValidationEventCollector();\r\n\r\n        final Unmarshaller unmarshaller = JAXBContext\r\n                .newInstance(IncomingRequestModel.class)\r\n                .createUnmarshaller();\r\n        unmarshaller.setEventHandler(validationEventCollector);\r\n        unmarshaller.setSchema(schema);\r\n\r\n        final IncomingRequestModel requestModel = (IncomingRequestModel) unmarshaller.unmarshal(request);\r\n\r\n        if (validationEventCollector.hasEvents()) {\r\n            HttpHeaders responseHeaders = new HttpHeaders();\r\n            responseHeaders.setContentType(MediaType.APPLICATION_JSON_UTF8);\r\n            return new ResponseEntity&lt;&gt;(validationEventCollector.getEvents(), responseHeaders, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        /* do stuff */\r\n    }\r\n\r\n... but, for a weird reason, it&#39;s &#39;cumulating&#39; the errors between the requests handled. During the 1st request, 3 errors are returned. Similarly, for the 2nd and 3rd requests. However, on 4th request, the counter in UnmarshallingContext reaches zero (counting down from 10) and the following error is returned:\r\n\r\n    Errors limit exceeded. To receive all errors set com.sun.xml.internal.bind logger to FINEST level.\r\n\r\nOn fifth request, it doesn&#39;t throw any validation errors! Just to make it evident - all requests are exactly the same.\r\n\r\nWhy the UnmarhsallingContext has a static counter that stops the 5+th requests to be validated? How can I overcome this issue?\r\n\r\nMy build config: Spring boot 1.4.3.RELEASE, gradle deps:\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-amqp&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-data-redis&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-jersey&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\r\n        compile(&quot;com.fasterxml.jackson.core:jackson-databind&quot;)\r\n        compile(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot;)\r\n\r\n        compileOnly(&#39;org.projectlombok:lombok:1.16.12&#39;)\r\n\r\n        compile(&quot;net.sf.dozer:dozer:5.5.1&quot;)\r\n        compile(&quot;net.sf.dozer:dozer-spring:5.5.1&quot;)\r\n\r\n        compile(&quot;org.apache.commons:commons-lang3:3.5&quot;)\r\n\r\n        testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    }\r\n","title":"Why Unmarshaller behaviour is not consistent?","body":"<p>I have created a simple webservice (spring-web) which is meant to validate the incoming XML with respect to XSD and if any validation errors occured, they should be returned to the requester.</p>\n\n<p>The below code does its job...</p>\n\n<pre><code>@PostMapping(path = \"/test\", consumes = MediaType.APPLICATION_XML_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Object&gt; method2(@RequestBody Source request) throws IOException, JAXBException, SAXException {\n\n    final URL schemaUrl = resourceLoader.getResource(\"classpath:test.xsd\").getURL();\n    final CumulatingErrorHandler errorHandler = new CumulatingErrorHandler();\n    final Schema schema = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI)\n            .newSchema(schemaUrl);\n    final ValidationEventCollector validationEventCollector = new MyValidationEventCollector();\n\n    final Unmarshaller unmarshaller = JAXBContext\n            .newInstance(IncomingRequestModel.class)\n            .createUnmarshaller();\n    unmarshaller.setEventHandler(validationEventCollector);\n    unmarshaller.setSchema(schema);\n\n    final IncomingRequestModel requestModel = (IncomingRequestModel) unmarshaller.unmarshal(request);\n\n    if (validationEventCollector.hasEvents()) {\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.setContentType(MediaType.APPLICATION_JSON_UTF8);\n        return new ResponseEntity&lt;&gt;(validationEventCollector.getEvents(), responseHeaders, HttpStatus.BAD_REQUEST);\n    }\n\n    /* do stuff */\n}\n</code></pre>\n\n<p>... but, for a weird reason, it's 'cumulating' the errors between the requests handled. During the 1st request, 3 errors are returned. Similarly, for the 2nd and 3rd requests. However, on 4th request, the counter in UnmarshallingContext reaches zero (counting down from 10) and the following error is returned:</p>\n\n<pre><code>Errors limit exceeded. To receive all errors set com.sun.xml.internal.bind logger to FINEST level.\n</code></pre>\n\n<p>On fifth request, it doesn't throw any validation errors! Just to make it evident - all requests are exactly the same.</p>\n\n<p>Why the UnmarhsallingContext has a static counter that stops the 5+th requests to be validated? How can I overcome this issue?</p>\n\n<p>My build config: Spring boot 1.4.3.RELEASE, gradle deps:</p>\n\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-amqp')\n    compile('org.springframework.boot:spring-boot-starter-data-redis')\n    compile('org.springframework.boot:spring-boot-starter-jersey')\n    compile('org.springframework.boot:spring-boot-starter-web')\n\n    compile(\"com.fasterxml.jackson.core:jackson-databind\")\n    compile(\"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\")\n\n    compileOnly('org.projectlombok:lombok:1.16.12')\n\n    compile(\"net.sf.dozer:dozer:5.5.1\")\n    compile(\"net.sf.dozer:dozer-spring:5.5.1\")\n\n    compile(\"org.apache.commons:commons-lang3:3.5\")\n\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","gradle","noclassdeffounderror"],"comments":[{"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"score":1,"creation_date":1701708064,"post_id":77600409,"comment_id":136806409,"body_markdown":"Maybe this other link can help ? https://stackoverflow.com/questions/57817714/gatling-on-gradle-noclassdeffounderror-scala-serializable","body":"Maybe this other link can help ? <a href=\"https://stackoverflow.com/questions/57817714/gatling-on-gradle-noclassdeffounderror-scala-serializable\" title=\"gatling on gradle noclassdeffounderror scala serializable\">stackoverflow.com/questions/57817714/&hellip;</a>"}],"owner":{"account_id":30063483,"reputation":1,"user_id":23039126,"display_name":"marmich00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701719040,"creation_date":1701701784,"question_id":77600409,"body_markdown":"I am practicing Scala and try to run external project, which includes Spark and Gradle. Unfortunately, I am getting this error all the time: \r\n\r\n![image](https://i.stack.imgur.com/rMG3b.png)\r\n\r\nI would be grateful for any advice that can help with fixing this issue. I am using Scala 2.13.12.\r\n\r\nI&#39;ve tried to change the Java and Scala versions, modified dependencies in build.gradle, checked if environmental variables are included. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WPxiJ.png","title":"Error: Unable to initialize main class (...) Caused by: java.lang.NoClassDefFoundError: scala/Serializable","body":"<p>I am practicing Scala and try to run external project, which includes Spark and Gradle. Unfortunately, I am getting this error all the time:</p>\n<p><img src=\"https://i.stack.imgur.com/rMG3b.png\" alt=\"image\" /></p>\n<p>I would be grateful for any advice that can help with fixing this issue. I am using Scala 2.13.12.</p>\n<p>I've tried to change the Java and Scala versions, modified dependencies in build.gradle, checked if environmental variables are included.</p>\n"},{"tags":["java","arrays","spiral"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1701717280,"post_id":77601966,"comment_id":136808094,"body_markdown":"The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem.","body":"The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem."},{"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"score":0,"creation_date":1701718771,"post_id":77601966,"comment_id":136808314,"body_markdown":"@RomanC I dont know what you misunderstand from the question? I have described the specific problem and the specific error. And i have given all the code that i have.","body":"@RomanC I dont know what you misunderstand from the question? I have described the specific problem and the specific error. And i have given all the code that i have."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701718686,"creation_date":1701718686,"answer_id":77602141,"question_id":77601966,"body_markdown":"Instead of using a switch-case, you can use a couple directional matrices for tracking movement. You can take advantage of modulo arithmetic for advancing to the next directional index.\r\n\r\nIf the next position is in-bounds, set the position. If it is out of bounds or has already been seen, change direction.\r\n\r\n**Note:** I would avoid starting the loop with `int i = 1`, you can always add `1` to `i` when you are setting the value.\r\n\r\n```java\r\npackage org.example;\r\n\r\npublic class Spiral {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Spiral Matrix: 3 rows, 4 columns:&quot;);\r\n        print(spiral(3, 4));\r\n\r\n        System.out.println(&quot;\\nSpiral Matrix: 6 rows, 9 columns:&quot;);\r\n        print(spiral(6, 9));\r\n    }\r\n\r\n    // Based on: https://www.geeksforgeeks.org/print-a-given-matrix-in-spiral-form/\r\n    static final int[] DIR_ROW = { 0, 1, 0, -1 }, DIR_COL = { 1, 0, -1, 0 };\r\n    static int[][] spiral(int rows, int columns) {\r\n       int[][] result = new int[rows][columns];\r\n        if (rows == 0) return result;\r\n        boolean[][] seen = new boolean[rows][columns];\r\n        int x = 0, y = 0, di = 0;\r\n        for (int i = 0; i &lt; rows * columns; i++) {\r\n            result[x][y] = i + 1; // Set value\r\n            seen[x][y] = true; // Mark as seen\r\n            int cr = x + DIR_ROW[di], cc = y + DIR_COL[di]; // Bounds checking\r\n            if (0 &lt;= cr &amp;&amp; cr &lt; rows &amp;&amp; 0 &lt;= cc &amp;&amp; cc &lt; columns &amp;&amp; !seen[cr][cc]) {\r\n                x = cr;\r\n                y = cc;\r\n            } else {\r\n                di = (di + 1) % 4; // Next direction index\r\n                x += DIR_ROW[di];\r\n                y += DIR_COL[di];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static void print(int[][] matrix) {\r\n        for (int r = 0; r &lt; matrix.length; r++) {\r\n            for (int c = 0; c &lt; matrix[r].length; c++) {\r\n                System.out.printf(&quot;%2d&quot;, matrix[r][c]);\r\n                if (c &lt; matrix[r].length - 1) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Output\r\n\r\n\r\n```\r\nSpiral Matrix: 3 rows, 4 columns:\r\n 1  2  3  4\r\n10 11 12  5\r\n 9  8  7  6\r\n\r\nSpiral Matrix: 6 rows, 9 columns:\r\n 1  2  3  4  5  6  7  8  9\r\n26 27 28 29 30 31 32 33 10\r\n25 44 45 46 47 48 49 34 11\r\n24 43 54 53 52 51 50 35 12\r\n23 42 41 40 39 38 37 36 13\r\n22 21 20 19 18 17 16 15 14\r\n```","title":"2D Array Spiral Matrix Pattern with different rows and columns","body":"<p>Instead of using a switch-case, you can use a couple directional matrices for tracking movement. You can take advantage of modulo arithmetic for advancing to the next directional index.</p>\n<p>If the next position is in-bounds, set the position. If it is out of bounds or has already been seen, change direction.</p>\n<p><strong>Note:</strong> I would avoid starting the loop with <code>int i = 1</code>, you can always add <code>1</code> to <code>i</code> when you are setting the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic class Spiral {\n    public static void main(String[] args) {\n        System.out.println(&quot;Spiral Matrix: 3 rows, 4 columns:&quot;);\n        print(spiral(3, 4));\n\n        System.out.println(&quot;\\nSpiral Matrix: 6 rows, 9 columns:&quot;);\n        print(spiral(6, 9));\n    }\n\n    // Based on: https://www.geeksforgeeks.org/print-a-given-matrix-in-spiral-form/\n    static final int[] DIR_ROW = { 0, 1, 0, -1 }, DIR_COL = { 1, 0, -1, 0 };\n    static int[][] spiral(int rows, int columns) {\n       int[][] result = new int[rows][columns];\n        if (rows == 0) return result;\n        boolean[][] seen = new boolean[rows][columns];\n        int x = 0, y = 0, di = 0;\n        for (int i = 0; i &lt; rows * columns; i++) {\n            result[x][y] = i + 1; // Set value\n            seen[x][y] = true; // Mark as seen\n            int cr = x + DIR_ROW[di], cc = y + DIR_COL[di]; // Bounds checking\n            if (0 &lt;= cr &amp;&amp; cr &lt; rows &amp;&amp; 0 &lt;= cc &amp;&amp; cc &lt; columns &amp;&amp; !seen[cr][cc]) {\n                x = cr;\n                y = cc;\n            } else {\n                di = (di + 1) % 4; // Next direction index\n                x += DIR_ROW[di];\n                y += DIR_COL[di];\n            }\n        }\n        return result;\n    }\n\n    static void print(int[][] matrix) {\n        for (int r = 0; r &lt; matrix.length; r++) {\n            for (int c = 0; c &lt; matrix[r].length; c++) {\n                System.out.printf(&quot;%2d&quot;, matrix[r][c]);\n                if (c &lt; matrix[r].length - 1) {\n                    System.out.print(&quot; &quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>Spiral Matrix: 3 rows, 4 columns:\n 1  2  3  4\n10 11 12  5\n 9  8  7  6\n\nSpiral Matrix: 6 rows, 9 columns:\n 1  2  3  4  5  6  7  8  9\n26 27 28 29 30 31 32 33 10\n25 44 45 46 47 48 49 34 11\n24 43 54 53 52 51 50 35 12\n23 42 41 40 39 38 37 36 13\n22 21 20 19 18 17 16 15 14\n</code></pre>\n"}],"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77602141,"answer_count":1,"score":-1,"last_activity_date":1701718686,"creation_date":1701716581,"question_id":77601966,"body_markdown":"..\r\nHello, guys. I have to implement 2D Array in Spiral Matrix Pattern, but the requirement is to get the rows and columns from user input. Using Oracle documents i got to the point that the program result is successful while the rows and columns are equal, but the tests are mostly with different rows and columns.\r\n\r\nTask description:\r\n\r\nPlease, proceed to Spiral class and implement its static method:\r\n\r\nint[][] spiral(int rows, int columns)\r\nReturn a two-dimensional array coming in the form of a table and containing numbers from 1 up to rows * cols. The size of the table will be specified by the given parameters.\r\nNumbers fill the &quot;table&quot; clockwise from the top-level corner in a spiral manner.\r\n\r\nFor example, for parameter values (3, 4), the output array should be:\r\n\r\n     1  2  3  4\r\n    10 11 12  5\r\n     9  8  7  6\r\n\r\nThe code that i implement is this:\r\n\r\n\r\n```\r\nclass Spiral {\r\n    \r\n    static int[][] spiral(int rows, int columns) {\r\n\r\n        int[][] matrix = new int[rows][columns];\r\n        int row = 0;\r\n        int col = 0;\r\n        int horizontal = columns - 1;\r\n        int vertical = rows - 1;\r\n        int rotations = 1;\r\n        char move = &#39;r&#39;;\r\n\r\n        for(int i = 1; i &lt; rows * columns + 1; i++) {\r\n            matrix[row][col] = i;\r\n\r\n            switch(move) {\r\n                case &#39;r&#39;:\r\n                    col += 1;\r\n                    break;\r\n                case &#39;l&#39;:\r\n                    col -= 1;\r\n                    break;\r\n                case &#39;u&#39;:\r\n                    row -= 1;\r\n                    break;\r\n                case &#39;d&#39;:\r\n                    row += 1;\r\n                    break;\r\n            }\r\n\r\n            if(i == horizontal) {\r\n                horizontal += vertical;\r\n                \r\n                if(rotations != 2) {\r\n                    rotations = 2;\r\n                }\r\n                else {\r\n                    rotations = 1;\r\n                    vertical -= 1;\r\n                }\r\n\r\n                switch(move) {\r\n                    case &#39;r&#39;:\r\n                        move = &#39;d&#39;;\r\n                        break;\r\n                    case &#39;d&#39;:\r\n                        move = &#39;l&#39;;\r\n                        break;\r\n                    case &#39;l&#39;:\r\n                        move = &#39;u&#39;;\r\n                        break;\r\n                    case &#39;u&#39;:\r\n                        move = &#39;r&#39;;\r\n                        break;\r\n                }\r\n            } \r\n        }\r\n        return matrix;\r\n    }\r\n}\r\n```\r\n\r\nBut how i already said, it works only when the rows and columns are equal. When i try with different values in rows and columns i get exception &quot;index out of bounds&quot;. My thoughts are probably the problem comes from rotations condition, but i really can&#39;t solve this problem. If somebody can help, thanks in advance.\r\n","title":"2D Array Spiral Matrix Pattern with different rows and columns","body":"<p>..\nHello, guys. I have to implement 2D Array in Spiral Matrix Pattern, but the requirement is to get the rows and columns from user input. Using Oracle documents i got to the point that the program result is successful while the rows and columns are equal, but the tests are mostly with different rows and columns.</p>\n<p>Task description:</p>\n<p>Please, proceed to Spiral class and implement its static method:</p>\n<p>int[][] spiral(int rows, int columns)\nReturn a two-dimensional array coming in the form of a table and containing numbers from 1 up to rows * cols. The size of the table will be specified by the given parameters.\nNumbers fill the &quot;table&quot; clockwise from the top-level corner in a spiral manner.</p>\n<p>For example, for parameter values (3, 4), the output array should be:</p>\n<pre><code> 1  2  3  4\n10 11 12  5\n 9  8  7  6\n</code></pre>\n<p>The code that i implement is this:</p>\n<pre><code>class Spiral {\n    \n    static int[][] spiral(int rows, int columns) {\n\n        int[][] matrix = new int[rows][columns];\n        int row = 0;\n        int col = 0;\n        int horizontal = columns - 1;\n        int vertical = rows - 1;\n        int rotations = 1;\n        char move = 'r';\n\n        for(int i = 1; i &lt; rows * columns + 1; i++) {\n            matrix[row][col] = i;\n\n            switch(move) {\n                case 'r':\n                    col += 1;\n                    break;\n                case 'l':\n                    col -= 1;\n                    break;\n                case 'u':\n                    row -= 1;\n                    break;\n                case 'd':\n                    row += 1;\n                    break;\n            }\n\n            if(i == horizontal) {\n                horizontal += vertical;\n                \n                if(rotations != 2) {\n                    rotations = 2;\n                }\n                else {\n                    rotations = 1;\n                    vertical -= 1;\n                }\n\n                switch(move) {\n                    case 'r':\n                        move = 'd';\n                        break;\n                    case 'd':\n                        move = 'l';\n                        break;\n                    case 'l':\n                        move = 'u';\n                        break;\n                    case 'u':\n                        move = 'r';\n                        break;\n                }\n            } \n        }\n        return matrix;\n    }\n}\n</code></pre>\n<p>But how i already said, it works only when the rows and columns are equal. When i try with different values in rows and columns i get exception &quot;index out of bounds&quot;. My thoughts are probably the problem comes from rotations condition, but i really can't solve this problem. If somebody can help, thanks in advance.</p>\n"},{"tags":["java","hibernate","maven","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701772411,"post_id":77602138,"comment_id":136814302,"body_markdown":"Could you also add relevant Entities to the problem ?","body":"Could you also add relevant Entities to the problem ?"}],"owner":{"account_id":30065849,"reputation":1,"user_id":23041018,"display_name":"Gosia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701718642,"creation_date":1701718612,"question_id":77602138,"body_markdown":"Do you know where this error comes from? I can see that the database is created correctly, it has all the fields and relations between the tables, but I can&#39;t run the main application file. I&#39;m using Maven. There&#39;s a whole error message:\r\n\r\n```2023-12-04T20:30:00.654+01:00 ERROR 27505 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat com.example.inz_temp.InzTempApplication.main(InzTempApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\r\n\tat org.hibernate.boot.model.internal.BinderHelper.checkMappedByType(BinderHelper.java:1088) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder.isReversePropertyInJoin(CollectionBinder.java:1571) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder.noAssociationTable(CollectionBinder.java:1582) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1543) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1534) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1846) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1803) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:328) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 16 common frames omitted\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve checked jakarta mapping while creating entities, I&#39;ve created a database using docker, jakarta persistence entities and jpa repositories","title":"Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null","body":"<p>Do you know where this error comes from? I can see that the database is created correctly, it has all the fields and relations between the tables, but I can't run the main application file. I'm using Maven. There's a whole error message:</p>\n<pre><code>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\n    at com.example.inz_temp.InzTempApplication.main(InzTempApplication.java:10) ~[classes/:na]\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\n    at org.hibernate.boot.model.internal.BinderHelper.checkMappedByType(BinderHelper.java:1088) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder.isReversePropertyInJoin(CollectionBinder.java:1571) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder.noAssociationTable(CollectionBinder.java:1582) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1543) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1534) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1846) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1803) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:328) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 16 common frames omitted\n\n</code></pre>\n<p>I've checked jakarta mapping while creating entities, I've created a database using docker, jakarta persistence entities and jpa repositories</p>\n"},{"tags":["java","ssl","groovy","https","httpbuilder"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1487195564,"post_id":42260663,"comment_id":71679170,"body_markdown":"try also https://www.ssllabs.com/ssltest/","body":"try also <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1487195951,"post_id":42260663,"comment_id":71679368,"body_markdown":"see if this solution helps - http://stackoverflow.com/a/30760134/2158288","body":"see if this solution helps - <a href=\"http://stackoverflow.com/a/30760134/2158288\">stackoverflow.com/a/30760134/2158288</a>"},{"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"score":0,"creation_date":1487196611,"post_id":42260663,"comment_id":71679702,"body_markdown":"I tried installing the Unlimited Strength jars from your linked suggestion and that didn&#39;t change anything.","body":"I tried installing the Unlimited Strength jars from your linked suggestion and that didn&#39;t change anything."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1487197682,"post_id":42260663,"comment_id":71680253,"body_markdown":"There&#39;s too little information of your problem. You should try step debug and find out why verify fails. It seems that apache does its own verification of certificates and the logic isn&#39;t cannon.","body":"There&#39;s too little information of your problem. You should try step debug and find out why verify fails. It seems that apache does its own verification of certificates and the logic isn&#39;t cannon."}],"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701718620,"creation_date":1487195137,"question_id":42260663,"body_markdown":"I have already tried using `http.ignoreSSLIssues()` [to make the script ignore the problem][1].\r\n\r\nI have already tried [importing the certificate into a trusted keystore and then using that keystore to create a new SSLSocketFactory][2] as instructed by the http-builder wiki page.\r\n\r\nI have already tried [installing the Unlimited Security policy jars.][3]\r\n\r\n    HTTPBuilder http = new HTTPBuilder(&quot;${host}${path}&quot;)\r\n    println(&quot;Fetching ${host}${path}&quot;)\r\n    \r\n    println(&quot;Supposedly ignoring SSL issues&quot;)\r\n    http.ignoreSSLIssues()\r\n    \r\n    def keyStore = KeyStore.getInstance( KeyStore.defaultType )\r\n    \r\n    getClass().getResource( &quot;truststore.jks&quot; ).withInputStream {\r\n    \tkeyStore.load( it, &quot;test1234&quot;.toCharArray() )\r\n    \tprintln(&quot;Loaded keystore&quot;)\r\n    }\r\n    \r\n    http.client.connectionManager.schemeRegistry.register(new Scheme(&quot;https&quot;, 443, new SSLSocketFactory(keyStore)) )\r\n    println(&quot;Loaded new socket factory with keystore&quot;)\r\n    \r\n    http.request( Method.GET, ContentType.URLENC ) { req -&gt;\r\n    \turi.query = params\r\n    \r\n    \tresponse.contentType = ContentType.JSON\r\n    \r\n    \tresponse.success = { resp, Map map -&gt;\r\n    \t\tdef json = map.keySet()[0]\r\n    \r\n    \t\tdef slurper = new JsonSlurper()\r\n    \t\tret = slurper.parseText(json)\r\n    \r\n    \t}\r\n    }\r\n\r\nAnd yet, I get the same SSLPeerUnverifiedException every time. Here is the console output:\r\n\r\n    Fetching https://myhost.mydomain.com/report.aspx\r\n    Supposedly ignoring SSL issues\r\n    Loaded keystore\r\n    Loaded new socket factory with keystore\r\n    Caught: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n    \tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:640)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1066)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1044)\r\n    \tat groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:515)\r\n    \tat groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:434)\r\n    \tat groovyx.net.http.HTTPBuilder.request(HTTPBuilder.java:383)\r\n    \tat groovyx.net.http.HTTPBuilder$request$0.call(Unknown Source)\r\n    \tat fetch_windows_direct_report.httpget(fetch_windows_direct_report.groovy:93)\r\n    \tat fetch_windows_direct_report$httpget$0.callCurrent(Unknown Source)\r\n    \tat fetch_windows_direct_report.fetchanalytics(fetch_windows_direct_report.groovy:58)\r\n    \tat fetch_windows_direct_report$fetchanalytics.callCurrent(Unknown Source)\r\n    \tat fetch_windows_direct_report.run(fetch_windows_direct_report.groovy:31)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    \r\n    Process finished with exit code 1\r\n\r\nLine 93, where my code experiences the exception, is the `http.request( Method.GET, ContentType.URLENC ) { req -&gt;` line. \r\n\r\nI&#39;ve verified that my SSL certificate is valid and signed by a Trusted Root Authority by using Chrome (as well as using https://www.sslshopper.com/ssl-checker.html)\r\n\r\n[![enter image description here][4]][3]\r\n\r\nWhy is this not working?\r\n\r\n  [1]: https://stackoverflow.com/a/27913848/416631\r\n  [2]: https://github.com/jgritman/httpbuilder/wiki/SSL\r\n  [3]: https://stackoverflow.com/questions/30758303/problems-connecting-via-https-ssl-through-own-java-client/30760134#30760134\r\n  [4]: https://i.stack.imgur.com/n3NHH.png","title":"Valid SSL certificate but Groovy is giving: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>I have already tried using <code>http.ignoreSSLIssues()</code> <a href=\"https://stackoverflow.com/a/27913848/416631\">to make the script ignore the problem</a>.</p>\n<p>I have already tried <a href=\"https://github.com/jgritman/httpbuilder/wiki/SSL\" rel=\"nofollow noreferrer\">importing the certificate into a trusted keystore and then using that keystore to create a new SSLSocketFactory</a> as instructed by the http-builder wiki page.</p>\n<p>I have already tried <a href=\"https://stackoverflow.com/questions/30758303/problems-connecting-via-https-ssl-through-own-java-client/30760134#30760134\">installing the Unlimited Security policy jars.</a></p>\n<pre><code>HTTPBuilder http = new HTTPBuilder(&quot;${host}${path}&quot;)\nprintln(&quot;Fetching ${host}${path}&quot;)\n\nprintln(&quot;Supposedly ignoring SSL issues&quot;)\nhttp.ignoreSSLIssues()\n\ndef keyStore = KeyStore.getInstance( KeyStore.defaultType )\n\ngetClass().getResource( &quot;truststore.jks&quot; ).withInputStream {\n    keyStore.load( it, &quot;test1234&quot;.toCharArray() )\n    println(&quot;Loaded keystore&quot;)\n}\n\nhttp.client.connectionManager.schemeRegistry.register(new Scheme(&quot;https&quot;, 443, new SSLSocketFactory(keyStore)) )\nprintln(&quot;Loaded new socket factory with keystore&quot;)\n\nhttp.request( Method.GET, ContentType.URLENC ) { req -&gt;\n    uri.query = params\n\n    response.contentType = ContentType.JSON\n\n    response.success = { resp, Map map -&gt;\n        def json = map.keySet()[0]\n\n        def slurper = new JsonSlurper()\n        ret = slurper.parseText(json)\n\n    }\n}\n</code></pre>\n<p>And yet, I get the same SSLPeerUnverifiedException every time. Here is the console output:</p>\n<pre><code>Fetching https://myhost.mydomain.com/report.aspx\nSupposedly ignoring SSL issues\nLoaded keystore\nLoaded new socket factory with keystore\nCaught: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\njavax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:640)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1066)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1044)\n    at groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:515)\n    at groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:434)\n    at groovyx.net.http.HTTPBuilder.request(HTTPBuilder.java:383)\n    at groovyx.net.http.HTTPBuilder$request$0.call(Unknown Source)\n    at fetch_windows_direct_report.httpget(fetch_windows_direct_report.groovy:93)\n    at fetch_windows_direct_report$httpget$0.callCurrent(Unknown Source)\n    at fetch_windows_direct_report.fetchanalytics(fetch_windows_direct_report.groovy:58)\n    at fetch_windows_direct_report$fetchanalytics.callCurrent(Unknown Source)\n    at fetch_windows_direct_report.run(fetch_windows_direct_report.groovy:31)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Line 93, where my code experiences the exception, is the <code>http.request( Method.GET, ContentType.URLENC ) { req -&gt;</code> line.</p>\n<p>I've verified that my SSL certificate is valid and signed by a Trusted Root Authority by using Chrome (as well as using <a href=\"https://www.sslshopper.com/ssl-checker.html\" rel=\"nofollow noreferrer\">https://www.sslshopper.com/ssl-checker.html</a>)</p>\n<p><a href=\"https://stackoverflow.com/questions/30758303/problems-connecting-via-https-ssl-through-own-java-client/30760134#30760134\"><img src=\"https://i.stack.imgur.com/n3NHH.png\" alt=\"enter image description here\" /></a></p>\n<p>Why is this not working?</p>\n"},{"tags":["java","intellij-idea","appium-android","appium-desktop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701721555,"post_id":77602121,"comment_id":136808706,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29936727,"reputation":1,"user_id":22942289,"display_name":"Siyah kalem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701718614,"creation_date":1701718459,"question_id":77602121,"body_markdown":"```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;BAHAR&#39;, ip: &#39;192.168.37.1&#39;\r\n\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:625)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:268)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:168)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:90)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:102)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:109)\r\n\tat appium.Homework.CalcaluteTestIT.testUitomator2Calcutore(CalcaluteTestIT.java:23)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n\tat org.testng.TestRunner.run(TestRunner.java:621)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\tat org.testng.TestNG.run(TestNG.java:1082)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: org.openqa.selenium.WebDriverException: Connection refused: no further information\r\nBuild info: version: &#39;4.15.0&#39;, revision: &#39;1d14b5521b&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.16&#39;\r\nDriver info: driver.version: AndroidDriver\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.lambda$execute$2(AppiumCommandExecutor.java:250)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:249)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:607)\r\n\t... 33 more\r\nCaused by: java.net.ConnectException: Connection refused: no further information\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\r\n\tat java.net.http/jdk.internal.net.http.PlainHttpConnection$ConnectEvent.handle(PlainHttpConnection.java:128)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:957)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:912)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:912)\r\n```\r\n\r\ni can&#39;t access the real phone with vysor.","title":"selenium.SessionNotCreatedException","body":"<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'BAHAR', ip: '192.168.37.1'\n\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:625)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:268)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:168)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:90)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:102)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:109)\n    at appium.Homework.CalcaluteTestIT.testUitomator2Calcutore(CalcaluteTestIT.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: org.openqa.selenium.WebDriverException: Connection refused: no further information\nBuild info: version: '4.15.0', revision: '1d14b5521b'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.16'\nDriver info: driver.version: AndroidDriver\n    at io.appium.java_client.remote.AppiumCommandExecutor.lambda$execute$2(AppiumCommandExecutor.java:250)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:249)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:607)\n    ... 33 more\nCaused by: java.net.ConnectException: Connection refused: no further information\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\n    at java.net.http/jdk.internal.net.http.PlainHttpConnection$ConnectEvent.handle(PlainHttpConnection.java:128)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:957)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:912)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:912)\n</code></pre>\n<p>i can't access the real phone with vysor.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1701710306,"post_id":77601288,"comment_id":136806831,"body_markdown":"What about creating a new method that will have logic to get entity by id and you will use it in both methods get and delete","body":"What about creating a new method that will have logic to get entity by id and you will use it in both methods get and delete"},{"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"score":0,"creation_date":1701711697,"post_id":77601288,"comment_id":136807108,"body_markdown":"That&#39;s a good idea, but there are actually a few different services that also make use of getEntity so they would all need to change to the &quot;new_getEntity()&quot; method.  I&#39;m trying the SecuredEntityService idea now, and it appears to be working pretty cleanly.  Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService.","body":"That&#39;s a good idea, but there are actually a few different services that also make use of getEntity so they would all need to change to the &quot;new_getEntity()&quot; method.  I&#39;m trying the SecuredEntityService idea now, and it appears to be working pretty cleanly.  Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService."}],"answers":[{"tags":[],"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701711730,"creation_date":1701711730,"answer_id":77601513,"question_id":77601288,"body_markdown":"I&#39;m tried the SecuredEntityService idea, and it appears to be working pretty cleanly. Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService","title":"Should I move the Spring Security @PreAuthorize annotations to a new SecuredService class?","body":"<p>I'm tried the SecuredEntityService idea, and it appears to be working pretty cleanly. Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService</p>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701718475,"creation_date":1701718475,"answer_id":77602125,"question_id":77601288,"body_markdown":"# Role Hierarchy\r\n\r\nIn addressing your issue with role-based access control in Spring Security, it&#39;s beneficial to consider implementing a role hierarchy. This approach aligns with real-world scenarios and simplifies permission management.\r\n\r\n### Role Hierarchy Explained\r\n\r\nIn a role hierarchy, certain roles inherently include the permissions of other, typically lower-level, roles. For instance, a manager might naturally have all the permissions of a staff member, plus additional ones. Translating this into a Spring Security context, if a user has a `DELETE` role, it&#39;s logical to assume they should also have `VIEW`` permissions.\r\n\r\n### Real-World Use Cases\r\n\r\n1. **Management Hierarchy in a Company:**\r\n   - Senior Manager (`DELETE` &amp; `VIEW` role): Can make significant changes, like deleting records. \r\n   - Junior Manager (`VIEW` role): Can view records but not delete them.\r\n\r\nIn this hierarchy, it&#39;s understood that a Senior Manager should be able to perform all tasks a Junior Manager can, including viewing records.\r\n\r\n\r\n2. **Healthcare System:**\r\n   -  Doctor (`DELETE` &amp; `VIEW` role): Can edit or delete patient records.\r\n   - Nurse (`VIEW` role): Can view patient records for care purposes.\r\n\r\nA Doctor, with higher access privileges, should inherently have the viewing capabilities of a Nurse.\r\n\r\n### Conclusion\r\n\r\nBy implementing a role hierarchy, you eliminate the need for complex security configurations and reduce the chances of encountering permission-related issues. This approach makes your security model more intuitive, easier to manage, and more closely aligned with typical organizational structures and expectations.","title":"Should I move the Spring Security @PreAuthorize annotations to a new SecuredService class?","body":"<h1>Role Hierarchy</h1>\n<p>In addressing your issue with role-based access control in Spring Security, it's beneficial to consider implementing a role hierarchy. This approach aligns with real-world scenarios and simplifies permission management.</p>\n<h3>Role Hierarchy Explained</h3>\n<p>In a role hierarchy, certain roles inherently include the permissions of other, typically lower-level, roles. For instance, a manager might naturally have all the permissions of a staff member, plus additional ones. Translating this into a Spring Security context, if a user has a <code>DELETE</code> role, it's logical to assume they should also have `VIEW`` permissions.</p>\n<h3>Real-World Use Cases</h3>\n<ol>\n<li><strong>Management Hierarchy in a Company:</strong>\n<ul>\n<li>Senior Manager (<code>DELETE</code> &amp; <code>VIEW</code> role): Can make significant changes, like deleting records.</li>\n<li>Junior Manager (<code>VIEW</code> role): Can view records but not delete them.</li>\n</ul>\n</li>\n</ol>\n<p>In this hierarchy, it's understood that a Senior Manager should be able to perform all tasks a Junior Manager can, including viewing records.</p>\n<ol start=\"2\">\n<li><strong>Healthcare System:</strong>\n<ul>\n<li>Doctor (<code>DELETE</code> &amp; <code>VIEW</code> role): Can edit or delete patient records.</li>\n<li>Nurse (<code>VIEW</code> role): Can view patient records for care purposes.</li>\n</ul>\n</li>\n</ol>\n<p>A Doctor, with higher access privileges, should inherently have the viewing capabilities of a Nurse.</p>\n<h3>Conclusion</h3>\n<p>By implementing a role hierarchy, you eliminate the need for complex security configurations and reduce the chances of encountering permission-related issues. This approach makes your security model more intuitive, easier to manage, and more closely aligned with typical organizational structures and expectations.</p>\n"}],"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701720577,"answer_count":2,"score":-2,"last_activity_date":1701718475,"creation_date":1701709640,"question_id":77601288,"body_markdown":"I have a Spring Boot / Spring MVC app with Spring Security.\r\n\r\nI have an EntityService with methods:\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;VIEW&#39;)&quot;)\r\n    public Entity getEntity(id)\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;DELETE&#39;)&quot;)\r\n    public boolean deleteEntity(id)\r\n\r\nThe problem is, deleteEntity will do a getEntity to check properties to determine if delete is allowed.\r\n\r\nIf the logged in user has &#39;DELETE&#39; but does not have &#39;VIEW&#39;, then when deleteEntity calls getEntity, there is an AccessException.\r\n\r\nTo solve this, I could move the @PreAuthorize annotation to the Controller layer, but that&#39;s tricky because there are a few different Controllers that call these methods, so there&#39;d be lots of places to get right.\r\n\r\nAnother idea, I could create a new SecuredEntityService which is just a pass through to the EntityService, and the @PreAuthorize annotations are on the SecuredEntityService methods.  And the EntityService can call any of its own methods internall.\r\n\r\nDoes adding a SecuredEntityService layer like this make sense?","title":"Should I move the Spring Security @PreAuthorize annotations to a new SecuredService class?","body":"<p>I have a Spring Boot / Spring MVC app with Spring Security.</p>\n<p>I have an EntityService with methods:</p>\n<pre><code>@PreAuthorize(&quot;hasRole('VIEW')&quot;)\npublic Entity getEntity(id)\n\n@PreAuthorize(&quot;hasRole('DELETE')&quot;)\npublic boolean deleteEntity(id)\n</code></pre>\n<p>The problem is, deleteEntity will do a getEntity to check properties to determine if delete is allowed.</p>\n<p>If the logged in user has 'DELETE' but does not have 'VIEW', then when deleteEntity calls getEntity, there is an AccessException.</p>\n<p>To solve this, I could move the @PreAuthorize annotation to the Controller layer, but that's tricky because there are a few different Controllers that call these methods, so there'd be lots of places to get right.</p>\n<p>Another idea, I could create a new SecuredEntityService which is just a pass through to the EntityService, and the @PreAuthorize annotations are on the SecuredEntityService methods.  And the EntityService can call any of its own methods internall.</p>\n<p>Does adding a SecuredEntityService layer like this make sense?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1701717732,"post_id":77601947,"comment_id":136808160,"body_markdown":"It is unclear what you are trying to do. Can you explain more? What does _&quot;contains every fourth number in it&quot;_ mean?","body":"It is unclear what you are trying to do. Can you explain more? What does <i>&quot;contains every fourth number in it&quot;</i> mean?"},{"owner":{"account_id":29490515,"reputation":1,"user_id":22599601,"display_name":"Exotic"},"score":0,"creation_date":1701804439,"post_id":77601947,"comment_id":136820090,"body_markdown":"basically i want to make the button white if the array with 50 random numbers in it contains some specific ones(in my example it should turn white if the following numbers are in the array: 1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49. I also want to do it with for other buttons but then for each button having other numbers that make the turn white.","body":"basically i want to make the button white if the array with 50 random numbers in it contains some specific ones(in my example it should turn white if the following numbers are in the array: 1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49. I also want to do it with for other buttons but then for each button having other numbers that make the turn white."}],"answers":[{"tags":[],"owner":{"account_id":8894613,"reputation":9,"user_id":6640104,"display_name":"Ivan Ivanov"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701717788,"creation_date":1701717788,"answer_id":77602061,"question_id":77601947,"body_markdown":"    Integer[] template = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\r\n    //pseudo initilzation your massive with random numers\r\n    Integer[] arr1 = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\r\n    \t\t \r\n    if(Arrays.asList(arr1).containsAll(Arrays.asList(template))) {\r\n       System.out.println(&quot;equals!&quot;);    \r\n    }","title":"Hello, i am looking for a solution to check for values in an array","body":"<pre><code>Integer[] template = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\n//pseudo initilzation your massive with random numers\nInteger[] arr1 = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\n         \nif(Arrays.asList(arr1).containsAll(Arrays.asList(template))) {\n   System.out.println(&quot;equals!&quot;);    \n}\n</code></pre>\n"}],"owner":{"account_id":29490515,"reputation":1,"user_id":22599601,"display_name":"Exotic"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1701726616,"answer_count":1,"score":-7,"last_activity_date":1701717788,"creation_date":1701716301,"question_id":77601947,"body_markdown":"I am looking to make a jButton white if the array(zufallsliste)(with 50 random numbers in it) contains every fourth number in it.\r\nCode:\r\n\r\n```\r\nint[] zufallsliste = new int[50];\r\n\r\nif (Array.equals(zufallsliste[] = {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49})) {\r\n    jBu_Feld1.setBackground(Color.WHITE);\r\n}\r\n```\r\n\r\nI tried it without Array.equals and with or between the numbers instead of comma, but doesn&#39;t work","title":"Hello, i am looking for a solution to check for values in an array","body":"<p>I am looking to make a jButton white if the array(zufallsliste)(with 50 random numbers in it) contains every fourth number in it.\nCode:</p>\n<pre><code>int[] zufallsliste = new int[50];\n\nif (Array.equals(zufallsliste[] = {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49})) {\n    jBu_Feld1.setBackground(Color.WHITE);\n}\n</code></pre>\n<p>I tried it without Array.equals and with or between the numbers instead of comma, but doesn't work</p>\n"},{"tags":["java","spring-mvc","spring-security","azure-active-directory","saml-2.0"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717699,"creation_date":1696504457,"question_id":77236583,"body_markdown":"I have created a Java application but I need to secure it using Azure AD SAML using Spring Boot I have done it but when I am trying to convert it for without Spring Boot it is not working.\r\n\r\nHere is my SamlAppConfig file where I do configuration:    \r\n\r\n    @Configuration\r\n    public class SamlSecurityConfiguration extends SamlServiceProviderServerBeanConfiguration {\r\n\r\n\t@Override\r\n\tprotected SamlServerConfiguration getDefaultHostSamlServerConfiguration() {\r\n\t\tfinal SamlServerConfiguration samlAppConfig = new SamlServerConfiguration();\r\n        final LocalServiceProviderConfiguration serviceProvider = getLocalServiceProviderConfiguration();\r\n        samlAppConfig.setServiceProvider(serviceProvider);\r\n        return samlAppConfig;\r\n\t}\r\n\t\r\n\r\n\tprivate LocalServiceProviderConfiguration getLocalServiceProviderConfiguration() {\r\n\t\tfinal LocalServiceProviderConfiguration serviceProvider = new LocalServiceProviderConfiguration();\r\n\r\n\t\tserviceProvider.setSignRequests(false);\r\n\t\tserviceProvider.setWantAssertionsSigned(false);\r\n\t\tserviceProvider.setEntityId(&quot;https://localhost:8443&quot;);\r\n\t\tserviceProvider.setSignMetadata(false);\r\n\t\tserviceProvider.setKeys(rotatingKeys());\r\n\t\tserviceProvider.setBasePath(&quot;/&quot;);\r\n\t\tList&lt;Object&gt; namedIds = new ArrayList&lt;&gt;();\r\n\t\tnamedIds.add(&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;);\r\n\t\tnamedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;);\r\n\t\tnamedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;);\r\n\t\tserviceProvider.setNameIds(namedIds);\r\n\t\tList&lt;ExternalIdentityProviderConfiguration&gt; providers = new ArrayList&lt;&gt;();\r\n\t\tproviders.add(externalProvider());\r\n\t\tserviceProvider.setProviders(providers);\r\n\t\treturn serviceProvider;\r\n\t}\r\n\r\n\tprivate ExternalIdentityProviderConfiguration externalProvider() {\r\n\t\tfinal ExternalIdentityProviderConfiguration externalIdentityProviderConfiguration = new ExternalIdentityProviderConfiguration();\r\n\t\texternalIdentityProviderConfiguration.setMetadata(&quot;https://dev-673817.okta.com/app/exkqkkg0kUVEvNyg14x6/sso/saml/metadata&quot;);\r\n\t\ttry{\r\n\t\t\texternalIdentityProviderConfiguration.setAuthenticationRequestBinding(new java.net.URI(&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;));\r\n\t\t}catch(URISyntaxException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\texternalIdentityProviderConfiguration.setSkipSslValidation(true);\r\n\r\n\t\treturn externalIdentityProviderConfiguration;\r\n\t}\r\n\r\n\tprivate RotatingKeys rotatingKeys() {\r\n\t\tX509Certificate myCertificate = CertUtil.getCertificateByName(&quot;spring&quot;, &quot;keystore.jks&quot;, &quot;secret&quot;);\r\n\t\tfinal RotatingKeys rotatingKeys = new RotatingKeys();\r\n\t\tSimpleKey activeKey = new SimpleKey();\r\n\t\tactiveKey.setName(&quot;spring&quot;);\r\n\t\ttry {\r\n\t\t\tactiveKey.setCertificate(getCertificateForKey(myCertificate));\r\n\t\t} catch (CertificateEncodingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\trotatingKeys.setActive(activeKey);\r\n\t\treturn rotatingKeys;\r\n\t}\r\n\r\n\tprivate String getCertificateForKey(X509Certificate myCertificate) throws CertificateEncodingException {\r\n\t\treturn getEncoder().encodeToString(myCertificate.getEncoded());\r\n\t}\r\n    }\r\n\r\nAnd this is my WebSecurityConfigurerAdapter configuration:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @Order(2)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tprotected void configure(final HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t\t.antMatcher(&quot;/**&quot;)\r\n    \t\t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(GET, &quot;/home&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(GET, &quot;/api/samlLink&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/**&quot;).authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.formLogin().loginPage(&quot;/home&quot;)\r\n    \t\t;\r\n    \r\n    \t\thttp.csrf().disable();\r\n    \t\thttp.headers().cacheControl().disable();\r\n    \t}\r\n    }\r\n\r\nAnd to read creti:\r\n\r\n    public class CertUtil {\r\n    \r\n    \tpublic static X509Certificate getCertificateByName(String certificateAlias, String trustStoreName, String password) {\r\n    \t\ttry {\r\n    \t\t\tKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    \t\t\tloadKeyStore(keyStore, trustStoreName, password);\r\n    \t\t\tCertificate cert = keyStore.getCertificate(certificateAlias);\r\n    \t\t\tif (cert.getType().equals(&quot;X.509&quot;)) {\r\n    \t\t\t\treturn (X509Certificate) cert;\r\n    \t\t\t}\r\n    \t\t\tthrow new Error(&quot;Could not find a suitable x509 certificate for alias &quot; + certificateAlias + &quot; in &quot; + trustStoreName);\r\n    \t\t} catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException e) {\r\n    \t\t\tthrow new Error(&quot;Error opening keystore: &quot; + e.getCause(), e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void loadKeyStore(KeyStore keyStore, String jksPath, String jksPassword) throws IOException, NoSuchAlgorithmException,\r\n    \t\t\tCertificateException {\r\n    \t\tchar[] password = null;\r\n    \t\tif (jksPassword != null) {\r\n    \t\t\tpassword = jksPassword.toCharArray();\r\n    \t\t}\r\n    \t\tkeyStore.load(ClassLoader.getSystemResourceAsStream(jksPath), password);\r\n    \t}\r\n    }\r\n\r\nThis is my filter class where I check for the authentication:\r\n\r\n    public class SamlAuthenticationFilter implements Filter {\r\n\r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tHttpServletRequest req = (HttpServletRequest) request;\r\n    \t\tHttpServletResponse res = (HttpServletResponse) response;\r\n    \t\t\r\n    \t\tAuthentication authentication = (Authentication) req.getUserPrincipal();\r\n    \t\tSamlAuthentication samlAuthentication = (SamlAuthentication) authentication;\r\n    \t\tif (samlAuthentication.isAuthenticated()) {\r\n    \t\t\tchain.doFilter(request, response);\r\n    \t\t\treturn;\r\n    \t\t} else {\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t \r\n    \t}\r\n\r\n    }\r\n\r\nBut I am create jar and include it in my java application but it&#39;s not working and I am using this dependencies:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.extensions&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-saml2-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0.M31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nHow can I correct the security so I can secure my application using Java filter and not Spring Boot?\r\n","title":"Secure Java we application using Azure AD SAML but do not want to use Spring Boot","body":"<p>I have created a Java application but I need to secure it using Azure AD SAML using Spring Boot I have done it but when I am trying to convert it for without Spring Boot it is not working.</p>\n<p>Here is my SamlAppConfig file where I do configuration:</p>\n<pre><code>@Configuration\npublic class SamlSecurityConfiguration extends SamlServiceProviderServerBeanConfiguration {\n\n@Override\nprotected SamlServerConfiguration getDefaultHostSamlServerConfiguration() {\n    final SamlServerConfiguration samlAppConfig = new SamlServerConfiguration();\n    final LocalServiceProviderConfiguration serviceProvider = getLocalServiceProviderConfiguration();\n    samlAppConfig.setServiceProvider(serviceProvider);\n    return samlAppConfig;\n}\n\n\nprivate LocalServiceProviderConfiguration getLocalServiceProviderConfiguration() {\n    final LocalServiceProviderConfiguration serviceProvider = new LocalServiceProviderConfiguration();\n\n    serviceProvider.setSignRequests(false);\n    serviceProvider.setWantAssertionsSigned(false);\n    serviceProvider.setEntityId(&quot;https://localhost:8443&quot;);\n    serviceProvider.setSignMetadata(false);\n    serviceProvider.setKeys(rotatingKeys());\n    serviceProvider.setBasePath(&quot;/&quot;);\n    List&lt;Object&gt; namedIds = new ArrayList&lt;&gt;();\n    namedIds.add(&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;);\n    namedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;);\n    namedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;);\n    serviceProvider.setNameIds(namedIds);\n    List&lt;ExternalIdentityProviderConfiguration&gt; providers = new ArrayList&lt;&gt;();\n    providers.add(externalProvider());\n    serviceProvider.setProviders(providers);\n    return serviceProvider;\n}\n\nprivate ExternalIdentityProviderConfiguration externalProvider() {\n    final ExternalIdentityProviderConfiguration externalIdentityProviderConfiguration = new ExternalIdentityProviderConfiguration();\n    externalIdentityProviderConfiguration.setMetadata(&quot;https://dev-673817.okta.com/app/exkqkkg0kUVEvNyg14x6/sso/saml/metadata&quot;);\n    try{\n        externalIdentityProviderConfiguration.setAuthenticationRequestBinding(new java.net.URI(&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;));\n    }catch(URISyntaxException e){\n        e.printStackTrace();\n    }\n    externalIdentityProviderConfiguration.setSkipSslValidation(true);\n\n    return externalIdentityProviderConfiguration;\n}\n\nprivate RotatingKeys rotatingKeys() {\n    X509Certificate myCertificate = CertUtil.getCertificateByName(&quot;spring&quot;, &quot;keystore.jks&quot;, &quot;secret&quot;);\n    final RotatingKeys rotatingKeys = new RotatingKeys();\n    SimpleKey activeKey = new SimpleKey();\n    activeKey.setName(&quot;spring&quot;);\n    try {\n        activeKey.setCertificate(getCertificateForKey(myCertificate));\n    } catch (CertificateEncodingException e) {\n        e.printStackTrace();\n    }\n    rotatingKeys.setActive(activeKey);\n    return rotatingKeys;\n}\n\nprivate String getCertificateForKey(X509Certificate myCertificate) throws CertificateEncodingException {\n    return getEncoder().encodeToString(myCertificate.getEncoded());\n}\n}\n</code></pre>\n<p>And this is my WebSecurityConfigurerAdapter configuration:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@Order(2)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(GET, &quot;/home&quot;).permitAll()\n                .antMatchers(GET, &quot;/api/samlLink&quot;).permitAll()\n                .antMatchers(&quot;/**&quot;).authenticated()\n                .and()\n                .formLogin().loginPage(&quot;/home&quot;)\n        ;\n\n        http.csrf().disable();\n        http.headers().cacheControl().disable();\n    }\n}\n</code></pre>\n<p>And to read creti:</p>\n<pre><code>public class CertUtil {\n\n    public static X509Certificate getCertificateByName(String certificateAlias, String trustStoreName, String password) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            loadKeyStore(keyStore, trustStoreName, password);\n            Certificate cert = keyStore.getCertificate(certificateAlias);\n            if (cert.getType().equals(&quot;X.509&quot;)) {\n                return (X509Certificate) cert;\n            }\n            throw new Error(&quot;Could not find a suitable x509 certificate for alias &quot; + certificateAlias + &quot; in &quot; + trustStoreName);\n        } catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException e) {\n            throw new Error(&quot;Error opening keystore: &quot; + e.getCause(), e);\n        }\n    }\n\n    private static void loadKeyStore(KeyStore keyStore, String jksPath, String jksPassword) throws IOException, NoSuchAlgorithmException,\n            CertificateException {\n        char[] password = null;\n        if (jksPassword != null) {\n            password = jksPassword.toCharArray();\n        }\n        keyStore.load(ClassLoader.getSystemResourceAsStream(jksPath), password);\n    }\n}\n</code></pre>\n<p>This is my filter class where I check for the authentication:</p>\n<pre><code>public class SamlAuthenticationFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n        \n        Authentication authentication = (Authentication) req.getUserPrincipal();\n        SamlAuthentication samlAuthentication = (SamlAuthentication) authentication;\n        if (samlAuthentication.isAuthenticated()) {\n            chain.doFilter(request, response);\n            return;\n        } else {\n            \n        }\n         \n    }\n\n}\n</code></pre>\n<p>But I am create jar and include it in my java application but it's not working and I am using this dependencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.extensions&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-saml2-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.M31&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>How can I correct the security so I can secure my application using Java filter and not Spring Boot?</p>\n"},{"tags":["java","animation","selection-sort"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701719161,"post_id":77602043,"comment_id":136808374,"body_markdown":"If you want to animate the results, you have a lot of work ahead of you, for [example](https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352) and [example](https://stackoverflow.com/questions/73029551/separating-swingworker-functions-into-different-classes-java/73030934#73030934)","body":"If you want to animate the results, you have a lot of work ahead of you, for <a href=\"https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352\">example</a> and <a href=\"https://stackoverflow.com/questions/73029551/separating-swingworker-functions-into-different-classes-java/73030934#73030934\">example</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701719380,"post_id":77602043,"comment_id":136808410,"body_markdown":"`pixelBrightness` and `selectionSort` are missing from your example - this is going to make it hard for people to help you figure out the possible cause of your problem, consider providing a [mcve]","body":"<code>pixelBrightness</code> and <code>selectionSort</code> are missing from your example - this is going to make it hard for people to help you figure out the possible cause of your problem, consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":29198924,"reputation":1,"user_id":22369464,"display_name":"parinaz jafarypour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717620,"creation_date":1701717620,"question_id":77602043,"body_markdown":"Hi in this code in java I want to sort the pixels of the image through their brightness in java by using inversed selection sort however there is no update in the result image. how can i make it work?\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Sort {\r\n    private BufferedImage image;\r\n    private int rgb;\r\n    int iterationCount ;\r\n    public Sort(BufferedImage image){\r\n        this.image = image;\r\n        this.iterationCount = 0;\r\n    }\r\n    public void ChainListWithBrightness(BufferedImage image) {\r\n        double[][] points = new double[image.getWidth()][image.getHeight()];\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                rgb = image.getRGB(i, j);\r\n                points[i][j] = pixelBrightness(rgb);\r\n            }\r\n        }\r\n        diagonalListingOfPoints(points);\r\n    }\r\n\r\n    private void diagonalListingOfPoints(double[][] points) {\r\n        ArrayList&lt;Double&gt; diagonalBrightnessValues = new ArrayList&lt;&gt;();\r\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\r\n            int i = Math.min(0, image.getWidth() - 1);\r\n            int j = Math.max(0, m - image.getWidth() + 1);\r\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\r\n                diagonalBrightnessValues.add(points[i][j]);\r\n                i--;\r\n                j++;\r\n            }\r\n        }\r\n        selectionSort(diagonalBrightnessValues);\r\n\r\n        // Apply sorted brightness values back to the image\r\n        int index = 0;\r\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\r\n            int i = Math.min(0, image.getWidth() - 1);\r\n            int j = Math.max(0, m - image.getWidth() + 1);\r\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\r\n                points[i][j] = diagonalBrightnessValues.get(index);\r\n                index++;\r\n                i--;\r\n                j++;\r\n            }\r\n            //iterationCount++;\r\n        }\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                Color oldColor = new Color(image.getRGB(i, j));\r\n                int red = (int) points[i][j];\r\n                int green = (int) points[i][j];\r\n                int blue = (int) points[i][j];\r\n                Color newColor = new Color(red, green, blue);\r\n                image.setRGB(i, j, newColor.getRGB());\r\n            }\r\n        }\r\n        iterationCount++;\r\n    }\r\n\r\npublic static void main(String[] args) throws IOException {\r\n    BufferedImage img = ImageIO.read(new File(&quot;C:\\\\Users\\\\jafar\\\\Documents\\\\semester3\\\\cs102-1\\\\Lab\\\\lab6\\\\skyy.jpg&quot;));\r\n    Sort sort = new Sort(img);\r\n    sort.ChainListWithBrightness(img);\r\n    System.out.println(&quot;Sorting completed with &quot; + sort.iterationCount + &quot; iterations.&quot;);\r\n\r\n    // Display the sorted image\r\n    showImage(sort.image);\r\n}\r\n\r\n    private static void showImage(BufferedImage image) {\r\n        JFrame frame = new JFrame(&quot;Sorted Image&quot;);\r\n        ImageIcon icon = new ImageIcon(image);\r\n        JLabel label = new JLabel(icon);\r\n        frame.add(label);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI was expecting an image which is sorted through its pixel brightness but the result is displaying the original image again to me","title":"animated selection sort on brightness of pixels of an image","body":"<p>Hi in this code in java I want to sort the pixels of the image through their brightness in java by using inversed selection sort however there is no update in the result image. how can i make it work?</p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class Sort {\n    private BufferedImage image;\n    private int rgb;\n    int iterationCount ;\n    public Sort(BufferedImage image){\n        this.image = image;\n        this.iterationCount = 0;\n    }\n    public void ChainListWithBrightness(BufferedImage image) {\n        double[][] points = new double[image.getWidth()][image.getHeight()];\n        for (int i = 0; i &lt; image.getWidth(); i++) {\n            for (int j = 0; j &lt; image.getHeight(); j++) {\n                rgb = image.getRGB(i, j);\n                points[i][j] = pixelBrightness(rgb);\n            }\n        }\n        diagonalListingOfPoints(points);\n    }\n\n    private void diagonalListingOfPoints(double[][] points) {\n        ArrayList&lt;Double&gt; diagonalBrightnessValues = new ArrayList&lt;&gt;();\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\n            int i = Math.min(0, image.getWidth() - 1);\n            int j = Math.max(0, m - image.getWidth() + 1);\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\n                diagonalBrightnessValues.add(points[i][j]);\n                i--;\n                j++;\n            }\n        }\n        selectionSort(diagonalBrightnessValues);\n\n        // Apply sorted brightness values back to the image\n        int index = 0;\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\n            int i = Math.min(0, image.getWidth() - 1);\n            int j = Math.max(0, m - image.getWidth() + 1);\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\n                points[i][j] = diagonalBrightnessValues.get(index);\n                index++;\n                i--;\n                j++;\n            }\n            //iterationCount++;\n        }\n        for (int i = 0; i &lt; image.getWidth(); i++) {\n            for (int j = 0; j &lt; image.getHeight(); j++) {\n                Color oldColor = new Color(image.getRGB(i, j));\n                int red = (int) points[i][j];\n                int green = (int) points[i][j];\n                int blue = (int) points[i][j];\n                Color newColor = new Color(red, green, blue);\n                image.setRGB(i, j, newColor.getRGB());\n            }\n        }\n        iterationCount++;\n    }\n\npublic static void main(String[] args) throws IOException {\n    BufferedImage img = ImageIO.read(new File(&quot;C:\\\\Users\\\\jafar\\\\Documents\\\\semester3\\\\cs102-1\\\\Lab\\\\lab6\\\\skyy.jpg&quot;));\n    Sort sort = new Sort(img);\n    sort.ChainListWithBrightness(img);\n    System.out.println(&quot;Sorting completed with &quot; + sort.iterationCount + &quot; iterations.&quot;);\n\n    // Display the sorted image\n    showImage(sort.image);\n}\n\n    private static void showImage(BufferedImage image) {\n        JFrame frame = new JFrame(&quot;Sorted Image&quot;);\n        ImageIcon icon = new ImageIcon(image);\n        JLabel label = new JLabel(icon);\n        frame.add(label);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>I was expecting an image which is sorted through its pixel brightness but the result is displaying the original image again to me</p>\n"},{"tags":["java","keycloak","saml","saml-2.0","opensaml"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717602,"creation_date":1698139081,"question_id":77350852,"body_markdown":"I am trying to secure my Java web application using Keycloak SAML authentication but somehow when I am trying to generate the AuthnRequest it is not passing `&lt;ds:DigestValue&gt;` and `&lt;ds:SignatureValue&gt;` and may be because of the keycloak is giving below error:\r\n\r\n    2023-10-24 09:08:03,777 ERROR [org.keycloak.protocol.saml.SamlService] (executor-thread-21) request validation failed: org.keycloak.common.VerificationException: SigAlg was null\r\n\r\nTo generate AuthnRequest my code is as below:\r\n\r\n     public AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\r\n    \t\t\t\r\n    \t\t\tIssuerBuilder issuerBuilder = new IssuerBuilder();\r\n    \t\t\tIssuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\r\n    \t\t\tissuer.setValue(spProviderId);\r\n    \r\n    \t\t\t/* Creation of AuthRequestObject */\r\n    \t\t\tDateTime issueInstant = new DateTime();\r\n    \t\t\tAuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\r\n    \r\n    \t\t\tAuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\r\n    \t\t\tauthRequest.setForceAuthn(false);\r\n    \t\t\tauthRequest.setIssueInstant(issueInstant);\r\n    \t\t\tauthRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\r\n    \t\t\tauthRequest.setAssertionConsumerServiceURL(acsUrl);\r\n    \t\t\tauthRequest.setIssuer(issuer);\r\n    \t\t\tauthRequest.setID(generateID());\r\n    \t\t\tauthRequest.setVersion(SAMLVersion.VERSION_20);\r\n    \t\t\tauthRequest.setDestination(idpUrl);\r\n    \t\t\tauthRequest.setNameIDPolicy(buildNameIdPolicy());\r\n    \t\t\t\r\n    \t\t\tXMLObjectBuilder&lt;Signature&gt; signFactory = Configuration.getBuilderFactory().getBuilder(Signature.DEFAULT_ELEMENT_NAME);\r\n    \t\t    Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\r\n    \t\t    Credential cred = null;\r\n    \t\t            try {\r\n    \t\t            \tcred = this.getSenderSigningCredential();\r\n    \t\t            \t//signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256);\r\n    \t\t            \t//  signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n    \t\t            \t  \r\n    \t\t\t\t\t\tsignature.setSigningCredential(cred);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t            \r\n    \t\t            // Perform signing\r\n    \t\t            try {\r\n    \t\t            \t  SecurityHelper.prepareSignatureParams(signature, cred, null, null);\r\n    \t\t            \t  SecurityConfiguration secConfiguration = Configuration.getGlobalSecurityConfiguration(); \r\n    \t\t                  NamedKeyInfoGeneratorManager namedKeyInfoGeneratorManager = secConfiguration.getKeyInfoGeneratorManager(); \r\n    \t\t                  KeyInfoGeneratorManager keyInfoGeneratorManager = namedKeyInfoGeneratorManager.getDefaultManager();\r\n    \t\t                  KeyInfoGeneratorFactory keyInfoGeneratorFactory = keyInfoGeneratorManager.getFactory(cred);\r\n    \t\t                  KeyInfoGenerator keyInfoGenerator = keyInfoGeneratorFactory.newInstance();\r\n    \t\t                  KeyInfo keyInfo = null;\r\n    \t\t                  try {\r\n    \t\t                      keyInfo = keyInfoGenerator.generate(cred);\r\n    \t\t                  } catch  (Exception e) {\r\n    \t\t                      e.printStackTrace();\r\n    \t\t                  } \r\n    \t\t                  signature.setKeyInfo(keyInfo);\r\n    \t\t                  authRequest.setSignature(signature);\r\n    \t\t            \t  \r\n    \t\t            \t  \r\n    \t\t            \t  \r\n    \t\t            \t  Marshaller marshaller = Configuration.getMarshallerFactory().getMarshaller(authRequest);\r\n    \t\t            \t  marshaller.marshall(authRequest);\r\n    \t\t              \r\n    \t\t            \t  \r\n    \t\t\t\t\t\tSigner.signObject(signature);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\treturn authRequest;\r\n    \t\t}\r\n\r\nBut when I am printing it XML it is showing as below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;saml2p:AuthnRequest \r\n    xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; AssertionConsumerServiceURL=&quot;http://localhost:9222/saml/*&quot; Destination=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot; ForceAuthn=&quot;false&quot; ID=&quot;_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; IssueInstant=&quot;2023-10-23T16:26:45.682Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Version=&quot;2.0&quot;&gt;&lt;saml2p:Issuer xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;Sample&lt;/saml2p:Issuer&gt;&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:Reference URI=&quot;#_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:Transforms xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;/ds:Transforms&gt;\r\n    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:DigestValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;/ds:Reference&gt;\r\n    &lt;/ds:SignedInfo&gt;\r\n    &lt;ds:SignatureValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmzCCAYMCBgGK23vMZzANBgkqhkiG9w0BAQsFADARMQ8wDQYDVQQDDAZTYW1wbGUwHhcNMjMw\r\n    OTI4MTEwODU4WhcNMzMwOTI4MTExMDM4WjARMQ8wDQYDVQQDDAZTYW1wbGUwggEiMA0GCSqGSIb3\r\n    DQEBAQUAA4IBDwAwggEKAoIBAQCrxYgVkHoGaC1PAvffPNJYIVbZqfaoRInDI74CqRHoLCm\r\n    aaTfhzwfXrrOU/ys72Ult4Ff3wC8iQjONtNJTv0XTHw1vpnuOXzqMZ62N7IAE+N2J0UpK8+3yE1q\r\n    Xlss07qiHl6Bege+epk+Ae/iqiqyg1vre/8JUe61cbpWSlsQFb+O0/wrl9o576ak3BPo3zWgy\r\n    W/APTfI0jkNoJpflrMK2ahk51lIzjxwLyYAnsOKw5VGnAYxDL3nDXcuY3aERB9rZec7YVA/hzWcg\r\n    OUeWEhnmd3xCmw2kZ1MHcIs8dpFHJdhH6TgZljHhC7B/KhC1yRwMWCyFAgMBAAEwDQYJ\r\n    KoZIhvcNAQELBQADggEBAKsqbTj9F0tUyKNDAUPwXh8dFfR0ztKNjUXxMHzf5ufU\r\n    Cj7cDK3p3PSN/a4KlIj18A86BZ4ABU8oUJja0XG2Jt5MgoaifktC+ymYN73q6kLx4IklG5y3U5RS\r\n    3W7jKXd9lf/kE+n4tUjzETfISpUdx/80asWU5WLlcoYUk0jK8u3u10kYMkGVcpxchy32KUxEQ6i8\r\n    6ODZZ0qlKCwAuELPdDrK+SwVvJL3gBbCoxcNNJWKWj5VAGwdqzorrE2uHuhzSmDYMQYRkCGedexV\r\n    Rrkp8byYxR3cpnh4OZr32E9XcvhLyQUJqsMuYHouRa99wYIW3Dr/CUW0K10=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;saml2p:NameIDPolicy AllowCreate=&quot;true&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot; xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;/&gt;&lt;/saml2p:AuthnRequest&gt;\r\n\r\nHow can I set those two values, or why keycloak is giving that error?\r\n","title":"How to generate &lt;ds:DigestValue&gt; and &lt;ds:SignatureValue&gt; using java SAML2.0","body":"<p>I am trying to secure my Java web application using Keycloak SAML authentication but somehow when I am trying to generate the AuthnRequest it is not passing <code>&lt;ds:DigestValue&gt;</code> and <code>&lt;ds:SignatureValue&gt;</code> and may be because of the keycloak is giving below error:</p>\n<pre><code>2023-10-24 09:08:03,777 ERROR [org.keycloak.protocol.saml.SamlService] (executor-thread-21) request validation failed: org.keycloak.common.VerificationException: SigAlg was null\n</code></pre>\n<p>To generate AuthnRequest my code is as below:</p>\n<pre><code> public AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\n            \n            IssuerBuilder issuerBuilder = new IssuerBuilder();\n            Issuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\n            issuer.setValue(spProviderId);\n\n            /* Creation of AuthRequestObject */\n            DateTime issueInstant = new DateTime();\n            AuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\n\n            AuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\n            authRequest.setForceAuthn(false);\n            authRequest.setIssueInstant(issueInstant);\n            authRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\n            authRequest.setAssertionConsumerServiceURL(acsUrl);\n            authRequest.setIssuer(issuer);\n            authRequest.setID(generateID());\n            authRequest.setVersion(SAMLVersion.VERSION_20);\n            authRequest.setDestination(idpUrl);\n            authRequest.setNameIDPolicy(buildNameIdPolicy());\n            \n            XMLObjectBuilder&lt;Signature&gt; signFactory = Configuration.getBuilderFactory().getBuilder(Signature.DEFAULT_ELEMENT_NAME);\n            Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\n            Credential cred = null;\n                    try {\n                        cred = this.getSenderSigningCredential();\n                        //signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256);\n                        //  signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\n                          \n                        signature.setSigningCredential(cred);\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    \n                    // Perform signing\n                    try {\n                          SecurityHelper.prepareSignatureParams(signature, cred, null, null);\n                          SecurityConfiguration secConfiguration = Configuration.getGlobalSecurityConfiguration(); \n                          NamedKeyInfoGeneratorManager namedKeyInfoGeneratorManager = secConfiguration.getKeyInfoGeneratorManager(); \n                          KeyInfoGeneratorManager keyInfoGeneratorManager = namedKeyInfoGeneratorManager.getDefaultManager();\n                          KeyInfoGeneratorFactory keyInfoGeneratorFactory = keyInfoGeneratorManager.getFactory(cred);\n                          KeyInfoGenerator keyInfoGenerator = keyInfoGeneratorFactory.newInstance();\n                          KeyInfo keyInfo = null;\n                          try {\n                              keyInfo = keyInfoGenerator.generate(cred);\n                          } catch  (Exception e) {\n                              e.printStackTrace();\n                          } \n                          signature.setKeyInfo(keyInfo);\n                          authRequest.setSignature(signature);\n                          \n                          \n                          \n                          Marshaller marshaller = Configuration.getMarshallerFactory().getMarshaller(authRequest);\n                          marshaller.marshall(authRequest);\n                      \n                          \n                        Signer.signObject(signature);\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n            return authRequest;\n        }\n</code></pre>\n<p>But when I am printing it XML it is showing as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;saml2p:AuthnRequest \nxmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; AssertionConsumerServiceURL=&quot;http://localhost:9222/saml/*&quot; Destination=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot; ForceAuthn=&quot;false&quot; ID=&quot;_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; IssueInstant=&quot;2023-10-23T16:26:45.682Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Version=&quot;2.0&quot;&gt;&lt;saml2p:Issuer xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;Sample&lt;/saml2p:Issuer&gt;&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:Reference URI=&quot;#_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:Transforms xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;/ds:Transforms&gt;\n&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:DigestValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;/ds:Reference&gt;\n&lt;/ds:SignedInfo&gt;\n&lt;ds:SignatureValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmzCCAYMCBgGK23vMZzANBgkqhkiG9w0BAQsFADARMQ8wDQYDVQQDDAZTYW1wbGUwHhcNMjMw\nOTI4MTEwODU4WhcNMzMwOTI4MTExMDM4WjARMQ8wDQYDVQQDDAZTYW1wbGUwggEiMA0GCSqGSIb3\nDQEBAQUAA4IBDwAwggEKAoIBAQCrxYgVkHoGaC1PAvffPNJYIVbZqfaoRInDI74CqRHoLCm\naaTfhzwfXrrOU/ys72Ult4Ff3wC8iQjONtNJTv0XTHw1vpnuOXzqMZ62N7IAE+N2J0UpK8+3yE1q\nXlss07qiHl6Bege+epk+Ae/iqiqyg1vre/8JUe61cbpWSlsQFb+O0/wrl9o576ak3BPo3zWgy\nW/APTfI0jkNoJpflrMK2ahk51lIzjxwLyYAnsOKw5VGnAYxDL3nDXcuY3aERB9rZec7YVA/hzWcg\nOUeWEhnmd3xCmw2kZ1MHcIs8dpFHJdhH6TgZljHhC7B/KhC1yRwMWCyFAgMBAAEwDQYJ\nKoZIhvcNAQELBQADggEBAKsqbTj9F0tUyKNDAUPwXh8dFfR0ztKNjUXxMHzf5ufU\nCj7cDK3p3PSN/a4KlIj18A86BZ4ABU8oUJja0XG2Jt5MgoaifktC+ymYN73q6kLx4IklG5y3U5RS\n3W7jKXd9lf/kE+n4tUjzETfISpUdx/80asWU5WLlcoYUk0jK8u3u10kYMkGVcpxchy32KUxEQ6i8\n6ODZZ0qlKCwAuELPdDrK+SwVvJL3gBbCoxcNNJWKWj5VAGwdqzorrE2uHuhzSmDYMQYRkCGedexV\nRrkp8byYxR3cpnh4OZr32E9XcvhLyQUJqsMuYHouRa99wYIW3Dr/CUW0K10=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;saml2p:NameIDPolicy AllowCreate=&quot;true&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot; xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;/&gt;&lt;/saml2p:AuthnRequest&gt;\n</code></pre>\n<p>How can I set those two values, or why keycloak is giving that error?</p>\n"},{"tags":["java","spring-boot","spring-security","jira","jira-plugin"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701104265,"post_id":77558157,"comment_id":136730920,"body_markdown":"your exception says that you have not configured your database..... please read your exceptions before asking here.... remove your postgres dependency","body":"your exception says that you have not configured your database..... please read your exceptions before asking here.... remove your postgres dependency"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717548,"creation_date":1701099558,"question_id":77558157,"body_markdown":"I have two Spring Boot application one is normal application which include another application as dependency. And in 2nd application I have written Jira security which needs to be added on 1st application.\r\n\r\nBoth separately working fine but the when I am adding 2nd app in 1st app it is showing below error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.atlassian.connect.spring.internal.request.oauth2.OAuth2JwtClientRegistrationRepository required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \t- @org.springframework.beans.factory.annotation.Qualifier(&quot;oauth2-jwt-impersonation&quot;)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\nIn my security application I have following classes:\r\n\r\n    @Component\r\n    public class JiraUtility {\r\n        public AtlassianHostRestClients getAtlassianHostRestClients() {\r\n            return (AtlassianHostRestClients) GetBean.context.getBean(&quot;atlassianHostRestClientsImpl&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nTo get created bean we use application context aware:\r\n\r\n    @Component\r\n    public class GetBean implements ApplicationContextAware {\r\n        public static ApplicationContext context;\r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            context = applicationContext;\r\n        }\r\n    }\r\n\r\nAnd oauth 2 implementation is as below: \r\n\r\n    @Component(&quot;oAuth2ClientRequestFilter&quot;)\r\n    public class OAuth2ClientRequestFilter implements ClientRequestFilter {\r\n    \r\n        @Autowired\r\n        private AtlassianHostRestClients atlassianHostRestClients;\r\n    \r\n        @Autowired\r\n        private AtlassianHostRepository hostRepository;\r\n    \r\n        private String userAccountId;\r\n    \r\n        @Override\r\n        public void filter(ClientRequestContext requestContext) {\r\n            AtlassianHostUser hostUser = AtlassianHostUser.builder(getHost(requestContext))\r\n                    .withUserAccountId(userAccountId)\r\n                    .build();\r\n            String token = atlassianHostRestClients.getAccessToken(hostUser).getTokenValue();\r\n            requestContext.getHeaders().add(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, token));\r\n        }\r\n    \r\n        public String getUserAccountId() {\r\n            return userAccountId;\r\n        }\r\n    \r\n        public void setUserAccountId(String userAccountId) {\r\n            this.userAccountId = userAccountId;\r\n        }\r\n    \r\n        private AtlassianHost getHost(ClientRequestContext requestContext) {\r\n            URI requestUri = requestContext.getUri();\r\n            String baseUrl = String.format(&quot;%s://%s&quot;, requestUri.getScheme(), requestUri.getHost());\r\n            return hostRepository.findFirstByBaseUrlOrderByLastModifiedDateDesc(baseUrl).get();\r\n        }\r\n    }\r\n\r\nAnd in pom.xml I have added below dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;atlassian-connect-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;atlassian-connect-spring-boot-jpa-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.2.25&lt;/version&gt;\r\n            &lt;/dependency&gt; \r\n    &lt;/dependencies&gt;\r\n\r\nAnd in Main application I have just Spring boot starter class :\r\n\r\n \r\n\r\n    @SpringBootApplication(exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class, FreeMarkerAutoConfiguration.class})\r\n    @ComponentScan(basePackages = {&quot;com&quot;})\r\n    @EnableAutoConfiguration(exclude = {LiquibaseAutoConfiguration.class})\r\n    @ServletComponentScan(basePackages = &quot;com&quot;)\r\n    public class AivApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n            new SpringApplication(AivApplication.class).run(args);\r\n        }\r\n    }\r\n\r\n\r\nHow can I do it using adding security application as dependency in Spring Boot application? \r\n","title":"Spring Boot application for Atlassian security is not starting","body":"<p>I have two Spring Boot application one is normal application which include another application as dependency. And in 2nd application I have written Jira security which needs to be added on 1st application.</p>\n<p>Both separately working fine but the when I am adding 2nd app in 1st app it is showing below error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.atlassian.connect.spring.internal.request.oauth2.OAuth2JwtClientRegistrationRepository required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n    - @org.springframework.beans.factory.annotation.Qualifier(&quot;oauth2-jwt-impersonation&quot;)\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n</code></pre>\n<p>In my security application I have following classes:</p>\n<pre><code>@Component\npublic class JiraUtility {\n    public AtlassianHostRestClients getAtlassianHostRestClients() {\n        return (AtlassianHostRestClients) GetBean.context.getBean(&quot;atlassianHostRestClientsImpl&quot;);\n    }\n\n}\n</code></pre>\n<p>To get created bean we use application context aware:</p>\n<pre><code>@Component\npublic class GetBean implements ApplicationContextAware {\n    public static ApplicationContext context;\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext;\n    }\n}\n</code></pre>\n<p>And oauth 2 implementation is as below:</p>\n<pre><code>@Component(&quot;oAuth2ClientRequestFilter&quot;)\npublic class OAuth2ClientRequestFilter implements ClientRequestFilter {\n\n    @Autowired\n    private AtlassianHostRestClients atlassianHostRestClients;\n\n    @Autowired\n    private AtlassianHostRepository hostRepository;\n\n    private String userAccountId;\n\n    @Override\n    public void filter(ClientRequestContext requestContext) {\n        AtlassianHostUser hostUser = AtlassianHostUser.builder(getHost(requestContext))\n                .withUserAccountId(userAccountId)\n                .build();\n        String token = atlassianHostRestClients.getAccessToken(hostUser).getTokenValue();\n        requestContext.getHeaders().add(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, token));\n    }\n\n    public String getUserAccountId() {\n        return userAccountId;\n    }\n\n    public void setUserAccountId(String userAccountId) {\n        this.userAccountId = userAccountId;\n    }\n\n    private AtlassianHost getHost(ClientRequestContext requestContext) {\n        URI requestUri = requestContext.getUri();\n        String baseUrl = String.format(&quot;%s://%s&quot;, requestUri.getScheme(), requestUri.getHost());\n        return hostRepository.findFirstByBaseUrlOrderByLastModifiedDateDesc(baseUrl).get();\n    }\n}\n</code></pre>\n<p>And in pom.xml I have added below dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\n            &lt;artifactId&gt;atlassian-connect-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\n            &lt;artifactId&gt;atlassian-connect-spring-boot-jpa-starter&lt;/artifactId&gt;\n            &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.25&lt;/version&gt;\n        &lt;/dependency&gt; \n&lt;/dependencies&gt;\n</code></pre>\n<p>And in Main application I have just Spring boot starter class :</p>\n<pre><code>@SpringBootApplication(exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class, FreeMarkerAutoConfiguration.class})\n@ComponentScan(basePackages = {&quot;com&quot;})\n@EnableAutoConfiguration(exclude = {LiquibaseAutoConfiguration.class})\n@ServletComponentScan(basePackages = &quot;com&quot;)\npublic class AivApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\n\n public static void main(String[] args) throws Exception {\n        new SpringApplication(AivApplication.class).run(args);\n    }\n}\n</code></pre>\n<p>How can I do it using adding security application as dependency in Spring Boot application?</p>\n"},{"tags":["java","keycloak","saml","saml-2.0"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717499,"creation_date":1698051839,"question_id":77343929,"body_markdown":"I am trying to secure my web application using Keycloak saml but while adding Signature it is not working and giving below error:\r\n\r\n    exception [org.opensaml.ws.message.encoder.MessageEncodingException: Encountered error \r\n    marshalling message into its DOM representation] with root cause\r\n    \torg.apache.xml.security.signature.XMLSignatureException: The requested algorithm null does not exist. Original Message was: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\r\n    Original Exception was java.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\r\n    \t\tat org.apache.xml.security.algorithms.SignatureAlgorithm.&lt;init&gt;(Unknown Source)\r\n    \t\tat org.apache.xml.security.signature.SignedInfo.&lt;init&gt;(Unknown Source)\r\n    \t\tat org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\r\n    \t\tat org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\r\n\r\nAnd my code creating AuthnRequest is as below:\r\n\r\n    protected String generateID() {\r\n    \t        Random r = new Random();\r\n    \t        return &#39;a&#39; + Long.toString(Math.abs(r.nextLong()), 20) + Long.toString(Math.abs(r.nextLong()), 20);\r\n    \t    }\r\n    \t\tpublic AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\r\n    \t\t\t/* Building Issuer object */\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tIssuerBuilder issuerBuilder = new IssuerBuilder();\r\n    \t\t\tIssuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\r\n    \t\t\tissuer.setValue(spProviderId);\r\n    \r\n    \t\t\t/* Creation of AuthRequestObject */\r\n    \t\t\tDateTime issueInstant = new DateTime();\r\n    \t\t\tAuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\r\n    \r\n    \t\t\tAuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\r\n    \t\t\tauthRequest.setForceAuthn(false);\r\n    \t\t\tauthRequest.setIssueInstant(issueInstant);\r\n    \t\t\tauthRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\r\n    \t\t\tauthRequest.setAssertionConsumerServiceURL(acsUrl);\r\n    \t\t\tauthRequest.setIssuer(issuer);\r\n    \t\t\tauthRequest.setID(generateID());\r\n    \t\t\t// XXX: How do I get nameIdPolicy?\r\n    //\t\t\tauthRequest.setNameIDPolicy(nameIdPolicy);\r\n    \t\t\tauthRequest.setVersion(SAMLVersion.VERSION_20);\r\n    \t\t\tauthRequest.setDestination(idpUrl);\r\n    \t\t\t\r\n    \t\t\tSignatureBuilder signFactory = new SignatureBuilder();\r\n    \t\t    Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\r\n    \t\t            try {\r\n    \t\t\t\t\t\tsignature.setSigningCredential(this.getSenderSigningCredential());\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t// set signature\r\n    \t\t            authRequest.setSignature(signature);\r\n    \t\t\t\r\n    \r\n    \t\t\treturn authRequest;\r\n    \t\t}\r\nAnd while encoding and generating redirect url I am getting error and it&#39;s code is as below:\r\n\r\n    private static class MessageEncoder extends HTTPRedirectDeflateEncoder {\r\n    \t\tpublic String encode(SAMLObject message, String endpointURL, String relayState) throws MessageEncodingException {\r\n    \t\t\tString encodedMessage = deflateAndBase64Encode(message);\r\n    \t\t\treturn buildRedirectURL(endpointURL, relayState, encodedMessage);\r\n    \t\t}\r\n    \r\n    \t\tpublic String buildRedirectURL(String endpointURL, String relayState, String message) throws MessageEncodingException {\r\n    \t\t\tURLBuilder urlBuilder = new URLBuilder(endpointURL);\r\n    \t\t\tList&lt;Pair&lt;String, String&gt;&gt; queryParams = urlBuilder.getQueryParams();\r\n    \t\t\tqueryParams.clear();\r\n    \t\t\tqueryParams.add(new Pair&lt;String, String&gt;(&quot;SAMLRequest&quot;, message));\r\n    \t\t\tif (checkRelayState(relayState)) {\r\n    \t\t\t\tqueryParams.add(new Pair&lt;String, String&gt;(&quot;RelayState&quot;, relayState));\r\n    \t\t\t}\r\n    \t\t\treturn urlBuilder.buildURL();\r\n    \t\t}\r\n    \t}\r\n\r\nI am getting credential from &quot;jks&quot; file. What mistake am I making, or what configuration is missing?\r\n","title":"Keycloak Saml adding Signature algorithm not working","body":"<p>I am trying to secure my web application using Keycloak saml but while adding Signature it is not working and giving below error:</p>\n<pre><code>exception [org.opensaml.ws.message.encoder.MessageEncodingException: Encountered error \nmarshalling message into its DOM representation] with root cause\n    org.apache.xml.security.signature.XMLSignatureException: The requested algorithm null does not exist. Original Message was: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\nOriginal Exception was java.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\n        at org.apache.xml.security.algorithms.SignatureAlgorithm.&lt;init&gt;(Unknown Source)\n        at org.apache.xml.security.signature.SignedInfo.&lt;init&gt;(Unknown Source)\n        at org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\n        at org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>And my code creating AuthnRequest is as below:</p>\n<pre><code>protected String generateID() {\n            Random r = new Random();\n            return 'a' + Long.toString(Math.abs(r.nextLong()), 20) + Long.toString(Math.abs(r.nextLong()), 20);\n        }\n        public AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\n            /* Building Issuer object */\n            \n            \n            IssuerBuilder issuerBuilder = new IssuerBuilder();\n            Issuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\n            issuer.setValue(spProviderId);\n\n            /* Creation of AuthRequestObject */\n            DateTime issueInstant = new DateTime();\n            AuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\n\n            AuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\n            authRequest.setForceAuthn(false);\n            authRequest.setIssueInstant(issueInstant);\n            authRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\n            authRequest.setAssertionConsumerServiceURL(acsUrl);\n            authRequest.setIssuer(issuer);\n            authRequest.setID(generateID());\n            // XXX: How do I get nameIdPolicy?\n//          authRequest.setNameIDPolicy(nameIdPolicy);\n            authRequest.setVersion(SAMLVersion.VERSION_20);\n            authRequest.setDestination(idpUrl);\n            \n            SignatureBuilder signFactory = new SignatureBuilder();\n            Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\n                    try {\n                        signature.setSigningCredential(this.getSenderSigningCredential());\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n        // set signature\n                    authRequest.setSignature(signature);\n            \n\n            return authRequest;\n        }\n</code></pre>\n<p>And while encoding and generating redirect url I am getting error and it's code is as below:</p>\n<pre><code>private static class MessageEncoder extends HTTPRedirectDeflateEncoder {\n        public String encode(SAMLObject message, String endpointURL, String relayState) throws MessageEncodingException {\n            String encodedMessage = deflateAndBase64Encode(message);\n            return buildRedirectURL(endpointURL, relayState, encodedMessage);\n        }\n\n        public String buildRedirectURL(String endpointURL, String relayState, String message) throws MessageEncodingException {\n            URLBuilder urlBuilder = new URLBuilder(endpointURL);\n            List&lt;Pair&lt;String, String&gt;&gt; queryParams = urlBuilder.getQueryParams();\n            queryParams.clear();\n            queryParams.add(new Pair&lt;String, String&gt;(&quot;SAMLRequest&quot;, message));\n            if (checkRelayState(relayState)) {\n                queryParams.add(new Pair&lt;String, String&gt;(&quot;RelayState&quot;, relayState));\n            }\n            return urlBuilder.buildURL();\n        }\n    }\n</code></pre>\n<p>I am getting credential from &quot;jks&quot; file. What mistake am I making, or what configuration is missing?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9844,"page":15,"page_size":100}
