{"items":[{"tags":["java","websphere","reverse-proxy"],"comments":[{"owner":{"account_id":2039154,"reputation":702,"user_id":1820778,"display_name":"Pedro"},"score":0,"creation_date":1635407338,"post_id":33603543,"comment_id":123290786,"body_markdown":"AFAIK, the parameters you mention:  -Dhttps.proxyHost and -Dhttps.proxyPort are used to stablish the &quot;forward&quot; proxy of your organisation and have nothing to do with the reverse proxy configured in Apache","body":"AFAIK, the parameters you mention:  -Dhttps.proxyHost and -Dhttps.proxyPort are used to stablish the &quot;forward&quot; proxy of your organisation and have nothing to do with the reverse proxy configured in Apache"}],"answers":[{"tags":[],"owner":{"account_id":328125,"reputation":59,"user_id":4954071,"display_name":"Jagan Sivanesan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447132643,"creation_date":1447132643,"answer_id":33623365,"question_id":33603543,"body_markdown":"\n\nI assume that you are using like below\n\nresponse.sendRedirect(request.getContextPath() +\n        &quot;/my/main.jsp&quot;);\n\nHere - request.getContextPath gives the proxied server info.\n\n\nAs a quick fix I resolved it using the proxy server values from properties files.\n\n\n response.sendRedirect(&quot;get proxy server name from prop file&quot; +\n        &quot;/my/main.jsp&quot;);","title":"Websphere not directing request to proxy server on response.sendRedirect","body":"<p>I assume that you are using like below</p>\n\n<p>response.sendRedirect(request.getContextPath() +\n        \"/my/main.jsp\");</p>\n\n<p>Here - request.getContextPath gives the proxied server info.</p>\n\n<p>As a quick fix I resolved it using the proxy server values from properties files.</p>\n\n<p>response.sendRedirect(\"get proxy server name from prop file\" +\n        \"/my/main.jsp\");</p>\n"},{"tags":[],"owner":{"account_id":4265760,"reputation":395,"user_id":3488929,"display_name":"Darshan Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1447418961,"creation_date":1447418961,"answer_id":33693133,"question_id":33603543,"body_markdown":"Solved this problem by following below steps.\r\n\r\n1. Add following in Apache web server&#39;s virtual host tag . What you actually need is to forward along the protocol that was used to access the server. \r\n\r\n \r\n\r\n    VirtualHost *:443&gt;\r\n    RequestHeader set X-Forwarded-Proto &quot;https&quot; \r\n     ….\r\n    /VirtualHost&gt;\r\n\r\nFor more explanation refer site \r\nhttps://www.nczonline.net/blog/2012/08/08/setting-up-apache-as-a-ssl-front-end-for-play/\r\n\r\n2. Following properties needs be added in Websphere webcontainer properties through admin console.\r\nGo to Application servers &gt; server1 &gt; Web container &gt; Custom properties\r\nAdd Following properties\r\n\r\nhttpsIndicatorHeader - \r\nX-Forwarded-Proto \t(Request header value set in web server (in our case it is https) )\r\n\r\ncom.ibm.ws.webcontainer.extractHostHeaderPort - \r\ntrue  \t(To obey request port no)\r\n\r\ntrusthostheaderport -\r\ntrue  \t(To obey request port no)\r\n\r\nRefered the below site for this settings \r\n\r\nhttp://www-01.ibm.com/support/docview.wss?uid=swg21569667\r\n\r\nhttp://129.33.205.81/support/knowledgecenter/SSEQTP_8.5.5/com.ibm.websphere.base.iseries.doc/ae/rweb_custom_props.html\r\n","title":"Websphere not directing request to proxy server on response.sendRedirect","body":"<p>Solved this problem by following below steps.</p>\n\n<ol>\n<li><p>Add following in Apache web server's virtual host tag . What you actually need is to forward along the protocol that was used to access the server. </p>\n\n<p>VirtualHost *:443>\nRequestHeader set X-Forwarded-Proto \"https\" \n ….\n/VirtualHost></p></li>\n</ol>\n\n<p>For more explanation refer site \n<a href=\"https://www.nczonline.net/blog/2012/08/08/setting-up-apache-as-a-ssl-front-end-for-play/\" rel=\"nofollow\">https://www.nczonline.net/blog/2012/08/08/setting-up-apache-as-a-ssl-front-end-for-play/</a></p>\n\n<ol start=\"2\">\n<li>Following properties needs be added in Websphere webcontainer properties through admin console.\nGo to Application servers > server1 > Web container > Custom properties\nAdd Following properties</li>\n</ol>\n\n<p>httpsIndicatorHeader - \nX-Forwarded-Proto   (Request header value set in web server (in our case it is https) )</p>\n\n<p>com.ibm.ws.webcontainer.extractHostHeaderPort - \ntrue    (To obey request port no)</p>\n\n<p>trusthostheaderport -\ntrue    (To obey request port no)</p>\n\n<p>Refered the below site for this settings </p>\n\n<p><a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21569667\" rel=\"nofollow\">http://www-01.ibm.com/support/docview.wss?uid=swg21569667</a></p>\n\n<p><a href=\"http://129.33.205.81/support/knowledgecenter/SSEQTP_8.5.5/com.ibm.websphere.base.iseries.doc/ae/rweb_custom_props.html\" rel=\"nofollow\">http://129.33.205.81/support/knowledgecenter/SSEQTP_8.5.5/com.ibm.websphere.base.iseries.doc/ae/rweb_custom_props.html</a></p>\n"},{"tags":[],"owner":{"account_id":2039154,"reputation":702,"user_id":1820778,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635408313,"creation_date":1635407735,"answer_id":69750231,"question_id":33603543,"body_markdown":"In our case (Websphere Liberty 21.0.0.9), we simply added a couple of directives in the corresponding Apache virtual host configuration:        \r\n\r\n - RequestHeader set X-Forwarded-Proto &quot;https&quot;\r\n - ProxyPreserveHost On`\r\n\r\nThese directives are valid only from Apache 2.3.3 on\r\n\r\nBoth are mentioned in the [article mentioned below by @Darshan Shah][1]\r\n\r\n\r\n  [1]: http://129.33.205.81/support/knowledgecenter/SSEQTP_8.5.5/com.ibm.websphere.base.iseries.doc/ae/rweb_custom_props.html","title":"Websphere not directing request to proxy server on response.sendRedirect","body":"<p>In our case (Websphere Liberty 21.0.0.9), we simply added a couple of directives in the corresponding Apache virtual host configuration:</p>\n<ul>\n<li>RequestHeader set X-Forwarded-Proto &quot;https&quot;</li>\n<li>ProxyPreserveHost On`</li>\n</ul>\n<p>These directives are valid only from Apache 2.3.3 on</p>\n<p>Both are mentioned in the <a href=\"http://129.33.205.81/support/knowledgecenter/SSEQTP_8.5.5/com.ibm.websphere.base.iseries.doc/ae/rweb_custom_props.html\" rel=\"nofollow noreferrer\">article mentioned below by @Darshan Shah</a></p>\n"}],"owner":{"account_id":4265760,"reputation":395,"user_id":3488929,"display_name":"Darshan Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2662,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33693133,"answer_count":3,"score":2,"last_activity_date":1635408313,"creation_date":1447050413,"question_id":33603543,"body_markdown":"I have secured apache reverse proxy configured in front of my websphere 8 application server. I have set generic JVM arguments -Dhttps.proxyHost and -Dhttps.proxyPort but the requests on response.sendRedirect are not directed to peoxy server. It is directed to defualt port 9080. \r\nHow to solve this issue ?\r\nI have solved this issue on Tomcat &amp; Jboss by modifying my connector port as follows \r\n\r\nconnector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; socket-binding=&quot;http&quot; scheme=&quot;https&quot;  proxy-name=&quot; 192.168.1.1 &quot; proxy-port=&quot;443&quot; secure=&quot;true&quot;\r\n\r\nHow do I solve this for Websphere ?\r\n","title":"Websphere not directing request to proxy server on response.sendRedirect","body":"<p>I have secured apache reverse proxy configured in front of my websphere 8 application server. I have set generic JVM arguments -Dhttps.proxyHost and -Dhttps.proxyPort but the requests on response.sendRedirect are not directed to peoxy server. It is directed to defualt port 9080. \nHow to solve this issue ?\nI have solved this issue on Tomcat &amp; Jboss by modifying my connector port as follows </p>\n\n<p>connector name=\"http\" protocol=\"HTTP/1.1\" socket-binding=\"http\" scheme=\"https\"  proxy-name=\" 192.168.1.1 \" proxy-port=\"443\" secure=\"true\"</p>\n\n<p>How do I solve this for Websphere ?</p>\n"},{"tags":["java","api","exception","error-handling","try-catch"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635384222,"creation_date":1635384222,"answer_id":69747223,"question_id":69747085,"body_markdown":"I&#39;m assuming the error that you want to catch and pass on is an `AException` - otherwise what you&#39;re asking for would violate the contract of the method.  You could achieve what you&#39;re wanting with an extra `catch` clause like this.\r\n\r\n    try {\r\n        // whatever\r\n    }\r\n    catch (AException ae) {\r\n        throw ae;\r\n    }\r\n    catch (Exception e){\r\n      logger().error(e);\r\n      throw new AException(e);\r\n    }\r\n    finally {\r\n         // whatever\r\n    }\r\n\r\nThat way, only exceptions that are not already of type `AException` will get wrapped in new `AException` objects.\r\n","title":"Java Try Catch Exception","body":"<p>I'm assuming the error that you want to catch and pass on is an <code>AException</code> - otherwise what you're asking for would violate the contract of the method.  You could achieve what you're wanting with an extra <code>catch</code> clause like this.</p>\n<pre><code>try {\n    // whatever\n}\ncatch (AException ae) {\n    throw ae;\n}\ncatch (Exception e){\n  logger().error(e);\n  throw new AException(e);\n}\nfinally {\n     // whatever\n}\n</code></pre>\n<p>That way, only exceptions that are not already of type <code>AException</code> will get wrapped in new <code>AException</code> objects.</p>\n"},{"tags":[],"owner":{"account_id":14091951,"reputation":93,"user_id":10179986,"display_name":"dcdum2018"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635408264,"creation_date":1635408264,"answer_id":69750359,"question_id":69747085,"body_markdown":"the first commenter is correct. i was able to do it by creating a new first catch:\r\n\r\n```\r\npublic Sample Method (Input input) throws AException\r\n{\r\n   con = getSQLConnection();\r\n\r\n   try{\r\n      //do something\r\n      if(x==null){\r\n         AException ae = new AException(A9ErrorMessages.A9_ERROR_FROM_TABLE, new String [] { &quot;ColName&quot;, &quot;TableName&quot;});\r\n         logger().error(ae);\r\n         throw ae;\r\n      }\r\n   }\r\n   catch (AException ae){\r\n      logger().error(ae);\r\n      throw ae;\r\n   }\r\n   catch (Exception e){\r\n      logger().error(e);\r\n      throw new AException(e);\r\n   }\r\n   finally{\r\n      if(con!=null){\r\n         try{\r\n            con.close();\r\n         }\r\n         catch(Exception e){\r\n            logger().error(e);\r\n            throw new AException(e);  \r\n         }\r\n      }\r\n   }\r\n}\r\n```","title":"Java Try Catch Exception","body":"<p>the first commenter is correct. i was able to do it by creating a new first catch:</p>\n<pre><code>public Sample Method (Input input) throws AException\n{\n   con = getSQLConnection();\n\n   try{\n      //do something\n      if(x==null){\n         AException ae = new AException(A9ErrorMessages.A9_ERROR_FROM_TABLE, new String [] { &quot;ColName&quot;, &quot;TableName&quot;});\n         logger().error(ae);\n         throw ae;\n      }\n   }\n   catch (AException ae){\n      logger().error(ae);\n      throw ae;\n   }\n   catch (Exception e){\n      logger().error(e);\n      throw new AException(e);\n   }\n   finally{\n      if(con!=null){\n         try{\n            con.close();\n         }\n         catch(Exception e){\n            logger().error(e);\n            throw new AException(e);  \n         }\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":14091951,"reputation":93,"user_id":10179986,"display_name":"dcdum2018"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1635408264,"creation_date":1635382745,"question_id":69747085,"body_markdown":"My current block of codes returns an exception like:\r\n\r\n```\r\nException occurred in API invocation A1-123 Fatal error\r\nCaused by: A9-001 ColName is not found in TableName\r\n```\r\n\r\nbut I would like to...\r\n\r\n 1. get rid of `A1 Exception`\r\n 2. show `A9 Exception` directly \r\n 3. not show `A9 Exception` in `Caused by`\r\n\r\nHow do I make the exception look like this?\r\n\r\n```\r\nException occurred in API invocation A9-001 ColName is not found in TableName\r\n&lt;no Caused by clause&gt;\r\n```\r\n\r\nThis is my sample code:\r\n\r\n```\r\npublic Sample Method (Input input) throws AException\r\n{\r\n   con = getSQLConnection();\r\n\r\n   try{\r\n      //do something\r\n      if(x==null){\r\n         throw new AException(A9ErrorMessages.A9_ERROR_FROM_TABLE, new String [] { &quot;ColName&quot;, &quot;TableName&quot;});\r\n      }\r\n   }\r\n   catch (Exception e){\r\n      logger().error(e);\r\n      throw new AException(e);\r\n   }\r\n   finally{\r\n      if(con!=null){\r\n         try{\r\n            con.close();\r\n         }\r\n         catch(Exception e){\r\n            logger().error(e);\r\n            throw new AException(e);  \r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nWould it work if it&#39;s something like this:\r\n\r\n```\r\n   try{\r\n      //do something\r\n   }\r\n   catch (Exception e){\r\n      logger().error(e);\r\n      throw new AException(A9ErrorMessages.A9_ERROR_FROM_TABLE, new String [] { &quot;ColName&quot;, &quot;TableName&quot;});\r\n   }\r\n   catch (Exception e){\r\n      logger().error(e);\r\n      throw new AException(e);\r\n   }\r\n```","title":"Java Try Catch Exception","body":"<p>My current block of codes returns an exception like:</p>\n<pre><code>Exception occurred in API invocation A1-123 Fatal error\nCaused by: A9-001 ColName is not found in TableName\n</code></pre>\n<p>but I would like to...</p>\n<ol>\n<li>get rid of <code>A1 Exception</code></li>\n<li>show <code>A9 Exception</code> directly</li>\n<li>not show <code>A9 Exception</code> in <code>Caused by</code></li>\n</ol>\n<p>How do I make the exception look like this?</p>\n<pre><code>Exception occurred in API invocation A9-001 ColName is not found in TableName\n&lt;no Caused by clause&gt;\n</code></pre>\n<p>This is my sample code:</p>\n<pre><code>public Sample Method (Input input) throws AException\n{\n   con = getSQLConnection();\n\n   try{\n      //do something\n      if(x==null){\n         throw new AException(A9ErrorMessages.A9_ERROR_FROM_TABLE, new String [] { &quot;ColName&quot;, &quot;TableName&quot;});\n      }\n   }\n   catch (Exception e){\n      logger().error(e);\n      throw new AException(e);\n   }\n   finally{\n      if(con!=null){\n         try{\n            con.close();\n         }\n         catch(Exception e){\n            logger().error(e);\n            throw new AException(e);  \n         }\n      }\n   }\n}\n</code></pre>\n<p>Would it work if it's something like this:</p>\n<pre><code>   try{\n      //do something\n   }\n   catch (Exception e){\n      logger().error(e);\n      throw new AException(A9ErrorMessages.A9_ERROR_FROM_TABLE, new String [] { &quot;ColName&quot;, &quot;TableName&quot;});\n   }\n   catch (Exception e){\n      logger().error(e);\n      throw new AException(e);\n   }\n</code></pre>\n"},{"tags":["java","classloader","noclassdeffounderror","jit"],"answers":[{"tags":[],"owner":{"account_id":6194214,"reputation":3674,"user_id":4826048,"display_name":"K139"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532530331,"creation_date":1532530331,"answer_id":51521924,"question_id":51521840,"body_markdown":"You could write your own custom method as shown in below code to check if a class is available in classpath.\r\n\r\n    boolean result=false;\r\n    try {\r\n     Class.forName( &quot;your.test.class&quot; );\r\n    result=true;\r\n    } catch( ClassNotFoundException e ) {\r\n     //Class or Library is not available\r\n    }\r\n    return result;\r\n\r\n","title":"java.lang.NoClassDefFoundError: How to avoid loading of classes that do not exist?","body":"<p>You could write your own custom method as shown in below code to check if a class is available in classpath.</p>\n\n<pre><code>boolean result=false;\ntry {\n Class.forName( \"your.test.class\" );\nresult=true;\n} catch( ClassNotFoundException e ) {\n //Class or Library is not available\n}\nreturn result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532542927,"creation_date":1532530486,"answer_id":51521990,"question_id":51521840,"body_markdown":"Instead of importing your optional class, use Class.forName\r\n\r\n    try {\r\n        Class&lt;?&gt; act = Class.forName(&quot;com.bla.TestActivity&quot;);\r\n        MyInterface driver = act.newInstance();\r\n     } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n    }","title":"java.lang.NoClassDefFoundError: How to avoid loading of classes that do not exist?","body":"<p>Instead of importing your optional class, use Class.forName</p>\n\n<pre><code>try {\n    Class&lt;?&gt; act = Class.forName(\"com.bla.TestActivity\");\n    MyInterface driver = act.newInstance();\n } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532590557,"creation_date":1532590557,"answer_id":51533408,"question_id":51521840,"body_markdown":"The decoupling of class loading for unused code with a separate method only work if the constructor empty. If there is a constructor then you need to move the unused code in a separate class. This can also be an anonymous class. \r\n\r\nFor example:\r\n\r\n    new Object () { { \r\n        new OptionalClass();\r\n    } };\r\n\r\n","title":"java.lang.NoClassDefFoundError: How to avoid loading of classes that do not exist?","body":"<p>The decoupling of class loading for unused code with a separate method only work if the constructor empty. If there is a constructor then you need to move the unused code in a separate class. This can also be an anonymous class. </p>\n\n<p>For example:</p>\n\n<pre><code>new Object () { { \n    new OptionalClass();\n} };\n</code></pre>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635407932,"answer_count":3,"score":1,"last_activity_date":1635407950,"creation_date":1532530100,"question_id":51521840,"body_markdown":"We use some optional libraries. This libraries will only access if available. But the JIT produce already NoClassDefFoundError in the constructor of the class with optional access.\r\n\r\n    public Configuration {\r\n        public boolean libraryAvailable() {\r\n            return false; // some configuration that signal that the library is not available\r\n        }\r\n    }\r\n\r\n\r\n    public class Foo {\r\n    \r\n       public Foo() {\r\n           ... do some things\r\n       }\r\n       public void callLater() {\r\n           ...\r\n           if( libraryAvailable() ) {\r\n               xyz();\r\n           }\r\n           ...\r\n       }\r\n       private void xyz() {\r\n           new OptionalClass(); // available at compile time but not at runtime\r\n       }\r\n    }\r\n\r\nHow can I prevent that the JIT will load all possible dependencies of my call before calling the constructor?\r\n\r\n\r\n    java.lang.NoClassDefFoundError: com/inet/OptionalClass\r\n     \tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n     \tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\r\n     \tat java.lang.Class.getConstructor0(Class.java:3075)\r\n     \tat java.lang.Class.newInstance(Class.java:412)\r\n    \t...\r\n     Caused by: java.lang.ClassNotFoundException: com.inet.OptionalClass\r\n     \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n     \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n     \tat com.inet.plugin.DependencyClassLoader.loadClass(DependencyClassLoader.java:104)\r\n     \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n     \tat com.inet.plugin.DependencyClassLoader.loadClass(DependencyClassLoader.java:138)\r\n     \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n     \t... 9 more\r\n\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: How to avoid loading of classes that do not exist?","body":"<p>We use some optional libraries. This libraries will only access if available. But the JIT produce already NoClassDefFoundError in the constructor of the class with optional access.</p>\n\n<pre><code>public Configuration {\n    public boolean libraryAvailable() {\n        return false; // some configuration that signal that the library is not available\n    }\n}\n\n\npublic class Foo {\n\n   public Foo() {\n       ... do some things\n   }\n   public void callLater() {\n       ...\n       if( libraryAvailable() ) {\n           xyz();\n       }\n       ...\n   }\n   private void xyz() {\n       new OptionalClass(); // available at compile time but not at runtime\n   }\n}\n</code></pre>\n\n<p>How can I prevent that the JIT will load all possible dependencies of my call before calling the constructor?</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com/inet/OptionalClass\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\n    at java.lang.Class.getConstructor0(Class.java:3075)\n    at java.lang.Class.newInstance(Class.java:412)\n    ...\n Caused by: java.lang.ClassNotFoundException: com.inet.OptionalClass\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at com.inet.plugin.DependencyClassLoader.loadClass(DependencyClassLoader.java:104)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at com.inet.plugin.DependencyClassLoader.loadClass(DependencyClassLoader.java:138)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","spring-boot","openapi-generator"],"comments":[{"owner":{"account_id":225611,"reputation":1460,"user_id":486181,"accept_rate":73,"display_name":"Ajax"},"score":0,"creation_date":1643666278,"post_id":69750250,"comment_id":125397008,"body_markdown":"Did you end up rolling your own solution?","body":"Did you end up rolling your own solution?"},{"owner":{"account_id":21285874,"reputation":83,"user_id":15663530,"display_name":"wolle271"},"score":0,"creation_date":1643793800,"post_id":69750250,"comment_id":125430981,"body_markdown":"Kind of, yes. We switched from RestTemplate to WebClient, since RestTemplate will be deprecated. We bascially did something like this: https://www.baeldung.com/spring-webclient-oauth2. You can archieve the same with RestTemplate and some kind of filter I believe.","body":"Kind of, yes. We switched from RestTemplate to WebClient, since RestTemplate will be deprecated. We bascially did something like this: <a href=\"https://www.baeldung.com/spring-webclient-oauth2\" rel=\"nofollow noreferrer\">baeldung.com/spring-webclient-oauth2</a>. You can archieve the same with RestTemplate and some kind of filter I believe."}],"owner":{"account_id":21285874,"reputation":83,"user_id":15663530,"display_name":"wolle271"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635407800,"creation_date":1635407800,"question_id":69750250,"body_markdown":"I&#39;m currently setting up a RestTemplate client using the Maven plugin for OpenAPI3. I&#39;ve provided an OAuth Client Credentials security scheme and I&#39;ve set it up as my global security:\r\n\r\n    components:\r\n      securitySchemes:\r\n      OAuth2:\r\n        type: oauth2\r\n        flows:\r\n          clientCredentials:\r\n            authorizationUrl: https://someurl.somewhere/auth\r\n            tokenUrl: https://someurl.somewhere/token\r\n            scopes:\r\n              read: Grants read access\r\n              write: Grants write access\r\n\r\n    security:\r\n      - OAuth2:\r\n        - read\r\n        - write\r\n\r\nWhat bugs me is the fact, that there is absolutely no code being generated, which tries to receive the access token from the provided auth endpoint. The only OAuth related method I can find is: \r\n\r\n    public void setAccessToken(String accessToken)\r\n\r\nBut this means that I have to write the code to retrieve the token. Should I do that?\r\n\r\nFurthermore my expectation was, that I&#39;ll just provide OAuth endpoints, client ID and client secret in the final application, which would use the client. \r\n\r\n\r\n\r\n","title":"Generate OpenAPI RestTemplate Client with Client Credentials Oauth2 Auth: How to obtain Access Token?","body":"<p>I'm currently setting up a RestTemplate client using the Maven plugin for OpenAPI3. I've provided an OAuth Client Credentials security scheme and I've set it up as my global security:</p>\n<pre><code>components:\n  securitySchemes:\n  OAuth2:\n    type: oauth2\n    flows:\n      clientCredentials:\n        authorizationUrl: https://someurl.somewhere/auth\n        tokenUrl: https://someurl.somewhere/token\n        scopes:\n          read: Grants read access\n          write: Grants write access\n\nsecurity:\n  - OAuth2:\n    - read\n    - write\n</code></pre>\n<p>What bugs me is the fact, that there is absolutely no code being generated, which tries to receive the access token from the provided auth endpoint. The only OAuth related method I can find is:</p>\n<pre><code>public void setAccessToken(String accessToken)\n</code></pre>\n<p>But this means that I have to write the code to retrieve the token. Should I do that?</p>\n<p>Furthermore my expectation was, that I'll just provide OAuth endpoints, client ID and client secret in the final application, which would use the client.</p>\n"},{"tags":["java","spring","validation","annotations","bean-validation"],"comments":[{"owner":{"account_id":7125787,"reputation":771,"user_id":5448746,"display_name":"Ondřej Stašek"},"score":0,"creation_date":1523863604,"post_id":36343617,"comment_id":86717898,"body_markdown":"Same problem here - how to get ConstraintViolationException instead of MethodArgumentNotValidException.","body":"Same problem here - how to get ConstraintViolationException instead of MethodArgumentNotValidException."}],"answers":[{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459606957,"creation_date":1459606957,"answer_id":36374457,"question_id":36343617,"body_markdown":"Assuming your starting point is a `ConstraintViolationException` you are getting the set of `ConstraintViolation` instances via `getConstraintViolations()`.\r\n\r\nEach `ConstraintViolation` then has a `getConstraintDescriptor()`, which gives you metadata about the failing constraints. Once you have the `ConstraintDescriptor` you just call `getPayload()`.\r\n","title":"How to get the payload property from bean validation annotation","body":"<p>Assuming your starting point is a <code>ConstraintViolationException</code> you are getting the set of <code>ConstraintViolation</code> instances via <code>getConstraintViolations()</code>.</p>\n\n<p>Each <code>ConstraintViolation</code> then has a <code>getConstraintDescriptor()</code>, which gives you metadata about the failing constraints. Once you have the <code>ConstraintDescriptor</code> you just call <code>getPayload()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635407755,"creation_date":1603878556,"answer_id":64570276,"question_id":36343617,"body_markdown":"To retrieve dynamic payload from **MethodArgumentNotValidException**:\r\n\r\n```\r\nList&lt;ClassTypeDynamicPayload&gt; allDynamicPayloadObjects = exception\r\n    .getBindingResult()\r\n    .getAllErrors()\r\n    .stream()\r\n    .map(validationFieldError -&gt; validationFieldError.unwrap(ConstraintViolationImpl.class))\r\n    .map(constraintViolation -&gt; constraintViolation.getDynamicPayload(ClassTypeDynamicPayload.class))\r\n    .collect(Collectors.toList())\r\n```\r\n---\r\n\r\nTo retrieve `ConstraintViolation` (s) out of **ConstraintViolationException** use:\r\n\r\n    constraintViolationException.getConstraintViolations();\r\n\r\nTo get dynamic payload out of a `ConstraintViolation`:\r\n\r\n    (ClassToMap) ((ConstraintViolationImpl) constraintViolation).getDynamicPayload(ClassToMap.class))","title":"How to get the payload property from bean validation annotation","body":"<p>To retrieve dynamic payload from <strong>MethodArgumentNotValidException</strong>:</p>\n<pre><code>List&lt;ClassTypeDynamicPayload&gt; allDynamicPayloadObjects = exception\n    .getBindingResult()\n    .getAllErrors()\n    .stream()\n    .map(validationFieldError -&gt; validationFieldError.unwrap(ConstraintViolationImpl.class))\n    .map(constraintViolation -&gt; constraintViolation.getDynamicPayload(ClassTypeDynamicPayload.class))\n    .collect(Collectors.toList())\n</code></pre>\n<hr />\n<p>To retrieve <code>ConstraintViolation</code> (s) out of <strong>ConstraintViolationException</strong> use:</p>\n<pre><code>constraintViolationException.getConstraintViolations();\n</code></pre>\n<p>To get dynamic payload out of a <code>ConstraintViolation</code>:</p>\n<pre><code>(ClassToMap) ((ConstraintViolationImpl) constraintViolation).getDynamicPayload(ClassToMap.class))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22040898,"reputation":11,"user_id":16306694,"display_name":"Azunite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632663056,"creation_date":1632663056,"answer_id":69335422,"question_id":36343617,"body_markdown":"I know this post is old but I think I might help others.\r\n\r\nTo get payload from MethodArgumentNotValidException\r\n\r\n    var constraintViolation = exception.getBindingResult()\r\n                            .getAllErrors().get(0).unwrap(ConstraintViolation.class);\r\n            \r\n         // Get dynamic payload\r\n        var payload = (Payload) ((ConstraintViolationImpl)\r\n                            constraintViolation).getDynamicPayload(ValidationExceptionPayload.class);\r\n","title":"How to get the payload property from bean validation annotation","body":"<p>I know this post is old but I think I might help others.</p>\n<p>To get payload from MethodArgumentNotValidException</p>\n<pre><code>var constraintViolation = exception.getBindingResult()\n                        .getAllErrors().get(0).unwrap(ConstraintViolation.class);\n        \n     // Get dynamic payload\n    var payload = (Payload) ((ConstraintViolationImpl)\n                        constraintViolation).getDynamicPayload(ValidationExceptionPayload.class);\n</code></pre>\n"}],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3104,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1635407755,"creation_date":1459457766,"question_id":36343617,"body_markdown":"I have a class with validation annotations on my properties, like this one:\r\n\r\n    @NotNull(payload = INVALID_CATEGORY_DESCRIPTION.class)\r\n    @Size(min = 1, max = 255, payload = INVALID_CATEGORY_DESCRIPTION_LENGHT.class)\r\n    private String description;\r\n\r\nThen I have a @ControllerAdvice to handle validation exceptions.\r\n\r\n    @ResponseStatus(BAD_REQUEST)\r\n    @ResponseBody\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;?&gt; methodArgumentNotValidException(MethodArgumentNotValidException exception) {\r\n\r\nWhen one or more validation annotation fail, the exception handler is triggered as expected.\r\n\r\nIn order to get the payload property from the annotations, I am iterating over the fields with validation errors, then over the annotations and only then comparing the annotation name with the FieldError code. With the annotation in hands I can access the payload.\r\n\r\nI wonder if there is a more elegant way to get the payload or the annotation which triggered the exception, as there is for the message property (exception.getMessage()).","title":"How to get the payload property from bean validation annotation","body":"<p>I have a class with validation annotations on my properties, like this one:</p>\n\n<pre><code>@NotNull(payload = INVALID_CATEGORY_DESCRIPTION.class)\n@Size(min = 1, max = 255, payload = INVALID_CATEGORY_DESCRIPTION_LENGHT.class)\nprivate String description;\n</code></pre>\n\n<p>Then I have a @ControllerAdvice to handle validation exceptions.</p>\n\n<pre><code>@ResponseStatus(BAD_REQUEST)\n@ResponseBody\n@ExceptionHandler(MethodArgumentNotValidException.class)\npublic ResponseEntity&lt;?&gt; methodArgumentNotValidException(MethodArgumentNotValidException exception) {\n</code></pre>\n\n<p>When one or more validation annotation fail, the exception handler is triggered as expected.</p>\n\n<p>In order to get the payload property from the annotations, I am iterating over the fields with validation errors, then over the annotations and only then comparing the annotation name with the FieldError code. With the annotation in hands I can access the payload.</p>\n\n<p>I wonder if there is a more elegant way to get the payload or the annotation which triggered the exception, as there is for the message property (exception.getMessage()).</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1635351617,"post_id":69742132,"comment_id":123276732,"body_markdown":"Any error message? Does your `uploadTask.addOnFailureListener(exception -&gt; {` get called?","body":"Any error message? Does your <code>uploadTask.addOnFailureListener(exception -&gt; {</code> get called?"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635351821,"post_id":69742132,"comment_id":123276810,"body_markdown":"@FrankvanPuffelen There are no error messages","body":"@FrankvanPuffelen There are no error messages"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635352864,"post_id":69742132,"comment_id":123277230,"body_markdown":"@FrankvanPuffelen yes, `uploadTask.addOnFailureListener(exception -&gt; {  ` is working","body":"@FrankvanPuffelen yes, <code>uploadTask.addOnFailureListener(exception -&gt; {  </code> is working"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635401126,"post_id":69742132,"comment_id":123288762,"body_markdown":"@MohamedHossam Do you get any error message inside it?","body":"@MohamedHossam Do you get any error message inside it?"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635402599,"post_id":69742132,"comment_id":123289126,"body_markdown":"@AlexMamo no, i don&#39;t get any error message","body":"@AlexMamo no, i don&#39;t get any error message"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635402666,"post_id":69742132,"comment_id":123289155,"body_markdown":"How do you actually check that?","body":"How do you actually check that?"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635404436,"post_id":69742132,"comment_id":123289719,"body_markdown":"@AlexMamo From `Build` in android studio –","body":"@AlexMamo From <code>Build</code> in android studio –"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635406849,"post_id":69742132,"comment_id":123290585,"body_markdown":"No, you have to read the error message. Give it a try and tell what you get.","body":"No, you have to read the error message. Give it a try and tell what you get."},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635407648,"post_id":69742132,"comment_id":123290893,"body_markdown":"@AlexMamo I added the error message to the comment","body":"@AlexMamo I added the error message to the comment"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635407855,"post_id":69742132,"comment_id":123290988,"body_markdown":"Does any of these [answers](https://stackoverflow.com/questions/37543022/firebase-storage-is-giving-storageexception-while-trying-to-upload-images) help?","body":"Does any of these <a href=\"https://stackoverflow.com/questions/37543022/firebase-storage-is-giving-storageexception-while-trying-to-upload-images\">answers</a> help?"}],"owner":{"display_name":"user17093321"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635407579,"creation_date":1635351237,"question_id":69742132,"body_markdown":"I made an application that makes a list of people that contains (name, age, description and photo), but the problem is when I record the data in a file (`AddPerson`) and save it, all data is uploaded to the firebase except for the image\r\n\r\nthis is the error message:\r\n```\r\nE/StorageException: StorageException has occurred.\r\n    User does not have permission to access this object.\r\n     Code: -13021 HttpResult: 403\r\nE/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\r\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\r\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n    StorageException has occurred.\r\n    User does not have permission to access this object.\r\n     Code: -13021 HttpResult: 403\r\nE/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\r\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\r\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n```\r\n\r\nthis is codes for `AddPerson`:\r\n\r\n```\r\npublic class AddPersonextends AppCompatActivity {\r\n\r\n    private TextInputEditText mFirstName, mLastName, mAge, mDescription;\r\n\r\n    private String firstNameString, lastNameString, ageString, descriptionString;\r\n\r\n    CardView mInsertImage;\r\n    ImageView mImageView;\r\n\r\n    private static final int IMAGE_PICK_CODE = 1000;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_person);\r\n\r\n        mFirstName = findViewById(R.id.first_name_input);\r\n        mLastName = findViewById(R.id.last_name_input);\r\n        mAge = findViewById(R.id.age_input);\r\n        mDescription = findViewById(R.id.description_input);\r\n\r\n        mInsertImage = findViewById(R.id.insert_image);\r\n        mImageView = findViewById(R.id.imageView);\r\n\r\n        mInsertImage.setOnClickListener(v -&gt; pickImageFromGallery());\r\n    }\r\n\r\n    private void pickImageFromGallery() {\r\n        Intent i = new Intent();\r\n        i.setType(&quot;image/*&quot;);\r\n        i.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(i, IMAGE_PICK_CODE);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (resultCode == RESULT_OK &amp;&amp; requestCode == IMAGE_PICK_CODE) {\r\n            assert data != null;\r\n            mImageView.setImageURI(data.getData());\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    private void insertPerson() {\r\n        firstNameString = Objects.requireNonNull(mFirstName.getText()).toString().trim();\r\n        lastNameString = Objects.requireNonNull(mLastName.getText()).toString().trim();\r\n        ageString = Objects.requireNonNull(mAge.getText()).toString().trim();\r\n        descriptionString = Objects.requireNonNull(mDescription.getText()).toString().trim();\r\n\r\n        uploadImage();\r\n    }\r\n\r\n    private void uploadImage() {\r\n        long timestamp = System.currentTimeMillis();\r\n\r\n        String filePathAndName = &quot;images/&quot; + timestamp;\r\n\r\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference(filePathAndName);\r\n\r\n        Bitmap bitmap = ((BitmapDrawable) mImageView.getDrawable()).getBitmap();\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 0, stream);\r\n        byte[] byteArray = stream.toByteArray();\r\n\r\n        UploadTask uploadTask = storageReference.putBytes(byteArray);\r\n        uploadTask.addOnFailureListener(exception -&gt; {\r\n            sendList(filePathAndName, timestamp);\r\n\r\n        }).addOnSuccessListener(taskSnapshot -&gt; {\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        getMenuInflater().inflate(R.menu.menu_add_missing_person, menu);\r\n        return true;\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (item.getItemId() == R.id.action_save) {\r\n            insertPerson();\r\n            finish();\r\n            return true;\r\n        } else if (item.getItemId() == android.R.id.home) {\r\n            NavUtils.navigateUpFromSameTask(this);\r\n            return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void sendList(String uploadedImageUri, long timestamp) {\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;List&quot;);\r\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n        hashMap.put(&quot;firstName&quot;, firstNameString);\r\n        hashMap.put(&quot;lastName&quot;, lastNameString);\r\n        hashMap.put(&quot;age&quot;, ageString);\r\n        hashMap.put(&quot;description&quot;, descriptionString);\r\n        hashMap.put(&quot;url&quot;, uploadedImageUri);\r\n        hashMap.put(&quot;timestamp&quot;, timestamp);\r\n\r\n        reference.push().setValue(hashMap);\r\n    }\r\n}\r\n\r\n```","title":"Why is the image not uploading to the Firebase-storage?","body":"<p>I made an application that makes a list of people that contains (name, age, description and photo), but the problem is when I record the data in a file (<code>AddPerson</code>) and save it, all data is uploaded to the firebase except for the image</p>\n<p>this is the error message:</p>\n<pre><code>E/StorageException: StorageException has occurred.\n    User does not have permission to access this object.\n     Code: -13021 HttpResult: 403\nE/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072) \n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:923) \n    StorageException has occurred.\n    User does not have permission to access this object.\n     Code: -13021 HttpResult: 403\nE/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied.&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072) \n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:923) \n</code></pre>\n<p>this is codes for <code>AddPerson</code>:</p>\n<pre><code>public class AddPersonextends AppCompatActivity {\n\n    private TextInputEditText mFirstName, mLastName, mAge, mDescription;\n\n    private String firstNameString, lastNameString, ageString, descriptionString;\n\n    CardView mInsertImage;\n    ImageView mImageView;\n\n    private static final int IMAGE_PICK_CODE = 1000;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_person);\n\n        mFirstName = findViewById(R.id.first_name_input);\n        mLastName = findViewById(R.id.last_name_input);\n        mAge = findViewById(R.id.age_input);\n        mDescription = findViewById(R.id.description_input);\n\n        mInsertImage = findViewById(R.id.insert_image);\n        mImageView = findViewById(R.id.imageView);\n\n        mInsertImage.setOnClickListener(v -&gt; pickImageFromGallery());\n    }\n\n    private void pickImageFromGallery() {\n        Intent i = new Intent();\n        i.setType(&quot;image/*&quot;);\n        i.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(i, IMAGE_PICK_CODE);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (resultCode == RESULT_OK &amp;&amp; requestCode == IMAGE_PICK_CODE) {\n            assert data != null;\n            mImageView.setImageURI(data.getData());\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    private void insertPerson() {\n        firstNameString = Objects.requireNonNull(mFirstName.getText()).toString().trim();\n        lastNameString = Objects.requireNonNull(mLastName.getText()).toString().trim();\n        ageString = Objects.requireNonNull(mAge.getText()).toString().trim();\n        descriptionString = Objects.requireNonNull(mDescription.getText()).toString().trim();\n\n        uploadImage();\n    }\n\n    private void uploadImage() {\n        long timestamp = System.currentTimeMillis();\n\n        String filePathAndName = &quot;images/&quot; + timestamp;\n\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference(filePathAndName);\n\n        Bitmap bitmap = ((BitmapDrawable) mImageView.getDrawable()).getBitmap();\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 0, stream);\n        byte[] byteArray = stream.toByteArray();\n\n        UploadTask uploadTask = storageReference.putBytes(byteArray);\n        uploadTask.addOnFailureListener(exception -&gt; {\n            sendList(filePathAndName, timestamp);\n\n        }).addOnSuccessListener(taskSnapshot -&gt; {\n\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        getMenuInflater().inflate(R.menu.menu_add_missing_person, menu);\n        return true;\n    }\n\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == R.id.action_save) {\n            insertPerson();\n            finish();\n            return true;\n        } else if (item.getItemId() == android.R.id.home) {\n            NavUtils.navigateUpFromSameTask(this);\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void sendList(String uploadedImageUri, long timestamp) {\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;List&quot;);\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n\n        hashMap.put(&quot;firstName&quot;, firstNameString);\n        hashMap.put(&quot;lastName&quot;, lastNameString);\n        hashMap.put(&quot;age&quot;, ageString);\n        hashMap.put(&quot;description&quot;, descriptionString);\n        hashMap.put(&quot;url&quot;, uploadedImageUri);\n        hashMap.put(&quot;timestamp&quot;, timestamp);\n\n        reference.push().setValue(hashMap);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android-recyclerview","adapter","android-viewholder"],"comments":[{"owner":{"account_id":23168901,"reputation":1,"user_id":17268413,"display_name":"Sergio Matiash"},"score":0,"creation_date":1635407371,"post_id":69750134,"comment_id":123290797,"body_markdown":"More precise - its int position highlighted by red","body":"More precise - its int position highlighted by red"},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1635417446,"post_id":69750134,"comment_id":123295162,"body_markdown":"Viewholders position might change between binding and click, that&#39;s why you should not capture `position` argument. At the top of your `onClick` add `int position = holder.getBindingAdapterPosition();` to obtain current position.","body":"Viewholders position might change between binding and click, that&#39;s why you should not capture <code>position</code> argument. At the top of your <code>onClick</code> add <code>int position = holder.getBindingAdapterPosition();</code> to obtain current position."},{"owner":{"account_id":23168901,"reputation":1,"user_id":17268413,"display_name":"Sergio Matiash"},"score":0,"creation_date":1635427714,"post_id":69750134,"comment_id":123299703,"body_markdown":"Seems good so far) Thanx a lot","body":"Seems good so far) Thanx a lot"}],"owner":{"account_id":23168901,"reputation":1,"user_id":17268413,"display_name":"Sergio Matiash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635407401,"creation_date":1635407258,"question_id":69750134,"body_markdown":"    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n      \r\n\r\n        //13---getting data from our arrays\r\n\r\n        holder.book_id_txt.setText(String.valueOf(book_id.get(position)));\r\n        holder.book_title_txt.setText(String.valueOf(book_title.get(position)));\r\n        holder.book_author_txt.setText(String.valueOf(book_author.get(position)));\r\n        holder.book_pages_txt.setText(String.valueOf(book_pages.get(position)));\r\n\r\n        holder.mainLinearLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, UpdateActivity.class);\r\n                // transferring data inside activity\r\n                intent.putExtra(&quot;id&quot;, String.valueOf(book_id.get(position)));\r\n                intent.putExtra(&quot;title&quot;, String.valueOf(book_title.get(position)));\r\n                intent.putExtra(&quot;author&quot;, String.valueOf(book_author.get(position)));\r\n                intent.putExtra(&quot;pages&quot;, String.valueOf(book_pages.get(position)));\r\n\r\n\r\n                context.startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\nCurrently I&#39;ve got recommendation as for using holder.getAdapterPosition, but I dont know how to fix it","title":"Do not treat position as fixed; only use immediately and call `holder.getAdapterPosition()` to look it up later","body":"<pre><code>@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n  \n\n    //13---getting data from our arrays\n\n    holder.book_id_txt.setText(String.valueOf(book_id.get(position)));\n    holder.book_title_txt.setText(String.valueOf(book_title.get(position)));\n    holder.book_author_txt.setText(String.valueOf(book_author.get(position)));\n    holder.book_pages_txt.setText(String.valueOf(book_pages.get(position)));\n\n    holder.mainLinearLayout.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(context, UpdateActivity.class);\n            // transferring data inside activity\n            intent.putExtra(&quot;id&quot;, String.valueOf(book_id.get(position)));\n            intent.putExtra(&quot;title&quot;, String.valueOf(book_title.get(position)));\n            intent.putExtra(&quot;author&quot;, String.valueOf(book_author.get(position)));\n            intent.putExtra(&quot;pages&quot;, String.valueOf(book_pages.get(position)));\n\n\n            context.startActivity(intent);\n\n        }\n    });\n\n\n}\n</code></pre>\n<p>Currently I've got recommendation as for using holder.getAdapterPosition, but I dont know how to fix it</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19306794,"reputation":85,"user_id":14113432,"display_name":"Harshita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635406582,"creation_date":1635406582,"answer_id":69749991,"question_id":69747058,"body_markdown":"Some changes which you may do-\r\n1. Instead of having different array of data and odometer, use an object which implements Comparable interface\r\n\r\n        class MileageData implements Comparable&lt;MileageData&gt; {\r\n                LocalDate date;\r\n                int odometer;\r\n    \r\n                public MileageData(LocalDate date, int odometer) {\r\n                    this.date = date;\r\n                    this.odometer = odometer;\r\n                }\r\n    \r\n                @Override\r\n                public boolean equals(final Object obj) {\r\n                    MileageData anotherData = (MileageData)obj;\r\n                    return anotherData.date.equals(this.date) &amp;&amp; anotherData.odometer == this.odometer;\r\n                }\r\n    \r\n                @Override\r\n                public int hashCode(){\r\n                    int hash = 7;\r\n                    hash = 31 * hash + this.date.hashCode();\r\n                    hash = 31 * hash + this.odometer;\r\n                    return hash;\r\n                }\r\n    \r\n                @Override\r\n                public int compareTo(final MileageData o) {\r\n                    if (o.date.isBefore(this.date)) {\r\n                        return -1;\r\n                    } else if (o.date.isAfter(this.date)) {\r\n                        return 1;\r\n                    } else {\r\n                        return 0;\r\n                    }\r\n                }\r\n                @Override\r\n                public String toString(){\r\n                    return this.date.toString()+&quot; &quot;+this.odometer;\r\n                }\r\n            }\r\n\r\n2. Storing `MileageData` in `Treeset` which will sort data in the order given in `compareTo` method of `MileageData`.\r\n\r\n        Set&lt;MileageData&gt; data = new TreeSet&lt;&gt;();\r\n        data.add(new MileageData(LocalDate.of(2021,2,14),156830));\r\n        data.add(new MileageData(LocalDate.of(2021,2,4),156255));\r\n        data.add(new MileageData(LocalDate.of(2021,2,4),156255));\r\n        data.add(new MileageData(LocalDate.of(2021,2,5),156572));\r\n\r\nAs `Treeset` will not store duplicate data, you don&#39;t need separate check for duplicates. Above set will return only three objects instead of four.","title":"Input Validation Algorithm - Date and Odometer","body":"<p>Some changes which you may do-</p>\n<ol>\n<li><p>Instead of having different array of data and odometer, use an object which implements Comparable interface</p>\n<pre><code> class MileageData implements Comparable&lt;MileageData&gt; {\n         LocalDate date;\n         int odometer;\n\n         public MileageData(LocalDate date, int odometer) {\n             this.date = date;\n             this.odometer = odometer;\n         }\n\n         @Override\n         public boolean equals(final Object obj) {\n             MileageData anotherData = (MileageData)obj;\n             return anotherData.date.equals(this.date) &amp;&amp; anotherData.odometer == this.odometer;\n         }\n\n         @Override\n         public int hashCode(){\n             int hash = 7;\n             hash = 31 * hash + this.date.hashCode();\n             hash = 31 * hash + this.odometer;\n             return hash;\n         }\n\n         @Override\n         public int compareTo(final MileageData o) {\n             if (o.date.isBefore(this.date)) {\n                 return -1;\n             } else if (o.date.isAfter(this.date)) {\n                 return 1;\n             } else {\n                 return 0;\n             }\n         }\n         @Override\n         public String toString(){\n             return this.date.toString()+&quot; &quot;+this.odometer;\n         }\n     }\n</code></pre>\n</li>\n<li><p>Storing <code>MileageData</code> in <code>Treeset</code> which will sort data in the order given in <code>compareTo</code> method of <code>MileageData</code>.</p>\n<pre><code> Set&lt;MileageData&gt; data = new TreeSet&lt;&gt;();\n data.add(new MileageData(LocalDate.of(2021,2,14),156830));\n data.add(new MileageData(LocalDate.of(2021,2,4),156255));\n data.add(new MileageData(LocalDate.of(2021,2,4),156255));\n data.add(new MileageData(LocalDate.of(2021,2,5),156572));\n</code></pre>\n</li>\n</ol>\n<p>As <code>Treeset</code> will not store duplicate data, you don't need separate check for duplicates. Above set will return only three objects instead of four.</p>\n"}],"owner":{"account_id":5580322,"reputation":39,"user_id":4422400,"display_name":"aldrich19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635406582,"creation_date":1635382493,"question_id":69747058,"body_markdown":"I&#39;m having a problem making an efficient algorithm that validates my date and odometer input within a given sorted data set. I&#39;m trying to implement a gas mileage tracking program. The sorted data has a date with corresponding odometer value.\r\n\r\nSample Data Set:\r\n\r\n      Date        Odometer     Index\r\n    2021-2-14      156830        0\r\n    2021-2-5       156572        1\r\n    2021-2-4       156255        2\r\n\r\nIndex 0 being the top and recent data entry. \r\n\r\nSample Input:\r\n\r\n    Date: 2021-2-15\r\n    Odometer: 157000\r\n\r\nI have to determine which position/order the inputted date belongs inside my data set. Since the user date input is greater than my top/recent date I know this belongs to the very top. Then I compare the odometer from that data to my input. If user odometer input is greater than data odometer then it is valid. If its less than then its invalid.\r\n\r\nAnother Sample Input:\r\n\r\n    Date: 2021-2-14\r\n    Odometer: 156255  \r\n\r\nIts okay if the user date input has the same date given in the data set. However, odometer cannot be less than the previously recorded at 156572 on 2021-2-5. So its invalid.     \r\n\r\nHere is my test input validation algorithm so far:\r\n\r\n \r\n    public static Date[] dates = new Date[3];\r\n    public static int[] odometer = new int[3];\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n            dates[0] = new Date(2021,2,14);\r\n            dates[1] = new Date(2021,2,5);\r\n            dates[2] = new Date(2021,2,4);\r\n    \r\n            odometer[0] = 156830;\r\n            odometer[1] = 156572;\r\n            odometer[2] = 156255;\r\n            \r\n            //Inputs\r\n            Date inputDate = new Date(2021,2,14);\r\n            int inputOdo = 156255;\r\n            \r\n            if(!hasDuplicate(inputDate, inputOdo))//Checks for duplicate\r\n            {\r\n                int index = -1;\r\n                for(int i=0; i&lt;dates.length; i++)\r\n                {\r\n                    if(inputDate.compareTo(dates[i]) &gt;= 0)\r\n                    {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n                if(index == 0)\r\n                {\r\n                    if(inputOdo &lt;= odometer[index] &amp;&amp; inputDate.compareTo(dates[index]) &gt; 0)\r\n                    {\r\n                        System.out.println(&quot;Mileage cannot be less than &quot;\r\n                            + &quot;your previously recorded fill-up at\\n&quot;+odometer[index]+&quot; miles on &quot;+dates[index].toString()+&quot;.\\n&quot;);\r\n                    }\r\n                }else{\r\n    \r\n                        if(index &gt; 0)\r\n                        {\r\n                            int top = index-1;\r\n                            int bottom = index;\r\n                            if(inputOdo &gt;= odometer[top])\r\n                            {\r\n                                 System.out.println(&quot;Mileage cannot be higher than &quot;\r\n                                + &quot;your previously recorded fill-up at\\n&quot;+odometer[top]+&quot; miles on &quot;+dates[top].toString()+&quot;.\\n&quot;);\r\n                            }else{\r\n                                if(inputOdo &lt;= odometer[bottom] &amp;&amp; bottom != dates.length-1 &amp;&amp; !inputDate.equals(dates[bottom]))\r\n                                {\r\n                                    System.out.println(&quot;Mileage cannot be less than &quot;\r\n                                + &quot;your previously recorded fill-up at\\n&quot;+odometer[bottom]+&quot; miles on &quot;+dates[bottom].toString()+&quot;.\\n&quot;);\r\n                                }\r\n                            }\r\n                        }else{\r\n                            int bottom = dates.length-1;\r\n                            if(inputOdo &gt;= odometer[bottom])\r\n                            {\r\n                                 System.out.println(&quot;Mileage cannot be higher than &quot;\r\n                                + &quot;your previously recorded fill-up at\\n&quot;+odometer[bottom]+&quot; miles on &quot;+dates[bottom].toString()+&quot;.\\n&quot;);\r\n                            }\r\n                        }\r\n    \r\n                }\r\n                System.out.println(&quot;Gas has been added!&quot;);\r\n            }else{\r\n                System.out.println(&quot;Another fill-up with this date and mileage already exist.&quot;);\r\n            }\r\n      \r\nhasDuplicate method:\r\n\r\n     //Checks for duplicate\r\n        public static boolean hasDuplicate(Date date, int odo)\r\n        {\r\n            boolean duplicate = false; //Initialize duplicate variable\r\n    \r\n            //Checks if date and mileage exist already\r\n            for(int i=0; i&lt;dates.length; i++)\r\n            {\r\n                if(date.equals(dates[i]) &amp;&amp; odo == odometer[i]) {\r\n                    return true;\r\n                }\r\n            }\r\n            return duplicate;\r\n        }\r\nI hope someone can understand what I am trying to achieve here. Any help and idea will be great! I&#39;m a newbie.\r\n\r\n","title":"Input Validation Algorithm - Date and Odometer","body":"<p>I'm having a problem making an efficient algorithm that validates my date and odometer input within a given sorted data set. I'm trying to implement a gas mileage tracking program. The sorted data has a date with corresponding odometer value.</p>\n<p>Sample Data Set:</p>\n<pre><code>  Date        Odometer     Index\n2021-2-14      156830        0\n2021-2-5       156572        1\n2021-2-4       156255        2\n</code></pre>\n<p>Index 0 being the top and recent data entry.</p>\n<p>Sample Input:</p>\n<pre><code>Date: 2021-2-15\nOdometer: 157000\n</code></pre>\n<p>I have to determine which position/order the inputted date belongs inside my data set. Since the user date input is greater than my top/recent date I know this belongs to the very top. Then I compare the odometer from that data to my input. If user odometer input is greater than data odometer then it is valid. If its less than then its invalid.</p>\n<p>Another Sample Input:</p>\n<pre><code>Date: 2021-2-14\nOdometer: 156255  \n</code></pre>\n<p>Its okay if the user date input has the same date given in the data set. However, odometer cannot be less than the previously recorded at 156572 on 2021-2-5. So its invalid.</p>\n<p>Here is my test input validation algorithm so far:</p>\n<pre><code>public static Date[] dates = new Date[3];\npublic static int[] odometer = new int[3];\n\npublic static void main(String[] args)\n{\n        dates[0] = new Date(2021,2,14);\n        dates[1] = new Date(2021,2,5);\n        dates[2] = new Date(2021,2,4);\n\n        odometer[0] = 156830;\n        odometer[1] = 156572;\n        odometer[2] = 156255;\n        \n        //Inputs\n        Date inputDate = new Date(2021,2,14);\n        int inputOdo = 156255;\n        \n        if(!hasDuplicate(inputDate, inputOdo))//Checks for duplicate\n        {\n            int index = -1;\n            for(int i=0; i&lt;dates.length; i++)\n            {\n                if(inputDate.compareTo(dates[i]) &gt;= 0)\n                {\n                    index = i;\n                    break;\n                }\n            }\n            if(index == 0)\n            {\n                if(inputOdo &lt;= odometer[index] &amp;&amp; inputDate.compareTo(dates[index]) &gt; 0)\n                {\n                    System.out.println(&quot;Mileage cannot be less than &quot;\n                        + &quot;your previously recorded fill-up at\\n&quot;+odometer[index]+&quot; miles on &quot;+dates[index].toString()+&quot;.\\n&quot;);\n                }\n            }else{\n\n                    if(index &gt; 0)\n                    {\n                        int top = index-1;\n                        int bottom = index;\n                        if(inputOdo &gt;= odometer[top])\n                        {\n                             System.out.println(&quot;Mileage cannot be higher than &quot;\n                            + &quot;your previously recorded fill-up at\\n&quot;+odometer[top]+&quot; miles on &quot;+dates[top].toString()+&quot;.\\n&quot;);\n                        }else{\n                            if(inputOdo &lt;= odometer[bottom] &amp;&amp; bottom != dates.length-1 &amp;&amp; !inputDate.equals(dates[bottom]))\n                            {\n                                System.out.println(&quot;Mileage cannot be less than &quot;\n                            + &quot;your previously recorded fill-up at\\n&quot;+odometer[bottom]+&quot; miles on &quot;+dates[bottom].toString()+&quot;.\\n&quot;);\n                            }\n                        }\n                    }else{\n                        int bottom = dates.length-1;\n                        if(inputOdo &gt;= odometer[bottom])\n                        {\n                             System.out.println(&quot;Mileage cannot be higher than &quot;\n                            + &quot;your previously recorded fill-up at\\n&quot;+odometer[bottom]+&quot; miles on &quot;+dates[bottom].toString()+&quot;.\\n&quot;);\n                        }\n                    }\n\n            }\n            System.out.println(&quot;Gas has been added!&quot;);\n        }else{\n            System.out.println(&quot;Another fill-up with this date and mileage already exist.&quot;);\n        }\n  \n</code></pre>\n<p>hasDuplicate method:</p>\n<pre><code> //Checks for duplicate\n    public static boolean hasDuplicate(Date date, int odo)\n    {\n        boolean duplicate = false; //Initialize duplicate variable\n\n        //Checks if date and mileage exist already\n        for(int i=0; i&lt;dates.length; i++)\n        {\n            if(date.equals(dates[i]) &amp;&amp; odo == odometer[i]) {\n                return true;\n            }\n        }\n        return duplicate;\n    }\n</code></pre>\n<p>I hope someone can understand what I am trying to achieve here. Any help and idea will be great! I'm a newbie.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1401799929,"post_id":24015662,"comment_id":37016067,"body_markdown":"Try to use regex testers. They are very useful.\nhttp://regexpal.com/","body":"Try to use regex testers. They are very useful. <a href=\"http://regexpal.com/\" rel=\"nofollow noreferrer\">regexpal.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1401800240,"creation_date":1401799846,"answer_id":24015702,"question_id":24015662,"body_markdown":"Try with following regex:\r\n\r\n    \\${([^}]+)}\r\n\r\nExplanation:\r\n\r\n    \\${     - starts with ${ (we have to escape special character $)\r\n    ([^}]+) - match everything that is not }\r\n    }       - ending character\r\n\r\n[demo][1]\r\n\r\nRegex with escaped `{` and `}`:\r\n\r\n    \\$\\{([^}]+)\\}\r\n\r\n\r\n\r\n  [1]: http://regex101.com/r/cA6zU3","title":"${} - Regex Expression","body":"<p>Try with following regex:</p>\n\n<pre><code>\\${([^}]+)}\n</code></pre>\n\n<p>Explanation:</p>\n\n<pre><code>\\${     - starts with ${ (we have to escape special character $)\n([^}]+) - match everything that is not }\n}       - ending character\n</code></pre>\n\n<p><a href=\"http://regex101.com/r/cA6zU3\" rel=\"noreferrer\">demo</a></p>\n\n<p>Regex with escaped <code>{</code> and <code>}</code>:</p>\n\n<pre><code>\\$\\{([^}]+)\\}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1401800977,"creation_date":1401800977,"answer_id":24016081,"question_id":24015662,"body_markdown":"try this\r\n\r\n\t\tMatcher m = Pattern.compile(&quot;\\\\$\\\\{(.*?)}&quot;).matcher(s);\r\n\t\twhile(m.find()) {\r\n\t\t\tSystem.out.println(m.group(1));\r\n\t\t}\r\n","title":"${} - Regex Expression","body":"<p>try this</p>\n\n<pre><code>    Matcher m = Pattern.compile(\"\\\\$\\\\{(.*?)}\").matcher(s);\n    while(m.find()) {\n        System.out.println(m.group(1));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635406126,"creation_date":1635406126,"answer_id":69749884,"question_id":24015662,"body_markdown":"In JavaScript\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const regex = /\\${([^}]*)}/g;\r\n\r\n    const str = &quot; Hello ${Variable1}, Well How are you ${VARIABLE  TEST} It empty ${} It&#39;s numeric ${123\\$\\$\\$}, numeric plus $pecial char ${@123123} ${\\$%!@#}&quot;;\r\n\r\n    console.log(str.match(regex));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn Java [Demo][1]\r\n\r\n     final String regex = &quot;\\\\$\\\\{([^\\\\}]*)\\\\}&quot;;\r\n     Matcher m = Pattern.compile(regex).matcher(text);\r\n     while(m.find()) {\r\n         System.out.println(m.group(1));\r\n     }\r\n\r\n\r\n  [1]: https://www.online-java.com/khwy2RdJXz","title":"${} - Regex Expression","body":"<p>In JavaScript</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const regex = /\\${([^}]*)}/g;\n\nconst str = \" Hello ${Variable1}, Well How are you ${VARIABLE  TEST} It empty ${} It's numeric ${123\\$\\$\\$}, numeric plus $pecial char ${@123123} ${\\$%!@#}\";\n\nconsole.log(str.match(regex));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In Java <a href=\"https://www.online-java.com/khwy2RdJXz\" rel=\"nofollow noreferrer\">Demo</a></p>\n<pre><code> final String regex = &quot;\\\\$\\\\{([^\\\\}]*)\\\\}&quot;;\n Matcher m = Pattern.compile(regex).matcher(text);\n while(m.find()) {\n     System.out.println(m.group(1));\n }\n</code></pre>\n"}],"owner":{"account_id":2836130,"reputation":297,"user_id":2436718,"accept_rate":38,"display_name":"Sergio Figueras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4024,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24016081,"answer_count":3,"score":3,"last_activity_date":1635406126,"creation_date":1401799760,"question_id":24015662,"body_markdown":"I really tried to learn Regex expressions correctly, but, it really blows my mind when I need to build one of them. It`s painful and I lost several hours to build them.\r\n\r\nSo, I need the community help. I`ve an XML String, and I want to build a Regex pattern to identify any occurence of:\r\n\r\n    ${Variable1}\r\n    ${VARIABLE_TEST}\r\n\r\netc. So, anything that starts with `${` and ends with `}`.\r\n\r\nCould anyone help-me?\r\n","title":"${} - Regex Expression","body":"<p>I really tried to learn Regex expressions correctly, but, it really blows my mind when I need to build one of them. It`s painful and I lost several hours to build them.</p>\n\n<p>So, I need the community help. I`ve an XML String, and I want to build a Regex pattern to identify any occurence of:</p>\n\n<pre><code>${Variable1}\n${VARIABLE_TEST}\n</code></pre>\n\n<p>etc. So, anything that starts with <code>${</code> and ends with <code>}</code>.</p>\n\n<p>Could anyone help-me?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":8104896,"reputation":110,"user_id":6106795,"display_name":"Tacolibre"},"score":0,"creation_date":1635374820,"post_id":69745939,"comment_id":123284348,"body_markdown":"Seems like an issue with the maven version. What version are you using on your machine?","body":"Seems like an issue with the maven version. What version are you using on your machine?"},{"owner":{"account_id":19818440,"reputation":73,"user_id":14515566,"display_name":"Alexander Brandhaug"},"score":0,"creation_date":1635398253,"post_id":69745939,"comment_id":123288135,"body_markdown":"@Tacolibre 3.8.2 - too old/new version?","body":"@Tacolibre 3.8.2 - too old/new version?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1635400288,"post_id":69745939,"comment_id":123288566,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1635400333,"post_id":69745939,"comment_id":123288577,"body_markdown":"@AlexanderBrandhaug Maven 3.8.2 is a recent version. Latest is 3.8.3","body":"@AlexanderBrandhaug Maven 3.8.2 is a recent version. Latest is 3.8.3"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1635400469,"post_id":69745939,"comment_id":123288606,"body_markdown":"What is your Java version? Run `mvn -v` and [edit](https://stackoverflow.com/posts/69745939/edit) the question and add it.","body":"What is your Java version? Run <code>mvn -v</code> and <a href=\"https://stackoverflow.com/posts/69745939/edit\">edit</a> the question and add it."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635400563,"post_id":69745939,"comment_id":123288631,"body_markdown":"1. your dependencies are a mess (mixing different versions of Spring and Spring Boot, this will blow up at some point). 2. Your dependencies (as posted here) aren&#39;t even valid (at least the xml structure isn&#39;t). 3. You are using a java version that isn&#39;t supported.","body":"1. your dependencies are a mess (mixing different versions of Spring and Spring Boot, this will blow up at some point). 2. Your dependencies (as posted here) aren&#39;t even valid (at least the xml structure isn&#39;t). 3. You are using a java version that isn&#39;t supported."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635401102,"post_id":69745939,"comment_id":123288751,"body_markdown":"The actual problem is your javafx dependency which is for java16 which you, judging by the erorr, aren&#39;t using.","body":"The actual problem is your javafx dependency which is for java16 which you, judging by the erorr, aren&#39;t using."},{"owner":{"account_id":19818440,"reputation":73,"user_id":14515566,"display_name":"Alexander Brandhaug"},"score":0,"creation_date":1635403417,"post_id":69745939,"comment_id":123289370,"body_markdown":"Updated the post according to your comments.","body":"Updated the post according to your comments."},{"owner":{"account_id":19818440,"reputation":73,"user_id":14515566,"display_name":"Alexander Brandhaug"},"score":0,"creation_date":1635418578,"post_id":69745939,"comment_id":123295668,"body_markdown":"Solution: The version numbers of the dependency&#39;s where old and out of date. I added new version number from maven central and it is now working as intended (also cleaned up alot in my pom-files, as they where a mess, as stated before).","body":"Solution: The version numbers of the dependency&#39;s where old and out of date. I added new version number from maven central and it is now working as intended (also cleaned up alot in my pom-files, as they where a mess, as stated before)."}],"owner":{"account_id":19818440,"reputation":73,"user_id":14515566,"display_name":"Alexander Brandhaug"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635406055,"creation_date":1635371899,"question_id":69745939,"body_markdown":"I&#39;m fairly new to both maven and Springboot. Trying to add a rest-module to my project. \r\n\r\nIm getting: [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.4.RELEASE:run (default-cli) on project rest: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.3.4.RELEASE:run failed: Unsupported class file major version 60 -\r\n\r\n\r\n\r\n\r\n\r\nThis is my child pom.xml\r\n\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;it1901.infectiontracer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n     &lt;artifactId&gt;rest&lt;/artifactId&gt;\r\n       &lt;dependencies&gt;\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;it1901.infectiontracer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-boot-test-autoconfigure&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;version&gt;5.2.5.RELEASE&lt;/version&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.0.201906121030-r&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t        &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n             &lt;plugin&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n   &lt;/project&gt;\r\n\r\n\r\n\r\nthis is my module-info.java\r\n\r\n    module infectiontracer.rest {\r\n     requires infectiontracer.core;\r\n      requires java.annotation;\r\n      requires spring.beans;\r\n      requires spring.context;\r\n      requires spring.web;\r\n      requires spring.boot;\r\n      requires spring.boot.autoconfigure;\r\n\r\n     }\r\n\r\n\r\n\r\nand my Application class\r\n\r\n\r\n     package infectiontracer.restserver;\r\n     import java.util.Arrays;\r\n\r\n     import org.springframework.boot.CommandLineRunner;\r\n     import org.springframework.boot.SpringApplication;\r\n     import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n     import org.springframework.context.ApplicationContext;\r\n     import org.springframework.context.annotation.Bean;\r\n\r\n               @SpringBootApplication\r\n                public class InfectionTracerApplication {\r\n    \r\n\r\n        public static void main(String[] args) {\r\n\t\tSpringApplication.run(InfectionTracerApplication.class, args);\r\n     \t}\r\n\r\n\t    @Bean\r\n    \tpublic CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n\t\treturn args -&gt; {\r\n\r\n\t\t\tSystem.out.println(&quot;Let&#39;s inspect the beans provided by Spring Boot:&quot;);\r\n\r\n\t\t\tString[] beanNames = ctx.getBeanDefinitionNames();\r\n\t\t\tArrays.sort(beanNames);\r\n\t\t\tfor (String beanName : beanNames) {\r\n\t\t\t\tSystem.out.println(beanName);\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t   }\r\n\r\n     }\r\n\r\n\r\n\r\nAnyone who can point me in the right direction?\r\n\r\nUpon doing mvn clean install in the root directory, it installs and compiles with success. \r\nBut I cant seem to start the server with the mvn spring-boot:run (in the root of my spring-boot pom.xml)\r\n\r\nMaven version: 3.8.2\r\nJava version: 16.0.2\r\n\r\n\r\nEDIT: Removed some depencendies and edited in the error message, and removed picture, as mentioned per comment. \r\n\r\n\r\n   parent pom.xml: \r\n\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n     http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n    \r\n    &lt;groupId&gt;it1901.infectiontracer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-                                  \r\n      8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n     &lt;/properties&gt;\r\n     &lt;dependencies&gt;\r\n        &lt;!-- javafx --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- junit testing with jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- test javafx with TextFX --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testfx-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.16-alpha&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testfx-junit5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.16-alpha&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.0.201906121030-r&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n     &lt;/dependencies&gt;\r\n       &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;16&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;3.0.0-M5&lt;/version&gt;     \r\n\t        &lt;/plugin&gt;\r\n             &lt;!-- Jacoco test --&gt;\r\n            &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;0.8.7&lt;/version&gt;\r\n                   &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                          &lt;id&gt;jacoco-prepare-agent&lt;/id&gt;\r\n                          &lt;phase&gt;process-test-classes&lt;/phase&gt;\r\n                          &lt;goals&gt;\r\n                           &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n           &lt;!-- Skip this phase if unit tests are skipped --&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;jacoco-report&lt;/id&gt;\r\n                            &lt;phase&gt;verify&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;!-- Run the checkstyle code quality tool --&gt;\r\n                &lt;plugin&gt;\r\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.1.2&lt;/version&gt;\r\n                  &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n                         &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n                         &lt;version&gt;9.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;configuration&gt;                 \r\n          &lt;configLocation&gt;google_checks.xml&lt;/configLocation&gt;\r\n                        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                        &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n                        &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n                        &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                        &lt;id&gt;checkstyle-check&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n             &lt;!-- Run the spotbugs code quality tool --&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.4.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;xmlOutput&gt;false&lt;/xmlOutput&gt;\r\n                      &lt;htmlOutput&gt;true&lt;/htmlOutput&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                        &lt;id&gt;spotbugs-check&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;       \r\n            &lt;plugin&gt;\r\n               &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n             &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.6&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n       &lt;/build&gt;\r\n        &lt;modules&gt;\r\n        &lt;module&gt;core&lt;/module&gt;\r\n        &lt;module&gt;fxui&lt;/module&gt;\r\n        &lt;module&gt;rest&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;/project&gt;","title":"Spring boot maven modular build","body":"<p>I'm fairly new to both maven and Springboot. Trying to add a rest-module to my project.</p>\n<p>Im getting: [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.4.RELEASE:run (default-cli) on project rest: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.3.4.RELEASE:run failed: Unsupported class file major version 60 -</p>\n<p>This is my child pom.xml</p>\n<pre><code> &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;it1901.infectiontracer&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n &lt;artifactId&gt;rest&lt;/artifactId&gt;\n   &lt;dependencies&gt;\n &lt;dependency&gt;\n        &lt;groupId&gt;it1901.infectiontracer&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;dependency&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;artifactId&gt;spring-boot-test-autoconfigure&lt;/artifactId&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;version&gt;5.2.5.RELEASE&lt;/version&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\n    &lt;version&gt;5.4.0.201906121030-r&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n                &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n         &lt;plugin&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n  &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n   \n<p>this is my module-info.java</p>\n<pre><code>module infectiontracer.rest {\n requires infectiontracer.core;\n  requires java.annotation;\n  requires spring.beans;\n  requires spring.context;\n  requires spring.web;\n  requires spring.boot;\n  requires spring.boot.autoconfigure;\n\n }\n</code></pre>\n<p>and my Application class</p>\n<pre><code> package infectiontracer.restserver;\n import java.util.Arrays;\n\n import org.springframework.boot.CommandLineRunner;\n import org.springframework.boot.SpringApplication;\n import org.springframework.boot.autoconfigure.SpringBootApplication;\n import org.springframework.context.ApplicationContext;\n import org.springframework.context.annotation.Bean;\n\n           @SpringBootApplication\n            public class InfectionTracerApplication {\n\n\n    public static void main(String[] args) {\n    SpringApplication.run(InfectionTracerApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n    return args -&gt; {\n\n        System.out.println(&quot;Let's inspect the beans provided by Spring Boot:&quot;);\n\n        String[] beanNames = ctx.getBeanDefinitionNames();\n        Arrays.sort(beanNames);\n        for (String beanName : beanNames) {\n            System.out.println(beanName);\n        }\n\n    };\n   }\n\n }\n</code></pre>\n<p>Anyone who can point me in the right direction?</p>\n<p>Upon doing mvn clean install in the root directory, it installs and compiles with success.\nBut I cant seem to start the server with the mvn spring-boot:run (in the root of my spring-boot pom.xml)</p>\n<p>Maven version: 3.8.2\nJava version: 16.0.2</p>\n<p>EDIT: Removed some depencendies and edited in the error message, and removed picture, as mentioned per comment.</p>\n<p>parent pom.xml:</p>\n<pre><code> &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n&lt;groupId&gt;it1901.infectiontracer&lt;/groupId&gt;\n&lt;artifactId&gt;parent&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;properties&gt;\n&lt;project.build.sourceEncoding&gt;UTF-                                  \n  8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n &lt;/properties&gt;\n &lt;dependencies&gt;\n    &lt;!-- javafx --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;16&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;16&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- junit testing with jupiter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- test javafx with TextFX --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testfx&lt;/groupId&gt;\n        &lt;artifactId&gt;testfx-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.16-alpha&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testfx&lt;/groupId&gt;\n        &lt;artifactId&gt;testfx-junit5&lt;/artifactId&gt;\n        &lt;version&gt;4.0.16-alpha&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n  &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n  &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n  &lt;version&gt;1.3&lt;/version&gt;\n   &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\n    &lt;version&gt;5.4.0.201906121030-r&lt;/version&gt;\n  &lt;/dependency&gt;\n &lt;/dependencies&gt;\n   &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;16&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;     \n        &lt;/plugin&gt;\n         &lt;!-- Jacoco test --&gt;\n        &lt;plugin&gt;\n               &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n               &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n               &lt;version&gt;0.8.7&lt;/version&gt;\n               &lt;executions&gt;\n                    &lt;execution&gt;\n                      &lt;id&gt;jacoco-prepare-agent&lt;/id&gt;\n                      &lt;phase&gt;process-test-classes&lt;/phase&gt;\n                      &lt;goals&gt;\n                       &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n       &lt;!-- Skip this phase if unit tests are skipped --&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-report&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;!-- Run the checkstyle code quality tool --&gt;\n            &lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.1.2&lt;/version&gt;\n              &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                    &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                     &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                     &lt;version&gt;9.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;                 \n      &lt;configLocation&gt;google_checks.xml&lt;/configLocation&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                    &lt;id&gt;checkstyle-check&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;check&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n         &lt;!-- Run the spotbugs code quality tool --&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n              &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                  &lt;xmlOutput&gt;false&lt;/xmlOutput&gt;\n                  &lt;htmlOutput&gt;true&lt;/htmlOutput&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                    &lt;id&gt;spotbugs-check&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;check&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;       \n        &lt;plugin&gt;\n           &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n         &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.6&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n   &lt;/build&gt;\n    &lt;modules&gt;\n    &lt;module&gt;core&lt;/module&gt;\n    &lt;module&gt;fxui&lt;/module&gt;\n    &lt;module&gt;rest&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1635404883,"post_id":69749561,"comment_id":123289859,"body_markdown":"Replacing a simple field with a `HashMap` is *definitely* a non-trivial change that potentially changes everything. I don&#39;t know for sure that it&#39;ll break, but I&#39;d be at least wary of using a simple `HashMap` with unsynchronized read access this way. It&#39;s better to use a map that&#39;s built for multithreaded access, like `ConcurrentHashMap` and simply use `mInstances.computeIfAbsent(slotId, () -&gt; new DoorControlManager(door))`.","body":"Replacing a simple field with a <code>HashMap</code> is <i>definitely</i> a non-trivial change that potentially changes everything. I don&#39;t know for sure that it&#39;ll break, but I&#39;d be at least wary of using a simple <code>HashMap</code> with unsynchronized read access this way. It&#39;s better to use a map that&#39;s built for multithreaded access, like <code>ConcurrentHashMap</code> and simply use <code>mInstances.computeIfAbsent(slotId, () -&gt; new DoorControlManager(door))</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1635405460,"post_id":69749561,"comment_id":123290059,"body_markdown":"I correct my comment: the `DoorControlManager` instance created should be fully intialized before it is added so &quot;default values instead of constructor parameters&quot; should not happen. Additionally, if this is the ony write access to the map that _should_ be ok as well since it is synchronized (i.e. it shouldn&#39;t break the map like unsynchronized writes could) but since read access (`containsKey()` and `get()` ) is not synchronized those might not work as intended.","body":"I correct my comment: the <code>DoorControlManager</code> instance created should be fully intialized before it is added so &quot;default values instead of constructor parameters&quot; should not happen. Additionally, if this is the ony write access to the map that <i>should</i> be ok as well since it is synchronized (i.e. it shouldn&#39;t break the map like unsynchronized writes could) but since read access (<code>containsKey()</code> and <code>get()</code> ) is not synchronized those might not work as intended."},{"owner":{"account_id":4765717,"reputation":3,"user_id":3851865,"display_name":"Willy"},"score":0,"creation_date":1635409988,"post_id":69749561,"comment_id":123291853,"body_markdown":"Thanks Joachim and Thomas. Hi @Thomas, could you explain more about whyt the DoorControlManager instance created should be fully intialized before it is added. Thanks.","body":"Thanks Joachim and Thomas. Hi @Thomas, could you explain more about whyt the DoorControlManager instance created should be fully intialized before it is added. Thanks."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1635411019,"post_id":69749561,"comment_id":123292313,"body_markdown":"That&#39;s how Java works: before making the instance available to the caller all initialization code will have run (i.e. all initializer blocks and the constructor). You _could_ break initialization or get partially initialized object by having the constructor put the `this` reference somewhere before it is done but this doesn&#39;t seem to happen here.","body":"That&#39;s how Java works: before making the instance available to the caller all initialization code will have run (i.e. all initializer blocks and the constructor). You <i>could</i> break initialization or get partially initialized object by having the constructor put the <code>this</code> reference somewhere before it is done but this doesn&#39;t seem to happen here."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635406050,"creation_date":1635404932,"answer_id":69749660,"question_id":69749561,"body_markdown":"Yes this code is broken, though not for the normal reason.\r\n\r\nIn this case, you have different threads accessing `HashMap` without proper synchronization.  Since `HashMap` is not a thread-safe class, this is not thread-safe.   It is possible that the first `containsKey` call will see stale values the internals of the map, and behave in *unspecified* (implementation dependent) ways.\r\n\r\nMaking &quot;simple&quot; changes to concurrency sensitive code can completely destroy the properties that make the original version thread-safe.  If you are going to attempt to write &quot;clever&quot; code like this, you **need to** have a deep understanding of Java concurrency ... and how the Java Memory Model *really* works.\r\n\r\n-----------------------\r\n\r\nThere are a couple of ways that this code could be written correctly:\r\n\r\n  1.  Use a `ConcurrentHashMap` and implement the `getInstance` method as:\r\n\r\n          return mInstances.computeIfAbsent(\r\n              slotId, () -&gt; new DoorControlManager(door));\r\n\r\n  2.  Keep using a `HashMap` and don&#39;t use the DCL pattern.  Simply lock before testing.\r\n\r\n-----------------------\r\n\r\nNote that DCL initialization pattern in Java 5+ is not broken, **provided that** the you are initializing a *single field* **and** the field is declared as `volatile`.  But there are other (better) ways to achieve the same effect, so its use is **not recommended**.\r\n\r\n","title":"Is &quot;double checked locking&quot; broken here in java?","body":"<p>Yes this code is broken, though not for the normal reason.</p>\n<p>In this case, you have different threads accessing <code>HashMap</code> without proper synchronization.  Since <code>HashMap</code> is not a thread-safe class, this is not thread-safe.   It is possible that the first <code>containsKey</code> call will see stale values the internals of the map, and behave in <em>unspecified</em> (implementation dependent) ways.</p>\n<p>Making &quot;simple&quot; changes to concurrency sensitive code can completely destroy the properties that make the original version thread-safe.  If you are going to attempt to write &quot;clever&quot; code like this, you <strong>need to</strong> have a deep understanding of Java concurrency ... and how the Java Memory Model <em>really</em> works.</p>\n<hr />\n<p>There are a couple of ways that this code could be written correctly:</p>\n<ol>\n<li><p>Use a <code>ConcurrentHashMap</code> and implement the <code>getInstance</code> method as:</p>\n<pre><code>return mInstances.computeIfAbsent(\n    slotId, () -&gt; new DoorControlManager(door));\n</code></pre>\n</li>\n<li><p>Keep using a <code>HashMap</code> and don't use the DCL pattern.  Simply lock before testing.</p>\n</li>\n</ol>\n<hr />\n<p>Note that DCL initialization pattern in Java 5+ is not broken, <strong>provided that</strong> the you are initializing a <em>single field</em> <strong>and</strong> the field is declared as <code>volatile</code>.  But there are other (better) ways to achieve the same effect, so its use is <strong>not recommended</strong>.</p>\n"}],"owner":{"account_id":4765717,"reputation":3,"user_id":3851865,"display_name":"Willy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635406050,"creation_date":1635404418,"question_id":69749561,"body_markdown":"I find an example for double checked locking.\r\n\r\nHowever, I think this example is invalid because it&#39;s possible that another thread may see a non-null reference to a DoorControlManage object of door 1 but see the default values for fields of the DoorControlManage object of door 1 rather than the values set in the constructor.\r\n(Ref: https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html)\r\n\r\nCould you let me know whether I am right?  \r\n\r\nThanks a lot!\r\n\r\n```\r\npublic class DoorControlManager {\r\n    private static HashMap&lt;Integer, DoorControlManager&gt; mInstances = new HashMap&lt;&gt;();\r\n\r\n    public static DoorControlManager getInstance(int door) {\r\n        if (!mInstances.containsKey(door)) {\r\n            synchronized (mInstances) {\r\n                if (!mInstances.containsKey(door)) {\r\n                    mInstances.put(slotId, new DoorControlManager(door));\r\n                }\r\n            }\r\n        }\r\n        return mInstances.get(slotId);\r\n    }\r\n    ...\r\n}\r\n```","title":"Is &quot;double checked locking&quot; broken here in java?","body":"<p>I find an example for double checked locking.</p>\n<p>However, I think this example is invalid because it's possible that another thread may see a non-null reference to a DoorControlManage object of door 1 but see the default values for fields of the DoorControlManage object of door 1 rather than the values set in the constructor.\n(Ref: <a href=\"https://www.cs.umd.edu/%7Epugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>)</p>\n<p>Could you let me know whether I am right?</p>\n<p>Thanks a lot!</p>\n<pre><code>public class DoorControlManager {\n    private static HashMap&lt;Integer, DoorControlManager&gt; mInstances = new HashMap&lt;&gt;();\n\n    public static DoorControlManager getInstance(int door) {\n        if (!mInstances.containsKey(door)) {\n            synchronized (mInstances) {\n                if (!mInstances.containsKey(door)) {\n                    mInstances.put(slotId, new DoorControlManager(door));\n                }\n            }\n        }\n        return mInstances.get(slotId);\n    }\n    ...\n}\n</code></pre>\n"},{"tags":["java","android","eclipse","appium","simulator"],"comments":[{"owner":{"account_id":9858821,"reputation":610,"user_id":7302505,"display_name":"Mohammad Monfared"},"score":1,"creation_date":1635406696,"post_id":69749869,"comment_id":123290531,"body_markdown":"Please include a screenshot of this part of your app and also the hierarchy","body":"Please include a screenshot of this part of your app and also the hierarchy"},{"owner":{"account_id":22350763,"reputation":1422,"user_id":16568960,"display_name":"muhammetkiran"},"score":0,"creation_date":1635413714,"post_id":69749869,"comment_id":123293529,"body_markdown":"You can use uiautomatiorviewer(only android) to see the real xpath and id of the relevant page. Do you have a pageSource for that page?","body":"You can use uiautomatiorviewer(only android) to see the real xpath and id of the relevant page. Do you have a pageSource for that page?"}],"owner":{"account_id":20753248,"reputation":1,"user_id":15240266,"display_name":"pooja attri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635406043,"creation_date":1635406043,"question_id":69749869,"body_markdown":"I am trying to automate a mobile app.I am using appium java.While automating,xpath and id of a particular screen is not working.All the screens are working fine but it stucks on a particular page in which none of the id and xpath are working.Deals section are not working.\r\nNo error are shown.\r\nhere is the code\r\n```\r\npackage tests;\r\n\r\nimport java.net.URL;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeTest;\r\nimport org.testng.annotations.Test;\r\n\r\nimport io.appium.java_client.AppiumDriver;\r\nimport io.appium.java_client.MobileElement;\r\n\r\npublic class BaseClass {\r\n\tAppiumDriver&lt;MobileElement&gt; driver ;\r\n\r\n\t@BeforeTest\r\n\tpublic void setup() {\r\n\t\ttry {\r\n\t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n\t\tcap.setCapability(&quot;deviceName&quot;, &quot;SM MO15G&quot;);\r\n\t\tcap.setCapability(&quot;udid&quot;, &quot;R9ZNA0374XT&quot;);\r\n\t\tcap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tcap.setCapability(&quot;platformVersion&quot;, &quot;11.0&quot;);\r\n\t\t//cap.setCapability(&quot;ignoreHiddenApiPolicyError&quot;, &quot;true&quot;);\r\n\t\tcap.setCapability(&quot;appPackage&quot;, &quot;com.tringapps.everest.marketplace&quot;);\r\n\t\tcap.setCapability(&quot;appActivity&quot;, &quot;com.everest.MainActivity&quot;);\r\n\t\t//cap.setCapability(&quot;appWaitForLaunch&quot;, &quot;false&quot;);\r\n\t\tcap.setCapability(&quot;automationName&quot; ,&quot;uiautomator2&quot;);\r\n\t\tcap.setCapability(&quot;skipuUnlock&quot;, &quot;false&quot;);\r\n\t\tURL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n\t\tdriver = new AppiumDriver&lt;MobileElement&gt;(url,cap);\r\n\t\tdriver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n\t\t\r\n\t\tThread.sleep(3000);\r\n\t\tMobileElement skip = driver.findElement(By.xpath(&quot;//android.view.ViewGroup[@content-desc=\\&quot;next_button_onboarding\\&quot;]&quot;));\r\n\t\tskip.click();\r\n\t\t\r\n\t\tThread.sleep(3000);\r\n\t\tMobileElement skipcaliber = driver.findElement(By.xpath(&quot;//android.view.ViewGroup[@content-desc=\\&quot;skip_button_onboarding\\&quot;]&quot;));\r\n\t\tskipcaliber.click();\r\nThread.sleep(10000);\r\n\t\tMobileElement deals = driver.findElement(By.xpath(&quot;//android.widget.TextView[@content-desc=\\&quot;home-dealOfTheDay-seeMore\\&quot;]&quot;));\r\n\t\tdeals.click();\r\n\t\t\r\n\t\t\r\n\t\t}\r\n\t\tcatch(Exception exp) {\r\n\t\tSystem.out.println(&quot;cause is :&quot; +exp.getCause());\r\n\t\tSystem.out.println(&quot;Message is :&quot; + exp.getMessage());\r\n\t\texp.printStackTrace();\r\n\t}\r\n\t}\r\n\t@Test\r\n\tpublic void sampleTest() {\r\n\t\tSystem.out.println(&quot;I am inside the sample test&quot;);\r\n\t}\r\n\t@AfterTest\r\n\tpublic void teardown() {\r\n\t}\r\n\t\r\n}\r\n```","title":"xpath and id is not working of a particular page of mobile app","body":"<p>I am trying to automate a mobile app.I am using appium java.While automating,xpath and id of a particular screen is not working.All the screens are working fine but it stucks on a particular page in which none of the id and xpath are working.Deals section are not working.\nNo error are shown.\nhere is the code</p>\n<pre><code>package tests;\n\nimport java.net.URL;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.MobileElement;\n\npublic class BaseClass {\n    AppiumDriver&lt;MobileElement&gt; driver ;\n\n    @BeforeTest\n    public void setup() {\n        try {\n        DesiredCapabilities cap = new DesiredCapabilities();\n        cap.setCapability(&quot;deviceName&quot;, &quot;SM MO15G&quot;);\n        cap.setCapability(&quot;udid&quot;, &quot;R9ZNA0374XT&quot;);\n        cap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n        cap.setCapability(&quot;platformVersion&quot;, &quot;11.0&quot;);\n        //cap.setCapability(&quot;ignoreHiddenApiPolicyError&quot;, &quot;true&quot;);\n        cap.setCapability(&quot;appPackage&quot;, &quot;com.tringapps.everest.marketplace&quot;);\n        cap.setCapability(&quot;appActivity&quot;, &quot;com.everest.MainActivity&quot;);\n        //cap.setCapability(&quot;appWaitForLaunch&quot;, &quot;false&quot;);\n        cap.setCapability(&quot;automationName&quot; ,&quot;uiautomator2&quot;);\n        cap.setCapability(&quot;skipuUnlock&quot;, &quot;false&quot;);\n        URL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\n        driver = new AppiumDriver&lt;MobileElement&gt;(url,cap);\n        driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n        \n        Thread.sleep(3000);\n        MobileElement skip = driver.findElement(By.xpath(&quot;//android.view.ViewGroup[@content-desc=\\&quot;next_button_onboarding\\&quot;]&quot;));\n        skip.click();\n        \n        Thread.sleep(3000);\n        MobileElement skipcaliber = driver.findElement(By.xpath(&quot;//android.view.ViewGroup[@content-desc=\\&quot;skip_button_onboarding\\&quot;]&quot;));\n        skipcaliber.click();\nThread.sleep(10000);\n        MobileElement deals = driver.findElement(By.xpath(&quot;//android.widget.TextView[@content-desc=\\&quot;home-dealOfTheDay-seeMore\\&quot;]&quot;));\n        deals.click();\n        \n        \n        }\n        catch(Exception exp) {\n        System.out.println(&quot;cause is :&quot; +exp.getCause());\n        System.out.println(&quot;Message is :&quot; + exp.getMessage());\n        exp.printStackTrace();\n    }\n    }\n    @Test\n    public void sampleTest() {\n        System.out.println(&quot;I am inside the sample test&quot;);\n    }\n    @AfterTest\n    public void teardown() {\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1635405938,"post_id":69749398,"comment_id":123290247,"body_markdown":"As Huthaifa Muayyad pointed out in his answer, you have to perform two separate queries. All the queries in Firestore are shallow, it can only get items from the collection that the query is run against. There is no way to get documents from a top-level collection and a sub-collections in a single query","body":"As Huthaifa Muayyad pointed out in his answer, you have to perform two separate queries. All the queries in Firestore are shallow, it can only get items from the collection that the query is run against. There is no way to get documents from a top-level collection and a sub-collections in a single query"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635408096,"post_id":69749398,"comment_id":123291081,"body_markdown":"You&#39;re very welcome, Patrick.","body":"You&#39;re very welcome, Patrick."}],"answers":[{"tags":[],"owner":{"account_id":18603901,"reputation":11632,"user_id":13558035,"display_name":"Huthaifa Muayyad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635405434,"creation_date":1635405434,"answer_id":69749736,"question_id":69749398,"body_markdown":"You need to run two separate queries.\r\n```\r\nquery = collectionReference.whereEqualTo(&quot;Product&quot;, Constants.PRODUCT_NAME);\r\n```\r\nAfter this, you will know the DocumentID, you need to use this docId to point to the sub-collection, this is the pseudo code:\r\n```\r\ncollectionReference.doc(&#39;ID from previous query&#39;).collection(&#39;Photos&#39;);\r\n```\r\n","title":"Firestore Querying a collection with a sub collection","body":"<p>You need to run two separate queries.</p>\n<pre><code>query = collectionReference.whereEqualTo(&quot;Product&quot;, Constants.PRODUCT_NAME);\n</code></pre>\n<p>After this, you will know the DocumentID, you need to use this docId to point to the sub-collection, this is the pseudo code:</p>\n<pre><code>collectionReference.doc('ID from previous query').collection('Photos');\n</code></pre>\n"}],"owner":{"account_id":20711711,"reputation":107,"user_id":15208199,"display_name":"Patrick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69749736,"answer_count":1,"score":0,"last_activity_date":1635405686,"creation_date":1635403593,"question_id":69749398,"body_markdown":"I&#39;m stuck and needed help. I want to retrieve data from my Firestore database and display it to my Firestore recycler adapter. But my problem is, my query only retrieves the document after the root collection.\r\n\r\nthis is the structure of my Firestore database\r\n\r\n - Product (Collection)\r\n \r\n    - product name,price (Document)\r\n    \r\n      - Photos (Collection)\r\n    \r\n        - image_url (Document)\r\n\r\nHere is my query \r\n\r\n    query = collectionReference.whereEqualTo(&quot;Product&quot;, Constants.PRODUCT_NAME);\r\n\r\nWhat I want to achieve is, also to retrieve my Photos collection from a single document and display it to my Firestore recyclerview.","title":"Firestore Querying a collection with a sub collection","body":"<p>I'm stuck and needed help. I want to retrieve data from my Firestore database and display it to my Firestore recycler adapter. But my problem is, my query only retrieves the document after the root collection.</p>\n<p>this is the structure of my Firestore database</p>\n<ul>\n<li><p>Product (Collection)</p>\n<ul>\n<li><p>product name,price (Document)</p>\n<ul>\n<li><p>Photos (Collection)</p>\n<ul>\n<li>image_url (Document)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Here is my query</p>\n<pre><code>query = collectionReference.whereEqualTo(&quot;Product&quot;, Constants.PRODUCT_NAME);\n</code></pre>\n<p>What I want to achieve is, also to retrieve my Photos collection from a single document and display it to my Firestore recyclerview.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635405662,"creation_date":1635405251,"answer_id":69749705,"question_id":69748777,"body_markdown":"&gt; How to create a model class for dynamic keys?\r\n\r\nThere&#39;s no way you can do that. You **cannot** have dynamic variable names inside a class. The name of the fields that exist in a class should match the ones the exist in the database. However, there is a way in which you can read dynamic data and that would be:\r\n\r\n\tString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\tDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference uidRef = rootRef.child(&quot;MyData&quot;).child(uid);\r\n    uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tString key = ds.getKey();\r\n\t\t\t\t\tString value = ds.getValue(String.class);\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, key + &quot;/&quot; + value);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThis will work assuming that &quot;S71M ... b7z1&quot; is the UID of the authenticated user. If it&#39;s not, you have to hardcode that value inside the second `.child(&quot;S71M ... b7z1&quot;)` call.\r\n\r\nThe above code will produce the following result in the logcat:\r\n\r\n    3/10\r\n    13/60\r\n    ...\r\n\r\nAlso, remember that you need to have the same type of data for all the values. As I see in your schema, you don&#39;t have. Some are strings and others are numbers:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo try to change all values to String, and the code may remain unchanged or, change all values to be numbers and the use:\r\n\r\n    long value = ds.getValue(Long.class);\r\n\r\nIn case of keys, there is nothing you should do, as all keys are strings.\r\n\r\n  [1]: https://i.stack.imgur.com/YG9i7.jpg","title":"How to create a model class for dynamic keys and values in firebase database in android","body":"<blockquote>\n<p>How to create a model class for dynamic keys?</p>\n</blockquote>\n<p>There's no way you can do that. You <strong>cannot</strong> have dynamic variable names inside a class. The name of the fields that exist in a class should match the ones the exist in the database. However, there is a way in which you can read dynamic data and that would be:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference uidRef = rootRef.child(&quot;MyData&quot;).child(uid);\nuidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                String key = ds.getKey();\n                String value = ds.getValue(String.class);\n                Log.d(&quot;TAG&quot;, key + &quot;/&quot; + value);\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>This will work assuming that &quot;S71M ... b7z1&quot; is the UID of the authenticated user. If it's not, you have to hardcode that value inside the second <code>.child(&quot;S71M ... b7z1&quot;)</code> call.</p>\n<p>The above code will produce the following result in the logcat:</p>\n<pre><code>3/10\n13/60\n...\n</code></pre>\n<p>Also, remember that you need to have the same type of data for all the values. As I see in your schema, you don't have. Some are strings and others are numbers:</p>\n<p><a href=\"https://i.stack.imgur.com/YG9i7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YG9i7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So try to change all values to String, and the code may remain unchanged or, change all values to be numbers and the use:</p>\n<pre><code>long value = ds.getValue(Long.class);\n</code></pre>\n<p>In case of keys, there is nothing you should do, as all keys are strings.</p>\n"}],"owner":{"account_id":21087190,"reputation":13,"user_id":15500031,"display_name":"Sourabh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69749705,"answer_count":1,"score":1,"last_activity_date":1635405662,"creation_date":1635399369,"question_id":69748777,"body_markdown":"How to retrieve all the key nodes and values inside a model class?\r\n\r\n[Here][1] is my database schema.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MNFRS.jpg","title":"How to create a model class for dynamic keys and values in firebase database in android","body":"<p>How to retrieve all the key nodes and values inside a model class?</p>\n<p><a href=\"https://i.stack.imgur.com/MNFRS.jpg\" rel=\"nofollow noreferrer\">Here</a> is my database schema.</p>\n"},{"tags":["java","android","google-drive-android-api"],"answers":[{"tags":[],"owner":{"account_id":11640488,"reputation":51,"user_id":8525101,"display_name":"MuseYkh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619423248,"creation_date":1619423248,"answer_id":67262712,"question_id":61519628,"body_markdown":"Because iOS apply internal debug mode, so he can use `.../auth/drive` scope, but default you only have `.../auth/drive.file` scope, it only allow you to access the content created by your app.\r\nYou can refer to [this][1] for the details\r\n\r\n\r\n  [1]: https://developers.google.com/identity/protocols/oauth2/scopes#drive","title":"Android Google DRIVE API V3 - query folders does not return all folders","body":"<p>Because iOS apply internal debug mode, so he can use <code>.../auth/drive</code> scope, but default you only have <code>.../auth/drive.file</code> scope, it only allow you to access the content created by your app.\nYou can refer to <a href=\"https://developers.google.com/identity/protocols/oauth2/scopes#drive\" rel=\"nofollow noreferrer\">this</a> for the details</p>\n"}],"owner":{"account_id":14158468,"reputation":11,"user_id":10228427,"display_name":"Luo Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635405520,"creation_date":1588237172,"question_id":61519628,"body_markdown":"Currently my team is working on both iOS and Android system.\r\nWe have 2 individual Apps, and our idea is - using Google Drive as a data relay.\r\nThat is, our Android App packs a zip file, uploads it to Google Drive, \r\nand then the iOS App downloads it for further processing.\r\n\r\nOur team is sharing a Google account, so the data is uploaded to and downloaded from the same Google account.\r\n\r\nI followed the tutorials of how to sign-in with Google Account:\r\nhttps://developers.google.com/identity/sign-in/android/sign-in\r\n\r\nAnd I&#39;ve also linked up my App in the Google API Console.\r\n(By establishing credentials using the SHA5 key of my App.)\r\nMy App is now capable of uploading files to and create folders on Google Drive using Drive API.\r\nHowever, when I want to list all folders on the Google Drive, \r\nI found out that my Android App can **ONLY** see the folders it created.\r\nI changed the query condition to files, and it also can ONLY return the files it has uploaded.\r\n\r\nI asked my colleague who implements the iOS App and uses the iOS version of Drive API.\r\nHe says that his iOS App can see **ALL** the folders and files on the Google Drive storage.\r\nAnd both of our Apps are still in debug stage (not in App store, or release mode).\r\n\r\nAm I missing something? Or is this some kind of privacy protection mechanism?\r\n\r\nHere&#39;s my query code in Java:\r\n```\r\n    void queryAllFolders() {\r\n        if(isReady()) {\r\n            Task&lt;FileList&gt; queryAllFoldersTask = queryAllGoogleDriveFolders();\r\n            if(queryAllFoldersTask != null) {\r\n                queryAllFoldersTask.addOnCompleteListener(this::onQueryAllFoldersCompleted);\r\n                queryAllFoldersTask.addOnFailureListener(this::onQueryAllFoldersFailed);\r\n            }\r\n        }\r\n    }\r\n\r\n    private Task&lt;FileList&gt; queryAllGoogleDriveFolders() {\r\n        try{\r\n            return Tasks.call(mExecutor, () -&gt; {\r\n                // Retrieve the metadata as a FileList object.\r\n                String pageToken = null;\r\n                FileList result;\r\n                do {\r\n                    mLogger.debug(&quot;[queryAllGoogleDriveFolders] start query&quot;);\r\n                    result = mDriveService.files().list()\r\n                            .setQ(&quot;mimeType=&#39;application/vnd.google-apps.folder&#39; and trashed=false&quot;)\r\n                            .setSpaces(&quot;drive&quot;)\r\n                            .setFields(&quot;nextPageToken, files(id, name)&quot;)\r\n                            .setPageToken(pageToken)\r\n                            .execute();\r\n                    for (File file : result.getFiles()) {\r\n                        mLogger.debug(&quot;[queryAllGoogleDriveFolders] Found folder: &quot; + file.getName() + &quot; with ID: &quot; + file.getId());\r\n                    }\r\n                    pageToken = result.getNextPageToken();\r\n                } while (pageToken != null);\r\n\r\n                return result;\r\n            });\r\n        } catch (Exception e) {\r\n            mLogger.error(&quot;[queryAllGoogleDriveFolders] Error querying Google Drive folders: &quot; + e.getLocalizedMessage());\r\n            e.printStackTrace();\r\n            if(onQueryAllFoldersFailedCallback != null) { onQueryAllFoldersFailedCallback.run(); }\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nThe &quot;trashed=false&quot; does not affect the result of query - other folders that are not created by my Android App is still unseen whether this condition is added. \r\n\r\nThanks for any help in advance.","title":"Android Google DRIVE API V3 - query folders does not return all folders","body":"<p>Currently my team is working on both iOS and Android system.\nWe have 2 individual Apps, and our idea is - using Google Drive as a data relay.\nThat is, our Android App packs a zip file, uploads it to Google Drive, \nand then the iOS App downloads it for further processing.</p>\n\n<p>Our team is sharing a Google account, so the data is uploaded to and downloaded from the same Google account.</p>\n\n<p>I followed the tutorials of how to sign-in with Google Account:\n<a href=\"https://developers.google.com/identity/sign-in/android/sign-in\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/android/sign-in</a></p>\n\n<p>And I've also linked up my App in the Google API Console.\n(By establishing credentials using the SHA5 key of my App.)\nMy App is now capable of uploading files to and create folders on Google Drive using Drive API.\nHowever, when I want to list all folders on the Google Drive, \nI found out that my Android App can <strong>ONLY</strong> see the folders it created.\nI changed the query condition to files, and it also can ONLY return the files it has uploaded.</p>\n\n<p>I asked my colleague who implements the iOS App and uses the iOS version of Drive API.\nHe says that his iOS App can see <strong>ALL</strong> the folders and files on the Google Drive storage.\nAnd both of our Apps are still in debug stage (not in App store, or release mode).</p>\n\n<p>Am I missing something? Or is this some kind of privacy protection mechanism?</p>\n\n<p>Here's my query code in Java:</p>\n\n<pre><code>    void queryAllFolders() {\n        if(isReady()) {\n            Task&lt;FileList&gt; queryAllFoldersTask = queryAllGoogleDriveFolders();\n            if(queryAllFoldersTask != null) {\n                queryAllFoldersTask.addOnCompleteListener(this::onQueryAllFoldersCompleted);\n                queryAllFoldersTask.addOnFailureListener(this::onQueryAllFoldersFailed);\n            }\n        }\n    }\n\n    private Task&lt;FileList&gt; queryAllGoogleDriveFolders() {\n        try{\n            return Tasks.call(mExecutor, () -&gt; {\n                // Retrieve the metadata as a FileList object.\n                String pageToken = null;\n                FileList result;\n                do {\n                    mLogger.debug(\"[queryAllGoogleDriveFolders] start query\");\n                    result = mDriveService.files().list()\n                            .setQ(\"mimeType='application/vnd.google-apps.folder' and trashed=false\")\n                            .setSpaces(\"drive\")\n                            .setFields(\"nextPageToken, files(id, name)\")\n                            .setPageToken(pageToken)\n                            .execute();\n                    for (File file : result.getFiles()) {\n                        mLogger.debug(\"[queryAllGoogleDriveFolders] Found folder: \" + file.getName() + \" with ID: \" + file.getId());\n                    }\n                    pageToken = result.getNextPageToken();\n                } while (pageToken != null);\n\n                return result;\n            });\n        } catch (Exception e) {\n            mLogger.error(\"[queryAllGoogleDriveFolders] Error querying Google Drive folders: \" + e.getLocalizedMessage());\n            e.printStackTrace();\n            if(onQueryAllFoldersFailedCallback != null) { onQueryAllFoldersFailedCallback.run(); }\n            return null;\n        }\n    }\n</code></pre>\n\n<p>The \"trashed=false\" does not affect the result of query - other folders that are not created by my Android App is still unseen whether this condition is added. </p>\n\n<p>Thanks for any help in advance.</p>\n"},{"tags":["java","azure","spring-security","saml","opensaml"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1612557978,"post_id":66065818,"comment_id":116813947,"body_markdown":"the tutorial you have linked to is horribly outdated, its from 2016, and using spring 1.5.3. Current spring version is 2.4.2. I would suggest you instead read the official documentation on SAML https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-saml2","body":"the tutorial you have linked to is horribly outdated, its from 2016, and using spring 1.5.3. Current spring version is 2.4.2. I would suggest you instead read the official documentation on SAML <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-saml2\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a>"},{"owner":{"account_id":3108455,"reputation":39,"user_id":2630771,"display_name":"user2630771"},"score":0,"creation_date":1613125614,"post_id":66065818,"comment_id":116985463,"body_markdown":"thanks, do you know of any working example using the current spring version? it is extremely hard for someone with limited knowledge to start a fresh and different versions seem to be very different from each other. I am also constrained to using Java 8 in my project.","body":"thanks, do you know of any working example using the current spring version? it is extremely hard for someone with limited knowledge to start a fresh and different versions seem to be very different from each other. I am also constrained to using Java 8 in my project."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1613126261,"post_id":66065818,"comment_id":116985768,"body_markdown":"no i dont know any tutorials, and also it&#39;s not allowed to ask for tutorials, libraries etc on Stack Overflow. This is not that kind of site. https://meta.stackoverflow.com/questions/261843/questions-that-ask-about-tutorials-or-how-to-do-something-without-showing-code you have to do like most of us do when we are facing a problem. google, google, read, read, google some more, google and gain knowledge.","body":"no i dont know any tutorials, and also it&#39;s not allowed to ask for tutorials, libraries etc on Stack Overflow. This is not that kind of site. <a href=\"https://meta.stackoverflow.com/questions/261843/questions-that-ask-about-tutorials-or-how-to-do-something-without-showing-code\" title=\"questions that ask about tutorials or how to do something without showing code\">meta.stackoverflow.com/questions/261843/&hellip;</a> you have to do like most of us do when we are facing a problem. google, google, read, read, google some more, google and gain knowledge."}],"answers":[{"tags":[],"owner":{"account_id":19892464,"reputation":11446,"user_id":14574199,"display_name":"Tiny Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612769088,"creation_date":1612769088,"answer_id":66097364,"question_id":66065818,"body_markdown":"If you are trying to add authentication to a java web application with springboot, I think this [document][1] can help you, it provides a sample on integrating azure ad.\r\n\r\nAnd if you want to make the springboot backend app as an API application(Front and back-end separation), I have an idea that you could use masl.js to achieve login module in front-end application, and the backend app just adding filter to check if the request is consented. I used to write a filter like below.\r\n\r\n    package com.example.demo;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.annotation.WebFilter;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import com.alibaba.fastjson.JSONObject;\r\n    import com.auth0.jwt.JWT;\r\n    import com.auth0.jwt.exceptions.JWTDecodeException;\r\n    import com.auth0.jwt.interfaces.Claim;\r\n    import com.auth0.jwt.interfaces.DecodedJWT;\r\n    \r\n    //@Component\r\n    @WebFilter(filterName = &quot;AdHelloFilter&quot;, urlPatterns = {&quot;/ad/*&quot;})\r\n    public class AdHelloFilter implements Filter  {\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t\r\n    \t\tHttpServletRequest httpRequest = (HttpServletRequest) request;\r\n    \t\tHttpServletResponse httpResponse= (HttpServletResponse) response;\r\n    \t\t\r\n    \t\tfinal String requestTokenHeader = httpRequest.getHeader(&quot;Authorization&quot;);\r\n    \t\tif (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n    \t\t\tString jwtToken = requestTokenHeader.substring(7);\r\n    \t\t\ttry {\r\n    \t\t\t    DecodedJWT jwt = JWT.decode(jwtToken);\r\n    \t\t\t    //judge if expired\r\n    \t\t\t    Date expiresAt = jwt.getExpiresAt();\r\n    \t\t\t    if(expiresAt.before(new Date())) {\r\n    \t\t\t    \tMap&lt;String, Object&gt; errRes = new HashMap&lt;String, Object&gt;();\r\n    \t\t\t\t\tMap&lt;String, Object&gt; errMesg = new HashMap&lt;String, Object&gt;();\r\n    \t\t\t\t\terrMesg.put(&quot;code&quot;, &quot;InvalidAuthenticationToken&quot;);\r\n    \t\t\t\t\terrMesg.put(&quot;message&quot;, &quot;Access token has expired.&quot;);\r\n    \t\t\t\t\terrRes.put(&quot;error&quot;, errMesg);\r\n    \t\t\t\t\tString json = JSONObject.toJSONString(errRes);   \r\n    \t\t\t\t\thttpResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, json);\r\n    \t\t        \treturn;\r\n    \t\t\t    }\r\n    \t\t\t    //judge if has specific scope\r\n    \t\t\t    Claim a = jwt.getClaim(&quot;scp&quot;);\r\n    \t\t\t    String scope = a.asString();\r\n    \t\t\t    String[] scopeArr = scope.split(&quot; &quot;);\r\n    \t\t\t    List&lt;String&gt; scopeList= Arrays.asList(scopeArr);\r\n    \t\t\t    if(!(scopeList.contains(&quot;User.Read&quot;) &amp;&amp; scopeList.contains(&quot;Mail.Read&quot;))) {\r\n    \t\t\t    \tMap&lt;String, Object&gt; errRes = new HashMap&lt;String, Object&gt;();\r\n    \t\t\t\t\tMap&lt;String, Object&gt; errMesg = new HashMap&lt;String, Object&gt;();\r\n    \t\t\t\t\terrMesg.put(&quot;code&quot;, &quot;InvalidAuthenticationToken&quot;);\r\n    \t\t\t\t\terrMesg.put(&quot;message&quot;, &quot;Unauthorized, pls add api permission&quot;);\r\n    \t\t\t\t\terrRes.put(&quot;error&quot;, errMesg);\r\n    \t\t\t\t\tString json = JSONObject.toJSONString(errRes);   \r\n    \t\t\t\t\thttpResponse.sendError(HttpServletResponse.SC_FORBIDDEN, json);\r\n    \t\t\t    \treturn;\r\n    \t\t\t    }\r\n    \t\t\t} catch (JWTDecodeException exception){\r\n    \t\t\t\tSystem.out.println(&quot;Unable to Decode the JWT Token&quot;);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\thttpResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED);\r\n            \treturn;\r\n    \t\t}\r\n    \t\tfilterChain.doFilter(request, response);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void init (FilterConfig filterConfig) throws ServletException{\r\n    \t\tSystem.out.println(&quot;init filter&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void destroy() {}\r\n    }\r\n\r\n\r\n  [1]: https://github.com/Azure-Samples/ms-identity-java-webapp/tree/master/msal-java-webapp-sample\r\n","title":"Configuring Azure AD as IDP in Spring Security","body":"<p>If you are trying to add authentication to a java web application with springboot, I think this <a href=\"https://github.com/Azure-Samples/ms-identity-java-webapp/tree/master/msal-java-webapp-sample\" rel=\"nofollow noreferrer\">document</a> can help you, it provides a sample on integrating azure ad.</p>\n<p>And if you want to make the springboot backend app as an API application(Front and back-end separation), I have an idea that you could use masl.js to achieve login module in front-end application, and the backend app just adding filter to check if the request is consented. I used to write a filter like below.</p>\n<pre><code>package com.example.demo;\n\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.annotation.WebFilter;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport com.alibaba.fastjson.JSONObject;\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.exceptions.JWTDecodeException;\nimport com.auth0.jwt.interfaces.Claim;\nimport com.auth0.jwt.interfaces.DecodedJWT;\n\n//@Component\n@WebFilter(filterName = &quot;AdHelloFilter&quot;, urlPatterns = {&quot;/ad/*&quot;})\npublic class AdHelloFilter implements Filter  {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)\n            throws IOException, ServletException {\n        \n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n        HttpServletResponse httpResponse= (HttpServletResponse) response;\n        \n        final String requestTokenHeader = httpRequest.getHeader(&quot;Authorization&quot;);\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n            String jwtToken = requestTokenHeader.substring(7);\n            try {\n                DecodedJWT jwt = JWT.decode(jwtToken);\n                //judge if expired\n                Date expiresAt = jwt.getExpiresAt();\n                if(expiresAt.before(new Date())) {\n                    Map&lt;String, Object&gt; errRes = new HashMap&lt;String, Object&gt;();\n                    Map&lt;String, Object&gt; errMesg = new HashMap&lt;String, Object&gt;();\n                    errMesg.put(&quot;code&quot;, &quot;InvalidAuthenticationToken&quot;);\n                    errMesg.put(&quot;message&quot;, &quot;Access token has expired.&quot;);\n                    errRes.put(&quot;error&quot;, errMesg);\n                    String json = JSONObject.toJSONString(errRes);   \n                    httpResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, json);\n                    return;\n                }\n                //judge if has specific scope\n                Claim a = jwt.getClaim(&quot;scp&quot;);\n                String scope = a.asString();\n                String[] scopeArr = scope.split(&quot; &quot;);\n                List&lt;String&gt; scopeList= Arrays.asList(scopeArr);\n                if(!(scopeList.contains(&quot;User.Read&quot;) &amp;&amp; scopeList.contains(&quot;Mail.Read&quot;))) {\n                    Map&lt;String, Object&gt; errRes = new HashMap&lt;String, Object&gt;();\n                    Map&lt;String, Object&gt; errMesg = new HashMap&lt;String, Object&gt;();\n                    errMesg.put(&quot;code&quot;, &quot;InvalidAuthenticationToken&quot;);\n                    errMesg.put(&quot;message&quot;, &quot;Unauthorized, pls add api permission&quot;);\n                    errRes.put(&quot;error&quot;, errMesg);\n                    String json = JSONObject.toJSONString(errRes);   \n                    httpResponse.sendError(HttpServletResponse.SC_FORBIDDEN, json);\n                    return;\n                }\n            } catch (JWTDecodeException exception){\n                System.out.println(&quot;Unable to Decode the JWT Token&quot;);\n            }\n        } else {\n            httpResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED);\n            return;\n        }\n        filterChain.doFilter(request, response);\n    }\n    \n    @Override\n    public void init (FilterConfig filterConfig) throws ServletException{\n        System.out.println(&quot;init filter&quot;);\n    }\n    \n    @Override\n    public void destroy() {}\n}\n</code></pre>\n"}],"owner":{"account_id":3108455,"reputation":39,"user_id":2630771,"display_name":"user2630771"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1032,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635405133,"creation_date":1612538179,"question_id":66065818,"body_markdown":"So I am trying to use Azure AD as a SAML IDP but I keep getting the following error during runtime:\r\n\r\n```\r\n2021-02-05 16:09:16.303 ERROR 3760 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP] with root cause\r\n\r\norg.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP\r\n\tat org.springframework.security.saml.metadata.MetadataManager.getDefaultIDP(MetadataManager.java:795) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.saml.context.SAMLContextProviderImpl.populatePeerEntityId(SAMLContextProviderImpl.java:157) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.saml.context.SAMLContextProviderImpl.getLocalAndPeerEntity(SAMLContextProviderImpl.java:127) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.saml.SAMLEntryPoint.commence(SAMLEntryPoint.java:146) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:203) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:177) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:133) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:208) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:185) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_271]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_271]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.14.jar:8.5.14]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_271]\r\n\r\n2021-02-05 16:09:18.804  INFO 3760 --- [Metadata-reload] .s.m.p.AbstractReloadingMetadataProvider : Next refresh cycle for metadata provider &#39;file:/C:/Projects/New%20folder/saml-jwt-sample/target/classes/rtw-saml-app-1.xml&#39; will occur on &#39;2021-02-05T15:14:18.804Z&#39; (&#39;2021-02-05T16:14:18.804+01:00&#39; local time)\r\n2021-02-05 16:09:18.804 ERROR 3760 --- [Metadata-reload] o.o.s.m.p.AbstractMetadataProvider       : Metadata provider failed to properly initialize, fail-fast=true, halting\r\n\r\norg.opensaml.saml2.metadata.provider.MetadataProviderException: java.lang.NullPointerException\r\n\tat org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:267) ~[opensaml-2.6.1.jar:na]\r\n\tat org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:236) ~[opensaml-2.6.1.jar:na]\r\n\tat org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407) ~[opensaml-2.6.1.jar:na]\r\n\tat org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:412) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:238) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1040) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\r\n\tat java.util.TimerThread.mainLoop(Timer.java:555) [na:1.8.0_271]\r\n\tat java.util.TimerThread.run(Timer.java:505) [na:1.8.0_271]\r\nCaused by: java.lang.NullPointerException: null\r\n\tat org.opensaml.saml2.common.SAML2Helper.getEarliestExpiration(SAML2Helper.java:112) ~[opensaml-2.6.1.jar:na]\r\n\tat org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.processCachedMetadata(AbstractReloadingMetadataProvider.java:328) ~[opensaml-2.6.1.jar:na]\r\n\tat org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258) ~[opensaml-2.6.1.jar:na]\r\n\t... 9 common frames omitted\r\n```\r\n\r\nI am using the SAML solution as described https://www.sylvainlemoine.com/2016/06/06/spring-saml2.0-websso-and-jwt-for-mobile-api/ and suspect the issue might be that I am using the wrong information for these beans.  :\r\n\r\n```\r\n    @Bean\r\n    public MetadataGenerator metadataGenerator() {\r\n        MetadataGenerator metadataGenerator = new MetadataGenerator();\r\n        metadataGenerator.setEntityId(&quot;SamlJwtSampleEntityId&quot;);\r\n        metadataGenerator.setExtendedMetadata(extendedMetadata());\r\n        metadataGenerator.setIncludeDiscoveryExtension(false);\r\n        metadataGenerator.setKeyManager(keyManager());\r\n        return metadataGenerator;\r\n    }\r\n\r\n    @Bean\r\n    public KeyManager keyManager() {\r\n        ClassPathResource storeFile = new ClassPathResource(&quot;/saml-keystore.jks&quot;);\r\n        String storePass = &quot;samlstorepass&quot;;\r\n        Map&lt;String, String&gt; passwords = new HashMap&lt;&gt;();\r\n        passwords.put(&quot;mykeyalias&quot;, &quot;mykeypass&quot;);\r\n        return new JKSKeyManager(storeFile, storePass, passwords, &quot;mykeyalias&quot;);\r\n    }\r\n```\r\n\r\nI created a new jks file based on the meta data file and cert file I downloaded form the Azure portal using the following:\r\n\r\nkeytool -importcert -genkeypair -alias saml-app-1 -keypass keypass -storepass samlstorepass -keystore saml-app-1.jks -file saml-app-1.cer\r\n\r\nAnd updated the passwords and file names in the above code.\r\n\r\nAny pointers?","title":"Configuring Azure AD as IDP in Spring Security","body":"<p>So I am trying to use Azure AD as a SAML IDP but I keep getting the following error during runtime:</p>\n<pre><code>2021-02-05 16:09:16.303 ERROR 3760 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [org.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP] with root cause\n\norg.opensaml.saml2.metadata.provider.MetadataProviderException: No IDP was configured, please update included metadata with at least one IDP\n    at org.springframework.security.saml.metadata.MetadataManager.getDefaultIDP(MetadataManager.java:795) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.saml.context.SAMLContextProviderImpl.populatePeerEntityId(SAMLContextProviderImpl.java:157) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.saml.context.SAMLContextProviderImpl.getLocalAndPeerEntity(SAMLContextProviderImpl.java:127) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.saml.SAMLEntryPoint.commence(SAMLEntryPoint.java:146) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:203) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:177) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:133) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:208) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:185) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87) ~[spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.2.RELEASE.jar:4.2.2.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_271]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_271]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.14.jar:8.5.14]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_271]\n\n2021-02-05 16:09:18.804  INFO 3760 --- [Metadata-reload] .s.m.p.AbstractReloadingMetadataProvider : Next refresh cycle for metadata provider 'file:/C:/Projects/New%20folder/saml-jwt-sample/target/classes/rtw-saml-app-1.xml' will occur on '2021-02-05T15:14:18.804Z' ('2021-02-05T16:14:18.804+01:00' local time)\n2021-02-05 16:09:18.804 ERROR 3760 --- [Metadata-reload] o.o.s.m.p.AbstractMetadataProvider       : Metadata provider failed to properly initialize, fail-fast=true, halting\n\norg.opensaml.saml2.metadata.provider.MetadataProviderException: java.lang.NullPointerException\n    at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:267) ~[opensaml-2.6.1.jar:na]\n    at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.doInitialization(AbstractReloadingMetadataProvider.java:236) ~[opensaml-2.6.1.jar:na]\n    at org.opensaml.saml2.metadata.provider.AbstractMetadataProvider.initialize(AbstractMetadataProvider.java:407) ~[opensaml-2.6.1.jar:na]\n    at org.springframework.security.saml.metadata.ExtendedMetadataDelegate.initialize(ExtendedMetadataDelegate.java:167) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.saml.metadata.MetadataManager.initializeProvider(MetadataManager.java:412) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.saml.metadata.MetadataManager.refreshMetadata(MetadataManager.java:238) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.saml.metadata.CachingMetadataManager.refreshMetadata(CachingMetadataManager.java:86) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at org.springframework.security.saml.metadata.MetadataManager$RefreshTask.run(MetadataManager.java:1040) [spring-security-saml2-core-1.0.2.RELEASE.jar:1.0.2.RELEASE]\n    at java.util.TimerThread.mainLoop(Timer.java:555) [na:1.8.0_271]\n    at java.util.TimerThread.run(Timer.java:505) [na:1.8.0_271]\nCaused by: java.lang.NullPointerException: null\n    at org.opensaml.saml2.common.SAML2Helper.getEarliestExpiration(SAML2Helper.java:112) ~[opensaml-2.6.1.jar:na]\n    at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.processCachedMetadata(AbstractReloadingMetadataProvider.java:328) ~[opensaml-2.6.1.jar:na]\n    at org.opensaml.saml2.metadata.provider.AbstractReloadingMetadataProvider.refresh(AbstractReloadingMetadataProvider.java:258) ~[opensaml-2.6.1.jar:na]\n    ... 9 common frames omitted\n</code></pre>\n<p>I am using the SAML solution as described <a href=\"https://www.sylvainlemoine.com/2016/06/06/spring-saml2.0-websso-and-jwt-for-mobile-api/\" rel=\"nofollow noreferrer\">https://www.sylvainlemoine.com/2016/06/06/spring-saml2.0-websso-and-jwt-for-mobile-api/</a> and suspect the issue might be that I am using the wrong information for these beans.  :</p>\n<pre><code>    @Bean\n    public MetadataGenerator metadataGenerator() {\n        MetadataGenerator metadataGenerator = new MetadataGenerator();\n        metadataGenerator.setEntityId(&quot;SamlJwtSampleEntityId&quot;);\n        metadataGenerator.setExtendedMetadata(extendedMetadata());\n        metadataGenerator.setIncludeDiscoveryExtension(false);\n        metadataGenerator.setKeyManager(keyManager());\n        return metadataGenerator;\n    }\n\n    @Bean\n    public KeyManager keyManager() {\n        ClassPathResource storeFile = new ClassPathResource(&quot;/saml-keystore.jks&quot;);\n        String storePass = &quot;samlstorepass&quot;;\n        Map&lt;String, String&gt; passwords = new HashMap&lt;&gt;();\n        passwords.put(&quot;mykeyalias&quot;, &quot;mykeypass&quot;);\n        return new JKSKeyManager(storeFile, storePass, passwords, &quot;mykeyalias&quot;);\n    }\n</code></pre>\n<p>I created a new jks file based on the meta data file and cert file I downloaded form the Azure portal using the following:</p>\n<p>keytool -importcert -genkeypair -alias saml-app-1 -keypass keypass -storepass samlstorepass -keystore saml-app-1.jks -file saml-app-1.cer</p>\n<p>And updated the passwords and file names in the above code.</p>\n<p>Any pointers?</p>\n"},{"tags":["java","scheduled-tasks","scheduledexecutorservice"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":255,"is_accepted":true,"score":255,"last_activity_date":1404897986,"creation_date":1404897986,"answer_id":24649939,"question_id":24649842,"body_markdown":"Try adding a `Thread.sleep(1000);` call within your `run()` method... Basically it&#39;s the difference between scheduling something based on when the previous execution *ends* and when it (logically) *starts*.\r\n\r\nFor example, suppose I schedule an alarm to go off with a fixed *rate* of once an hour, and every time it goes off, I have a cup of coffee, which takes 10 minutes. Suppose that starts at midnight, I&#39;d have:\r\n\r\n    00:00: Start making coffee\r\n    00:10: Finish making coffee\r\n    01:00: Start making coffee\r\n    01:10: Finish making coffee\r\n    02:00: Start making coffee\r\n    02:10: Finish making coffee\r\n\r\nIf I schedule with a fixed *delay* of one hour, I&#39;d have:\r\n\r\n    00:00: Start making coffee\r\n    00:10: Finish making coffee\r\n    01:10: Start making coffee\r\n    01:20: Finish making coffee\r\n    02:20: Start making coffee\r\n    02:30: Finish making coffee\r\n\r\nWhich one you want depends on your task.","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>Try adding a <code>Thread.sleep(1000);</code> call within your <code>run()</code> method... Basically it's the difference between scheduling something based on when the previous execution <em>ends</em> and when it (logically) <em>starts</em>.</p>\n\n<p>For example, suppose I schedule an alarm to go off with a fixed <em>rate</em> of once an hour, and every time it goes off, I have a cup of coffee, which takes 10 minutes. Suppose that starts at midnight, I'd have:</p>\n\n<pre><code>00:00: Start making coffee\n00:10: Finish making coffee\n01:00: Start making coffee\n01:10: Finish making coffee\n02:00: Start making coffee\n02:10: Finish making coffee\n</code></pre>\n\n<p>If I schedule with a fixed <em>delay</em> of one hour, I'd have:</p>\n\n<pre><code>00:00: Start making coffee\n00:10: Finish making coffee\n01:10: Start making coffee\n01:20: Finish making coffee\n02:20: Start making coffee\n02:30: Finish making coffee\n</code></pre>\n\n<p>Which one you want depends on your task.</p>\n"},{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1404898006,"creation_date":1404898006,"answer_id":24649947,"question_id":24649842,"body_markdown":"If you read the Java Doc it will be clearer\r\n\r\n**ScheduledFuture&lt;?&gt;\tscheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit)**\r\nCreates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given period; that is executions will commence after initialDelay then initialDelay+period, then initialDelay + 2 * period, and so on.\r\n\r\n**ScheduledFuture&lt;?&gt;\tscheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit)**\r\nCreates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given delay between the termination of one execution and the commencement of the next.","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>If you read the Java Doc it will be clearer</p>\n\n<p><strong>ScheduledFuture    scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit)</strong>\nCreates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given period; that is executions will commence after initialDelay then initialDelay+period, then initialDelay + 2 * period, and so on.</p>\n\n<p><strong>ScheduledFuture    scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit)</strong>\nCreates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given delay between the termination of one execution and the commencement of the next.</p>\n"},{"tags":[],"owner":{"account_id":1042033,"reputation":260,"user_id":1047873,"accept_rate":32,"display_name":"user1047873"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1404900342,"creation_date":1404900342,"answer_id":24650750,"question_id":24649842,"body_markdown":"There is one catch in scheduleAtFixedRate if first thread is taking too long and not ended in given duration then second conscutive thread will not start once the first task will get finsished and will not imediately get started while the first thread has comepleted their task and gievn duration has been elapsed.  JVM Will decide when the next task will get executed .\r\n\r\nI think that will help you to choose method Becuase due to this i got big problem","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>There is one catch in scheduleAtFixedRate if first thread is taking too long and not ended in given duration then second conscutive thread will not start once the first task will get finsished and will not imediately get started while the first thread has comepleted their task and gievn duration has been elapsed.  JVM Will decide when the next task will get executed .</p>\n\n<p>I think that will help you to choose method Becuase due to this i got big problem</p>\n"},{"tags":[],"owner":{"account_id":1614796,"reputation":3443,"user_id":1748599,"accept_rate":50,"display_name":"Ken Block"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1475657834,"creation_date":1410146998,"answer_id":25717087,"question_id":24649842,"body_markdown":"Visualize time series of invocation `scheduleAtFixedRate` method. Next executions will start immediately if the last one takes longer than period. Otherwise, it will start after period time.\r\n\r\n![time series of invocation scheduleAtFixedRate method][1]\r\n\r\n\r\nTime series of invocation `scheduleWithFixedDelay` method. Next execution will start after delay time between termination of one execution and the commencement of the next, regardless of its execution time\r\n\r\n   ![time series of invocation scheduleWithFixedDelay method][2]\r\n\r\nHope can help you\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3b9CT.png\r\n  [2]: http://i.stack.imgur.com/LAaZf.png","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>Visualize time series of invocation <code>scheduleAtFixedRate</code> method. Next executions will start immediately if the last one takes longer than period. Otherwise, it will start after period time.</p>\n\n<p><img src=\"https://i.stack.imgur.com/3b9CT.png\" alt=\"time series of invocation scheduleAtFixedRate method\"></p>\n\n<p>Time series of invocation <code>scheduleWithFixedDelay</code> method. Next execution will start after delay time between termination of one execution and the commencement of the next, regardless of its execution time</p>\n\n<p><img src=\"https://i.stack.imgur.com/LAaZf.png\" alt=\"time series of invocation scheduleWithFixedDelay method\"></p>\n\n<p>Hope can help you</p>\n"},{"tags":[],"owner":{"account_id":6263639,"reputation":529,"user_id":4870045,"display_name":"Imar"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1586973134,"creation_date":1536594400,"answer_id":52261379,"question_id":24649842,"body_markdown":"The `scheduleAtFixedRate()` method creates a new task and submits it to the executor every period, **regardless of whether or not the previous task finished**.\r\n\r\nOn the other hand, the `scheduleWithFixedDelay()` method creates a new task **after the previous task has finished**.\r\n\r\n","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>The <code>scheduleAtFixedRate()</code> method creates a new task and submits it to the executor every period, <strong>regardless of whether or not the previous task finished</strong>.</p>\n\n<p>On the other hand, the <code>scheduleWithFixedDelay()</code> method creates a new task <strong>after the previous task has finished</strong>.</p>\n"},{"tags":[],"owner":{"account_id":16501357,"reputation":1,"user_id":11922587,"display_name":"logi tech"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1565702138,"creation_date":1565702138,"answer_id":57478554,"question_id":24649842,"body_markdown":"    scheduledExecutorService.scheduleAtFixedRate(() -&gt; {\r\n\t\t\tSystem.out.println(&quot;runnable start&quot;); try { Thread.sleep(5000);  System.out.println(&quot;runnable end&quot;);} catch\r\n\t\t (InterruptedException e) { // TODO Auto-generated catch block\r\n\t\t  e.printStackTrace(); }}, 2, 7, TimeUnit.SECONDS);\r\n\t\t \r\n\r\n\t\r\n\t\t scheduledExecutorService.scheduleWithFixedDelay(() -&gt; {\r\n\t\t System.out.println(&quot;runnable start&quot;); try { Thread.sleep(5000); System.out.println(&quot;runnable end&quot;);} catch\r\n\t\t (InterruptedException e) { // TODO Auto-generated catch block\r\n\t\t e.printStackTrace(); } }, 2, 7, TimeUnit.SECONDS);\r\n\r\n\r\nJust execute it, and you will know the difference. Thank you","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<pre><code>scheduledExecutorService.scheduleAtFixedRate(() -&gt; {\n        System.out.println(\"runnable start\"); try { Thread.sleep(5000);  System.out.println(\"runnable end\");} catch\n     (InterruptedException e) { // TODO Auto-generated catch block\n      e.printStackTrace(); }}, 2, 7, TimeUnit.SECONDS);\n\n\n\n     scheduledExecutorService.scheduleWithFixedDelay(() -&gt; {\n     System.out.println(\"runnable start\"); try { Thread.sleep(5000); System.out.println(\"runnable end\");} catch\n     (InterruptedException e) { // TODO Auto-generated catch block\n     e.printStackTrace(); } }, 2, 7, TimeUnit.SECONDS);\n</code></pre>\n\n<p>Just execute it, and you will know the difference. Thank you</p>\n"},{"tags":[],"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575115466,"creation_date":1575115466,"answer_id":59115988,"question_id":24649842,"body_markdown":"Let&#39;s write a simple program:\r\n\r\n    import java.util.concurrent.Executors\r\n    import java.util.concurrent.TimeUnit\r\n\r\n    var time = 0L\r\n    var start = System.currentTimeMillis()\r\n    val executor = Executors.newScheduledThreadPool(1)\r\n    executor.scheduleWithFixedDelay({\r\n        if (time &gt;= 12_000L) {\r\n            executor.shutdown()\r\n        } else {\r\n            Thread.sleep(2000L)\r\n            val now = System.currentTimeMillis()\r\n            time += now - start\r\n            System.out.println(&quot;Total $time delay ${now - start}\\n&quot;)\r\n            start = now\r\n        }\r\n    }, 0L, 1000L, TimeUnit.MILLISECONDS)\r\n\r\nAnd see the results:\r\n\r\n    | scheduleWithFixedDelay |   scheduleAtFixedRate  |\r\n    |:----------------------:|:----------------------:|\r\n    | Total 2001 delay 2001  | Total 2003 delay 2003  |\r\n    | Total 5002 delay 3001  | Total 4004 delay 2001  |\r\n    | Total 8003 delay 3001  | Total 6004 delay 2000  |\r\n    | Total 11003 delay 3000 | Total 8004 delay 2000  |\r\n    | Total 14003 delay 3000 | Total 10005 delay 2001 |\r\n    |          ---           | Total 12005 delay 2000 |\r\n\r\nNOTICE the execution time is bigger than waiting  \r\n\r\n**scheduleWithFixedDelay** keeps delay  \r\n**scheduleAtFixedRate** removes delay\r\n","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>Let's write a simple program:</p>\n\n<pre><code>import java.util.concurrent.Executors\nimport java.util.concurrent.TimeUnit\n\nvar time = 0L\nvar start = System.currentTimeMillis()\nval executor = Executors.newScheduledThreadPool(1)\nexecutor.scheduleWithFixedDelay({\n    if (time &gt;= 12_000L) {\n        executor.shutdown()\n    } else {\n        Thread.sleep(2000L)\n        val now = System.currentTimeMillis()\n        time += now - start\n        System.out.println(\"Total $time delay ${now - start}\\n\")\n        start = now\n    }\n}, 0L, 1000L, TimeUnit.MILLISECONDS)\n</code></pre>\n\n<p>And see the results:</p>\n\n<pre><code>| scheduleWithFixedDelay |   scheduleAtFixedRate  |\n|:----------------------:|:----------------------:|\n| Total 2001 delay 2001  | Total 2003 delay 2003  |\n| Total 5002 delay 3001  | Total 4004 delay 2001  |\n| Total 8003 delay 3001  | Total 6004 delay 2000  |\n| Total 11003 delay 3000 | Total 8004 delay 2000  |\n| Total 14003 delay 3000 | Total 10005 delay 2001 |\n|          ---           | Total 12005 delay 2000 |\n</code></pre>\n\n<p>NOTICE the execution time is bigger than waiting  </p>\n\n<p><strong>scheduleWithFixedDelay</strong> keeps delay<br>\n<strong>scheduleAtFixedRate</strong> removes delay</p>\n"},{"tags":[],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635404469,"creation_date":1635404469,"answer_id":69749570,"question_id":24649842,"body_markdown":"I can see your premiss but your conclusion is not quite  right.\r\nHere is a good and quite complete explanation according to [this Tutorial][1] for understanding the diferences bitween these two.\r\n\r\n**scheduleAtFixedRate (Runnable, long initialDelay, long period, TimeUnit timeunit)**\r\n\r\nThis method schedules a task to be executed periodically. The task is executed the first time after the initialDelay, and then recurringly every time the period expires.\r\nIf any execution of the given task throws an exception, the task is no longer executed. If no exceptions are thrown, the task will continue to be executed until the ScheduledExecutorService is shut down.\r\nIf a task takes longer to execute than the period between its scheduled executions, the next execution will start after the current execution finishes. The scheduled task will not be executed by more than one thread at a time.\r\n\r\n**scheduleWithFixedDelay (Runnable, long initialDelay, long period, TimeUnit timeunit)**\r\n\r\nThis method works very much like scheduleAtFixedRate() except that the period is interpreted differently.\r\nIn the scheduleAtFixedRate() method the period is interpreted as a delay between the start of the previous execution, until the start of the next execution.\r\nIn this method, however, the period is interpreted as the delay between the end of the previous execution, until the start of the next. The delay is thus between finished executions, not between the beginning of executions.\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-util-concurrent/scheduledexecutorservice.html","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>I can see your premiss but your conclusion is not quite  right.\nHere is a good and quite complete explanation according to <a href=\"http://tutorials.jenkov.com/java-util-concurrent/scheduledexecutorservice.html\" rel=\"nofollow noreferrer\">this Tutorial</a> for understanding the diferences bitween these two.</p>\n<p><strong>scheduleAtFixedRate (Runnable, long initialDelay, long period, TimeUnit timeunit)</strong></p>\n<p>This method schedules a task to be executed periodically. The task is executed the first time after the initialDelay, and then recurringly every time the period expires.\nIf any execution of the given task throws an exception, the task is no longer executed. If no exceptions are thrown, the task will continue to be executed until the ScheduledExecutorService is shut down.\nIf a task takes longer to execute than the period between its scheduled executions, the next execution will start after the current execution finishes. The scheduled task will not be executed by more than one thread at a time.</p>\n<p><strong>scheduleWithFixedDelay (Runnable, long initialDelay, long period, TimeUnit timeunit)</strong></p>\n<p>This method works very much like scheduleAtFixedRate() except that the period is interpreted differently.\nIn the scheduleAtFixedRate() method the period is interpreted as a delay between the start of the previous execution, until the start of the next execution.\nIn this method, however, the period is interpreted as the delay between the end of the previous execution, until the start of the next. The delay is thus between finished executions, not between the beginning of executions.</p>\n"}],"owner":{"account_id":87133,"reputation":15651,"user_id":241824,"accept_rate":82,"display_name":"Sawyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98715,"favorite_count":0,"down_vote_count":0,"up_vote_count":152,"accepted_answer_id":24649939,"answer_count":8,"score":152,"last_activity_date":1635404469,"creation_date":1404897733,"question_id":24649842,"body_markdown":"What&#39;s the main difference between `scheduleAtFixedRate` and `scheduleWithFixedDelay` methods of [ScheduledExecutorService][1]?\r\n\r\n    scheduler.scheduleAtFixedRate(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;scheduleAtFixedRate:    &quot; + new Date());\r\n        }\r\n    }, 1, 3L , SECONDS);\r\n\r\n    scheduler.scheduleWithFixedDelay(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;scheduleWithFixedDelay: &quot; + new Date());\r\n        }\r\n    }, 1, 3L , SECONDS);\r\n\r\nthey print exact the same time, seems they are executed at exact the same interval.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"scheduleAtFixedRate vs scheduleWithFixedDelay","body":"<p>What's the main difference between <code>scheduleAtFixedRate</code> and <code>scheduleWithFixedDelay</code> methods of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\">ScheduledExecutorService</a>?</p>\n\n<pre><code>scheduler.scheduleAtFixedRate(new Runnable() {\n    @Override\n    public void run() {\n        System.out.println(\"scheduleAtFixedRate:    \" + new Date());\n    }\n}, 1, 3L , SECONDS);\n\nscheduler.scheduleWithFixedDelay(new Runnable() {\n    @Override\n    public void run() {\n        System.out.println(\"scheduleWithFixedDelay: \" + new Date());\n    }\n}, 1, 3L , SECONDS);\n</code></pre>\n\n<p>they print exact the same time, seems they are executed at exact the same interval.</p>\n"},{"tags":["java","selenium","cucumber","testng"],"answers":[{"tags":[],"owner":{"account_id":16418626,"reputation":179,"user_id":11860442,"display_name":"Kidby"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1581450161,"creation_date":1581450161,"answer_id":60176262,"question_id":60169492,"body_markdown":"By using JVM arguments you can pass in parameters, such as -Dname=Environment. This has been answered previously [here][1].\r\n\r\n[This blog post has examples][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50266606/how-to-pass-parameter-to-testng-xml-from-command-line-with-maven\r\n  [2]: https://rationaleemotions.wordpress.com/2017/09/29/dynamic-parameterization-in-testng/","title":"How to pass parameter to testng xml through command line","body":"<p>By using JVM arguments you can pass in parameters, such as -Dname=Environment. This has been answered previously <a href=\"https://stackoverflow.com/questions/50266606/how-to-pass-parameter-to-testng-xml-from-command-line-with-maven\">here</a>.</p>\n\n<p><a href=\"https://rationaleemotions.wordpress.com/2017/09/29/dynamic-parameterization-in-testng/\" rel=\"nofollow noreferrer\">This blog post has examples</a></p>\n"},{"tags":[],"owner":{"account_id":8091312,"reputation":1,"user_id":6097151,"display_name":"Paras Maheshwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635404292,"creation_date":1635404292,"answer_id":69749537,"question_id":60169492,"body_markdown":"You can pass a groupName to be run at runtime in TestNG XML using Beanshell.\r\n\r\nFor details, please refer: http://makeseleniumeasy.com/2018/07/15/advanced-testng-tutorials-34-how-to-pass-a-group-name-to-be-run-at-runtime-in-testng-xml-using-beanshell/\r\n","title":"How to pass parameter to testng xml through command line","body":"<p>You can pass a groupName to be run at runtime in TestNG XML using Beanshell.</p>\n<p>For details, please refer: <a href=\"http://makeseleniumeasy.com/2018/07/15/advanced-testng-tutorials-34-how-to-pass-a-group-name-to-be-run-at-runtime-in-testng-xml-using-beanshell/\" rel=\"nofollow noreferrer\">http://makeseleniumeasy.com/2018/07/15/advanced-testng-tutorials-34-how-to-pass-a-group-name-to-be-run-at-runtime-in-testng-xml-using-beanshell/</a></p>\n"}],"owner":{"account_id":16598886,"reputation":57,"user_id":11995132,"display_name":"Shyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60176262,"answer_count":2,"score":2,"last_activity_date":1635404292,"creation_date":1581426216,"question_id":60169492,"body_markdown":"I am executing my selenium automation scripts through testng, for the same I am having a testng xml form where I am passing parameter values like which test case has to be executed and on which environment it has to be executed.\r\n\r\nE.g of testng xml is pasted below\r\n\r\n    **&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Automation Suite&quot;&gt;\r\n    &lt;parameter name=&quot;tags&quot; value=&quot;MyTestCase&quot;/&gt;\r\n    \t&lt;!-- Default suite --&gt;    \r\n    &lt;test name=&quot;GGGGG Automation Test&quot; verbose=&quot;2&quot;&gt;\r\n    &lt;parameter name=&quot;Environment&quot; value=&quot;MyEnvironment&quot; /&gt;\r\n    &lt;classes&gt;\r\n    &lt;class name=&quot;com.XXXXX.TestRunner.XXXXXX&quot;/&gt;\r\n       &lt;/classes&gt;\r\n     &lt;/test&gt;  \r\n    &lt;/suite&gt;**\r\n\r\nhere I am passing 2 parameters like test cases and environment to be executed form testng example. I am looking for a command line &#39;command&#39; to execute the testng xml passing those 2 parameters from commandline argument.","title":"How to pass parameter to testng xml through command line","body":"<p>I am executing my selenium automation scripts through testng, for the same I am having a testng xml form where I am passing parameter values like which test case has to be executed and on which environment it has to be executed.</p>\n\n<p>E.g of testng xml is pasted below</p>\n\n<pre><code>**&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Automation Suite\"&gt;\n&lt;parameter name=\"tags\" value=\"MyTestCase\"/&gt;\n    &lt;!-- Default suite --&gt;    \n&lt;test name=\"GGGGG Automation Test\" verbose=\"2\"&gt;\n&lt;parameter name=\"Environment\" value=\"MyEnvironment\" /&gt;\n&lt;classes&gt;\n&lt;class name=\"com.XXXXX.TestRunner.XXXXXX\"/&gt;\n   &lt;/classes&gt;\n &lt;/test&gt;  \n&lt;/suite&gt;**\n</code></pre>\n\n<p>here I am passing 2 parameters like test cases and environment to be executed form testng example. I am looking for a command line 'command' to execute the testng xml passing those 2 parameters from commandline argument.</p>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1635410580,"post_id":69749514,"comment_id":123292112,"body_markdown":"There are a couple of things wrong. First of all, all the attribute values in your html code must be covered in quotes, e.g. &lt;form method=&quot;GET&quot; action=&quot;ControllerTwo&quot;&gt;. Second, if the value, you want to set is already known on page load, you usually use Javascript (I prefer jquery) to set the value, so no page reload is required. I would also recommend to use an MVC framework, like Spring mvc to avoid return the whole page with all its overhead.","body":"There are a couple of things wrong. First of all, all the attribute values in your html code must be covered in quotes, e.g. &lt;form method=&quot;GET&quot; action=&quot;ControllerTwo&quot;&gt;. Second, if the value, you want to set is already known on page load, you usually use Javascript (I prefer jquery) to set the value, so no page reload is required. I would also recommend to use an MVC framework, like Spring mvc to avoid return the whole page with all its overhead."},{"owner":{"account_id":8219662,"reputation":641,"user_id":6184683,"accept_rate":80,"display_name":"Aeryes"},"score":0,"creation_date":1635438976,"post_id":69749514,"comment_id":123304940,"body_markdown":"@TheFrozenOne This is an assignment for a class I am taking in which the teacher only wants us to use JSP and servlets.","body":"@TheFrozenOne This is an assignment for a class I am taking in which the teacher only wants us to use JSP and servlets."},{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1635505541,"post_id":69749514,"comment_id":123322561,"body_markdown":"Ok, so I think you just have to add the value attribute in your &lt;input&gt; tag, like this:\n`&lt;input type=text name=loan size=10 value=\\&quot;&lt;&lt;the value you want to set&gt;&gt;\\&quot; id=loan&gt;\\r\\n&quot;`\nin your reponse, of course with all values in quotes. \nSee [this](https://www.w3schools.com/tags/att_input_value.asp) article about html input elements","body":"Ok, so I think you just have to add the value attribute in your &lt;input&gt; tag, like this: <code>&lt;input type=text name=loan size=10 value=\\&quot;&lt;&lt;the value you want to set&gt;&gt;\\&quot; id=loan&gt;\\r\\n&quot;</code> in your reponse, of course with all values in quotes.  See <a href=\"https://www.w3schools.com/tags/att_input_value.asp\" rel=\"nofollow noreferrer\">this</a> article about html input elements"}],"owner":{"account_id":8219662,"reputation":641,"user_id":6184683,"accept_rate":80,"display_name":"Aeryes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635404172,"creation_date":1635404172,"question_id":69749514,"body_markdown":"I have some JSP code that looks like this:\r\n\r\n        &lt;form method=GET action=&quot;ControllerTwo&quot;&gt;\r\n    \t  &lt;p&gt;How much money will you be the monthly payment?&lt;br&gt;\r\n    \t    &lt;input type=text name=loan size=10 id=loan&gt;\r\n    \t  &lt;/p&gt;\r\n        &lt;/form&gt;\r\n\r\nI need to set the value of the text box in the &lt;input&gt; tag to a predetermined value when another button elsewhere on the page is pressed. Here is a snippet of code from where that button is located:\r\n\r\n        &lt;form action=&quot;ControllerTwo&quot; method=&quot;GET&quot;&gt;\r\n          &lt;div class=&quot;col&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n              &lt;input type=submit value=&quot;Principal:&quot; name=&quot;principal&quot;&gt;\r\n              &lt;input type=submit value=&quot;Delete&quot; name=&quot;principalDel&quot;&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/form&gt;\r\n\r\nWhen the principal button is pressed the value stored in a variable needs to get placed and displayed to the user as a submittable value in the &lt;input&gt; box text field.\r\n\r\nHere is the code for the principal button when it is pressed:\r\n\r\n    //////////////////////////////\r\n    // Principal button was pressed.//\r\n    //////////////////////////////\r\n    if(request.getParameter(&quot;principal&quot;) != null) {\r\n    \tSystem.out.println(&quot;Principal button was pressed...&quot;);\r\n    \t\r\n        // Wipe the htmlResponse clean.\r\n        htmlResponse = &quot;&quot;;\r\n        \r\n        // Build HTML code\r\n        htmlResponse += &quot;&lt;html&gt;\\n&quot;\r\n        \t\t+ &quot;&lt;head&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;title&gt;Mortgage Calculator&lt;/title&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;meta charset=\\&quot;UTF-8\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;meta charset=\\&quot;utf-8\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;meta name=\\&quot;viewport\\&quot; content=\\&quot;width=device-width, initial-scale=1\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;script src=\\&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\\&quot;&gt;&lt;/script&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;script src=\\&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js\\&quot;&gt;&lt;/script&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;script src=\\&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\\&quot;&gt;&lt;/script&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;link rel=\\&quot;preconnect\\&quot; href=\\&quot;https://fonts.googleapis.com\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;link rel=\\&quot;preconnect\\&quot; href=\\&quot;https://fonts.gstatic.com\\&quot; crossorigin&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;!-- Custom CSS --&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;link href=\\&quot;style.css\\&quot; rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;&lt;/head&gt;\\r\\n&quot;\r\n        \t\t+ &quot;&lt;body&gt;\\r\\n&quot;\r\n        \t\t+ &quot;&lt;!-- Custom JS --&gt;\\r\\n&quot;\r\n        \t\t+ &quot;&lt;!-- &lt;script src=\\&quot;script.js\\&quot;&gt;&lt;/script&gt; --&gt;\\r\\n&quot;\r\n        \t\t+ &quot;&lt;div class=\\&quot;container row\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;div class=\\&quot;smp text-left col\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t&lt;form method=GET action=\\&quot;ControllerTwo\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t  &lt;p&gt;How much money will you be borrowing?&lt;br&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;input type=text name=loan size=10 id=loan&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;span class=\\&quot;smp-err\\&quot; id=\\&quot;loanError\\&quot;&gt;&lt;/span&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t  &lt;/p&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t  &lt;p&gt;What will be the monthly payment?&lt;br&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;input type=text name=payment size=5 id=payment&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;span class=\\&quot;smp-err\\&quot; id=\\&quot;paymentError\\&quot;&gt;&lt;/span&gt;\\r\\n&quot;\r\n        \t\t+ &quot;      &lt;/p&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t  &lt;p&gt;What will be the interest rate?&lt;br&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;input type=text name=rate size=5 id=interest&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;span class=\\&quot;smp-err\\&quot; id=\\&quot;ratesErr\\&quot;&gt;&lt;/span&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t  &lt;/p&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t  &lt;input type=submit value=Submit name=sub&gt;\\r\\n&quot;\r\n        \t\t+ yearsAndMonths + &quot;\\n&quot;\r\n        \t\t+ interestPaid + &quot;\\n&quot;\r\n        \t\t+ &quot;\t&lt;/form&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t&lt;form action=\\&quot;ControllerTwo\\&quot; method=\\&quot;GET\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t  &lt;input type=submit value=Reset name=res&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t&lt;/form&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t&lt;small&gt;Instructions: Enter numbers and decimal points. No commas or other characters.&lt;/small&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;div class=\\&quot;smp text-left col\\&quot;&gt; \\r\\n&quot;\r\n        \t\t+ &quot;   &lt;h5 class=\\&quot;\\&quot;&gt;Logs:&lt;/h5&gt;\\r\\n&quot;\r\n        \t\t+ &quot;   &lt;form action=\\&quot;ControllerTwo\\&quot; method=\\&quot;GET\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;     &lt;div class=\\&quot;col\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;     &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t      &lt;input type=submit value=\\&quot;Principal:\\&quot; name=principal&gt;\\r\\n&quot;\r\n        \t\t+ &quot;       &lt;p&gt;$&quot;+loanPTwo +&quot;&lt;/p&gt;&quot;\r\n        \t\t+ &quot;       &lt;input type=submit value=\\&quot;Delete\\&quot; name=principalDel&gt;\\r\\n&quot;\r\n        \t\t+ &quot;     &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t      &lt;input type=button value=\\&quot;Monthly Payment:\\&quot; id=fieldTwo&gt;\\r\\n&quot;\r\n        \t\t+ &quot;       &lt;p&gt;$&quot;+paymentTwo +&quot;&lt;/p&gt;&quot;\r\n        \t\t+ &quot;       &lt;input class=\\&quot;\\&quot; type=button value=\\&quot;Delete\\&quot; id=fieldTwo&gt;&quot;\r\n        \t\t+ &quot;\t    &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t      &lt;input type=button value=\\&quot;Interest:\\&quot; id=fieldThree&gt;\\r\\n&quot;\r\n        \t\t+ &quot;       &lt;p&gt;$&quot;+interestWhole +&quot;&lt;/p&gt;&quot;\r\n        \t\t+ &quot;       &lt;input class=\\&quot;\\&quot; type=button value=\\&quot;Delete\\&quot; id=fieldThree&gt;&quot;\r\n        \t\t+ &quot;\t    &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;       &lt;p id=p4&gt;Time Until Paid: &quot;+ years + &quot; years and &quot; + months + &quot; months&quot; +&quot;&lt;/p&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t      &lt;input type=button value=\\&quot;Delete\\&quot; id=fieldFour&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t      &lt;p id=p5&gt;Total Interest: $&quot; + interestTotalFormat +&quot;&lt;/p&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t      &lt;input type=button value=\\&quot;Delete\\&quot; id=fieldFive&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t    &lt;div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;\t      &lt;input type=button value=\\&quot;Clear\\&quot; id=fieldSix&gt;\\r\\n&quot;\r\n        \t\t+ &quot;     &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;     &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+&quot;    &lt;/form&gt;\\r\\n&quot;\r\n        \t\t+ &quot;  &lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;&lt;/div&gt;\\r\\n&quot;\r\n        \t\t+ &quot;&lt;/body&gt;\\n&quot;\r\n        \t\t+ &quot;&lt;/html&gt;&quot;;\r\n        \r\n        // return response\r\n        writer.println(htmlResponse);\r\n        \r\n        session.setAttribute(&quot;loan&quot;, loanPTwo);\r\n        request.setAttribute(&quot;loan&quot;, loanPTwo);\r\n    }\r\n\r\nHow can I set this value so it displays the desired result?\r\n\r\n\r\n","title":"How can I set the value of an &lt;input&gt; tag in JSP/Servlets?","body":"<p>I have some JSP code that looks like this:</p>\n<pre><code>    &lt;form method=GET action=&quot;ControllerTwo&quot;&gt;\n      &lt;p&gt;How much money will you be the monthly payment?&lt;br&gt;\n        &lt;input type=text name=loan size=10 id=loan&gt;\n      &lt;/p&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>I need to set the value of the text box in the  tag to a predetermined value when another button elsewhere on the page is pressed. Here is a snippet of code from where that button is located:</p>\n<pre><code>    &lt;form action=&quot;ControllerTwo&quot; method=&quot;GET&quot;&gt;\n      &lt;div class=&quot;col&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n          &lt;input type=submit value=&quot;Principal:&quot; name=&quot;principal&quot;&gt;\n          &lt;input type=submit value=&quot;Delete&quot; name=&quot;principalDel&quot;&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>When the principal button is pressed the value stored in a variable needs to get placed and displayed to the user as a submittable value in the  box text field.</p>\n<p>Here is the code for the principal button when it is pressed:</p>\n<pre><code>//////////////////////////////\n// Principal button was pressed.//\n//////////////////////////////\nif(request.getParameter(&quot;principal&quot;) != null) {\n    System.out.println(&quot;Principal button was pressed...&quot;);\n    \n    // Wipe the htmlResponse clean.\n    htmlResponse = &quot;&quot;;\n    \n    // Build HTML code\n    htmlResponse += &quot;&lt;html&gt;\\n&quot;\n            + &quot;&lt;head&gt;\\r\\n&quot;\n            + &quot;  &lt;title&gt;Mortgage Calculator&lt;/title&gt;\\r\\n&quot;\n            + &quot;  &lt;meta charset=\\&quot;UTF-8\\&quot;&gt;\\r\\n&quot;\n            + &quot;  &lt;meta charset=\\&quot;utf-8\\&quot;&gt;\\r\\n&quot;\n            + &quot;  &lt;meta name=\\&quot;viewport\\&quot; content=\\&quot;width=device-width, initial-scale=1\\&quot;&gt;\\r\\n&quot;\n            + &quot;  &lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\\&quot;&gt;\\r\\n&quot;\n            + &quot;  &lt;script src=\\&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\\&quot;&gt;&lt;/script&gt;\\r\\n&quot;\n            + &quot;  &lt;script src=\\&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js\\&quot;&gt;&lt;/script&gt;\\r\\n&quot;\n            + &quot;  &lt;script src=\\&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\\&quot;&gt;&lt;/script&gt;\\r\\n&quot;\n            + &quot;  &lt;link rel=\\&quot;preconnect\\&quot; href=\\&quot;https://fonts.googleapis.com\\&quot;&gt;\\r\\n&quot;\n            + &quot;  &lt;link rel=\\&quot;preconnect\\&quot; href=\\&quot;https://fonts.gstatic.com\\&quot; crossorigin&gt;\\r\\n&quot;\n            + &quot;  &lt;!-- Custom CSS --&gt;\\r\\n&quot;\n            + &quot;  &lt;link href=\\&quot;style.css\\&quot; rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot;&gt;\\r\\n&quot;\n            + &quot;&lt;/head&gt;\\r\\n&quot;\n            + &quot;&lt;body&gt;\\r\\n&quot;\n            + &quot;&lt;!-- Custom JS --&gt;\\r\\n&quot;\n            + &quot;&lt;!-- &lt;script src=\\&quot;script.js\\&quot;&gt;&lt;/script&gt; --&gt;\\r\\n&quot;\n            + &quot;&lt;div class=\\&quot;container row\\&quot;&gt;\\r\\n&quot;\n            + &quot;  &lt;div class=\\&quot;smp text-left col\\&quot;&gt;\\r\\n&quot;\n            + &quot; &lt;form method=GET action=\\&quot;ControllerTwo\\&quot;&gt;\\r\\n&quot;\n            + &quot;   &lt;p&gt;How much money will you be borrowing?&lt;br&gt;\\r\\n&quot;\n            + &quot;     &lt;input type=text name=loan size=10 id=loan&gt;\\r\\n&quot;\n            + &quot;     &lt;span class=\\&quot;smp-err\\&quot; id=\\&quot;loanError\\&quot;&gt;&lt;/span&gt;\\r\\n&quot;\n            + &quot;   &lt;/p&gt;\\r\\n&quot;\n            + &quot;   &lt;p&gt;What will be the monthly payment?&lt;br&gt;\\r\\n&quot;\n            + &quot;     &lt;input type=text name=payment size=5 id=payment&gt;\\r\\n&quot;\n            + &quot;     &lt;span class=\\&quot;smp-err\\&quot; id=\\&quot;paymentError\\&quot;&gt;&lt;/span&gt;\\r\\n&quot;\n            + &quot;      &lt;/p&gt;\\r\\n&quot;\n            + &quot;   &lt;p&gt;What will be the interest rate?&lt;br&gt;\\r\\n&quot;\n            + &quot;     &lt;input type=text name=rate size=5 id=interest&gt;\\r\\n&quot;\n            + &quot;     &lt;span class=\\&quot;smp-err\\&quot; id=\\&quot;ratesErr\\&quot;&gt;&lt;/span&gt;\\r\\n&quot;\n            + &quot;   &lt;/p&gt;\\r\\n&quot;\n            + &quot;   &lt;input type=submit value=Submit name=sub&gt;\\r\\n&quot;\n            + yearsAndMonths + &quot;\\n&quot;\n            + interestPaid + &quot;\\n&quot;\n            + &quot; &lt;/form&gt;\\r\\n&quot;\n            + &quot; &lt;form action=\\&quot;ControllerTwo\\&quot; method=\\&quot;GET\\&quot;&gt;\\r\\n&quot;\n            + &quot;   &lt;input type=submit value=Reset name=res&gt;\\r\\n&quot;\n            + &quot; &lt;/form&gt;\\r\\n&quot;\n            + &quot; &lt;small&gt;Instructions: Enter numbers and decimal points. No commas or other characters.&lt;/small&gt;\\r\\n&quot;\n            + &quot;  &lt;/div&gt;\\r\\n&quot;\n            + &quot;  &lt;div class=\\&quot;smp text-left col\\&quot;&gt; \\r\\n&quot;\n            + &quot;   &lt;h5 class=\\&quot;\\&quot;&gt;Logs:&lt;/h5&gt;\\r\\n&quot;\n            + &quot;   &lt;form action=\\&quot;ControllerTwo\\&quot; method=\\&quot;GET\\&quot;&gt;\\r\\n&quot;\n            + &quot;     &lt;div class=\\&quot;col\\&quot;&gt;\\r\\n&quot;\n            + &quot;     &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\n            + &quot;       &lt;input type=submit value=\\&quot;Principal:\\&quot; name=principal&gt;\\r\\n&quot;\n            + &quot;       &lt;p&gt;$&quot;+loanPTwo +&quot;&lt;/p&gt;&quot;\n            + &quot;       &lt;input type=submit value=\\&quot;Delete\\&quot; name=principalDel&gt;\\r\\n&quot;\n            + &quot;     &lt;/div&gt;\\r\\n&quot;\n            + &quot;     &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\n            + &quot;       &lt;input type=button value=\\&quot;Monthly Payment:\\&quot; id=fieldTwo&gt;\\r\\n&quot;\n            + &quot;       &lt;p&gt;$&quot;+paymentTwo +&quot;&lt;/p&gt;&quot;\n            + &quot;       &lt;input class=\\&quot;\\&quot; type=button value=\\&quot;Delete\\&quot; id=fieldTwo&gt;&quot;\n            + &quot;     &lt;/div&gt;\\r\\n&quot;\n            + &quot;     &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\n            + &quot;       &lt;input type=button value=\\&quot;Interest:\\&quot; id=fieldThree&gt;\\r\\n&quot;\n            + &quot;       &lt;p&gt;$&quot;+interestWhole +&quot;&lt;/p&gt;&quot;\n            + &quot;       &lt;input class=\\&quot;\\&quot; type=button value=\\&quot;Delete\\&quot; id=fieldThree&gt;&quot;\n            + &quot;     &lt;/div&gt;\\r\\n&quot;\n            + &quot;     &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\n            + &quot;       &lt;p id=p4&gt;Time Until Paid: &quot;+ years + &quot; years and &quot; + months + &quot; months&quot; +&quot;&lt;/p&gt;\\r\\n&quot;\n            + &quot;       &lt;input type=button value=\\&quot;Delete\\&quot; id=fieldFour&gt;\\r\\n&quot;\n            + &quot;     &lt;/div&gt;\\r\\n&quot;\n            + &quot;     &lt;div class=\\&quot;row\\&quot;&gt;\\r\\n&quot;\n            + &quot;       &lt;p id=p5&gt;Total Interest: $&quot; + interestTotalFormat +&quot;&lt;/p&gt;\\r\\n&quot;\n            + &quot;       &lt;input type=button value=\\&quot;Delete\\&quot; id=fieldFive&gt;\\r\\n&quot;\n            + &quot;     &lt;/div&gt;\\r\\n&quot;\n            + &quot;     &lt;div&gt;\\r\\n&quot;\n            + &quot;       &lt;input type=button value=\\&quot;Clear\\&quot; id=fieldSix&gt;\\r\\n&quot;\n            + &quot;     &lt;/div&gt;\\r\\n&quot;\n            + &quot;     &lt;/div&gt;\\r\\n&quot;\n            +&quot;    &lt;/form&gt;\\r\\n&quot;\n            + &quot;  &lt;/div&gt;\\r\\n&quot;\n            + &quot;&lt;/div&gt;\\r\\n&quot;\n            + &quot;&lt;/body&gt;\\n&quot;\n            + &quot;&lt;/html&gt;&quot;;\n    \n    // return response\n    writer.println(htmlResponse);\n    \n    session.setAttribute(&quot;loan&quot;, loanPTwo);\n    request.setAttribute(&quot;loan&quot;, loanPTwo);\n}\n</code></pre>\n<p>How can I set this value so it displays the desired result?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"score":0,"creation_date":1635404388,"post_id":69749498,"comment_id":123289699,"body_markdown":"https://medium.com/@manuaravindpta/lambda-expressions-in-android-97ee7648b0e8  Maybe lambda expressions is what you&#39;re looking for","body":"<a href=\"https://medium.com/@manuaravindpta/lambda-expressions-in-android-97ee7648b0e8\" rel=\"nofollow noreferrer\">medium.com/@manuaravindpta/&hellip;</a>  Maybe lambda expressions is what you&#39;re looking for"},{"owner":{"account_id":18519180,"reputation":23,"user_id":13492639,"display_name":"Arghadeep Dey"},"score":0,"creation_date":1635404770,"post_id":69749498,"comment_id":123289819,"body_markdown":"Lambda expression only a new approach what&#39;s omitted old approach . But my confusion why onClickListener interface implemented like a method ?","body":"Lambda expression only a new approach what&#39;s omitted old approach . But my confusion why onClickListener interface implemented like a method ?"},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1635582486,"post_id":69749498,"comment_id":123341208,"body_markdown":"It&#39;s called anonymous class, you can read more on it [here](https://www.baeldung.com/java-anonymous-classes). Any so called functional interface (an interface with just one abstract method) can be expressed through a lambda. This is also true in your case, since `OnClickListener` only contains a method `onClick`.","body":"It&#39;s called anonymous class, you can read more on it <a href=\"https://www.baeldung.com/java-anonymous-classes\" rel=\"nofollow noreferrer\">here</a>. Any so called functional interface (an interface with just one abstract method) can be expressed through a lambda. This is also true in your case, since <code>OnClickListener</code> only contains a method <code>onClick</code>."}],"owner":{"account_id":18519180,"reputation":23,"user_id":13492639,"display_name":"Arghadeep Dey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635404106,"creation_date":1635404106,"question_id":69749498,"body_markdown":"    View.OnClickListener ob=new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                }\r\n            };\r\nIn Above code OnClickListner a interface is implemented what&#39;s present inside View class. But I know implemented a interface code would be look like this-&gt;\r\n\r\n    View.OnClickListener ob=new View.OnClickListener{\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                }\r\n            };\r\n\r\nNOTE:I ONLY REMOVE THE BRACKETS BESIDE OF INTERFACE. BECAUSE BRACKETS ONLY TELLING ME ABOUT THE METHODS.BUT HERE onClickListner A INTERFACE.\r\n\r\nThen why this interface implemented like a method? \r\nThank you..\r\n\r\n\r\n\r\n ","title":"What&#39;s OnClickListner describe inside of View class in Android?","body":"<pre><code>View.OnClickListener ob=new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n            }\n        };\n</code></pre>\n<p>In Above code OnClickListner a interface is implemented what's present inside View class. But I know implemented a interface code would be look like this-&gt;</p>\n<pre><code>View.OnClickListener ob=new View.OnClickListener{\n            @Override\n            public void onClick(View view) {\n\n            }\n        };\n</code></pre>\n<p>NOTE:I ONLY REMOVE THE BRACKETS BESIDE OF INTERFACE. BECAUSE BRACKETS ONLY TELLING ME ABOUT THE METHODS.BUT HERE onClickListner A INTERFACE.</p>\n<p>Then why this interface implemented like a method?\nThank you..</p>\n"},{"tags":["java","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":17216718,"reputation":376,"user_id":12464560,"display_name":"Lookslikeitsnot"},"score":0,"creation_date":1635364878,"post_id":69742316,"comment_id":123281546,"body_markdown":"It seems counterintuitive to have bundle_name be part of the VirtualCurrency. Don&#39;t you want your virtual currency to be available for multiple bundles ?","body":"It seems counterintuitive to have bundle_name be part of the VirtualCurrency. Don&#39;t you want your virtual currency to be available for multiple bundles ?"},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1635369677,"post_id":69742316,"comment_id":123283176,"body_markdown":"@Lookslikeitsnot well the only reason why I have the bundle_name a part of that is just because I want to to make sure that I get the right VirtualCurrency for a specific bundle. In theory, it is totally fine and 100% possible that another bundle can have the same VirtualCurrency, in fact it is expect, but the Pricing of each bundle in the end can be different. If I can achieve this without using the bundle_name as part of the composite key, then I 100% would.","body":"@Lookslikeitsnot well the only reason why I have the bundle_name a part of that is just because I want to to make sure that I get the right VirtualCurrency for a specific bundle. In theory, it is totally fine and 100% possible that another bundle can have the same VirtualCurrency, in fact it is expect, but the Pricing of each bundle in the end can be different. If I can achieve this without using the bundle_name as part of the composite key, then I 100% would."},{"owner":{"account_id":17216718,"reputation":376,"user_id":12464560,"display_name":"Lookslikeitsnot"},"score":1,"creation_date":1635408758,"post_id":69742316,"comment_id":123291364,"body_markdown":"Isn&#39;t that achieved by having the b_name in b_p and b_name, p_c, c_id being the PK of that table ? \nAdd `FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE` to b_p and you could remove b_name from v_c.","body":"Isn&#39;t that achieved by having the b_name in b_p and b_name, p_c, c_id being the PK of that table ?  Add <code>FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE</code> to b_p and you could remove b_name from v_c."},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1635411994,"post_id":69742316,"comment_id":123292746,"body_markdown":"@Lookslikeitsnot awesome, thanks a bunch, mate!","body":"@Lookslikeitsnot awesome, thanks a bunch, mate!"}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635354344,"creation_date":1635354344,"answer_id":69742785,"question_id":69742316,"body_markdown":"remove the ```@MapKeyJoinColumn(name = &quot;bundle_name&quot;)``` from MapKeyJoinColumns, because when we are creating the JoinColumn in JoinTable it will create the column we don&#39;t need to mention it again.\r\n```\r\n@JoinTable(\r\n          name = &quot;bundle_pricing&quot;,\r\n          joinColumns = @JoinColumn(name = &quot;bundle_name&quot;, referencedColumnName = &quot;name&quot;))\r\n  @MapKeyJoinColumns({\r\n          @MapKeyJoinColumn(name = &quot;physical_currency&quot;),\r\n          @MapKeyJoinColumn(name = &quot;coin_id&quot;)\r\n  })\r\n```","title":"Java: Repeated column in mapping for collection","body":"<p>remove the <code>@MapKeyJoinColumn(name = &quot;bundle_name&quot;)</code> from MapKeyJoinColumns, because when we are creating the JoinColumn in JoinTable it will create the column we don't need to mention it again.</p>\n<pre><code>@JoinTable(\n          name = &quot;bundle_pricing&quot;,\n          joinColumns = @JoinColumn(name = &quot;bundle_name&quot;, referencedColumnName = &quot;name&quot;))\n  @MapKeyJoinColumns({\n          @MapKeyJoinColumn(name = &quot;physical_currency&quot;),\n          @MapKeyJoinColumn(name = &quot;coin_id&quot;)\n  })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17216718,"reputation":376,"user_id":12464560,"display_name":"Lookslikeitsnot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635363373,"creation_date":1635363373,"answer_id":69744504,"question_id":69742316,"body_markdown":"To prevent repeated mapping error, you just have to specify which join should update the column like such:\r\n```java\r\n@OneToMany(cascade = CascadeType.PERSIST)\r\n@JoinTable(name = &quot;bundle_pricing&quot;,\r\n  joinColumns = @JoinColumn(name = &quot;bundle_name&quot;,\r\n    referencedColumnName = &quot;name&quot;))\r\n@MapKeyJoinColumns({\r\n  @MapKeyJoinColumn(name = &quot;bundle_name&quot;, insertable = false, updatable = false),\r\n  @MapKeyJoinColumn(name = &quot;physical_currency&quot;), @MapKeyJoinColumn(name = &quot;coin_id&quot;)})\r\nprivate Map&lt;VirtualCurrency, Price&gt; pricing = new LinkedHashMap&lt;&gt;();\r\n```\r\n**NOTE** the `insertable = false, updatable = false` for bundle_name in the MapKeyJoinColumn","title":"Java: Repeated column in mapping for collection","body":"<p>To prevent repeated mapping error, you just have to specify which join should update the column like such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(cascade = CascadeType.PERSIST)\n@JoinTable(name = &quot;bundle_pricing&quot;,\n  joinColumns = @JoinColumn(name = &quot;bundle_name&quot;,\n    referencedColumnName = &quot;name&quot;))\n@MapKeyJoinColumns({\n  @MapKeyJoinColumn(name = &quot;bundle_name&quot;, insertable = false, updatable = false),\n  @MapKeyJoinColumn(name = &quot;physical_currency&quot;), @MapKeyJoinColumn(name = &quot;coin_id&quot;)})\nprivate Map&lt;VirtualCurrency, Price&gt; pricing = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p><strong>NOTE</strong> the <code>insertable = false, updatable = false</code> for bundle_name in the MapKeyJoinColumn</p>\n"}],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69744504,"answer_count":2,"score":0,"last_activity_date":1635404024,"creation_date":1635352054,"question_id":69742316,"body_markdown":"I am trying to create a `OneToMany` mapping with a `LinkedHashMap` for my main entity `B`, that contains the entities `VC` and `P`, but I am getting the following error:\r\n\r\n&gt; Repeated column in mapping for collection:\r\n&gt; com.test.model.B.pricing column: b_name\r\n\r\nI could be wrong, but I believe that it has something to do with the `@JoinColumns` or `@MapKeyJoinColumn` annotation, as I have not done anything like this before, so I am quite sure that I am doing this part incorrectly.\r\n\r\nMy goal is that I should be able to provide the three fields: \r\n\r\n`b_name` `pc` and `c_id` e.g. the `VC/VCId`\r\n\r\nin order to get the `a` and `d_a` e.g. `P`.\r\n\r\nAlso, if there is a better way to structure things, then I am all ears, as I personally do not really like how I have set up my tables tbh (would be nice if I could just have the `b` and `b_p` tables, where the `b_p` could just have all five fields (key and value) from the `p` map).\r\n\r\nHere is my main entity\r\n\r\n    @Setter\r\n    @Getter\r\n    @Entity\r\n    @Table(name = &quot;b&quot;)\r\n    public class B implements Serializable {\r\n    \r\n      @Id\r\n      @Column(nullable = false)\r\n      private String name;\r\n    \r\n      @OneToMany(cascade = CascadeType.PERSIST)\r\n      @JoinTable(\r\n              name = &quot;b_p&quot;,\r\n              joinColumns = @JoinColumn(name = &quot;b_name&quot;, referencedColumnName = &quot;name&quot;))\r\n      @MapKeyJoinColumns({\r\n              @MapKeyJoinColumn(name = &quot;b_name&quot;),\r\n              @MapKeyJoinColumn(name = &quot;p_c&quot;),\r\n              @MapKeyJoinColumn(name = &quot;c_id&quot;)\r\n      })\r\n      private Map&lt;VC, Price&gt; pricing = new LinkedHashMap&lt;&gt;();\r\n    \r\n      ...\r\n    }\r\n    \r\nThe Key to the map\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;v_c&quot;)\r\n    public class VC implements Serializable {\r\n    \r\n      @EmbeddedId private VCId vcId;\r\n    }\r\n    \r\nThe key&#39;s PK/Composite Key\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Embeddable\r\n    public class VCId implements Serializable {\r\n    \r\n      @Column(name = &quot;b_name&quot;)\r\n      private String bName;\r\n    \r\n      @Column(name = &quot;p_c&quot;)\r\n      private SomeEnum pc;\r\n    \r\n      @Column(name = &quot;c_id&quot;)\r\n      private String cId;\r\n    }\r\n\r\nThe value for the map\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @Embeddable\r\n    @Entity\r\n    @Table(name = &quot;price&quot;)\r\n    public class Price implements Serializable {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      private long id;\r\n    \r\n      @Column(name = &quot;amount&quot;)\r\n      private BigDecimal amount;\r\n    \r\n      @Column(name = &quot;discount_amount&quot;)\r\n      private BigDecimal discountAmount;\r\n    }\r\n\r\n\r\nDB tables\r\n\r\n    CREATE TABLE b\r\n    (\r\n        name                    VARCHAR(100) NOT NULL PRIMARY KEY\r\n        ...\r\n    );\r\n    \r\n    CREATE TABLE v_c\r\n    (\r\n        bundle_name         VARCHAR(100) NOT NULL,\r\n        physical_currency   TEXT         NOT NULL,\r\n        coin_id             VARCHAR(50)  NOT NULL,\r\n    \r\n        FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE,\r\n        PRIMARY KEY (b_name, p_c, c_id)\r\n    );\r\n    \r\n    CREATE TABLE p\r\n    (\r\n        id                  BIGSERIAL    NOT NULL PRIMARY KEY,\r\n        amount              NUMERIC,\r\n        discount_amount     NUMERIC      DEFAULT 0.00\r\n    );\r\n    \r\n    CREATE TABLE b_p\r\n    (\r\n        bname         VARCHAR(100) NOT NULL,\r\n        p_c   TEXT    NOT NULL,\r\n        c_id          VARCHAR(50)  NOT NULL,\r\n        price_id      BIGSERIAL    NOT NULL,\r\n    \r\n        FOREIGN KEY (b_name, p_c, c_id) REFERENCES v_c (b_name, p_c, c_id) ON DELETE CASCADE,\r\n        FOREIGN KEY (price_id) REFERENCES price (id) ON DELETE CASCADE,\r\n        PRIMARY KEY (b_name, p_c, c_id)\r\n    );","title":"Java: Repeated column in mapping for collection","body":"<p>I am trying to create a <code>OneToMany</code> mapping with a <code>LinkedHashMap</code> for my main entity <code>B</code>, that contains the entities <code>VC</code> and <code>P</code>, but I am getting the following error:</p>\n<blockquote>\n<p>Repeated column in mapping for collection:\ncom.test.model.B.pricing column: b_name</p>\n</blockquote>\n<p>I could be wrong, but I believe that it has something to do with the <code>@JoinColumns</code> or <code>@MapKeyJoinColumn</code> annotation, as I have not done anything like this before, so I am quite sure that I am doing this part incorrectly.</p>\n<p>My goal is that I should be able to provide the three fields:</p>\n<p><code>b_name</code> <code>pc</code> and <code>c_id</code> e.g. the <code>VC/VCId</code></p>\n<p>in order to get the <code>a</code> and <code>d_a</code> e.g. <code>P</code>.</p>\n<p>Also, if there is a better way to structure things, then I am all ears, as I personally do not really like how I have set up my tables tbh (would be nice if I could just have the <code>b</code> and <code>b_p</code> tables, where the <code>b_p</code> could just have all five fields (key and value) from the <code>p</code> map).</p>\n<p>Here is my main entity</p>\n<pre><code>@Setter\n@Getter\n@Entity\n@Table(name = &quot;b&quot;)\npublic class B implements Serializable {\n\n  @Id\n  @Column(nullable = false)\n  private String name;\n\n  @OneToMany(cascade = CascadeType.PERSIST)\n  @JoinTable(\n          name = &quot;b_p&quot;,\n          joinColumns = @JoinColumn(name = &quot;b_name&quot;, referencedColumnName = &quot;name&quot;))\n  @MapKeyJoinColumns({\n          @MapKeyJoinColumn(name = &quot;b_name&quot;),\n          @MapKeyJoinColumn(name = &quot;p_c&quot;),\n          @MapKeyJoinColumn(name = &quot;c_id&quot;)\n  })\n  private Map&lt;VC, Price&gt; pricing = new LinkedHashMap&lt;&gt;();\n\n  ...\n}\n</code></pre>\n<p>The Key to the map</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;v_c&quot;)\npublic class VC implements Serializable {\n\n  @EmbeddedId private VCId vcId;\n}\n</code></pre>\n<p>The key's PK/Composite Key</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\npublic class VCId implements Serializable {\n\n  @Column(name = &quot;b_name&quot;)\n  private String bName;\n\n  @Column(name = &quot;p_c&quot;)\n  private SomeEnum pc;\n\n  @Column(name = &quot;c_id&quot;)\n  private String cId;\n}\n</code></pre>\n<p>The value for the map</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@Embeddable\n@Entity\n@Table(name = &quot;price&quot;)\npublic class Price implements Serializable {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private long id;\n\n  @Column(name = &quot;amount&quot;)\n  private BigDecimal amount;\n\n  @Column(name = &quot;discount_amount&quot;)\n  private BigDecimal discountAmount;\n}\n</code></pre>\n<p>DB tables</p>\n<pre><code>CREATE TABLE b\n(\n    name                    VARCHAR(100) NOT NULL PRIMARY KEY\n    ...\n);\n\nCREATE TABLE v_c\n(\n    bundle_name         VARCHAR(100) NOT NULL,\n    physical_currency   TEXT         NOT NULL,\n    coin_id             VARCHAR(50)  NOT NULL,\n\n    FOREIGN KEY (b_name) REFERENCES b (name) ON DELETE CASCADE,\n    PRIMARY KEY (b_name, p_c, c_id)\n);\n\nCREATE TABLE p\n(\n    id                  BIGSERIAL    NOT NULL PRIMARY KEY,\n    amount              NUMERIC,\n    discount_amount     NUMERIC      DEFAULT 0.00\n);\n\nCREATE TABLE b_p\n(\n    bname         VARCHAR(100) NOT NULL,\n    p_c   TEXT    NOT NULL,\n    c_id          VARCHAR(50)  NOT NULL,\n    price_id      BIGSERIAL    NOT NULL,\n\n    FOREIGN KEY (b_name, p_c, c_id) REFERENCES v_c (b_name, p_c, c_id) ON DELETE CASCADE,\n    FOREIGN KEY (price_id) REFERENCES price (id) ON DELETE CASCADE,\n    PRIMARY KEY (b_name, p_c, c_id)\n);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"score":0,"creation_date":1635359276,"post_id":69743549,"comment_id":123279653,"body_markdown":"The problem happens before line 53. The out of bounds exception means that the list does not contain that index. Since you are querying the first index (0), that means you have an empty list.  And since you would get a different error if the list wasn&#39;t instantiated, I would guess that the problem is coming from your overrided onDataChange method","body":"The problem happens before line 53. The out of bounds exception means that the list does not contain that index. Since you are querying the first index (0), that means you have an empty list.  And since you would get a different error if the list wasn&#39;t instantiated, I would guess that the problem is coming from your overrided onDataChange method"},{"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"score":0,"creation_date":1635359498,"post_id":69743549,"comment_id":123279722,"body_markdown":"Someone familiar with using firebase may be able to point out your problem offhand, but most likely you will need to add logging to help identify the problem.","body":"Someone familiar with using firebase may be able to point out your problem offhand, but most likely you will need to add logging to help identify the problem."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635403923,"creation_date":1635403923,"answer_id":69749463,"question_id":69743549,"body_markdown":"As I see, you have two classes. The QuizSplash class where you actually perform the database call to get the questions, and the QuestionAnsActivity class, where you assign the result that is coming from the database to an existing list called `allQuestionsList`. But that&#39;s not how you should deal with the Realtime Database.\r\n\r\nDon&#39;t forget that data is loaded from the Realtime Database asynchronous, meaning that any code that needs data from the database, needs to be inside the `onDataChange()` method, or be called from there. So you cannot set the `list` object public and static and simply use it in another activity. You need to wait for the data to complete loading. So you either use that list inside the callback, or you can use my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\r\n\r\nWhere I have explained how you can propagate the result using an interface. If you understand Kotlin, you might also be interested in reading the following article:\r\n\r\n* [How to read data from Firebase Realtime Database using get()?][1]\r\n\r\n\r\n  [1]: https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5","title":"java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 when getting data from firebase server","body":"<p>As I see, you have two classes. The QuizSplash class where you actually perform the database call to get the questions, and the QuestionAnsActivity class, where you assign the result that is coming from the database to an existing list called <code>allQuestionsList</code>. But that's not how you should deal with the Realtime Database.</p>\n<p>Don't forget that data is loaded from the Realtime Database asynchronous, meaning that any code that needs data from the database, needs to be inside the <code>onDataChange()</code> method, or be called from there. So you cannot set the <code>list</code> object public and static and simply use it in another activity. You need to wait for the data to complete loading. So you either use that list inside the callback, or you can use my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">How to return DataSnapshot value as a result of a method?</a></li>\n</ul>\n<p>Where I have explained how you can propagate the result using an interface. If you understand Kotlin, you might also be interested in reading the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a></li>\n</ul>\n"}],"owner":{"account_id":19852603,"reputation":39,"user_id":17263721,"display_name":"Rafi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69749463,"answer_count":1,"score":0,"last_activity_date":1635403954,"creation_date":1635358224,"question_id":69743549,"body_markdown":"I&#39;m having a problem creating an application that can interact with firebase and get information stored in the server. But I am facing some problem here at **line 53**. Please be informative as I don&#39;t know why this is happening. When I tried with offline direct &quot;Questions&quot;, it worked completely fine. But when connecting the server, it fails every time.\r\n\r\n    //Line 53\r\n    questions = list.get(index);\r\n\r\nThis is what I did in the **QuestionAnsActivity.java**\r\n\r\n    ...\r\n    import static com.company.appname.QuizSplash.list;\r\n    ...\r\n\r\n    public class QuestionAnsActivity extends AppCompatActivity {\r\n    ...\r\n        List&lt;Questions&gt; allQuestionsList;\r\n        Questions questions;\r\n        int index = 0;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.question_ans_activity);\r\n           ...\r\n    \r\n    \r\n            allQuestionsList = list;\r\n            Collections.shuffle(allQuestionsList);\r\n\r\n           // The below code is my line 53\r\n            questions = list.get(index);\r\n    }}\r\n\r\nThis is what I did in **QuizSplash.java**\r\n\r\n    public class QuizSplash extends AppCompatActivity {\r\n    \r\n    \r\n        public static ArrayList&lt;Questions&gt; list;\r\n    \r\n        DatabaseReference databaseReference;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_quiz_splash);\r\n    \r\n            list = new ArrayList&lt;&gt;();\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Question&quot;);\r\n    \r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                        Questions questions = dataSnapshot.getValue(Questions.class);\r\n                        list.add(questions);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n            Intent intent = new Intent(QuizSplash.this, QuestionAnsActivity.class);\r\n            startActivity(intent);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThis is in **Questions.java**\r\n\r\n    public class Questions {\r\n    \r\n        String question;\r\n        String option1;\r\n        String option2;\r\n        String option3;\r\n        String option4;\r\n        String answer;\r\n    \r\n    //==================================================================================================\r\n    //                                      Empty constructor\r\n    //==================================================================================================\r\n        public Questions() {\r\n        }\r\n    \r\n    \r\n    //==================================================================================================\r\n    //                                       Constructor\r\n    //==================================================================================================\r\n        public Questions(String question, String option1, String option2,\r\n                         String option3, String option4, String answer) {\r\n            this.question = question;\r\n            this.option1 = option1;\r\n            this.option2 = option2;\r\n            this.option3 = option3;\r\n            this.option4 = option4;\r\n            this.answer = answer;\r\n        }\r\n    \r\n    //==================================================================================================\r\n                                // Getter and setter methods start here\r\n    //==================================================================================================\r\n        public String getQuestion() {\r\n            return question;\r\n        }\r\n    \r\n        public void setQuestion(String question) {\r\n            this.question = question;\r\n        }\r\n    \r\n        public String getOption1() {\r\n            return option1;\r\n        }\r\n    \r\n        public void setOption1(String option1) {\r\n            this.option1 = option1;\r\n        }\r\n    \r\n        public String getOption2() {\r\n            return option2;\r\n        }\r\n    \r\n        public void setOption2(String option2) {\r\n            this.option2 = option2;\r\n        }\r\n    \r\n        public String getOption3() {\r\n            return option3;\r\n        }\r\n    \r\n        public void setOption3(String option3) {\r\n            this.option3 = option3;\r\n        }\r\n    \r\n        public String getOption4() {\r\n            return option4;\r\n        }\r\n    \r\n        public void setOption4(String option4) {\r\n            this.option4 = option4;\r\n        }\r\n    \r\n        public String getAnswer() {\r\n            return answer;\r\n        }\r\n    \r\n        public void setAnswer(String answer) {\r\n            this.answer = answer;\r\n        }\r\n    }","title":"java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 when getting data from firebase server","body":"<p>I'm having a problem creating an application that can interact with firebase and get information stored in the server. But I am facing some problem here at <strong>line 53</strong>. Please be informative as I don't know why this is happening. When I tried with offline direct &quot;Questions&quot;, it worked completely fine. But when connecting the server, it fails every time.</p>\n<pre><code>//Line 53\nquestions = list.get(index);\n</code></pre>\n<p>This is what I did in the <strong>QuestionAnsActivity.java</strong></p>\n<pre><code>...\nimport static com.company.appname.QuizSplash.list;\n...\n\npublic class QuestionAnsActivity extends AppCompatActivity {\n...\n    List&lt;Questions&gt; allQuestionsList;\n    Questions questions;\n    int index = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.question_ans_activity);\n       ...\n\n\n        allQuestionsList = list;\n        Collections.shuffle(allQuestionsList);\n\n       // The below code is my line 53\n        questions = list.get(index);\n}}\n</code></pre>\n<p>This is what I did in <strong>QuizSplash.java</strong></p>\n<pre><code>public class QuizSplash extends AppCompatActivity {\n\n\n    public static ArrayList&lt;Questions&gt; list;\n\n    DatabaseReference databaseReference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_quiz_splash);\n\n        list = new ArrayList&lt;&gt;();\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Question&quot;);\n\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                    Questions questions = dataSnapshot.getValue(Questions.class);\n                    list.add(questions);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        Intent intent = new Intent(QuizSplash.this, QuestionAnsActivity.class);\n        startActivity(intent);\n\n    }\n\n}\n</code></pre>\n<p>This is in <strong>Questions.java</strong></p>\n<pre><code>public class Questions {\n\n    String question;\n    String option1;\n    String option2;\n    String option3;\n    String option4;\n    String answer;\n\n//==================================================================================================\n//                                      Empty constructor\n//==================================================================================================\n    public Questions() {\n    }\n\n\n//==================================================================================================\n//                                       Constructor\n//==================================================================================================\n    public Questions(String question, String option1, String option2,\n                     String option3, String option4, String answer) {\n        this.question = question;\n        this.option1 = option1;\n        this.option2 = option2;\n        this.option3 = option3;\n        this.option4 = option4;\n        this.answer = answer;\n    }\n\n//==================================================================================================\n                            // Getter and setter methods start here\n//==================================================================================================\n    public String getQuestion() {\n        return question;\n    }\n\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n\n    public String getOption1() {\n        return option1;\n    }\n\n    public void setOption1(String option1) {\n        this.option1 = option1;\n    }\n\n    public String getOption2() {\n        return option2;\n    }\n\n    public void setOption2(String option2) {\n        this.option2 = option2;\n    }\n\n    public String getOption3() {\n        return option3;\n    }\n\n    public void setOption3(String option3) {\n        this.option3 = option3;\n    }\n\n    public String getOption4() {\n        return option4;\n    }\n\n    public void setOption4(String option4) {\n        this.option4 = option4;\n    }\n\n    public String getAnswer() {\n        return answer;\n    }\n\n    public void setAnswer(String answer) {\n        this.answer = answer;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1630330843,"post_id":68984626,"comment_id":121919880,"body_markdown":"Are you using `hibernate.hbm2ddl.auto`? if so, can you disable it?","body":"Are you using <code>hibernate.hbm2ddl.auto</code>? if so, can you disable it?"},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1630331235,"post_id":68984626,"comment_id":121920059,"body_markdown":"i am using spring.jpa.hibernate.ddl-auto=update should i change this?","body":"i am using spring.jpa.hibernate.ddl-auto=update should i change this?"},{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":1,"creation_date":1630331429,"post_id":68984626,"comment_id":121920142,"body_markdown":"Yes. Why have you kept it at `update`? May be use `validate`? Can you instead use SQL scripts outside of the application or use something like Flyway or Liquibase?","body":"Yes. Why have you kept it at <code>update</code>? May be use <code>validate</code>? Can you instead use SQL scripts outside of the application or use something like Flyway or Liquibase?"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635403689,"creation_date":1630328528,"question_id":68984626,"body_markdown":"I have the following problem. I am trying to link my Spring Boot Application to my database via the Entity. However, I am not referencing to a Table, but to a View.\r\nI have the following problem. I am trying to link my Spring Boot Application to my database via the Entity.\r\n\r\nMy view\r\n```\r\nCREATE VIEW v_location AS\r\n\tSELECT DISTINCT a.external_id, a.name, d.loc_x, d.loc_y, d.loc_z \r\n\t\tFROM group a\r\n\t\t\tINNER JOIN structure b ON a.id = b.group_id\r\n\t\t\t\tINNER JOIN location c ON b.id = c.structure_id\r\n\t\t\t\t\tINNER JOIN location_point d ON c.id = d.location_id\r\n\t\t\t\t\t\tINNER JOIN propertyvalues e on e.id = c.location_type\r\n\t\t\t\t\t\t\twhere e.value_string = &#39;Mittelpunkt&#39;;\r\n```\r\nMy Entity\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;`v_location`&quot;)\r\npublic class LocationEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @EqualsAndHashCode.Exclude\r\n    private Long id;\r\n\r\n    @Column(name = &quot;external_id&quot;)\r\n    private Long externalId;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;loc_x&quot;)\r\n    private Double locX;\r\n\r\n    @Column(name = &quot;loc_y&quot;)\r\n    private Double locY;\r\n\r\n    @Column(name = &quot;loc_z&quot;)\r\n    private Double locZ;\r\n\r\n}\r\n```\r\nBut now the error is thrown out. On the database level, after running the application, a table was automatically created as an image of the view. In the error description, however, it seems to be that the existing tables want to adjust. \r\nQuestion: How can I link the view in Spring Boot with my application? Does anyone have a solution for me?\r\n```  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.4.5)\r\n\r\n14.49.51 INFO  o.s.b.StartupInfoLogger:55 Starting ServiceApplication using Java 11.0.2 on NB000613 with PID 6224 (D:\\Repositories\\basis-service\\target\\classes started by  in D:\\Repositories\\basis-service)\r\n14.49.51 DEBUG o.s.b.StartupInfoLogger:56 Running with Spring Boot v2.4.5, Spring v5.3.6\r\n14.49.51 INFO  o.s.b.SpringApplication:675 No active profile set, falling back to default profiles: default\r\n14.49.52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate:128 Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n14.49.52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate:188 Finished Spring Data repository scanning in 45 ms. Found 6 JPA repository interfaces.\r\n14.49.52 INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor:39 Post-processing PropertySource instances\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource servletConfigInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource servletContextInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource Config resource &#39;class path resource [application.properties]&#39; via location &#39;optional:classpath:/&#39; [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource devtools [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper\r\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource class path resource [springdoc.swagger-ui.config] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper\r\n14.49.52 INFO  c.u.j.f.DefaultLazyPropertyFilter:31 Property Filter custom Bean not found with name &#39;encryptablePropertyFilter&#39;. Initializing Default Property Filter\r\n14.49.52 INFO  c.u.j.r.DefaultLazyPropertyResolver:35 Property Resolver custom Bean not found with name &#39;encryptablePropertyResolver&#39;. Initializing Default Property Resolver\r\n14.49.52 INFO  c.u.j.d.DefaultLazyPropertyDetector:35 Property Detector custom Bean not found with name &#39;encryptablePropertyDetector&#39;. Initializing Default Property Detector\r\n14.49.52 INFO  o.s.b.w.e.t.TomcatWebServer:108 Tomcat initialized with port(s): 8080 (http)\r\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Starting service [Tomcat]\r\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Starting Servlet engine: [Apache Tomcat/9.0.45]\r\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Initializing Spring embedded WebApplicationContext\r\n14.49.52 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext:289 Root WebApplicationContext: initialization completed in 671 ms\r\n14.49.52 DEBUG o.s.w.f.GenericFilterBean:242 Filter &#39;CORSFilter&#39; configured for use\r\n14.49.52 INFO  o.h.j.i.u.LogHelper:31 HHH000204: Processing PersistenceUnitInfo [name: default]\r\n14.49.52 INFO  c.z.h.HikariDataSource:110 HikariPool-12 - Starting...\r\n14.49.52 INFO  c.z.h.HikariDataSource:123 HikariPool-12 - Start completed.\r\n14.49.52 INFO  o.h.d.Dialect:175 HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL81Dialect\r\nHibernate: \r\n    \r\n    alter table structure \r\n       add constraint FKtmaql4i7y6f4sgngykvn3j0hp \r\n       foreign key (group_id) \r\n       references group\r\n14.49.52 WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl:27 GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    alter table structure \r\n       add constraint FKtmaql4i7y6f4sgngykvn3j0hp \r\n       foreign key (group_id) \r\n       references group&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    alter table structure \r\n       add constraint FKtmaql4i7y6f4sgngykvn3j0hp \r\n       foreign key (group_id) \r\n       references group&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:559)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:504)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:433)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:249)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1340)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\r\n\tat de.basisServiceApplication.main(ServiceApplication.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: there is no primary key for referenced table &quot;structure_group&quot;\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322)\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308)\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 39 common frames omitted\r\n```","title":"How can I link the view in Spring Boot with my application?","body":"<p>I have the following problem. I am trying to link my Spring Boot Application to my database via the Entity. However, I am not referencing to a Table, but to a View.\nI have the following problem. I am trying to link my Spring Boot Application to my database via the Entity.</p>\n<p>My view</p>\n<pre><code>CREATE VIEW v_location AS\n    SELECT DISTINCT a.external_id, a.name, d.loc_x, d.loc_y, d.loc_z \n        FROM group a\n            INNER JOIN structure b ON a.id = b.group_id\n                INNER JOIN location c ON b.id = c.structure_id\n                    INNER JOIN location_point d ON c.id = d.location_id\n                        INNER JOIN propertyvalues e on e.id = c.location_type\n                            where e.value_string = 'Mittelpunkt';\n</code></pre>\n<p>My Entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;`v_location`&quot;)\npublic class LocationEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @EqualsAndHashCode.Exclude\n    private Long id;\n\n    @Column(name = &quot;external_id&quot;)\n    private Long externalId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;loc_x&quot;)\n    private Double locX;\n\n    @Column(name = &quot;loc_y&quot;)\n    private Double locY;\n\n    @Column(name = &quot;loc_z&quot;)\n    private Double locZ;\n\n}\n</code></pre>\n<p>But now the error is thrown out. On the database level, after running the application, a table was automatically created as an image of the view. In the error description, however, it seems to be that the existing tables want to adjust.\nQuestion: How can I link the view in Spring Boot with my application? Does anyone have a solution for me?</p>\n<pre><code> /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.4.5)\n\n14.49.51 INFO  o.s.b.StartupInfoLogger:55 Starting ServiceApplication using Java 11.0.2 on NB000613 with PID 6224 (D:\\Repositories\\basis-service\\target\\classes started by  in D:\\Repositories\\basis-service)\n14.49.51 DEBUG o.s.b.StartupInfoLogger:56 Running with Spring Boot v2.4.5, Spring v5.3.6\n14.49.51 INFO  o.s.b.SpringApplication:675 No active profile set, falling back to default profiles: default\n14.49.52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate:128 Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n14.49.52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate:188 Finished Spring Data repository scanning in 45 ms. Found 6 JPA repository interfaces.\n14.49.52 INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor:39 Post-processing PropertySource instances\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource servletConfigInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource servletContextInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource Config resource 'class path resource [application.properties]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource devtools [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper\n14.49.52 INFO  c.u.j.EncryptablePropertySourceConverter:56 Converting PropertySource class path resource [springdoc.swagger-ui.config] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper\n14.49.52 INFO  c.u.j.f.DefaultLazyPropertyFilter:31 Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter\n14.49.52 INFO  c.u.j.r.DefaultLazyPropertyResolver:35 Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver\n14.49.52 INFO  c.u.j.d.DefaultLazyPropertyDetector:35 Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector\n14.49.52 INFO  o.s.b.w.e.t.TomcatWebServer:108 Tomcat initialized with port(s): 8080 (http)\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Starting service [Tomcat]\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Starting Servlet engine: [Apache Tomcat/9.0.45]\n14.49.52 INFO  o.a.j.l.DirectJDKLog:173 Initializing Spring embedded WebApplicationContext\n14.49.52 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext:289 Root WebApplicationContext: initialization completed in 671 ms\n14.49.52 DEBUG o.s.w.f.GenericFilterBean:242 Filter 'CORSFilter' configured for use\n14.49.52 INFO  o.h.j.i.u.LogHelper:31 HHH000204: Processing PersistenceUnitInfo [name: default]\n14.49.52 INFO  c.z.h.HikariDataSource:110 HikariPool-12 - Starting...\n14.49.52 INFO  c.z.h.HikariDataSource:123 HikariPool-12 - Start completed.\n14.49.52 INFO  o.h.d.Dialect:175 HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL81Dialect\nHibernate: \n    \n    alter table structure \n       add constraint FKtmaql4i7y6f4sgngykvn3j0hp \n       foreign key (group_id) \n       references group\n14.49.52 WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl:27 GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    alter table structure \n       add constraint FKtmaql4i7y6f4sgngykvn3j0hp \n       foreign key (group_id) \n       references group&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    alter table structure \n       add constraint FKtmaql4i7y6f4sgngykvn3j0hp \n       foreign key (group_id) \n       references group&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:559)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:504)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:433)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:249)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\n    at de.basisServiceApplication.main(ServiceApplication.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.postgresql.util.PSQLException: ERROR: there is no primary key for referenced table &quot;structure_group&quot;\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322)\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279)\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 39 common frames omitted\n</code></pre>\n"},{"tags":["java","domain-driven-design","clean-architecture","hexagonal-architecture"],"comments":[{"owner":{"account_id":3512135,"reputation":8125,"user_id":2936204,"accept_rate":83,"display_name":"Neil W"},"score":0,"creation_date":1635166594,"post_id":69704893,"comment_id":123215306,"body_markdown":"It would depend on what you want to do with the score.  Is it for client view (report) only? \n Is it something to be calculated and persisted with the book?  Some other purpose?  A little more background would be required to give the best feedback.","body":"It would depend on what you want to do with the score.  Is it for client view (report) only?   Is it something to be calculated and persisted with the book?  Some other purpose?  A little more background would be required to give the best feedback."},{"owner":{"account_id":9662906,"reputation":703,"user_id":7170324,"accept_rate":100,"display_name":"SGodoy"},"score":0,"creation_date":1635173837,"post_id":69704893,"comment_id":123218858,"body_markdown":"Thanks for your answer. Calculated and persisted with the Book.","body":"Thanks for your answer. Calculated and persisted with the Book."}],"answers":[{"tags":[],"owner":{"account_id":1089215,"reputation":4570,"user_id":1084242,"accept_rate":71,"display_name":"choquero70"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635223091,"creation_date":1635223091,"answer_id":69717532,"question_id":69704893,"body_markdown":"If the calc of the score depends only on the book state, i would create a method in the book entity to calc it.\r\n\r\nOtherwise, if it depends on other domain objects also, i would create a domain service for calculating it.\r\n\r\nRegarding to persist the score. I would persist it just if the calc process is very complicated and takes a lot of time. Otherwise,  I wouldn&#39;t persist it and calc it when need it. \r\n\r\nIn case you persist jt, you have to consider that you have to recalculate it and persist the new value every time the other values it depends on change too.\r\n","title":"Create method to calculate a field in the Domain or in the Service","body":"<p>If the calc of the score depends only on the book state, i would create a method in the book entity to calc it.</p>\n<p>Otherwise, if it depends on other domain objects also, i would create a domain service for calculating it.</p>\n<p>Regarding to persist the score. I would persist it just if the calc process is very complicated and takes a lot of time. Otherwise,  I wouldn't persist it and calc it when need it.</p>\n<p>In case you persist jt, you have to consider that you have to recalculate it and persist the new value every time the other values it depends on change too.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635403624,"creation_date":1635402884,"answer_id":69749280,"question_id":69704893,"body_markdown":"&gt;  Should we place this method calculateScore() in a separate Service in case this logic changes in the future using different fields or this reponsibility should be in the Domain itself?\r\n\r\nFirst the clean architecture is very clear when it comes to the question &quot;Where should business logic be placed?&quot;.\r\n\r\n- Application agnostic business logic in the entities layer.\r\n- Application specific business logic in the use case layer.\r\n\r\nBut I think your question is about something a bit different, it&#39;s about [anemic or rich domain models][1]. I can&#39;t tell you every of my thoughts here, but I have written down most of them in the blog I linked in the sentence before.\r\n\r\nThe condensed statement of mine is\r\n\r\n&gt; rich domain models combine data and logic while anemic models separate them.\r\n\r\nLet&#39;s think about the anemic way...\r\n\r\nIf you place the logic in a separate service it usually means that you have to expose all properties of the book. You will make them public or at least package scope if the service is in the same package.\r\n\r\nYour question also focuses on *change*. You make the statement that logic changes can be better handled if the logic is put in a separate service. That&#39;s true, but it comes at a cost. \r\n\r\nIt&#39;s true that an anemic model let you add logic easier, but it is also true that each logic (each service) must have the same interpretation of the anemic model. I mean each service must know how to modify the data structure properly to keep it consistent and that will be hard to maintain when the number of services grows.\r\n\r\n\r\n\r\nBut implementing the service can also be a good intermediate step, because it will give you a hint about cohesion. The cohesion usually shows you where to place a method. E.g.\r\n\r\n    public class ScoreService {\r\n\r\n        public BookScore calculateScore(Book book, BookRentals rentals){\r\n            int pageCount = book.getPageCount();\r\n            Author author = book.getAuthor();\r\n\r\n            // calculate a new value based on pageCount and the author\r\n            // ...\r\n\r\n            OtherValue ov = book.getSomeOtherValue();\r\n            // do something with ov\r\n\r\n            int rentalCount = rentals.getCountSince(someDate);\r\n            // ... and so on\r\n        }\r\n    }\r\n\r\nWhen you look at the `calculateScore` above you will recognize that there are a lot of `get` invocations on `Book` and less on `BookRentals`. This is a hint that most of the data that `calculateScore` needs is placed in the `Book`. Thus the `calculateScore`&#39;s cohesion is higher to `Book` and the method might be placed in the `Book`class. E.g.\r\n\r\n    public class Book {\r\n\r\n        public BookScore getScore(BookRentals rentals){\r\n            int pageCount = this.getPageCount();\r\n            Author author = this.getAuthor();\r\n\r\n            // calculate a new value based on pageCount and the author\r\n            // ...\r\n\r\n            OtherValue ov = this.getSomeOtherValue();\r\n            // do something with ov\r\n\r\n            int rentalCount = rentals.getCountSince(someDate);\r\n            // ... and so on\r\n        }\r\n    }\r\n\r\nThe difference is obvious:\r\n\r\n1. the number of method parameters decreases. Maybe you apply DDD and `Book` is an aggregation root and also has access to `BookRentals`. Then your parameters might decrease to zero.\r\n2. Since most of the properties that `getScore` needs are located in the `Book` class, you might want to lower their visibilily to private. So that uncontrolled access is not allowed.\r\n\r\nOne question that often arises when developers put the logic in the entities is: &quot;How can an entity access data from a data store?&quot;\r\n\r\nMy solution is to just pass a repository to the methods that need it. E.g.\r\n\r\n    public class Book {\r\n\r\n        public BookScore getScore(BookRentalRepository repo){\r\n            // ...\r\n            int rentalCount = repo.getRentalCountSince(this, someDate);\r\n        }\r\n    }\r\n\r\nWhatever way you want to go, anemic or rich, keep the logic in a POJO. Also keep in mind that a [POJO can be more than a simple data structure][2].\r\n\r\nI hope my answer helps you to make a decision for your specific application.\r\n\r\n\r\n  [1]: https://link-intersystems.com/blog/2011/10/01/anemic-vs-rich-domain-models/\r\n  [2]: https://link-intersystems.com/blog/2011/09/26/the-difference-between-pojos-and-java-beans/","title":"Create method to calculate a field in the Domain or in the Service","body":"<blockquote>\n<p>Should we place this method calculateScore() in a separate Service in case this logic changes in the future using different fields or this reponsibility should be in the Domain itself?</p>\n</blockquote>\n<p>First the clean architecture is very clear when it comes to the question &quot;Where should business logic be placed?&quot;.</p>\n<ul>\n<li>Application agnostic business logic in the entities layer.</li>\n<li>Application specific business logic in the use case layer.</li>\n</ul>\n<p>But I think your question is about something a bit different, it's about <a href=\"https://link-intersystems.com/blog/2011/10/01/anemic-vs-rich-domain-models/\" rel=\"nofollow noreferrer\">anemic or rich domain models</a>. I can't tell you every of my thoughts here, but I have written down most of them in the blog I linked in the sentence before.</p>\n<p>The condensed statement of mine is</p>\n<blockquote>\n<p>rich domain models combine data and logic while anemic models separate them.</p>\n</blockquote>\n<p>Let's think about the anemic way...</p>\n<p>If you place the logic in a separate service it usually means that you have to expose all properties of the book. You will make them public or at least package scope if the service is in the same package.</p>\n<p>Your question also focuses on <em>change</em>. You make the statement that logic changes can be better handled if the logic is put in a separate service. That's true, but it comes at a cost.</p>\n<p>It's true that an anemic model let you add logic easier, but it is also true that each logic (each service) must have the same interpretation of the anemic model. I mean each service must know how to modify the data structure properly to keep it consistent and that will be hard to maintain when the number of services grows.</p>\n<p>But implementing the service can also be a good intermediate step, because it will give you a hint about cohesion. The cohesion usually shows you where to place a method. E.g.</p>\n<pre><code>public class ScoreService {\n\n    public BookScore calculateScore(Book book, BookRentals rentals){\n        int pageCount = book.getPageCount();\n        Author author = book.getAuthor();\n\n        // calculate a new value based on pageCount and the author\n        // ...\n\n        OtherValue ov = book.getSomeOtherValue();\n        // do something with ov\n\n        int rentalCount = rentals.getCountSince(someDate);\n        // ... and so on\n    }\n}\n</code></pre>\n<p>When you look at the <code>calculateScore</code> above you will recognize that there are a lot of <code>get</code> invocations on <code>Book</code> and less on <code>BookRentals</code>. This is a hint that most of the data that <code>calculateScore</code> needs is placed in the <code>Book</code>. Thus the <code>calculateScore</code>'s cohesion is higher to <code>Book</code> and the method might be placed in the <code>Book</code>class. E.g.</p>\n<pre><code>public class Book {\n\n    public BookScore getScore(BookRentals rentals){\n        int pageCount = this.getPageCount();\n        Author author = this.getAuthor();\n\n        // calculate a new value based on pageCount and the author\n        // ...\n\n        OtherValue ov = this.getSomeOtherValue();\n        // do something with ov\n\n        int rentalCount = rentals.getCountSince(someDate);\n        // ... and so on\n    }\n}\n</code></pre>\n<p>The difference is obvious:</p>\n<ol>\n<li>the number of method parameters decreases. Maybe you apply DDD and <code>Book</code> is an aggregation root and also has access to <code>BookRentals</code>. Then your parameters might decrease to zero.</li>\n<li>Since most of the properties that <code>getScore</code> needs are located in the <code>Book</code> class, you might want to lower their visibilily to private. So that uncontrolled access is not allowed.</li>\n</ol>\n<p>One question that often arises when developers put the logic in the entities is: &quot;How can an entity access data from a data store?&quot;</p>\n<p>My solution is to just pass a repository to the methods that need it. E.g.</p>\n<pre><code>public class Book {\n\n    public BookScore getScore(BookRentalRepository repo){\n        // ...\n        int rentalCount = repo.getRentalCountSince(this, someDate);\n    }\n}\n</code></pre>\n<p>Whatever way you want to go, anemic or rich, keep the logic in a POJO. Also keep in mind that a <a href=\"https://link-intersystems.com/blog/2011/09/26/the-difference-between-pojos-and-java-beans/\" rel=\"nofollow noreferrer\">POJO can be more than a simple data structure</a>.</p>\n<p>I hope my answer helps you to make a decision for your specific application.</p>\n"}],"owner":{"account_id":9662906,"reputation":703,"user_id":7170324,"accept_rate":100,"display_name":"SGodoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69749280,"answer_count":2,"score":1,"last_activity_date":1635403624,"creation_date":1635150589,"question_id":69704893,"body_markdown":"If we have a Class Book and we want to calculate the score of a Book following some rules like &quot;if the number of pages is lower than X then we need to substract Y from the score&quot; and using an Hexagonal Architecture. Should we place this method calculateScore() in a separate Service in case this logic changes in the future using different fields or this reponsibility should be in the Domain itself?\r\n\r\n**1st approach**\r\n\r\n    package com.xxx.domain;\r\n    \r\n    [...]\r\n    public class Book {\r\n    \r\n        [...]\r\n    \r\n        public Double score() {\r\n            [...]\r\n        }\r\n    \r\n        [...]\r\n    \r\n    }\r\n\r\n**2nd approach**\r\n\r\n    package com.xxx.application;\r\n\r\n    [...]\r\n    public interface ScoreService {\r\n    \r\n        [...]\r\n    \r\n        void calculateScore(Book book);\r\n    \r\n        [...]\r\n    \r\n    }","title":"Create method to calculate a field in the Domain or in the Service","body":"<p>If we have a Class Book and we want to calculate the score of a Book following some rules like &quot;if the number of pages is lower than X then we need to substract Y from the score&quot; and using an Hexagonal Architecture. Should we place this method calculateScore() in a separate Service in case this logic changes in the future using different fields or this reponsibility should be in the Domain itself?</p>\n<p><strong>1st approach</strong></p>\n<pre><code>package com.xxx.domain;\n\n[...]\npublic class Book {\n\n    [...]\n\n    public Double score() {\n        [...]\n    }\n\n    [...]\n\n}\n</code></pre>\n<p><strong>2nd approach</strong></p>\n<pre><code>package com.xxx.application;\n\n[...]\npublic interface ScoreService {\n\n    [...]\n\n    void calculateScore(Book book);\n\n    [...]\n\n}\n</code></pre>\n"},{"tags":["java","linux","bash"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":8,"creation_date":1532530878,"post_id":51522068,"comment_id":90013034,"body_markdown":"On Linux you need to use `:` as the separator in your classpath. `;` is already used to separate commands in the shell.","body":"On Linux you need to use <code>:</code> as the separator in your classpath. <code>;</code> is already used to separate commands in the shell."},{"owner":{"account_id":14030123,"reputation":31,"user_id":10134194,"display_name":"Agustin Del Pino"},"score":0,"creation_date":1532531249,"post_id":51522068,"comment_id":90013305,"body_markdown":"Thank you sooooooo much. Beginner errors :p.","body":"Thank you sooooooo much. Beginner errors :p."},{"owner":{"account_id":16033637,"reputation":101,"user_id":11571888,"display_name":"RaenonX"},"score":0,"creation_date":1636094682,"post_id":51522068,"comment_id":123470037,"body_markdown":"The other answer says NOT to use `:` as the separator on Linux?","body":"The other answer says NOT to use <code>:</code> as the separator on Linux?"}],"answers":[{"tags":[],"owner":{"account_id":2498271,"reputation":26,"user_id":2174137,"display_name":"fardus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635402794,"creation_date":1625582252,"answer_id":68272564,"question_id":51522068,"body_markdown":"On Linux don&#39;t use `:` as the separator in your classpath. the `;` is used to separate this.","title":"Bash Permission Denied when try to execute a jar files dependecies (SUSE Linux)","body":"<p>On Linux don't use <code>:</code> as the separator in your classpath. the <code>;</code> is used to separate this.</p>\n"}],"owner":{"account_id":14030123,"reputation":31,"user_id":10134194,"display_name":"Agustin Del Pino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2577,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635402794,"creation_date":1532530718,"question_id":51522068,"body_markdown":"I&#39;ve a JAR file with dependencies, when I execute it in Suse Console, an error appears.\r\n\r\nThis is the command:\r\n\r\n    java -cp ./arba-api-host-0.0.1-SNAPSHOT.jar;./log4j-1.2.17.jar;./json-20180130.jar;./junit-4.12.jar  ar.gov.aba.callnatural.LlamadaNatural &quot;S&quot; &quot;SECALL&quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot; &quot;\r\n\r\nAnd this is the error:\r\n\r\n    -bash: ./log4j-1.2.17.jar: Permission denied\r\n    -bash: ./json-20180130.jar: Permission denied\r\n    -bash: ./junit-4.12.jar: Permission denied\r\n\r\nThose JARs are the dependencies.","title":"Bash Permission Denied when try to execute a jar files dependecies (SUSE Linux)","body":"<p>I've a JAR file with dependencies, when I execute it in Suse Console, an error appears.</p>\n\n<p>This is the command:</p>\n\n<pre><code>java -cp ./arba-api-host-0.0.1-SNAPSHOT.jar;./log4j-1.2.17.jar;./json-20180130.jar;./junit-4.12.jar  ar.gov.aba.callnatural.LlamadaNatural \"S\" \"SECALL\" \" \" \" \" \" \" \" \" \" \"\n</code></pre>\n\n<p>And this is the error:</p>\n\n<pre><code>-bash: ./log4j-1.2.17.jar: Permission denied\n-bash: ./json-20180130.jar: Permission denied\n-bash: ./junit-4.12.jar: Permission denied\n</code></pre>\n\n<p>Those JARs are the dependencies.</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1635339049,"post_id":69738707,"comment_id":123270444,"body_markdown":"Your `footer()` constructor does not really do anything meaningful.","body":"Your <code>footer()</code> constructor does not really do anything meaningful."},{"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"score":0,"creation_date":1635339507,"post_id":69738707,"comment_id":123270644,"body_markdown":"You should add that Label into the layout that you are extending.","body":"You should add that Label into the layout that you are extending."},{"owner":{"account_id":19002939,"reputation":21,"user_id":13870115,"display_name":"Pedro Costa"},"score":0,"creation_date":1635340315,"post_id":69738707,"comment_id":123271043,"body_markdown":"jmizv, Thats what the exercise asks... just add a text below each view I have.","body":"jmizv, Thats what the exercise asks... just add a text below each view I have."},{"owner":{"account_id":19002939,"reputation":21,"user_id":13870115,"display_name":"Pedro Costa"},"score":0,"creation_date":1635340349,"post_id":69738707,"comment_id":123271064,"body_markdown":"Anna, how do I do that? Thanks","body":"Anna, how do I do that? Thanks"},{"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"score":0,"creation_date":1635341082,"post_id":69738707,"comment_id":123271486,"body_markdown":"It&#39;s just `add(label);`","body":"It&#39;s just <code>add(label);</code>"}],"answers":[{"tags":[],"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635345621,"creation_date":1635343868,"answer_id":69740242,"question_id":69738707,"body_markdown":"Instead of\r\n```\r\nnew Label(&quot;This text should be underneath the page in the views&quot;);\r\n```\r\ntry\r\n```\r\nadd(new Span(&quot;This text should be underneath the page in the views&quot;));\r\n```\r\nIn Vaadin Flow the Label component is meant to be used coupled with another component, not for adding stand-alone text like in Vaadin 8 and older. Also, every component needs to be added to the layout before they can become visible, just creating them isn&#39;t enough.\r\n\r\nUnfortunately LoginOverlay doesn&#39;t have API for adding extra components within it, but there is an open ticket about the feature that you can add thumbs up on to add more weight to it, and there&#39;s also a workaround presented in the comments: https://github.com/vaadin/web-components/issues/626","title":"How to add footer and header to other views using routerLayout in java using vaadin","body":"<p>Instead of</p>\n<pre><code>new Label(&quot;This text should be underneath the page in the views&quot;);\n</code></pre>\n<p>try</p>\n<pre><code>add(new Span(&quot;This text should be underneath the page in the views&quot;));\n</code></pre>\n<p>In Vaadin Flow the Label component is meant to be used coupled with another component, not for adding stand-alone text like in Vaadin 8 and older. Also, every component needs to be added to the layout before they can become visible, just creating them isn't enough.</p>\n<p>Unfortunately LoginOverlay doesn't have API for adding extra components within it, but there is an open ticket about the feature that you can add thumbs up on to add more weight to it, and there's also a workaround presented in the comments: <a href=\"https://github.com/vaadin/web-components/issues/626\" rel=\"nofollow noreferrer\">https://github.com/vaadin/web-components/issues/626</a></p>\n"},{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635402289,"creation_date":1635402289,"answer_id":69749205,"question_id":69738707,"body_markdown":"Your usage of the annotations is wrong. Here is super simplified outline how you should create MainLayout and route that defines a component that is shown in the mainlayout when navigated to that route.\r\n\r\n    public class MainLayout extends VerticalLayout implements RouterLayout {\r\n    \r\n        private Div childWrapper = new Div();\r\n    \r\n        public void MainLayout() {\r\n            setSizeFull();\r\n            Span header = new Span(&quot;This text should be above the page in the views&quot;);\r\n            Span footer = new Span(&quot;This text should be underneath the page in the views&quot;);\r\n            add(header);\r\n            addAndExpand(childWrapper)\r\n            add(footer);             \r\n        }\r\n    \r\n        @Override\r\n        public void showRouterLayoutContent(HasElement content) {\r\n            childWrapper.getElement().appendChild(content.getElement());\r\n        }\r\n    }\r\n    \r\n    @Route(value = &quot;order&quot;, layout = MainLayout.class)\r\n    public class OrderView extends VerticalLayout {\r\n    \r\n        public OrderView (){\r\n        }\r\n    }\r\n\r\nThere is [video tutorial][1] about Router concept on vaadin.com page that explains this in detail. \r\n\r\n\r\n  [1]: https://vaadin.com/learn/training/v14-router","title":"How to add footer and header to other views using routerLayout in java using vaadin","body":"<p>Your usage of the annotations is wrong. Here is super simplified outline how you should create MainLayout and route that defines a component that is shown in the mainlayout when navigated to that route.</p>\n<pre><code>public class MainLayout extends VerticalLayout implements RouterLayout {\n\n    private Div childWrapper = new Div();\n\n    public void MainLayout() {\n        setSizeFull();\n        Span header = new Span(&quot;This text should be above the page in the views&quot;);\n        Span footer = new Span(&quot;This text should be underneath the page in the views&quot;);\n        add(header);\n        addAndExpand(childWrapper)\n        add(footer);             \n    }\n\n    @Override\n    public void showRouterLayoutContent(HasElement content) {\n        childWrapper.getElement().appendChild(content.getElement());\n    }\n}\n\n@Route(value = &quot;order&quot;, layout = MainLayout.class)\npublic class OrderView extends VerticalLayout {\n\n    public OrderView (){\n    }\n}\n</code></pre>\n<p>There is <a href=\"https://vaadin.com/learn/training/v14-router\" rel=\"nofollow noreferrer\">video tutorial</a> about Router concept on vaadin.com page that explains this in detail.</p>\n"}],"owner":{"account_id":19002939,"reputation":21,"user_id":13870115,"display_name":"Pedro Costa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635402289,"creation_date":1635337788,"question_id":69738707,"body_markdown":"I created a class named &quot;Footer&quot; having just a Label. I also have a few views like loginview, orderview). And I would like to add that footer to every view. This is my code until now.\r\n```\r\n@ParentLayout(OrderView.class)\r\npublic class footer extends VerticalLayout implements RouterLayout {\r\n    public footer() {\r\n     add(new Span(&quot;This text should be underneath the page in the views&quot;));\r\n    }\r\n}\r\n```\r\nUnderneath you have my orederview where I want to see that text from the footerclass.\r\n```\r\n@Route(&quot;order&quot;)\r\npublic class OrderView extends VerticalLayout implements RouterLayout {\r\n\r\n    public OrderView (){\r\n   // What am I supposed to code here to get that text from Footerclass.\r\n        \r\n    }\r\n}\r\n```\r\nI would like to know what I am missing.\r\nThanks for the help.\r\n\r\n","title":"How to add footer and header to other views using routerLayout in java using vaadin","body":"<p>I created a class named &quot;Footer&quot; having just a Label. I also have a few views like loginview, orderview). And I would like to add that footer to every view. This is my code until now.</p>\n<pre><code>@ParentLayout(OrderView.class)\npublic class footer extends VerticalLayout implements RouterLayout {\n    public footer() {\n     add(new Span(&quot;This text should be underneath the page in the views&quot;));\n    }\n}\n</code></pre>\n<p>Underneath you have my orederview where I want to see that text from the footerclass.</p>\n<pre><code>@Route(&quot;order&quot;)\npublic class OrderView extends VerticalLayout implements RouterLayout {\n\n    public OrderView (){\n   // What am I supposed to code here to get that text from Footerclass.\n        \n    }\n}\n</code></pre>\n<p>I would like to know what I am missing.\nThanks for the help.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1480049963,"post_id":40797173,"comment_id":68817707,"body_markdown":"My answer to the question you linked describes a good way to generate a reproducible room key for two users. If you&#39;re having problems implementing this in your app, share the [minimal code that reproduces where you are stuck](http://stackoverflow.com/help/mcve).","body":"My answer to the question you linked describes a good way to generate a reproducible room key for two users. If you&#39;re having problems implementing this in your app, share the <a href=\"http://stackoverflow.com/help/mcve\">minimal code that reproduces where you are stuck</a>."},{"owner":{"account_id":8420027,"reputation":873,"user_id":6319070,"accept_rate":43,"display_name":"aboodrak"},"score":0,"creation_date":1480117331,"post_id":40797173,"comment_id":68847183,"body_markdown":"thank you @FrankvanPuffelen , i figure out how to solve this problem in java by using compareTo function which return int and check which int is greater and assign the chat ID depend it .","body":"thank you @FrankvanPuffelen , i figure out how to solve this problem in java by using compareTo function which return int and check which int is greater and assign the chat ID depend it ."}],"answers":[{"tags":[],"owner":{"account_id":4117489,"reputation":1844,"user_id":3378714,"accept_rate":55,"display_name":"Sushant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1480069540,"creation_date":1480069540,"answer_id":40802709,"question_id":40797173,"body_markdown":"A good approach here would be to combine user ids after sorting them in alphabetically or numerically (lexicographically). For example user id for `user 1` is `100` and user id for `user 2` is `88` then in this case the node id would be `chat_88_100`. So both the users would access same node.","title":"Trying to build chat app in android with Firebase , how to generate unique chatID that should be equal for 2 user?","body":"<p>A good approach here would be to combine user ids after sorting them in alphabetically or numerically (lexicographically). For example user id for <code>user 1</code> is <code>100</code> and user id for <code>user 2</code> is <code>88</code> then in this case the node id would be <code>chat_88_100</code>. So both the users would access same node.</p>\n"},{"tags":[],"owner":{"account_id":13465703,"reputation":66,"user_id":9716059,"display_name":"Welbert Moreira"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565339897,"creation_date":1565338248,"answer_id":57425968,"question_id":40797173,"body_markdown":"Compare user ID one and two \r\nand put the smaller number first, here is an example: \r\n\r\n    public String getFirebaseKey(int userTwo) {\r\n        int idCurrentUser = user.getId();\r\n        if (userTwo &lt; idCurrentUser )\r\n            return userTwo + &quot;_&quot; + idCurrentUser ;\r\n        return idCurrentUser  + &quot;_&quot; + userTwo ;\r\n    }\r\n","title":"Trying to build chat app in android with Firebase , how to generate unique chatID that should be equal for 2 user?","body":"<p>Compare user ID one and two \nand put the smaller number first, here is an example: </p>\n\n<pre><code>public String getFirebaseKey(int userTwo) {\n    int idCurrentUser = user.getId();\n    if (userTwo &lt; idCurrentUser )\n        return userTwo + \"_\" + idCurrentUser ;\n    return idCurrentUser  + \"_\" + userTwo ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11010140,"reputation":1058,"user_id":8087820,"display_name":"Bholendra Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635401852,"creation_date":1635401852,"answer_id":69749138,"question_id":40797173,"body_markdown":"    String uid1 = &quot;ovBiCKe4rgbLU5rMAT0UMzsNAn82&quot;;\r\n    String uid2 = &quot;BQlsP0ZPfZOtXRo8oyMr2mBw7482&quot;;\r\n\r\n    int comp = uid1.compareTo(uid2);\r\n\r\n    String chatID;\r\n    if (comp == -1) {\r\n     chatID = &quot;chatID_&quot; + uid1 + &#39;_&#39; + uid2;\r\n    }\r\n    else {\r\n    chatID = &quot;chatID_&quot; + uid2 + &#39;_&#39; + uid1;\r\n    }\r\n    print(chatID);\r\n    \r\n    Output:- chatID_BQlsP0ZPfZOtXRo8oyMr2mBw7482_ovBiCKe4rgbLU5rMAT0UMzsNAn82\r\n\r\n\r\n","title":"Trying to build chat app in android with Firebase , how to generate unique chatID that should be equal for 2 user?","body":"<pre><code>String uid1 = &quot;ovBiCKe4rgbLU5rMAT0UMzsNAn82&quot;;\nString uid2 = &quot;BQlsP0ZPfZOtXRo8oyMr2mBw7482&quot;;\n\nint comp = uid1.compareTo(uid2);\n\nString chatID;\nif (comp == -1) {\n chatID = &quot;chatID_&quot; + uid1 + '_' + uid2;\n}\nelse {\nchatID = &quot;chatID_&quot; + uid2 + '_' + uid1;\n}\nprint(chatID);\n\nOutput:- chatID_BQlsP0ZPfZOtXRo8oyMr2mBw7482_ovBiCKe4rgbLU5rMAT0UMzsNAn82\n</code></pre>\n"}],"owner":{"account_id":8420027,"reputation":873,"user_id":6319070,"accept_rate":43,"display_name":"aboodrak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40802709,"answer_count":3,"score":0,"last_activity_date":1635401852,"creation_date":1480043620,"question_id":40797173,"body_markdown":"I&#39;m new in Firebase with Android. I&#39;m trying to build nearby chat application, which search for nearby people and make geo query with Geofire library and get the nearby location which has the key equal to nearby user key. \r\n\r\nI&#39;ve done this part already in one activity and display the nearby users list in list view.\r\n\r\nThen I make onClick listener in each element ( user) in nearby list view, the click listener doing this : \r\n\r\n1. take the `geoLocation` id which is equal to nearby user id . \r\n    \r\n2. put this id into intent and start new  chat activity which is\r\n    responsible for chating .\r\n\r\n---- \r\nMy problem start in chat activity. I don&#39;t know how to implement the \r\nUnique chat ID that&#39;s should be equal for 2 user, so that both users will end up in one chat session. \r\n\r\nI try to combine the user ID 1 + user ID2 and concatenate this both ID and generate the unique ID , the problem is if each user start the chat activity. \r\nBut they end up with chat ID with user1 + user2 always. The result is that each user will have it&#39;s own session and they end up chatting with himself.\r\n\r\n \r\nThis is my database design:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n    \t&quot;users&quot; : {\r\n    \t\t&quot;UserID1&quot; : {\r\n    \t\t\t&quot;name&quot; : &quot;Abood&quot; \r\n    \t\t} ,\r\n\r\n    \t\t&quot;UserID2&quot; : {\r\n    \t\t\t&quot;name&quot; : &quot;Yousef&quot; \r\n    \t\t} ,\r\n    \t} , \r\n\r\n    \t&quot;chats&quot; : {\r\n    \t\t&quot;chat_userID1_userID2&quot; : {\r\n    \t\t\t&quot;messages&quot; : {\r\n    \t\t\t\t&quot;messageID1&quot; : {\r\n    \t\t\t\t\t&quot;singleMessage&quot; : {\r\n    \t\t\t\t\t\t&quot;name &quot; : &quot;Abood&quot; ,\r\n    \t\t\t\t\t\t&quot;text&quot; : &quot;hello how are you ?&quot; , \r\n    \t\t\t\t\t\t&quot;sendIn&quot; : &quot;2016.11.24&quot; \r\n    \t\t\t\t\t}, \r\n    \t\t\t\t\t&quot;messageID2&quot; : {\r\n    \t\t\t\t\t\t&quot;singleMessage&quot; : {\r\n    \t\t\t\t\t\t&quot;name&quot; : &quot;Yousef&quot; , \r\n    \t\t\t\t\t\t&quot;text&quot; : &quot;Im fine , thank you &quot; ,\r\n    \t\t\t\t\t\t&quot;sendIn&quot; : &quot;2016.11.25&quot; \r\n\r\n    \t\t\t\t\t\t}\r\n\r\n    \t\t\t\t\t}\r\n\r\n\r\n\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} ,\r\n\r\n    \t&quot;chat_meta_data&quot; : {\r\n    \t\t&quot;chat_userID1_userID2&quot; : {\r\n    \t\t\t&quot;lastMessage&quot; : {\r\n    \t\t\t\t&quot;from&quot; : &quot;Yousef&quot; , \r\n    \t\t\t\t&quot;date&quot; : &quot;2016.11.25&quot; \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nI search in stackoverflow and I see the same problem but it&#39;s was in javascript , \r\nhttps://stackoverflow.com/questions/33540479/best-way-to-manage-chat-channels-in-firebase\r\n\r\nI don&#39;t know how to implement it in java.\r\n\r\nHow I generate the chat id from combining both user id 1 + user id 2 , but its should be equal for both user?\r\n\r\n \r\n\r\n","title":"Trying to build chat app in android with Firebase , how to generate unique chatID that should be equal for 2 user?","body":"<p>I'm new in Firebase with Android. I'm trying to build nearby chat application, which search for nearby people and make geo query with Geofire library and get the nearby location which has the key equal to nearby user key. </p>\n\n<p>I've done this part already in one activity and display the nearby users list in list view.</p>\n\n<p>Then I make onClick listener in each element ( user) in nearby list view, the click listener doing this : </p>\n\n<ol>\n<li><p>take the <code>geoLocation</code> id which is equal to nearby user id . </p></li>\n<li><p>put this id into intent and start new  chat activity which is\nresponsible for chating .</p></li>\n</ol>\n\n<hr>\n\n<p>My problem start in chat activity. I don't know how to implement the \nUnique chat ID that's should be equal for 2 user, so that both users will end up in one chat session. </p>\n\n<p>I try to combine the user ID 1 + user ID2 and concatenate this both ID and generate the unique ID , the problem is if each user start the chat activity. \nBut they end up with chat ID with user1 + user2 always. The result is that each user will have it's own session and they end up chatting with himself.</p>\n\n<p>This is my database design:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"users\" : {\n        \"UserID1\" : {\n            \"name\" : \"Abood\" \n        } ,\n\n        \"UserID2\" : {\n            \"name\" : \"Yousef\" \n        } ,\n    } , \n\n    \"chats\" : {\n        \"chat_userID1_userID2\" : {\n            \"messages\" : {\n                \"messageID1\" : {\n                    \"singleMessage\" : {\n                        \"name \" : \"Abood\" ,\n                        \"text\" : \"hello how are you ?\" , \n                        \"sendIn\" : \"2016.11.24\" \n                    }, \n                    \"messageID2\" : {\n                        \"singleMessage\" : {\n                        \"name\" : \"Yousef\" , \n                        \"text\" : \"Im fine , thank you \" ,\n                        \"sendIn\" : \"2016.11.25\" \n\n                        }\n\n                    }\n\n\n\n                }\n            }\n        }\n    } ,\n\n    \"chat_meta_data\" : {\n        \"chat_userID1_userID2\" : {\n            \"lastMessage\" : {\n                \"from\" : \"Yousef\" , \n                \"date\" : \"2016.11.25\" \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I search in stackoverflow and I see the same problem but it's was in javascript , \n<a href=\"https://stackoverflow.com/questions/33540479/best-way-to-manage-chat-channels-in-firebase\">Best way to manage Chat channels in Firebase</a></p>\n\n<p>I don't know how to implement it in java.</p>\n\n<p>How I generate the chat id from combining both user id 1 + user id 2 , but its should be equal for both user?</p>\n"},{"tags":["java","timezone","jodatime"],"comments":[{"owner":{"account_id":10448,"reputation":91684,"user_id":19746,"accept_rate":91,"display_name":"Piskvor left the building"},"score":0,"creation_date":1292847823,"post_id":1305350,"comment_id":4910795,"body_markdown":"possible duplicate of [How can I get the current date and time in UTC or GMT in Java?](http://stackoverflow.com/questions/308683/how-can-i-get-the-current-date-and-time-in-utc-or-gmt-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/308683/how-can-i-get-the-current-date-and-time-in-utc-or-gmt-in-java\">How can I get the current date and time in UTC or GMT in Java?</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1382955065,"post_id":1305350,"comment_id":29146415,"body_markdown":"For example code using Joda-Time to translate between time zones, see [my answer](http://stackoverflow.com/a/19378311/642706) on the question [Java Convert GMT/UTC to Local time doesn&#39;t work as expected](http://stackoverflow.com/questions/19375357/java-convert-gmt-utc-to-local-time-doesnt-work-as-expected/19378311#19378311)","body":"For example code using Joda-Time to translate between time zones, see <a href=\"http://stackoverflow.com/a/19378311/642706\">my answer</a> on the question <a href=\"http://stackoverflow.com/questions/19375357/java-convert-gmt-utc-to-local-time-doesnt-work-as-expected/19378311#19378311\">Java Convert GMT/UTC to Local time doesn&#39;t work as expected</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":3,"up_vote_count":106,"is_accepted":true,"score":103,"last_activity_date":1467352986,"creation_date":1250765584,"answer_id":1305370,"question_id":1305350,"body_markdown":"[`Date`][1] is *always* UTC-based... or time-zone neutral, depending on how you want to view it. A `Date` *only* represents a point in time; it is independent of time zone, just a number of milliseconds since the Unix epoch. There&#39;s no notion of a &quot;local instance of `Date`.&quot; Use `Date` in conjunction with [`Calendar`][2] and/or [`TimeZone.getDefault()`][3] to use a &quot;local&quot; time zone. Use `TimeZone.getTimeZone(&quot;Europe/Madrid&quot;)` to get the Madrid time zone.\r\n\r\n... or use [Joda Time][4], which tends to make the whole thing clearer, IMO. In Joda Time you&#39;d use a `DateTime` value, which is an instant in time *in a particular calendar system and time zone*.\r\n\r\nIn Java 8 you&#39;d use `java.time.ZonedDateTime`, which is the Java 8 equivalent of Joda Time&#39;s `DateTime`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Date.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/TimeZone.html#getDefault()\r\n  [4]: http://joda-time.sourceforge.net/","title":"How to get the current date and time of your timezone in Java?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>Date</code></a> is <em>always</em> UTC-based... or time-zone neutral, depending on how you want to view it. A <code>Date</code> <em>only</em> represents a point in time; it is independent of time zone, just a number of milliseconds since the Unix epoch. There's no notion of a \"local instance of <code>Date</code>.\" Use <code>Date</code> in conjunction with <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a> and/or <a href=\"http://java.sun.com/javase/6/docs/api/java/util/TimeZone.html#getDefault()\" rel=\"noreferrer\"><code>TimeZone.getDefault()</code></a> to use a \"local\" time zone. Use <code>TimeZone.getTimeZone(\"Europe/Madrid\")</code> to get the Madrid time zone.</p>\n\n<p>... or use <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda Time</a>, which tends to make the whole thing clearer, IMO. In Joda Time you'd use a <code>DateTime</code> value, which is an instant in time <em>in a particular calendar system and time zone</em>.</p>\n\n<p>In Java 8 you'd use <code>java.time.ZonedDateTime</code>, which is the Java 8 equivalent of Joda Time's <code>DateTime</code>.</p>\n"},{"tags":[],"owner":{"account_id":47627,"reputation":16197,"user_id":141186,"accept_rate":82,"display_name":"Joshua Partogi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250765649,"creation_date":1250765649,"answer_id":1305380,"question_id":1305350,"body_markdown":"You would use [JodaTime][1] for that.  Java.util.Date is very limited regarding TimeZone.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/userguide.html#Changing_TimeZone","title":"How to get the current date and time of your timezone in Java?","body":"<p>You would use <a href=\"http://joda-time.sourceforge.net/userguide.html#Changing_TimeZone\" rel=\"nofollow noreferrer\">JodaTime</a> for that.  Java.util.Date is very limited regarding TimeZone.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1250766212,"creation_date":1250765705,"answer_id":1305384,"question_id":1305350,"body_markdown":"using [Calendar][1] is simple:\r\n\r\n    Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;Europe/Madrid&quot;));\r\n    Date currentDate = calendar.getTime();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html","title":"How to get the current date and time of your timezone in Java?","body":"<p>using <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a> is simple:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"Europe/Madrid\"));\nDate currentDate = calendar.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1250766752,"creation_date":1250766752,"answer_id":1305454,"question_id":1305350,"body_markdown":"As Jon Skeet already said, `java.util.Date` does not have a time zone. A `Date` object represents a number of milliseconds since January 1, 1970, 12:00 AM, UTC. It does not contain time zone information.\r\n\r\nWhen you format a Date object into a string, for example by using `SimpleDateFormat`, then you can set the time zone on the `DateFormat` object to let it know in which time zone you want to display the date and time:\r\n\r\n    Date date = new Date();\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n    // Use Madrid&#39;s time zone to format the date in\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Madrid&quot;));\r\n\r\n    System.out.println(&quot;Date and time in Madrid: &quot; + df.format(date));\r\n\r\nIf you want the local time zone of the computer that your program is running on, use:\r\n\r\n    df.setTimeZone(TimeZone.getDefault());\r\n","title":"How to get the current date and time of your timezone in Java?","body":"<p>As Jon Skeet already said, <code>java.util.Date</code> does not have a time zone. A <code>Date</code> object represents a number of milliseconds since January 1, 1970, 12:00 AM, UTC. It does not contain time zone information.</p>\n\n<p>When you format a Date object into a string, for example by using <code>SimpleDateFormat</code>, then you can set the time zone on the <code>DateFormat</code> object to let it know in which time zone you want to display the date and time:</p>\n\n<pre><code>Date date = new Date();\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n// Use Madrid's time zone to format the date in\ndf.setTimeZone(TimeZone.getTimeZone(\"Europe/Madrid\"));\n\nSystem.out.println(\"Date and time in Madrid: \" + df.format(date));\n</code></pre>\n\n<p>If you want the local time zone of the computer that your program is running on, use:</p>\n\n<pre><code>df.setTimeZone(TimeZone.getDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269965,"reputation":954,"user_id":559629,"display_name":"wjin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1311202824,"creation_date":1311202824,"answer_id":6769545,"question_id":1305350,"body_markdown":"I couldn&#39;t get it to work using Calendar. You have to use DateFormat\r\n\r\n    //Wednesday, July 20, 2011 3:54:44 PM PDT\r\n    DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n    final String dateTimeString = df.format(new Date());\r\n\r\n    //Wednesday, July 20, 2011\r\n    df = DateFormat.getDateInstance(DateFormat.FULL);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n    final String dateString = df.format(new Date());\r\n\r\n    //3:54:44 PM PDT\r\n    df = DateFormat.getTimeInstance(DateFormat.FULL);\r\n    df.setTimeZone(Timezone.getTimeZone(&quot;PST&quot;));\r\n    final String timeString = df.format(new Date());","title":"How to get the current date and time of your timezone in Java?","body":"<p>I couldn't get it to work using Calendar. You have to use DateFormat</p>\n\n<pre><code>//Wednesday, July 20, 2011 3:54:44 PM PDT\nDateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\ndf.setTimeZone(TimeZone.getTimeZone(\"PST\"));\nfinal String dateTimeString = df.format(new Date());\n\n//Wednesday, July 20, 2011\ndf = DateFormat.getDateInstance(DateFormat.FULL);\ndf.setTimeZone(TimeZone.getTimeZone(\"PST\"));\nfinal String dateString = df.format(new Date());\n\n//3:54:44 PM PDT\ndf = DateFormat.getTimeInstance(DateFormat.FULL);\ndf.setTimeZone(Timezone.getTimeZone(\"PST\"));\nfinal String timeString = df.format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069404,"reputation":11,"user_id":1069045,"display_name":"shamim"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1322472791,"creation_date":1322472618,"answer_id":8293834,"question_id":1305350,"body_markdown":"    DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n    final String dateTimeString = df.format(new Date());","title":"How to get the current date and time of your timezone in Java?","body":"<pre><code>DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\ndf.setTimeZone(TimeZone.getTimeZone(\"PST\"));\nfinal String dateTimeString = df.format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938396,"reputation":305,"user_id":966921,"display_name":"Subhamay"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1556228284,"creation_date":1332227594,"answer_id":9782667,"question_id":1305350,"body_markdown":"Check this may be helpful. Works fine for me. Code also covered daylight savings\r\n\r\n        TimeZone tz = TimeZone.getTimeZone(&quot;Asia/Shanghai&quot;);\r\n\t\tCalendar cal = Calendar.getInstance();\t\t\r\n\t\t// If needed in hours rather than milliseconds\r\n\t\tint LocalOffSethrs = (int) ((cal.getTimeZone().getRawOffset()) *(2.77777778 /10000000));\t\t\r\n\t\tint ChinaOffSethrs = (int) ((tz.getRawOffset()) *(2.77777778 /10000000));\t\t\r\n\t\tint dts = cal.getTimeZone().getDSTSavings();\r\n\t\tSystem.out.println(&quot;Local Time Zone : &quot; + cal.getTimeZone().getDisplayName());\r\n\t\tSystem.out.println(&quot;Local Day Light Time Saving : &quot; + dts);\r\n\t\tSystem.out.println(&quot;China Time : &quot; + tz.getRawOffset());\r\n\t\tSystem.out.println(&quot;Local Offset Time from GMT: &quot; + LocalOffSethrs);\r\n\t\tSystem.out.println(&quot;China Offset Time from GMT: &quot; + ChinaOffSethrs);\t\r\n\t\t// Adjust to GMT\r\n\t\tcal.add(Calendar.MILLISECOND,-(cal.getTimeZone().getRawOffset()));\t\r\n\t\t// Adjust to Daylight Savings\r\n\t\tcal.add(Calendar.MILLISECOND, - cal.getTimeZone().getDSTSavings());\r\n\t\t// Adjust to Offset\r\n\t\tcal.add(Calendar.MILLISECOND, tz.getRawOffset());\t\t\r\n\t\tDate dt = new Date(cal.getTimeInMillis());\t\t\t\t\r\n\t\tSystem.out.println(&quot;After adjusting offset Acctual China Time :&quot; + dt);\t","title":"How to get the current date and time of your timezone in Java?","body":"<p>Check this may be helpful. Works fine for me. Code also covered daylight savings</p>\n\n<pre><code>    TimeZone tz = TimeZone.getTimeZone(\"Asia/Shanghai\");\n    Calendar cal = Calendar.getInstance();      \n    // If needed in hours rather than milliseconds\n    int LocalOffSethrs = (int) ((cal.getTimeZone().getRawOffset()) *(2.77777778 /10000000));        \n    int ChinaOffSethrs = (int) ((tz.getRawOffset()) *(2.77777778 /10000000));       \n    int dts = cal.getTimeZone().getDSTSavings();\n    System.out.println(\"Local Time Zone : \" + cal.getTimeZone().getDisplayName());\n    System.out.println(\"Local Day Light Time Saving : \" + dts);\n    System.out.println(\"China Time : \" + tz.getRawOffset());\n    System.out.println(\"Local Offset Time from GMT: \" + LocalOffSethrs);\n    System.out.println(\"China Offset Time from GMT: \" + ChinaOffSethrs);    \n    // Adjust to GMT\n    cal.add(Calendar.MILLISECOND,-(cal.getTimeZone().getRawOffset()));  \n    // Adjust to Daylight Savings\n    cal.add(Calendar.MILLISECOND, - cal.getTimeZone().getDSTSavings());\n    // Adjust to Offset\n    cal.add(Calendar.MILLISECOND, tz.getRawOffset());       \n    Date dt = new Date(cal.getTimeInMillis());              \n    System.out.println(\"After adjusting offset Acctual China Time :\" + dt); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3091605,"reputation":186,"user_id":2617592,"display_name":"shan"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1405513236,"creation_date":1405513236,"answer_id":24780655,"question_id":1305350,"body_markdown":"Here are some steps for finding Time for your zone:\r\n\r\n Date now = new Date();  \r\n     \r\n     DateFormat df = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);  \r\n     df.setTimeZone(TimeZone.getTimeZone(&quot;Europe/London&quot;));  \r\n        \r\n     System.out.println(&quot;timeZone.......--&gt;&gt;&gt;&gt;&gt;&gt;&quot;+df.format(now));  ","title":"How to get the current date and time of your timezone in Java?","body":"<p>Here are some steps for finding Time for your zone:</p>\n\n<p>Date now = new Date();  </p>\n\n<pre><code> DateFormat df = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");  \n df.setTimeZone(TimeZone.getTimeZone(\"Europe/London\"));  \n\n System.out.println(\"timeZone.......--&gt;&gt;&gt;&gt;&gt;&gt;\"+df.format(now));  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1516949878,"creation_date":1461850996,"answer_id":36916551,"question_id":1305350,"body_markdown":"With the *java.time* classes built into Java 8 and later:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tLocalDateTime localNow = LocalDateTime.now(TimeZone.getTimeZone(&quot;Europe/Madrid&quot;).toZoneId());\r\n    \t\tSystem.out.println(localNow);\r\n    \t\t// Prints current time of given zone without zone information : 2016-04-28T15:41:17.611\r\n    \t\tZonedDateTime zoneNow = ZonedDateTime.now(TimeZone.getTimeZone(&quot;Europe/Madrid&quot;).toZoneId());\r\n    \t\tSystem.out.println(zoneNow);\r\n    \t\t// Prints current time of given zone with zone information : 2016-04-28T15:41:17.627+02:00[Europe/Madrid]\r\n    \t}\r\n\r\n","title":"How to get the current date and time of your timezone in Java?","body":"<p>With the <em>java.time</em> classes built into Java 8 and later:</p>\n\n<pre><code>public static void main(String[] args) {\n        LocalDateTime localNow = LocalDateTime.now(TimeZone.getTimeZone(\"Europe/Madrid\").toZoneId());\n        System.out.println(localNow);\n        // Prints current time of given zone without zone information : 2016-04-28T15:41:17.611\n        ZonedDateTime zoneNow = ZonedDateTime.now(TimeZone.getTimeZone(\"Europe/Madrid\").toZoneId());\n        System.out.println(zoneNow);\n        // Prints current time of given zone with zone information : 2016-04-28T15:41:17.627+02:00[Europe/Madrid]\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5061175,"reputation":113,"user_id":4062721,"display_name":"Siva"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581710269,"creation_date":1581710269,"answer_id":60232740,"question_id":1305350,"body_markdown":"Date in 24 hrs format \r\n\r\nOutput:14/02/2020 19:56:49 PM\r\n\r\n     Date date = new Date();\r\n     DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss aa&quot;);\r\n     dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/London&quot;));\r\n     System.out.println(&quot;date is: &quot;+dateFormat.format(date));\r\n\r\n\r\n\r\nDate in 12 hrs format \r\n\r\nOutput:14/02/2020 07:57:11 PM\r\n\r\n     Date date = new Date();`enter code here`\r\n     DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy hh:mm:ss aa&quot;);\r\n     dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/London&quot;));\r\n     System.out.println(&quot;date is: &quot;+dateFormat.format(date));","title":"How to get the current date and time of your timezone in Java?","body":"<p>Date in 24 hrs format </p>\n\n<p>Output:14/02/2020 19:56:49 PM</p>\n\n<pre><code> Date date = new Date();\n DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yyyy HH:mm:ss aa\");\n dateFormat.setTimeZone(TimeZone.getTimeZone(\"Europe/London\"));\n System.out.println(\"date is: \"+dateFormat.format(date));\n</code></pre>\n\n<p>Date in 12 hrs format </p>\n\n<p>Output:14/02/2020 07:57:11 PM</p>\n\n<pre><code> Date date = new Date();`enter code here`\n DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yyyy hh:mm:ss aa\");\n dateFormat.setTimeZone(TimeZone.getTimeZone(\"Europe/London\"));\n System.out.println(\"date is: \"+dateFormat.format(date));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9500469,"reputation":328,"user_id":7061796,"display_name":"Umer Khalid"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1609949773,"creation_date":1609949773,"answer_id":65599373,"question_id":1305350,"body_markdown":"To get date and time of your zone.    \r\n\r\n    Date date = new Date();\r\n    DateFormat df = new SimpleDateFormat(&quot;MM/dd/YYYY HH:mm a&quot;);\r\n    df.setTimeZone(TimeZone.getDefault());\r\n    df.format(date);","title":"How to get the current date and time of your timezone in Java?","body":"<p>To get date and time of your zone.</p>\n<pre><code>Date date = new Date();\nDateFormat df = new SimpleDateFormat(&quot;MM/dd/YYYY HH:mm a&quot;);\ndf.setTimeZone(TimeZone.getDefault());\ndf.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627222216,"creation_date":1627222216,"answer_id":68519384,"question_id":1305350,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** If you want to get just date and time (and not the timezone information), you can use [`LocalDateTime.#now(ZoneId)`][1].\r\n\r\nThe non-parametrized overloaded, [`LocalDateTime.#now`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now--) returns the current Date-Time using the JVM&#39;s timezone. It is equivalent to using `LocalDateTime.now(ZoneId.systemDefault())`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            LocalDateTime now = LocalDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;));\r\n            System.out.println(now);\r\n        }\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    2021-07-25T15:54:31.574424\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\nIf you want to get the date and time along with the timezone information, you can use [`ZonedDateTime.#now(ZoneId)`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-). It&#39;s non-parametrized variant behave in the same manner as described above.\r\n\r\n**Demo:**\r\n\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;));\r\n            System.out.println(now);\r\n        }\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    2021-07-25T16:08:54.741773+02:00[Europe/Madrid]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][3]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now-java.time.ZoneId-\r\n  [2]: https://ideone.com/DWwFHY\r\n  [3]: https://ideone.com/HLJSYb","title":"How to get the current date and time of your timezone in Java?","body":"<h1 id=\"java.time-vmzm\"><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> If you want to get just date and time (and not the timezone information), you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>LocalDateTime.#now(ZoneId)</code></a>.</p>\n<p>The non-parametrized overloaded, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now--\" rel=\"nofollow noreferrer\"><code>LocalDateTime.#now</code></a> returns the current Date-Time using the JVM's timezone. It is equivalent to using <code>LocalDateTime.now(ZoneId.systemDefault())</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDateTime now = LocalDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;));\n        System.out.println(now);\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2021-07-25T15:54:31.574424\n</code></pre>\n<p><a href=\"https://ideone.com/DWwFHY\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>If you want to get the date and time along with the timezone information, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.#now(ZoneId)</code></a>. It's non-parametrized variant behave in the same manner as described above.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;));\n        System.out.println(now);\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2021-07-25T16:08:54.741773+02:00[Europe/Madrid]\n</code></pre>\n<p><a href=\"https://ideone.com/HLJSYb\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":8785961,"reputation":171,"user_id":6567891,"display_name":"Bablu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631882583,"creation_date":1631882110,"answer_id":69223523,"question_id":1305350,"body_markdown":"You can try `ZonedDateTime.now()` . You can find it in package java.time\r\n\r\n    import java.time.ZonedDateTime;\r\n\r\n    public class Temp {\r\n    public static void main(String args[]) {\r\n        System.out.println(ZonedDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;)));\r\n    }\r\n}\r\n\r\nOutput (I&#39;m based in kolkata,India): \r\n\r\n    2021-09-17T14:46:14.341+02:00[Europe/Madrid]","title":"How to get the current date and time of your timezone in Java?","body":"<p>You can try <code>ZonedDateTime.now()</code> . You can find it in package java.time</p>\n<pre><code>import java.time.ZonedDateTime;\n\npublic class Temp {\npublic static void main(String args[]) {\n    System.out.println(ZonedDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;)));\n}\n</code></pre>\n<p>}</p>\n<p>Output (I'm based in kolkata,India):</p>\n<pre><code>2021-09-17T14:46:14.341+02:00[Europe/Madrid]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635401723,"creation_date":1635401723,"answer_id":69749126,"question_id":1305350,"body_markdown":"To get the date to a variable .\r\n\r\n\r\n    public static  String  getCurrentDate(){\r\n        final ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n        String Temporal= DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;).format(now);\r\n        String today= LocalDate.now().format(DateTimeFormatter.ofPattern(Temporal));\r\n        return today;\r\n    }","title":"How to get the current date and time of your timezone in Java?","body":"<p>To get the date to a variable .</p>\n<pre><code>public static  String  getCurrentDate(){\n    final ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;));\n    String Temporal= DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;).format(now);\n    String today= LocalDate.now().format(DateTimeFormatter.ofPattern(Temporal));\n    return today;\n}\n</code></pre>\n"}],"owner":{"account_id":1596,"reputation":77155,"user_id":2138,"accept_rate":58,"display_name":"Sergio del Amo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325540,"favorite_count":0,"down_vote_count":1,"up_vote_count":77,"accepted_answer_id":1305370,"answer_count":14,"score":76,"last_activity_date":1635401723,"creation_date":1250765403,"question_id":1305350,"body_markdown":"I have my app hosted in a London Server. I am in Madrid, Spain. So the timezone is -2 hours. \r\n\r\nHow can I obtain the current date / time with my time zone.\r\n\r\n    Date curr_date = new Date(System.currentTimeMillis());\r\n\r\ne.g. \r\n\r\n    Date curr_date = new Date(System.currentTimeMillis(&quot;MAD_TIMEZONE&quot;));\r\n\r\n### With [Joda-Time][1]\r\n\r\n    DateTimeZone zone = DateTimeZone.forID(&quot;Europe/Madrid&quot;);\r\n    DateTime dt = new DateTime(zone);\r\n    int day = dt.getDayOfMonth();\r\n    int year = dt.getYear();\r\n    int month = dt.getMonthOfYear();\r\n    int hours = dt.getHourOfDay();\r\n    int minutes = dt.getMinuteOfHour();\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"How to get the current date and time of your timezone in Java?","body":"<p>I have my app hosted in a London Server. I am in Madrid, Spain. So the timezone is -2 hours. </p>\n\n<p>How can I obtain the current date / time with my time zone.</p>\n\n<pre><code>Date curr_date = new Date(System.currentTimeMillis());\n</code></pre>\n\n<p>e.g. </p>\n\n<pre><code>Date curr_date = new Date(System.currentTimeMillis(\"MAD_TIMEZONE\"));\n</code></pre>\n\n<h3>With <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a></h3>\n\n<pre><code>DateTimeZone zone = DateTimeZone.forID(\"Europe/Madrid\");\nDateTime dt = new DateTime(zone);\nint day = dt.getDayOfMonth();\nint year = dt.getYear();\nint month = dt.getMonthOfYear();\nint hours = dt.getHourOfDay();\nint minutes = dt.getMinuteOfHour();\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1439816509,"post_id":32051003,"comment_id":52001431,"body_markdown":"Removing `stax-api-1.0.jar` from your dependencies would solve your problem.","body":"Removing <code>stax-api-1.0.jar</code> from your dependencies would solve your problem."},{"owner":{"account_id":6659400,"reputation":1375,"user_id":5138955,"display_name":"Anudeep Gade"},"score":0,"creation_date":1439816593,"post_id":32051003,"comment_id":52001486,"body_markdown":"http://stackoverflow.com/questions/6879652/possible-to-use-two-java-classes-with-same-name-and-same-package","body":"<a href=\"http://stackoverflow.com/questions/6879652/possible-to-use-two-java-classes-with-same-name-and-same-package\" title=\"possible to use two java classes with same name and same package\">stackoverflow.com/questions/6879652/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6433966,"reputation":845,"user_id":4986114,"accept_rate":67,"display_name":"Arka Ghosh"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1439816638,"creation_date":1439816638,"answer_id":32051167,"question_id":32051003,"body_markdown":"Check your build class path order. If the `rt.jar` resides above the `stax-api-1.0.jar`, the problem should get resolved. Because, while compilation, the compiler looks up the jars in the build class path order.","title":"Two different .jar with same Package name and same Class name. How to get the one?","body":"<p>Check your build class path order. If the <code>rt.jar</code> resides above the <code>stax-api-1.0.jar</code>, the problem should get resolved. Because, while compilation, the compiler looks up the jars in the build class path order.</p>\n"}],"owner":{"account_id":5487636,"reputation":23,"user_id":4361935,"display_name":"DinoJovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32051167,"answer_count":1,"score":2,"last_activity_date":1635401163,"creation_date":1439816121,"question_id":32051003,"body_markdown":"In my project I have standard java system library with rt.jar that have class.\r\n\r\n    package javax.xml;\r\n\r\n    public final class XMLConstants {\r\n\r\n        private XMLConstants() {\r\n        }\r\n\r\n        public static final String NULL_NS_URI = &quot;&quot;;\r\n        public static final String DEFAULT_NS_PREFIX = &quot;&quot;;\r\n        ...\r\n    }\r\n\r\nAnd also included is stax-api-1.0.jar with class\r\n\r\n    package javax.xml;\r\n\r\n    public class XMLConstants {\r\n\t    public static final String DEFAULT_NS_PREFIX = &quot;&quot;;\r\n\t    public static final String XML_NS_PREFIX = &quot;xml&quot;;\r\n\t    public static final String XML_NS_URI = &quot;http://www.w3.org/XML/1998/namespace&quot;;\r\n\t    public static final String XMLNS_ATTRIBUTE = &quot;xmlns&quot;;\r\n\t    public static final String XMLNS_ATTRIBUTE_NS_URI = &quot;http://www.w3.org/2000/xmlns/&quot;;\r\n    }\r\n\r\nAnd in third class I need to get NULL_NS_URI that looks like this\r\n\r\n    import javax.xml.XMLConstants;\r\n\r\n    public myClass(){\r\n        \r\n        doSomethin() {\r\n            ...\r\n            XMLConstants.NULL_NS_URI\r\n            ...\r\n        }\r\n    }\r\n\r\nIt gives error\r\n\r\n    NULL_NS_URI cannot be resolved or is not a field\r\n\r\nAnd when I ctrl + click on XMLConstants in myClass eclipse takes me to class stax-api.jar.\r\nWhen I do same thing on colleague machine eclipse take him to rt.jar with no error because NULL_NS_URI is defined in that class.","title":"Two different .jar with same Package name and same Class name. How to get the one?","body":"<p>In my project I have standard java system library with rt.jar that have class.</p>\n\n<pre><code>package javax.xml;\n\npublic final class XMLConstants {\n\n    private XMLConstants() {\n    }\n\n    public static final String NULL_NS_URI = \"\";\n    public static final String DEFAULT_NS_PREFIX = \"\";\n    ...\n}\n</code></pre>\n\n<p>And also included is stax-api-1.0.jar with class</p>\n\n<pre><code>package javax.xml;\n\npublic class XMLConstants {\n    public static final String DEFAULT_NS_PREFIX = \"\";\n    public static final String XML_NS_PREFIX = \"xml\";\n    public static final String XML_NS_URI = \"http://www.w3.org/XML/1998/namespace\";\n    public static final String XMLNS_ATTRIBUTE = \"xmlns\";\n    public static final String XMLNS_ATTRIBUTE_NS_URI = \"http://www.w3.org/2000/xmlns/\";\n}\n</code></pre>\n\n<p>And in third class I need to get NULL_NS_URI that looks like this</p>\n\n<pre><code>import javax.xml.XMLConstants;\n\npublic myClass(){\n\n    doSomethin() {\n        ...\n        XMLConstants.NULL_NS_URI\n        ...\n    }\n}\n</code></pre>\n\n<p>It gives error</p>\n\n<pre><code>NULL_NS_URI cannot be resolved or is not a field\n</code></pre>\n\n<p>And when I ctrl + click on XMLConstants in myClass eclipse takes me to class stax-api.jar.\nWhen I do same thing on colleague machine eclipse take him to rt.jar with no error because NULL_NS_URI is defined in that class.</p>\n"},{"tags":["java","maven","junit","junit5","maven-surefire-plugin"],"comments":[{"owner":{"account_id":3937216,"reputation":709,"user_id":3253199,"display_name":"Sreedhar S"},"score":0,"creation_date":1600031938,"post_id":63875520,"comment_id":112952979,"body_markdown":"Is the maven using the latest version 3.6.3? Sometimes the old maven version could be incompatible with the surefire plugin version. Also please refer to the following link for some common error troubleshooting, https://xspdf.com/resolution/51739978.html","body":"Is the maven using the latest version 3.6.3? Sometimes the old maven version could be incompatible with the surefire plugin version. Also please refer to the following link for some common error troubleshooting, <a href=\"https://xspdf.com/resolution/51739978.html\" rel=\"nofollow noreferrer\">xspdf.com/resolution/51739978.html</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1600035090,"post_id":63875520,"comment_id":112953619,"body_markdown":"Please show an example of your unit test? Furthermore you can use version 5.7.0 instead of 5.7.0-M1...","body":"Please show an example of your unit test? Furthermore you can use version 5.7.0 instead of 5.7.0-M1..."},{"owner":{"account_id":19506662,"reputation":13,"user_id":14271536,"display_name":"marceggers"},"score":0,"creation_date":1600087132,"post_id":63875520,"comment_id":112968315,"body_markdown":"@SreedharS Yes, I&#39;m running Maven 3.6.3. Sadly, nothing from the link you sent seems useful :(","body":"@SreedharS Yes, I&#39;m running Maven 3.6.3. Sadly, nothing from the link you sent seems useful :("},{"owner":{"account_id":19506662,"reputation":13,"user_id":14271536,"display_name":"marceggers"},"score":0,"creation_date":1600087352,"post_id":63875520,"comment_id":112968425,"body_markdown":"@khmarbaise, switching to 5.7.0 sadly didn&#39;t work. Adding a basic example of my tests in the question.","body":"@khmarbaise, switching to 5.7.0 sadly didn&#39;t work. Adding a basic example of my tests in the question."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1600089568,"post_id":63875520,"comment_id":112969471,"body_markdown":"Can you make an example project on github....","body":"Can you make an example project on github...."},{"owner":{"account_id":19506662,"reputation":13,"user_id":14271536,"display_name":"marceggers"},"score":0,"creation_date":1600096230,"post_id":63875520,"comment_id":112973045,"body_markdown":"@khmarbaise https://github.com/marc-eggers/prog3-sose2020 So, hier einmal mein Projekt. Sollte zug&#228;nglich sein. Danke, dass du dir die Zeit nimmst, einem armen Studentchen zu helfen! ;)","body":"@khmarbaise <a href=\"https://github.com/marc-eggers/prog3-sose2020\" rel=\"nofollow noreferrer\">github.com/marc-eggers/prog3-sose2020</a> So, hier einmal mein Projekt. Sollte zug&#228;nglich sein. Danke, dass du dir die Zeit nimmst, einem armen Studentchen zu helfen! ;)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1600098293,"post_id":63875520,"comment_id":112974006,"body_markdown":"You should keep the english language...","body":"You should keep the english language..."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600098742,"creation_date":1600098742,"answer_id":63887758,"question_id":63875520,"body_markdown":"There are two things. First you should upgrade jacoco dependency to 0.8.5 otherwise it fails based on the JDK14 requirement. (Created an pull request to your repository). If those things are configured appropriately the result is this:\r\n\r\nI would also recommend to upgrade maven-compiler-plugin to most recent version and also all other plugins.\r\n\r\nAs you can see you have WARNING&#39;s in your build which should be fixed and failing tests.\r\n\r\nThis build has been run on plain command line also with JUnit-Jupiter 5.7.0 which works perfectly.\r\n\r\n\r\n\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ prog3-sose2020 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 9 source files to /Users/khmarbaise/ws-git-so/prog3-sose2020/target/classes\r\n    [WARNING] /Users/khmarbaise/ws-git-so/prog3-sose2020/src/main/java/bankprojekt/verarbeitung/Kunde.java: /Users/khmarbaise/ws-git-so/prog3-sose2020/src/main/java/bankprojekt/verarbeitung/Kunde.java uses or overrides a deprecated API.\r\n    [WARNING] /Users/khmarbaise/ws-git-so/prog3-sose2020/src/main/java/bankprojekt/verarbeitung/Kunde.java: Recompile with -Xlint:deprecation for details.\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ prog3-sose2020 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory /Users/khmarbaise/ws-git-so/prog3-sose2020/src/test/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ prog3-sose2020 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 3 source files to /Users/khmarbaise/ws-git-so/prog3-sose2020/target/test-classes\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ prog3-sose2020 ---\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running bankprojekt.GirokontoTest\r\n    [ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.087 s &lt;&lt;&lt; FAILURE! - in bankprojekt.GirokontoTest\r\n    [ERROR] bankprojekt.GirokontoTest.abhebenMitWaehrungswechsel  Time elapsed: 0.052 s  &lt;&lt;&lt; FAILURE!\r\n    org.opentest4j.AssertionFailedError: expected: &lt;448.87081188037814&gt; but was: &lt;400.0&gt;\r\n    \tat bankprojekt.GirokontoTest.abhebenMitWaehrungswechsel(GirokontoTest.java:31)\r\n    \r\n    [INFO] Running bankprojekt.WaehrungTest\r\n    [INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 s - in bankprojekt.WaehrungTest\r\n    Kunde Mustermann, Max zerst�rt\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Failures: \r\n    [ERROR]   GirokontoTest.abhebenMitWaehrungswechsel:31 expected: &lt;448.87081188037814&gt; but was: &lt;400.0&gt;\r\n    [INFO] \r\n    [ERROR] Tests run: 5, Failures: 1, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  3.792 s\r\n    [INFO] Finished at: 2020-09-14T17:50:43+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test (default-test) on project prog3-sose2020: There are test failures.\r\n    [ERROR] \r\n    [ERROR] Please refer to /Users/khmarbaise/ws-git-so/prog3-sose2020/target/surefire-reports for the individual test results.\r\n    [ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n","title":"Maven Surefire not running JUnit 5 tests","body":"<p>There are two things. First you should upgrade jacoco dependency to 0.8.5 otherwise it fails based on the JDK14 requirement. (Created an pull request to your repository). If those things are configured appropriately the result is this:</p>\n<p>I would also recommend to upgrade maven-compiler-plugin to most recent version and also all other plugins.</p>\n<p>As you can see you have WARNING's in your build which should be fixed and failing tests.</p>\n<p>This build has been run on plain command line also with JUnit-Jupiter 5.7.0 which works perfectly.</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ prog3-sose2020 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 9 source files to /Users/khmarbaise/ws-git-so/prog3-sose2020/target/classes\n[WARNING] /Users/khmarbaise/ws-git-so/prog3-sose2020/src/main/java/bankprojekt/verarbeitung/Kunde.java: /Users/khmarbaise/ws-git-so/prog3-sose2020/src/main/java/bankprojekt/verarbeitung/Kunde.java uses or overrides a deprecated API.\n[WARNING] /Users/khmarbaise/ws-git-so/prog3-sose2020/src/main/java/bankprojekt/verarbeitung/Kunde.java: Recompile with -Xlint:deprecation for details.\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ prog3-sose2020 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/khmarbaise/ws-git-so/prog3-sose2020/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ prog3-sose2020 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 3 source files to /Users/khmarbaise/ws-git-so/prog3-sose2020/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ prog3-sose2020 ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running bankprojekt.GirokontoTest\n[ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.087 s &lt;&lt;&lt; FAILURE! - in bankprojekt.GirokontoTest\n[ERROR] bankprojekt.GirokontoTest.abhebenMitWaehrungswechsel  Time elapsed: 0.052 s  &lt;&lt;&lt; FAILURE!\norg.opentest4j.AssertionFailedError: expected: &lt;448.87081188037814&gt; but was: &lt;400.0&gt;\n    at bankprojekt.GirokontoTest.abhebenMitWaehrungswechsel(GirokontoTest.java:31)\n\n[INFO] Running bankprojekt.WaehrungTest\n[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 s - in bankprojekt.WaehrungTest\nKunde Mustermann, Max zerst�rt\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Failures: \n[ERROR]   GirokontoTest.abhebenMitWaehrungswechsel:31 expected: &lt;448.87081188037814&gt; but was: &lt;400.0&gt;\n[INFO] \n[ERROR] Tests run: 5, Failures: 1, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.792 s\n[INFO] Finished at: 2020-09-14T17:50:43+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test (default-test) on project prog3-sose2020: There are test failures.\n[ERROR] \n[ERROR] Please refer to /Users/khmarbaise/ws-git-so/prog3-sose2020/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n"}],"owner":{"account_id":19506662,"reputation":13,"user_id":14271536,"display_name":"marceggers"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63887758,"answer_count":1,"score":1,"last_activity_date":1635401009,"creation_date":1600030626,"question_id":63875520,"body_markdown":"I&#39;ve been trying to run JUnit 5 tests with Maven Surefire. However, it doesn&#39;t seem like Surefire is running any tests at all, even though I do have some, and in the default directory, too.\r\n\r\nThis is the console output I&#39;m getting: &lt;https://prnt.sc/ugo1xt&gt;\r\n\r\nHere are the relevant parts of the pom.xml:\r\n```\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n       &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n       &lt;version&gt;5.7.0-M1&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n\r\n```\r\n\r\nThe surefire version is 3.0.0-M4.\r\n\r\nI&#39;ve tried pretty much any fix I could find on Google, although most of them seemed to be outdated. Any help would be greatly appreciated.\r\n\r\nCheers!\r\n\r\nEDIT: Here&#39;s an example of my tests:\r\n\r\n```\r\npackage bankprojekt;\r\n\r\nimport bankprojekt.verarbeitung.*;\r\n\r\nimport org.junit.jupiter.api.*;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\npublic class GirokontoTest {\r\n    Girokonto gk;\r\n\r\n    @BeforeEach\r\n    void setup(){\r\n        gk = new Girokonto();\r\n        gk.einzahlen(500);\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown(){\r\n        gk = null;\r\n    }\r\n\r\n    @Test\r\n    void abhebenMitWaehrungswechsel(){\r\n        try{\r\n            gk.abheben(195.583, Waehrung.BGN);\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n        assertEquals(400, gk.getKontostand());\r\n    }\r\n\r\n    @Test\r\n    void einzahlenMitWaehrungswechsel(){\r\n        gk.einzahlen(195.583, Waehrung.BGN);\r\n\r\n        assertEquals(600, gk.getKontostand());\r\n    }\r\n}\r\n```","title":"Maven Surefire not running JUnit 5 tests","body":"<p>I've been trying to run JUnit 5 tests with Maven Surefire. However, it doesn't seem like Surefire is running any tests at all, even though I do have some, and in the default directory, too.</p>\n<p>This is the console output I'm getting: <a href=\"https://prnt.sc/ugo1xt\" rel=\"nofollow noreferrer\">https://prnt.sc/ugo1xt</a></p>\n<p>Here are the relevant parts of the pom.xml:</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n       &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n       &lt;version&gt;5.7.0-M1&lt;/version&gt;\n       &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n\n</code></pre>\n<p>The surefire version is 3.0.0-M4.</p>\n<p>I've tried pretty much any fix I could find on Google, although most of them seemed to be outdated. Any help would be greatly appreciated.</p>\n<p>Cheers!</p>\n<p>EDIT: Here's an example of my tests:</p>\n<pre><code>package bankprojekt;\n\nimport bankprojekt.verarbeitung.*;\n\nimport org.junit.jupiter.api.*;\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class GirokontoTest {\n    Girokonto gk;\n\n    @BeforeEach\n    void setup(){\n        gk = new Girokonto();\n        gk.einzahlen(500);\n    }\n\n    @AfterEach\n    void teardown(){\n        gk = null;\n    }\n\n    @Test\n    void abhebenMitWaehrungswechsel(){\n        try{\n            gk.abheben(195.583, Waehrung.BGN);\n        }\n        catch (Exception e) {\n            System.out.println(e);\n        }\n\n        assertEquals(400, gk.getKontostand());\n    }\n\n    @Test\n    void einzahlenMitWaehrungswechsel(){\n        gk.einzahlen(195.583, Waehrung.BGN);\n\n        assertEquals(600, gk.getKontostand());\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","apache-spark","maven-shade-plugin"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1630334023,"post_id":68985780,"comment_id":121921409,"body_markdown":"Do you use Spring Boot or any other framework doing custom class loading?","body":"Do you use Spring Boot or any other framework doing custom class loading?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1630334063,"post_id":68985780,"comment_id":121921431,"body_markdown":"Are you sure you wanted to write `java tvf myShadedJar.jar | grep postgres` and not `tar tvf myShadedJar.jar | grep postgres`?","body":"Are you sure you wanted to write <code>java tvf myShadedJar.jar | grep postgres</code> and not <code>tar tvf myShadedJar.jar | grep postgres</code>?"},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630334149,"post_id":68985780,"comment_id":121921469,"body_markdown":"@dan1st other modules in the project use google guice (not sure if that even does custom class loading) but not this one.","body":"@dan1st other modules in the project use google guice (not sure if that even does custom class loading) but not this one."},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630334183,"post_id":68985780,"comment_id":121921487,"body_markdown":"Was meant to be `jar` not `java`.  Fixing","body":"Was meant to be <code>jar</code> not <code>java</code>.  Fixing"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1630335066,"post_id":68985780,"comment_id":121921868,"body_markdown":"Where does &quot;`User class threw exception:`&quot; come from, i.e. what wraps the `ClassNotFoundException` in a `RuntimeException`? Since this is not a message of ordinary Java exceptions, which usually look like &quot;`Exception in thread &quot;...&quot; ...`&quot;. Perhaps a few more stacktrace lines would give valuable information too. Please add the POM declarations of the `maven-shade-plugin` to your question.","body":"Where does &quot;<code>User class threw exception:</code>&quot; come from, i.e. what wraps the <code>ClassNotFoundException</code> in a <code>RuntimeException</code>? Since this is not a message of ordinary Java exceptions, which usually look like &quot;<code>Exception in thread &quot;...&quot; ...</code>&quot;. Perhaps a few more stacktrace lines would give valuable information too. Please add the POM declarations of the <code>maven-shade-plugin</code> to your question."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":1,"creation_date":1630335344,"post_id":68985780,"comment_id":121921999,"body_markdown":"Let&#39;s see the full pom configuration of the maven-shade-plugin please. BTW @GeroldBroser I believe the exception is wrapped by Apache Spark. See here: https://databricks.gitbooks.io/databricks-spark-knowledge-base/content/troubleshooting/missing_dependencies_in_jar_files.html","body":"Let&#39;s see the full pom configuration of the maven-shade-plugin please. BTW @GeroldBroser I believe the exception is wrapped by Apache Spark. See here: <a href=\"https://databricks.gitbooks.io/databricks-spark-knowledge-base/content/troubleshooting/missing_dependencies_in_jar_files.html\" rel=\"nofollow noreferrer\">databricks.gitbooks.io/databricks-spark-knowledge-base/conte&zwnj;&#8203;nt/&hellip;</a>"},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630335437,"post_id":68985780,"comment_id":121922041,"body_markdown":"It is a spark application, yes.  @GeroldBroser I&#39;ve added what you asked for.  Let me know if I&#39;m missing anything else.","body":"It is a spark application, yes.  @GeroldBroser I&#39;ve added what you asked for.  Let me know if I&#39;m missing anything else."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1630335618,"post_id":68985780,"comment_id":121922137,"body_markdown":"Is the spurious  ] in the config also in your project?","body":"Is the spurious  ] in the config also in your project?"},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630335697,"post_id":68985780,"comment_id":121922177,"body_markdown":"It is.  I&#39;ll remove and rebuild.  Is it expected that there is no org/postgresql  folder when I extract the jar?","body":"It is.  I&#39;ll remove and rebuild.  Is it expected that there is no org/postgresql  folder when I extract the jar?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1630335899,"post_id":68985780,"comment_id":121922275,"body_markdown":"I would expect that to be there, if the shade plugin unzips all .jar files and puts them in one big directory structure. Another question: which versions of Maven and the shade plugin are you using?","body":"I would expect that to be there, if the shade plugin unzips all .jar files and puts them in one big directory structure. Another question: which versions of Maven and the shade plugin are you using?"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1630336269,"post_id":68985780,"comment_id":121922433,"body_markdown":"This is the only shade configuration in your and all your parent POMs, is it? Because &quot;[_Why Does My Second Shade Include The Results Of The First Execution?_](https://maven.apache.org/plugins/maven-shade-plugin/faq.html)&quot;.","body":"This is the only shade configuration in your and all your parent POMs, is it? Because &quot;<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/faq.html\" rel=\"nofollow noreferrer\"><i>Why Does My Second Shade Include The Results Of The First Execution?</i></a>&quot;."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1630337974,"post_id":68985780,"comment_id":121923167,"body_markdown":"Do your Spark declarations look like in [the page _Adriaan Koster_ linked](https://databricks.gitbooks.io/databricks-spark-knowledge-base/content/troubleshooting/missing_dependencies_in_jar_files.html) in one if his comments? I.e. do they have `&lt;scope&gt;provided`?","body":"Do your Spark declarations look like in <a href=\"https://databricks.gitbooks.io/databricks-spark-knowledge-base/content/troubleshooting/missing_dependencies_in_jar_files.html\" rel=\"nofollow noreferrer\">the page <i>Adriaan Koster</i> linked</a> in one if his comments? I.e. do they have <code>&lt;scope&gt;provided</code>?"},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630338039,"post_id":68985780,"comment_id":121923197,"body_markdown":"@GeroldBroser The dependency is the one in the question above.  It is not a spark dependency and has scope compiled","body":"@GeroldBroser The dependency is the one in the question above.  It is not a spark dependency and has scope compiled"},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630338121,"post_id":68985780,"comment_id":121923229,"body_markdown":"Another note: if I `unzip my.jar` I do see the class file.  But `jar xf` doesn&#39;t produce it.  Why is that?","body":"Another note: if I <code>unzip my.jar</code> I do see the class file.  But <code>jar xf</code> doesn&#39;t produce it.  Why is that?"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1630341145,"post_id":68985780,"comment_id":121924377,"body_markdown":"According to your now updated stacktrace it begins at `org.apache.spark.deploy.yarn.ApplicationMaster:680`. Please add the `org.apache.spark` dependencies of your POM to the question, so we can see which versions you&#39;re using.","body":"According to your now updated stacktrace it begins at <code>org.apache.spark.deploy.yarn.ApplicationMaster:680</code>. Please add the <code>org.apache.spark</code> dependencies of your POM to the question, so we can see which versions you&#39;re using."},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630345395,"post_id":68985780,"comment_id":121925984,"body_markdown":"@GeroldBroser Updated with the spark dependencies.  Version is 2.4.3","body":"@GeroldBroser Updated with the spark dependencies.  Version is 2.4.3"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1630367054,"post_id":68985780,"comment_id":121931571,"body_markdown":"[Your last update](https://stackoverflow.com/posts/68985780/revisions#rev-body-a6ae05ae-ad02-42fd-b1b2-6ca9aa5413c2) leading to &quot;_when I actually unzip the jar with `jar xf` theres no org/postgresql folder.  Yet, when i `unzip` the jar it&#39;s there._&quot; changes things. If you supply the complete POM (with possible sensitive information anonymized) I can create a project here to see whether I can confirm this behaviour and maybe find the reason for it. I&#39;d need the JDK and Maven version you use, too.","body":"<a href=\"https://stackoverflow.com/posts/68985780/revisions#rev-body-a6ae05ae-ad02-42fd-b1b2-6ca9aa5413c2\">Your last update</a> leading to &quot;<i>when I actually unzip the jar with <code>jar xf</code> theres no org/postgresql folder.  Yet, when i <code>unzip</code> the jar it&#39;s there.</i>&quot; changes things. If you supply the complete POM (with possible sensitive information anonymized) I can create a project here to see whether I can confirm this behaviour and maybe find the reason for it. I&#39;d need the JDK and Maven version you use, too."},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630421554,"post_id":68985780,"comment_id":121948936,"body_markdown":"@GeroldBroser I&#39;m trying to reproduce an isolated version of this so I don&#39;t have to give you the very complex, many-pom structure I have.\n\nIn the meantime, I noticed the `jar xf` command is breaking on `java.io.IOException: license : could not create directory\n\tat sun.tools.jar.Main.extractFile(Main.java:1045)\n\tat sun.tools.jar.Main.extract(Main.java:981)\n\tat sun.tools.jar.Main.run(Main.java:311)\n\tat sun.tools.jar.Main.main(Main.java:1288)`","body":"@GeroldBroser I&#39;m trying to reproduce an isolated version of this so I don&#39;t have to give you the very complex, many-pom structure I have.  In the meantime, I noticed the <code>jar xf</code> command is breaking on <code>java.io.IOException: license : could not create directory \tat sun.tools.jar.Main.extractFile(Main.java:1045) \tat sun.tools.jar.Main.extract(Main.java:981) \tat sun.tools.jar.Main.run(Main.java:311) \tat sun.tools.jar.Main.main(Main.java:1288)</code>"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1630421662,"post_id":68985780,"comment_id":121948994,"body_markdown":"That would seem a permission problem on the file system. Please make sure the process you are starting has write permission on the directory you start it in","body":"That would seem a permission problem on the file system. Please make sure the process you are starting has write permission on the directory you start it in"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1630422198,"post_id":68985780,"comment_id":121949250,"body_markdown":"Could it be there is already a Postgres dependency provided by the Spark ecosystem, which clashes with your own?","body":"Could it be there is already a Postgres dependency provided by the Spark ecosystem, which clashes with your own?"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1630424813,"post_id":68985780,"comment_id":121950388,"body_markdown":"@AdriaanKoster Good idea! If the one that is provided by the Spark runtime system comes earlier in the classpath _and_ is a version that doesn&#39;t have the class in it... see also [this answer](https://stackoverflow.com/a/6644467/1744774): &quot;_Resources &#39;earlier&#39; on the classpath take precedence over resources that are specified after them._&quot;. Still remaining question is the `jar x` vs. `unzip` behaviour. But if the former is the reason of the `ClassNotFoundException` issue that may be unrelated.","body":"@AdriaanKoster Good idea! If the one that is provided by the Spark runtime system comes earlier in the classpath <i>and</i> is a version that doesn&#39;t have the class in it... see also <a href=\"https://stackoverflow.com/a/6644467/1744774\">this answer</a>: &quot;<i>Resources &#39;earlier&#39; on the classpath take precedence over resources that are specified after them.</i>&quot;. Still remaining question is the <code>jar x</code> vs. <code>unzip</code> behaviour. But if the former is the reason of the <code>ClassNotFoundException</code> issue that may be unrelated."},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1630435169,"post_id":68985780,"comment_id":121954341,"body_markdown":"Another interesting tidbit.  The following shows the &#39;missing&#39; class is present the line directly before the exception:\n\n`val cl = getClass.getClassLoader\nval classesInPackage = ClassPath.from(cl).getTopLevelClassesRecursive(&quot;org.postgresql&quot;).toArray().mkString(&quot;, &quot;)`","body":"Another interesting tidbit.  The following shows the &#39;missing&#39; class is present the line directly before the exception:  <code>val cl = getClass.getClassLoader val classesInPackage = ClassPath.from(cl).getTopLevelClassesRecursive(&quot;org.postgres&zwnj;&#8203;ql&quot;).toArray().mkStr&zwnj;&#8203;ing(&quot;, &quot;)</code>"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1630506935,"post_id":68985780,"comment_id":121975490,"body_markdown":"What&#39;s on the line causing the exception then? at mypackage.SansORMProvider.get(SansORMProvider.java:42)","body":"What&#39;s on the line causing the exception then? at mypackage.SansORMProvider.get(SansORMProvider.java:42)"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630421861,"creation_date":1630336197,"answer_id":68986353,"question_id":68985780,"body_markdown":"**EDIT: Based on new info from OP, not likely this is the answer.**\r\n\r\n\r\nIt looks like you have run into this issue: https://github.com/jeremylong/DependencyCheck/issues/2324\r\n\r\n&gt; Unfortunately - shaded jars represent a challenge. In the cases when\r\n&gt; the dependent library that is &quot;shaded&quot; contains a pom.xml in the\r\n&gt; META-INF directory (i.e. was built by maven or uses the maven plugin\r\n&gt; for gradle) - then we can extract information and detect the\r\n&gt; dependency. However, in the case of commons-fileupload they do not\r\n&gt; have a pom.xml in the META-INF (not entirely sure what build system\r\n&gt; they use). As such, dependency-check will not be able to identify the\r\n&gt; dependency. The situation is unfortunately rather bleak for shaded or\r\n&gt; uber jars (actually - its worse for uber jars). Even several of the\r\n&gt; commercial products have difficulty with this.\r\n\r\nYou could copy the file explicitly from your project into the shaded jar (e.g. by putting a copy of the jar file in your src/main/resources directory).\r\n\r\nOr you could create a sub module in your maven project which contains this jar (and others which  might suffer from the same problem). Then add the sub module as a dependency and let the shade plugin include it.\r\n","title":"ClassNotFoundException even though jar tvf shows the &#39;missing&#39; class","body":"<p><strong>EDIT: Based on new info from OP, not likely this is the answer.</strong></p>\n<p>It looks like you have run into this issue: <a href=\"https://github.com/jeremylong/DependencyCheck/issues/2324\" rel=\"nofollow noreferrer\">https://github.com/jeremylong/DependencyCheck/issues/2324</a></p>\n<blockquote>\n<p>Unfortunately - shaded jars represent a challenge. In the cases when\nthe dependent library that is &quot;shaded&quot; contains a pom.xml in the\nMETA-INF directory (i.e. was built by maven or uses the maven plugin\nfor gradle) - then we can extract information and detect the\ndependency. However, in the case of commons-fileupload they do not\nhave a pom.xml in the META-INF (not entirely sure what build system\nthey use). As such, dependency-check will not be able to identify the\ndependency. The situation is unfortunately rather bleak for shaded or\nuber jars (actually - its worse for uber jars). Even several of the\ncommercial products have difficulty with this.</p>\n</blockquote>\n<p>You could copy the file explicitly from your project into the shaded jar (e.g. by putting a copy of the jar file in your src/main/resources directory).</p>\n<p>Or you could create a sub module in your maven project which contains this jar (and others which  might suffer from the same problem). Then add the sub module as a dependency and let the shade plugin include it.</p>\n"},{"tags":[],"owner":{"account_id":23167827,"reputation":41,"user_id":17267491,"display_name":"newfeya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635400466,"creation_date":1635400466,"answer_id":69748930,"question_id":68985780,"body_markdown":"I struggled with exactly same issue migrating our spark application from AWS EMR 5.24.1 to 5.33.0. After several weeks of regular attempts to find a way out I realized eventually that HikariCP package from our uber-jar is not used during the execution. It became evident when I excluded HikariCP from the fat jar and the error didn&#39;t change though I expected that it will complain that HikariCP is not found.&lt;br&gt;\r\nIt turned out that EMR 5.33.0 has &lt;i&gt;HikariCP-java7-2.4.12.jar&lt;/i&gt; in multiple lib folders and this package is being used during runtime (instead of the one in the uber jar).\r\nI merely removed all occasions of this package from both master and core nodes and this fixed the problem.&lt;br&gt;&lt;br&gt;\r\nI hope this helps to somebody who is frustrating with similar issue.","title":"ClassNotFoundException even though jar tvf shows the &#39;missing&#39; class","body":"<p>I struggled with exactly same issue migrating our spark application from AWS EMR 5.24.1 to 5.33.0. After several weeks of regular attempts to find a way out I realized eventually that HikariCP package from our uber-jar is not used during the execution. It became evident when I excluded HikariCP from the fat jar and the error didn't change though I expected that it will complain that HikariCP is not found.<br>\nIt turned out that EMR 5.33.0 has <i>HikariCP-java7-2.4.12.jar</i> in multiple lib folders and this package is being used during runtime (instead of the one in the uber jar).\nI merely removed all occasions of this package from both master and core nodes and this fixed the problem.<br><br>\nI hope this helps to somebody who is frustrating with similar issue.</p>\n"}],"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635400466,"creation_date":1630333622,"question_id":68985780,"body_markdown":"Having a perplexing issue when I run a spark application via a deployed jar (built by maven shade plugin) in non-local environments.\r\n\r\n    java.lang.RuntimeException: java.lang.ClassNotFoundException: org.postgresql.ds.PGSimpleDataSource\r\n    \tat com.zaxxer.hikari.util.UtilityElf.createInstance(UtilityElf.java:96)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:314)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:108)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:105)\r\n    \tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:72)\r\n    \tat mypackage.SansORMProvider.get(SansORMProvider.java:42)\r\n    \tat mypackage.MySansORMProvider.get(MySansORMProvider.scala:15)\r\n    \tat mypackage.MyApp$.main(MyApp.scala:63)\r\n    \tat mypackage.MyApp.main(MyApp.scala)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:680)\r\n    Caused by: java.lang.ClassNotFoundException: org.postgresql.ds.PGSimpleDataSource\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat com.zaxxer.hikari.util.UtilityElf.createInstance(UtilityElf.java:83)\r\n    \t... 13 more\r\n\r\nThe reason this is perplexing is because the following is in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe shade plugin has no configurations referencing this postgres dependency or any pattern that would match it.\r\n\r\n    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;artifactSet&gt;\r\n                                        &lt;excludes combine.children=&quot;append&quot;&gt;\r\n                                            &lt;exclude&gt;org.apache.spark:*:*&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;org.apache.hadoop:*:*&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                    &lt;/artifactSet&gt;\r\n                                    &lt;filters&gt;\r\n                                        &lt;filter&gt;\r\n                                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                            &lt;excludes&gt;\r\n                                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                            &lt;/excludes&gt;\r\n                                        &lt;/filter&gt;\r\n                                    &lt;/filters&gt;\r\n                                    &lt;relocations&gt;\r\n                                        &lt;relocation&gt;\r\n                                            &lt;pattern&gt;com.google.common&lt;/pattern&gt;\r\n                                            &lt;shadedPattern&gt;${project.groupId}.google.common&lt;/shadedPattern&gt;\r\n                                        &lt;/relocation&gt;\r\n                                        &lt;relocation&gt;\r\n                                            &lt;pattern&gt;io.netty&lt;/pattern&gt;\r\n                                            &lt;shadedPattern&gt;${project.groupId}.io.netty&lt;/shadedPattern&gt;\r\n                                        &lt;/relocation&gt;\r\n                                        &lt;relocation&gt;\r\n                                            &lt;pattern&gt;okhttp3&lt;/pattern&gt;\r\n                                            &lt;shadedPattern&gt;${project.groupId}.okhttp3&lt;/shadedPattern&gt;\r\n                                        &lt;/relocation&gt;\r\n                                        &lt;relocation&gt;\r\n                                            &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt;\r\n                                            &lt;shadedPattern&gt;${project.groupId}.fasterxml.jackson&lt;/shadedPattern&gt;\r\n                                        &lt;/relocation&gt;\r\n                                        ]\r\n                                    &lt;/relocations&gt;\r\n                                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n\r\nSpark dependencies (as requested):\r\n\r\n    &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spark-mllib_2.11&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spark-tags_2.11&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n\r\nIn the output from the maven command building the jar, I can see `[INFO] Including org.postgresql:postgresql:jar:42.2.1 in the shaded jar.`\r\n\r\n\r\nAnd when I run `jar tvf myShadedJar.jar | grep postgres` I can see the missing class.\r\n\r\nOne weird thing that may be relevant is when I actually unzip the jar with `jar xf` theres no org/postgresql folder.  Yet, when i `unzip` the jar it&#39;s there. \r\n\r\nWhat might be the problem?  How do I confirm it?  And is it expected that the exploded jar is missing the org/postgresql folder?","title":"ClassNotFoundException even though jar tvf shows the &#39;missing&#39; class","body":"<p>Having a perplexing issue when I run a spark application via a deployed jar (built by maven shade plugin) in non-local environments.</p>\n<pre><code>java.lang.RuntimeException: java.lang.ClassNotFoundException: org.postgresql.ds.PGSimpleDataSource\n    at com.zaxxer.hikari.util.UtilityElf.createInstance(UtilityElf.java:96)\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:314)\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:108)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:105)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:72)\n    at mypackage.SansORMProvider.get(SansORMProvider.java:42)\n    at mypackage.MySansORMProvider.get(MySansORMProvider.scala:15)\n    at mypackage.MyApp$.main(MyApp.scala:63)\n    at mypackage.MyApp.main(MyApp.scala)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:680)\nCaused by: java.lang.ClassNotFoundException: org.postgresql.ds.PGSimpleDataSource\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at com.zaxxer.hikari.util.UtilityElf.createInstance(UtilityElf.java:83)\n    ... 13 more\n</code></pre>\n<p>The reason this is perplexing is because the following is in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The shade plugin has no configurations referencing this postgres dependency or any pattern that would match it.</p>\n<pre><code>&lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;shade&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;configuration&gt;\n                                &lt;artifactSet&gt;\n                                    &lt;excludes combine.children=&quot;append&quot;&gt;\n                                        &lt;exclude&gt;org.apache.spark:*:*&lt;/exclude&gt;\n                                        &lt;exclude&gt;org.apache.hadoop:*:*&lt;/exclude&gt;\n                                        &lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/artifactSet&gt;\n                                &lt;filters&gt;\n                                    &lt;filter&gt;\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                        &lt;excludes&gt;\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                        &lt;/excludes&gt;\n                                    &lt;/filter&gt;\n                                &lt;/filters&gt;\n                                &lt;relocations&gt;\n                                    &lt;relocation&gt;\n                                        &lt;pattern&gt;com.google.common&lt;/pattern&gt;\n                                        &lt;shadedPattern&gt;${project.groupId}.google.common&lt;/shadedPattern&gt;\n                                    &lt;/relocation&gt;\n                                    &lt;relocation&gt;\n                                        &lt;pattern&gt;io.netty&lt;/pattern&gt;\n                                        &lt;shadedPattern&gt;${project.groupId}.io.netty&lt;/shadedPattern&gt;\n                                    &lt;/relocation&gt;\n                                    &lt;relocation&gt;\n                                        &lt;pattern&gt;okhttp3&lt;/pattern&gt;\n                                        &lt;shadedPattern&gt;${project.groupId}.okhttp3&lt;/shadedPattern&gt;\n                                    &lt;/relocation&gt;\n                                    &lt;relocation&gt;\n                                        &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt;\n                                        &lt;shadedPattern&gt;${project.groupId}.fasterxml.jackson&lt;/shadedPattern&gt;\n                                    &lt;/relocation&gt;\n                                    ]\n                                &lt;/relocations&gt;\n                                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>Spark dependencies (as requested):</p>\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n                &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n                &lt;artifactId&gt;spark-mllib_2.11&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n                &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n                &lt;artifactId&gt;spark-tags_2.11&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>In the output from the maven command building the jar, I can see <code>[INFO] Including org.postgresql:postgresql:jar:42.2.1 in the shaded jar.</code></p>\n<p>And when I run <code>jar tvf myShadedJar.jar | grep postgres</code> I can see the missing class.</p>\n<p>One weird thing that may be relevant is when I actually unzip the jar with <code>jar xf</code> theres no org/postgresql folder.  Yet, when i <code>unzip</code> the jar it's there.</p>\n<p>What might be the problem?  How do I confirm it?  And is it expected that the exploded jar is missing the org/postgresql folder?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9266733,"reputation":722,"user_id":6881983,"accept_rate":100,"display_name":"Faizaan Gagan"},"score":0,"creation_date":1635398320,"post_id":69748627,"comment_id":123288145,"body_markdown":"Would the first approach work at all?","body":"Would the first approach work at all?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1635398323,"post_id":69748627,"comment_id":123288147,"body_markdown":"That is not the question. The question is &quot;are `number1` and `number2` attributes of your object&#39;s state?&quot; If they are, then approach 1 is the answer, otherwise, it&#39;s approach 2, in which case the `sum` method doesn&#39;t have to be an instance method (unless they depend on additional object state for the logic)","body":"That is not the question. The question is &quot;are <code>number1</code> and <code>number2</code> attributes of your object&#39;s state?&quot; If they are, then approach 1 is the answer, otherwise, it&#39;s approach 2, in which case the <code>sum</code> method doesn&#39;t have to be an instance method (unless they depend on additional object state for the logic)"},{"owner":{"display_name":"user15033829"},"score":0,"creation_date":1635398574,"post_id":69748627,"comment_id":123288190,"body_markdown":"@FaizaanGagan Both methods work :) But which is better?","body":"@FaizaanGagan Both methods work :) But which is better?"},{"owner":{"account_id":9266733,"reputation":722,"user_id":6881983,"accept_rate":100,"display_name":"Faizaan Gagan"},"score":0,"creation_date":1635412553,"post_id":69748627,"comment_id":123292987,"body_markdown":"I didn&#39;t notice that the variables were already declared outside the function, so both work. But the second one is far more sensible, as it is more readable(you&#39;ll see why its important when the project grows to a few thousand lines) and also reusable.","body":"I didn&#39;t notice that the variables were already declared outside the function, so both work. But the second one is far more sensible, as it is more readable(you&#39;ll see why its important when the project grows to a few thousand lines) and also reusable."}],"answers":[{"tags":[],"owner":{"account_id":9697634,"reputation":37,"user_id":7193573,"display_name":"Kshitij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635399846,"creation_date":1635398702,"answer_id":69748693,"question_id":69748627,"body_markdown":"There is no absolute correct way, it depends on your use case. Having said that, second way is much more cleaner and reusable.\r\n\r\nFirst approach - sum method is very specific and local. It can only do one thing, sum `number1` and `number2` variables.\r\n\r\nSecond approach - sum method is very generic and had absolute 0 side affects. We can also move it to a util file and reuse it throughout a module or project.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/pure-functions/.","title":"Should I use Instance variable or pass as a parameter to method","body":"<p>There is no absolute correct way, it depends on your use case. Having said that, second way is much more cleaner and reusable.</p>\n<p>First approach - sum method is very specific and local. It can only do one thing, sum <code>number1</code> and <code>number2</code> variables.</p>\n<p>Second approach - sum method is very generic and had absolute 0 side affects. We can also move it to a util file and reuse it throughout a module or project.</p>\n"},{"tags":[],"owner":{"account_id":23110141,"reputation":1,"user_id":17218198,"display_name":"Akshay Kamble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635399400,"creation_date":1635399400,"answer_id":69748787,"question_id":69748627,"body_markdown":"There is no correct or wrong in this it totally depends on your use case if you are using number1 number2 only in sum() method then you should go for the second approach but if you are changing values of number1 and number2 and you want that changed values in another method then you should go for the first approach.","title":"Should I use Instance variable or pass as a parameter to method","body":"<p>There is no correct or wrong in this it totally depends on your use case if you are using number1 number2 only in sum() method then you should go for the second approach but if you are changing values of number1 and number2 and you want that changed values in another method then you should go for the first approach.</p>\n"},{"tags":[],"owner":{"account_id":4930762,"reputation":1103,"user_id":3970630,"accept_rate":75,"display_name":"Ric17101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635400197,"creation_date":1635400197,"answer_id":69748893,"question_id":69748627,"body_markdown":"I would highly recommend the `call second approach`, since not only making it look cleaner but also no external dependent values is being used thus only depend on the variables passed on the function `sum`.\r\n\r\n    sum(number1,number2);\r\n\r\nSo eventually when the operation inside the sum has become complex that you need to move them on another class like Utilities, it would make more sense to use 2nd approach for reusability and flexibility of the code.","title":"Should I use Instance variable or pass as a parameter to method","body":"<p>I would highly recommend the <code>call second approach</code>, since not only making it look cleaner but also no external dependent values is being used thus only depend on the variables passed on the function <code>sum</code>.</p>\n<pre><code>sum(number1,number2);\n</code></pre>\n<p>So eventually when the operation inside the sum has become complex that you need to move them on another class like Utilities, it would make more sense to use 2nd approach for reusability and flexibility of the code.</p>\n"}],"owner":{"display_name":"user15033829"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635458581,"answer_count":3,"score":0,"last_activity_date":1635400197,"creation_date":1635398161,"question_id":69748627,"body_markdown":"\r\n What is the right way or the best approach ? \r\n\r\n\r\n1- Writing the Instance variable directly inside the methods\r\n\r\nor\r\n\r\n2- Passing variables from where to call \r\n \r\n\r\n        int number1;\r\n        int number2;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n               \r\n            number1 = 10;\r\n            number2 = 20;\r\n\r\n    \r\n            // call first approach\r\n            sum();\r\n    \r\n            // call second approach\r\n            sum(number1,number2);\r\n    \r\n        }\r\n    \r\n    \r\n        // First approach\r\n        private int sum(){\r\n            \r\n           return number1+number2;\r\n        }\r\n    \r\n        // Second approach\r\n        private int sum(int number1,int number2){\r\n    \r\n            return number1+number2;\r\n        }\r\n    }","title":"Should I use Instance variable or pass as a parameter to method","body":"<p>What is the right way or the best approach ?</p>\n<p>1- Writing the Instance variable directly inside the methods</p>\n<p>or</p>\n<p>2- Passing variables from where to call</p>\n<pre><code>    int number1;\n    int number2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n           \n        number1 = 10;\n        number2 = 20;\n\n\n        // call first approach\n        sum();\n\n        // call second approach\n        sum(number1,number2);\n\n    }\n\n\n    // First approach\n    private int sum(){\n        \n       return number1+number2;\n    }\n\n    // Second approach\n    private int sum(int number1,int number2){\n\n        return number1+number2;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635399877,"post_id":69742808,"comment_id":123288457,"body_markdown":"The `NoSuchMethodError` is generally thrown when you use different modules from spring with different versions, which seems to be the case here. Use something like maven or gradle to manage your dependencies and make sure the versions align. In this case it looks like you are trying to outsmart the Spring Boot starter projects (as you indicate you are using Spring Boot). Please add your `pom.xml` or `build.gradle` to the question.","body":"The <code>NoSuchMethodError</code> is generally thrown when you use different modules from spring with different versions, which seems to be the case here. Use something like maven or gradle to manage your dependencies and make sure the versions align. In this case it looks like you are trying to outsmart the Spring Boot starter projects (as you indicate you are using Spring Boot). Please add your <code>pom.xml</code> or <code>build.gradle</code> to the question."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635400026,"post_id":69742808,"comment_id":123288498,"body_markdown":"You should use a newer Spring Security version or an older Spring version. Spring Security 3.1 wasn&#39;t designed for Spring 4.1 (and in turn pulls in older versions of Spring libraries leading to this issue).","body":"You should use a newer Spring Security version or an older Spring version. Spring Security 3.1 wasn&#39;t designed for Spring 4.1 (and in turn pulls in older versions of Spring libraries leading to this issue)."}],"answers":[{"tags":[],"owner":{"account_id":17689981,"reputation":31,"user_id":12841996,"display_name":"Aditya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635356379,"creation_date":1635356379,"answer_id":69743205,"question_id":69742808,"body_markdown":"You need to @Autowire SessionFactory where you are injecting. That&#39;s why IOC is not able to find the bean to instantiate the bean.","title":"Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0","body":"<p>You need to @Autowire SessionFactory where you are injecting. That's why IOC is not able to find the bean to instantiate the bean.</p>\n"}],"owner":{"account_id":23162838,"reputation":1,"user_id":17263248,"display_name":"Ali M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635399978,"creation_date":1635354455,"question_id":69742808,"body_markdown":"I&#39;m trying to create a web-app, in the security section I encountered this error:   \r\n        \r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0&#39;: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.springframework.web.bind.annotation.RequestMapping.name()Ljava/lang/String;\r\n    \r\n\r\nhere is applicationContext.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\r\n    \r\n    \r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;!--        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;--&gt;\r\n            &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;!--        &lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot;/&gt;--&gt;\r\n            &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mydb&quot;/&gt;\r\n    \r\n            &lt;!--        &lt;property name=&quot;url&quot; value=&quot;jdbc:h2:~/test&quot;/&gt;--&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;SASHAolic555&quot;/&gt;\r\n            &lt;!--        &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;--&gt;\r\n            &lt;!--        &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;--&gt;\r\n    \r\n    \r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;sessionFactory&quot;\r\n              class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    \r\n            &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/prop&gt;\r\n                    &lt;!--                                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;--&gt;\r\n                    &lt;!--                                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/prop&gt;--&gt;\r\n                    &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;\r\n    \r\n    \r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;packagesToScan&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;com.emusicstore&lt;/value&gt;\r\n                &lt;/list&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;transactionManager&quot;\r\n              class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n            &lt;property name=&quot;maxUploadSize&quot; value=&quot;1024000&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        &lt;security:http auto-config=&quot;true&quot;&gt;\r\n            &lt;security:intercept-url pattern=&quot;/admin/**&quot; access=&quot;ROLE_USER&quot; /&gt;\r\n            &lt;security:form-login\r\n                    login-page=&quot;/login&quot;\r\n                    default-target-url=&quot;/admin/&quot;\r\n                    authentication-failure-url=&quot;/login?error&quot;\r\n                    username-parameter=&quot;username&quot;\r\n                    password-parameter=&quot;password&quot; /&gt;\r\n            &lt;security:logout\r\n                    logout-success-url=&quot;/login?logout&quot; /&gt;\r\n        &lt;/security:http&gt;\r\n    \r\n        &lt;security:authentication-manager&gt;\r\n            &lt;security:authentication-provider&gt;\r\n                &lt;security:jdbc-user-service data-source-ref=&quot;dataSource&quot;\r\n                                            authorities-by-username-query=&quot;SELECT username, authority FROM authorities WHERE username = ?&quot;\r\n                                            users-by-username-query=&quot;SELECT username, password, enabled FROM users WHERE username = ?&quot; /&gt;\r\n            &lt;/security:authentication-provider&gt;\r\n        &lt;/security:authentication-manager&gt;\r\n    \r\n    &lt;/beans&gt;\r\n    \r\n    \r\nthis is  dispatcherServlet.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.emusicstore&quot; /&gt;\r\n    \r\n        &lt;mvc:annotation-driven /&gt;\r\n    \r\n        &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/WEB-INF/resources/&quot; /&gt;\r\n        &lt;tx:annotation-driven/&gt;\r\n    &lt;/beans\r\n    \r\n   \r\nweb.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n        &lt;absolute-ordering/&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                /WEB-INF/dispatcher-servlet.xml,\r\n                /WEB-INF/applicationContext.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;\r\n    \r\n    \r\npom.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.mywebsite&lt;/groupId&gt;\r\n        &lt;artifactId&gt;emusicstore&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;7&lt;/source&gt;\r\n                        &lt;target&gt;7&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.15&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\nStack trace:\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0&#39;: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.springframework.web.bind.annotation.RequestMapping.name()Ljava/lang/String;\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1566)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n    \t\tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)\r\n    \t\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)\r\n    \t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    \t\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n    \t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:460)\r\n    \t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:408)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n    \t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \t\tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n    \t\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \t\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \t\tat java.lang.Thread.run(Thread.java:748)\r\n    \tCaused by: java.lang.NoSuchMethodError: org.springframework.web.bind.annotation.RequestMapping.name()Ljava/lang/String;\r\n    \t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.createRequestMappingInfo(RequestMappingHandlerMapping.java:237)\r\n    \t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getMappingForMethod(RequestMappingHandlerMapping.java:191)\r\n    \t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getMappingForMethod(RequestMappingHandlerMapping.java:51)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$1.matches(AbstractHandlerMethodMapping.java:175)\r\n    \t\tat org.springframework.web.method.HandlerMethodSelector$1.doWith(HandlerMethodSelector.java:62)\r\n    \t\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:496)\r\n    \t\tat org.springframework.web.method.HandlerMethodSelector.selectMethods(HandlerMethodSelector.java:57)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:172)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:147)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:126)\r\n    \t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:126)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1625)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1562)\r\n    \t\t... 59 more\r\n    27-Oct-2021 20:28:32.495 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    27-Oct-2021 20:28:32.496 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [/eMusicStore] startup failed due to previous errors\r\n    27-Oct-2021 20:28:32.514 WARNING [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [eMusicStore] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    [2021-10-27 08:28:32,525] Artifact eMusicStore:war exploded: Error during artifact deployment. See server log for details.\r\n    27-Oct-2021 20:28:34.246 INFO [mysql-cj-abandoned-connection-cleanup] org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    \tjava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1427)\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1052)\r\n    \t\tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:117)\r\n    \t\tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:84)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \t\tat java.lang.Thread.run(Thread.java:748)\r\n    27-Oct-2021 20:28:35.295 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [D:\\apache-tomcat-9.0.52\\webapps\\manager]\r\n    27-Oct-2021 20:28:35.517 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [D:\\apache-tomcat-9.0.52\\webapps\\manager] has finished in [220] ms\r\n```\r\n\r\n","title":"Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0","body":"<p>I'm trying to create a web-app, in the security section I encountered this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0': Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.springframework.web.bind.annotation.RequestMapping.name()Ljava/lang/String;\n</code></pre>\n<p>here is applicationContext.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\n\n\n&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;!--        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;--&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n        &lt;!--        &lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot;/&gt;--&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mydb&quot;/&gt;\n\n        &lt;!--        &lt;property name=&quot;url&quot; value=&quot;jdbc:h2:~/test&quot;/&gt;--&gt;\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;SASHAolic555&quot;/&gt;\n        &lt;!--        &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;--&gt;\n        &lt;!--        &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;--&gt;\n\n\n    &lt;/bean&gt;\n    &lt;bean id=&quot;sessionFactory&quot;\n          class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/prop&gt;\n                &lt;!--                                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;--&gt;\n                &lt;!--                                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/prop&gt;--&gt;\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;\n\n\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.emusicstore&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;transactionManager&quot;\n          class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\n        &lt;property name=&quot;maxUploadSize&quot; value=&quot;1024000&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;security:http auto-config=&quot;true&quot;&gt;\n        &lt;security:intercept-url pattern=&quot;/admin/**&quot; access=&quot;ROLE_USER&quot; /&gt;\n        &lt;security:form-login\n                login-page=&quot;/login&quot;\n                default-target-url=&quot;/admin/&quot;\n                authentication-failure-url=&quot;/login?error&quot;\n                username-parameter=&quot;username&quot;\n                password-parameter=&quot;password&quot; /&gt;\n        &lt;security:logout\n                logout-success-url=&quot;/login?logout&quot; /&gt;\n    &lt;/security:http&gt;\n\n    &lt;security:authentication-manager&gt;\n        &lt;security:authentication-provider&gt;\n            &lt;security:jdbc-user-service data-source-ref=&quot;dataSource&quot;\n                                        authorities-by-username-query=&quot;SELECT username, authority FROM authorities WHERE username = ?&quot;\n                                        users-by-username-query=&quot;SELECT username, password, enabled FROM users WHERE username = ?&quot; /&gt;\n        &lt;/security:authentication-provider&gt;\n    &lt;/security:authentication-manager&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>this is  dispatcherServlet.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.emusicstore&quot; /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/WEB-INF/resources/&quot; /&gt;\n    &lt;tx:annotation-driven/&gt;\n&lt;/beans\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n    &lt;absolute-ordering/&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/dispatcher-servlet.xml,\n            /WEB-INF/applicationContext.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mywebsite&lt;/groupId&gt;\n    &lt;artifactId&gt;emusicstore&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;7&lt;/source&gt;\n                    &lt;target&gt;7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n    &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;taglibs&lt;/groupId&gt;\n            &lt;artifactId&gt;standard&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.15&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0': Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.springframework.web.bind.annotation.RequestMapping.name()Ljava/lang/String;\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1566)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\n            at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)\n            at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)\n            at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n            at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:498)\n            at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n            at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n            at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n            at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:460)\n            at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:408)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:498)\n            at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n            at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n            at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n            at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n            at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n            at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n            at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n            at java.security.AccessController.doPrivileged(Native Method)\n            at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n            at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:498)\n            at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n            at sun.rmi.transport.Transport$1.run(Transport.java:200)\n            at sun.rmi.transport.Transport$1.run(Transport.java:197)\n            at java.security.AccessController.doPrivileged(Native Method)\n            at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n            at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n            at java.security.AccessController.doPrivileged(Native Method)\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n            at java.lang.Thread.run(Thread.java:748)\n        Caused by: java.lang.NoSuchMethodError: org.springframework.web.bind.annotation.RequestMapping.name()Ljava/lang/String;\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.createRequestMappingInfo(RequestMappingHandlerMapping.java:237)\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getMappingForMethod(RequestMappingHandlerMapping.java:191)\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getMappingForMethod(RequestMappingHandlerMapping.java:51)\n            at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$1.matches(AbstractHandlerMethodMapping.java:175)\n            at org.springframework.web.method.HandlerMethodSelector$1.doWith(HandlerMethodSelector.java:62)\n            at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:496)\n            at org.springframework.web.method.HandlerMethodSelector.selectMethods(HandlerMethodSelector.java:57)\n            at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:172)\n            at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:147)\n            at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:126)\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:126)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1625)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1562)\n            ... 59 more\n    27-Oct-2021 20:28:32.495 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n    27-Oct-2021 20:28:32.496 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [/eMusicStore] startup failed due to previous errors\n    27-Oct-2021 20:28:32.514 WARNING [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [eMusicStore] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\n    [2021-10-27 08:28:32,525] Artifact eMusicStore:war exploded: Error during artifact deployment. See server log for details.\n    27-Oct-2021 20:28:34.246 INFO [mysql-cj-abandoned-connection-cleanup] org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n        java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n            at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1427)\n            at org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1052)\n            at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:117)\n            at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:84)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n            at java.lang.Thread.run(Thread.java:748)\n    27-Oct-2021 20:28:35.295 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [D:\\apache-tomcat-9.0.52\\webapps\\manager]\n    27-Oct-2021 20:28:35.517 INFO [Catalina-utility-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [D:\\apache-tomcat-9.0.52\\webapps\\manager] has finished in [220] ms\n</code></pre>\n"},{"tags":["java","drag-and-drop","command-line-arguments"],"answers":[{"tags":[],"owner":{"account_id":3900583,"reputation":884,"user_id":3228537,"display_name":"LCE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1412675436,"creation_date":1412675436,"answer_id":26233234,"question_id":26232468,"body_markdown":"It seems that windows doesn&#39;t allow file drops on jar files. But short of finding a solution for that you could instantiate a JFrame when you run your jar file and make it listen for dropped zip files on that instead. \r\n\r\nAn example of that can be found [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15080654/3228537","title":"Drag&amp;Drop file to jar file (in Windows Explorer)","body":"<p>It seems that windows doesn't allow file drops on jar files. But short of finding a solution for that you could instantiate a JFrame when you run your jar file and make it listen for dropped zip files on that instead. </p>\n\n<p>An example of that can be found <a href=\"https://stackoverflow.com/a/15080654/3228537\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23167838,"reputation":1,"user_id":17267499,"display_name":"no-kul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635399875,"creation_date":1635399875,"answer_id":69748845,"question_id":26232468,"body_markdown":"It still (10/2021) seems that Windows does not allow this. \r\n\r\nWhat you can do:\r\n\r\n - create a batch file with the java call to your program. This will open a command line window along with your program and might seem ugly.\r\n - create a desktop link to your java.exe (or javaw.exe). In the properties of the link, add &quot;-jar YourJarFile.jar&quot; as command line arguments to the link target.\r\n\r\nIn both cases, Windows will send the dropped file to your program as command line arguments.","title":"Drag&amp;Drop file to jar file (in Windows Explorer)","body":"<p>It still (10/2021) seems that Windows does not allow this.</p>\n<p>What you can do:</p>\n<ul>\n<li>create a batch file with the java call to your program. This will open a command line window along with your program and might seem ugly.</li>\n<li>create a desktop link to your java.exe (or javaw.exe). In the properties of the link, add &quot;-jar YourJarFile.jar&quot; as command line arguments to the link target.</li>\n</ul>\n<p>In both cases, Windows will send the dropped file to your program as command line arguments.</p>\n"}],"owner":{"account_id":2263600,"reputation":1045,"user_id":1992990,"accept_rate":77,"display_name":"Christian Rockrohr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26233234,"answer_count":2,"score":0,"last_activity_date":1635399875,"creation_date":1412672918,"question_id":26232468,"body_markdown":"I have written a Java application, that analyzes some data from within a zip file.\r\n\r\nI can pass the filename as command line argument to the application (java -jar myapp.jar fileToAnalyze.zip) and it does what it is supposed to do.\r\n\r\nUnfortunately it is somehow complicated to call the application via command line. I would like to simply drag the ZIP file to the jar and let it start. I have absolutely no idea how to do this. Could you please give some hints?\r\n\r\n\r\nThanks in advance.","title":"Drag&amp;Drop file to jar file (in Windows Explorer)","body":"<p>I have written a Java application, that analyzes some data from within a zip file.</p>\n\n<p>I can pass the filename as command line argument to the application (java -jar myapp.jar fileToAnalyze.zip) and it does what it is supposed to do.</p>\n\n<p>Unfortunately it is somehow complicated to call the application via command line. I would like to simply drag the ZIP file to the jar and let it start. I have absolutely no idea how to do this. Could you please give some hints?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1635399180,"post_id":69748680,"comment_id":123288304,"body_markdown":"`Class&lt;? extends Number&gt;` would mean any subclass of `Number`. `Class&lt;N&gt;` means the *specific* type of `Number` denoted by `N`, which is unknowable inside `Test` because of [type erasure](https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html).","body":"<code>Class&lt;? extends Number&gt;</code> would mean any subclass of <code>Number</code>. <code>Class&lt;N&gt;</code> means the <i>specific</i> type of <code>Number</code> denoted by <code>N</code>, which is unknowable inside <code>Test</code> because of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\" rel=\"nofollow noreferrer\">type erasure</a>."},{"owner":{"account_id":21480479,"reputation":150,"user_id":15827939,"display_name":"InSaNiTy"},"score":0,"creation_date":1635399927,"post_id":69748680,"comment_id":123288471,"body_markdown":"Java is a bit behind in this matter.","body":"Java is a bit behind in this matter."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635399021,"creation_date":1635399021,"answer_id":69748733,"question_id":69748680,"body_markdown":"Suppose a caller did:\r\n\r\n    var t = new Test&lt;Integer&gt;();\r\n    t.bar();\r\n\r\nthen, `bar()` would pass a `BigDecimal` to `foo()`, which expects an `Integer`.","title":"Why won&#39;t this code with Java generics compile?","body":"<p>Suppose a caller did:</p>\n<pre><code>var t = new Test&lt;Integer&gt;();\nt.bar();\n</code></pre>\n<p>then, <code>bar()</code> would pass a <code>BigDecimal</code> to <code>foo()</code>, which expects an <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635399699,"creation_date":1635399338,"answer_id":69748773,"question_id":69748680,"body_markdown":"The short answer really is that `BigDecimal` is not necessarily `N`. It is a little confusing because `BigDecimal` is within the `&lt;N extends Number&gt;` bounds, but the current instance&#39;s generic type argument can be any type that extends `Number`, but the `bar` method assumes `BigDecimal`.\r\n\r\nCheck this slightly modified version of the method:\r\n\r\n    public void bar() {\r\n        new Test&lt;BigDecimal&gt;().foo(BigDecimal.class);\r\n    }\r\n\r\nThat method compiles. Why? Becuase `Test&lt;BigDecimal&gt;()` has `BigDecimal` as type argument.\r\n\r\nWhen you call `foo(BigDecimal.class)`, you&#39;re *assuming* that `this` was instantiated with `BigDecimal` as type argument, which is not always true, and the the compiler is preventing a bug.\r\n\r\n---\r\nThe error in your code would be similar to a hypothetical `bar()` method in `ArrayList&lt;T&gt;` that does `add(&quot;string&quot;)`, which would be wrong for the same reason (the actual array list instance may be created to hold integers, not strings, so the inside code shouldn&#39;t make assumptions)","title":"Why won&#39;t this code with Java generics compile?","body":"<p>The short answer really is that <code>BigDecimal</code> is not necessarily <code>N</code>. It is a little confusing because <code>BigDecimal</code> is within the <code>&lt;N extends Number&gt;</code> bounds, but the current instance's generic type argument can be any type that extends <code>Number</code>, but the <code>bar</code> method assumes <code>BigDecimal</code>.</p>\n<p>Check this slightly modified version of the method:</p>\n<pre><code>public void bar() {\n    new Test&lt;BigDecimal&gt;().foo(BigDecimal.class);\n}\n</code></pre>\n<p>That method compiles. Why? Becuase <code>Test&lt;BigDecimal&gt;()</code> has <code>BigDecimal</code> as type argument.</p>\n<p>When you call <code>foo(BigDecimal.class)</code>, you're <em>assuming</em> that <code>this</code> was instantiated with <code>BigDecimal</code> as type argument, which is not always true, and the the compiler is preventing a bug.</p>\n<hr />\n<p>The error in your code would be similar to a hypothetical <code>bar()</code> method in <code>ArrayList&lt;T&gt;</code> that does <code>add(&quot;string&quot;)</code>, which would be wrong for the same reason (the actual array list instance may be created to hold integers, not strings, so the inside code shouldn't make assumptions)</p>\n"}],"owner":{"account_id":23167706,"reputation":13,"user_id":17267394,"display_name":"Scott Urman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69748773,"answer_count":2,"score":1,"last_activity_date":1635399699,"creation_date":1635398632,"question_id":69748680,"body_markdown":"Consider the following code:\r\n```\r\nimport java.math.BigDecimal;\r\n\r\nclass Scratch {\r\n\r\n  public static class Test&lt;N extends Number&gt; {\r\n\r\n    public void foo(Class&lt;N&gt; numberClass) {\r\n      System.out.println(numberClass);\r\n    }\r\n\r\n    public void bar() {\r\n      foo(BigDecimal.class);\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args)  {\r\n    Test&lt;Number&gt; t = new Test&lt;&gt;();\r\n    t.bar();\r\n  }\r\n}\r\n```\r\nThis fails to compile on line 12 (the call to `foo()`) with `incompatible types: java.lang.Class&lt;java.math.BigDecimal&gt; cannot be converted to java.lang.Class&lt;N&gt;`.  I don&#39;t get it, because the generic `N` extends `Number`, and so I should be able to pass `BigDecimal.class` to a method which takes a `Class&lt;N&gt;` parameter.  TIA for any thoughts!\r\n","title":"Why won&#39;t this code with Java generics compile?","body":"<p>Consider the following code:</p>\n<pre><code>import java.math.BigDecimal;\n\nclass Scratch {\n\n  public static class Test&lt;N extends Number&gt; {\n\n    public void foo(Class&lt;N&gt; numberClass) {\n      System.out.println(numberClass);\n    }\n\n    public void bar() {\n      foo(BigDecimal.class);\n    }\n  }\n\n  public static void main(String[] args)  {\n    Test&lt;Number&gt; t = new Test&lt;&gt;();\n    t.bar();\n  }\n}\n</code></pre>\n<p>This fails to compile on line 12 (the call to <code>foo()</code>) with <code>incompatible types: java.lang.Class&lt;java.math.BigDecimal&gt; cannot be converted to java.lang.Class&lt;N&gt;</code>.  I don't get it, because the generic <code>N</code> extends <code>Number</code>, and so I should be able to pass <code>BigDecimal.class</code> to a method which takes a <code>Class&lt;N&gt;</code> parameter.  TIA for any thoughts!</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635399478,"creation_date":1635399098,"answer_id":69748744,"question_id":69748669,"body_markdown":"You can change visibility of `var rawNotification` to `private` to avoid property/setter name clash:\r\n\r\n```kotlin\r\nabstract class BaseExpandedViewCreator(\r\n        private val context: Context\r\n): NotificationViewCreator {\r\n\r\n    private lateinit var rawNotification: RawNotification // if you want non-nullable property\r\n    // OR\r\n    private var rawNotification: RawNotification? = null // if you are OK with nullable property\r\n\r\n    override fun setRawNotification(rawNotification: RawNotification) {\r\n        this.rawNotification = rawNotification\r\n        initRawNotification(rawNotification)\r\n    }\r\n\r\n    fun initRawNotification(rawNotification: RawNotification) {}\r\n}\r\n```\r\n","title":"What is the Kotlin equivalent of this Java class","body":"<p>You can change visibility of <code>var rawNotification</code> to <code>private</code> to avoid property/setter name clash:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class BaseExpandedViewCreator(\n        private val context: Context\n): NotificationViewCreator {\n\n    private lateinit var rawNotification: RawNotification // if you want non-nullable property\n    // OR\n    private var rawNotification: RawNotification? = null // if you are OK with nullable property\n\n    override fun setRawNotification(rawNotification: RawNotification) {\n        this.rawNotification = rawNotification\n        initRawNotification(rawNotification)\n    }\n\n    fun initRawNotification(rawNotification: RawNotification) {}\n}\n</code></pre>\n"}],"owner":{"account_id":114159,"reputation":2551,"user_id":300327,"accept_rate":43,"display_name":"Kartik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69748744,"answer_count":1,"score":0,"last_activity_date":1635399478,"creation_date":1635398547,"question_id":69748669,"body_markdown":"I am trying to convert the following Java class in Kotlin\r\n\r\n    abstract class BaseExpandedViewCreator implements NotificationViewCreator\r\n    {\r\n\t   protected  RawNotification rawNotification;\r\n\t   protected final Context context;\r\n\r\n\t   BaseExpandedViewCreator(@NonNull Context context)\r\n\t   {\r\n\t\t   this.context = Objects.requireNonNull(context);\r\n\t   }\r\n\r\n\t  @Override\r\n\t  public void setRawNotification(@NonNull RawNotification rawNotification)\r\n\t  {\r\n\t\t  this.rawNotification = rawNotification;\r\n\t\t  initRawNotification(rawNotification);\r\n\t  }\r\n\r\n\t /**\r\n\t  * Override this function to initialise {@link RawNotification} for view creators if needed.\r\n\t  */\r\n\t protected void initRawNotification(@NonNull RawNotification rawNotification) {}\r\n     }\r\n\r\nKotlin interface\r\n\r\n    interface NotificationViewCreator {\r\n    \r\n       fun setRawNotification(rawNotification: RawNotification)\r\n    }\r\n\r\n\r\nThis is my implementation:\r\n\r\n        abstract class BaseExpandedViewCreator(\r\n    \t    protected val context: Context\r\n        ):NotificationViewCreator {\r\n    \r\n    \tvar rawNotification: RawNotification ? = null\r\n    \r\n    \tfun setRawNotification(rawNotification: RawNotification) {\r\n    \t\tthis.rawNotification = rawNotification\r\n    \t\tinitRawNotification(rawNotification)\r\n    \t}\r\n         fun initRawNotification(rawNotification: RawNotification) {}\r\n       }\r\n\r\nI get the following error\r\n\r\n    Platform declaration clash: The following declarations have the same JVM signature (setRawNotification(Lcom/myproject/RawNotification;)V): \r\n    public final fun &lt;set-rawNotification&gt;(&lt;set-?&gt;: RawNotification): Unit defined in com.myproject.BaseExpandedViewCreator\r\n    public final fun setRawNotification(rawNotification: RawNotification): Unit defined in com.myproject.BaseExpandedViewCreator","title":"What is the Kotlin equivalent of this Java class","body":"<p>I am trying to convert the following Java class in Kotlin</p>\n<pre><code>abstract class BaseExpandedViewCreator implements NotificationViewCreator\n{\n   protected  RawNotification rawNotification;\n   protected final Context context;\n\n   BaseExpandedViewCreator(@NonNull Context context)\n   {\n       this.context = Objects.requireNonNull(context);\n   }\n\n  @Override\n  public void setRawNotification(@NonNull RawNotification rawNotification)\n  {\n      this.rawNotification = rawNotification;\n      initRawNotification(rawNotification);\n  }\n\n /**\n  * Override this function to initialise {@link RawNotification} for view creators if needed.\n  */\n protected void initRawNotification(@NonNull RawNotification rawNotification) {}\n }\n</code></pre>\n<p>Kotlin interface</p>\n<pre><code>interface NotificationViewCreator {\n\n   fun setRawNotification(rawNotification: RawNotification)\n}\n</code></pre>\n<p>This is my implementation:</p>\n<pre><code>    abstract class BaseExpandedViewCreator(\n        protected val context: Context\n    ):NotificationViewCreator {\n\n    var rawNotification: RawNotification ? = null\n\n    fun setRawNotification(rawNotification: RawNotification) {\n        this.rawNotification = rawNotification\n        initRawNotification(rawNotification)\n    }\n     fun initRawNotification(rawNotification: RawNotification) {}\n   }\n</code></pre>\n<p>I get the following error</p>\n<pre><code>Platform declaration clash: The following declarations have the same JVM signature (setRawNotification(Lcom/myproject/RawNotification;)V): \npublic final fun &lt;set-rawNotification&gt;(&lt;set-?&gt;: RawNotification): Unit defined in com.myproject.BaseExpandedViewCreator\npublic final fun setRawNotification(rawNotification: RawNotification): Unit defined in com.myproject.BaseExpandedViewCreator\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":3,"up_vote_count":3,"is_accepted":true,"score":0,"last_activity_date":1627215712,"creation_date":1380842908,"answer_id":19170792,"question_id":19170744,"body_markdown":"*See @markus-a&#39;s [answer][1] for what should have been the accepted answer here.\r\n(Mine should be deleted, but I can&#39;t do that while it&#39;s accepted).*\r\n\r\n---\r\n\r\nExceptions are always thrown on their own thread. You have two different threads: your main thread and the one you created. There&#39;s no way the exception thrown in MyThread can be caught in the main one.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49077093/262683","title":"Interrupting a thread from itself","body":"<p><em>See @markus-a's <a href=\"https://stackoverflow.com/a/49077093/262683\">answer</a> for what should have been the accepted answer here.\n(Mine should be deleted, but I can't do that while it's accepted).</em></p>\n<hr />\n<p>Exceptions are always thrown on their own thread. You have two different threads: your main thread and the one you created. There's no way the exception thrown in MyThread can be caught in the main one.</p>\n"},{"tags":[],"owner":{"account_id":2845799,"reputation":2706,"user_id":2444240,"accept_rate":89,"display_name":"Skylion"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380843930,"creation_date":1380843930,"answer_id":19170930,"question_id":19170744,"body_markdown":"Why interrupt the thread at all? Just use\r\n\r\n    return;","title":"Interrupting a thread from itself","body":"<p>Why interrupt the thread at all? Just use</p>\n\n<pre><code>return;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1380843991,"creation_date":1380843991,"answer_id":19170935,"question_id":19170744,"body_markdown":"You&#39;re just being too quick - try this:\r\n\r\n    private static class MyThread extends Thread {\r\n\r\n      @Override\r\n      public void run() {\r\n        try {\r\n          Thread.currentThread().interrupt();\r\n          Thread.sleep(5000);\r\n        } catch (InterruptedException ex) {\r\n          Logger.getLogger(Test.class.getName()).log(Level.SEVERE, &quot;Oops&quot;, ex);\r\n        }\r\n      }\r\n    }\r\n\r\nI get:\r\n\r\n    Oct 04, 2013 12:43:46 AM test.Test$MyThread run\r\n    SEVERE: Oops\r\n    java.lang.InterruptedException: sleep interrupted\r\n\tat java.lang.Thread.sleep(Native Method)\r\n\tat test.Test$MyThread.run(Test.java:36)\r\n\r\nnote that you cannot propagate the exception out of the `run` method because `run` does not throw any exceptions.","title":"Interrupting a thread from itself","body":"<p>You're just being too quick - try this:</p>\n\n<pre><code>private static class MyThread extends Thread {\n\n  @Override\n  public void run() {\n    try {\n      Thread.currentThread().interrupt();\n      Thread.sleep(5000);\n    } catch (InterruptedException ex) {\n      Logger.getLogger(Test.class.getName()).log(Level.SEVERE, \"Oops\", ex);\n    }\n  }\n}\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Oct 04, 2013 12:43:46 AM test.Test$MyThread run\nSEVERE: Oops\njava.lang.InterruptedException: sleep interrupted\nat java.lang.Thread.sleep(Native Method)\nat test.Test$MyThread.run(Test.java:36)\n</code></pre>\n\n<p>note that you cannot propagate the exception out of the <code>run</code> method because <code>run</code> does not throw any exceptions.</p>\n"},{"tags":[],"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1635399435,"creation_date":1520023407,"answer_id":49077093,"question_id":19170744,"body_markdown":"I know this is an old question, but I think the answers above are actually not quite correct. (except @Skylion&#39;s, which doesn&#39;t really address the question...) :)\r\n\r\n[`Thread.interrupt()`][1] does not throw any exceptions by itself. It does two things: First it simply sets an internal *interrupted*-flag and then it checks if **the thread that it was called on** is currently blocking on an activity like [`wait()`][2], [`sleep()`][3], or [`join()`][4]. If it finds one, then it wakes up that method and causes **that method** to throw the exception inside the thread it was called **on** (not from).\r\n\r\nIn the case where you call `interrupt()` from the thread itself, that thread obviously can&#39;t itself be currently blocking on one of those calls as it is currently executing your `interrupt()` call. So, only the internal *interrupted*-flag is set and no exception is thrown at all.\r\n\r\nThe next time you call one of the blocking methods (like `sleep()` in @OldCurmudgeon&#39;s example) from that thread, **that** method will notice the *interrupted*-flag and throw the [`InterruptedException`][5].\r\n\r\nIf you don&#39;t ever call any of those methods, your thread will simply continue running until it terminates some other way and will never throw an `InterruptedException`. This is true even if you call `interrupt()` from a different thread.\r\n\r\nSo, to notice that your thread has been interrupted, you either need to frequently use one of the blocking methods that throws an `InterruptedException` and then quit when you receive one of those exceptions, or you need to frequently call [`Thread.interrupted()`][6] to check the internal *interrupted*-flag yourself and quit if it ever returns **`true`**. But you are also free to simply ignore the exception and the result from `Thread.interrupted()` completely and keep the thread running. So, `interrupt()` might be a little bit ambiguously named. It doesn&#39;t necessarily &quot;interrupt&quot; (as in &quot;terminate&quot;) the Thread at all, it simply sends a signal to the thread that the thread can handle or ignore as it pleases. Much like a hardware interrupt signal on a CPU (which is probably where the name comes from). \r\n\r\nTo have the exception be thrown by the `join()` method in your main thread, you need to call `interrupt()` on **that** thread, rather than on `MyThread`, like so:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    MyThread t = new MyThread();\r\n        t.setDaemon(true);  // Quit when main thread is done\r\n\t    t.start();\r\n\t    try {\r\n\t        t.join();\r\n\t    } catch (InterruptedException ex) {\r\n\t        System.out.println(&quot;Now it works:&quot;);\r\n\t        ex.printStackTrace();\r\n\t    }\r\n\t}\r\n\r\n\tprivate static class MyThread extends Thread {\r\n\t\t\r\n\t\tprivate final Thread parentThread;\r\n\t\t\r\n\t    public MyThread() {\r\n\t\t\tparentThread = Thread.currentThread();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t    public void run() {\r\n\t        parentThread.interrupt();  // Call on main thread!!!\r\n            while (true);  // Keep thread running (see comments)\r\n\t    }\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep(long)\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#join()\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted()","title":"Interrupting a thread from itself","body":"<p>I know this is an old question, but I think the answers above are actually not quite correct. (except @Skylion's, which doesn't really address the question...) :)</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt()\" rel=\"nofollow noreferrer\"><code>Thread.interrupt()</code></a> does not throw any exceptions by itself. It does two things: First it simply sets an internal <em>interrupted</em>-flag and then it checks if <strong>the thread that it was called on</strong> is currently blocking on an activity like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\"><code>wait()</code></a>, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>sleep()</code></a>, or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#join()\" rel=\"nofollow noreferrer\"><code>join()</code></a>. If it finds one, then it wakes up that method and causes <strong>that method</strong> to throw the exception inside the thread it was called <strong>on</strong> (not from).</p>\n<p>In the case where you call <code>interrupt()</code> from the thread itself, that thread obviously can't itself be currently blocking on one of those calls as it is currently executing your <code>interrupt()</code> call. So, only the internal <em>interrupted</em>-flag is set and no exception is thrown at all.</p>\n<p>The next time you call one of the blocking methods (like <code>sleep()</code> in @OldCurmudgeon's example) from that thread, <strong>that</strong> method will notice the <em>interrupted</em>-flag and throw the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html\" rel=\"nofollow noreferrer\"><code>InterruptedException</code></a>.</p>\n<p>If you don't ever call any of those methods, your thread will simply continue running until it terminates some other way and will never throw an <code>InterruptedException</code>. This is true even if you call <code>interrupt()</code> from a different thread.</p>\n<p>So, to notice that your thread has been interrupted, you either need to frequently use one of the blocking methods that throws an <code>InterruptedException</code> and then quit when you receive one of those exceptions, or you need to frequently call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted()\" rel=\"nofollow noreferrer\"><code>Thread.interrupted()</code></a> to check the internal <em>interrupted</em>-flag yourself and quit if it ever returns <strong><code>true</code></strong>. But you are also free to simply ignore the exception and the result from <code>Thread.interrupted()</code> completely and keep the thread running. So, <code>interrupt()</code> might be a little bit ambiguously named. It doesn't necessarily &quot;interrupt&quot; (as in &quot;terminate&quot;) the Thread at all, it simply sends a signal to the thread that the thread can handle or ignore as it pleases. Much like a hardware interrupt signal on a CPU (which is probably where the name comes from).</p>\n<p>To have the exception be thrown by the <code>join()</code> method in your main thread, you need to call <code>interrupt()</code> on <strong>that</strong> thread, rather than on <code>MyThread</code>, like so:</p>\n<pre><code>public static void main(String[] args) {\n    MyThread t = new MyThread();\n    t.setDaemon(true);  // Quit when main thread is done\n    t.start();\n    try {\n        t.join();\n    } catch (InterruptedException ex) {\n        System.out.println(&quot;Now it works:&quot;);\n        ex.printStackTrace();\n    }\n}\n\nprivate static class MyThread extends Thread {\n    \n    private final Thread parentThread;\n    \n    public MyThread() {\n        parentThread = Thread.currentThread();\n    }\n\n    @Override\n    public void run() {\n        parentThread.interrupt();  // Call on main thread!!!\n        while (true);  // Keep thread running (see comments)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16104,"reputation":2382,"user_id":34768,"accept_rate":56,"display_name":"iberck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5989,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":19170792,"answer_count":4,"score":9,"last_activity_date":1635399435,"creation_date":1380842578,"question_id":19170744,"body_markdown":"I do not understand why the thread does not throw an `InterruptedException` when interrupted itself.\r\n\r\n I&#39;m trying with following snippet:\r\n\r\n&gt; public class InterruptTest {\r\n&gt; \r\n&gt;     public static void main(String[] args) {\r\n&gt;         MyThread t = new MyThread();\r\n&gt;         t.start();\r\n&gt;         try {\r\n&gt;             t.join();\r\n&gt;         } catch (InterruptedException ex) {\r\n&gt;             ex.printStackTrace();\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt;     private static class MyThread extends Thread {\r\n&gt; \r\n&gt;         @Override\r\n&gt;         public void run() {\r\n&gt;             Thread.currentThread().interrupt();\r\n&gt;         }\r\n&gt;     } }\r\n\r\n\r\nIn the API docs it says on the `interrupt()` method:\r\n\r\n&gt; If this thread is blocked in an invocation of the wait(), wait(long), or wait(long, int) methods of the Object class, or of the Thread.join(), Thread.join(long), Thread.join(long, int), Thread.sleep(long), or Thread.sleep(long, int), methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.\r\n","title":"Interrupting a thread from itself","body":"<p>I do not understand why the thread does not throw an <code>InterruptedException</code> when interrupted itself.</p>\n\n<p>I'm trying with following snippet:</p>\n\n<blockquote>\n  <p>public class InterruptTest {</p>\n\n<pre><code>public static void main(String[] args) {\n    MyThread t = new MyThread();\n    t.start();\n    try {\n        t.join();\n    } catch (InterruptedException ex) {\n        ex.printStackTrace();\n    }\n}\n\nprivate static class MyThread extends Thread {\n\n    @Override\n    public void run() {\n        Thread.currentThread().interrupt();\n    }\n} }\n</code></pre>\n</blockquote>\n\n<p>In the API docs it says on the <code>interrupt()</code> method:</p>\n\n<blockquote>\n  <p>If this thread is blocked in an invocation of the wait(), wait(long), or wait(long, int) methods of the Object class, or of the Thread.join(), Thread.join(long), Thread.join(long, int), Thread.sleep(long), or Thread.sleep(long, int), methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.</p>\n</blockquote>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635350195,"post_id":69741676,"comment_id":123276088,"body_markdown":"Just to be clear, your stream is sorted by size?","body":"Just to be clear, your stream is sorted by size?"},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1635350234,"post_id":69741676,"comment_id":123276105,"body_markdown":"@Sweeper No, it is effectively unordered.","body":"@Sweeper No, it is effectively unordered."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635399369,"creation_date":1635350836,"answer_id":69742020,"question_id":69741676,"body_markdown":"You could use a stateful predicate that returns true until after the first input that exceeds the threshold has been encountered.\r\n\r\nSomething like this:\r\n\r\n\r\n    class BoundedPredicate&lt;T, V extends Comparable&lt;V&gt;&gt; implements Predicate&lt;T&gt; {\r\n\t\tprivate V boundary; //the boundary\r\n\t\tprivate Function&lt;T, V&gt; extractor; //the value extractor to get what&#39;s needed for the comparison\r\n\t\tprivate boolean boundaryHit; //the flag that keeps track of whether the boundary was hit\r\n\r\n\t\tpublic BoundedPredicate(V boundary, Function&lt;T, V&gt; extractor) {\r\n\t\t\tsuper();\r\n\t\t\tthis.boundary = boundary;\r\n\t\t\tthis.extractor = extractor;\r\n\t\t}\r\n\r\n\t\tpublic boolean test(T value) {\r\n            //boundary was hit last time so return false now\r\n\t\t\tif( boundaryHit) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n            //check boundary and if it was hit, update the flag\r\n\t\t\tif( boundary.compareTo(extractor.apply(value)) &lt;= 0) {\r\n\t\t\t\tboundaryHit = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t}\t\t\r\n\t}\r\n\r\nAnd usage:\r\n\r\n    return StreamSupport.stream(this, true)\r\n            .takeWhile(\r\n               new BoundedPredicate&lt;Solution, Integer&gt;(problem.animals().size(), solution -&gt; solution.pairs().size() )                \r\n            )\r\n            .max(Solution.byMatched)\r\n            .get();","title":"How do I make a Stream `max` early-terminate?","body":"<p>You could use a stateful predicate that returns true until after the first input that exceeds the threshold has been encountered.</p>\n<p>Something like this:</p>\n<pre><code>class BoundedPredicate&lt;T, V extends Comparable&lt;V&gt;&gt; implements Predicate&lt;T&gt; {\n    private V boundary; //the boundary\n    private Function&lt;T, V&gt; extractor; //the value extractor to get what's needed for the comparison\n    private boolean boundaryHit; //the flag that keeps track of whether the boundary was hit\n\n    public BoundedPredicate(V boundary, Function&lt;T, V&gt; extractor) {\n        super();\n        this.boundary = boundary;\n        this.extractor = extractor;\n    }\n\n    public boolean test(T value) {\n        //boundary was hit last time so return false now\n        if( boundaryHit) {\n            return false;\n        }\n        \n        //check boundary and if it was hit, update the flag\n        if( boundary.compareTo(extractor.apply(value)) &lt;= 0) {\n            boundaryHit = true;\n        }\n        \n        return true;\n    }       \n}\n</code></pre>\n<p>And usage:</p>\n<pre><code>return StreamSupport.stream(this, true)\n        .takeWhile(\n           new BoundedPredicate&lt;Solution, Integer&gt;(problem.animals().size(), solution -&gt; solution.pairs().size() )                \n        )\n        .max(Solution.byMatched)\n        .get();\n</code></pre>\n"}],"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69742020,"answer_count":1,"score":1,"last_activity_date":1635399369,"creation_date":1635349427,"question_id":69741676,"body_markdown":"I&#39;m writing against OpenJDK 16 and trying to make good use of streams. I have a case that calls for a hybrid of `Stream.max`, getting the element for which this comparator:\r\n\r\n```\r\n    public static final Comparator&lt;Solution&gt; byMatched =\r\n        Comparator.comparing(sol -&gt; sol.pairs.size());\r\n```\r\n\r\nindicates the largest `pairs` collection; but also I need to early-terminate if this `size()` reaches a known upper limit. About the closest I think I can get with built-ins is \r\n\r\n```\r\n    public Solution best() {\r\n        return StreamSupport.stream(this, true)\r\n            .takeWhile(\r\n                solution -&gt; solution.pairs().size() &lt; problem.animals().size()\r\n            )\r\n            .max(Solution.byMatched)\r\n            .get();\r\n    }\r\n```\r\n\r\nwhere `this` implements `Spliterator&lt;Solution&gt;`. This approach is not correct because, whereas it does early-terminate, the first solution seen that reaches the maximum problem size is discarded by `takeWhile`.\r\n\r\nIs there a built-in stream approach that applies a `max`, but stops at (and includes the first value for!) a given predicate becoming `true`?","title":"How do I make a Stream `max` early-terminate?","body":"<p>I'm writing against OpenJDK 16 and trying to make good use of streams. I have a case that calls for a hybrid of <code>Stream.max</code>, getting the element for which this comparator:</p>\n<pre><code>    public static final Comparator&lt;Solution&gt; byMatched =\n        Comparator.comparing(sol -&gt; sol.pairs.size());\n</code></pre>\n<p>indicates the largest <code>pairs</code> collection; but also I need to early-terminate if this <code>size()</code> reaches a known upper limit. About the closest I think I can get with built-ins is</p>\n<pre><code>    public Solution best() {\n        return StreamSupport.stream(this, true)\n            .takeWhile(\n                solution -&gt; solution.pairs().size() &lt; problem.animals().size()\n            )\n            .max(Solution.byMatched)\n            .get();\n    }\n</code></pre>\n<p>where <code>this</code> implements <code>Spliterator&lt;Solution&gt;</code>. This approach is not correct because, whereas it does early-terminate, the first solution seen that reaches the maximum problem size is discarded by <code>takeWhile</code>.</p>\n<p>Is there a built-in stream approach that applies a <code>max</code>, but stops at (and includes the first value for!) a given predicate becoming <code>true</code>?</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redisson"],"comments":[{"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"score":0,"creation_date":1612505730,"post_id":65489559,"comment_id":116792892,"body_markdown":"Did you resolve the issue?","body":"Did you resolve the issue?"},{"owner":{"account_id":5584512,"reputation":2314,"user_id":4425368,"display_name":"Ronak Dhoot"},"score":1,"creation_date":1616240827,"post_id":65489559,"comment_id":117943271,"body_markdown":"max-wait: -1ms i think that is the issue","body":"max-wait: -1ms i think that is the issue"}],"answers":[{"tags":[],"owner":{"account_id":14655611,"reputation":147,"user_id":10584260,"display_name":"NeedToLearn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635398783,"creation_date":1635398783,"answer_id":69748702,"question_id":65489559,"body_markdown":"You need to connect by providing username. ","title":"Cannot connect to redis instance by using redisson","body":"<p>You need to connect by providing username.</p>\n"}],"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635398783,"creation_date":1609231709,"question_id":65489559,"body_markdown":"I am able to connect to a redis instance by using jedis but not by using redisson.\r\n\r\nHere is my jedis configuration:\r\n\r\n    @Bean\r\n        public JedisConnectionFactory jedisConnectionFactory(@Qualifier(&quot;appRedis&quot;) final RedisProperties redisProperties){\r\n            RedisStandaloneConfiguration config = new RedisStandaloneConfiguration(redisProperties.getHost(), redisProperties.getPort());\r\n            config.setPassword(RedisPassword.of(EncodeDecodeUtil.decode(redisProperties.getPassword())));\r\n            JedisClientConfiguration.JedisClientConfigurationBuilder jedisClientConfiguration = JedisClientConfiguration.builder();\r\n            jedisClientConfiguration.usePooling();\r\n            jedisClientConfiguration.readTimeout(redisProperties.getTimeout());\r\n            JedisConnectionFactory jedisConnectionFactory =  new JedisConnectionFactory(config, jedisClientConfiguration.build());\r\n            jedisConnectionFactory.getPoolConfig().setMaxIdle(redisProperties.getJedis().getPool().getMaxIdle());\r\n            jedisConnectionFactory.getPoolConfig().setMinIdle(redisProperties.getJedis().getPool().getMinIdle());\r\n            jedisConnectionFactory.getPoolConfig().setMaxTotal(redisProperties.getJedis().getPool().getMaxActive());\r\n            return jedisConnectionFactory;\r\n        }\r\n    \r\n    \r\n        @Bean(name = &quot;appRedis&quot;)\r\n        public RedisTemplate&lt;String, List&lt;Object&gt;&gt; redisTemplate(RedisConnectionFactory jedisConnectionFactory) {\r\n            RedisTemplate&lt;String, List&lt;Object&gt;&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(jedisConnectionFactory);\r\n            return template;\r\n        }\r\n\r\n\r\n    Yml:\r\n    \r\n    spring:\r\n      data:\r\n      redis:\r\n        host: redishost.hosting.company.net\r\n        password: mypassword\r\n        port: 10790\r\n        jedis:\r\n          pool:\r\n            max-active: 5\r\n            max-idle: 5\r\n            max-wait: -1ms\r\n            min-idle: 3\r\n        connect-timeout: 30000\r\n        timeout: 5000\r\n\r\nRedisson Configuration:\r\n\r\n    @Bean\r\n    public RedissonClient client(){\r\n        Config config = new Config();\r\n        config.useSingleServer().\r\n                setAddress(&quot;redis://redishost.hosting.company.net:10790&quot;)\r\n        .setPassword(&quot;mypassword&quot;);\r\n        RedissonClient client = Redisson.create(config);\r\n        return client;\r\n    }\r\n\r\nI am getting the error:\r\n\r\n    WRONGPASS invalid username-password pair\r\n\r\n\r\nI am trying to use a basic configuration for redisson to do trial and error. I am just setting basic config parameters such as address, password and port","title":"Cannot connect to redis instance by using redisson","body":"<p>I am able to connect to a redis instance by using jedis but not by using redisson.</p>\n<p>Here is my jedis configuration:</p>\n<pre><code>@Bean\n    public JedisConnectionFactory jedisConnectionFactory(@Qualifier(&quot;appRedis&quot;) final RedisProperties redisProperties){\n        RedisStandaloneConfiguration config = new RedisStandaloneConfiguration(redisProperties.getHost(), redisProperties.getPort());\n        config.setPassword(RedisPassword.of(EncodeDecodeUtil.decode(redisProperties.getPassword())));\n        JedisClientConfiguration.JedisClientConfigurationBuilder jedisClientConfiguration = JedisClientConfiguration.builder();\n        jedisClientConfiguration.usePooling();\n        jedisClientConfiguration.readTimeout(redisProperties.getTimeout());\n        JedisConnectionFactory jedisConnectionFactory =  new JedisConnectionFactory(config, jedisClientConfiguration.build());\n        jedisConnectionFactory.getPoolConfig().setMaxIdle(redisProperties.getJedis().getPool().getMaxIdle());\n        jedisConnectionFactory.getPoolConfig().setMinIdle(redisProperties.getJedis().getPool().getMinIdle());\n        jedisConnectionFactory.getPoolConfig().setMaxTotal(redisProperties.getJedis().getPool().getMaxActive());\n        return jedisConnectionFactory;\n    }\n\n\n    @Bean(name = &quot;appRedis&quot;)\n    public RedisTemplate&lt;String, List&lt;Object&gt;&gt; redisTemplate(RedisConnectionFactory jedisConnectionFactory) {\n        RedisTemplate&lt;String, List&lt;Object&gt;&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(jedisConnectionFactory);\n        return template;\n    }\n\n\nYml:\n\nspring:\n  data:\n  redis:\n    host: redishost.hosting.company.net\n    password: mypassword\n    port: 10790\n    jedis:\n      pool:\n        max-active: 5\n        max-idle: 5\n        max-wait: -1ms\n        min-idle: 3\n    connect-timeout: 30000\n    timeout: 5000\n</code></pre>\n<p>Redisson Configuration:</p>\n<pre><code>@Bean\npublic RedissonClient client(){\n    Config config = new Config();\n    config.useSingleServer().\n            setAddress(&quot;redis://redishost.hosting.company.net:10790&quot;)\n    .setPassword(&quot;mypassword&quot;);\n    RedissonClient client = Redisson.create(config);\n    return client;\n}\n</code></pre>\n<p>I am getting the error:</p>\n<pre><code>WRONGPASS invalid username-password pair\n</code></pre>\n<p>I am trying to use a basic configuration for redisson to do trial and error. I am just setting basic config parameters such as address, password and port</p>\n"},{"tags":["java","algorithm","performance","design-patterns","performancecounter"],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635398173,"creation_date":1635397845,"answer_id":69748585,"question_id":69736235,"body_markdown":"The short answer to your question is *it doesn&#39;t matter*. Either approach will have roughly same performance and most probably will be dominated by `doLogic`. \r\n\r\nYour first choice should always be to write simple and idiomatic code instead of doing premature optimization.\r\n\r\n---\r\n\r\nThe long answer is *it depends* (it always does, doesn&#39;t it?). \r\n\r\nFirst of all, you don&#39;t really know what kind of optimizations [JIT](https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/underst_jit.html) will do to your code. What is true for one platform and Java version may not be true for another. You can&#39;t rely on anything that is not explicitly *guaranteed*.\r\n\r\nSecond, you know what they say about premature optimization. It&#39;s always a good idea to benchmark and profile your code, but even benchmarks are not 100% reliable.\r\n\r\nOk, let&#39;s benchmark:\r\n\r\n```\r\n# First case, variable counter\r\nBenchmark                 Mode  Cnt  Score   Error  Units\r\nBenchmark1.testCounter    avgt    8  0.149 &#177; 0.026  ms/op\r\nBenchmark1.testCounterIf  avgt    8  0.190 &#177; 0.036  ms/op\r\n\r\n# Second case, counter in the wrapper class\r\nBenchmark                      Mode  Cnt  Score   Error  Units\r\nBenchmark1.testCounterClass    avgt    8  0.198 &#177; 0.025  ms/op\r\nBenchmark1.testCounterClassIf  avgt    8  0.181 &#177; 0.016  ms/op\r\n```\r\n[Benchmark code](https://gist.github.com/Aivean/a23e16d35d7a1e6cacf003ac8f6f3f16)\r\n\r\nWhile for the case with simple counter variable the &quot;if optimization&quot; seems to lose, in the second case the difference is within the margin of error.\r\n\r\nIn my benchmark I just used a simple static field holding `Counter` class. Looking at the ASM, generated by JIT, it appears that method calls were inlined. Your situation may be different, as enterprise java and Spring are infamous for doing obscure magic behind the scenes (e.g. via proxies and bytecode manipulation). Not only methods may not be inlined, but also some hidden overheads may emerge unexpectedly.\r\n\r\n---\r\nP.S. If you are interested in performance and microoptimization for JVM, I suggest to read [Alexey Shipilev&#39;s JVM Anatomy Quarks Series](https://shipilev.net/jvm/anatomy-quarks/).","title":"Redundant assignment vs check before assignment in Java","body":"<p>The short answer to your question is <em>it doesn't matter</em>. Either approach will have roughly same performance and most probably will be dominated by <code>doLogic</code>.</p>\n<p>Your first choice should always be to write simple and idiomatic code instead of doing premature optimization.</p>\n<hr />\n<p>The long answer is <em>it depends</em> (it always does, doesn't it?).</p>\n<p>First of all, you don't really know what kind of optimizations <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/underst_jit.html\" rel=\"nofollow noreferrer\">JIT</a> will do to your code. What is true for one platform and Java version may not be true for another. You can't rely on anything that is not explicitly <em>guaranteed</em>.</p>\n<p>Second, you know what they say about premature optimization. It's always a good idea to benchmark and profile your code, but even benchmarks are not 100% reliable.</p>\n<p>Ok, let's benchmark:</p>\n<pre><code># First case, variable counter\nBenchmark                 Mode  Cnt  Score   Error  Units\nBenchmark1.testCounter    avgt    8  0.149 ± 0.026  ms/op\nBenchmark1.testCounterIf  avgt    8  0.190 ± 0.036  ms/op\n\n# Second case, counter in the wrapper class\nBenchmark                      Mode  Cnt  Score   Error  Units\nBenchmark1.testCounterClass    avgt    8  0.198 ± 0.025  ms/op\nBenchmark1.testCounterClassIf  avgt    8  0.181 ± 0.016  ms/op\n</code></pre>\n<p><a href=\"https://gist.github.com/Aivean/a23e16d35d7a1e6cacf003ac8f6f3f16\" rel=\"nofollow noreferrer\">Benchmark code</a></p>\n<p>While for the case with simple counter variable the &quot;if optimization&quot; seems to lose, in the second case the difference is within the margin of error.</p>\n<p>In my benchmark I just used a simple static field holding <code>Counter</code> class. Looking at the ASM, generated by JIT, it appears that method calls were inlined. Your situation may be different, as enterprise java and Spring are infamous for doing obscure magic behind the scenes (e.g. via proxies and bytecode manipulation). Not only methods may not be inlined, but also some hidden overheads may emerge unexpectedly.</p>\n<hr />\n<p>P.S. If you are interested in performance and microoptimization for JVM, I suggest to read <a href=\"https://shipilev.net/jvm/anatomy-quarks/\" rel=\"nofollow noreferrer\">Alexey Shipilev's JVM Anatomy Quarks Series</a>.</p>\n"}],"owner":{"account_id":1110466,"reputation":451,"user_id":1101025,"accept_rate":50,"display_name":"Ermal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69748585,"answer_count":1,"score":0,"last_activity_date":1635398173,"creation_date":1635327560,"question_id":69736235,"body_markdown":"In front of a long loop, it costs more (processor + memory) to assign redundantly the same value, or to check before the assignment?&#160;\r\n\r\n    int count = 0;\r\n    for(int i=0; i&lt;100_000; i++){\r\n    \tif (...) {\r\n    \t\tcount++\r\n    \t\tdoLogic(count); // logic is strictly related with count\r\n    \t} else {\r\n    \t  count = 0;  //50.000 redundant assignment\r\n    \t}\r\n    }\r\n**VS.**\r\n\r\n    int count = 0;\r\n    for(int i=0; i&lt;10_000; i++){\r\n    \tif (...) {\r\n    \t\tcount++\r\n    \t\tdoLogic(count); // logic is strictly related with count\r\n    \t} else {\r\n    \t\tif(count &gt; 0) { // 50.000 checks \r\n    \t\t  count = 0;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd would it cost the same if `count` would be present in a different object (injected as a singleton in a Spring context) and the increments/check/reset would be like: \r\n```\r\nconfig.incrementCount();\r\nconfig.getCount();\r\nconfig.resetCount();\r\n```\r\n","title":"Redundant assignment vs check before assignment in Java","body":"<p>In front of a long loop, it costs more (processor + memory) to assign redundantly the same value, or to check before the assignment? </p>\n<pre><code>int count = 0;\nfor(int i=0; i&lt;100_000; i++){\n    if (...) {\n        count++\n        doLogic(count); // logic is strictly related with count\n    } else {\n      count = 0;  //50.000 redundant assignment\n    }\n}\n</code></pre>\n<p><strong>VS.</strong></p>\n<pre><code>int count = 0;\nfor(int i=0; i&lt;10_000; i++){\n    if (...) {\n        count++\n        doLogic(count); // logic is strictly related with count\n    } else {\n        if(count &gt; 0) { // 50.000 checks \n          count = 0;\n        }\n    }\n}\n</code></pre>\n<p>And would it cost the same if <code>count</code> would be present in a different object (injected as a singleton in a Spring context) and the increments/check/reset would be like:</p>\n<pre><code>config.incrementCount();\nconfig.getCount();\nconfig.resetCount();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":6893723,"reputation":1773,"user_id":5296354,"accept_rate":100,"display_name":"Ram"},"score":0,"creation_date":1553783010,"post_id":55399863,"comment_id":97520396,"body_markdown":"Have you checked whether the table is created before running the test?","body":"Have you checked whether the table is created before running the test?"},{"owner":{"account_id":6893723,"reputation":1773,"user_id":5296354,"accept_rate":100,"display_name":"Ram"},"score":0,"creation_date":1553783069,"post_id":55399863,"comment_id":97520454,"body_markdown":"I&#39;d suggest you to mark anyone of the datasource bean as primary using `@Primary` annotation and try.","body":"I&#39;d suggest you to mark anyone of the datasource bean as primary using <code>@Primary</code> annotation and try."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1553783113,"post_id":55399863,"comment_id":97520483,"body_markdown":"its in memory datasource, I was not able to check this. I debugged it before the exception and connected to the datasource but could not find the schema or the table","body":"its in memory datasource, I was not able to check this. I debugged it before the exception and connected to the datasource but could not find the schema or the table"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1553783157,"post_id":55399863,"comment_id":97520520,"body_markdown":"The first one is marked as primary in my configuration class for the datasources","body":"The first one is marked as primary in my configuration class for the datasources"},{"owner":{"account_id":6893723,"reputation":1773,"user_id":5296354,"accept_rate":100,"display_name":"Ram"},"score":0,"creation_date":1553783214,"post_id":55399863,"comment_id":97520565,"body_markdown":"Even though its a in memory database, you can access it thru  &lt;hostname&gt;/h2-console","body":"Even though its a in memory database, you can access it thru  &lt;hostname&gt;/h2-console"},{"owner":{"account_id":6893723,"reputation":1773,"user_id":5296354,"accept_rate":100,"display_name":"Ram"},"score":0,"creation_date":1553783428,"post_id":55399863,"comment_id":97520747,"body_markdown":"Another thing to check is the `spring.jpa.hibernate.ddl-auto` property. Have you tried changing it to create rather than create-drop?","body":"Another thing to check is the <code>spring.jpa.hibernate.ddl-auto</code> property. Have you tried changing it to create rather than create-drop?"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1553783488,"post_id":55399863,"comment_id":97520789,"body_markdown":"Yes I have tried both spring.jpa.hibernate.ddl-auto settings","body":"Yes I have tried both spring.jpa.hibernate.ddl-auto settings"},{"owner":{"account_id":9697901,"reputation":1582,"user_id":7193761,"display_name":"Meziane"},"score":0,"creation_date":1553788857,"post_id":55399863,"comment_id":97524740,"body_markdown":"Try to set table&#39;s name without the schema:                                                          @Table(name = &quot;Account&quot;)\npublic class UserEntity","body":"Try to set table&#39;s name without the schema:                                                          @Table(name = &quot;Account&quot;) public class UserEntity"}],"answers":[{"tags":[],"owner":{"account_id":6531570,"reputation":421,"user_id":8219358,"display_name":"HARSHIT BAJPAI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635397882,"creation_date":1627541088,"answer_id":68571279,"question_id":55399863,"body_markdown":"I faced similar error and I tried pretty much every solution mentioned on other websites such as DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE \r\n\r\nBut nothing worked for me. \r\n\r\n\r\nFor Spring Boot 2.4+ use **spring.jpa.defer-datasource-initialization=true** in application.properties (mentioned here - https://stackoverflow.com/a/68086707/8219358)\r\n\r\n\r\nAnother way that worked for me was renaming data.sql to import.sql\r\n\r\nI found it here - https://stackoverflow.com/a/53179547/8219358\r\n\r\n\r\nI realize other solutions are more logical but none of them worked for me and this did. ","title":"Spring boot test throws JdbcException &quot;table not found&quot;","body":"<p>I faced similar error and I tried pretty much every solution mentioned on other websites such as DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE</p>\n<p>But nothing worked for me.</p>\n<p>For Spring Boot 2.4+ use <strong>spring.jpa.defer-datasource-initialization=true</strong> in application.properties (mentioned here - <a href=\"https://stackoverflow.com/a/68086707/8219358\">https://stackoverflow.com/a/68086707/8219358</a>)</p>\n<p>Another way that worked for me was renaming data.sql to import.sql</p>\n<p>I found it here - <a href=\"https://stackoverflow.com/a/53179547/8219358\">https://stackoverflow.com/a/53179547/8219358</a></p>\n<p>I realize other solutions are more logical but none of them worked for me and this did.</p>\n"}],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2771,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635397882,"creation_date":1553782645,"question_id":55399863,"body_markdown":"I have application-test.properties where I defined two datasources\r\n\r\n        app.datasource.server.url=jdbc:h2:mem:fooserver\r\n        app.datasource.server.username=sa\r\n        app.datasource.server.password=\r\n        app.datasource.server.driverClassName=org.h2.Driver\r\n        app.datasource.server.hikari.minimumIdle=5\r\n        app.datasource.server.hikari.maximumPoolSize=50\r\n        app.datasource.server.hikari.idleTimeout=50000\r\n        app.datasource.server.hikari.maxLifetime=55000\r\n\r\n\r\n        app.datasource.manager.url=jdbc:h2:mem:barmanager\r\n        app.datasource.manager.username=sa\r\n        app.datasource.manager.password=\r\n        app.datasource.manager.driverClassName=org.h2.Driver\r\n        app.datasource.manager.hikari.minimumIdle=5\r\n        app.datasource.manager.hikari.maximumPoolSize=50\r\n        app.datasource.manager.hikari.idleTimeout=50000\r\n        app.datasource.manager.hikari.maxLifetime=55000\r\n\r\n\r\n        # Hibernate ddl auto (create, create-drop, validate, update)\r\n        spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\n\r\n        #logging\r\n        logging.level.root=info\r\n        logging.file=foobar-rest-test.log\r\n\r\n        #required for SpringBootTest does not know why\r\n        spring.main.allow-bean-definition-overriding=true\r\n        spring.h2.console.enabled=true\r\n        spring.h2.console.path=/h2-console\r\n\r\n\r\nEach of the datasource requires schema to be available named &quot;foo&quot; this will be created by a schema-fooserver.sql and schema-barmanager.sql in each of these sql scripts the foo schema will be created. Therefore I defined a dataSourceIntializer Bean where I can define which schema-sql file will be loaded.\r\n\r\n    @Bean(name = &quot;managerDataSourceInitializer&quot;)\r\n    public DataSourceInitializer dataSourceInitializer1(@Qualifier(&quot;managerDataSource&quot;) DataSource datasource) {\r\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;schema-barmanager.sql&quot;));        \r\n\r\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\r\n        dataSourceInitializer.setDataSource(datasource);\r\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\r\n        return dataSourceInitializer;\r\n    }\r\n\r\n\r\n  \r\n    @Bean(name = &quot;serverDataSourceInitializer&quot;)\r\n    public DataSourceInitializer dataSourceInitializer1(@Qualifier(&quot;serverDataSource&quot;) DataSource datasource) {\r\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;schema-fooserver.sql&quot;));\r\n\r\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\r\n        dataSourceInitializer.setDataSource(datasource);\r\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\r\n        return dataSourceInitializer;\r\n    }\r\n\r\n\r\nDuring the start of my test the logs show that these schema files have been called and executed.\r\n\r\n\r\n        2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [schema-fooserver.sql]\r\n        2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : 0 returned as update count for SQL: CREATE SCHEMA IF NOT EXISTS FOO\r\n        2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [schema-fooserver.sql] in 0 ms.\r\n\r\n\r\n        2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [schema-barserver.sql]\r\n        2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : 0 returned as update count for SQL: CREATE SCHEMA IF NOT EXISTS FOO\r\n        2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [schema-barserver.sql] in 0 ms.\r\n\r\n\r\nNow when I try to execute my test case it fails because of the following error: \r\n\r\n\r\n        28 15:04:36.035 DEBUG 3124 --- [           main] org.hibernate.SQL                        : insert into foo.Account (uid, password_hash, login) values (null, ?, ?)\r\n        Hibernate: insert into foo.Account (uid, password_hash, login) values (null, ?, ?)\r\n        2019-03-28 15:04:36.036 DEBUG 3124 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not prepare statement [insert into foo.Account (uid, password_hash, login) values (null, ?, ?)]\r\n\r\n        org.h2.jdbc.JdbcSQLException: Tabelle &quot;ACCOUNT&quot; nicht gefunden\r\n        Table &quot;ACCOUNT&quot; not found; SQL statement:\r\n        insert into foo.Account (uid, password_hash, login) values (null, ?, ?) [42102-197]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)\r\n\r\n\r\nAt this point I am trying to create a UserAccount in my testcase\r\n\r\nThis is the defined UerEntity\r\n\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Data\r\n        @Entity\r\n        @Table(name = &quot;foo.Account&quot;)\r\n        public class UserEntity {\r\n\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;uid&quot;)\r\n            private Long id;\r\n            @Column(name = &quot;login&quot;)\r\n            private String username;\r\n            @Column(name = &quot;password_hash&quot;)\r\n            private String password;\r\n     ....\r\n\r\n\r\nHere is the Testcase. The error occurs when the before mehod is called during the createUser Method. \r\n\r\n        @RunWith(SpringRunner.class)\r\n        @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n        @ActiveProfiles(&quot;test&quot;)\r\n        @AutoConfigureMockMvc\r\n        public class UserControllerTest {\r\n            private static final Logger LOG = LoggerFactory.getLogger(UserControllerTest.class);\r\n            \r\n            @LocalServerPort\r\n            private int port;\r\n            TestRestTemplate restTemplate = new TestRestTemplate();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            @Autowired\r\n            private WfcSpringRestApplication controller;\r\n\r\n            @Autowired\r\n            private UserRepository repository;\r\n\r\n            @Autowired\r\n            private MockMvc mvc;\r\n\r\n            private AuthenticationToken authToken;\r\n\r\n            @Before\r\n            public void before() throws Exception {\r\n                headers = new HttpHeaders();\r\n                UserEntity user = createTestUser(TEST_ADMIN_USER, TEST_ADMIN_MD5_PW, UserRight.ADMIN);\r\n                UserEntity userService = createTestUser(TEST_SERVICE_USER, TEST_ADMIN_MD5_PW, UserRight.SERVICE);\r\n                getAuthenticationTokenForTestUser(user);\r\n\r\n            }\r\n\r\n\r\n            private UserEntity createTestUser(String username, String md5_password, UserRight right) {\r\n\r\n                UserEntity ue = new UserEntity();\r\n                ue.setUsername(username);\r\n                ue.setPassword(md5_password);\r\n\r\n                UserRole roleAdmin = new UserRole();\r\n                roleAdmin.setRight(right);\r\n\r\n                ue.getRoles().put(roleAdmin.getRight(), roleAdmin);\r\n\r\n                repository.save(ue);\r\n\r\n                return ue;\r\n            }\r\n\r\n\r\n            @Test\r\n            public void contextLoads() {\r\n                assertThat(controller).isNotNull();\r\n            }\r\n\r\n\r\nIn the error message there is the correct table name &quot;could not prepare statement [insert into foo.Account&quot; why it throws the exception that the table account is not found?\r\n\r\n","title":"Spring boot test throws JdbcException &quot;table not found&quot;","body":"<p>I have application-test.properties where I defined two datasources</p>\n\n<pre><code>    app.datasource.server.url=jdbc:h2:mem:fooserver\n    app.datasource.server.username=sa\n    app.datasource.server.password=\n    app.datasource.server.driverClassName=org.h2.Driver\n    app.datasource.server.hikari.minimumIdle=5\n    app.datasource.server.hikari.maximumPoolSize=50\n    app.datasource.server.hikari.idleTimeout=50000\n    app.datasource.server.hikari.maxLifetime=55000\n\n\n    app.datasource.manager.url=jdbc:h2:mem:barmanager\n    app.datasource.manager.username=sa\n    app.datasource.manager.password=\n    app.datasource.manager.driverClassName=org.h2.Driver\n    app.datasource.manager.hikari.minimumIdle=5\n    app.datasource.manager.hikari.maximumPoolSize=50\n    app.datasource.manager.hikari.idleTimeout=50000\n    app.datasource.manager.hikari.maxLifetime=55000\n\n\n    # Hibernate ddl auto (create, create-drop, validate, update)\n    spring.jpa.hibernate.ddl-auto=create-drop\n\n\n    #logging\n    logging.level.root=info\n    logging.file=foobar-rest-test.log\n\n    #required for SpringBootTest does not know why\n    spring.main.allow-bean-definition-overriding=true\n    spring.h2.console.enabled=true\n    spring.h2.console.path=/h2-console\n</code></pre>\n\n<p>Each of the datasource requires schema to be available named \"foo\" this will be created by a schema-fooserver.sql and schema-barmanager.sql in each of these sql scripts the foo schema will be created. Therefore I defined a dataSourceIntializer Bean where I can define which schema-sql file will be loaded.</p>\n\n<pre><code>@Bean(name = \"managerDataSourceInitializer\")\npublic DataSourceInitializer dataSourceInitializer1(@Qualifier(\"managerDataSource\") DataSource datasource) {\n    ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n    resourceDatabasePopulator.addScript(new ClassPathResource(\"schema-barmanager.sql\"));        \n\n    DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\n    dataSourceInitializer.setDataSource(datasource);\n    dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\n    return dataSourceInitializer;\n}\n\n\n\n@Bean(name = \"serverDataSourceInitializer\")\npublic DataSourceInitializer dataSourceInitializer1(@Qualifier(\"serverDataSource\") DataSource datasource) {\n    ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n    resourceDatabasePopulator.addScript(new ClassPathResource(\"schema-fooserver.sql\"));\n\n    DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\n    dataSourceInitializer.setDataSource(datasource);\n    dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\n    return dataSourceInitializer;\n}\n</code></pre>\n\n<p>During the start of my test the logs show that these schema files have been called and executed.</p>\n\n<pre><code>    2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [schema-fooserver.sql]\n    2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : 0 returned as update count for SQL: CREATE SCHEMA IF NOT EXISTS FOO\n    2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [schema-fooserver.sql] in 0 ms.\n\n\n    2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [schema-barserver.sql]\n    2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : 0 returned as update count for SQL: CREATE SCHEMA IF NOT EXISTS FOO\n    2019-03-28 15:04:34.252 DEBUG 3124 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [schema-barserver.sql] in 0 ms.\n</code></pre>\n\n<p>Now when I try to execute my test case it fails because of the following error: </p>\n\n<pre><code>    28 15:04:36.035 DEBUG 3124 --- [           main] org.hibernate.SQL                        : insert into foo.Account (uid, password_hash, login) values (null, ?, ?)\n    Hibernate: insert into foo.Account (uid, password_hash, login) values (null, ?, ?)\n    2019-03-28 15:04:36.036 DEBUG 3124 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not prepare statement [insert into foo.Account (uid, password_hash, login) values (null, ?, ?)]\n\n    org.h2.jdbc.JdbcSQLException: Tabelle \"ACCOUNT\" nicht gefunden\n    Table \"ACCOUNT\" not found; SQL statement:\n    insert into foo.Account (uid, password_hash, login) values (null, ?, ?) [42102-197]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)\n</code></pre>\n\n<p>At this point I am trying to create a UserAccount in my testcase</p>\n\n<p>This is the defined UerEntity</p>\n\n<pre><code>    @AllArgsConstructor\n    @NoArgsConstructor\n    @Data\n    @Entity\n    @Table(name = \"foo.Account\")\n    public class UserEntity {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = \"uid\")\n        private Long id;\n        @Column(name = \"login\")\n        private String username;\n        @Column(name = \"password_hash\")\n        private String password;\n ....\n</code></pre>\n\n<p>Here is the Testcase. The error occurs when the before mehod is called during the createUser Method. </p>\n\n<pre><code>    @RunWith(SpringRunner.class)\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    @ActiveProfiles(\"test\")\n    @AutoConfigureMockMvc\n    public class UserControllerTest {\n        private static final Logger LOG = LoggerFactory.getLogger(UserControllerTest.class);\n\n        @LocalServerPort\n        private int port;\n        TestRestTemplate restTemplate = new TestRestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        @Autowired\n        private WfcSpringRestApplication controller;\n\n        @Autowired\n        private UserRepository repository;\n\n        @Autowired\n        private MockMvc mvc;\n\n        private AuthenticationToken authToken;\n\n        @Before\n        public void before() throws Exception {\n            headers = new HttpHeaders();\n            UserEntity user = createTestUser(TEST_ADMIN_USER, TEST_ADMIN_MD5_PW, UserRight.ADMIN);\n            UserEntity userService = createTestUser(TEST_SERVICE_USER, TEST_ADMIN_MD5_PW, UserRight.SERVICE);\n            getAuthenticationTokenForTestUser(user);\n\n        }\n\n\n        private UserEntity createTestUser(String username, String md5_password, UserRight right) {\n\n            UserEntity ue = new UserEntity();\n            ue.setUsername(username);\n            ue.setPassword(md5_password);\n\n            UserRole roleAdmin = new UserRole();\n            roleAdmin.setRight(right);\n\n            ue.getRoles().put(roleAdmin.getRight(), roleAdmin);\n\n            repository.save(ue);\n\n            return ue;\n        }\n\n\n        @Test\n        public void contextLoads() {\n            assertThat(controller).isNotNull();\n        }\n</code></pre>\n\n<p>In the error message there is the correct table name \"could not prepare statement [insert into foo.Account\" why it throws the exception that the table account is not found?</p>\n"},{"tags":["java","spring-boot","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635393241,"creation_date":1635393241,"answer_id":69748103,"question_id":69748018,"body_markdown":"If you want to realize complete advantage of Async calls, I will suggest to avoid using CompletableFuture.get() or CompletableFuture.join().\r\n\r\nUsing this calls blocks your main thread till the time all the tasks (as part of CompletableFuture.allOf() ) are completed.\r\n\r\nInstead you can use various functions that are provided to run a Lamba function on completion of all the futures (Also allows to handle failure in any of the Future).\r\n\r\nPlease refer the Java Docs for more details and check which method is more convenient in your implementation:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n","title":"Calling a Async method inside a for loop","body":"<p>If you want to realize complete advantage of Async calls, I will suggest to avoid using CompletableFuture.get() or CompletableFuture.join().</p>\n<p>Using this calls blocks your main thread till the time all the tasks (as part of CompletableFuture.allOf() ) are completed.</p>\n<p>Instead you can use various functions that are provided to run a Lamba function on completion of all the futures (Also allows to handle failure in any of the Future).</p>\n<p>Please refer the Java Docs for more details and check which method is more convenient in your implementation:</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html</a></p>\n"}],"owner":{"account_id":17965359,"reputation":305,"user_id":13055352,"display_name":"happytohelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635397815,"creation_date":1635392441,"question_id":69748018,"body_markdown":"I have a model:\r\n\r\n```java\r\npackage com.example.asyncmethod;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown=true)\r\npublic class User {\r\n\r\n  private String name;\r\n  private String blog;\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public String getBlog() {\r\n    return blog;\r\n  }\r\n\r\n  public void setBlog(String blog) {\r\n    this.blog = blog;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;User [name=&quot; + name + &quot;, blog=&quot; + blog + &quot;]&quot;;\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\na service call like below\r\n\r\n```java\r\npackage com.example.asyncmethod;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.web.client.RestTemplateBuilder;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\n@Service\r\npublic class GitHubLookupService {\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(GitHubLookupService.class);\r\n\r\n  private final RestTemplate restTemplate;\r\n\r\n  public GitHubLookupService(RestTemplateBuilder restTemplateBuilder) {\r\n    this.restTemplate = restTemplateBuilder.build();\r\n  }\r\n\r\n  @Async\r\n  public CompletableFuture&lt;User&gt; findUser(Integer user) throws InterruptedException {\r\n    logger.info(&quot;Looking up &quot; + user);\r\n    String url = String.format(&quot;https://api.github.com/users/%s&quot;, user);\r\n    User results = restTemplate.getForObject(url, User.class);\r\n    \r\n    Thread.sleep(1000L);\r\n    return CompletableFuture.completedFuture(results);\r\n  }\r\n\r\n}\r\n```\r\nAsync runner class:\r\n\r\n```java\r\npackage com.example.asyncmethod;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\n@Component\r\npublic class AppRunner implements CommandLineRunner {\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(AppRunner.class);\r\n\r\n  private final GitHubLookupService gitHubLookupService;\r\n\r\n  public AppRunner(GitHubLookupService gitHubLookupService) {\r\n    this.gitHubLookupService = gitHubLookupService;\r\n  }\r\n\r\n  @Override\r\n  public void run(String... args) throws Exception {\r\n    // Start the clock\r\n    long start = System.currentTimeMillis();\r\n\r\n    // in real use case before the for loop I will have a database call to get the number of records and based on the size I need to call that many number of times.\r\nfor(int i=0; i &lt;= 10; i++){\r\n    CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(1);\r\n   }\r\n\r\n    // Wait until they are all done\r\n    CompletableFuture.allOf(page1).join();\r\n\r\n    // Print results, including elapsed time\r\n    logger.info(&quot;Elapsed time: &quot; + (System.currentTimeMillis() - start));\r\n    logger.info(&quot;--&gt; &quot; + page1.get());\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nSo in the above for loop, I might call the findUser as per the number of records returned by DB.\r\n\r\n\r\n\r\nAlso in the future I might need to add few more async calls like findOrders, findInventory, findAccess etc which will call another services over http.\r\n\r\nConsidering the async call may succeed for one record and fail for another record, how can I approach here to call the async in the best possible way?","title":"Calling a Async method inside a for loop","body":"<p>I have a model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.asyncmethod;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown=true)\npublic class User {\n\n  private String name;\n  private String blog;\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public String getBlog() {\n    return blog;\n  }\n\n  public void setBlog(String blog) {\n    this.blog = blog;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;User [name=&quot; + name + &quot;, blog=&quot; + blog + &quot;]&quot;;\n  }\n\n}\n\n</code></pre>\n<p>a service call like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.asyncmethod;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.concurrent.CompletableFuture;\n\n@Service\npublic class GitHubLookupService {\n\n  private static final Logger logger = LoggerFactory.getLogger(GitHubLookupService.class);\n\n  private final RestTemplate restTemplate;\n\n  public GitHubLookupService(RestTemplateBuilder restTemplateBuilder) {\n    this.restTemplate = restTemplateBuilder.build();\n  }\n\n  @Async\n  public CompletableFuture&lt;User&gt; findUser(Integer user) throws InterruptedException {\n    logger.info(&quot;Looking up &quot; + user);\n    String url = String.format(&quot;https://api.github.com/users/%s&quot;, user);\n    User results = restTemplate.getForObject(url, User.class);\n    \n    Thread.sleep(1000L);\n    return CompletableFuture.completedFuture(results);\n  }\n\n}\n</code></pre>\n<p>Async runner class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.asyncmethod;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.CompletableFuture;\n\n@Component\npublic class AppRunner implements CommandLineRunner {\n\n  private static final Logger logger = LoggerFactory.getLogger(AppRunner.class);\n\n  private final GitHubLookupService gitHubLookupService;\n\n  public AppRunner(GitHubLookupService gitHubLookupService) {\n    this.gitHubLookupService = gitHubLookupService;\n  }\n\n  @Override\n  public void run(String... args) throws Exception {\n    // Start the clock\n    long start = System.currentTimeMillis();\n\n    // in real use case before the for loop I will have a database call to get the number of records and based on the size I need to call that many number of times.\nfor(int i=0; i &lt;= 10; i++){\n    CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(1);\n   }\n\n    // Wait until they are all done\n    CompletableFuture.allOf(page1).join();\n\n    // Print results, including elapsed time\n    logger.info(&quot;Elapsed time: &quot; + (System.currentTimeMillis() - start));\n    logger.info(&quot;--&gt; &quot; + page1.get());\n\n  }\n\n}\n</code></pre>\n<p>So in the above for loop, I might call the findUser as per the number of records returned by DB.</p>\n<p>Also in the future I might need to add few more async calls like findOrders, findInventory, findAccess etc which will call another services over http.</p>\n<p>Considering the async call may succeed for one record and fail for another record, how can I approach here to call the async in the best possible way?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1635400115,"post_id":69748508,"comment_id":123288513,"body_markdown":"What you mean by security breach? This can happen for legitimate user if they are not authenticated.","body":"What you mean by security breach? This can happen for legitimate user if they are not authenticated."},{"owner":{"account_id":239393,"reputation":7415,"user_id":508957,"accept_rate":58,"display_name":"sura2k"},"score":0,"creation_date":1635409798,"post_id":69748508,"comment_id":123291776,"body_markdown":"@KarthikeyanVaithilingam This is a security vulnerability as per some well known security audit firms :)","body":"@KarthikeyanVaithilingam This is a security vulnerability as per some well known security audit firms :)"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":2,"creation_date":1635439200,"post_id":69748508,"comment_id":123305012,"body_markdown":"It&#39;s a vulnerability inasmuch as an attacker can better fingerprint your application. It&#39;s the same kind of vulnerability as having your URLs end in `.jsp` as that&#39;s a hint that the application is a servlet-based application. Shipping with the default Spring Boot error page can alert attackers to the fact that you are using Spring Boot. Besides, I think most want a better experience for their end users anyway! :)","body":"It&#39;s a vulnerability inasmuch as an attacker can better fingerprint your application. It&#39;s the same kind of vulnerability as having your URLs end in <code>.jsp</code> as that&#39;s a hint that the application is a servlet-based application. Shipping with the default Spring Boot error page can alert attackers to the fact that you are using Spring Boot. Besides, I think most want a better experience for their end users anyway! :)"}],"owner":{"account_id":239393,"reputation":7415,"user_id":508957,"accept_rate":58,"display_name":"sura2k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635397254,"creation_date":1635397254,"question_id":69748508,"body_markdown":"Is following page a result of a security breach?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZVNva.png\r\n\r\nI just want a confirmation from an expert. Adding a 401 custom page is nice to have but I don&#39;t think this is a security breach.","title":"Spring Security - Is whitelable error page a security breach?","body":"<p>Is following page a result of a security breach?\n<a href=\"https://i.stack.imgur.com/ZVNva.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZVNva.png\" alt=\"enter image description here\" /></a></p>\n<p>I just want a confirmation from an expert. Adding a 401 custom page is nice to have but I don't think this is a security breach.</p>\n"},{"tags":["java","rust","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":3599873,"reputation":9274,"user_id":3003401,"display_name":"Cerberus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635396936,"creation_date":1635396936,"answer_id":69748486,"question_id":69747909,"body_markdown":"There&#39;s a method [`jni::JNIEnv::from_raw`][1], which allows to wrap an existing raw pointer to `jni_sys::JNIEnv`.\r\n\r\n\r\n  [1]: https://docs.rs/jni/0.19.0/jni/struct.JNIEnv.html#method.from_raw","title":"Get jni::JNIEnv from jni_sys::JNIEnv","body":"<p>There's a method <a href=\"https://docs.rs/jni/0.19.0/jni/struct.JNIEnv.html#method.from_raw\" rel=\"nofollow noreferrer\"><code>jni::JNIEnv::from_raw</code></a>, which allows to wrap an existing raw pointer to <code>jni_sys::JNIEnv</code>.</p>\n"}],"owner":{"account_id":20091032,"reputation":11,"user_id":14731507,"display_name":"Carter Davis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635396936,"creation_date":1635391473,"question_id":69747909,"body_markdown":"I&#39;m trying to execute a static method, and my best bet is via the `jni::JNIEnv`. I must use `jni_sys::JNIEnv`, and can only start off with the later type.","title":"Get jni::JNIEnv from jni_sys::JNIEnv","body":"<p>I'm trying to execute a static method, and my best bet is via the <code>jni::JNIEnv</code>. I must use <code>jni_sys::JNIEnv</code>, and can only start off with the later type.</p>\n"},{"tags":["java","android","validation"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1635214603,"post_id":69716544,"comment_id":123230596,"body_markdown":"you are sending same `request code` (`IMAGE_REQUEST`) on both `btn` clicked so you check it.","body":"you are sending same <code>request code</code> (<code>IMAGE_REQUEST</code>) on both <code>btn</code> clicked so you check it."},{"owner":{"account_id":13393533,"reputation":25,"user_id":9665227,"display_name":"Rick V"},"score":0,"creation_date":1635218940,"post_id":69716544,"comment_id":123231277,"body_markdown":"Yes, but I would like it to validate them per button (individually).","body":"Yes, but I would like it to validate them per button (individually)."}],"answers":[{"tags":[],"owner":{"account_id":16285599,"reputation":574,"user_id":11760447,"display_name":"Nadim Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635225657,"creation_date":1635225657,"answer_id":69717830,"question_id":69716544,"body_markdown":"You have to add different request code in startActivityForResult. Like you have used IMAGE_REQUEST for both button.\r\n\r\nAs Example :\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ImageView imageV, imageV2;\r\n    static final int IMAGE_REQUEST = 1;\r\n    static final int IMAGE_REQUEST_2 = 2;\r\n    private static final int PERMISSION_REQUEST = 2;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    imageV = findViewById(R.id.image_view);\r\n    imageV2 = findViewById(R.id.image_view_2);\r\n\r\n    btnStatementAccount.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n           Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n           if (camara.resolveActivity(getPackageManager()) != null) {\r\n              startActivityForResult(camara, IMAGE_REQUEST);\r\n           }\r\n        }\r\n    });\r\n\r\n    btnIne.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n           Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n           if (camara.resolveActivity(getPackageManager()) != null) {\r\n              startActivityForResult(camara, IMAGE_REQUEST_2);\r\n           }\r\n        }\r\n     });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == IMAGE_REQUEST) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                //Images to change\r\n                imageV.setImageResource(R.drawable.image_view_2do);\r\n                imageV2.setImageResource(R.drawable.image_view2_2do);\r\n\r\n            }\r\n            else if (requestCode == IMAGE_REQUEST_2) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                //Images to change\r\n                imageV.setImageResource(R.drawable.image_view_2do);\r\n                imageV2.setImageResource(R.drawable.image_view2_2do);\r\n\r\n            }\r\n            else {\r\n                //Default images\r\n                imageV.setImageResource(R.drawable.image_view_1er);\r\n                imageV2.setImageResource(getResources().getString(R.string.image_view2_1er));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n ","title":"How can I validate different buttons after taking a picture?","body":"<p>You have to add different request code in startActivityForResult. Like you have used IMAGE_REQUEST for both button.</p>\n<p>As Example :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>ImageView imageV, imageV2;\nstatic final int IMAGE_REQUEST = 1;\nstatic final int IMAGE_REQUEST_2 = 2;\nprivate static final int PERMISSION_REQUEST = 2;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\nimageV = findViewById(R.id.image_view);\nimageV2 = findViewById(R.id.image_view_2);\n\nbtnStatementAccount.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST);\n       }\n    }\n});\n\nbtnIne.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST_2);\n       }\n    }\n });\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == IMAGE_REQUEST) {\n        if (resultCode == Activity.RESULT_OK) {\n            //Images to change\n            imageV.setImageResource(R.drawable.image_view_2do);\n            imageV2.setImageResource(R.drawable.image_view2_2do);\n\n        }\n        else if (requestCode == IMAGE_REQUEST_2) {\n        if (resultCode == Activity.RESULT_OK) {\n            //Images to change\n            imageV.setImageResource(R.drawable.image_view_2do);\n            imageV2.setImageResource(R.drawable.image_view2_2do);\n\n        }\n        else {\n            //Default images\n            imageV.setImageResource(R.drawable.image_view_1er);\n            imageV2.setImageResource(getResources().getString(R.string.image_view2_1er));\n        }\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":13393533,"reputation":25,"user_id":9665227,"display_name":"Rick V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69717830,"answer_count":1,"score":1,"last_activity_date":1635396424,"creation_date":1635212601,"question_id":69716544,"body_markdown":"*I have 2 imageview with a certain image which send to the camera of the device and I want to validate, I want that when a photo is taken it changes image depending on the button from which the photo was taken.*\r\n\r\n**I tried to do it this way but it didn&#39;t work.**\r\n\r\n    ImageView imageV, imageV2;\r\n    static final int IMAGE_REQUEST = 1;\r\n    private static final int PERMISSION_REQUEST = 2;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    imageV = findViewById(R.id.image_view);\r\n    imageV2 = findViewById(R.id.image_view_2);\r\n\r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n\t\t   Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\t\t   if (camara.resolveActivity(getPackageManager()) != null) {\r\n\t\t\t  startActivityForResult(camara, IMAGE_REQUEST);\r\n\t\t   }\r\n        }\r\n    });\r\n\r\n    btnIne.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n\t\t   Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\t\t   if (camara.resolveActivity(getPackageManager()) != null) {\r\n\t\t\t  startActivityForResult(camara, IMAGE_REQUEST);\r\n\t\t   }\r\n        }\r\n     });\r\n    }\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == IMAGE_REQUEST) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n\t\t\t\t//Images to change\r\n                imageV.setImageResource(R.drawable.image_view_2do);\r\n                imageV2.setImageResource(R.drawable.image_view2_2do);\r\n\r\n            }\r\n            else {\r\n\t\t\t\t//Default images\r\n                imageV.setImageResource(R.drawable.image_view_1er);\r\n                imageV2.setImageResource(getResources().getString(R.string.image_view2_1er));\r\n            }\r\n        }\r\n\r\n    }\r\n      ","title":"How can I validate different buttons after taking a picture?","body":"<p><em>I have 2 imageview with a certain image which send to the camera of the device and I want to validate, I want that when a photo is taken it changes image depending on the button from which the photo was taken.</em></p>\n<p><strong>I tried to do it this way but it didn't work.</strong></p>\n<pre><code>ImageView imageV, imageV2;\nstatic final int IMAGE_REQUEST = 1;\nprivate static final int PERMISSION_REQUEST = 2;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\nimageV = findViewById(R.id.image_view);\nimageV2 = findViewById(R.id.image_view_2);\n\nbtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST);\n       }\n    }\n});\n\nbtnIne.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n       Intent camara = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n       if (camara.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(camara, IMAGE_REQUEST);\n       }\n    }\n });\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == IMAGE_REQUEST) {\n        if (resultCode == Activity.RESULT_OK) {\n            //Images to change\n            imageV.setImageResource(R.drawable.image_view_2do);\n            imageV2.setImageResource(R.drawable.image_view2_2do);\n\n        }\n        else {\n            //Default images\n            imageV.setImageResource(R.drawable.image_view_1er);\n            imageV2.setImageResource(getResources().getString(R.string.image_view2_1er));\n        }\n    }\n\n}\n  \n</code></pre>\n"},{"tags":["java","itext","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1550067032,"post_id":54671892,"comment_id":96134075,"body_markdown":"*&quot;I have read many of the questions/answers about how to make a pdf ltv enabled using iText. Neither of them worked for me.&quot;* - in which way did [this answer](https://stackoverflow.com/a/51675015/1729265) fail to work for you?","body":"<i>&quot;I have read many of the questions/answers about how to make a pdf ltv enabled using iText. Neither of them worked for me.&quot;</i> - in which way did <a href=\"https://stackoverflow.com/a/51675015/1729265\">this answer</a> fail to work for you?"},{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1550069013,"post_id":54671892,"comment_id":96135379,"body_markdown":"Becasue the signature is still not LTV enabled (Acrobat Reader DC) and at certificate details at Revocation tab it says:\n\n\nThe selected certificate is considered valid because it does not appear in a Certificate Revocation List (CRL) obtained on-line.\n\nThe CRL was signed by &quot;ADACOM Class 1 Consumer Individual Subscriber CA - G2&quot; on 2019/02/12 23:59:09 +02&#39;00&#39; and is valid until 2019/02/13 23:59:09 +02&#39;00&#39;.\n\nClick Signer Details to get more information on the source of the revocation information.","body":"Becasue the signature is still not LTV enabled (Acrobat Reader DC) and at certificate details at Revocation tab it says:   The selected certificate is considered valid because it does not appear in a Certificate Revocation List (CRL) obtained on-line.  The CRL was signed by &quot;ADACOM Class 1 Consumer Individual Subscriber CA - G2&quot; on 2019/02/12 23:59:09 +02&#39;00&#39; and is valid until 2019/02/13 23:59:09 +02&#39;00&#39;.  Click Signer Details to get more information on the source of the revocation information."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1550069236,"post_id":54671892,"comment_id":96135526,"body_markdown":"Please share the PDF before and after applying `AdobeLtvEnabling`. Some limitations of that class are listed at the bottom of [that answer](https://stackoverflow.com/a/51675015/1729265). If one of those limitations is the issue, that class might be improved to lift that limitation.","body":"Please share the PDF before and after applying <code>AdobeLtvEnabling</code>. Some limitations of that class are listed at the bottom of <a href=\"https://stackoverflow.com/a/51675015/1729265\">that answer</a>. If one of those limitations is the issue, that class might be improved to lift that limitation."},{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1550090872,"post_id":54671892,"comment_id":96147213,"body_markdown":"I will try to show you the file, but I would like to find a pfx file that is not from my company. The self signed pfx don’t have the revoke part. So it is a bit difficult","body":"I will try to show you the file, but I would like to find a pfx file that is not from my company. The self signed pfx don’t have the revoke part. So it is a bit difficult"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1550122858,"post_id":54671892,"comment_id":96156132,"body_markdown":"Well, if you share a replacement pdf, please make sure that ltv enabling fails with it for the same reasons as it does for your actual signed pdfs.","body":"Well, if you share a replacement pdf, please make sure that ltv enabling fails with it for the same reasons as it does for your actual signed pdfs."},{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1550125830,"post_id":54671892,"comment_id":96157098,"body_markdown":"https://ufile.io/if9xb","body":"<a href=\"https://ufile.io/if9xb\" rel=\"nofollow noreferrer\">ufile.io/if9xb</a>"},{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1550127278,"post_id":54671892,"comment_id":96157628,"body_markdown":"Just to mention that I want to sign it and make it LTV-enabled simultaneously","body":"Just to mention that I want to sign it and make it LTV-enabled simultaneously"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1550134208,"post_id":54671892,"comment_id":96160893,"body_markdown":"*&quot;Just to mention that I want to sign it and make it LTV-enabled simultaneously.&quot;* - that makes a huge difference. Because it is not necessarily possible to do so. (I assume by *simultaneously* you mean &quot;in the same revision&quot;.","body":"<i>&quot;Just to mention that I want to sign it and make it LTV-enabled simultaneously.&quot;</i> - that makes a huge difference. Because it is not necessarily possible to do so. (I assume by <i>simultaneously</i> you mean &quot;in the same revision&quot;."},{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1550134946,"post_id":54671892,"comment_id":96161261,"body_markdown":"Yes, I get the stream of PDF from the report server and then i use signer.signDetached(....) method to sign it. I want the output of this proceedure to be a pdf that it is signed and LTV-enabled","body":"Yes, I get the stream of PDF from the report server and then i use signer.signDetached(....) method to sign it. I want the output of this proceedure to be a pdf that it is signed and LTV-enabled"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1550138030,"post_id":54671892,"comment_id":96162999,"body_markdown":"`signer.signDetached(....)` in general does not add the information required for LTV-enabling (at least it did not the last time I checked). Thus, I proposed adding the missing information in a second pass using the `AdobeLtvEnabling` helper. If that is no option for you, I cannot help easily enough (i.e. in the scope of an answer here).","body":"<code>signer.signDetached(....)</code> in general does not add the information required for LTV-enabling (at least it did not the last time I checked). Thus, I proposed adding the missing information in a second pass using the <code>AdobeLtvEnabling</code> helper. If that is no option for you, I cannot help easily enough (i.e. in the scope of an answer here)."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1550149074,"post_id":54671892,"comment_id":96169364,"body_markdown":"I just could inspect your example files. It is not possible to LTV enable your example signature in general, cf. my answer.","body":"I just could inspect your example files. It is not possible to LTV enable your example signature in general, cf. my answer."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551172848,"creation_date":1550148998,"answer_id":54690958,"question_id":54671892,"body_markdown":"**It is not possible to LTV enable your example signature in general.**\r\n\r\nFirst of all, your signer certificate is not from a CA trusted by Adobe Reader by default, i.e. the CA certificate is neither on the AATL nor on the EUTL. The PDF Reader will never call a signature &quot;LTV-enabled&quot; unless it somehow trusts the signer.\r\n\r\nFurthermore, the signer certificate does not have any AIA (Authority Information Access) extension from which signing code could determine locations to retrieve the issuer certificate or revocation information from. The missing information makes automatic retrieval of certificates and of revocation information impossible without further ado.\r\n\r\nEven if the CA was trusted, therefore, automatic LTV-enabling still would require custom code.\r\n\r\n---\r\n\r\nIn the course of comments here (and in communication with iText support) it turned out that the provided example signature was not representative; on the other hand there were other relevant boundary conditions, and you eventually got to a routine creating LTV-enabled signatures in your use case.\r\n\r\nDetails on this routine can be found in your answer.","title":"LTV enabled pdf iText 7","body":"<p><strong>It is not possible to LTV enable your example signature in general.</strong></p>\n\n<p>First of all, your signer certificate is not from a CA trusted by Adobe Reader by default, i.e. the CA certificate is neither on the AATL nor on the EUTL. The PDF Reader will never call a signature \"LTV-enabled\" unless it somehow trusts the signer.</p>\n\n<p>Furthermore, the signer certificate does not have any AIA (Authority Information Access) extension from which signing code could determine locations to retrieve the issuer certificate or revocation information from. The missing information makes automatic retrieval of certificates and of revocation information impossible without further ado.</p>\n\n<p>Even if the CA was trusted, therefore, automatic LTV-enabling still would require custom code.</p>\n\n<hr>\n\n<p>In the course of comments here (and in communication with iText support) it turned out that the provided example signature was not representative; on the other hand there were other relevant boundary conditions, and you eventually got to a routine creating LTV-enabled signatures in your use case.</p>\n\n<p>Details on this routine can be found in your answer.</p>\n"},{"tags":[],"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551172541,"creation_date":1551165221,"answer_id":54880161,"question_id":54671892,"body_markdown":"After some hours, I figured out a solution. Just to be clear, that Adobe has it&#39;s own truststore, so you have to either use one of their certificate or to use the truststore of windows and configure AC Reader accordingly and add the root certificate there. As all have mention you should include all the certification chain inside your PDF document. You can visit my [GitHub project][1] in order to see a working example that signs a PDF document, encrypt it with a private key and make it ltv-enabled, using iText 7 using timepstap from ERMIS.\r\n\r\n\r\n  [1]: https://github.com/lmpampaletakis/demo-pdf \r\n\r\n\r\nMaking ltv enabled sample:\r\n\r\n    private void ltvEnable(PdfSigner signer, ByteArrayOutputStream baos, OutputStream os, String name,\r\n    \t\t\tOcspClientBouncyCastle ocspClient, CrlClientOnline crlClient, CustomTSAClient tsc) {\r\n    \t\tByteArrayInputStream signedPdfInput = new ByteArrayInputStream(baos.toByteArray());\r\n    \t\ttry {\r\n    \t\t\tPdfReader pdfReader = new PdfReader(signedPdfInput);\r\n    \t\t\tPdfDocument document = new PdfDocument(pdfReader.setUnethicalReading(true), new PdfWriter(os),\r\n    \t\t\t\t\tnew StampingProperties().useAppendMode());\r\n    \t\t\tLtvVerification ltvVerification = new LtvVerification(document);\r\n    \t\t\tltvVerification.addVerification(name, ocspClient, crlClient, LtvVerification.CertificateOption.WHOLE_CHAIN,\r\n    \t\t\t\t\tLtvVerification.Level.OCSP_CRL, LtvVerification.CertificateInclusion.YES);\r\n    \t\t\tltvVerification.merge();\r\n    \t\t\tdocument.getCatalog().getPdfObject().getAsDictionary(PdfName.DSS).getAsArray(PdfName.Certs)\r\n    \t\t\t\t\t.add(new PdfStream(\r\n    \t\t\t\t\t\t\tIOUtils.toByteArray(getClass().getClassLoader().getResourceAsStream(&quot;HPARCA_CA.cer&quot;))));\r\n    \t\t\tdocument.close();\r\n    \t\t\tpdfReader.close();\r\n    \r\n    \t\t} catch (IOException | GeneralSecurityException e) {\r\n    \t\t\tLOG.error(&quot;Error while making signature ltv enabled&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\nTricky part parameters:\r\n\r\n    OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\r\n    OcspClientBouncyCastle ocspClient = new OcspClientBouncyCastle(ocspVerifier);\r\n    CrlClientOnline crlClient = new CrlClientOnline();","title":"LTV enabled pdf iText 7","body":"<p>After some hours, I figured out a solution. Just to be clear, that Adobe has it's own truststore, so you have to either use one of their certificate or to use the truststore of windows and configure AC Reader accordingly and add the root certificate there. As all have mention you should include all the certification chain inside your PDF document. You can visit my <a href=\"https://github.com/lmpampaletakis/demo-pdf\" rel=\"nofollow noreferrer\">GitHub project</a> in order to see a working example that signs a PDF document, encrypt it with a private key and make it ltv-enabled, using iText 7 using timepstap from ERMIS.</p>\n\n<p>Making ltv enabled sample:</p>\n\n<pre><code>private void ltvEnable(PdfSigner signer, ByteArrayOutputStream baos, OutputStream os, String name,\n            OcspClientBouncyCastle ocspClient, CrlClientOnline crlClient, CustomTSAClient tsc) {\n        ByteArrayInputStream signedPdfInput = new ByteArrayInputStream(baos.toByteArray());\n        try {\n            PdfReader pdfReader = new PdfReader(signedPdfInput);\n            PdfDocument document = new PdfDocument(pdfReader.setUnethicalReading(true), new PdfWriter(os),\n                    new StampingProperties().useAppendMode());\n            LtvVerification ltvVerification = new LtvVerification(document);\n            ltvVerification.addVerification(name, ocspClient, crlClient, LtvVerification.CertificateOption.WHOLE_CHAIN,\n                    LtvVerification.Level.OCSP_CRL, LtvVerification.CertificateInclusion.YES);\n            ltvVerification.merge();\n            document.getCatalog().getPdfObject().getAsDictionary(PdfName.DSS).getAsArray(PdfName.Certs)\n                    .add(new PdfStream(\n                            IOUtils.toByteArray(getClass().getClassLoader().getResourceAsStream(\"HPARCA_CA.cer\"))));\n            document.close();\n            pdfReader.close();\n\n        } catch (IOException | GeneralSecurityException e) {\n            LOG.error(\"Error while making signature ltv enabled\");\n        }\n    }\n</code></pre>\n\n<p>Tricky part parameters:</p>\n\n<pre><code>OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\nOcspClientBouncyCastle ocspClient = new OcspClientBouncyCastle(ocspVerifier);\nCrlClientOnline crlClient = new CrlClientOnline();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8136883,"reputation":41,"user_id":6128250,"display_name":"Kacper Sobisz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635396083,"creation_date":1635396083,"answer_id":69748394,"question_id":54671892,"body_markdown":"In case someone still has a problem with adobeLTV.\r\nSame as it was in itext5 and it still need to be done in itext7 to enable AdobeLTV, you need to create document security storage on your own and add within indirect reference information about your validation data /ocsp/crls/certs.\r\n\r\nhttps://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java","title":"LTV enabled pdf iText 7","body":"<p>In case someone still has a problem with adobeLTV.\nSame as it was in itext5 and it still need to be done in itext7 to enable AdobeLTV, you need to create document security storage on your own and add within indirect reference information about your validation data /ocsp/crls/certs.</p>\n<p><a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java\" rel=\"nofollow noreferrer\">https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java</a></p>\n"}],"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1635396083,"creation_date":1550066118,"question_id":54671892,"body_markdown":"I have read many of the questions/answers about how to make a pdf ltv enabled using iText. Neither of them worked for me. I have a steam of pdf and I set a signature field which I then use in order to call signDetached method and sign the pdf.\r\nI use:\r\n\r\n    signer.signDetached(new BouncyCastleDigest(), pks, chain,\r\n     Collections.singleton(crlClient), ocspClient, tsc,0, subfilter);\r\n\r\nBut nothing happened. I have read that you have to include all the certificates except from root. I add the chain of my private certificat (which I use so as to sign pdf), but I have not found a possible way include TSA&#39;s certificate.\r\n\r\nI use iText version **7.X**.\r\n\r\n\r\n    \r\n    KeyStore ks = getKeyStore();\r\n    \t\tCertificate[] chain = null;\r\n    \t\tEnumeration&lt;String&gt; al = ks.aliases();\r\n    \t\tfor (Enumeration&lt;String&gt; l = al; l.hasMoreElements();) {\r\n    \t\t\tString alias = (String) l.nextElement();\r\n    \t\t\tchain = ks.getCertificateChain(alias);\r\n    \t\t}\r\n    \t\tPrivateKey pk = (PrivateKey) ks.getKey(ks.aliases().nextElement(), &quot;******&quot;.toCharArray());\r\n    \t\tIExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, BouncyCastleProvider.PROVIDER_NAME);\r\n    \t\tOCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\r\n    \t\tOcspClientBouncyCastle ocspClient = new OcspClientBouncyCastle(ocspVerifier);\r\n    \t\tString url = CertificateUtil.getCRLURL((X509Certificate) chain[0]);\r\n    \t\tCrlClientOnline crlClient = new CrlClientOnline(url);\r\n    \t\ttry {\r\n    \t\t\tsigner.signDetached(new BouncyCastleDigest(), pks, chain, Collections.singleton(crlClient), ocspClient, tsc,\r\n    \t\t\t\t\t0, subfilter);\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tSystem.out.println(&quot;Tzizzzzzzzzzzzzzzz&quot; + ex.getCause());\r\n    \t\t}\r\n\r\n    private KeyStore getKeyStore()\r\n    \t\t\tthrows KeyStoreException, IOException, NoSuchAlgorithmException, CertificateException {\r\n    \t\tKeyStore ks = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n    \t\tks.load(new FileInputStream(&quot;tsaPath&quot;), &quot;****&quot;.toCharArray());\r\n    \t\tks.load(new FileInputStream(&quot;p12Path&quot;), &quot;*******&quot;.toCharArray());\r\n    \t\treturn ks;\r\n    \t}","title":"LTV enabled pdf iText 7","body":"<p>I have read many of the questions/answers about how to make a pdf ltv enabled using iText. Neither of them worked for me. I have a steam of pdf and I set a signature field which I then use in order to call signDetached method and sign the pdf.\nI use:</p>\n\n<pre><code>signer.signDetached(new BouncyCastleDigest(), pks, chain,\n Collections.singleton(crlClient), ocspClient, tsc,0, subfilter);\n</code></pre>\n\n<p>But nothing happened. I have read that you have to include all the certificates except from root. I add the chain of my private certificat (which I use so as to sign pdf), but I have not found a possible way include TSA's certificate.</p>\n\n<p>I use iText version <strong>7.X</strong>.</p>\n\n<pre><code>KeyStore ks = getKeyStore();\n        Certificate[] chain = null;\n        Enumeration&lt;String&gt; al = ks.aliases();\n        for (Enumeration&lt;String&gt; l = al; l.hasMoreElements();) {\n            String alias = (String) l.nextElement();\n            chain = ks.getCertificateChain(alias);\n        }\n        PrivateKey pk = (PrivateKey) ks.getKey(ks.aliases().nextElement(), \"******\".toCharArray());\n        IExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, BouncyCastleProvider.PROVIDER_NAME);\n        OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\n        OcspClientBouncyCastle ocspClient = new OcspClientBouncyCastle(ocspVerifier);\n        String url = CertificateUtil.getCRLURL((X509Certificate) chain[0]);\n        CrlClientOnline crlClient = new CrlClientOnline(url);\n        try {\n            signer.signDetached(new BouncyCastleDigest(), pks, chain, Collections.singleton(crlClient), ocspClient, tsc,\n                    0, subfilter);\n\n        } catch (Exception ex) {\n            System.out.println(\"Tzizzzzzzzzzzzzzzz\" + ex.getCause());\n        }\n\nprivate KeyStore getKeyStore()\n            throws KeyStoreException, IOException, NoSuchAlgorithmException, CertificateException {\n        KeyStore ks = KeyStore.getInstance(\"pkcs12\");\n        ks.load(new FileInputStream(\"tsaPath\"), \"****\".toCharArray());\n        ks.load(new FileInputStream(\"p12Path\"), \"*******\".toCharArray());\n        return ks;\n    }\n</code></pre>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":19850801,"reputation":365,"user_id":14541336,"display_name":"ihsan"},"score":0,"creation_date":1635395651,"post_id":69748300,"comment_id":123287723,"body_markdown":"You can make a string inside the for loop and add equation character by character to the string and close the string after it reaches an operator that is, in the switch statement","body":"You can make a string inside the for loop and add equation character by character to the string and close the string after it reaches an operator that is, in the switch statement"},{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1635396637,"post_id":69748300,"comment_id":123287883,"body_markdown":"Probably should just stick to `if`/`else`. No need to implement a switch statement for booleans when if/else literally does exactly that. Don&#39;t think Java supports pattern-matching switches, unfortunately, which would be more the solution you&#39;re looking for.","body":"Probably should just stick to <code>if</code>/<code>else</code>. No need to implement a switch statement for booleans when if/else literally does exactly that. Don&#39;t think Java supports pattern-matching switches, unfortunately, which would be more the solution you&#39;re looking for."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635423218,"post_id":69748300,"comment_id":123297508,"body_markdown":"@GreenCloakGuy Java 17 supports pattern-matching switches in preview, see [JEP 406: Pattern Matching for switch (Preview)](https://openjdk.java.net/jeps/406)","body":"@GreenCloakGuy Java 17 supports pattern-matching switches in preview, see <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\">JEP 406: Pattern Matching for switch (Preview)</a>"}],"owner":{"account_id":23167204,"reputation":11,"user_id":17266948,"display_name":"cheesecake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635395518,"creation_date":1635395151,"question_id":69748300,"body_markdown":"My assignment is to code &amp; use the Shunting Yard algorithm in Java. I&#39;ve seen how I can implement it using if/else statements, but the snippet of pseudocode provided by my professor uses switch cases. What&#39;s written is this:\r\n\r\n    for (each character ch in the infix expr){\r\n      switch (ch) {\r\n        case operand:\r\n          break;\r\n        case &#39;(&#39;:\r\n          break;\r\n        case &#39;)&#39;:\r\n          break;\r\n        case operator:\r\n          break;\r\n\r\nI know that I can use the boolean isLetterOrDigit() to determine whether &quot;ch&quot; is an operand, but I don&#39;t know how to convert that into something I can apply to the case. Under &quot;operator&quot; I&#39;ve just got it written out as\r\n\r\n    switch (ch) {\r\n        case &#39;+&#39;:\r\n        case &#39;-&#39;:\r\n        case &#39;*&#39;:\r\n        case &#39;/&#39;:\r\n          break;\r\n\r\nBut I&#39;m wondering if that could also be simplified? Or should I just stick to if/else?","title":"How can I make a switch case based on a boolean? [specifically based on char.isLetterOrDigit()]","body":"<p>My assignment is to code &amp; use the Shunting Yard algorithm in Java. I've seen how I can implement it using if/else statements, but the snippet of pseudocode provided by my professor uses switch cases. What's written is this:</p>\n<pre><code>for (each character ch in the infix expr){\n  switch (ch) {\n    case operand:\n      break;\n    case '(':\n      break;\n    case ')':\n      break;\n    case operator:\n      break;\n</code></pre>\n<p>I know that I can use the boolean isLetterOrDigit() to determine whether &quot;ch&quot; is an operand, but I don't know how to convert that into something I can apply to the case. Under &quot;operator&quot; I've just got it written out as</p>\n<pre><code>switch (ch) {\n    case '+':\n    case '-':\n    case '*':\n    case '/':\n      break;\n</code></pre>\n<p>But I'm wondering if that could also be simplified? Or should I just stick to if/else?</p>\n"},{"tags":["java","android","mediarecorder"],"answers":[{"tags":[],"owner":{"account_id":8294161,"reputation":145,"user_id":6234874,"display_name":"Anwar El Bo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635395400,"creation_date":1635395400,"answer_id":69748327,"question_id":69747676,"body_markdown":"I found the solution! The problem was in my manifest file I didn&#39;t know that I had to add `android:foregroundServiceType=&quot;microphone&quot;` to the service tag.","title":"Can&#39;t record with mediarecord when screen is locked. Tried WakeLock but no result","body":"<p>I found the solution! The problem was in my manifest file I didn't know that I had to add <code>android:foregroundServiceType=&quot;microphone&quot;</code> to the service tag.</p>\n"}],"owner":{"account_id":8294161,"reputation":145,"user_id":6234874,"display_name":"Anwar El Bo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69748327,"answer_count":1,"score":0,"last_activity_date":1635395400,"creation_date":1635389125,"question_id":69747676,"body_markdown":"It is a ForegroundService where the OnCreate function is as follows:\r\n\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        final long RECORDING_INTERVAL = 30000;\r\n\r\n        TimerTask recordingTask = new TimerTask() {\r\n            public void run() {\r\n                if (wakeLock == null) {\r\n                    Log.d(&quot;WakeLock&quot;, &quot;WakeLock&quot;);\r\n                    pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n                    wakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;FlexRat::Tag&quot;);\r\n                    wakeLock.acquire();\r\n                }\r\n\r\n                Log.i(&quot;Debug&quot;, &quot;Recording Task&quot;);\r\n                stopRecording();\r\n                startRecording();\r\n            }\r\n        };\r\n\r\n        Timer recordingTimer = new Timer();\r\n        recordingTimer.scheduleAtFixedRate(recordingTask, 0, RECORDING_INTERVAL);\r\n    }\r\n\r\nAnd the startRecording() method is as follows:\r\n\r\n    private void startRecording() {\r\n        Log.i(&quot;Info&quot;, &quot;NEW RECORDING&quot;);\r\n        try {\r\n            recorder = new MediaRecorder();\r\n\r\n            recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n            recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n            recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\r\n\r\n            Date today = Calendar.getInstance().getTime();\r\n            SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;, Locale.ENGLISH);\r\n            String reportDate = formatter.format(today);\r\n\r\n            File instanceRecordDirectory = new File(getStoragePath());\r\n            File instanceRecord = new File(instanceRecordDirectory.getAbsolutePath() + File.separator + reportDate + &quot;.mp4&quot;);\r\n\r\n            if (!instanceRecordDirectory.exists()) {\r\n                instanceRecordDirectory.getParentFile().mkdirs();\r\n                instanceRecordDirectory.mkdirs();\r\n            }\r\n\r\n            if (!instanceRecord.exists()) {\r\n                instanceRecord.createNewFile();\r\n            }\r\n\r\n            recorder.setOutputFile(instanceRecord.getAbsolutePath());\r\n\r\n            recorder.prepare();\r\n            recorder.start();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThe exception is thrown when i turn off the device, the stacktrace i get is:\r\n\r\n    I/MediaRecorderJNI: setAudioSource(1)\r\n    W/System.err: java.lang.RuntimeException: setAudioSource failed.\r\n            at android.media.MediaRecorder._setAudioSource(Native Method)\r\n            at android.media.MediaRecorder.setAudioSource(MediaRecorder.java:797)\r\n            at com.multimedia.flexrat.BackgroundService.startRecording(BackgroundService.java:125)\r\n            at com.multimedia.flexrat.BackgroundService.access$300(BackgroundService.java:42)\r\n            at com.multimedia.flexrat.BackgroundService$1.run(BackgroundService.java:70)\r\n            at java.util.TimerThread.mainLoop(Timer.java:562)\r\n            at java.util.TimerThread.run(Timer.java:512)\r\n\r\nWhat i want is that the recordingTask keeps running even after the device is locked. I don&#39;t care about battery usage at this point. I know it is a pretty heavy thread. I just want it to work for now. Can someone point me in the right direction? I searched all over the web but without results.\r\n","title":"Can&#39;t record with mediarecord when screen is locked. Tried WakeLock but no result","body":"<p>It is a ForegroundService where the OnCreate function is as follows:</p>\n<pre><code>public void onCreate() {\n    super.onCreate();\n    final long RECORDING_INTERVAL = 30000;\n\n    TimerTask recordingTask = new TimerTask() {\n        public void run() {\n            if (wakeLock == null) {\n                Log.d(&quot;WakeLock&quot;, &quot;WakeLock&quot;);\n                pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n                wakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;FlexRat::Tag&quot;);\n                wakeLock.acquire();\n            }\n\n            Log.i(&quot;Debug&quot;, &quot;Recording Task&quot;);\n            stopRecording();\n            startRecording();\n        }\n    };\n\n    Timer recordingTimer = new Timer();\n    recordingTimer.scheduleAtFixedRate(recordingTask, 0, RECORDING_INTERVAL);\n}\n</code></pre>\n<p>And the startRecording() method is as follows:</p>\n<pre><code>private void startRecording() {\n    Log.i(&quot;Info&quot;, &quot;NEW RECORDING&quot;);\n    try {\n        recorder = new MediaRecorder();\n\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\n\n        Date today = Calendar.getInstance().getTime();\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;, Locale.ENGLISH);\n        String reportDate = formatter.format(today);\n\n        File instanceRecordDirectory = new File(getStoragePath());\n        File instanceRecord = new File(instanceRecordDirectory.getAbsolutePath() + File.separator + reportDate + &quot;.mp4&quot;);\n\n        if (!instanceRecordDirectory.exists()) {\n            instanceRecordDirectory.getParentFile().mkdirs();\n            instanceRecordDirectory.mkdirs();\n        }\n\n        if (!instanceRecord.exists()) {\n            instanceRecord.createNewFile();\n        }\n\n        recorder.setOutputFile(instanceRecord.getAbsolutePath());\n\n        recorder.prepare();\n        recorder.start();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The exception is thrown when i turn off the device, the stacktrace i get is:</p>\n<pre><code>I/MediaRecorderJNI: setAudioSource(1)\nW/System.err: java.lang.RuntimeException: setAudioSource failed.\n        at android.media.MediaRecorder._setAudioSource(Native Method)\n        at android.media.MediaRecorder.setAudioSource(MediaRecorder.java:797)\n        at com.multimedia.flexrat.BackgroundService.startRecording(BackgroundService.java:125)\n        at com.multimedia.flexrat.BackgroundService.access$300(BackgroundService.java:42)\n        at com.multimedia.flexrat.BackgroundService$1.run(BackgroundService.java:70)\n        at java.util.TimerThread.mainLoop(Timer.java:562)\n        at java.util.TimerThread.run(Timer.java:512)\n</code></pre>\n<p>What i want is that the recordingTask keeps running even after the device is locked. I don't care about battery usage at this point. I know it is a pretty heavy thread. I just want it to work for now. Can someone point me in the right direction? I searched all over the web but without results.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"score":0,"creation_date":1635384363,"post_id":69747171,"comment_id":123285913,"body_markdown":"https://stackoverflow.com/questions/29618205/counting-an-occurrence-in-an-array-java","body":"<a href=\"https://stackoverflow.com/questions/29618205/counting-an-occurrence-in-an-array-java\" title=\"counting an occurrence in an array java\">stackoverflow.com/questions/29618205/&hellip;</a>"},{"owner":{"account_id":23063915,"reputation":13,"user_id":17178611,"display_name":"Jake"},"score":0,"creation_date":1635384489,"post_id":69747171,"comment_id":123285932,"body_markdown":"This would be using strings.","body":"This would be using strings."},{"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"score":0,"creation_date":1635384808,"post_id":69747171,"comment_id":123285990,"body_markdown":"same idea. Instead of `==` use `.equals()`","body":"same idea. Instead of <code>==</code> use <code>.equals()</code>"},{"owner":{"account_id":23063915,"reputation":13,"user_id":17178611,"display_name":"Jake"},"score":0,"creation_date":1635385248,"post_id":69747171,"comment_id":123286050,"body_markdown":"I&quot;m confused, I went to this thread and an answer wasn&#39;t marked in the question. \n\nThe strings are stored. I need to be able to store the frequencies into another array. That doesn&#39;t answer my  question. I would need to create another array but I want to be able to  check the string array and update each array entry with the frequency of times the string repeats.","body":"I&quot;m confused, I went to this thread and an answer wasn&#39;t marked in the question.   The strings are stored. I need to be able to store the frequencies into another array. That doesn&#39;t answer my  question. I would need to create another array but I want to be able to  check the string array and update each array entry with the frequency of times the string repeats."}],"answers":[{"tags":[],"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635386599,"creation_date":1635386599,"answer_id":69747427,"question_id":69747171,"body_markdown":"\r\n    int some_method(String[] arr, String word) {\r\n        int count = 0;\r\n        for (int i=0; i&lt;arr.size(); i++) {\r\n            if (arr[i].equals(word)) count++;\r\n        }\r\n        return count;\r\n    }\r\n\r\nThen in main method:\r\n\r\n    String[] array = [&quot;joe&quot;, &quot;jake&quot;, &quot;jim&quot;, &quot;joe&quot;] //or take from user input\r\n\r\n    int[] countArray = new int[array.size()]\r\n\r\n    for (int i=0; i&lt;array.size(); i++) {\r\n        countArray[i] = some_method(array, array[i])    \r\n    }\r\n\r\n    System.out.println(array[0] + &quot; &quot; + countArray[0]);\r\n\r\nOuput:\r\njoe 2","title":"Using an array to input strings, and another one to output word frequency","body":"<pre><code>int some_method(String[] arr, String word) {\n    int count = 0;\n    for (int i=0; i&lt;arr.size(); i++) {\n        if (arr[i].equals(word)) count++;\n    }\n    return count;\n}\n</code></pre>\n<p>Then in main method:</p>\n<pre><code>String[] array = [&quot;joe&quot;, &quot;jake&quot;, &quot;jim&quot;, &quot;joe&quot;] //or take from user input\n\nint[] countArray = new int[array.size()]\n\nfor (int i=0; i&lt;array.size(); i++) {\n    countArray[i] = some_method(array, array[i])    \n}\n\nSystem.out.println(array[0] + &quot; &quot; + countArray[0]);\n</code></pre>\n<p>Ouput:\njoe 2</p>\n"}],"owner":{"account_id":23063915,"reputation":13,"user_id":17178611,"display_name":"Jake"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635394608,"creation_date":1635383672,"question_id":69747171,"body_markdown":"So I am trying to complete this code. The goal is to input an array of strings, then count the frequency of how often the words are found. For example: \r\n\r\ninput:\r\n\r\n```\r\njoe \r\njim \r\njack\r\njim\r\njoe\r\n```\r\noutput:\r\n```\r\njoe 2\r\njim 2\r\njack 1\r\njim 2\r\njoe 2\r\n```\r\nAn array must be chosen for Strings, and another array much be chosen for word frequency. \r\n\r\nMy code so far: \r\n\r\nI am stuck into trying to implement this. The string method is set, but how am I going to count the frequency of words, and also assign those values to an array. Then print both side by side. I do know that once the integer array is set. We can simply do a for loop to print the values together such as. System.out.println(String[i] + &quot; &quot; + countarray[i]);\r\n    \r\n```java\r\npublic class LabClass {\r\n\r\n    public static int getFrequencyOfWord(String[] wordsList, int listSize, String currWord) {\r\n        int freq = 0;\r\n\r\n        for (int i = 0; i &lt; listSize; i++) {\r\n            if (wordsList[i].compareTo(currWord) == 0) {\r\n                freq++;\r\n            }\r\n        }\r\n\r\n        return freq;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        LabClass scall = new LabClass();\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        // assignments \r\n        int listSize = 0;\r\n        System.out.println(&quot;Enter list Amount&quot;);\r\n\r\n        listSize = scnr.nextInt();\r\n        // removing line to allow input of integer\r\n        int size = listSize;   // array length\r\n\r\n        // end of assignments\r\n        String[] wordsList = new String[size];  // string array\r\n\r\n        for (int i = 0; i &lt; wordsList.length; i++) {  //gathers string input\r\n            wordsList[i] = scnr.nextLine();\r\n        }\r\n\r\n        for (int i = 0; i &lt; listSize; i++) {\r\n            String currWord = wordsList[i];\r\n            int freqCount = getFrequencyOfWord(wordsList, listSize, currWord);\r\n            System.out.println(currWord + &quot; &quot; + freqCount);\r\n        }\r\n    }\r\n\r\n}    \r\n```","title":"Using an array to input strings, and another one to output word frequency","body":"<p>So I am trying to complete this code. The goal is to input an array of strings, then count the frequency of how often the words are found. For example:</p>\n<p>input:</p>\n<pre><code>joe \njim \njack\njim\njoe\n</code></pre>\n<p>output:</p>\n<pre><code>joe 2\njim 2\njack 1\njim 2\njoe 2\n</code></pre>\n<p>An array must be chosen for Strings, and another array much be chosen for word frequency.</p>\n<p>My code so far:</p>\n<p>I am stuck into trying to implement this. The string method is set, but how am I going to count the frequency of words, and also assign those values to an array. Then print both side by side. I do know that once the integer array is set. We can simply do a for loop to print the values together such as. System.out.println(String[i] + &quot; &quot; + countarray[i]);</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LabClass {\n\n    public static int getFrequencyOfWord(String[] wordsList, int listSize, String currWord) {\n        int freq = 0;\n\n        for (int i = 0; i &lt; listSize; i++) {\n            if (wordsList[i].compareTo(currWord) == 0) {\n                freq++;\n            }\n        }\n\n        return freq;\n    }\n\n    public static void main(String[] args) {\n        LabClass scall = new LabClass();\n        Scanner scnr = new Scanner(System.in);\n\n        // assignments \n        int listSize = 0;\n        System.out.println(&quot;Enter list Amount&quot;);\n\n        listSize = scnr.nextInt();\n        // removing line to allow input of integer\n        int size = listSize;   // array length\n\n        // end of assignments\n        String[] wordsList = new String[size];  // string array\n\n        for (int i = 0; i &lt; wordsList.length; i++) {  //gathers string input\n            wordsList[i] = scnr.nextLine();\n        }\n\n        for (int i = 0; i &lt; listSize; i++) {\n            String currWord = wordsList[i];\n            int freqCount = getFrequencyOfWord(wordsList, listSize, currWord);\n            System.out.println(currWord + &quot; &quot; + freqCount);\n        }\n    }\n\n}    \n</code></pre>\n"},{"tags":["java","spring","logback"],"answers":[{"tags":[],"owner":{"account_id":16750554,"reputation":81,"user_id":12107798,"display_name":"pranav suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635394591,"creation_date":1635394591,"answer_id":69748255,"question_id":69709354,"body_markdown":"Tried this ?\r\n\r\n    &lt;logger name=&quot;org.springframework.web&quot;&gt;\r\n    &lt;level value=&quot;info&quot; /&gt; \r\n    &lt;appender-ref ref=&quot;console&quot; /&gt;     \r\n    &lt;/logger&gt;\r\n","title":"How to log org.springframework.web.context.ContextLoader with logback","body":"<p>Tried this ?</p>\n<pre><code>&lt;logger name=&quot;org.springframework.web&quot;&gt;\n&lt;level value=&quot;info&quot; /&gt; \n&lt;appender-ref ref=&quot;console&quot; /&gt;     \n&lt;/logger&gt;\n</code></pre>\n"}],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635394591,"creation_date":1635170260,"question_id":69709354,"body_markdown":"I have little problem with logging Spring bootstrap. I cant log org.springframework.web.context.ContextLoader with logback. Can someone give a point how to log Spring boot?\r\n\r\nHere is my logback.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- load props file --&gt;\r\n        &lt;define name=&quot;propExists&quot; class=&quot;ch.qos.logback.core.property.ResourceExistsPropertyDefiner&quot;&gt;\r\n            &lt;resource&gt;META-INF/crdb.prod.properties&lt;/resource&gt;\r\n        &lt;/define&gt;\r\n        &lt;if condition=&#39;${propExists}&#39;&gt;\r\n            &lt;then&gt;&lt;property resource=&quot;META-INF/crdb.prod.properties&quot; /&gt;&lt;/then&gt;\r\n        &lt;/if&gt;\r\n        &lt;define name=&quot;propExists&quot; class=&quot;ch.qos.logback.core.property.ResourceExistsPropertyDefiner&quot;&gt;\r\n            &lt;resource&gt;META-INF/crdb.test.properties&lt;/resource&gt;\r\n        &lt;/define&gt;\r\n        &lt;if condition=&#39;${propExists}&#39;&gt;\r\n            &lt;then&gt;&lt;property resource=&quot;META-INF/crdb.test.properties&quot; /&gt;&lt;/then&gt;\r\n        &lt;/if&gt;\r\n        &lt;define name=&quot;propExists&quot; class=&quot;ch.qos.logback.core.property.ResourceExistsPropertyDefiner&quot;&gt;\r\n            &lt;resource&gt;META-INF/crdb.dev.properties&lt;/resource&gt;\r\n        &lt;/define&gt;\r\n        &lt;if condition=&#39;${propExists}&#39;&gt;\r\n            &lt;then&gt;&lt;property resource=&quot;META-INF/crdb.dev.properties&quot; /&gt;&lt;/then&gt;\r\n        &lt;/if&gt;\r\n    \r\n        &lt;!-- Send debug messages to System.out --&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;!-- By default, encoders are assigned the type ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] [%X{distribute_trace_id}] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;!-- Send debug messages to a file --&gt;\r\n        &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.home}/logs/crdb.log&lt;/file&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;Pattern&gt;%d{yyyy-MM-dd_HH:mm:ss.SSS} [%thread] [%X{distribute_trace_id}] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n                &lt;FileNamePattern&gt;${catalina.home}/logs/crdb.%i.log.zip&lt;/FileNamePattern&gt;\r\n                &lt;MinIndex&gt;1&lt;/MinIndex&gt;\r\n                &lt;MaxIndex&gt;10&lt;/MaxIndex&gt;\r\n            &lt;/rollingPolicy&gt;\r\n    \r\n            &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n                &lt;MaxFileSize&gt;2MB&lt;/MaxFileSize&gt;\r\n            &lt;/triggeringPolicy&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;property name=&quot;APP_VERSION&quot; value=&quot;1.2.1&quot;/&gt;\r\n    \r\n        &lt;!-- max size of the log file, when the log file will be bigger, then will be split --&gt;\r\n        &lt;property name=&quot;LOG_FILE_MAX_SIZE&quot; value=&quot;200MB&quot;/&gt;\r\n        &lt;!-- max size of logs in ALL log files --&gt;\r\n        &lt;property name=&quot;LOG_TOTAL_SIZE_CAP&quot; value=&quot;1GB&quot;/&gt;\r\n        &lt;!-- count of days - files will be persisted for these days --&gt;\r\n        &lt;property name=&quot;LOG_FILE_MAX_HISTORY&quot; value=&quot;3&quot;/&gt;\r\n    \r\n        &lt;!-- Splunk Monitoring Messages --&gt;\r\n        &lt;appender name=&quot;SPLUNK_MONITORING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;file&gt;${catalina.home}/logs/splunk_monitoring/crdb.log&lt;/file&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;Pattern&gt;%msg%n&lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- daily rollover inferred from the file name --&gt;\r\n                &lt;fileNamePattern&gt;${catalina.home}/logs/splunk_monitoring/crdb.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;${LOG_FILE_MAX_SIZE}&lt;/maxFileSize&gt;\r\n                &lt;maxHistory&gt;${LOG_FILE_MAX_HISTORY}&lt;/maxHistory&gt;\r\n                &lt;totalSizeCap&gt;${LOG_TOTAL_SIZE_CAP}&lt;/totalSizeCap&gt;\r\n            &lt;/rollingPolicy&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;SPLUNK_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.home}/logs/splunk/crdb.log&lt;/file&gt;\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n                &lt;version&gt;${APP_VERSION}&lt;/version&gt;\r\n                &lt;timestampPattern&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&lt;/timestampPattern&gt;\r\n                &lt;customFields&gt;{&quot;app_name&quot;:&quot;CRDB&quot;, &quot;env&quot;: &quot;${env.key}&quot;, &quot;hostname&quot;: &quot;${hostname}&quot;}&lt;/customFields&gt;\r\n                &lt;fieldNames&gt;\r\n                    &lt;timestamp&gt;time&lt;/timestamp&gt;\r\n                    &lt;version&gt;app_version&lt;/version&gt;\r\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\r\n                &lt;/fieldNames&gt;\r\n                &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n                    &lt;exclude&gt;net\\.sf\\.cglib\\..*&lt;/exclude&gt;\r\n                    &lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\r\n                    &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n                &lt;/throwableConverter&gt;\r\n            &lt;/encoder&gt;\r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- daily rollover inferred from the file name --&gt;\r\n                &lt;fileNamePattern&gt;${catalina.home}/logs/splunk/crdb.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;${LOG_FILE_MAX_SIZE}&lt;/maxFileSize&gt;\r\n                &lt;maxHistory&gt;${LOG_FILE_MAX_HISTORY}&lt;/maxHistory&gt;\r\n                &lt;totalSizeCap&gt;${LOG_TOTAL_SIZE_CAP}&lt;/totalSizeCap&gt;\r\n            &lt;/rollingPolicy&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;splunk_monitoring&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;SPLUNK_MONITORING&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.web.context.*&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;SPLUNK_FILE&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nWhen I try this configuration, It only write to console, that \r\nlog4j:WARN No appenders could be found for logger (org.springframework.web.context.ContextLoader).\r\nlog4j:WARN Please initialize the log4j system properly. Thank you.","title":"How to log org.springframework.web.context.ContextLoader with logback","body":"<p>I have little problem with logging Spring bootstrap. I cant log org.springframework.web.context.ContextLoader with logback. Can someone give a point how to log Spring boot?</p>\n<p>Here is my logback.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;!-- load props file --&gt;\n    &lt;define name=&quot;propExists&quot; class=&quot;ch.qos.logback.core.property.ResourceExistsPropertyDefiner&quot;&gt;\n        &lt;resource&gt;META-INF/crdb.prod.properties&lt;/resource&gt;\n    &lt;/define&gt;\n    &lt;if condition='${propExists}'&gt;\n        &lt;then&gt;&lt;property resource=&quot;META-INF/crdb.prod.properties&quot; /&gt;&lt;/then&gt;\n    &lt;/if&gt;\n    &lt;define name=&quot;propExists&quot; class=&quot;ch.qos.logback.core.property.ResourceExistsPropertyDefiner&quot;&gt;\n        &lt;resource&gt;META-INF/crdb.test.properties&lt;/resource&gt;\n    &lt;/define&gt;\n    &lt;if condition='${propExists}'&gt;\n        &lt;then&gt;&lt;property resource=&quot;META-INF/crdb.test.properties&quot; /&gt;&lt;/then&gt;\n    &lt;/if&gt;\n    &lt;define name=&quot;propExists&quot; class=&quot;ch.qos.logback.core.property.ResourceExistsPropertyDefiner&quot;&gt;\n        &lt;resource&gt;META-INF/crdb.dev.properties&lt;/resource&gt;\n    &lt;/define&gt;\n    &lt;if condition='${propExists}'&gt;\n        &lt;then&gt;&lt;property resource=&quot;META-INF/crdb.dev.properties&quot; /&gt;&lt;/then&gt;\n    &lt;/if&gt;\n\n    &lt;!-- Send debug messages to System.out --&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;!-- By default, encoders are assigned the type ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] [%X{distribute_trace_id}] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Send debug messages to a file --&gt;\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${catalina.home}/logs/crdb.log&lt;/file&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;Pattern&gt;%d{yyyy-MM-dd_HH:mm:ss.SSS} [%thread] [%X{distribute_trace_id}] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\n            &lt;FileNamePattern&gt;${catalina.home}/logs/crdb.%i.log.zip&lt;/FileNamePattern&gt;\n            &lt;MinIndex&gt;1&lt;/MinIndex&gt;\n            &lt;MaxIndex&gt;10&lt;/MaxIndex&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n            &lt;MaxFileSize&gt;2MB&lt;/MaxFileSize&gt;\n        &lt;/triggeringPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;property name=&quot;APP_VERSION&quot; value=&quot;1.2.1&quot;/&gt;\n\n    &lt;!-- max size of the log file, when the log file will be bigger, then will be split --&gt;\n    &lt;property name=&quot;LOG_FILE_MAX_SIZE&quot; value=&quot;200MB&quot;/&gt;\n    &lt;!-- max size of logs in ALL log files --&gt;\n    &lt;property name=&quot;LOG_TOTAL_SIZE_CAP&quot; value=&quot;1GB&quot;/&gt;\n    &lt;!-- count of days - files will be persisted for these days --&gt;\n    &lt;property name=&quot;LOG_FILE_MAX_HISTORY&quot; value=&quot;3&quot;/&gt;\n\n    &lt;!-- Splunk Monitoring Messages --&gt;\n    &lt;appender name=&quot;SPLUNK_MONITORING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot; additivity=&quot;false&quot;&gt;\n        &lt;file&gt;${catalina.home}/logs/splunk_monitoring/crdb.log&lt;/file&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;Pattern&gt;%msg%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- daily rollover inferred from the file name --&gt;\n            &lt;fileNamePattern&gt;${catalina.home}/logs/splunk_monitoring/crdb.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${LOG_FILE_MAX_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${LOG_FILE_MAX_HISTORY}&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;${LOG_TOTAL_SIZE_CAP}&lt;/totalSizeCap&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;SPLUNK_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${catalina.home}/logs/splunk/crdb.log&lt;/file&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n            &lt;version&gt;${APP_VERSION}&lt;/version&gt;\n            &lt;timestampPattern&gt;yyyy-MM-dd'T'HH:mm:ss.SSS&lt;/timestampPattern&gt;\n            &lt;customFields&gt;{&quot;app_name&quot;:&quot;CRDB&quot;, &quot;env&quot;: &quot;${env.key}&quot;, &quot;hostname&quot;: &quot;${hostname}&quot;}&lt;/customFields&gt;\n            &lt;fieldNames&gt;\n                &lt;timestamp&gt;time&lt;/timestamp&gt;\n                &lt;version&gt;app_version&lt;/version&gt;\n                &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\n            &lt;/fieldNames&gt;\n            &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                &lt;exclude&gt;net\\.sf\\.cglib\\..*&lt;/exclude&gt;\n                &lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\n                &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n            &lt;/throwableConverter&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- daily rollover inferred from the file name --&gt;\n            &lt;fileNamePattern&gt;${catalina.home}/logs/splunk/crdb.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${LOG_FILE_MAX_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${LOG_FILE_MAX_HISTORY}&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;${LOG_TOTAL_SIZE_CAP}&lt;/totalSizeCap&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;splunk_monitoring&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;SPLUNK_MONITORING&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;org.springframework.web.context.*&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;SPLUNK_FILE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>When I try this configuration, It only write to console, that\nlog4j:WARN No appenders could be found for logger (org.springframework.web.context.ContextLoader).\nlog4j:WARN Please initialize the log4j system properly. Thank you.</p>\n"},{"tags":["java","multithreading","synchronized"],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635350752,"creation_date":1635350752,"answer_id":69741993,"question_id":69739704,"body_markdown":"It is unclear what you are trying to synchronize on (ClassA and ObjectB are vague).  In general, you want to synchronize on a single mutex when interacting with a given shared resource.  Create an `Object` to serve as the mutex upon which you synchronize when accessing the internal `mFeature`.\r\n\r\n    public class FeatureService {\r\n      private static Feature mFeature= null; \r\n      private static final Object MUTEX = new Object();\r\n      ...\r\n\r\n      static void setFeature(Feature feature){\r\n        synchronized (MUTEX){\r\n            mFeature = feature;\r\n        }\r\n      }\r\n\r\n      public void useFeature(...){\r\n        synchronized (MUTEX){\r\n            someFunction(mFeature);\r\n        }\r\n      }\r\n    }","title":"Visibility of mutable object under different locks in Java","body":"<p>It is unclear what you are trying to synchronize on (ClassA and ObjectB are vague).  In general, you want to synchronize on a single mutex when interacting with a given shared resource.  Create an <code>Object</code> to serve as the mutex upon which you synchronize when accessing the internal <code>mFeature</code>.</p>\n<pre><code>public class FeatureService {\n  private static Feature mFeature= null; \n  private static final Object MUTEX = new Object();\n  ...\n\n  static void setFeature(Feature feature){\n    synchronized (MUTEX){\n        mFeature = feature;\n    }\n  }\n\n  public void useFeature(...){\n    synchronized (MUTEX){\n        someFunction(mFeature);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635388647,"creation_date":1635388647,"answer_id":69747628,"question_id":69739704,"body_markdown":"The above code is suffering from a data race and hence is broken. You do not have a happens before edge between the write and the read of mfeature because different locks are used. You need to use the same lock instance for both reading and writing.","title":"Visibility of mutable object under different locks in Java","body":"<p>The above code is suffering from a data race and hence is broken. You do not have a happens before edge between the write and the read of mfeature because different locks are used. You need to use the same lock instance for both reading and writing.</p>\n"}],"owner":{"account_id":4765717,"reputation":3,"user_id":3851865,"display_name":"Willy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69747628,"answer_count":2,"score":-1,"last_activity_date":1635394175,"creation_date":1635341725,"question_id":69739704,"body_markdown":"mFeaute is a mutable object.\r\n\r\nI want to know if the change of mFeature in setFeature(Feature feature) is visible to mFeature in useFeature(...) with a different explicit form of synchronized.\r\n\r\nThanks.\r\n\r\n``` \r\npublic class FeatureService {\r\n    private static Feature mFeature= null; \r\n    private final Object MUTEX = new Object();\r\n    ...\r\n\r\n    static void setFeature(Feature feature){\r\n        // doSomething\r\n        synchronized (FeatureService.class){\r\n            mFeature = feature;\r\n            // doSomething\r\n        }\r\n        // doSomething\r\n    }\r\n\r\n    public void useFeature(...){\r\n        // doSomething\r\n        synchronized (MUTEX){\r\n            someFunction(mFeature);\r\n            // doSomething \r\n        }\r\n        // doSomething\r\n    }\r\n}\r\n}\r\n```","title":"Visibility of mutable object under different locks in Java","body":"<p>mFeaute is a mutable object.</p>\n<p>I want to know if the change of mFeature in setFeature(Feature feature) is visible to mFeature in useFeature(...) with a different explicit form of synchronized.</p>\n<p>Thanks.</p>\n<pre><code>public class FeatureService {\n    private static Feature mFeature= null; \n    private final Object MUTEX = new Object();\n    ...\n\n    static void setFeature(Feature feature){\n        // doSomething\n        synchronized (FeatureService.class){\n            mFeature = feature;\n            // doSomething\n        }\n        // doSomething\n    }\n\n    public void useFeature(...){\n        // doSomething\n        synchronized (MUTEX){\n            someFunction(mFeature);\n            // doSomething \n        }\n        // doSomething\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","maven","build"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1327521053,"post_id":9009232,"comment_id":11293769,"body_markdown":"What does the output at the end of the maven build printout ...there are given times which have been used per module that might be a first indication where to start ...A build which pausing and waiting for a keyboard action sounds really strange ...Are you running only mvn clean package / mvn deploy or are you running mvn site ?","body":"What does the output at the end of the maven build printout ...there are given times which have been used per module that might be a first indication where to start ...A build which pausing and waiting for a keyboard action sounds really strange ...Are you running only mvn clean package / mvn deploy or are you running mvn site ?"},{"owner":{"account_id":4855,"reputation":10230,"user_id":7507,"accept_rate":90,"display_name":"noahlz"},"score":0,"creation_date":1327525118,"post_id":9009232,"comment_id":11295286,"body_markdown":"Updated question with a partial answer. Of course it will take 1/2 hour to get the end-of-build printout :-\\","body":"Updated question with a partial answer. Of course it will take 1/2 hour to get the end-of-build printout :-\\"},{"owner":{"account_id":140879,"reputation":2100,"user_id":347500,"display_name":"BenjaminLinus"},"score":0,"creation_date":1327549646,"post_id":9009232,"comment_id":11300714,"body_markdown":"If you run a build from the command line in windows and then accidentally click in the terminal window it will pause the build (at least in my experience). Hitting enter kicks it to continue. Could this be the cause of the pauses?","body":"If you run a build from the command line in windows and then accidentally click in the terminal window it will pause the build (at least in my experience). Hitting enter kicks it to continue. Could this be the cause of the pauses?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1327567923,"post_id":9009232,"comment_id":11303420,"body_markdown":"@noahz you didn&#39;t answer the question: Are you running mvn clean package or mvn site or what did you try ?PMD and Findbugs can sometimes time consuming ?","body":"@noahz you didn&#39;t answer the question: Are you running mvn clean package or mvn site or what did you try ?PMD and Findbugs can sometimes time consuming ?"},{"owner":{"account_id":4855,"reputation":10230,"user_id":7507,"accept_rate":90,"display_name":"noahlz"},"score":0,"creation_date":1327625645,"post_id":9009232,"comment_id":11321840,"body_markdown":"@khmarbaise I edited the question. I&#39;m running mvn clean package.  Of course, if I disable tests, pmd and findbugs, it&#39;s faster, but the build server doesn&#39;t disable these and yet does not take as long.","body":"@khmarbaise I edited the question. I&#39;m running mvn clean package.  Of course, if I disable tests, pmd and findbugs, it&#39;s faster, but the build server doesn&#39;t disable these and yet does not take as long."},{"owner":{"account_id":4855,"reputation":10230,"user_id":7507,"accept_rate":90,"display_name":"noahlz"},"score":0,"creation_date":1327678181,"post_id":9009232,"comment_id":11333317,"body_markdown":"Argh: Timestamps on messages http://jira.codehaus.org/browse/MNG-519","body":"Argh: Timestamps on messages <a href=\"http://jira.codehaus.org/browse/MNG-519\" rel=\"nofollow noreferrer\">jira.codehaus.org/browse/MNG-519</a>"},{"owner":{"account_id":140879,"reputation":2100,"user_id":347500,"display_name":"BenjaminLinus"},"score":1,"creation_date":1327684010,"post_id":9009232,"comment_id":11335678,"body_markdown":"Perhaps it is unit test related? To rule it out try running with -Dmaven.test.skip=true to turn of unit tests. I have seen unit tests open up swing dialogs that hang builds. Also, make sure you are running same version of maven and java on both builds and you are explicitly setting the version on maven plugins in your poms. Also, make sure you are performing the same maven commands on both boxes. I&#39;m running out of ideas.","body":"Perhaps it is unit test related? To rule it out try running with -Dmaven.test.skip=true to turn of unit tests. I have seen unit tests open up swing dialogs that hang builds. Also, make sure you are running same version of maven and java on both builds and you are explicitly setting the version on maven plugins in your poms. Also, make sure you are performing the same maven commands on both boxes. I&#39;m running out of ideas."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1327757986,"post_id":9009232,"comment_id":11348233,"body_markdown":"What kind of machine is your build server and your local machine ? Windows / Unix machine ? My local builds at work are slower than they are on the build server ..? Taken a look on the output: What takes 14 Minutes in your application ? Have you checked a log output via -X ?  And 5 minutes for an assembly looks a little bit strange..? What are you doing there?","body":"What kind of machine is your build server and your local machine ? Windows / Unix machine ? My local builds at work are slower than they are on the build server ..? Taken a look on the output: What takes 14 Minutes in your application ? Have you checked a log output via -X ?  And 5 minutes for an assembly looks a little bit strange..? What are you doing there?"},{"owner":{"account_id":4855,"reputation":10230,"user_id":7507,"accept_rate":90,"display_name":"noahlz"},"score":0,"creation_date":1328290023,"post_id":9009232,"comment_id":11478322,"body_markdown":"My machine is Windows XP, build server is CentOS :(  That said, the build time didn&#39;t used to be so long. It has degraded.","body":"My machine is Windows XP, build server is CentOS :(  That said, the build time didn&#39;t used to be so long. It has degraded."}],"answers":[{"tags":[],"owner":{"account_id":96415,"reputation":1902,"user_id":262067,"display_name":"mkro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1327520901,"creation_date":1327520901,"answer_id":9009259,"question_id":9009232,"body_markdown":"First recommendation is to execute the build locally and watch the console. This should help you to easily identify the plugins that take longest.\r\n\r\nFrom my recollection, PMD and FindBugs can take considerable amount of time to run. Same goes for javadoc on larger projects. The other plugins you mentioned I cannot comment on.\r\n\r\nOf course, Nexus could be an issue if that runs on a slow system, maybe using slow storage.\r\n\r\nAh, just re-read your post: So it happens on local machines mainly. What is the local machine doing? Does it run into low memory situation? Where the pauses occur could also give an indication.","title":"What sort of configuration issues or problems might make Maven Assembly plugin go slowly?","body":"<p>First recommendation is to execute the build locally and watch the console. This should help you to easily identify the plugins that take longest.</p>\n\n<p>From my recollection, PMD and FindBugs can take considerable amount of time to run. Same goes for javadoc on larger projects. The other plugins you mentioned I cannot comment on.</p>\n\n<p>Of course, Nexus could be an issue if that runs on a slow system, maybe using slow storage.</p>\n\n<p>Ah, just re-read your post: So it happens on local machines mainly. What is the local machine doing? Does it run into low memory situation? Where the pauses occur could also give an indication.</p>\n"},{"tags":[],"owner":{"account_id":2188927,"reputation":519,"user_id":1936595,"display_name":"user1936595"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404250477,"creation_date":1404250477,"answer_id":24519615,"question_id":9009232,"body_markdown":"I have encountered the same problem (40 minutes on building the assembly for my project). Probing stacktracke gave out that assembly plugin takes a lot of time computing dependencies (computing! not copying!). Commenting out dependencySet should speed up things greatly, if the assembly plugin is slow because of that for your project.\r\n\r\nWorkaround for maven 3.0.x is to use the goal [dependency:copy-dependencies][1] with appropriate scope before assembly plugin and then use fileSet to include these copied dependencies into the assembly. This solves performance problem at the cost of some disk space. In my case the assembly build takes now few seconds instead of 40 minutes.\r\n\r\nFor maven 3.2.x there is no known workaround so far, since it uses that slow way compute dependencies in more places and build freezes for long time before starting doing anything. This makes maven 3.2.x unsuable for the large projects.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-project-dependencies.html","title":"What sort of configuration issues or problems might make Maven Assembly plugin go slowly?","body":"<p>I have encountered the same problem (40 minutes on building the assembly for my project). Probing stacktracke gave out that assembly plugin takes a lot of time computing dependencies (computing! not copying!). Commenting out dependencySet should speed up things greatly, if the assembly plugin is slow because of that for your project.</p>\n\n<p>Workaround for maven 3.0.x is to use the goal <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-project-dependencies.html\" rel=\"nofollow\">dependency:copy-dependencies</a> with appropriate scope before assembly plugin and then use fileSet to include these copied dependencies into the assembly. This solves performance problem at the cost of some disk space. In my case the assembly build takes now few seconds instead of 40 minutes.</p>\n\n<p>For maven 3.2.x there is no known workaround so far, since it uses that slow way compute dependencies in more places and build freezes for long time before starting doing anything. This makes maven 3.2.x unsuable for the large projects.</p>\n"},{"tags":[],"owner":{"account_id":8818268,"reputation":150,"user_id":6588997,"display_name":"Johannes Tuikkala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635393934,"creation_date":1635393934,"answer_id":69748188,"question_id":9009232,"body_markdown":"For me it got much faster when I upgraded from the assembly plugin from 3.1.0 to 3.2.0 and upgraded my assembly.xml&#39;s &lt;assembly&gt; tag to newer version (was 1.1.2, now 2.1.0):\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t  xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\r\n\r\nI also made my IntelliJ IDEA to fetch those URL contents of the tag.","title":"What sort of configuration issues or problems might make Maven Assembly plugin go slowly?","body":"<p>For me it got much faster when I upgraded from the assembly plugin from 3.1.0 to 3.2.0 and upgraded my assembly.xml's  tag to newer version (was 1.1.2, now 2.1.0):</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\n</code></pre>\n<p>I also made my IntelliJ IDEA to fetch those URL contents of the tag.</p>\n"}],"owner":{"account_id":4855,"reputation":10230,"user_id":7507,"accept_rate":90,"display_name":"noahlz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2002,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9009259,"answer_count":3,"score":2,"last_activity_date":1635393934,"creation_date":1327520727,"question_id":9009232,"body_markdown":"Our multi-module Maven project used to take 4-6 minutes to build. Over the past few months, it has increased to 20+ minutes per build. One symptom is that sometimes the build appears to pause until I hit &amp;lt;enter&amp;gt;.  However, the Maven build still runs fine (6 minutes, no pauses) on our build server.\r\n\r\nThe build command is `mvn clean package -D&lt;profile&gt;`\r\n\r\nSome of our plugins include:\r\n\r\n - PMD \r\n - FindBugs \r\n - Assembly \r\n - Thrift Compiler\r\n - jspc-maven-plugin\r\n - maven-replacer-plugin\r\n\r\nAlso, we have an internal Nexus repository.\r\n\r\n**Update: Build Logs**\r\n\r\nLocal Build: \r\n\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Reactor Summary:\r\n\t[INFO]\r\n\t[INFO] Project Parent ............................. SUCCESS [17.703s]\r\n\t[INFO] Dependencies ............................... SUCCESS [0.109s]\r\n\t[INFO] Thrift Service ............................. SUCCESS [1:51.141s]\r\n\t[INFO] Thrift API Client Sample ................... SUCCESS [14.219s]\r\n\t[INFO] Application ................................ SUCCESS [14:07.984s]\r\n\t[INFO] Webapps Parent ............................. SUCCESS [1.250s]\r\n\t[INFO] Webapp A ................................... SUCCESS [27.547s]\r\n\t[INFO] Webapp B.................................... SUCCESS [20.672s]\r\n\t[INFO] Webapp C ................................... SUCCESS [1:14.656s]\r\n\t[INFO] Assembly ................................... SUCCESS [5:47.219s]\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] BUILD SUCCESS\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Total time: 24:23.234s\r\n\t[INFO] Finished at: Fri Jan 27 10:47:38 EST 2012\r\n\t[INFO] Final Memory: 25M/66M\r\n\t[INFO] ------------------------------------------------------------------------\r\n\r\n\r\nBuild Server (Team City):\r\n\r\n\t[02:16:31]: [INFO] ------------------------------------------------------------------------\r\n\t[02:16:31]: [INFO] Reactor Summary:\r\n\t[02:16:31]: [INFO]\r\n\t[02:16:31]: [INFO] Project Parent ............................. SUCCESS [3.421s]\r\n\t[02:16:31]: [INFO] Dependencies ............................... SUCCESS [3.157s]\r\n\t[02:16:31]: [INFO] Thrift Service ............................. SUCCESS [41.314s]\r\n\t[02:16:31]: [INFO] Thrift API Client Sample ................... SUCCESS [1.220s]\r\n\t[02:16:31]: [INFO] Application ................................ SUCCESS [4:09.617s]\r\n\t[02:16:31]: [INFO] Webapps Parent ............................. SUCCESS [0.323s]\r\n\t[02:16:31]: [INFO] Webapp A ................................... SUCCESS [12.811s]\r\n\t[02:16:31]: [INFO] Webapp B ................................... SUCCESS [16.496s]\r\n\t[02:16:31]: [INFO] Webapp C ................................... SUCCESS [19.011s]\r\n\t[02:16:31]: [INFO] Assembly ................................... SUCCESS [1:45.872s]\r\n\t[02:16:31]: [INFO] ------------------------------------------------------------------------\r\n\t[02:16:31]: [INFO] BUILD SUCCESS\r\n\t[02:16:31]: [INFO] ------------------------------------------------------------------------\r\n\t[02:16:31]: [INFO] Total time: 7:33.655s\r\n\t[02:16:31]: [INFO] Finished at: Wed Jan 25 02:16:31 EST 2012\r\n\t[02:16:31]: [INFO] Final Memory: 42M/317M\r\n\t[02:16:31]: [INFO] ------------------------------------------------------------------------\r\n\r\n**Update 2**\r\n\r\nHere is an empirical analysis of where my build is spending most of its time, using timestamp analysis provided by this bash script: https://gist.github.com/993139\r\n\r\n![Build Times by Task][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/PfPFb.gif\r\n\r\n\r\n\r\nIt seems to me that I could disable FindBugs, PMD and Unit Tests for some builds. But I need the final build output - the Assembly. So let me focus my question - what can make Assembly Plugin run slowly?\r\n\r\n**Update 3**\r\n\r\nAs expected, FindBugs, PMD and unit tests cut the build by over 50%\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary:\r\n    [INFO] \r\n    [INFO] Project Parent .................................... SUCCESS [13.969s]\r\n    [INFO] Dependencies ...................................... SUCCESS [0.094s]\r\n    [INFO] Thrift Service .................................... SUCCESS [47.125s]\r\n    [INFO] Thrift API Client Sample .......................... SUCCESS [11.922s]\r\n    [INFO] Application ....................................... SUCCESS [3:10.922s]\r\n    [INFO] Webapps parent .................................... SUCCESS [0.468s]\r\n    [INFO] Webapp A .......................................... SUCCESS [18.157s]\r\n    [INFO] Webapp B .......................................... SUCCESS [18.437s]\r\n    [INFO] Webapp C .......................................... SUCCESS [1:00.672s]\r\n    [INFO] Assembly .......................................... SUCCESS [3:55.969s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 9:58.609s\r\n    [INFO] Finished at: Mon Feb 06 10:21:01 EST 2012\r\n    [INFO] Final Memory: 24M/59M\r\n    [INFO] ----------------------------------------------------------------------\r\n\r\nI don&#39;t think that Assembly should take 4 minutes.  During the assembly phase, I&#39;m seeing a lot of the following:\r\n\r\n    [INFO] --- maven-assembly-plugin:2.2:single (assembly-full) @ assembly ---\r\n    [INFO] Reading assembly descriptor: C:\\projects\\my-project\\assembly/src/main/assembly/assembly-full.xml\r\n    [INFO] project-2.9.3-SNAPSHOT/config/ already added, skipping\r\n    [INFO] project-2.9.3-SNAPSHOT/config/ already added, skipping\r\n    [INFO] project-2.9.3-SNAPSHOT/ already added, skipping\r\n    [INFO] project-2.9.3-SNAPSHOT/var/ already added, skipping\r\n\r\nRepeated with each assembly artifact.  Could this somehow be the source of the slowness?\r\n","title":"What sort of configuration issues or problems might make Maven Assembly plugin go slowly?","body":"<p>Our multi-module Maven project used to take 4-6 minutes to build. Over the past few months, it has increased to 20+ minutes per build. One symptom is that sometimes the build appears to pause until I hit &lt;enter&gt;.  However, the Maven build still runs fine (6 minutes, no pauses) on our build server.</p>\n\n<p>The build command is <code>mvn clean package -D&lt;profile&gt;</code></p>\n\n<p>Some of our plugins include:</p>\n\n<ul>\n<li>PMD </li>\n<li>FindBugs </li>\n<li>Assembly </li>\n<li>Thrift Compiler</li>\n<li>jspc-maven-plugin</li>\n<li>maven-replacer-plugin</li>\n</ul>\n\n<p>Also, we have an internal Nexus repository.</p>\n\n<p><strong>Update: Build Logs</strong></p>\n\n<p>Local Build: </p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO]\n[INFO] Project Parent ............................. SUCCESS [17.703s]\n[INFO] Dependencies ............................... SUCCESS [0.109s]\n[INFO] Thrift Service ............................. SUCCESS [1:51.141s]\n[INFO] Thrift API Client Sample ................... SUCCESS [14.219s]\n[INFO] Application ................................ SUCCESS [14:07.984s]\n[INFO] Webapps Parent ............................. SUCCESS [1.250s]\n[INFO] Webapp A ................................... SUCCESS [27.547s]\n[INFO] Webapp B.................................... SUCCESS [20.672s]\n[INFO] Webapp C ................................... SUCCESS [1:14.656s]\n[INFO] Assembly ................................... SUCCESS [5:47.219s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 24:23.234s\n[INFO] Finished at: Fri Jan 27 10:47:38 EST 2012\n[INFO] Final Memory: 25M/66M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>Build Server (Team City):</p>\n\n<pre><code>[02:16:31]: [INFO] ------------------------------------------------------------------------\n[02:16:31]: [INFO] Reactor Summary:\n[02:16:31]: [INFO]\n[02:16:31]: [INFO] Project Parent ............................. SUCCESS [3.421s]\n[02:16:31]: [INFO] Dependencies ............................... SUCCESS [3.157s]\n[02:16:31]: [INFO] Thrift Service ............................. SUCCESS [41.314s]\n[02:16:31]: [INFO] Thrift API Client Sample ................... SUCCESS [1.220s]\n[02:16:31]: [INFO] Application ................................ SUCCESS [4:09.617s]\n[02:16:31]: [INFO] Webapps Parent ............................. SUCCESS [0.323s]\n[02:16:31]: [INFO] Webapp A ................................... SUCCESS [12.811s]\n[02:16:31]: [INFO] Webapp B ................................... SUCCESS [16.496s]\n[02:16:31]: [INFO] Webapp C ................................... SUCCESS [19.011s]\n[02:16:31]: [INFO] Assembly ................................... SUCCESS [1:45.872s]\n[02:16:31]: [INFO] ------------------------------------------------------------------------\n[02:16:31]: [INFO] BUILD SUCCESS\n[02:16:31]: [INFO] ------------------------------------------------------------------------\n[02:16:31]: [INFO] Total time: 7:33.655s\n[02:16:31]: [INFO] Finished at: Wed Jan 25 02:16:31 EST 2012\n[02:16:31]: [INFO] Final Memory: 42M/317M\n[02:16:31]: [INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>Here is an empirical analysis of where my build is spending most of its time, using timestamp analysis provided by this bash script: <a href=\"https://gist.github.com/993139\" rel=\"nofollow noreferrer\">https://gist.github.com/993139</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/PfPFb.gif\" alt=\"Build Times by Task\"></p>\n\n<p>It seems to me that I could disable FindBugs, PMD and Unit Tests for some builds. But I need the final build output - the Assembly. So let me focus my question - what can make Assembly Plugin run slowly?</p>\n\n<p><strong>Update 3</strong></p>\n\n<p>As expected, FindBugs, PMD and unit tests cut the build by over 50%</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Project Parent .................................... SUCCESS [13.969s]\n[INFO] Dependencies ...................................... SUCCESS [0.094s]\n[INFO] Thrift Service .................................... SUCCESS [47.125s]\n[INFO] Thrift API Client Sample .......................... SUCCESS [11.922s]\n[INFO] Application ....................................... SUCCESS [3:10.922s]\n[INFO] Webapps parent .................................... SUCCESS [0.468s]\n[INFO] Webapp A .......................................... SUCCESS [18.157s]\n[INFO] Webapp B .......................................... SUCCESS [18.437s]\n[INFO] Webapp C .......................................... SUCCESS [1:00.672s]\n[INFO] Assembly .......................................... SUCCESS [3:55.969s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 9:58.609s\n[INFO] Finished at: Mon Feb 06 10:21:01 EST 2012\n[INFO] Final Memory: 24M/59M\n[INFO] ----------------------------------------------------------------------\n</code></pre>\n\n<p>I don't think that Assembly should take 4 minutes.  During the assembly phase, I'm seeing a lot of the following:</p>\n\n<pre><code>[INFO] --- maven-assembly-plugin:2.2:single (assembly-full) @ assembly ---\n[INFO] Reading assembly descriptor: C:\\projects\\my-project\\assembly/src/main/assembly/assembly-full.xml\n[INFO] project-2.9.3-SNAPSHOT/config/ already added, skipping\n[INFO] project-2.9.3-SNAPSHOT/config/ already added, skipping\n[INFO] project-2.9.3-SNAPSHOT/ already added, skipping\n[INFO] project-2.9.3-SNAPSHOT/var/ already added, skipping\n</code></pre>\n\n<p>Repeated with each assembly artifact.  Could this somehow be the source of the slowness?</p>\n"},{"tags":["java","json","vert.x"],"answers":[{"tags":[],"owner":{"account_id":3140923,"reputation":182,"user_id":2656403,"display_name":"chanrlc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635393408,"creation_date":1635393408,"answer_id":69748127,"question_id":69747761,"body_markdown":" set some values to jsonObject and try the below code, I don&#39;t know what is encodePrettily() function!\r\n\r\n    routingContext.response()\r\n    .putHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n    .end(Json.encodePrettily(jo.encodePrettily());","title":"Making a static final Json object in Java","body":"<p>set some values to jsonObject and try the below code, I don't know what is encodePrettily() function!</p>\n<pre><code>routingContext.response()\n.putHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;)\n.end(Json.encodePrettily(jo.encodePrettily());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635393779,"creation_date":1635393779,"answer_id":69748171,"question_id":69747761,"body_markdown":"**First thing:**\r\n\r\ntime.schedule(st, 0, 500); -&gt; This will only schedule but execute somewhere in future.\r\n\r\nJsonObject jo = st.getJo(); -&gt; Immediately after returning from previous call you are doing get(). The schedule function would not have run till then.\r\n\r\n**Second:**\r\n\r\nIf you are using Vert.x Do not use java Timer. You can use Vertx provided functions\r\n\r\nsetPeriodic() -&gt; To run again and again at scheduled interval.\r\nsetTimer() -&gt; To run once at scheduled interval.","title":"Making a static final Json object in Java","body":"<p><strong>First thing:</strong></p>\n<p>time.schedule(st, 0, 500); -&gt; This will only schedule but execute somewhere in future.</p>\n<p>JsonObject jo = st.getJo(); -&gt; Immediately after returning from previous call you are doing get(). The schedule function would not have run till then.</p>\n<p><strong>Second:</strong></p>\n<p>If you are using Vert.x Do not use java Timer. You can use Vertx provided functions</p>\n<p>setPeriodic() -&gt; To run again and again at scheduled interval.\nsetTimer() -&gt; To run once at scheduled interval.</p>\n"}],"owner":{"display_name":"user17085185"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69748171,"answer_count":2,"score":0,"last_activity_date":1635393779,"creation_date":1635389983,"question_id":69747761,"body_markdown":"I am currently building a Java Vertx application that executes a task periodically.\r\n\r\nThis application is executes a certain logic and is supposed to return a value in a Json format.\r\n\r\nThe logic seems to work and I don&#39;t have a problem getting the desired value in the log, but I have trouble returning that value.\r\n\r\n    public void getNum(RoutingContext context){\r\n\r\n    Timer time = new Timer();\r\n    ScheduledTask st = new ScheduledTask();\r\n    time.schedule(st, 0, 500);\r\n    JsonObject jo = st.getJo();\r\n    if(!jo.toString().equals(&quot;{}&quot;)){\r\n      log.info(&quot;print json&quot; + jo);\r\n      context.response().putHeader(&quot;content-type&quot;, &quot;application/json&quot;).setStatusCode(200).end(jo.encodePrettily());\r\n    }\r\n\r\nAnd the code for scheduled task looks something like this.\r\n\r\n    public class ScheduledTask extends TimerTask {\r\n        JsonObject jo = new JsonObject();\r\n        public void run() {\r\n           \r\n          try {\r\n            //logic\r\n\r\n            jo.put(&quot;file&quot;, split[0]);\r\n            jo.put(&quot;recogTime&quot;, split[1]);\r\n            jo.put(&quot;number&quot;, split[2]);\r\n            log.info(jo.encodePrettily());\r\n          }catch (Exception e){\r\n            e.printStackTrace();\r\n            log.info(&quot;Error.Running.1stCMD&quot;);\r\n          }\r\n        }\r\n\r\n      }\r\n \r\nIf I remove the if statement in my getNum method, it seems to return an empty json, so I am guessing that it is returning the initialized value of jo.\r\n\r\nWould there be a way for me to return the desired value?\r\n\r\nThank you in advance!!\r\n","title":"Making a static final Json object in Java","body":"<p>I am currently building a Java Vertx application that executes a task periodically.</p>\n<p>This application is executes a certain logic and is supposed to return a value in a Json format.</p>\n<p>The logic seems to work and I don't have a problem getting the desired value in the log, but I have trouble returning that value.</p>\n<pre><code>public void getNum(RoutingContext context){\n\nTimer time = new Timer();\nScheduledTask st = new ScheduledTask();\ntime.schedule(st, 0, 500);\nJsonObject jo = st.getJo();\nif(!jo.toString().equals(&quot;{}&quot;)){\n  log.info(&quot;print json&quot; + jo);\n  context.response().putHeader(&quot;content-type&quot;, &quot;application/json&quot;).setStatusCode(200).end(jo.encodePrettily());\n}\n</code></pre>\n<p>And the code for scheduled task looks something like this.</p>\n<pre><code>public class ScheduledTask extends TimerTask {\n    JsonObject jo = new JsonObject();\n    public void run() {\n       \n      try {\n        //logic\n\n        jo.put(&quot;file&quot;, split[0]);\n        jo.put(&quot;recogTime&quot;, split[1]);\n        jo.put(&quot;number&quot;, split[2]);\n        log.info(jo.encodePrettily());\n      }catch (Exception e){\n        e.printStackTrace();\n        log.info(&quot;Error.Running.1stCMD&quot;);\n      }\n    }\n\n  }\n</code></pre>\n<p>If I remove the if statement in my getNum method, it seems to return an empty json, so I am guessing that it is returning the initialized value of jo.</p>\n<p>Would there be a way for me to return the desired value?</p>\n<p>Thank you in advance!!</p>\n"},{"tags":["java","linux","spring","spring-boot"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":4,"creation_date":1635260354,"post_id":69725437,"comment_id":123246419,"body_markdown":"Ctrl + Z doesn&#39;t kill the application but suspend it and put it in background, use Ctrl + C if you want to abort the running application.","body":"Ctrl + Z doesn&#39;t kill the application but suspend it and put it in background, use Ctrl + C if you want to abort the running application."}],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635261891,"creation_date":1635261891,"answer_id":69725870,"question_id":69725437,"body_markdown":"`Ctrl + Z` doesn&#39;t kill the application but suspend it and put it in background, use `Ctrl + C` if you want to abort the running application.","title":"Why after that I quit a Spring Boot application in a Linux shell (by CTRL+Z) a process still listen on the 8080 port? (the port used by my application","body":"<p><code>Ctrl + Z</code> doesn't kill the application but suspend it and put it in background, use <code>Ctrl + C</code> if you want to abort the running application.</p>\n"},{"tags":[],"owner":{"account_id":23136040,"reputation":59,"user_id":17240268,"display_name":"ujjwal dixit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635347070,"creation_date":1635347070,"answer_id":69741079,"question_id":69725437,"body_markdown":"If you are running this\r\n\r\n     mvn spring-boot:run\r\n\r\non some other terminal the process will not stop listening on port if you close your IDE.\r\n\r\nInstead of running    mvn spring-boot:run    you can just run the Main file of the application. After that when you close your application, the port will not listen.\r\n","title":"Why after that I quit a Spring Boot application in a Linux shell (by CTRL+Z) a process still listen on the 8080 port? (the port used by my application","body":"<p>If you are running this</p>\n<pre><code> mvn spring-boot:run\n</code></pre>\n<p>on some other terminal the process will not stop listening on port if you close your IDE.</p>\n<p>Instead of running    mvn spring-boot:run    you can just run the Main file of the application. After that when you close your application, the port will not listen.</p>\n"},{"tags":[],"owner":{"account_id":16750554,"reputation":81,"user_id":12107798,"display_name":"pranav suresh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635393499,"creation_date":1635393499,"answer_id":69748137,"question_id":69725437,"body_markdown":"I do this command in my terminal to clear the process in port 8080. \r\n\r\n    kill `lsof -i -n -P | grep TCP | grep 8080 | tr -s &quot; &quot; &quot;\\n&quot; | sed -n 2p`\r\n\r\nCtrl+C is used to kill a process with signal SIGINT, in other words it is a polite kill .\r\n\r\nCtrl+Z is used to suspend a process by sending it the signal SIGTSTP, which is like a sleep signal, that can be undone and the process can be resumed again.\r\n\r\nHowever when a process is suspended, we can resume it again by fg (resume in foreground) and bg (resume in background) , but I can&#39;t resume a killed process, that is a difference between using Ctrl+C &amp; Ctrl+Z.","title":"Why after that I quit a Spring Boot application in a Linux shell (by CTRL+Z) a process still listen on the 8080 port? (the port used by my application","body":"<p>I do this command in my terminal to clear the process in port 8080.</p>\n<pre><code>kill `lsof -i -n -P | grep TCP | grep 8080 | tr -s &quot; &quot; &quot;\\n&quot; | sed -n 2p`\n</code></pre>\n<p>Ctrl+C is used to kill a process with signal SIGINT, in other words it is a polite kill .</p>\n<p>Ctrl+Z is used to suspend a process by sending it the signal SIGTSTP, which is like a sleep signal, that can be undone and the process can be resumed again.</p>\n<p>However when a process is suspended, we can resume it again by fg (resume in foreground) and bg (resume in background) , but I can't resume a killed process, that is a difference between using Ctrl+C &amp; Ctrl+Z.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69725870,"answer_count":3,"score":0,"last_activity_date":1635393499,"creation_date":1635260224,"question_id":69725437,"body_markdown":"I am working on a Spring Boot application running it on a Linux machine.\r\nIt is a batch application containing **Spring Boot Admin** tool listening on the 8080 port.\r\n\r\nI have the following &quot;problem&quot;: I run it into my shell for the first time using this command:\r\n\r\n    mvn spring-boot:run\r\n\r\nit correctly start and I can access to the **Spring Boot Admin** tool panel at this address **http://localhost:8080/**\r\n\r\nSupse that I stop my batch application execution clicking **CTRL+Z** on my keyboard, so the Spring Boot application is now stopped and I obtain this output message:\r\n\r\n    [1]+  Stopped                 mvn spring-boot:run\r\n\r\n\r\nOk, now if I run again my application by the same start command:\r\n\r\n    mvn spring-boot:run\r\n\r\nnow I am obtaining this error message:\r\n\r\n    Description:\r\n    \r\n    Web server failed to start. Port 8080 was already in use.\r\n    \r\n    Action:\r\n    \r\n    Identify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n\r\nSo if I perform this command to find the process that is listening on port 8080:\r\n\r\n    andrea@ubuntu:~/git/notartel-api-batch$ netstat -ltnp | grep -w &#39;:8080&#39; \r\n    (Not all processes could be identified, non-owned process info\r\n     will not be shown, you would have to be root to see it all.)\r\n    tcp6       2      0 :::8080                 :::*                    LISTEN      16269/java     \r\n\r\nIf now that I killed the previous process I restart again my Spring Boot application it will be started without problem.\r\n\r\nWhy if I quit a Spring Boot application listening on the 8080 port (using CTRL+Z into the Linux shell), this process still listen on this port? I expected that the entire application will be killed and that nothing listen on the port\r\n\r\n\r\n","title":"Why after that I quit a Spring Boot application in a Linux shell (by CTRL+Z) a process still listen on the 8080 port? (the port used by my application","body":"<p>I am working on a Spring Boot application running it on a Linux machine.\nIt is a batch application containing <strong>Spring Boot Admin</strong> tool listening on the 8080 port.</p>\n<p>I have the following &quot;problem&quot;: I run it into my shell for the first time using this command:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>it correctly start and I can access to the <strong>Spring Boot Admin</strong> tool panel at this address <strong>http://localhost:8080/</strong></p>\n<p>Supse that I stop my batch application execution clicking <strong>CTRL+Z</strong> on my keyboard, so the Spring Boot application is now stopped and I obtain this output message:</p>\n<pre><code>[1]+  Stopped                 mvn spring-boot:run\n</code></pre>\n<p>Ok, now if I run again my application by the same start command:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>now I am obtaining this error message:</p>\n<pre><code>Description:\n\nWeb server failed to start. Port 8080 was already in use.\n\nAction:\n\nIdentify and stop the process that's listening on port 8080 or configure this application to listen on another port.\n</code></pre>\n<p>So if I perform this command to find the process that is listening on port 8080:</p>\n<pre><code>andrea@ubuntu:~/git/notartel-api-batch$ netstat -ltnp | grep -w ':8080' \n(Not all processes could be identified, non-owned process info\n will not be shown, you would have to be root to see it all.)\ntcp6       2      0 :::8080                 :::*                    LISTEN      16269/java     \n</code></pre>\n<p>If now that I killed the previous process I restart again my Spring Boot application it will be started without problem.</p>\n<p>Why if I quit a Spring Boot application listening on the 8080 port (using CTRL+Z into the Linux shell), this process still listen on this port? I expected that the entire application will be killed and that nothing listen on the port</p>\n"},{"tags":["java","game-development"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635390014,"post_id":69747717,"comment_id":123286805,"body_markdown":"Consider this.  You have a up-ward delta (energy) and a down-ward delta (gravity).  Over time, the amount of up-ward delta will reduce (due to gravity) until you reach the top of the jump, at which point, the up-ward delta would become negative (and keep decreasing until you either hit the ground or reach terminal velocity).  Now, I&#39;m no physicists, so what I would start with is an initial upward delta and I would have some kind of &quot;drag&quot; delta which would be subtracting from it on each update.  I would also do a range check so the upward delta never went below a &quot;terminal&quot; amount","body":"Consider this.  You have a up-ward delta (energy) and a down-ward delta (gravity).  Over time, the amount of up-ward delta will reduce (due to gravity) until you reach the top of the jump, at which point, the up-ward delta would become negative (and keep decreasing until you either hit the ground or reach terminal velocity).  Now, I&#39;m no physicists, so what I would start with is an initial upward delta and I would have some kind of &quot;drag&quot; delta which would be subtracting from it on each update.  I would also do a range check so the upward delta never went below a &quot;terminal&quot; amount"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635390029,"post_id":69747717,"comment_id":123286810,"body_markdown":"For [example](https://stackoverflow.com/questions/16493809/how-to-make-sprite-jump-in-java/16494178#16494178) and [example](https://stackoverflow.com/questions/66717212/how-can-i-make-my-jump-animation-work-all-at-once/66739586#66739586)","body":"For <a href=\"https://stackoverflow.com/questions/16493809/how-to-make-sprite-jump-in-java/16494178#16494178\">example</a> and <a href=\"https://stackoverflow.com/questions/66717212/how-can-i-make-my-jump-animation-work-all-at-once/66739586#66739586\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635392997,"creation_date":1635392997,"answer_id":69748083,"question_id":69747717,"body_markdown":"A bit of an overly simplified example.  When you press &lt;kbd&gt;Space&lt;/kbd&gt;, the object will begin to fall.  A small amount of &quot;gravity&quot; is continuously added to the vertical delta till either you hit the bottom of the view or it reaches a terminal velocity.\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.geom.Rectangle2D;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private double yDelta = 0;\r\n            private double gravityDelta = 0.01;\r\n            private double terminalVelocity = 4.0;\r\n\r\n            private boolean isFalling = false;\r\n\r\n            private Timer timer;\r\n\r\n            private Rectangle2D player;\r\n\r\n            public TestPane() {\r\n                player = new Rectangle2D.Double(90, 0, 20, 20);\r\n\r\n                getInputMap(WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;start&quot;);\r\n                getActionMap().put(&quot;start&quot;, new AbstractAction() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (isFalling) {\r\n                            return; \r\n                        }\r\n                        yDelta = 0;\r\n                        isFalling = true;\r\n                        player = new Rectangle2D.Double(90, 0, 20, 20);\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected void doNextUpdate() {\r\n                if (isFalling) {\r\n                    yDelta += gravityDelta;\r\n                    if (yDelta &gt; terminalVelocity) {\r\n                        yDelta = terminalVelocity;\r\n                    }\r\n\r\n                    player.setRect(player.getX(), player.getY() + yDelta, player.getWidth(), player.getHeight());\r\n                    if (player.getY() + player.getHeight() &gt; getHeight()) {\r\n                        yDelta = 0;\r\n                        isFalling = false;\r\n                        player.setRect(player.getX(), getHeight() - player.getHeight(), player.getWidth(), player.getHeight());\r\n                    }\r\n                }\r\n\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 400);\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        doNextUpdate();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n                timer = null;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n                g2d.fill(player);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nSome thing to keep in mind.  A positive vertical delta will move you down, a negative one will move you up","title":"How do you make the player fall down and hit the ground?","body":"<p>A bit of an overly simplified example.  When you press <kbd>Space</kbd>, the object will begin to fall.  A small amount of &quot;gravity&quot; is continuously added to the vertical delta till either you hit the bottom of the view or it reaches a terminal velocity.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.geom.Rectangle2D;\nimport javax.swing.AbstractAction;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private double yDelta = 0;\n        private double gravityDelta = 0.01;\n        private double terminalVelocity = 4.0;\n\n        private boolean isFalling = false;\n\n        private Timer timer;\n\n        private Rectangle2D player;\n\n        public TestPane() {\n            player = new Rectangle2D.Double(90, 0, 20, 20);\n\n            getInputMap(WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;start&quot;);\n            getActionMap().put(&quot;start&quot;, new AbstractAction() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (isFalling) {\n                        return; \n                    }\n                    yDelta = 0;\n                    isFalling = true;\n                    player = new Rectangle2D.Double(90, 0, 20, 20);\n                }\n            });\n        }\n\n        protected void doNextUpdate() {\n            if (isFalling) {\n                yDelta += gravityDelta;\n                if (yDelta &gt; terminalVelocity) {\n                    yDelta = terminalVelocity;\n                }\n\n                player.setRect(player.getX(), player.getY() + yDelta, player.getWidth(), player.getHeight());\n                if (player.getY() + player.getHeight() &gt; getHeight()) {\n                    yDelta = 0;\n                    isFalling = false;\n                    player.setRect(player.getX(), getHeight() - player.getHeight(), player.getWidth(), player.getHeight());\n                }\n            }\n\n            repaint();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 400);\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    doNextUpdate();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n            timer = null;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            g2d.fill(player);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Some thing to keep in mind.  A positive vertical delta will move you down, a negative one will move you up</p>\n"}],"owner":{"account_id":23156370,"reputation":11,"user_id":17257569,"display_name":"Athran123_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635392997,"creation_date":1635389532,"question_id":69747717,"body_markdown":"How do you make the Player (Graphics) fall down and hit the border of the window? I do not have the script for the physics but my interpretation of how the code might go is:\r\n```java\r\n\r\n//class ProgramGUI\r\nimport java.awt.*;\r\n\r\npublic void actionPerformed(ActionEvent ae) {\r\n      posX += vlx;\r\n      posY += vly;\r\n}\r\n\r\npublic void paint(Graphics g) {\r\n      Graphics2D player = (Graphics2d) g;\r\n      player.fillRect(posX, posY, sizeX, sizeY)\r\n}\r\n\r\npublic void fallDown() {\r\n       posY = posY--; //is this correct? [^-^]\r\n}\r\n```","title":"How do you make the player fall down and hit the ground?","body":"<p>How do you make the Player (Graphics) fall down and hit the border of the window? I do not have the script for the physics but my interpretation of how the code might go is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n//class ProgramGUI\nimport java.awt.*;\n\npublic void actionPerformed(ActionEvent ae) {\n      posX += vlx;\n      posY += vly;\n}\n\npublic void paint(Graphics g) {\n      Graphics2D player = (Graphics2d) g;\n      player.fillRect(posX, posY, sizeX, sizeY)\n}\n\npublic void fallDown() {\n       posY = posY--; //is this correct? [^-^]\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1635390295,"post_id":69747787,"comment_id":123286847,"body_markdown":"this is error is for some time when you run the app it will automatically gone","body":"this is error is for some time when you run the app it will automatically gone"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1635390409,"post_id":69747787,"comment_id":123286870,"body_markdown":"you don&#39;t have to put your `default_web_client_id` when you adding firebase AUTH dependency it will automatically generate that string","body":"you don&#39;t have to put your <code>default_web_client_id</code> when you adding firebase AUTH dependency it will automatically generate that string"},{"owner":{"account_id":20280101,"reputation":37,"user_id":14874107,"display_name":"caio mendes"},"score":1,"creation_date":1635390441,"post_id":69747787,"comment_id":123286880,"body_markdown":"i thought that and tried to run, i didnt work","body":"i thought that and tried to run, i didnt work"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1635390470,"post_id":69747787,"comment_id":123286886,"body_markdown":"what error occurred can you show your log cat","body":"what error occurred can you show your log cat"},{"owner":{"account_id":20280101,"reputation":37,"user_id":14874107,"display_name":"caio mendes"},"score":1,"creation_date":1635390524,"post_id":69747787,"comment_id":123286894,"body_markdown":"that &quot;values.xml&quot; is the automatically generated xml ;-;","body":"that &quot;values.xml&quot; is the automatically generated xml ;-;"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1635390555,"post_id":69747787,"comment_id":123286898,"body_markdown":"@ciao mendes Yes!","body":"@ciao mendes Yes!"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1635390600,"post_id":69747787,"comment_id":123286906,"body_markdown":"I think your app will not going to crash anywhere. Just androids studio &#39;s IDE will produce that error. You can Ignore that.","body":"I think your app will not going to crash anywhere. Just androids studio &#39;s IDE will produce that error. You can Ignore that."},{"owner":{"account_id":20280101,"reputation":37,"user_id":14874107,"display_name":"caio mendes"},"score":1,"creation_date":1635390809,"post_id":69747787,"comment_id":123286940,"body_markdown":"oh, i couldnt see that, thanks","body":"oh, i couldnt see that, thanks"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1635391055,"post_id":69747787,"comment_id":123286972,"body_markdown":"If my answer is helpful please accept as a answer ✅ and If you think It will help future developers you can Up vote this answer &#128314;","body":"If my answer is helpful please accept as a answer ✅ and If you think It will help future developers you can Up vote this answer 🔺"}],"answers":[{"tags":[],"owner":{"account_id":21059857,"reputation":49,"user_id":15478457,"display_name":"Pranav Purwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635390286,"creation_date":1635390286,"answer_id":69747796,"question_id":69747787,"body_markdown":"you need to put it inside \r\n&gt; /app/src \r\ninstead of \r\n&gt; /app/build folder\r\nelse it won&#39;t work because /app/build folder is a misc folder that contains files that are compiled when you build the apk","title":"i can&#39;t reference a String that exists","body":"<p>you need to put it inside</p>\n<blockquote>\n<p>/app/src\ninstead of\n/app/build folder\nelse it won't work because /app/build folder is a misc folder that contains files that are compiled when you build the apk</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635391979,"creation_date":1635390914,"answer_id":69747854,"question_id":69747787,"body_markdown":"I think your app will not going to crash anywhere. Just Android Studio&#39;s IDE will produce that error. You can ignore that.","title":"i can&#39;t reference a String that exists","body":"<p>I think your app will not going to crash anywhere. Just Android Studio's IDE will produce that error. You can ignore that.</p>\n"},{"tags":[],"owner":{"account_id":16384867,"reputation":249,"user_id":11835023,"display_name":"shrimpcolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635391669,"creation_date":1635391669,"answer_id":69747931,"question_id":69747787,"body_markdown":"I don&#39;t understand that why not put the string into strings.xml? (app/src/main/res/values/strings.xml) or put it into a separate class that contains some constant variables.\r\n\r\nI use a class named `Configs.java` to save these variables. \r\n\r\n```\r\npublic class Configs {\r\n    ... \r\n    public final static String WEB_CLIENT_APP_ID = &quot;XXX&quot;\r\n    ... \r\n}\r\n```\r\n\r\n```\r\nval options = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(Configs.WEB_CLIENT_APP_ID)\r\n                .requestEmail()\r\n                .build()\r\n```\r\n","title":"i can&#39;t reference a String that exists","body":"<p>I don't understand that why not put the string into strings.xml? (app/src/main/res/values/strings.xml) or put it into a separate class that contains some constant variables.</p>\n<p>I use a class named <code>Configs.java</code> to save these variables.</p>\n<pre><code>public class Configs {\n    ... \n    public final static String WEB_CLIENT_APP_ID = &quot;XXX&quot;\n    ... \n}\n</code></pre>\n<pre><code>val options = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(Configs.WEB_CLIENT_APP_ID)\n                .requestEmail()\n                .build()\n</code></pre>\n"}],"owner":{"account_id":20280101,"reputation":37,"user_id":14874107,"display_name":"caio mendes"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69747854,"answer_count":3,"score":1,"last_activity_date":1635391979,"creation_date":1635390189,"question_id":69747787,"body_markdown":"Im trying to run this code:\r\n\r\n    gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                    .requestIdToken(getString(R.string.default_web_client_id))\r\n                    .requestEmail()\r\n                    .build();\r\nbut the `R.string.default_web_client_id` part isnt working (Cannot resolve symbol &#39;default_web_client_id&#39;).\r\n\r\ni know that the &#39;default_web_client_id&#39; string exists, but it isnt at the String XML, its in a generated &#39;values.xml&#39;\r\n\r\n   [![print of the values.xml and the path to it][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aFwpm.png\r\n\r\nam i doing something wrong or it should be working?","title":"i can&#39;t reference a String that exists","body":"<p>Im trying to run this code:</p>\n<pre><code>gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n</code></pre>\n<p>but the <code>R.string.default_web_client_id</code> part isnt working (Cannot resolve symbol 'default_web_client_id').</p>\n<p>i know that the 'default_web_client_id' string exists, but it isnt at the String XML, its in a generated 'values.xml'</p>\n<p><a href=\"https://i.stack.imgur.com/aFwpm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aFwpm.png\" alt=\"print of the values.xml and the path to it\" /></a></p>\n<p>am i doing something wrong or it should be working?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":0,"creation_date":1635373173,"post_id":69746044,"comment_id":123284005,"body_markdown":"What if you remove .antMatchers(&quot;/persons&quot;).permitAll() from you websecurity config?","body":"What if you remove .antMatchers(&quot;/persons&quot;).permitAll() from you websecurity config?"}],"answers":[{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635382384,"creation_date":1635382384,"answer_id":69747046,"question_id":69746044,"body_markdown":"Debug into your `parseJwt(request)` to see how your application extracts the token from the request. The practice for the `access token` is: it&#39;s usually in the `Authorization` header and starts with `Bearer `\r\n\r\n```\r\nRequest headers\r\n\r\nAuthorization: Bearer access-token\r\n```","title":"NullPointerException when getting username from principal","body":"<p>Debug into your <code>parseJwt(request)</code> to see how your application extracts the token from the request. The practice for the <code>access token</code> is: it's usually in the <code>Authorization</code> header and starts with <code>Bearer </code></p>\n<pre><code>Request headers\n\nAuthorization: Bearer access-token\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23153093,"reputation":74,"user_id":17254777,"display_name":"swabih"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635390702,"creation_date":1635390702,"answer_id":69747842,"question_id":69746044,"body_markdown":"try changing the webSecurityConfig like this\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .antMatchers(&quot;/persons/**&quot;).permitAll()\r\n                .antMatchers(&quot;/preferences/**&quot;).permitAll()\r\n                .antMatchers(&quot;/interests/**&quot;).permitAll()\r\n                .antMatchers(&quot;/secretdata/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n","title":"NullPointerException when getting username from principal","body":"<p>try changing the webSecurityConfig like this</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable()\n            .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .antMatchers(&quot;/api/test/**&quot;).permitAll()\n            .antMatchers(&quot;/persons/**&quot;).permitAll()\n            .antMatchers(&quot;/preferences/**&quot;).permitAll()\n            .antMatchers(&quot;/interests/**&quot;).permitAll()\n            .antMatchers(&quot;/secretdata/**&quot;).permitAll()\n            .anyRequest().authenticated();\n\n    http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n"}],"owner":{"account_id":10489282,"reputation":81,"user_id":7731736,"display_name":"gosia koduje"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1635390702,"creation_date":1635372713,"question_id":69746044,"body_markdown":"When I try to get user name on backend\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/persons&quot;)\r\npublic class PersonController {\r\n...\r\n\r\n@PostMapping\r\n    public ResponseEntity&lt;PersonDto&gt; addPerson(@RequestBody PersonDto objectDto, @AuthenticationPrincipal Principal principal){\r\nSystem.out.println(principal.getName());\r\n```\r\n\r\nI got an error\r\n```\r\n2021-10-27 23:30:39.309 ERROR 10744 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n```\r\n\r\nI can see that frontent is sending JWT token (don&#39;t look at &#39;accessToken&#39; I added it manually to header).\r\n```\r\nPOST /persons HTTP/1.1\r\nHost: localhost:8081\r\nConnection: keep-alive\r\nContent-Length: 217\r\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;94&quot;, &quot;Google Chrome&quot;;v=&quot;94&quot;, &quot;;Not A Brand&quot;;v=&quot;99&quot;\r\naccessToken: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJHaWVuZWsiLCJpYXQiOjE2MzUzNjg1MjQsImV4cCI6MTYzNTQ1NDkyNH0.leuqnc-8fHNBVhTmukruom-RudxicWP3ykkMyMiapwY8bBVCFLwlNssXNK-gyo0RHig9d-dg83-QG9LDqVO9VA\r\nsec-ch-ua-mobile: ?0\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36\r\nContent-Type: application/json\r\nAccept: application/json, text/plain, */*\r\nx-access-token: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJHaWVuZWsiLCJpYXQiOjE2MzUzNjg1MjQsImV4cCI6MTYzNTQ1NDkyNH0.leuqnc-8fHNBVhTmukruom-RudxicWP3ykkMyMiapwY8bBVCFLwlNssXNK-gyo0RHig9d-dg83-QG9LDqVO9VA\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\nOrigin: http://localhost:4200\r\nSec-Fetch-Site: same-site\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4200/\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7\r\n```\r\n\r\nWhat is the reason that backend does not see it?\r\n\r\nAttaching Security Config - please let me know if you need more details\r\n```\r\npackage pl.portal.randkowy.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\n\r\n@Configuration\r\n@EnableWebSecurity(debug=true)\r\n@EnableGlobalMethodSecurity(\r\n       // securedEnabled = true,\r\n       // jsr250Enabled = true,\r\n        prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .antMatchers(&quot;/persons&quot;).permitAll()\r\n                .antMatchers(&quot;/persons/**&quot;).permitAll()\r\n                .antMatchers(&quot;/preferences/**&quot;).permitAll()\r\n                .antMatchers(&quot;/interests/**&quot;).permitAll()\r\n                .antMatchers(&quot;/secretdata/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nWhen I am trying to check this way\r\n```\r\n@PostMapping\r\n    public ResponseEntity&lt;PersonDto&gt; addPerson(@RequestBody PersonDto objectDto, Principal principal){\r\n        //zalogowany użytkownik\r\n        Object principal2 = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n        System.out.println(&quot;--------------------------------------*****************&quot;);\r\n        if (principal2 instanceof UserDetailsImpl) {\r\n            String username = ((UserDetailsImpl)principal2).getUsername();\r\n            System.out.println(username);\r\n        } else {\r\n            String username = principal2.toString();\r\n            System.out.println(username);\r\n        }\r\n        System.out.println(&quot;--------------------------------------*****************&quot;);\r\n```\r\n\r\nI got\r\n```\r\n--------------------------------------*****************\r\nanonymousUser\r\n--------------------------------------*****************\r\n```\r\n\r\nWhy Spring Security does not read this token? It is sended to frontend after login procedure, so it should be fine. Spring should get in in header from this x-access-token option?\r\n\r\nEDIT:\r\nI found out during debugging that jwt is null, but why - I can see that request has inside jwt token from frontend?\r\n\r\n[![jwt - null][1]][1]\r\n[![in request, jwt visible][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lsVw7.png\r\n  [2]: https://i.stack.imgur.com/dKgBZ.png","title":"NullPointerException when getting username from principal","body":"<p>When I try to get user name on backend</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/persons&quot;)\npublic class PersonController {\n...\n\n@PostMapping\n    public ResponseEntity&lt;PersonDto&gt; addPerson(@RequestBody PersonDto objectDto, @AuthenticationPrincipal Principal principal){\nSystem.out.println(principal.getName());\n</code></pre>\n<p>I got an error</p>\n<pre><code>2021-10-27 23:30:39.309 ERROR 10744 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n</code></pre>\n<p>I can see that frontent is sending JWT token (don't look at 'accessToken' I added it manually to header).</p>\n<pre><code>POST /persons HTTP/1.1\nHost: localhost:8081\nConnection: keep-alive\nContent-Length: 217\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;94&quot;, &quot;Google Chrome&quot;;v=&quot;94&quot;, &quot;;Not A Brand&quot;;v=&quot;99&quot;\naccessToken: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJHaWVuZWsiLCJpYXQiOjE2MzUzNjg1MjQsImV4cCI6MTYzNTQ1NDkyNH0.leuqnc-8fHNBVhTmukruom-RudxicWP3ykkMyMiapwY8bBVCFLwlNssXNK-gyo0RHig9d-dg83-QG9LDqVO9VA\nsec-ch-ua-mobile: ?0\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36\nContent-Type: application/json\nAccept: application/json, text/plain, */*\nx-access-token: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJHaWVuZWsiLCJpYXQiOjE2MzUzNjg1MjQsImV4cCI6MTYzNTQ1NDkyNH0.leuqnc-8fHNBVhTmukruom-RudxicWP3ykkMyMiapwY8bBVCFLwlNssXNK-gyo0RHig9d-dg83-QG9LDqVO9VA\nsec-ch-ua-platform: &quot;Windows&quot;\nOrigin: http://localhost:4200\nSec-Fetch-Site: same-site\nSec-Fetch-Mode: cors\nSec-Fetch-Dest: empty\nReferer: http://localhost:4200/\nAccept-Encoding: gzip, deflate, br\nAccept-Language: pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7\n</code></pre>\n<p>What is the reason that backend does not see it?</p>\n<p>Attaching Security Config - please let me know if you need more details</p>\n<pre><code>package pl.portal.randkowy.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\n\n@Configuration\n@EnableWebSecurity(debug=true)\n@EnableGlobalMethodSecurity(\n       // securedEnabled = true,\n       // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\n                .antMatchers(&quot;/persons&quot;).permitAll()\n                .antMatchers(&quot;/persons/**&quot;).permitAll()\n                .antMatchers(&quot;/preferences/**&quot;).permitAll()\n                .antMatchers(&quot;/interests/**&quot;).permitAll()\n                .antMatchers(&quot;/secretdata/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n}\n\n</code></pre>\n<p>When I am trying to check this way</p>\n<pre><code>@PostMapping\n    public ResponseEntity&lt;PersonDto&gt; addPerson(@RequestBody PersonDto objectDto, Principal principal){\n        //zalogowany użytkownik\n        Object principal2 = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n        System.out.println(&quot;--------------------------------------*****************&quot;);\n        if (principal2 instanceof UserDetailsImpl) {\n            String username = ((UserDetailsImpl)principal2).getUsername();\n            System.out.println(username);\n        } else {\n            String username = principal2.toString();\n            System.out.println(username);\n        }\n        System.out.println(&quot;--------------------------------------*****************&quot;);\n</code></pre>\n<p>I got</p>\n<pre><code>--------------------------------------*****************\nanonymousUser\n--------------------------------------*****************\n</code></pre>\n<p>Why Spring Security does not read this token? It is sended to frontend after login procedure, so it should be fine. Spring should get in in header from this x-access-token option?</p>\n<p>EDIT:\nI found out during debugging that jwt is null, but why - I can see that request has inside jwt token from frontend?</p>\n<p><a href=\"https://i.stack.imgur.com/lsVw7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lsVw7.png\" alt=\"jwt - null\" /></a>\n<a href=\"https://i.stack.imgur.com/dKgBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKgBZ.png\" alt=\"in request, jwt visible\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-rest"],"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1635375010,"post_id":69746275,"comment_id":123284395,"body_markdown":"@jccampanero can you advise please?","body":"@jccampanero can you advise please?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635375633,"post_id":69746275,"comment_id":123284530,"body_markdown":"To clarify, you would like this code, for instance: `ObjectMapper mapper = new ObjectMapper();  mapper.writeValue(System.out, BusinessCustomersStatus.A);` to produce `{&quot;shortName&quot;: &quot;active&quot;, &quot;fullName&quot;: &quot;Active&quot;}`?","body":"To clarify, you would like this code, for instance: <code>ObjectMapper mapper = new ObjectMapper();  mapper.writeValue(System.out, BusinessCustomersStatus.A);</code> to produce <code>{&quot;shortName&quot;: &quot;active&quot;, &quot;fullName&quot;: &quot;Active&quot;}</code>?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1635379148,"post_id":69746275,"comment_id":123285169,"body_markdown":"Where  I need to put this code?","body":"Where  I need to put this code?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635379207,"post_id":69746275,"comment_id":123285178,"body_markdown":"That&#39;s not code you need to add, I&#39;m just trying to understand how you want your `enum` to look when it is converted to JSON.","body":"That&#39;s not code you need to add, I&#39;m just trying to understand how you want your <code>enum</code> to look when it is converted to JSON."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1635379501,"post_id":69746275,"comment_id":123285216,"body_markdown":"When I get the ENUM data I use this code tp convert it to DTO: `Arrays.stream(TicketStatus.values()).map(g -&gt; new TicketStatusTypesDTO(g.getShortName(), g.getFullName())).collect(Collectors.toList());` This produces: `[{&quot;code&quot;:&quot;new&quot;,&quot;name&quot;:&quot;New&quot;},{&quot;code&quot;:&quot;assigned&quot;,&quot;name&quot;:&quot;Assigned&quot;},{&quot;code&quot;:&quot;in_progress&quot;,&quot;name&quot;:&quot;In-progress&quot;},{&quot;code&quot;:&quot;closed&quot;,&quot;name&quot;:&quot;Closed&quot;}]` So far it&#39;s working fine. Please see the post to see with what payload I get the error when I make POST request.","body":"When I get the ENUM data I use this code tp convert it to DTO: <code>Arrays.stream(TicketStatus.values()).map(g -&gt; new TicketStatusTypesDTO(g.getShortName(), g.getFullName())).collect(Collectors.toList());</code> This produces: <code>[{&quot;code&quot;:&quot;new&quot;,&quot;name&quot;:&quot;New&quot;},{&quot;code&quot;:&quot;assigned&quot;,&quot;name&quot;:&quot;Assi&zwnj;&#8203;gned&quot;},{&quot;code&quot;:&quot;in_p&zwnj;&#8203;rogress&quot;,&quot;name&quot;:&quot;In-&zwnj;&#8203;progress&quot;},{&quot;code&quot;:&quot;&zwnj;&#8203;closed&quot;,&quot;name&quot;:&quot;Clos&zwnj;&#8203;ed&quot;}]</code> So far it&#39;s working fine. Please see the post to see with what payload I get the error when I make POST request."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635379832,"post_id":69746275,"comment_id":123285281,"body_markdown":"So why do you have two `@JsonValue` annotations on your `enum`? If you just have the annotation on `getShortName` it should work.","body":"So why do you have two <code>@JsonValue</code> annotations on your <code>enum</code>? If you just have the annotation on <code>getShortName</code> it should work."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1635380638,"post_id":69746275,"comment_id":123285387,"body_markdown":"The proposal to remove the annotation works but I would like to return the full name. Right now I get for example into JSON `status: &quot;A&quot;`. Is there any solution?","body":"The proposal to remove the annotation works but I would like to return the full name. Right now I get for example into JSON <code>status: &quot;A&quot;</code>. Is there any solution?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635380822,"post_id":69746275,"comment_id":123285421,"body_markdown":"If you leave the annotation on `getFullName`, but remove it from `getShortName` I&#39;d expect you to get &quot;Active&quot;. Is that not what happens? But now I&#39;m confused because your @JsonCreator uses the shortName, not the fullName.","body":"If you leave the annotation on <code>getFullName</code>, but remove it from <code>getShortName</code> I&#39;d expect you to get &quot;Active&quot;. Is that not what happens? But now I&#39;m confused because your @JsonCreator uses the shortName, not the fullName."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1635415422,"post_id":69746275,"comment_id":123294304,"body_markdown":"I am sorry @PeterPenzov, I just see your comment. I am very happy to hear that you were able to solve the problem.","body":"I am sorry @PeterPenzov, I just see your comment. I am very happy to hear that you were able to solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":23153093,"reputation":74,"user_id":17254777,"display_name":"swabih"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635390278,"creation_date":1635390278,"answer_id":69747795,"question_id":69746275,"body_markdown":"it may work if changed like this\r\n\r\n    public String getShortName() {\r\n        return shortName;\r\n    }\r\n\r\n    @JsonValue\r\n    public String getFullName() {\r\n        return fullName;\r\n    }","title":"Multiple &#39;as-value&#39; properties defined","body":"<p>it may work if changed like this</p>\n<pre><code>public String getShortName() {\n    return shortName;\n}\n\n@JsonValue\npublic String getFullName() {\n    return fullName;\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69747795,"answer_count":1,"score":0,"last_activity_date":1635390278,"creation_date":1635374543,"question_id":69746275,"body_markdown":"I want to create a ENUM which holds different statuses for possible database values and use them also to generate possible drop down statuses in FE:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonValue;\r\n    \r\n    public enum BusinessCustomersStatus {\r\n        A(&quot;active&quot;, &quot;Active&quot;),\r\n        O(&quot;onboarding&quot;, &quot;Onboarding&quot;),\r\n        NV(&quot;not_verified&quot;, &quot;Not Verified&quot;),\r\n        V(&quot;verified&quot;, &quot;Verified&quot;),\r\n        S(&quot;suspended&quot;, &quot;Suspended&quot;),\r\n        I(&quot;inactive&quot;, &quot;Inactive&quot;);\r\n    \r\n        private String shortName;\r\n    \r\n        private String fullName;\r\n    \r\n        BusinessCustomersStatus(String shortName, String fullName) {\r\n            this.shortName = shortName;\r\n            this.fullName = fullName;\r\n        }\r\n    \r\n        // Define the status field as the enum representation by using @JsonValue\r\n        @JsonValue\r\n        public String getShortName() {\r\n            return shortName;\r\n        }\r\n    \r\n        @JsonValue\r\n        public String getFullName() {\r\n            return fullName;\r\n        }\r\n    \r\n        // Use the fromStatus method as @JsonCreator\r\n        @JsonCreator\r\n        public static BusinessCustomersStatus fromStatus(String statusText) {\r\n            for (BusinessCustomersStatus status : values()) {\r\n                if (status.getShortName().equalsIgnoreCase(statusText)) {\r\n                    return status;\r\n                }\r\n            }\r\n    \r\n            throw new UnsupportedOperationException(String.format(&quot;Unknown status: &#39;%s&#39;&quot;, statusText));\r\n        }\r\n    }\r\n\r\nFull code:\r\n\r\nhttps://github.com/rcbandit111/Search_specification_POC/blob/main/src/main/java/org/merchant/database/service/businesscustomers/BusinessCustomersStatus.java\r\n\r\nBut when I make a POST request to add a new record I get this error:\r\n\r\n\r\n    21:36:52.033 [http-nio-8000-exec-1] DEBUG HttpEntityMethodProcessor[traceDebug:91] - Writing [org.merchant.dto.tickets.TicketsFullDTO@1c7e1a52]\r\n    21:36:52.034 [http-nio-8000-exec-1] WARN  DefaultHandlerExceptionResolver[logException:207] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Problem with definition of [AnnotedClass org.merchant.database.service.tickets.TicketStatus]: Multiple &#39;as-value&#39; properties defined ([method org.merchant.database.service.tickets.TicketStatus#getFullName()] vs [method org.merchant.database.service.tickets.TicketStatus#getShortName()]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Problem with definition of [AnnotedClass org.merchant.database.service.tickets.BusinessCustomersStatus]: Multiple &#39;as-value&#39; properties defined ([method org.merchant.database.service.tickets.BusinessCustomersStatus#getFullName()] vs [method org.merchant.database.service.tickets.BusinessCustomersStatus#getShortName()]) (through reference chain: org.merchant.dto.tickets.TicketsFullDTO[&quot;status&quot;])]\r\n    21:36:52.034 [http-nio-8000-exec-1] DEBUG OpenEntityManagerInViewInterceptor[afterCompletion:111] - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    21:36:52.034 [http-nio-8000-exec-1] DEBUG DispatcherServlet[logResult:1131] - Completed 500 INTERNAL_SERVER_ERROR\r\n    21:36:52.035 [http-nio-8000-exec-1] DEBUG DispatcherServlet[traceDebug:91] - &quot;ERROR&quot; dispatch for POST &quot;/api/error&quot;, parameters={}\r\n    21:36:52.035 [http-nio-8000-exec-1] DEBUG RequestMappingHandlerMapping[getHandler:522] - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    21:36:52.035 [http-nio-8000-exec-1] DEBUG OpenEntityManagerInViewInterceptor[preHandle:86] - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    21:36:52.036 [http-nio-8000-exec-1] DEBUG HttpEntityMethodProcessor[writeWithMessageConverters:268] - Using &#39;application/json&#39;, given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n    21:36:52.036 [http-nio-8000-exec-1] DEBUG HttpEntityMethodProcessor[traceDebug:91] - Writing [{timestamp=Wed Oct 27 21:36:52 UTC 2021, status=500, error=Internal Server Error, path=/api/manageme (truncated)...]\r\n    21:36:52.036 [http-nio-8000-exec-1] DEBUG OpenEntityManagerInViewInterceptor[afterCompletion:111] - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    21:36:52.037 [http-nio-8000-exec-1] DEBUG DispatcherServlet[logResult:1127] - Exiting from &quot;ERROR&quot; dispatch, status 500\r\n     Multiple &#39;as-value&#39; properties defined ^C22:18:41.117 [SpringApplicationShutdownHook] DEBUG ApplicationAvailabilityBean[onApplicationEvent:77] - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC\r\n\r\nNote that I have changed TicketStatus with BusinessCustomersStatus into the error stack.\r\n\r\nWhen I make a request I send this payload:\r\n\r\n    {&quot;title&quot;:&quot;ascascasc&quot;,&quot;description&quot;:&quot;ascascasc&quot;,&quot;status&quot;:&quot;assigned&quot;,&quot;submitDate&quot;:&quot;2021-10-13T00:00:00.000Z&quot;,&quot;category&quot;:&quot;service&quot;,&quot;severity&quot;:&quot;normal&quot;}\r\n\r\nDo you know how I can solve this issue?\r\n","title":"Multiple &#39;as-value&#39; properties defined","body":"<p>I want to create a ENUM which holds different statuses for possible database values and use them also to generate possible drop down statuses in FE:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonValue;\n\npublic enum BusinessCustomersStatus {\n    A(&quot;active&quot;, &quot;Active&quot;),\n    O(&quot;onboarding&quot;, &quot;Onboarding&quot;),\n    NV(&quot;not_verified&quot;, &quot;Not Verified&quot;),\n    V(&quot;verified&quot;, &quot;Verified&quot;),\n    S(&quot;suspended&quot;, &quot;Suspended&quot;),\n    I(&quot;inactive&quot;, &quot;Inactive&quot;);\n\n    private String shortName;\n\n    private String fullName;\n\n    BusinessCustomersStatus(String shortName, String fullName) {\n        this.shortName = shortName;\n        this.fullName = fullName;\n    }\n\n    // Define the status field as the enum representation by using @JsonValue\n    @JsonValue\n    public String getShortName() {\n        return shortName;\n    }\n\n    @JsonValue\n    public String getFullName() {\n        return fullName;\n    }\n\n    // Use the fromStatus method as @JsonCreator\n    @JsonCreator\n    public static BusinessCustomersStatus fromStatus(String statusText) {\n        for (BusinessCustomersStatus status : values()) {\n            if (status.getShortName().equalsIgnoreCase(statusText)) {\n                return status;\n            }\n        }\n\n        throw new UnsupportedOperationException(String.format(&quot;Unknown status: '%s'&quot;, statusText));\n    }\n}\n</code></pre>\n<p>Full code:</p>\n<p><a href=\"https://github.com/rcbandit111/Search_specification_POC/blob/main/src/main/java/org/merchant/database/service/businesscustomers/BusinessCustomersStatus.java\" rel=\"nofollow noreferrer\">https://github.com/rcbandit111/Search_specification_POC/blob/main/src/main/java/org/merchant/database/service/businesscustomers/BusinessCustomersStatus.java</a></p>\n<p>But when I make a POST request to add a new record I get this error:</p>\n<pre><code>21:36:52.033 [http-nio-8000-exec-1] DEBUG HttpEntityMethodProcessor[traceDebug:91] - Writing [org.merchant.dto.tickets.TicketsFullDTO@1c7e1a52]\n21:36:52.034 [http-nio-8000-exec-1] WARN  DefaultHandlerExceptionResolver[logException:207] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Problem with definition of [AnnotedClass org.merchant.database.service.tickets.TicketStatus]: Multiple 'as-value' properties defined ([method org.merchant.database.service.tickets.TicketStatus#getFullName()] vs [method org.merchant.database.service.tickets.TicketStatus#getShortName()]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Problem with definition of [AnnotedClass org.merchant.database.service.tickets.BusinessCustomersStatus]: Multiple 'as-value' properties defined ([method org.merchant.database.service.tickets.BusinessCustomersStatus#getFullName()] vs [method org.merchant.database.service.tickets.BusinessCustomersStatus#getShortName()]) (through reference chain: org.merchant.dto.tickets.TicketsFullDTO[&quot;status&quot;])]\n21:36:52.034 [http-nio-8000-exec-1] DEBUG OpenEntityManagerInViewInterceptor[afterCompletion:111] - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n21:36:52.034 [http-nio-8000-exec-1] DEBUG DispatcherServlet[logResult:1131] - Completed 500 INTERNAL_SERVER_ERROR\n21:36:52.035 [http-nio-8000-exec-1] DEBUG DispatcherServlet[traceDebug:91] - &quot;ERROR&quot; dispatch for POST &quot;/api/error&quot;, parameters={}\n21:36:52.035 [http-nio-8000-exec-1] DEBUG RequestMappingHandlerMapping[getHandler:522] - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n21:36:52.035 [http-nio-8000-exec-1] DEBUG OpenEntityManagerInViewInterceptor[preHandle:86] - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n21:36:52.036 [http-nio-8000-exec-1] DEBUG HttpEntityMethodProcessor[writeWithMessageConverters:268] - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]\n21:36:52.036 [http-nio-8000-exec-1] DEBUG HttpEntityMethodProcessor[traceDebug:91] - Writing [{timestamp=Wed Oct 27 21:36:52 UTC 2021, status=500, error=Internal Server Error, path=/api/manageme (truncated)...]\n21:36:52.036 [http-nio-8000-exec-1] DEBUG OpenEntityManagerInViewInterceptor[afterCompletion:111] - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n21:36:52.037 [http-nio-8000-exec-1] DEBUG DispatcherServlet[logResult:1127] - Exiting from &quot;ERROR&quot; dispatch, status 500\n Multiple 'as-value' properties defined ^C22:18:41.117 [SpringApplicationShutdownHook] DEBUG ApplicationAvailabilityBean[onApplicationEvent:77] - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC\n</code></pre>\n<p>Note that I have changed TicketStatus with BusinessCustomersStatus into the error stack.</p>\n<p>When I make a request I send this payload:</p>\n<pre><code>{&quot;title&quot;:&quot;ascascasc&quot;,&quot;description&quot;:&quot;ascascasc&quot;,&quot;status&quot;:&quot;assigned&quot;,&quot;submitDate&quot;:&quot;2021-10-13T00:00:00.000Z&quot;,&quot;category&quot;:&quot;service&quot;,&quot;severity&quot;:&quot;normal&quot;}\n</code></pre>\n<p>Do you know how I can solve this issue?</p>\n"},{"tags":["java","loops","integer"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1635394508,"post_id":69747570,"comment_id":123287497,"body_markdown":"The -1 value has to be outside the range 1 - 100 for the while loop to execute at least one time, as others have answered.  You could have used 1000 or -1000 to initialize the int.  A do-while loop would have been easier for human readers of the code to understand but is functionally identical to the while loop with an initial value.  Keep that example in mind when you start writing code.  Make sure it&#39;s easy for a human reader to understand your code.","body":"The -1 value has to be outside the range 1 - 100 for the while loop to execute at least one time, as others have answered.  You could have used 1000 or -1000 to initialize the int.  A do-while loop would have been easier for human readers of the code to understand but is functionally identical to the while loop with an initial value.  Keep that example in mind when you start writing code.  Make sure it&#39;s easy for a human reader to understand your code."}],"answers":[{"tags":[],"owner":{"account_id":16501074,"reputation":222,"user_id":13541158,"display_name":"Karamveer Gahlot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635388741,"creation_date":1635388741,"answer_id":69747640,"question_id":69747570,"body_markdown":"You can initialize the variable guess to any integer. u just need a integer to compare it with the variable number . feel free to replace it with any integer as it re initialized in while loop if it is not equal to variable number . ","title":"Why do I need to assign -1 to an int for a random number guesser in Java","body":"<p>You can initialize the variable guess to any integer. u just need a integer to compare it with the variable number . feel free to replace it with any integer as it re initialized in while loop if it is not equal to variable number .</p>\n"},{"tags":[],"owner":{"account_id":12823593,"reputation":672,"user_id":9277550,"display_name":"Hawkeye5450"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635388968,"creation_date":1635388968,"answer_id":69747664,"question_id":69747570,"body_markdown":"This is simply to guarantee that the loop doesn&#39;t exit on the first time through. The `while` condition is evaluated before the code inside it is. If it had been initialized to 0 and the number had been 0, none of the code inside the `while` would have been executed. Think about with this part of your code\r\n```\r\nint number = (int)(0 * 101) //Math.random() returned 0\r\nint guess = 0;\r\nwhile(guess != number) // while(0 != 0) this is always true so the while loop won&#39;t be executed\r\n```\r\nIt isn&#39;t likely that you will ever have this actually affect your output, it is a possibility, and so rather than check if `number` is 0, `guess` is set to a number that it is guaranteed to execute the while loop at least once. ","title":"Why do I need to assign -1 to an int for a random number guesser in Java","body":"<p>This is simply to guarantee that the loop doesn't exit on the first time through. The <code>while</code> condition is evaluated before the code inside it is. If it had been initialized to 0 and the number had been 0, none of the code inside the <code>while</code> would have been executed. Think about with this part of your code</p>\n<pre><code>int number = (int)(0 * 101) //Math.random() returned 0\nint guess = 0;\nwhile(guess != number) // while(0 != 0) this is always true so the while loop won't be executed\n</code></pre>\n<p>It isn't likely that you will ever have this actually affect your output, it is a possibility, and so rather than check if <code>number</code> is 0, <code>guess</code> is set to a number that it is guaranteed to execute the while loop at least once.</p>\n"},{"tags":[],"owner":{"account_id":23151686,"reputation":26,"user_id":17253583,"display_name":"FAM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635390064,"creation_date":1635390064,"answer_id":69747769,"question_id":69747570,"body_markdown":"You will need a loop to ask the question several times till the answer is correct. In a loop you can test the value of a variable in the beginning of the loop or in the end. If you test in the beginning of the loop, then the variable must have a value, otherwise the program would not compile. So, to start the loop you must give any value that for sure is not the correct answer, for example any negative number or any number greater than 100. ","title":"Why do I need to assign -1 to an int for a random number guesser in Java","body":"<p>You will need a loop to ask the question several times till the answer is correct. In a loop you can test the value of a variable in the beginning of the loop or in the end. If you test in the beginning of the loop, then the variable must have a value, otherwise the program would not compile. So, to start the loop you must give any value that for sure is not the correct answer, for example any negative number or any number greater than 100.</p>\n"}],"owner":{"account_id":23166575,"reputation":15,"user_id":17266411,"display_name":"anthonycrowder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69747664,"answer_count":3,"score":0,"last_activity_date":1635390064,"creation_date":1635388033,"question_id":69747570,"body_markdown":"this is my first question here so I apologize if this has been answered before. I am working through beginner loops in university and am following along my textbook to program a number guesser. The code works, but what I don&#39;t understand is why on line 17 I needed to create an int and give it a value of -1. [Screenshot of code here][1]. Any explanation would be great, thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W9EVS.png","title":"Why do I need to assign -1 to an int for a random number guesser in Java","body":"<p>this is my first question here so I apologize if this has been answered before. I am working through beginner loops in university and am following along my textbook to program a number guesser. The code works, but what I don't understand is why on line 17 I needed to create an int and give it a value of -1. <a href=\"https://i.stack.imgur.com/W9EVS.png\" rel=\"nofollow noreferrer\">Screenshot of code here</a>. Any explanation would be great, thanks!</p>\n"},{"tags":["java","android","onclick","imageview","manifest"],"comments":[{"owner":{"account_id":19912146,"reputation":460,"user_id":14589948,"display_name":"MoonLight"},"score":0,"creation_date":1635357324,"post_id":69743193,"comment_id":123278881,"body_markdown":"Your question is vague, the last speed is ambiguous try to explain it more.","body":"Your question is vague, the last speed is ambiguous try to explain it more."},{"owner":{"account_id":14586615,"reputation":176,"user_id":10535200,"display_name":"Oğuzhan Aslan"},"score":0,"creation_date":1635366623,"post_id":69743193,"comment_id":123282128,"body_markdown":"did you try to compare the views with the &quot;v&quot; paramether, instead of comparing their ids","body":"did you try to compare the views with the &quot;v&quot; paramether, instead of comparing their ids"},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1635389325,"post_id":69743193,"comment_id":123286700,"body_markdown":"The problem is that you are casting ImageButton to ImageView. Change the following line of code:\n\npublic static ImageButton a12,b13,a12a,b13a;","body":"The problem is that you are casting ImageButton to ImageView. Change the following line of code:  public static ImageButton a12,b13,a12a,b13a;"}],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635389503,"creation_date":1635389503,"answer_id":69747711,"question_id":69743193,"body_markdown":"Your code seems okay. Just, casting problem i.e. ImageButton to ImageView.\r\nYour code should be as follows:\r\n\r\n    \r\n    public class DemoActivity extends AppCompatActivity implements View.OnClickListener {\r\n         public static int special;\r\n         public static ImageButton a12, b13, a12a, b13a;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_demo);\r\n\r\n        a12 = findViewById(R.id.young);\r\n        b13 = findViewById(R.id.old);\r\n        a12a = findViewById(R.id.young2);\r\n        b13a = findViewById(R.id.old2);\r\n        a12.setOnClickListener(this);\r\n        b13.setOnClickListener(this);\r\n        a12a.setOnClickListener(this);\r\n        b13a.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        if (v.getId() == R.id.young) {\r\n            a12.setVisibility(View.GONE);\r\n            a12a.setVisibility(View.VISIBLE);\r\n            special = 0;\r\n        } else {\r\n            a12.setVisibility(View.VISIBLE);\r\n            a12a.setVisibility(View.GONE);\r\n        }\r\n        if (v.getId() == R.id.old) {\r\n            b13.setVisibility(View.GONE);\r\n            b13a.setVisibility(View.VISIBLE);\r\n            special = 1;\r\n        } else {\r\n            b13.setVisibility(View.VISIBLE);\r\n            b13a.setVisibility(View.GONE);\r\n        }\r\n      }\r\n    }","title":"Onclick listener not responding to clicks on imageview","body":"<p>Your code seems okay. Just, casting problem i.e. ImageButton to ImageView.\nYour code should be as follows:</p>\n<pre><code>public class DemoActivity extends AppCompatActivity implements View.OnClickListener {\n     public static int special;\n     public static ImageButton a12, b13, a12a, b13a;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_demo);\n\n    a12 = findViewById(R.id.young);\n    b13 = findViewById(R.id.old);\n    a12a = findViewById(R.id.young2);\n    b13a = findViewById(R.id.old2);\n    a12.setOnClickListener(this);\n    b13.setOnClickListener(this);\n    a12a.setOnClickListener(this);\n    b13a.setOnClickListener(this);\n}\n\n@Override\npublic void onClick(View v) {\n    if (v.getId() == R.id.young) {\n        a12.setVisibility(View.GONE);\n        a12a.setVisibility(View.VISIBLE);\n        special = 0;\n    } else {\n        a12.setVisibility(View.VISIBLE);\n        a12a.setVisibility(View.GONE);\n    }\n    if (v.getId() == R.id.old) {\n        b13.setVisibility(View.GONE);\n        b13a.setVisibility(View.VISIBLE);\n        special = 1;\n    } else {\n        b13.setVisibility(View.VISIBLE);\n        b13a.setVisibility(View.GONE);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":13184032,"reputation":11,"user_id":9522623,"display_name":"Nik "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635389503,"creation_date":1635356320,"question_id":69743193,"body_markdown":"I have a problem on getting my imageview button to work onclick. what im trying to do is to make the first image invisible  so that the second one behind it can appear and at the same time define int special based on what image that has been clicked.\r\n\r\n        public class TrainingActivity extends AppCompatActivity implements View.OnClickListener {\r\n        public static int special;\r\n        public static ImageView a12,b13,a12a,b13a;\r\n      \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    ////////////////////////////////////////////////////////////////////////\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.home_page);\r\n            a12 = (ImageView) findViewById(R.id.young);\r\n            b13 = (ImageView) findViewById(R.id.old);\r\n            a12a = (ImageView) findViewById(R.id.young2);\r\n            b13a = (ImageView) findViewById(R.id.old2);\r\n            a12.setOnClickListener(this);\r\n            b13.setOnClickListener(this);\r\n            a12a.setOnClickListener(this);\r\n            b13a.setOnClickListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            if (v.getId() == R.id.young) {\r\n                a12.setVisibility(View.GONE);\r\n                a12a.setVisibility(View.VISIBLE);\r\n                special =0;\r\n            } else {\r\n                a12.setVisibility(View.VISIBLE);\r\n                a12a.setVisibility(View.GONE);\r\n            }\r\n            if (v.getId() == R.id.old) {\r\n                b13.setVisibility(View.GONE);\r\n                b13a.setVisibility(View.VISIBLE);\r\n                special =1;\r\n            } else {\r\n                b13.setVisibility(View.VISIBLE);\r\n                b13a.setVisibility(View.GONE);\r\n            }\r\n        }\r\n\r\n\r\nthis is my main class file. I&#39;ve had already tried this codes in a new project and it works there but somehow doesn&#39;t here.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:background=&quot;@color/gray_color&quot;\r\n        tools:context=&quot;com.codestudioapps.cardioexcercise.WalkandStep.activities.TrainingActivity&quot;&gt;\r\n    \r\n      \r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/young2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;35dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal|left|center_vertical&quot;\r\n            android:src=&quot;@drawable/img_body_surface_area1&quot;\r\n            /&gt;\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/young&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;35dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal|left|center_vertical&quot;\r\n            android:src=&quot;@drawable/img_body_surface_area&quot; /&gt;\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/old2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginRight=&quot;35dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal|right|center_vertical&quot;\r\n            android:src=&quot;@drawable/img_body_fat1&quot;\r\n            /&gt;\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/old&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginRight=&quot;35dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal|right|center_vertical&quot;\r\n            android:src=&quot;@drawable/img_body_fat&quot; /&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd this is the layout. The problem might happen because of my manifest file but im unsure. Does anyone have any ideas?","title":"Onclick listener not responding to clicks on imageview","body":"<p>I have a problem on getting my imageview button to work onclick. what im trying to do is to make the first image invisible  so that the second one behind it can appear and at the same time define int special based on what image that has been clicked.</p>\n<pre><code>    public class TrainingActivity extends AppCompatActivity implements View.OnClickListener {\n    public static int special;\n    public static ImageView a12,b13,a12a,b13a;\n  \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n////////////////////////////////////////////////////////////////////////\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.home_page);\n        a12 = (ImageView) findViewById(R.id.young);\n        b13 = (ImageView) findViewById(R.id.old);\n        a12a = (ImageView) findViewById(R.id.young2);\n        b13a = (ImageView) findViewById(R.id.old2);\n        a12.setOnClickListener(this);\n        b13.setOnClickListener(this);\n        a12a.setOnClickListener(this);\n        b13a.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View v) {\n        if (v.getId() == R.id.young) {\n            a12.setVisibility(View.GONE);\n            a12a.setVisibility(View.VISIBLE);\n            special =0;\n        } else {\n            a12.setVisibility(View.VISIBLE);\n            a12a.setVisibility(View.GONE);\n        }\n        if (v.getId() == R.id.old) {\n            b13.setVisibility(View.GONE);\n            b13a.setVisibility(View.VISIBLE);\n            special =1;\n        } else {\n            b13.setVisibility(View.VISIBLE);\n            b13a.setVisibility(View.GONE);\n        }\n    }\n</code></pre>\n<p>this is my main class file. I've had already tried this codes in a new project and it works there but somehow doesn't here.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:background=&quot;@color/gray_color&quot;\n    tools:context=&quot;com.codestudioapps.cardioexcercise.WalkandStep.activities.TrainingActivity&quot;&gt;\n\n  \n&lt;FrameLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/young2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;35dp&quot;\n        android:layout_gravity=&quot;center_horizontal|left|center_vertical&quot;\n        android:src=&quot;@drawable/img_body_surface_area1&quot;\n        /&gt;\n    &lt;ImageButton\n        android:id=&quot;@+id/young&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;35dp&quot;\n        android:layout_gravity=&quot;center_horizontal|left|center_vertical&quot;\n        android:src=&quot;@drawable/img_body_surface_area&quot; /&gt;\n    &lt;ImageButton\n        android:id=&quot;@+id/old2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginRight=&quot;35dp&quot;\n        android:layout_gravity=&quot;center_horizontal|right|center_vertical&quot;\n        android:src=&quot;@drawable/img_body_fat1&quot;\n        /&gt;\n    &lt;ImageButton\n        android:id=&quot;@+id/old&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginRight=&quot;35dp&quot;\n        android:layout_gravity=&quot;center_horizontal|right|center_vertical&quot;\n        android:src=&quot;@drawable/img_body_fat&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And this is the layout. The problem might happen because of my manifest file but im unsure. Does anyone have any ideas?</p>\n"},{"tags":["java","spring","azure-servicebus-queues"],"answers":[{"tags":[],"owner":{"account_id":23135003,"reputation":121,"user_id":17239360,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635389281,"creation_date":1635389281,"answer_id":69747689,"question_id":69747447,"body_markdown":"Using spring JMS you can do this like it is done [here](https://stackoverflow.com/questions/34063230/adding-dynamic-number-of-listenersspring-jms) \r\nYour config file is like this:\r\n\r\n     @Configuration\r\n     @EnableJms\r\n     public class AppConfig implements JmsListenerConfigurer {\r\n\r\n    @Override\r\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\r\n        List&lt;QueueInformation&gt; queueInformationList = consumersStatic.getQueueInformationList();\r\n        int i = 0;\r\n        for (QueueInformation queueInformation :\r\n                queueInformationList) {\r\n            SimpleJmsListenerEndpoint endpoint = new SimpleJmsListenerEndpoint();\r\n            endpoint.setId(&quot;myJmsEndpoint-&quot; + i++);\r\n            endpoint.setDestination(queueInformation.getMqQueueName());\r\n            endpoint.setMessageListener(message -&gt; {\r\n                logger.debug(&quot;***********************************************receivedMessage:&quot; + message);\r\n            });\r\n            registrar.registerEndpoint(endpoint);\r\n            logger.debug(&quot;registered the endpoint for queue&quot; + queueInformation.getMqQueueName());\r\n       }\r\n     }\r\n\r\nAnother way is using `RabbitListenerConfigurer`. You can get more idea from [here](https://karadenizfaruk28.medium.com/rabbitmq-dynamic-queue-add-and-listen-at-runtime-with-springboot-c7d42f0447c)\r\ncode from this link: \r\nfor rabbitconfig:\r\n\r\n        @Configuration\r\n        public class RabbitMqConfiguration implements RabbitListenerConfigurer {\r\n        @Autowired\r\n        private ConnectionFactory connectionFactory;\r\n        @Bean\r\n        public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\r\n            return new Jackson2JsonMessageConverter();\r\n        }\r\n        @Bean\r\n        public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\r\n            return new MappingJackson2MessageConverter();\r\n        }\r\n        @Bean\r\n        public RabbitTemplate rabbitTemplate() {\r\n            final RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n            rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\r\n            return rabbitTemplate;\r\n        }\r\n        @Bean\r\n        public RabbitAdmin rabbitAdmin() {\r\n            return new RabbitAdmin(connectionFactory);\r\n        }\r\n        @Bean\r\n        public RabbitListenerEndpointRegistry rabbitListenerEndpointRegistry() {\r\n            return new RabbitListenerEndpointRegistry();\r\n        }\r\n        @Bean\r\n        public DefaultMessageHandlerMethodFactory messageHandlerMethodFactory() {\r\n            DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n            factory.setMessageConverter(consumerJackson2MessageConverter());\r\n            return factory;\r\n        }\r\n        @Bean\r\n        public MessageConverter jsonMessageConverter() {\r\n            return new Jackson2JsonMessageConverter();\r\n        }\r\n        @Override\r\n        public void configureRabbitListeners(final RabbitListenerEndpointRegistrar registrar) {\r\n            SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n            factory.setPrefetchCount(1);\r\n            factory.setConsecutiveActiveTrigger(1);\r\n            factory.setConsecutiveIdleTrigger(1);\r\n            factory.setConnectionFactory(connectionFactory);\r\n            registrar.setContainerFactory(factory);\r\n            registrar.setEndpointRegistry(rabbitListenerEndpointRegistry());           \r\n      registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\r\n       }\r\n    }\r\n\r\n\r\nservice you can find [here](https://stackoverflow.com/questions/59639632/how-to-listen-to-a-dynamically-created-queue)","title":"Azure Service Bus queues dynamic Spring","body":"<p>Using spring JMS you can do this like it is done <a href=\"https://stackoverflow.com/questions/34063230/adding-dynamic-number-of-listenersspring-jms\">here</a>\nYour config file is like this:</p>\n<pre><code> @Configuration\n @EnableJms\n public class AppConfig implements JmsListenerConfigurer {\n\n@Override\npublic void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\n    List&lt;QueueInformation&gt; queueInformationList = consumersStatic.getQueueInformationList();\n    int i = 0;\n    for (QueueInformation queueInformation :\n            queueInformationList) {\n        SimpleJmsListenerEndpoint endpoint = new SimpleJmsListenerEndpoint();\n        endpoint.setId(&quot;myJmsEndpoint-&quot; + i++);\n        endpoint.setDestination(queueInformation.getMqQueueName());\n        endpoint.setMessageListener(message -&gt; {\n            logger.debug(&quot;***********************************************receivedMessage:&quot; + message);\n        });\n        registrar.registerEndpoint(endpoint);\n        logger.debug(&quot;registered the endpoint for queue&quot; + queueInformation.getMqQueueName());\n   }\n }\n</code></pre>\n<p>Another way is using <code>RabbitListenerConfigurer</code>. You can get more idea from <a href=\"https://karadenizfaruk28.medium.com/rabbitmq-dynamic-queue-add-and-listen-at-runtime-with-springboot-c7d42f0447c\" rel=\"nofollow noreferrer\">here</a>\ncode from this link:\nfor rabbitconfig:</p>\n<pre><code>    @Configuration\n    public class RabbitMqConfiguration implements RabbitListenerConfigurer {\n    @Autowired\n    private ConnectionFactory connectionFactory;\n    @Bean\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n    @Bean\n    public MappingJackson2MessageConverter consumerJackson2MessageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n    @Bean\n    public RabbitTemplate rabbitTemplate() {\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(producerJackson2MessageConverter());\n        return rabbitTemplate;\n    }\n    @Bean\n    public RabbitAdmin rabbitAdmin() {\n        return new RabbitAdmin(connectionFactory);\n    }\n    @Bean\n    public RabbitListenerEndpointRegistry rabbitListenerEndpointRegistry() {\n        return new RabbitListenerEndpointRegistry();\n    }\n    @Bean\n    public DefaultMessageHandlerMethodFactory messageHandlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n        factory.setMessageConverter(consumerJackson2MessageConverter());\n        return factory;\n    }\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n    @Override\n    public void configureRabbitListeners(final RabbitListenerEndpointRegistrar registrar) {\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n        factory.setPrefetchCount(1);\n        factory.setConsecutiveActiveTrigger(1);\n        factory.setConsecutiveIdleTrigger(1);\n        factory.setConnectionFactory(connectionFactory);\n        registrar.setContainerFactory(factory);\n        registrar.setEndpointRegistry(rabbitListenerEndpointRegistry());           \n  registrar.setMessageHandlerMethodFactory(messageHandlerMethodFactory());\n   }\n}\n</code></pre>\n<p>service you can find <a href=\"https://stackoverflow.com/questions/59639632/how-to-listen-to-a-dynamically-created-queue\">here</a></p>\n"}],"owner":{"account_id":23166298,"reputation":25,"user_id":17266167,"display_name":"gstbia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69747689,"answer_count":1,"score":0,"last_activity_date":1635389281,"creation_date":1635386854,"question_id":69747447,"body_markdown":"I have a challenge to set up a service in SpringBoot, where it will be listening to several queues. I searched a lot and couldn&#39;t find what I was looking for. I have queues, which can grow dynamically.\r\n\r\nExemple: queue-1, queue-2, queue-3...\r\n\r\nWhat could I use in this service to get this service up by listening to these queues dynamically?\r\n\r\n","title":"Azure Service Bus queues dynamic Spring","body":"<p>I have a challenge to set up a service in SpringBoot, where it will be listening to several queues. I searched a lot and couldn't find what I was looking for. I have queues, which can grow dynamically.</p>\n<p>Exemple: queue-1, queue-2, queue-3...</p>\n<p>What could I use in this service to get this service up by listening to these queues dynamically?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1635353746,"post_id":69732410,"comment_id":123277572,"body_markdown":"Your code is very hard to follow as tou are trying to do imperativ coding instead of reactice coding. I cant tell you exactly what is wrong but i can give you some advice. First, do not build a webclient on each call. create your webclients in beans and autowire them in. Divide your code into functions, doing one thing, dont do some things here and then some things there. You get the CSRF token, you extract it, then you pass it downstream. Use either a wrapper object or pass information down using tuples.","body":"Your code is very hard to follow as tou are trying to do imperativ coding instead of reactice coding. I cant tell you exactly what is wrong but i can give you some advice. First, do not build a webclient on each call. create your webclients in beans and autowire them in. Divide your code into functions, doing one thing, dont do some things here and then some things there. You get the CSRF token, you extract it, then you pass it downstream. Use either a wrapper object or pass information down using tuples."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1635353906,"post_id":69732410,"comment_id":123277638,"body_markdown":"Refeain from using Mono&lt;Boolean&gt; either an operation worked and will return a Mono&lt;T&gt; or if not you return a Mono&lt;Void&gt; (using Mono.empty()&gt; or it errored and you return a Mono.error. And lastly, writing custom security is bad practice. There are security standards out there and by not following them you are potentially putting all your data at risk.","body":"Refeain from using Mono&lt;Boolean&gt; either an operation worked and will return a Mono&lt;T&gt; or if not you return a Mono&lt;Void&gt; (using Mono.empty()&gt; or it errored and you return a Mono.error. And lastly, writing custom security is bad practice. There are security standards out there and by not following them you are potentially putting all your data at risk."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1635354042,"post_id":69732410,"comment_id":123277697,"body_markdown":"And you dont subscribe, the consumer subscribes. Which in this case is the calling client. Thats how your code gets executed, you return a producer to the client.","body":"And you dont subscribe, the consumer subscribes. Which in this case is the calling client. Thats how your code gets executed, you return a producer to the client."},{"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"score":0,"creation_date":1635377918,"post_id":69732410,"comment_id":123284962,"body_markdown":"I didn&#39;t use functions too much in the draft to see better how the operations were handled, and you are right about using them. I took your advice on the Webclient, so I created a custom WebClientProvider as a bean that handles that. On the other hand, I appreciate the clarification on the consumer subscribing, not the method itself but the calling client. And last but not least, this piece of security is actually a requirement for a few specific calls (CORS, CSRF protection and spring cloud credentials are configured). Your comments, alongside some extra research, helped me with this issue.","body":"I didn&#39;t use functions too much in the draft to see better how the operations were handled, and you are right about using them. I took your advice on the Webclient, so I created a custom WebClientProvider as a bean that handles that. On the other hand, I appreciate the clarification on the consumer subscribing, not the method itself but the calling client. And last but not least, this piece of security is actually a requirement for a few specific calls (CORS, CSRF protection and spring cloud credentials are configured). Your comments, alongside some extra research, helped me with this issue."}],"answers":[{"tags":[],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635389122,"creation_date":1635379757,"answer_id":69746822,"question_id":69732410,"body_markdown":"So after some research and thanks to @Toerktumlare &#39;s comments, and figured what was happening and what I changed/applied to this.\r\n\r\nSo for the &#39;`onComplete()`&#39; log, it marks the end of a producer of data. So to see the full stack of the operation, I needed to chain each producer with its own log. For example:\r\n\r\n    Mono.just(Boolean.FALSE)\r\n        .log()\r\n        .flatMap(booleanVal -&gt; Mono.just(booleanVal.toString()))\r\n        .log()\r\n        .subscribe(stringVal -&gt; System.out.println(&quot;This is the boolean value &quot; + stringVal));\r\n\r\nThat will produce the trace for the initial producer and the flatMap operation.\r\n\r\nNow, onto the main problem, the issue was within the `getRequestExchange` method:\r\n\r\n    //gets the body as string.\r\n    private static Mono&lt;String&gt; getRequestExchange(WebClient.RequestHeadersSpec&lt;?&gt; securedReq) {\r\n    \r\n            return securedReq.exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(String.class));\r\n        }\r\n\r\nThe problem was hidden in the `bodyToMono` method. According to this site https://medium.com/@jeevjyotsinghchhabda/dont-let-webclient-s-bodytomono-trick-you-645123b3e0a9 , if the response to this request has no body for whatever reason, will not throw any error, but just return a `Mono.empty()`. Since that the flow was not prepared for such a producer, it ended right there.\r\n\r\n In my case, the problem was spring cloud security. I provided the Authorization credential, but not the associated SESSION cookie in the request. So the request returned a 302 (Found) without body. That was the problem (not the reactive flow itself).\r\n\r\nSo, after that, I modified the request, and @Toerktumlare &#39;s comments helped me develop a working solution:\r\n\r\n    //service that returns if certain resource needs authentication or not, or if it&#39;s not even configured\r\n    return accessPointService.getAccessPointAuthorizationRequirement(serverWebExchange.getRequest().getMethod().toString().toUpperCase(), FWKUtils.translateAccessPointPath(serverWebExchange.getRequest().getPath().pathWithinApplication().elements()))\r\n                    //if the response is a Mono Empty, then returns a not acceptable exception\r\n    \t\t\t\t.switchIfEmpty(Mono.defer(() -&gt; throwNotAcceptable(serverWebExchange)))\r\n    \t\t\t\t//takes the boolean value to check if extra auth is needed.\r\n                    .flatMap(isRequired -&gt; validateAuthenticationRequirement(isRequired))\r\n    \t\t\t\t//gets the access token - the extra auth credential\r\n                    .flatMap(isRequired -&gt; getHeaderToken(serverWebExchange))\r\n    \t\t\t\t//from this access generates a WebClient to the specific authentication service - from a webClientProvider to not create too many WebClients.\r\n                    .flatMap(accessToken -&gt; generateAuthenticationRequest(webClientProvider.getInstance(), accessToken))\r\n    \t\t\t\t//gets the CRSF token credential and secures the request (adds it to the header and the cookies)\r\n                    .zipWith(getCredential(webClientProvider.getInstance(), &quot;csrf&quot;), (securedRequest, csrfToken) -&gt; secureAuthenticationRequest(securedRequest, csrfToken, &quot;X-XSRF-TOKEN&quot;, &quot;XSRF-TOKEN&quot;))\r\n                    //gets the SESSION (spring cloud security) token credential and secures the request (adds it to the header and the cookies)\r\n    \t\t\t\t.zipWith(getCredential(webClientProvider.getInstance(), &quot;spring-cloud&quot;), (securedRequest, sessionToken) -&gt; secureAuthenticationRequest(securedRequest, sessionToken, &quot;Authorization&quot;, &quot;SESSION&quot;))\r\n                    //does the request and gets the response\r\n    \t\t\t\t.map(requestBodySpecs -&gt; requestBodySpecs.retrieve())\r\n    \t\t\t\t//from the response, maps it to a specific DTO. The single() clause is to validate that a body is present.\r\n                    .flatMap(clientResponse -&gt; clientResponse.bodyToMono(SecurityCredentialResponseDTO.class).single())\r\n                    //checks the authentication and throws a Unauthorizedstatus if its not valid.\r\n    \t\t\t\t.flatMap(responseDTO -&gt; checkTokenAuthentication(serverWebExchange, responseDTO))\r\n    \t\t\t\t//if an error is present, then throws it \r\n                    .onErrorResume(e -&gt; {\r\n                        if (e instanceof FWKException.GenericException) {\r\n                            throw (FWKException.GenericException) e;\r\n                        }\r\n                        throw (RuntimeException) e;\r\n                    })\r\n    \t\t\t\t//finally, continues the execution if no exception was thrown.\r\n                    .then(webFilterChain.filter(serverWebExchange));\r\n\r\nThere&#39;s a bit more that I implemented in this solution (storing the CSRF and spring-cloud credential to avoid innecesary calls).","title":"Reactive Programming - Webflux Webfilter not behaving properly","body":"<p>So after some research and thanks to @Toerktumlare 's comments, and figured what was happening and what I changed/applied to this.</p>\n<p>So for the '<code>onComplete()</code>' log, it marks the end of a producer of data. So to see the full stack of the operation, I needed to chain each producer with its own log. For example:</p>\n<pre><code>Mono.just(Boolean.FALSE)\n    .log()\n    .flatMap(booleanVal -&gt; Mono.just(booleanVal.toString()))\n    .log()\n    .subscribe(stringVal -&gt; System.out.println(&quot;This is the boolean value &quot; + stringVal));\n</code></pre>\n<p>That will produce the trace for the initial producer and the flatMap operation.</p>\n<p>Now, onto the main problem, the issue was within the <code>getRequestExchange</code> method:</p>\n<pre><code>//gets the body as string.\nprivate static Mono&lt;String&gt; getRequestExchange(WebClient.RequestHeadersSpec&lt;?&gt; securedReq) {\n\n        return securedReq.exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(String.class));\n    }\n</code></pre>\n<p>The problem was hidden in the <code>bodyToMono</code> method. According to this site <a href=\"https://medium.com/@jeevjyotsinghchhabda/dont-let-webclient-s-bodytomono-trick-you-645123b3e0a9\" rel=\"nofollow noreferrer\">https://medium.com/@jeevjyotsinghchhabda/dont-let-webclient-s-bodytomono-trick-you-645123b3e0a9</a> , if the response to this request has no body for whatever reason, will not throw any error, but just return a <code>Mono.empty()</code>. Since that the flow was not prepared for such a producer, it ended right there.</p>\n<p>In my case, the problem was spring cloud security. I provided the Authorization credential, but not the associated SESSION cookie in the request. So the request returned a 302 (Found) without body. That was the problem (not the reactive flow itself).</p>\n<p>So, after that, I modified the request, and @Toerktumlare 's comments helped me develop a working solution:</p>\n<pre><code>//service that returns if certain resource needs authentication or not, or if it's not even configured\nreturn accessPointService.getAccessPointAuthorizationRequirement(serverWebExchange.getRequest().getMethod().toString().toUpperCase(), FWKUtils.translateAccessPointPath(serverWebExchange.getRequest().getPath().pathWithinApplication().elements()))\n                //if the response is a Mono Empty, then returns a not acceptable exception\n                .switchIfEmpty(Mono.defer(() -&gt; throwNotAcceptable(serverWebExchange)))\n                //takes the boolean value to check if extra auth is needed.\n                .flatMap(isRequired -&gt; validateAuthenticationRequirement(isRequired))\n                //gets the access token - the extra auth credential\n                .flatMap(isRequired -&gt; getHeaderToken(serverWebExchange))\n                //from this access generates a WebClient to the specific authentication service - from a webClientProvider to not create too many WebClients.\n                .flatMap(accessToken -&gt; generateAuthenticationRequest(webClientProvider.getInstance(), accessToken))\n                //gets the CRSF token credential and secures the request (adds it to the header and the cookies)\n                .zipWith(getCredential(webClientProvider.getInstance(), &quot;csrf&quot;), (securedRequest, csrfToken) -&gt; secureAuthenticationRequest(securedRequest, csrfToken, &quot;X-XSRF-TOKEN&quot;, &quot;XSRF-TOKEN&quot;))\n                //gets the SESSION (spring cloud security) token credential and secures the request (adds it to the header and the cookies)\n                .zipWith(getCredential(webClientProvider.getInstance(), &quot;spring-cloud&quot;), (securedRequest, sessionToken) -&gt; secureAuthenticationRequest(securedRequest, sessionToken, &quot;Authorization&quot;, &quot;SESSION&quot;))\n                //does the request and gets the response\n                .map(requestBodySpecs -&gt; requestBodySpecs.retrieve())\n                //from the response, maps it to a specific DTO. The single() clause is to validate that a body is present.\n                .flatMap(clientResponse -&gt; clientResponse.bodyToMono(SecurityCredentialResponseDTO.class).single())\n                //checks the authentication and throws a Unauthorizedstatus if its not valid.\n                .flatMap(responseDTO -&gt; checkTokenAuthentication(serverWebExchange, responseDTO))\n                //if an error is present, then throws it \n                .onErrorResume(e -&gt; {\n                    if (e instanceof FWKException.GenericException) {\n                        throw (FWKException.GenericException) e;\n                    }\n                    throw (RuntimeException) e;\n                })\n                //finally, continues the execution if no exception was thrown.\n                .then(webFilterChain.filter(serverWebExchange));\n</code></pre>\n<p>There's a bit more that I implemented in this solution (storing the CSRF and spring-cloud credential to avoid innecesary calls).</p>\n"}],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1875,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69746822,"answer_count":1,"score":0,"last_activity_date":1635389122,"creation_date":1635305393,"question_id":69732410,"body_markdown":"I&#39;m a bit new to reactive programming, and I&#39;m trying to assemble the following: using Java, Springboot 2, Webflux, and reactor core, I want to handle very specific requests that need extra authentication. So I&#39;m implementing a `WebFilter` with a series of steps:\r\n\r\n- Capture the path and the method of the request. Check if the combination exists and needs specific authentication with the `accessPointService.getAccessPointAuthorizationRequirement` method (returns a Mono with a Boolean).\r\n- Since I have CSRF and Spring security configured, I need both csrf token and springsession credentials. I make a GET and a POST request for the credentials.\r\n- Then with the credentials, I simply make a POST request to a service (authcheck) that can do a series of security checks (the service is OK, works fine from Postman and Angular).\r\n- After that, I need to retrieve the body, convert it to String, and inspect it. Right now this does not happen.\r\n\r\nThe filter\r\n\r\n    @Override\r\n        public Mono&lt;Void&gt; filter(final ServerWebExchange serverWebExchange, final WebFilterChain webFilterChain) {\r\n    \r\n            //client for specific requests.\r\n            WebClient webClient = WebClient.builder()\r\n                    .baseUrl(&quot;http://localhost:8080&quot;)\r\n                    .build();\r\n            //get request for the CSRF cookie.\r\n            WebClient.RequestHeadersSpec&lt;?&gt; getRequest = webClient.get()\r\n                    .uri(&quot;/login&quot;);\r\n            //post request for the spring security session cookie.\r\n            WebClient.RequestHeadersSpec&lt;?&gt; postRequest = webClient.post()\r\n                    .uri(&quot;/login&quot;)\r\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n                    .body(BodyInserters.fromFormData(&quot;username&quot;, &quot;username&quot;)\r\n                            .with(&quot;password&quot;, &quot;password&quot;));\r\n                            //services that checks if the given request needs extra authentication\r\n            return accessPointService.getAccessPointAuthorizationRequirement(serverWebExchange.getRequest().getMethod().toString().toUpperCase(), serverWebExchange.getRequest().getPath().toString())\r\n                    .log()\r\n                    //gets the csrf token from the GET request\r\n                    .flatMap(isRequired -&gt; getRequest.exchangeToMono(response -&gt; Mono.just(response.cookies().getFirst(&quot;XSRF-TOKEN&quot;).getValue())))\r\n                    //combines the previous token with the POST request SESSION cookie,\r\n                    //THEN secures the last request with both credentials\r\n                    .zipWith(postRequest.exchangeToMono(resp -&gt; Mono.just(resp.cookies().getFirst(&quot;SESSION&quot;).getValue())),\r\n                            AuthenticationFilter::secureAuthRequest)\r\n                    //gets the exchange from the request and converts the body into a String\r\n                    .flatMap(AuthenticationFilter::getRequestExchange)\r\n                    //code to validate if it&#39;s doing something. Not implemented yet because it never executes.\r\n                    .flatMap(s -&gt; Mono.just(s.equals(&quot;&quot;)))\r\n                    .onErrorResume(e -&gt; {\r\n                        throw (CustomException) e;//breaks the execution\r\n                    })\r\n                    .then(webFilterChain.filter(serverWebExchange));//continues the execution\r\n        }\r\n\r\n\r\nThe `secureAuthRequest` and `getRequestExchange` methods invoked\r\n\r\n    //adds the springsession cookie and csrf cookie to the request\r\n    private static WebClient.RequestHeadersSpec&lt;?&gt; secureAuthRequest(String csrf, String spring) {\r\n    \r\n            WebClient webClient = WebClient.builder()\r\n                    .baseUrl(&quot;http://localhost:8080&quot;)\r\n                    .build();\r\n            WebClient.RequestHeadersSpec&lt;?&gt; request = webClient.post()\r\n                    .uri(&quot;/authcheck&quot;)\r\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n            request.header(&quot;X-XSRF-TOKEN&quot;, csrf);\r\n            request.cookies( cookies -&gt; cookies.add(  &quot;XSRF-TOKEN&quot;, csrf) );\r\n            request.header(&quot;Authorization&quot;, spring);\r\n            return request;\r\n        }\r\n\r\n    //gets the body as string.\r\n    private static Mono&lt;String&gt; getRequestExchange(WebClient.RequestHeadersSpec&lt;?&gt; securedReq) {\r\n    \r\n            return securedReq.exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(String.class));\r\n        }\r\n\r\nHowever, when a request is bound to be authenticated, the log is the following:\r\n\r\n    2021-10-26 23:57:18.760  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | onSubscribe([Synchronous Fuseable] Operators.ScalarSubscription)\r\n    2021-10-26 23:57:18.761  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | request(unbounded)\r\n    2021-10-26 23:57:18.761  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | onNext(true)\r\n    2021-10-26 23:57:18.762  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | onComplete()\r\n\r\nAs far as I know, the stream of data starts with a subscription and a posterior request (which I think returns a TRUE from the `accessPointService.getAccessPointAuthorizationRequirement` method Mono&lt;Boolean&gt; value, if I&#39;m wrong please correct me), but then the &#39;onComplete()&#39; log shows up. I don&#39;t know exactly what the onComplete() log means, since it&#39;s being shown before the execution of the getRequestExchange method (which is invoked). The `Mono.just(s.equals(&quot;&quot;))` piece of code never executes. \r\n\r\nI&#39;ve read a lot about how &#39;nothing happens until you subscribe&#39;, but I still don&#39;t know why the reactive flow is being invoked at all if I never explicitly subscribe to the stream, and neither I know how to implement it, since it only returns a Disposable (I guess I can throw exceptions from within?). Also, I hear about decoupling when multiple subscribers are being invoked, so I tried to  avoid them as possible.\r\n\r\nAny help regarding reactive programming, reactor-core, or the specific flow and how to improve it it&#39;s appreciated.\r\n\r\nCheers.","title":"Reactive Programming - Webflux Webfilter not behaving properly","body":"<p>I'm a bit new to reactive programming, and I'm trying to assemble the following: using Java, Springboot 2, Webflux, and reactor core, I want to handle very specific requests that need extra authentication. So I'm implementing a <code>WebFilter</code> with a series of steps:</p>\n<ul>\n<li>Capture the path and the method of the request. Check if the combination exists and needs specific authentication with the <code>accessPointService.getAccessPointAuthorizationRequirement</code> method (returns a Mono with a Boolean).</li>\n<li>Since I have CSRF and Spring security configured, I need both csrf token and springsession credentials. I make a GET and a POST request for the credentials.</li>\n<li>Then with the credentials, I simply make a POST request to a service (authcheck) that can do a series of security checks (the service is OK, works fine from Postman and Angular).</li>\n<li>After that, I need to retrieve the body, convert it to String, and inspect it. Right now this does not happen.</li>\n</ul>\n<p>The filter</p>\n<pre><code>@Override\n    public Mono&lt;Void&gt; filter(final ServerWebExchange serverWebExchange, final WebFilterChain webFilterChain) {\n\n        //client for specific requests.\n        WebClient webClient = WebClient.builder()\n                .baseUrl(&quot;http://localhost:8080&quot;)\n                .build();\n        //get request for the CSRF cookie.\n        WebClient.RequestHeadersSpec&lt;?&gt; getRequest = webClient.get()\n                .uri(&quot;/login&quot;);\n        //post request for the spring security session cookie.\n        WebClient.RequestHeadersSpec&lt;?&gt; postRequest = webClient.post()\n                .uri(&quot;/login&quot;)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n                .body(BodyInserters.fromFormData(&quot;username&quot;, &quot;username&quot;)\n                        .with(&quot;password&quot;, &quot;password&quot;));\n                        //services that checks if the given request needs extra authentication\n        return accessPointService.getAccessPointAuthorizationRequirement(serverWebExchange.getRequest().getMethod().toString().toUpperCase(), serverWebExchange.getRequest().getPath().toString())\n                .log()\n                //gets the csrf token from the GET request\n                .flatMap(isRequired -&gt; getRequest.exchangeToMono(response -&gt; Mono.just(response.cookies().getFirst(&quot;XSRF-TOKEN&quot;).getValue())))\n                //combines the previous token with the POST request SESSION cookie,\n                //THEN secures the last request with both credentials\n                .zipWith(postRequest.exchangeToMono(resp -&gt; Mono.just(resp.cookies().getFirst(&quot;SESSION&quot;).getValue())),\n                        AuthenticationFilter::secureAuthRequest)\n                //gets the exchange from the request and converts the body into a String\n                .flatMap(AuthenticationFilter::getRequestExchange)\n                //code to validate if it's doing something. Not implemented yet because it never executes.\n                .flatMap(s -&gt; Mono.just(s.equals(&quot;&quot;)))\n                .onErrorResume(e -&gt; {\n                    throw (CustomException) e;//breaks the execution\n                })\n                .then(webFilterChain.filter(serverWebExchange));//continues the execution\n    }\n</code></pre>\n<p>The <code>secureAuthRequest</code> and <code>getRequestExchange</code> methods invoked</p>\n<pre><code>//adds the springsession cookie and csrf cookie to the request\nprivate static WebClient.RequestHeadersSpec&lt;?&gt; secureAuthRequest(String csrf, String spring) {\n\n        WebClient webClient = WebClient.builder()\n                .baseUrl(&quot;http://localhost:8080&quot;)\n                .build();\n        WebClient.RequestHeadersSpec&lt;?&gt; request = webClient.post()\n                .uri(&quot;/authcheck&quot;)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n        request.header(&quot;X-XSRF-TOKEN&quot;, csrf);\n        request.cookies( cookies -&gt; cookies.add(  &quot;XSRF-TOKEN&quot;, csrf) );\n        request.header(&quot;Authorization&quot;, spring);\n        return request;\n    }\n\n//gets the body as string.\nprivate static Mono&lt;String&gt; getRequestExchange(WebClient.RequestHeadersSpec&lt;?&gt; securedReq) {\n\n        return securedReq.exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(String.class));\n    }\n</code></pre>\n<p>However, when a request is bound to be authenticated, the log is the following:</p>\n<pre><code>2021-10-26 23:57:18.760  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | onSubscribe([Synchronous Fuseable] Operators.ScalarSubscription)\n2021-10-26 23:57:18.761  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | request(unbounded)\n2021-10-26 23:57:18.761  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | onNext(true)\n2021-10-26 23:57:18.762  INFO 6860 --- [ctor-http-nio-4] reactor.Mono.Just.4                      : | onComplete()\n</code></pre>\n<p>As far as I know, the stream of data starts with a subscription and a posterior request (which I think returns a TRUE from the <code>accessPointService.getAccessPointAuthorizationRequirement</code> method Mono value, if I'm wrong please correct me), but then the 'onComplete()' log shows up. I don't know exactly what the onComplete() log means, since it's being shown before the execution of the getRequestExchange method (which is invoked). The <code>Mono.just(s.equals(&quot;&quot;))</code> piece of code never executes.</p>\n<p>I've read a lot about how 'nothing happens until you subscribe', but I still don't know why the reactive flow is being invoked at all if I never explicitly subscribe to the stream, and neither I know how to implement it, since it only returns a Disposable (I guess I can throw exceptions from within?). Also, I hear about decoupling when multiple subscribers are being invoked, so I tried to  avoid them as possible.</p>\n<p>Any help regarding reactive programming, reactor-core, or the specific flow and how to improve it it's appreciated.</p>\n<p>Cheers.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1635385897,"post_id":69747337,"comment_id":123286157,"body_markdown":"You can write `this.methodName()` to call another method within the same class. You can also make use of [return value](https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html)","body":"You can write <code>this.methodName()</code> to call another method within the same class. You can also make use of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html\" rel=\"nofollow noreferrer\">return value</a>"}],"answers":[{"tags":[],"owner":{"account_id":15841771,"reputation":21,"user_id":11430069,"display_name":"Guilherme Rodriguero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635387280,"creation_date":1635387280,"answer_id":69747489,"question_id":69747337,"body_markdown":"What do you mean by &quot;Method 1&quot; and &quot;Method 2&quot;? Can you be more specific?\r\n\r\nAnyway, if you want to get values from a method, you have to make sure that it is not a void method.\r\n","title":"How to pass information in-between methods?","body":"<p>What do you mean by &quot;Method 1&quot; and &quot;Method 2&quot;? Can you be more specific?</p>\n<p>Anyway, if you want to get values from a method, you have to make sure that it is not a void method.</p>\n"},{"tags":[],"owner":{"account_id":23151686,"reputation":26,"user_id":17253583,"display_name":"FAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635388817,"creation_date":1635388817,"answer_id":69747649,"question_id":69747337,"body_markdown":"2 ways:\\\r\n1- Method1 must return a value that is going to be used by method2. Then method2 invokes method1 and uses the returned value.\\\r\n2- Using a field in the class where the methods belong to store the computed value by method1. Then method2 may use the value of that field. If the only purpose of the field is to store the computed value by method1, the field should be declared private.","title":"How to pass information in-between methods?","body":"<p>2 ways:<br />\n1- Method1 must return a value that is going to be used by method2. Then method2 invokes method1 and uses the returned value.<br />\n2- Using a field in the class where the methods belong to store the computed value by method1. Then method2 may use the value of that field. If the only purpose of the field is to store the computed value by method1, the field should be declared private.</p>\n"}],"owner":{"account_id":23166247,"reputation":3,"user_id":17266125,"display_name":"yikes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69747649,"answer_count":2,"score":0,"last_activity_date":1635388817,"creation_date":1635385588,"question_id":69747337,"body_markdown":"I&#39;m trying to declare the values of variables using **method 1**, and then take that information from method1 to calculate a variable in **method 2**.\r\n\r\nhow exactly would I go about doing so?\r\nScanners are being used to evaluate arguments.  \r\n\r\n    public class StockB {\r\n        public String coName;\r\n        public int sharesOwned;\r\n        public double costPerShare; \r\n        public int numShares;\r\n        public double stockPrice;\r\n        public double allShareValue;\r\n        public double sharesSold;\r\n      \r\n        public void thisStock(int numShares, double costPerShare, int sharesOwned) {\r\n            stockPrice = sharesOwned * costPerShare;\r\n            allShareValue = numShares * costPerShare;\r\n            \r\n            System.out.println(&quot;Cost per-share: &quot; + costPerShare);\r\n            System.out.println(&quot;Stock price: &quot; + stockPrice);\r\n            System.out.println(&quot;All Share Total: &quot; + allShareValue);\r\n        }\r\n        \r\n        public void sellStock(int numShares,int sharesSold) {         \r\n            sharesOwned = sharesOwned - sharesSold;\r\n            System.out.println(sharesOwned);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to pass information in-between methods?","body":"<p>I'm trying to declare the values of variables using <strong>method 1</strong>, and then take that information from method1 to calculate a variable in <strong>method 2</strong>.</p>\n<p>how exactly would I go about doing so?\nScanners are being used to evaluate arguments.</p>\n<pre><code>public class StockB {\n    public String coName;\n    public int sharesOwned;\n    public double costPerShare; \n    public int numShares;\n    public double stockPrice;\n    public double allShareValue;\n    public double sharesSold;\n  \n    public void thisStock(int numShares, double costPerShare, int sharesOwned) {\n        stockPrice = sharesOwned * costPerShare;\n        allShareValue = numShares * costPerShare;\n        \n        System.out.println(&quot;Cost per-share: &quot; + costPerShare);\n        System.out.println(&quot;Stock price: &quot; + stockPrice);\n        System.out.println(&quot;All Share Total: &quot; + allShareValue);\n    }\n    \n    public void sellStock(int numShares,int sharesSold) {         \n        sharesOwned = sharesOwned - sharesSold;\n        System.out.println(sharesOwned);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","locking","in-memory"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1635360101,"post_id":69743845,"comment_id":123279928,"body_markdown":"Use https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html","body":"Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635388399,"creation_date":1635386436,"answer_id":69747412,"question_id":69743845,"body_markdown":"I&#39;m sure they are not looking for this answer. But if the internal state of &#39;resources&#39; can be represented as a single variable and you make the variable volatile, then the requirements are implemented.\r\n\r\n    class Resources{\r\n      private volatile int a;\r\n      \r\n      public int read(){return a;}\r\n    \r\n      public void write(int a){this.a=a;}\r\n    }\r\n\r\n \r\n\r\nModern processors make use some kind of MESI (MODIFIED, EXCLUSIVE, SHARED, INVALID) based cache coherence protocol. A parallel write isn&#39;t possible because only 1 CPU at a time will have the cache line containing the variable in EXCLUSIVE/MODIFIED state. If there are no writers, then multiple reading CPUs can have the cache line in SHARED state. \r\n\r\nIf they are doubting my answer, then you can send them a link to the following book which they can download for free:\r\n\r\nhttps://www.morganclaypool.com/doi/abs/10.2200/S00962ED2V01Y201910CAC049\r\n\r\nI guess they are looking for answer Burak Serder already has given in a comment to your post but a readwritelock is more complex to use and much slower compared to a volatile variable. Also the above implementation is non blocking; so no matter if a thread gets suspended, other threads can still make progress which is not the case with a lock based implementation like a read/write lock.\r\n\r\n","title":"Implement Class with Read and Write method","body":"<p>I'm sure they are not looking for this answer. But if the internal state of 'resources' can be represented as a single variable and you make the variable volatile, then the requirements are implemented.</p>\n<pre><code>class Resources{\n  private volatile int a;\n  \n  public int read(){return a;}\n\n  public void write(int a){this.a=a;}\n}\n</code></pre>\n<p>Modern processors make use some kind of MESI (MODIFIED, EXCLUSIVE, SHARED, INVALID) based cache coherence protocol. A parallel write isn't possible because only 1 CPU at a time will have the cache line containing the variable in EXCLUSIVE/MODIFIED state. If there are no writers, then multiple reading CPUs can have the cache line in SHARED state.</p>\n<p>If they are doubting my answer, then you can send them a link to the following book which they can download for free:</p>\n<p><a href=\"https://www.morganclaypool.com/doi/abs/10.2200/S00962ED2V01Y201910CAC049\" rel=\"nofollow noreferrer\">https://www.morganclaypool.com/doi/abs/10.2200/S00962ED2V01Y201910CAC049</a></p>\n<p>I guess they are looking for answer Burak Serder already has given in a comment to your post but a readwritelock is more complex to use and much slower compared to a volatile variable. Also the above implementation is non blocking; so no matter if a thread gets suspended, other threads can still make progress which is not the case with a lock based implementation like a read/write lock.</p>\n"}],"owner":{"account_id":3782124,"reputation":1,"user_id":3141255,"display_name":"rshubh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635388399,"creation_date":1635359781,"question_id":69743845,"body_markdown":"I got one interview question:\r\n\r\nImplement one class (named as Resources) is having two methods.\r\n\r\n```\r\npublic class Resources {\r\n   Read()\r\n   Write()\r\n}\r\n```\r\nWe have to implement this class with following constraint.\r\n\r\n1. parallel Read() call is possible.\r\n\r\n2. parallel Write() call is not possible.\r\n\r\n3. parallel Read() and Write() is not possible\r\n\r\nI am trying to figure out, how can we implement the locking for these methods. So that for one class object, we can fulfill mentioned constraints.\r\n\r\nAny lead would be helpful.","title":"Implement Class with Read and Write method","body":"<p>I got one interview question:</p>\n<p>Implement one class (named as Resources) is having two methods.</p>\n<pre><code>public class Resources {\n   Read()\n   Write()\n}\n</code></pre>\n<p>We have to implement this class with following constraint.</p>\n<ol>\n<li><p>parallel Read() call is possible.</p>\n</li>\n<li><p>parallel Write() call is not possible.</p>\n</li>\n<li><p>parallel Read() and Write() is not possible</p>\n</li>\n</ol>\n<p>I am trying to figure out, how can we implement the locking for these methods. So that for one class object, we can fulfill mentioned constraints.</p>\n<p>Any lead would be helpful.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":6793120,"reputation":2129,"user_id":5229463,"display_name":"Vidyesh Churi"},"score":0,"creation_date":1635071524,"post_id":69695528,"comment_id":123192427,"body_markdown":"I will suggest you use RecyclerView with ConstraintLayout or lazyColumn with jetpack compose.","body":"I will suggest you use RecyclerView with ConstraintLayout or lazyColumn with jetpack compose."},{"owner":{"account_id":23009956,"reputation":91,"user_id":17132617,"display_name":"CarlJade"},"score":0,"creation_date":1635072090,"post_id":69695528,"comment_id":123192547,"body_markdown":"@Vidyesh Churi Thanks for your response, but is there any way just using GridView? since I already used GridView","body":"@Vidyesh Churi Thanks for your response, but is there any way just using GridView? since I already used GridView"},{"owner":{"account_id":6793120,"reputation":2129,"user_id":5229463,"display_name":"Vidyesh Churi"},"score":0,"creation_date":1635073065,"post_id":69695528,"comment_id":123192742,"body_markdown":"Maybe two imageViews with one linearLayout will do the job with the weight distribution of 1:1:2 respectively.","body":"Maybe two imageViews with one linearLayout will do the job with the weight distribution of 1:1:2 respectively."},{"owner":{"account_id":23009956,"reputation":91,"user_id":17132617,"display_name":"CarlJade"},"score":0,"creation_date":1635080054,"post_id":69695528,"comment_id":123194110,"body_markdown":"@Vidyesh Churi Thanks for the response but I don&#39;t have idea how to implement it , please","body":"@Vidyesh Churi Thanks for the response but I don&#39;t have idea how to implement it , please"}],"answers":[{"tags":[],"owner":{"account_id":10163497,"reputation":319,"user_id":9358737,"display_name":"Rupesh Rathore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635169748,"creation_date":1635169748,"answer_id":69709219,"question_id":69695528,"body_markdown":"    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgFood&quot;\r\n        android:layout_width=&quot;110dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        app:srcCompat=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgId&quot;\r\n        android:layout_width=&quot;110dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        app:srcCompat=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtCcText&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Cash Card no.&quot;\r\n            android:text=&quot;Cash Card number:&quot;\r\n            android:textColor=&quot;@color/colorPrimary&quot;\r\n            android:textSize=&quot;13sp&quot;\r\n            android:textStyle=&quot;bold|italic&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtName&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;1234-5678-9000-0000&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;10sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtHHno&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Household number:&quot;\r\n            android:textColor=&quot;@color/colorPrimary&quot;\r\n            android:textSize=&quot;13sp&quot;\r\n            android:textStyle=&quot;bold|italic&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtPrice&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;123-4567&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;10sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtSeries&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Series number:&quot;\r\n            android:textColor=&quot;@color/colorPrimary&quot;\r\n            android:textSize=&quot;13sp&quot;\r\n            android:textStyle=&quot;bold|italic&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtSeriesNumber&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;1234567890&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;10sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n","title":"Proper margin layout in Android Studio","body":"<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/imgFood&quot;\n    android:layout_width=&quot;110dp&quot;\n    android:layout_height=&quot;100dp&quot;\n    android:layout_margin=&quot;8dp&quot;\n    android:scaleType=&quot;centerCrop&quot;\n    app:srcCompat=&quot;@mipmap/ic_launcher&quot; /&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/imgId&quot;\n    android:layout_width=&quot;110dp&quot;\n    android:layout_height=&quot;100dp&quot;\n    android:layout_margin=&quot;8dp&quot;\n    android:scaleType=&quot;centerCrop&quot;\n    app:srcCompat=&quot;@mipmap/ic_launcher&quot; /&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtCcText&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Cash Card no.&quot;\n        android:text=&quot;Cash Card number:&quot;\n        android:textColor=&quot;@color/colorPrimary&quot;\n        android:textSize=&quot;13sp&quot;\n        android:textStyle=&quot;bold|italic&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtName&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;1234-5678-9000-0000&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;10sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtHHno&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Household number:&quot;\n        android:textColor=&quot;@color/colorPrimary&quot;\n        android:textSize=&quot;13sp&quot;\n        android:textStyle=&quot;bold|italic&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtPrice&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;123-4567&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;10sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtSeries&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Series number:&quot;\n        android:textColor=&quot;@color/colorPrimary&quot;\n        android:textSize=&quot;13sp&quot;\n        android:textStyle=&quot;bold|italic&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtSeriesNumber&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;1234567890&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;10sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n"}],"owner":{"account_id":23009956,"reputation":91,"user_id":17132617,"display_name":"CarlJade"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69709219,"answer_count":1,"score":0,"last_activity_date":1635386923,"creation_date":1635068478,"question_id":69695528,"body_markdown":"I&#39;m confused if my code is right or not, for now when I run my app under android version 10 it works well, this is the result I want and it works fine when I run [![Result][1]][1]\r\n\r\n but the problem is I don&#39;t think if I run this app to the other version of android it will work or I think the design of `textviews` and ImageView will be scattered since when I&#39;ve tried to view the design of the XML it looks like this [![ViewInAndroidStudio][2]][2] \r\n\r\nI&#39;ve put it inside Gridview. It&#39;s very helpful for me as a newbie in `android` if someone can help me.\r\n\r\n*Main.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;horizontal&quot; android:layout_width=&quot;match_parent&quot;\r\n    android:background=&quot;@color/background&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;110dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        app:srcCompat=&quot;@mipmap/ic_launcher&quot;\r\n        android:id=&quot;@+id/imgFood&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:background=&quot;@drawable/round_outline&quot;\r\n        /&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;110dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        app:srcCompat=&quot;@mipmap/ic_launcher&quot;\r\n        android:id=&quot;@+id/imgId&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_alignLeft=&quot;@id/imgFood&quot;\r\n        android:layout_marginLeft=&quot;100dp&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:background=&quot;@drawable/round_outline&quot;\r\n        /&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/txtCcText&quot;\r\n        android:text=&quot;Cash Card number:&quot;\r\n        android:textSize=&quot;13sp&quot;\r\n        android:hint=&quot;Cash Card no.&quot;\r\n        android:textColor=&quot;@color/primary&quot;\r\n        android:layout_toRightOf=&quot;@+id/imgId&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginRight=&quot;17dp&quot;\r\n        android:layout_marginLeft=&quot;-11dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:textStyle=&quot;bold|italic&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/txtName&quot;\r\n        android:text=&quot;Cash Card number&quot;\r\n        android:textSize=&quot;10sp&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_toRightOf=&quot;@+id/imgId&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginRight=&quot;17dp&quot;\r\n        android:layout_marginLeft=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtHHno&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/txtName&quot;\r\n        android:layout_marginLeft=&quot;-11dp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginEnd=&quot;50dp&quot;\r\n        android:text=&quot;Household number:&quot;\r\n        android:textColor=&quot;@color/primary&quot;\r\n        android:textSize=&quot;13sp&quot;\r\n        android:textStyle=&quot;bold|italic&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/txtPrice&quot;\r\n        android:text=&quot;HHNumber&quot;\r\n        android:textSize=&quot;10sp&quot;\r\n        android:layout_below=&quot;@+id/txtHHno&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_toRightOf=&quot;@+id/imgId&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginRight=&quot;17dp&quot;\r\n        android:layout_marginLeft=&quot;5dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtSeries&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/txtPrice&quot;\r\n        android:layout_marginLeft=&quot;-11dp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginEnd=&quot;75dp&quot;\r\n        android:text=&quot;Series number:&quot;\r\n        android:textColor=&quot;@color/primary&quot;\r\n        android:textSize=&quot;13sp&quot;\r\n        android:textStyle=&quot;bold|italic&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/txtSeriesNumber&quot;\r\n        android:text=&quot;SeriesNumber&quot;\r\n        android:textSize=&quot;10sp&quot;\r\n        android:layout_below=&quot;@+id/txtSeries&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_toRightOf=&quot;@+id/imgId&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginRight=&quot;17dp&quot;\r\n        android:layout_marginLeft=&quot;5dp&quot;\r\n        android:textStyle=&quot;bold&quot;/&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n*GridView.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/activity_main&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    &gt;\r\n    \r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        &gt;\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/mainToolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;@color/primary&quot;\r\n            android:backgroundTint=&quot;@color/background&quot;\r\n            app:liftOnScroll=&quot;true&quot;/&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;GridView\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/gridView&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:columnWidth=&quot;300dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:numColumns=&quot;auto_fit&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WNGG0.jpg\r\n  [2]: https://i.stack.imgur.com/IwSTl.png\r\n  [3]: https://i.stack.imgur.com/KTnx8.jpg","title":"Proper margin layout in Android Studio","body":"<p>I'm confused if my code is right or not, for now when I run my app under android version 10 it works well, this is the result I want and it works fine when I run <a href=\"https://i.stack.imgur.com/WNGG0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNGG0.jpg\" alt=\"Result\" /></a></p>\n<p>but the problem is I don't think if I run this app to the other version of android it will work or I think the design of <code>textviews</code> and ImageView will be scattered since when I've tried to view the design of the XML it looks like this <a href=\"https://i.stack.imgur.com/IwSTl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IwSTl.png\" alt=\"ViewInAndroidStudio\" /></a></p>\n<p>I've put it inside Gridview. It's very helpful for me as a newbie in <code>android</code> if someone can help me.</p>\n<p><em>Main.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:orientation=&quot;horizontal&quot; android:layout_width=&quot;match_parent&quot;\nandroid:background=&quot;@color/background&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;ImageView\n    android:layout_width=&quot;110dp&quot;\n    android:layout_height=&quot;100dp&quot;\n    app:srcCompat=&quot;@mipmap/ic_launcher&quot;\n    android:id=&quot;@+id/imgFood&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_alignParentLeft=&quot;true&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:background=&quot;@drawable/round_outline&quot;\n    /&gt;\n\n&lt;ImageView\n    android:layout_width=&quot;110dp&quot;\n    android:layout_height=&quot;100dp&quot;\n    app:srcCompat=&quot;@mipmap/ic_launcher&quot;\n    android:id=&quot;@+id/imgId&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:layout_alignLeft=&quot;@id/imgFood&quot;\n    android:layout_marginLeft=&quot;100dp&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:background=&quot;@drawable/round_outline&quot;\n    /&gt;\n\n&lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/txtCcText&quot;\n    android:text=&quot;Cash Card number:&quot;\n    android:textSize=&quot;13sp&quot;\n    android:hint=&quot;Cash Card no.&quot;\n    android:textColor=&quot;@color/primary&quot;\n    android:layout_toRightOf=&quot;@+id/imgId&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_marginRight=&quot;17dp&quot;\n    android:layout_marginLeft=&quot;-11dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:textStyle=&quot;bold|italic&quot;/&gt;\n\n&lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/txtName&quot;\n    android:text=&quot;Cash Card number&quot;\n    android:textSize=&quot;10sp&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:layout_toRightOf=&quot;@+id/imgId&quot;\n    android:textAlignment=&quot;center&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_marginRight=&quot;17dp&quot;\n    android:layout_marginLeft=&quot;5dp&quot;\n    android:layout_marginTop=&quot;30dp&quot;\n    android:textStyle=&quot;bold&quot;\n    /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/txtHHno&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/txtName&quot;\n    android:layout_marginLeft=&quot;-11dp&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_marginEnd=&quot;50dp&quot;\n    android:text=&quot;Household number:&quot;\n    android:textColor=&quot;@color/primary&quot;\n    android:textSize=&quot;13sp&quot;\n    android:textStyle=&quot;bold|italic&quot;/&gt;\n\n&lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/txtPrice&quot;\n    android:text=&quot;HHNumber&quot;\n    android:textSize=&quot;10sp&quot;\n    android:layout_below=&quot;@+id/txtHHno&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:layout_toRightOf=&quot;@+id/imgId&quot;\n    android:textAlignment=&quot;center&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_marginRight=&quot;17dp&quot;\n    android:layout_marginLeft=&quot;5dp&quot;\n    android:textStyle=&quot;bold&quot;\n    /&gt;\n&lt;TextView\n    android:id=&quot;@+id/txtSeries&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/txtPrice&quot;\n    android:layout_marginLeft=&quot;-11dp&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_marginEnd=&quot;75dp&quot;\n    android:text=&quot;Series number:&quot;\n    android:textColor=&quot;@color/primary&quot;\n    android:textSize=&quot;13sp&quot;\n    android:textStyle=&quot;bold|italic&quot;/&gt;\n\n&lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/txtSeriesNumber&quot;\n    android:text=&quot;SeriesNumber&quot;\n    android:textSize=&quot;10sp&quot;\n    android:layout_below=&quot;@+id/txtSeries&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:layout_toRightOf=&quot;@+id/imgId&quot;\n    android:textAlignment=&quot;center&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_marginRight=&quot;17dp&quot;\n    android:layout_marginLeft=&quot;5dp&quot;\n    android:textStyle=&quot;bold&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><em>GridView.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/activity_main&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/white&quot;\n&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    &gt;\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/mainToolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;@color/primary&quot;\n        android:backgroundTint=&quot;@color/background&quot;\n        app:liftOnScroll=&quot;true&quot;/&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;GridView\n    android:layout_marginTop=&quot;50dp&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/gridView&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:columnWidth=&quot;300dp&quot;\n    android:gravity=&quot;center&quot;\n    android:numColumns=&quot;auto_fit&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","android","image"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635396567,"post_id":69747405,"comment_id":123287876,"body_markdown":"You cannot use open FileOutput on a directory.","body":"You cannot use open FileOutput on a directory."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635396687,"post_id":69747405,"comment_id":123287896,"body_markdown":"`Log.w(&quot;BitMapError&quot;, &quot;Bitmap was not saved right&quot;);` Change to `Log.w(&quot;BitMapError&quot;, &quot;Exception: &quot;+ e.getMessage());`","body":"<code>Log.w(&quot;BitMapError&quot;, &quot;Bitmap was not saved right&quot;);</code> Change to <code>Log.w(&quot;BitMapError&quot;, &quot;Exception: &quot;+ e.getMessage());</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635396882,"post_id":69747405,"comment_id":123287912,"body_markdown":"`File directory = new File(&quot;data/data/com.example.feedme/files&quot;);` Change to `File directory = getFilesDir();`","body":"<code>File directory = new File(&quot;data&#47;data&#47;com.example.feedme&#47;files&quot;);</code> Change to <code>File directory = getFilesDir();</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635397452,"post_id":69747405,"comment_id":123287999,"body_markdown":"`if(!directory.mkdirs()) return;`","body":"<code>if(!directory.mkdirs()) return;</code>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1635402600,"post_id":69747405,"comment_id":123289127,"body_markdown":"@blackapps Don&#39;t answer in comments. Make a proper answer instead. &#128512;","body":"@blackapps Don&#39;t answer in comments. Make a proper answer instead. 😀"}],"owner":{"account_id":19648308,"reputation":1,"user_id":14382778,"display_name":"zaserman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635386407,"creation_date":1635386407,"question_id":69747405,"body_markdown":"The following is my code. I&#39;m trying to get a bitmap I create into the files folder so I can display it in a gallery. Any clue as a better way of/location to doing this or where my program is running into problems? \r\n\r\n            try{\r\n                BitmapDrawable drawable = (BitmapDrawable) mimageView.getDrawable();\r\n                Bitmap bitmap = drawable.getBitmap();\r\n                File directory = new File(&quot;data/data/com.example.feedme/files&quot;);\r\n                if (!directory.exists()){\r\n                    directory.mkdirs();\r\n                }\r\n                FileOutputStream fileOutputStream = Record.this.openFileOutput(directory.toString(), Context.MODE_PRIVATE);\r\n                bitmap.compress(Bitmap.CompressFormat.PNG, 100, fileOutputStream);\r\n                fileOutputStream.close();\r\n            } catch (Exception e){\r\n                Log.w(&quot;BitMapError&quot;, &quot;Bitmap was not saved right&quot;);\r\n\r\n            }","title":"How to save bitmap to particular internal storage location in android app","body":"<p>The following is my code. I'm trying to get a bitmap I create into the files folder so I can display it in a gallery. Any clue as a better way of/location to doing this or where my program is running into problems?</p>\n<pre><code>        try{\n            BitmapDrawable drawable = (BitmapDrawable) mimageView.getDrawable();\n            Bitmap bitmap = drawable.getBitmap();\n            File directory = new File(&quot;data/data/com.example.feedme/files&quot;);\n            if (!directory.exists()){\n                directory.mkdirs();\n            }\n            FileOutputStream fileOutputStream = Record.this.openFileOutput(directory.toString(), Context.MODE_PRIVATE);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, fileOutputStream);\n            fileOutputStream.close();\n        } catch (Exception e){\n            Log.w(&quot;BitMapError&quot;, &quot;Bitmap was not saved right&quot;);\n\n        }\n</code></pre>\n"},{"tags":["java","iterator","doubly-linked-list"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1635385297,"post_id":69747270,"comment_id":123286061,"body_markdown":"`return n == null ? tail.val : n.pred.val;` You could also use a **cyclical double linked list**. Then it would just be your `n.pred.val`.","body":"<code>return n == null ? tail.val : n.pred.val;</code> You could also use a <b>cyclical double linked list</b>. Then it would just be your <code>n.pred.val</code>."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1635385344,"post_id":69747270,"comment_id":123286070,"body_markdown":"Maybe you can avoid the variable by some convoluted code, but why would you?","body":"Maybe you can avoid the variable by some convoluted code, but why would you?"},{"owner":{"account_id":15508828,"reputation":186,"user_id":17177800,"display_name":"James E"},"score":1,"creation_date":1635385551,"post_id":69747270,"comment_id":123286095,"body_markdown":"@JoopEggen That works! I cannot use a cyclical double linked list because its an assignment for a class where I have to use THEIR homemade doubly linked list class. If you want, post your comment as an answer and I will upvote and checkmark it for the reputation.","body":"@JoopEggen That works! I cannot use a cyclical double linked list because its an assignment for a class where I have to use THEIR homemade doubly linked list class. If you want, post your comment as an answer and I will upvote and checkmark it for the reputation."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1635404086,"post_id":69747270,"comment_id":123289578,"body_markdown":"Go ahead. Having a variable is not bad either. Like in implementing `i++`. Also you can do `return (n == null ? tail : n.pred).val;`","body":"Go ahead. Having a variable is not bad either. Like in implementing <code>i++</code>. Also you can do <code>return (n == null ? tail : n.pred).val;</code>"}],"owner":{"account_id":15508828,"reputation":186,"user_id":17177800,"display_name":"James E"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635384775,"creation_date":1635384775,"question_id":69747270,"body_markdown":"I have an assignment where I am supposed to make a given doubly-linked list class Iterable. I am not allowed to change or add any extra methods. This code works just fine, I was just curious if I could write it without using a local variable. `n` is the current node that the iterator is on. `n.succ` is the next node in the list (which is null if there is not a next value). `n.pred` is the previous node in the list (which is null if there is not a previous value). `n.val` is the value stored in the node. Here is what I currently have (which works fine).\r\n\r\n    /** Return the next element to enumerate. */\r\n    public @Override E next() throws NoSuchElementException {\r\n        if (!hasNext()) throw new NoSuchElementException();\r\n        Node n1 = n;\r\n        n = n.succ;\r\n        return n1.val;\r\n    }\r\n\r\nI can&#39;t say\r\n\r\n    n = n.succ;\r\n    return n.pred.val;\r\n\r\nbecause if `n.succ` is null, then `n.pred` will throw a NullPointerException.","title":"Could I write this implementation of Iterator.next() without a local variable (double linked list)","body":"<p>I have an assignment where I am supposed to make a given doubly-linked list class Iterable. I am not allowed to change or add any extra methods. This code works just fine, I was just curious if I could write it without using a local variable. <code>n</code> is the current node that the iterator is on. <code>n.succ</code> is the next node in the list (which is null if there is not a next value). <code>n.pred</code> is the previous node in the list (which is null if there is not a previous value). <code>n.val</code> is the value stored in the node. Here is what I currently have (which works fine).</p>\n<pre><code>/** Return the next element to enumerate. */\npublic @Override E next() throws NoSuchElementException {\n    if (!hasNext()) throw new NoSuchElementException();\n    Node n1 = n;\n    n = n.succ;\n    return n1.val;\n}\n</code></pre>\n<p>I can't say</p>\n<pre><code>n = n.succ;\nreturn n.pred.val;\n</code></pre>\n<p>because if <code>n.succ</code> is null, then <code>n.pred</code> will throw a NullPointerException.</p>\n"},{"tags":["java","c#","huawei-mobile-services","huawei-developers","huawei-hmf-tasks"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635384546,"creation_date":1635384546,"answer_id":69747253,"question_id":69738368,"body_markdown":"From your description, you want to create a new thread to perform some operations. Huawei tasks are customized for asynchronous operations on Huawei interfaces. You could directly use the multi-thread interfaces provided by Java as follows:\r\n\r\n```\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                //some logic here...\r\n            }\r\n        }).start();\r\n```","title":"Huawei.Hmf.tasks. Create new task","body":"<p>From your description, you want to create a new thread to perform some operations. Huawei tasks are customized for asynchronous operations on Huawei interfaces. You could directly use the multi-thread interfaces provided by Java as follows:</p>\n<pre><code>        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                //some logic here...\n            }\n        }).start();\n</code></pre>\n"}],"owner":{"account_id":19764021,"reputation":116,"user_id":14509189,"display_name":"Jack The Healer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635384546,"creation_date":1635336274,"question_id":69738368,"body_markdown":"I&#39;m trying using huawei tasks and faced a problem. How to create task that calls a specific method, that returns &quot;void&quot;? \r\nFor example in c# i can:\r\n\r\n        public static Task MyTask()\r\n        {\r\n            return Task.Factory.StartNew(() =&gt;\r\n            {\r\n               //some logic here...(specific &quot;void&quot; method)\r\n                \r\n            });\r\n        }\r\n\r\nis there a way to do similar things with huawei.tasks?","title":"Huawei.Hmf.tasks. Create new task","body":"<p>I'm trying using huawei tasks and faced a problem. How to create task that calls a specific method, that returns &quot;void&quot;?\nFor example in c# i can:</p>\n<pre><code>    public static Task MyTask()\n    {\n        return Task.Factory.StartNew(() =&gt;\n        {\n           //some logic here...(specific &quot;void&quot; method)\n            \n        });\n    }\n</code></pre>\n<p>is there a way to do similar things with huawei.tasks?</p>\n"},{"tags":["java","dice"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1634737437,"post_id":69647141,"comment_id":123105807,"body_markdown":"What does this condition mean : `turn &lt; turn + 1`  ?","body":"What does this condition mean : <code>turn &lt; turn + 1</code>  ?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1634737711,"post_id":69647141,"comment_id":123105963,"body_markdown":"`while (playerScore &lt; 98 || computerScore &lt; 98 || quit != 1)` &lt;- Those `||` should probably be `&amp;&amp;`. You want to run your loop(s) as long as all those conditions are fulfilled, not as long as at least one of them is fullfilled. Currently your loop will only stop when `playerScore &gt;= 98` and `computerScore &gt;=98` and `quit==1`. But just reaching one of those conditions should mark the end of the game.","body":"<code>while (playerScore &lt; 98 || computerScore &lt; 98 || quit != 1)</code> &lt;- Those <code>||</code> should probably be <code>&amp;&amp;</code>. You want to run your loop(s) as long as all those conditions are fulfilled, not as long as at least one of them is fullfilled. Currently your loop will only stop when <code>playerScore &gt;= 98</code> and <code>computerScore &gt;=98</code> and <code>quit==1</code>. But just reaching one of those conditions should mark the end of the game."},{"owner":{"account_id":23063915,"reputation":13,"user_id":17178611,"display_name":"Jake"},"score":0,"creation_date":1634744871,"post_id":69647141,"comment_id":123109435,"body_markdown":"im using the variable turn to determine when the players turn is over, as you can see the if conditions. Turn increases in some conditions turn is lost so I use break to break the loop and allow the other player to choose.","body":"im using the variable turn to determine when the players turn is over, as you can see the if conditions. Turn increases in some conditions turn is lost so I use break to break the loop and allow the other player to choose."}],"answers":[{"tags":[],"owner":{"account_id":23063915,"reputation":13,"user_id":17178611,"display_name":"Jake"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635383755,"creation_date":1635383755,"answer_id":69747181,"question_id":69647141,"body_markdown":"dice class \r\n\r\n    package finalproject2;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class Die {\r\n    \r\n    \tRandom randGen = new Random();\r\n    \tprivate int value; // instance variable -&gt; stores the roll\r\n    \t// each Die object gets its own copy of the instance variable\r\n    \t\r\n    \tpublic Die() { // constructor rolls dice (calls rollDieNow() method)\r\n    \t\trollDieNow();\r\n    \t}\r\n    \r\n    \tpublic void rollDieNow() { // rolls dice\r\n    \t\tvalue = randGen.nextInt(6) + 1;\r\n    \t}\r\n    \r\n    \tpublic int getValue() { // gets dice value\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    }\r\n\r\nMatador Class\r\n\r\n\r\n    package finalproject2;\r\n    \r\n    \r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class Matador {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t/*The game is played between the player and the computer.\r\n    \t\tThe player&#39;s score and the computer&#39;s score each begin at 0.\r\n    \t\tThe object of the game is to be the first reach 99 points.\r\n    \t\tThe player and the computer take turns. On each turn: */\r\n    \t\t\r\n    \t\tScanner scnr = new Scanner(System.in);  \r\n    \t\t\r\n    \t\tDie d1 = new Die();\r\n    \t\tDie d2 = new Die();\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tint playerScore = 0;\r\n    \t\tint computerScore = 0;\r\n    \t\tint playerPick = 0;\r\n    \t\tint cpu;\r\n    \t\tint turn;\r\n    \t\tint sum ;\r\n    \t\t\r\n    \t\tRandom randGen = new Random();\r\n    \t\tcpu = randGen.nextInt(6) + 2; \r\n    \t\tint cpuPick = 0;\r\n    \t\tint quit = 0;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Welcome to el Matador!&quot;);\r\n    \t\tSystem.out.println(&quot;The winner of this game is the first to score 99 points&quot;);\r\n    \t\t\r\n    \t\t// use System.exit(0) to stop program execution\r\n    \t\t\r\n    \t\tdo {\r\n    \t\t\t\r\n    \t\t\tif (playerScore &gt;= 99 || computerScore &gt;= 99) {\r\n    \t\t\t\t\r\n    \t        System.out.println(&quot;Game Over!&quot;);\r\n    \t        System.exit(0);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Player 1 please pick your number&quot;);  // start of master loop\r\n    \t\t\r\n    \t\tplayerPick = scnr.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Player 1 you selected &quot; + playerPick);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Player 2 please pick your number&quot;);\r\n    \t\t\r\n    \t\tcpuPick = cpu;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Player 2 selects &quot; + cpuPick);\r\n    \t\t\r\n    \t\t\r\n    \t\t   // \r\n    \t\tdo {    // start of game loop - master do loop player 1\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;Player 1 rolls dice&quot;);\r\n    \t\t\t\r\n    \t\t\td1.rollDieNow();\r\n    \t\t\td2.rollDieNow();\r\n    \t\t\tsum = d1.getValue() + d2.getValue() ;\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Values for both dice are: &quot; + d1.getValue() + &quot; and &quot; + d2.getValue());\r\n    \t\t\tSystem.out.println(&quot;Combined values are &quot; + sum);\r\n    \t\t\t\r\n    \t\t\tturn = 0;       // start of loop marker for player 1 \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif (d1.getValue() == 1 &amp;&amp; d2.getValue() == 1) {\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\tplayerScore = playerScore + -25;\r\n    \t\t    System.out.println(&quot;Ouch! Lost 25 points!&quot;);\r\n    \r\n    \t\t\tbreak;  // lost of turn, loop ends \r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\r\n            if (d1.getValue() == 1 || d2.getValue() == 1) {\r\n    \t\t\t\r\n    \t\t\tplayerScore = playerScore + 0;\r\n    \t\t\tSystem.out.println(&quot;Changing Turns!&quot;);\r\n    \t\t\tbreak; // lost of turn loop ends\r\n    \t\t\t\r\n    \t\t}\r\n            \r\n            if (d1.getValue() != 1 || d2.getValue() != 1) {     // sum of dice value added to score \r\n    \t\t\t\r\n    \t\t\tplayerScore = playerScore + (d1.getValue() + d2.getValue());\r\n    \t\t    System.out.println(&quot;Gained points! &quot; + (d1.getValue() + d2.getValue()));\r\n    \r\n    \t\t   \r\n    \t\t   \r\n    \t\t   }\r\n            \r\n            if (playerPick == d1.getValue() || playerPick == d2.getValue()) {  // if picked number appears on at least 1 \r\n            \t\r\n            \tturn = turn + 1;\r\n            }\r\n            \r\n            if (playerPick == d1.getValue() &amp;&amp; playerPick == d2.getValue()) {   // if picked number appears on both dice\r\n            \t\r\n            \tSystem.out.println(&quot;You are the winner player 1 you matched your numbers!!&quot;);\r\n            \tSystem.out.print(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\r\n            \tSystem.exit(0); // game ends completely\r\n            \t\r\n            \t\r\n            }\r\n            \r\n           \r\n            \t\r\n            \tSystem.out.println(&quot;Player 1 Score: &quot; + playerScore);\r\n            \r\n            \r\n    \t    }\r\n    \t\r\n    \t    while (turn &lt; 1);\r\n    \t\t\r\n    \t\t// turn changes and also end of loop marker \r\n    \t\tSystem.out.println(&quot;Score update! Player 1 score is: &quot; + playerScore + &quot; |-| player 2 score is &quot; + computerScore);\r\n    \t\t\r\n    \t\tturn = 0;     // turn counter resets \r\n    \r\n    \t\tdo {       // start of computer player&#39;s turn \r\n    \t\t\t\r\n    \t\t\tif (playerScore &gt;= 99 || computerScore &gt;= 99) {\r\n    \t\t\t\t\r\n    \t\t        System.out.println(&quot;Game Over!&quot;);\r\n    \t\t        System.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Player 2 rolls dice&quot;);\r\n    \t\t\td1.rollDieNow();\r\n    \t\t\td2.rollDieNow();\r\n    \t\t\tSystem.out.println(&quot;Values for 1st dice is: &quot; + d1.getValue() + &quot; and &quot; + d2.getValue());\r\n    \t\t\tSystem.out.println(&quot;Combined values are &quot; + (d1.getValue() + d2.getValue()));\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif (d1.getValue() == 1 &amp;&amp; d2.getValue() == 1) {    // loses points and turn  \r\n    \t\r\n    \t\t\r\n    \t    computerScore = computerScore + -25; \r\n    \t    System.out.println(&quot;Ouch! Lost 25 points!&quot;);\r\n    \t    \r\n    \t\r\n    \t\tbreak;\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t\r\n        if (d1.getValue() == 1 || d2.getValue() == 1) {      // loses turns if 1 appears on both sides\r\n    \t\t\r\n        \tcomputerScore = computerScore + 0;\r\n    \t\tSystem.out.println(&quot;Changing Turns!&quot;);\r\n    \t\tbreak;\r\n    \t\t\r\n    \t}\r\n        \r\n        if (d1.getValue() != 1 || d2.getValue() != 1) {  // computer scores  value of dice \r\n    \t\t\r\n        \tcomputerScore = computerScore + (d1.getValue() + d2.getValue());\r\n        \t\r\n    \t    System.out.println(&quot;Gained points! &quot; + (d1.getValue() + d2.getValue()));\r\n        \t\r\n        \t}\r\n        \t\r\n        \r\n        \r\n        if (cpuPick == d1.getValue() || cpuPick == d2.getValue()) {\r\n        \t\r\n        \tturn = turn + 1;\r\n        }\r\n        \r\n        if (cpuPick == d1.getValue() &amp;&amp; cpuPick == d2.getValue()) {\r\n        \t\r\n        \tSystem.out.println(&quot;You are the winner player 2 you matched your numbers!!&quot;);\r\n        \tSystem.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\r\n            System.exit(0);\r\n        }\r\n            \r\n        \r\n        System.out.println(&quot;Player 2 Score: &quot; + computerScore);\r\n        \r\n        \r\n    \t\t}\t\r\n    \r\n    \t\t\r\n    \t\t\r\n    \twhile (turn &lt; 1);   // for some reason on my previous revision this was set to \r\n    \t\t                // a different condition than player 1, now the game ends appropiate\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\twhile (playerScore &lt;= 99 || computerScore &lt;= 99);    // end of master loop \r\n    \t\tSystem.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\r\n    \t\t\r\n    \r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Unable to end this dice game properly","body":"<p>dice class</p>\n<pre><code>package finalproject2;\n\nimport java.util.Random;\n\npublic class Die {\n\n    Random randGen = new Random();\n    private int value; // instance variable -&gt; stores the roll\n    // each Die object gets its own copy of the instance variable\n    \n    public Die() { // constructor rolls dice (calls rollDieNow() method)\n        rollDieNow();\n    }\n\n    public void rollDieNow() { // rolls dice\n        value = randGen.nextInt(6) + 1;\n    }\n\n    public int getValue() { // gets dice value\n        return value;\n    }\n\n}\n</code></pre>\n<p>Matador Class</p>\n<pre><code>package finalproject2;\n\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Matador {\n\n    public static void main(String[] args) {\n        \n        /*The game is played between the player and the computer.\n        The player's score and the computer's score each begin at 0.\n        The object of the game is to be the first reach 99 points.\n        The player and the computer take turns. On each turn: */\n        \n        Scanner scnr = new Scanner(System.in);  \n        \n        Die d1 = new Die();\n        Die d2 = new Die();\n        \n        \n        \n        int playerScore = 0;\n        int computerScore = 0;\n        int playerPick = 0;\n        int cpu;\n        int turn;\n        int sum ;\n        \n        Random randGen = new Random();\n        cpu = randGen.nextInt(6) + 2; \n        int cpuPick = 0;\n        int quit = 0;\n        \n        System.out.println(&quot;Welcome to el Matador!&quot;);\n        System.out.println(&quot;The winner of this game is the first to score 99 points&quot;);\n        \n        // use System.exit(0) to stop program execution\n        \n        do {\n            \n            if (playerScore &gt;= 99 || computerScore &gt;= 99) {\n                \n            System.out.println(&quot;Game Over!&quot;);\n            System.exit(0);\n            }\n            \n            System.out.println(&quot;Player 1 please pick your number&quot;);  // start of master loop\n        \n        playerPick = scnr.nextInt();\n        \n        System.out.println(&quot;Player 1 you selected &quot; + playerPick);\n        \n        System.out.println(&quot;Player 2 please pick your number&quot;);\n        \n        cpuPick = cpu;\n        \n        System.out.println(&quot;Player 2 selects &quot; + cpuPick);\n        \n        \n           // \n        do {    // start of game loop - master do loop player 1\n            \n        \n            System.out.println(&quot;Player 1 rolls dice&quot;);\n            \n            d1.rollDieNow();\n            d2.rollDieNow();\n            sum = d1.getValue() + d2.getValue() ;\n            \n            System.out.println(&quot;Values for both dice are: &quot; + d1.getValue() + &quot; and &quot; + d2.getValue());\n            System.out.println(&quot;Combined values are &quot; + sum);\n            \n            turn = 0;       // start of loop marker for player 1 \n            \n            \n            \n            if (d1.getValue() == 1 &amp;&amp; d2.getValue() == 1) {\n        \n            \n            playerScore = playerScore + -25;\n            System.out.println(&quot;Ouch! Lost 25 points!&quot;);\n\n            break;  // lost of turn, loop ends \n            \n            }\n            \n            \n        \n        if (d1.getValue() == 1 || d2.getValue() == 1) {\n            \n            playerScore = playerScore + 0;\n            System.out.println(&quot;Changing Turns!&quot;);\n            break; // lost of turn loop ends\n            \n        }\n        \n        if (d1.getValue() != 1 || d2.getValue() != 1) {     // sum of dice value added to score \n            \n            playerScore = playerScore + (d1.getValue() + d2.getValue());\n            System.out.println(&quot;Gained points! &quot; + (d1.getValue() + d2.getValue()));\n\n           \n           \n           }\n        \n        if (playerPick == d1.getValue() || playerPick == d2.getValue()) {  // if picked number appears on at least 1 \n            \n            turn = turn + 1;\n        }\n        \n        if (playerPick == d1.getValue() &amp;&amp; playerPick == d2.getValue()) {   // if picked number appears on both dice\n            \n            System.out.println(&quot;You are the winner player 1 you matched your numbers!!&quot;);\n            System.out.print(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\n            System.exit(0); // game ends completely\n            \n            \n        }\n        \n       \n            \n            System.out.println(&quot;Player 1 Score: &quot; + playerScore);\n        \n        \n        }\n    \n        while (turn &lt; 1);\n        \n        // turn changes and also end of loop marker \n        System.out.println(&quot;Score update! Player 1 score is: &quot; + playerScore + &quot; |-| player 2 score is &quot; + computerScore);\n        \n        turn = 0;     // turn counter resets \n\n        do {       // start of computer player's turn \n            \n            if (playerScore &gt;= 99 || computerScore &gt;= 99) {\n                \n                System.out.println(&quot;Game Over!&quot;);\n                System.exit(0);\n                }\n            \n            System.out.println(&quot;Player 2 rolls dice&quot;);\n            d1.rollDieNow();\n            d2.rollDieNow();\n            System.out.println(&quot;Values for 1st dice is: &quot; + d1.getValue() + &quot; and &quot; + d2.getValue());\n            System.out.println(&quot;Combined values are &quot; + (d1.getValue() + d2.getValue()));\n            \n            \n            \n            \n            if (d1.getValue() == 1 &amp;&amp; d2.getValue() == 1) {    // loses points and turn  \n    \n        \n        computerScore = computerScore + -25; \n        System.out.println(&quot;Ouch! Lost 25 points!&quot;);\n        \n    \n        break;\n        \n        }\n        \n\n    \n    if (d1.getValue() == 1 || d2.getValue() == 1) {      // loses turns if 1 appears on both sides\n        \n        computerScore = computerScore + 0;\n        System.out.println(&quot;Changing Turns!&quot;);\n        break;\n        \n    }\n    \n    if (d1.getValue() != 1 || d2.getValue() != 1) {  // computer scores  value of dice \n        \n        computerScore = computerScore + (d1.getValue() + d2.getValue());\n        \n        System.out.println(&quot;Gained points! &quot; + (d1.getValue() + d2.getValue()));\n        \n        }\n        \n    \n    \n    if (cpuPick == d1.getValue() || cpuPick == d2.getValue()) {\n        \n        turn = turn + 1;\n    }\n    \n    if (cpuPick == d1.getValue() &amp;&amp; cpuPick == d2.getValue()) {\n        \n        System.out.println(&quot;You are the winner player 2 you matched your numbers!!&quot;);\n        System.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\n        System.exit(0);\n    }\n        \n    \n    System.out.println(&quot;Player 2 Score: &quot; + computerScore);\n    \n    \n        }   \n\n        \n        \n    while (turn &lt; 1);   // for some reason on my previous revision this was set to \n                        // a different condition than player 1, now the game ends appropiate\n        \n        \n        \n        }\n        \n        while (playerScore &lt;= 99 || computerScore &lt;= 99);    // end of master loop \n        System.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\n        \n\n        \n        \n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23063915,"reputation":13,"user_id":17178611,"display_name":"Jake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635383755,"creation_date":1634737328,"question_id":69647141,"body_markdown":"I am trying to end this game properly but the do while loop or something I am doing is causing the game to keep going. If someone has further advice for me to end this game after either score reaches 99 I would appreciate it. I have pasted both classes sources. I am also student so do forgive me. \r\n\r\nclass \r\n\r\n    package programming2;\r\n    \r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class Matador {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t/*The game is played between the player and the computer.\r\n    \t\tThe player&#39;s score and the computer&#39;s score each begin at 0.\r\n    \t\tThe object of the game is to be the first reach 99 points.\r\n    \t\tThe player and the computer take turns. On each turn: */\r\n    \t\t\r\n    \t\tScanner scnr = new Scanner(System.in);  \r\n    \t\tDie matador = new Die();\r\n    \t\t\r\n    \t\tint playerScore = 0;\r\n    \t\tint computerScore = 0;\r\n    \t\tint playerPick = 0;\r\n    \t\tint cpu;\r\n    \t\tint turn;\r\n    \t\t\r\n    \t\tRandom randGen = new Random();\r\n    \t\tcpu = randGen.nextInt(6) + 2; \r\n    \t\tint cpuPick = 0;\r\n    \t\tint quit = 0;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Welcome to el Matador!&quot;);\r\n    \t\tSystem.out.println(&quot;The winner of this game is the first to score 99 points&quot;);\r\n    \t\t\r\n    \t\tdo {System.out.println(&quot;Player 1 please pick your number&quot;);  // start of master loop\r\n    \t\t\r\n    \t\tplayerPick = scnr.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Player 1 you selected &quot; + playerPick);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Player 2 please pick your number&quot;);\r\n    \t\t\r\n    \t\tcpuPick = cpu;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Player 2 selects &quot; + cpuPick);\r\n    \t\t\r\n    \t\t\r\n    \t\t   // \r\n    \t\tdo {    // start of game loop - master do loop player 1\r\n    \t\t\t\r\n    \t\t\tif (computerScore &gt; 98) {\r\n    \t\t\t\t\r\n    \t\t\t\tquit = 1;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Player 1 rolls dice&quot;);\r\n    \t\t\t\r\n    \t\t\tmatador.rollDieNow();\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Values for 1st dice is: &quot; + matador.getValueDie1() + &quot; and &quot; + matador.getValueDie2());\r\n    \t\t\tSystem.out.println(&quot;Combined values are &quot; + matador.getValue());\r\n    \t\t\t\r\n    \t\t\tturn = 0;       // start of loop marker for player 1 \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif (matador.getValueDie1() == 1 &amp;&amp; matador.getValueDie2() == 1) {\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\tplayerScore = playerScore + -25;\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\r\n            if (matador.getValueDie1() == 1 || matador.getValueDie2() == 1) {\r\n    \t\t\t\r\n    \t\t\tplayerScore = playerScore + 0;\r\n    \t\t\tSystem.out.println(&quot;Changing Turns!&quot;);\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\t}\r\n            \r\n            if (matador.getValueDie1() != 1 || matador.getValueDie2() != 1) {     // sum of dicevalue added to score \r\n    \t\t\t\r\n    \t\t\tplayerScore = playerScore + matador.getValue();\r\n    \t\t   \r\n    \t\t   \r\n    \t\t   }\r\n            \r\n            if (playerPick == matador.getValueDie1() || playerPick == matador.getValueDie2()) {  // if picked number appears on at least 1 \r\n            \t\r\n            \tturn = turn + 1;\r\n            }\r\n            \r\n            if (playerPick == matador.getValueDie1() &amp;&amp; playerPick == matador.getValueDie2()) {   // if picked number appears on both dice\r\n            \t\r\n            \tSystem.out.println(&quot;You are the winner player 1 you matched your numbers!!&quot;);\r\n            \tSystem.out.print(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\r\n            \tquit = 1;\r\n            \tbreak;\r\n            \t\r\n            \t\r\n            }\r\n            \r\n           \r\n            \t\r\n            \tSystem.out.println(&quot;Player 1 Score: &quot; + playerScore);\r\n            \r\n            \r\n    \t    }\r\n    \t\r\n    \t    while (turn &lt; turn + 1 || quit != 1);\r\n    \t\t\r\n    \t\t// turn changes and also end of loop marker \r\n    \t\tSystem.out.println(&quot;Score update! Player 1 score is: &quot; + playerScore + &quot; |-| player 2 score is &quot; + computerScore);\r\n    \t\t\r\n    \t\tturn = 0;     // turn counter resets \r\n    \r\n    \t\tdo {       // start of computer player&#39;s turn \r\n    \t\t\t\r\n    \t\t\tif (playerScore &gt; 98) {\r\n    \t\t\t\t\r\n    \t\t\tquit = 1;\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Player 2 rolls dice&quot;);\r\n    \t\t\tmatador.rollDieNow();\r\n    \t\t\tSystem.out.println(&quot;Values for 1st dice is: &quot; + matador.getValueDie1() + &quot; and &quot; + matador.getValueDie2());\r\n    \t\t\tSystem.out.println(&quot;Combined values are &quot; + matador.getValue());\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif (matador.getValueDie1() == 1 &amp;&amp; matador.getValueDie2() == 1) {    // loop marker for cpu starts \r\n    \t\r\n    \t\t\r\n    \t    computerScore = computerScore + -25;   \r\n    \t    \r\n    \t\r\n    \t\tbreak;\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t\r\n        if (matador.getValueDie1() == 1 &amp;&amp; matador.getValueDie2() == 1) {      // loses turns if 1 appears on both sides\r\n    \t\t\r\n        \tcomputerScore = computerScore + 0;\r\n    \t\tSystem.out.println(&quot;Changing Turns!&quot;);\r\n    \t\tbreak;\r\n    \t\t\r\n    \t}\r\n        \r\n        if (matador.getValueDie1() != 1 || matador.getValueDie2() != 1) {  // computer scores  value of dice \r\n    \t\t\r\n        \tcomputerScore = computerScore + matador.getValue();\r\n        \t\r\n        \tif (computerScore &gt; 98) {\r\n    \t\r\n        \tbreak; \r\n        \t\r\n        \t}\r\n        \t\r\n        }\r\n        \r\n        if (cpuPick == matador.getValueDie1() || cpuPick == matador.getValueDie2()) {\r\n        \t\r\n        \tturn = turn + 1;\r\n        }\r\n        \r\n        if (cpuPick == matador.getValueDie1() &amp;&amp; cpuPick == matador.getValueDie2()) {\r\n        \t\r\n        \tSystem.out.println(&quot;You are the winner player 2 you matched your numbers!!&quot;);\r\n        \tSystem.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\r\n            quit = 1;\r\n        \tbreak;\r\n        }\r\n            \r\n        \r\n        System.out.println(&quot;Player 2 Score: &quot; + computerScore);\r\n        \r\n        \r\n    \t\t}\t\r\n    \r\n    \t\t\r\n    \t\t\r\n    \twhile (playerScore &lt; 98 || computerScore &lt;98 || quit != 1);   \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\twhile (playerScore &lt; 98 || computerScore &lt; 98 || quit != 1);    // end of master loop \r\n    \t\tSystem.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\r\n    \t\t\r\n    \r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nother class if needed but it has nothing to do with the score as its mainly for determining some values: \r\n\r\n    package programming2;\r\n    \r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class Die {   \r\n    \t\r\n    \tprivate int die1;   //instance variable \r\n    \tprivate int die2;\r\n    \tprivate int rolledDice;\r\n    \t\r\n    \t\r\n    \tpublic Die() {                //constructor assigns random value\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tdie1 = (int) (Math.random()*6)+1;   \r\n    \t\tdie2 = (int) (Math.random()*6)+1;\r\n    \t      \r\n    \t   \t\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void rollDieNow () {                     //rolls dice \r\n    \t\t\r\n    \t\t\r\n    \t\tRandom randGen = new Random();\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tdie1 = randGen.nextInt(6) + 1; \r\n    \t\tdie2 = randGen.nextInt(6) + 1; \r\n    \t       \r\n    \t   }\r\n    \t\r\n    \t \r\n    \tpublic int getValue() {       // gets dice value \r\n    \t\r\n    \t\r\n    \t\t\r\n    \trolledDice = die1 + die2;\r\n    \t\r\n    \t\t\r\n    \treturn rolledDice;\r\n    \t\r\n    \t}\r\n    \t\r\n    \tpublic int getValueDie1() {       // gets die1 value \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\r\n    \t\treturn die1;\r\n    \t\t\r\n    \t\t}\r\n    \t\r\n    \tpublic int getValueDie2() {       // gets die2 value \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\r\n    \t\treturn die2;\r\n    \t\t\r\n    \t\t}\r\n    \r\n    \t\r\n    \r\n    }\r\n\r\n","title":"Unable to end this dice game properly","body":"<p>I am trying to end this game properly but the do while loop or something I am doing is causing the game to keep going. If someone has further advice for me to end this game after either score reaches 99 I would appreciate it. I have pasted both classes sources. I am also student so do forgive me.</p>\n<p>class</p>\n<pre><code>package programming2;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Matador {\n\n    public static void main(String[] args) {\n        \n        /*The game is played between the player and the computer.\n        The player's score and the computer's score each begin at 0.\n        The object of the game is to be the first reach 99 points.\n        The player and the computer take turns. On each turn: */\n        \n        Scanner scnr = new Scanner(System.in);  \n        Die matador = new Die();\n        \n        int playerScore = 0;\n        int computerScore = 0;\n        int playerPick = 0;\n        int cpu;\n        int turn;\n        \n        Random randGen = new Random();\n        cpu = randGen.nextInt(6) + 2; \n        int cpuPick = 0;\n        int quit = 0;\n        \n        System.out.println(&quot;Welcome to el Matador!&quot;);\n        System.out.println(&quot;The winner of this game is the first to score 99 points&quot;);\n        \n        do {System.out.println(&quot;Player 1 please pick your number&quot;);  // start of master loop\n        \n        playerPick = scnr.nextInt();\n        \n        System.out.println(&quot;Player 1 you selected &quot; + playerPick);\n        \n        System.out.println(&quot;Player 2 please pick your number&quot;);\n        \n        cpuPick = cpu;\n        \n        System.out.println(&quot;Player 2 selects &quot; + cpuPick);\n        \n        \n           // \n        do {    // start of game loop - master do loop player 1\n            \n            if (computerScore &gt; 98) {\n                \n                quit = 1;\n                break;\n            }\n            \n            System.out.println(&quot;Player 1 rolls dice&quot;);\n            \n            matador.rollDieNow();\n            \n            System.out.println(&quot;Values for 1st dice is: &quot; + matador.getValueDie1() + &quot; and &quot; + matador.getValueDie2());\n            System.out.println(&quot;Combined values are &quot; + matador.getValue());\n            \n            turn = 0;       // start of loop marker for player 1 \n            \n            \n            \n            if (matador.getValueDie1() == 1 &amp;&amp; matador.getValueDie2() == 1) {\n        \n            \n            playerScore = playerScore + -25;\n            break;\n            \n            }\n            \n            \n        \n        if (matador.getValueDie1() == 1 || matador.getValueDie2() == 1) {\n            \n            playerScore = playerScore + 0;\n            System.out.println(&quot;Changing Turns!&quot;);\n            break;\n            \n        }\n        \n        if (matador.getValueDie1() != 1 || matador.getValueDie2() != 1) {     // sum of dicevalue added to score \n            \n            playerScore = playerScore + matador.getValue();\n           \n           \n           }\n        \n        if (playerPick == matador.getValueDie1() || playerPick == matador.getValueDie2()) {  // if picked number appears on at least 1 \n            \n            turn = turn + 1;\n        }\n        \n        if (playerPick == matador.getValueDie1() &amp;&amp; playerPick == matador.getValueDie2()) {   // if picked number appears on both dice\n            \n            System.out.println(&quot;You are the winner player 1 you matched your numbers!!&quot;);\n            System.out.print(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\n            quit = 1;\n            break;\n            \n            \n        }\n        \n       \n            \n            System.out.println(&quot;Player 1 Score: &quot; + playerScore);\n        \n        \n        }\n    \n        while (turn &lt; turn + 1 || quit != 1);\n        \n        // turn changes and also end of loop marker \n        System.out.println(&quot;Score update! Player 1 score is: &quot; + playerScore + &quot; |-| player 2 score is &quot; + computerScore);\n        \n        turn = 0;     // turn counter resets \n\n        do {       // start of computer player's turn \n            \n            if (playerScore &gt; 98) {\n                \n            quit = 1;\n            break;\n            \n            }\n            \n            System.out.println(&quot;Player 2 rolls dice&quot;);\n            matador.rollDieNow();\n            System.out.println(&quot;Values for 1st dice is: &quot; + matador.getValueDie1() + &quot; and &quot; + matador.getValueDie2());\n            System.out.println(&quot;Combined values are &quot; + matador.getValue());\n            \n            \n            \n            if (matador.getValueDie1() == 1 &amp;&amp; matador.getValueDie2() == 1) {    // loop marker for cpu starts \n    \n        \n        computerScore = computerScore + -25;   \n        \n    \n        break;\n        \n        }\n        \n\n    \n    if (matador.getValueDie1() == 1 &amp;&amp; matador.getValueDie2() == 1) {      // loses turns if 1 appears on both sides\n        \n        computerScore = computerScore + 0;\n        System.out.println(&quot;Changing Turns!&quot;);\n        break;\n        \n    }\n    \n    if (matador.getValueDie1() != 1 || matador.getValueDie2() != 1) {  // computer scores  value of dice \n        \n        computerScore = computerScore + matador.getValue();\n        \n        if (computerScore &gt; 98) {\n    \n        break; \n        \n        }\n        \n    }\n    \n    if (cpuPick == matador.getValueDie1() || cpuPick == matador.getValueDie2()) {\n        \n        turn = turn + 1;\n    }\n    \n    if (cpuPick == matador.getValueDie1() &amp;&amp; cpuPick == matador.getValueDie2()) {\n        \n        System.out.println(&quot;You are the winner player 2 you matched your numbers!!&quot;);\n        System.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\n        quit = 1;\n        break;\n    }\n        \n    \n    System.out.println(&quot;Player 2 Score: &quot; + computerScore);\n    \n    \n        }   \n\n        \n        \n    while (playerScore &lt; 98 || computerScore &lt;98 || quit != 1);   \n        \n        \n        \n        }\n        \n        while (playerScore &lt; 98 || computerScore &lt; 98 || quit != 1);    // end of master loop \n        System.out.println(&quot;Player 1 final score is: &quot; + playerScore + &quot; |-| player 2 final score is &quot; + computerScore);\n        \n\n        \n        \n\n    }\n\n}\n</code></pre>\n<p>other class if needed but it has nothing to do with the score as its mainly for determining some values:</p>\n<pre><code>package programming2;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Die {   \n    \n    private int die1;   //instance variable \n    private int die2;\n    private int rolledDice;\n    \n    \n    public Die() {                //constructor assigns random value\n        \n        \n        \n        die1 = (int) (Math.random()*6)+1;   \n        die2 = (int) (Math.random()*6)+1;\n          \n                \n    }\n    \n    public void rollDieNow () {                     //rolls dice \n        \n        \n        Random randGen = new Random();\n        \n        \n        \n        die1 = randGen.nextInt(6) + 1; \n        die2 = randGen.nextInt(6) + 1; \n           \n       }\n    \n     \n    public int getValue() {       // gets dice value \n    \n    \n        \n    rolledDice = die1 + die2;\n    \n        \n    return rolledDice;\n    \n    }\n    \n    public int getValueDie1() {       // gets die1 value \n        \n        \n        \n        \n        \n            \n        return die1;\n        \n        }\n    \n    public int getValueDie2() {       // gets die2 value \n        \n        \n        \n        \n        \n            \n        return die2;\n        \n        }\n\n    \n\n}\n</code></pre>\n"},{"tags":["java","sql","for-loop","prepared-statement","character-trimming"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":1,"creation_date":1634808861,"post_id":69659217,"comment_id":123127635,"body_markdown":"You can use `rs.getString(1).replaceAll(&quot;\\\\s&quot;, &quot;&quot;)` to remove spaces. I don&#39;t really understand the problem of the other question. You just iterate over `input`, remove 1 character with each iteration till you get a result?","body":"You can use <code>rs.getString(1).replaceAll(&quot;\\\\s&quot;, &quot;&quot;)</code> to remove spaces. I don&#39;t really understand the problem of the other question. You just iterate over <code>input</code>, remove 1 character with each iteration till you get a result?"},{"owner":{"account_id":14091951,"reputation":93,"user_id":10179986,"display_name":"dcdum2018"},"score":0,"creation_date":1634809550,"post_id":69659217,"comment_id":123127954,"body_markdown":"yes, correct. input is `123456` but available data is `123777`, it should loop by removing the last character all the time until it reaches a match in the table","body":"yes, correct. input is <code>123456</code> but available data is <code>123777</code>, it should loop by removing the last character all the time until it reaches a match in the table"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1634809929,"post_id":69659217,"comment_id":123128102,"body_markdown":"You need to create a loop (probably using while) to make this happen.","body":"You need to create a loop (probably using while) to make this happen."},{"owner":{"account_id":14091951,"reputation":93,"user_id":10179986,"display_name":"dcdum2018"},"score":0,"creation_date":1634811644,"post_id":69659217,"comment_id":123128897,"body_markdown":"for loop is preferable but i dont know how to do it","body":"for loop is preferable but i dont know how to do it"}],"answers":[{"tags":[],"owner":{"account_id":14091951,"reputation":93,"user_id":10179986,"display_name":"dcdum2018"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635383326,"creation_date":1635383326,"answer_id":69747144,"question_id":69659217,"body_markdown":"for deduct character, this should be done:\r\n\r\n```\r\nfor(int i = 0; i &lt; input.length(); i++){\r\n   ps.setString(1, input.substring(0, input.length()-i)); \r\n}\r\n```\r\n\r\nfor trim spaces, it should be:\r\n\r\n```\r\noutput.setOut1(rs.getString(1).replaceAll(&quot;\\\\s&quot;, &quot;&quot;));\r\n```","title":"Deduct one character until a row is returned, and trim spaces when returning values [Java/SQL]","body":"<p>for deduct character, this should be done:</p>\n<pre><code>for(int i = 0; i &lt; input.length(); i++){\n   ps.setString(1, input.substring(0, input.length()-i)); \n}\n</code></pre>\n<p>for trim spaces, it should be:</p>\n<pre><code>output.setOut1(rs.getString(1).replaceAll(&quot;\\\\s&quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":14091951,"reputation":93,"user_id":10179986,"display_name":"dcdum2018"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635383326,"creation_date":1634807917,"question_id":69659217,"body_markdown":"i need to search string in SQL using Java, expectation is something like this:\r\n\r\ninput: `123456`\r\n\r\ndata in SQL to be fetched: `123777`\r\n\r\nresult is: `&#39; AB C  &#39;`\r\n\r\nresult should be: `&#39;ABC&#39;`\r\n\r\niteration will be like:\r\n```\r\nselect col1, col2, col3 from table where input like &#39;123456%&#39;; --no row returned\r\nselect col1, col2, col3 from table where input like &#39;12345%&#39;; --no row returned\r\nselect col1, col2, col3 from table where input like &#39;1234%&#39;; --no row returned\r\nselect col1, col2, col3 from table where input like &#39;123%&#39;; --returns row for 123777 \r\n```\r\nthis is my current code:\r\n\r\n```\r\npublic Output Method (String input) throws exception{\r\n\r\n   Connection connection = getSQLConnection();\r\n   String SQLquery = &quot;SELECT COL1, COL2, COL3 FROM TABLE WHERE INPUT LIKE ?&quot;;\r\n\r\n   if (connection != null){\r\n      \r\n      PreparedStatement ps = connection.prepareStatement(SQLquery);\r\n      ps.setString(1, input + &quot;%&quot;); \r\n      ResultSet rs = ps.executeQuery();\r\n      \r\n      // how to deduct characters until a match is found?\r\n      logger.debug(&quot;Executed: &quot;+SQLquery+&quot;; input =&gt; [&quot;+input+&quot;]&quot;); \r\n\r\n      if(rs.next()){\r\n         output = new Output();\r\n         output.setOut1(rs.getString(1));\r\n         output.setOut2(rs.getString(2));\r\n         output.setOut2(rs.getString(3));\r\n         //how to remove all spaces from in per result?\r\n         //sample result: &#39; AB  C   &#39; -&gt; should be &#39;ABC&#39;\r\n\r\n      }else{\r\n         logger.debug(&quot;no row returned&quot;);\r\n      }\r\n   }\r\n}\r\n\r\n```","title":"Deduct one character until a row is returned, and trim spaces when returning values [Java/SQL]","body":"<p>i need to search string in SQL using Java, expectation is something like this:</p>\n<p>input: <code>123456</code></p>\n<p>data in SQL to be fetched: <code>123777</code></p>\n<p>result is: <code>' AB C  '</code></p>\n<p>result should be: <code>'ABC'</code></p>\n<p>iteration will be like:</p>\n<pre><code>select col1, col2, col3 from table where input like '123456%'; --no row returned\nselect col1, col2, col3 from table where input like '12345%'; --no row returned\nselect col1, col2, col3 from table where input like '1234%'; --no row returned\nselect col1, col2, col3 from table where input like '123%'; --returns row for 123777 \n</code></pre>\n<p>this is my current code:</p>\n<pre><code>public Output Method (String input) throws exception{\n\n   Connection connection = getSQLConnection();\n   String SQLquery = &quot;SELECT COL1, COL2, COL3 FROM TABLE WHERE INPUT LIKE ?&quot;;\n\n   if (connection != null){\n      \n      PreparedStatement ps = connection.prepareStatement(SQLquery);\n      ps.setString(1, input + &quot;%&quot;); \n      ResultSet rs = ps.executeQuery();\n      \n      // how to deduct characters until a match is found?\n      logger.debug(&quot;Executed: &quot;+SQLquery+&quot;; input =&gt; [&quot;+input+&quot;]&quot;); \n\n      if(rs.next()){\n         output = new Output();\n         output.setOut1(rs.getString(1));\n         output.setOut2(rs.getString(2));\n         output.setOut2(rs.getString(3));\n         //how to remove all spaces from in per result?\n         //sample result: ' AB  C   ' -&gt; should be 'ABC'\n\n      }else{\n         logger.debug(&quot;no row returned&quot;);\n      }\n   }\n}\n\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1635374443,"post_id":69746188,"comment_id":123284267,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":19738262,"reputation":71,"user_id":14452226,"display_name":"Varian Wrynn"},"score":0,"creation_date":1635377111,"post_id":69746188,"comment_id":123284788,"body_markdown":"@kleopatra I&#39;m not sure what else I can do to make this reproducible. I followed the link you dropped but there isn&#39;t anything more I can provide, seeing as this is all the relevant code I use.","body":"@kleopatra I&#39;m not sure what else I can do to make this reproducible. I followed the link you dropped but there isn&#39;t anything more I can provide, seeing as this is all the relevant code I use."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635383188,"post_id":69746188,"comment_id":123285753,"body_markdown":"@VarianWrynn The difficulty is that, if somebody just copy-and-pasted your provided code and tried to compile and run it, it wouldn&#39;t work.  To reproduce your issue, more work is required, which decreases the chance of getting an accepted solution and increases the chance that what you are asking for is misunderstood.  For example, I didn&#39;t realize that JavaFX had a built-in Accordion control until I did some research into it and how it works, I had assumed that it was custom written by you, so my initial comments were wildly wrong, which is my mistake, but was preventable.","body":"@VarianWrynn The difficulty is that, if somebody just copy-and-pasted your provided code and tried to compile and run it, it wouldn&#39;t work.  To reproduce your issue, more work is required, which decreases the chance of getting an accepted solution and increases the chance that what you are asking for is misunderstood.  For example, I didn&#39;t realize that JavaFX had a built-in Accordion control until I did some research into it and how it works, I had assumed that it was custom written by you, so my initial comments were wildly wrong, which is my mistake, but was preventable."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635382670,"creation_date":1635382333,"answer_id":69747044,"question_id":69746188,"body_markdown":"Here is an example solution.\r\n\r\nIt shows an accordion in a scroll pane.\r\n \r\nThe items in the accordion can be added and removed using a button.\r\nOn add or removal, the next most relevant titled pane in the accordion is automatically expanded.  \r\n\r\nAdditions occur at the end of the list.  The newly added pane in the list is the newly expanded one. \r\n\r\nFor removal, the newly expanded item is the prior element in the list (if it exists), or the next element if the removed element was the first in the list.  If the last pane is removed, then there are no expanded panes in the accordion.\r\n\r\nIf no titled pane is expanded, the &quot;Remove&quot; button is disabled, and remove is not possible, but &quot;Add&quot; is still possible and functions as described above.\r\n\r\n[![image][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class AccordionModification extends Application {\r\n    \r\n        private static final Lorem lorem = new Lorem();\r\n    \r\n        private static final double SPACING = 10;\r\n    \r\n        private static final int N_INITIAL_PANES = 5;\r\n        private static final int N_WORDS_PER_PANE = 10;\r\n    \r\n        public void start(Stage stage) {\r\n            Accordion accordion = new Accordion();\r\n            IntStream.range(0, N_INITIAL_PANES).forEach(i -&gt;\r\n                    accordion.getPanes().add(createTitledPane())\r\n            );\r\n            accordion.setExpandedPane(accordion.getPanes().get(0));\r\n    \r\n            ScrollPane scrollPane = new ScrollPane(accordion);\r\n            scrollPane.setFitToWidth(true);\r\n    \r\n            Button add = new Button(&quot;Add&quot;);\r\n            add.setOnAction(e -&gt; addPane(accordion, scrollPane));\r\n    \r\n            Button remove = new Button(&quot;Remove&quot;);\r\n            remove.setOnAction(e -&gt; removePane(accordion));\r\n            remove.disableProperty().bind(\r\n                    accordion.expandedPaneProperty().isNull()\r\n            );\r\n    \r\n            HBox controls = new HBox(SPACING, add, remove);\r\n    \r\n            VBox layout = new VBox(SPACING, controls, scrollPane);\r\n            layout.setPadding(new Insets(SPACING));\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        private void addPane(Accordion accordion, ScrollPane scrollPane) {\r\n            TitledPane newPane = createTitledPane();\r\n            accordion.getPanes().add(newPane);\r\n            accordion.setExpandedPane(newPane);\r\n            newPane.requestFocus();\r\n    \r\n            scrollPane.applyCss();\r\n            scrollPane.layout();\r\n    \r\n            scrollPane.setVvalue(scrollPane.getVmax());\r\n        }\r\n    \r\n        private void removePane(Accordion accordion) {\r\n            TitledPane expandedPane = accordion.getExpandedPane();\r\n    \r\n            if (expandedPane != null) {\r\n                int expandedIndex = accordion.getPanes().indexOf(expandedPane);\r\n                accordion.getPanes().remove(expandedPane);\r\n    \r\n                int nPanes = accordion.getPanes().size();\r\n    \r\n                if (nPanes &gt; 0) {\r\n                    TitledPane nextPane = accordion.getPanes().get(\r\n                            Math.max(0, expandedIndex - 1)\r\n                    );\r\n    \r\n                    accordion.setExpandedPane(\r\n                            nextPane\r\n                    );\r\n    \r\n                    nextPane.requestFocus();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private TitledPane createTitledPane() {\r\n            return new TitledPane(\r\n                    lorem.nextWord(),\r\n                    createTitledPaneContent()\r\n            );\r\n        }\r\n    \r\n        private Parent createTitledPaneContent() {\r\n            Label content = new Label(lorem.nextText(N_WORDS_PER_PANE));\r\n            content.setWrapText(true);\r\n            StackPane container = new StackPane(content);\r\n            container.setAlignment(Pos.BASELINE_LEFT);\r\n    \r\n            return container;\r\n        }\r\n    \r\n        // class for generating example text for test data, not integral to the solution.\r\n        private static final class Lorem {\r\n            private static final String[] lorem = &quot;lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua&quot;.split(&quot; &quot;);\r\n            private int idx = 0;\r\n    \r\n            public String nextWord() {\r\n                return lorem[getAndIncrementIdx()];\r\n            }\r\n    \r\n            public String nextText(int nWords) {\r\n                return IntStream.range(0, nWords)\r\n                        .mapToObj(i -&gt; nextWord())\r\n                        .collect(Collectors.joining(&quot; &quot;));\r\n            }\r\n    \r\n            private int getAndIncrementIdx() {\r\n                int retVal = idx;\r\n    \r\n                idx = (idx + 1) % lorem.length;\r\n    \r\n                return retVal;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/dnQEH.png\r\n","title":"How to select a specific TitlePane inside an Accordion on buttonClick?","body":"<p>Here is an example solution.</p>\n<p>It shows an accordion in a scroll pane.</p>\n<p>The items in the accordion can be added and removed using a button.\nOn add or removal, the next most relevant titled pane in the accordion is automatically expanded.</p>\n<p>Additions occur at the end of the list.  The newly added pane in the list is the newly expanded one.</p>\n<p>For removal, the newly expanded item is the prior element in the list (if it exists), or the next element if the removed element was the first in the list.  If the last pane is removed, then there are no expanded panes in the accordion.</p>\n<p>If no titled pane is expanded, the &quot;Remove&quot; button is disabled, and remove is not possible, but &quot;Add&quot; is still possible and functions as described above.</p>\n<p><a href=\"https://i.stack.imgur.com/dnQEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dnQEH.png\" alt=\"image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class AccordionModification extends Application {\n\n    private static final Lorem lorem = new Lorem();\n\n    private static final double SPACING = 10;\n\n    private static final int N_INITIAL_PANES = 5;\n    private static final int N_WORDS_PER_PANE = 10;\n\n    public void start(Stage stage) {\n        Accordion accordion = new Accordion();\n        IntStream.range(0, N_INITIAL_PANES).forEach(i -&gt;\n                accordion.getPanes().add(createTitledPane())\n        );\n        accordion.setExpandedPane(accordion.getPanes().get(0));\n\n        ScrollPane scrollPane = new ScrollPane(accordion);\n        scrollPane.setFitToWidth(true);\n\n        Button add = new Button(&quot;Add&quot;);\n        add.setOnAction(e -&gt; addPane(accordion, scrollPane));\n\n        Button remove = new Button(&quot;Remove&quot;);\n        remove.setOnAction(e -&gt; removePane(accordion));\n        remove.disableProperty().bind(\n                accordion.expandedPaneProperty().isNull()\n        );\n\n        HBox controls = new HBox(SPACING, add, remove);\n\n        VBox layout = new VBox(SPACING, controls, scrollPane);\n        layout.setPadding(new Insets(SPACING));\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    private void addPane(Accordion accordion, ScrollPane scrollPane) {\n        TitledPane newPane = createTitledPane();\n        accordion.getPanes().add(newPane);\n        accordion.setExpandedPane(newPane);\n        newPane.requestFocus();\n\n        scrollPane.applyCss();\n        scrollPane.layout();\n\n        scrollPane.setVvalue(scrollPane.getVmax());\n    }\n\n    private void removePane(Accordion accordion) {\n        TitledPane expandedPane = accordion.getExpandedPane();\n\n        if (expandedPane != null) {\n            int expandedIndex = accordion.getPanes().indexOf(expandedPane);\n            accordion.getPanes().remove(expandedPane);\n\n            int nPanes = accordion.getPanes().size();\n\n            if (nPanes &gt; 0) {\n                TitledPane nextPane = accordion.getPanes().get(\n                        Math.max(0, expandedIndex - 1)\n                );\n\n                accordion.setExpandedPane(\n                        nextPane\n                );\n\n                nextPane.requestFocus();\n            }\n        }\n    }\n\n    private TitledPane createTitledPane() {\n        return new TitledPane(\n                lorem.nextWord(),\n                createTitledPaneContent()\n        );\n    }\n\n    private Parent createTitledPaneContent() {\n        Label content = new Label(lorem.nextText(N_WORDS_PER_PANE));\n        content.setWrapText(true);\n        StackPane container = new StackPane(content);\n        container.setAlignment(Pos.BASELINE_LEFT);\n\n        return container;\n    }\n\n    // class for generating example text for test data, not integral to the solution.\n    private static final class Lorem {\n        private static final String[] lorem = &quot;lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua&quot;.split(&quot; &quot;);\n        private int idx = 0;\n\n        public String nextWord() {\n            return lorem[getAndIncrementIdx()];\n        }\n\n        public String nextText(int nWords) {\n            return IntStream.range(0, nWords)\n                    .mapToObj(i -&gt; nextWord())\n                    .collect(Collectors.joining(&quot; &quot;));\n        }\n\n        private int getAndIncrementIdx() {\n            int retVal = idx;\n\n            idx = (idx + 1) % lorem.length;\n\n            return retVal;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19738262,"reputation":71,"user_id":14452226,"display_name":"Varian Wrynn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1635382670,"creation_date":1635373803,"question_id":69746188,"body_markdown":"I&#39;ve been working with JavaFX (using the SceneBuilder) to build a file-sharing system. My GUI shows all uploaded files on the side using a TitledPane for each, all of them organized in an Accordion. \r\n\r\n[![GUI][1]][1]\r\n\r\nOn the click of the `Remove File` button I want to remove whichever TitledPane is &quot;selected&quot;, which I would assume would be the one that is open (the expanded property) but it doesn&#39;t change to be considered expanded when I click on it. Normally when you click on a TitledPane in this situation, the bar opens downward and exposes its child nodes. I assumed this state would be considered expanded but I guess it isn&#39;t the case.\r\n\r\nThe onClick method:\r\n```java\r\n    public void removeFileClicked(){\r\n        ObservableList&lt;TitledPane&gt; children = peersAccordion.getPanes();\r\n        TitledPane removed = null;\r\n        for(TitledPane p : children){\r\n            if (p.isExpanded()) {\r\n                TextArea a = (TextArea) p.getChildrenUnmodifiable().get(0);\r\n                removeFileFromShared(a.getText().split(&quot;\\n&quot;)[0]);\r\n                removed = p;\r\n                break;\r\n            }\r\n        }\r\n        children.remove(removed);\r\n    }\r\n```\r\nWhat can I do to fix this? Is there an alternative solution?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X9PIV.png","title":"How to select a specific TitlePane inside an Accordion on buttonClick?","body":"<p>I've been working with JavaFX (using the SceneBuilder) to build a file-sharing system. My GUI shows all uploaded files on the side using a TitledPane for each, all of them organized in an Accordion.</p>\n<p><a href=\"https://i.stack.imgur.com/X9PIV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9PIV.png\" alt=\"GUI\" /></a></p>\n<p>On the click of the <code>Remove File</code> button I want to remove whichever TitledPane is &quot;selected&quot;, which I would assume would be the one that is open (the expanded property) but it doesn't change to be considered expanded when I click on it. Normally when you click on a TitledPane in this situation, the bar opens downward and exposes its child nodes. I assumed this state would be considered expanded but I guess it isn't the case.</p>\n<p>The onClick method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void removeFileClicked(){\n        ObservableList&lt;TitledPane&gt; children = peersAccordion.getPanes();\n        TitledPane removed = null;\n        for(TitledPane p : children){\n            if (p.isExpanded()) {\n                TextArea a = (TextArea) p.getChildrenUnmodifiable().get(0);\n                removeFileFromShared(a.getText().split(&quot;\\n&quot;)[0]);\n                removed = p;\n                break;\n            }\n        }\n        children.remove(removed);\n    }\n</code></pre>\n<p>What can I do to fix this? Is there an alternative solution?</p>\n"},{"tags":["java","spring-boot","rest","maven","validation"],"answers":[{"tags":[],"owner":{"account_id":17750659,"reputation":336,"user_id":12888853,"display_name":"kosmasd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635378481,"creation_date":1635321635,"answer_id":69734879,"question_id":69729444,"body_markdown":"I could find two issues in your code:\r\n\r\n 1. The @Min/@Max annotations are for numeric values, to set the range of numeric values (not the number of strings); so these do not work for Strings. Please remove them and find alternatives (e.g. @Size).\r\n 2. You need to map the userDto object to the model in your controller with the @ModelAttribute annotation.\r\n\r\n**Controller** (further edited to accommodate different responses)\r\n```\r\n@PostMapping\r\npublic ResponseEntity&lt;String&gt; createUser(@ModelAttribute @Valid @RequestBody UserDto userDto,Errors errors){\r\n\r\n            System.out.println(userDto.toString());\r\n            System.out.println(errors.toString());\r\n            if (errors.hasErrors()) {\r\n              return ResponseEntity.badRequest().body(&quot;Errors exist&quot;);\r\n            }\r\n            return ResponseEntity.ok(&quot;Success&quot;);\r\n        }\r\n\r\n}\r\n```\r\n\r\n**UserDto**\r\n```\r\npublic class UserDto {\r\n\r\n @NotNull\r\n @Size(min=5, max= 10)\r\n private String name;\r\n\r\n @NotNull\r\n @Size(min=3, max= 50)\r\n private String password;\r\n\r\n @Email\r\n private String email;\r\n\r\n// rest of the code\r\n}\r\n```\r\n\r\n**Tests for controller**\r\n```\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n\r\nimport static org.hamcrest.Matchers.containsString;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@SpringBootTest\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserControllerTest {\r\n\r\n\r\n    MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    UserController userController;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        mockMvc = MockMvcBuilders.standaloneSetup(userController).build();\r\n    }\r\n\r\n\r\n    @Test\r\n    void emailInvalid() throws Exception {\r\n        mockMvc.perform(post(&quot;/users&quot;).param(&quot;name&quot;, &quot;uname&quot;)\r\n                        .param( &quot;password&quot;, &quot;LongPasswordHere&quot;)\r\n                        .param( &quot;email&quot;, &quot;email&quot;)).andExpect(status().isBadRequest())\r\n                        .andExpect(content().string(containsString(&quot;Errors exist&quot;)));\r\n    }\r\n\r\n    @Test\r\n    void emailValid() throws Exception {\r\n        mockMvc.perform(post(&quot;/users&quot;).param(&quot;name&quot;, &quot;uname&quot;)\r\n                        .param( &quot;password&quot;, &quot;LongPasswordHere&quot;)\r\n                        .param( &quot;email&quot;, &quot;email@gmail.com&quot;)).andExpect(status().isOk())\r\n                .andExpect(content().string(containsString(&quot;Success&quot;)));\r\n    }\r\n}\r\n```","title":"Issue with Spring Boot Validation with version 2.5.5","body":"<p>I could find two issues in your code:</p>\n<ol>\n<li>The @Min/@Max annotations are for numeric values, to set the range of numeric values (not the number of strings); so these do not work for Strings. Please remove them and find alternatives (e.g. @Size).</li>\n<li>You need to map the userDto object to the model in your controller with the @ModelAttribute annotation.</li>\n</ol>\n<p><strong>Controller</strong> (further edited to accommodate different responses)</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;String&gt; createUser(@ModelAttribute @Valid @RequestBody UserDto userDto,Errors errors){\n\n            System.out.println(userDto.toString());\n            System.out.println(errors.toString());\n            if (errors.hasErrors()) {\n              return ResponseEntity.badRequest().body(&quot;Errors exist&quot;);\n            }\n            return ResponseEntity.ok(&quot;Success&quot;);\n        }\n\n}\n</code></pre>\n<p><strong>UserDto</strong></p>\n<pre><code>public class UserDto {\n\n @NotNull\n @Size(min=5, max= 10)\n private String name;\n\n @NotNull\n @Size(min=3, max= 50)\n private String password;\n\n @Email\n private String email;\n\n// rest of the code\n}\n</code></pre>\n<p><strong>Tests for controller</strong></p>\n<pre><code>\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\nimport static org.hamcrest.Matchers.containsString;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@SpringBootTest\n@ExtendWith(MockitoExtension.class)\nclass UserControllerTest {\n\n\n    MockMvc mockMvc;\n\n    @Autowired\n    UserController userController;\n\n    @BeforeEach\n    void setUp() {\n        mockMvc = MockMvcBuilders.standaloneSetup(userController).build();\n    }\n\n\n    @Test\n    void emailInvalid() throws Exception {\n        mockMvc.perform(post(&quot;/users&quot;).param(&quot;name&quot;, &quot;uname&quot;)\n                        .param( &quot;password&quot;, &quot;LongPasswordHere&quot;)\n                        .param( &quot;email&quot;, &quot;email&quot;)).andExpect(status().isBadRequest())\n                        .andExpect(content().string(containsString(&quot;Errors exist&quot;)));\n    }\n\n    @Test\n    void emailValid() throws Exception {\n        mockMvc.perform(post(&quot;/users&quot;).param(&quot;name&quot;, &quot;uname&quot;)\n                        .param( &quot;password&quot;, &quot;LongPasswordHere&quot;)\n                        .param( &quot;email&quot;, &quot;email@gmail.com&quot;)).andExpect(status().isOk())\n                .andExpect(content().string(containsString(&quot;Success&quot;)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18770777,"reputation":3,"user_id":13687634,"display_name":"braveheartask123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635378481,"creation_date":1635279343,"question_id":69729444,"body_markdown":"I am fairly new to Spring Boot and it&#39;s various libraries. I am particularly trying Validation. I have added Validation annotations to UserDto class. When I send createUser request with invalid email, I get success. None of the validations work. \r\nI have tried using Hibernate-Validator dependancy as well.\r\nSee below the code.\r\n\r\nThe UserDto class:\r\n\r\n```\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.Max;\r\nimport javax.validation.constraints.Min;\r\nimport javax.validation.constraints.NotNull;\r\n\r\npublic class UserDto {\r\n\t\r\n\t@NotNull\r\n\t@Min(value=5)\r\n\t@Max(value=10)\r\n\tprivate String name;\r\n\t\r\n\t@NotNull\r\n\t@Min(value=3)\r\n\t@Max(value=50)\r\n\tprivate String password;\r\n\t\r\n\t@Email\r\n\tprivate String email;\r\n\t\r\n\tpublic UserDto(String name, String password, String email) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.password = password;\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n}\r\n```\r\n\r\nThe UserCotroller:\r\n\r\n```\r\nimport javax.validation.Valid;\r\n\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.Errors;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.user.test.dto.UserDto;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\t\r\n\t@PostMapping\r\n\tpublic ResponseEntity&lt;String&gt; createUser(@Valid @RequestBody UserDto userDto, Errors errors){\r\n\t\t\r\n\t\tSystem.out.println(userDto.toString());\r\n\t\tSystem.out.println(errors.toString());\r\n\t\tString response = &quot;success&quot;;\t\r\n\t\treturn ResponseEntity.ok(response);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nDriver Class:\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class TestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.user&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the Postman Request, which gives &quot;success&quot;.\r\n\r\n{\r\n    &quot;name&quot;: &quot;Username&quot;,\r\n    &quot;password&quot;:&quot;username@123&quot;,\r\n    &quot;email&quot;:&quot;username&quot;\r\n}","title":"Issue with Spring Boot Validation with version 2.5.5","body":"<p>I am fairly new to Spring Boot and it's various libraries. I am particularly trying Validation. I have added Validation annotations to UserDto class. When I send createUser request with invalid email, I get success. None of the validations work.\nI have tried using Hibernate-Validator dependancy as well.\nSee below the code.</p>\n<p>The UserDto class:</p>\n<pre><code>import javax.validation.constraints.Email;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\nimport javax.validation.constraints.NotNull;\n\npublic class UserDto {\n    \n    @NotNull\n    @Min(value=5)\n    @Max(value=10)\n    private String name;\n    \n    @NotNull\n    @Min(value=3)\n    @Max(value=50)\n    private String password;\n    \n    @Email\n    private String email;\n    \n    public UserDto(String name, String password, String email) {\n        super();\n        this.name = name;\n        this.password = password;\n        this.email = email;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n</code></pre>\n<p>The UserCotroller:</p>\n<pre><code>import javax.validation.Valid;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.Errors;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.user.test.dto.UserDto;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    \n    @PostMapping\n    public ResponseEntity&lt;String&gt; createUser(@Valid @RequestBody UserDto userDto, Errors errors){\n        \n        System.out.println(userDto.toString());\n        System.out.println(errors.toString());\n        String response = &quot;success&quot;;    \n        return ResponseEntity.ok(response);\n        \n    }\n\n}\n\n</code></pre>\n<p>Driver Class:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.user&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is the Postman Request, which gives &quot;success&quot;.</p>\n<p>{\n&quot;name&quot;: &quot;Username&quot;,\n&quot;password&quot;:&quot;username@123&quot;,\n&quot;email&quot;:&quot;username&quot;\n}</p>\n"},{"tags":["java","maven","cucumber"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1582569165,"post_id":60381973,"comment_id":106814830,"body_markdown":"Which tech stack are you using (e.g. Java, JavaScript, Python, etc..)? What are you using to run your cucumber tests?","body":"Which tech stack are you using (e.g. Java, JavaScript, Python, etc..)? What are you using to run your cucumber tests?"},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":0,"creation_date":1582569288,"post_id":60381973,"comment_id":106814899,"body_markdown":"I am using Java","body":"I am using Java"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1582569341,"post_id":60381973,"comment_id":106814922,"body_markdown":"And how are you running the cucumber tests? Through JUnit?","body":"And how are you running the cucumber tests? Through JUnit?"},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":0,"creation_date":1582569423,"post_id":60381973,"comment_id":106814962,"body_markdown":"The test is picked up by maven test - I have a java class annotated with a cucumber annotation that performs the glue between the feature file and the steps file","body":"The test is picked up by maven test - I have a java class annotated with a cucumber annotation that performs the glue between the feature file and the steps file"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1582569528,"post_id":60381973,"comment_id":106815010,"body_markdown":"Please post the command used to run the tests, and all relevant configuration for Maven.","body":"Please post the command used to run the tests, and all relevant configuration for Maven."},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":0,"creation_date":1582569784,"post_id":60381973,"comment_id":106815128,"body_markdown":"I have a maven profile that configures maven-failsafe to run in a separate goal - this test is executed when I run maven failsafe:integration-test -DmyProfile","body":"I have a maven profile that configures maven-failsafe to run in a separate goal - this test is executed when I run maven failsafe:integration-test -DmyProfile"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1582569826,"post_id":60381973,"comment_id":106815142,"body_markdown":"Please edit your question and add this to the question text. It is too difficult to read through comments for this information.","body":"Please edit your question and add this to the question text. It is too difficult to read through comments for this information."},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":1,"creation_date":1582570049,"post_id":60381973,"comment_id":106815242,"body_markdown":"Ok, I will do it tomorrow first thing","body":"Ok, I will do it tomorrow first thing"},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":0,"creation_date":1582625373,"post_id":60381973,"comment_id":106833247,"body_markdown":"@GregBurghardt  let me know if there is anything else you need - Thank you for your help","body":"@GregBurghardt  let me know if there is anything else you need - Thank you for your help"},{"owner":{"account_id":2637826,"reputation":320,"user_id":2282093,"accept_rate":100,"display_name":"Joao Neto"},"score":0,"creation_date":1609980475,"post_id":60381973,"comment_id":115992714,"body_markdown":"I&#39;ve had the same question for years... It&#39;s unfortunate that the ruby version of cucumber does this and the JVM doesn&#39;t.","body":"I&#39;ve had the same question for years... It&#39;s unfortunate that the ruby version of cucumber does this and the JVM doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":10013697,"reputation":334,"user_id":7405767,"display_name":"ice1080"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635376888,"creation_date":1635376888,"answer_id":69746544,"question_id":60381973,"body_markdown":"I noticed that there was no solution to this still and couldn&#39;t find one anywhere else. We were able to get this to work using a custom afterStep hook, though we&#39;re doing this with cucumber-jvm-groovy so obviously it&#39;s a bit different. You should be able to take something like this and convert it to java if you&#39;re determined though.\r\n\r\n```\r\nimport cucumber.api.PickleStepTestStep\r\nimport cucumber.api.TestCase\r\nimport cucumber.runner.Scenario\r\nimport gherkin.pickles.PickleCell\r\nimport gherkin.pickles.PickleRow\r\nimport gherkin.pickles.PickleTable\r\nimport groovy.util.logging.Log4j\r\nimport util.StringHelper\r\n\r\nimport java.lang.reflect.Field\r\n\r\n@Log4j\r\nclass CucumberHelper {\r\n\r\n    static TestCase getTestCase(Scenario scenario) {\r\n        Field testCaseField = scenario.getClass().getDeclaredField(&quot;testCase&quot;)\r\n        testCaseField.setAccessible(true)\r\n        (TestCase) testCaseField.get(scenario)\r\n    }\r\n\r\n    static PickleStepTestStep getStepObject(TestCase testCase, int stepIndex) {\r\n        (PickleStepTestStep) testCase.getTestSteps()[stepIndex]\r\n    }\r\n\r\n    static printDataTables(PickleStepTestStep step, boolean stepPassed) {\r\n        if (stepContainsDataTable(step)) {\r\n            PickleTable table = getDataTable(step)\r\n            printTable(table, stepPassed)\r\n        }\r\n    }\r\n\r\n    static private boolean stepContainsDataTable(PickleStepTestStep step) {\r\n        step?.step?.arguments?.any { it instanceof PickleTable }\r\n    }\r\n\r\n    static private PickleTable getDataTable(PickleStepTestStep step) {\r\n        step.step.arguments.find { it instanceof PickleTable }\r\n    }\r\n\r\n    static private void printTable(PickleTable table, boolean stepPassed) {\r\n        List&lt;Integer&gt; widths = []\r\n        table.rows.each { PickleRow row -&gt;\r\n            row.cells.eachWithIndex { PickleCell cell, int i -&gt;\r\n                int max = widths[i] ?: 0\r\n                int cellWidth = cell.value.length()\r\n                if(cellWidth &gt; max){\r\n                    widths[i] = cellWidth\r\n                }\r\n            }\r\n        }\r\n        table.rows.each { PickleRow row -&gt;\r\n            printRow(row, stepPassed, widths)\r\n        }\r\n    }\r\n\r\n    static private void printRow(PickleRow row, boolean stepPassed, List&lt;Integer&gt; columnWidths) {\r\n        String output = &#39;      | &#39;\r\n        row.cells.eachWithIndex { PickleCell cell, int i -&gt;\r\n            output += cell.value.padRight(columnWidths[i]) + &#39; | &#39;\r\n        }\r\n        println getConsoleColor(stepPassed) + output + StringHelper.ANSI_RESET\r\n    }\r\n\r\n    static private String getConsoleColor(boolean stepPassed) {\r\n        stepPassed ? StringHelper.ANSI_GREEN : StringHelper.ANSI_RED\r\n    }\r\n\r\n    static void logBeforeStep(PickleStepTestStep step) {\r\n        log.trace &quot;BEFORE STEP:\\n\\n\\t${step.stepText}\\n&quot;\r\n    }\r\n\r\n    static void logAfterStep(PickleStepTestStep step) {\r\n        log.trace &quot;AFTER STEP:\\n\\n\\t${step.stepText}\\n&quot;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the hook:\r\n```\r\nAfterStep() { Scenario scenario -&gt;\r\n  try {\r\n    TestCase testCase = CucumberHelper.getTestCase(scenario)\r\n    PickleStepTestStep step = CucumberHelper.getStepObject(testCase, scenario.stepResults.size() - 1)\r\n\r\n    CucumberHelper.logAfterStep(step)\r\n    CucumberHelper.printDataTables(step, !scenario.isFailed())\r\n  } catch (Throwable t) {\r\n    // ignore, this hook is only for logging\r\n  }\r\n}\r\n```\r\n(Obviously there&#39;s some extra functionality in there for our use cases, but it might help others. The StringHelper just adds unicode characters for coloring the output but you could easily remove that and have it print in standard terminal colors.)","title":"Can I have cucumber datatable printed in the console output in Java?","body":"<p>I noticed that there was no solution to this still and couldn't find one anywhere else. We were able to get this to work using a custom afterStep hook, though we're doing this with cucumber-jvm-groovy so obviously it's a bit different. You should be able to take something like this and convert it to java if you're determined though.</p>\n<pre><code>import cucumber.api.PickleStepTestStep\nimport cucumber.api.TestCase\nimport cucumber.runner.Scenario\nimport gherkin.pickles.PickleCell\nimport gherkin.pickles.PickleRow\nimport gherkin.pickles.PickleTable\nimport groovy.util.logging.Log4j\nimport util.StringHelper\n\nimport java.lang.reflect.Field\n\n@Log4j\nclass CucumberHelper {\n\n    static TestCase getTestCase(Scenario scenario) {\n        Field testCaseField = scenario.getClass().getDeclaredField(&quot;testCase&quot;)\n        testCaseField.setAccessible(true)\n        (TestCase) testCaseField.get(scenario)\n    }\n\n    static PickleStepTestStep getStepObject(TestCase testCase, int stepIndex) {\n        (PickleStepTestStep) testCase.getTestSteps()[stepIndex]\n    }\n\n    static printDataTables(PickleStepTestStep step, boolean stepPassed) {\n        if (stepContainsDataTable(step)) {\n            PickleTable table = getDataTable(step)\n            printTable(table, stepPassed)\n        }\n    }\n\n    static private boolean stepContainsDataTable(PickleStepTestStep step) {\n        step?.step?.arguments?.any { it instanceof PickleTable }\n    }\n\n    static private PickleTable getDataTable(PickleStepTestStep step) {\n        step.step.arguments.find { it instanceof PickleTable }\n    }\n\n    static private void printTable(PickleTable table, boolean stepPassed) {\n        List&lt;Integer&gt; widths = []\n        table.rows.each { PickleRow row -&gt;\n            row.cells.eachWithIndex { PickleCell cell, int i -&gt;\n                int max = widths[i] ?: 0\n                int cellWidth = cell.value.length()\n                if(cellWidth &gt; max){\n                    widths[i] = cellWidth\n                }\n            }\n        }\n        table.rows.each { PickleRow row -&gt;\n            printRow(row, stepPassed, widths)\n        }\n    }\n\n    static private void printRow(PickleRow row, boolean stepPassed, List&lt;Integer&gt; columnWidths) {\n        String output = '      | '\n        row.cells.eachWithIndex { PickleCell cell, int i -&gt;\n            output += cell.value.padRight(columnWidths[i]) + ' | '\n        }\n        println getConsoleColor(stepPassed) + output + StringHelper.ANSI_RESET\n    }\n\n    static private String getConsoleColor(boolean stepPassed) {\n        stepPassed ? StringHelper.ANSI_GREEN : StringHelper.ANSI_RED\n    }\n\n    static void logBeforeStep(PickleStepTestStep step) {\n        log.trace &quot;BEFORE STEP:\\n\\n\\t${step.stepText}\\n&quot;\n    }\n\n    static void logAfterStep(PickleStepTestStep step) {\n        log.trace &quot;AFTER STEP:\\n\\n\\t${step.stepText}\\n&quot;\n    }\n\n}\n</code></pre>\n<p>And the hook:</p>\n<pre><code>AfterStep() { Scenario scenario -&gt;\n  try {\n    TestCase testCase = CucumberHelper.getTestCase(scenario)\n    PickleStepTestStep step = CucumberHelper.getStepObject(testCase, scenario.stepResults.size() - 1)\n\n    CucumberHelper.logAfterStep(step)\n    CucumberHelper.printDataTables(step, !scenario.isFailed())\n  } catch (Throwable t) {\n    // ignore, this hook is only for logging\n  }\n}\n</code></pre>\n<p>(Obviously there's some extra functionality in there for our use cases, but it might help others. The StringHelper just adds unicode characters for coloring the output but you could easily remove that and have it print in standard terminal colors.)</p>\n"}],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1635376888,"creation_date":1582569062,"question_id":60381973,"body_markdown":"E.g. If this is my feature file:\r\n\r\n    Scenario: Some dummy scenario\r\n        Given that I do something with this datatable:\r\n          | print   | this |\r\n          | and     | this |\r\n        And something else\r\n\r\nThe output looks like:\r\n\r\n    Given that I do something with this datatable:\r\n    And something else\r\n\r\n\r\nI was wondering if it is possible to have an output similar to this:\r\n\r\n    Given that I do something with this datatable:\r\n      | print   | this |\r\n      | and     | this |\r\n    And something else\r\n\r\n\r\nThank you for your help\r\n\r\n------\r\n**Edit:** As requested, the details of my setup are exposed bellow.\r\n\r\nI am using Java and this is the class responsible for the configuration:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(plugin = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;},\r\n            monochrome = false,\r\n            glue = {&quot;my.dummy.package&quot;},\r\n            features = {&quot;classpath:dummy.feature&quot;})\r\n    public class DummyFT {\r\n   \r\n        @Test\r\n        public void test() throws IOException {\r\n    \r\n        }\r\n    }\r\n\r\nThese tests are executed as a separate maven goal. My profile section has:\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;functional-tests&lt;/id&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testSourceDirectory&gt;test/test-functional/java&lt;/testSourceDirectory&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/*FT.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\nand the failsafe plugin:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven.surefire.junit47}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                        &lt;goal&gt;verify&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\nAnd the cucumber dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nFinally, the tests are triggered by running:\r\n\r\n    mvn failsafe:integration-test -Pfunctional-tests\r\n\r\n","title":"Can I have cucumber datatable printed in the console output in Java?","body":"<p>E.g. If this is my feature file:</p>\n\n<pre><code>Scenario: Some dummy scenario\n    Given that I do something with this datatable:\n      | print   | this |\n      | and     | this |\n    And something else\n</code></pre>\n\n<p>The output looks like:</p>\n\n<pre><code>Given that I do something with this datatable:\nAnd something else\n</code></pre>\n\n<p>I was wondering if it is possible to have an output similar to this:</p>\n\n<pre><code>Given that I do something with this datatable:\n  | print   | this |\n  | and     | this |\nAnd something else\n</code></pre>\n\n<p>Thank you for your help</p>\n\n<hr>\n\n<p><strong>Edit:</strong> As requested, the details of my setup are exposed bellow.</p>\n\n<p>I am using Java and this is the class responsible for the configuration:</p>\n\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(plugin = {\"pretty\", \"html:target/cucumber\"},\n        monochrome = false,\n        glue = {\"my.dummy.package\"},\n        features = {\"classpath:dummy.feature\"})\npublic class DummyFT {\n\n    @Test\n    public void test() throws IOException {\n\n    }\n}\n</code></pre>\n\n<p>These tests are executed as a separate maven goal. My profile section has:</p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;functional-tests&lt;/id&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;testSourceDirectory&gt;test/test-functional/java&lt;/testSourceDirectory&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*FT.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p>and the failsafe plugin:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.junit47}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                    &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>And the cucumber dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Finally, the tests are triggered by running:</p>\n\n<pre><code>mvn failsafe:integration-test -Pfunctional-tests\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635367234,"post_id":69745116,"comment_id":123282362,"body_markdown":"_Is_ `User` an `Audit`, or does `User` _have_ an `Audit`?","body":"<i>Is</i> <code>User</code> an <code>Audit</code>, or does <code>User</code> <i>have</i> an <code>Audit</code>?"},{"owner":{"account_id":23161424,"reputation":1,"user_id":17262024,"display_name":"Oleg"},"score":0,"creation_date":1635507283,"post_id":69745116,"comment_id":123323151,"body_markdown":"Both variants are possible\n\nBut I think option &quot;User have an Audit&quot; is more correct","body":"Both variants are possible  But I think option &quot;User have an Audit&quot; is more correct"}],"answers":[{"tags":[],"owner":{"account_id":5010689,"reputation":1,"user_id":4027060,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635376639,"creation_date":1635376639,"answer_id":69746521,"question_id":69745116,"body_markdown":"In general for OOP there is this design pattern of &quot;Composition over inheritance&quot; but it is more functionality-oriented.\r\n\r\nHere you model the domain.\r\n\r\nIf your entity (user) is audited - consider superclass AuditedEntity.\r\n\r\nCan be root for all your audited entities (users, ...).\r\n\r\nNote: Be aware, that this way you put on yourself a convention for consistent naming of audit columns in your project.\r\n\r\n","title":"Inheritance vs Composition in Hibernate","body":"<p>In general for OOP there is this design pattern of &quot;Composition over inheritance&quot; but it is more functionality-oriented.</p>\n<p>Here you model the domain.</p>\n<p>If your entity (user) is audited - consider superclass AuditedEntity.</p>\n<p>Can be root for all your audited entities (users, ...).</p>\n<p>Note: Be aware, that this way you put on yourself a convention for consistent naming of audit columns in your project.</p>\n"}],"owner":{"account_id":23161424,"reputation":1,"user_id":17262024,"display_name":"Oleg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635376639,"creation_date":1635366726,"question_id":69745116,"body_markdown":"Many tables have audit columns like created_by, created_date, updated_by, updated_date.\r\n\r\nUses Java we can create Audit class with these columns and logic.\r\n\r\nOther entities can get Audit functionality uses:\r\n1. Inheritance (use @MappedSuperclass for Audit class)\r\nor\r\n2. Composition (add attribute with type Audit)\r\n\r\nWhich option is more correct for Audit columns?","title":"Inheritance vs Composition in Hibernate","body":"<p>Many tables have audit columns like created_by, created_date, updated_by, updated_date.</p>\n<p>Uses Java we can create Audit class with these columns and logic.</p>\n<p>Other entities can get Audit functionality uses:</p>\n<ol>\n<li>Inheritance (use @MappedSuperclass for Audit class)\nor</li>\n<li>Composition (add attribute with type Audit)</li>\n</ol>\n<p>Which option is more correct for Audit columns?</p>\n"},{"tags":["java","antlr","antlr4","abstract-syntax-tree"],"comments":[{"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"score":1,"creation_date":1635324217,"post_id":69732452,"comment_id":123264150,"body_markdown":"I&#39;d like to start here by asking: why do you want to remove those nodes? Do they harm you in any way? Why can&#39;t you just ignore them?","body":"I&#39;d like to start here by asking: why do you want to remove those nodes? Do they harm you in any way? Why can&#39;t you just ignore them?"},{"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"score":1,"creation_date":1635336072,"post_id":69732452,"comment_id":123269092,"body_markdown":"I’ll “pile on” to Mike’s comment…. Once you see how ANTLR optimizes memory utilization and understand listeners and visitors well, these “extraneous” node rather disappear from view.  Many people (myself included), when they see the tree structures, have an instinct to clear the clutter.  That’s generally a good instinct, but you could go to a lot of work and find that you’ve saved yourself, just a minor annoyance of seeing a few “unnecessary” fields.","body":"I’ll “pile on” to Mike’s comment…. Once you see how ANTLR optimizes memory utilization and understand listeners and visitors well, these “extraneous” node rather disappear from view.  Many people (myself included), when they see the tree structures, have an instinct to clear the clutter.  That’s generally a good instinct, but you could go to a lot of work and find that you’ve saved yourself, just a minor annoyance of seeing a few “unnecessary” fields."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":1,"creation_date":1635336563,"post_id":69732452,"comment_id":123269300,"body_markdown":"Extra nodes result in a larger parse tree, which puts pressure on memory. In Antlr4, there are two ways around this, but both options are painful. (1) You delete them after the entire parse is done (using XPath/delete node traversal, standard Antlr4 listener or visitor, or your own cooked up traverser), or during the parse (which I haven&#39;t tried, but seems possible but dangerous). (2) Use `parser.BuildParseTree = false;`, and use the `ruleReturns` syntax to construct an alternative parse tree. The `^ ! -&gt;`-syntax is not in Antlr4, but I am thinking of writing a generator to reintroduce.","body":"Extra nodes result in a larger parse tree, which puts pressure on memory. In Antlr4, there are two ways around this, but both options are painful. (1) You delete them after the entire parse is done (using XPath/delete node traversal, standard Antlr4 listener or visitor, or your own cooked up traverser), or during the parse (which I haven&#39;t tried, but seems possible but dangerous). (2) Use <code>parser.BuildParseTree = false;</code>, and use the <code>ruleReturns</code> syntax to construct an alternative parse tree. The <code>^ ! -&gt;</code>-syntax is not in Antlr4, but I am thinking of writing a generator to reintroduce."},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1635337116,"post_id":69732452,"comment_id":123269554,"body_markdown":"&quot;but I am thinking of writing a generator to reintroduce&quot;: once every now and then I&#39;m thinking the same thing @kaby76! :)","body":"&quot;but I am thinking of writing a generator to reintroduce&quot;: once every now and then I&#39;m thinking the same thing @kaby76! :)"},{"owner":{"account_id":14445378,"reputation":63,"user_id":10434677,"display_name":"Michael"},"score":1,"creation_date":1635376758,"post_id":69732452,"comment_id":123284716,"body_markdown":"Thanks everyone for your help, I plan to write a translator using the listener pattern. Memory efficiency isn&#39;t really a priority here as it&#39;s for a hobby project, convenience and brevity of code is my main concern. The listener pattern seems especially well suited to my task.","body":"Thanks everyone for your help, I plan to write a translator using the listener pattern. Memory efficiency isn&#39;t really a priority here as it&#39;s for a hobby project, convenience and brevity of code is my main concern. The listener pattern seems especially well suited to my task."},{"owner":{"account_id":4813001,"reputation":521,"user_id":3885930,"accept_rate":30,"display_name":"Ross Youngblood"},"score":0,"creation_date":1637177675,"post_id":69732452,"comment_id":123759303,"body_markdown":"I started thinking you could play with lexer modes to exclude the &quot;,&quot; from the token stream to the parser.  But it blurs/crosses a line between lexer and parser to put this complexity into the lexer.  I was considering having MNEMONICnn where nn was the operand  count as the lexer could be told how many operands to expect.  Then the tokens could be retyped as MNEMONIC with -&gt;type(MNEMONIC) so the parser could just be getting MNEMONIC and Operands with the comma removed.","body":"I started thinking you could play with lexer modes to exclude the &quot;,&quot; from the token stream to the parser.  But it blurs/crosses a line between lexer and parser to put this complexity into the lexer.  I was considering having MNEMONICnn where nn was the operand  count as the lexer could be told how many operands to expect.  Then the tokens could be retyped as MNEMONIC with -&gt;type(MNEMONIC) so the parser could just be getting MNEMONIC and Operands with the comma removed."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635315796,"creation_date":1635315796,"answer_id":69733737,"question_id":69732452,"body_markdown":"Your question boils down to: &quot;how can I convert my parse tree to an abstract syntax tree?&quot;. The simple answer to that is: &quot;you can&#39;t&quot; :). At least, not using a built-in ANTLR mechanism. You&#39;ll have to traverse the parse tree (using ANTLR&#39;s visitor- or listener mechanism) and construct your AST manually.\r\n\r\nThe feature to more easily create AST&#39;s from a parse tree often pops up both in ANTLR&#39;s Github repo:\r\n\r\n- https://github.com/antlr/antlr4/issues/2428 \r\n\r\nas well as on stackoverflow: \r\n\r\n- https://stackoverflow.com/questions/31473116/generate-ast-using-antlr4-generated-visitor\r\n- https://stackoverflow.com/questions/44003999/antlr4-ast-creation-how-to-create-an-astvistor","title":"How to leave out unimportant nodes?","body":"<p>Your question boils down to: &quot;how can I convert my parse tree to an abstract syntax tree?&quot;. The simple answer to that is: &quot;you can't&quot; :). At least, not using a built-in ANTLR mechanism. You'll have to traverse the parse tree (using ANTLR's visitor- or listener mechanism) and construct your AST manually.</p>\n<p>The feature to more easily create AST's from a parse tree often pops up both in ANTLR's Github repo:</p>\n<ul>\n<li><a href=\"https://github.com/antlr/antlr4/issues/2428\" rel=\"noreferrer\">https://github.com/antlr/antlr4/issues/2428</a></li>\n</ul>\n<p>as well as on stackoverflow:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31473116/generate-ast-using-antlr4-generated-visitor\">Generate AST using ANTLR4 generated visitor</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44003999/antlr4-ast-creation-how-to-create-an-astvistor\">ANTLR4 AST Creation - How to create an AstVistor</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635349918,"creation_date":1635330583,"answer_id":69736998,"question_id":69732452,"body_markdown":"For ANTLR, as Bart says, you can&#39;t do it without doing it yourself.  Essentially you have to write custom code to walk over the CST and construct a custom AST.\r\n\r\nIt doesn&#39;t have to be this way.  You can construct parser generators that automatically build trees that:\r\n\r\n* Leave out nodes that don&#39;t carry any values (e.g., &quot;comma&quot;, EOL)\r\n* Remove chains of unary productions (e.g., &quot;firstoperand&quot; and &quot;secondoperand; these are short chains in your example but expression trees tend to have long ones)\r\n* Construct node-lists whenever right or left leaning trees are generated from grammar rules that represent lists, replacing the &quot;spine&quot; nodes and the list-ending node if any with a single list node. (Your example doesn&#39;t have any of these). This makes lists smaller and easier to manipulate.\r\n\r\nThe result gives something very close to classic ASTs without any manual effort; the resulting trees are often 30-50% of the size of the CSTs from which they are automatically derived.\r\n\r\nThis matters when\r\n* working with large grammars (you don&#39;t want have define the mapping of every single node by hand for 3500 rules)\r\n* working with grammars that are rapidly changing (as you try get a first working draft right)\r\n* building tools that process very large trees (representing very large [systems] of source code, say the Linux source tree) that have to touch billions of nodes to compute the answer, by avoiding lots of accesses to cache lines that would contain concrete nodes or list spines.\r\n\r\nI&#39;d provide the name of tool that does this that I designed and built, but some SO people hate it when I do so.  You can check my profile.","title":"How to leave out unimportant nodes?","body":"<p>For ANTLR, as Bart says, you can't do it without doing it yourself.  Essentially you have to write custom code to walk over the CST and construct a custom AST.</p>\n<p>It doesn't have to be this way.  You can construct parser generators that automatically build trees that:</p>\n<ul>\n<li>Leave out nodes that don't carry any values (e.g., &quot;comma&quot;, EOL)</li>\n<li>Remove chains of unary productions (e.g., &quot;firstoperand&quot; and &quot;secondoperand; these are short chains in your example but expression trees tend to have long ones)</li>\n<li>Construct node-lists whenever right or left leaning trees are generated from grammar rules that represent lists, replacing the &quot;spine&quot; nodes and the list-ending node if any with a single list node. (Your example doesn't have any of these). This makes lists smaller and easier to manipulate.</li>\n</ul>\n<p>The result gives something very close to classic ASTs without any manual effort; the resulting trees are often 30-50% of the size of the CSTs from which they are automatically derived.</p>\n<p>This matters when</p>\n<ul>\n<li>working with large grammars (you don't want have define the mapping of every single node by hand for 3500 rules)</li>\n<li>working with grammars that are rapidly changing (as you try get a first working draft right)</li>\n<li>building tools that process very large trees (representing very large [systems] of source code, say the Linux source tree) that have to touch billions of nodes to compute the answer, by avoiding lots of accesses to cache lines that would contain concrete nodes or list spines.</li>\n</ul>\n<p>I'd provide the name of tool that does this that I designed and built, but some SO people hate it when I do so.  You can check my profile.</p>\n"},{"tags":[],"owner":{"account_id":14445378,"reputation":63,"user_id":10434677,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635376585,"creation_date":1635376585,"answer_id":69746513,"question_id":69732452,"body_markdown":"For anyone who is stuck on this, Bart Kiers&#39;s answer is a great jumping off point, some resources I found that explain the Listener/Visitor patterns well are:\r\n\r\n - [This presentation][1] from the CS dept at Taylor University and\r\n   accompanying [GitHub example][2](specifically the parts about the\r\n   visitor pattern)\r\n - [The Definitive ANTLR4 reference&#39;s][3] example &quot;4.3 Building a Translator with a\r\n   Listener&quot;\r\n\r\n\r\n  [1]: https://gfx.cse.taylor.edu/courses/cos382/slides/04_ANTLR.md.html?scale\r\n  [2]: https://github.com/shmatov/antlr4-calculator\r\n  [3]: https://pragprog.com/titles/tpantlr2/the-definitive-antlr-4-reference/","title":"How to leave out unimportant nodes?","body":"<p>For anyone who is stuck on this, Bart Kiers's answer is a great jumping off point, some resources I found that explain the Listener/Visitor patterns well are:</p>\n<ul>\n<li><a href=\"https://gfx.cse.taylor.edu/courses/cos382/slides/04_ANTLR.md.html?scale\" rel=\"nofollow noreferrer\">This presentation</a> from the CS dept at Taylor University and\naccompanying <a href=\"https://github.com/shmatov/antlr4-calculator\" rel=\"nofollow noreferrer\">GitHub example</a>(specifically the parts about the\nvisitor pattern)</li>\n<li><a href=\"https://pragprog.com/titles/tpantlr2/the-definitive-antlr-4-reference/\" rel=\"nofollow noreferrer\">The Definitive ANTLR4 reference's</a> example &quot;4.3 Building a Translator with a\nListener&quot;</li>\n</ul>\n"}],"owner":{"account_id":14445378,"reputation":63,"user_id":10434677,"display_name":"Michael"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69733737,"answer_count":3,"score":5,"last_activity_date":1635376585,"creation_date":1635305722,"question_id":69732452,"body_markdown":"I am using ANTLR 4.9.2 to parse a grammar that represents assembly instructions.\r\n\r\n```\r\ngrammar IrohAsm;\r\nmain: line* | EOF;\r\n\r\nline: (rangedec | instruction | comment)? EOL;\r\n\r\ninstruction: MNEMONIC firstoperand COMMA secondoperand;\r\nrangedec : range assignment?;\r\nfirstoperand : range | mem | REGISTER;\r\nsecondoperand : range | mem | IMM | REGISTER;\r\nrange : IDENTIFIER OPENBRACKETS IMM CLOSEDBRACKETS;\r\nassignment : EQUALS OPENCURL IMM (COMMA IMM)* CLOSECURL;\r\nmem : AT IMM;\r\ncomment : &#39;#&#39; ~EOL*;\r\n\r\nWHITESPACE : (&#39; &#39;) -&gt; skip ;\r\n\r\n// remember to append \\n to input\r\nEOL : &#39;\\n&#39;;\r\n\r\nOPENCURL : &#39;{&#39;;\r\nCLOSECURL : &#39;}&#39;;\r\nOPENBRACKETS : &#39;[&#39;;\r\nCLOSEDBRACKETS : &#39;]&#39;;\r\nCOMMA : &#39;,&#39;;\r\nEQUALS : &#39;=&#39;;\r\nAT : &#39;@&#39;;\r\nMNEMONIC : (&#39;jmp&#39; | &#39;add&#39; | &#39;sub&#39; | &#39;jez&#39; | &#39;mov&#39; | &#39;wrt&#39; | &#39;get&#39;);\r\nREGISTER: (&#39;ab&#39; | &#39;bb&#39; | &#39;cb&#39; | &#39;db&#39;);\r\nIMM : DIGITS RADIX?;\r\nRADIX : (&#39;d&#39; | &#39;b&#39; | &#39;h&#39;);\r\nDIGITS : [0-9]+;\r\nIDENTIFIER: ([a-zA-Z0-9] | &#39;$&#39; | &#39;_&#39; | &#39;\\u00C0&#39;..&#39;\\uFFFF&#39;)+ ;\r\n```\r\n\r\nThe grammar works fine, but generates trees like the following;\r\n\r\n![Parse Tree Example][1]\r\n\r\nwhen given the following input:\r\n```\r\nmov ab,ab\r\n\r\n```\r\n\r\nAs you can see, COMMA is included as one of the children of instruction. Its placement is important for the language, but I don&#39;t really care about it after parsing. Is there some way I could leave it off the final tree entirely? And if so, would this be a change to the grammar, or my code to parse the tree?\r\n\r\n![Removing Extraneous Nodes][2]\r\n\r\nMy current code to get the tree:\r\n\r\n    CharStream inputStream = CharStreams.fromFileName(&quot;src/test/assembly/cool.asm&quot;);\r\n    IrohAsmLexer lexer = new IrohAsmLexer(inputStream);\r\n    IrohAsmParser parser = new IrohAsmParser(new CommonTokenStream(lexer));\r\n    ParseTree parseTree = parser.main();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CQNq1.png\r\n  [2]: https://i.stack.imgur.com/Akp9V.png","title":"How to leave out unimportant nodes?","body":"<p>I am using ANTLR 4.9.2 to parse a grammar that represents assembly instructions.</p>\n<pre><code>grammar IrohAsm;\nmain: line* | EOF;\n\nline: (rangedec | instruction | comment)? EOL;\n\ninstruction: MNEMONIC firstoperand COMMA secondoperand;\nrangedec : range assignment?;\nfirstoperand : range | mem | REGISTER;\nsecondoperand : range | mem | IMM | REGISTER;\nrange : IDENTIFIER OPENBRACKETS IMM CLOSEDBRACKETS;\nassignment : EQUALS OPENCURL IMM (COMMA IMM)* CLOSECURL;\nmem : AT IMM;\ncomment : '#' ~EOL*;\n\nWHITESPACE : (' ') -&gt; skip ;\n\n// remember to append \\n to input\nEOL : '\\n';\n\nOPENCURL : '{';\nCLOSECURL : '}';\nOPENBRACKETS : '[';\nCLOSEDBRACKETS : ']';\nCOMMA : ',';\nEQUALS : '=';\nAT : '@';\nMNEMONIC : ('jmp' | 'add' | 'sub' | 'jez' | 'mov' | 'wrt' | 'get');\nREGISTER: ('ab' | 'bb' | 'cb' | 'db');\nIMM : DIGITS RADIX?;\nRADIX : ('d' | 'b' | 'h');\nDIGITS : [0-9]+;\nIDENTIFIER: ([a-zA-Z0-9] | '$' | '_' | '\\u00C0'..'\\uFFFF')+ ;\n</code></pre>\n<p>The grammar works fine, but generates trees like the following;</p>\n<p><img src=\"https://i.stack.imgur.com/CQNq1.png\" alt=\"Parse Tree Example\" /></p>\n<p>when given the following input:</p>\n<pre><code>mov ab,ab\n\n</code></pre>\n<p>As you can see, COMMA is included as one of the children of instruction. Its placement is important for the language, but I don't really care about it after parsing. Is there some way I could leave it off the final tree entirely? And if so, would this be a change to the grammar, or my code to parse the tree?</p>\n<p><img src=\"https://i.stack.imgur.com/Akp9V.png\" alt=\"Removing Extraneous Nodes\" /></p>\n<p>My current code to get the tree:</p>\n<pre><code>CharStream inputStream = CharStreams.fromFileName(&quot;src/test/assembly/cool.asm&quot;);\nIrohAsmLexer lexer = new IrohAsmLexer(inputStream);\nIrohAsmParser parser = new IrohAsmParser(new CommonTokenStream(lexer));\nParseTree parseTree = parser.main();\n</code></pre>\n"},{"tags":["java","javafx","timestamp","pane"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1635346774,"post_id":69740941,"comment_id":123274483,"body_markdown":"What do you mean &quot;it goes red&quot;?","body":"What do you mean &quot;it goes red&quot;?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1635348026,"post_id":69740941,"comment_id":123275048,"body_markdown":"Is `TimeStap` a node? Is it a POJO?","body":"Is <code>TimeStap</code> a node? Is it a POJO?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1635349414,"post_id":69740941,"comment_id":123275688,"body_markdown":"btw: don&#39;t use the outdated Date (and related) classes, instead use the new LocalDate/Time","body":"btw: don&#39;t use the outdated Date (and related) classes, instead use the new LocalDate/Time"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1635353494,"post_id":69740941,"comment_id":123277489,"body_markdown":"The [tutorial trail](https://docs.oracle.com/javase/tutorial/datetime/index.html) for the time classes you should be using.  Please spend some time to study it and adjust your code accordingly.  The time API selection is a best practice issue rather than the immediate cause of your (multiple)  compile and runtime issues with your current code, which will not function.","body":"The <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">tutorial trail</a> for the time classes you should be using.  Please spend some time to study it and adjust your code accordingly.  The time API selection is a best practice issue rather than the immediate cause of your (multiple)  compile and runtime issues with your current code, which will not function."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635346864,"creation_date":1635346864,"answer_id":69741027,"question_id":69740941,"body_markdown":"You should show the timestamp as text with the `TextField` ([Doc](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextField.html)) :\r\n\r\n```java\r\nTextField myText = new TextField();\r\nmyText.setText(&quot;Time: &quot; + formatter.format(ts));\r\n// set what you want to the TextField object: padding, size, color etc...\r\np.getChildren().addAll(myText);\r\n```","title":"How to add a timestamp in java on a pane","body":"<p>You should show the timestamp as text with the <code>TextField</code> (<a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextField.html\" rel=\"nofollow noreferrer\">Doc</a>) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextField myText = new TextField();\nmyText.setText(&quot;Time: &quot; + formatter.format(ts));\n// set what you want to the TextField object: padding, size, color etc...\np.getChildren().addAll(myText);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635376477,"creation_date":1635365135,"answer_id":69744823,"question_id":69740941,"body_markdown":"### Answer for displaying a timestamp\r\n\r\nSpecifically, for the timestamp question, see the following example code:\r\n\r\n    private Label createTimestampLabel() {\r\n        LocalDateTime now = LocalDateTime.now();\r\n        String formattedTimestamp = now.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME);\r\n\r\n        return new Label(formattedTimestamp);\r\n    }\r\n\r\nIt uses the [java.time][1] APIs explained in the [Oracle Date Time tutorial](https://docs.oracle.com/javase/tutorial/datetime/index.html) to get the current time from LocalDateTime and format it as a String using a standard format.  \r\n\r\nIt sets the formatted timestamp string as the text of a Label node.\r\n\r\nNow that the returned element is a Node, it can be placed in the scene graph without generating the compile error you saw in your original example.\r\n\r\nUsing the `java.time` APIs is preferred over the `java.sql.Timestamp` and `java.util.Date` code in your question. You are not working with SQL, so you should not be using `java.sql.Timestamp`.  The `java.time` classes also have many improvements over obsolete date and time functions used in other Java packages like `java.util`.\r\n\r\n### Answer in context with a re-write of your example code\r\n\r\nThere were a lot of things about the provided example application that were either wrong or annoyed me. \r\n\r\nSo I re-wrote it to match a bit more closely how I would normally write such an application.  \r\n\r\nThere are maybe a hundred different small decisions made in the choices for how to implement the re-write and explaining them all here would be too verbose.\r\n\r\nHopefully, you can compare the re-write to your original code, note some of the differences, and learn some things from it.\r\n\r\n[![example app][2]][2]\r\n\r\n**GraphicControlApp.java**\r\n\r\n    package org.example.javafx.demo.graphiccontrol;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class GraphicControlApp extends Application {\r\n    \r\n        public void start(Stage stage) {\r\n            GraphicController graphicController = new GraphicController();\r\n    \r\n            Scene scene = new Scene(graphicController.getUI());\r\n    \r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;JavaFX Interactive Graphic Control Demonstration&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n    }\r\n\r\n**GraphicController.java**\r\n\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.input.KeyEvent;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.scene.shape.Rectangle;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    /**\r\n     * UI creator and controller for application logic.\r\n     *\r\n     * Normally, most UI elements would be defined externally in FXML,\r\n     * however, for a simple application, we define the UI via private functions in this class.\r\n     */\r\n    public class GraphicController {\r\n        // amount to move the circle across the surface on interaction.\r\n        private static final double MOVEMENT_DELTA = 20.0;\r\n    \r\n        // default spacing between UI elements.\r\n        private static final double SPACING = 10;\r\n    \r\n        // normally the styles would be configured in an external css stylesheet,\r\n        // but we place the background definitions here for a simple application.\r\n        private static final Color SURFACE_COLOR = Color.rgb(190, 220, 190);\r\n        private static final Background surfaceBackground = createBackground(SURFACE_COLOR);\r\n        private static final Color APP_BACKGROUND_COLOR = Color.rgb(150, 200, 150);\r\n        private static final Background appBackground = createBackground(APP_BACKGROUND_COLOR);\r\n    \r\n        private Button up;\r\n        private Button down;\r\n    \r\n        /**\r\n         * @return the complete layout for the application with event handlers attached for logic control.\r\n         */\r\n        public Pane getUI() {\r\n            Circle circle = new Circle(75, 100, 20);\r\n    \r\n            Pane surface = createSurface(circle);\r\n            HBox controls = createControls(circle);\r\n            Label timestampLabel = createTimestampLabel();\r\n    \r\n            Pane layout = createLayout(surface, controls, timestampLabel);\r\n            attachKeyboardHandlers(layout);\r\n    \r\n            return layout;\r\n        }\r\n    \r\n        /**\r\n         * Create a label formatted with the current time in ISO standard format (e.g. &#39;2011-12-03T10:15:30&#39;)\r\n         *\r\n         * @return label with the current timestamp.\r\n         */\r\n        private Label createTimestampLabel() {\r\n            LocalDateTime now = LocalDateTime.now();\r\n            String formattedTimestamp = now.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME);\r\n    \r\n            return new Label(formattedTimestamp);\r\n        }\r\n    \r\n        /**\r\n         * Create a surface on which a circle can move.\r\n         *\r\n         * @param circle the circle which can move on the surface.\r\n         * @return the created surface.\r\n         */\r\n        private Pane createSurface(Circle circle) {\r\n            Pane surface = new Pane();\r\n    \r\n            surface.setMinSize(100, 150);\r\n            surface.setBackground(surfaceBackground);\r\n            surface.getChildren().addAll(circle);\r\n    \r\n            // we must define a clip on the surface to ensure that elements\r\n            // in the surface do not render outside the surface.\r\n            Rectangle clip = new Rectangle();\r\n            clip.widthProperty().bind(surface.widthProperty());\r\n            clip.heightProperty().bind(surface.heightProperty());\r\n            surface.setClip(clip);\r\n    \r\n            return surface;\r\n        }\r\n    \r\n        private VBox createLayout(Pane surface, HBox controls, Label timestampLabel) {\r\n            VBox layout = new VBox(SPACING, controls, surface, timestampLabel);\r\n    \r\n            layout.setBackground(appBackground);\r\n            layout.setPadding(new Insets(SPACING));\r\n    \r\n            VBox.setVgrow(surface, Priority.ALWAYS);\r\n    \r\n            return layout;\r\n        }\r\n    \r\n        /**\r\n         * Create controls which can control the movement of a circle.\r\n         *\r\n         * @param circle the circle which can be controlled\r\n         * @return the created controls with handlers attached for circle movement control.\r\n         */\r\n        private HBox createControls(Circle circle) {\r\n            up = new Button(&quot;Up&quot;);\r\n            up.setOnAction(e -&gt; moveVertically(circle, -MOVEMENT_DELTA));\r\n    \r\n            down = new Button(&quot;Down&quot;);\r\n            down.setOnAction(e -&gt; moveVertically(circle, MOVEMENT_DELTA));\r\n    \r\n            return new HBox(SPACING, up, down);\r\n        }\r\n    \r\n        private void moveVertically(Circle circle, double delta) {\r\n            double y = circle.getCenterY();\r\n    \r\n            // we only restrict movement in the up direction,\r\n            // but allow unlimited movement in the down direction\r\n            // (even if that movement would mean that the circle would extend totally\r\n            // outside the current visible boundary of the surface).\r\n            if ((y + delta) &lt; 0) {\r\n                return;\r\n            }\r\n    \r\n            circle.setCenterY(y + delta);\r\n        }\r\n    \r\n        /**\r\n         * Adds standard keyboard handling logic to the UI.\r\n         * \r\n         * Handlers are attached to the relevant scene whenever \r\n         * the scene containing the UI changes.\r\n         *\r\n         * @param layout the UI which will respond to keyboard input.\r\n         */\r\n        private void attachKeyboardHandlers(Pane layout) {\r\n            EventHandler&lt;KeyEvent&gt; keyEventHandler = event -&gt; {\r\n                switch (event.getCode()) {\r\n                    case UP -&gt; { up.requestFocus(); up.fire(); }\r\n                    case DOWN -&gt; { down.requestFocus(); down.fire(); }\r\n                }\r\n            };\r\n    \r\n            layout.sceneProperty().addListener((observable, oldScene, newScene) -&gt; {\r\n                if (oldScene != null) {\r\n                    oldScene.removeEventFilter(\r\n                            KeyEvent.KEY_PRESSED,\r\n                            keyEventHandler\r\n                    );\r\n                }\r\n    \r\n                if (newScene != null) {\r\n                    newScene.addEventFilter(\r\n                            KeyEvent.KEY_PRESSED,\r\n                            keyEventHandler\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static Background createBackground(Color surfaceColor) {\r\n            return new Background(new BackgroundFill(surfaceColor, null, null));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\r\n  [2]: https://i.stack.imgur.com/VnRrF.png","title":"How to add a timestamp in java on a pane","body":"<h3>Answer for displaying a timestamp</h3>\n<p>Specifically, for the timestamp question, see the following example code:</p>\n<pre><code>private Label createTimestampLabel() {\n    LocalDateTime now = LocalDateTime.now();\n    String formattedTimestamp = now.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME);\n\n    return new Label(formattedTimestamp);\n}\n</code></pre>\n<p>It uses the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> APIs explained in the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Oracle Date Time tutorial</a> to get the current time from LocalDateTime and format it as a String using a standard format.</p>\n<p>It sets the formatted timestamp string as the text of a Label node.</p>\n<p>Now that the returned element is a Node, it can be placed in the scene graph without generating the compile error you saw in your original example.</p>\n<p>Using the <code>java.time</code> APIs is preferred over the <code>java.sql.Timestamp</code> and <code>java.util.Date</code> code in your question. You are not working with SQL, so you should not be using <code>java.sql.Timestamp</code>.  The <code>java.time</code> classes also have many improvements over obsolete date and time functions used in other Java packages like <code>java.util</code>.</p>\n<h3>Answer in context with a re-write of your example code</h3>\n<p>There were a lot of things about the provided example application that were either wrong or annoyed me.</p>\n<p>So I re-wrote it to match a bit more closely how I would normally write such an application.</p>\n<p>There are maybe a hundred different small decisions made in the choices for how to implement the re-write and explaining them all here would be too verbose.</p>\n<p>Hopefully, you can compare the re-write to your original code, note some of the differences, and learn some things from it.</p>\n<p><a href=\"https://i.stack.imgur.com/VnRrF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VnRrF.png\" alt=\"example app\" /></a></p>\n<p><strong>GraphicControlApp.java</strong></p>\n<pre><code>package org.example.javafx.demo.graphiccontrol;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class GraphicControlApp extends Application {\n\n    public void start(Stage stage) {\n        GraphicController graphicController = new GraphicController();\n\n        Scene scene = new Scene(graphicController.getUI());\n\n        stage.setScene(scene);\n        stage.setTitle(&quot;JavaFX Interactive Graphic Control Demonstration&quot;);\n        stage.show();\n    }\n\n}\n</code></pre>\n<p><strong>GraphicController.java</strong></p>\n<pre><code>import javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\n/**\n * UI creator and controller for application logic.\n *\n * Normally, most UI elements would be defined externally in FXML,\n * however, for a simple application, we define the UI via private functions in this class.\n */\npublic class GraphicController {\n    // amount to move the circle across the surface on interaction.\n    private static final double MOVEMENT_DELTA = 20.0;\n\n    // default spacing between UI elements.\n    private static final double SPACING = 10;\n\n    // normally the styles would be configured in an external css stylesheet,\n    // but we place the background definitions here for a simple application.\n    private static final Color SURFACE_COLOR = Color.rgb(190, 220, 190);\n    private static final Background surfaceBackground = createBackground(SURFACE_COLOR);\n    private static final Color APP_BACKGROUND_COLOR = Color.rgb(150, 200, 150);\n    private static final Background appBackground = createBackground(APP_BACKGROUND_COLOR);\n\n    private Button up;\n    private Button down;\n\n    /**\n     * @return the complete layout for the application with event handlers attached for logic control.\n     */\n    public Pane getUI() {\n        Circle circle = new Circle(75, 100, 20);\n\n        Pane surface = createSurface(circle);\n        HBox controls = createControls(circle);\n        Label timestampLabel = createTimestampLabel();\n\n        Pane layout = createLayout(surface, controls, timestampLabel);\n        attachKeyboardHandlers(layout);\n\n        return layout;\n    }\n\n    /**\n     * Create a label formatted with the current time in ISO standard format (e.g. '2011-12-03T10:15:30')\n     *\n     * @return label with the current timestamp.\n     */\n    private Label createTimestampLabel() {\n        LocalDateTime now = LocalDateTime.now();\n        String formattedTimestamp = now.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME);\n\n        return new Label(formattedTimestamp);\n    }\n\n    /**\n     * Create a surface on which a circle can move.\n     *\n     * @param circle the circle which can move on the surface.\n     * @return the created surface.\n     */\n    private Pane createSurface(Circle circle) {\n        Pane surface = new Pane();\n\n        surface.setMinSize(100, 150);\n        surface.setBackground(surfaceBackground);\n        surface.getChildren().addAll(circle);\n\n        // we must define a clip on the surface to ensure that elements\n        // in the surface do not render outside the surface.\n        Rectangle clip = new Rectangle();\n        clip.widthProperty().bind(surface.widthProperty());\n        clip.heightProperty().bind(surface.heightProperty());\n        surface.setClip(clip);\n\n        return surface;\n    }\n\n    private VBox createLayout(Pane surface, HBox controls, Label timestampLabel) {\n        VBox layout = new VBox(SPACING, controls, surface, timestampLabel);\n\n        layout.setBackground(appBackground);\n        layout.setPadding(new Insets(SPACING));\n\n        VBox.setVgrow(surface, Priority.ALWAYS);\n\n        return layout;\n    }\n\n    /**\n     * Create controls which can control the movement of a circle.\n     *\n     * @param circle the circle which can be controlled\n     * @return the created controls with handlers attached for circle movement control.\n     */\n    private HBox createControls(Circle circle) {\n        up = new Button(&quot;Up&quot;);\n        up.setOnAction(e -&gt; moveVertically(circle, -MOVEMENT_DELTA));\n\n        down = new Button(&quot;Down&quot;);\n        down.setOnAction(e -&gt; moveVertically(circle, MOVEMENT_DELTA));\n\n        return new HBox(SPACING, up, down);\n    }\n\n    private void moveVertically(Circle circle, double delta) {\n        double y = circle.getCenterY();\n\n        // we only restrict movement in the up direction,\n        // but allow unlimited movement in the down direction\n        // (even if that movement would mean that the circle would extend totally\n        // outside the current visible boundary of the surface).\n        if ((y + delta) &lt; 0) {\n            return;\n        }\n\n        circle.setCenterY(y + delta);\n    }\n\n    /**\n     * Adds standard keyboard handling logic to the UI.\n     * \n     * Handlers are attached to the relevant scene whenever \n     * the scene containing the UI changes.\n     *\n     * @param layout the UI which will respond to keyboard input.\n     */\n    private void attachKeyboardHandlers(Pane layout) {\n        EventHandler&lt;KeyEvent&gt; keyEventHandler = event -&gt; {\n            switch (event.getCode()) {\n                case UP -&gt; { up.requestFocus(); up.fire(); }\n                case DOWN -&gt; { down.requestFocus(); down.fire(); }\n            }\n        };\n\n        layout.sceneProperty().addListener((observable, oldScene, newScene) -&gt; {\n            if (oldScene != null) {\n                oldScene.removeEventFilter(\n                        KeyEvent.KEY_PRESSED,\n                        keyEventHandler\n                );\n            }\n\n            if (newScene != null) {\n                newScene.addEventFilter(\n                        KeyEvent.KEY_PRESSED,\n                        keyEventHandler\n                );\n            }\n        });\n    }\n\n    private static Background createBackground(Color surfaceColor) {\n        return new Background(new BackgroundFill(surfaceColor, null, null));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21031723,"reputation":19,"user_id":15455953,"display_name":"FallenAngelAsh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635376477,"creation_date":1635346511,"question_id":69740941,"body_markdown":"I am currently working on this assignment and I can not seem to get this program to run even though I don&#39;t have any errors really popping up ? I am trying to add a time stamp to the pane as well but every time I add the &quot;ts&quot; name for the time stamp to the Pane or Hbox&#39;s get children code it goes red.. I am not sure what exactly I&#39;m doing wrong if anyone can point me in the right direction id greatly appreciate it...\r\n\r\n```\r\npackage PCK1;\r\n\r\nimport javafx.event.ActionEvent;  \r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.Background;\r\nimport javafx.scene.layout.BackgroundFill;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\nimport java.sql.Timestamp;    \r\nimport java.util.Date;  \r\nimport java.text.SimpleDateFormat;  \r\n\r\npublic class MainClass\r\n{\r\n\r\n    public static void start(Stage stage)\r\n    {\r\n    \r\n    // Time Stamp\r\n    Date date = new Date();  \r\n     Timestamp ts=new Timestamp(date.getTime());  \r\n     SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \r\n       System.out.println(formatter.format(ts));\r\n   \r\n    //Create a Circle\r\n    Circle c1 = new Circle(75,100,20);  \r\n\r\n\r\n\r\n    //Create a Pane\r\n    Pane p = new Pane();\r\n    p.setMinSize(100, 150);\r\n    p.setBackground(new Background(new BackgroundFill( Color.rgb(190, 220, 190), null, null) \r\n    ));\r\n    p.getChildren().addAll(c1);\r\n\r\n   \r\n   \r\n    //Create a Button\r\n    Button btnUp = new Button(&quot;Up&quot;);\r\n    btnUp.setOnAction((ActionEvent e) -&gt; {double y = c1.getCenterY();\r\n    y -= 20.0;\r\n    c1.setCenterY(y);\r\n     });\r\n\r\n    Button btnDown = new Button(&quot;Down&quot;);\r\n    btnDown.setOnAction((ActionEvent e) -&gt; {double y = c1.getCenterY();\r\n    y += 20.0;\r\n    c1.setCenterY(y);\r\n     });\r\n\r\n\r\n\r\n    //Create a HBox\r\n    HBox hb = new HBox();\r\n    hb.getChildren().addAll(btnUp, btnDown, p, ts);\r\n    hb.setBackground(new Background(new BackgroundFill(Color.rgb(150,200,150),null,null)));\r\n    hb.setMinSize(100, 50);\r\n    hb.setPadding(new Insets(10,10,10,10));\r\n\r\n  \r\n\r\n \r\n    Scene scene = new Scene(hb);\r\n  \r\n      stage.setScene(scene);\r\n      stage.setTitle(&quot;JavaFx&quot;);\r\n      stage.setWidth(250);\r\n      stage.setHeight(250);\r\n      stage.show();\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to add a timestamp in java on a pane","body":"<p>I am currently working on this assignment and I can not seem to get this program to run even though I don't have any errors really popping up ? I am trying to add a time stamp to the pane as well but every time I add the &quot;ts&quot; name for the time stamp to the Pane or Hbox's get children code it goes red.. I am not sure what exactly I'm doing wrong if anyone can point me in the right direction id greatly appreciate it...</p>\n<pre><code>package PCK1;\n\nimport javafx.event.ActionEvent;  \nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\nimport java.sql.Timestamp;    \nimport java.util.Date;  \nimport java.text.SimpleDateFormat;  \n\npublic class MainClass\n{\n\n    public static void start(Stage stage)\n    {\n    \n    // Time Stamp\n    Date date = new Date();  \n     Timestamp ts=new Timestamp(date.getTime());  \n     SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \n       System.out.println(formatter.format(ts));\n   \n    //Create a Circle\n    Circle c1 = new Circle(75,100,20);  \n\n\n\n    //Create a Pane\n    Pane p = new Pane();\n    p.setMinSize(100, 150);\n    p.setBackground(new Background(new BackgroundFill( Color.rgb(190, 220, 190), null, null) \n    ));\n    p.getChildren().addAll(c1);\n\n   \n   \n    //Create a Button\n    Button btnUp = new Button(&quot;Up&quot;);\n    btnUp.setOnAction((ActionEvent e) -&gt; {double y = c1.getCenterY();\n    y -= 20.0;\n    c1.setCenterY(y);\n     });\n\n    Button btnDown = new Button(&quot;Down&quot;);\n    btnDown.setOnAction((ActionEvent e) -&gt; {double y = c1.getCenterY();\n    y += 20.0;\n    c1.setCenterY(y);\n     });\n\n\n\n    //Create a HBox\n    HBox hb = new HBox();\n    hb.getChildren().addAll(btnUp, btnDown, p, ts);\n    hb.setBackground(new Background(new BackgroundFill(Color.rgb(150,200,150),null,null)));\n    hb.setMinSize(100, 50);\n    hb.setPadding(new Insets(10,10,10,10));\n\n  \n\n \n    Scene scene = new Scene(hb);\n  \n      stage.setScene(scene);\n      stage.setTitle(&quot;JavaFx&quot;);\n      stage.setWidth(250);\n      stage.setHeight(250);\n      stage.show();\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","php",".net","grpc"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":0,"creation_date":1635360319,"post_id":69720601,"comment_id":123280014,"body_markdown":"[bloomrpc](https://github.com/uw-labs/bloomrpc) works well for me (but the question is off topic).","body":"<a href=\"https://github.com/uw-labs/bloomrpc\" rel=\"nofollow noreferrer\">bloomrpc</a> works well for me (but the question is off topic)."},{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":1,"creation_date":1635367676,"post_id":69720601,"comment_id":123282504,"body_markdown":"I think you can take a look into [Kreya](https://kreya.app/).","body":"I think you can take a look into <a href=\"https://kreya.app/\" rel=\"nofollow noreferrer\">Kreya</a>."}],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635376446,"creation_date":1635376446,"answer_id":69746492,"question_id":69720601,"body_markdown":"Try https://github.com/fullstorydev/grpcui (which is based on [gRPCurl](https://github.com/fullstorydev/grpcurl))","title":"Web based or windows based gRPC Client","body":"<p>Try <a href=\"https://github.com/fullstorydev/grpcui\" rel=\"nofollow noreferrer\">https://github.com/fullstorydev/grpcui</a> (which is based on <a href=\"https://github.com/fullstorydev/grpcurl\" rel=\"nofollow noreferrer\">gRPCurl</a>)</p>\n"}],"owner":{"account_id":910360,"reputation":4569,"user_id":1044208,"accept_rate":47,"display_name":"virender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635376446,"creation_date":1635240543,"question_id":69720601,"body_markdown":"We are working on gRPC Services on the .Net project. Tried to use gRPC on Postman but did not get success. \r\n\r\nDoes anyone know web-based or windows based gRPC clients?","title":"Web based or windows based gRPC Client","body":"<p>We are working on gRPC Services on the .Net project. Tried to use gRPC on Postman but did not get success.</p>\n<p>Does anyone know web-based or windows based gRPC clients?</p>\n"},{"tags":["java","arrays","algorithm","sorting"],"comments":[{"owner":{"account_id":12293631,"reputation":3,"user_id":8969984,"display_name":"Joy Cheng"},"score":0,"creation_date":1511965105,"post_id":47554841,"comment_id":82066570,"body_markdown":"The elements in the array.","body":"The elements in the array."},{"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"score":0,"creation_date":1511965203,"post_id":47554841,"comment_id":82066652,"body_markdown":"Are there any other examples?  I suspect `m` is the number of elements in `nums1` to be merged, and `n` for `nums2`.  So it&#39;s actually merging `[]` and `[1]`, but shows `nums1` as `[0]` to show it&#39;s large enough to store the result","body":"Are there any other examples?  I suspect <code>m</code> is the number of elements in <code>nums1</code> to be merged, and <code>n</code> for <code>nums2</code>.  So it&#39;s actually merging <code>[]</code> and <code>[1]</code>, but shows <code>nums1</code> as <code>[0]</code> to show it&#39;s large enough to store the result"},{"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"score":0,"creation_date":1511965360,"post_id":47554841,"comment_id":82066760,"body_markdown":"Also the code you posted is a good way to merge two arrays, except the result is thrown away at the end and it isn&#39;t what the question is asking for.  It&#39;s asking for the result to placed inside the first input array (you can copy all of the elements from `result` to `nums1`)","body":"Also the code you posted is a good way to merge two arrays, except the result is thrown away at the end and it isn&#39;t what the question is asking for.  It&#39;s asking for the result to placed inside the first input array (you can copy all of the elements from <code>result</code> to <code>nums1</code>)"},{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1511981291,"post_id":47554841,"comment_id":82077067,"body_markdown":"I don&#39;t think your understanding of input `[0] 0 [1] 1` is correct. When it says it has 0 elements, the input is `[] 0 [1] 1`. problem doesnt mention that the first array contains a number `0` in it. Hence the output as [1]","body":"I don&#39;t think your understanding of input <code>[0] 0 [1] 1</code> is correct. When it says it has 0 elements, the input is <code>[] 0 [1] 1</code>. problem doesnt mention that the first array contains a number <code>0</code> in it. Hence the output as [1]"},{"owner":{"account_id":12293631,"reputation":3,"user_id":8969984,"display_name":"Joy Cheng"},"score":0,"creation_date":1512007367,"post_id":47554841,"comment_id":82087501,"body_markdown":"U R so  right...:)","body":"U R so  right...:)"}],"answers":[{"tags":[],"owner":{"account_id":3987687,"reputation":17,"user_id":3287747,"display_name":"Saurabh Mithe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529184948,"creation_date":1529183712,"answer_id":50891791,"question_id":47554841,"body_markdown":"Input: [0] 0 [1] 1 Expected: [1]\r\n\r\nThe `0` is `m` and the `1` is `n` where `m` is the number of elements in the first array and `n` is the number of elements in the second array.\r\n\r\nThus, the first array does not contain the element `0`. In fact, it contains no elements at all (`0`). The `[0]` in the first array is actually a placeholder for the elements to be merged (since the size of the first array is supposed to be (`m+n`). So merging them would give an output `[1]` which is just the element of the second array merged into the first.\r\n\r\nHere is my code for the problem:\r\n\r\n    class Solution {\r\n        public void merge(int[] nums1, int m, int[] nums2, int n) {\r\n            int mPtr = m - 1;\r\n            int nPtr = n - 1;\r\n            int index = nums1.length - 1;\r\n            while (nPtr &gt;= 0) {\r\n                if (mPtr &gt;= 0 &amp;&amp; nums1[mPtr] &gt;= nums2[nPtr]) {\r\n                    nums1[index--] = nums1[mPtr--];\r\n                } else {\r\n                    nums1[index--] = nums2[nPtr--];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"I can&#39;t understand the example test case for Merge Sorted Array?","body":"<p>Input: [0] 0 [1] 1 Expected: [1]</p>\n\n<p>The <code>0</code> is <code>m</code> and the <code>1</code> is <code>n</code> where <code>m</code> is the number of elements in the first array and <code>n</code> is the number of elements in the second array.</p>\n\n<p>Thus, the first array does not contain the element <code>0</code>. In fact, it contains no elements at all (<code>0</code>). The <code>[0]</code> in the first array is actually a placeholder for the elements to be merged (since the size of the first array is supposed to be (<code>m+n</code>). So merging them would give an output <code>[1]</code> which is just the element of the second array merged into the first.</p>\n\n<p>Here is my code for the problem:</p>\n\n<pre><code>class Solution {\n    public void merge(int[] nums1, int m, int[] nums2, int n) {\n        int mPtr = m - 1;\n        int nPtr = n - 1;\n        int index = nums1.length - 1;\n        while (nPtr &gt;= 0) {\n            if (mPtr &gt;= 0 &amp;&amp; nums1[mPtr] &gt;= nums2[nPtr]) {\n                nums1[index--] = nums1[mPtr--];\n            } else {\n                nums1[index--] = nums2[nPtr--];\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19431509,"reputation":1,"user_id":14211830,"display_name":"baby sri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610339324,"creation_date":1610339324,"answer_id":65661349,"question_id":47554841,"body_markdown":"Given two sorted integer arrays nums1 and nums2, merge nums2 into nums1 as one sorted array.\r\n\r\nThe number of elements initialized in nums1 and nums2 are m and n respectively. You may assume that nums1 has enough space (size that is equal to m + n) to hold additional elements from nums2.\r\n\r\nI&#39;m posting solution in Python. \r\n\r\nPlease find the code. \r\n\r\nAnalysis- \r\nJust check for zeros in first list and then replace with element in second list. \r\nIf either of the list is empty, just print list 1.\r\n\r\ndef merge(nums1, m, nums2, n):\r\n\r\n    a=len(nums1)\r\n    i=0\r\n    j=0\r\n    while i&lt; a:\r\n        if n  == 0 or m==0 :\r\n            return nums1\r\n        if nums1[i]==0:\r\n            nums1[i]=nums2[j]\r\n            j+=1\r\n        i+=1\r\n    return sorted(nums1)\r\n\r\n","title":"I can&#39;t understand the example test case for Merge Sorted Array?","body":"<p>Given two sorted integer arrays nums1 and nums2, merge nums2 into nums1 as one sorted array.</p>\n<p>The number of elements initialized in nums1 and nums2 are m and n respectively. You may assume that nums1 has enough space (size that is equal to m + n) to hold additional elements from nums2.</p>\n<p>I'm posting solution in Python.</p>\n<p>Please find the code.</p>\n<p>Analysis-\nJust check for zeros in first list and then replace with element in second list.\nIf either of the list is empty, just print list 1.</p>\n<p>def merge(nums1, m, nums2, n):</p>\n<pre><code>a=len(nums1)\ni=0\nj=0\nwhile i&lt; a:\n    if n  == 0 or m==0 :\n        return nums1\n    if nums1[i]==0:\n        nums1[i]=nums2[j]\n        j+=1\n    i+=1\nreturn sorted(nums1)\n</code></pre>\n"}],"owner":{"account_id":12293631,"reputation":3,"user_id":8969984,"display_name":"Joy Cheng"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635374197,"creation_date":1511964847,"question_id":47554841,"body_markdown":"The question description is as such: \r\n\r\n&gt; Given two sorted integer arrays nums1 and nums2, merge nums2 into nums1 as one sorted array.\r\n&gt; \r\nNote:\r\nYou may assume that nums1 has enough space (size that is greater or equal to m + n) to hold additional elements from nums2. The number of elements initialized in nums1 and nums2 are m and n respectively.\r\n\r\nThe leetcode gives an example case:\r\n\r\n&gt; Input: [0] 0 [1] 1 Expected: [1]\r\n\r\nI don&#39;t understand that. Shouldn&#39;t the answer be [0,1]? Since 0 and 1 are all inserted. Could anyone explain that?\r\n\r\nHere is my code:\r\n\r\n \r\n    class Solution {\r\n        public void merge(int[] nums1, int m, int[] nums2, int n) {\r\n            \r\n            int i = 0;\r\n            int j = 0;\r\n            int index = 0;\r\n            int []result = new int[nums1.length + nums2.length];\r\n            \r\n            if (nums1 == null || nums2 == null) {\r\n                result = null;\r\n            }\r\n            \r\n            while (i &lt; nums1.length &amp;&amp; j &lt; nums2.length) {\r\n                if (nums1[i] &lt; nums2[j]) {\r\n                    result[index++] = nums1[i++];\r\n                }\r\n                else {\r\n                    result[index++] = nums2[j++];\r\n                }\r\n            }\r\n            \r\n            while (i &lt; nums1.length) {\r\n                result[index++] = nums1[i++];\r\n            }\r\n            while (j &lt; nums2.length) {\r\n                result[index++] = nums2[j++];\r\n            }\r\n            \r\n        }\r\n    }\r\n \r\n\r\n","title":"I can&#39;t understand the example test case for Merge Sorted Array?","body":"<p>The question description is as such: </p>\n\n<blockquote>\n  <p>Given two sorted integer arrays nums1 and nums2, merge nums2 into nums1 as one sorted array.</p>\n  \n  <p>Note:\n  You may assume that nums1 has enough space (size that is greater or equal to m + n) to hold additional elements from nums2. The number of elements initialized in nums1 and nums2 are m and n respectively.</p>\n</blockquote>\n\n<p>The leetcode gives an example case:</p>\n\n<blockquote>\n  <p>Input: [0] 0 [1] 1 Expected: [1]</p>\n</blockquote>\n\n<p>I don't understand that. Shouldn't the answer be [0,1]? Since 0 and 1 are all inserted. Could anyone explain that?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class Solution {\n    public void merge(int[] nums1, int m, int[] nums2, int n) {\n\n        int i = 0;\n        int j = 0;\n        int index = 0;\n        int []result = new int[nums1.length + nums2.length];\n\n        if (nums1 == null || nums2 == null) {\n            result = null;\n        }\n\n        while (i &lt; nums1.length &amp;&amp; j &lt; nums2.length) {\n            if (nums1[i] &lt; nums2[j]) {\n                result[index++] = nums1[i++];\n            }\n            else {\n                result[index++] = nums2[j++];\n            }\n        }\n\n        while (i &lt; nums1.length) {\n            result[index++] = nums1[i++];\n        }\n        while (j &lt; nums2.length) {\n            result[index++] = nums2[j++];\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19260072,"reputation":69,"user_id":14076156,"display_name":"Anas Elgarhy"},"score":0,"creation_date":1635343515,"post_id":69739595,"comment_id":123272814,"body_markdown":"I&#39;m not in an ideal situation trying to simplify the code right now): @Abra","body":"I&#39;m not in an ideal situation trying to simplify the code right now): @Abra"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1635343635,"post_id":69739595,"comment_id":123272867,"body_markdown":"You might want to wait to ask until you *are* in an ideal time to improve the question. These improvements can make your question much easier to answer, helping both you and the site.","body":"You might want to wait to ask until you <i>are</i> in an ideal time to improve the question. These improvements can make your question much easier to answer, helping both you and the site."},{"owner":{"account_id":19260072,"reputation":69,"user_id":14076156,"display_name":"Anas Elgarhy"},"score":0,"creation_date":1635343864,"post_id":69739595,"comment_id":123272972,"body_markdown":"Well I will try to simplify the example (:@HovercraftFullOfEels","body":"Well I will try to simplify the example (:@HovercraftFullOfEels"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635343885,"creation_date":1635343885,"answer_id":69740250,"question_id":69739595,"body_markdown":"Consider the following code.\r\n```java\r\nProcessBuilder pb = new ProcessBuilder(&quot;ping&quot;, &quot;localhost&quot;);\r\npb.inheritIO();\r\ntry {\r\n    Process p = pb.start();\r\n    int exitStatus = p.waitFor();\r\n    System.out.println(exitStatus);\r\n}\r\ncatch (InterruptedException | IOException x) {\r\n    x.printStackTrace();\r\n}\r\n```\r\nI believe the above does what you want and I would say that the code is a lot simpler.\r\n\r\nRefer to the *javadoc* for class `java.lang.ProcessBuilder`.\r\n","title":"How to execute Shell Commands with Java and print the output directly while executing the command","body":"<p>Consider the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder pb = new ProcessBuilder(&quot;ping&quot;, &quot;localhost&quot;);\npb.inheritIO();\ntry {\n    Process p = pb.start();\n    int exitStatus = p.waitFor();\n    System.out.println(exitStatus);\n}\ncatch (InterruptedException | IOException x) {\n    x.printStackTrace();\n}\n</code></pre>\n<p>I believe the above does what you want and I would say that the code is a lot simpler.</p>\n<p>Refer to the <em>javadoc</em> for class <code>java.lang.ProcessBuilder</code>.</p>\n"}],"owner":{"account_id":19260072,"reputation":69,"user_id":14076156,"display_name":"Anas Elgarhy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1055,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1635367489,"accepted_answer_id":69740250,"answer_count":1,"score":-4,"last_activity_date":1635374068,"creation_date":1635341359,"question_id":69739595,"body_markdown":"How do I execute Shell Commands with Java?\r\n \r\nAt the same time, I print the output directly while executing the command, for example, the ping command, tests the connection with a specific location and gives me the response time at each node during the connection, and it gives me a set of lines at separate intervals. I want to print these lines as soon as it comes back, how do I do that?","title":"How to execute Shell Commands with Java and print the output directly while executing the command","body":"<p>How do I execute Shell Commands with Java?</p>\n<p>At the same time, I print the output directly while executing the command, for example, the ping command, tests the connection with a specific location and gives me the response time at each node during the connection, and it gives me a set of lines at separate intervals. I want to print these lines as soon as it comes back, how do I do that?</p>\n"},{"tags":["java","python","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1543984995,"post_id":53625164,"comment_id":94110688,"body_markdown":"Java Module + Python Facet is the way to go.","body":"Java Module + Python Facet is the way to go."},{"owner":{"account_id":14526915,"reputation":191,"user_id":10492865,"display_name":"guiniao"},"score":0,"creation_date":1543988666,"post_id":53625164,"comment_id":94111715,"body_markdown":"@CrazyCoder.I tried,but it doesn&#39;t work","body":"@CrazyCoder.I tried,but it doesn&#39;t work"},{"owner":{"account_id":14526915,"reputation":191,"user_id":10492865,"display_name":"guiniao"},"score":0,"creation_date":1543989076,"post_id":53625164,"comment_id":94111817,"body_markdown":"I downloaded the sklear-plugin from github, which is a python/Java hybrid project, and tried many approaches. No matter how I set up the SDK, one of python and Java always has a problem","body":"I downloaded the sklear-plugin from github, which is a python/Java hybrid project, and tried many approaches. No matter how I set up the SDK, one of python and Java always has a problem"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1543989462,"post_id":53625164,"comment_id":94111942,"body_markdown":"Please file a bug at https://youtrack.jetbrains.com/issues/PY and attach a sample project to reproduce.","body":"Please file a bug at <a href=\"https://youtrack.jetbrains.com/issues/PY\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/PY</a> and attach a sample project to reproduce."},{"owner":{"account_id":14526915,"reputation":191,"user_id":10492865,"display_name":"guiniao"},"score":0,"creation_date":1543991032,"post_id":53625164,"comment_id":94112515,"body_markdown":"git clone https://github.com/jpmml/sklearn2pmml-plugin.git.I import the project into intellij.Intellij Settings screenshot was uploaded in the problem above","body":"git clone <a href=\"https://github.com/jpmml/sklearn2pmml-plugin.git.I\" rel=\"nofollow noreferrer\">github.com/jpmml/sklearn2pmml-plugin.git.I</a> import the project into intellij.Intellij Settings screenshot was uploaded in the problem above"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1543996790,"post_id":53625164,"comment_id":94115005,"body_markdown":"We were not able to reproduce the issue with this project in IntelliJ IDEA 2018.3. Maven facet persists and Python code [has no errors](https://i.imgur.com/LKx3jbJ.png).","body":"We were not able to reproduce the issue with this project in IntelliJ IDEA 2018.3. Maven facet persists and Python code <a href=\"https://i.imgur.com/LKx3jbJ.png\" rel=\"nofollow noreferrer\">has no errors</a>."},{"owner":{"account_id":14526915,"reputation":191,"user_id":10492865,"display_name":"guiniao"},"score":0,"creation_date":1544003951,"post_id":53625164,"comment_id":94118674,"body_markdown":"I wonder if there is something wrong with the setup,You have seen my Settings above. Is there any problem? Whether it depends on the version of each component.Thanks","body":"I wonder if there is something wrong with the setup,You have seen my Settings above. Is there any problem? Whether it depends on the version of each component.Thanks"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1544005925,"post_id":53625164,"comment_id":94119857,"body_markdown":"The problem can be caused by these packages being missed in the interpreter path you are trying to use (anaconda).","body":"The problem can be caused by these packages being missed in the interpreter path you are trying to use (anaconda)."},{"owner":{"account_id":14526915,"reputation":191,"user_id":10492865,"display_name":"guiniao"},"score":0,"creation_date":1544061220,"post_id":53625164,"comment_id":94146062,"body_markdown":"In ubuntu, the same Settings and code don&#39;t have the same problems.Win system, although python import package has red line, it can be used, I don&#39;t know why. Thank you.","body":"In ubuntu, the same Settings and code don&#39;t have the same problems.Win system, although python import package has red line, it can be used, I don&#39;t know why. Thank you."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1544061839,"post_id":53625164,"comment_id":94146182,"body_markdown":"Install the required packages into your python path.","body":"Install the required packages into your python path."},{"owner":{"account_id":14526915,"reputation":191,"user_id":10492865,"display_name":"guiniao"},"score":0,"creation_date":1544062640,"post_id":53625164,"comment_id":94146354,"body_markdown":"Under Anaconda, all required packages are available, including pandas，sklearn.base","body":"Under Anaconda, all required packages are available, including pandas，sklearn.base"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1544067160,"post_id":53625164,"comment_id":94147368,"body_markdown":"We can&#39;t verify it from the provided screenshots, please contact the support or report the issue in YouTrack to get help.","body":"We can&#39;t verify it from the provided screenshots, please contact the support or report the issue in YouTrack to get help."}],"answers":[{"tags":[],"owner":{"account_id":14155343,"reputation":241,"user_id":10226219,"display_name":"Miguel Armenta"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1608163631,"creation_date":1608163631,"answer_id":65332912,"question_id":53625164,"body_markdown":"You need to &quot;Add framework support&quot; / Facets\r\n\r\nAs long as you already have python installed, just follow this.\r\n\r\nRight-click the directory/module/project where you have your python scripts, right at the top you will see &quot;Add framework Support...&quot;\r\n\r\nhttps://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html#disable-framework-auto-detection\r\n\r\n","title":"How to use Java and python in intellij on the same project","body":"<p>You need to &quot;Add framework support&quot; / Facets</p>\n<p>As long as you already have python installed, just follow this.</p>\n<p>Right-click the directory/module/project where you have your python scripts, right at the top you will see &quot;Add framework Support...&quot;</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html#disable-framework-auto-detection\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html#disable-framework-auto-detection</a></p>\n"}],"owner":{"account_id":14526915,"reputation":191,"user_id":10492865,"display_name":"guiniao"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10061,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":1,"score":16,"last_activity_date":1635373386,"creation_date":1543983917,"question_id":53625164,"body_markdown":"I need to use Java and python in the same project, IntelliJ.\r\n\r\nWhen I set up the JDK, the Java code was fine, but the import of the python package failed. On the contrary, python is normal and Java is problematic\r\n\r\nIntelliJ is set as follows:\r\n\r\n![enter image description here][1],![enter image description here][2],![enter image description here][3],![enter image description here][4]\r\n\r\nThe python package import failed:\r\n\r\n![enter image description here][5]\r\n\r\n\r\nI see several methods on stack overflow:\r\n\r\nI changed the SDK to python3.6 in`Project Structure-&gt;Modules-&gt;Dependencies-&gt;Module SDK`and The Java JDK is still included in the `Project Structure-&gt;Project-&gt;Project SDK`, but it is useless\r\n\r\nI&#39;ve set up the Python interpreter for the actual Facets and in `Project Structure-&gt;Facets` and restart intellij, But it doesn&#39;t work\r\n\r\nCan I set up python and Java SDK at the same time?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1wrT4.jpg\r\n  [2]: https://i.stack.imgur.com/WyyNj.jpg\r\n  [3]: https://i.stack.imgur.com/3pVn5.png\r\n  [4]: https://i.stack.imgur.com/iulYZ.jpg\r\n  [5]: https://i.stack.imgur.com/aKLtv.png","title":"How to use Java and python in intellij on the same project","body":"<p>I need to use Java and python in the same project, IntelliJ.</p>\n<p>When I set up the JDK, the Java code was fine, but the import of the python package failed. On the contrary, python is normal and Java is problematic</p>\n<p>IntelliJ is set as follows:</p>\n<p><img src=\"https://i.stack.imgur.com/1wrT4.jpg\" alt=\"enter image description here\" />,<img src=\"https://i.stack.imgur.com/WyyNj.jpg\" alt=\"enter image description here\" />,<img src=\"https://i.stack.imgur.com/3pVn5.png\" alt=\"enter image description here\" />,<img src=\"https://i.stack.imgur.com/iulYZ.jpg\" alt=\"enter image description here\" /></p>\n<p>The python package import failed:</p>\n<p><img src=\"https://i.stack.imgur.com/aKLtv.png\" alt=\"enter image description here\" /></p>\n<p>I see several methods on stack overflow:</p>\n<p>I changed the SDK to python3.6 in<code>Project Structure-&gt;Modules-&gt;Dependencies-&gt;Module SDK</code>and The Java JDK is still included in the <code>Project Structure-&gt;Project-&gt;Project SDK</code>, but it is useless</p>\n<p>I've set up the Python interpreter for the actual Facets and in <code>Project Structure-&gt;Facets</code> and restart intellij, But it doesn't work</p>\n<p>Can I set up python and Java SDK at the same time?</p>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"score":0,"creation_date":1289914501,"post_id":4194439,"comment_id":4533937,"body_markdown":"What is the error message? Is there a stacktrace?","body":"What is the error message? Is there a stacktrace?"},{"owner":{"account_id":230139,"reputation":287,"user_id":493575,"display_name":"Nezzit"},"score":0,"creation_date":1289914762,"post_id":4194439,"comment_id":4533993,"body_markdown":"There is no error message, I just do not get any message back. Program stops at line = fromServer.readLine(), witch means that message has not been sent...at least, I think so...","body":"There is no error message, I just do not get any message back. Program stops at line = fromServer.readLine(), witch means that message has not been sent...at least, I think so..."},{"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"score":0,"creation_date":1289915121,"post_id":4194439,"comment_id":4534070,"body_markdown":"May this helps: http://www.jcraft.com/jsch/examples/","body":"May this helps: <a href=\"http://www.jcraft.com/jsch/examples/\" rel=\"nofollow noreferrer\">jcraft.com/jsch/examples</a>"},{"owner":{"account_id":230139,"reputation":287,"user_id":493575,"display_name":"Nezzit"},"score":0,"creation_date":1289916205,"post_id":4194439,"comment_id":4534296,"body_markdown":":) I was working following those examples... Thnx anw:)","body":":) I was working following those examples... Thnx anw:)"},{"owner":{"account_id":253673,"reputation":1221,"user_id":532541,"display_name":"Alex InTechno"},"score":0,"creation_date":1448981421,"post_id":4194439,"comment_id":55801337,"body_markdown":"The sample at http://www.jcraft.com/jsch/examples/Shell.java really works well. It just sets System.in and System.out, which find their way between piped streams and console. But when I connected to the remote host via ssh, BufferedReader.readLine() would never returned. The way around was to read chunk of bytes instead of strings and constructing String from them manually.","body":"The sample at <a href=\"http://www.jcraft.com/jsch/examples/Shell.java\" rel=\"nofollow noreferrer\">jcraft.com/jsch/examples/Shell.java</a> really works well. It just sets System.in and System.out, which find their way between piped streams and console. But when I connected to the remote host via ssh, BufferedReader.readLine() would never returned. The way around was to read chunk of bytes instead of strings and constructing String from them manually."}],"answers":[{"tags":[],"owner":{"account_id":222223,"reputation":172,"user_id":480686,"display_name":"Pushpinder Rattan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1390213280,"creation_date":1299523398,"answer_id":5223721,"question_id":4194439,"body_markdown":"try this code :\r\n\r\n             JSch jsch=new JSch();\r\n\t\t\t\r\n\t\t\t System.out.println(&quot;Getting session&quot;);\r\n\t\t     Session session=jsch.getSession(&quot;root&quot;,&quot;10.0.0.0&quot;,22);\r\n\r\n\t\t      System.out.println(&quot;session is ::::&quot;+session.getHost());\r\n\t\t      // username and password will be given via UserInfo interface.\r\n\t\t      UserInfo ui = new MyUserInfo(&quot;Lab@123&quot;, null);\r\n\t\t      //UserInfo ui = new MyUserInfo(password, null);\r\n\t\t      session.setUserInfo(ui);\r\n\t\t      session.setPassword(&quot;Lab@123&quot;);\r\n\t\t      Properties config = new java.util.Properties();\r\n\t          config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t          session.setConfig(config);\r\n\t\t      session.connect(40000);\r\n\t\t      \r\n\t\t     \r\n\t\t      \t  Channel channel=session.openChannel(&quot;exec&quot;); \r\n\t\t\t      ((ChannelExec)channel).setCommand(&quot;ls&quot;);\r\n\t\t\t \r\n\t\t\t      channel.connect();\r\n\t\t\t      channel.run();\r\n\t\t\t      \r\n\t\t\t      // get I/O streams for remote scp\r\n\t\t\t      OutputStream out=channel.getOutputStream();\r\n\t\t\t      InputStream in=channel.getInputStream(); \r\n\r\n\t\t    \t\t\r\n\t\t      String output=&quot;&quot;;\r\n\t\t      while (channel.isClosed()!=true) {\r\n\t\t\t\t\r\n\t\t    \t  try {\r\n\t\t\t\t\toutput+=streamToString(in);\r\n\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t    \t \r\n\t\t\t}\r\n\r\n\t\t\t\tSystem.out.println(&quot;Output is :::&quot;+output);\r\n\t\t      \tchannel.disconnect();\r\n\t\t\t\tsession.disconnect();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static String streamToString(InputStream input)throws Exception \r\n\t\t{ String output = &quot;&quot;; while(input.available()&gt;0) { output += ((char)(input.read())); } return output; }\r\n\r\n\r\n\t\t\r\n\t\tpublic static OutputStream stringToStream(String charset) throws IOException{\r\n\t\t\r\n\t\t\tbyte[] bytes = charset.getBytes();\r\n\t\t\t/*ByteArrayInputStream bais = new ByteArrayInputStream(bytes);\r\n\t\t\tInputStreamReader isr = new InputStreamReader(bais);*/\r\n\t\t\tInputStream is = null;\r\n\t\t\tOutputStream os = null;\r\n\t\t\ttry {\r\n\t\t\t\tis = new ByteArrayInputStream(charset.getBytes(&quot;UTF-8&quot;));\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t//byte[] buf = new byte[1024];\r\n\t\t\tint numRead;\r\n\t\t\t\r\n\t\t      while ( (numRead = is.read(bytes) ) &gt;= 0) {\r\n\t\t          os.write(bytes, 0, numRead);\r\n\t\t      }\t\t   \r\n\t\t\treturn os;\t\t\r\n\t\t\t","title":"Sending commands to server via JSch shell channel","body":"<p>try this code :</p>\n\n<pre><code>         JSch jsch=new JSch();\n\n         System.out.println(\"Getting session\");\n         Session session=jsch.getSession(\"root\",\"10.0.0.0\",22);\n\n          System.out.println(\"session is ::::\"+session.getHost());\n          // username and password will be given via UserInfo interface.\n          UserInfo ui = new MyUserInfo(\"Lab@123\", null);\n          //UserInfo ui = new MyUserInfo(password, null);\n          session.setUserInfo(ui);\n          session.setPassword(\"Lab@123\");\n          Properties config = new java.util.Properties();\n          config.put(\"StrictHostKeyChecking\", \"no\");\n          session.setConfig(config);\n          session.connect(40000);\n\n\n              Channel channel=session.openChannel(\"exec\"); \n              ((ChannelExec)channel).setCommand(\"ls\");\n\n              channel.connect();\n              channel.run();\n\n              // get I/O streams for remote scp\n              OutputStream out=channel.getOutputStream();\n              InputStream in=channel.getInputStream(); \n\n\n          String output=\"\";\n          while (channel.isClosed()!=true) {\n\n              try {\n                output+=streamToString(in);\n\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n\n            System.out.println(\"Output is :::\"+output);\n            channel.disconnect();\n            session.disconnect();\n    }\n\n    public static String streamToString(InputStream input)throws Exception \n    { String output = \"\"; while(input.available()&gt;0) { output += ((char)(input.read())); } return output; }\n\n\n\n    public static OutputStream stringToStream(String charset) throws IOException{\n\n        byte[] bytes = charset.getBytes();\n        /*ByteArrayInputStream bais = new ByteArrayInputStream(bytes);\n        InputStreamReader isr = new InputStreamReader(bais);*/\n        InputStream is = null;\n        OutputStream os = null;\n        try {\n            is = new ByteArrayInputStream(charset.getBytes(\"UTF-8\"));\n        } catch (UnsupportedEncodingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        //byte[] buf = new byte[1024];\n        int numRead;\n\n          while ( (numRead = is.read(bytes) ) &gt;= 0) {\n              os.write(bytes, 0, numRead);\n          }        \n        return os;      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":339948,"reputation":345,"user_id":669718,"display_name":"nilbot"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1495894344,"creation_date":1316622488,"answer_id":7503273,"question_id":4194439,"body_markdown":"If it hangs at `readLine()` that means either your &quot;while&quot; is never ending (might be unlikely considering your code), or, `readLine()` is waiting for its source, namely the `IOstream` blocks the thread cause `available()!=true`. \r\n\r\nI can&#39;t quite troubleshoot your code without seeing your debug info. But as an advice, have you tried `PipedIntputStream`? The idea is to pipe your console input to &quot;your&quot; output so that you can &quot;write&quot; it. To implement this, you need to initialize the in/out-put.\r\n\r\n    InputStream in = new PipedInputStream();\r\n    PipedOutputStream pin = new PipedOutputStream((PipedInputStream) in);\r\n    /**...*/\r\n    channel.setInputStream(in);\r\n    channel.connect();\r\n    /** ...*/\r\n    pin.write(myScript.getBytes());\r\nThe same goes to your question, how to read console output. \r\n\r\n    PipedInputStream pout = new PipedInputStream((PipedOutputStream) out);\r\n    /**\r\n    * ...\r\n    */\r\n    BufferedReader consoleOutput = new BufferedReader(new InputStreamReader(pout));\r\n    consoleOutput.readLine();\r\nAnd again, if you are not sure how many lines to read and thus want to use &quot;while&quot;, make sure you do something inside while to prevent 1) busy-waiting 2) ending-condition. Example:\r\n\r\n    while(!end)\r\n    {\r\n       consoleOutput.mark(32);\r\n       if (consoleOutput.read()==0x03) end = true;//End of Text\r\n       else\r\n       { \r\n         consoleOutput.reset();\r\n         consoleOutput.readLine();\r\n         end = false;\r\n       }\r\n    }\r\n\r\n\r\n","title":"Sending commands to server via JSch shell channel","body":"<p>If it hangs at <code>readLine()</code> that means either your \"while\" is never ending (might be unlikely considering your code), or, <code>readLine()</code> is waiting for its source, namely the <code>IOstream</code> blocks the thread cause <code>available()!=true</code>. </p>\n\n<p>I can't quite troubleshoot your code without seeing your debug info. But as an advice, have you tried <code>PipedIntputStream</code>? The idea is to pipe your console input to \"your\" output so that you can \"write\" it. To implement this, you need to initialize the in/out-put.</p>\n\n<pre><code>InputStream in = new PipedInputStream();\nPipedOutputStream pin = new PipedOutputStream((PipedInputStream) in);\n/**...*/\nchannel.setInputStream(in);\nchannel.connect();\n/** ...*/\npin.write(myScript.getBytes());\n</code></pre>\n\n<p>The same goes to your question, how to read console output. </p>\n\n<pre><code>PipedInputStream pout = new PipedInputStream((PipedOutputStream) out);\n/**\n* ...\n*/\nBufferedReader consoleOutput = new BufferedReader(new InputStreamReader(pout));\nconsoleOutput.readLine();\n</code></pre>\n\n<p>And again, if you are not sure how many lines to read and thus want to use \"while\", make sure you do something inside while to prevent 1) busy-waiting 2) ending-condition. Example:</p>\n\n<pre><code>while(!end)\n{\n   consoleOutput.mark(32);\n   if (consoleOutput.read()==0x03) end = true;//End of Text\n   else\n   { \n     consoleOutput.reset();\n     consoleOutput.readLine();\n     end = false;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1246593,"reputation":1379,"user_id":1207908,"display_name":"Michael Cheremuhin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1329173391,"creation_date":1329173391,"answer_id":9269234,"question_id":4194439,"body_markdown":"Try this:\r\n\r\n    JSch jsch = new JSch();\r\n\r\n    try\r\n    {\r\n      Session session = jsch.getSession(&quot;root&quot;, &quot;192.168.0.1&quot;, 22);\r\n      java.util.Properties config = new java.util.Properties();\r\n      config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n      session.setConfig(config);\r\n\r\n      session.connect();\r\n\r\n      String command = &quot;lsof -i :80&quot;;\r\n      Channel channel = session.openChannel(&quot;exec&quot;);\r\n      ((ChannelExec) channel).setCommand(command);\r\n      channel.setInputStream(null);\r\n      ((ChannelExec) channel).setErrStream(System.err);\r\n      InputStream in = channel.getInputStream();\r\n\r\n      channel.connect();\r\n\r\n      byte[] tmp = new byte[1024];\r\n      while (true)\r\n      {\r\n        while (in.available() &gt; 0)\r\n        {\r\n          int i = in.read(tmp, 0, 1024);\r\n          if (i &lt; 0)\r\n            break;\r\n          System.out.print(new String(tmp, 0, i));\r\n        }\r\n        if (channel.isClosed())\r\n        {\r\n          System.out.println(&quot;exit-status: &quot; + channel.getExitStatus());\r\n          break;\r\n        }\r\n        try\r\n        {\r\n          Thread.sleep(1000);\r\n        }\r\n        catch (Exception ee)\r\n        {\r\n        }\r\n      }\r\n\r\n      channel.disconnect();\r\n      session.disconnect();\r\n    }\r\n    catch (Exception e)\r\n    {\r\n      System.out.println(e.getMessage());\r\n    }","title":"Sending commands to server via JSch shell channel","body":"<p>Try this:</p>\n\n<pre><code>JSch jsch = new JSch();\n\ntry\n{\n  Session session = jsch.getSession(\"root\", \"192.168.0.1\", 22);\n  java.util.Properties config = new java.util.Properties();\n  config.put(\"StrictHostKeyChecking\", \"no\");\n  session.setConfig(config);\n\n  session.connect();\n\n  String command = \"lsof -i :80\";\n  Channel channel = session.openChannel(\"exec\");\n  ((ChannelExec) channel).setCommand(command);\n  channel.setInputStream(null);\n  ((ChannelExec) channel).setErrStream(System.err);\n  InputStream in = channel.getInputStream();\n\n  channel.connect();\n\n  byte[] tmp = new byte[1024];\n  while (true)\n  {\n    while (in.available() &gt; 0)\n    {\n      int i = in.read(tmp, 0, 1024);\n      if (i &lt; 0)\n        break;\n      System.out.print(new String(tmp, 0, i));\n    }\n    if (channel.isClosed())\n    {\n      System.out.println(\"exit-status: \" + channel.getExitStatus());\n      break;\n    }\n    try\n    {\n      Thread.sleep(1000);\n    }\n    catch (Exception ee)\n    {\n    }\n  }\n\n  channel.disconnect();\n  session.disconnect();\n}\ncatch (Exception e)\n{\n  System.out.println(e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1298327,"reputation":117,"user_id":1248773,"display_name":"neosab"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1330909969,"creation_date":1330904932,"answer_id":9560018,"question_id":4194439,"body_markdown":"Following was a quickly written code for my assignment. Not a well done program. \r\nBut serves its purpose.\r\n\r\n 1. Connects via SSH (using Jsch) to a server (using a Private Key File - mykey.pem) \r\n 2. Creates a shell script (to mount a volume and mkfs)\r\n 3. Runs on the remote machine\r\n 4. All the while you can see the output on your stdout\r\n\r\nThe code follows:\r\n\r\n    public class connectSSH {\r\n\t\r\n\tpublic void connect(String dnsName, String privKey) throws IOException {\r\n\t\tJSch jSch = new JSch();\r\n\t\t\r\n        try {\r\n\r\n                        //Authenticate through Private Key File\r\n\t\t\tjSch.addIdentity(privKey);\r\n                        //Give the user and dnsName\r\n\t\t\tSession session = jSch.getSession(&quot;root&quot;, dnsName, 22);\r\n                        //Required if not a trusted host\r\n\t\t\tjava.util.Properties config = new java.util.Properties(); \r\n\t\t\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\tsession.setConfig(config);\r\n\t\t\tSystem.out.println(&quot;Connecting SSH to &quot; + dnsName + &quot; - Please wait for few minutes... &quot;);\r\n\t        session.connect();\r\n                //Open a shell \r\n\t        Channel channel=session.openChannel(&quot;shell&quot;);\r\n\t        channel.setOutputStream(System.out);\r\n                //Create a Shell Script\r\n\t        File shellScript = createShellScript();\r\n                //Convert the shell script to byte stream\r\n\t        FileInputStream fin = new FileInputStream(shellScript);\r\n\t        byte fileContent[] = new byte[(int)shellScript.length()];\r\n\t        fin.read(fileContent);\r\n\t        InputStream in = new ByteArrayInputStream(fileContent);\r\n                //Set the shell script to the channel as input stream\r\n\t        channel.setInputStream(in);\r\n                //Connect and have fun!\r\n\t        channel.connect();\t        \r\n\r\n\t\t} catch (JSchException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n        \r\n\t}\r\n\t\r\n\tpublic File createShellScript() {\r\n\t\t String filename = &quot;shellscript.sh&quot;;\r\n\t\t File fstream = new File(filename);\r\n\r\n\t\t try{\r\n\t\t\t  // Create file \r\n\t\t\t PrintStream out = new PrintStream(new FileOutputStream(fstream));\r\n\t\t\t out.println(&quot;#!/bin/bash&quot;);\r\n\t\t\t out.println(&quot;echo \\&quot;hi\\&quot; &gt; /tmp/test.info&quot;);\r\n\t\t\t out.println(&quot;echo \\&quot;n\\&quot; &gt; /tmp/fdisk.in&quot;);\r\n\t\t\t out.println(&quot;echo \\&quot;p\\&quot; &gt;&gt; /tmp/fdisk.in&quot;);\r\n\t\t\t out.println(&quot;echo \\&quot;1\\&quot; &gt;&gt; /tmp/fdisk.in&quot;);\r\n\t\t\t out.println(&quot;echo &gt;&gt; /tmp/fdisk.in&quot;);\r\n\t\t\t out.println(&quot;echo &gt;&gt; /tmp/fdisk.in&quot;);\r\n\t\t\t out.println(&quot;echo \\&quot;w\\&quot; &gt;&gt; /tmp/fdisk.in&quot;);\r\n\r\n\t\t\t out.println(&quot;/sbin/fdisk /dev/sdf &lt; /tmp/fdisk.in&quot;);\r\n\t\t\t out.println(&quot;mkfs.ext3 /dev/sdf1&quot;);\r\n\t\t\t out.println(&quot;mkdir /usr/myebs&quot;);\r\n\t\t\t out.println(&quot;mount /dev/sdf1 /usr/myebs&quot;);\r\n\t\t\t out.println(&quot;partprobe /dev/sdf1&quot;);\r\n\r\n\t\t\t out.println(&quot;echo \\&quot;Success\\&quot;&quot;);\r\n\r\n\t\t\t //Close the output stream\r\n\t\t\t out.close();\r\n\t\t }catch (Exception e){//Catch exception if any\r\n\t\t\t System.err.println(&quot;Error: &quot; + e.getMessage());\r\n\t\t }\r\n\t\t return fstream;\r\n\t\t\r\n\t}\r\n\t\r\n    public static void main(String[] args) {\r\n    \tconnectSSH ssh = new connectSSH();\r\n    \tString privKey = &quot;/Users/neo/Desktop/mykey.pem&quot;;\r\n    \ttry {\r\n\t\t\tssh.connect(&quot;yourexampleserver.com&quot;, privKey);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \t\r\n    }\r\n    \r\n    }","title":"Sending commands to server via JSch shell channel","body":"<p>Following was a quickly written code for my assignment. Not a well done program. \nBut serves its purpose.</p>\n\n<ol>\n<li>Connects via SSH (using Jsch) to a server (using a Private Key File - mykey.pem) </li>\n<li>Creates a shell script (to mount a volume and mkfs)</li>\n<li>Runs on the remote machine</li>\n<li>All the while you can see the output on your stdout</li>\n</ol>\n\n<p>The code follows:</p>\n\n<pre><code>public class connectSSH {\n\npublic void connect(String dnsName, String privKey) throws IOException {\n    JSch jSch = new JSch();\n\n    try {\n\n                    //Authenticate through Private Key File\n        jSch.addIdentity(privKey);\n                    //Give the user and dnsName\n        Session session = jSch.getSession(\"root\", dnsName, 22);\n                    //Required if not a trusted host\n        java.util.Properties config = new java.util.Properties(); \n        config.put(\"StrictHostKeyChecking\", \"no\");\n        session.setConfig(config);\n        System.out.println(\"Connecting SSH to \" + dnsName + \" - Please wait for few minutes... \");\n        session.connect();\n            //Open a shell \n        Channel channel=session.openChannel(\"shell\");\n        channel.setOutputStream(System.out);\n            //Create a Shell Script\n        File shellScript = createShellScript();\n            //Convert the shell script to byte stream\n        FileInputStream fin = new FileInputStream(shellScript);\n        byte fileContent[] = new byte[(int)shellScript.length()];\n        fin.read(fileContent);\n        InputStream in = new ByteArrayInputStream(fileContent);\n            //Set the shell script to the channel as input stream\n        channel.setInputStream(in);\n            //Connect and have fun!\n        channel.connect();          \n\n    } catch (JSchException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n\npublic File createShellScript() {\n     String filename = \"shellscript.sh\";\n     File fstream = new File(filename);\n\n     try{\n          // Create file \n         PrintStream out = new PrintStream(new FileOutputStream(fstream));\n         out.println(\"#!/bin/bash\");\n         out.println(\"echo \\\"hi\\\" &gt; /tmp/test.info\");\n         out.println(\"echo \\\"n\\\" &gt; /tmp/fdisk.in\");\n         out.println(\"echo \\\"p\\\" &gt;&gt; /tmp/fdisk.in\");\n         out.println(\"echo \\\"1\\\" &gt;&gt; /tmp/fdisk.in\");\n         out.println(\"echo &gt;&gt; /tmp/fdisk.in\");\n         out.println(\"echo &gt;&gt; /tmp/fdisk.in\");\n         out.println(\"echo \\\"w\\\" &gt;&gt; /tmp/fdisk.in\");\n\n         out.println(\"/sbin/fdisk /dev/sdf &lt; /tmp/fdisk.in\");\n         out.println(\"mkfs.ext3 /dev/sdf1\");\n         out.println(\"mkdir /usr/myebs\");\n         out.println(\"mount /dev/sdf1 /usr/myebs\");\n         out.println(\"partprobe /dev/sdf1\");\n\n         out.println(\"echo \\\"Success\\\"\");\n\n         //Close the output stream\n         out.close();\n     }catch (Exception e){//Catch exception if any\n         System.err.println(\"Error: \" + e.getMessage());\n     }\n     return fstream;\n\n}\n\npublic static void main(String[] args) {\n    connectSSH ssh = new connectSSH();\n    String privKey = \"/Users/neo/Desktop/mykey.pem\";\n    try {\n        ssh.connect(\"yourexampleserver.com\", privKey);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511113,"reputation":31,"user_id":1413220,"display_name":"audriusa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350801976,"creation_date":1337794279,"answer_id":10724989,"question_id":4194439,"body_markdown":"With piped input and output streams seems interesting:\r\n\r\n    JSch jsch = new JSch();\r\n    jsch.addIdentity(&quot;/home/audrius/.ssh/blablabla&quot;, &quot;blablablabla&quot;);\r\n\r\n    String user = &quot;audrius&quot;;\r\n    String host = &quot;ultrastudio.org&quot;;\r\n\r\n    Session session = jsch.getSession(user, host, 439);\r\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\t\t\t\r\n    session.connect();\r\n\r\n    Channel channel = session.openChannel(&quot;shell&quot;);\r\n\t\t\t\r\n    PipedInputStream pip = new PipedInputStream(40);\r\n    channel.setInputStream(pip);\r\n\t\t\t\r\n    PipedOutputStream pop = new PipedOutputStream(pip);\r\n    PrintStream print = new PrintStream(pop);\t\t\t\r\n    channel.setOutputStream(System.out);\r\n\t\t\t\r\n    print.println(&quot;ls&quot;);\r\n","title":"Sending commands to server via JSch shell channel","body":"<p>With piped input and output streams seems interesting:</p>\n\n<pre><code>JSch jsch = new JSch();\njsch.addIdentity(\"/home/audrius/.ssh/blablabla\", \"blablablabla\");\n\nString user = \"audrius\";\nString host = \"ultrastudio.org\";\n\nSession session = jsch.getSession(user, host, 439);\nsession.setConfig(\"StrictHostKeyChecking\", \"no\");           \nsession.connect();\n\nChannel channel = session.openChannel(\"shell\");\n\nPipedInputStream pip = new PipedInputStream(40);\nchannel.setInputStream(pip);\n\nPipedOutputStream pop = new PipedOutputStream(pip);\nPrintStream print = new PrintStream(pop);           \nchannel.setOutputStream(System.out);\n\nprint.println(\"ls\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1972914,"reputation":4069,"user_id":1771402,"accept_rate":86,"display_name":"krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357202716,"creation_date":1357202716,"answer_id":14135518,"question_id":4194439,"body_markdown":"try this\r\n\r\n    Channel channel=session.openChannel(&quot;shell&quot;);\r\n                OutputStream ops = channel.getOutputStream();\r\n            PrintStream ps = new PrintStream(ops, true);\r\n\r\n             channel.connect();\r\n             ps.println(&quot;mkdir folder&quot;); \r\n             ps.println(&quot;dir&quot;);\r\n     //give commands to be executed inside println.and can have any no of commands sent.\r\n                          ps.close();\r\n\r\n             InputStream in=channel.getInputStream();\r\n             byte[] bt=new byte[1024];\r\n\r\n\r\n             while(true)\r\n             {\r\n\r\n             while(in.available()&gt;0)\r\n             {\r\n             int i=in.read(bt, 0, 1024);\r\n             if(i&lt;0)\r\n              break;\r\n                String str=new String(bt, 0, i);\r\n              //displays the output of the command executed.\r\n                System.out.print(str);\r\n\r\n\r\n             }\r\n             if(channel.isClosed())\r\n             {\r\n\r\n                 break;\r\n            }\r\n             Thread.sleep(1000);\r\n             channel.disconnect();\r\n             session.disconnect();   \r\n             }\r\n","title":"Sending commands to server via JSch shell channel","body":"<p>try this</p>\n\n<pre><code>Channel channel=session.openChannel(\"shell\");\n            OutputStream ops = channel.getOutputStream();\n        PrintStream ps = new PrintStream(ops, true);\n\n         channel.connect();\n         ps.println(\"mkdir folder\"); \n         ps.println(\"dir\");\n //give commands to be executed inside println.and can have any no of commands sent.\n                      ps.close();\n\n         InputStream in=channel.getInputStream();\n         byte[] bt=new byte[1024];\n\n\n         while(true)\n         {\n\n         while(in.available()&gt;0)\n         {\n         int i=in.read(bt, 0, 1024);\n         if(i&lt;0)\n          break;\n            String str=new String(bt, 0, i);\n          //displays the output of the command executed.\n            System.out.print(str);\n\n\n         }\n         if(channel.isClosed())\n         {\n\n             break;\n        }\n         Thread.sleep(1000);\n         channel.disconnect();\n         session.disconnect();   \n         }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1421117,"reputation":21,"user_id":1345691,"display_name":"user1345691"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387819927,"creation_date":1387819927,"answer_id":20748345,"question_id":4194439,"body_markdown":"    private void executeRemoteCommandAsSudo(String sudoAs, String password,\r\n    \t\t\tString command, int delayInSeconds) \r\n    {\r\n    \tlogger.info(&quot;executeRemoteCommandAsSudo started....&quot;);\r\n    \tlogger.info(&quot;sudoAs=&quot; + sudoAs);\r\n    \tlogger.info(&quot;command=&quot; + command);\r\n    \tlogger.info(&quot;delayInSeconds=&quot; + delayInSeconds);\r\n    \tSession session = null;\r\n    \tChannel channel = null;\r\n    \ttry {\r\n    \t\tsession = getSession();\r\n    \t\tchannel = session.openChannel(&quot;exec&quot;);\r\n    \t\tString sudoCommand = &quot;sudo su - &quot; + sudoAs;\r\n    \t\t((ChannelExec) channel).setCommand(sudoCommand);\r\n    \t\t((ChannelExec) channel).setPty(true);\r\n    \t\tchannel.connect();\r\n    \t\tInputStream inputStream = channel.getInputStream();\r\n    \t\tOutputStream out = channel.getOutputStream();\r\n    \t\t((ChannelExec) channel).setErrStream(System.err);\r\n    \t\tout.write((password + &quot;\\n&quot;).getBytes());\r\n    \t\tout.flush();\r\n    \t\tThread.sleep(1000);\r\n    \t\tout.write((command + &quot;\\n&quot;).getBytes());\r\n    \t\tout.flush();\r\n    \t\tThread.sleep(1000 * delayInSeconds);\r\n    \t\tout.write((&quot;logout&quot; + &quot;\\n&quot;).getBytes());\r\n    \t\tout.flush();\r\n    \t\tThread.sleep(1000);\r\n    \t\tlogInfo(channel, inputStream);\r\n    \t\tout.write((&quot;exit&quot; + &quot;\\n&quot;).getBytes());\r\n    \t\tout.flush();\r\n    \t\tout.close();\r\n    \t\tThread.sleep(1000);\r\n    \t} catch (Exception ex) {\r\n    \t\tlogger.error(ex.getMessage());\r\n    \t} finally {\r\n    \t\tsession.disconnect();\r\n    \t\tchannel.disconnect();\r\n    \t}\r\n    \tlogger.info(&quot;executeRemoteCommandAsSudo completed....&quot;);\r\n    }\r\n    private void logInfo(Channel channel, InputStream in) \r\n    {\r\n    \ttry {\r\n    \t\tbyte[] tmp = new byte[1024];\r\n    \t\twhile (true) {\r\n    \t\t\twhile (in.available() &gt; 0) {\r\n    \t\t\t\tint i = in.read(tmp, 0, 1024);\r\n    \t\t\t\tif (i &lt; 0)\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tlogger.info(new String(tmp, 0, i));\r\n    \t\t\t}\r\n    \t\t\tif (channel.isClosed()) {\r\n    \t\t\t\tlogger.info(&quot;exit-status: &quot; + channel.getExitStatus());\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} catch (Exception ex) {\r\n    \t\tlogger.error(ex);\r\n    \t}\r\n    }\r\n    \r\n    private Session getSession() throws JSchException \r\n    {\r\n    \tJSch jsch = new JSch();\r\n    \tlogger.info(&quot;ftpUser=&quot; + ftpUser);\r\n    \tlogger.info(&quot;ftpHost=&quot; + ftpHost);\r\n    \tSession session = jsch.getSession(ftpUser, ftpHost, 22);\r\n    \tsession.setPassword(ftpPassword);\r\n    \tjava.util.Properties config = new java.util.Properties();\r\n    \tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \tsession.setConfig(config);\r\n    \tsession.connect();\r\n    \treturn session;\r\n    }","title":"Sending commands to server via JSch shell channel","body":"<pre><code>private void executeRemoteCommandAsSudo(String sudoAs, String password,\n            String command, int delayInSeconds) \n{\n    logger.info(\"executeRemoteCommandAsSudo started....\");\n    logger.info(\"sudoAs=\" + sudoAs);\n    logger.info(\"command=\" + command);\n    logger.info(\"delayInSeconds=\" + delayInSeconds);\n    Session session = null;\n    Channel channel = null;\n    try {\n        session = getSession();\n        channel = session.openChannel(\"exec\");\n        String sudoCommand = \"sudo su - \" + sudoAs;\n        ((ChannelExec) channel).setCommand(sudoCommand);\n        ((ChannelExec) channel).setPty(true);\n        channel.connect();\n        InputStream inputStream = channel.getInputStream();\n        OutputStream out = channel.getOutputStream();\n        ((ChannelExec) channel).setErrStream(System.err);\n        out.write((password + \"\\n\").getBytes());\n        out.flush();\n        Thread.sleep(1000);\n        out.write((command + \"\\n\").getBytes());\n        out.flush();\n        Thread.sleep(1000 * delayInSeconds);\n        out.write((\"logout\" + \"\\n\").getBytes());\n        out.flush();\n        Thread.sleep(1000);\n        logInfo(channel, inputStream);\n        out.write((\"exit\" + \"\\n\").getBytes());\n        out.flush();\n        out.close();\n        Thread.sleep(1000);\n    } catch (Exception ex) {\n        logger.error(ex.getMessage());\n    } finally {\n        session.disconnect();\n        channel.disconnect();\n    }\n    logger.info(\"executeRemoteCommandAsSudo completed....\");\n}\nprivate void logInfo(Channel channel, InputStream in) \n{\n    try {\n        byte[] tmp = new byte[1024];\n        while (true) {\n            while (in.available() &gt; 0) {\n                int i = in.read(tmp, 0, 1024);\n                if (i &lt; 0)\n                    break;\n                logger.info(new String(tmp, 0, i));\n            }\n            if (channel.isClosed()) {\n                logger.info(\"exit-status: \" + channel.getExitStatus());\n                break;\n            }\n        }\n    } catch (Exception ex) {\n        logger.error(ex);\n    }\n}\n\nprivate Session getSession() throws JSchException \n{\n    JSch jsch = new JSch();\n    logger.info(\"ftpUser=\" + ftpUser);\n    logger.info(\"ftpHost=\" + ftpHost);\n    Session session = jsch.getSession(ftpUser, ftpHost, 22);\n    session.setPassword(ftpPassword);\n    java.util.Properties config = new java.util.Properties();\n    config.put(\"StrictHostKeyChecking\", \"no\");\n    session.setConfig(config);\n    session.connect();\n    return session;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3386246,"reputation":2684,"user_id":2842142,"display_name":"Apokralipsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390831906,"creation_date":1390831564,"answer_id":21382925,"question_id":4194439,"body_markdown":"I realize that this is an old thread, but I have struggled with a similar problem today.\r\nThis is my solution.\r\n\r\n    public class ChannelConsole {\r\n\r\n\t// ================================================\r\n\t// static fields\r\n\t// ================================================\r\n\r\n\t// ================================================\r\n\t// instance fields\r\n\t// ================================================\r\n\r\n\tprivate Session session;\r\n\r\n\t// ================================================\r\n\t// constructors\r\n\t// ================================================\r\n\r\n\tpublic ChannelConsole(Session session) {\r\n\t\tthis.session = session;\r\n\t}\r\n\r\n\t// ================================================\r\n\t// getters and setters\r\n\t// ================================================\r\n\r\n\t// ================================================\r\n\t// public methods\r\n\t// ================================================\r\n\r\n\tpublic String execute(String command) throws JSchException {\r\n\t\tcommand = command.trim() + &quot;\\n&quot;;\r\n\r\n\t\tChannelExec channel = (ChannelExec) this.session.openChannel(&quot;exec&quot;);\r\n\t\tchannel.setCommand(command);\r\n\r\n\t\tByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n\t\tchannel.setOutputStream(responseStream);\r\n\r\n\t\tchannel.connect();\r\n\r\n\t\ttry {\r\n\t\t\tawaitChannelClosure(channel);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// no one cares\r\n\t\t}\r\n\r\n\t\tString result = responseStream.toString();\r\n\t\tcloseQuietly(responseStream);\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\t// ================================================\r\n\t// private methods\r\n\t// ================================================\r\n\r\n\tprivate void awaitChannelClosure(ChannelExec channel) throws InterruptedException {\r\n\t\twhile (channel.isConnected()) {\r\n\t\t\tThread.sleep(100);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void closeQuietly(Closeable closeable) {\r\n\t\tif (closeable == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tcloseable.close();\r\n\t\t} catch (IOException ignored) {\r\n\t\t\tignored.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\nUsing this class you can just do something like :\r\n    `shell = new ChannelConsole(this.session);\r\n    String result = shell.execute(&quot;quota -v; echo; echo \\&quot;Disk storage information:\\&quot;; df -hk&quot;)`","title":"Sending commands to server via JSch shell channel","body":"<p>I realize that this is an old thread, but I have struggled with a similar problem today.\nThis is my solution.</p>\n\n<pre><code>public class ChannelConsole {\n\n// ================================================\n// static fields\n// ================================================\n\n// ================================================\n// instance fields\n// ================================================\n\nprivate Session session;\n\n// ================================================\n// constructors\n// ================================================\n\npublic ChannelConsole(Session session) {\n    this.session = session;\n}\n\n// ================================================\n// getters and setters\n// ================================================\n\n// ================================================\n// public methods\n// ================================================\n\npublic String execute(String command) throws JSchException {\n    command = command.trim() + \"\\n\";\n\n    ChannelExec channel = (ChannelExec) this.session.openChannel(\"exec\");\n    channel.setCommand(command);\n\n    ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n    channel.setOutputStream(responseStream);\n\n    channel.connect();\n\n    try {\n        awaitChannelClosure(channel);\n    } catch (InterruptedException e) {\n        // no one cares\n    }\n\n    String result = responseStream.toString();\n    closeQuietly(responseStream);\n    return result;\n\n}\n\n// ================================================\n// private methods\n// ================================================\n\nprivate void awaitChannelClosure(ChannelExec channel) throws InterruptedException {\n    while (channel.isConnected()) {\n        Thread.sleep(100);\n    }\n}\n\nprivate static void closeQuietly(Closeable closeable) {\n    if (closeable == null) {\n        return;\n    }\n\n    try {\n        closeable.close();\n    } catch (IOException ignored) {\n        ignored.printStackTrace();\n    }\n}\n\n}\n</code></pre>\n\n<p>Using this class you can just do something like :\n    <code>shell = new ChannelConsole(this.session);\n    String result = shell.execute(\"quota -v; echo; echo \\\"Disk storage information:\\\"; df -hk\")</code></p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1467842204,"creation_date":1462527995,"answer_id":37069225,"question_id":4194439,"body_markdown":"Usage:\r\n\r\n    String remoteCommandOutput = exec(&quot;ssh://user:pass@host/work/dir/path&quot;, &quot;ls -t | head -n1&quot;);\r\n    String remoteShellOutput = shell(&quot;ssh://user:pass@host/work/dir/path&quot;, &quot;ls&quot;)\r\n    shell(&quot;ssh://user:pass@host/work/dir/path&quot;, &quot;ls&quot;, System.out)\r\n    shell(&quot;ssh://user:pass@host&quot;, System.in, System.out);\r\n\r\n[Implementation](https://stackoverflow.com/a/37067557/448078)\r\n","title":"Sending commands to server via JSch shell channel","body":"<p>Usage:</p>\n\n<pre><code>String remoteCommandOutput = exec(\"ssh://user:pass@host/work/dir/path\", \"ls -t | head -n1\");\nString remoteShellOutput = shell(\"ssh://user:pass@host/work/dir/path\", \"ls\")\nshell(\"ssh://user:pass@host/work/dir/path\", \"ls\", System.out)\nshell(\"ssh://user:pass@host\", System.in, System.out);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/37067557/448078\">Implementation</a></p>\n"},{"tags":[],"owner":{"account_id":11509382,"reputation":155,"user_id":8434701,"display_name":"sealor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635373167,"creation_date":1635373167,"answer_id":69746113,"question_id":4194439,"body_markdown":"When using JSch you have to use an `InputStream` for communication from your SSH client to the server and an `OutputStream` back from the server to the client. That is probably not very intuitive.\r\n\r\nThe following examples use piped streams to provide a more flexible API.\r\n\r\nCreate a JSch session ...\r\n```java\r\nSession session = new JSch().getSession(&quot;user&quot;, &quot;localhost&quot;, port);\r\nsession.setPassword(&quot;secret&quot;);\r\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\nsession.connect();\r\n```\r\n\r\nIf you want to send multiple commands to a shell you should use the `ChannelShell` as follows:\r\n```java\r\nChannelShell channel = (ChannelShell) session.openChannel(&quot;shell&quot;);\r\nPipedInputStream pis = new PipedInputStream();\r\nchannel.setInputStream(pis);\r\nPipedOutputStream pos = new PipedOutputStream();\r\nchannel.setOutputStream(pos);\r\nchannel.connect();\r\n\r\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new PipedOutputStream(pis)));\r\nwriter.write(&quot;echo Hello World\\n&quot;);\r\nwriter.flush();\r\n\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(new PipedInputStream(pos)));\r\nString line = reader.readLine(); // blocking IO\r\n\r\nassertEquals(&quot;Hello World&quot;, line);\r\n```\r\n\r\nWith the help of an `ByteArrayOutputStream` you can also communicate in a non-blocking way:\r\n```java\r\nChannelShell channel = (ChannelShell) session.openChannel(&quot;shell&quot;);\r\nchannel.setInputStream(new ByteArrayInputStream(&quot;echo Hello World\\n&quot;.getBytes()));\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nchannel.setOutputStream(baos);\r\nchannel.connect();\r\n\r\nsleep(1000); // needed because of non-blocking IO\r\nString line = baos.toString();\r\n\r\nassertEquals(&quot;Hello World\\n&quot;, line);\r\n```\r\n\r\nIf you just want to send one command the `ChannelExec` is enough. As you can see the output stream works in the same way like before:\r\n\r\n```java\r\nChannelExec channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\nchannel.setCommand(&quot;echo Hello World&quot;);\r\nPipedOutputStream pos = new PipedOutputStream();\r\nchannel.setOutputStream(pos);\r\nchannel.connect();\r\n\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(new PipedInputStream(pos)));\r\nString line = reader.readLine(); // blocking IO\r\n\r\nassertEquals(&quot;Hello World&quot;, line);\r\n```","title":"Sending commands to server via JSch shell channel","body":"<p>When using JSch you have to use an <code>InputStream</code> for communication from your SSH client to the server and an <code>OutputStream</code> back from the server to the client. That is probably not very intuitive.</p>\n<p>The following examples use piped streams to provide a more flexible API.</p>\n<p>Create a JSch session ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>Session session = new JSch().getSession(&quot;user&quot;, &quot;localhost&quot;, port);\nsession.setPassword(&quot;secret&quot;);\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\nsession.connect();\n</code></pre>\n<p>If you want to send multiple commands to a shell you should use the <code>ChannelShell</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChannelShell channel = (ChannelShell) session.openChannel(&quot;shell&quot;);\nPipedInputStream pis = new PipedInputStream();\nchannel.setInputStream(pis);\nPipedOutputStream pos = new PipedOutputStream();\nchannel.setOutputStream(pos);\nchannel.connect();\n\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new PipedOutputStream(pis)));\nwriter.write(&quot;echo Hello World\\n&quot;);\nwriter.flush();\n\nBufferedReader reader = new BufferedReader(new InputStreamReader(new PipedInputStream(pos)));\nString line = reader.readLine(); // blocking IO\n\nassertEquals(&quot;Hello World&quot;, line);\n</code></pre>\n<p>With the help of an <code>ByteArrayOutputStream</code> you can also communicate in a non-blocking way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChannelShell channel = (ChannelShell) session.openChannel(&quot;shell&quot;);\nchannel.setInputStream(new ByteArrayInputStream(&quot;echo Hello World\\n&quot;.getBytes()));\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nchannel.setOutputStream(baos);\nchannel.connect();\n\nsleep(1000); // needed because of non-blocking IO\nString line = baos.toString();\n\nassertEquals(&quot;Hello World\\n&quot;, line);\n</code></pre>\n<p>If you just want to send one command the <code>ChannelExec</code> is enough. As you can see the output stream works in the same way like before:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChannelExec channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\nchannel.setCommand(&quot;echo Hello World&quot;);\nPipedOutputStream pos = new PipedOutputStream();\nchannel.setOutputStream(pos);\nchannel.connect();\n\nBufferedReader reader = new BufferedReader(new InputStreamReader(new PipedInputStream(pos)));\nString line = reader.readLine(); // blocking IO\n\nassertEquals(&quot;Hello World&quot;, line);\n</code></pre>\n"}],"owner":{"account_id":230139,"reputation":287,"user_id":493575,"display_name":"Nezzit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84164,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":7503273,"answer_count":10,"score":27,"last_activity_date":1635373167,"creation_date":1289912940,"question_id":4194439,"body_markdown":"I can&#39;t figure it out how I can send commands via JSch shell channel.\r\n\r\nI do this, but it doesn&#39;t work:\r\n\r\n    JSch shell = new JSch();\r\n    String command = &quot;cd home/s/src&quot;;  \r\n    Session session = shell.getSession(username, host, port);  \r\n    MyUserInfo ui = new MyUserInfo();  \r\n    ui.setPassword(password);  \r\n    session.setUserInfo(ui);  \r\n    session.connect();  \r\n\t         \r\n    channel = session.openChannel(&quot;shell&quot;);  \r\n    fromServer = new BufferedReader(new InputStreamReader(channel.getInputStream()));  \r\n    toServer = channel.getOutputStream();\r\n    channel.connect();  \r\n    toServer.write((command + &quot;\\r\\n&quot;).getBytes());\r\n    toServer.flush();\r\n      \r\nand then I read input like this:\r\n\r\n    StringBuilder builder = new StringBuilder();  \r\n\t         \r\n    int count = 0;  \r\n    String line = &quot;&quot;;  \r\n \t         \r\n    while(line != null) {  \r\n        line = fromServer.readLine();\r\n        builder.append(line).append(&quot;\\n&quot;);\r\n\t             \r\n        if (line.endsWith(&quot;.&quot;) || line.endsWith(&quot;&gt;&quot;)){\r\n            break;\r\n        }\r\n    }  \r\n    String result = builder.toString();  \r\n    ConsoleOut.println(result);\r\n\r\n","title":"Sending commands to server via JSch shell channel","body":"<p>I can't figure it out how I can send commands via JSch shell channel.</p>\n\n<p>I do this, but it doesn't work:</p>\n\n<pre><code>JSch shell = new JSch();\nString command = \"cd home/s/src\";  \nSession session = shell.getSession(username, host, port);  \nMyUserInfo ui = new MyUserInfo();  \nui.setPassword(password);  \nsession.setUserInfo(ui);  \nsession.connect();  \n\nchannel = session.openChannel(\"shell\");  \nfromServer = new BufferedReader(new InputStreamReader(channel.getInputStream()));  \ntoServer = channel.getOutputStream();\nchannel.connect();  \ntoServer.write((command + \"\\r\\n\").getBytes());\ntoServer.flush();\n</code></pre>\n\n<p>and then I read input like this:</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();  \n\nint count = 0;  \nString line = \"\";  \n\nwhile(line != null) {  \n    line = fromServer.readLine();\n    builder.append(line).append(\"\\n\");\n\n    if (line.endsWith(\".\") || line.endsWith(\"&gt;\")){\n        break;\n    }\n}  \nString result = builder.toString();  \nConsoleOut.println(result);\n</code></pre>\n"},{"tags":["java","jenkins","cucumber","pom.xml","maven-surefire-plugin"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564817536,"post_id":57336080,"comment_id":101161887,"body_markdown":"Check and ensure that you have test classes inside test folder, are you able to run locally ?","body":"Check and ensure that you have test classes inside test folder, are you able to run locally ?"},{"owner":{"account_id":6803014,"reputation":1299,"user_id":5235756,"accept_rate":95,"display_name":"DJ-Glock"},"score":0,"creation_date":1679997039,"post_id":57336080,"comment_id":133817203,"body_markdown":"I have very similar issue. Locally it runs with no issues, but in Jenkins agent it does not see tests. Did you found the root cause of this?","body":"I have very similar issue. Locally it runs with no issues, but in Jenkins agent it does not see tests. Did you found the root cause of this?"}],"answers":[{"tags":[],"owner":{"account_id":2134345,"reputation":323,"user_id":1894489,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565038490,"creation_date":1565038490,"answer_id":57365982,"question_id":57336080,"body_markdown":"You did not provide any information about your test classes. Make sure that the class names of your tests match one of these [patterns][1]:\r\n\r\n - &quot;**/Test*.java&quot; - includes all of its subdirectories and all Java filenames that start with &quot;Test&quot;.\r\n - &quot;**/*Test.java&quot; - includes all of its subdirectories and all Java filenames that end with &quot;Test&quot;.\r\n - &quot;**/*Tests.java&quot; - includes all of its subdirectories and all Java filenames that end with &quot;Tests&quot;.\r\n - &quot;**/*TestCase.java&quot; - includes all of its subdirectories and all Java filenames that end with &quot;TestCase&quot;.\r\n\r\n\r\n  [1]: http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html","title":"Maven surefire plugin not picking tests in jenkins","body":"<p>You did not provide any information about your test classes. Make sure that the class names of your tests match one of these <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">patterns</a>:</p>\n\n<ul>\n<li>\"**/Test*.java\" - includes all of its subdirectories and all Java filenames that start with \"Test\".</li>\n<li>\"**/*Test.java\" - includes all of its subdirectories and all Java filenames that end with \"Test\".</li>\n<li>\"**/*Tests.java\" - includes all of its subdirectories and all Java filenames that end with \"Tests\".</li>\n<li>\"**/*TestCase.java\" - includes all of its subdirectories and all Java filenames that end with \"TestCase\".</li>\n</ul>\n"}],"owner":{"account_id":16440586,"reputation":11,"user_id":11876976,"display_name":"Hims1178"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635372337,"creation_date":1564814372,"question_id":57336080,"body_markdown":"My tests are running in eclipse, mvn test, command line also but not in jenkins. maven surefire plugin in console says no test to run. I suspect maven surefire plugin not able to pick tests. my POM looks like : \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n            http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;groupid&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifactiddemo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.2.6&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n          &lt;version&gt;4.2.6&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;/properties&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nJenkins job logs:\r\n   \r\n    Executing Maven:  -B -f C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\pom.xml verify -Dcucumber.options=test/features/FirstDemo.feature -DskipTests=false\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -----------------------&lt; groupid:artifactiddemo &gt;-----------------------\r\n    [INFO] Building artifactiddemo 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ artifactiddemo ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\src\\main\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ artifactiddemo ---\r\n    [INFO] No sources to compile\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ artifactiddemo ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\src\\test\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ artifactiddemo ---\r\n    [INFO] No sources to compile\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.8.1:test (default-test) @ artifactiddemo ---\r\n    [INFO] No tests to run.\r\n    [INFO] Surefire report directory: C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\target\\surefire-reports\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    There are no tests to run.\r\n    \r\n    Results :\r\n    \r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nI know I am missing on something to include testsin surefire plugin thing .. but they are running smoth on local eclipse or mvn test command. Thanks in advance\r\n","title":"Maven surefire plugin not picking tests in jenkins","body":"<p>My tests are running in eclipse, mvn test, command line also but not in jenkins. maven surefire plugin in console says no test to run. I suspect maven surefire plugin not able to pick tests. my POM looks like :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n        http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;groupid&lt;/groupId&gt;\n  &lt;artifactId&gt;artifactiddemo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n      &lt;version&gt;4.2.6&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n      &lt;version&gt;4.2.6&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Jenkins job logs:</p>\n<pre><code>Executing Maven:  -B -f C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\pom.xml verify -Dcucumber.options=test/features/FirstDemo.feature -DskipTests=false\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------&lt; groupid:artifactiddemo &gt;-----------------------\n[INFO] Building artifactiddemo 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ artifactiddemo ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\src\\main\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ artifactiddemo ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ artifactiddemo ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\src\\test\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ artifactiddemo ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-surefire-plugin:2.8.1:test (default-test) @ artifactiddemo ---\n[INFO] No tests to run.\n[INFO] Surefire report directory: C:\\Program Files (x86)\\Jenkins\\workspace\\Second_Job\\target\\surefire-reports\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nThere are no tests to run.\n\nResults :\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>I know I am missing on something to include testsin surefire plugin thing .. but they are running smoth on local eclipse or mvn test command. Thanks in advance</p>\n"},{"tags":["java","spring-boot","hibernate","spring-transactions"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1635369655,"post_id":69745584,"comment_id":123283167,"body_markdown":"by (trying and) catching the(/any) runtime exception ... in your controller!?","body":"by (trying and) catching the(/any) runtime exception ... in your controller!?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1635370612,"post_id":69745584,"comment_id":123283438,"body_markdown":"if this is not sufficient, you can [gain &quot;complete control&quot; of the (current) transaction](https://www.baeldung.com/spring-programmatic-transaction-management), but have to propagate the status to the controller...","body":"if this is not sufficient, you can <a href=\"https://www.baeldung.com/spring-programmatic-transaction-management\" rel=\"nofollow noreferrer\">gain &quot;complete control&quot; of the (current) transaction</a>, but have to propagate the status to the controller..."},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1635371440,"post_id":69745584,"comment_id":123283658,"body_markdown":"Consider cleaner code with this, instead of try/ catch\n```\n    @ControllerAdvice\n    @RestController\n    public class RestExceptionHandler {\n\n      @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n      @ExceptionHandler(Exception.class)\n      public ResponseEntity&lt;String&gt; exceptionHandler(Exception e, WebRequest request) {\n        log.error(request.getDescription(false));\n        log.error(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase() + e.getMessage(), e);\n        return new ResponseEntity&lt;&gt;(e.toString(), HttpStatus.INTERNAL_SERVER_ERROR);\n```","body":"Consider cleaner code with this, instead of try/ catch ```     @ControllerAdvice     @RestController     public class RestExceptionHandler {        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)       @ExceptionHandler(Exception.class)       public ResponseEntity&lt;String&gt; exceptionHandler(Exception e, WebRequest request) {         log.error(request.getDescription(false));         log.error(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase() + e.getMessage(), e);         return new ResponseEntity&lt;&gt;(e.toString(), HttpStatus.INTERNAL_SERVER_ERROR); ```"},{"owner":{"account_id":6146101,"reputation":703,"user_id":4792039,"display_name":"Neha Shettar"},"score":0,"creation_date":1635515182,"post_id":69745584,"comment_id":123326412,"body_markdown":"Will the transaction get rolledback if I am explicitly throwing Runtime exception?","body":"Will the transaction get rolledback if I am explicitly throwing Runtime exception?"}],"answers":[{"tags":[],"owner":{"account_id":23153093,"reputation":74,"user_id":17254777,"display_name":"swabih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635371675,"creation_date":1635371675,"answer_id":69745897,"question_id":69745584,"body_markdown":"you can get the status of the current transaction using\r\n\r\n    TransactionStatus status = TransactionAspectSupport.currentTransactionStatus();","title":"Identify if transaction is committed","body":"<p>you can get the status of the current transaction using</p>\n<pre><code>TransactionStatus status = TransactionAspectSupport.currentTransactionStatus();\n</code></pre>\n"}],"owner":{"account_id":6146101,"reputation":703,"user_id":4792039,"display_name":"Neha Shettar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635371675,"creation_date":1635369307,"question_id":69745584,"body_markdown":"In my application, I encountered a scenario where while inserting in db, runtime exception was thrown which rolled back the entire transaction, which is expected.\r\n\r\nBut how do we identify from Controller that when transaction was successful committed for got rolled back to send the response accordingly back.\r\n\r\nThanks in advance.","title":"Identify if transaction is committed","body":"<p>In my application, I encountered a scenario where while inserting in db, runtime exception was thrown which rolled back the entire transaction, which is expected.</p>\n<p>But how do we identify from Controller that when transaction was successful committed for got rolled back to send the response accordingly back.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","exception","sockets","tomcat","stack-trace"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1382721997,"post_id":2126607,"comment_id":29085535,"body_markdown":"I have this issue when cancelling a download with Firefox","body":"I have this issue when cancelling a download with Firefox"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1425969979,"post_id":2126607,"comment_id":46168033,"body_markdown":"Hey Eran I am also getting this exception while sending/writing (`outs.write(audioBytes);`) `byte[]` in to `OutputStream`. When audio is plying and while playing if user clicks on any other menu (which send an server request) I got the same error on console. so is it safe to ignore this exception?","body":"Hey Eran I am also getting this exception while sending/writing (<code>outs.write(audioBytes);</code>) <code>byte[]</code> in to <code>OutputStream</code>. When audio is plying and while playing if user clicks on any other menu (which send an server request) I got the same error on console. so is it safe to ignore this exception?"},{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":1,"creation_date":1426012542,"post_id":2126607,"comment_id":46194369,"body_markdown":"@Amogh - It seems so, yes. Basically from what the answers describe, this is a Windows specific error, but I assume on Linux you&#39;ll get the same exception just with a different wording... (My laymen terms understanding of it is basically that this is caused when you send via a socket to some remote location X and X got disconnected in the middle, but I&#39;m sure it&#39;s not the most accurate way to describe it)","body":"@Amogh - It seems so, yes. Basically from what the answers describe, this is a Windows specific error, but I assume on Linux you&#39;ll get the same exception just with a different wording... (My laymen terms understanding of it is basically that this is caused when you send via a socket to some remote location X and X got disconnected in the middle, but I&#39;m sure it&#39;s not the most accurate way to describe it)"},{"owner":{"account_id":1421077,"reputation":18087,"user_id":1345655,"accept_rate":78,"display_name":"Kshitiz Sharma"},"score":1,"creation_date":1487181464,"post_id":2126607,"comment_id":71671293,"body_markdown":"For me this happened when the database server was restarted and the application was still trying to query using connections previously opened. Not sure why these were not refreshed as we&#39;re using DBCP based pooling. But restarting the application fixed the problem.","body":"For me this happened when the database server was restarted and the application was still trying to query using connections previously opened. Not sure why these were not refreshed as we&#39;re using DBCP based pooling. But restarting the application fixed the problem."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1264327034,"creation_date":1264327034,"answer_id":2126621,"question_id":2126607,"body_markdown":"Have you checked the Tomcat source code *and* the JVM source ? That may give you more help.\r\n\r\nI think your general thinking is good. I would expect a `ConnectException` in the scenario that you couldn&#39;t connect. The above looks very like it&#39;s client-driven.","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>Have you checked the Tomcat source code <em>and</em> the JVM source ? That may give you more help.</p>\n\n<p>I think your general thinking is good. I would expect a <code>ConnectException</code> in the scenario that you couldn't connect. The above looks very like it's client-driven.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1264330890,"creation_date":1264330890,"answer_id":2126758,"question_id":2126607,"body_markdown":"To prove which component fails I would monitor the TCP/IP communication using [wireshark](http://www.wireshark.org/) and look who is actaully closing the port, also timeouts could be relevant.","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>To prove which component fails I would monitor the TCP/IP communication using <a href=\"http://www.wireshark.org/\" rel=\"nofollow noreferrer\">wireshark</a> and look who is actaully closing the port, also timeouts could be relevant.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1547388761,"creation_date":1318461472,"answer_id":7747693,"question_id":2126607,"body_markdown":"\r\n\r\n&gt; This error can occur when the local network system aborts a\r\n&gt; connection, such as when WinSock closes an established connection\r\n&gt; after data retransmission fails (receiver never acknowledges data sent\r\n&gt; on a datastream socket).\r\n\r\nSee [this MSDN article][2]. See also [Some information about &#39;Software caused connection abort&#39;][1].\r\n\r\n\r\n  [1]: http://forums.oracle.com/forums/thread.jspa?threadID=1689330\r\n  [2]: http://msdn.microsoft.com/en-us/library/ms832256.aspx","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<blockquote>\n  <p>This error can occur when the local network system aborts a\n  connection, such as when WinSock closes an established connection\n  after data retransmission fails (receiver never acknowledges data sent\n  on a datastream socket).</p>\n</blockquote>\n\n<p>See <a href=\"http://msdn.microsoft.com/en-us/library/ms832256.aspx\" rel=\"noreferrer\">this MSDN article</a>. See also <a href=\"http://forums.oracle.com/forums/thread.jspa?threadID=1689330\" rel=\"noreferrer\">Some information about 'Software caused connection abort'</a>.</p>\n"},{"tags":[],"owner":{"account_id":2310725,"reputation":127,"user_id":2028913,"display_name":"user2028913"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1359634128,"creation_date":1359632799,"answer_id":14625003,"question_id":2126607,"body_markdown":"I have seen this most often when a corporate firewall on a workstation/laptop gets in the way, it kills the connection.\r\n\r\neg. I have a server process and a client process on the same machine. The server is listening on all interfaces (0.0.0.0) and the client attempts a connection to the public/home interface (note not the loopback interface 127.0.0.1).\r\n\r\nIf the machine is has its network disconnected (eg wifi turned off) then the connection is formed. If the machine is connected to the corporate network (directly or vpn) then the connection is formed.\r\n\r\nHowever, if the machine is connected to a public wifi (or home network) then the firewall kicks in an kills the connection. In this situation connecting the client to the loopback interface works fine, just not to the home/public interface.\r\n\r\nHope this helps.","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>I have seen this most often when a corporate firewall on a workstation/laptop gets in the way, it kills the connection.</p>\n\n<p>eg. I have a server process and a client process on the same machine. The server is listening on all interfaces (0.0.0.0) and the client attempts a connection to the public/home interface (note not the loopback interface 127.0.0.1).</p>\n\n<p>If the machine is has its network disconnected (eg wifi turned off) then the connection is formed. If the machine is connected to the corporate network (directly or vpn) then the connection is formed.</p>\n\n<p>However, if the machine is connected to a public wifi (or home network) then the firewall kicks in an kills the connection. In this situation connecting the client to the loopback interface works fine, just not to the home/public interface.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4220701,"reputation":922,"user_id":3455559,"accept_rate":50,"display_name":"PRO_gramista"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1416900786,"creation_date":1416900786,"answer_id":27121012,"question_id":2126607,"body_markdown":"For anyone using simple Client Server programms and getting this error, it is a problem of unclosed (or closed to early) Input or Output Streams.","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>For anyone using simple Client Server programms and getting this error, it is a problem of unclosed (or closed to early) Input or Output Streams.</p>\n"},{"tags":[],"owner":{"account_id":5390402,"reputation":161,"user_id":4293113,"accept_rate":56,"display_name":"Sefi Erlich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443358596,"creation_date":1443358596,"answer_id":32808140,"question_id":2126607,"body_markdown":"My server was throwing this exception in the pass 2 days and I solved it by moving the disconnecting function with: \r\n\r\n    outputStream.close();\r\n    inputStream.close();\r\n \tClient.close();\r\n\r\nTo the end of the  listing thread.\r\nif it will helped anyone.\r\n","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>My server was throwing this exception in the pass 2 days and I solved it by moving the disconnecting function with: </p>\n\n<pre><code>outputStream.close();\ninputStream.close();\nClient.close();\n</code></pre>\n\n<p>To the end of the  listing thread.\nif it will helped anyone.</p>\n"},{"tags":[],"owner":{"account_id":2975595,"reputation":502,"user_id":2526688,"display_name":"Nirav Chhatrola"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1467114113,"creation_date":1467114113,"answer_id":38075265,"question_id":2126607,"body_markdown":"I was facing the same issue.&lt;br/&gt;\r\nCommonly This kind of error occurs due to client has closed its connection and server still trying to write on that client.&lt;br/&gt;\r\nSo make sure that your client has its connection open until server done with its outputstream.&lt;br/&gt;\r\nAnd one more thing, Don`t forgot to &lt;b&gt; close input and output stream.&lt;/b&gt;\r\n\r\nHope this helps. &lt;br/&gt;\r\nAnd if still facing issue than brief your problem here in details.","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>I was facing the same issue.<br/>\nCommonly This kind of error occurs due to client has closed its connection and server still trying to write on that client.<br/>\nSo make sure that your client has its connection open until server done with its outputstream.<br/>\nAnd one more thing, Don`t forgot to <b> close input and output stream.</b></p>\n\n<p>Hope this helps. <br/>\nAnd if still facing issue than brief your problem here in details.</p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1472123514,"creation_date":1472123514,"answer_id":39143718,"question_id":2126607,"body_markdown":"The [`java.net.SocketException`][1] is thrown when there is an error creating or accessing [a socket][2] (such as [TCP][3]). This usually can be caused when the server has terminated the connection (without properly closing it), so before getting the full response. In most cases this can be caused either by the timeout issue (e.g. the response takes too much time or server is overloaded with the requests), or the client sent the SYN, but it didn&#39;t receive ACK (acknowledgment of the connection termination). For timeout issues, you can consider increasing the timeout value.\r\n\r\nThe Socket Exception usually comes with the specified detail message about the issue.\r\n\r\nExample of detailed messages:\r\n\r\n- &gt; Software caused connection abort: recv failed.\r\n\r\n  The error indicates an attempt to send the message and the connection has been aborted by your server. If this happened while connecting to the database, this can be related to using [not compatible Connector/J JDBC driver][4].\r\n\r\n  Possible solution: Make sure you&#39;ve proper libraries/drivers in your CLASSPATH.\r\n\r\n- &gt; Software caused connection abort: connect.\r\n\r\n   This can happen when there is a problem to connect to the remote. For example [due to virus-checker rejecting the remote mail requests][5].\r\n\r\n  Possible solution: Check Virus scan service whether it&#39;s blocking the port for the outgoing requests for connections.\r\n\r\n- &gt; Software caused connection abort: socket write error.\r\n\r\n\r\n  Possible solution: Make sure you&#39;re writing the correct length of bytes to the stream. So double check what you&#39;re sending. See this [thread][6].\r\n  \r\n\r\n- &gt; Connection reset by peer: socket write error / Connection aborted by peer: socket write error\r\n\r\n  The application did not check whether keep-alive connection had been timed out on the server side.\r\n\r\n  Possible solution: Ensure that the HttpClient is non-null before reading from the connection.&lt;sup&gt;[E13222_01][7]&lt;/sup&gt;\r\n\r\n- &gt; Connection reset by peer.\r\n\r\n  The connection has been terminated by the peer (server).\r\n\r\n- &gt; Connection reset.\r\n\r\n  The connection has been either terminated by the client or closed by the server end of the connection due to request with the request.\r\n\r\n  See: &lt;https://stackoverflow.com/q/585599/55075&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/SocketException.html\r\n  [2]: https://en.wikipedia.org/wiki/Network_socket\r\n  [3]: https://en.wikipedia.org/wiki/Transmission_Control_Protocol\r\n  [4]: https://docs.oracle.com/cd/E17952_01/connector-j-en/connector-j-usagenotes-troubleshooting.html#qandaitem-15-1-7\r\n  [5]: http://docs.oracle.com/cd/E62114_01/oroms/pdf/5/cws_help/logs.htm\r\n  [6]: https://stackoverflow.com/q/12986542/55075\r\n  [7]: https://docs.oracle.com/cd/E13222_01/wls/docs61/notes/bugfixes2.html","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/SocketException.html\" rel=\"noreferrer\"><code>java.net.SocketException</code></a> is thrown when there is an error creating or accessing <a href=\"https://en.wikipedia.org/wiki/Network_socket\" rel=\"noreferrer\">a socket</a> (such as <a href=\"https://en.wikipedia.org/wiki/Transmission_Control_Protocol\" rel=\"noreferrer\">TCP</a>). This usually can be caused when the server has terminated the connection (without properly closing it), so before getting the full response. In most cases this can be caused either by the timeout issue (e.g. the response takes too much time or server is overloaded with the requests), or the client sent the SYN, but it didn't receive ACK (acknowledgment of the connection termination). For timeout issues, you can consider increasing the timeout value.</p>\n\n<p>The Socket Exception usually comes with the specified detail message about the issue.</p>\n\n<p>Example of detailed messages:</p>\n\n<ul>\n<li><blockquote>\n  <p>Software caused connection abort: recv failed.</p>\n</blockquote>\n\n<p>The error indicates an attempt to send the message and the connection has been aborted by your server. If this happened while connecting to the database, this can be related to using <a href=\"https://docs.oracle.com/cd/E17952_01/connector-j-en/connector-j-usagenotes-troubleshooting.html#qandaitem-15-1-7\" rel=\"noreferrer\">not compatible Connector/J JDBC driver</a>.</p>\n\n<p>Possible solution: Make sure you've proper libraries/drivers in your CLASSPATH.</p></li>\n<li><blockquote>\n  <p>Software caused connection abort: connect.</p>\n</blockquote>\n\n<p>This can happen when there is a problem to connect to the remote. For example <a href=\"http://docs.oracle.com/cd/E62114_01/oroms/pdf/5/cws_help/logs.htm\" rel=\"noreferrer\">due to virus-checker rejecting the remote mail requests</a>.</p>\n\n<p>Possible solution: Check Virus scan service whether it's blocking the port for the outgoing requests for connections.</p></li>\n<li><blockquote>\n  <p>Software caused connection abort: socket write error.</p>\n</blockquote>\n\n<p>Possible solution: Make sure you're writing the correct length of bytes to the stream. So double check what you're sending. See this <a href=\"https://stackoverflow.com/q/12986542/55075\">thread</a>.</p></li>\n<li><blockquote>\n  <p>Connection reset by peer: socket write error / Connection aborted by peer: socket write error</p>\n</blockquote>\n\n<p>The application did not check whether keep-alive connection had been timed out on the server side.</p>\n\n<p>Possible solution: Ensure that the HttpClient is non-null before reading from the connection.<sup><a href=\"https://docs.oracle.com/cd/E13222_01/wls/docs61/notes/bugfixes2.html\" rel=\"noreferrer\">E13222_01</a></sup></p></li>\n<li><blockquote>\n  <p>Connection reset by peer.</p>\n</blockquote>\n\n<p>The connection has been terminated by the peer (server).</p></li>\n<li><blockquote>\n  <p>Connection reset.</p>\n</blockquote>\n\n<p>The connection has been either terminated by the client or closed by the server end of the connection due to request with the request.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/q/585599/55075\">What&#39;s causing my java.net.SocketException: Connection reset?</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1888683,"reputation":2445,"user_id":1707348,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474535982,"creation_date":1474535982,"answer_id":39635034,"question_id":2126607,"body_markdown":"This error happened to me while testing my soap service with SoapUI client, basically I was trying to get a very big message (&gt;500kb) and SoapUI closed the connection by timeout.\r\n\r\n&gt; On SoapUI go to:\r\n&gt; \r\n&gt; File--&gt;Preferences--Socket Timeout(ms)\r\n\r\n...and put a large value, such as 180000 (3 minutes), this won&#39;t be the perfect fix for your issue because the file is in fact to large, but at least you will have a response.","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>This error happened to me while testing my soap service with SoapUI client, basically I was trying to get a very big message (>500kb) and SoapUI closed the connection by timeout.</p>\n\n<blockquote>\n  <p>On SoapUI go to:</p>\n  \n  <p>File-->Preferences--Socket Timeout(ms)</p>\n</blockquote>\n\n<p>...and put a large value, such as 180000 (3 minutes), this won't be the perfect fix for your issue because the file is in fact to large, but at least you will have a response.</p>\n"},{"tags":[],"owner":{"account_id":9173604,"reputation":243,"user_id":6820091,"display_name":"Yallaling Goudar"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1480591383,"creation_date":1480588532,"answer_id":40908360,"question_id":2126607,"body_markdown":"I was facing the same problem with wireMock while mocking the rest API calls.\r\nEarlier I was defining the server like this:\r\n\r\n    WireMockServer wireMockServer = null;\r\n\r\nBut it should be defined like as shown below:\r\n\r\n    @Rule \r\n    public WireMockRule wireMockRule = new WireMockRule(8089);","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>I was facing the same problem with wireMock while mocking the rest API calls.\nEarlier I was defining the server like this:</p>\n\n<pre><code>WireMockServer wireMockServer = null;\n</code></pre>\n\n<p>But it should be defined like as shown below:</p>\n\n<pre><code>@Rule \npublic WireMockRule wireMockRule = new WireMockRule(8089);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487852571,"creation_date":1487852571,"answer_id":42415669,"question_id":2126607,"body_markdown":"Closed connection in another client\r\n===\r\nIn my case, the error was:\r\n\r\n    java.net.SocketException: Software caused connection abort: recv failed\r\n\r\nIt was received in eclipse while debugging a java application accessing a H2 database. The source of the error was that I had initially opened the database with SQuirreL to check manually for integrity. I did use the flag to enable multiple connections to the same DB (i.e. `AUTO_SERVER=TRUE`), so there was no problem connecting to the DB from java.\r\n\r\nThe error appeared when, after a while --it is a long java process-- I decided to close SQuirreL to free resources. It appears as if SQuirreL were the one &quot;owning&quot; the DB server instance and that it was shut down with the SQuirreL connection.\r\n\r\nRestarting the Java application did not yield the error again.\r\n\r\n***config***\r\n\r\n - Windows 7\r\n - Eclipse Kepler\r\n - SQuirreL 3.6\r\n - org.h2.Driver ver 1.4.192","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<h1>Closed connection in another client</h1>\n\n<p>In my case, the error was:</p>\n\n<pre><code>java.net.SocketException: Software caused connection abort: recv failed\n</code></pre>\n\n<p>It was received in eclipse while debugging a java application accessing a H2 database. The source of the error was that I had initially opened the database with SQuirreL to check manually for integrity. I did use the flag to enable multiple connections to the same DB (i.e. <code>AUTO_SERVER=TRUE</code>), so there was no problem connecting to the DB from java.</p>\n\n<p>The error appeared when, after a while --it is a long java process-- I decided to close SQuirreL to free resources. It appears as if SQuirreL were the one \"owning\" the DB server instance and that it was shut down with the SQuirreL connection.</p>\n\n<p>Restarting the Java application did not yield the error again.</p>\n\n<p><strong><em>config</em></strong></p>\n\n<ul>\n<li>Windows 7</li>\n<li>Eclipse Kepler</li>\n<li>SQuirreL 3.6</li>\n<li>org.h2.Driver ver 1.4.192</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1331444,"reputation":1089,"user_id":1275277,"display_name":"xiaoming"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507884744,"creation_date":1507856711,"answer_id":46721044,"question_id":2126607,"body_markdown":"In the situation explained below, client side will throw such an exception:\r\n\r\nThe server is asked to authenticate client certificate, but the client provides a certificate which Extended Key Usage doesn&#39;t support client auth, so the server doesn&#39;t accept the client&#39;s certificate, and then it closes the connection.","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>In the situation explained below, client side will throw such an exception:</p>\n\n<p>The server is asked to authenticate client certificate, but the client provides a certificate which Extended Key Usage doesn't support client auth, so the server doesn't accept the client's certificate, and then it closes the connection.</p>\n"},{"tags":[],"owner":{"account_id":7214686,"reputation":235,"user_id":5507608,"display_name":"Elloco"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1576829764,"creation_date":1576829764,"answer_id":59421916,"question_id":2126607,"body_markdown":"In my case, I developped the client and the server side, and I have the exception : \r\n\r\n&gt; Cause : error marshalling arguments; nested exception is:\r\n&gt; java.net.SocketException: Software caused connection abort: socket\r\n&gt; write error\r\n\r\n \r\nwhen classes in client and server are different. I don&#39;t download server&#39;s classes (Interfaces) on the client, I juste add same files in the project.\r\nBut the path must be exactly the same.\r\nFor example, on the server project I have java\\rmi\\services packages with some serviceInterface and implementations, I have to create the same package on the client project. If I change it by java/rmi/server/services for example, I get the above exception.\r\nSame exception if the interface version is different between client and server (even with an empty row added inadvertently ... I think rmi makes a sort of hash of classes to check version ... I don&#39;t know...\r\nIf it could help ...","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>In my case, I developped the client and the server side, and I have the exception : </p>\n\n<blockquote>\n  <p>Cause : error marshalling arguments; nested exception is:\n  java.net.SocketException: Software caused connection abort: socket\n  write error</p>\n</blockquote>\n\n<p>when classes in client and server are different. I don't download server's classes (Interfaces) on the client, I juste add same files in the project.\nBut the path must be exactly the same.\nFor example, on the server project I have java\\rmi\\services packages with some serviceInterface and implementations, I have to create the same package on the client project. If I change it by java/rmi/server/services for example, I get the above exception.\nSame exception if the interface version is different between client and server (even with an empty row added inadvertently ... I think rmi makes a sort of hash of classes to check version ... I don't know...\nIf it could help ...</p>\n"},{"tags":[],"owner":{"account_id":23164022,"reputation":21,"user_id":17264254,"display_name":"JamesKDell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635370930,"creation_date":1635364384,"answer_id":69744681,"question_id":2126607,"body_markdown":"Had an SSLPoke.bat (SSL troubleshooting script) window script that was getting this error despite importing the correct certificates into the cacerts trustore.  \r\n```\r\nC:\\Java\\jdk1.8.0_111\\jre\\lib\\security&gt;SSLPoke.bat\r\n\r\nC:\\Java\\jdk1.8.0_111\\jre\\lib\\security&gt;&quot;C:\\jdk1.8.0_101\\jre\\bin\\java&quot; \r\n     `SSLPoke  tfs.corp.****.com  443`\r\n\r\njava.net.SocketException: Software caused connection abort: recv failed\r\n    `at java.net.SocketInputStream.socketRead0(Native Method)`\r\n    `at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)`\r\n    `at java.net.SocketInputStream.read(SocketInputStream.java:170)`\r\n    `at java.net.SocketInputStream.read(SocketInputStream.java:141)`\r\n    `at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)`\r\n    `at sun.security.ssl.InputRecord.read(InputRecord.java:503)`\r\n    `at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)`\r\n    `at sun.security.ssl.SSLSocketImpl.performInitialHandshake\r\n       (SSLSocketImpl.java:1375)`\r\n    `at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:747)`\r\n    `at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)`\r\n    `at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:138)`\r\n    `at SSLPoke.main(SSLPoke.java:28)`\r\n```\r\nI then checked some old notes about some network changes at my job.  We would \r\nneed in some cases to add the JVM parameter \r\n`-Djava.net.preferIPv4Stack=true to make connections to certain machines`\r\nin our network to avoid this error.\r\n```\r\nC:\\Java\\jdk1.8.0_111\\jre\\lib\\security&gt;&quot;C:\\Java\\jdk1.8.0_111\\bin\\java&quot; &#160;\r\n    **-Djava.net.preferIPv4Stack=true** &#160;SSLPoke tfs.corp.****.com 443\r\n```\r\nSuccessfully connected\r\n\r\nThe code for SSLPoke can be downloaded from here:\r\nhttps://gist.github.com/4ndrej/4547029","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p>Had an SSLPoke.bat (SSL troubleshooting script) window script that was getting this error despite importing the correct certificates into the cacerts trustore.</p>\n<pre><code>C:\\Java\\jdk1.8.0_111\\jre\\lib\\security&gt;SSLPoke.bat\n\nC:\\Java\\jdk1.8.0_111\\jre\\lib\\security&gt;&quot;C:\\jdk1.8.0_101\\jre\\bin\\java&quot; \n     `SSLPoke  tfs.corp.****.com  443`\n\njava.net.SocketException: Software caused connection abort: recv failed\n    `at java.net.SocketInputStream.socketRead0(Native Method)`\n    `at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)`\n    `at java.net.SocketInputStream.read(SocketInputStream.java:170)`\n    `at java.net.SocketInputStream.read(SocketInputStream.java:141)`\n    `at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)`\n    `at sun.security.ssl.InputRecord.read(InputRecord.java:503)`\n    `at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)`\n    `at sun.security.ssl.SSLSocketImpl.performInitialHandshake\n       (SSLSocketImpl.java:1375)`\n    `at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:747)`\n    `at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)`\n    `at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:138)`\n    `at SSLPoke.main(SSLPoke.java:28)`\n</code></pre>\n<p>I then checked some old notes about some network changes at my job.  We would\nneed in some cases to add the JVM parameter\n<code>-Djava.net.preferIPv4Stack=true to make connections to certain machines</code>\nin our network to avoid this error.</p>\n<pre><code>C:\\Java\\jdk1.8.0_111\\jre\\lib\\security&gt;&quot;C:\\Java\\jdk1.8.0_111\\bin\\java&quot;  \n    **-Djava.net.preferIPv4Stack=true**  SSLPoke tfs.corp.****.com 443\n</code></pre>\n<p>Successfully connected</p>\n<p>The code for SSLPoke can be downloaded from here:\n<a href=\"https://gist.github.com/4ndrej/4547029\" rel=\"nofollow noreferrer\">https://gist.github.com/4ndrej/4547029</a></p>\n"}],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411192,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":7747693,"answer_count":14,"score":171,"last_activity_date":1635370930,"creation_date":1264326724,"question_id":2126607,"body_markdown":"**Given this stack trace snippet**\r\n\r\n&gt; Caused by: java.net.SocketException:\r\n&gt; Software caused connection abort:\r\n&gt; socket write error &lt;br&gt;&amp;nbsp;at\r\n&gt; java.net.SocketOutputStream.socketWrite0(Native\r\n&gt; Method)\r\n\r\n**I tried to answer the following questions:**\r\n\r\n 1. What code is throwing this exception? (JVM?/Tomcat?/My code?)\r\n 2. What causes this exception to be thrown?\r\n\r\n**Regarding #1:** \r\n\r\nSun&#39;s JVM source doesn&#39;t contain this exact message, but I think the text *Software caused connection abort: socket write error* is from the native implementation of `SocketOutputStream`:\r\n\r\n    private native void socketWrite0(FileDescriptor fd, byte[] b, int off,\r\n\t\t\t\t     int len) throws IOException;\r\n\r\n\r\n**Regarding #2**\r\n\r\nMy guess is that it is caused when the client has terminated the connection, before getting the full response (e.g. sent a request, but before getting the full response, it got closed / terminated / offline)\r\n\r\n**Questions:**\r\n\r\n 1. Are the above assumptions correct (#1 and #2)?\r\n 2. Can this be diffrentiated from the situation: &quot;could not write to the client, due to a network error on the *server* side&quot;? or would that render the same error message?\r\n 3. And most important: **Is there an official document (e.g from Sun) stating the above?**\r\n\r\nI need to have a proof that this stack trace is the socket client&#39;s &quot;fault&quot;, and there is nothing that the server could have done to avoid it. (except catching the exception, or using a non Sun JVM SocketOutputStream, though both don&#39;t really avoid the fact the client has terminated)\r\n","title":"Official reasons for &quot;Software caused connection abort: socket write error&quot;","body":"<p><strong>Given this stack trace snippet</strong></p>\n\n<blockquote>\n  <p>Caused by: java.net.SocketException:\n  Software caused connection abort:\n  socket write error <br>&nbsp;at\n  java.net.SocketOutputStream.socketWrite0(Native\n  Method)</p>\n</blockquote>\n\n<p><strong>I tried to answer the following questions:</strong></p>\n\n<ol>\n<li>What code is throwing this exception? (JVM?/Tomcat?/My code?)</li>\n<li>What causes this exception to be thrown?</li>\n</ol>\n\n<p><strong>Regarding #1:</strong> </p>\n\n<p>Sun's JVM source doesn't contain this exact message, but I think the text <em>Software caused connection abort: socket write error</em> is from the native implementation of <code>SocketOutputStream</code>:</p>\n\n<pre><code>private native void socketWrite0(FileDescriptor fd, byte[] b, int off,\n                 int len) throws IOException;\n</code></pre>\n\n<p><strong>Regarding #2</strong></p>\n\n<p>My guess is that it is caused when the client has terminated the connection, before getting the full response (e.g. sent a request, but before getting the full response, it got closed / terminated / offline)</p>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li>Are the above assumptions correct (#1 and #2)?</li>\n<li>Can this be diffrentiated from the situation: \"could not write to the client, due to a network error on the <em>server</em> side\"? or would that render the same error message?</li>\n<li>And most important: <strong>Is there an official document (e.g from Sun) stating the above?</strong></li>\n</ol>\n\n<p>I need to have a proof that this stack trace is the socket client's \"fault\", and there is nothing that the server could have done to avoid it. (except catching the exception, or using a non Sun JVM SocketOutputStream, though both don't really avoid the fact the client has terminated)</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635370033,"post_id":69745344,"comment_id":123283290,"body_markdown":"As an aside, Hibernate has supported `Instant` for a long time now; use it instead of `Date` whenever possible.","body":"As an aside, Hibernate has supported <code>Instant</code> for a long time now; use it instead of <code>Date</code> whenever possible."}],"answers":[{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635368902,"creation_date":1635368353,"answer_id":69745418,"question_id":69745344,"body_markdown":"You can fix this issue by modifying your createdAt and updatedAt properties like below and also, modify your getter and setters.\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;, updatable = false)\r\n    private Timestamp createdAt;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Timestamp updatedAt;","title":"Spring Boot - created_at cannot be null. Spring JPA","body":"<p>You can fix this issue by modifying your createdAt and updatedAt properties like below and also, modify your getter and setters.</p>\n<pre><code>@CreationTimestamp\n@Column(name = &quot;created_at&quot;, updatable = false)\nprivate Timestamp createdAt;\n\n@UpdateTimestamp\n@Column(name = &quot;updated_at&quot;)\nprivate Timestamp updatedAt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635370910,"creation_date":1635370910,"answer_id":69745801,"question_id":69745344,"body_markdown":"You should add [`@EnableJpaAuditing`](https://docs.spring.io/spring-data/jpa/docs/2.5.6/reference/html/#jpa.auditing) annotation.\r\n\r\n```java\r\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n// ...\r\n\r\n@Configuration\r\n@EnableJpaAuditing\r\npublic class ItemConfig {\r\n    // ...\r\n}\r\n```","title":"Spring Boot - created_at cannot be null. Spring JPA","body":"<p>You should add <a href=\"https://docs.spring.io/spring-data/jpa/docs/2.5.6/reference/html/#jpa.auditing\" rel=\"nofollow noreferrer\"><code>@EnableJpaAuditing</code></a> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\n// ...\n\n@Configuration\n@EnableJpaAuditing\npublic class ItemConfig {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":19015121,"reputation":162,"user_id":16180016,"display_name":"zakpruitt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4837,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69745801,"answer_count":2,"score":1,"last_activity_date":1635370910,"creation_date":1635367879,"question_id":69745344,"body_markdown":"Whenever I am trying to save an object to my DB, I keep getting the error Column &#39;created_at&#39; cannot be null.\r\n\r\nHere is my audit model:\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport org.springframework.data.annotation.CreatedDate;\r\nimport org.springframework.data.annotation.LastModifiedDate;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(\r\n        value = {&quot;createdAt&quot;, &quot;updatedAt&quot;},\r\n        allowGetters = true\r\n)\r\npublic abstract class AuditModel implements Serializable {\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @CreatedDate\r\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\r\n    @JsonIgnore\r\n    private Date createdAt;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @LastModifiedDate\r\n    @Column(name = &quot;updated_at&quot;, nullable = false)\r\n    private Date updatedAt;\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Date getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(Date updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n}\r\n```\r\n\r\nHere is an example of a model that extends it:\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.lang.Nullable;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Set;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Category extends AuditModel {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotEmpty(message = &quot;Item Name is required.&quot;)\r\n    private String categoryName;\r\n    @NotNull\r\n    private String categoryDescription;\r\n    @Nullable\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private Set&lt;Item&gt; items;\r\n\r\n    public Category(String categoryName, String categoryDescription) {\r\n        this.categoryName = categoryName;\r\n        this.categoryDescription = categoryDescription;\r\n    }\r\n```\r\n\r\nAnd here is the temporary CommandLine bean that is performing some tests for me:\r\n```\r\n@Configuration\r\npublic class ItemConfig {\r\n\r\n    @Autowired\r\n    ItemRepository itemRepository;\r\n    @Autowired\r\n    CategoryRepository categoryRepository;\r\n\r\n    @Value(&quot;${STORE.ENV}&quot;)\r\n    private String env;\r\n\r\n    @Bean\r\n    CommandLineRunner itemRunner(ItemRepository itemRepository) {\r\n        return args -&gt; {\r\n\r\n            System.out.println(&quot;true&quot;);\r\n            Category cueCategory = new Category\r\n                    (&quot;Cues&quot;,\r\n                     &quot;This category contains all items relating to billiard cues. This includes yada, yadada, and yada.&quot;\r\n                    );\r\n            categoryRepository.save(cueCategory);\r\n\r\n            Item item = new Item(&quot;Test Cue&quot;, 700, cueCategory);\r\n            itemRepository.save(item);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAt first, I was creating a blank object then setting all the values with setters. I thought that maybe it all needed to happen in one fel-swoop for the created_at to register with a proper date, so I added some constructors. That still didn&#39;t work. Please let me know if you see anything glaring!\r\n\r\n\r\n","title":"Spring Boot - created_at cannot be null. Spring JPA","body":"<p>Whenever I am trying to save an object to my DB, I keep getting the error Column 'created_at' cannot be null.</p>\n<p>Here is my audit model:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Date;\n\n@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(\n        value = {&quot;createdAt&quot;, &quot;updatedAt&quot;},\n        allowGetters = true\n)\npublic abstract class AuditModel implements Serializable {\n    @Temporal(TemporalType.TIMESTAMP)\n    @CreatedDate\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\n    @JsonIgnore\n    private Date createdAt;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @LastModifiedDate\n    @Column(name = &quot;updated_at&quot;, nullable = false)\n    private Date updatedAt;\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Date getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Date updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n}\n</code></pre>\n<p>Here is an example of a model that extends it:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.lang.Nullable;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport java.util.Set;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Category extends AuditModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotEmpty(message = &quot;Item Name is required.&quot;)\n    private String categoryName;\n    @NotNull\n    private String categoryDescription;\n    @Nullable\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private Set&lt;Item&gt; items;\n\n    public Category(String categoryName, String categoryDescription) {\n        this.categoryName = categoryName;\n        this.categoryDescription = categoryDescription;\n    }\n</code></pre>\n<p>And here is the temporary CommandLine bean that is performing some tests for me:</p>\n<pre><code>@Configuration\npublic class ItemConfig {\n\n    @Autowired\n    ItemRepository itemRepository;\n    @Autowired\n    CategoryRepository categoryRepository;\n\n    @Value(&quot;${STORE.ENV}&quot;)\n    private String env;\n\n    @Bean\n    CommandLineRunner itemRunner(ItemRepository itemRepository) {\n        return args -&gt; {\n\n            System.out.println(&quot;true&quot;);\n            Category cueCategory = new Category\n                    (&quot;Cues&quot;,\n                     &quot;This category contains all items relating to billiard cues. This includes yada, yadada, and yada.&quot;\n                    );\n            categoryRepository.save(cueCategory);\n\n            Item item = new Item(&quot;Test Cue&quot;, 700, cueCategory);\n            itemRepository.save(item);\n        };\n    }\n}\n</code></pre>\n<p>At first, I was creating a blank object then setting all the values with setters. I thought that maybe it all needed to happen in one fel-swoop for the created_at to register with a proper date, so I added some constructors. That still didn't work. Please let me know if you see anything glaring!</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1635345780,"post_id":69740393,"comment_id":123273978,"body_markdown":"_Gives me_ What &quot;gives you&quot;? Is this JSON? Are you serializing an instance containing a `ZonedDateTime` somewhere? How?","body":"<i>Gives me</i> What &quot;gives you&quot;? Is this JSON? Are you serializing an instance containing a <code>ZonedDateTime</code> somewhere? How?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1635370385,"creation_date":1635344871,"answer_id":69740501,"question_id":69740393,"body_markdown":"You can use [`DateTimeFormatter.ISO_OFFSET_DATE_TIME`][1] to format the parsed `ZonedDateTime`. However, if you are expecting the date-time always in UTC, I recommend you convert the parsed `ZonedDateTime` into `Instant`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtfInput = DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu HH:mm z&quot;, Locale.ENGLISH);\r\n    \r\n    \t\tZonedDateTime zdt = ZonedDateTime.from(dtfInput.parse(&quot;31.07.2020 14:15 GMT&quot;));\r\n    \t\tSystem.out.println(zdt.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\r\n    \r\n    \t\tSystem.out.println(zdt.toInstant());\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-07-31T14:15:00Z\r\n    2020-07-31T14:15:00Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME\r\n  [2]: https://ideone.com/9qbyaF","title":"How to use java.time.ZonedDateTime &amp; format.DateTimeFormatter without GMT?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code></a> to format the parsed <code>ZonedDateTime</code>. However, if you are expecting the date-time always in UTC, I recommend you convert the parsed <code>ZonedDateTime</code> into <code>Instant</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtfInput = DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu HH:mm z&quot;, Locale.ENGLISH);\n\n        ZonedDateTime zdt = ZonedDateTime.from(dtfInput.parse(&quot;31.07.2020 14:15 GMT&quot;));\n        System.out.println(zdt.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\n\n        System.out.println(zdt.toInstant());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-07-31T14:15:00Z\n2020-07-31T14:15:00Z\n</code></pre>\n<p><a href=\"https://ideone.com/9qbyaF\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":17920080,"reputation":911,"user_id":13020185,"display_name":"Ry2254"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1635370385,"creation_date":1635344497,"question_id":69740393,"body_markdown":"\r\n\r\nDoing the following: \r\n```\r\nval zonedFormatter: DateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm z&quot;)\r\n\r\nZonedDateTime.from(zonedFormatter.parse(&quot;31.07.2020 14:15 GMT&quot;))\r\n```\r\n\r\nGives me:\r\n\r\n```\r\n&quot;displayDate&quot;: &quot;2020-07-31T14:15:00Z[GMT]&quot;\r\n```\r\n\r\nI want it without the [GMT]:\r\n\r\n```\r\n&quot;displayDate&quot;: &quot;2020-07-31T14:15:00Z&quot;\r\n```\r\n","title":"How to use java.time.ZonedDateTime &amp; format.DateTimeFormatter without GMT?","body":"<p>Doing the following:</p>\n<pre><code>val zonedFormatter: DateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm z&quot;)\n\nZonedDateTime.from(zonedFormatter.parse(&quot;31.07.2020 14:15 GMT&quot;))\n</code></pre>\n<p>Gives me:</p>\n<pre><code>&quot;displayDate&quot;: &quot;2020-07-31T14:15:00Z[GMT]&quot;\n</code></pre>\n<p>I want it without the [GMT]:</p>\n<pre><code>&quot;displayDate&quot;: &quot;2020-07-31T14:15:00Z&quot;\n</code></pre>\n"},{"tags":["java","ms-word","docx","docx4j"],"comments":[{"owner":{"account_id":19332777,"reputation":921,"user_id":14133995,"display_name":"Charles Kenyon"},"score":0,"creation_date":1635250716,"post_id":69721105,"comment_id":123241576,"body_markdown":"I changed your term &quot;template&quot; to starting document. &quot;Template&quot; is a term of art in Word jargon, much different from the general English-language word. Here is my web page on templates: http://www.addbalance.com/usersguide/templates.htm --- Why not use bookmarks in Word rather than variables. Word is designed to use bookmarks as spaces. Otherwise, consider using named Content Controls if you want to leave the space variable.","body":"I changed your term &quot;template&quot; to starting document. &quot;Template&quot; is a term of art in Word jargon, much different from the general English-language word. Here is my web page on templates: <a href=\"http://www.addbalance.com/usersguide/templates.htm\" rel=\"nofollow noreferrer\">addbalance.com/usersguide/templates.htm</a> --- Why not use bookmarks in Word rather than variables. Word is designed to use bookmarks as spaces. Otherwise, consider using named Content Controls if you want to leave the space variable."}],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635370132,"creation_date":1635370132,"answer_id":69745698,"question_id":69721105,"body_markdown":"Apply your desired run formatting in the source document, taking care not to &quot;split&quot; the run.  So, for example:\r\n\r\n            &lt;w:r&gt;\r\n                &lt;w:rPr&gt;\r\n                    &lt;w:b/&gt;\r\n                    &lt;w:bCs/&gt;\r\n                &lt;/w:rPr&gt;\r\n                &lt;w:t&gt;${firstName}&lt;/w:t&gt;\r\n            &lt;/w:r&gt;\r\n\r\n\r\nIf Word is splitting your runs, turn off grammar and spelling correction.\r\n\r\nIf necessary, unzip the source document and check/edit in a text editor.\r\n\r\n","title":"Docx4j variableReplace with styling","body":"<p>Apply your desired run formatting in the source document, taking care not to &quot;split&quot; the run.  So, for example:</p>\n<pre><code>        &lt;w:r&gt;\n            &lt;w:rPr&gt;\n                &lt;w:b/&gt;\n                &lt;w:bCs/&gt;\n            &lt;/w:rPr&gt;\n            &lt;w:t&gt;${firstName}&lt;/w:t&gt;\n        &lt;/w:r&gt;\n</code></pre>\n<p>If Word is splitting your runs, turn off grammar and spelling correction.</p>\n<p>If necessary, unzip the source document and check/edit in a text editor.</p>\n"}],"owner":{"account_id":14794805,"reputation":35,"user_id":10684701,"display_name":"Dogrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635370132,"creation_date":1635242507,"question_id":69721105,"body_markdown":"I want to creating new Word document from a model document (.docx) and replace some text with styling.\r\n\r\nHow can I style the `firstName` in Bold and `message` as yellow highlight color?\r\n\r\nMy Code is below:\r\n\r\n```java\r\nWordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\r\n\r\nMainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\r\n\r\nVariablePrepare.prepare(wordMLPackage);\r\n\r\nHashMap&lt;String, String&gt; variables = new HashMap&lt;&gt;();\r\nvariables.put(&quot;firstName&quot;, &quot;fileName123&quot;);\r\nvariables.put(&quot;lastName&quot;, &quot;lastName345&quot;);\r\nvariables.put(&quot;message&quot;, &quot;messsssssss&quot;);\r\n\r\ndocumentPart.variableReplace(variables);\r\n\r\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\nwordMLPackage.save(outputStream);\r\n\r\nreturn outputStream.toByteArray();\r\n```\r\n\r\nA screenshot of my starting model [sic: template] docx is shown below:\r\n\r\n[![screenshot][1]][1]\r\n\r\nA screenshot of my expected result is the following:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zW686.png\r\n  [2]: https://i.stack.imgur.com/fSZqM.png","title":"Docx4j variableReplace with styling","body":"<p>I want to creating new Word document from a model document (.docx) and replace some text with styling.</p>\n<p>How can I style the <code>firstName</code> in Bold and <code>message</code> as yellow highlight color?</p>\n<p>My Code is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\n\nMainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\n\nVariablePrepare.prepare(wordMLPackage);\n\nHashMap&lt;String, String&gt; variables = new HashMap&lt;&gt;();\nvariables.put(&quot;firstName&quot;, &quot;fileName123&quot;);\nvariables.put(&quot;lastName&quot;, &quot;lastName345&quot;);\nvariables.put(&quot;message&quot;, &quot;messsssssss&quot;);\n\ndocumentPart.variableReplace(variables);\n\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\nwordMLPackage.save(outputStream);\n\nreturn outputStream.toByteArray();\n</code></pre>\n<p>A screenshot of my starting model [sic: template] docx is shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/zW686.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zW686.png\" alt=\"screenshot\" /></a></p>\n<p>A screenshot of my expected result is the following:</p>\n<p><a href=\"https://i.stack.imgur.com/fSZqM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fSZqM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","osgi","hibernate-validator","apache-servicemix"],"comments":[{"owner":{"account_id":1289783,"reputation":5295,"user_id":1242093,"display_name":"Achim Nierbeck"},"score":0,"creation_date":1429254265,"post_id":29678113,"comment_id":47521389,"body_markdown":"how&#39;s the import/export packages for the hibernate validation bundle? Might very well be that the validation bundle doesn&#39;t import the right package, or the el-bundle doesn&#39;t export those as expected.","body":"how&#39;s the import/export packages for the hibernate validation bundle? Might very well be that the validation bundle doesn&#39;t import the right package, or the el-bundle doesn&#39;t export those as expected."},{"owner":{"account_id":345893,"reputation":465,"user_id":4161250,"accept_rate":88,"display_name":"Ivan"},"score":0,"creation_date":1429256910,"post_id":29678113,"comment_id":47522946,"body_markdown":"@AchimNierbeck, thank you for your attention! I have updated the post. Now I&#39;ll try to change versions (el-api and el-impl) and implementations of el-api. May be it helps...","body":"@AchimNierbeck, thank you for your attention! I have updated the post. Now I&#39;ll try to change versions (el-api and el-impl) and implementations of el-api. May be it helps..."}],"answers":[{"tags":[],"owner":{"account_id":135620,"reputation":12665,"user_id":338614,"accept_rate":22,"display_name":"Harald Wellmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429637447,"creation_date":1429361581,"answer_id":29717614,"question_id":29678113,"body_markdown":"The full stack trace might give some more insight than just the exception messages.\r\n\r\nMy guess is that you&#39;re seeing the results of a failed service lookup via `META-INF/service/javax.el.ExpressionFactory`. The bundle that&#39;s doing the lookup apparently can&#39;t see `com.sun.el`.\r\n\r\nImporting this package into your application bundle and setting the thread context classloader to your bundle classloader might help.","title":"El implementation is not found for hibernate-validator in osgi-container","body":"<p>The full stack trace might give some more insight than just the exception messages.</p>\n\n<p>My guess is that you're seeing the results of a failed service lookup via <code>META-INF/service/javax.el.ExpressionFactory</code>. The bundle that's doing the lookup apparently can't see <code>com.sun.el</code>.</p>\n\n<p>Importing this package into your application bundle and setting the thread context classloader to your bundle classloader might help.</p>\n"},{"tags":[],"owner":{"account_id":257772,"reputation":3131,"user_id":539481,"accept_rate":50,"display_name":"Paweł Prażak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1470149591,"creation_date":1470149591,"answer_id":38723831,"question_id":29678113,"body_markdown":"There is a related issue in JBoss Fuse:\r\nhttps://access.redhat.com/solutions/1479723\r\n\r\nThey recommend a downgrade to `4.3.1.Final`:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n       &lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"El implementation is not found for hibernate-validator in osgi-container","body":"<p>There is a related issue in JBoss Fuse:\n<a href=\"https://access.redhat.com/solutions/1479723\" rel=\"nofollow\">https://access.redhat.com/solutions/1479723</a></p>\n\n<p>They recommend a downgrade to <code>4.3.1.Final</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n   &lt;version&gt;4.3.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496994794,"creation_date":1496994794,"answer_id":44452283,"question_id":29678113,"body_markdown":"I had a similar issue with Hibernate 5.2.5 and Jetty 9.x. Basically, it looked like Hibernate didn&#39;t check if there was already an EL implementation on the classpath and tried to use javax.el-api instead of Jetty 9&#39;s apache-el. An upgrade to Hibernate 5.2.10 solved the issue for me. No conflicting el-api on the classpath any more.","title":"El implementation is not found for hibernate-validator in osgi-container","body":"<p>I had a similar issue with Hibernate 5.2.5 and Jetty 9.x. Basically, it looked like Hibernate didn't check if there was already an EL implementation on the classpath and tried to use javax.el-api instead of Jetty 9's apache-el. An upgrade to Hibernate 5.2.10 solved the issue for me. No conflicting el-api on the classpath any more.</p>\n"},{"tags":[],"owner":{"account_id":1448327,"reputation":131,"user_id":1366087,"display_name":"sc30"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635370067,"creation_date":1635368012,"answer_id":69745368,"question_id":29678113,"body_markdown":"# Background #\r\n\r\nI use hibernate validator version 5.4.3.Final.\r\n\r\nStarting from [5.3.1.Final](https://in.relation.to/2016/11/10/hibernate-validator-532-final-out/), it mentions that ExpressionFactoryImpl is a hard requirement.\r\n\r\nthere is OSGi issue in 5.3.1.Final,issue is **ClassLoader issues in modularized environments**. It has been fixed in 5.3.3.Final. Ticket number is[HV-1155](https://hibernate.atlassian.net/browse/HV-1155)\r\n\r\n# Fix #\r\nBased on the above information,\r\nthere is no need to use **Update 2 -&gt; Decision 1**.\r\nI found out that you could simply change the code posted by OP from\r\n\r\n    Configuration&lt;?&gt; configuration = Validation.byDefaultProvider().providerResolver(\r\n        new HibernateValidationProviderResolver()\r\n    ).configure();\r\n\r\nto\r\n\r\n    Configuration&lt;?&gt; configuration = Validation.byProvider(HibernateValidator.class).providerResolver(\r\n        new HibernateValidationProviderResolver()\r\n    ).externalClassLoader(getClass().getClassLoader()).configure();\r\n\r\n[11.15. Customizing class-loading](https://docs.jboss.org/hibernate/validator/5.4/reference/en-US/html_single/#section-constraint-customizing-class-loading) mentions this trick.\r\n\r\nIn addition, if you are using hibernate validator version 6.0.0.CR3 above, you don&#39;t need to apply the trick above.[HV-1426](https://hibernate.atlassian.net/browse/HV-1426) covers it.","title":"El implementation is not found for hibernate-validator in osgi-container","body":"<h1>Background</h1>\n<p>I use hibernate validator version 5.4.3.Final.</p>\n<p>Starting from <a href=\"https://in.relation.to/2016/11/10/hibernate-validator-532-final-out/\" rel=\"nofollow noreferrer\">5.3.1.Final</a>, it mentions that ExpressionFactoryImpl is a hard requirement.</p>\n<p>there is OSGi issue in 5.3.1.Final,issue is <strong>ClassLoader issues in modularized environments</strong>. It has been fixed in 5.3.3.Final. Ticket number is<a href=\"https://hibernate.atlassian.net/browse/HV-1155\" rel=\"nofollow noreferrer\">HV-1155</a></p>\n<h1>Fix</h1>\n<p>Based on the above information,\nthere is no need to use <strong>Update 2 -&gt; Decision 1</strong>.\nI found out that you could simply change the code posted by OP from</p>\n<pre><code>Configuration&lt;?&gt; configuration = Validation.byDefaultProvider().providerResolver(\n    new HibernateValidationProviderResolver()\n).configure();\n</code></pre>\n<p>to</p>\n<pre><code>Configuration&lt;?&gt; configuration = Validation.byProvider(HibernateValidator.class).providerResolver(\n    new HibernateValidationProviderResolver()\n).externalClassLoader(getClass().getClassLoader()).configure();\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/validator/5.4/reference/en-US/html_single/#section-constraint-customizing-class-loading\" rel=\"nofollow noreferrer\">11.15. Customizing class-loading</a> mentions this trick.</p>\n<p>In addition, if you are using hibernate validator version 6.0.0.CR3 above, you don't need to apply the trick above.<a href=\"https://hibernate.atlassian.net/browse/HV-1426\" rel=\"nofollow noreferrer\">HV-1426</a> covers it.</p>\n"}],"owner":{"account_id":345893,"reputation":465,"user_id":4161250,"accept_rate":88,"display_name":"Ivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7297,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":29717614,"answer_count":4,"score":7,"last_activity_date":1635370067,"creation_date":1429195246,"question_id":29678113,"body_markdown":"I try to run Hibernate validator in osgi container.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.apache.servicemix.bundles.hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.2.Final_1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    public class HibernateValidationProviderResolver implements ValidationProviderResolver {\r\n        @Override\r\n        public List&lt;ValidationProvider&lt;?&gt;&gt; getValidationProviders() {\r\n            List&lt;ValidationProvider&lt;?&gt;&gt; list = new ArrayList&lt;&gt;(1);\r\n            list.add(new HibernateValidator());\r\n            return list;\r\n        }\r\n    }\r\n\r\n\r\n    Configuration&lt;?&gt; configuration = Validation.byDefaultProvider().providerResolver(\r\n        new HibernateValidationProviderResolver()\r\n    ).configure();\r\n\r\n    ValidatorFactory validatorFactory = configuration.buildValidatorFactory();\r\n    Validator validator = validatorFactory.getValidator();\r\n    Set&lt;ConstraintViolation&lt;Group&gt;&gt; constraintViolations = validator.validate(group);\r\n\r\n\r\n    public class Group {\r\n        @NotNull\r\n        @Size(min=2)\r\n        private String title;\r\n    }\r\n\r\n\r\nTry to run, equinox console is okay:\r\n\r\n    10      RESOLVED    org.glassfish.web.javax.el_2.2.4\r\n    39      RESOLVED    org.apache.servicemix.bundles.hibernate-validator_5.0.2.Final_1\r\n    47      RESOLVED    javax.validation.api_1.1.0.Final\r\n    49      RESOLVED    javax.el-api_2.2.4\r\n\r\n\r\nIf I pass Group class instance with `title = null`, then validation is okay and constraintViolations contains one violation &quot;not null&quot;.\r\nIf I pass Group class instance with `title = &quot;A&quot;` (one character against minimal length = 2), then it throws an exception\r\n\r\n    Caused by: javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl\r\n\r\nIt 100% caused by osgi, but how I should setup hibernate-validator in osgi? All articles what I can found describes creating of `HibernateValidationProviderResolver` and that&#39;s all.\r\n\r\n**UPDATE 1**\r\n\r\n    Maven: javax.el:javax.el-api:2.2.4\r\n\r\n    Export-Package: javax.el;version=&quot;2.2.4&quot;\r\n    Import-Package: javax.el;version=&quot;2.2.4&quot;\r\n\r\n    Maven: org.glassfish.web:javax.el:2.2.4 MANIFEST.MF\r\n\r\n    Export-Package: com.sun.el;uses:=&quot;javax.el&quot;;version=&quot;2.2.4&quot;\r\n    Private-Package: com.sun.el.lang;version=&quot;2.2.4&quot;,com.sun.el.parser;version=&quot;2.2.4&quot;,com.sun.el.util;version=&quot;2.2.4&quot;\r\n    Import-Package: com.sun.el;version=&quot;2.2.4&quot;,javax.el;version=&quot;2.2&quot;\r\n\r\n    Maven: org.apache.servicemix.bundles:org.apache.servicemix.bundles.hibernate-validator:5.0.2.Final_1\r\n\r\n    Implementation-Version: 5.0.2.Final\r\n    Import-Package: javax.el,javax.persistence;resolution:=optional, ...\r\n\r\n    Export-Package: org.hibernate.validator.internal.engine.messageinterpola\r\n    tion.el;uses:=&quot;javax.el,javax.validation,org.hibernate.validator.intern\r\n    al.engine.messageinterpolation&quot;;version=&quot;5.0.2.Final&quot;,org.hibernate.val\r\n    idator.internal.engine.messageinterpolation;uses:=&quot;javax.validation.met\r\n    adata,org.hibernate.validator.internal.engine.messageinterpolation.el,j\r\n    avax.el,javax.validation,org.hibernate.validator.internal.util.logging&quot;\r\n    ;version=&quot;5.0.2.Final&quot;, ...\r\n\r\nAny version for import in hibernate bundle, 2.2.4 in export of el-api and el-impl and el-impl imports el-api as 2.2, not a 2.2.4. All bundles are resolved.\r\n\r\n**Update 2**\r\n\r\n**Decision 1**\r\n\r\nmy implementation of @hwellmann&#39;s idea. @hwellmann, is it correct?\r\n\r\n    public void createGroup(Group group) {\r\n        ClassLoader prevClassLoader = Thread.currentThread().getContextClassLoader();\r\n\r\n        try {\r\n            ClassLoader[] classLoaders = new ClassLoader[] {\r\n                prevClassLoader,\r\n                ExpressionFactoryImpl.class.getClassLoader()\r\n            };\r\n\r\n            // build composite classloader\r\n\r\n            Thread.currentThread().setContextClassLoader(compositeClassLoader);\r\n\r\n            Set&lt;ConstraintViolation&lt;Group&gt;&gt; constraintViolations = validator.validate(group);\r\n\r\n        } finally {\r\n            Thread.currentThread().setContextClassLoader(prevClassLoader);\r\n        }\r\n    }\r\n\r\nIt works but looks strange. And change TCCL on each validation processing looks as some overhead.\r\n\r\n**Decision 2**\r\n\r\nThe error has gone when I add my own message attribute to each validation annotation, for example for Group:\r\n\r\n    public class Group {\r\n        @NotNull\r\n        @Size(min=2, message=&quot;field.too_short&quot;)\r\n        private String title;\r\n    }\r\n\r\nIt seems in this case hibernate interpolator is not started so `ExpressionFactoryImpl` is not retrieved from TCCL (previously we read min=2 value, now we don&#39;t). If it is okay for us, this decision is simplest.\r\nI will investigate this area futhermore and share my observations there.","title":"El implementation is not found for hibernate-validator in osgi-container","body":"<p>I try to run Hibernate validator in osgi container.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;5.0.2.Final_1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;joda-time&lt;/groupId&gt;\n    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n\npublic class HibernateValidationProviderResolver implements ValidationProviderResolver {\n    @Override\n    public List&lt;ValidationProvider&lt;?&gt;&gt; getValidationProviders() {\n        List&lt;ValidationProvider&lt;?&gt;&gt; list = new ArrayList&lt;&gt;(1);\n        list.add(new HibernateValidator());\n        return list;\n    }\n}\n\n\nConfiguration&lt;?&gt; configuration = Validation.byDefaultProvider().providerResolver(\n    new HibernateValidationProviderResolver()\n).configure();\n\nValidatorFactory validatorFactory = configuration.buildValidatorFactory();\nValidator validator = validatorFactory.getValidator();\nSet&lt;ConstraintViolation&lt;Group&gt;&gt; constraintViolations = validator.validate(group);\n\n\npublic class Group {\n    @NotNull\n    @Size(min=2)\n    private String title;\n}\n</code></pre>\n\n<p>Try to run, equinox console is okay:</p>\n\n<pre><code>10      RESOLVED    org.glassfish.web.javax.el_2.2.4\n39      RESOLVED    org.apache.servicemix.bundles.hibernate-validator_5.0.2.Final_1\n47      RESOLVED    javax.validation.api_1.1.0.Final\n49      RESOLVED    javax.el-api_2.2.4\n</code></pre>\n\n<p>If I pass Group class instance with <code>title = null</code>, then validation is okay and constraintViolations contains one violation \"not null\".\nIf I pass Group class instance with <code>title = \"A\"</code> (one character against minimal length = 2), then it throws an exception</p>\n\n<pre><code>Caused by: javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\nCaused by: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl\n</code></pre>\n\n<p>It 100% caused by osgi, but how I should setup hibernate-validator in osgi? All articles what I can found describes creating of <code>HibernateValidationProviderResolver</code> and that's all.</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<pre><code>Maven: javax.el:javax.el-api:2.2.4\n\nExport-Package: javax.el;version=\"2.2.4\"\nImport-Package: javax.el;version=\"2.2.4\"\n\nMaven: org.glassfish.web:javax.el:2.2.4 MANIFEST.MF\n\nExport-Package: com.sun.el;uses:=\"javax.el\";version=\"2.2.4\"\nPrivate-Package: com.sun.el.lang;version=\"2.2.4\",com.sun.el.parser;version=\"2.2.4\",com.sun.el.util;version=\"2.2.4\"\nImport-Package: com.sun.el;version=\"2.2.4\",javax.el;version=\"2.2\"\n\nMaven: org.apache.servicemix.bundles:org.apache.servicemix.bundles.hibernate-validator:5.0.2.Final_1\n\nImplementation-Version: 5.0.2.Final\nImport-Package: javax.el,javax.persistence;resolution:=optional, ...\n\nExport-Package: org.hibernate.validator.internal.engine.messageinterpola\ntion.el;uses:=\"javax.el,javax.validation,org.hibernate.validator.intern\nal.engine.messageinterpolation\";version=\"5.0.2.Final\",org.hibernate.val\nidator.internal.engine.messageinterpolation;uses:=\"javax.validation.met\nadata,org.hibernate.validator.internal.engine.messageinterpolation.el,j\navax.el,javax.validation,org.hibernate.validator.internal.util.logging\"\n;version=\"5.0.2.Final\", ...\n</code></pre>\n\n<p>Any version for import in hibernate bundle, 2.2.4 in export of el-api and el-impl and el-impl imports el-api as 2.2, not a 2.2.4. All bundles are resolved.</p>\n\n<p><strong>Update 2</strong></p>\n\n<p><strong>Decision 1</strong></p>\n\n<p>my implementation of @hwellmann's idea. @hwellmann, is it correct?</p>\n\n<pre><code>public void createGroup(Group group) {\n    ClassLoader prevClassLoader = Thread.currentThread().getContextClassLoader();\n\n    try {\n        ClassLoader[] classLoaders = new ClassLoader[] {\n            prevClassLoader,\n            ExpressionFactoryImpl.class.getClassLoader()\n        };\n\n        // build composite classloader\n\n        Thread.currentThread().setContextClassLoader(compositeClassLoader);\n\n        Set&lt;ConstraintViolation&lt;Group&gt;&gt; constraintViolations = validator.validate(group);\n\n    } finally {\n        Thread.currentThread().setContextClassLoader(prevClassLoader);\n    }\n}\n</code></pre>\n\n<p>It works but looks strange. And change TCCL on each validation processing looks as some overhead.</p>\n\n<p><strong>Decision 2</strong></p>\n\n<p>The error has gone when I add my own message attribute to each validation annotation, for example for Group:</p>\n\n<pre><code>public class Group {\n    @NotNull\n    @Size(min=2, message=\"field.too_short\")\n    private String title;\n}\n</code></pre>\n\n<p>It seems in this case hibernate interpolator is not started so <code>ExpressionFactoryImpl</code> is not retrieved from TCCL (previously we read min=2 value, now we don't). If it is okay for us, this decision is simplest.\nI will investigate this area futhermore and share my observations there.</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1635354632,"post_id":69742828,"comment_id":123277896,"body_markdown":"I would ignore the `PATH` variable entirely and just use a configuration file that is shipped with the app.  Specify the server side paths to be used in that configuration file.","body":"I would ignore the <code>PATH</code> variable entirely and just use a configuration file that is shipped with the app.  Specify the server side paths to be used in that configuration file."},{"owner":{"account_id":2383679,"reputation":2833,"user_id":2085107,"accept_rate":62,"display_name":"gberger"},"score":2,"creation_date":1635354743,"post_id":69742828,"comment_id":123277934,"body_markdown":"@markspace this is not about the PATH variable at all. My problem is about accepting and validating user inputs that represent Linux paths while the JVM runs on Windows.","body":"@markspace this is not about the PATH variable at all. My problem is about accepting and validating user inputs that represent Linux paths while the JVM runs on Windows."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635368821,"creation_date":1635368821,"answer_id":69745509,"question_id":69742828,"body_markdown":"To represent `win` path in `unix` format, you could do something like this:\r\n\r\n    String unix = StreamSupport.stream(Paths.get(win).spliterator(), false)\r\n                      .map(Object::toString)\r\n                      .collect(Collectors.joining(&quot;/&quot;, &quot;/&quot;, &quot;&quot;));\r\n\r\nThis will convert `C:\\\\folder\\\\file.txt` into `/folder/file.txt` but it&#39;s a bit of a hack.","title":"How to represent a Linux path while running in a Windows machine?","body":"<p>To represent <code>win</code> path in <code>unix</code> format, you could do something like this:</p>\n<pre><code>String unix = StreamSupport.stream(Paths.get(win).spliterator(), false)\n                  .map(Object::toString)\n                  .collect(Collectors.joining(&quot;/&quot;, &quot;/&quot;, &quot;&quot;));\n</code></pre>\n<p>This will convert <code>C:\\\\folder\\\\file.txt</code> into <code>/folder/file.txt</code> but it's a bit of a hack.</p>\n"}],"owner":{"account_id":2383679,"reputation":2833,"user_id":2085107,"accept_rate":62,"display_name":"gberger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635369805,"creation_date":1635354550,"question_id":69742828,"body_markdown":"I am developing a Java program that will run on Windows machines but will allow users to send commands to Linux servers. Some of these commands allow the user to specify a Linux-compliant path, e.g. &quot;/folder/file.txt&quot;.\r\n\r\nUsually, I would use [`Path`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html) to validate and represent the paths entered by users. However, since the program is running on Windows, the JVM will instead default to representing Windows paths, e.g. &quot;C:\\folder\\file.txt&quot;.\r\n\r\nOther than performing string manipulations, how can I represent a Linux-type path in Java while running in a Windows machine? Is there a way to &quot;force&quot; the `Path` class to pretend it is on Linux?","title":"How to represent a Linux path while running in a Windows machine?","body":"<p>I am developing a Java program that will run on Windows machines but will allow users to send commands to Linux servers. Some of these commands allow the user to specify a Linux-compliant path, e.g. &quot;/folder/file.txt&quot;.</p>\n<p>Usually, I would use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> to validate and represent the paths entered by users. However, since the program is running on Windows, the JVM will instead default to representing Windows paths, e.g. &quot;C:\\folder\\file.txt&quot;.</p>\n<p>Other than performing string manipulations, how can I represent a Linux-type path in Java while running in a Windows machine? Is there a way to &quot;force&quot; the <code>Path</code> class to pretend it is on Linux?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635331153,"post_id":69737027,"comment_id":123267133,"body_markdown":"try `mvn depndency:tree`","body":"try <code>mvn depndency:tree</code>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635369027,"post_id":69737027,"comment_id":123282962,"body_markdown":"`tree` is not a phase of any [Maven standard lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference).","body":"<code>tree</code> is not a phase of any <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"nofollow noreferrer\">Maven standard lifecycle</a>."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1635369128,"post_id":69737027,"comment_id":123283001,"body_markdown":"@tgdavies ... without the typo. :)","body":"@tgdavies ... without the typo. :)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635371512,"post_id":69737027,"comment_id":123283680,"body_markdown":"Oops yes, `dependency`!","body":"Oops yes, <code>dependency</code>!"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635334521,"creation_date":1635334521,"answer_id":69737928,"question_id":69737027,"body_markdown":"There are two problems with this:\r\n\r\n1. As tgdavies already tried to point out, you need to call `mvn dependency:tree`.\r\n2. You defined the configuration in an execution bound to the `compile` phase. This means that the usual build (like `mvn clean package`) will create the dependency tree, but the configuration is not directly usable from command line. While you _can_ call such an execution from command line by using `@`-notation, it is more advisable to move the configuration out of the execution block so that it can be used by vanilla calls to `mvn dependency:tree`.\r\n\r\n\r\n\r\n","title":"Plugin section in Maven for dependency tree","body":"<p>There are two problems with this:</p>\n<ol>\n<li>As tgdavies already tried to point out, you need to call <code>mvn dependency:tree</code>.</li>\n<li>You defined the configuration in an execution bound to the <code>compile</code> phase. This means that the usual build (like <code>mvn clean package</code>) will create the dependency tree, but the configuration is not directly usable from command line. While you <em>can</em> call such an execution from command line by using <code>@</code>-notation, it is more advisable to move the configuration out of the execution block so that it can be used by vanilla calls to <code>mvn dependency:tree</code>.</li>\n</ol>\n"}],"owner":{"account_id":6995665,"reputation":475,"user_id":5363433,"accept_rate":52,"display_name":"Utkarsh Saraf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635369296,"creation_date":1635330761,"question_id":69737027,"body_markdown":"I am trying to print dependency tree as per [`dependency:tree`][1] for multimodule Maven project and firing the command\r\n \r\n    mvn org.apache.maven.plugins:maven-dependency-plugin:3.2.0:tree\r\n\r\nworks perfectly in this case. \r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\r\n\r\nFor mentioning additional configurations such as **creating aggregate dependency graph and writing to external directory**, I made following changes in `pom.xml`. \r\n\r\n```lang-xml\r\n&lt;profile&gt;\r\n      &lt;id&gt;java-src&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n---\r\n---\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;tree&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;${project.build.directory}/alternateLocation&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n---\r\n---\r\n &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n```\r\n\r\nOn running ```mvn tree```, it is not working as expected and gives following error:\r\n\r\n```[ERROR] Unknown lifecycle phase &quot;tree&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]```\r\n\r\nKindly help regarding the same.","title":"Plugin section in Maven for dependency tree","body":"<p>I am trying to print dependency tree as per <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\"><code>dependency:tree</code></a> for multimodule Maven project and firing the command</p>\n<pre><code>mvn org.apache.maven.plugins:maven-dependency-plugin:3.2.0:tree\n</code></pre>\n<p>works perfectly in this case.</p>\n<p>For mentioning additional configurations such as <strong>creating aggregate dependency graph and writing to external directory</strong>, I made following changes in <code>pom.xml</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n      &lt;id&gt;java-src&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n---\n---\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;tree&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;outputDirectory&gt;${project.build.directory}/alternateLocation&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n---\n---\n &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>On running <code>mvn tree</code>, it is not working as expected and gives following error:</p>\n<p><code>[ERROR] Unknown lifecycle phase &quot;tree&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]</code></p>\n<p>Kindly help regarding the same.</p>\n"},{"tags":["java","xml","jackson","pmd"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635369165,"creation_date":1635369165,"answer_id":69745565,"question_id":69718037,"body_markdown":"There are two kinds of problems in your Java code:\r\n\r\n---\r\n\r\nIn your Java code you have properties of type `List&lt;...&gt;`\r\n  \r\n    @JacksonXmlProperty(localName = &quot;duplication&quot;)\r\n    List&lt;CodeClone&gt; codeClones;\r\n  \r\n  and\r\n\r\n    @JacksonXmlProperty(localName = &quot;file&quot;)\r\n\tList&lt;SourceFiles&gt; files;\r\n\t  \r\nYou need do annotate these `List` properties\r\nalso with `@JacksonXmlWrapper(useWrapping = false)`.\r\nIf you omit this, then the default would be `useWrapping = true`\r\nand Jackson would expect for example\r\n\r\n    &lt;file&gt;  \r\n      &lt;file&gt;...&lt;/file&gt;\r\n\t  &lt;file&gt;...&lt;/file&gt;\r\n\t&lt;/file&gt;\r\n  \r\ninstead of just\r\n  \r\n    &lt;file&gt;...&lt;/file&gt;\r\n\t&lt;file&gt;...&lt;/file&gt;\r\n\r\nSee also the [Java doc of `@JacksonXmlElementWrapper`][1].\r\n\r\n---\r\n\r\nIn your XML example you have several XML attributes\r\n(like  `line=&quot;126&quot;`or `path=&quot;Some\\Path\\Here&quot;`)\r\nwhich are of course different from\r\nXML elements (like `&lt;line&gt;126&lt;/line&gt;` or\r\n`&lt;path&gt;Some\\Path\\Here&lt;/path&gt;`).\r\n\r\nYou need to tell Jackson these are XML attributes by annotating\r\nthe Java property with `@JacksonXmlProperty(isAttribute = true)`.\r\nIf you omit this, then the default is `isAttribute = false`\r\nand Jackson would expect an XML element instead of an XML attribute.\r\n\r\nSee also the [Java doc of `@JacksonXmlProperty`][2].\r\n\r\n [1]: http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\r\n [2]: http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlProperty.html\r\n ","title":"Deserializing PMD output with Jackson","body":"<p>There are two kinds of problems in your Java code:</p>\n<hr />\n<p>In your Java code you have properties of type <code>List&lt;...&gt;</code></p>\n<pre><code>@JacksonXmlProperty(localName = &quot;duplication&quot;)\nList&lt;CodeClone&gt; codeClones;\n</code></pre>\n<p>and</p>\n<pre><code>@JacksonXmlProperty(localName = &quot;file&quot;)\nList&lt;SourceFiles&gt; files;\n  \n</code></pre>\n<p>You need do annotate these <code>List</code> properties\nalso with <code>@JacksonXmlWrapper(useWrapping = false)</code>.\nIf you omit this, then the default would be <code>useWrapping = true</code>\nand Jackson would expect for example</p>\n<pre><code>&lt;file&gt;  \n  &lt;file&gt;...&lt;/file&gt;\n  &lt;file&gt;...&lt;/file&gt;\n&lt;/file&gt;\n</code></pre>\n<p>instead of just</p>\n<pre><code>&lt;file&gt;...&lt;/file&gt;\n&lt;file&gt;...&lt;/file&gt;\n</code></pre>\n<p>See also the <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\" rel=\"nofollow noreferrer\">Java doc of <code>@JacksonXmlElementWrapper</code></a>.</p>\n<hr />\n<p>In your XML example you have several XML attributes\n(like  <code>line=&quot;126&quot;</code>or <code>path=&quot;Some\\Path\\Here&quot;</code>)\nwhich are of course different from\nXML elements (like <code>&lt;line&gt;126&lt;/line&gt;</code> or\n<code>&lt;path&gt;Some\\Path\\Here&lt;/path&gt;</code>).</p>\n<p>You need to tell Jackson these are XML attributes by annotating\nthe Java property with <code>@JacksonXmlProperty(isAttribute = true)</code>.\nIf you omit this, then the default is <code>isAttribute = false</code>\nand Jackson would expect an XML element instead of an XML attribute.</p>\n<p>See also the <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlProperty.html\" rel=\"nofollow noreferrer\">Java doc of <code>@JacksonXmlProperty</code></a>.</p>\n"}],"owner":{"account_id":6296579,"reputation":304,"user_id":4892577,"display_name":"Fledgling Pidgeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635369165,"creation_date":1635227473,"question_id":69718037,"body_markdown":"I&#39;m trying to deserialize the output of PMD using Jackson. Specifically, I want to obtain a list of violations and their data, which PMD gives me in the following form:\r\n\r\n```\r\n&lt;pmd-cpd&gt;\r\n&lt;duplication lines=&quot;615&quot; tokens=&quot;1188&quot;&gt;\r\n&lt;file line=&quot;126&quot; path=&quot;Some\\Path\\Here&quot;/&gt;\r\n&lt;file line=&quot;126&quot; path=&quot;Some\\Path\\Here&quot;/&gt;\r\n&lt;codefragment&gt;\r\n&lt;![CDATA[\r\nSomeCodeFragmentHere\r\n]]&gt;\r\n&lt;/codefragment&gt;\r\n&lt;/duplication&gt;\r\nMoreDuplications\r\n&lt;/pmd-cpd&gt;\r\n```\r\n\r\nI currently have the following classes to deserialize into:\r\n\r\n```\r\npublic class PmdResults {\r\n  @JacksonXmlProperty(localName = &quot;duplication&quot;)\r\n  List&lt;CodeClone&gt; codeClones;\r\n}\r\n\r\npublic class CodeClone {\r\n  public int lines;\r\n  public int tokens;\r\n\r\n  @JacksonXmlProperty(localName = &quot;file&quot;)\r\n  public List&lt;SourceFile&gt; files;\r\n\r\n  public CodeClone() { super(); }\r\n  \r\n  public static class SourceFile {\r\n    public int line;\r\n    public String path;\r\n  }\r\n}\r\n```\r\n\r\nCurrently, Jackson is able to deserialize the root and both &quot;lines&quot; and &quot;tokens&quot; correctly. However, rather than attempting to deserialize the two &quot;file&quot; elements into SourceFile objects, it looks directly for a &quot;line&quot; attribute to deserialize the attributes of those elements. I&#39;m also not sure how to have Jackson ignore the &quot;codefragment&quot; element, given that I do not actually need that information. I&#39;d be very grateful for any help in this regard, as I&#39;m having a bit of difficulty understanding why it was able to identify that the duplication elements should become objects in a list, but not the file elements which seem to follow the same format.\r\n\r\nPS.: I would actually prefer to get rid of the PmdResults class altogether, and directly deserialize a List\\&lt;CodeClone\\&gt;, but I&#39;ve been unable to find any way to do that either.","title":"Deserializing PMD output with Jackson","body":"<p>I'm trying to deserialize the output of PMD using Jackson. Specifically, I want to obtain a list of violations and their data, which PMD gives me in the following form:</p>\n<pre><code>&lt;pmd-cpd&gt;\n&lt;duplication lines=&quot;615&quot; tokens=&quot;1188&quot;&gt;\n&lt;file line=&quot;126&quot; path=&quot;Some\\Path\\Here&quot;/&gt;\n&lt;file line=&quot;126&quot; path=&quot;Some\\Path\\Here&quot;/&gt;\n&lt;codefragment&gt;\n&lt;![CDATA[\nSomeCodeFragmentHere\n]]&gt;\n&lt;/codefragment&gt;\n&lt;/duplication&gt;\nMoreDuplications\n&lt;/pmd-cpd&gt;\n</code></pre>\n<p>I currently have the following classes to deserialize into:</p>\n<pre><code>public class PmdResults {\n  @JacksonXmlProperty(localName = &quot;duplication&quot;)\n  List&lt;CodeClone&gt; codeClones;\n}\n\npublic class CodeClone {\n  public int lines;\n  public int tokens;\n\n  @JacksonXmlProperty(localName = &quot;file&quot;)\n  public List&lt;SourceFile&gt; files;\n\n  public CodeClone() { super(); }\n  \n  public static class SourceFile {\n    public int line;\n    public String path;\n  }\n}\n</code></pre>\n<p>Currently, Jackson is able to deserialize the root and both &quot;lines&quot; and &quot;tokens&quot; correctly. However, rather than attempting to deserialize the two &quot;file&quot; elements into SourceFile objects, it looks directly for a &quot;line&quot; attribute to deserialize the attributes of those elements. I'm also not sure how to have Jackson ignore the &quot;codefragment&quot; element, given that I do not actually need that information. I'd be very grateful for any help in this regard, as I'm having a bit of difficulty understanding why it was able to identify that the duplication elements should become objects in a list, but not the file elements which seem to follow the same format.</p>\n<p>PS.: I would actually prefer to get rid of the PmdResults class altogether, and directly deserialize a List&lt;CodeClone&gt;, but I've been unable to find any way to do that either.</p>\n"},{"tags":["java","swing","netbeans","layout-manager","designer"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":3,"creation_date":1635368191,"post_id":69745244,"comment_id":123282678,"body_markdown":"Best to get your hands dirty and use the layout managers. There are several that can be useful for you, even including some 3rd party ones if need be, and complex layouts can be achieved using nested JPanels each using a simple layout manager. For better help, please show your [mre] code.","body":"Best to get your hands dirty and use the layout managers. There are several that can be useful for you, even including some 3rd party ones if need be, and complex layouts can be achieved using nested JPanels each using a simple layout manager. For better help, please show your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1635380335,"post_id":69745244,"comment_id":123285351,"body_markdown":"Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html).","body":"Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a>."}],"answers":[{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635368135,"creation_date":1635368135,"answer_id":69745383,"question_id":69745244,"body_markdown":"Double-click on the extra space between the components: it should open a dialog where you can change its size.\r\n\r\nYou can also click the extra space, and use the mouse wheel.\r\n\r\nNetbeans form designer is very powerful and handy when you master it, but it requires some effort at first, especially for large user interfaces. If not already done, take some time to follow this tutorial: https://netbeans.apache.org/kb/docs/java/quickstart-gui.html\r\n\r\nAlso, if your user interface is large, it&#39;s better to break it in several smaller panels. You can design each panel independently with the form designer.\r\n ","title":"How to get my components to resize properly with JFrame Netbeans?","body":"<p>Double-click on the extra space between the components: it should open a dialog where you can change its size.</p>\n<p>You can also click the extra space, and use the mouse wheel.</p>\n<p>Netbeans form designer is very powerful and handy when you master it, but it requires some effort at first, especially for large user interfaces. If not already done, take some time to follow this tutorial: <a href=\"https://netbeans.apache.org/kb/docs/java/quickstart-gui.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/kb/docs/java/quickstart-gui.html</a></p>\n<p>Also, if your user interface is large, it's better to break it in several smaller panels. You can design each panel independently with the form designer.</p>\n"}],"owner":{"account_id":19316405,"reputation":183,"user_id":14121088,"display_name":"tonga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635368810,"creation_date":1635367408,"question_id":69745244,"body_markdown":"I&#39;m trying to make all my components to resize properly with JFrame Netbeans, but if I put the auto resizing to my components, it has like a margin between them, and if I try to put them together, it messes up the components , and I need them to be touching each other.\r\nThanks!\r\n\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8ON6M.png","title":"How to get my components to resize properly with JFrame Netbeans?","body":"<p>I'm trying to make all my components to resize properly with JFrame Netbeans, but if I put the auto resizing to my components, it has like a margin between them, and if I try to put them together, it messes up the components , and I need them to be touching each other.\nThanks!</p>\n<p><a href=\"https://i.stack.imgur.com/8ON6M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ON6M.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":["java","reflection","annotations","modular","modular-design"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1635410800,"post_id":69728752,"comment_id":123292209,"body_markdown":"I think you should think though the entire use case first. There’s no point in having menu items automagically created, but no binding to an actual action to be performed when the item is selected. It makes far more sense to have *methods* being annotated, together with an interface implemented by the class declaring those methods. Then, use the service loader to find all implementations of the interface, followed by iterating over their methods, creating a menu item when the annotation is present, together with an action listener which will invoke the specific method.","body":"I think you should think though the entire use case first. There’s no point in having menu items automagically created, but no binding to an actual action to be performed when the item is selected. It makes far more sense to have <i>methods</i> being annotated, together with an interface implemented by the class declaring those methods. Then, use the service loader to find all implementations of the interface, followed by iterating over their methods, creating a menu item when the annotation is present, together with an action listener which will invoke the specific method."},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":0,"creation_date":1635514089,"post_id":69728752,"comment_id":123325877,"body_markdown":"Thank you for your comment! But I think that you may have missed something there. The `@MenuProvider` annotation that I am placing on the class is for a top-level or sub-menu. Those types of items do not have `Action`s associated with them, as they only display their contents. The annotations you are referring to are the next step. I already have an `@Action` annotation that creates a `javax.swing.Action` item that will be added to the `@MenuItemProvider`&#39;s menu. In other words, I agree with what you are saying, just not in regards to the question posted. Thanks.","body":"Thank you for your comment! But I think that you may have missed something there. The <code>@MenuProvider</code> annotation that I am placing on the class is for a top-level or sub-menu. Those types of items do not have <code>Action</code>s associated with them, as they only display their contents. The annotations you are referring to are the next step. I already have an <code>@Action</code> annotation that creates a <code>javax.swing.Action</code> item that will be added to the <code>@MenuItemProvider</code>&#39;s menu. In other words, I agree with what you are saying, just not in regards to the question posted. Thanks."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1635520985,"post_id":69728752,"comment_id":123328940,"body_markdown":"Since each class can have multiple `MenuProvider` annotations, the action annotations still have to somehow declare to which menu they belong, hence the `MenuProvider` annotation is redundant. Collect all actions and you know which menus have to exist.","body":"Since each class can have multiple <code>MenuProvider</code> annotations, the action annotations still have to somehow declare to which menu they belong, hence the <code>MenuProvider</code> annotation is redundant. Collect all actions and you know which menus have to exist."},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":0,"creation_date":1635622412,"post_id":69728752,"comment_id":123347063,"body_markdown":"@Holger, I actually do not believe that the `MenuProvider` is redundant because it allows third-party or late-added modules to provide their own top-level menu, if the one their action commands are to be in does not exist. As I have been working on this API, I have gotten rid of some redundancy, such as having to require a module&#39;s developer to have to use both the `MenuItemProvider` and the `ToolbarButtonProvider`. Therefore, I acted in a fashion similar to what you mentioned and changed `MenuItemProvider` to `ActionCommandProvider` to allow for a menu item and toolbar button to be created.","body":"@Holger, I actually do not believe that the <code>MenuProvider</code> is redundant because it allows third-party or late-added modules to provide their own top-level menu, if the one their action commands are to be in does not exist. As I have been working on this API, I have gotten rid of some redundancy, such as having to require a module&#39;s developer to have to use both the <code>MenuItemProvider</code> and the <code>ToolbarButtonProvider</code>. Therefore, I acted in a fashion similar to what you mentioned and changed <code>MenuItemProvider</code> to <code>ActionCommandProvider</code> to allow for a menu item and toolbar button to be created."}],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635281471,"creation_date":1635281471,"answer_id":69729803,"question_id":69728752,"body_markdown":"The documentation of [ServiceLoader](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ServiceLoader.html) explains quite well how it works with a good example.\r\n\r\n\r\nFirst of all, it isn&#39;t designed to work with annotations. **The service loader is supposed to return all registered classes implementing a given interface**, not all classes marked with a given annotation.\r\nTechnically you can create classes that implements your annotation, but it&#39;s totally counter intuitive, and won&#39;t help you to find all marked classes.\r\n\r\nSecondly, if your registered service implementation doesn&#39;t have a no-args constructor, or if it doesn&#39;t implement the service interface, it must have a static provider() method which returns an instance of the service interface.\r\nIt means that **you can only return a single instance** and not a list. If you want to have multiple services, you must have multiple classes.\r\n\r\nIf you want to find all classes marked with a given annotation as you have currently designed it, you will need to have a so called classpath scanner.\r\nFor example, [ClassGraph](https://github.com/classgraph/classgraph)\r\n\r\nOF course if you are using a framework like Spring, you should use their discovery facility with their annotations like @Service or @Component, instead of reinventing the wheel. It is called context scan in that case.\r\nGiven your question, I assume you aren&#39;t using such a framework.\r\n","title":"Using ServiceLoader to get All Instances of an Annotation","body":"<p>The documentation of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> explains quite well how it works with a good example.</p>\n<p>First of all, it isn't designed to work with annotations. <strong>The service loader is supposed to return all registered classes implementing a given interface</strong>, not all classes marked with a given annotation.\nTechnically you can create classes that implements your annotation, but it's totally counter intuitive, and won't help you to find all marked classes.</p>\n<p>Secondly, if your registered service implementation doesn't have a no-args constructor, or if it doesn't implement the service interface, it must have a static provider() method which returns an instance of the service interface.\nIt means that <strong>you can only return a single instance</strong> and not a list. If you want to have multiple services, you must have multiple classes.</p>\n<p>If you want to find all classes marked with a given annotation as you have currently designed it, you will need to have a so called classpath scanner.\nFor example, <a href=\"https://github.com/classgraph/classgraph\" rel=\"nofollow noreferrer\">ClassGraph</a></p>\n<p>OF course if you are using a framework like Spring, you should use their discovery facility with their annotations like @Service or @Component, instead of reinventing the wheel. It is called context scan in that case.\nGiven your question, I assume you aren't using such a framework.</p>\n"}],"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69729803,"answer_count":1,"score":1,"last_activity_date":1635368775,"creation_date":1635275701,"question_id":69728752,"body_markdown":"All!\r\n\r\nI know that long questions are frowned upon, but this is the only way I will be able to get my problem adequately explained. So, I apologize up front for the length of this question.\r\n\r\nI am working on a modular project that will be extensible via add-on modules. To that end, I am wanting to allow add-on modules to be able to provide their own menus, menu items and toolbar buttons. To accomplish this, I have created an API with some annotations in it. This API is located in a module called &quot;Menu.API&quot;, and has the following classes defined:\r\n\r\n`@MenuProvider`:\r\n```java\r\npackage com.my.menu.api;\r\n\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.CLASS)\r\n@Repeatable(RepeatableMenus.class)\r\npublic @interface MenuProvider {\r\n    String name();\r\n    String text();\r\n    int position();\r\n}\r\n```\r\n`@RepeatableMenus`:\r\n```java\r\npackage com.my.menu.api;\r\n\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\npublic @interface RepeatableMenus {\r\n    MenuProvider[] value();\r\n}\r\n```\r\nFor the sake of brevity, we will only concentrate on this annotation, because I am sure the rest of them will work with whatever solution I am able to get for this one.\r\n\r\nWith this module completed, I created the `module-info.java` file with the following contents:\r\n```java\r\nmodule Menu.API {\r\n    requires java.base;   // Just for the sake of completeness.\r\n\r\n    exports com.my.menu.api;\r\n}\r\n```\r\n\r\nSo, with the API in place, I created a second module called &quot;Menu.Platform&quot;, with the following class defined:\r\n```java\r\npackage com.my.platform;\r\n\r\n// Imports removed for brevity.\r\n\r\n@MenuProvider(name = &quot;fileMenu&quot;, text = &quot;File&quot;, position = Integer.MIN_VALUE)\r\n@MenuProvider(name = &quot;editMenu&quot;, text = &quot;Edit&quot;, position = Integer.MIN_VALUE + 1)\r\n@MenuProvider(name = &quot;toolsMenu&quot;, text = &quot;Tools&quot;, position = Integer.MAX_VALUE - 1000)\r\n@MenuProvider(name = &quot;helpMenu&quot;, text = &quot;Help&quot;, position = Integer.MAX_VALUE)\r\npublic class App {\r\n\r\n    private final MainFrame mainFrame;\r\n    private final JMenuBar menuBar;\r\n    private final JToolBar toolBar;\r\n    private final JPanel statusPanel;\r\n    private final JLabel statusLabel;\r\n    \r\n    public static MenuProvider provider() {\r\n        // I am not sure how to send back my @MenuProvider annotations.\r\n    }\r\n\r\n    public App() {\r\n        configureWindowParts();\r\n    }\r\n\r\n    private void configureWindowParts() {\r\n        // No problems here...\r\n    }\r\n\r\n    private void initialize(String[] args) {\r\n        // I do not need the args[] variable yet.\r\n        \r\n        createMenuBar();\r\n    \r\n        // ... the rest of the initialization.\r\n    }\r\n\r\n    private void createMenuBar() {\r\n        ServiceLoader&lt;MenuProvider&gt; menusLoader = ServiceLoader.load(MenuProvider.class);\r\n\r\n        // PostionableMenu is a subclass of JMenu that implements Comparable and provides\r\n        //+ the `position` parameter.\r\n        List&lt;PositionableMenu&gt; menus = new ArrayList&lt;&gt;();\r\n\r\n        for (MenuProvider p : menusLoader) {\r\n            PositionableMenu menu = new PositionableMenu(p.name(), p.text(), p.position());\r\n            menus.add(menu);\r\n        }\r\n\r\n        Collections.sort(menus);\r\n\r\n        menus.foreach(m -&gt; {\r\n            menuBar.add(m);\r\n        });\r\n    }\r\n}\r\n```\r\n`module-info.java`:\r\n```java\r\nmodule Menu.Platform {\r\n    requires java.desktop;\r\n    requires Menu.API;\r\n\r\n    uses com.my.menu.api.MenuProvider;\r\n    uses com.my.menu.api.RepeatableMenus;\r\n\r\n    export com.my.platform;\r\n\r\n    provides com.my.menu.api.MenuProvider with com.my.platform.App;\r\n}\r\n```\r\n\r\nSo my problem is that I receive the error: \r\n```\r\nthe service implementation type must be a subtype of the service interface type,\r\nor have a public static no-args method named &quot;provider&quot; returning the service implementation\r\n```\r\n...when I do not have the `public static MenuProvider provider()` method in my `App` class. But then when I put that method in my `App` class, I have no clue how to return those four (4) `@MenuProvider`s from the method.\r\n\r\nAny assistance that can be given to point me in the right direction is greatly appreciated. Thank you all in advance!\r\n\r\n-SC\r\n\r\n[EDIT]\r\nWell, I spent so long thinking of just how to ask this question that the answer came to me shortly after posting it...\r\n\r\nWhat needs to be returned from the `provider` method is obtained by reflecting on the class:\r\n\r\n```java\r\n    public static MenuProvider provider(){\r\n        MenuProvider[] provider = App.class.getAnnotationsByType(MenuProvider.class);\r\n        \r\n        // How to return an array? If I change the return type to an\r\n        //+ array, I get errors again because the provider method only\r\n        //+ wants to return a single instance.\r\n    }\r\n```\r\n\r\nThis was my conundrum now. So I was thinking about how to edit this question when the answer hit me like a ton of bricks! Instead of returning the `MenuProvider`, I needed to return the `RepeatableMenus` instance.  The `value` property of `RepeatableMenus` returns an array of `MenuProvider`s. DUH!\r\n\r\nSo, I updated the `provider` method as follows:\r\n```java\r\n    public static RepeatableMenus provider(){\r\n        RepeatableMenus provider = App.class.getAnnotation(RepeatableMenus.class);\r\n        \r\n        return provider;\r\n    }\r\n```\r\nAnd, I changed my `module-info.java` file to this:\r\n```java\r\nmodule Menu.Platform {\r\n    requires java.desktop;\r\n    requires Menu.API;\r\n\r\n    uses com.my.menu.api.MenuProvider;\r\n    uses com.my.menu.api.RepeatableMenus;\r\n\r\n    export com.my.platform;\r\n\r\n    provides com.my.menu.api.RepeatableMenus with com.my.platform.App;\r\n}\r\n```\r\nNow, I am receiving all of the `@MenuProvider` instances from my class. I cannot wait to try it from an additional module...\r\n\r\nThank you all anyway for the possible help you would have offered.\r\n\r\n-SC","title":"Using ServiceLoader to get All Instances of an Annotation","body":"<p>All!</p>\n<p>I know that long questions are frowned upon, but this is the only way I will be able to get my problem adequately explained. So, I apologize up front for the length of this question.</p>\n<p>I am working on a modular project that will be extensible via add-on modules. To that end, I am wanting to allow add-on modules to be able to provide their own menus, menu items and toolbar buttons. To accomplish this, I have created an API with some annotations in it. This API is located in a module called &quot;Menu.API&quot;, and has the following classes defined:</p>\n<p><code>@MenuProvider</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.menu.api;\n\n@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.CLASS)\n@Repeatable(RepeatableMenus.class)\npublic @interface MenuProvider {\n    String name();\n    String text();\n    int position();\n}\n</code></pre>\n<p><code>@RepeatableMenus</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.menu.api;\n\n@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface RepeatableMenus {\n    MenuProvider[] value();\n}\n</code></pre>\n<p>For the sake of brevity, we will only concentrate on this annotation, because I am sure the rest of them will work with whatever solution I am able to get for this one.</p>\n<p>With this module completed, I created the <code>module-info.java</code> file with the following contents:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module Menu.API {\n    requires java.base;   // Just for the sake of completeness.\n\n    exports com.my.menu.api;\n}\n</code></pre>\n<p>So, with the API in place, I created a second module called &quot;Menu.Platform&quot;, with the following class defined:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.platform;\n\n// Imports removed for brevity.\n\n@MenuProvider(name = &quot;fileMenu&quot;, text = &quot;File&quot;, position = Integer.MIN_VALUE)\n@MenuProvider(name = &quot;editMenu&quot;, text = &quot;Edit&quot;, position = Integer.MIN_VALUE + 1)\n@MenuProvider(name = &quot;toolsMenu&quot;, text = &quot;Tools&quot;, position = Integer.MAX_VALUE - 1000)\n@MenuProvider(name = &quot;helpMenu&quot;, text = &quot;Help&quot;, position = Integer.MAX_VALUE)\npublic class App {\n\n    private final MainFrame mainFrame;\n    private final JMenuBar menuBar;\n    private final JToolBar toolBar;\n    private final JPanel statusPanel;\n    private final JLabel statusLabel;\n    \n    public static MenuProvider provider() {\n        // I am not sure how to send back my @MenuProvider annotations.\n    }\n\n    public App() {\n        configureWindowParts();\n    }\n\n    private void configureWindowParts() {\n        // No problems here...\n    }\n\n    private void initialize(String[] args) {\n        // I do not need the args[] variable yet.\n        \n        createMenuBar();\n    \n        // ... the rest of the initialization.\n    }\n\n    private void createMenuBar() {\n        ServiceLoader&lt;MenuProvider&gt; menusLoader = ServiceLoader.load(MenuProvider.class);\n\n        // PostionableMenu is a subclass of JMenu that implements Comparable and provides\n        //+ the `position` parameter.\n        List&lt;PositionableMenu&gt; menus = new ArrayList&lt;&gt;();\n\n        for (MenuProvider p : menusLoader) {\n            PositionableMenu menu = new PositionableMenu(p.name(), p.text(), p.position());\n            menus.add(menu);\n        }\n\n        Collections.sort(menus);\n\n        menus.foreach(m -&gt; {\n            menuBar.add(m);\n        });\n    }\n}\n</code></pre>\n<p><code>module-info.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module Menu.Platform {\n    requires java.desktop;\n    requires Menu.API;\n\n    uses com.my.menu.api.MenuProvider;\n    uses com.my.menu.api.RepeatableMenus;\n\n    export com.my.platform;\n\n    provides com.my.menu.api.MenuProvider with com.my.platform.App;\n}\n</code></pre>\n<p>So my problem is that I receive the error:</p>\n<pre><code>the service implementation type must be a subtype of the service interface type,\nor have a public static no-args method named &quot;provider&quot; returning the service implementation\n</code></pre>\n<p>...when I do not have the <code>public static MenuProvider provider()</code> method in my <code>App</code> class. But then when I put that method in my <code>App</code> class, I have no clue how to return those four (4) <code>@MenuProvider</code>s from the method.</p>\n<p>Any assistance that can be given to point me in the right direction is greatly appreciated. Thank you all in advance!</p>\n<p>-SC</p>\n<p>[EDIT]\nWell, I spent so long thinking of just how to ask this question that the answer came to me shortly after posting it...</p>\n<p>What needs to be returned from the <code>provider</code> method is obtained by reflecting on the class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static MenuProvider provider(){\n        MenuProvider[] provider = App.class.getAnnotationsByType(MenuProvider.class);\n        \n        // How to return an array? If I change the return type to an\n        //+ array, I get errors again because the provider method only\n        //+ wants to return a single instance.\n    }\n</code></pre>\n<p>This was my conundrum now. So I was thinking about how to edit this question when the answer hit me like a ton of bricks! Instead of returning the <code>MenuProvider</code>, I needed to return the <code>RepeatableMenus</code> instance.  The <code>value</code> property of <code>RepeatableMenus</code> returns an array of <code>MenuProvider</code>s. DUH!</p>\n<p>So, I updated the <code>provider</code> method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static RepeatableMenus provider(){\n        RepeatableMenus provider = App.class.getAnnotation(RepeatableMenus.class);\n        \n        return provider;\n    }\n</code></pre>\n<p>And, I changed my <code>module-info.java</code> file to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module Menu.Platform {\n    requires java.desktop;\n    requires Menu.API;\n\n    uses com.my.menu.api.MenuProvider;\n    uses com.my.menu.api.RepeatableMenus;\n\n    export com.my.platform;\n\n    provides com.my.menu.api.RepeatableMenus with com.my.platform.App;\n}\n</code></pre>\n<p>Now, I am receiving all of the <code>@MenuProvider</code> instances from my class. I cannot wait to try it from an additional module...</p>\n<p>Thank you all anyway for the possible help you would have offered.</p>\n<p>-SC</p>\n"},{"tags":["c#","java","c++","compiler-construction","pascal"],"comments":[{"owner":{"account_id":304576,"reputation":4509,"user_id":614165,"accept_rate":88,"display_name":"KingCronus"},"score":0,"creation_date":1342427161,"post_id":11500522,"comment_id":15193341,"body_markdown":"You could try checking the Magic Numbers to give you a start point. http://en.wikipedia.org/wiki/Magic_number_(programming)#Magic_numbers_in_files","body":"You could try checking the Magic Numbers to give you a start point. <a href=\"http://en.wikipedia.org/wiki/Magic_number_(programming)#Magic_numbers_in_files\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"},{"owner":{"account_id":98281,"reputation":148583,"user_id":266143,"accept_rate":33,"display_name":"CodeCaster"},"score":0,"creation_date":1342429974,"post_id":11500522,"comment_id":15194365,"body_markdown":"@KingCronus the magic number for executables on Windows is almost always [`PE`](http://en.wikipedia.org/wiki/Portable_Executable).","body":"@KingCronus the magic number for executables on Windows is almost always <a href=\"http://en.wikipedia.org/wiki/Portable_Executable\" rel=\"nofollow noreferrer\"><code>PE</code></a>."},{"owner":{"account_id":304576,"reputation":4509,"user_id":614165,"accept_rate":88,"display_name":"KingCronus"},"score":0,"creation_date":1342433174,"post_id":11500522,"comment_id":15195800,"body_markdown":"@CodeCaster that&#39;s interesting I didn&#39;t realise that!","body":"@CodeCaster that&#39;s interesting I didn&#39;t realise that!"}],"answers":[{"tags":[],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342427728,"creation_date":1342427728,"answer_id":11500678,"question_id":11500522,"body_markdown":"i dont think there is a possible way to do this correctly. Maybe some basic programming languages can be detected but nobody can detect frameworks used. There are thousands of frameworks.","title":"Tool to analyze the executable","body":"<p>i dont think there is a possible way to do this correctly. Maybe some basic programming languages can be detected but nobody can detect frameworks used. There are thousands of frameworks.</p>\n"},{"tags":[],"owner":{"account_id":32607,"reputation":6867,"user_id":90608,"accept_rate":79,"display_name":"Oscar Foley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1342429420,"creation_date":1342427799,"answer_id":11500701,"question_id":11500522,"body_markdown":"I have used in the past (uni) [PEInfo][1], but it did not give information you want. After that I used reflector as I knew my dll/exe where .net\r\n\r\nBut **I think there is no software to do that**. \r\n\r\n**Workaround:** Best thing you can do is look in the strings of exe (for example use Process explorer) and guess yourself.\r\n\r\n  [1]: http://www.pazera-software.com/products/peinfo/","title":"Tool to analyze the executable","body":"<p>I have used in the past (uni) <a href=\"http://www.pazera-software.com/products/peinfo/\" rel=\"nofollow\">PEInfo</a>, but it did not give information you want. After that I used reflector as I knew my dll/exe where .net</p>\n\n<p>But <strong>I think there is no software to do that</strong>. </p>\n\n<p><strong>Workaround:</strong> Best thing you can do is look in the strings of exe (for example use Process explorer) and guess yourself.</p>\n"},{"tags":[],"owner":{"account_id":1565714,"reputation":10318,"user_id":1459996,"accept_rate":83,"display_name":"Kirill Kobelev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635368394,"creation_date":1342428244,"answer_id":11500797,"question_id":11500522,"body_markdown":"Open your executable in a binary file viewer and look for strings that look like names of the functions. These strings are not always available, but in certain cases they are present. They can be used to resolve links with DLLs for example. After that google those strings. There is a chance that they will tell you something.","title":"Tool to analyze the executable","body":"<p>Open your executable in a binary file viewer and look for strings that look like names of the functions. These strings are not always available, but in certain cases they are present. They can be used to resolve links with DLLs for example. After that google those strings. There is a chance that they will tell you something.</p>\n"},{"tags":[],"owner":{"account_id":1583649,"reputation":381,"user_id":1468468,"accept_rate":83,"display_name":"Enjolras"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1342429777,"creation_date":1342429386,"answer_id":11501076,"question_id":11500522,"body_markdown":"On GNU, you can use several tools to try to guess the informartion you want :\r\n\r\n - ldd to resolv shared libraries linked to the binary\r\n - nm to list symbols Imported/exporeted by the binary\r\n - strings, which can dump the strings embedded in the binary\r\n - objdump can be useful too\r\n - A hex editor can be useful too. \r\n \r\nI guess there are similar tools on the windows plateform. Dumpbin.exe is something similar to nm, and depends.exe to ldd iirc.\r\n\r\nBtw, java is often bytecode compiled, not native.","title":"Tool to analyze the executable","body":"<p>On GNU, you can use several tools to try to guess the informartion you want :</p>\n\n<ul>\n<li>ldd to resolv shared libraries linked to the binary</li>\n<li>nm to list symbols Imported/exporeted by the binary</li>\n<li>strings, which can dump the strings embedded in the binary</li>\n<li>objdump can be useful too</li>\n<li>A hex editor can be useful too. </li>\n</ul>\n\n<p>I guess there are similar tools on the windows plateform. Dumpbin.exe is something similar to nm, and depends.exe to ldd iirc.</p>\n\n<p>Btw, java is often bytecode compiled, not native.</p>\n"}],"owner":{"account_id":244832,"reputation":1156,"user_id":517906,"accept_rate":78,"display_name":"grizzly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11500701,"answer_count":4,"score":2,"last_activity_date":1635368394,"creation_date":1342427005,"question_id":11500522,"body_markdown":"is there a tool that analyzes the executable and detects:\r\n    - the programming language used (compiler),\r\n    - frameworks used (Qt, Gtk, .Net, WxWidgets etc),\r\n    - other useful information (compression, etc.).\r\n\r\nI know it is quite hard to tell the programming language sometimes (especially in C or Pascal exes), but it is possible to tell the language or compiler used? (Delphi generates exes differently, VB6 too for instance).\r\n\r\nIt may be possible eg. with dependency analysis of the dlls, headers etc.\r\n\r\nThanks.","title":"Tool to analyze the executable","body":"<p>is there a tool that analyzes the executable and detects:\n    - the programming language used (compiler),\n    - frameworks used (Qt, Gtk, .Net, WxWidgets etc),\n    - other useful information (compression, etc.).</p>\n\n<p>I know it is quite hard to tell the programming language sometimes (especially in C or Pascal exes), but it is possible to tell the language or compiler used? (Delphi generates exes differently, VB6 too for instance).</p>\n\n<p>It may be possible eg. with dependency analysis of the dlls, headers etc.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1532462463,"post_id":51506582,"comment_id":89982317,"body_markdown":"don&#39;t use next, use nextLine and you&#39;ll be ok for all (until you know exactly what each does) nextLine() it the easiest","body":"don&#39;t use next, use nextLine and you&#39;ll be ok for all (until you know exactly what each does) nextLine() it the easiest"},{"owner":{"account_id":10513907,"reputation":542,"user_id":7748624,"display_name":"Isaac Abramowitz"},"score":1,"creation_date":1532462522,"post_id":51506582,"comment_id":89982349,"body_markdown":"I don&#39;t think this is the problem, but I wouldn&#39;t instantiate the `Scanner` inside a loop, I&#39;d do it once before the loop. Saves a lot of overhead","body":"I don&#39;t think this is the problem, but I wouldn&#39;t instantiate the <code>Scanner</code> inside a loop, I&#39;d do it once before the loop. Saves a lot of overhead"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1532463030,"post_id":51506582,"comment_id":89982582,"body_markdown":"@IsaacAbramowitz If that isn&#39;t the problem, I&#39;ll be quite surprised.","body":"@IsaacAbramowitz If that isn&#39;t the problem, I&#39;ll be quite surprised."},{"owner":{"account_id":10513907,"reputation":542,"user_id":7748624,"display_name":"Isaac Abramowitz"},"score":0,"creation_date":1532523442,"post_id":51506582,"comment_id":90007647,"body_markdown":"@chrylis I mean, it&#39;s A problem, but I haven&#39;t tested it so I&#39;m not sure if that&#39;s the issue leading to askeladd&#39;s problem","body":"@chrylis I mean, it&#39;s A problem, but I haven&#39;t tested it so I&#39;m not sure if that&#39;s the issue leading to askeladd&#39;s problem"}],"answers":[{"tags":[],"owner":{"account_id":3950740,"reputation":859,"user_id":3261253,"display_name":"agillgilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1532465257,"creation_date":1532465257,"answer_id":51507292,"question_id":51506582,"body_markdown":"The Upshot\r\n==========\r\nFirst, you shouldn&#39;t be creating multiple instances of `Scanner`.  But your main problem is that ***you aren&#39;t doing error checking on the input that the user is giving you***.  The `InputMismatchException` was probably thrown beacause you entered something other than an integer on the menu.  Try this code to fix it:\r\n&lt;hr&gt;\r\n**Main.java**\r\n\r\n    import java.util.InputMismatchException;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t    // write your code here\r\n    \t\r\n    \t    // Using Scanner for Getting Input from User\r\n    \t    int a = 0;\r\n    \t    Scanner reader = new Scanner(System.in);\r\n    \t    while (a != 6) {\r\n    \t    \tSystem.out.println(&quot;\\tMAIN MENU:\\n&quot; +\r\n    \t                &quot;\\t\\t1) Add new member record\\n&quot; +\r\n    \t                &quot;\\t\\t2) Modify existing member record\\n&quot; +\r\n    \t                &quot;\\t\\t3) Delete member record\\n&quot; +\r\n    \t                &quot;\\t\\t4) Display all member records\\n&quot; +\r\n    \t                &quot;\\t\\t5) Search for a particular member record\\n&quot; +\r\n    \t                &quot;\\t\\t6) Exit&quot;);\r\n    \t    \tboolean intValid = false;\r\n    \t    \twhile(!intValid) {\r\n    \t    \t\tSystem.out.println(&quot;Please enter a valid option (1 - 6).&quot;);\r\n            \t\tString input = reader.next();\r\n            \t\tif (isInteger(input)) {\r\n            \t\t\ta = Integer.parseInt(input);\r\n            \t\t\tif (a &gt;= 1 &amp;&amp; a &lt;= 6) {\r\n            \t\t\t\tintValid = true;\r\n            \t\t\t}\r\n            \t\t}\r\n    \t    \t}\r\n    \t    \t\r\n    \t        System.out.println(&quot;You entered integer &quot; + a);\r\n    \t\t\r\n    \t        if (a == 1) {\r\n    \t            AddNewMember anm = new AddNewMember(reader);\r\n    \t            anm.openFile();\r\n    \t            anm.addRecords();\r\n    \t            anm.closeFile();\r\n    \t        }\r\n    \t    }\r\n    \t}\r\n    \t\r\n    \tprivate static boolean isInteger(String str) {\r\n    \t\treturn str.matches(&quot;-?\\\\d+&quot;);\r\n    \t}\r\n    }\r\n\r\n**AddNewMember.java**\r\n\r\n    import java.io.FileWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.Formatter;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class AddNewMember {\r\n    \r\n        private FileWriter x;\r\n        private Formatter form;\r\n        private Scanner reader;\r\n        \r\n        public AddNewMember(Scanner reader) {\r\n        \tthis.reader = reader;\r\n        }\r\n    \r\n        public void openFile() {\r\n            try {\r\n                x = new FileWriter(&quot;/Users/askeladd/Downloads/animals.dat&quot;, true);\r\n                form = new Formatter(x);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;You have an error&quot;);\r\n            }\r\n        }\r\n    \r\n        public void addRecords() {    \t\r\n            //Adding Animal Name.\r\n            System.out.println(&quot;Please input animal name: &quot;);\r\n            String animal_name = reader.next();\r\n            //Adding Animal&#39;s Owner.\r\n            System.out.println(&quot;Please input animal&#39;s owner Name: \\n&quot;);\r\n            System.out.println(&quot;First Name: &quot;);\r\n            String animal_ofn = reader.next();\r\n    \r\n            System.out.println(&quot;Last Name: &quot;);\r\n            String animal_oln = reader.next();\r\n    \r\n            //Adding species.\r\n            System.out.println(&quot;Please input animal species: &quot;);\r\n            String animal_s = reader.next();\r\n    \r\n            //Adding Date of Birth.\r\n            System.out.println(&quot;Please input animal Date of Birth: &quot;);\r\n            String animal_dob = reader.next();\r\n    \r\n            //Adding Treatments\r\n            List &lt;String&gt; animal_treatments = new ArrayList &lt;String&gt;();\r\n            System.out.println(&quot;Please input treatments: &quot;);\r\n    \r\n            int i = 0;\r\n            while (i &lt; 10) {\r\n                String s = reader.next();\r\n                if (s.equals(&quot;q&quot;) || s.equals(&quot;Q&quot;)) {\r\n                    break;\r\n                }\r\n                animal_treatments.add(s);\r\n                i += 1;\r\n            }\r\n            System.out.println(animal_treatments);\r\n            \r\n            reader.close();\r\n        }\r\n    \r\n        public void closeFile() {\r\n            form.close();\r\n        }\r\n    \r\n    }\r\n&lt;hr&gt;\r\nA Side Note\r\n-----------\r\nI don&#39;t know if this is for a school project of something you are making on your own, but if you really want to handle user input with a nice interface, take a look at [Java Swing](https://docs.oracle.com/javase/tutorial/uiswing/components/index.html).\r\n\r\nAlso, you will have to do a lot more error checking on the input fields for the input in `AddNewMember` if you don&#39;t want similar errors in the future.\r\n\r\n**Happy Coding!**\r\n","title":"getting this error -&gt; Exception in thread &quot;main&quot; java.util.InputMismatchException in Java","body":"<h1>The Upshot</h1>\n\n<p>First, you shouldn't be creating multiple instances of <code>Scanner</code>.  But your main problem is that <strong><em>you aren't doing error checking on the input that the user is giving you</em></strong>.  The <code>InputMismatchException</code> was probably thrown beacause you entered something other than an integer on the menu.  Try this code to fix it:\n<hr>\n<strong>Main.java</strong></p>\n\n<pre><code>import java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // write your code here\n\n        // Using Scanner for Getting Input from User\n        int a = 0;\n        Scanner reader = new Scanner(System.in);\n        while (a != 6) {\n            System.out.println(\"\\tMAIN MENU:\\n\" +\n                    \"\\t\\t1) Add new member record\\n\" +\n                    \"\\t\\t2) Modify existing member record\\n\" +\n                    \"\\t\\t3) Delete member record\\n\" +\n                    \"\\t\\t4) Display all member records\\n\" +\n                    \"\\t\\t5) Search for a particular member record\\n\" +\n                    \"\\t\\t6) Exit\");\n            boolean intValid = false;\n            while(!intValid) {\n                System.out.println(\"Please enter a valid option (1 - 6).\");\n                String input = reader.next();\n                if (isInteger(input)) {\n                    a = Integer.parseInt(input);\n                    if (a &gt;= 1 &amp;&amp; a &lt;= 6) {\n                        intValid = true;\n                    }\n                }\n            }\n\n            System.out.println(\"You entered integer \" + a);\n\n            if (a == 1) {\n                AddNewMember anm = new AddNewMember(reader);\n                anm.openFile();\n                anm.addRecords();\n                anm.closeFile();\n            }\n        }\n    }\n\n    private static boolean isInteger(String str) {\n        return str.matches(\"-?\\\\d+\");\n    }\n}\n</code></pre>\n\n<p><strong>AddNewMember.java</strong></p>\n\n<pre><code>import java.io.FileWriter;\nimport java.util.ArrayList;\nimport java.util.Formatter;\n\nimport java.util.Scanner;\n\nimport java.util.List;\n\npublic class AddNewMember {\n\n    private FileWriter x;\n    private Formatter form;\n    private Scanner reader;\n\n    public AddNewMember(Scanner reader) {\n        this.reader = reader;\n    }\n\n    public void openFile() {\n        try {\n            x = new FileWriter(\"/Users/askeladd/Downloads/animals.dat\", true);\n            form = new Formatter(x);\n        } catch (Exception e) {\n            System.out.println(\"You have an error\");\n        }\n    }\n\n    public void addRecords() {      \n        //Adding Animal Name.\n        System.out.println(\"Please input animal name: \");\n        String animal_name = reader.next();\n        //Adding Animal's Owner.\n        System.out.println(\"Please input animal's owner Name: \\n\");\n        System.out.println(\"First Name: \");\n        String animal_ofn = reader.next();\n\n        System.out.println(\"Last Name: \");\n        String animal_oln = reader.next();\n\n        //Adding species.\n        System.out.println(\"Please input animal species: \");\n        String animal_s = reader.next();\n\n        //Adding Date of Birth.\n        System.out.println(\"Please input animal Date of Birth: \");\n        String animal_dob = reader.next();\n\n        //Adding Treatments\n        List &lt;String&gt; animal_treatments = new ArrayList &lt;String&gt;();\n        System.out.println(\"Please input treatments: \");\n\n        int i = 0;\n        while (i &lt; 10) {\n            String s = reader.next();\n            if (s.equals(\"q\") || s.equals(\"Q\")) {\n                break;\n            }\n            animal_treatments.add(s);\n            i += 1;\n        }\n        System.out.println(animal_treatments);\n\n        reader.close();\n    }\n\n    public void closeFile() {\n        form.close();\n    }\n\n}\n</code></pre>\n\n<p><hr></p>\n\n<h2>A Side Note</h2>\n\n<p>I don't know if this is for a school project of something you are making on your own, but if you really want to handle user input with a nice interface, take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/index.html\" rel=\"nofollow noreferrer\">Java Swing</a>.</p>\n\n<p>Also, you will have to do a lot more error checking on the input fields for the input in <code>AddNewMember</code> if you don't want similar errors in the future.</p>\n\n<p><strong>Happy Coding!</strong></p>\n"}],"owner":{"account_id":11551410,"reputation":3,"user_id":8463924,"display_name":"askeladd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51507292,"answer_count":1,"score":0,"last_activity_date":1635368305,"creation_date":1532462142,"question_id":51506582,"body_markdown":"I&#39;m getting the error:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\tat com.raghuvamsha.Main.main(Main.java:24)\r\n\r\nin my program:\r\n1. Main Class.\r\n\r\n    \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n        // write your code here\r\n\r\n        // Using Scanner for Getting Input from User\r\n        System.out.println(&quot;\\tMAIN MENU:\\n&quot; +\r\n                &quot;\\t\\t1) Add new member record\\n&quot; +\r\n                &quot;\\t\\t2) Modify existing member record\\n&quot; +\r\n                &quot;\\t\\t3) Delete member record\\n&quot; +\r\n                &quot;\\t\\t4) Display all member records\\n&quot; +\r\n                &quot;\\t\\t5) Search for a particular member record\\n&quot; +\r\n                &quot;\\t\\t6) Exit&quot;);\r\n\r\n        int a = 0;\r\n        while(a!=6) {\r\n\r\n            Scanner reader = new Scanner(System.in);\r\n\r\n            a = reader.nextInt();\r\n            System.out.println(&quot;You entered integer &quot; + a);\r\n\r\n            if(a==1){\r\n                AddNewMember anm = new AddNewMember();\r\n                anm.openFile();\r\n                anm.addRecords();\r\n                anm.closeFile();\r\n            }\r\n        }\r\n\r\n       }\r\n    }\r\n\r\n2. AddNewMember Class.\r\n\r\n      \r\n     public class AddNewMember {\r\n\r\n\r\n\r\n    private FileWriter x;\r\n    private Formatter form;\r\n\r\n    public void openFile(){\r\n\r\n        try{\r\n            x = new FileWriter(&quot;/Users/askeladd/Downloads/animals.dat&quot;, true);\r\n            form = new Formatter(x);\r\n        }\r\n\r\n        catch (Exception e){\r\n            System.out.println(&quot;You have an error&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void addRecords(){\r\n\r\n        //Adding Animal Name.\r\n        System.out.println(&quot;Please input animal name: &quot;);\r\n        Scanner reader_an = new Scanner(System.in);\r\n        String animal_name = reader_an.next();\r\n\r\n        //Adding Animal&#39;s Owner.\r\n        System.out.println(&quot;Please input animal&#39;s owner Name: \\n&quot;);\r\n        System.out.println(&quot;First Name: &quot;);\r\n        Scanner reader_aofn = new Scanner(System.in);\r\n        String animal_ofn = reader_aofn.next();\r\n\r\n        System.out.println(&quot;Last Name: &quot;);\r\n        Scanner reader_aoln = new Scanner(System.in);\r\n        String animal_oln = reader_aoln.next();\r\n\r\n        //Adding species.\r\n        System.out.println(&quot;Please input animal species: &quot;);\r\n        Scanner reader_s = new Scanner(System.in);\r\n        String animal_s = reader_s.next();\r\n\r\n        //Adding Date of Birth.\r\n        System.out.println(&quot;Please input animal Date of Birth: &quot;);\r\n        Scanner reader_dob = new Scanner(System.in);\r\n        String animal_dob = reader_dob.next();\r\n\r\n        //Adding Treatments\r\n        List&lt;String&gt; animal_treatments = new ArrayList&lt;String&gt;();\r\n        System.out.println(&quot;Please input treatments: &quot;);\r\n\r\n        int i = 0;\r\n        Scanner reader_treatments = new Scanner(System.in);\r\n        while (i&lt;10) {\r\n\r\n\r\n            String s = reader_treatments.next();\r\n            if (s.equals(&quot;q&quot;)|| s.equals(&quot;Q&quot;)) {\r\n\r\n                break;\r\n            }\r\n            animal_treatments.add(s);\r\n\r\n            i += 1;\r\n\r\n        }\r\n        System.out.println(animal_treatments);\r\n\r\n\r\n\r\n    }\r\n\r\n    public void closeFile(){\r\n        form.close();\r\n    }\r\n\r\n    }\r\n\r\nI have read some posts in StackOverflow regarding the issue, it was mentioned to use next() instead of nextLine() in my code, but still it was not working. Please help me.\r\n \r\nThank you.","title":"getting this error -&gt; Exception in thread &quot;main&quot; java.util.InputMismatchException in Java","body":"<p>I'm getting the error:</p>\n\n<pre><code>Exception in thread \"main\" java.util.InputMismatchException\nat java.base/java.util.Scanner.throwFor(Scanner.java:939)\nat java.base/java.util.Scanner.next(Scanner.java:1594)\nat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\nat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\nat com.raghuvamsha.Main.main(Main.java:24)\n</code></pre>\n\n<p>in my program:\n1. Main Class.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\npublic static void main(String[] args) {\n    // write your code here\n\n    // Using Scanner for Getting Input from User\n    System.out.println(\"\\tMAIN MENU:\\n\" +\n            \"\\t\\t1) Add new member record\\n\" +\n            \"\\t\\t2) Modify existing member record\\n\" +\n            \"\\t\\t3) Delete member record\\n\" +\n            \"\\t\\t4) Display all member records\\n\" +\n            \"\\t\\t5) Search for a particular member record\\n\" +\n            \"\\t\\t6) Exit\");\n\n    int a = 0;\n    while(a!=6) {\n\n        Scanner reader = new Scanner(System.in);\n\n        a = reader.nextInt();\n        System.out.println(\"You entered integer \" + a);\n\n        if(a==1){\n            AddNewMember anm = new AddNewMember();\n            anm.openFile();\n            anm.addRecords();\n            anm.closeFile();\n        }\n    }\n\n   }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>AddNewMember Class.</p>\n\n<p>public class AddNewMember {</p>\n\n<p>private FileWriter x;\nprivate Formatter form;</p>\n\n<p>public void openFile(){</p>\n\n<pre><code>try{\n    x = new FileWriter(\"/Users/askeladd/Downloads/animals.dat\", true);\n    form = new Formatter(x);\n}\n\ncatch (Exception e){\n    System.out.println(\"You have an error\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>public void addRecords(){</p>\n\n<pre><code>//Adding Animal Name.\nSystem.out.println(\"Please input animal name: \");\nScanner reader_an = new Scanner(System.in);\nString animal_name = reader_an.next();\n\n//Adding Animal's Owner.\nSystem.out.println(\"Please input animal's owner Name: \\n\");\nSystem.out.println(\"First Name: \");\nScanner reader_aofn = new Scanner(System.in);\nString animal_ofn = reader_aofn.next();\n\nSystem.out.println(\"Last Name: \");\nScanner reader_aoln = new Scanner(System.in);\nString animal_oln = reader_aoln.next();\n\n//Adding species.\nSystem.out.println(\"Please input animal species: \");\nScanner reader_s = new Scanner(System.in);\nString animal_s = reader_s.next();\n\n//Adding Date of Birth.\nSystem.out.println(\"Please input animal Date of Birth: \");\nScanner reader_dob = new Scanner(System.in);\nString animal_dob = reader_dob.next();\n\n//Adding Treatments\nList&lt;String&gt; animal_treatments = new ArrayList&lt;String&gt;();\nSystem.out.println(\"Please input treatments: \");\n\nint i = 0;\nScanner reader_treatments = new Scanner(System.in);\nwhile (i&lt;10) {\n\n\n    String s = reader_treatments.next();\n    if (s.equals(\"q\")|| s.equals(\"Q\")) {\n\n        break;\n    }\n    animal_treatments.add(s);\n\n    i += 1;\n\n}\nSystem.out.println(animal_treatments);\n</code></pre>\n\n<p>}</p>\n\n<p>public void closeFile(){\n    form.close();\n}</p>\n\n<p>}</p></li>\n</ol>\n\n<p>I have read some posts in StackOverflow regarding the issue, it was mentioned to use next() instead of nextLine() in my code, but still it was not working. Please help me.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","memory","heap-memory","native"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1635372865,"post_id":69745357,"comment_id":123283937,"body_markdown":"One purpose is to set up data structures to call methods in native libraries. See some examples here https://stackoverflow.com/questions/69321128/how-to-call-a-c-function-from-java-17-using-jep-412-foreign-function-memory-a/69347525#69347525","body":"One purpose is to set up data structures to call methods in native libraries. See some examples here <a href=\"https://stackoverflow.com/questions/69321128/how-to-call-a-c-function-from-java-17-using-jep-412-foreign-function-memory-a/69347525#69347525\" title=\"how to call a c function from java 17 using jep 412 foreign function memory a\">stackoverflow.com/questions/69321128/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1635378838,"post_id":69745357,"comment_id":123285116,"body_markdown":"DuncG is correct.  It’s for native calls.  Do not try using native memory to improve performance;  Java’s memory management is quite good, and you are not going to outdo it.  Performance issues are usually due to careless or frequent creation of objects;  a common example is building a String in a loop using `+=` instead of using a proper StringBuilder.","body":"DuncG is correct.  It’s for native calls.  Do not try using native memory to improve performance;  Java’s memory management is quite good, and you are not going to outdo it.  Performance issues are usually due to careless or frequent creation of objects;  a common example is building a String in a loop using <code>+=</code> instead of using a proper StringBuilder."},{"owner":{"account_id":1633722,"reputation":615,"user_id":1507781,"display_name":"Michael Marton"},"score":0,"creation_date":1637593263,"post_id":69745357,"comment_id":123860892,"body_markdown":"We have a JavaFX application controlling several different cameras. Having performance improvements in mind we plan to investigate the Foreign Memory API for our use case. It would mean that we allocate the memory (needed for the picture data acquisition) on the Java side and pass it to the cam on initialization. Thereby, we might be able to avoid some of the (cpu-consuming) data-copying.","body":"We have a JavaFX application controlling several different cameras. Having performance improvements in mind we plan to investigate the Foreign Memory API for our use case. It would mean that we allocate the memory (needed for the picture data acquisition) on the Java side and pass it to the cam on initialization. Thereby, we might be able to avoid some of the (cpu-consuming) data-copying."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1651058636,"post_id":69745357,"comment_id":127270758,"body_markdown":"I like this example, an incomplete Java binding to the OpenGL API: https://github.com/jzy3d/panama-gl","body":"I like this example, an incomplete Java binding to the OpenGL API: <a href=\"https://github.com/jzy3d/panama-gl\" rel=\"nofollow noreferrer\">github.com/jzy3d/panama-gl</a>"}],"owner":{"account_id":16753025,"reputation":21,"user_id":12109715,"display_name":"Sam K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635367958,"creation_date":1635367958,"question_id":69745357,"body_markdown":"I read few articles online but it&#39;s not quite clear to me when would you want to have off-heap memory? I understand off-heap memory solution would address GC performance issues. But I am looking for some solid applications/examples where this can be useful. Wondering if you point me to some resources which provides some scenarios where this would truly make sense going off-heap?","title":"JDK 17 Foreign Memory API - what are some of the best applications?","body":"<p>I read few articles online but it's not quite clear to me when would you want to have off-heap memory? I understand off-heap memory solution would address GC performance issues. But I am looking for some solid applications/examples where this can be useful. Wondering if you point me to some resources which provides some scenarios where this would truly make sense going off-heap?</p>\n"},{"tags":["java","dependency-injection","jersey","inversion-of-control","hk2"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635367646,"creation_date":1635306782,"answer_id":69732561,"question_id":69719197,"body_markdown":"You need to use the `qualifiedBy(Annotation)` method when you want to qualify different types. You also need to annotate each injection point with a different qualifier annotation.\r\n\r\nFirst you need the annotations and have a way to get an instance of them (the `qualifiedBy` method requires an annotation instance)\r\n\r\n```java\r\n@Qualifier\r\n@Retention(RUNTIME)\r\n@Target({TYPE, METHOD, FIELD, PARAMETER})\r\npublic @interface NonCached {\r\n\r\n    class Literal extends AnnotationLiteral&lt;NonCached&gt; implements NonCached {\r\n\r\n        public static final NonCached INSTANCE = new Literal();\r\n\r\n        private Literal() {\r\n        }\r\n    }\r\n}\r\n\r\n@Qualifier\r\n@Retention(RUNTIME)\r\n@Target({TYPE, METHOD, FIELD, PARAMETER})\r\npublic @interface Cached {\r\n\r\n    class Literal extends AnnotationLiteral&lt;Cached&gt; implements Cached {\r\n\r\n        public static final Cached INSTANCE = new Literal();\r\n\r\n        private Literal() {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen when you bind them used `qualifiedBy`\r\n\r\n```java\r\nthis.bind(MyServicePlain.class).to(MyService.class)\r\n    .in(Singleton.class).qualifiedBy(NonCached.Literal.INSTANCE);    \r\nthis.bind(CachingMyService.class).to(MyService.class)\r\n    .in(Singleton.class).qualifiedBy(Cached.Literal.INSTANCE);\r\n```\r\n\r\nThen when you inject them, add the applicable qualifier\r\n\r\n```java\r\n@Inject\r\n@NonCached\r\nMyService service;\r\n\r\n@Inject\r\n@Cached\r\nMyService service;\r\n```","title":"Two implementations of one interface in Jersey/HK2, reuse first in other","body":"<p>You need to use the <code>qualifiedBy(Annotation)</code> method when you want to qualify different types. You also need to annotate each injection point with a different qualifier annotation.</p>\n<p>First you need the annotations and have a way to get an instance of them (the <code>qualifiedBy</code> method requires an annotation instance)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Qualifier\n@Retention(RUNTIME)\n@Target({TYPE, METHOD, FIELD, PARAMETER})\npublic @interface NonCached {\n\n    class Literal extends AnnotationLiteral&lt;NonCached&gt; implements NonCached {\n\n        public static final NonCached INSTANCE = new Literal();\n\n        private Literal() {\n        }\n    }\n}\n\n@Qualifier\n@Retention(RUNTIME)\n@Target({TYPE, METHOD, FIELD, PARAMETER})\npublic @interface Cached {\n\n    class Literal extends AnnotationLiteral&lt;Cached&gt; implements Cached {\n\n        public static final Cached INSTANCE = new Literal();\n\n        private Literal() {\n        }\n    }\n}\n</code></pre>\n<p>Then when you bind them used <code>qualifiedBy</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>this.bind(MyServicePlain.class).to(MyService.class)\n    .in(Singleton.class).qualifiedBy(NonCached.Literal.INSTANCE);    \nthis.bind(CachingMyService.class).to(MyService.class)\n    .in(Singleton.class).qualifiedBy(Cached.Literal.INSTANCE);\n</code></pre>\n<p>Then when you inject them, add the applicable qualifier</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\n@NonCached\nMyService service;\n\n@Inject\n@Cached\nMyService service;\n</code></pre>\n"}],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69732561,"answer_count":1,"score":1,"last_activity_date":1635367646,"creation_date":1635233993,"question_id":69719197,"body_markdown":"I have an interface with a naive implementation, say\r\n\r\n     interface MyService { \r\n        void doIt();\r\n     } \r\n\r\n     class MyServicePlain implements MyService{\r\n\r\n        @Inject\r\n        SomeOtherInterface\r\n \r\n        public void doIt () { \r\n        }\r\n     }\r\n\r\nI want to make a cache that caches the `doIt`, so I wrote a wrapper :\r\n\r\n     class CachingMyService implements MyService {\r\n\r\n           @Inject \r\n           MyService inner;\r\n\r\n           int cacheThingie;\r\n\r\n           public int doIt() {\r\n                   if (cached) ... {\r\n                       return cacheThingie;\r\n                   } \r\n                   else {\r\n                       result = inner.doIt();\r\n                       addToCache(result);\r\n                       return result;\r\n                   }\r\n           }\r\n     }\r\n\r\nThen, I add both implementations to my Binder:\r\n\r\n       public class ApplicationBinder extends AbstractBinder {\r\n    \r\n            protected void configure() {\r\n    \t\tthis.bind(MyServicePlain.class).to(MyService.class).in(Singleton.class).ranked(2);\r\n    \t\tthis.bind(CachingMyService.class).to(MyService.class).in(Singleton.class).ranked(2);\r\n            }\r\n       }\r\n\r\nI get errors complaining about:\r\n\r\n    \r\n\r\n&gt; org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no\r\n&gt; object available for injection at\r\n&gt; SystemInjecteeImpl(requiredType=MyService,parent=CachingMyService},position=-1,optional=false,self=false,unqualified=null,1102650897)\r\n\r\nI trief using Qualitifaction like this:\r\n\r\n     @Qualifier\r\n    @Retention(RUNTIME)\r\n    @Target({TYPE, METHOD, FIELD, PARAMETER})\r\n    public @interface NonCached {\r\n    }\r\n\r\n\r\n     @NonCached\r\n     class MyServicePlain implements MyService{\r\n     }\r\n\r\n And using that:\r\n\r\n      class CachingMyService implements MyService {\r\n    \r\n           @Inject @NonCached \r\n           MyService inner;\r\n\r\nBut that does not work either.\r\n\r\nWhat is the proper way to wrap a caching service like this? And how can I make hk2 choose the proper implementations?  \r\n\r\n","title":"Two implementations of one interface in Jersey/HK2, reuse first in other","body":"<p>I have an interface with a naive implementation, say</p>\n<pre><code> interface MyService { \n    void doIt();\n } \n\n class MyServicePlain implements MyService{\n\n    @Inject\n    SomeOtherInterface\n\n    public void doIt () { \n    }\n }\n</code></pre>\n<p>I want to make a cache that caches the <code>doIt</code>, so I wrote a wrapper :</p>\n<pre><code> class CachingMyService implements MyService {\n\n       @Inject \n       MyService inner;\n\n       int cacheThingie;\n\n       public int doIt() {\n               if (cached) ... {\n                   return cacheThingie;\n               } \n               else {\n                   result = inner.doIt();\n                   addToCache(result);\n                   return result;\n               }\n       }\n }\n</code></pre>\n<p>Then, I add both implementations to my Binder:</p>\n<pre><code>   public class ApplicationBinder extends AbstractBinder {\n\n        protected void configure() {\n        this.bind(MyServicePlain.class).to(MyService.class).in(Singleton.class).ranked(2);\n        this.bind(CachingMyService.class).to(MyService.class).in(Singleton.class).ranked(2);\n        }\n   }\n</code></pre>\n<p>I get errors complaining about:</p>\n<blockquote>\n<p>org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no\nobject available for injection at\nSystemInjecteeImpl(requiredType=MyService,parent=CachingMyService},position=-1,optional=false,self=false,unqualified=null,1102650897)</p>\n</blockquote>\n<p>I trief using Qualitifaction like this:</p>\n<pre><code> @Qualifier\n@Retention(RUNTIME)\n@Target({TYPE, METHOD, FIELD, PARAMETER})\npublic @interface NonCached {\n}\n\n\n @NonCached\n class MyServicePlain implements MyService{\n }\n</code></pre>\n<p>And using that:</p>\n<pre><code>  class CachingMyService implements MyService {\n\n       @Inject @NonCached \n       MyService inner;\n</code></pre>\n<p>But that does not work either.</p>\n<p>What is the proper way to wrap a caching service like this? And how can I make hk2 choose the proper implementations?</p>\n"},{"tags":["java","vue.js","deployment","development-environment","quarkus"],"comments":[{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":1,"creation_date":1626845095,"post_id":68440639,"comment_id":120997529,"body_markdown":"It...depends. There are many ways this can play out and really, only your employer can answer this question. Both scenarios are reasonably likely depending on the architecture of the application","body":"It...depends. There are many ways this can play out and really, only your employer can answer this question. Both scenarios are reasonably likely depending on the architecture of the application"}],"answers":[{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626852416,"creation_date":1626852416,"answer_id":68465525,"question_id":68440639,"body_markdown":"There is usually three (at least) ways to do this, note that most of them are not Quarkus specific:\r\n\r\n 1. You deploy your frontend in a webcontainer (httpd, nginx, node) and the Quarkus application separately. You access the Quarkus application via it&#39;s URL, for this you&#39;ll need CORS (Cross Origin Resource Sharing) configured.\r\n 2. You deploy your frontend in a webcontainer and the Quarkus application separately, but you use the webcontainer to make a proxy to the Quarkus application to avoid having to configure CORS. In this case your frontend will be able to access your backend via localhost on the same port or a relative URL.\r\n 3. You package your frontend application inside the Quarkus application (inside `META-INF/resources`) and your frondend access the backend via localhost on the same port or relative URL. The Quarkus application will serve your frontend resoures (HTML, CSS, JS, ...)","title":"Vuejs and quarkus development and deploy","body":"<p>There is usually three (at least) ways to do this, note that most of them are not Quarkus specific:</p>\n<ol>\n<li>You deploy your frontend in a webcontainer (httpd, nginx, node) and the Quarkus application separately. You access the Quarkus application via it's URL, for this you'll need CORS (Cross Origin Resource Sharing) configured.</li>\n<li>You deploy your frontend in a webcontainer and the Quarkus application separately, but you use the webcontainer to make a proxy to the Quarkus application to avoid having to configure CORS. In this case your frontend will be able to access your backend via localhost on the same port or a relative URL.</li>\n<li>You package your frontend application inside the Quarkus application (inside <code>META-INF/resources</code>) and your frondend access the backend via localhost on the same port or relative URL. The Quarkus application will serve your frontend resoures (HTML, CSS, JS, ...)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635366762,"creation_date":1633600012,"answer_id":69478984,"question_id":68440639,"body_markdown":"@loicmathieu shared high level picture. But we will dig even deeper. \r\n\r\nRefer this example [Quarkus + Vue.js + MongoDB CRUD Example][1]\r\n\r\nHere,\r\n\r\n**In development mode**\r\n\r\n**Backend** runs on 8081\r\n\r\napplication.properties\r\n\r\n    quarkus.http.cors=true\r\n    quarkus.http.cors.origins=http://localhost:8080\r\n    quarkus.http.cors.methods=GET,PUT,POST,DELETE\r\n    quarkus.http.port=8081\r\n\r\n\r\n  [1]: https://www.knowledgefactory.net/2021/10/quarkus-vuejs-mongodb-crud-example.html\r\n\r\n\r\n**FrontEnd** runs on 8080\r\n\r\nvue.config.js\r\n\r\n    module.exports = {\r\n        devServer: {\r\n            port: 8080\r\n        }\r\n    }\r\n\r\nIf you have one team with five folks, or you have multiple teams with n number of folks, or if you alone, no matter\r\n\r\nIt would be better to implement the Separation of concern principle.\r\nYou can concentrate on seperate goals, architecture, speed, etc. Back-end: data processing, front-end: user interaction\r\n\r\nDisadvantage\r\n\r\n - Need more infrastructure\r\n - Cost","title":"Vuejs and quarkus development and deploy","body":"<p>@loicmathieu shared high level picture. But we will dig even deeper.</p>\n<p>Refer this example <a href=\"https://www.knowledgefactory.net/2021/10/quarkus-vuejs-mongodb-crud-example.html\" rel=\"nofollow noreferrer\">Quarkus + Vue.js + MongoDB CRUD Example</a></p>\n<p>Here,</p>\n<p><strong>In development mode</strong></p>\n<p><strong>Backend</strong> runs on 8081</p>\n<p>application.properties</p>\n<pre><code>quarkus.http.cors=true\nquarkus.http.cors.origins=http://localhost:8080\nquarkus.http.cors.methods=GET,PUT,POST,DELETE\nquarkus.http.port=8081\n</code></pre>\n<p><strong>FrontEnd</strong> runs on 8080</p>\n<p>vue.config.js</p>\n<pre><code>module.exports = {\n    devServer: {\n        port: 8080\n    }\n}\n</code></pre>\n<p>If you have one team with five folks, or you have multiple teams with n number of folks, or if you alone, no matter</p>\n<p>It would be better to implement the Separation of concern principle.\nYou can concentrate on seperate goals, architecture, speed, etc. Back-end: data processing, front-end: user interaction</p>\n<p>Disadvantage</p>\n<ul>\n<li>Need more infrastructure</li>\n<li>Cost</li>\n</ul>\n"}],"owner":{"account_id":21998687,"reputation":23,"user_id":16270712,"display_name":"kinzkowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68465525,"answer_count":2,"score":1,"last_activity_date":1635366762,"creation_date":1626698254,"question_id":68440639,"body_markdown":"I&#39;m a begginer and have a tons os questions, but here is one that I need advice.\r\nI entered in a company that is building a program where the backend is build in Quarkus (java), and the front end in vuejs.\r\nMy question is, as microservices, the two projects are done separatadely (diferent servers) with the vue consuming the endpoints of quarkus or they are done together?\r\nExplaining better with an example, in dev mode, one has to run in ex: &quot;localhost:8080&quot; and the other in ex: &quot;localhost:8081&quot;? or the both of them in the same port?\r\n\r\nForgive my english mistakes, thanks a lot.","title":"Vuejs and quarkus development and deploy","body":"<p>I'm a begginer and have a tons os questions, but here is one that I need advice.\nI entered in a company that is building a program where the backend is build in Quarkus (java), and the front end in vuejs.\nMy question is, as microservices, the two projects are done separatadely (diferent servers) with the vue consuming the endpoints of quarkus or they are done together?\nExplaining better with an example, in dev mode, one has to run in ex: &quot;localhost:8080&quot; and the other in ex: &quot;localhost:8081&quot;? or the both of them in the same port?</p>\n<p>Forgive my english mistakes, thanks a lot.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635332424,"creation_date":1635332424,"answer_id":69737434,"question_id":69737080,"body_markdown":"Stable Selenium versions (below 4) are not supporting such functionality.   \r\nIt has no ability to read HTTP responses.  \r\nTools like Rest Assured are used for such things.","title":"Is there any way to catch errors that come in HTTP reponse for example status code 500, and then fail the script in selenium","body":"<p>Stable Selenium versions (below 4) are not supporting such functionality.<br />\nIt has no ability to read HTTP responses.<br />\nTools like Rest Assured are used for such things.</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635366598,"creation_date":1635341668,"answer_id":69739684,"question_id":69737080,"body_markdown":"You can use *browsermob-proxy* tool to achieve that. You only should understand that when you call a page is actually causes a lot of requests to (different) servers and each responds with its own code.\r\n\r\nFor example the code could look like:\r\n\r\n```java\r\n@BeforeTest\r\npublic void setUp(){\r\n    /*\r\n    Create and start proxy instance here\r\n    Configure driver to use that created proxy here\r\n     */\r\n}\r\n\r\n@Test\r\npublic void testHeaders(){\r\n    // Create a map that would be storing url-to-status association\r\n    // Use synchronized version of a hash map because\r\n    // proxy handles connections in parallel\r\n    Map&lt;String, Integer&gt; urlToStatuses = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    // Configure handler that would be listening for responses\r\n    // and fill the map\r\n    browserMobProxy.addResponseFilter((response, contents, messageInfo) -&gt; {\r\n        urlToStatuses.put(messageInfo.getOriginalUrl(), response.status().code());\r\n    });\r\n    \r\n    // Call a page\r\n    driver.get(&quot;https://google.com&quot;);\r\n    \r\n    // Test the code of required URL\r\n    Assert.assertEquals(urlToStatuses.get(&quot;https://google.com&quot;).intValue(), 200);\r\n    \r\n    // Do no forget to clear the map before the next assertion\r\n    urlToStatuses.clear();        \r\n}\r\n```","title":"Is there any way to catch errors that come in HTTP reponse for example status code 500, and then fail the script in selenium","body":"<p>You can use <em>browsermob-proxy</em> tool to achieve that. You only should understand that when you call a page is actually causes a lot of requests to (different) servers and each responds with its own code.</p>\n<p>For example the code could look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeTest\npublic void setUp(){\n    /*\n    Create and start proxy instance here\n    Configure driver to use that created proxy here\n     */\n}\n\n@Test\npublic void testHeaders(){\n    // Create a map that would be storing url-to-status association\n    // Use synchronized version of a hash map because\n    // proxy handles connections in parallel\n    Map&lt;String, Integer&gt; urlToStatuses = new ConcurrentHashMap&lt;&gt;();\n    \n    // Configure handler that would be listening for responses\n    // and fill the map\n    browserMobProxy.addResponseFilter((response, contents, messageInfo) -&gt; {\n        urlToStatuses.put(messageInfo.getOriginalUrl(), response.status().code());\n    });\n    \n    // Call a page\n    driver.get(&quot;https://google.com&quot;);\n    \n    // Test the code of required URL\n    Assert.assertEquals(urlToStatuses.get(&quot;https://google.com&quot;).intValue(), 200);\n    \n    // Do no forget to clear the map before the next assertion\n    urlToStatuses.clear();        \n}\n</code></pre>\n"}],"owner":{"account_id":15856199,"reputation":81,"user_id":11440528,"display_name":"Abdurehman Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1635366598,"creation_date":1635330945,"question_id":69737080,"body_markdown":"I&#39;m writing a simple script and I want selenium to fail the script or at least log the errors that come in http response.","title":"Is there any way to catch errors that come in HTTP reponse for example status code 500, and then fail the script in selenium","body":"<p>I'm writing a simple script and I want selenium to fail the script or at least log the errors that come in http response.</p>\n"},{"tags":["java","google-colaboratory"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635366357,"creation_date":1635366357,"answer_id":69745043,"question_id":69744955,"body_markdown":"Google Colab presents a Jupyter-notebook like environment for Python code only. It cannot run Java code (at least, I cannot find where you&#39;d make it do that). \r\n\r\n&gt; I want to copy-paste the code in android studio to perform a specific function\r\n\r\nAndroid code runs on an Android device, not in a server. \r\n\r\nIf you want to run Java code on a server, then you&#39;d host an HTTP-based Java web-server that you use an HTTP Client from Android app to communicate with it. (In theory, yes, you can install and run JAR files in Colab, but you would then need to know the IP of those servers in order to connect with them). \r\n\r\nThe more appropriate solution would be to use Google AppEngine or GCE/GKE (assuming you want to use Google Cloud)\r\n\r\n&gt; I ... want to upload image files\r\n\r\nYou can use the [Java Google Drive SDK][1] for that\r\n\r\n&gt; for all the packages that I import in google colab, will I have to separately download them for android studio\r\n\r\nAndroid Studio is an IDE. Gradle will download packages for compiling your Java/Android code, yes, but as mentioned, Colab is downloading Python packages, not Java\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/quickstart/java","title":"Uploading files in google colab","body":"<p>Google Colab presents a Jupyter-notebook like environment for Python code only. It cannot run Java code (at least, I cannot find where you'd make it do that).</p>\n<blockquote>\n<p>I want to copy-paste the code in android studio to perform a specific function</p>\n</blockquote>\n<p>Android code runs on an Android device, not in a server.</p>\n<p>If you want to run Java code on a server, then you'd host an HTTP-based Java web-server that you use an HTTP Client from Android app to communicate with it. (In theory, yes, you can install and run JAR files in Colab, but you would then need to know the IP of those servers in order to connect with them).</p>\n<p>The more appropriate solution would be to use Google AppEngine or GCE/GKE (assuming you want to use Google Cloud)</p>\n<blockquote>\n<p>I ... want to upload image files</p>\n</blockquote>\n<p>You can use the <a href=\"https://developers.google.com/drive/api/v3/quickstart/java\" rel=\"nofollow noreferrer\">Java Google Drive SDK</a> for that</p>\n<blockquote>\n<p>for all the packages that I import in google colab, will I have to separately download them for android studio</p>\n</blockquote>\n<p>Android Studio is an IDE. Gradle will download packages for compiling your Java/Android code, yes, but as mentioned, Colab is downloading Python packages, not Java</p>\n"}],"owner":{"display_name":"user16571762"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635366357,"creation_date":1635365800,"question_id":69744955,"body_markdown":"So I am writing code in java in google colab because I want to copy-paste the code in android studio to perform a specific function. Now in python it is pretty easy to upload files to google colab but I want to do it in java (I particularly want to upload image files). I should be able to upload image files in such a way that I can use it as input in my code. How can I do it? Also, for all the packages that I import in google colab, will I have to separately download them for android studio or can I just copy-paste the code and it will run?","title":"Uploading files in google colab","body":"<p>So I am writing code in java in google colab because I want to copy-paste the code in android studio to perform a specific function. Now in python it is pretty easy to upload files to google colab but I want to do it in java (I particularly want to upload image files). I should be able to upload image files in such a way that I can use it as input in my code. How can I do it? Also, for all the packages that I import in google colab, will I have to separately download them for android studio or can I just copy-paste the code and it will run?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8087,"page":1905,"page_size":100}
