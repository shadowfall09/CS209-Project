{"items":[{"tags":["java","json","date","calendar"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1701301827,"post_id":77574946,"comment_id":136760346,"body_markdown":"Hey ... you shouldn&#39;t been using `Calendar` in new code.  It is obsolete.","body":"Hey ... you shouldn&#39;t been using <code>Calendar</code> in new code.  It is obsolete."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701314886,"creation_date":1701308534,"answer_id":77575409,"question_id":77574946,"body_markdown":"## tl;dr\r\n\r\n    LocalDateTime\r\n    .parse( \r\n        &quot;2023-11-10 23:01:18.940&quot;\r\n        .replace( &quot; &quot; , &quot;T&quot; ) \r\n    )\r\n\r\n## Details\r\n\r\nNot enough information. Your input represents a date and a time of day but lacks the context of an offset or time zone. So you cannot parse directly as a `Calendar`. \r\n\r\nAlso, `Calendar` is a terribly flawed obsolete legacy class. \r\n\r\nParse your input as a [`LocalDateTime`][1] after replacing the SPACE in the middle with a `T` to comply with ISO 8601 standard. \r\n\r\n    LocalDateTime.parse( &quot;2023-11-10 23:01:18.940&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\r\n\r\n&gt; I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS\r\n\r\nDate-time objects are not text. They do not have a format. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<h2>tl;dr</h2>\n<pre><code>LocalDateTime\n.parse( \n    &quot;2023-11-10 23:01:18.940&quot;\n    .replace( &quot; &quot; , &quot;T&quot; ) \n)\n</code></pre>\n<h2>Details</h2>\n<p>Not enough information. Your input represents a date and a time of day but lacks the context of an offset or time zone. So you cannot parse directly as a <code>Calendar</code>.</p>\n<p>Also, <code>Calendar</code> is a terribly flawed obsolete legacy class.</p>\n<p>Parse your input as a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> after replacing the SPACE in the middle with a <code>T</code> to comply with ISO 8601 standard.</p>\n<pre><code>LocalDateTime.parse( &quot;2023-11-10 23:01:18.940&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\n</code></pre>\n<blockquote>\n<p>I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS</p>\n</blockquote>\n<p>Date-time objects are not text. They do not have a format.</p>\n"},{"tags":[],"owner":{"account_id":13250674,"reputation":56,"user_id":9568260,"display_name":"Luca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701313649,"creation_date":1701313649,"answer_id":77575647,"question_id":77574946,"body_markdown":"You should been using `LocalDateTime` property in code.\r\neg:\r\n```java\r\npublic static void main(String[] args) {\r\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n        System.out.println(LocalDateTime.now().format(dateFormatter));\r\n    }\r\n```\r\noutput:  \r\n```\r\n2023-11-30 10:59:47.852\r\n```\r\nfinal:    \r\n\r\n```java\r\n@JsonProperty(&quot;systemDt&quot;)\r\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\nprivate LocalDateTime responseDateTime;\r\n```","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<p>You should been using <code>LocalDateTime</code> property in code.\neg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n        System.out.println(LocalDateTime.now().format(dateFormatter));\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>2023-11-30 10:59:47.852\n</code></pre>\n<p>final:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;systemDt&quot;)\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\nprivate LocalDateTime responseDateTime;\n</code></pre>\n"}],"owner":{"account_id":1875033,"reputation":1104,"user_id":1696421,"accept_rate":53,"display_name":"fiddle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77575647,"answer_count":2,"score":0,"last_activity_date":1701314886,"creation_date":1701298971,"question_id":77574946,"body_markdown":"I am trying to deserialize json String date to Calendar and deserialization is working however it is not what i want.\r\n\r\n\r\n*Current Behaviour*\r\n\r\n    @JsonProperty(&quot;systemDt&quot;)\r\n    @JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\n    Calendar responseDateTime;\r\n\r\nDeserializes to `responseDateTime=java.util.GregorianCalendar[time=1141556400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;UTC&quot;.....`.\r\n\r\nI want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS\r\n\r\n","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<p>I am trying to deserialize json String date to Calendar and deserialization is working however it is not what i want.</p>\n<p><em>Current Behaviour</em></p>\n<pre><code>@JsonProperty(&quot;systemDt&quot;)\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\nCalendar responseDateTime;\n</code></pre>\n<p>Deserializes to <code>responseDateTime=java.util.GregorianCalendar[time=1141556400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;UTC&quot;.....</code>.</p>\n<p>I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699907487,"post_id":77476279,"comment_id":136587417,"body_markdown":"Your common module ` &lt;artifactId&gt;common&lt;/artifactId&gt;` uses the spring-boot-maven-plugin which packages as a spring boot app which means you can not consume it as a usualy dependency... In common I doubt that you create a startable jar file which will be executed... so remove the spring boot maven-plugin from that module.... also build on plain command line... via `mvn clean verify` ...","body":"Your common module ` &lt;artifactId&gt;common&lt;/artifactId&gt;` uses the spring-boot-maven-plugin which packages as a spring boot app which means you can not consume it as a usualy dependency... In common I doubt that you create a startable jar file which will be executed... so remove the spring boot maven-plugin from that module.... also build on plain command line... via <code>mvn clean verify</code> ..."},{"owner":{"account_id":17705925,"reputation":43,"user_id":12854504,"display_name":"Hadi Rifaii"},"score":0,"creation_date":1699913036,"post_id":77476279,"comment_id":136588259,"body_markdown":"Thank you for your response. I attempted the suggested solution, but unfortunately, it did not work. Is there a specific approach I should follow? Currently, I am executing &#39;mvn clean install -DskipTests&#39; or &#39;mvn clean verify&#39; in the root project. Do I need to build the submodules separately beforehand?","body":"Thank you for your response. I attempted the suggested solution, but unfortunately, it did not work. Is there a specific approach I should follow? Currently, I am executing &#39;mvn clean install -DskipTests&#39; or &#39;mvn clean verify&#39; in the root project. Do I need to build the submodules separately beforehand?"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699913159,"post_id":77476279,"comment_id":136588278,"body_markdown":"Can you put that on a github repo or alike...","body":"Can you put that on a github repo or alike..."},{"owner":{"account_id":17705925,"reputation":43,"user_id":12854504,"display_name":"Hadi Rifaii"},"score":0,"creation_date":1699970115,"post_id":77476279,"comment_id":136595263,"body_markdown":"I resolved the issue. The core of the lay in the project structure: the root project was configured as a child of org.springframework.boot, with the common module also being its subproject. This inadvertently led to the common module being treated as a Spring Boot project, which was not the intended setup since it&#39;s merely a dependency project. So, I removed the &#39;parent&#39; tag from the common module&#39;s configuration and this solved the problem","body":"I resolved the issue. The core of the lay in the project structure: the root project was configured as a child of org.springframework.boot, with the common module also being its subproject. This inadvertently led to the common module being treated as a Spring Boot project, which was not the intended setup since it&#39;s merely a dependency project. So, I removed the &#39;parent&#39; tag from the common module&#39;s configuration and this solved the problem"}],"answers":[{"tags":[],"owner":{"account_id":30027477,"reputation":1,"user_id":23011297,"display_name":"Sergio Tabares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701314884,"creation_date":1701314884,"answer_id":77575702,"question_id":77476279,"body_markdown":"I am not sure, but if you are use this modules like a library project, you have to tell the build system to not try to build an executable jar for the these project (order_service and product_service). For this you must remove the following block from these modules(pom):\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nreference: https://spring.io/guides/gs/multi-module/","title":"Common Dependency Module Causing Main Class Not Found Error in Multi-Module Maven Project&quot;","body":"<p>I am not sure, but if you are use this modules like a library project, you have to tell the build system to not try to build an executable jar for the these project (order_service and product_service). For this you must remove the following block from these modules(pom):</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>reference: <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/multi-module/</a></p>\n"}],"owner":{"account_id":17705925,"reputation":43,"user_id":12854504,"display_name":"Hadi Rifaii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701314884,"creation_date":1699902539,"question_id":77476279,"body_markdown":"I am encountering an issue with a multi-module Maven project. When I run the application within IntelliJ IDEA, everything compiles and runs smoothly. However, when I attempt to build the project using the Maven wrapper from the terminal with the command ./mvnw clean install -DskipTests, I encounter a compilation error indicating that none of the classes included in the common module can be found. Here is a portion of the error output:\r\n\r\n[![project structure][1]][1]\r\n\r\n```\r\n[INFO] Reactor Summary for event_driven_design_eshop 0.0.1-SNAPSHOT:\r\n[INFO]\r\n[INFO] event_driven_design_eshop .......................... SUCCESS [  1.136 s]\r\n[INFO] api_gateway ........................................ SUCCESS [  2.227 s]\r\n[INFO] common ............................................. SUCCESS [  1.174 s]\r\n[INFO] eshop-core ......................................... SUCCESS [  0.173 s]\r\n[INFO] order_service ...................................... FAILURE [  0.708 s]\r\n[INFO] product_service .................................... SKIPPED\r\n[INFO] user-service ....................................... SKIPPED\r\n[INFO] payment-service .................................... SKIPPED\r\n[INFO] shipping-service ................................... SKIPPED\r\n[INFO] discovery_server ................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  5.855 s\r\n[INFO] Finished at: 2023-11-13T19:32:08+01:00\r\n[INFO] ------------------------------------------------------------------------ \r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project order_service: Compilation failure: Compilation failure:\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[3,33] package com.jchaaban.common.query does not exist\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/repository/OrderEntity.java:[3,33] package com.jchaaban.common.model does not exist\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[26,36] cannot find symbol\r\n....\r\n```\r\n\r\nso all the classes in the common modules are not found.\r\n\r\nAfter this, if I try to run the application in the IDE, I get an error stating that the main class of the first module\r\nin the list of the child modules of the eshop_module cannot be found.\r\n\r\nLet us say this is the list of modules in the eshop_module/pom.xml\r\n\r\n```\r\n    &lt;modules&gt;\r\n        &lt;module&gt;order_service&lt;/module&gt;\r\n        &lt;module&gt;product_service&lt;/module&gt;\r\n        &lt;module&gt;user_service&lt;/module&gt;\r\n        &lt;module&gt;payment_service&lt;/module&gt;\r\n        &lt;module&gt;shipping_service&lt;/module&gt;\r\n    &lt;/modules&gt; \r\n```\r\n\r\nAfter running the services in IntelliJ, the main class of order_service cannot be located.\r\nIf I rearrange the module order so that product_service is listed first, the same issue occurs\r\nfor the product_service main class.\r\n\r\nAs a temporary solution, I&#39;ve found that changing the root package name (in the service where I&#39;m encountering the issue,\r\nsuch as order_service) allows me to run the project in the IDE once more.\r\nHowever, if I subsequently attempt to run it with Maven in the terminal, the error resurfaces, necessitating the\r\nrepetition of the same process to restore functionality in IntelliJ.\r\n\r\nThis issue persists for each service depending on the common module.\r\n\r\nThis is the pom file of the root project:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n    &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;event_driven_design_eshop&lt;/name&gt;\r\n    &lt;description&gt;event_driven_design_eshop&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;api_gateway&lt;/module&gt;\r\n        &lt;module&gt;eshop_core&lt;/module&gt;\r\n        &lt;module&gt;discovery_server&lt;/module&gt;\r\n        &lt;module&gt;common&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the pom.xml file of the common module, which is a dependency of the eshop_core and therefore it will be a dependency of each submodule of eshop_core:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;common&lt;/name&gt;\r\n    &lt;description&gt;common&lt;/description&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the pom file of eshop_core which is a child module of the root project and the parent of all other modules:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;order_service&lt;/module&gt;\r\n        &lt;module&gt;product_service&lt;/module&gt;\r\n        &lt;module&gt;user_service&lt;/module&gt;\r\n        &lt;module&gt;payment_service&lt;/module&gt;\r\n        &lt;module&gt;shipping_service&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;eshop-core&lt;/name&gt;\r\n    &lt;description&gt;eshop-core&lt;/description&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.1.3-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nNow the child modules of the eshop_core, order_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;order_service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;order_service&lt;/name&gt;\r\n\t&lt;description&gt;order_service&lt;/description&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hdrhistogram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HdrHistogram&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.12&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\npayment_service:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;payment_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;payment-service&lt;/name&gt;\r\n    &lt;description&gt;payment-service&lt;/description&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nproduct_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;product_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;product_service&lt;/name&gt;\r\n    &lt;description&gt;product_service&lt;/description&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nshipping_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;shipping_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;shipping-service&lt;/name&gt;\r\n    &lt;description&gt;shipping-service&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nuser_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;user_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;user-service&lt;/name&gt;\r\n    &lt;description&gt;user-service&lt;/description&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIs there any specific reason for this error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NFE9m.png","title":"Common Dependency Module Causing Main Class Not Found Error in Multi-Module Maven Project&quot;","body":"<p>I am encountering an issue with a multi-module Maven project. When I run the application within IntelliJ IDEA, everything compiles and runs smoothly. However, when I attempt to build the project using the Maven wrapper from the terminal with the command ./mvnw clean install -DskipTests, I encounter a compilation error indicating that none of the classes included in the common module can be found. Here is a portion of the error output:</p>\n<p><a href=\"https://i.stack.imgur.com/NFE9m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NFE9m.png\" alt=\"project structure\" /></a></p>\n<pre><code>[INFO] Reactor Summary for event_driven_design_eshop 0.0.1-SNAPSHOT:\n[INFO]\n[INFO] event_driven_design_eshop .......................... SUCCESS [  1.136 s]\n[INFO] api_gateway ........................................ SUCCESS [  2.227 s]\n[INFO] common ............................................. SUCCESS [  1.174 s]\n[INFO] eshop-core ......................................... SUCCESS [  0.173 s]\n[INFO] order_service ...................................... FAILURE [  0.708 s]\n[INFO] product_service .................................... SKIPPED\n[INFO] user-service ....................................... SKIPPED\n[INFO] payment-service .................................... SKIPPED\n[INFO] shipping-service ................................... SKIPPED\n[INFO] discovery_server ................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.855 s\n[INFO] Finished at: 2023-11-13T19:32:08+01:00\n[INFO] ------------------------------------------------------------------------ \n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project order_service: Compilation failure: Compilation failure:\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[3,33] package com.jchaaban.common.query does not exist\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/repository/OrderEntity.java:[3,33] package com.jchaaban.common.model does not exist\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[26,36] cannot find symbol\n....\n</code></pre>\n<p>so all the classes in the common modules are not found.</p>\n<p>After this, if I try to run the application in the IDE, I get an error stating that the main class of the first module\nin the list of the child modules of the eshop_module cannot be found.</p>\n<p>Let us say this is the list of modules in the eshop_module/pom.xml</p>\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;order_service&lt;/module&gt;\n        &lt;module&gt;product_service&lt;/module&gt;\n        &lt;module&gt;user_service&lt;/module&gt;\n        &lt;module&gt;payment_service&lt;/module&gt;\n        &lt;module&gt;shipping_service&lt;/module&gt;\n    &lt;/modules&gt; \n</code></pre>\n<p>After running the services in IntelliJ, the main class of order_service cannot be located.\nIf I rearrange the module order so that product_service is listed first, the same issue occurs\nfor the product_service main class.</p>\n<p>As a temporary solution, I've found that changing the root package name (in the service where I'm encountering the issue,\nsuch as order_service) allows me to run the project in the IDE once more.\nHowever, if I subsequently attempt to run it with Maven in the terminal, the error resurfaces, necessitating the\nrepetition of the same process to restore functionality in IntelliJ.</p>\n<p>This issue persists for each service depending on the common module.</p>\n<p>This is the pom file of the root project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n    &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;event_driven_design_eshop&lt;/name&gt;\n    &lt;description&gt;event_driven_design_eshop&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;api_gateway&lt;/module&gt;\n        &lt;module&gt;eshop_core&lt;/module&gt;\n        &lt;module&gt;discovery_server&lt;/module&gt;\n        &lt;module&gt;common&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom.xml file of the common module, which is a dependency of the eshop_core and therefore it will be a dependency of each submodule of eshop_core:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;common&lt;/name&gt;\n    &lt;description&gt;common&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom file of eshop_core which is a child module of the root project and the parent of all other modules:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;order_service&lt;/module&gt;\n        &lt;module&gt;product_service&lt;/module&gt;\n        &lt;module&gt;user_service&lt;/module&gt;\n        &lt;module&gt;payment_service&lt;/module&gt;\n        &lt;module&gt;shipping_service&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;eshop-core&lt;/name&gt;\n    &lt;description&gt;eshop-core&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;32.1.3-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Now the child modules of the eshop_core, order_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;order_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;order_service&lt;/name&gt;\n    &lt;description&gt;order_service&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hdrhistogram&lt;/groupId&gt;\n            &lt;artifactId&gt;HdrHistogram&lt;/artifactId&gt;\n            &lt;version&gt;2.1.12&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>payment_service:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;payment_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;payment-service&lt;/name&gt;\n    &lt;description&gt;payment-service&lt;/description&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>product_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;product_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;product_service&lt;/name&gt;\n    &lt;description&gt;product_service&lt;/description&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>shipping_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;shipping_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;shipping-service&lt;/name&gt;\n    &lt;description&gt;shipping-service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>user_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;user_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;user-service&lt;/name&gt;\n    &lt;description&gt;user-service&lt;/description&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Is there any specific reason for this error?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1463634990,"post_id":37314298,"comment_id":62149209,"body_markdown":"Similar discussion: https://community.oracle.com/thread/1156973?start=0&amp;tstart=0","body":"Similar discussion: <a href=\"https://community.oracle.com/thread/1156973?start=0&amp;tstart=0\" rel=\"nofollow noreferrer\">community.oracle.com/thread/1156973?start=0&amp;tstart=0</a>"},{"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"score":0,"creation_date":1463651958,"post_id":37314298,"comment_id":62159281,"body_markdown":"Yes the link does contain what i want.","body":"Yes the link does contain what i want."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1701314565,"creation_date":1463634919,"answer_id":37314396,"question_id":37314298,"body_markdown":"# Outmoded classes\r\n\r\nBoth `Stack` and `Vector` were included with the first release of Java. Java was rushed to market ahead of its time because of the Internet frenzy at that time. \r\n\r\nSome of the classes bundled with those earliest versions of Java, such as the date-time classes, were not well thought-out. They had not been subjected to peer review and public scrutiny as were later libraries such as some produced through the [*Java Community Process*][1] and through open-source projects and industry consortium projects.\r\n\r\n# Java Collections framework\r\n\r\nThe [Java Collections framework](https://en.wikipedia.org/wiki/Java_collections_framework?wprov=sfsi1) supplants both of these classes. Similarly, the [java.time][2] framework supplants the old date-time classes such as `java.util.Date`/`.Calendar`. The old classes remain in Java for backwards compatibility with existing apps but should not be used in new code.\r\n\r\nThe [`Stack`](https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html) class documentation tells you this, clearly saying you should instead be using an implementation of the [`Deque`](https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html) interface.\r\n\r\n\r\n[![diagram of classes in the Java Collections Framework][4]][4]\r\n\r\nDiagram is by Ramlmn, [published on Wikipedia][5]. Modified by me to indicate `Vector` &amp; `Stack` being obsolete.\r\n\r\n**Update:** Java 21 brought sequenced collections, adding more interfaces than seen in the chart above. See [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431). \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Java_Community_Process\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [3]: https://i.stack.imgur.com/ldfcq.png\r\n  [4]: https://i.stack.imgur.com/URYqg.png\r\n  [5]: https://commons.wikimedia.org/wiki/File:Java.util.Collection_hierarchy.svg","title":"Why Stack extends Vector in JDK?","body":"<h1>Outmoded classes</h1>\n<p>Both <code>Stack</code> and <code>Vector</code> were included with the first release of Java. Java was rushed to market ahead of its time because of the Internet frenzy at that time.</p>\n<p>Some of the classes bundled with those earliest versions of Java, such as the date-time classes, were not well thought-out. They had not been subjected to peer review and public scrutiny as were later libraries such as some produced through the <a href=\"https://en.m.wikipedia.org/wiki/Java_Community_Process\" rel=\"nofollow noreferrer\"><em>Java Community Process</em></a> and through open-source projects and industry consortium projects.</p>\n<h1>Java Collections framework</h1>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework?wprov=sfsi1\" rel=\"nofollow noreferrer\">Java Collections framework</a> supplants both of these classes. Similarly, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework supplants the old date-time classes such as <code>java.util.Date</code>/<code>.Calendar</code>. The old classes remain in Java for backwards compatibility with existing apps but should not be used in new code.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\"><code>Stack</code></a> class documentation tells you this, clearly saying you should instead be using an implementation of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html\" rel=\"nofollow noreferrer\"><code>Deque</code></a> interface.</p>\n<p><a href=\"https://i.stack.imgur.com/URYqg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/URYqg.png\" alt=\"diagram of classes in the Java Collections Framework\" /></a></p>\n<p>Diagram is by Ramlmn, <a href=\"https://commons.wikimedia.org/wiki/File:Java.util.Collection_hierarchy.svg\" rel=\"nofollow noreferrer\">published on Wikipedia</a>. Modified by me to indicate <code>Vector</code> &amp; <code>Stack</code> being obsolete.</p>\n<p><strong>Update:</strong> Java 21 brought sequenced collections, adding more interfaces than seen in the chart above. See <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>.</p>\n"}],"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3266,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":37314396,"answer_count":1,"score":7,"last_activity_date":1701314565,"creation_date":1463634358,"question_id":37314298,"body_markdown":"`Stack` is not a `Vector` then why Stack class is extending(is a relationship) Vector class in JDK, Stack suppose to work with `push()` &amp; `pop()` operations, but because it extends Vector I am able to do `add()` and `remove()` operations over a stack.\r\n\r\nI think rather extending Vector class, Stack class should use Vector class as a composition.","title":"Why Stack extends Vector in JDK?","body":"<p><code>Stack</code> is not a <code>Vector</code> then why Stack class is extending(is a relationship) Vector class in JDK, Stack suppose to work with <code>push()</code> &amp; <code>pop()</code> operations, but because it extends Vector I am able to do <code>add()</code> and <code>remove()</code> operations over a stack.</p>\n\n<p>I think rather extending Vector class, Stack class should use Vector class as a composition.</p>\n"},{"tags":["java","spring","spring-mvc","web"],"answers":[{"tags":[],"owner":{"account_id":206400,"reputation":2188,"user_id":455654,"display_name":"Aalkhodiry"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1416387324,"creation_date":1416387324,"answer_id":27012548,"question_id":22296448,"body_markdown":"First `throw new HttpUnauthorizedException();`\r\n\r\nthen you can catch it at a normal controller that have `@ControllerAdvice` annotation\r\n\r\n    @ControllerAdvice // To Handle Exceptions\r\n    public class ExceptionController {\r\n         //// ...........\r\n\r\n         @ExceptionHandler({HttpUnauthorizedException.class})\r\n         @ResponseBody\r\n         @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n         Map&lt;String, String&gt; unauthorizedAccess(Exception e) {\r\n             Map&lt;String, String&gt; exception = new HashMap&lt;String, String&gt;();\r\n\r\n             log.error(&quot;unauthorized Access to the API: &quot; + e.getMessage(), e);\r\n             exception.put(&quot;code&quot;, &quot;401&quot;);\r\n             exception.put(&quot;reason&quot;, e.getMessage());\r\n\r\n             return exception;\r\n         }\r\n    }","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<p>First <code>throw new HttpUnauthorizedException();</code></p>\n\n<p>then you can catch it at a normal controller that have <code>@ControllerAdvice</code> annotation</p>\n\n<pre><code>@ControllerAdvice // To Handle Exceptions\npublic class ExceptionController {\n     //// ...........\n\n     @ExceptionHandler({HttpUnauthorizedException.class})\n     @ResponseBody\n     @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\n     Map&lt;String, String&gt; unauthorizedAccess(Exception e) {\n         Map&lt;String, String&gt; exception = new HashMap&lt;String, String&gt;();\n\n         log.error(\"unauthorized Access to the API: \" + e.getMessage(), e);\n         exception.put(\"code\", \"401\");\n         exception.put(\"reason\", e.getMessage());\n\n         return exception;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604221536,"creation_date":1604221536,"answer_id":64630221,"question_id":22296448,"body_markdown":"I think code should be much simpler, maybe the answer was written with old Spring version.\r\n\r\nIn this example I&#39;ve implemented method to handle exception - **HttpClientErrorException.Unauthorized** to cover authentication issue (401):\r\n\r\n    @ControllerAdvice\r\n    public class MyErrorsHandler extends ResponseEntityExceptionHandler\r\n    {\r\n    \t@ExceptionHandler(HttpClientErrorException.Unauthorized.class)\r\n    \tprotected ResponseEntity&lt;Object&gt; handleAuthenticationError(RuntimeException ex, WebRequest request)\r\n    \t{\r\n    \t\treturn handleExceptionInternal(ex, \r\n    \t\t\t&quot;Cannot login, please check your inputs&quot;, \r\n    \t\t\tnew HttpHeaders(), HttpStatus.UNAUTHORIZED, request);\r\n    \t}\r\n    }\r\n\r\nFinally I get correct error to GUI\r\n\r\n[![Login failure presentation][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qa7YR.png","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<p>I think code should be much simpler, maybe the answer was written with old Spring version.</p>\n<p>In this example I've implemented method to handle exception - <strong>HttpClientErrorException.Unauthorized</strong> to cover authentication issue (401):</p>\n<pre><code>@ControllerAdvice\npublic class MyErrorsHandler extends ResponseEntityExceptionHandler\n{\n    @ExceptionHandler(HttpClientErrorException.Unauthorized.class)\n    protected ResponseEntity&lt;Object&gt; handleAuthenticationError(RuntimeException ex, WebRequest request)\n    {\n        return handleExceptionInternal(ex, \n            &quot;Cannot login, please check your inputs&quot;, \n            new HttpHeaders(), HttpStatus.UNAUTHORIZED, request);\n    }\n}\n</code></pre>\n<p>Finally I get correct error to GUI</p>\n<p><a href=\"https://i.stack.imgur.com/Qa7YR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qa7YR.png\" alt=\"Login failure presentation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25112082,"reputation":121,"user_id":18961587,"display_name":"Danson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701314482,"creation_date":1701314482,"answer_id":77575686,"question_id":22296448,"body_markdown":"    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n    public class UnauthorizedException extends RuntimeException{\r\n      \r\n    }\r\n\r\nController: \r\n\r\n    import ....authentication.exception.UnauthorizedException;\r\n\r\n    @SecurityRequirement(name = &quot;JWTBearerAuth&quot;)\r\n    @GetMapping(value = &quot;/name/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public Users getUserByName(@RequestHeader HttpHeaders headers, @PathVariable(&quot;name&quot;) String name) throws Exception {\r\n    \r\n        if (condition) {\r\n          final Users users = usersService.getUserByName(name);\r\n          return users;\r\n        } else {\r\n          throw new UnauthorizedException();\r\n        } \r\n      }\r\n\r\nThis works for me.","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(value = HttpStatus.UNAUTHORIZED)\npublic class UnauthorizedException extends RuntimeException{\n  \n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>import ....authentication.exception.UnauthorizedException;\n\n@SecurityRequirement(name = &quot;JWTBearerAuth&quot;)\n@GetMapping(value = &quot;/name/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  public Users getUserByName(@RequestHeader HttpHeaders headers, @PathVariable(&quot;name&quot;) String name) throws Exception {\n\n    if (condition) {\n      final Users users = usersService.getUserByName(name);\n      return users;\n    } else {\n      throw new UnauthorizedException();\n    } \n  }\n</code></pre>\n<p>This works for me.</p>\n"}],"owner":{"account_id":3394977,"reputation":678,"user_id":2848844,"accept_rate":76,"display_name":"Shotgun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16965,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27012548,"answer_count":3,"score":4,"last_activity_date":1701314482,"creation_date":1394443997,"question_id":22296448,"body_markdown":"Here&#39;s the scenario :\r\nI created the following custom response exception, to fire the 401 Http Status :\r\n\r\n    @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n    public class HttpUnauthorizedException extends RuntimeException {\r\n    \r\n    }\r\n\r\nThe controller that uses the exception :\r\n\r\n    @Controller\r\n    public UserController {\r\n        @RequestMapping(value = &quot;api/user&quot;)\r\n        @ResponseBody\r\n\r\n        public String doLogin(\r\n                     @RequestParam(value = &quot;username&quot;, required = false) String username, @RequestParam(value = &quot;password&quot;, required = false) String password) {\r\n            if(userLoggedIn(String username, String password)) {\r\n                 return &quot;OK&quot;;\r\n            }\r\n            else {\r\n                 throw new HttpUnauthorizedException();\r\n            }\r\n        }\r\n       ...\r\n    }\r\n\r\nNow when I try to access the controller to see the 401 exception, the server fires the Http error code 500 instead. But interestingly enough, when I try with the `HttpStatus.NOT_FOUND` it actually works, the server fires 404. Is there something I&#39;m missing on here?\r\n\r\nThanks in advance :-)","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<p>Here's the scenario :\nI created the following custom response exception, to fire the 401 Http Status :</p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.UNAUTHORIZED)\npublic class HttpUnauthorizedException extends RuntimeException {\n\n}\n</code></pre>\n\n<p>The controller that uses the exception :</p>\n\n<pre><code>@Controller\npublic UserController {\n    @RequestMapping(value = \"api/user\")\n    @ResponseBody\n\n    public String doLogin(\n                 @RequestParam(value = \"username\", required = false) String username, @RequestParam(value = \"password\", required = false) String password) {\n        if(userLoggedIn(String username, String password)) {\n             return \"OK\";\n        }\n        else {\n             throw new HttpUnauthorizedException();\n        }\n    }\n   ...\n}\n</code></pre>\n\n<p>Now when I try to access the controller to see the 401 exception, the server fires the Http error code 500 instead. But interestingly enough, when I try with the <code>HttpStatus.NOT_FOUND</code> it actually works, the server fires 404. Is there something I'm missing on here?</p>\n\n<p>Thanks in advance :-)</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701313870,"post_id":77575597,"comment_id":136761381,"body_markdown":"`just do run it with the java application` If this is what your teacher said, you should probably do exactly that.  Spring Boot is for experts only and not for beginners.  Try it with just Java.  If you get stuck, then ask here.","body":"<code>just do run it with the java application</code> If this is what your teacher said, you should probably do exactly that.  Spring Boot is for experts only and not for beginners.  Try it with just Java.  If you get stuck, then ask here."},{"owner":{"account_id":30027403,"reputation":1,"user_id":23011244,"display_name":"Destiny Egan"},"score":0,"creation_date":1701316480,"post_id":77575597,"comment_id":136761559,"body_markdown":"I am unable to run it, as there is no option to. As when I click run as instead of java application it says (none applicable)","body":"I am unable to run it, as there is no option to. As when I click run as instead of java application it says (none applicable)"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701349995,"post_id":77575597,"comment_id":136766319,"body_markdown":"That&#39;s two separate source files for the ServerApplication and ServerController sources, right, not both in one file? How are you importing this zip file you keep mentioning? What is it?","body":"That&#39;s two separate source files for the ServerApplication and ServerController sources, right, not both in one file? How are you importing this zip file you keep mentioning? What is it?"}],"answers":[{"tags":[],"owner":{"account_id":27294741,"reputation":71,"user_id":20812561,"display_name":"Moeen Ahmmed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701314349,"creation_date":1701314349,"answer_id":77575682,"question_id":77575597,"body_markdown":" 1. **Package Name :** Make sure your package name are same in both main class() and test class().\r\n    ```\r\n    //main class package name\r\n    package com.snhu.sslserver;\r\n    \r\n    //Test class package name\r\n    package com.snhu.server;\r\n    \r\n    \r\n    ```\r\n    \r\n2. **pom.xml modification** : As you using spring boot, you do not need to use explicitly `junit-vintage-engine`. Spring boot manage configurations and version of testing dependencies. \r\n    ```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    ```\r\n    \r\n3. Update Sprig boot version and make use your test classes under main.","title":"java - Unable to run","body":"<ol>\n<li><p><strong>Package Name :</strong> Make sure your package name are same in both main class() and test class().</p>\n<pre><code>//main class package name\npackage com.snhu.sslserver;\n\n//Test class package name\npackage com.snhu.server;\n\n\n</code></pre>\n</li>\n<li><p><strong>pom.xml modification</strong> : As you using spring boot, you do not need to use explicitly <code>junit-vintage-engine</code>. Spring boot manage configurations and version of testing dependencies.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n</li>\n<li><p>Update Sprig boot version and make use your test classes under main.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":30027403,"reputation":1,"user_id":23011244,"display_name":"Destiny Egan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701314349,"creation_date":1701312781,"question_id":77575597,"body_markdown":"I am trying to run this program for my class. However, this error keeps popping up. I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code.\r\n\r\nHere is the code for the main:\r\n\r\n```\r\npackage com.snhu.sslserver;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.math.BigInteger; \r\nimport java.nio.charset.StandardCharsets;\r\n\r\n@SpringBootApplication\r\npublic class ServerApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n@RestController\r\nclass ServerController{\r\n\tpublic static String calculateHash(String name) throws NoSuchAlgorithmException {  \r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);  \r\n        byte[] hash =  md.digest(name.getBytes(StandardCharsets.UTF_8));\r\n        BigInteger number = new BigInteger(1, hash);  \r\n        StringBuilder hexString = new StringBuilder(number.toString(16));  \r\n        while (hexString.length() &lt; 32){  \r\n            hexString.insert(0, &#39;0&#39;);  \r\n        }  \r\n        return hexString.toString();  \r\n     \r\n    } \r\n\t@RequestMapping(&quot;/hash&quot;)\r\n\tpublic String myHash() throws NoSuchAlgorithmException{\r\n\r\n\tString data = &quot;Hello Destiny Egan!&quot;;\r\n\tString hash = calculateHash(data);\r\n\r\n\treturn &quot;&lt;p&gt;data:&quot;+data+&quot; : SHA-256 &quot;+&quot; : &quot;+hash;\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nHere is for the tester (which I didn&#39;t change anything on):\r\n\r\n```\r\npackage com.snhu.server;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass ServerApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nHere is the pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ssl-server&lt;/name&gt;\r\n\t&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n              &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n              &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n              &lt;version&gt;9.0.1&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;check&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nI was receiving errors however, I can do the run as. As before I was trying to install. I do not have the option to run as -&gt; Java application.\r\n\r\nHere is the error:\r\n\r\n```\r\n[INFO] Results:\r\n\r\n[INFO]\r\n\r\n[ERROR] [1;31mErrors: [m\r\n\r\n[ERROR] [1;31m  ServerApplicationTests &#187; IllegalState Unable to find a @SpringBootConfiguratio...[m\r\n\r\n[INFO]\r\n\r\n[ERROR] [1;31mTests run: 1, Failures: 0, Errors: 1, Skipped: 0[m\r\n\r\n[INFO]\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[INFO] [1;31mBUILD FAILURE[m\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[INFO] Total time:  5.852 s\r\n\r\n[INFO] Finished at: 2023-11-26T18:24:43-08:00\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[ERROR] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.2:test[m [1m(default-test)[m on project [36mssl-server[m: [1;31mThere are test failures.[m\r\n\r\n[ERROR] [1;31m[m\r\n\r\n[ERROR] [1;31mPlease refer to C:\\Users\\dessi\\eclipse-workspace\\CS 305 Module Five Coding Assignment Checksum Verification Code Base (1).zip_expanded\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\target\\surefire-reports for the individual test results.[m\r\n\r\n[ERROR] [1;31mPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.[m\r\n\r\n[ERROR] -&gt; [1m[Help 1][m\r\n\r\n[ERROR]\r\n\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n\r\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n\r\n[ERROR]\r\n\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\r\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n\r\n\r\n\r\nI have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code. I also reached out to my teacher which he had said to just do run it with the java application but that isn&#39;t popping up.","title":"java - Unable to run","body":"<p>I am trying to run this program for my class. However, this error keeps popping up. I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code.</p>\n<p>Here is the code for the main:</p>\n<pre><code>package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.math.BigInteger; \nimport java.nio.charset.StandardCharsets;\n\n@SpringBootApplication\npublic class ServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n}\n\n@RestController\nclass ServerController{\n    public static String calculateHash(String name) throws NoSuchAlgorithmException {  \n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);  \n        byte[] hash =  md.digest(name.getBytes(StandardCharsets.UTF_8));\n        BigInteger number = new BigInteger(1, hash);  \n        StringBuilder hexString = new StringBuilder(number.toString(16));  \n        while (hexString.length() &lt; 32){  \n            hexString.insert(0, '0');  \n        }  \n        return hexString.toString();  \n     \n    } \n    @RequestMapping(&quot;/hash&quot;)\n    public String myHash() throws NoSuchAlgorithmException{\n\n    String data = &quot;Hello Destiny Egan!&quot;;\n    String hash = calculateHash(data);\n\n    return &quot;&lt;p&gt;data:&quot;+data+&quot; : SHA-256 &quot;+&quot; : &quot;+hash;\n\n    }\n\n}\n</code></pre>\n<p>Here is for the tester (which I didn't change anything on):</p>\n<pre><code>package com.snhu.server;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass ServerApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>Here is the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.snhu&lt;/groupId&gt;\n    &lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ssl-server&lt;/name&gt;\n    &lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n              &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n              &lt;version&gt;9.0.1&lt;/version&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;check&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I was receiving errors however, I can do the run as. As before I was trying to install. I do not have the option to run as -&gt; Java application.</p>\n<p>Here is the error:</p>\n<pre><code>[INFO] Results:\n\n[INFO]\n\n[ERROR] [1;31mErrors: [m\n\n[ERROR] [1;31m  ServerApplicationTests » IllegalState Unable to find a @SpringBootConfiguratio...[m\n\n[INFO]\n\n[ERROR] [1;31mTests run: 1, Failures: 0, Errors: 1, Skipped: 0[m\n\n[INFO]\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[INFO] [1;31mBUILD FAILURE[m\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[INFO] Total time:  5.852 s\n\n[INFO] Finished at: 2023-11-26T18:24:43-08:00\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[ERROR] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.2:test[m [1m(default-test)[m on project [36mssl-server[m: [1;31mThere are test failures.[m\n\n[ERROR] [1;31m[m\n\n[ERROR] [1;31mPlease refer to C:\\Users\\dessi\\eclipse-workspace\\CS 305 Module Five Coding Assignment Checksum Verification Code Base (1).zip_expanded\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\target\\surefire-reports for the individual test results.[m\n\n[ERROR] [1;31mPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.[m\n\n[ERROR] -&gt; [1m[Help 1][m\n\n[ERROR]\n\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n\n[ERROR]\n\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n<p>I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code. I also reached out to my teacher which he had said to just do run it with the java application but that isn't popping up.</p>\n"},{"tags":["java","jpa","concurrency","weblogic"],"answers":[{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701313234,"creation_date":1701313234,"answer_id":77575629,"question_id":77569595,"body_markdown":"It is clear a JDBC pool connection starvation; if you are going to run parallel threads, then you need to handle the pool connections, which are enough for your requirement.","title":"weblogic resource allocation limit","body":"<p>It is clear a JDBC pool connection starvation; if you are going to run parallel threads, then you need to handle the pool connections, which are enough for your requirement.</p>\n"}],"owner":{"account_id":9427277,"reputation":113,"user_id":7011841,"display_name":"Reza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701313234,"creation_date":1701246835,"question_id":77569595,"body_markdown":"i have a list of 1000 records fetched from oracle db. i want to process this list concurrently. therefore i have used java parallel streams. the problem is it threw error `weblogic.common.resourcepool.ResourceLimitException: No resources currently available in pool ERDS to allocate to applications, please increase the size of the pool and retry` in some iterations. also seems to be interrupted and not complete the loop. i think if i use stream instead of parallel stream there will be no problem. but i need to do the operation by multiple threads to increase performance and reduce process time (in case i need to process a 10 thousand record list for example ). here is the code:\r\n\r\n    \r\n    @Singleton\r\n    @Startup\r\n    public class TPTimer {\r\n\r\n    @Inject\r\n    private Service service;\r\n\r\n    @Inject\r\n    Logger logger;\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n\r\n    @Schedule(hour = &quot;11&quot;, persistent = false)\r\n    public void doTask() {\r\n        try {\r\n          \r\n             \r\n                sendSMS();\r\n               \r\n            \r\n        } catch (Exception e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private void sendSMS() {\r\n        try {\r\n            String txt = &quot;.....&quot;;\r\n            List&lt;Object[]&gt; list = em.createNativeQuery(&quot;some query&quot;)\r\n                    .setMaxResults(1000)\r\n                    .getResultList();\r\n\r\n            list.parallelStream().forEach(t -&gt; service.joinWithdebit(txt, t));\r\n        } catch (Exception e) {\r\n            logger.error(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nand\r\n\r\n        @Stateless\r\n        public class Service {\r\n    \r\n    \r\n    public void joinWithdebit(String txt, Object[] arr) {\r\n            try {\r\n                em.joinTransaction();\r\n                List list = em.createNativeQuery(&quot;query&quot;)\r\n                        .setParameter(1, String.valueOf(arr[2]))\r\n                        .getResultList();\r\n                if (list.size() &gt; 0) {\r\n                    List res = em.createNativeQuery(&quot;q&quot;)\r\n                            .setParameter(1, String.valueOf(arr[1]))\r\n                            .setParameter(2, String.valueOf(arr[0]))\r\n                            .getResultList();\r\n                    if (res.size() &gt; 0)\r\n                        sendSms(txt, arr);\r\n              \r\n                }\r\n            } catch (Exception e) {\r\n                Logger.getLogger(e);\r\n            }\r\n        }\r\n\r\n         @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\r\n        public void sendSms(String txt, Object[] arr) {\r\n            try {\r\n                em.joinTransaction();\r\n                User user = userManager.getUserByName(String.valueOf(arr[0]));\r\n                boolean bool = smsService.isSmsSent(user, txt);\r\n                if (bool) {\r\n                    String now = DateUtils.format(new Date(), &quot;yyyyMMdd&quot;);\r\n                    em.createNativeQuery(&quot;insert into sms_table(...) values (?,?,?,?,?,?,?,?,SYSDATE)&quot;)\r\n                            .setParameter(1, new BigDecimal(arr[0] + &quot;5&quot; + &quot;01&quot;))\r\n                            .setParameter(2, String.valueOf(arr[2]))\r\n                            .setParameter(3, &quot;01&quot;)\r\n                            .setParameter(4, String.valueOf(arr[0]))\r\n                            .setParameter(5, now)\r\n                            .setParameter(6, now)\r\n                            .setParameter(7, user != null ? user.getMobile() : &quot;-&quot;)\r\n                            .setParameter(8, &quot;5&quot;)\r\n                            .executeUpdate();\r\n                }\r\n            } catch (Exception e) {\r\n                Logger.getLogger(this.getClass().getName()).info(&quot;320220:error while sending sms&quot;);\r\n            }\r\n        }\r\n\r\n}\r\n\r\n \r\nis it ok to fetch some records(for ex 20 thousands) and then process them concurrently? i don&#39;t want to do the business in a pl/sql function for some reasons. i want to manage the whole business in java. what can be done to optimize this code?","title":"weblogic resource allocation limit","body":"<p>i have a list of 1000 records fetched from oracle db. i want to process this list concurrently. therefore i have used java parallel streams. the problem is it threw error <code>weblogic.common.resourcepool.ResourceLimitException: No resources currently available in pool ERDS to allocate to applications, please increase the size of the pool and retry</code> in some iterations. also seems to be interrupted and not complete the loop. i think if i use stream instead of parallel stream there will be no problem. but i need to do the operation by multiple threads to increase performance and reduce process time (in case i need to process a 10 thousand record list for example ). here is the code:</p>\n<pre><code>@Singleton\n@Startup\npublic class TPTimer {\n\n@Inject\nprivate Service service;\n\n@Inject\nLogger logger;\n\n@Inject\nEntityManager em;\n\n\n@Schedule(hour = &quot;11&quot;, persistent = false)\npublic void doTask() {\n    try {\n      \n         \n            sendSMS();\n           \n        \n    } catch (Exception e) {\n        logger.error(e.getMessage());\n    }\n}\n\n\nprivate void sendSMS() {\n    try {\n        String txt = &quot;.....&quot;;\n        List&lt;Object[]&gt; list = em.createNativeQuery(&quot;some query&quot;)\n                .setMaxResults(1000)\n                .getResultList();\n\n        list.parallelStream().forEach(t -&gt; service.joinWithdebit(txt, t));\n    } catch (Exception e) {\n        logger.error(e);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>and</p>\n<pre><code>    @Stateless\n    public class Service {\n\n\npublic void joinWithdebit(String txt, Object[] arr) {\n        try {\n            em.joinTransaction();\n            List list = em.createNativeQuery(&quot;query&quot;)\n                    .setParameter(1, String.valueOf(arr[2]))\n                    .getResultList();\n            if (list.size() &gt; 0) {\n                List res = em.createNativeQuery(&quot;q&quot;)\n                        .setParameter(1, String.valueOf(arr[1]))\n                        .setParameter(2, String.valueOf(arr[0]))\n                        .getResultList();\n                if (res.size() &gt; 0)\n                    sendSms(txt, arr);\n          \n            }\n        } catch (Exception e) {\n            Logger.getLogger(e);\n        }\n    }\n\n     @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\n    public void sendSms(String txt, Object[] arr) {\n        try {\n            em.joinTransaction();\n            User user = userManager.getUserByName(String.valueOf(arr[0]));\n            boolean bool = smsService.isSmsSent(user, txt);\n            if (bool) {\n                String now = DateUtils.format(new Date(), &quot;yyyyMMdd&quot;);\n                em.createNativeQuery(&quot;insert into sms_table(...) values (?,?,?,?,?,?,?,?,SYSDATE)&quot;)\n                        .setParameter(1, new BigDecimal(arr[0] + &quot;5&quot; + &quot;01&quot;))\n                        .setParameter(2, String.valueOf(arr[2]))\n                        .setParameter(3, &quot;01&quot;)\n                        .setParameter(4, String.valueOf(arr[0]))\n                        .setParameter(5, now)\n                        .setParameter(6, now)\n                        .setParameter(7, user != null ? user.getMobile() : &quot;-&quot;)\n                        .setParameter(8, &quot;5&quot;)\n                        .executeUpdate();\n            }\n        } catch (Exception e) {\n            Logger.getLogger(this.getClass().getName()).info(&quot;320220:error while sending sms&quot;);\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>is it ok to fetch some records(for ex 20 thousands) and then process them concurrently? i don't want to do the business in a pl/sql function for some reasons. i want to manage the whole business in java. what can be done to optimize this code?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-el"],"answers":[{"tags":[],"owner":{"account_id":15223721,"reputation":26,"user_id":10984930,"display_name":"bz5314520"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701312998,"creation_date":1701312823,"answer_id":77575602,"question_id":77574339,"body_markdown":"First, an enum class cannot be instantiated externally, so do not attempt to register an enum as a Spring bean. Moreover, Spring is unable to assist you in finding a constructor parameter of type String. Second, there is an error in your EL expression. Therefore, the final solution is to remove `@Component` and change the EL expression to `@PreAuthorize(&quot;hasPermission(#authentication, T(yourEnumPackageName.ScopeEnum).UPDATE.name)&quot;)`.","title":"Using SpEL to pass parameters in Spring/Spring security method","body":"<p>First, an enum class cannot be instantiated externally, so do not attempt to register an enum as a Spring bean. Moreover, Spring is unable to assist you in finding a constructor parameter of type String. Second, there is an error in your EL expression. Therefore, the final solution is to remove <code>@Component</code> and change the EL expression to <code>@PreAuthorize(&quot;hasPermission(#authentication, T(yourEnumPackageName.ScopeEnum).UPDATE.name)&quot;)</code>.</p>\n"}],"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77575602,"answer_count":1,"score":0,"last_activity_date":1701312998,"creation_date":1701289920,"question_id":77574339,"body_markdown":"Dear Spring/Spring Security developers: \r\n\r\nFor this controller method in Spring Boot, I use PreAuthorize annotation in combination with hasPermission Method. My problem is how to pass the Enum value currectly to the hasPermission method using SpEL. \r\n\r\nI get the this error: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;java.lang.String&#39; available\r\n\r\n\r\n\r\n    @Component(&quot;Scope&quot;)\r\n    public enum ScopeEnum{\r\n    \r\n        UPDATE(&quot;update&quot;), DELETE(&quot;delete&quot;);\r\n    \r\n        public final String name;\r\n    \r\n        ResourceScope(String name) {\r\n            this.name= name;\r\n        }\r\n    }\r\n    \r\n    @PreAuthorize(&quot;hasPermission(#authentication, @Scope.UPDATE&quot;)\r\n    public ResponseEntity doUpdateOrDelete(Authorization authorization, ...) {\r\n      // Code....\r\n    \r\n    }\r\n\r\n","title":"Using SpEL to pass parameters in Spring/Spring security method","body":"<p>Dear Spring/Spring Security developers:</p>\n<p>For this controller method in Spring Boot, I use PreAuthorize annotation in combination with hasPermission Method. My problem is how to pass the Enum value currectly to the hasPermission method using SpEL.</p>\n<p>I get the this error: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'java.lang.String' available</p>\n<pre><code>@Component(&quot;Scope&quot;)\npublic enum ScopeEnum{\n\n    UPDATE(&quot;update&quot;), DELETE(&quot;delete&quot;);\n\n    public final String name;\n\n    ResourceScope(String name) {\n        this.name= name;\n    }\n}\n\n@PreAuthorize(&quot;hasPermission(#authentication, @Scope.UPDATE&quot;)\npublic ResponseEntity doUpdateOrDelete(Authorization authorization, ...) {\n  // Code....\n\n}\n</code></pre>\n"},{"tags":["java","compare","apache-commons-io"],"owner":{"account_id":3152087,"reputation":40,"user_id":2665311,"display_name":"dino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701310641,"creation_date":1701310641,"question_id":77575495,"body_markdown":"I was using commons-io version 2.12.0 and my code worked fine regardless of file size. But when I upgraded to 2.15.0, my code only works with small files. When the file size is 8347 bytes, the comparison works. But, when the file size is bigger than 8348 bytes, the comparison always returns true.\r\n\r\nIs this a bug from commons-io library?\r\n\r\nI am using Amazon Corretto 11.0.21.9.1 on Windows 10 box.\r\n\r\nHere is my sample code.\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic class Test15 {\r\n\r\n  public static void main(String[] args) {\r\n    File tmpFile1 = new File(&quot;file1.xml&quot;);\r\n    File tmpFile2 = new File(&quot;file2.xml&quot;);\r\n    try {\r\n      boolean filesEqual = FileUtils.contentEquals(tmpFile1, tmpFile2);\r\n      System.out.println(filesEqual);\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\nHere is a sample file to compare. They have exact same file size.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PpppppppppppData&gt;\r\n    &lt;LooooData&gt;\r\n        &lt;Ssssss&gt;\r\n            &lt;ProfName&gt;ProfName2&lt;/ProfName&gt;\r\n            &lt;Version&gt;2&lt;/Version&gt;\r\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\r\n            &lt;CcccccDddd&gt;\r\n                &lt;GggIiAaaaa&gt;\r\n                    &lt;Version&gt;33333&lt;/Version&gt;\r\n                    &lt;Site&gt;\r\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                    &lt;/Site&gt;\r\n                &lt;/GggIiAaaaa&gt;\r\n            &lt;/CcccccDddd&gt;\r\n        &lt;/Ssssss&gt;\r\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\r\n        &lt;PPPPPPP&gt;\r\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\r\n        &lt;/PPPPPPP&gt;\r\n    &lt;/LooooData&gt;\r\n&lt;/PpppppppppppData&gt;\r\n```\r\nAnother one... notice that only ProfName and Version is different.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PpppppppppppData&gt;\r\n    &lt;LooooData&gt;\r\n        &lt;Ssssss&gt;\r\n            &lt;ProfName&gt;ProfName1&lt;/ProfName&gt;\r\n            &lt;Version&gt;1&lt;/Version&gt;\r\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\r\n            &lt;CcccccDddd&gt;\r\n                &lt;GggIiAaaaa&gt;\r\n                    &lt;Version&gt;33333&lt;/Version&gt;\r\n                    &lt;Site&gt;\r\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                    &lt;/Site&gt;\r\n                &lt;/GggIiAaaaa&gt;\r\n            &lt;/CcccccDddd&gt;\r\n        &lt;/Ssssss&gt;\r\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\r\n        &lt;PPPPPPP&gt;\r\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\r\n        &lt;/PPPPPPP&gt;\r\n    &lt;/LooooData&gt;\r\n&lt;/PpppppppppppData&gt;\r\n```\r\nhttps://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)\r\n\r\nI searched commons-io issue tracking page. I did not find any bug related to this.\r\nI have not tried with 2.13.0 or 2.14.0 versions of commons-io","title":"FileUtils contentEquals does not work with big files","body":"<p>I was using commons-io version 2.12.0 and my code worked fine regardless of file size. But when I upgraded to 2.15.0, my code only works with small files. When the file size is 8347 bytes, the comparison works. But, when the file size is bigger than 8348 bytes, the comparison always returns true.</p>\n<p>Is this a bug from commons-io library?</p>\n<p>I am using Amazon Corretto 11.0.21.9.1 on Windows 10 box.</p>\n<p>Here is my sample code.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class Test15 {\n\n  public static void main(String[] args) {\n    File tmpFile1 = new File(&quot;file1.xml&quot;);\n    File tmpFile2 = new File(&quot;file2.xml&quot;);\n    try {\n      boolean filesEqual = FileUtils.contentEquals(tmpFile1, tmpFile2);\n      System.out.println(filesEqual);\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Here is a sample file to compare. They have exact same file size.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PpppppppppppData&gt;\n    &lt;LooooData&gt;\n        &lt;Ssssss&gt;\n            &lt;ProfName&gt;ProfName2&lt;/ProfName&gt;\n            &lt;Version&gt;2&lt;/Version&gt;\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\n            &lt;CcccccDddd&gt;\n                &lt;GggIiAaaaa&gt;\n                    &lt;Version&gt;33333&lt;/Version&gt;\n                    &lt;Site&gt;\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                    &lt;/Site&gt;\n                &lt;/GggIiAaaaa&gt;\n            &lt;/CcccccDddd&gt;\n        &lt;/Ssssss&gt;\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\n        &lt;PPPPPPP&gt;\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\n        &lt;/PPPPPPP&gt;\n    &lt;/LooooData&gt;\n&lt;/PpppppppppppData&gt;\n</code></pre>\n<p>Another one... notice that only ProfName and Version is different.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PpppppppppppData&gt;\n    &lt;LooooData&gt;\n        &lt;Ssssss&gt;\n            &lt;ProfName&gt;ProfName1&lt;/ProfName&gt;\n            &lt;Version&gt;1&lt;/Version&gt;\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\n            &lt;CcccccDddd&gt;\n                &lt;GggIiAaaaa&gt;\n                    &lt;Version&gt;33333&lt;/Version&gt;\n                    &lt;Site&gt;\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                    &lt;/Site&gt;\n                &lt;/GggIiAaaaa&gt;\n            &lt;/CcccccDddd&gt;\n        &lt;/Ssssss&gt;\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\n        &lt;PPPPPPP&gt;\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\n        &lt;/PPPPPPP&gt;\n    &lt;/LooooData&gt;\n&lt;/PpppppppppppData&gt;\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)</a></p>\n<p>I searched commons-io issue tracking page. I did not find any bug related to this.\nI have not tried with 2.13.0 or 2.14.0 versions of commons-io</p>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1701310383,"post_id":77575430,"comment_id":136761085,"body_markdown":"Why did you tag this as `dsa`?  The `dsa` tag is for `Digital Signature Algorithm`.  You should have tagged `java`.","body":"Why did you tag this as <code>dsa</code>?  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>.  You should have tagged <code>java</code>."}],"owner":{"account_id":25813484,"reputation":1,"user_id":19553805,"display_name":"Vishant Sandilya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701310413,"creation_date":1701309125,"question_id":77575430,"body_markdown":"Problem link :https://www.spoj.com/problems/NUMTSN/\r\n\r\n&gt;! My Solution :  `https://ideone.com/qhPjvD`\r\n\r\nI am trying to run this solution but couldn&#39;t find a way to surpass TLE\r\n\r\nEveryone is not considering the tight*lower and tight*\\_upper as the dp state \r\n\r\nSo is there any way to reducinf the dp size\r\n\r\nmy code :\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    static int mod = (int)1e9+7;\r\n    static int[][][][][][]dp= new int[2][2][18][18][18][50];\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader buf = new BufferedReader(new InputStreamReader(System.in));\r\n        int t = Integer.parseInt(buf.readLine());\r\n        while (t-- &gt; 0) {\r\n            for(int [][][][][]a:dp)\r\n                for(int [][][][]b:a)\r\n                    for(int [][][]c:b)\r\n                        for(int [][]d:c)\r\n                            for(int []e:d)Arrays.fill(e,-1);\r\n            StringTokenizer st = new StringTokenizer(buf.readLine());\r\n            StringBuilder a = new StringBuilder(st.nextToken());\r\n            a.reverse();\r\n            String b = st.nextToken();\r\n            while (a.length() &lt; b.length()) a.append(&#39;0&#39;);\r\n            a.reverse();\r\n            String l = a.toString();\r\n            System.out.println(function(l, b, 0, 1, 1, 0,0,0));\r\n        }\r\n    }\r\n    static int function(String ls, String us, int pos, int tl, int tr, int d1, int d2, int d3) {\r\n        if (d1 &gt;= 17 || d2 &gt;= 17 || d3 &gt;= 17) return 0;\r\n        if (pos == us.length()) {\r\n            return d1 == d2 &amp;&amp; d2 == d3 &amp;&amp; d1 &gt;= 1 ? 1 : 0;\r\n        }\r\n        if(dp[tl][tr][d1][d2][d3][pos]!=-1)return dp[tl][tr][d1][d2][d3][pos];\r\n        int lb = tl == 1 ? ls.charAt(pos)-&#39;0&#39; : 0;\r\n        int ub = tr == 1 ? us.charAt(pos) - &#39;0&#39; : 9;\r\n        int ret = 0;\r\n        for (int i = lb; i &lt;= ub; i++) {\r\n            int a = 0, b = 0, c = 0;\r\n            if (i == 3) a= a+1;\r\n            else if (i == 6) b=b+1;\r\n            else if (i == 9) c=c+1;\r\n            ret = (ret + function(ls, us, pos + 1, tl == 1 &amp;&amp; i == lb ? 1 : 0, tr == 1 &amp;&amp; i == ub ? 1 : 0,d1+a, d2+b, d3+c ))%mod;\r\n        }\r\n        return dp[tl][tr][d1][d2][d3][pos]=ret;\r\n    }\r\n}\r\n```","title":"Optimization for 369 Numbers Problem on Spoj , https://www.spoj.com/problems/NUMTSN/","body":"<p>Problem link :<a href=\"https://www.spoj.com/problems/NUMTSN/\" rel=\"nofollow noreferrer\">https://www.spoj.com/problems/NUMTSN/</a></p>\n<blockquote class=\"spoiler\">\n<p> My Solution :  <code>https://ideone.com/qhPjvD</code></p>\n</blockquote>\n<p>I am trying to run this solution but couldn't find a way to surpass TLE</p>\n<p>Everyone is not considering the tight<em>lower and tight</em>_upper as the dp state</p>\n<p>So is there any way to reducinf the dp size</p>\n<p>my code :</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Main {\n    static int mod = (int)1e9+7;\n    static int[][][][][][]dp= new int[2][2][18][18][18][50];\n    public static void main(String[] args) throws IOException {\n        BufferedReader buf = new BufferedReader(new InputStreamReader(System.in));\n        int t = Integer.parseInt(buf.readLine());\n        while (t-- &gt; 0) {\n            for(int [][][][][]a:dp)\n                for(int [][][][]b:a)\n                    for(int [][][]c:b)\n                        for(int [][]d:c)\n                            for(int []e:d)Arrays.fill(e,-1);\n            StringTokenizer st = new StringTokenizer(buf.readLine());\n            StringBuilder a = new StringBuilder(st.nextToken());\n            a.reverse();\n            String b = st.nextToken();\n            while (a.length() &lt; b.length()) a.append('0');\n            a.reverse();\n            String l = a.toString();\n            System.out.println(function(l, b, 0, 1, 1, 0,0,0));\n        }\n    }\n    static int function(String ls, String us, int pos, int tl, int tr, int d1, int d2, int d3) {\n        if (d1 &gt;= 17 || d2 &gt;= 17 || d3 &gt;= 17) return 0;\n        if (pos == us.length()) {\n            return d1 == d2 &amp;&amp; d2 == d3 &amp;&amp; d1 &gt;= 1 ? 1 : 0;\n        }\n        if(dp[tl][tr][d1][d2][d3][pos]!=-1)return dp[tl][tr][d1][d2][d3][pos];\n        int lb = tl == 1 ? ls.charAt(pos)-'0' : 0;\n        int ub = tr == 1 ? us.charAt(pos) - '0' : 9;\n        int ret = 0;\n        for (int i = lb; i &lt;= ub; i++) {\n            int a = 0, b = 0, c = 0;\n            if (i == 3) a= a+1;\n            else if (i == 6) b=b+1;\n            else if (i == 9) c=c+1;\n            ret = (ret + function(ls, us, pos + 1, tl == 1 &amp;&amp; i == lb ? 1 : 0, tr == 1 &amp;&amp; i == ub ? 1 : 0,d1+a, d2+b, d3+c ))%mod;\n        }\n        return dp[tl][tr][d1][d2][d3][pos]=ret;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701164417,"post_id":77562499,"comment_id":136738464,"body_markdown":"Do you really need the `logback-spring.xml` at all? `scanPeriod` doesn&#39;t really make sense for an xml that is being shipped as part of the application (as you cannot open the jar edit the file, close it so that it will be re-read). The `LOG_PATTERN` can be set through `application.properties`.","body":"Do you really need the <code>logback-spring.xml</code> at all? <code>scanPeriod</code> doesn&#39;t really make sense for an xml that is being shipped as part of the application (as you cannot open the jar edit the file, close it so that it will be re-read). The <code>LOG_PATTERN</code> can be set through <code>application.properties</code>."},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1701180517,"post_id":77562499,"comment_id":136741350,"body_markdown":"@M. Deinum they have more different part than I mention, I just name a few as an example. such as logger name are different, I&#39;ll edit to add them.","body":"@M. Deinum they have more different part than I mention, I just name a few as an example. such as logger name are different, I&#39;ll edit to add them."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701180832,"post_id":77562499,"comment_id":136741427,"body_markdown":"logger names for what? Can you show such a `logback-spring.xml`? If the logger names are for specifiying at which level that can also be done through `application.properties`.","body":"logger names for what? Can you show such a <code>logback-spring.xml</code>? If the logger names are for specifiying at which level that can also be done through <code>application.properties</code>."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1701189402,"post_id":77562499,"comment_id":136743249,"body_markdown":"I guess, you could generate logback-spring.xml on fly from a template when application compiles. This could be a maven plugin. Take openapi-generator-maven-plugin as example.","body":"I guess, you could generate logback-spring.xml on fly from a template when application compiles. This could be a maven plugin. Take openapi-generator-maven-plugin as example."},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1701220574,"post_id":77562499,"comment_id":136747854,"body_markdown":"@M. Deinum sry I&#39;m too busy yesterday, I add an example file to the question now.","body":"@M. Deinum sry I&#39;m too busy yesterday, I add an example file to the question now."}],"answers":[{"tags":[],"owner":{"account_id":27373192,"reputation":1,"user_id":20878948,"display_name":"chaos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701167724,"creation_date":1701167724,"answer_id":77563156,"question_id":77562499,"body_markdown":" Here&#39;s a method you can reference.\r\n\r\n Try to abstract these different log.xml files to JAVA objects and persist this data. \r\n\r\nWhen start the application, you just need to convert these to Xml files. It&#39; \r\n\r\nmore flexible and easier to manage JAVA objects than manage Xml static files.\r\n\r\n","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<p>Here's a method you can reference.</p>\n<p>Try to abstract these different log.xml files to JAVA objects and persist this data.</p>\n<p>When start the application, you just need to convert these to Xml files. It'</p>\n<p>more flexible and easier to manage JAVA objects than manage Xml static files.</p>\n"},{"tags":[],"owner":{"account_id":13415400,"reputation":56,"user_id":9680120,"display_name":"Mustapha Gheribi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701262079,"creation_date":1701262079,"answer_id":77571285,"question_id":77562499,"body_markdown":"Logback allows you to include other configuration files within your main `logback.xml` using the `&lt;include&gt;` element. You can create a common configuration file with shared settings and include it in each project&#39;s logback configuration file \r\n\r\n**common logback**\r\n\r\n    &lt;configuration&gt;\r\n      &lt;!-- Shared conf here --&gt;\r\n    &lt;configuration&gt;\r\n\r\n**specific logback**\r\n\r\n    &lt;configuration&gt;\r\n      &lt;include resource=&quot;common-logback.xml&quot; /&gt;\r\n      &lt;!-- Specific conf here --&gt;\r\n    &lt;/configuration&gt;","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<p>Logback allows you to include other configuration files within your main <code>logback.xml</code> using the <code>&lt;include&gt;</code> element. You can create a common configuration file with shared settings and include it in each project's logback configuration file</p>\n<p><strong>common logback</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;!-- Shared conf here --&gt;\n&lt;configuration&gt;\n</code></pre>\n<p><strong>specific logback</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;include resource=&quot;common-logback.xml&quot; /&gt;\n  &lt;!-- Specific conf here --&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77571285,"answer_count":2,"score":0,"last_activity_date":1701310393,"creation_date":1701162242,"question_id":77562499,"body_markdown":"### description:\r\n- My company have a lot of `spring` project with using basically the same (90% the same)  `logback-spring.xml` in all project, such as `scanPeriod` and `LOG_PATTERN` are different. So my boss ask me to reduce duplicate code in `logback-spring.xml` file.\r\n- All project rarely change the `logback-spring.xml` file, but they may change it in the future.\r\n- If I need post the `logback-spring.xml` code, I&#39;ll remove company information in it and post it later.\r\n### what I have tried:\r\n1. Use `maven` to share `logback-spring.xml`. But the `logback-spring.xml` are **basically** the same, not exactly the same.\r\n2. All projects have a dependency to a company basic library named `framework`, so I can store all `logback-spring.xml` in `framework`. But it didn&#39;t reduce any duplicate code.\r\n3. (here now)Tell my boss there is no need to reduce the duplicate code in a config file, such as `logback-spring.xml`. Because they are technically not **code**, they can&#39;t build or run.\r\n### example file:\r\n- The &quot;xxx&quot; and &quot;xxxx&quot; part are changed depends on project.\r\n- Some project may add or remove some `springProperty`\r\n- `springProperty` name maybe different.\r\n- `maxFileSize` maybe different.\r\n- `scanPeriod` and `LOG_PATTERN` maybe different.\r\n- etc.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot;  source=&quot;spring.application.name&quot; defaultValue=&quot;cloud1-service&quot;/&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpHost&quot; source=&quot;xxx.admin.email.smtpHost&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpPort&quot; source=&quot;xxx.admin.email.smtpPort&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailUsername&quot; source=&quot;xxx.admin.email.username&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailPassword&quot; source=&quot;xxx.admin.email.password&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTitle&quot; source=&quot;xxx.admin.email.title&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailFrom&quot; source=&quot;xxx.admin.email.from&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTo&quot; source=&quot;xxx.admin.email.to&quot;/&gt;\r\n\r\n    &lt;property name=&quot;LOG_CONTEXT_NAME&quot; value=&quot;${springAppName}&quot;/&gt;\r\n    &lt;property name=&quot;LOG_HOME&quot; value=&quot;logs/&quot;/&gt;\r\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [TraceId=%yellow(%X{traceId}),SpanId=%green(%X{spanId}),ParentSpanId=%blue(%X{parentId})]\r\n                [%thread] %-5level %logger{10}-%msg%n&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\r\n        &lt;smtpHost&gt;${emailSmtpHost}&lt;/smtpHost&gt;\r\n        &lt;smtpPort&gt;${emailSmtpPort}&lt;/smtpPort&gt;\r\n        &lt;username&gt;${emailUsername}&lt;/username&gt;\r\n        &lt;password&gt;${emailPassword}&lt;/password&gt;\r\n        &lt;to&gt;${emailTo},${emailCopy}&lt;/to&gt;\r\n        &lt;from&gt;${emailFrom}&lt;/from&gt;\r\n        &lt;subject&gt;${emailTitle}(${springAppName})&lt;/subject&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;SSL&gt;true&lt;/SSL&gt;\r\n        &lt;asynchronousSending&gt;true&lt;/asynchronousSending&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.error.log&lt;/File&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/error-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;layout&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;BIZ_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz.log&lt;/File&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_ERROR_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_BIZ_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;BIZ_FILE&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_STDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;WARN&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;com.xxxx.cloud1&quot; level=&quot;debug&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n### question\r\n1. Any way to reduce the duplicate code in `logback-spring.xml` file in many different project?\r\n2. Do we really need to reduce the duplicate code in a config file, such as `logback-spring.xml`?","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<h3>description:</h3>\n<ul>\n<li>My company have a lot of <code>spring</code> project with using basically the same (90% the same)  <code>logback-spring.xml</code> in all project, such as <code>scanPeriod</code> and <code>LOG_PATTERN</code> are different. So my boss ask me to reduce duplicate code in <code>logback-spring.xml</code> file.</li>\n<li>All project rarely change the <code>logback-spring.xml</code> file, but they may change it in the future.</li>\n<li>If I need post the <code>logback-spring.xml</code> code, I'll remove company information in it and post it later.</li>\n</ul>\n<h3>what I have tried:</h3>\n<ol>\n<li>Use <code>maven</code> to share <code>logback-spring.xml</code>. But the <code>logback-spring.xml</code> are <strong>basically</strong> the same, not exactly the same.</li>\n<li>All projects have a dependency to a company basic library named <code>framework</code>, so I can store all <code>logback-spring.xml</code> in <code>framework</code>. But it didn't reduce any duplicate code.</li>\n<li>(here now)Tell my boss there is no need to reduce the duplicate code in a config file, such as <code>logback-spring.xml</code>. Because they are technically not <strong>code</strong>, they can't build or run.</li>\n</ol>\n<h3>example file:</h3>\n<ul>\n<li>The &quot;xxx&quot; and &quot;xxxx&quot; part are changed depends on project.</li>\n<li>Some project may add or remove some <code>springProperty</code></li>\n<li><code>springProperty</code> name maybe different.</li>\n<li><code>maxFileSize</code> maybe different.</li>\n<li><code>scanPeriod</code> and <code>LOG_PATTERN</code> maybe different.</li>\n<li>etc.</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot;  source=&quot;spring.application.name&quot; defaultValue=&quot;cloud1-service&quot;/&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpHost&quot; source=&quot;xxx.admin.email.smtpHost&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpPort&quot; source=&quot;xxx.admin.email.smtpPort&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailUsername&quot; source=&quot;xxx.admin.email.username&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailPassword&quot; source=&quot;xxx.admin.email.password&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTitle&quot; source=&quot;xxx.admin.email.title&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailFrom&quot; source=&quot;xxx.admin.email.from&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTo&quot; source=&quot;xxx.admin.email.to&quot;/&gt;\n\n    &lt;property name=&quot;LOG_CONTEXT_NAME&quot; value=&quot;${springAppName}&quot;/&gt;\n    &lt;property name=&quot;LOG_HOME&quot; value=&quot;logs/&quot;/&gt;\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [TraceId=%yellow(%X{traceId}),SpanId=%green(%X{spanId}),ParentSpanId=%blue(%X{parentId})]\n                [%thread] %-5level %logger{10}-%msg%n&quot;/&gt;\n\n    &lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\n        &lt;smtpHost&gt;${emailSmtpHost}&lt;/smtpHost&gt;\n        &lt;smtpPort&gt;${emailSmtpPort}&lt;/smtpPort&gt;\n        &lt;username&gt;${emailUsername}&lt;/username&gt;\n        &lt;password&gt;${emailPassword}&lt;/password&gt;\n        &lt;to&gt;${emailTo},${emailCopy}&lt;/to&gt;\n        &lt;from&gt;${emailFrom}&lt;/from&gt;\n        &lt;subject&gt;${emailTitle}(${springAppName})&lt;/subject&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;SSL&gt;true&lt;/SSL&gt;\n        &lt;asynchronousSending&gt;true&lt;/asynchronousSending&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.error.log&lt;/File&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/error-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;layout&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/layout&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;BIZ_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz.log&lt;/File&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_ERROR_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_BIZ_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;BIZ_FILE&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_STDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;WARN&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.xxxx.cloud1&quot; level=&quot;debug&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\n    &lt;/logger&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<h3>question</h3>\n<ol>\n<li>Any way to reduce the duplicate code in <code>logback-spring.xml</code> file in many different project?</li>\n<li>Do we really need to reduce the duplicate code in a config file, such as <code>logback-spring.xml</code>?</li>\n</ol>\n"},{"tags":["java","maven","github","repository","guava"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701311451,"post_id":77575429,"comment_id":136761190,"body_markdown":"The issue is not clear. If you are using Maven then you should not upload libraries to GitHub. Maven will download the libraries as dependencies when needed. You need to provide the error and reproduction steps to clarify the issue.","body":"The issue is not clear. If you are using Maven then you should not upload libraries to GitHub. Maven will download the libraries as dependencies when needed. You need to provide the error and reproduction steps to clarify the issue."},{"owner":{"account_id":30027175,"reputation":1,"user_id":23011067,"display_name":"Caio Diniz"},"score":0,"creation_date":1701345236,"post_id":77575429,"comment_id":136765391,"body_markdown":"@aled , I have a project on my computer and I uploaded it to github, but when someone tries to clone my code and run it, they can&#39;t due to some errors. This is because the guava library I&#39;m using hasn&#39;t made it into the repository. I want to know how I can do something to make it easier for someone to clone my repository and run the code correctly with the library.","body":"@aled , I have a project on my computer and I uploaded it to github, but when someone tries to clone my code and run it, they can&#39;t due to some errors. This is because the guava library I&#39;m using hasn&#39;t made it into the repository. I want to know how I can do something to make it easier for someone to clone my repository and run the code correctly with the library."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1701345995,"post_id":77575429,"comment_id":136765523,"body_markdown":"You use a Maven POM and declare guava as dependency there.","body":"You use a Maven POM and declare guava as dependency there."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701347531,"post_id":77575429,"comment_id":136765818,"body_markdown":"You have to share the errors and reproduction steps. We can not guess which error are they having if you don&#39;t share the details. Edit your question to add details instead of comments.","body":"You have to share the errors and reproduction steps. We can not guess which error are they having if you don&#39;t share the details. Edit your question to add details instead of comments."}],"owner":{"account_id":30027175,"reputation":1,"user_id":23011067,"display_name":"Caio Diniz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701309123,"creation_date":1701309123,"question_id":77575429,"body_markdown":"Sorry for bad english. I made an java code and created a repository on github, but the library guava that i was using didnt go with the rest of the code. How can i add this library in my repository in a way that is easy to anyone use the project propertly?\r\n\r\nI think maybe something with maven should work, but i dont know how to use it too, so if that is the best way to do this, can anyone recommend an video or playlist teaching how to use?","title":"How can i add an library into my project repository on github?","body":"<p>Sorry for bad english. I made an java code and created a repository on github, but the library guava that i was using didnt go with the rest of the code. How can i add this library in my repository in a way that is easy to anyone use the project propertly?</p>\n<p>I think maybe something with maven should work, but i dont know how to use it too, so if that is the best way to do this, can anyone recommend an video or playlist teaching how to use?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1701307616,"post_id":77575366,"comment_id":136760881,"body_markdown":"[Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html).  You may also want to have a look at concepts like [model view controller](https://www.google.com/search?q=java+model+view+controller) (emphasis on the model part) and the [observer pattern](https://www.google.com/search?q=java+observer+pattern) as some starting suggestions","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>.  You may also want to have a look at concepts like <a href=\"https://www.google.com/search?q=java+model+view+controller\" rel=\"nofollow noreferrer\">model view controller</a> (emphasis on the model part) and the <a href=\"https://www.google.com/search?q=java+observer+pattern\" rel=\"nofollow noreferrer\">observer pattern</a> as some starting suggestions"}],"owner":{"account_id":30027045,"reputation":1,"user_id":23010970,"display_name":"Muhammad faye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701307926,"answer_count":0,"score":-1,"last_activity_date":1701307953,"creation_date":1701307468,"question_id":77575366,"body_markdown":"good evening, I have a little problem with my java swing application. I have a JFrame1 window which displays information and other JFrame windows which \r\n\r\nat each launch must retrieve the information from JFrame 1 and display it in JLabel. I don&#39;t know how to get","title":"Java swing: recovering data from JFrame 1 to Jframe 2","body":"<p>good evening, I have a little problem with my java swing application. I have a JFrame1 window which displays information and other JFrame windows which</p>\n<p>at each launch must retrieve the information from JFrame 1 and display it in JLabel. I don't know how to get</p>\n"},{"tags":["java","file","java-io","filewriter"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1374137037,"post_id":17718613,"comment_id":25825277,"body_markdown":"Do you literally have the &quot;../..&quot; in there? If so, you need to look in `D:/codes/bin/logs`","body":"Do you literally have the &quot;../..&quot; in there? If so, you need to look in <code>D:&#47;codes&#47;bin&#47;logs</code>"},{"owner":{"account_id":440158,"reputation":323221,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1374137288,"post_id":17718613,"comment_id":25825422,"body_markdown":"Also with Java 7, you can do the same with: `Files.write(Paths.get(fullPath), contents.getBytes(&quot;UTF-8&quot;));`","body":"Also with Java 7, you can do the same with: <code>Files.write(Paths.get(fullPath), contents.getBytes(&quot;UTF-8&quot;));</code>"},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1374137432,"post_id":17718613,"comment_id":25825513,"body_markdown":"`createNewFile()` is not needed.","body":"<code>createNewFile()</code> is not needed."},{"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"score":0,"creation_date":1374138045,"post_id":17718613,"comment_id":25825853,"body_markdown":"@JonSkeet: Yes, I have the &quot;..\\..&quot; in the path, since I want to save the file at D:/codes/bin/logs.","body":"@JonSkeet: Yes, I have the &quot;..\\..&quot; in the path, since I want to save the file at D:/codes/bin/logs."},{"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"score":0,"creation_date":1374138101,"post_id":17718613,"comment_id":25825879,"body_markdown":"@JoopEggen: I added that after several failed attempts in writing the contents to a file. :) I will remove that once I established that this line is not needed.","body":"@JoopEggen: I added that after several failed attempts in writing the contents to a file. :) I will remove that once I established that this line is not needed."},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1374138991,"post_id":17718613,"comment_id":25826352,"body_markdown":"Mysterious. Do you reach that code? How about some other exception, SecurityException, or the like? No empty `catch (Throwable e) {}` I hope?","body":"Mysterious. Do you reach that code? How about some other exception, SecurityException, or the like? No empty <code>catch (Throwable e) {}</code> I hope?"},{"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"score":0,"creation_date":1374141885,"post_id":17718613,"comment_id":25828146,"body_markdown":"I found out the cause already. It seems that the batch file is deleting all the .txt files after execution. Hmph! The pitfalls of a developer!","body":"I found out the cause already. It seems that the batch file is deleting all the .txt files after execution. Hmph! The pitfalls of a developer!"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1467447187,"post_id":17718613,"comment_id":63744580,"body_markdown":"The file is being created but not where you&#39;re looking, unless there was an exception. The `exists()/createNewFile()` block is a complete waste of time and space. `new FileWriter()` causes the operating system to do that anyway, and now you&#39;re forcing it to add a deletion of the file you just created as well. Don&#39;t write pointless code. `new FileWriter(file)` would do just as well.","body":"The file is being created but not where you&#39;re looking, unless there was an exception. The <code>exists()&#47;createNewFile()</code> block is a complete waste of time and space. <code>new FileWriter()</code> causes the operating system to do that anyway, and now you&#39;re forcing it to add a deletion of the file you just created as well. Don&#39;t write pointless code. <code>new FileWriter(file)</code> would do just as well."},{"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"score":1,"creation_date":1467456706,"post_id":17718613,"comment_id":63746987,"body_markdown":"Have you tried to see what `file.getCanonicalPath()` returns? Is it what you expected?","body":"Have you tried to see what <code>file.getCanonicalPath()</code> returns? Is it what you expected?"}],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1374137816,"creation_date":1374137399,"answer_id":17718791,"question_id":17718613,"body_markdown":"Make sure you add trailing backslashes to the path parameter so the path is recognized as a directory.  The example provide is for a Windows OS which uses backslashes that are escaped.  For a more robust method use the `file.separator` property for the system.\r\n\r\n**Works**\r\n\r\n    writeToFile(&quot;D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development\\\\&quot;,\r\n    \t\t\t\t&quot;this is a test&quot;);\r\n\r\n**Doesn&#39;t Work**\r\n\r\n    writeToFile(&quot;D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development&quot;,\r\n    \t\t\t\t&quot;this is a test&quot;);\r\n\r\n**File Separator Example**\r\n    \r\n\tString fs = System.getProperty(&quot;file.separator&quot;);\r\n\tString path = fs + &quot;Documents and Settings&quot; + fs + &quot;me&quot; + fs\r\n\t\t\t+ &quot;Desktop&quot; + fs + &quot;Development&quot; + fs;\r\n\twriteToFile(path, &quot;this is a test&quot;);","title":"Using the FileWriter with a full path","body":"<p>Make sure you add trailing backslashes to the path parameter so the path is recognized as a directory.  The example provide is for a Windows OS which uses backslashes that are escaped.  For a more robust method use the <code>file.separator</code> property for the system.</p>\n\n<p><strong>Works</strong></p>\n\n<pre><code>writeToFile(\"D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development\\\\\",\n                \"this is a test\");\n</code></pre>\n\n<p><strong>Doesn't Work</strong></p>\n\n<pre><code>writeToFile(\"D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development\",\n                \"this is a test\");\n</code></pre>\n\n<p><strong>File Separator Example</strong></p>\n\n<pre><code>String fs = System.getProperty(\"file.separator\");\nString path = fs + \"Documents and Settings\" + fs + \"me\" + fs\n        + \"Desktop\" + fs + \"Development\" + fs;\nwriteToFile(path, \"this is a test\");\n</code></pre>\n"}],"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24184,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1701306320,"creation_date":1374136929,"question_id":17718613,"body_markdown":"I specified the full path of the file location when I created a FileWriter, but I did not see the file being created. I also did not get any error during file creation.\r\n\r\nHere&#39;s a snippet of my code:\r\n\r\n    \r\n\r\n    public void writeToFile(String fullpath, String contents) {\r\n        File file = new File(fullpath, &quot;contents.txt&quot;);\r\n        if (!file.exists()) {\r\n            try {\r\n                file.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            BufferedWriter bw = new BufferedWriter(new FileWriter(file.getAbsoluteFile()));\r\n            bw.write(contents);\r\n            bw.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nfullpath is `&quot;D:/codes/sources/logs/../../bin/logs&quot;`.\r\nI have searched my whole directory, but I cannot find the file anywhere.\r\nIf I specify just the filename only [File file = new File(&quot;contents.txt&quot;);] , it is able to save the contents of the file, but it is not placed on my preferred location.\r\n\r\nHow can I save the file content to a preferred location?\r\n\r\nUPDATE:\r\nI printed the full path using file.getAbsolutePath(), and I am getting the correct directory path. [D:\\codes\\sources\\logs\\..\\..\\bin\\logs\\contents.txt] But when I look for the file in directory, I cannot find it there.","title":"Using the FileWriter with a full path","body":"<p>I specified the full path of the file location when I created a FileWriter, but I did not see the file being created. I also did not get any error during file creation.</p>\n\n<p>Here's a snippet of my code:</p>\n\n<pre><code>public void writeToFile(String fullpath, String contents) {\n    File file = new File(fullpath, \"contents.txt\");\n    if (!file.exists()) {\n        try {\n            file.createNewFile();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    try {\n        BufferedWriter bw = new BufferedWriter(new FileWriter(file.getAbsoluteFile()));\n        bw.write(contents);\n        bw.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>fullpath is <code>\"D:/codes/sources/logs/../../bin/logs\"</code>.\nI have searched my whole directory, but I cannot find the file anywhere.\nIf I specify just the filename only [File file = new File(\"contents.txt\");] , it is able to save the contents of the file, but it is not placed on my preferred location.</p>\n\n<p>How can I save the file content to a preferred location?</p>\n\n<p>UPDATE:\nI printed the full path using file.getAbsolutePath(), and I am getting the correct directory path. [D:\\codes\\sources\\logs....\\bin\\logs\\contents.txt] But when I look for the file in directory, I cannot find it there.</p>\n"},{"tags":["java","applet","exit"],"comments":[{"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"score":2,"creation_date":1399993154,"post_id":23634784,"comment_id":36292399,"body_markdown":"Well, what do you expect to happen? If you want to close the applet, try googling &quot;how to terminate java web applet&quot; or something.","body":"Well, what do you expect to happen? If you want to close the applet, try googling &quot;how to terminate java web applet&quot; or something."},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":0,"creation_date":1399993703,"post_id":23634784,"comment_id":36292794,"body_markdown":"You can try to interact with JavaScript and remove your applet from the DOM. Though I don&#39;t know whether it will work...","body":"You can try to interact with JavaScript and remove your applet from the DOM. Though I don&#39;t know whether it will work..."}],"answers":[{"tags":[],"owner":{"account_id":109542,"reputation":13014,"user_id":290187,"accept_rate":67,"display_name":"T McKeown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399993263,"creation_date":1399993263,"answer_id":23634865,"question_id":23634784,"body_markdown":"The code is working correctly as designed.","title":"Exit Java Applet","body":"<p>The code is working correctly as designed.</p>\n"},{"tags":[],"owner":{"account_id":2746014,"reputation":2642,"user_id":2366418,"accept_rate":88,"display_name":"3yakuya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399993299,"creation_date":1399993299,"answer_id":23634884,"question_id":23634784,"body_markdown":"Bad idea to call System.exit(0), may cause browser errors (trying to close it). Run your application in a JFrame and launch it with Web Start.\r\n\r\nAnother approach would be\r\n\r\n    applet.getAppletContext().showDocument(appletCloseURL);\r\n\r\nand navigate to a proper URL.","title":"Exit Java Applet","body":"<p>Bad idea to call System.exit(0), may cause browser errors (trying to close it). Run your application in a JFrame and launch it with Web Start.</p>\n\n<p>Another approach would be</p>\n\n<pre><code>applet.getAppletContext().showDocument(appletCloseURL);\n</code></pre>\n\n<p>and navigate to a proper URL.</p>\n"}],"owner":{"account_id":2906896,"reputation":71,"user_id":2491965,"accept_rate":0,"display_name":"Stephane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701305954,"creation_date":1399993061,"question_id":23634784,"body_markdown":"I am writing code for my exit button for my Java applet. The exit button successfully works on Eclipse. However, when I try to exit the applet from the browser, the button won&#39;t work.\r\n\r\nI used System.exit(0)\r\n\r\n","title":"Exit Java Applet","body":"<p>I am writing code for my exit button for my Java applet. The exit button successfully works on Eclipse. However, when I try to exit the applet from the browser, the button won't work.</p>\n\n<p>I used System.exit(0)</p>\n"},{"tags":["java","visual-studio-code","compiler-errors"],"comments":[{"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"score":0,"creation_date":1601305024,"post_id":64103869,"comment_id":113358819,"body_markdown":"What do you mean by edit java files? edit `.java` or `.class`. if you edit `.class` you transfered it to bytecode or just edit binary file? explain more what you want to do.","body":"What do you mean by edit java files? edit <code>.java</code> or <code>.class</code>. if you edit <code>.class</code> you transfered it to bytecode or just edit binary file? explain more what you want to do."},{"owner":{"account_id":18237905,"reputation":936,"user_id":13275492,"display_name":"YulkyTulky"},"score":0,"creation_date":1601307443,"post_id":64103869,"comment_id":113360026,"body_markdown":"@majidhajibaba I am editing Java source code files as I am taking a Java course in school","body":"@majidhajibaba I am editing Java source code files as I am taking a Java course in school"},{"owner":{"account_id":19088616,"reputation":8269,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1601346016,"post_id":64103869,"comment_id":113372053,"body_markdown":"did you use javac .java to compile? Once you change the file, it&#39;s necessary to compile it again before run.","body":"did you use javac .java to compile? Once you change the file, it&#39;s necessary to compile it again before run."},{"owner":{"account_id":18237905,"reputation":936,"user_id":13275492,"display_name":"YulkyTulky"},"score":0,"creation_date":1601404361,"post_id":64103869,"comment_id":113395860,"body_markdown":"@MollyWang yes, the problem does not have to do with compilation ... the programs run fine, my issue is that the VSCode IDE does not seem to read any of the Java correctly","body":"@MollyWang yes, the problem does not have to do with compilation ... the programs run fine, my issue is that the VSCode IDE does not seem to read any of the Java correctly"}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8269,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1634520494,"creation_date":1601436461,"answer_id":64130414,"question_id":64103869,"body_markdown":"There&#39;s something wrong with JRE. In some occasions, deleting the Java Language Server workspace directory is helpful to go back to a clean status:\r\n\r\n&gt; **Windows** - Delete `%APPDATA%\\Code` and `%USERPROFILE%\\.vscode`.  \r\n&gt; **macOS** - Delete `$HOME/Library/Application Support/Code` and `~/.vscode`.  \r\n&gt; **Linux** - Delete `$HOME/.config/Code` and `~/.vscode`.\r\n\r\nIf this doesn&#39;t work, try to reset jdk and restart vscode:\r\n\r\n    &quot;java.home&quot;: &quot;\\path\\to\\jdk\\&quot;,\r\n    &quot;java.configuration.runtimes&quot;:[...]\r\n\r\nReference: [Setting for the JDK][1]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial#_settings-for-the-jdk","title":"Visual Studio Code Cannot Handle Java","body":"<p>There's something wrong with JRE. In some occasions, deleting the Java Language Server workspace directory is helpful to go back to a clean status:</p>\n<blockquote>\n<p><strong>Windows</strong> - Delete <code>%APPDATA%\\Code</code> and <code>%USERPROFILE%\\.vscode</code>.<br />\n<strong>macOS</strong> - Delete <code>$HOME/Library/Application Support/Code</code> and <code>~/.vscode</code>.<br />\n<strong>Linux</strong> - Delete <code>$HOME/.config/Code</code> and <code>~/.vscode</code>.</p>\n</blockquote>\n<p>If this doesn't work, try to reset jdk and restart vscode:</p>\n<pre><code>&quot;java.home&quot;: &quot;\\path\\to\\jdk\\&quot;,\n&quot;java.configuration.runtimes&quot;:[...]\n</code></pre>\n<p>Reference: <a href=\"https://code.visualstudio.com/docs/java/java-tutorial#_settings-for-the-jdk\" rel=\"nofollow noreferrer\">Setting for the JDK</a></p>\n"},{"tags":[],"owner":{"account_id":21283437,"reputation":21,"user_id":15661514,"display_name":"Ayomide Joysbright Oyediran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658482984,"creation_date":1658482984,"answer_id":73078301,"question_id":64103869,"body_markdown":"Molly Wang-MSFT&#39;s answer will definitely work but it will cause you to lost your other VS Code installed extensions and user settings.\r\nI will recommend you try uninstalling only &quot;Extension for Java Pack&quot; and reinstall it.\r\n\r\nNOTE: If you have your codes opened via VS Code workspace, delete the workspace and recreate.","title":"Visual Studio Code Cannot Handle Java","body":"<p>Molly Wang-MSFT's answer will definitely work but it will cause you to lost your other VS Code installed extensions and user settings.\nI will recommend you try uninstalling only &quot;Extension for Java Pack&quot; and reinstall it.</p>\n<p>NOTE: If you have your codes opened via VS Code workspace, delete the workspace and recreate.</p>\n"},{"tags":[],"owner":{"account_id":180107,"reputation":339,"user_id":413213,"accept_rate":100,"display_name":"Mark Hamlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688126380,"creation_date":1688126380,"answer_id":76588726,"question_id":64103869,"body_markdown":"I had this problem after updating the JDK from 17.05 to 17.07. Other projects worked with same jdk setting, other IDEs worked with same JDK and problematic project.  Checked vscode settings in project directory, nothing wrong there.  I was reluctant to follow the advice to delete $HOME/Library/Application Support/Code.\r\n\r\nIn the end, I tried renaming the project folder and reopened the project.  By some magic, it worked.","title":"Visual Studio Code Cannot Handle Java","body":"<p>I had this problem after updating the JDK from 17.05 to 17.07. Other projects worked with same jdk setting, other IDEs worked with same JDK and problematic project.  Checked vscode settings in project directory, nothing wrong there.  I was reluctant to follow the advice to delete $HOME/Library/Application Support/Code.</p>\n<p>In the end, I tried renaming the project folder and reopened the project.  By some magic, it worked.</p>\n"},{"tags":[],"owner":{"account_id":10199035,"reputation":1,"user_id":7529966,"display_name":"Alex Richards"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701304752,"creation_date":1699536714,"answer_id":77453599,"question_id":64103869,"body_markdown":"**Important: this only applies to gradle users**\r\n\r\nI experienced the same error when I attempted to use a more recent version of JavaFX via gradle, without also specifying the newer version of the java toolchain.  Make sure the versions match in your build.gradle.kts file, see the relevant sections below.  \r\n\r\n    java {\r\n        toolchain {\r\n            languageVersion.set(JavaLanguageVersion.of(21))\r\n        }\r\n    }\r\n\r\n    javafx {\r\n        modules(&quot;javafx.controls&quot;, &quot;javafx.fxml&quot;)\r\n        version=&quot;21&quot;\r\n    }\r\n\r\nThis error may also be caused by a broken system Java installation.","title":"Visual Studio Code Cannot Handle Java","body":"<p><strong>Important: this only applies to gradle users</strong></p>\n<p>I experienced the same error when I attempted to use a more recent version of JavaFX via gradle, without also specifying the newer version of the java toolchain.  Make sure the versions match in your build.gradle.kts file, see the relevant sections below.</p>\n<pre><code>java {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(21))\n    }\n}\n\njavafx {\n    modules(&quot;javafx.controls&quot;, &quot;javafx.fxml&quot;)\n    version=&quot;21&quot;\n}\n</code></pre>\n<p>This error may also be caused by a broken system Java installation.</p>\n"}],"owner":{"account_id":18237905,"reputation":936,"user_id":13275492,"display_name":"YulkyTulky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11202,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":64130414,"answer_count":4,"score":11,"last_activity_date":1701304752,"creation_date":1601302208,"question_id":64103869,"body_markdown":"I am trying to edit Java files in VSCode, but am encountering a slew of errors from VSCode. For example:\r\n\r\n```\r\nThe type java.lang.Object cannot be resolved.\r\n    It is indirectly referenced from required .class files\r\nString cannot be resolved to a type\r\nSystem cannot be resolved\r\n```\r\n\r\nI tried running Java clean to clean the workspace and have tried reinstalling the Java extension pack. Either way, the problem persisted.\r\n\r\nI can&#39;t get rid of this and it is really annoying! Please help if you can! Thank you.","title":"Visual Studio Code Cannot Handle Java","body":"<p>I am trying to edit Java files in VSCode, but am encountering a slew of errors from VSCode. For example:</p>\n<pre><code>The type java.lang.Object cannot be resolved.\n    It is indirectly referenced from required .class files\nString cannot be resolved to a type\nSystem cannot be resolved\n</code></pre>\n<p>I tried running Java clean to clean the workspace and have tried reinstalling the Java extension pack. Either way, the problem persisted.</p>\n<p>I can't get rid of this and it is really annoying! Please help if you can! Thank you.</p>\n"},{"tags":["java","input","keyboard","jcombobox"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701299905,"post_id":77574787,"comment_id":136760116,"body_markdown":"*without going into detail* - Please go in to detail. Why should you limit what the user can do? Some users prefer to use the mouse. Others prefer to use the keyboard. If we know why you think you need to do this maybe we can suggest a better solution.","body":"<i>without going into detail</i> - Please go in to detail. Why should you limit what the user can do? Some users prefer to use the mouse. Others prefer to use the keyboard. If we know why you think you need to do this maybe we can suggest a better solution."}],"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701304669,"creation_date":1701296229,"question_id":77574787,"body_markdown":"I have a very simple desire - I don&#39;t want JComboBox respond to arrow key presses. I don&#39;t want to select items in the pop-up on arrow keys, or in fact I don&#39;t want to show pop-up on pressing down arrow either.\r\n\r\nIt should be a simple task, but all the threads that I find instead advise people &quot;DON&#39;T DO IT! Don&#39;t change default expected behavior! Users will hate you!&quot;\r\n\r\nWell, without going into detail - I need it. I have a very specific application that does not require combo-box to respond to arrows. I still need to keep it focused, though.\r\n\r\nHow do I disable arrow keys? I tried adding a KeyListener, but the box still responds to default key binding.\r\n\r\nThank you.","title":"Disable JComboBox pop-up item selection on arrow keys","body":"<p>I have a very simple desire - I don't want JComboBox respond to arrow key presses. I don't want to select items in the pop-up on arrow keys, or in fact I don't want to show pop-up on pressing down arrow either.</p>\n<p>It should be a simple task, but all the threads that I find instead advise people &quot;DON'T DO IT! Don't change default expected behavior! Users will hate you!&quot;</p>\n<p>Well, without going into detail - I need it. I have a very specific application that does not require combo-box to respond to arrows. I still need to keep it focused, though.</p>\n<p>How do I disable arrow keys? I tried adding a KeyListener, but the box still responds to default key binding.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1559763336,"post_id":56465830,"comment_id":99525260,"body_markdown":"is this bootstrap server is running `127.0.0.1:9092`? try providing the zookeeper","body":"is this bootstrap server is running <code>127.0.0.1:9092</code>? try providing the zookeeper"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559764415,"post_id":56465830,"comment_id":99525684,"body_markdown":"I don&#39;t know. I&#39;m new on it. How I can check? How I do provide?","body":"I don&#39;t know. I&#39;m new on it. How I can check? How I do provide?"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1559764470,"post_id":56465830,"comment_id":99525710,"body_markdown":"https://kafka.apache.org/quickstart","body":"<a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">kafka.apache.org/quickstart</a>"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559765045,"post_id":56465830,"comment_id":99525972,"body_markdown":"I already test the kafka with the command line and all works. I created a topic, I sent a message and I saw this message in a consumer, so I don&#39;t know the reason that not works on Springboot.","body":"I already test the kafka with the command line and all works. I created a topic, I sent a message and I saw this message in a consumer, so I don&#39;t know the reason that not works on Springboot."},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1559765107,"post_id":56465830,"comment_id":99526001,"body_markdown":"try `localhost:9092` instead of `127.0.0.1:9092`","body":"try <code>localhost:9092</code> instead of <code>127.0.0.1:9092</code>"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559765549,"post_id":56465830,"comment_id":99526162,"body_markdown":"Still does not work","body":"Still does not work"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1559804597,"post_id":56465830,"comment_id":99535474,"body_markdown":"What version of spring-kafka are you using? Newer versions of spring kafka you can basically drop all the config beans and have it configured by configuration properties in you application.properties(yml) Are you running kafka in docker containers or are you running confluent setup locally, or other?","body":"What version of spring-kafka are you using? Newer versions of spring kafka you can basically drop all the config beans and have it configured by configuration properties in you application.properties(yml) Are you running kafka in docker containers or are you running confluent setup locally, or other?"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559827847,"post_id":56465830,"comment_id":99547694,"body_markdown":"I&#39;m running locally and the version of spring-kafka is 2.2.6.","body":"I&#39;m running locally and the version of spring-kafka is 2.2.6."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1559828666,"post_id":56465830,"comment_id":99548284,"body_markdown":"What Java version do you use? Does it fail for you even without Spring Boot? With the `java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl` it looks like there is some security access to the class ctor...","body":"What Java version do you use? Does it fail for you even without Spring Boot? With the <code>java.base&#47;jdk.internal.reflect.InstantiationExceptionConstru&zwnj;&#8203;ctorAccessorImpl</code> it looks like there is some security access to the class ctor..."}],"answers":[{"tags":[],"owner":{"account_id":2878489,"reputation":458,"user_id":2469865,"display_name":"3barney"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1566937525,"creation_date":1566937525,"answer_id":57681796,"question_id":56465830,"body_markdown":"Had a similar issue from my end I imported the wrong `JsonSerializer` class. Changed to this import `org.springframework.kafka.support.serializer.JsonSerializer;`\r\nAll worked well.\r\n","title":"Failed to construct kafka producer with Springboot","body":"<p>Had a similar issue from my end I imported the wrong <code>JsonSerializer</code> class. Changed to this import <code>org.springframework.kafka.support.serializer.JsonSerializer;</code>\nAll worked well.</p>\n"},{"tags":[],"owner":{"account_id":15270814,"reputation":17,"user_id":11018087,"display_name":"Sutirtha Rej"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593979859,"creation_date":1593979859,"answer_id":62745813,"question_id":56465830,"body_markdown":"\r\nUnder **config** files for **kafkaConfiguration** , change the **import**.\r\n\r\nthe import should be : `import org.springframework.kafka.support.serializer.JsonSerializer;`","title":"Failed to construct kafka producer with Springboot","body":"<p>Under <strong>config</strong> files for <strong>kafkaConfiguration</strong> , change the <strong>import</strong>.</p>\n<p>the import should be : <code>import org.springframework.kafka.support.serializer.JsonSerializer;</code></p>\n"},{"tags":[],"owner":{"account_id":14724841,"reputation":29,"user_id":10634215,"display_name":"GoldBug"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611841087,"creation_date":1611717354,"answer_id":65912443,"question_id":56465830,"body_markdown":"@3barney&#39;s solution helped me! Intellij IDE gives you 2 options for a `JsonSerializer` class and I chose the wrong one! The correct import statement is - \r\n\r\n```\r\nimport org.springframework.kafka.support.serializer.JsonSerializer;\r\n```","title":"Failed to construct kafka producer with Springboot","body":"<p>@3barney's solution helped me! Intellij IDE gives you 2 options for a <code>JsonSerializer</code> class and I chose the wrong one! The correct import statement is -</p>\n<pre><code>import org.springframework.kafka.support.serializer.JsonSerializer;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23763569,"reputation":1,"user_id":21178690,"display_name":"Артур Ишмаев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680529946,"creation_date":1680529946,"answer_id":75920234,"question_id":56465830,"body_markdown":"This happens if you forget to connect the jackson-databind dependency","title":"Failed to construct kafka producer with Springboot","body":"<p>This happens if you forget to connect the jackson-databind dependency</p>\n"},{"tags":[],"owner":{"account_id":30026891,"reputation":1,"user_id":23010865,"display_name":"Paul Montoya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701304465,"creation_date":1701304465,"answer_id":77575242,"question_id":56465830,"body_markdown":"This can also occur if you cannot find the corresponding certificates (jks) either because the ssl.truststore.location is incorrect or for any other reason","title":"Failed to construct kafka producer with Springboot","body":"<p>This can also occur if you cannot find the corresponding certificates (jks) either because the ssl.truststore.location is incorrect or for any other reason</p>\n"}],"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38591,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57681796,"answer_count":5,"score":6,"last_activity_date":1701304465,"creation_date":1559757962,"question_id":56465830,"body_markdown":"I&#39;m doing a simple kafka example project with Springboot and I&#39;m having the error where the producer don&#39;t create but the rest works well.\r\n\r\nThe errors that I have it seems that it threw a exception because the producer didn&#39;t create but isn&#39;t explains why and I don&#39;t know:\r\n```\r\n2019-06-05 14:45:21.733  INFO 5988 --- [nio-8080-exec-2] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 0 ms.\r\n2019-06-05 14:45:21.755 ERROR 5988 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka producer] with root cause\r\n\r\njava.lang.InstantiationException: null\r\n\tat java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n\tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:306) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:302) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:370) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:289) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory.createKafkaProducer(DefaultKafkaProducerFactory.java:318) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory.createProducer(DefaultKafkaProducerFactory.java:305) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.KafkaTemplate.getTheProducer(KafkaTemplate.java:446) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:376) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:193) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat com.example.kafka.KafkaSimpleController.post(KafkaSimpleController.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\r\n```\r\n\r\nHere its my kafka configuration:\r\n```\r\n@Configuration\r\npublic class KafkaConfig {\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, SimpleModel&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n        config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\r\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(config);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n```\r\n\r\nHere its the controller, the endpoint &quot;/api/kafka&quot;:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/kafka&quot;)\r\npublic class KafkaSimpleController {\r\n\r\n    private KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate;\r\n\r\n    @Autowired\r\n    public KafkaSimpleController(KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate) {\r\n        this.kafkaTemplate = kafkaTemplate;\r\n\r\n    }\r\n\r\n    @PostMapping\r\n    public void post(@RequestBody SimpleModel simpleModel) {\r\n        kafkaTemplate.send(&quot;myTopic&quot;, simpleModel);\r\n    }\r\n}\r\n```","title":"Failed to construct kafka producer with Springboot","body":"<p>I'm doing a simple kafka example project with Springboot and I'm having the error where the producer don't create but the rest works well.</p>\n\n<p>The errors that I have it seems that it threw a exception because the producer didn't create but isn't explains why and I don't know:</p>\n\n<pre><code>2019-06-05 14:45:21.733  INFO 5988 --- [nio-8080-exec-2] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 0 ms.\n2019-06-05 14:45:21.755 ERROR 5988 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka producer] with root cause\n\njava.lang.InstantiationException: null\n    at java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:306) ~[kafka-clients-2.0.1.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:302) ~[kafka-clients-2.0.1.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:370) ~[kafka-clients-2.0.1.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:289) ~[kafka-clients-2.0.1.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory.createKafkaProducer(DefaultKafkaProducerFactory.java:318) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory.createProducer(DefaultKafkaProducerFactory.java:305) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.KafkaTemplate.getTheProducer(KafkaTemplate.java:446) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:376) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:193) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at com.example.kafka.KafkaSimpleController.post(KafkaSimpleController.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\n</code></pre>\n\n<p>Here its my kafka configuration:</p>\n\n<pre><code>@Configuration\npublic class KafkaConfig {\n\n    @Bean\n    public ProducerFactory&lt;String, SimpleModel&gt; producerFactory() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n        config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"127.0.0.1:9092\");\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(config);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n\n<p>Here its the controller, the endpoint \"/api/kafka\":</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/kafka\")\npublic class KafkaSimpleController {\n\n    private KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate;\n\n    @Autowired\n    public KafkaSimpleController(KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate) {\n        this.kafkaTemplate = kafkaTemplate;\n\n    }\n\n    @PostMapping\n    public void post(@RequestBody SimpleModel simpleModel) {\n        kafkaTemplate.send(\"myTopic\", simpleModel);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","build"],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701304438,"creation_date":1701304438,"question_id":77575241,"body_markdown":"My gardle build is failing when I am trying to run gradle clean build. The classes are in `oa-common-3.0.0.jar` and I have included it in the `lib` directory but still its failing to read the jar on runtime..Any suggestion what I am doing wrong\r\n\r\nMy build.gradle\r\n\r\n    repositories {\r\n    \tflatDir {\r\n           dirs &#39;lib&#39;\r\n        }\r\n    \tmavenCentral()\r\n    \tmavenLocal()\r\n    \tmaven {\r\n    \t\turl &quot;${artifactory_contextUrl}&quot;\r\n    \t\tcredentials {\r\n    \t\t\tusername &quot;${artifactory_user}&quot;\r\n    \t\t\tpassword &quot;${artifactory_password}&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \timplementation files(&#39;lib/oa-common-3.0.0.jar&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-jdbc&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-cloud-connectors&#39;)\r\n\r\nAnd the Error ::\r\n\r\n    $ gradle clean build\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    \r\n    &gt; Task :compileJava\r\n    Note: Hibernate JPA 2 Static-Metamodel Generator 5.4.7.Final\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:40: error: package com.ge.predix.uaa.token.lib does not exist\r\n    import com.ge.predix.uaa.token.lib.FastTokenServices;\r\n                                      ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:41: error: package com.ge.predix.uaa.token.lib does not exist\r\n    import com.ge.predix.uaa.token.lib.FastTokenServicesCreator;\r\n                                      ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:176: error: cannot find symbol\r\n            public FastTokenServices setFastTokenBean() {\r\n                   ^\r\n      symbol:   class FastTokenServices\r\n      location: class CloudPlatformSecuirtyResourceServerConfig\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: package springfox.documentation.builders does not exist\r\n    import static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\r\n                                                  ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: static import only from classes and interfaces\r\n    import static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\r\n    ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: package springfox.documentation.spi does not exist\r\n    import static springfox.documentation.spi.DocumentationType.SWAGGER_2;\r\n                                             ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: static import only from classes and interfaces\r\n    import static springfox.documentation.spi.DocumentationType.SWAGGER_2;","title":"Gradle build failing to read the classes","body":"<p>My gardle build is failing when I am trying to run gradle clean build. The classes are in <code>oa-common-3.0.0.jar</code> and I have included it in the <code>lib</code> directory but still its failing to read the jar on runtime..Any suggestion what I am doing wrong</p>\n<p>My build.gradle</p>\n<pre><code>repositories {\n    flatDir {\n       dirs 'lib'\n    }\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;${artifactory_contextUrl}&quot;\n        credentials {\n            username &quot;${artifactory_user}&quot;\n            password &quot;${artifactory_password}&quot;\n        }\n    }\n}\n    implementation files('lib/oa-common-3.0.0.jar')\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-jdbc')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('org.springframework.boot:spring-boot-starter-cloud-connectors')\n</code></pre>\n<p>And the Error ::</p>\n<pre><code>$ gradle clean build\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n&gt; Task :compileJava\nNote: Hibernate JPA 2 Static-Metamodel Generator 5.4.7.Final\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:40: error: package com.ge.predix.uaa.token.lib does not exist\nimport com.ge.predix.uaa.token.lib.FastTokenServices;\n                                  ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:41: error: package com.ge.predix.uaa.token.lib does not exist\nimport com.ge.predix.uaa.token.lib.FastTokenServicesCreator;\n                                  ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:176: error: cannot find symbol\n        public FastTokenServices setFastTokenBean() {\n               ^\n  symbol:   class FastTokenServices\n  location: class CloudPlatformSecuirtyResourceServerConfig\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: package springfox.documentation.builders does not exist\nimport static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\n                                              ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: static import only from classes and interfaces\nimport static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\n^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: package springfox.documentation.spi does not exist\nimport static springfox.documentation.spi.DocumentationType.SWAGGER_2;\n                                         ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: static import only from classes and interfaces\nimport static springfox.documentation.spi.DocumentationType.SWAGGER_2;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1701303384,"post_id":77575169,"comment_id":136760499,"body_markdown":"No, I don&#39;t think Java&#39;s type system supports what you want to do.","body":"No, I don&#39;t think Java&#39;s type system supports what you want to do."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701303813,"post_id":77575169,"comment_id":136760552,"body_markdown":"If the list of classes you need is fixed, you could just enumerate them with overloaded methods: `public Object get(MyClass1 obj)`, `public Object get(MyClass2 obj)` etc.","body":"If the list of classes you need is fixed, you could just enumerate them with overloaded methods: <code>public Object get(MyClass1 obj)</code>, <code>public Object get(MyClass2 obj)</code> etc."},{"owner":{"account_id":5175809,"reputation":1054,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1701303966,"post_id":77575169,"comment_id":136760566,"body_markdown":"Don&#39;t think it is possible. You can check on any class if a method with a given name and signature is implemented by using reflection, but as to my knowledge there is no way of knowing about *any* classes that could possibly be loaded from *somewhere*.","body":"Don&#39;t think it is possible. You can check on any class if a method with a given name and signature is implemented by using reflection, but as to my knowledge there is no way of knowing about <i>any</i> classes that could possibly be loaded from <i>somewhere</i>."},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":2,"creation_date":1701304250,"post_id":77575169,"comment_id":136760601,"body_markdown":"No, that&#39;s not possible. The behavior you&#39;re describing is exactly what an interface is for. If there is any way you can create an interface with the `getCode()` method and make all of these classes inherit from the interface, then this is fairly trivial. If not, you will have to use reflection.","body":"No, that&#39;s not possible. The behavior you&#39;re describing is exactly what an interface is for. If there is any way you can create an interface with the <code>getCode()</code> method and make all of these classes inherit from the interface, then this is fairly trivial. If not, you will have to use reflection."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1701304251,"post_id":77575169,"comment_id":136760602,"body_markdown":"I other languages, that&#39;s called duck typing, and no Java definitely does not support it.","body":"I other languages, that&#39;s called duck typing, and no Java definitely does not support it."}],"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701302812,"creation_date":1701302812,"question_id":77575169,"body_markdown":"Is it possible, in java, to have a generic based on the existence of a function rather then class or interface?\r\n\r\nExample:\r\nLet&#39;s say that I have a few classes that I have no control over.\r\nThey do not extend or implement any class in common, but all have the method getCode.\r\n\r\nAnd I would like to create a single cache that can store instances of any of those classes:\r\n\r\n```java\r\npublic class MyClass1 {\r\n  public String getCode() {\r\n      return &quot;A&quot;;\r\n  }\r\n  // some other methods\r\n}\r\n\r\n```\r\n```java  \r\npublic class MyClass2 {\r\n  public String getCode() {\r\n      return &quot;B&quot;;\r\n  }\r\n\r\n  // some other methods\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic class CodeBasedCache&lt;ClassWithGetCode&gt; {\r\n  \r\n  Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\r\n  \r\n  public Object get(ClassWithGetCode obj) {\r\n      return cache.get(obj.getClass().getSimpleName() + obj.getCode());\r\n  }\r\n\r\n  public void put(ClassWithGetCode obj) {\r\n      cache.put(obj.getClass().getSimpleName() + obj.getCode(), obj);\r\n  }\r\n}\r\n\r\n```\r\n\r\nI am aware that I could use reflection to solve this issue by doing something like:\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CodeBasedCache {\r\n\r\n\tMap&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\r\n\r\n\tpublic Object get(Object obj) {\r\n\t\ttry {\r\n\t\t\tString code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\r\n\t\t\treturn cache.get(obj.getClass().getSimpleName() + code);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void put(Object obj) {\r\n\t\ttry {\r\n\t\t\tString code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\r\n\t\t\tcache.put(obj.getClass().getSimpleName() + code, obj);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// do nothing\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nHowever this solution will not give compilation error if someone tries to call the put with an Object that does not have the method getCode, throwing only a runtime exception if that happens, which is not ideal.\r\n\r\nI ask this, because I have implemented something similar in TypeScript, and was wondering if in java (maybe on one of the latest versions), this would be possible.","title":"Generic based on existence of method","body":"<p>Is it possible, in java, to have a generic based on the existence of a function rather then class or interface?</p>\n<p>Example:\nLet's say that I have a few classes that I have no control over.\nThey do not extend or implement any class in common, but all have the method getCode.</p>\n<p>And I would like to create a single cache that can store instances of any of those classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass1 {\n  public String getCode() {\n      return &quot;A&quot;;\n  }\n  // some other methods\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass2 {\n  public String getCode() {\n      return &quot;B&quot;;\n  }\n\n  // some other methods\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CodeBasedCache&lt;ClassWithGetCode&gt; {\n  \n  Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\n  \n  public Object get(ClassWithGetCode obj) {\n      return cache.get(obj.getClass().getSimpleName() + obj.getCode());\n  }\n\n  public void put(ClassWithGetCode obj) {\n      cache.put(obj.getClass().getSimpleName() + obj.getCode(), obj);\n  }\n}\n\n</code></pre>\n<p>I am aware that I could use reflection to solve this issue by doing something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class CodeBasedCache {\n\n    Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\n\n    public Object get(Object obj) {\n        try {\n            String code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\n            return cache.get(obj.getClass().getSimpleName() + code);\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    public void put(Object obj) {\n        try {\n            String code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\n            cache.put(obj.getClass().getSimpleName() + code, obj);\n        } catch (Exception e) {\n            // do nothing\n        }\n    }\n}\n\n</code></pre>\n<p>However this solution will not give compilation error if someone tries to call the put with an Object that does not have the method getCode, throwing only a runtime exception if that happens, which is not ideal.</p>\n<p>I ask this, because I have implemented something similar in TypeScript, and was wondering if in java (maybe on one of the latest versions), this would be possible.</p>\n"},{"tags":["java","okhttp","server-sent-events"],"comments":[{"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"score":0,"creation_date":1695758990,"post_id":77183084,"comment_id":136066730,"body_markdown":"What version are you using? For version 3, your settings look correct https://github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/java/okhttp3/OkHttpClient.java#L386 , are you sure you are using version3","body":"What version are you using? For version 3, your settings look correct <a href=\"https://github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/java/okhttp3/OkHttpClient.java#L386\" rel=\"nofollow noreferrer\">github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/j&zwnj;&#8203;ava/&hellip;</a> , are you sure you are using version3"},{"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"score":0,"creation_date":1695765834,"post_id":77183084,"comment_id":136067692,"body_markdown":"I&#39;m using okhttp3 4.11.0 and okhttp-sse 4.11.0","body":"I&#39;m using okhttp3 4.11.0 and okhttp-sse 4.11.0"},{"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"score":0,"creation_date":1695771921,"post_id":77183084,"comment_id":136068241,"body_markdown":"I ended up setting the timeouts to 0 to indicate no timeout, which I think makes sense for SSE. So maybe my question isn&#39;t important, but still curious behavior that I don&#39;t understand.","body":"I ended up setting the timeouts to 0 to indicate no timeout, which I think makes sense for SSE. So maybe my question isn&#39;t important, but still curious behavior that I don&#39;t understand."}],"answers":[{"tags":[],"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701302585,"creation_date":1701302585,"answer_id":77575159,"question_id":77183084,"body_markdown":"The solution for okhttp-sse is to set the timeouts to `0` to indicate no timeout. \r\n\r\n```\r\nOkHttpClient sseHttpClient = new OkHttpClient.Builder()\r\n    .connectTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .readTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .writeTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .build();\r\n```","title":"Understanding socket timeout when using okhttp-sse","body":"<p>The solution for okhttp-sse is to set the timeouts to <code>0</code> to indicate no timeout.</p>\n<pre><code>OkHttpClient sseHttpClient = new OkHttpClient.Builder()\n    .connectTimeout(0, TimeUnit.MINUTES) // no timeout\n    .readTimeout(0, TimeUnit.MINUTES) // no timeout\n    .writeTimeout(0, TimeUnit.MINUTES) // no timeout\n    .build();\n</code></pre>\n"}],"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77575159,"answer_count":1,"score":0,"last_activity_date":1701302585,"creation_date":1695758655,"question_id":77183084,"body_markdown":"I&#39;m using okhttp-sse to consume server side events in Java. \r\n\r\n```\r\nOkHttpClient httpClient = new OkHttpClient();\r\nString sseUrl = getSseUrl();\r\nRequest request = new Request.Builder()\r\n    .url(sseUrl)\r\n    .build();\r\nEventSource.Factory factory = EventSources.createFactory(httpClient);\r\nfactory.newEventSource(request, listener);\r\n```\r\n\r\nThis works and I receive events, but it fails after 10 seconds due to a SocketTimeoutException. I discovered that okhttp has a default timeout of 10 seconds, so this makes sense. \r\n\r\nI increased the timeouts on my client to 1 minute, but now I get that SocketTimeoutException after 3 minutes. I don&#39;t understand what is going on. I would have expected the timeout after 1 minute.\r\n\r\n```\r\nOkHttpClient httpClient = new OkHttpClient.Builder()\r\n    .connectTimeout(1, TimeUnit.MINUTES)\r\n    .readTimeout(1, TimeUnit.MINUTES)\r\n    .writeTimeout(1, TimeUnit.MINUTES)\r\n    .build();\r\n```\r\n\r\nCan anyone shed some light on this? ","title":"Understanding socket timeout when using okhttp-sse","body":"<p>I'm using okhttp-sse to consume server side events in Java.</p>\n<pre><code>OkHttpClient httpClient = new OkHttpClient();\nString sseUrl = getSseUrl();\nRequest request = new Request.Builder()\n    .url(sseUrl)\n    .build();\nEventSource.Factory factory = EventSources.createFactory(httpClient);\nfactory.newEventSource(request, listener);\n</code></pre>\n<p>This works and I receive events, but it fails after 10 seconds due to a SocketTimeoutException. I discovered that okhttp has a default timeout of 10 seconds, so this makes sense.</p>\n<p>I increased the timeouts on my client to 1 minute, but now I get that SocketTimeoutException after 3 minutes. I don't understand what is going on. I would have expected the timeout after 1 minute.</p>\n<pre><code>OkHttpClient httpClient = new OkHttpClient.Builder()\n    .connectTimeout(1, TimeUnit.MINUTES)\n    .readTimeout(1, TimeUnit.MINUTES)\n    .writeTimeout(1, TimeUnit.MINUTES)\n    .build();\n</code></pre>\n<p>Can anyone shed some light on this?</p>\n"},{"tags":["java","logging","exception"],"comments":[{"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"score":1,"creation_date":1440809473,"post_id":32281578,"comment_id":52441685,"body_markdown":"Are you using SLF4J, java.util.Logger, or something else?","body":"Are you using SLF4J, java.util.Logger, or something else?"},{"owner":{"account_id":1416522,"reputation":91334,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1440810416,"post_id":32281578,"comment_id":52441845,"body_markdown":"Don&#39;t forget to set an uncaughtExceptionHandler to catch the exceptions from threads that die due to uncaught exceptions.","body":"Don&#39;t forget to set an uncaughtExceptionHandler to catch the exceptions from threads that die due to uncaught exceptions."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701302483,"creation_date":1440810832,"answer_id":32281749,"question_id":32281578,"body_markdown":"There are two open source static analysis tools that are routinely used for checking for undesirable patterns in a codebase: FindBugs and PMD.  I did a quick scan of the standard rule sets for these tools, and I didn&#39;t spot any that would check for the pattern you want to eliminate from your code-base.\r\n\r\nHowever, both FindBugs and PMD allow you to write your own custom rules.  It is not that difficult to do.\r\n\r\n------------------------\r\n\r\nAside: I hope that examples are &quot;purely for illustration&quot; and that you never deal with exceptions like that in your real code.  If you do, (IMO) then that is a far worse problem than the problem you are currently focusing on:\r\n\r\n  - Catching and throwing `Exception` is a really bad idea.  When you `catch` the `Exception` class (or `Throwable`), your handler has no idea what exceptions to expect.  If you throw or rethrow `Exception`, the enclosing method must either handle it (see previous sentence) or declare `Exception` in the signature.  That makes it even worse.  If you are not careful, this spreads like a cancer throughout your code base.\r\n\r\n  - Catching an exception, logging it and then rethrowing it is *generally* a bad idea too.  If you are not careful, the same exception is going to be logged multiple times.  You are better off logging the exception only at the point that it is finally handled.  If you always include the stacktrace, then the programmer has all of the information he/she needs to figure out where the exception was thrown, and the source code will tell him/her all of the precise call chain ... without any need for other logging.\r\n\r\n    &lt;sup&gt;However, there are cases where logging all exceptions and rethrowing is necessary.  For example, in applications that comprise multiple components running in different JVMs (maybe on different machines or platforms like AWS Lambda) it can be helpful to implement uniform logging of all exceptions + stacktraces at the platform boundaries.&lt;/sup&gt;\r\n","title":"In Java, how can I ensure all exceptions that are caught and logged provide a stacktrace in my system?","body":"<p>There are two open source static analysis tools that are routinely used for checking for undesirable patterns in a codebase: FindBugs and PMD.  I did a quick scan of the standard rule sets for these tools, and I didn't spot any that would check for the pattern you want to eliminate from your code-base.</p>\n<p>However, both FindBugs and PMD allow you to write your own custom rules.  It is not that difficult to do.</p>\n<hr />\n<p>Aside: I hope that examples are &quot;purely for illustration&quot; and that you never deal with exceptions like that in your real code.  If you do, (IMO) then that is a far worse problem than the problem you are currently focusing on:</p>\n<ul>\n<li><p>Catching and throwing <code>Exception</code> is a really bad idea.  When you <code>catch</code> the <code>Exception</code> class (or <code>Throwable</code>), your handler has no idea what exceptions to expect.  If you throw or rethrow <code>Exception</code>, the enclosing method must either handle it (see previous sentence) or declare <code>Exception</code> in the signature.  That makes it even worse.  If you are not careful, this spreads like a cancer throughout your code base.</p>\n</li>\n<li><p>Catching an exception, logging it and then rethrowing it is <em>generally</em> a bad idea too.  If you are not careful, the same exception is going to be logged multiple times.  You are better off logging the exception only at the point that it is finally handled.  If you always include the stacktrace, then the programmer has all of the information he/she needs to figure out where the exception was thrown, and the source code will tell him/her all of the precise call chain ... without any need for other logging.</p>\n<p><sup>However, there are cases where logging all exceptions and rethrowing is necessary.  For example, in applications that comprise multiple components running in different JVMs (maybe on different machines or platforms like AWS Lambda) it can be helpful to implement uniform logging of all exceptions + stacktraces at the platform boundaries.</sup></p>\n</li>\n</ul>\n"}],"owner":{"account_id":2226640,"reputation":307,"user_id":1965229,"display_name":"keian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32281749,"answer_count":1,"score":0,"last_activity_date":1701302483,"creation_date":1440809115,"question_id":32281578,"body_markdown":"I&#39;d like to be able to prevent code like this from getting checked in to my code base:\r\n\r\n    catch (Exception e)\r\n    {\r\n       LOG.error( &quot;DeleteDir of &quot; + tempDir + &quot; failed: &quot; + e );\r\n       throw e;\r\n    }\r\nThis kind of logging only logs Exception.toString() and provides no other details that an operator may need, e.g. a stack trace.\r\n\r\nI want to enforce all catch-log blocks to do the following:\r\n\r\n    catch (Exception e)\r\n    {\r\n       LOG.error( &quot;DeleteDir of &quot; + tempDir + &quot; failed: &quot; + e, e );\r\n       throw e;\r\n    }\r\n\r\nThis way I can configure my underlying logging implementation to be as verbose (or as not) as desired.\r\n\r\nAre there any static analysis tools, or other strategies that do this?  I looked for a FindBugs check, but didn&#39;t find anything.","title":"In Java, how can I ensure all exceptions that are caught and logged provide a stacktrace in my system?","body":"<p>I'd like to be able to prevent code like this from getting checked in to my code base:</p>\n\n<pre><code>catch (Exception e)\n{\n   LOG.error( \"DeleteDir of \" + tempDir + \" failed: \" + e );\n   throw e;\n}\n</code></pre>\n\n<p>This kind of logging only logs Exception.toString() and provides no other details that an operator may need, e.g. a stack trace.</p>\n\n<p>I want to enforce all catch-log blocks to do the following:</p>\n\n<pre><code>catch (Exception e)\n{\n   LOG.error( \"DeleteDir of \" + tempDir + \" failed: \" + e, e );\n   throw e;\n}\n</code></pre>\n\n<p>This way I can configure my underlying logging implementation to be as verbose (or as not) as desired.</p>\n\n<p>Are there any static analysis tools, or other strategies that do this?  I looked for a FindBugs check, but didn't find anything.</p>\n"},{"tags":["java","arrays","sub-array"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1696866138,"post_id":77260137,"comment_id":136204620,"body_markdown":"Have you attempted to write code to achieve your objective, yourself? Or are you just expecting someone to post the code for you? Personally, I don&#39;t understand your question. What do you mean by: _distinct pairs of halves of the array_ Can you post a sample array and the distinct pairs of halves that you obtain from that array?","body":"Have you attempted to write code to achieve your objective, yourself? Or are you just expecting someone to post the code for you? Personally, I don&#39;t understand your question. What do you mean by: <i>distinct pairs of halves of the array</i> Can you post a sample array and the distinct pairs of halves that you obtain from that array?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696876143,"creation_date":1696868024,"answer_id":77260347,"question_id":77260137,"body_markdown":"&gt; _&quot;... I&#39;m sure there&#39;s a brute force way, but I want something more efficent and I can&#39;t really figure it out. ...&quot;_\r\n\r\nYou can _encapsulate_ the _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html)_ class, to provide a _contains_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass IntArrayList extends ArrayList&lt;Integer[]&gt; {\r\n    boolean contains(int a, int b) {\r\n        for (Integer[] e : this)\r\n            if ((e[0] == a &amp;&amp; e[1] == b) || (e[0] == b &amp;&amp; e[1] == a))\r\n                return true;\r\n        return false;\r\n    }\r\n\r\n    boolean add(int a, int b) {\r\n        return super.add(new Integer[] { a, b });\r\n    }\r\n}\r\nIntArrayList list = new IntArrayList();\r\nInteger[] values = { 1, 2, 3 };\r\nfor (int a : values)\r\n    for (int b : values) {\r\n        if (a == b) continue;\r\n        if (!list.contains(a, b)) list.add(a, b);\r\n    }\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1, 2]\r\n[1, 3]\r\n[2, 3]\r\n```","title":"What are some efficient ways I can generate distinct halves of an integer array?","body":"<blockquote>\n<p><em>&quot;... I'm sure there's a brute force way, but I want something more efficent and I can't really figure it out. ...&quot;</em></p>\n</blockquote>\n<p>You can <em>encapsulate</em> the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> class, to provide a <em>contains</em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class IntArrayList extends ArrayList&lt;Integer[]&gt; {\n    boolean contains(int a, int b) {\n        for (Integer[] e : this)\n            if ((e[0] == a &amp;&amp; e[1] == b) || (e[0] == b &amp;&amp; e[1] == a))\n                return true;\n        return false;\n    }\n\n    boolean add(int a, int b) {\n        return super.add(new Integer[] { a, b });\n    }\n}\nIntArrayList list = new IntArrayList();\nInteger[] values = { 1, 2, 3 };\nfor (int a : values)\n    for (int b : values) {\n        if (a == b) continue;\n        if (!list.contains(a, b)) list.add(a, b);\n    }\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2]\n[1, 3]\n[2, 3]\n</code></pre>\n"}],"owner":{"account_id":20932312,"reputation":1,"user_id":15378419,"display_name":"Eggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1701301963,"creation_date":1696865812,"question_id":77260137,"body_markdown":"Given an integer array, I want to print out all the distinct pairs of halves of the array. [2,1] [3,2] and [3,2] [2,1] can be considered distinct.\r\n\r\nI&#39;m sure there&#39;s a brute force way, but I want something more efficient and I can&#39;t really figure it out.","title":"What are some efficient ways I can generate distinct halves of an integer array?","body":"<p>Given an integer array, I want to print out all the distinct pairs of halves of the array. [2,1] [3,2] and [3,2] [2,1] can be considered distinct.</p>\n<p>I'm sure there's a brute force way, but I want something more efficient and I can't really figure it out.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"owner":{"account_id":1612466,"reputation":125,"user_id":1491037,"display_name":"amol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701301829,"creation_date":1701301829,"question_id":77575116,"body_markdown":"I am trying to create a `search` API in Spring boot using rest. I am getting the hang of `ExampleMatchers` in JPA to filter &amp; search. There is a particular scenario where I need to filter through multiple values as in a list of values for a particular field\r\n\r\nBelow are the JPA entities:\r\n\r\n```\r\npublic class ETopic {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;)\r\n  int id;\r\n\r\n  @Column(name = &quot;topic_name&quot;)\r\n  String topicName;\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;tenant_id&quot;, nullable = false)\r\n  @Fetch(value = FetchMode.SELECT)\r\n  @JsonBackReference\r\n  ETenant tenant;\r\n}\r\n\r\n\r\npublic class ETenant {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tint id;\r\n\r\n\t@Column(name = &quot;tenant_name&quot;)\r\n\tString tenantName;\r\n\r\n    @OneToMany(mappedBy = &quot;tenant&quot;)\r\n\t@JsonManagedReference\r\n\tList&lt;ERole&gt; roles;\r\n\r\n\t@OneToMany(mappedBy = &quot;tenant&quot;)\r\n\t@JsonManagedReference\r\n\tList&lt;ETopic&gt; topics;\r\n}\r\n```\r\n\r\nI need to fetch `ETopic` using multiple `ETenant` names\r\n\r\nI have not been able to find anything in example matchers to use IN clause\r\n\r\n```\r\nvar pageable = Pageable.ofSize(request.getPageSize()).withPage(request.getPageNo());\r\n\r\nExampleMatcher exampleMatcher =\r\n        ExampleMatcher.matchingAny()\r\n            .withMatcher(\r\n                &quot;topicName&quot;, ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\r\n            .withMatcher(&quot;tenant&quot;, ExampleMatcher.GenericPropertyMatchers.contains());\r\n\r\nList&lt;ETenant&gt; tenants = List.of(ETenant.builder().id(3).build(), ETenant.builder().id(4).build());  // unable to use this\r\n\r\nETopic eTopicEg = ETopic.builder().topicName(request.getSearchTerm()).tenant(ETenant.builder().id(3).build()).build();\r\nExample&lt;ETopic&gt; example = Example.of(eTopicEg, exampleMatcher);\r\nPage&lt;ETopic&gt; eTopics = topicRepository.findAll(example, pageable);\r\n```","title":"How do i use IN clause in JPA ExampleMatcher?","body":"<p>I am trying to create a <code>search</code> API in Spring boot using rest. I am getting the hang of <code>ExampleMatchers</code> in JPA to filter &amp; search. There is a particular scenario where I need to filter through multiple values as in a list of values for a particular field</p>\n<p>Below are the JPA entities:</p>\n<pre><code>public class ETopic {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  int id;\n\n  @Column(name = &quot;topic_name&quot;)\n  String topicName;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;tenant_id&quot;, nullable = false)\n  @Fetch(value = FetchMode.SELECT)\n  @JsonBackReference\n  ETenant tenant;\n}\n\n\npublic class ETenant {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    int id;\n\n    @Column(name = &quot;tenant_name&quot;)\n    String tenantName;\n\n    @OneToMany(mappedBy = &quot;tenant&quot;)\n    @JsonManagedReference\n    List&lt;ERole&gt; roles;\n\n    @OneToMany(mappedBy = &quot;tenant&quot;)\n    @JsonManagedReference\n    List&lt;ETopic&gt; topics;\n}\n</code></pre>\n<p>I need to fetch <code>ETopic</code> using multiple <code>ETenant</code> names</p>\n<p>I have not been able to find anything in example matchers to use IN clause</p>\n<pre><code>var pageable = Pageable.ofSize(request.getPageSize()).withPage(request.getPageNo());\n\nExampleMatcher exampleMatcher =\n        ExampleMatcher.matchingAny()\n            .withMatcher(\n                &quot;topicName&quot;, ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\n            .withMatcher(&quot;tenant&quot;, ExampleMatcher.GenericPropertyMatchers.contains());\n\nList&lt;ETenant&gt; tenants = List.of(ETenant.builder().id(3).build(), ETenant.builder().id(4).build());  // unable to use this\n\nETopic eTopicEg = ETopic.builder().topicName(request.getSearchTerm()).tenant(ETenant.builder().id(3).build()).build();\nExample&lt;ETopic&gt; example = Example.of(eTopicEg, exampleMatcher);\nPage&lt;ETopic&gt; eTopics = topicRepository.findAll(example, pageable);\n</code></pre>\n"},{"tags":["java","jakarta-ee","jboss","wildfly","elytron"],"answers":[{"tags":[],"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701301573,"creation_date":1701301573,"answer_id":77575102,"question_id":77545540,"body_markdown":"Answering my own question here, just in case anyone else runs into this issue:\r\n\r\nUse a \r\n\r\n    &lt;simple-digest-mapper algorithm=&quot;simple-digest-sha-256&quot; password-index=&quot;1&quot;/&gt;\r\n\r\nat the jdbc-realm and a &quot;PLAIN&quot; mechanism at the SASL auth factory:\r\n\r\n            &lt;sasl-authentication-factory name=&quot;jlawyer-sasl-authentication-factory&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;jlawyer-security-domain&quot;&gt;\r\n                &lt;mechanism-configuration&gt;\r\n                    &lt;mechanism mechanism-name=&quot;PLAIN&quot;&gt;\r\n                        &lt;mechanism-realm realm-name=&quot;jlawyer-jdbc-realm&quot;/&gt;\r\n                    &lt;/mechanism&gt;\r\n                &lt;/mechanism-configuration&gt;\r\n            &lt;/sasl-authentication-factory&gt;\r\n\r\nThis did the trick.","title":"Wildfly / Elytron and jdbc-realm with digest","body":"<p>Answering my own question here, just in case anyone else runs into this issue:</p>\n<p>Use a</p>\n<pre><code>&lt;simple-digest-mapper algorithm=&quot;simple-digest-sha-256&quot; password-index=&quot;1&quot;/&gt;\n</code></pre>\n<p>at the jdbc-realm and a &quot;PLAIN&quot; mechanism at the SASL auth factory:</p>\n<pre><code>        &lt;sasl-authentication-factory name=&quot;jlawyer-sasl-authentication-factory&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;jlawyer-security-domain&quot;&gt;\n            &lt;mechanism-configuration&gt;\n                &lt;mechanism mechanism-name=&quot;PLAIN&quot;&gt;\n                    &lt;mechanism-realm realm-name=&quot;jlawyer-jdbc-realm&quot;/&gt;\n                &lt;/mechanism&gt;\n            &lt;/mechanism-configuration&gt;\n        &lt;/sasl-authentication-factory&gt;\n</code></pre>\n<p>This did the trick.</p>\n"}],"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701301573,"creation_date":1700857894,"question_id":77545540,"body_markdown":"I am migrating an application from Wildfly 16 to 30 and have a hard time finding the right security configuration.\r\n\r\nWhat I have in Wildfly 16:\r\n(1) a jdbc-based authentication with base64&#39;ed SHA-256 passwords / authorization like this:\r\n```\r\n                &lt;security-domain name=&quot;j-lawyer-security&quot; cache-type=&quot;default&quot;&gt;\r\n                    &lt;authentication&gt;\r\n                        &lt;login-module code=&quot;Database&quot; flag=&quot;required&quot;&gt;\r\n                            &lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:/jlawyerdb&quot;/&gt;\r\n                            &lt;module-option name=&quot;principalsQuery&quot; value=&quot;select password from security_users where principalId=?&quot;/&gt;\r\n                            &lt;module-option name=&quot;rolesQuery&quot; value=&quot;select role, &#39;Roles&#39; from security_roles where principalId=?&quot;/&gt;\r\n                            &lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;anonymous&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA-256&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashEncoding&quot; value=&quot;base64&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashUserPassword&quot; value=&quot;true&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashStorePassword&quot; value=&quot;false&quot;/&gt;\r\n                        &lt;/login-module&gt;\r\n                    &lt;/authentication&gt;\r\n                &lt;/security-domain&gt;\r\n            &lt;/security-domains&gt;\r\n```\r\n\r\nThe application code refers to this security domain. \r\n\r\n(2) a remote EJB client that looks like this:\r\n```\r\nProperties properties = new Properties();\r\n            properties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n\r\n            // begin: for JMS only\r\n            properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n            properties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\r\n            properties.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;);\r\n            properties.put(Context.SECURITY_CREDENTIALS, pwString);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_ENABLED&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_STARTTLS&quot;, &quot;false&quot;);\r\n\r\n            InitialContext ic = new InitialContext(properties);\r\n            SecurityServiceRemote remote = (SecurityServiceRemote) ic.lookup(&quot;ejb:j-lawyer-server/j-lawyer-server-ejb//SecurityService!com.jdimension.jlawyer.services.SecurityServiceRemote&quot;);\r\n            remote.dummy();\r\n```\r\n\r\n(3) an REST API that uses HTTP basis authentication\r\n\r\nBoth the EJB client and HTTP BASIC work well together. \r\n\r\n**Wildfly 30**\r\n\r\nNow, in Wildfly 30, I am struggling to set up Elytron to achieve the same thing. \r\n\r\nWhat I have in Wildfly standalone.xml:\r\n\r\n(1) I changed the security realms to support database-based auth:\r\n```\r\n            &lt;security-realms&gt;\r\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\r\n                &lt;jdbc-realm name=&quot;ApplicationRealm&quot;&gt;\r\n                    &lt;principal-query sql=&quot;select password from security_users where principalId=?&quot; data-source=&quot;somedb&quot;&gt;\r\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\r\n                    &lt;/principal-query&gt;\r\n                    &lt;principal-query sql=&quot;select role, &#39;Roles&#39; from security_roles where principalId=?&quot; data-source=&quot;jlawyerdb&quot;&gt;\r\n                        &lt;attribute-mapping&gt;\r\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\r\n                        &lt;/attribute-mapping&gt;\r\n                    &lt;/principal-query&gt;\r\n                &lt;/jdbc-realm&gt;\r\n            &lt;/security-realms&gt;\r\n```\r\n\r\nWithin the Elytron module, I have\r\n```\r\n            &lt;http&gt;\r\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/http-authentication-factory&gt;\r\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\r\n            &lt;/http&gt;\r\n            &lt;sasl&gt;\r\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\r\n                        &lt;mechanism mechanism-name=&quot;DIGEST-SHA-256&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/sasl-authentication-factory&gt;\r\n```\r\n\r\nIn the undertow module:\r\n```\r\n            &lt;application-security-domains&gt;\r\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\r\n            &lt;/application-security-domains&gt;\r\n```\r\n\r\nFor the remote EJB client, the lookup code successfully performs a lookup, but when calling some business logic it fails. Strangely, **when I create a SHA-256 and Base64 it and pass that value as a password in the lookup properties, it is authenticating successfully**! \r\n\r\nThat does not make sense to me, because it is essentially the same as storing clear text passwords on the server side, and in Wildfly 16 no such thing was needed.\r\n\r\nThe HTTP client (I try to open the web app that also hosts the REST backend) asks for credentials (browser popup) but then nothing works, not plain text password, not the hashed value. \r\n\r\nI set security to TRACE level logging and this is what I get when authenticating from within the browser:\r\n```\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /j-lawyer-io\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) No AuthConfigProvider for layer=HttpServlet, appContext=default-host /j-lawyer-io\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) JASPIC Unavailable, using HTTP authentication.\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) No CachedIdentity to restore.\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@6c3c7599] for mechanism [BASIC]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling AvailableRealmsCallback: realms = [j-lawyer-security-application]\r\n2023-11-24 21:26:31,706 DEBUG [org.wildfly.security.http.password] (default task-1) Username authentication. Realm: [j-lawyer-security-application], Username: [admin].\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling RealmCallback: selected = [j-lawyer-security-application]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling NameCallback: authenticationName = admin\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Principal assigning: [admin], pre-realm rewritten: [admin], realm name: [ApplicationRealm], post-realm rewritten: [admin], realm rewritten: [admin]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select password from security_users where principalId=? with value admin\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Key Mapper: Password credential created using algorithm column value [clear]\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select role, &#39;Roles&#39; from security_roles where principalId=? with value admin\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security.http.basic] (default task-1) User admin authenticated successfully!\r\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.password] (default task-1) Username authorization. Username: [admin].\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing principal admin.\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following attributes: [Roles] =&gt; [loginRole, writeAddressRole, createAddressRole, readArchiveFileRole, createOptionGroupRole, commonReportRole, createArchiveFileRole, writeOptionGroupRole, removeAddressRole, confidentialReportRole, readAddressRole, adminRole, writeArchiveFileRole, removeArchiveFileRole, deleteOptionGroupRole, importRole]\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following runtime attributes: [] =&gt; []\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;org.wildfly.security.auth.permission.LoginPermission&quot; &quot;&quot;) = true\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorization succeed\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) RunAs authorization succeed - the same identity\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthorizeCallback: authenticationID = admin  authorizationID = admin  authorized = true\r\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.basic] (default task-1) User admin authorization succeeded!\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthenticationCompleteCallback: succeed\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Handling SecurityIdentityCallback: identity = SecurityIdentity{principal=admin, securityDomain=org.wildfly.security.auth.server.SecurityDomain@3ea8f016, authorizationIdentity=EMPTY, realmInfo=RealmInfo{name=&#39;ApplicationRealm&#39;, securityRealm=org.wildfly.security.auth.realm.jdbc.JdbcSecurityRealm@51bd3c04}, creationTime=2023-11-24T20:26:31.707702901Z}\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;jakarta.security.jacc.WebResourcePermission&quot; &quot;/swagger-ui/&quot; &quot;GET&quot;) = false\r\n```\r\n\r\nQuestions:\r\n\r\n- At a conceptual level, am I doing something wrong?\r\n- is HTTP basic for a web app and hashed passwords working in combination with remote EJB clients?\r\n- When using hashing, is the remote client now supposed to provide the hashed value to the server in the lookup properties? If yes, what would the browser do? It cannot create such values.\r\n- As the Elytron doc seem either outdated or incomplete: anyone aware of a comparable example?\r\n\r\nThanks!","title":"Wildfly / Elytron and jdbc-realm with digest","body":"<p>I am migrating an application from Wildfly 16 to 30 and have a hard time finding the right security configuration.</p>\n<p>What I have in Wildfly 16:\n(1) a jdbc-based authentication with base64'ed SHA-256 passwords / authorization like this:</p>\n<pre><code>                &lt;security-domain name=&quot;j-lawyer-security&quot; cache-type=&quot;default&quot;&gt;\n                    &lt;authentication&gt;\n                        &lt;login-module code=&quot;Database&quot; flag=&quot;required&quot;&gt;\n                            &lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:/jlawyerdb&quot;/&gt;\n                            &lt;module-option name=&quot;principalsQuery&quot; value=&quot;select password from security_users where principalId=?&quot;/&gt;\n                            &lt;module-option name=&quot;rolesQuery&quot; value=&quot;select role, 'Roles' from security_roles where principalId=?&quot;/&gt;\n                            &lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;anonymous&quot;/&gt;\n                            &lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA-256&quot;/&gt;\n                            &lt;module-option name=&quot;hashEncoding&quot; value=&quot;base64&quot;/&gt;\n                            &lt;module-option name=&quot;hashUserPassword&quot; value=&quot;true&quot;/&gt;\n                            &lt;module-option name=&quot;hashStorePassword&quot; value=&quot;false&quot;/&gt;\n                        &lt;/login-module&gt;\n                    &lt;/authentication&gt;\n                &lt;/security-domain&gt;\n            &lt;/security-domains&gt;\n</code></pre>\n<p>The application code refers to this security domain.</p>\n<p>(2) a remote EJB client that looks like this:</p>\n<pre><code>Properties properties = new Properties();\n            properties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\n\n            // begin: for JMS only\n            properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n            properties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\n            properties.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;);\n            properties.put(Context.SECURITY_CREDENTIALS, pwString);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_ENABLED&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_STARTTLS&quot;, &quot;false&quot;);\n\n            InitialContext ic = new InitialContext(properties);\n            SecurityServiceRemote remote = (SecurityServiceRemote) ic.lookup(&quot;ejb:j-lawyer-server/j-lawyer-server-ejb//SecurityService!com.jdimension.jlawyer.services.SecurityServiceRemote&quot;);\n            remote.dummy();\n</code></pre>\n<p>(3) an REST API that uses HTTP basis authentication</p>\n<p>Both the EJB client and HTTP BASIC work well together.</p>\n<p><strong>Wildfly 30</strong></p>\n<p>Now, in Wildfly 30, I am struggling to set up Elytron to achieve the same thing.</p>\n<p>What I have in Wildfly standalone.xml:</p>\n<p>(1) I changed the security realms to support database-based auth:</p>\n<pre><code>            &lt;security-realms&gt;\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\n                &lt;jdbc-realm name=&quot;ApplicationRealm&quot;&gt;\n                    &lt;principal-query sql=&quot;select password from security_users where principalId=?&quot; data-source=&quot;somedb&quot;&gt;\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\n                    &lt;/principal-query&gt;\n                    &lt;principal-query sql=&quot;select role, 'Roles' from security_roles where principalId=?&quot; data-source=&quot;jlawyerdb&quot;&gt;\n                        &lt;attribute-mapping&gt;\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\n                        &lt;/attribute-mapping&gt;\n                    &lt;/principal-query&gt;\n                &lt;/jdbc-realm&gt;\n            &lt;/security-realms&gt;\n</code></pre>\n<p>Within the Elytron module, I have</p>\n<pre><code>            &lt;http&gt;\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/http-authentication-factory&gt;\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\n            &lt;/http&gt;\n            &lt;sasl&gt;\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\n                        &lt;mechanism mechanism-name=&quot;DIGEST-SHA-256&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/sasl-authentication-factory&gt;\n</code></pre>\n<p>In the undertow module:</p>\n<pre><code>            &lt;application-security-domains&gt;\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\n            &lt;/application-security-domains&gt;\n</code></pre>\n<p>For the remote EJB client, the lookup code successfully performs a lookup, but when calling some business logic it fails. Strangely, <strong>when I create a SHA-256 and Base64 it and pass that value as a password in the lookup properties, it is authenticating successfully</strong>!</p>\n<p>That does not make sense to me, because it is essentially the same as storing clear text passwords on the server side, and in Wildfly 16 no such thing was needed.</p>\n<p>The HTTP client (I try to open the web app that also hosts the REST backend) asks for credentials (browser popup) but then nothing works, not plain text password, not the hashed value.</p>\n<p>I set security to TRACE level logging and this is what I get when authenticating from within the browser:</p>\n<pre><code>2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /j-lawyer-io\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) No AuthConfigProvider for layer=HttpServlet, appContext=default-host /j-lawyer-io\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) JASPIC Unavailable, using HTTP authentication.\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) No CachedIdentity to restore.\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@6c3c7599] for mechanism [BASIC]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling AvailableRealmsCallback: realms = [j-lawyer-security-application]\n2023-11-24 21:26:31,706 DEBUG [org.wildfly.security.http.password] (default task-1) Username authentication. Realm: [j-lawyer-security-application], Username: [admin].\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling RealmCallback: selected = [j-lawyer-security-application]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling NameCallback: authenticationName = admin\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Principal assigning: [admin], pre-realm rewritten: [admin], realm name: [ApplicationRealm], post-realm rewritten: [admin], realm rewritten: [admin]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select password from security_users where principalId=? with value admin\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Key Mapper: Password credential created using algorithm column value [clear]\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select role, 'Roles' from security_roles where principalId=? with value admin\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security.http.basic] (default task-1) User admin authenticated successfully!\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.password] (default task-1) Username authorization. Username: [admin].\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing principal admin.\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following attributes: [Roles] =&gt; [loginRole, writeAddressRole, createAddressRole, readArchiveFileRole, createOptionGroupRole, commonReportRole, createArchiveFileRole, writeOptionGroupRole, removeAddressRole, confidentialReportRole, readAddressRole, adminRole, writeArchiveFileRole, removeArchiveFileRole, deleteOptionGroupRole, importRole]\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following runtime attributes: [] =&gt; []\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;org.wildfly.security.auth.permission.LoginPermission&quot; &quot;&quot;) = true\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorization succeed\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) RunAs authorization succeed - the same identity\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthorizeCallback: authenticationID = admin  authorizationID = admin  authorized = true\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.basic] (default task-1) User admin authorization succeeded!\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthenticationCompleteCallback: succeed\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Handling SecurityIdentityCallback: identity = SecurityIdentity{principal=admin, securityDomain=org.wildfly.security.auth.server.SecurityDomain@3ea8f016, authorizationIdentity=EMPTY, realmInfo=RealmInfo{name='ApplicationRealm', securityRealm=org.wildfly.security.auth.realm.jdbc.JdbcSecurityRealm@51bd3c04}, creationTime=2023-11-24T20:26:31.707702901Z}\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;jakarta.security.jacc.WebResourcePermission&quot; &quot;/swagger-ui/&quot; &quot;GET&quot;) = false\n</code></pre>\n<p>Questions:</p>\n<ul>\n<li>At a conceptual level, am I doing something wrong?</li>\n<li>is HTTP basic for a web app and hashed passwords working in combination with remote EJB clients?</li>\n<li>When using hashing, is the remote client now supposed to provide the hashed value to the server in the lookup properties? If yes, what would the browser do? It cannot create such values.</li>\n<li>As the Elytron doc seem either outdated or incomplete: anyone aware of a comparable example?</li>\n</ul>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","groovy"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1698596900,"post_id":77384177,"comment_id":136422843,"body_markdown":"Does this answer to your question https://www.baeldung.com/groovy-java-applications","body":"Does this answer to your question <a href=\"https://www.baeldung.com/groovy-java-applications\" rel=\"nofollow noreferrer\">baeldung.com/groovy-java-applications</a>"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":2,"creation_date":1698597141,"post_id":77384177,"comment_id":136422867,"body_markdown":"Statememts that groovy is a superset of java are inaccurate https://stackoverflow.com/q/4272068/217324","body":"Statememts that groovy is a superset of java are inaccurate <a href=\"https://stackoverflow.com/q/4272068/217324\">stackoverflow.com/q/4272068/217324</a>"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":2,"creation_date":1698598829,"post_id":77384177,"comment_id":136423074,"body_markdown":"if you pick groovy, java is available out of the box","body":"if you pick groovy, java is available out of the box"}],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698603243,"creation_date":1698603243,"answer_id":77384605,"question_id":77384177,"body_markdown":"Pick Groovy and then put your `.java` files inside the Groovy source root; the\r\nGroovy compiler falls back to the Java compiler for those files. Doing\r\nit this way, you make sure, that dependencies are handled correctly (if\r\nyou put them inside the Java source root, one of the source roots will\r\nbe compiled first and you will have a hard time handling dependencies\r\nproperly).\r\n","title":"How to chose both Java and Groovy?","body":"<p>Pick Groovy and then put your <code>.java</code> files inside the Groovy source root; the\nGroovy compiler falls back to the Java compiler for those files. Doing\nit this way, you make sure, that dependencies are handled correctly (if\nyou put them inside the Java source root, one of the source roots will\nbe compiled first and you will have a hard time handling dependencies\nproperly).</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77384605,"answer_count":1,"score":-2,"last_activity_date":1701301393,"creation_date":1698596532,"question_id":77384177,"body_markdown":"When you create a Spring Boot app via the Spring Initializr (which is the only way I know), you have to chose either Java or Groovy. This seems odd, as Groovy is just a superset of Java.\r\n\r\nAnyway, I want to use both!  \r\n\r\nHow does one have both Java and Groovy, like you can do seamlessly with Grails?","title":"How to chose both Java and Groovy?","body":"<p>When you create a Spring Boot app via the Spring Initializr (which is the only way I know), you have to chose either Java or Groovy. This seems odd, as Groovy is just a superset of Java.</p>\n<p>Anyway, I want to use both!</p>\n<p>How does one have both Java and Groovy, like you can do seamlessly with Grails?</p>\n"},{"tags":["java","intellij-idea","java-9","java-module"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1701264712,"post_id":77571532,"comment_id":136753927,"body_markdown":"Go to File-&gt;Project Structure-&gt;Modules. That&#39;s where you configure modules for IntelliJ. Do you see anything wrong there?","body":"Go to File-&gt;Project Structure-&gt;Modules. That&#39;s where you configure modules for IntelliJ. Do you see anything wrong there?"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701265140,"post_id":77571532,"comment_id":136754009,"body_markdown":"there i added each module to the source code: easytext.analysis and easytext.cli. You can see it marked as blue in the project explorer. I believe that there is a difference between IntelliJ Modules, maven Modules and Java 9 Modules.\n\nIf i use Intellij to create the &quot;module-info.java&quot; (instead of mannually) it only let me create the firt file, the 2nd it grey out showing that is not possible to create a 2nd one","body":"there i added each module to the source code: easytext.analysis and easytext.cli. You can see it marked as blue in the project explorer. I believe that there is a difference between IntelliJ Modules, maven Modules and Java 9 Modules.  If i use Intellij to create the &quot;module-info.java&quot; (instead of mannually) it only let me create the firt file, the 2nd it grey out showing that is not possible to create a 2nd one"},{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1701265518,"post_id":77571532,"comment_id":136754110,"body_markdown":"No, blue folders are just source directories. Modules are the folders with a blue rectangle on them. i.e. easytext-twomodules. Can you show a screenshot of the File-&gt;Project Structure-&gt;Modules dialog? I don&#39;t believe that you added two modules.","body":"No, blue folders are just source directories. Modules are the folders with a blue rectangle on them. i.e. easytext-twomodules. Can you show a screenshot of the File-&gt;Project Structure-&gt;Modules dialog? I don&#39;t believe that you added two modules."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701268767,"post_id":77571532,"comment_id":136754828,"body_markdown":"just added the Project Settings. But if i create module there, a directory in the project root will be created. Is that what we want?","body":"just added the Project Settings. But if i create module there, a directory in the project root will be created. Is that what we want?"},{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1701269065,"post_id":77571532,"comment_id":136754898,"body_markdown":"As I thought, you only have one module in there. Delete the existing module,  and add two modules you want by using the&quot;+&quot; button and then &quot;Import Module&quot;. Unlike the &quot;New Module&quot; option, &quot;Import Module&quot; does not create new folders. After that, the Content Roots of the two new modules, as well as their source directories, should be set to the two folders in src.","body":"As I thought, you only have one module in there. Delete the existing module,  and add two modules you want by using the&quot;+&quot; button and then &quot;Import Module&quot;. Unlike the &quot;New Module&quot; option, &quot;Import Module&quot; does not create new folders. After that, the Content Roots of the two new modules, as well as their source directories, should be set to the two folders in src."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701299245,"post_id":77571532,"comment_id":136760059,"body_markdown":"Thank you very much. That way i was able to configure the modules. The strange thing is that it looks we get an *.iml file per module, which means that now that files are part of the source code. Being a java project i was expecting that IDE could auto configure the project. too bad is not that way","body":"Thank you very much. That way i was able to configure the modules. The strange thing is that it looks we get an *.iml file per module, which means that now that files are part of the source code. Being a java project i was expecting that IDE could auto configure the project. too bad is not that way"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701301361,"post_id":77571532,"comment_id":136760293,"body_markdown":"Yet as we can see from the picture, after defining a java module dependency, there is no access to the package. Why is that?","body":"Yet as we can see from the picture, after defining a java module dependency, there is no access to the package. Why is that?"},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1701343768,"post_id":77571532,"comment_id":136765102,"body_markdown":"It seems you are facing https://youtrack.jetbrains.com/issue/IDEA-253066/src-test-allowed-to-declare-module-info.java-even-if-src-main-already-has-one, however, it&#39;s fixed. It seems you tried to create a JDK multi-module but not IDEA one. Can you share the full code in Google Drive or GitHub for us to take a look at?","body":"It seems you are facing <a href=\"https://youtrack.jetbrains.com/issue/IDEA-253066/src-test-allowed-to-declare-module-info.java-even-if-src-main-already-has-one\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-253066/&hellip;</a>, however, it&#39;s fixed. It seems you tried to create a JDK multi-module but not IDEA one. Can you share the full code in Google Drive or GitHub for us to take a look at?"}],"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701301300,"creation_date":1701264277,"question_id":77571532,"body_markdown":"I am trying to create a very simple java modules project in IntelliJ with multiple modules.\r\n\r\nAccordingly documentation in https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile inside *src* directory, each module should have its own directory.\r\n\r\nso i organized my project like this:\r\n\r\n    src/easytext.analysis/module-info.java\r\n    src/easytext.analysis/com/msantos/pluralsight/java9modules/easytext/analysis/World.java\r\n    \r\n    src/easytext.cli/module-info.java\r\n    src/easytext.cli/com/msantos/pluralsight/java9modules/easytext/cli/Main.java\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, IntelliJ gives an error: ***&#39;module-info.java&#39; already exists in the module***\r\n\r\nYet if i compile from the command line i have no issues:\r\n\r\n    javac --module-source-path src/main/java/ -d out $(find . -name &#39;*.java&#39;)\r\n\r\nCould someone explain to me why IntelliJ gives that error (taking in consideration that is a valid structure from java point of view) and how to fix it?\r\n\r\nThank you so much in advance\r\n\r\n**Project Settings**\r\n[![enter image description here][2]][2]\r\n\r\n**IntelliJ with modules**\r\n\r\nAfter defining the modules, the compilation works, but now adding dependencies to the modules, it reveals that modules have no access to each other. The compilation from the command-line again is working.\r\n\r\n***Modules***\r\n\r\neasytext.analysis module\r\n\r\n    module easytext.analysis {\r\n        exports com.msantos.pluralsight.java9modules.easytext.analysis;\r\n    }\r\n\r\nit exposes the package to the world\r\n\r\n*easytext.cli module*\r\n\r\n    module easytext.cli {\r\n        requires easytext.analysis;\r\n    }\r\n\r\nIt defines a dependency on easytext.analysis module\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYet as we can see from the picture, no access to the package. Why is that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2A1xK.png\r\n  [2]: https://i.stack.imgur.com/CVIiI.png\r\n  [3]: https://i.stack.imgur.com/b0vU4.png","title":"Java 9 Modules &amp; IntelliJ: how to configure multiple modules","body":"<p>I am trying to create a very simple java modules project in IntelliJ with multiple modules.</p>\n<p>Accordingly documentation in <a href=\"https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile\" rel=\"nofollow noreferrer\">https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile</a> inside <em>src</em> directory, each module should have its own directory.</p>\n<p>so i organized my project like this:</p>\n<pre><code>src/easytext.analysis/module-info.java\nsrc/easytext.analysis/com/msantos/pluralsight/java9modules/easytext/analysis/World.java\n\nsrc/easytext.cli/module-info.java\nsrc/easytext.cli/com/msantos/pluralsight/java9modules/easytext/cli/Main.java\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2A1xK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2A1xK.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, IntelliJ gives an error: <em><strong>'module-info.java' already exists in the module</strong></em></p>\n<p>Yet if i compile from the command line i have no issues:</p>\n<pre><code>javac --module-source-path src/main/java/ -d out $(find . -name '*.java')\n</code></pre>\n<p>Could someone explain to me why IntelliJ gives that error (taking in consideration that is a valid structure from java point of view) and how to fix it?</p>\n<p>Thank you so much in advance</p>\n<p><strong>Project Settings</strong>\n<a href=\"https://i.stack.imgur.com/CVIiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CVIiI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>IntelliJ with modules</strong></p>\n<p>After defining the modules, the compilation works, but now adding dependencies to the modules, it reveals that modules have no access to each other. The compilation from the command-line again is working.</p>\n<p><em><strong>Modules</strong></em></p>\n<p>easytext.analysis module</p>\n<pre><code>module easytext.analysis {\n    exports com.msantos.pluralsight.java9modules.easytext.analysis;\n}\n</code></pre>\n<p>it exposes the package to the world</p>\n<p><em>easytext.cli module</em></p>\n<pre><code>module easytext.cli {\n    requires easytext.analysis;\n}\n</code></pre>\n<p>It defines a dependency on easytext.analysis module</p>\n<p><a href=\"https://i.stack.imgur.com/b0vU4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b0vU4.png\" alt=\"enter image description here\" /></a></p>\n<p>Yet as we can see from the picture, no access to the package. Why is that?</p>\n"},{"tags":["java","jdbc","mariadb"],"comments":[{"owner":{"account_id":6740011,"reputation":46635,"user_id":5193536,"display_name":"nbk"},"score":1,"creation_date":1701300917,"post_id":77575008,"comment_id":136760244,"body_markdown":"you can not have spaces in column names without any character to escape it","body":"you can not have spaces in column names without any character to escape it"}],"owner":{"account_id":30026581,"reputation":1,"user_id":23010633,"display_name":"Wayne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701606915,"answer_count":0,"score":-1,"last_activity_date":1701300795,"creation_date":1701299916,"question_id":77575008,"body_markdown":"I am trying to insert username and password values into my db table through typing them into textfields and pressing a button.\r\n\r\ncode:\r\n\r\n    logbut2.addActionListener(new ActionListener()\r\n         {\r\n             public void actionPerformed(ActionEvent e)\r\n             {\r\n                 String user2 = username2.getText();\r\n                 String pass2 = password2.getText();\r\n                 String name2 = name.getText();\r\n                 String genre = &quot;a&quot;;\r\n                 String mood = &quot;b&quot;;\r\n                 try{\r\n                     Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/stataccounts&quot;, &quot;x&quot;, &quot;y&quot;);\r\n                     PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO users(username,password,name,favourite mood, favourite genre) VALUES (?,?,?,?,?)&quot;);\r\n                     st.setString(1,user2);\r\n                     st.setString(2,pass2);\r\n                     st.setString(3,name2);\r\n                     st.setString(4,mood);\r\n                     st.setString(5,genre);\r\n                     \r\n                     st.executeUpdate();\r\n                     \r\n                     System.out.println(user2);\r\n                     System.out.println(pass2);\r\n                     System.out.println(name);\r\n                     System.out.println(mood);\r\n                     System.out.println(genre);\r\n                 } catch(SQLException sqlException2)\r\n                 {\r\n                     sqlException2.printStackTrace();\r\n                 }\r\n                 JOptionPane.showMessageDialog(logbut2, &quot;user successfully added&quot;);\r\n             }\r\n         });\r\n\r\nerror:\r\n&gt;java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;mood, favourite genre) VALUES (&#39;thse&#39;,&#39;rhawerhaw&#39;,&#39;aethjjaste&#39;,&#39;b&#39;,&#39;a&#39;)&#39; at line 1.\r\n\r\nerror 2:\r\n&gt;at login$3.actionPerformed(login.java:172)\r\nthat once pressed sends me to the line st.executeUpdates();\r\n\r\n\r\n\r\ni tried not including the favourite mood and genre columns but that gave me a different error so i added them back in.\r\ntried checking connection to database and it works in a different part of my code.\r\ntried changing variable names.\r\nplease help.","title":"getting this error for my java jdbc connected to xampp mariadb when im trying to use INSERT","body":"<p>I am trying to insert username and password values into my db table through typing them into textfields and pressing a button.</p>\n<p>code:</p>\n<pre><code>logbut2.addActionListener(new ActionListener()\n     {\n         public void actionPerformed(ActionEvent e)\n         {\n             String user2 = username2.getText();\n             String pass2 = password2.getText();\n             String name2 = name.getText();\n             String genre = &quot;a&quot;;\n             String mood = &quot;b&quot;;\n             try{\n                 Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/stataccounts&quot;, &quot;x&quot;, &quot;y&quot;);\n                 PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO users(username,password,name,favourite mood, favourite genre) VALUES (?,?,?,?,?)&quot;);\n                 st.setString(1,user2);\n                 st.setString(2,pass2);\n                 st.setString(3,name2);\n                 st.setString(4,mood);\n                 st.setString(5,genre);\n                 \n                 st.executeUpdate();\n                 \n                 System.out.println(user2);\n                 System.out.println(pass2);\n                 System.out.println(name);\n                 System.out.println(mood);\n                 System.out.println(genre);\n             } catch(SQLException sqlException2)\n             {\n                 sqlException2.printStackTrace();\n             }\n             JOptionPane.showMessageDialog(logbut2, &quot;user successfully added&quot;);\n         }\n     });\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'mood, favourite genre) VALUES ('thse','rhawerhaw','aethjjaste','b','a')' at line 1.</p>\n</blockquote>\n<p>error 2:</p>\n<blockquote>\n<p>at login$3.actionPerformed(login.java:172)\nthat once pressed sends me to the line st.executeUpdates();</p>\n</blockquote>\n<p>i tried not including the favourite mood and genre columns but that gave me a different error so i added them back in.\ntried checking connection to database and it works in a different part of my code.\ntried changing variable names.\nplease help.</p>\n"},{"tags":["java","tomcat","intellij-idea","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694131507,"creation_date":1692729518,"answer_id":76956063,"question_id":76956062,"body_markdown":"I restarted a different project as I was assigned a new project. I went through and set up everything the exact same way and it worked. I don&#39;t know what the error was.","title":"Smart Tomcat not interacting with local services","body":"<p>I restarted a different project as I was assigned a new project. I went through and set up everything the exact same way and it worked. I don't know what the error was.</p>\n"},{"tags":[],"owner":{"account_id":3825032,"reputation":21,"user_id":3172039,"display_name":"Traveller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692771497,"creation_date":1692771497,"answer_id":76958758,"question_id":76956062,"body_markdown":"The deployment folder seems incorrect, it should be `target/{your-module-name}` for maven projects.\r\nOr you can try `Polaris Tomcat Server` plugin, it is easier to use.\r\nIf you have further question, please let me know.","title":"Smart Tomcat not interacting with local services","body":"<p>The deployment folder seems incorrect, it should be <code>target/{your-module-name}</code> for maven projects.\nOr you can try <code>Polaris Tomcat Server</code> plugin, it is easier to use.\nIf you have further question, please let me know.</p>\n"},{"tags":[],"owner":{"account_id":3825032,"reputation":21,"user_id":3172039,"display_name":"Traveller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693022737,"creation_date":1693022737,"answer_id":76981512,"question_id":76956062,"body_markdown":"The structure of a regular Maven project is as follows:\r\n``` \r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; ├── main\r\n│&#160;&#160; │&#160;&#160; ├── java\r\n│&#160;&#160; │&#160;&#160; ├── resources\r\n│&#160;&#160; └── test\r\n└── target\r\n    ├── tomcat-app1-1.0-SNAPSHOT\r\n    └── tomcat-app1-1.0-SNAPSHOT.war\r\n```\r\n\r\nThe  deployment folder should be `target/tomcat-app1-1.0-SNAPSHOT`.","title":"Smart Tomcat not interacting with local services","body":"<p>The structure of a regular Maven project is as follows:</p>\n<pre><code>├── pom.xml\n├── src\n│   ├── main\n│   │   ├── java\n│   │   ├── resources\n│   └── test\n└── target\n    ├── tomcat-app1-1.0-SNAPSHOT\n    └── tomcat-app1-1.0-SNAPSHOT.war\n</code></pre>\n<p>The  deployment folder should be <code>target/tomcat-app1-1.0-SNAPSHOT</code>.</p>\n"}],"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76956063,"answer_count":3,"score":0,"last_activity_date":1701299867,"creation_date":1692729518,"question_id":76956062,"body_markdown":"There doesn&#39;t seem to be a forum for the smart tomcat plugin, so I&#39;ll be posting here.\r\n\r\nI&#39;m running my tomcat from my WAR file and my Java project, and it connects to my local httpd, kafka, zookeeper, and mongo\r\n\r\nI am using different ports for smart tomcat compared to tomcat. is this the issue? if not, what is the issue and how can it be resolved? Please let me know if you&#39;d like me to provide more information. Thanks!\r\n\r\nI am using Polaris Tomcat as well and it seems I am unable to find what processes are taking up my ports\r\n\r\nI&#39;ve also changed my IntelliJ version from 2023 to 2022.2.2 as it seems to work on for others on that version but I&#39;m having the same issue.","title":"Smart Tomcat not interacting with local services","body":"<p>There doesn't seem to be a forum for the smart tomcat plugin, so I'll be posting here.</p>\n<p>I'm running my tomcat from my WAR file and my Java project, and it connects to my local httpd, kafka, zookeeper, and mongo</p>\n<p>I am using different ports for smart tomcat compared to tomcat. is this the issue? if not, what is the issue and how can it be resolved? Please let me know if you'd like me to provide more information. Thanks!</p>\n<p>I am using Polaris Tomcat as well and it seems I am unable to find what processes are taking up my ports</p>\n<p>I've also changed my IntelliJ version from 2023 to 2022.2.2 as it seems to work on for others on that version but I'm having the same issue.</p>\n"},{"tags":["java","recursion","data-structures","tree","binary-search-tree"],"comments":[{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":1,"creation_date":1701303730,"post_id":77574984,"comment_id":136760537,"body_markdown":"There&#39;s a lot missing here. What are the types of `left` and `right`? What is the relationship between the `InnerNode` and `TreeElement` types?","body":"There&#39;s a lot missing here. What are the types of <code>left</code> and <code>right</code>? What is the relationship between the <code>InnerNode</code> and <code>TreeElement</code> types?"},{"owner":{"account_id":13829751,"reputation":1,"user_id":9982997,"display_name":"Dachacho"},"score":0,"creation_date":1701348276,"post_id":77574984,"comment_id":136765964,"body_markdown":"i can upload the files on github if that might help. left and right are both TreeElement types and innerNode and leaf implement treeElement","body":"i can upload the files on github if that might help. left and right are both TreeElement types and innerNode and leaf implement treeElement"}],"owner":{"account_id":13829751,"reputation":1,"user_id":9982997,"display_name":"Dachacho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701299574,"creation_date":1701299574,"question_id":77574984,"body_markdown":"So Basically i have made insert function in my BST \r\n\r\n```\r\n    @Override\r\n    public TreeElement&lt;T&gt; insert(T value, Comparator&lt;T&gt; comp) {\r\n        if(value == null)\r\n            throw new NullPointerException(&quot;null not supported&quot;);\r\n\r\n        int comparator = comp.compare(value, info);\r\n        //iseti uazro bagebi mepareba auaa\r\n        if(comparator &gt; 0){\r\n            if(right == null)\r\n                return new InnerNode&lt;&gt;(value, new Leaf&lt;&gt;(value), left);\r\n            else {\r\n                return right = right.insert(value, comp);\r\n            }\r\n        }else if(comparator &lt; 0){\r\n            if(left == null)\r\n                return new InnerNode&lt;&gt;(value, right, new Leaf&lt;&gt;(value));\r\n            else {\r\n                return left = left.insert(value, comp);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n```\r\n\r\nbut there are some test cases it didn&#39;t get through and i can&#39;t even really comprehend them \r\nfirst one:\r\nThe return type of the expected method &#39;insert&#39; of the class &#39;InnerNode&#39; with the parameters: [&quot;Object&quot;,&quot;Comparator&quot;] is not implemented as expected.\r\n\r\nsecond one:\r\nThe parameters of the expected constructor of the class &#39;InnerNode&#39; with the parameters: [&quot;Object&quot;] are not implemented as expected.\r\n\r\ncan you help me out?\r\n\r\n\r\nas stated above i tried that code but it didn&#39;t run","title":"insert function Binary Search Tree","body":"<p>So Basically i have made insert function in my BST</p>\n<pre><code>    @Override\n    public TreeElement&lt;T&gt; insert(T value, Comparator&lt;T&gt; comp) {\n        if(value == null)\n            throw new NullPointerException(&quot;null not supported&quot;);\n\n        int comparator = comp.compare(value, info);\n        //iseti uazro bagebi mepareba auaa\n        if(comparator &gt; 0){\n            if(right == null)\n                return new InnerNode&lt;&gt;(value, new Leaf&lt;&gt;(value), left);\n            else {\n                return right = right.insert(value, comp);\n            }\n        }else if(comparator &lt; 0){\n            if(left == null)\n                return new InnerNode&lt;&gt;(value, right, new Leaf&lt;&gt;(value));\n            else {\n                return left = left.insert(value, comp);\n            }\n        }\n        return this;\n    }\n\n</code></pre>\n<p>but there are some test cases it didn't get through and i can't even really comprehend them\nfirst one:\nThe return type of the expected method 'insert' of the class 'InnerNode' with the parameters: [&quot;Object&quot;,&quot;Comparator&quot;] is not implemented as expected.</p>\n<p>second one:\nThe parameters of the expected constructor of the class 'InnerNode' with the parameters: [&quot;Object&quot;] are not implemented as expected.</p>\n<p>can you help me out?</p>\n<p>as stated above i tried that code but it didn't run</p>\n"},{"tags":["apache-spark","ubuntu-14.04","java"],"answers":[{"tags":[],"owner":{"account_id":179352,"reputation":21510,"user_id":411944,"accept_rate":88,"display_name":"Reactormonk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1445372899,"creation_date":1445372899,"answer_id":33246241,"question_id":33245529,"body_markdown":"Pretty much what it says. It wants 7GB of RAM. So give the VM ~ 8GB of RAM.","title":"Spark - UbuntuVM - insufficient memory for the Java Runtime Environment","body":"<p>Pretty much what it says. It wants 7GB of RAM. So give the VM ~ 8GB of RAM.</p>\n"},{"tags":[],"owner":{"account_id":1437483,"reputation":1908,"user_id":1358551,"display_name":"charybr"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483546372,"creation_date":1483544751,"answer_id":41467834,"question_id":33245529,"body_markdown":"We need to set `spark.executor.memory` in `conf/spark-defaults.conf` file to a value specific to your machine. For example,\r\n\r\n    usr1@host:~/spark-1.6.1$ cp conf/spark-defaults.conf.template conf/spark-defaults.conf\r\n    nano conf/spark-defaults.conf\r\n    spark.driver.memory              512m\r\n\r\nFor more information, refer to the official documentation: http://spark.apache.org/docs/latest/configuration.html\r\n","title":"Spark - UbuntuVM - insufficient memory for the Java Runtime Environment","body":"<p>We need to set <code>spark.executor.memory</code> in <code>conf/spark-defaults.conf</code> file to a value specific to your machine. For example,</p>\n\n<pre><code>usr1@host:~/spark-1.6.1$ cp conf/spark-defaults.conf.template conf/spark-defaults.conf\nnano conf/spark-defaults.conf\nspark.driver.memory              512m\n</code></pre>\n\n<p>For more information, refer to the official documentation: <a href=\"http://spark.apache.org/docs/latest/configuration.html\" rel=\"nofollow noreferrer\">http://spark.apache.org/docs/latest/configuration.html</a></p>\n"}],"owner":{"account_id":6501715,"reputation":309,"user_id":5032251,"accept_rate":40,"display_name":"preetham madeti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701299341,"creation_date":1445370315,"question_id":33245529,"body_markdown":"I&#39;m trying to install Spark1.5.1 on Ubuntu14.04 VM. After un-tarring the file, I changed the directory to the extracted folder and executed the command &quot;./bin/pyspark&quot; which should fire up the pyspark shell. But I got an error message as follows:\r\n\r\n&gt; **[** OpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5550000, 715849728, 0) failed;\r\n&gt; error=&#39;Cannot allocate memory&#39; (errno=12)  There is insufficient\r\n&gt; memory for the Java Runtime Environment to continue. \r\n&gt; \r\n&gt; Native memory allocation (malloc) failed to allocate 715849728 bytes\r\n&gt; for committing reserved memory. \r\n&gt; \r\n&gt; An error report file with more information is saved as:\r\n&gt; /home/datascience/spark-1.5.1-bin-hadoop2.6/hs_err_pid2750.log **]**\r\n\r\nCould anyone please give me some directions to sort out the problem?\r\n\r\n","title":"Spark - UbuntuVM - insufficient memory for the Java Runtime Environment","body":"<p>I'm trying to install Spark1.5.1 on Ubuntu14.04 VM. After un-tarring the file, I changed the directory to the extracted folder and executed the command \"./bin/pyspark\" which should fire up the pyspark shell. But I got an error message as follows:</p>\n\n<blockquote>\n  <p><strong>[</strong> OpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5550000, 715849728, 0) failed;\n  error='Cannot allocate memory' (errno=12)  There is insufficient\n  memory for the Java Runtime Environment to continue. </p>\n  \n  <p>Native memory allocation (malloc) failed to allocate 715849728 bytes\n  for committing reserved memory. </p>\n  \n  <p>An error report file with more information is saved as:\n  /home/datascience/spark-1.5.1-bin-hadoop2.6/hs_err_pid2750.log <strong>]</strong></p>\n</blockquote>\n\n<p>Could anyone please give me some directions to sort out the problem?</p>\n"},{"tags":["java","websocket","server"],"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1491095227,"post_id":43163592,"comment_id":73401886,"body_markdown":"Jetty has websocket support.","body":"Jetty has websocket support."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1491095249,"post_id":43163592,"comment_id":73401891,"body_markdown":"If Maven is the stumbling block, that&#39;s easy to solve.  Simply analyse the dependencies in the POM files, manually fetch their JAR files, and manually put them on your application&#39;s classpath.  Maven is just a build tool.  It is automating stuff that you can do by hand ... if you are so inclined.","body":"If Maven is the stumbling block, that&#39;s easy to solve.  Simply analyse the dependencies in the POM files, manually fetch their JAR files, and manually put them on your application&#39;s classpath.  Maven is just a build tool.  It is automating stuff that you can do by hand ... if you are so inclined."},{"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"score":0,"creation_date":1491095321,"post_id":43163592,"comment_id":73401910,"body_markdown":"I have seen Jetty implementations, but the tutorials only show how to implement the endpoint code. What do I need to do to initialize it, i.e. what would go in the &quot;main&quot; method for such an application?","body":"I have seen Jetty implementations, but the tutorials only show how to implement the endpoint code. What do I need to do to initialize it, i.e. what would go in the &quot;main&quot; method for such an application?"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1491095493,"post_id":43163592,"comment_id":73401943,"body_markdown":"Google for &quot;websocket apache httpcomponents&quot;.  I don&#39;t know if you will find a tutorial, but there are hits that suggest it can be done, and possibly that may have code that you could use as examples.","body":"Google for &quot;websocket apache httpcomponents&quot;.  I don&#39;t know if you will find a tutorial, but there are hits that suggest it can be done, and possibly that may have code that you could use as examples."},{"owner":{"account_id":432092,"reputation":689868,"user_id":816620,"accept_rate":64,"display_name":"jfriend00"},"score":1,"creation_date":1491098022,"post_id":43163592,"comment_id":73402338,"body_markdown":"[Bare bones webSocket server for Java](https://github.com/TooTallNate/Java-WebSocket) with a bunch of [sample apps](https://github.com/TooTallNate/Java-WebSocket/tree/master/src/main/example).","body":"<a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"nofollow noreferrer\">Bare bones webSocket server for Java</a> with a bunch of <a href=\"https://github.com/TooTallNate/Java-WebSocket/tree/master/src/main/example\" rel=\"nofollow noreferrer\">sample apps</a>."},{"owner":{"account_id":3141774,"reputation":3802,"user_id":2657100,"display_name":"nandsito"},"score":0,"creation_date":1491850946,"post_id":43163592,"comment_id":73726170,"body_markdown":"tyrus is the reference implementation of the java api for websocket (JSR 356), and it seems to run in a standalone manner https://tyrus.java.net/","body":"tyrus is the reference implementation of the java api for websocket (JSR 356), and it seems to run in a standalone manner <a href=\"https://tyrus.java.net/\" rel=\"nofollow noreferrer\">tyrus.java.net</a>"},{"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"score":0,"creation_date":1491853016,"post_id":43163592,"comment_id":73727345,"body_markdown":"Tyrus has a standalone client, but the server is dependent on GlassFish, which is an application server.\n\nI&#39;ve tried out the barebones server at https://github.com/TooTallNate/Java-WebSocket and so far it has worked, and is completely standalone.","body":"Tyrus has a standalone client, but the server is dependent on GlassFish, which is an application server.  I&#39;ve tried out the barebones server at <a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"nofollow noreferrer\">github.com/TooTallNate/Java-WebSocket</a> and so far it has worked, and is completely standalone."}],"answers":[{"tags":[],"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1491850449,"creation_date":1491850449,"answer_id":43330883,"question_id":43163592,"body_markdown":"https://github.com/TooTallNate/Java-WebSocket is a full WebSockets server and client implementation in Java SE, no enterprise/web app server needed.","title":"Standalone WebSocket server without JEE/application server","body":"<p><a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"noreferrer\">https://github.com/TooTallNate/Java-WebSocket</a> is a full WebSockets server and client implementation in Java SE, no enterprise/web app server needed.</p>\n"},{"tags":[],"owner":{"account_id":3431913,"reputation":10478,"user_id":2876079,"accept_rate":71,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1541682484,"creation_date":1541682484,"answer_id":53208425,"question_id":43163592,"body_markdown":"Java 11 Server Code:\r\n\r\n    package org.treez.server.websocket;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import javax.xml.bind.DatatypeConverter;;\r\n    \r\n    public class WebSocketServer{\r\n    \t\r\n    \t\t\r\n        public static void main(String[] args){\r\n        \t\r\n        \tint portNumber = 8000;\r\n        \t\r\n            ServerSocket server;\r\n    \t\ttry {\r\n    \t\t\tserver = new ServerSocket(portNumber);\r\n    \t\t} catch (IOException exception) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not create web server&quot;, exception);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\tSocket clientSocket;\r\n    \t\ttry {\r\n    \t\t\tclientSocket = server.accept(); //waits until a client connects\r\n    \t\t} catch (IOException waitException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not wait for client connection&quot;, waitException);\r\n    \t\t}\r\n    \t\t\r\n    \t\tInputStream inputStream;\r\n    \t\ttry {\r\n    \t\t\tinputStream  = clientSocket.getInputStream();\r\n    \t\t} catch (IOException inputStreamException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n    \t\t}\r\n    \t\t\r\n    \t\tOutputStream outputStream;\r\n    \t\ttry {\r\n    \t\t\toutputStream  = clientSocket.getOutputStream();\r\n    \t\t} catch (IOException inputStreamException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tdoHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\r\n    \t\t} catch (UnsupportedEncodingException handShakeException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, handShakeException);\r\n    \t\t}\r\n    \t\t\r\n    \t   \t\t\r\n    \t\ttry {\t     \r\n    \t\t\toutputStream.write(encode(&quot;Hello from Server!&quot;));\r\n    \t\t\toutputStream.flush();\r\n    \t\t} catch (UnsupportedEncodingException e) {\t\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\t\r\n    \t\t\r\n    \t\t try {\r\n    \t\t\t\tprintInputStream(inputStream);\r\n    \t\t\t} catch (IOException printException) {\r\n    \t\t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, printException);\r\n    \t\t\t}\r\n    \t\t\r\n        }\r\n        \r\n        //Source for encoding and decoding:\r\n        //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\r\n    \r\n    \r\n    \tprivate static void printInputStream(InputStream inputStream) throws IOException {\r\n    \t\tint len = 0;            \r\n    \t\tbyte[] b = new byte[1024];\r\n    \t\t//rawIn is a Socket.getInputStream();\r\n    \t\twhile(true){\r\n    \t\t    len = inputStream.read(b);\r\n    \t\t    if(len!=-1){\r\n    \r\n    \t\t        byte rLength = 0;\r\n    \t\t        int rMaskIndex = 2;\r\n    \t\t        int rDataStart = 0;\r\n    \t\t        //b[0] is always text in my case so no need to check;\r\n    \t\t        byte data = b[1];\r\n    \t\t        byte op = (byte) 127;\r\n    \t\t        rLength = (byte) (data &amp; op);\r\n    \r\n    \t\t        if(rLength==(byte)126) rMaskIndex=4;\r\n    \t\t        if(rLength==(byte)127) rMaskIndex=10;\r\n    \r\n    \t\t        byte[] masks = new byte[4];\r\n    \r\n    \t\t        int j=0;\r\n    \t\t        int i=0;\r\n    \t\t        for(i=rMaskIndex;i&lt;(rMaskIndex+4);i++){\r\n    \t\t            masks[j] = b[i];\r\n    \t\t            j++;\r\n    \t\t        }\r\n    \r\n    \t\t        rDataStart = rMaskIndex + 4;\r\n    \r\n    \t\t        int messLen = len - rDataStart;\r\n    \r\n    \t\t        byte[] message = new byte[messLen];\r\n    \r\n    \t\t        for(i=rDataStart, j=0; i&lt;len; i++, j++){\r\n    \t\t            message[j] = (byte) (b[i] ^ masks[j % 4]);\r\n    \t\t        }\r\n    \r\n    \t\t        System.out.println(new String(message)); \r\n    \t\t       \r\n    \t\t        b = new byte[1024];\r\n    \r\n    \t\t    }\r\n    \t\t}\r\n    \t}\r\n        \r\n        \r\n        public static byte[] encode(String mess) throws IOException{\r\n            byte[] rawData = mess.getBytes();\r\n    \r\n            int frameCount  = 0;\r\n            byte[] frame = new byte[10];\r\n    \r\n            frame[0] = (byte) 129;\r\n    \r\n            if(rawData.length &lt;= 125){\r\n                frame[1] = (byte) rawData.length;\r\n                frameCount = 2;\r\n            }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\r\n                frame[1] = (byte) 126;\r\n                int len = rawData.length;\r\n                frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n                frame[3] = (byte)(len &amp; (byte)255); \r\n                frameCount = 4;\r\n            }else{\r\n                frame[1] = (byte) 127;\r\n                int len = rawData.length;\r\n                frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\r\n                frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\r\n                frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\r\n                frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\r\n                frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\r\n                frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\r\n                frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n                frame[9] = (byte)(len &amp; (byte)255);\r\n                frameCount = 10;\r\n            }\r\n    \r\n            int bLength = frameCount + rawData.length;\r\n    \r\n            byte[] reply = new byte[bLength];\r\n    \r\n            int bLim = 0;\r\n            for(int i=0; i&lt;frameCount;i++){\r\n                reply[bLim] = frame[i];\r\n                bLim++;\r\n            }\r\n            for(int i=0; i&lt;rawData.length;i++){\r\n                reply[bLim] = rawData[i];\r\n                bLim++;\r\n            }\r\n    \r\n            return reply;\r\n        }\r\n    \r\n    \tprivate static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\r\n    \t\tString data = new Scanner(inputStream,&quot;UTF-8&quot;).useDelimiter(&quot;\\\\r\\\\n\\\\r\\\\n&quot;).next();\r\n    \r\n    \t\tMatcher get = Pattern.compile(&quot;^GET&quot;).matcher(data);\r\n    \r\n    \t\tif (get.find()) {\r\n    \t\t\tMatcher match = Pattern.compile(&quot;Sec-WebSocket-Key: (.*)&quot;).matcher(data);\r\n    \t\t    match.find();\t\t    \t  \r\n    \t\t    \r\n    \t\t    byte[] response = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tresponse = (&quot;HTTP/1.1 101 Switching Protocols\\r\\n&quot;\r\n    \t\t\t\t        + &quot;Connection: Upgrade\\r\\n&quot;\r\n    \t\t\t\t        + &quot;Upgrade: websocket\\r\\n&quot;\r\n    \t\t\t\t        + &quot;Sec-WebSocket-Accept: &quot;\r\n    \t\t\t\t        + DatatypeConverter.printBase64Binary(\r\n    \t\t\t\t                MessageDigest\r\n    \t\t\t\t                .getInstance(&quot;SHA-1&quot;)\r\n    \t\t\t\t                .digest((match.group(1) + &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;)\r\n    \t\t\t\t                        .getBytes(&quot;UTF-8&quot;)))\r\n    \t\t\t\t        + &quot;\\r\\n\\r\\n&quot;)\r\n    \t\t\t\t        .getBytes(&quot;UTF-8&quot;);\r\n    \t\t\t} catch (NoSuchAlgorithmException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t    try {\r\n    \t\t\t\toutputStream.write(response, 0, response.length);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;TreezHttpServer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;TreezHttpServer&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src&lt;/directory&gt;\r\n            &lt;excludes&gt;\r\n              &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;11&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;    \r\n       \r\n      &lt;/build&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t     \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nJavaScript Client:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    \r\n    &lt;html&gt;\r\n    \r\n    &lt;head&gt;\r\n    \r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    \r\n    &lt;title&gt;WebSocket Client&lt;/title&gt;\r\n    \r\n     &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \r\n          var wsocket;      \r\n    \r\n          function connect() {         \r\n    \r\n        \t  wsocket = new WebSocket(&quot;ws://localhost:8000&quot;);          \r\n              wsocket.onopen = onopen;\r\n              wsocket.onmessage = onmessage;\r\n              wsocket.onclose = onclose; \r\n          }\r\n    \r\n          function onopen() {\r\n              console.log(&quot;Connected!&quot;);             \r\n              wsocket.send(&#39;hello from client&#39;);\r\n          }\r\n    \r\n          function onmessage(event) { \r\n             console.log(&quot;Data received: &quot; + event.data); \r\n          }\r\n    \r\n          function onclose(e) {\r\n             console.log(&quot;Connection closed.&quot;);              \r\n          }\r\n    \r\n          window.addEventListener(&quot;load&quot;, connect, false);\r\n    \r\n      &lt;/script&gt;\r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;","title":"Standalone WebSocket server without JEE/application server","body":"<p>Java 11 Server Code:</p>\n\n<pre><code>package org.treez.server.websocket;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.xml.bind.DatatypeConverter;;\n\npublic class WebSocketServer{\n\n\n    public static void main(String[] args){\n\n        int portNumber = 8000;\n\n        ServerSocket server;\n        try {\n            server = new ServerSocket(portNumber);\n        } catch (IOException exception) {\n            throw new IllegalStateException(\"Could not create web server\", exception);\n        }\n\n\n        Socket clientSocket;\n        try {\n            clientSocket = server.accept(); //waits until a client connects\n        } catch (IOException waitException) {\n            throw new IllegalStateException(\"Could not wait for client connection\", waitException);\n        }\n\n        InputStream inputStream;\n        try {\n            inputStream  = clientSocket.getInputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(\"Could not connect to client input stream\", inputStreamException);\n        }\n\n        OutputStream outputStream;\n        try {\n            outputStream  = clientSocket.getOutputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(\"Could not connect to client input stream\", inputStreamException);\n        }\n\n        try {\n            doHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\n        } catch (UnsupportedEncodingException handShakeException) {\n            throw new IllegalStateException(\"Could not connect to client input stream\", handShakeException);\n        }\n\n\n        try {        \n            outputStream.write(encode(\"Hello from Server!\"));\n            outputStream.flush();\n        } catch (UnsupportedEncodingException e) {          \n            e.printStackTrace();\n        } catch (IOException e) {       \n            e.printStackTrace();\n        }   \n\n         try {\n                printInputStream(inputStream);\n            } catch (IOException printException) {\n                throw new IllegalStateException(\"Could not connect to client input stream\", printException);\n            }\n\n    }\n\n    //Source for encoding and decoding:\n    //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\n\n\n    private static void printInputStream(InputStream inputStream) throws IOException {\n        int len = 0;            \n        byte[] b = new byte[1024];\n        //rawIn is a Socket.getInputStream();\n        while(true){\n            len = inputStream.read(b);\n            if(len!=-1){\n\n                byte rLength = 0;\n                int rMaskIndex = 2;\n                int rDataStart = 0;\n                //b[0] is always text in my case so no need to check;\n                byte data = b[1];\n                byte op = (byte) 127;\n                rLength = (byte) (data &amp; op);\n\n                if(rLength==(byte)126) rMaskIndex=4;\n                if(rLength==(byte)127) rMaskIndex=10;\n\n                byte[] masks = new byte[4];\n\n                int j=0;\n                int i=0;\n                for(i=rMaskIndex;i&lt;(rMaskIndex+4);i++){\n                    masks[j] = b[i];\n                    j++;\n                }\n\n                rDataStart = rMaskIndex + 4;\n\n                int messLen = len - rDataStart;\n\n                byte[] message = new byte[messLen];\n\n                for(i=rDataStart, j=0; i&lt;len; i++, j++){\n                    message[j] = (byte) (b[i] ^ masks[j % 4]);\n                }\n\n                System.out.println(new String(message)); \n\n                b = new byte[1024];\n\n            }\n        }\n    }\n\n\n    public static byte[] encode(String mess) throws IOException{\n        byte[] rawData = mess.getBytes();\n\n        int frameCount  = 0;\n        byte[] frame = new byte[10];\n\n        frame[0] = (byte) 129;\n\n        if(rawData.length &lt;= 125){\n            frame[1] = (byte) rawData.length;\n            frameCount = 2;\n        }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\n            frame[1] = (byte) 126;\n            int len = rawData.length;\n            frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[3] = (byte)(len &amp; (byte)255); \n            frameCount = 4;\n        }else{\n            frame[1] = (byte) 127;\n            int len = rawData.length;\n            frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\n            frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\n            frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\n            frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\n            frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\n            frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\n            frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[9] = (byte)(len &amp; (byte)255);\n            frameCount = 10;\n        }\n\n        int bLength = frameCount + rawData.length;\n\n        byte[] reply = new byte[bLength];\n\n        int bLim = 0;\n        for(int i=0; i&lt;frameCount;i++){\n            reply[bLim] = frame[i];\n            bLim++;\n        }\n        for(int i=0; i&lt;rawData.length;i++){\n            reply[bLim] = rawData[i];\n            bLim++;\n        }\n\n        return reply;\n    }\n\n    private static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\n        String data = new Scanner(inputStream,\"UTF-8\").useDelimiter(\"\\\\r\\\\n\\\\r\\\\n\").next();\n\n        Matcher get = Pattern.compile(\"^GET\").matcher(data);\n\n        if (get.find()) {\n            Matcher match = Pattern.compile(\"Sec-WebSocket-Key: (.*)\").matcher(data);\n            match.find();                 \n\n            byte[] response = null;\n            try {\n                response = (\"HTTP/1.1 101 Switching Protocols\\r\\n\"\n                        + \"Connection: Upgrade\\r\\n\"\n                        + \"Upgrade: websocket\\r\\n\"\n                        + \"Sec-WebSocket-Accept: \"\n                        + DatatypeConverter.printBase64Binary(\n                                MessageDigest\n                                .getInstance(\"SHA-1\")\n                                .digest((match.group(1) + \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\")\n                                        .getBytes(\"UTF-8\")))\n                        + \"\\r\\n\\r\\n\")\n                        .getBytes(\"UTF-8\");\n            } catch (NoSuchAlgorithmException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            try {\n                outputStream.write(response, 0, response.length);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        } else {\n\n        }\n    }\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;TreezHttpServer&lt;/groupId&gt;\n  &lt;artifactId&gt;TreezHttpServer&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src&lt;/directory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;11&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;    \n\n  &lt;/build&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>JavaScript Client:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;head&gt;\n\n&lt;meta charset=\"UTF-8\"&gt;\n\n&lt;title&gt;WebSocket Client&lt;/title&gt;\n\n &lt;script type=\"text/javascript\"&gt;\n\n      var wsocket;      \n\n      function connect() {         \n\n          wsocket = new WebSocket(\"ws://localhost:8000\");          \n          wsocket.onopen = onopen;\n          wsocket.onmessage = onmessage;\n          wsocket.onclose = onclose; \n      }\n\n      function onopen() {\n          console.log(\"Connected!\");             \n          wsocket.send('hello from client');\n      }\n\n      function onmessage(event) { \n         console.log(\"Data received: \" + event.data); \n      }\n\n      function onclose(e) {\n         console.log(\"Connection closed.\");              \n      }\n\n      window.addEventListener(\"load\", connect, false);\n\n  &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19850613,"reputation":1,"user_id":14541183,"display_name":"Allan Kirkwood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614263968,"creation_date":1614263968,"answer_id":66370678,"question_id":43163592,"body_markdown":"```\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.Scanner;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport javax.xml.bind.DatatypeConverter;;\r\n\r\npublic class WebSocketServer{\r\n\r\n\r\n    public static void main(String[] args){\r\n\r\n        int portNumber = 8000;\r\n\r\n        ServerSocket server;\r\n        try {\r\n            server = new ServerSocket(portNumber);\r\n        } catch (IOException exception) {\r\n            throw new IllegalStateException(&quot;Could not create web server&quot;, exception);\r\n        }\r\n\r\n\r\n        Socket clientSocket;\r\n        try {\r\n            clientSocket = server.accept(); //waits until a client connects\r\n        } catch (IOException waitException) {\r\n            throw new IllegalStateException(&quot;Could not wait for client connection&quot;, waitException);\r\n        }\r\n\r\n        InputStream inputStream;\r\n        try {\r\n            inputStream  = clientSocket.getInputStream();\r\n        } catch (IOException inputStreamException) {\r\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n        }\r\n\r\n        OutputStream outputStream;\r\n        try {\r\n            outputStream  = clientSocket.getOutputStream();\r\n        } catch (IOException inputStreamException) {\r\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n        }\r\n\r\n        try {\r\n            doHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\r\n        } catch (UnsupportedEncodingException handShakeException) {\r\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, handShakeException);\r\n        }\r\n\r\n\r\n        try {        \r\n            outputStream.write(encode(&quot;Hello from Server!&quot;));\r\n            outputStream.flush();\r\n        } catch (UnsupportedEncodingException e) {          \r\n            e.printStackTrace();\r\n        } catch (IOException e) {       \r\n            e.printStackTrace();\r\n        }   \r\n\r\n         try {\r\n                printInputStream(inputStream);\r\n            } catch (IOException printException) {\r\n                throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, printException);\r\n            }\r\n\r\n    }\r\n\r\n    //Source for encoding and decoding:\r\n    //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\r\n\r\n    //this will handle incoming text only up to 64K only\r\n    //it will handle multiple messages in one read and messages split over a read\r\n    private static void printInputStream(InputStream inputStream) throws IOException {\r\n\t\tbyte[] b = new byte[8000];//incoming buffer\r\n\t\tbyte[] message =null;//buffer to assemble message in\r\n\t\tbyte[] masks = new byte[4];\r\n\t\tboolean isSplit=false;//has a message been split over a read\r\n\t\tint length = 0; //length of message \r\n\t\tint totalRead =0; //total read in message so far\r\n\t\twhile (true) {\r\n\t\t\tint len = 0;//length of bytes read from socket\r\n\t\t\ttry {\r\n\t\t\t\tlen = inputStream.read(b);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (len != -1) {\r\n\t\t\t\tboolean more = false;\r\n\t\t\t\tint totalLength = 0;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tint j = 0;\r\n\t\t\t\t\tint i = 0;\r\n\t\t\t\t\tif (!isSplit) {\r\n\t\t\t\t\t\tbyte rLength = 0;\r\n\t\t\t\t\t\tint rMaskIndex = 2;\r\n\t\t\t\t\t\tint rDataStart = 0;\r\n\t\t\t\t\t\t// b[0] assuming text\r\n\t\t\t\t\t\tbyte data = b[1];\r\n\t\t\t\t\t\tbyte op = (byte) 127;\r\n\t\t\t\t\t\trLength = (byte) (data &amp; op);\r\n\t\t\t\t\t\tlength = (int) rLength;\r\n\t\t\t\t\t\tif (rLength == (byte) 126) {\r\n\t\t\t\t\t\t\trMaskIndex = 4;\r\n\t\t\t\t\t\t\tlength = Byte.toUnsignedInt(b[2]) &lt;&lt; 8;\r\n\t\t\t\t\t\t\tlength += Byte.toUnsignedInt(b[3]);\r\n\t\t\t\t\t\t} else if (rLength == (byte) 127)\r\n\t\t\t\t\t\t\trMaskIndex = 10;\r\n\t\t\t\t\t\tfor (i = rMaskIndex; i &lt; (rMaskIndex + 4); i++) {\r\n\t\t\t\t\t\t\tmasks[j] = b[i];\r\n\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trDataStart = rMaskIndex + 4;\r\n\r\n\t\t\t\t\t\tmessage = new byte[length];\r\n\t\t\t\t\t\ttotalLength = length + rDataStart;\r\n\t\t\t\t\t\tfor (i = rDataStart, totalRead = 0; i&lt;len &amp;&amp; i &lt; totalLength; i++, totalRead++) {\r\n\t\t\t\t\t\t\tmessage[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tfor (i = 0; i&lt;len &amp;&amp; totalRead&lt;length; i++, totalRead++) {\r\n\t\t\t\t\t\t\tmessage[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttotalLength=i;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (totalRead&lt;length) {\r\n\t\t\t\t\t\tisSplit=true;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tisSplit=false;\r\n\t\t\t\t\t\tSystem.out.println(new String(message)); \r\n\t\t\t\t\t\tb = new byte[8000];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (totalLength &lt; len) {\r\n\t\t\t\t\t\tmore = true;\r\n\t\t\t\t\t\tfor (i = totalLength, j = 0; i &lt; len; i++, j++)\r\n\t\t\t\t\t\t\tb[j] = b[i];\r\n\t\t\t\t\t\tlen = len - totalLength;\r\n\t\t\t\t\t}else\r\n\t\t\t\t\t\tmore = false;\r\n\t\t\t\t} while (more);\r\n\t\t\t} else\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n    public static byte[] encode(String mess) throws IOException{\r\n        byte[] rawData = mess.getBytes();\r\n\r\n        int frameCount  = 0;\r\n        byte[] frame = new byte[10];\r\n\r\n        frame[0] = (byte) 129;\r\n\r\n        if(rawData.length &lt;= 125){\r\n            frame[1] = (byte) rawData.length;\r\n            frameCount = 2;\r\n        }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\r\n            frame[1] = (byte) 126;\r\n            int len = rawData.length;\r\n            frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n            frame[3] = (byte)(len &amp; (byte)255); \r\n            frameCount = 4;\r\n        }else{\r\n            frame[1] = (byte) 127;\r\n            long len = rawData.length; //note an int is not big enough in java\r\n            frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\r\n            frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\r\n            frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\r\n            frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\r\n            frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\r\n            frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\r\n            frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n            frame[9] = (byte)(len &amp; (byte)255);\r\n            frameCount = 10;\r\n        }\r\n\r\n        int bLength = frameCount + rawData.length;\r\n\r\n        byte[] reply = new byte[bLength];\r\n\r\n        int bLim = 0;\r\n        for(int i=0; i&lt;frameCount;i++){\r\n            reply[bLim] = frame[i];\r\n            bLim++;\r\n        }\r\n        for(int i=0; i&lt;rawData.length;i++){\r\n            reply[bLim] = rawData[i];\r\n            bLim++;\r\n        }\r\n\r\n        return reply;\r\n    }\r\n\r\n    private static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\r\n        String data = new Scanner(inputStream,&quot;UTF-8&quot;).useDelimiter(&quot;\\\\r\\\\n\\\\r\\\\n&quot;).next();\r\n\r\n        Matcher get = Pattern.compile(&quot;^GET&quot;).matcher(data);\r\n\r\n        if (get.find()) {\r\n            Matcher match = Pattern.compile(&quot;Sec-WebSocket-Key: (.*)&quot;).matcher(data);\r\n            match.find();                 \r\n\r\n            byte[] response = null;\r\n            try {\r\n                response = (&quot;HTTP/1.1 101 Switching Protocols\\r\\n&quot;\r\n                        + &quot;Connection: Upgrade\\r\\n&quot;\r\n                        + &quot;Upgrade: websocket\\r\\n&quot;\r\n                        + &quot;Sec-WebSocket-Accept: &quot;\r\n                        + DatatypeConverter.printBase64Binary(\r\n                                MessageDigest\r\n                                .getInstance(&quot;SHA-1&quot;)\r\n                                .digest((match.group(1) + &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;)\r\n                                        .getBytes(&quot;UTF-8&quot;)))\r\n                        + &quot;\\r\\n\\r\\n&quot;)\r\n                        .getBytes(&quot;UTF-8&quot;);\r\n            } catch (NoSuchAlgorithmException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n\r\n            try {\r\n                outputStream.write(response, 0, response.length);\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nThis fixes issues with Stefan&#39;s answer. It can handle multiple messages in one read and messages split over a read. Also fixes an issue with using an int instead of a long in writes.","title":"Standalone WebSocket server without JEE/application server","body":"<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.xml.bind.DatatypeConverter;;\n\npublic class WebSocketServer{\n\n\n    public static void main(String[] args){\n\n        int portNumber = 8000;\n\n        ServerSocket server;\n        try {\n            server = new ServerSocket(portNumber);\n        } catch (IOException exception) {\n            throw new IllegalStateException(&quot;Could not create web server&quot;, exception);\n        }\n\n\n        Socket clientSocket;\n        try {\n            clientSocket = server.accept(); //waits until a client connects\n        } catch (IOException waitException) {\n            throw new IllegalStateException(&quot;Could not wait for client connection&quot;, waitException);\n        }\n\n        InputStream inputStream;\n        try {\n            inputStream  = clientSocket.getInputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\n        }\n\n        OutputStream outputStream;\n        try {\n            outputStream  = clientSocket.getOutputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\n        }\n\n        try {\n            doHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\n        } catch (UnsupportedEncodingException handShakeException) {\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, handShakeException);\n        }\n\n\n        try {        \n            outputStream.write(encode(&quot;Hello from Server!&quot;));\n            outputStream.flush();\n        } catch (UnsupportedEncodingException e) {          \n            e.printStackTrace();\n        } catch (IOException e) {       \n            e.printStackTrace();\n        }   \n\n         try {\n                printInputStream(inputStream);\n            } catch (IOException printException) {\n                throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, printException);\n            }\n\n    }\n\n    //Source for encoding and decoding:\n    //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\n\n    //this will handle incoming text only up to 64K only\n    //it will handle multiple messages in one read and messages split over a read\n    private static void printInputStream(InputStream inputStream) throws IOException {\n        byte[] b = new byte[8000];//incoming buffer\n        byte[] message =null;//buffer to assemble message in\n        byte[] masks = new byte[4];\n        boolean isSplit=false;//has a message been split over a read\n        int length = 0; //length of message \n        int totalRead =0; //total read in message so far\n        while (true) {\n            int len = 0;//length of bytes read from socket\n            try {\n                len = inputStream.read(b);\n            } catch (IOException e) {\n                break;\n            }\n            if (len != -1) {\n                boolean more = false;\n                int totalLength = 0;\n                do {\n                    int j = 0;\n                    int i = 0;\n                    if (!isSplit) {\n                        byte rLength = 0;\n                        int rMaskIndex = 2;\n                        int rDataStart = 0;\n                        // b[0] assuming text\n                        byte data = b[1];\n                        byte op = (byte) 127;\n                        rLength = (byte) (data &amp; op);\n                        length = (int) rLength;\n                        if (rLength == (byte) 126) {\n                            rMaskIndex = 4;\n                            length = Byte.toUnsignedInt(b[2]) &lt;&lt; 8;\n                            length += Byte.toUnsignedInt(b[3]);\n                        } else if (rLength == (byte) 127)\n                            rMaskIndex = 10;\n                        for (i = rMaskIndex; i &lt; (rMaskIndex + 4); i++) {\n                            masks[j] = b[i];\n                            j++;\n                        }\n\n                        rDataStart = rMaskIndex + 4;\n\n                        message = new byte[length];\n                        totalLength = length + rDataStart;\n                        for (i = rDataStart, totalRead = 0; i&lt;len &amp;&amp; i &lt; totalLength; i++, totalRead++) {\n                            message[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\n                        }\n\n                    }else {\n                        for (i = 0; i&lt;len &amp;&amp; totalRead&lt;length; i++, totalRead++) {\n                            message[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\n                        }\n                        totalLength=i;\n                    }\n\n                    \n                    if (totalRead&lt;length) {\n                        isSplit=true;\n                    }else {\n                        isSplit=false;\n                        System.out.println(new String(message)); \n                        b = new byte[8000];\n                    }\n                    \n                    if (totalLength &lt; len) {\n                        more = true;\n                        for (i = totalLength, j = 0; i &lt; len; i++, j++)\n                            b[j] = b[i];\n                        len = len - totalLength;\n                    }else\n                        more = false;\n                } while (more);\n            } else\n                break;\n        }\n\n    }\n\n\n    public static byte[] encode(String mess) throws IOException{\n        byte[] rawData = mess.getBytes();\n\n        int frameCount  = 0;\n        byte[] frame = new byte[10];\n\n        frame[0] = (byte) 129;\n\n        if(rawData.length &lt;= 125){\n            frame[1] = (byte) rawData.length;\n            frameCount = 2;\n        }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\n            frame[1] = (byte) 126;\n            int len = rawData.length;\n            frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[3] = (byte)(len &amp; (byte)255); \n            frameCount = 4;\n        }else{\n            frame[1] = (byte) 127;\n            long len = rawData.length; //note an int is not big enough in java\n            frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\n            frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\n            frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\n            frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\n            frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\n            frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\n            frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[9] = (byte)(len &amp; (byte)255);\n            frameCount = 10;\n        }\n\n        int bLength = frameCount + rawData.length;\n\n        byte[] reply = new byte[bLength];\n\n        int bLim = 0;\n        for(int i=0; i&lt;frameCount;i++){\n            reply[bLim] = frame[i];\n            bLim++;\n        }\n        for(int i=0; i&lt;rawData.length;i++){\n            reply[bLim] = rawData[i];\n            bLim++;\n        }\n\n        return reply;\n    }\n\n    private static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\n        String data = new Scanner(inputStream,&quot;UTF-8&quot;).useDelimiter(&quot;\\\\r\\\\n\\\\r\\\\n&quot;).next();\n\n        Matcher get = Pattern.compile(&quot;^GET&quot;).matcher(data);\n\n        if (get.find()) {\n            Matcher match = Pattern.compile(&quot;Sec-WebSocket-Key: (.*)&quot;).matcher(data);\n            match.find();                 \n\n            byte[] response = null;\n            try {\n                response = (&quot;HTTP/1.1 101 Switching Protocols\\r\\n&quot;\n                        + &quot;Connection: Upgrade\\r\\n&quot;\n                        + &quot;Upgrade: websocket\\r\\n&quot;\n                        + &quot;Sec-WebSocket-Accept: &quot;\n                        + DatatypeConverter.printBase64Binary(\n                                MessageDigest\n                                .getInstance(&quot;SHA-1&quot;)\n                                .digest((match.group(1) + &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;)\n                                        .getBytes(&quot;UTF-8&quot;)))\n                        + &quot;\\r\\n\\r\\n&quot;)\n                        .getBytes(&quot;UTF-8&quot;);\n            } catch (NoSuchAlgorithmException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            try {\n                outputStream.write(response, 0, response.length);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        } else {\n\n        }\n    }\n}\n</code></pre>\n<p>This fixes issues with Stefan's answer. It can handle multiple messages in one read and messages split over a read. Also fixes an issue with using an int instead of a long in writes.</p>\n"},{"tags":[],"owner":{"account_id":20821095,"reputation":19,"user_id":15292698,"display_name":"Sergey K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635691864,"creation_date":1635669626,"answer_id":69785185,"question_id":43163592,"body_markdown":"Tried using [Stefan](https://stackoverflow.com/users/2876079/stefan)&#39;s code. And currently it doesn&#39;t work well (I&#39;m using Firefox). Websocket packets larger than 1024 bytes are being splitted into TCP segments, so reassembling is required.\r\nHere is an updated code for reading browser packet:\r\n\r\n    private static void processResponse(InputStream inputStream, OutputStream outputStream) throws IOException {\r\n        int readPacketLength = 0;\r\n        byte[] packet = new byte[1024];\r\n        ByteArrayOutputStream packetStream = new ByteArrayOutputStream();\r\n\r\n        while(true) {\r\n            readPacketLength = inputStream.read(packet);\r\n\r\n            if(readPacketLength != -1) {\r\n                if ((packet[0] &amp; (byte) 15) == (byte) 8) { // Disconnect packet\r\n                    outputStream.write(packet, 0, readPacketLength);\r\n                    // returning the same packet for client to terminate connection\r\n                    outputStream.flush();\r\n                    return;\r\n                }\r\n                byte messageLengthByte = 0;\r\n                int messageLength = 0;\r\n                int maskIndex = 2;\r\n                int messageStart = 0;\r\n                //b[0] is always text in my case so no need to check;\r\n                byte data = packet[1];\r\n                byte op = (byte) 127; // 0111 111\r\n                messageLengthByte = (byte) (data &amp; op);\r\n\r\n                int totalPacketLength = 0;\r\n                if (messageLengthByte == (byte) 126 || messageLengthByte == (byte) 127) {\r\n                    if (messageLengthByte == (byte) 126) {\r\n                        maskIndex = 4;\r\n                        // if (messageLengthInt==(byte)126), then 16-bit length is stored in packet[2] and [3]\r\n                        ByteBuffer messageLength16Bit = ByteBuffer.allocateDirect(4);\r\n                        messageLength16Bit.order(ByteOrder.BIG_ENDIAN);\r\n                        messageLength16Bit.put((byte) 0x00);\r\n                        messageLength16Bit.put((byte) 0x00);\r\n                        messageLength16Bit.put(packet, 2, 2);\r\n                        messageLength16Bit.flip();\r\n                        messageLength = messageLength16Bit.getInt();\r\n                        totalPacketLength = messageLength + 8;\r\n                    } else {\r\n                        maskIndex = 10;\r\n                        // if (messageLengthInt==(byte)127), then 64-bit length is stored in bytes [2] to [9]. Using only 32-bit\r\n                        ByteBuffer messageLength64Bit = ByteBuffer.allocateDirect(4);\r\n                        messageLength64Bit.order(ByteOrder.BIG_ENDIAN);\r\n                        messageLength64Bit.put(packet, 6, 4);\r\n                        messageLength64Bit.flip();\r\n                        messageLength = messageLength64Bit.getInt();\r\n                        totalPacketLength = messageLength + 14;\r\n                    }\r\n\r\n                    if (readPacketLength != totalPacketLength) {\r\n                        packetStream.write(packet, 0, readPacketLength);\r\n\r\n                        int lastPacketLength = 0;\r\n                        while (readPacketLength &lt; totalPacketLength) {\r\n                            packet = new byte[1024];\r\n                            readPacketLength += lastPacketLength = inputStream.read(packet);\r\n                            packetStream.write(packet, 0, lastPacketLength);\r\n                        }\r\n                        packet = packetStream.toByteArray();\r\n                        packetStream.reset();\r\n                    }\r\n                }\r\n                else { // using message length from packet[1]\r\n                    messageLength = messageLengthByte;\r\n                }\r\n\r\n                byte[] masks = new byte[4];\r\n                int i=0; int j=0;\r\n                for(i = maskIndex; i &lt; (maskIndex+4); i++) {\r\n                    masks[j] = packet[i];\r\n                    j++;\r\n                }\r\n\r\n                messageStart = maskIndex + 4;\r\n\r\n                byte[] message = new byte[messageLength];\r\n                for(i = messageStart, j = 0; i &lt; readPacketLength; i++, j++){\r\n                    message[j] = (byte) (packet[i] ^ masks[j % 4]);\r\n                }\r\n                System.out.println(&quot;Received message: &quot; + new String(message));\r\n                packet = new byte[1024];\r\n            }\r\n        }\r\n    }","title":"Standalone WebSocket server without JEE/application server","body":"<p>Tried using <a href=\"https://stackoverflow.com/users/2876079/stefan\">Stefan</a>'s code. And currently it doesn't work well (I'm using Firefox). Websocket packets larger than 1024 bytes are being splitted into TCP segments, so reassembling is required.\nHere is an updated code for reading browser packet:</p>\n<pre><code>private static void processResponse(InputStream inputStream, OutputStream outputStream) throws IOException {\n    int readPacketLength = 0;\n    byte[] packet = new byte[1024];\n    ByteArrayOutputStream packetStream = new ByteArrayOutputStream();\n\n    while(true) {\n        readPacketLength = inputStream.read(packet);\n\n        if(readPacketLength != -1) {\n            if ((packet[0] &amp; (byte) 15) == (byte) 8) { // Disconnect packet\n                outputStream.write(packet, 0, readPacketLength);\n                // returning the same packet for client to terminate connection\n                outputStream.flush();\n                return;\n            }\n            byte messageLengthByte = 0;\n            int messageLength = 0;\n            int maskIndex = 2;\n            int messageStart = 0;\n            //b[0] is always text in my case so no need to check;\n            byte data = packet[1];\n            byte op = (byte) 127; // 0111 111\n            messageLengthByte = (byte) (data &amp; op);\n\n            int totalPacketLength = 0;\n            if (messageLengthByte == (byte) 126 || messageLengthByte == (byte) 127) {\n                if (messageLengthByte == (byte) 126) {\n                    maskIndex = 4;\n                    // if (messageLengthInt==(byte)126), then 16-bit length is stored in packet[2] and [3]\n                    ByteBuffer messageLength16Bit = ByteBuffer.allocateDirect(4);\n                    messageLength16Bit.order(ByteOrder.BIG_ENDIAN);\n                    messageLength16Bit.put((byte) 0x00);\n                    messageLength16Bit.put((byte) 0x00);\n                    messageLength16Bit.put(packet, 2, 2);\n                    messageLength16Bit.flip();\n                    messageLength = messageLength16Bit.getInt();\n                    totalPacketLength = messageLength + 8;\n                } else {\n                    maskIndex = 10;\n                    // if (messageLengthInt==(byte)127), then 64-bit length is stored in bytes [2] to [9]. Using only 32-bit\n                    ByteBuffer messageLength64Bit = ByteBuffer.allocateDirect(4);\n                    messageLength64Bit.order(ByteOrder.BIG_ENDIAN);\n                    messageLength64Bit.put(packet, 6, 4);\n                    messageLength64Bit.flip();\n                    messageLength = messageLength64Bit.getInt();\n                    totalPacketLength = messageLength + 14;\n                }\n\n                if (readPacketLength != totalPacketLength) {\n                    packetStream.write(packet, 0, readPacketLength);\n\n                    int lastPacketLength = 0;\n                    while (readPacketLength &lt; totalPacketLength) {\n                        packet = new byte[1024];\n                        readPacketLength += lastPacketLength = inputStream.read(packet);\n                        packetStream.write(packet, 0, lastPacketLength);\n                    }\n                    packet = packetStream.toByteArray();\n                    packetStream.reset();\n                }\n            }\n            else { // using message length from packet[1]\n                messageLength = messageLengthByte;\n            }\n\n            byte[] masks = new byte[4];\n            int i=0; int j=0;\n            for(i = maskIndex; i &lt; (maskIndex+4); i++) {\n                masks[j] = packet[i];\n                j++;\n            }\n\n            messageStart = maskIndex + 4;\n\n            byte[] message = new byte[messageLength];\n            for(i = messageStart, j = 0; i &lt; readPacketLength; i++, j++){\n                message[j] = (byte) (packet[i] ^ masks[j % 4]);\n            }\n            System.out.println(&quot;Received message: &quot; + new String(message));\n            packet = new byte[1024];\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10076,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":43330883,"answer_count":4,"score":17,"last_activity_date":1701298464,"creation_date":1491094828,"question_id":43163592,"body_markdown":"I need to implement a fairly simple WebSocket server in Java SE. All it needs to do is accept connections and store the respective sessions, then send a message to all connected client whenever a certain event is fired.\r\n\r\nI cannot find a single tutorial for how to do this in regular Java SE. All of them require running with Maven, or deploying it as a WAR - which are all out of the question for this project. I need to run this as a Java SE desktop app.\r\n\r\nThe tutorials I have found show how to implement an endpoint using annotations like `@OnOpen`, `@OnMessage`, and `@OnClose`. However, none of them explain how to actually initialize the server. I also need to be able to specify a different port number for incoming connections.\r\n\r\nAm I missing something? I know people have made chat apps using WebSocket, and that really should not require a web application server. I am not using Maven either, and would prefer to keep it that way for simplicity&#39;s sake.","title":"Standalone WebSocket server without JEE/application server","body":"<p>I need to implement a fairly simple WebSocket server in Java SE. All it needs to do is accept connections and store the respective sessions, then send a message to all connected client whenever a certain event is fired.</p>\n\n<p>I cannot find a single tutorial for how to do this in regular Java SE. All of them require running with Maven, or deploying it as a WAR - which are all out of the question for this project. I need to run this as a Java SE desktop app.</p>\n\n<p>The tutorials I have found show how to implement an endpoint using annotations like <code>@OnOpen</code>, <code>@OnMessage</code>, and <code>@OnClose</code>. However, none of them explain how to actually initialize the server. I also need to be able to specify a different port number for incoming connections.</p>\n\n<p>Am I missing something? I know people have made chat apps using WebSocket, and that really should not require a web application server. I am not using Maven either, and would prefer to keep it that way for simplicity's sake.</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"score":1,"creation_date":1701360912,"post_id":77574911,"comment_id":136768565,"body_markdown":"See this: https://stackoverflow.com/questions/59652095/theach-indexing-throwing-errors/59652657#59652657","body":"See this: <a href=\"https://stackoverflow.com/questions/59652095/theach-indexing-throwing-errors/59652657#59652657\" title=\"theach indexing throwing errors\">stackoverflow.com/questions/59652095/&hellip;</a>"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701365304,"post_id":77574911,"comment_id":136769461,"body_markdown":"Thanks, Metroids.  Using a backing class works. It would be nice without creating another class but I guess this will do.","body":"Thanks, Metroids.  Using a backing class works. It would be nice without creating another class but I guess this will do."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701367749,"post_id":77574911,"comment_id":136769886,"body_markdown":"There&#39;s a tutorial on this:  https://www.baeldung.com/thymeleaf-list","body":"There&#39;s a tutorial on this:  <a href=\"https://www.baeldung.com/thymeleaf-list\" rel=\"nofollow noreferrer\">baeldung.com/thymeleaf-list</a>"}],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701383182,"answer_count":0,"score":0,"last_activity_date":1701298345,"creation_date":1701298345,"question_id":77574911,"body_markdown":"I want to create a thymeleaf template with a single form for editing multiple items.  In this example, the items are Todo objects.\r\n\r\n```\r\npublic class Todo {\r\n    private int id;\r\n    private String desc;\r\n    private boolean done;\r\n}\r\n```\r\n \r\n\r\nBased on some googling, my broken solution is below:\r\n```\r\n&lt;form&gt;\r\n\r\n&lt;div th:each=&quot;todo, iter: *{todos}&quot;&gt;\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{todos[__${iter.index}__].id}&quot; /&gt;\r\n&lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{todos[__${iter.index}__].desc}&quot;/&gt;\r\n&lt;input type=&quot;checkbox&quot; th:field=&quot;*{todos[__${iter.index}__].done}&quot; th:checked=&quot;${todo.done}&quot;/&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;input type=&quot;submit&quot; name=&quot;update&quot; value=&quot;upate&quot;  \r\nformmethod=&quot;post&quot; \r\nformaction=&quot;/todos/update-multiple&quot;\r\nclass=&quot;btn btn-danger&quot;/&gt;\r\n\r\n&lt;input type=&quot;submit&quot; name=&quot;cancel&quot; value=&quot;cancel&quot; \r\nformmethod=&quot;get&quot; \r\nformaction=&quot;/todos&quot;  \r\nclass=&quot;btn btn-secondary&quot;/&gt; \r\n&lt;/form&gt;\r\n```\r\n\r\nHere&#39;s the controller\r\n\r\n```\r\n@PostMapping(&quot;/todos/update-multiple-form&quot;)\r\npublic String updateMultipleForm(@RequestParam List&lt;Integer&gt; ids, Model model){\r\n  List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\r\n  ids.forEach(id-&gt;todos.add(service.get(id)));\r\n  model.addAttribute(&quot;todos&quot;, todos);\r\n  return &quot;update-multiple&quot;;\r\n}\r\n\r\n@PostMapping(&quot;/todos/update-multiple&quot;)\r\npublic String updateMultiple(@RequestParam List&lt;Todo&gt; todos, Model model){\r\n  todos.forEach(service::update);\r\n  return &quot;redirect:/todos&quot;;\r\n}\r\n```\r\n\r\nHere&#39;s the error message:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;todos[0]&#39; available as request attribute```\r\n\r\n\r\nGoogle around but couldn&#39;t find an example on using a single form to update multiple objects.","title":"spring mvc thymeleaf form update array of objects","body":"<p>I want to create a thymeleaf template with a single form for editing multiple items.  In this example, the items are Todo objects.</p>\n<pre><code>public class Todo {\n    private int id;\n    private String desc;\n    private boolean done;\n}\n</code></pre>\n<p>Based on some googling, my broken solution is below:</p>\n<pre><code>&lt;form&gt;\n\n&lt;div th:each=&quot;todo, iter: *{todos}&quot;&gt;\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{todos[__${iter.index}__].id}&quot; /&gt;\n&lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{todos[__${iter.index}__].desc}&quot;/&gt;\n&lt;input type=&quot;checkbox&quot; th:field=&quot;*{todos[__${iter.index}__].done}&quot; th:checked=&quot;${todo.done}&quot;/&gt;\n&lt;/div&gt;\n\n&lt;input type=&quot;submit&quot; name=&quot;update&quot; value=&quot;upate&quot;  \nformmethod=&quot;post&quot; \nformaction=&quot;/todos/update-multiple&quot;\nclass=&quot;btn btn-danger&quot;/&gt;\n\n&lt;input type=&quot;submit&quot; name=&quot;cancel&quot; value=&quot;cancel&quot; \nformmethod=&quot;get&quot; \nformaction=&quot;/todos&quot;  \nclass=&quot;btn btn-secondary&quot;/&gt; \n&lt;/form&gt;\n</code></pre>\n<p>Here's the controller</p>\n<pre><code>@PostMapping(&quot;/todos/update-multiple-form&quot;)\npublic String updateMultipleForm(@RequestParam List&lt;Integer&gt; ids, Model model){\n  List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\n  ids.forEach(id-&gt;todos.add(service.get(id)));\n  model.addAttribute(&quot;todos&quot;, todos);\n  return &quot;update-multiple&quot;;\n}\n\n@PostMapping(&quot;/todos/update-multiple&quot;)\npublic String updateMultiple(@RequestParam List&lt;Todo&gt; todos, Model model){\n  todos.forEach(service::update);\n  return &quot;redirect:/todos&quot;;\n}\n</code></pre>\n<p>Here's the error message:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'todos[0]' available as request attribute```\n\n\nGoogle around but couldn't find an example on using a single form to update multiple objects.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch","java-17"],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687332470,"creation_date":1687332470,"answer_id":76520935,"question_id":76516465,"body_markdown":"This format of writing is used in .properties file. For yaml files you need to change your format like this\r\n\r\n    logging:\r\n      logstash: abc1.uk.dev.net:5001\r\n        \r\n    spring:\r\n      application:\r\n        name: myservice-backend\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n\r\n","title":"Config Server details from application.yml not fetched","body":"<p>This format of writing is used in .properties file. For yaml files you need to change your format like this</p>\n<pre><code>logging:\n  logstash: abc1.uk.dev.net:5001\n    \nspring:\n  application:\n    name: myservice-backend\n  main:\n    allow-bean-definition-overriding: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864880,"reputation":99,"user_id":2459396,"accept_rate":29,"display_name":"user2459396"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687380227,"creation_date":1687380227,"answer_id":76527000,"question_id":76516465,"body_markdown":"Looks like bootstrap dependency was included which screwed things up. Everything works like charm after removing it. ","title":"Config Server details from application.yml not fetched","body":"<p>Looks like bootstrap dependency was included which screwed things up. Everything works like charm after removing it.</p>\n"}],"owner":{"account_id":2864880,"reputation":99,"user_id":2459396,"accept_rate":29,"display_name":"user2459396"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76527000,"answer_count":2,"score":0,"last_activity_date":1701297042,"creation_date":1687276170,"question_id":76516465,"body_markdown":"I am migrating Spring Batch using Spring Boot 2 to Spring Boot 3 (with Spring Batch 5) which uses config server to fetch environment specific properties. My properties is like this.\r\n```\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\n\r\n#--- dev profile\r\nspring.config.activate.on-profile= dev\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n\r\n#--- sit profile\r\nspring.config.activate.on-profile= sit\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n```\r\n\r\nIt looks like it doesnt seem to pick up the correct environment and fails to load anything. Any idea what could be wrong. If I just put one environment in the application.properties file then it seems to load everything\r\n```\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.activate.on-profile= dev\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n```\r\n\r\nThis is my pom.xml.\r\n```\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- config server --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n```\r\n\r\nAlso in spring-batch service I cant seem to load test properties from src/test/resources/application-test.yml, it works only with src/test/resources/application-test.properties\r\n\r\nAny idea what could be missing here or how could I achieve what I am trying to.","title":"Config Server details from application.yml not fetched","body":"<p>I am migrating Spring Batch using Spring Boot 2 to Spring Boot 3 (with Spring Batch 5) which uses config server to fetch environment specific properties. My properties is like this.</p>\n<pre><code>logging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\n\n#--- dev profile\nspring.config.activate.on-profile= dev\nlogging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n\n#--- sit profile\nspring.config.activate.on-profile= sit\nlogging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n</code></pre>\n<p>It looks like it doesnt seem to pick up the correct environment and fails to load anything. Any idea what could be wrong. If I just put one environment in the application.properties file then it seems to load everything</p>\n<pre><code>logging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.activate.on-profile= dev\nlogging.logstash= abc1.uk.dev.net:5001\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n</code></pre>\n<p>This is my pom.xml.</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- config server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Also in spring-batch service I cant seem to load test properties from src/test/resources/application-test.yml, it works only with src/test/resources/application-test.properties</p>\n<p>Any idea what could be missing here or how could I achieve what I am trying to.</p>\n"},{"tags":["java","wildfly","resteasy","wildfly-26"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701297173,"post_id":77574799,"comment_id":136759809,"body_markdown":"It&#39;s hard to say what is going on here. Possibly a provider or something that doesn&#39;t have a default constructor.","body":"It&#39;s hard to say what is going on here. Possibly a provider or something that doesn&#39;t have a default constructor."},{"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"score":0,"creation_date":1701299283,"post_id":77574799,"comment_id":136760062,"body_markdown":"Thank you James for the input. I will try to specifically instantiate the Resteasy implementation of ClientBuilder and see if it helps. Will comment here soon again.","body":"Thank you James for the input. I will try to specifically instantiate the Resteasy implementation of ClientBuilder and see if it helps. Will comment here soon again."},{"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"score":0,"creation_date":1701300636,"post_id":77574799,"comment_id":136760203,"body_markdown":"This is really weird. As stated, I changed the instantiation to use Resteasy classes directly. However, this did not yield anything positive. \n\nHowever, I have some additional insight: the REST client running in Wildfly can be triggered in two ways: based on a call from a remote EJB client, or by a timer task / scheduled task within the same server. If, after Wildfly startup, the remote client is first to utilize the REST client, I am seeing this error. If the scheduled task is the first trigger, everything works as expected. \nWeird.","body":"This is really weird. As stated, I changed the instantiation to use Resteasy classes directly. However, this did not yield anything positive.   However, I have some additional insight: the REST client running in Wildfly can be triggered in two ways: based on a call from a remote EJB client, or by a timer task / scheduled task within the same server. If, after Wildfly startup, the remote client is first to utilize the REST client, I am seeing this error. If the scheduled task is the first trigger, everything works as expected.  Weird."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701302025,"post_id":77574799,"comment_id":136760371,"body_markdown":"That is definitely peculiar.","body":"That is definitely peculiar."}],"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701296427,"creation_date":1701296427,"question_id":77574799,"body_markdown":"I have a REST client using RESTEasy 4.7.7 running in Wildfly 26.1.3.Final (using Java 17), that fails due to a NullpointerException. Outside of Wildfly everything works fine.\r\n\r\nThe client looks like this:\r\n\r\n    Client restClient = javax.ws.rs.client.ClientBuilder.newClient();\r\n    WebTarget webTarget = restClient.target(baseUri + &quot;/api/Login&quot;);\r\n    \r\n    String jsonQuery = &quot;&lt;some-real-json&gt;&quot;;\r\n\r\n    String token = null;\r\n    try {\r\n        Response response = webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(MIMETYPE_JSON).post(javax.ws.rs.client.Entity.entity(jsonQuery, javax.ws.rs.core.MediaType.APPLICATION_JSON));\r\n        String returnValue = response.readEntity(String.class);\r\n        if (response.getStatus() != 200) {\r\n            log.error(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\r\n            throw new EpostException(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\r\n        }\r\n\r\n        Object jsonOutput = Jsoner.deserialize(returnValue);\r\n        // output processing\r\n\r\n    } catch (Exception ex) {\r\n        log.error(&quot;Could not authenticate with ePost API&quot;, ex);\r\n        throw new EpostException(ex.getMessage(), ex);\r\n    } finally {\r\n        restClient.close();\r\n    }\r\n    return token;\r\n\r\nHere&#39;s the stacktrace I am getting: \r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Constructor.getParameterTypes()&quot; because &quot;constructor&quot; is null\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.ConstructorInjectorImpl.&lt;init&gt;(ConstructorInjectorImpl.java:55)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.InjectorFactoryImpl.createConstructor(InjectorFactoryImpl.java:61)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.injectedInstance(ResteasyProviderFactoryImpl.java:1398)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.createInterceptor(JaxrsInterceptorRegistryImpl.java:150)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.initialize(JaxrsInterceptorRegistryImpl.java:168)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.checkInitialize(JaxrsInterceptorRegistryImpl.java:183)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.getInterceptor(JaxrsInterceptorRegistryImpl.java:193)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.postMatch(JaxrsInterceptorRegistryImpl.java:138)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl.postMatch(JaxrsInterceptorRegistryImpl.java:288)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientConfiguration.getRequestFilters(ClientConfiguration.java:120)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.getRequestFilters(ClientInvocation.java:460)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:759)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:69)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:226)\r\n    \tat deployment.j-lawyer-server.ear//com.jdimension.jlawyer.epost.EpostAPI.login(EpostAPI.java:782)\r\n\r\nAny ideas what could be wrong here? It happens when calling the &quot;post&quot; method. I have a feeling it has something to do with instantiating RESTEasy, but as I am not directly instantiating it myself, I do not know how to tackle this. \r\n\r\nThanks!","title":"NullpointerException in REST / RESTEasy client within Wildfly 26","body":"<p>I have a REST client using RESTEasy 4.7.7 running in Wildfly 26.1.3.Final (using Java 17), that fails due to a NullpointerException. Outside of Wildfly everything works fine.</p>\n<p>The client looks like this:</p>\n<pre><code>Client restClient = javax.ws.rs.client.ClientBuilder.newClient();\nWebTarget webTarget = restClient.target(baseUri + &quot;/api/Login&quot;);\n\nString jsonQuery = &quot;&lt;some-real-json&gt;&quot;;\n\nString token = null;\ntry {\n    Response response = webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(MIMETYPE_JSON).post(javax.ws.rs.client.Entity.entity(jsonQuery, javax.ws.rs.core.MediaType.APPLICATION_JSON));\n    String returnValue = response.readEntity(String.class);\n    if (response.getStatus() != 200) {\n        log.error(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\n        throw new EpostException(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\n    }\n\n    Object jsonOutput = Jsoner.deserialize(returnValue);\n    // output processing\n\n} catch (Exception ex) {\n    log.error(&quot;Could not authenticate with ePost API&quot;, ex);\n    throw new EpostException(ex.getMessage(), ex);\n} finally {\n    restClient.close();\n}\nreturn token;\n</code></pre>\n<p>Here's the stacktrace I am getting:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Constructor.getParameterTypes()&quot; because &quot;constructor&quot; is null\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.ConstructorInjectorImpl.&lt;init&gt;(ConstructorInjectorImpl.java:55)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.InjectorFactoryImpl.createConstructor(InjectorFactoryImpl.java:61)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.injectedInstance(ResteasyProviderFactoryImpl.java:1398)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.createInterceptor(JaxrsInterceptorRegistryImpl.java:150)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.initialize(JaxrsInterceptorRegistryImpl.java:168)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.checkInitialize(JaxrsInterceptorRegistryImpl.java:183)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.getInterceptor(JaxrsInterceptorRegistryImpl.java:193)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.postMatch(JaxrsInterceptorRegistryImpl.java:138)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl.postMatch(JaxrsInterceptorRegistryImpl.java:288)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientConfiguration.getRequestFilters(ClientConfiguration.java:120)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.getRequestFilters(ClientInvocation.java:460)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:759)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:69)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:226)\n    at deployment.j-lawyer-server.ear//com.jdimension.jlawyer.epost.EpostAPI.login(EpostAPI.java:782)\n</code></pre>\n<p>Any ideas what could be wrong here? It happens when calling the &quot;post&quot; method. I have a feeling it has something to do with instantiating RESTEasy, but as I am not directly instantiating it myself, I do not know how to tackle this.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","azure-cosmosdb","azure-cosmosdb-sqlapi"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701295921,"post_id":77574593,"comment_id":136759660,"body_markdown":"Not quite sure about your query - it&#39;s not valid sql (I think you&#39;re missing a bit after the `from`). As for building your query - can&#39;t you just pass your query, as written? Also: be mindful of performance impact using `SUBSTRING()` if you&#39;re processing a lot of data (might be better to trim the resulting string after it&#39;s returned, vs executing a function on hundreds or thousands of strings)","body":"Not quite sure about your query - it&#39;s not valid sql (I think you&#39;re missing a bit after the <code>from</code>). As for building your query - can&#39;t you just pass your query, as written? Also: be mindful of performance impact using <code>SUBSTRING()</code> if you&#39;re processing a lot of data (might be better to trim the resulting string after it&#39;s returned, vs executing a function on hundreds or thousands of strings)"},{"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"score":0,"creation_date":1701296360,"post_id":77574593,"comment_id":136759716,"body_markdown":"Sorry for the confusion basically I need to query `startDate=&quot;2023-11-17&quot;` whereas startDate is saved as `2023-11-17T08:11:30.225323`. How can I achieve this using `Criteria` @DavidMakogon","body":"Sorry for the confusion basically I need to query <code>startDate=&quot;2023-11-17&quot;</code> whereas startDate is saved as <code>2023-11-17T08:11:30.225323</code>. How can I achieve this using <code>Criteria</code> @DavidMakogon"},{"owner":{"account_id":12393022,"reputation":5210,"user_id":9034195,"accept_rate":100,"display_name":"NotFound"},"score":0,"creation_date":1701334760,"post_id":77574593,"comment_id":136763501,"body_markdown":"Query the datetime like it&#39;s a datetime. If you are only interested in the date part you can filter between the start of the day and end of the day. Which will also be a lot more optimized as it&#39;ll be able to leverage the index using a precise index scan.","body":"Query the datetime like it&#39;s a datetime. If you are only interested in the date part you can filter between the start of the day and end of the day. Which will also be a lot more optimized as it&#39;ll be able to leverage the index using a precise index scan."}],"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701295796,"creation_date":1701293372,"question_id":77574593,"body_markdown":"I&#39;ve a document like this in db\r\n```json\r\n{\r\n   &quot;startDate&quot;: &quot;2023-11-17T08:11:30.225323&quot;\r\n}\r\n```\r\n\r\nWhen querying I can say\r\n```sql\r\nselect *\r\nfrom c.startDate = &quot;2023-11-17T08:11:30.225323&quot;\r\n```\r\nwhich is working. But I need to query only with `date part` so I did something like this `select SUBSTRING(c.effectiveDate,0,10)` which is giving me results because my input to the query will be like this `2023-11-17`. \r\n\r\nSo from query side it&#39;s all working but I&#39;m trying to build this query using java cosmos sdk. For this I&#39;m using something called Criteria from `com.azure.spring.data.cosmos.core.query.Criteria` package. For example for the above query I use something like this \r\n\r\n```\r\nCriteria c1 = Criteria.getInstance(CriteriaType.IS_EQUAL, &quot;startDate&quot;, Collections.singletonList(startDate), Part.IgnoreCaseType.NEVER);\r\n```\r\n\r\nNow using the same `Criteria` how do I achieve `SUBSTRING` functionality.\r\n","title":"Cosmos DB Substring query example","body":"<p>I've a document like this in db</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;startDate&quot;: &quot;2023-11-17T08:11:30.225323&quot;\n}\n</code></pre>\n<p>When querying I can say</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select *\nfrom c.startDate = &quot;2023-11-17T08:11:30.225323&quot;\n</code></pre>\n<p>which is working. But I need to query only with <code>date part</code> so I did something like this <code>select SUBSTRING(c.effectiveDate,0,10)</code> which is giving me results because my input to the query will be like this <code>2023-11-17</code>.</p>\n<p>So from query side it's all working but I'm trying to build this query using java cosmos sdk. For this I'm using something called Criteria from <code>com.azure.spring.data.cosmos.core.query.Criteria</code> package. For example for the above query I use something like this</p>\n<pre><code>Criteria c1 = Criteria.getInstance(CriteriaType.IS_EQUAL, &quot;startDate&quot;, Collections.singletonList(startDate), Part.IgnoreCaseType.NEVER);\n</code></pre>\n<p>Now using the same <code>Criteria</code> how do I achieve <code>SUBSTRING</code> functionality.</p>\n"},{"tags":["java","multithreading","javafx","serial-port","processbuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701262256,"post_id":77570313,"comment_id":136753469,"body_markdown":"There should only be one `Application` subclass (and one instance of it) in the application. If these are all supposed to be part of the same application, they should not be subclasses of `Application`.","body":"There should only be one <code>Application</code> subclass (and one instance of it) in the application. If these are all supposed to be part of the same application, they should not be subclasses of <code>Application</code>."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701270417,"post_id":77570313,"comment_id":136755213,"body_markdown":"Sorry for the confusion. All three are different classes and extending Application.\nThe one I mentioned as &#39;Main App&#39;, I wanted that app to be my main application that allows me to open another two through a button click.\nI actually achieve that thing with ProcessBuilder.","body":"Sorry for the confusion. All three are different classes and extending Application. The one I mentioned as &#39;Main App&#39;, I wanted that app to be my main application that allows me to open another two through a button click. I actually achieve that thing with ProcessBuilder."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701270754,"post_id":77570313,"comment_id":136755291,"body_markdown":"The reason I wanted my project to be like this is I wanted to make a connection between them so that I will be able to communicate with my device through app2 too.","body":"The reason I wanted my project to be like this is I wanted to make a connection between them so that I will be able to communicate with my device through app2 too."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1701270784,"post_id":77570313,"comment_id":136755300,"body_markdown":"*&quot;All three are different classes and extending Application.&quot;* But why? It doesn&#39;t make sense for all three to be subclasses of `Application`.","body":"<i>&quot;All three are different classes and extending Application.&quot;</i> But why? It doesn&#39;t make sense for all three to be subclasses of <code>Application</code>."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701275131,"post_id":77570313,"comment_id":136756272,"body_markdown":"well, I made all three apps as 3 different projects. but now I have been asked to completed a task. To achieve that task I have to make a project that requires to use the functionalities of all three apps.\nSO I had two options\nEither I coded everything from scratch and in place of application, I have to creates stages.\nor else this option of invoking one application window from another.","body":"well, I made all three apps as 3 different projects. but now I have been asked to completed a task. To achieve that task I have to make a project that requires to use the functionalities of all three apps. SO I had two options Either I coded everything from scratch and in place of application, I have to creates stages. or else this option of invoking one application window from another."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701285203,"post_id":77570313,"comment_id":136758035,"body_markdown":"*&quot;I had two options&quot;*. You have a third option. Refactor each of the three apps so the UI is defined in a different class to the `Application` subclass. (This is a very quick and easy refactoring.) Then you can reuse the UI wherever you want without replicating it. There is no need to launch an entire application just because you want to open another window.","body":"<i>&quot;I had two options&quot;</i>. You have a third option. Refactor each of the three apps so the UI is defined in a different class to the <code>Application</code> subclass. (This is a very quick and easy refactoring.) Then you can reuse the UI wherever you want without replicating it. There is no need to launch an entire application just because you want to open another window."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1701288803,"post_id":77570313,"comment_id":136758621,"body_markdown":"*&quot;else I have to make a new project from scratch which I don&#39;t want to do now&quot;* -&gt; Just do that, even though you don&#39;t want to, or follow James suggestion for refactoring common code, it will be easier than trying to make apps communicate via the `Process` API.  You are looking for shortcuts, but the shortcuts you are trying to take are actually more difficult than the suggested paths.","body":"<i>&quot;else I have to make a new project from scratch which I don&#39;t want to do now&quot;</i> -&gt; Just do that, even though you don&#39;t want to, or follow James suggestion for refactoring common code, it will be easier than trying to make apps communicate via the <code>Process</code> API.  You are looking for shortcuts, but the shortcuts you are trying to take are actually more difficult than the suggested paths."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701341979,"post_id":77570313,"comment_id":136764813,"body_markdown":"Thank you for the guidance @James_D &amp; jewelsea. I&#39;ll look into the refactoring.","body":"Thank you for the guidance @James_D &amp; jewelsea. I&#39;ll look into the refactoring."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701295734,"creation_date":1701295734,"answer_id":77574757,"question_id":77570313,"body_markdown":"**Solution 1:**\r\n\r\nIf you have one JAR which contains your 3 applications, then you must refactor your code until you have only one application which wrapps them all.\r\n\r\n**Solution 2:**\r\n\r\nIf you have 3 JARs, separate ones for each application, then you can use the class `Runtime` or `ProcessBuilder` for starting the other JARs. \r\n\r\nExample: \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;absolute path upto jar&quot;);\r\n    Process p = pb.start();\r\n\r\nNever use relative paths. And keep in mind that there is no real directory structure in your JARs. \r\nYou can try to use the JARs from outside the JAR, or zu get them via classpath with `getClass(). getResource(&quot;/a/b/c.jar&quot;)`.\r\n\r\n**Solution 3:**\r\n\r\nYou could think about using `Docker` with `Docker Compose`.","title":"To Open another Application from main Application in JavaFX VsCode","body":"<p><strong>Solution 1:</strong></p>\n<p>If you have one JAR which contains your 3 applications, then you must refactor your code until you have only one application which wrapps them all.</p>\n<p><strong>Solution 2:</strong></p>\n<p>If you have 3 JARs, separate ones for each application, then you can use the class <code>Runtime</code> or <code>ProcessBuilder</code> for starting the other JARs.</p>\n<p>Example:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;absolute path upto jar&quot;);\nProcess p = pb.start();\n</code></pre>\n<p>Never use relative paths. And keep in mind that there is no real directory structure in your JARs.\nYou can try to use the JARs from outside the JAR, or zu get them via classpath with <code>getClass(). getResource(&quot;/a/b/c.jar&quot;)</code>.</p>\n<p><strong>Solution 3:</strong></p>\n<p>You could think about using <code>Docker</code> with <code>Docker Compose</code>.</p>\n"}],"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701295734,"creation_date":1701253580,"question_id":77570313,"body_markdown":"**Question**\r\nHey all. I am new to javafx coding so please level with me.\r\n\r\nI coded three applications with their own primary stage.\r\nbut now I want to open two of the applications from one application (which is going to be my main application)\r\nI am initializing two buttons in my main application and with the button click I want to open the other two application respectively.\r\n\r\nDetails:\r\nMain App;\r\nI created this app to establish a port connection with my device to communicate with it.\r\n\r\nApp 1 &amp; 2:\r\nThese app are created to generate a single page pdf file for different purpose.\r\nin these apps I am taking input from user but now I have to fill some fields by a button click that will take information from my device. For that matter I want to establish a connection with my device.\r\nThis is the reason I want to connect these three apps.\r\nelse I have to make a new project from scratch which I don&#39;t want to do now if there is any solution of my problem.\r\n\r\nI tried all the solutions I can find on internet but nothing is working for me. I don&#39;t know what to do now. PLEASE HELP\r\nThis one is my latest.\r\n\r\n```\r\n//Main App Code:\r\npublic class ConnectionTestApp extends Application {\r\npublic void start(Stage primaryStage) throws IOException {\r\n\r\n//code that sets the stage\r\n}\r\n\r\npublic void setupEventHandlers() throws IOException {\r\n\r\n   **// this button open App 1**\r\n\r\nbtnOpenCertificate.setOnAction(event -&gt; {\r\ntry {\r\nProcessBuilder CertificateAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.CertificateAppFinal&quot;);\r\nProcess CertificateAppprocess = CertificateAppBuilder.start();\r\n\r\n            InputStream CertificateAppinputStream = CertificateAppprocess.getInputStream();\r\n            InputStream CertificateApperrorStream = CertificateAppprocess.getErrorStream();\r\n\r\n            readStream(&quot;App Output: &quot;, CertificateAppinputStream);\r\n            readStream(&quot;App Error: &quot;, CertificateApperrorStream);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\r\n        }\r\n            \r\n    });\r\n **// this button open App 1**\r\n\r\n    btnOpenInsDoc.setOnAction(event -&gt; {\r\n        try {\r\n            ProcessBuilder InspectionAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.InspectionAppFinal&quot;);\r\n\r\n            Process InspectionAppprocess = InspectionAppBuilder.start();\r\n\r\n            InputStream InspectionAppinputStream = InspectionAppprocess.getInputStream();\r\n            InputStream InspectionApperrorStream = InspectionAppprocess.getErrorStream();\r\n\r\n            readStream(&quot;App2 Output: &quot;, InspectionAppinputStream);\r\n            readStream(&quot;App2 Error: &quot;,  InspectionApperrorStream);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\r\n        }\r\n\r\n    });\r\n}\r\npublic static void main(String[] args) {\r\nConnectionTestApp.launch(args);\r\n}\r\n}\r\n\r\n\r\n```\r\n\r\n[This is the error I am getting with this code](https://i.stack.imgur.com/JBjq5.png)\r\n\r\n## P.S:\r\nWhen I change InspectionAppFinal to InspectionAppFinal.java or InspectionAppFinal.class (In process builder) it opens the file in VS code and gives no error/exception. \r\nI&#39;m confused what I am missing or doing rong.\r\n\r\n## Context\r\nI am using JavaFX in VSCODE.\r\n\r\n## Java version:\r\nopenjdk version &quot;21.0.1&quot; 2023-10-17 LTS\r\nOpenJDK Runtime Environment Temurin-21.0.1+12 (build 21.0.1+12-LTS)\r\nOpenJDK 64-Bit Server VM Temurin-21.0.1+12 (build 21.0.1+12-LTS, mixed mode, sharing)\r\n\r\n## Operating system and platform:\r\nWindows 11\r\nVersion 10.0.22621 Build 22621 x64-based PC","title":"To Open another Application from main Application in JavaFX VsCode","body":"<p><strong>Question</strong>\nHey all. I am new to javafx coding so please level with me.</p>\n<p>I coded three applications with their own primary stage.\nbut now I want to open two of the applications from one application (which is going to be my main application)\nI am initializing two buttons in my main application and with the button click I want to open the other two application respectively.</p>\n<p>Details:\nMain App;\nI created this app to establish a port connection with my device to communicate with it.</p>\n<p>App 1 &amp; 2:\nThese app are created to generate a single page pdf file for different purpose.\nin these apps I am taking input from user but now I have to fill some fields by a button click that will take information from my device. For that matter I want to establish a connection with my device.\nThis is the reason I want to connect these three apps.\nelse I have to make a new project from scratch which I don't want to do now if there is any solution of my problem.</p>\n<p>I tried all the solutions I can find on internet but nothing is working for me. I don't know what to do now. PLEASE HELP\nThis one is my latest.</p>\n<pre><code>//Main App Code:\npublic class ConnectionTestApp extends Application {\npublic void start(Stage primaryStage) throws IOException {\n\n//code that sets the stage\n}\n\npublic void setupEventHandlers() throws IOException {\n\n   **// this button open App 1**\n\nbtnOpenCertificate.setOnAction(event -&gt; {\ntry {\nProcessBuilder CertificateAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.CertificateAppFinal&quot;);\nProcess CertificateAppprocess = CertificateAppBuilder.start();\n\n            InputStream CertificateAppinputStream = CertificateAppprocess.getInputStream();\n            InputStream CertificateApperrorStream = CertificateAppprocess.getErrorStream();\n\n            readStream(&quot;App Output: &quot;, CertificateAppinputStream);\n            readStream(&quot;App Error: &quot;, CertificateApperrorStream);\n        }\n        catch (IOException e)\n        {\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\n        }\n            \n    });\n **// this button open App 1**\n\n    btnOpenInsDoc.setOnAction(event -&gt; {\n        try {\n            ProcessBuilder InspectionAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.InspectionAppFinal&quot;);\n\n            Process InspectionAppprocess = InspectionAppBuilder.start();\n\n            InputStream InspectionAppinputStream = InspectionAppprocess.getInputStream();\n            InputStream InspectionApperrorStream = InspectionAppprocess.getErrorStream();\n\n            readStream(&quot;App2 Output: &quot;, InspectionAppinputStream);\n            readStream(&quot;App2 Error: &quot;,  InspectionApperrorStream);\n        }\n        catch (IOException e)\n        {\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\n        }\n\n    });\n}\npublic static void main(String[] args) {\nConnectionTestApp.launch(args);\n}\n}\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JBjq5.png\" rel=\"nofollow noreferrer\">This is the error I am getting with this code</a></p>\n<h2>P.S:</h2>\n<p>When I change InspectionAppFinal to InspectionAppFinal.java or InspectionAppFinal.class (In process builder) it opens the file in VS code and gives no error/exception.\nI'm confused what I am missing or doing rong.</p>\n<h2>Context</h2>\n<p>I am using JavaFX in VSCODE.</p>\n<h2>Java version:</h2>\n<p>openjdk version &quot;21.0.1&quot; 2023-10-17 LTS\nOpenJDK Runtime Environment Temurin-21.0.1+12 (build 21.0.1+12-LTS)\nOpenJDK 64-Bit Server VM Temurin-21.0.1+12 (build 21.0.1+12-LTS, mixed mode, sharing)</p>\n<h2>Operating system and platform:</h2>\n<p>Windows 11\nVersion 10.0.22621 Build 22621 x64-based PC</p>\n"},{"tags":["java","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1701398601,"post_id":77574753,"comment_id":136773709,"body_markdown":"Did you read https://cucumber.io/docs/cucumber/state/?lang=java ?","body":"Did you read <a href=\"https://cucumber.io/docs/cucumber/state/?lang=java\" rel=\"nofollow noreferrer\">cucumber.io/docs/cucumber/state/?lang=java</a> ?"},{"owner":{"account_id":28828031,"reputation":1,"user_id":22079029,"display_name":"Jack"},"score":0,"creation_date":1701443389,"post_id":77574753,"comment_id":136779882,"body_markdown":"yes, I pass state between stepDefs via ScenarioContext class, as is mentioned here: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer  in Belly.java example\n\nbut I share state between stepDefs class, not operation.java classes","body":"yes, I pass state between stepDefs via ScenarioContext class, as is mentioned here: <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>  in Belly.java example  but I share state between stepDefs class, not operation.java classes"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1701447112,"post_id":77574753,"comment_id":136780595,"body_markdown":"Okay. Then you should inject `ScenarioContext` into your operation classes. So don&#39;t use `new ScenarioContext` but let pico container inject it into the operation class. This also means you shouldn&#39;t use `new *Operation` in your `*Steps` classes.","body":"Okay. Then you should inject <code>ScenarioContext</code> into your operation classes. So don&#39;t use <code>new ScenarioContext</code> but let pico container inject it into the operation class. This also means you shouldn&#39;t use <code>new *Operation</code> in your <code>*Steps</code> classes."}],"owner":{"account_id":28828031,"reputation":1,"user_id":22079029,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701295650,"creation_date":1701295650,"question_id":77574753,"body_markdown":"So I have java files:\r\n\r\n\r\n```\r\nAuthorizationSteps.java\r\n     AuthorizationOperation.java\r\n\r\nUserSteps.java\r\n   UserOperation.java\r\n\r\n```\r\n\r\n\r\nin `AuthorizationOperation.java` I&#39;m obtaning a token using method `String token = getToken()` and passing to `AuthorizationSteps.java` as returned value. Then using pico container \r\n` scenarioContext.setContext(&quot;token&quot;, token)`; in `AuthorizationSteps.java` I&#39;m saving a token.\r\n\r\nThen in `UserSteps.java`: I&#39;m passing  `scenarioContext.getContext(&quot;token&quot;)`; token value to a method as parameter in `UserOperation.java.`   and this scenario works for me.\r\n\r\nThe question is: Is this possible to pass token from  `AuthorizationOperation.java` to  `UserOperation.java`?\r\n\r\n\r\nEach time when I try: \r\n`ScenarioContext scenarioContext = new ScenarioContext`;  in `UserOperation.java` and `AuthorizationOperation.java`  I&#39;m getting null token value ","title":"Cucumber pass value between operation files","body":"<p>So I have java files:</p>\n<pre><code>AuthorizationSteps.java\n     AuthorizationOperation.java\n\nUserSteps.java\n   UserOperation.java\n\n</code></pre>\n<p>in <code>AuthorizationOperation.java</code> I'm obtaning a token using method <code>String token = getToken()</code> and passing to <code>AuthorizationSteps.java</code> as returned value. Then using pico container\n<code> scenarioContext.setContext(&quot;token&quot;, token)</code>; in <code>AuthorizationSteps.java</code> I'm saving a token.</p>\n<p>Then in <code>UserSteps.java</code>: I'm passing  <code>scenarioContext.getContext(&quot;token&quot;)</code>; token value to a method as parameter in <code>UserOperation.java.</code>   and this scenario works for me.</p>\n<p>The question is: Is this possible to pass token from  <code>AuthorizationOperation.java</code> to  <code>UserOperation.java</code>?</p>\n<p>Each time when I try:\n<code>ScenarioContext scenarioContext = new ScenarioContext</code>;  in <code>UserOperation.java</code> and <code>AuthorizationOperation.java</code>  I'm getting null token value</p>\n"},{"tags":["java","linux","javafx","jar","raspberry-pi"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1701077961,"post_id":77555208,"comment_id":136725877,"body_markdown":"You need to use the [JavaFX](https://gluonhq.com/products/javafx/) that is compatible with the host operating system and architecture.","body":"You need to use the <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">JavaFX</a> that is compatible with the host operating system and architecture."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701100871,"post_id":77555208,"comment_id":136730266,"body_markdown":"Probable duplicate: [Error: JavaFX runtime components are missing, and are required to run this application with JDK 11](https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli).","body":"Probable duplicate: <a href=\"https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli\">Error: JavaFX runtime components are missing, and are required to run this application with JDK 11</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701101238,"post_id":77555208,"comment_id":136730343,"body_markdown":"Getting stuff to work on Pi is probably different.  Probably a totally different question (please keep questions focused).  There are probably articles around that describe that process, make sure you use ones that are use modern modular JavaFX distributions if you follow one.  There is [this](https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi), but it is a bit dated.  Unforunately this [oracle guide](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html) is dated.","body":"Getting stuff to work on Pi is probably different.  Probably a totally different question (please keep questions focused).  There are probably articles around that describe that process, make sure you use ones that are use modern modular JavaFX distributions if you follow one.  There is <a href=\"https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi\" rel=\"nofollow noreferrer\">this</a>, but it is a bit dated.  Unforunately this <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html\" rel=\"nofollow noreferrer\">oracle guide</a> is dated."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701101378,"post_id":77555208,"comment_id":136730379,"body_markdown":"Gluon provide a [modern guide for JavaFX on embedded systems such as Pi](https://docs.gluonhq.com/#platforms_embedded).","body":"Gluon provide a <a href=\"https://docs.gluonhq.com/#platforms_embedded\" rel=\"nofollow noreferrer\">modern guide for JavaFX on embedded systems such as Pi</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701108348,"post_id":77555208,"comment_id":136731689,"body_markdown":"Using `ea` distributions is not recommended.  They are early access distributions, not guaranteed to be stable.","body":"Using <code>ea</code> distributions is not recommended.  They are early access distributions, not guaranteed to be stable."}],"answers":[{"tags":[],"owner":{"account_id":9598629,"reputation":486,"user_id":7126967,"display_name":"Raw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701071582,"creation_date":1701071582,"answer_id":77555269,"question_id":77555208,"body_markdown":"Maybe it would help to add to your POM\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;{YOUR_VERSION}&lt;/version&gt;\r\n        &lt;classifier&gt;linux&lt;/classifier&gt;\r\n    &lt;/dependency&gt;","title":"java -jar HelloFX.jar is running on windows perfectly, but not running in Linux or Raspberry pi","body":"<p>Maybe it would help to add to your POM</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;{YOUR_VERSION}&lt;/version&gt;\n    &lt;classifier&gt;linux&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19842426,"reputation":41,"user_id":14534762,"display_name":"ProgrammerJibon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701292291,"answer_count":1,"score":1,"last_activity_date":1701295000,"creation_date":1701070867,"question_id":77555208,"body_markdown":"Whenever I run java -jar HelloFX.jar command in Linux or raspberry pi, that application shows the error below, I&#39;m searching for a solution  from the last month over the internet, but not finding any valid solution. But the Jar file is working in different windows with JDK 21. I&#39;ve installed JDK 21 on Raspberry pi and my Linux too, other Java files are working well, but when I try to run JavaFX jar file, it&#39;s show these error.\r\n\r\n```\r\njibon@jibon:~/Desktop $ java -jar HelloFX.jar \r\nNov 27, 2023 1:24:11 PM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @9efff14&#39;\r\nGraphics Device initialization failed for :  es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n\tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n\t... 1 more\r\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\r\n\tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\n```\r\n\r\nI&#39;ve used IntelliJ IDE for building the JavaFX applications. As I told you, **it&#39;s working perfectly with different windows. But when I tried to run this on Linux or Raspberry Pi, it&#39;s shows me these errors.**   \r\nPlease give me a perfect solution for this.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tV3Jo.png)](https://i.stack.imgur.com/tV3Jo.png)\r\n\r\n# Some files\r\n\r\n**POM.XML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;pro.jibon.apps.hellofx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;HelloFX&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;HelloFX&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;21&lt;/source&gt;\r\n                    &lt;target&gt;21&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx/pro.jibon.apps.hellofx.hellofx.Main\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**HelloApplication.java**\r\n\r\n```\r\npackage pro.jibon.apps.hellofx.hellofx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.input.KeyCombination;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.input.TouchEvent;\r\nimport javafx.stage.Stage;\r\nimport com.pi4j.io.gpio.GpioController;\r\nimport com.pi4j.io.gpio.GpioFactory;\r\nimport com.pi4j.io.gpio.GpioPinDigitalOutput;\r\nimport com.pi4j.io.gpio.PinState;\r\nimport com.pi4j.io.gpio.RaspiPin;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.stage.Window;\r\nimport javafx.stage.WindowEvent;\r\n\r\nimport java.io.IOException;\r\n\r\n\r\npublic class HelloApplication extends Application {\r\n    @FXML\r\n    private Button button1;\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.initStyle(StageStyle.UTILITY);\r\n        stage.show();\r\n        button1 = (Button) scene.lookup(&quot;#btn&quot;);\r\n        button1.setText(&quot;Close&quot;);\r\n        button1.setOnAction(mouseEvent -&gt; {\r\n            stage.close();\r\n        });\r\n        stage.setOnCloseRequest(windowEvent -&gt; {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(&quot;Wait&quot;);\r\n            alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\r\n            alert.setHeaderText(&quot;WTF yaar!&quot;);\r\n//            alert.show();\r\n            windowEvent.consume();\r\n        });\r\n        stage.setAlwaysOnTop(true);\r\n        stage.setResizable(false);\r\n        stage.setMaximized(true);\r\n        stage.setResizable(false);\r\n        stage.setFullScreen(true);\r\n        stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\r\n        stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            stage.setFullScreen(true);\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    public static boolean isRunningOnRaspberryPi() {\r\n        try {\r\n            GpioController gpio = GpioFactory.getInstance();\r\n            gpio.shutdown();\r\n            return true;\r\n        } catch (UnsatisfiedLinkError e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**HelloView.FXML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.effect.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n     &lt;padding&gt;\r\n         &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n     &lt;/padding&gt;\r\n     &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n         &lt;items&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n         &lt;/items&gt;\r\n     &lt;/ToolBar&gt;\r\n\r\n     &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\r\n     &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\r\n      &lt;effect&gt;\r\n         &lt;Blend /&gt;\r\n      &lt;/effect&gt;\r\n   &lt;/Button&gt;\r\n &lt;/VBox&gt;\r\n```\r\n\r\n**Main.java**\r\n\r\n```\r\npackage pro.jibon.apps.hellofx.hellofx;\r\n\r\nimport pro.jibon.apps.hellofx.hellofx.*\r\n        ;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        HelloApplication.main(args);\r\n    }\r\n}\r\n```\r\n\r\n# Some necessary screenshots\r\n\r\n[![enter image description here](https://i.stack.imgur.com/FUWmF.png)](https://i.stack.imgur.com/FUWmF.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/D7Ui1.png)](https://i.stack.imgur.com/D7Ui1.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2akYX.png)](https://i.stack.imgur.com/2akYX.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/q6L7r.png)](https://i.stack.imgur.com/q6L7r.png)\r\n\r\n# Output on Windows \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Y2DDQ.png)](https://i.stack.imgur.com/Y2DDQ.png)\r\n\r\n# Output on Linux\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6sIfS.png)](https://i.stack.imgur.com/6sIfS.png)","title":"java -jar HelloFX.jar is running on windows perfectly, but not running in Linux or Raspberry pi","body":"<p>Whenever I run java -jar HelloFX.jar command in Linux or raspberry pi, that application shows the error below, I'm searching for a solution  from the last month over the internet, but not finding any valid solution. But the Jar file is working in different windows with JDK 21. I've installed JDK 21 on Raspberry pi and my Linux too, other Java files are working well, but when I try to run JavaFX jar file, it's show these error.</p>\n<pre><code>jibon@jibon:~/Desktop $ java -jar HelloFX.jar \nNov 27, 2023 1:24:11 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @9efff14'\nGraphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    ... 1 more\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n\n</code></pre>\n<p>I've used IntelliJ IDE for building the JavaFX applications. As I told you, <strong>it's working perfectly with different windows. But when I tried to run this on Linux or Raspberry Pi, it's shows me these errors.</strong><br />\nPlease give me a perfect solution for this.</p>\n<p><a href=\"https://i.stack.imgur.com/tV3Jo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tV3Jo.png\" alt=\"enter image description here\" /></a></p>\n<h1>Some files</h1>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;pro.jibon.apps.hellofx&lt;/groupId&gt;\n    &lt;artifactId&gt;HelloFX&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;HelloFX&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;21&lt;/source&gt;\n                    &lt;target&gt;21&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx/pro.jibon.apps.hellofx.hellofx.Main\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package pro.jibon.apps.hellofx.hellofx;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.KeyCombination;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.TouchEvent;\nimport javafx.stage.Stage;\nimport com.pi4j.io.gpio.GpioController;\nimport com.pi4j.io.gpio.GpioFactory;\nimport com.pi4j.io.gpio.GpioPinDigitalOutput;\nimport com.pi4j.io.gpio.PinState;\nimport com.pi4j.io.gpio.RaspiPin;\nimport javafx.stage.StageStyle;\nimport javafx.stage.Window;\nimport javafx.stage.WindowEvent;\n\nimport java.io.IOException;\n\n\npublic class HelloApplication extends Application {\n    @FXML\n    private Button button1;\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.initStyle(StageStyle.UTILITY);\n        stage.show();\n        button1 = (Button) scene.lookup(&quot;#btn&quot;);\n        button1.setText(&quot;Close&quot;);\n        button1.setOnAction(mouseEvent -&gt; {\n            stage.close();\n        });\n        stage.setOnCloseRequest(windowEvent -&gt; {\n            Alert alert = new Alert(Alert.AlertType.ERROR);\n            alert.setTitle(&quot;Wait&quot;);\n            alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\n            alert.setHeaderText(&quot;WTF yaar!&quot;);\n//            alert.show();\n            windowEvent.consume();\n        });\n        stage.setAlwaysOnTop(true);\n        stage.setResizable(false);\n        stage.setMaximized(true);\n        stage.setResizable(false);\n        stage.setFullScreen(true);\n        stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\n        stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\n            stage.setFullScreen(true);\n        });\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public static boolean isRunningOnRaspberryPi() {\n        try {\n            GpioController gpio = GpioFactory.getInstance();\n            gpio.shutdown();\n            return true;\n        } catch (UnsatisfiedLinkError e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p><strong>HelloView.FXML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.effect.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n     &lt;padding&gt;\n         &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n     &lt;/padding&gt;\n     &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\n         &lt;items&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n         &lt;/items&gt;\n     &lt;/ToolBar&gt;\n\n     &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\n     &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\n      &lt;effect&gt;\n         &lt;Blend /&gt;\n      &lt;/effect&gt;\n   &lt;/Button&gt;\n &lt;/VBox&gt;\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package pro.jibon.apps.hellofx.hellofx;\n\nimport pro.jibon.apps.hellofx.hellofx.*\n        ;\n\npublic class Main {\n    public static void main(String[] args) {\n        HelloApplication.main(args);\n    }\n}\n</code></pre>\n<h1>Some necessary screenshots</h1>\n<p><a href=\"https://i.stack.imgur.com/FUWmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FUWmF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D7Ui1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7Ui1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2akYX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2akYX.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/q6L7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6L7r.png\" alt=\"enter image description here\" /></a></p>\n<h1>Output on Windows</h1>\n<p><a href=\"https://i.stack.imgur.com/Y2DDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2DDQ.png\" alt=\"enter image description here\" /></a></p>\n<h1>Output on Linux</h1>\n<p><a href=\"https://i.stack.imgur.com/6sIfS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6sIfS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","try-catch","runtimeexception"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701154824,"post_id":77561471,"comment_id":136736871,"body_markdown":"The catch-and-throw is completely pointless. Remove.","body":"The catch-and-throw is completely pointless. Remove."}],"answers":[{"tags":[],"owner":{"account_id":14261458,"reputation":535,"user_id":10302104,"display_name":"smallpepperz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701148981,"creation_date":1701148443,"answer_id":77561485,"question_id":77561471,"body_markdown":"To prevent the program from exiting after the first error, you should use a [try-catch block][1] on the calls themselves, not inside the function where they&#39;re thrown. If you handle them in the same place you throw them, you may as well not be throwing them at all, and if you try and handle all three function calls within the same try-catch block, it will exit after the first error.\r\n```java\r\nimport java.lang.*;\r\n\r\nclass Main {\r\n    public static String len_check(String str) {\r\n        if (str.length() &gt; 20) {\r\n            throw new RuntimeException(&quot;Length is greater than 20&quot;);\r\n        } else if (str == null) {\r\n            throw new RuntimeException(&quot;null&quot;);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        try {\r\n            System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        try {\r\n            System.out.println(len_check(null));\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_try_catch.asp","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>To prevent the program from exiting after the first error, you should use a <a href=\"https://www.w3schools.com/java/java_try_catch.asp\" rel=\"nofollow noreferrer\">try-catch block</a> on the calls themselves, not inside the function where they're thrown. If you handle them in the same place you throw them, you may as well not be throwing them at all, and if you try and handle all three function calls within the same try-catch block, it will exit after the first error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.*;\n\nclass Main {\n    public static String len_check(String str) {\n        if (str.length() &gt; 20) {\n            throw new RuntimeException(&quot;Length is greater than 20&quot;);\n        } else if (str == null) {\n            throw new RuntimeException(&quot;null&quot;);\n        } else {\n            return str;\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n\n        try {\n            System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n\n        try {\n            System.out.println(len_check(null));\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701294035,"creation_date":1701154160,"answer_id":77561820,"question_id":77561471,"body_markdown":"The _[try-catch](https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html)_ block isn&#39;t necessary in the _len_check_ method.\\\r\nAnd, you&#39;ll need to re-factor the _if-statements_, checking _null_ first.\r\n\r\n```java\r\nstatic String len_check(String str) {\r\n    if (str == null) throw new RuntimeException(&quot;null&quot;);\r\n    else if (str.length() &gt; 20)\r\n        throw new RuntimeException(&quot;Length is greater than 20&quot;);\r\n    return str;\r\n}\r\n```\r\n\r\nIf you want to test different values, you&#39;ll need to contain each _len_check_ call within a _try-catch_.\r\n\r\n```java\r\ntry {\r\n    System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\ntry {\r\n    System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\ntry {\r\n    System.out.println(len_check(null));\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabcdefghijklmnopqrs\r\njava.lang.RuntimeException: Length is greater than 20\r\n\tat Main.len_check(Main.java:17)\r\n\tat Main.main(Main.java:8)\r\njava.lang.RuntimeException: null\r\n\tat Main.len_check(Main.java:15)\r\n\tat Main.main(Main.java:8)\r\n```","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>The <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html\" rel=\"nofollow noreferrer\">try-catch</a></em> block isn't necessary in the <em>len_check</em> method.<br />\nAnd, you'll need to re-factor the <em>if-statements</em>, checking <em>null</em> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String len_check(String str) {\n    if (str == null) throw new RuntimeException(&quot;null&quot;);\n    else if (str.length() &gt; 20)\n        throw new RuntimeException(&quot;Length is greater than 20&quot;);\n    return str;\n}\n</code></pre>\n<p>If you want to test different values, you'll need to contain each <em>len_check</em> call within a <em>try-catch</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n} catch (Exception e) {\n    e.printStackTrace();\n}\ntry {\n    System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n} catch (Exception e) {\n    e.printStackTrace();\n}\ntry {\n    System.out.println(len_check(null));\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abcdefghijklmnopqrs\njava.lang.RuntimeException: Length is greater than 20\n    at Main.len_check(Main.java:17)\n    at Main.main(Main.java:8)\njava.lang.RuntimeException: null\n    at Main.len_check(Main.java:15)\n    at Main.main(Main.java:8)\n</code></pre>\n"}],"owner":{"account_id":30009608,"reputation":11,"user_id":22997580,"display_name":"HXNVN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77561485,"answer_count":2,"score":0,"last_activity_date":1701294035,"creation_date":1701147979,"question_id":77561471,"body_markdown":"If the length of the string exceeds 20 because the string is inputted with str\r\n\r\nGenerates RuntimeException with string &quot;More than 20 words&quot;\r\n\r\nIf str is null, it will generate RuntimeException with string &quot;null&quot;\r\n\r\nIf this is not the case in either case, write a len_check function that returns the received string as it is.\r\n\r\nExample output.\r\n\r\n```\r\nSystem.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));\r\n```\r\n\r\n```\r\nabcdefghijklmnopqrs\r\n```\r\n\r\n```\r\nSystem.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: More than 20 words\r\n\tat ...\r\n```\r\n\r\n```\r\nSystem.out.println(len_check(null));\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: null\r\n\tat ...\r\n```\r\n\r\n```java\r\nimport java.lang.*;\r\n\r\nclass Main {\r\n\r\n\tpublic static String len_check(String str) {\r\n\t\ttry {\r\n\t\t\tif (str.length() &gt; 20) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Length is greater than 20&quot;);\r\n\t\t\t} else if (str == null) {\r\n\t\t\t\tthrow new RuntimeException(&quot;null&quot;);\r\n\t\t\t} else {\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t} catch (RuntimeException e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n\t\tSystem.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n\t\tSystem.out.println(len_check(null));\r\n\t}\r\n}\r\n```\r\n\r\nAn error occurs in the second print statement while being output (this is my intended error) and stops. I want it to be printed out until the last error.","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>If the length of the string exceeds 20 because the string is inputted with str</p>\n<p>Generates RuntimeException with string &quot;More than 20 words&quot;</p>\n<p>If str is null, it will generate RuntimeException with string &quot;null&quot;</p>\n<p>If this is not the case in either case, write a len_check function that returns the received string as it is.</p>\n<p>Example output.</p>\n<pre><code>System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));\n</code></pre>\n<pre><code>abcdefghijklmnopqrs\n</code></pre>\n<pre><code>System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: More than 20 words\n    at ...\n</code></pre>\n<pre><code>System.out.println(len_check(null));\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: null\n    at ...\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.*;\n\nclass Main {\n\n    public static String len_check(String str) {\n        try {\n            if (str.length() &gt; 20) {\n                throw new RuntimeException(&quot;Length is greater than 20&quot;);\n            } else if (str == null) {\n                throw new RuntimeException(&quot;null&quot;);\n            } else {\n                return str;\n            }\n        } catch (RuntimeException e) {\n            throw e;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n        System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n        System.out.println(len_check(null));\n    }\n}\n</code></pre>\n<p>An error occurs in the second print statement while being output (this is my intended error) and stops. I want it to be printed out until the last error.</p>\n"},{"tags":["java","spring-boot","azure","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301696,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700557000,"creation_date":1700557000,"answer_id":77521491,"question_id":77507098,"body_markdown":"You have followed the steps to generate a certificate, uploaded it to Azure, and configured your `application.yml` with the public key, but you are receiving an error stating that the &#39;client_id&#39; parameter is missing.\r\n\r\nFrom the error message in the last screenshot, it seems that the AzureAD authentication process is not receiving the `client_id` parameter as part of the request, as in [this question](https://stackoverflow.com/q/69393785/6309) or [this one](https://stackoverflow.com/a/72572698/6309).  \r\n\r\n\r\nFrom your `application.yml`, I have a few suggestions:\r\n\r\n- The `provider` under `registration` should match the name of the provider under `provider`. In your configuration, the provider is named `azure` in both sections, which is correct. But make sure this consistency is maintained throughout the application.\r\n\r\n- The scopes specified under `registration` are typically correct for OpenID Connect (`openid`, `email`, `profile`). Check that the scopes align with what your application requires and what Azure AD is configured to allow.\r\n\r\n- The `jwt.key-set-uri` under `provider` should be unnecessary in the context of client authentication using `private_key_jwt`. That setting is typically used by resource servers to validate JWTs, not by clients to authenticate to the authorization server.\r\n\r\n- If using `private_key_jwt` for authentication, the `client-secret` should not be present, as this authentication method uses a private key instead of a client secret. (as confirmed in &quot;[How to Get an Azure Access Token Using Self-signed Certificate with Spring Boot](https://medium.com/codex/how-to-get-an-azure-access-token-using-self-signed-certificate-with-spring-boot-140dac047454)&quot; from [Milos Zivkovic](https://medium.com/@zivce/about))\r\n\r\n\r\n- The Baeldung guide mentions setting up redirection URIs for the authorization code flow, but this is not directly represented in the `application.yml`. If using the authorization code flow, make sure the redirect URIs are correctly configured in the Azure AD application registration and, if necessary, specified in your Spring Security configuration.\r\n   ```yaml\r\n   # This is an optional setting depending on your setup\r\n   registration:\r\n     azure-dev:\r\n       redirect-uri: &quot;{baseUrl}/login/oauth2/code/{registrationId}&quot;\r\n   ```\r\n\r\n- Make sure the URLs for `issuer-uri` and `jwk-set-uri` are correctly typed and match your Azure AD configuration. Typographical errors in URLs can lead to failures in fetching the necessary metadata and keys.\r\n\r\n- If you are using `private_key_jwt`, make sure Azure AD is configured to accept a JWT signed with your private key as a means of client authentication.\r\n\r\n- Depending on the OAuth flow you are using (e.g., authorization code vs. client credentials), make sure the `authorization-grant-type` is correctly specified in the `registration` section. That is not included in the provided configuration but is necessary for some OAuth flows.\r\n   ```yaml\r\n   registration:\r\n     azure-dev:\r\n       authorization-grant-type: authorization_code\r\n       # Use &quot;client_credentials&quot; for service-to-service communication\r\n   ```\r\n","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>You have followed the steps to generate a certificate, uploaded it to Azure, and configured your <code>application.yml</code> with the public key, but you are receiving an error stating that the 'client_id' parameter is missing.</p>\n<p>From the error message in the last screenshot, it seems that the AzureAD authentication process is not receiving the <code>client_id</code> parameter as part of the request, as in <a href=\"https://stackoverflow.com/q/69393785/6309\">this question</a> or <a href=\"https://stackoverflow.com/a/72572698/6309\">this one</a>.</p>\n<p>From your <code>application.yml</code>, I have a few suggestions:</p>\n<ul>\n<li><p>The <code>provider</code> under <code>registration</code> should match the name of the provider under <code>provider</code>. In your configuration, the provider is named <code>azure</code> in both sections, which is correct. But make sure this consistency is maintained throughout the application.</p>\n</li>\n<li><p>The scopes specified under <code>registration</code> are typically correct for OpenID Connect (<code>openid</code>, <code>email</code>, <code>profile</code>). Check that the scopes align with what your application requires and what Azure AD is configured to allow.</p>\n</li>\n<li><p>The <code>jwt.key-set-uri</code> under <code>provider</code> should be unnecessary in the context of client authentication using <code>private_key_jwt</code>. That setting is typically used by resource servers to validate JWTs, not by clients to authenticate to the authorization server.</p>\n</li>\n<li><p>If using <code>private_key_jwt</code> for authentication, the <code>client-secret</code> should not be present, as this authentication method uses a private key instead of a client secret. (as confirmed in &quot;<a href=\"https://medium.com/codex/how-to-get-an-azure-access-token-using-self-signed-certificate-with-spring-boot-140dac047454\" rel=\"nofollow noreferrer\">How to Get an Azure Access Token Using Self-signed Certificate with Spring Boot</a>&quot; from <a href=\"https://medium.com/@zivce/about\" rel=\"nofollow noreferrer\">Milos Zivkovic</a>)</p>\n</li>\n<li><p>The Baeldung guide mentions setting up redirection URIs for the authorization code flow, but this is not directly represented in the <code>application.yml</code>. If using the authorization code flow, make sure the redirect URIs are correctly configured in the Azure AD application registration and, if necessary, specified in your Spring Security configuration.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># This is an optional setting depending on your setup\nregistration:\n   azure-dev:\n     redirect-uri: &quot;{baseUrl}/login/oauth2/code/{registrationId}&quot;\n</code></pre>\n</li>\n<li><p>Make sure the URLs for <code>issuer-uri</code> and <code>jwk-set-uri</code> are correctly typed and match your Azure AD configuration. Typographical errors in URLs can lead to failures in fetching the necessary metadata and keys.</p>\n</li>\n<li><p>If you are using <code>private_key_jwt</code>, make sure Azure AD is configured to accept a JWT signed with your private key as a means of client authentication.</p>\n</li>\n<li><p>Depending on the OAuth flow you are using (e.g., authorization code vs. client credentials), make sure the <code>authorization-grant-type</code> is correctly specified in the <code>registration</code> section. That is not included in the provided configuration but is necessary for some OAuth flows.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>registration:\n   azure-dev:\n     authorization-grant-type: authorization_code\n     # Use &quot;client_credentials&quot; for service-to-service communication\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701077936,"creation_date":1701077936,"answer_id":77555862,"question_id":77507098,"body_markdown":"Since your error message complains about not having `client-id` in request body, I&#39;d suggest you to set the `client-authentication-method` parameter (next to the `client-id` property) in your `application.yml` file to `client_secret_post`.\r\n\r\nBy looking at `org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequestEntityConverter.createParameters(OAuth2ClientCredentialsGrantRequest)` method, by setting this parameter, it&#39;ll send the client_id in request body\r\n\r\n```java\r\n\t@Override\r\n\tprotected MultiValueMap&lt;String, String&gt; createParameters(\r\n\t\t\tOAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\r\n\t\tClientRegistration clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\r\n\t\tMultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tparameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\r\n\t\tif (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\r\n\t\t\tparameters.add(OAuth2ParameterNames.SCOPE,\r\n\t\t\t\t\tStringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\r\n\t\t}\r\n        \r\n        // HERE IS THE SPRING MAGIC :)\r\n\t\tif (ClientAuthenticationMethod.CLIENT_SECRET_POST.equals(clientRegistration.getClientAuthenticationMethod())) {\r\n\t\t\tparameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\r\n\t\t\tparameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\r\n\t\t}\r\n\t\treturn parameters;\r\n\t}\r\n```\r\n\r\nSame logic applies to other related classes : \r\n\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter`\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2PasswordGrantRequestEntityConverter`\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2RefreshTokenGrantRequestEntityConverter`\r\n\r\nHope it&#39;ll solve your problem","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>Since your error message complains about not having <code>client-id</code> in request body, I'd suggest you to set the <code>client-authentication-method</code> parameter (next to the <code>client-id</code> property) in your <code>application.yml</code> file to <code>client_secret_post</code>.</p>\n<p>By looking at <code>org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequestEntityConverter.createParameters(OAuth2ClientCredentialsGrantRequest)</code> method, by setting this parameter, it'll send the client_id in request body</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected MultiValueMap&lt;String, String&gt; createParameters(\n            OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\n        ClientRegistration clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\n        if (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\n            parameters.add(OAuth2ParameterNames.SCOPE,\n                    StringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\n        }\n        \n        // HERE IS THE SPRING MAGIC :)\n        if (ClientAuthenticationMethod.CLIENT_SECRET_POST.equals(clientRegistration.getClientAuthenticationMethod())) {\n            parameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\n            parameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\n        }\n        return parameters;\n    }\n</code></pre>\n<p>Same logic applies to other related classes :</p>\n<ul>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter</code></li>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2PasswordGrantRequestEntityConverter</code></li>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2RefreshTokenGrantRequestEntityConverter</code></li>\n</ul>\n<p>Hope it'll solve your problem</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701124423,"creation_date":1701122739,"answer_id":77560193,"question_id":77507098,"body_markdown":"The [Microsoft documentation](https://learn.microsoft.com/en-us/entra/identity-platform/v2-oauth2-client-creds-grant-flow#second-case-access-token-request-with-a-certificate) describes the necessary information that should be provided in order to perform an access token request with a certificate.\r\n\r\nYou need to perform a HTTP request like the following:\r\n\r\n```\r\nPOST /{tenant}/oauth2/v2.0/token HTTP/1.1               // Line breaks for clarity\r\nHost: login.microsoftonline.com:443\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\nscope=https%3A%2F%2Fgraph.microsoft.com%2F.default\r\n&amp;client_id=97e0a5b7-d745-40b6-94fe-5f77d35c6e05\r\n&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\r\n&amp;client_assertion=eyJhbGciOiJSUzI1NiIsIng1dCI6Imd4OHRHeXN5amNScUtqRlBuZDdSRnd2d1pJMCJ9.eyJ{a lot of characters here}M8U3bSUKKJDEg\r\n&amp;grant_type=client_credentials\r\n```\r\n\r\nIn addition to the Entra ID tenant and the app client id, you need to indicate the client assertion type, it is a constant value, and a client assertion.\r\n\r\nThe client assertion is a JSON web token created and signed with the certificate registered as credentials for the application in the Azure Portal.\r\n\r\nThe characteristics of this JSON web token are described in detail [here](https://learn.microsoft.com/en-us/entra/identity-platform/certificate-credentials).\r\n\r\nUsing this type of authentication mechanism with Spring Boot is not obvious but fortunately you can find different examples that exemplifies how to that.\r\n\r\nConsider for instance [this excellent one](https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt) provided as part of the azure samples repository in Github.\r\n\r\nBasically, it defines a set of [helper classes](https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory), especially [one](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryJwtClientAuthenticationParametersConverter.java) defined in order to provide the `client_assertion` and `client_assertion_type` parameters when performing the request:\r\n\r\n```java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.security.oauth2.client.endpoint.AbstractOAuth2AuthorizationGrantRequest;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\r\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\nimport org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\r\nimport org.springframework.util.Assert;\r\nimport org.springframework.util.LinkedMultiValueMap;\r\nimport org.springframework.util.MultiValueMap;\r\n\r\nimport java.util.Map;\r\n\r\npublic class AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;T extends AbstractOAuth2AuthorizationGrantRequest&gt;\r\n    implements Converter&lt;T, MultiValueMap&lt;String, String&gt;&gt; {\r\n\r\n    private final static Logger LOGGER =\r\n        LoggerFactory.getLogger(AzureActiveDirectoryJwtClientAuthenticationParametersConverter.class);\r\n    private static final String CLIENT_ASSERTION_TYPE_VALUE = &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;;\r\n\r\n    private final Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories;\r\n\r\n    public AzureActiveDirectoryJwtClientAuthenticationParametersConverter(\r\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories) {\r\n        this.factories = factories;\r\n    }\r\n\r\n    @Override\r\n    public MultiValueMap&lt;String, String&gt; convert(T authorizationGrantRequest) {\r\n        Assert.notNull(authorizationGrantRequest, &quot;authorizationGrantRequest cannot be null&quot;);\r\n\r\n        ClientRegistration registration = authorizationGrantRequest.getClientRegistration();\r\n        ClientAuthenticationMethod method = registration.getClientAuthenticationMethod();\r\n        if (!ClientAuthenticationMethod.PRIVATE_KEY_JWT.equals(registration.getClientAuthenticationMethod())) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            return createParameters(registration);\r\n        } catch (AzureActiveDirectoryAssertionException exception) {\r\n            LOGGER.error(&quot;Failed to create parameters.&quot;, exception);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private MultiValueMap&lt;String, String&gt; createParameters(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\r\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION_TYPE, CLIENT_ASSERTION_TYPE_VALUE);\r\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION, createAssertion(registration));\r\n        return parameters;\r\n    }\r\n\r\n    private String createAssertion(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\r\n        return factories.get(registration.getRegistrationId()).createJwtAssertion();\r\n    }\r\n}\r\n```\r\n\r\nand [another one](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryCertificateSignedJwtAssertionFactory.java) used to generate the appropriate JWT web token:\r\n\r\n```java\r\nimport com.nimbusds.jose.JOSEException;\r\nimport com.nimbusds.jose.JOSEObjectType;\r\nimport com.nimbusds.jose.JWSAlgorithm;\r\nimport com.nimbusds.jose.JWSHeader;\r\nimport com.nimbusds.jose.JWSSigner;\r\nimport com.nimbusds.jose.crypto.factories.DefaultJWSSignerFactory;\r\nimport com.nimbusds.jose.jwk.JWK;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.util.Base64URL;\r\nimport com.nimbusds.jwt.JWTClaimsSet;\r\nimport com.nimbusds.jwt.SignedJWT;\r\nimport org.springframework.util.Assert;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.UnrecoverableKeyException;\r\nimport java.security.cert.CertificateEncodingException;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.X509Certificate;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * A factory used to create Microsoft Entra JWT assertion signed with a certificate.\r\n *\r\n * @author Rujun Chen\r\n * @see &lt;a href=&quot;https://docs.microsoft.com/azure/active-directory/develop/active-directory-certificate-credentials&quot;&gt;\r\n * Certificate credentials&lt;/a&gt;\r\n * @since 2022-02-18\r\n */\r\npublic class AzureActiveDirectoryCertificateSignedJwtAssertionFactory {\r\n\r\n    private final JWSSigner signer;\r\n    private final JWSHeader header;\r\n    private final JWTClaimsSet templateClaims;\r\n\r\n    /**\r\n     * @param file Path of certificate file. The file should contain encrypted private key and certificate.\r\n     * And the file name should have &quot;.pfx&quot; as suffix.\r\n     * @param password The password of the encrypted private key in certificate file.\r\n     * @throws AzureActiveDirectoryAssertionException if failed to create factory.\r\n     */\r\n    public AzureActiveDirectoryCertificateSignedJwtAssertionFactory(String file, String password, String tenantId,\r\n                                                                    String clientId) throws AzureActiveDirectoryAssertionException {\r\n        try {\r\n            String fileExtension = file.substring(file.lastIndexOf(&quot;.&quot;) + 1);\r\n            Assert.isTrue(&quot;pfx&quot;.equals(fileExtension), &quot;Only support file with &#39;.pfx&#39; extension.&quot;);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            keyStore.load(new FileInputStream(file), password.toCharArray());\r\n            String alias = keyStore.aliases().nextElement();\r\n            PrivateKey privateKey = (PrivateKey) keyStore.getKey(alias, password.toCharArray());\r\n            X509Certificate x509Certificate = (X509Certificate) keyStore.getCertificate(alias);\r\n            PublicKey publicKey = x509Certificate.getPublicKey();\r\n            signer = createJWSSigner(publicKey, privateKey);\r\n            header = createJWSHeader(x509Certificate);\r\n            templateClaims = createTemplateJWTClaims(tenantId, clientId);\r\n        } catch (KeyStoreException | IOException | CertificateException | NoSuchAlgorithmException |\r\n            UnrecoverableKeyException | JOSEException exception) {\r\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to create factory.&quot;, exception);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create JWT assertion\r\n     *\r\n     * @throws AzureActiveDirectoryAssertionException If failed to create assertion.\r\n     */\r\n    public String createJwtAssertion() throws AzureActiveDirectoryAssertionException {\r\n        JWTClaimsSet claims = createJWTClaimsSet();\r\n        SignedJWT signedJwt = new SignedJWT(header, claims);\r\n        try {\r\n            signedJwt.sign(signer);\r\n        } catch (JOSEException exception) {\r\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to sign JWT.&quot;, exception);\r\n        }\r\n        return signedJwt.serialize();\r\n    }\r\n\r\n    private JWSSigner createJWSSigner(PublicKey publicKey, PrivateKey privateKey) throws JOSEException {\r\n        // Microsoft Entra ID currently supports only RSA.\r\n        // Refs: https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-self-signed-certificate\r\n        JWK jwk = new RSAKey.Builder((RSAPublicKey) publicKey)\r\n            .privateKey(privateKey)\r\n            .keyID(UUID.randomUUID().toString())\r\n            .build();\r\n        return new DefaultJWSSignerFactory().createJWSSigner(jwk);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    private JWSHeader createJWSHeader(X509Certificate x509Certificate) throws CertificateEncodingException,\r\n        NoSuchAlgorithmException {\r\n        return new JWSHeader.Builder(JWSAlgorithm.RS256)\r\n            .type(JOSEObjectType.JWT)\r\n            .x509CertThumbprint(Base64URL.encode(getX5t(x509Certificate)))\r\n            .build();\r\n    }\r\n\r\n    private byte[] getX5t(X509Certificate cert)\r\n        throws NoSuchAlgorithmException, CertificateEncodingException {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n        byte[] der = cert.getEncoded();\r\n        digest.update(der);\r\n        return digest.digest();\r\n    }\r\n\r\n    private JWTClaimsSet createTemplateJWTClaims(String tenantId, String clientId) {\r\n        return new JWTClaimsSet.Builder()\r\n            .audience(String.format(&quot;https://login.microsoftonline.com/%s/v2.0&quot;, tenantId))\r\n            .issuer(clientId)\r\n            .subject(clientId)\r\n            .build();\r\n    }\r\n\r\n    private JWTClaimsSet createJWTClaimsSet() {\r\n        Date currentTime = new Date();\r\n        return new JWTClaimsSet.Builder(templateClaims)\r\n            .expirationTime(Date.from(currentTime.toInstant().plusSeconds(300))) // 5 minutes after currentTime.\r\n            .jwtID(UUID.randomUUID().toString())\r\n            .notBeforeTime(currentTime)\r\n            .issueTime(currentTime)\r\n            .build();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n[This configuration class](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/configuration/WebSecurityConfiguration.java) glues everything together:\r\n\r\n```java\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryAssertionException;\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryCertificateSignedJwtAssertionFactory;\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryJwtClientAuthenticationParametersConverter;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient;\r\nimport org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\nimport org.springframework.util.StringUtils;\r\n\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\n@EnableWebSecurity\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    private static final Pattern ISSUER_URI_PATTERN = Pattern.compile(&quot;https://login.microsoftonline.com/(.*?)/v2.0&quot;);\r\n\r\n    private final Environment environment;\r\n    private final ClientRegistrationRepository repository;\r\n\r\n    public WebSecurityConfiguration(Environment environment, ClientRegistrationRepository repository) {\r\n        this.environment = environment;\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        // @formatter:off\r\n        http.oauth2Login()\r\n                .tokenEndpoint()\r\n                  // Please, note the name of the client provided, \r\n                  // as we will see it will match the one in the configuration\r\n                    .accessTokenResponseClient(accessTokenResponseClient(Collections.singletonList(&quot;client-1&quot;), repository))\r\n                    .and()\r\n                .and()\r\n            .authorizeRequests()\r\n                .anyRequest().authenticated();\r\n        // @formatter:off\r\n    }\r\n\r\n    private DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient(\r\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        OAuth2AuthorizationCodeGrantRequestEntityConverter converter =\r\n            new OAuth2AuthorizationCodeGrantRequestEntityConverter();\r\n        converter.addParametersConverter(\r\n            new AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;&gt;(createFactoryMap(registrationIds, repository)));\r\n        DefaultAuthorizationCodeTokenResponseClient client = new DefaultAuthorizationCodeTokenResponseClient();\r\n        client.setRequestEntityConverter(converter);\r\n        return client;\r\n    }\r\n\r\n    private Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; createFactoryMap(\r\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories = new HashMap&lt;&gt;();\r\n        for (String registrationId: registrationIds) {\r\n            AzureActiveDirectoryCertificateSignedJwtAssertionFactory factory = createFactory(registrationId, repository);\r\n            if (factory != null) {\r\n                factories.put(registrationId, factory);\r\n            }\r\n        }\r\n        return factories;\r\n    }\r\n\r\n    private AzureActiveDirectoryCertificateSignedJwtAssertionFactory createFactory(\r\n        String registrationId, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        String clientCertificatePath = environment.getProperty(\r\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-path&quot;, registrationId));\r\n        if (!StringUtils.hasText(clientCertificatePath)) {\r\n            return null;\r\n        }\r\n        String clientCertificatePassword = environment.getProperty(\r\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-password&quot;, registrationId));\r\n        if (!StringUtils.hasText(clientCertificatePassword)) {\r\n            return null;\r\n        }\r\n        ClientRegistration registration = repository.findByRegistrationId(registrationId);\r\n        String tenantId = getTenantIdFromIssuerUri(registration.getProviderDetails().getIssuerUri());\r\n        String clientId = registration.getClientId();\r\n        return new AzureActiveDirectoryCertificateSignedJwtAssertionFactory(\r\n            clientCertificatePath, clientCertificatePassword, tenantId, clientId);\r\n    }\r\n\r\n    static String getTenantIdFromIssuerUri(String issuerUri) {\r\n        Matcher matcher = ISSUER_URI_PATTERN.matcher(issuerUri);\r\n        if (matcher.find()) {\r\n            return matcher.group(1);\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease, pay especial attention to the `accessTokenResponseClient` method.\r\n\r\nFinally, [this](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/resources/application.yml) is the relevant configuration:\r\n\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider: # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-common-oauth2-provider\r\n          azure-active-directory:\r\n            issuer-uri: https://login.microsoftonline.com/${tenant-id}/v2.0 # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#webflux-oauth2-login-openid-provider-configuration\r\n        registration:\r\n          client-1:\r\n            provider: azure-active-directory\r\n            client-id: ${client-1-client-id}\r\n            client-authentication-method: private_key_jwt\r\n            client-certificate-path: ${client-1-certificate-path}\r\n            client-certificate-password: ${client-1-certificate-password}\r\n            scope: openid, profile\r\n            redirect-uri: http://localhost:8080/login/oauth2/code/\r\n```\r\n\r\nPlease, don&#39;t forget to set the appropriate value for the different placeholders defined in the above configuration.","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>The <a href=\"https://learn.microsoft.com/en-us/entra/identity-platform/v2-oauth2-client-creds-grant-flow#second-case-access-token-request-with-a-certificate\" rel=\"nofollow noreferrer\">Microsoft documentation</a> describes the necessary information that should be provided in order to perform an access token request with a certificate.</p>\n<p>You need to perform a HTTP request like the following:</p>\n<pre><code>POST /{tenant}/oauth2/v2.0/token HTTP/1.1               // Line breaks for clarity\nHost: login.microsoftonline.com:443\nContent-Type: application/x-www-form-urlencoded\n\nscope=https%3A%2F%2Fgraph.microsoft.com%2F.default\n&amp;client_id=97e0a5b7-d745-40b6-94fe-5f77d35c6e05\n&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\n&amp;client_assertion=eyJhbGciOiJSUzI1NiIsIng1dCI6Imd4OHRHeXN5amNScUtqRlBuZDdSRnd2d1pJMCJ9.eyJ{a lot of characters here}M8U3bSUKKJDEg\n&amp;grant_type=client_credentials\n</code></pre>\n<p>In addition to the Entra ID tenant and the app client id, you need to indicate the client assertion type, it is a constant value, and a client assertion.</p>\n<p>The client assertion is a JSON web token created and signed with the certificate registered as credentials for the application in the Azure Portal.</p>\n<p>The characteristics of this JSON web token are described in detail <a href=\"https://learn.microsoft.com/en-us/entra/identity-platform/certificate-credentials\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Using this type of authentication mechanism with Spring Boot is not obvious but fortunately you can find different examples that exemplifies how to that.</p>\n<p>Consider for instance <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt\" rel=\"nofollow noreferrer\">this excellent one</a> provided as part of the azure samples repository in Github.</p>\n<p>Basically, it defines a set of <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory\" rel=\"nofollow noreferrer\">helper classes</a>, especially <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryJwtClientAuthenticationParametersConverter.java\" rel=\"nofollow noreferrer\">one</a> defined in order to provide the <code>client_assertion</code> and <code>client_assertion_type</code> parameters when performing the request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.security.oauth2.client.endpoint.AbstractOAuth2AuthorizationGrantRequest;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\nimport org.springframework.util.Assert;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\n\nimport java.util.Map;\n\npublic class AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;T extends AbstractOAuth2AuthorizationGrantRequest&gt;\n    implements Converter&lt;T, MultiValueMap&lt;String, String&gt;&gt; {\n\n    private final static Logger LOGGER =\n        LoggerFactory.getLogger(AzureActiveDirectoryJwtClientAuthenticationParametersConverter.class);\n    private static final String CLIENT_ASSERTION_TYPE_VALUE = &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;;\n\n    private final Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories;\n\n    public AzureActiveDirectoryJwtClientAuthenticationParametersConverter(\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories) {\n        this.factories = factories;\n    }\n\n    @Override\n    public MultiValueMap&lt;String, String&gt; convert(T authorizationGrantRequest) {\n        Assert.notNull(authorizationGrantRequest, &quot;authorizationGrantRequest cannot be null&quot;);\n\n        ClientRegistration registration = authorizationGrantRequest.getClientRegistration();\n        ClientAuthenticationMethod method = registration.getClientAuthenticationMethod();\n        if (!ClientAuthenticationMethod.PRIVATE_KEY_JWT.equals(registration.getClientAuthenticationMethod())) {\n            return null;\n        }\n\n        try {\n            return createParameters(registration);\n        } catch (AzureActiveDirectoryAssertionException exception) {\n            LOGGER.error(&quot;Failed to create parameters.&quot;, exception);\n        }\n        return null;\n    }\n\n    private MultiValueMap&lt;String, String&gt; createParameters(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION_TYPE, CLIENT_ASSERTION_TYPE_VALUE);\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION, createAssertion(registration));\n        return parameters;\n    }\n\n    private String createAssertion(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\n        return factories.get(registration.getRegistrationId()).createJwtAssertion();\n    }\n}\n</code></pre>\n<p>and <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryCertificateSignedJwtAssertionFactory.java\" rel=\"nofollow noreferrer\">another one</a> used to generate the appropriate JWT web token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.nimbusds.jose.JOSEException;\nimport com.nimbusds.jose.JOSEObjectType;\nimport com.nimbusds.jose.JWSAlgorithm;\nimport com.nimbusds.jose.JWSHeader;\nimport com.nimbusds.jose.JWSSigner;\nimport com.nimbusds.jose.crypto.factories.DefaultJWSSignerFactory;\nimport com.nimbusds.jose.jwk.JWK;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.util.Base64URL;\nimport com.nimbusds.jwt.JWTClaimsSet;\nimport com.nimbusds.jwt.SignedJWT;\nimport org.springframework.util.Assert;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateEncodingException;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.security.interfaces.RSAPublicKey;\nimport java.util.Date;\nimport java.util.UUID;\n\n/**\n * A factory used to create Microsoft Entra JWT assertion signed with a certificate.\n *\n * @author Rujun Chen\n * @see &lt;a href=&quot;https://docs.microsoft.com/azure/active-directory/develop/active-directory-certificate-credentials&quot;&gt;\n * Certificate credentials&lt;/a&gt;\n * @since 2022-02-18\n */\npublic class AzureActiveDirectoryCertificateSignedJwtAssertionFactory {\n\n    private final JWSSigner signer;\n    private final JWSHeader header;\n    private final JWTClaimsSet templateClaims;\n\n    /**\n     * @param file Path of certificate file. The file should contain encrypted private key and certificate.\n     * And the file name should have &quot;.pfx&quot; as suffix.\n     * @param password The password of the encrypted private key in certificate file.\n     * @throws AzureActiveDirectoryAssertionException if failed to create factory.\n     */\n    public AzureActiveDirectoryCertificateSignedJwtAssertionFactory(String file, String password, String tenantId,\n                                                                    String clientId) throws AzureActiveDirectoryAssertionException {\n        try {\n            String fileExtension = file.substring(file.lastIndexOf(&quot;.&quot;) + 1);\n            Assert.isTrue(&quot;pfx&quot;.equals(fileExtension), &quot;Only support file with '.pfx' extension.&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            keyStore.load(new FileInputStream(file), password.toCharArray());\n            String alias = keyStore.aliases().nextElement();\n            PrivateKey privateKey = (PrivateKey) keyStore.getKey(alias, password.toCharArray());\n            X509Certificate x509Certificate = (X509Certificate) keyStore.getCertificate(alias);\n            PublicKey publicKey = x509Certificate.getPublicKey();\n            signer = createJWSSigner(publicKey, privateKey);\n            header = createJWSHeader(x509Certificate);\n            templateClaims = createTemplateJWTClaims(tenantId, clientId);\n        } catch (KeyStoreException | IOException | CertificateException | NoSuchAlgorithmException |\n            UnrecoverableKeyException | JOSEException exception) {\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to create factory.&quot;, exception);\n        }\n    }\n\n    /**\n     * Create JWT assertion\n     *\n     * @throws AzureActiveDirectoryAssertionException If failed to create assertion.\n     */\n    public String createJwtAssertion() throws AzureActiveDirectoryAssertionException {\n        JWTClaimsSet claims = createJWTClaimsSet();\n        SignedJWT signedJwt = new SignedJWT(header, claims);\n        try {\n            signedJwt.sign(signer);\n        } catch (JOSEException exception) {\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to sign JWT.&quot;, exception);\n        }\n        return signedJwt.serialize();\n    }\n\n    private JWSSigner createJWSSigner(PublicKey publicKey, PrivateKey privateKey) throws JOSEException {\n        // Microsoft Entra ID currently supports only RSA.\n        // Refs: https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-self-signed-certificate\n        JWK jwk = new RSAKey.Builder((RSAPublicKey) publicKey)\n            .privateKey(privateKey)\n            .keyID(UUID.randomUUID().toString())\n            .build();\n        return new DefaultJWSSignerFactory().createJWSSigner(jwk);\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    private JWSHeader createJWSHeader(X509Certificate x509Certificate) throws CertificateEncodingException,\n        NoSuchAlgorithmException {\n        return new JWSHeader.Builder(JWSAlgorithm.RS256)\n            .type(JOSEObjectType.JWT)\n            .x509CertThumbprint(Base64URL.encode(getX5t(x509Certificate)))\n            .build();\n    }\n\n    private byte[] getX5t(X509Certificate cert)\n        throws NoSuchAlgorithmException, CertificateEncodingException {\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;);\n        byte[] der = cert.getEncoded();\n        digest.update(der);\n        return digest.digest();\n    }\n\n    private JWTClaimsSet createTemplateJWTClaims(String tenantId, String clientId) {\n        return new JWTClaimsSet.Builder()\n            .audience(String.format(&quot;https://login.microsoftonline.com/%s/v2.0&quot;, tenantId))\n            .issuer(clientId)\n            .subject(clientId)\n            .build();\n    }\n\n    private JWTClaimsSet createJWTClaimsSet() {\n        Date currentTime = new Date();\n        return new JWTClaimsSet.Builder(templateClaims)\n            .expirationTime(Date.from(currentTime.toInstant().plusSeconds(300))) // 5 minutes after currentTime.\n            .jwtID(UUID.randomUUID().toString())\n            .notBeforeTime(currentTime)\n            .issueTime(currentTime)\n            .build();\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/configuration/WebSecurityConfiguration.java\" rel=\"nofollow noreferrer\">This configuration class</a> glues everything together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryAssertionException;\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryCertificateSignedJwtAssertionFactory;\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryJwtClientAuthenticationParametersConverter;\nimport org.springframework.core.env.Environment;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient;\nimport org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.util.StringUtils;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n    private static final Pattern ISSUER_URI_PATTERN = Pattern.compile(&quot;https://login.microsoftonline.com/(.*?)/v2.0&quot;);\n\n    private final Environment environment;\n    private final ClientRegistrationRepository repository;\n\n    public WebSecurityConfiguration(Environment environment, ClientRegistrationRepository repository) {\n        this.environment = environment;\n        this.repository = repository;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http.oauth2Login()\n                .tokenEndpoint()\n                  // Please, note the name of the client provided, \n                  // as we will see it will match the one in the configuration\n                    .accessTokenResponseClient(accessTokenResponseClient(Collections.singletonList(&quot;client-1&quot;), repository))\n                    .and()\n                .and()\n            .authorizeRequests()\n                .anyRequest().authenticated();\n        // @formatter:off\n    }\n\n    private DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient(\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        OAuth2AuthorizationCodeGrantRequestEntityConverter converter =\n            new OAuth2AuthorizationCodeGrantRequestEntityConverter();\n        converter.addParametersConverter(\n            new AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;&gt;(createFactoryMap(registrationIds, repository)));\n        DefaultAuthorizationCodeTokenResponseClient client = new DefaultAuthorizationCodeTokenResponseClient();\n        client.setRequestEntityConverter(converter);\n        return client;\n    }\n\n    private Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; createFactoryMap(\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories = new HashMap&lt;&gt;();\n        for (String registrationId: registrationIds) {\n            AzureActiveDirectoryCertificateSignedJwtAssertionFactory factory = createFactory(registrationId, repository);\n            if (factory != null) {\n                factories.put(registrationId, factory);\n            }\n        }\n        return factories;\n    }\n\n    private AzureActiveDirectoryCertificateSignedJwtAssertionFactory createFactory(\n        String registrationId, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        String clientCertificatePath = environment.getProperty(\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-path&quot;, registrationId));\n        if (!StringUtils.hasText(clientCertificatePath)) {\n            return null;\n        }\n        String clientCertificatePassword = environment.getProperty(\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-password&quot;, registrationId));\n        if (!StringUtils.hasText(clientCertificatePassword)) {\n            return null;\n        }\n        ClientRegistration registration = repository.findByRegistrationId(registrationId);\n        String tenantId = getTenantIdFromIssuerUri(registration.getProviderDetails().getIssuerUri());\n        String clientId = registration.getClientId();\n        return new AzureActiveDirectoryCertificateSignedJwtAssertionFactory(\n            clientCertificatePath, clientCertificatePassword, tenantId, clientId);\n    }\n\n    static String getTenantIdFromIssuerUri(String issuerUri) {\n        Matcher matcher = ISSUER_URI_PATTERN.matcher(issuerUri);\n        if (matcher.find()) {\n            return matcher.group(1);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>Please, pay especial attention to the <code>accessTokenResponseClient</code> method.</p>\n<p>Finally, <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/resources/application.yml\" rel=\"nofollow noreferrer\">this</a> is the relevant configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        provider: # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-common-oauth2-provider\n          azure-active-directory:\n            issuer-uri: https://login.microsoftonline.com/${tenant-id}/v2.0 # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#webflux-oauth2-login-openid-provider-configuration\n        registration:\n          client-1:\n            provider: azure-active-directory\n            client-id: ${client-1-client-id}\n            client-authentication-method: private_key_jwt\n            client-certificate-path: ${client-1-certificate-path}\n            client-certificate-password: ${client-1-certificate-password}\n            scope: openid, profile\n            redirect-uri: http://localhost:8080/login/oauth2/code/\n</code></pre>\n<p>Please, don't forget to set the appropriate value for the different placeholders defined in the above configuration.</p>\n"}],"owner":{"account_id":446393,"reputation":375,"user_id":6318555,"accept_rate":64,"display_name":"casper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1701293968,"creation_date":1700314119,"question_id":77507098,"body_markdown":"I successfully set up a sample application to utilize AzureAD for user authentication following the steps outlined in [this blog post][1]. The post provides instructions on configuring AzureAD and the application&#39;s identity using client-id and client-secret for the application configuration, and the setup working properly.\r\n\r\nHowever I try to configure AzureAD and application’s identity using with public key I could not able to successfully setup.\r\n\r\nI used following openssl commands to generate the public key.\r\n\r\n&gt; $certname = &quot;AzureCertificate&quot;\r\n&gt; \r\n&gt; $cert = New-SelfSignedCertificate -Subject &quot;CN=$certname&quot;\r\n&gt; -CertStoreLocation &quot;Cert:\\CurrentUser\\My&quot; -KeyExportPolicy Exportable -KeySpec Signature -KeyLength 2048 -KeyAlgorithm RSA -HashAlgorithm SHA256\r\n&gt; \r\n&gt; Export-Certificate -Cert $cert -FilePath\r\n&gt; &quot;C:\\Personal\\Work1\\AZURE\\KEY\\$certname.cer&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen I generated the public key using following command in command line\r\n\r\n&gt; openssl x509 -inform der -in AzureCertificate.cer -pubkey -noout &gt;\r\n&gt; your-public-key.pem\r\n\r\nThen I uploaded the generated certificate AzureCertificate.cer file in to the AzurePortal application as show below.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen I have configured the certificate location on the applciation.yml as show below and added publicKey.pem file in to resources folder. Please note I have replace correct **my-tenant-id and my-client-id** in applciation.yml file.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen I have run the application It first correctly redirecting to Microsoft login page and then after user enters the credentials system giving error message as below.\r\n\r\n[invalid_request] AADSTS900144: The request body must contain the following parameter: &#39;client_id&#39;. Trace ID: yyyyyyy Correlation ID: xxxxxxx Timestamp: 2023-11-18 15:14:37Z\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHighly appreciated if someone share your experiencing this configuration process.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-azuread-authenticate-users\r\n  [2]: https://i.stack.imgur.com/VEDRK.png\r\n  [3]: https://i.stack.imgur.com/BhRn9.png\r\n  [4]: https://i.stack.imgur.com/SW94Z.png\r\n  [5]: https://i.stack.imgur.com/8tqv5.png","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>I successfully set up a sample application to utilize AzureAD for user authentication following the steps outlined in <a href=\"https://www.baeldung.com/spring-boot-azuread-authenticate-users\" rel=\"nofollow noreferrer\">this blog post</a>. The post provides instructions on configuring AzureAD and the application's identity using client-id and client-secret for the application configuration, and the setup working properly.</p>\n<p>However I try to configure AzureAD and application’s identity using with public key I could not able to successfully setup.</p>\n<p>I used following openssl commands to generate the public key.</p>\n<blockquote>\n<p>$certname = &quot;AzureCertificate&quot;</p>\n<p>$cert = New-SelfSignedCertificate -Subject &quot;CN=$certname&quot;\n-CertStoreLocation &quot;Cert:\\CurrentUser\\My&quot; -KeyExportPolicy Exportable -KeySpec Signature -KeyLength 2048 -KeyAlgorithm RSA -HashAlgorithm SHA256</p>\n<p>Export-Certificate -Cert $cert -FilePath\n&quot;C:\\Personal\\Work1\\AZURE\\KEY$certname.cer&quot;</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/VEDRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEDRK.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I generated the public key using following command in command line</p>\n<blockquote>\n<p>openssl x509 -inform der -in AzureCertificate.cer -pubkey -noout &gt;\nyour-public-key.pem</p>\n</blockquote>\n<p>Then I uploaded the generated certificate AzureCertificate.cer file in to the AzurePortal application as show below.</p>\n<p><a href=\"https://i.stack.imgur.com/BhRn9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BhRn9.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have configured the certificate location on the applciation.yml as show below and added publicKey.pem file in to resources folder. Please note I have replace correct <strong>my-tenant-id and my-client-id</strong> in applciation.yml file.</p>\n<p><a href=\"https://i.stack.imgur.com/SW94Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SW94Z.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have run the application It first correctly redirecting to Microsoft login page and then after user enters the credentials system giving error message as below.</p>\n<p>[invalid_request] AADSTS900144: The request body must contain the following parameter: 'client_id'. Trace ID: yyyyyyy Correlation ID: xxxxxxx Timestamp: 2023-11-18 15:14:37Z</p>\n<p><a href=\"https://i.stack.imgur.com/8tqv5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tqv5.png\" alt=\"enter image description here\" /></a></p>\n<p>Highly appreciated if someone share your experiencing this configuration process.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701293602,"creation_date":1701293602,"answer_id":77574610,"question_id":77571332,"body_markdown":"BaseMapper is not a `@Mapper`, is a `@MapperConfig`\r\n\r\n    @MapperConfig\r\n    public interface BaseMapperConfig {\r\n    \t\r\n    \t@Mapping(target = &quot;name.firstName&quot;, source = &quot;firstName&quot;)\r\n    \t@Mapping(target = &quot;name.lastName&quot;, source = &quot;lastName&quot;)\r\n    \tBaseDTO toDTO(BaseEntity entity);\r\n    \t\r\n    }\r\n\r\nand the ChildMapper has to use the BaseMapperConfig as configuration, and on the method level, you need to add the @InheritConfiguration\r\n\r\n    @Mapper(config = BaseMapperConfig.class)\r\n    public interface ChildMapper {\r\n    \t\r\n    \tChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\r\n    \t\r\n    \t@InheritConfiguration\r\n    \tChildDTO toDTO(ChildEntity entity);\r\n    \t\r\n    }\r\n\r\nthe generated mapper will be:\r\n\r\n    public class ChildMapperImpl implements ChildMapper {\r\n    \r\n        @Override\r\n        public ChildDTO toDTO(ChildEntity entity) {\r\n            if ( entity == null ) {\r\n                return null;\r\n            }\r\n    \r\n            ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\r\n    \r\n            childDTO.name( childEntityToFullNameDTO( entity ) );\r\n            childDTO.id( entity.getId() );\r\n            childDTO.childName( entity.getChildName() );\r\n    \r\n            return childDTO.build();\r\n        }\r\n    \r\n        protected FullNameDTO childEntityToFullNameDTO(ChildEntity childEntity) {\r\n            if ( childEntity == null ) {\r\n                return null;\r\n            }\r\n    \r\n            FullNameDTO fullNameDTO = new FullNameDTO();\r\n    \r\n            fullNameDTO.setFirstName( childEntity.getFirstName() );\r\n            fullNameDTO.setLastName( childEntity.getLastName() );\r\n    \r\n            return fullNameDTO;\r\n        }\r\n    }","title":"Not able to map SuperClass with a nested Object, while mapping child class","body":"<p>BaseMapper is not a <code>@Mapper</code>, is a <code>@MapperConfig</code></p>\n<pre><code>@MapperConfig\npublic interface BaseMapperConfig {\n    \n    @Mapping(target = &quot;name.firstName&quot;, source = &quot;firstName&quot;)\n    @Mapping(target = &quot;name.lastName&quot;, source = &quot;lastName&quot;)\n    BaseDTO toDTO(BaseEntity entity);\n    \n}\n</code></pre>\n<p>and the ChildMapper has to use the BaseMapperConfig as configuration, and on the method level, you need to add the @InheritConfiguration</p>\n<pre><code>@Mapper(config = BaseMapperConfig.class)\npublic interface ChildMapper {\n    \n    ChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\n    \n    @InheritConfiguration\n    ChildDTO toDTO(ChildEntity entity);\n    \n}\n</code></pre>\n<p>the generated mapper will be:</p>\n<pre><code>public class ChildMapperImpl implements ChildMapper {\n\n    @Override\n    public ChildDTO toDTO(ChildEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\n\n        childDTO.name( childEntityToFullNameDTO( entity ) );\n        childDTO.id( entity.getId() );\n        childDTO.childName( entity.getChildName() );\n\n        return childDTO.build();\n    }\n\n    protected FullNameDTO childEntityToFullNameDTO(ChildEntity childEntity) {\n        if ( childEntity == null ) {\n            return null;\n        }\n\n        FullNameDTO fullNameDTO = new FullNameDTO();\n\n        fullNameDTO.setFirstName( childEntity.getFirstName() );\n        fullNameDTO.setLastName( childEntity.getLastName() );\n\n        return fullNameDTO;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77574610,"answer_count":1,"score":0,"last_activity_date":1701293918,"creation_date":1701262555,"question_id":77571332,"body_markdown":"I am trying to map classes using MapStruct. I have Super class and child class extending it. The fields are mapped correctly in BaseMapper generated code, but in the ChildMapperImpl, the fields from Parent are not mapped and missing. \r\n\r\n\r\nClass and Mapper code are below:\r\n\r\n```java\r\n@Data\r\n@SuperBuilder\r\npublic class BaseDTO {\r\n  private Long id;\r\n  private FullNameDTO name;\r\n} \r\n```\r\n```\r\n@Data\r\n@SuperBuilder\r\npublic class BaseEntity {\r\n  private Long id;\r\n  private String firstName;\r\n  private String lastName;\r\n}\r\n```\r\n```\r\n@Data\r\n@Getter\r\npublic class FullNameDTO {\r\n  private String firstName;\r\n  private String lastName;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@SuperBuilder\r\npublic class ChildDTO extends BaseDTO{\r\n  private String childName;\r\n}\r\n```\r\n```\r\n@Data\r\n@SuperBuilder\r\npublic class ChildEntity extends BaseEntity{\r\n  private String childName;\r\n}\r\n```\r\nMapper for Base Classes: \r\n```\r\n@Mapper\r\npublic interface BaseMapper {\r\n  @Mapping(target = &quot;name.firstName&quot;,source = &quot;firstName&quot;)\r\n  @Mapping(target = &quot;name.lastName&quot;,source = &quot;lastName&quot;)\r\n  BaseDTO toDTO(BaseEntity entity);\r\n  BaseMapper INSTANCE = Mappers.getMapper(BaseMapper.class);\r\n}\r\n```\r\n\r\nMapper for Child classes:\r\n```\r\n@Mapper(uses = BaseMapper.class)\r\npublic interface ChildMapper {\r\n  ChildDTO toDTO(ChildEntity entity);\r\n  ChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\r\n}\r\n```\r\n\r\nThe fields are mapped correctly in BaseMapper, but in the ChildMapper, the fields from Parent are not mapped and missing. \r\n\r\nChildMapperImpl:\r\n```\r\npublic ChildDTO toDTO(ChildEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\r\n\r\n        childDTO.id( entity.getId() );\r\n        childDTO.childName( entity.getChildName() );\r\n\r\n        return childDTO.build();\r\n    }\r\n```\r\n\r\nIf I have primitive type for firstName and lastName in BaseDTO, instead of custom object, fields are getting mapper correctly. \r\nPlease help. Thanks in advance.","title":"Not able to map SuperClass with a nested Object, while mapping child class","body":"<p>I am trying to map classes using MapStruct. I have Super class and child class extending it. The fields are mapped correctly in BaseMapper generated code, but in the ChildMapperImpl, the fields from Parent are not mapped and missing.</p>\n<p>Class and Mapper code are below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@SuperBuilder\npublic class BaseDTO {\n  private Long id;\n  private FullNameDTO name;\n} \n</code></pre>\n<pre><code>@Data\n@SuperBuilder\npublic class BaseEntity {\n  private Long id;\n  private String firstName;\n  private String lastName;\n}\n</code></pre>\n<pre><code>@Data\n@Getter\npublic class FullNameDTO {\n  private String firstName;\n  private String lastName;\n}\n</code></pre>\n<pre><code>@Data\n@SuperBuilder\npublic class ChildDTO extends BaseDTO{\n  private String childName;\n}\n</code></pre>\n<pre><code>@Data\n@SuperBuilder\npublic class ChildEntity extends BaseEntity{\n  private String childName;\n}\n</code></pre>\n<p>Mapper for Base Classes:</p>\n<pre><code>@Mapper\npublic interface BaseMapper {\n  @Mapping(target = &quot;name.firstName&quot;,source = &quot;firstName&quot;)\n  @Mapping(target = &quot;name.lastName&quot;,source = &quot;lastName&quot;)\n  BaseDTO toDTO(BaseEntity entity);\n  BaseMapper INSTANCE = Mappers.getMapper(BaseMapper.class);\n}\n</code></pre>\n<p>Mapper for Child classes:</p>\n<pre><code>@Mapper(uses = BaseMapper.class)\npublic interface ChildMapper {\n  ChildDTO toDTO(ChildEntity entity);\n  ChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\n}\n</code></pre>\n<p>The fields are mapped correctly in BaseMapper, but in the ChildMapper, the fields from Parent are not mapped and missing.</p>\n<p>ChildMapperImpl:</p>\n<pre><code>public ChildDTO toDTO(ChildEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\n\n        childDTO.id( entity.getId() );\n        childDTO.childName( entity.getChildName() );\n\n        return childDTO.build();\n    }\n</code></pre>\n<p>If I have primitive type for firstName and lastName in BaseDTO, instead of custom object, fields are getting mapper correctly.\nPlease help. Thanks in advance.</p>\n"},{"tags":["java","spring","hibernate","pom.xml","boot"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701196436,"post_id":77565492,"comment_id":136744571,"body_markdown":"Hey, I just wrote an answer about the problem and about the solution that was able to help you. Please consider it as a starting point for every project that you are going to develop.","body":"Hey, I just wrote an answer about the problem and about the solution that was able to help you. Please consider it as a starting point for every project that you are going to develop."}],"answers":[{"tags":[],"owner":{"account_id":26055497,"reputation":1,"user_id":23001259,"display_name":"tobieche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701293820,"creation_date":1701194654,"answer_id":77566167,"question_id":77565492,"body_markdown":"I&#39;ve fixed it! By using IntelliJ Idea, I&#39;ve found the dependency containing the **&quot;platformTransactionManagerCustomizers&quot;** :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Error creating bean with name &#39;platformTransactionManagerCustomizers&#39;","body":"<p>I've fixed it! By using IntelliJ Idea, I've found the dependency containing the <strong>&quot;platformTransactionManagerCustomizers&quot;</strong> :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701196313,"creation_date":1701196313,"answer_id":77566334,"question_id":77565492,"body_markdown":"As you pointed the problem was in autoconfigution but you will have some miss configuration on `spring-boot` because of version&#39;s that you are going to use.\r\n\r\nHere you have to change \r\n\r\nthe version from `2.6.3` \r\n \r\nSomething like this:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBecause the version of parent in your case is `3.2.0`\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n\r\nAnd also the best way in my opinion is Do NOT define the dependency versions in `pom.xml` if that dependency is managed by Spring. \r\n\r\nIt mean you have to remove all \r\n`version` tag where `groupId` is next one \r\n\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\r\nAlso as I mentioned above don’t mix the framework version here is why you should avoid it [Changes from 2.x to 3.x][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"Error creating bean with name &#39;platformTransactionManagerCustomizers&#39;","body":"<p>As you pointed the problem was in autoconfigution but you will have some miss configuration on <code>spring-boot</code> because of version's that you are going to use.</p>\n<p>Here you have to change</p>\n<p>the version from <code>2.6.3</code></p>\n<p>Something like this:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n&lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Because the version of parent in your case is <code>3.2.0</code></p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>And also the best way in my opinion is Do NOT define the dependency versions in <code>pom.xml</code> if that dependency is managed by Spring.</p>\n<p>It mean you have to remove all\n<code>version</code> tag where <code>groupId</code> is next one</p>\n<pre><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n</code></pre>\n<p>Also as I mentioned above don’t mix the framework version here is why you should avoid it <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">Changes from 2.x to 3.x</a></p>\n"}],"owner":{"account_id":26055497,"reputation":1,"user_id":23001259,"display_name":"tobieche"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701293820,"creation_date":1701188372,"question_id":77565492,"body_markdown":"I am learning how to use Spring Boot. I am trying to connect my application with my database, but I am not entirely sure why I am getting this error and how to fix it. I can&#39;t find anything online. Please help me. If you need more information, please ask me and I will do everything I can.\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;groupId&gt;com.notes&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;notes&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;notes&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.30&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties, I do not know why but every propery except server.port is grayed out:\r\n\r\n```\r\n#GENERAL\r\nserver.port = 8080\r\n#\r\n#DATABASE\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.datasource.url=jdbc:mysql://localhost:3306/note_application\r\nspring.datasource.username=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n#JPA/Hibernate\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n#Transactions\r\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\r\n```\r\n\r\nFull error stack trace when running spring-boot:run\r\n\r\n```\r\n[INFO] \r\n[INFO] --- spring-boot:3.2.0:run (default-cli) @ notes ---\r\n[INFO] Attaching agents: []\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.2.0)\r\n2023-11-28T13:01:56.786-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : Starting NotesApplication using Java 18.0.1.1 with PID 15356 (C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes\\target\\classes started by tobia in C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes)\r\n2023-11-28T13:01:56.793-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-11-28T13:01:57.391-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-11-28T13:01:57.412-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.\r\n2023-11-28T13:01:57.960-03:00  INFO 15356 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)\r\n2023-11-28T13:01:57.969-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-11-28T13:01:57.970-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]\r\n2023-11-28T13:01:58.037-03:00  INFO 15356 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-11-28T13:01:58.038-03:00  INFO 15356 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1202 ms\r\n2023-11-28T13:01:58.199-03:00  INFO 15356 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-11-28T13:01:58.265-03:00  INFO 15356 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final\r\n2023-11-28T13:01:58.301-03:00  INFO 15356 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled\r\n2023-11-28T13:01:58.567-03:00  INFO 15356 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-11-28T13:01:58.596-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-11-28T13:01:58.762-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b2aafbc\r\n2023-11-28T13:01:58.763-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-11-28T13:01:58.806-03:00  WARN 15356 --- [           main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\r\n2023-11-28T13:01:58.810-03:00  WARN 15356 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using &#39;hibernate.dialect&#39; (remove the property setting and it will be selected by default)\r\n2023-11-28T13:01:59.640-03:00  INFO 15356 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n2023-11-28T13:01:59.687-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-28T13:01:59.774-03:00  WARN 15356 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-11-28T13:01:59.800-03:00  INFO 15356 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\r\n2023-11-28T13:02:00.013-03:00  WARN 15356 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;platformTransactionManagerCustomizers&#39; defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method &#39;platformTransactionManagerCustomizers&#39; threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n2023-11-28T13:02:00.014-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-28T13:02:00.016-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-11-28T13:02:00.023-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-11-28T13:02:00.024-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-11-28T13:02:00.035-03:00  INFO 15356 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-11-28T13:02:00.052-03:00 ERROR 15356 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;platformTransactionManagerCustomizers&#39; defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method &#39;platformTransactionManagerCustomizers&#39; threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat com.notes.notes.NotesApplication.main(NotesApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method &#39;platformTransactionManagerCustomizers&#39; threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.TypeNotPresentException: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n\tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\r\n\tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:517) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.core.ResolvableType.as(ResolvableType.java:465) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:368) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:282) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.checkGenericTypeMatch(GenericTypeAwareAutowireCandidateResolver.java:155) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.isAutowireCandidate(GenericTypeAwareAutowireCandidateResolver.java:69) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.QualifierAnnotationAutowireCandidateResolver.isAutowireCandidate(QualifierAnnotationAutowireCandidateResolver.java:147) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:883) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:842) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:825) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1650) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1468) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2196) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2190) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration.platformTransactionManagerCustomizers(TransactionManagerCustomizationAutoConfiguration.java:44) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.transaction.ConfigurableTransactionManager\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n\t... 47 common frames omitted\r\n```\r\n\r\n\r\nI am following this tutorial (it is in spanish): https://www.youtube.com/watch?v=7vHzVN0EiQc\r\nI am stuck at minute 2:23\r\n\r\nWhen I know the real error cause, I will update the title to help anyone with the same problem :)\r\n\r\n\r\n\r\nI tried adding this lines to application.properties\r\n\r\n```\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n#JPA/Hibernate\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n#Transactions\r\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\r\n\r\n\r\n```\r\n\r\n\r\nI also checked that the Resources folder was properly marked (and it is).","title":"Error creating bean with name &#39;platformTransactionManagerCustomizers&#39;","body":"<p>I am learning how to use Spring Boot. I am trying to connect my application with my database, but I am not entirely sure why I am getting this error and how to fix it. I can't find anything online. Please help me. If you need more information, please ask me and I will do everything I can.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;groupId&gt;com.notes&lt;/groupId&gt;\n    &lt;artifactId&gt;notes&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;notes&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;6.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.30&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties, I do not know why but every propery except server.port is grayed out:</p>\n<pre><code>#GENERAL\nserver.port = 8080\n#\n#DATABASE\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.datasource.url=jdbc:mysql://localhost:3306/note_application\nspring.datasource.username=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n#JPA/Hibernate\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n#Transactions\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\n</code></pre>\n<p>Full error stack trace when running spring-boot:run</p>\n<pre><code>[INFO] \n[INFO] --- spring-boot:3.2.0:run (default-cli) @ notes ---\n[INFO] Attaching agents: []\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.2.0)\n2023-11-28T13:01:56.786-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : Starting NotesApplication using Java 18.0.1.1 with PID 15356 (C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes\\target\\classes started by tobia in C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes)\n2023-11-28T13:01:56.793-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-11-28T13:01:57.391-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-11-28T13:01:57.412-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.\n2023-11-28T13:01:57.960-03:00  INFO 15356 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)\n2023-11-28T13:01:57.969-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-11-28T13:01:57.970-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]\n2023-11-28T13:01:58.037-03:00  INFO 15356 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-11-28T13:01:58.038-03:00  INFO 15356 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1202 ms\n2023-11-28T13:01:58.199-03:00  INFO 15356 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-11-28T13:01:58.265-03:00  INFO 15356 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final\n2023-11-28T13:01:58.301-03:00  INFO 15356 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled\n2023-11-28T13:01:58.567-03:00  INFO 15356 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-11-28T13:01:58.596-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-11-28T13:01:58.762-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b2aafbc\n2023-11-28T13:01:58.763-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-11-28T13:01:58.806-03:00  WARN 15356 --- [           main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\n2023-11-28T13:01:58.810-03:00  WARN 15356 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)\n2023-11-28T13:01:59.640-03:00  INFO 15356 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n2023-11-28T13:01:59.687-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-11-28T13:01:59.774-03:00  WARN 15356 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-11-28T13:01:59.800-03:00  INFO 15356 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\n2023-11-28T13:02:00.013-03:00  WARN 15356 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'platformTransactionManagerCustomizers' defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method 'platformTransactionManagerCustomizers' threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\n2023-11-28T13:02:00.014-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-11-28T13:02:00.016-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-11-28T13:02:00.023-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-11-28T13:02:00.024-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-11-28T13:02:00.035-03:00  INFO 15356 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-11-28T13:02:00.052-03:00 ERROR 15356 --- [           main] o.s.boot.SpringApplication               : Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'platformTransactionManagerCustomizers' defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method 'platformTransactionManagerCustomizers' threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\n    at com.notes.notes.NotesApplication.main(NotesApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method 'platformTransactionManagerCustomizers' threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 19 common frames omitted\nCaused by: java.lang.TypeNotPresentException: Type org.springframework.transaction.ConfigurableTransactionManager not present\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\n    at java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\n    at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:517) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.core.ResolvableType.as(ResolvableType.java:465) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:368) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:282) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.checkGenericTypeMatch(GenericTypeAwareAutowireCandidateResolver.java:155) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.isAutowireCandidate(GenericTypeAwareAutowireCandidateResolver.java:69) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.QualifierAnnotationAutowireCandidateResolver.isAutowireCandidate(QualifierAnnotationAutowireCandidateResolver.java:147) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:883) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:842) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:825) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1650) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1468) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2196) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2190) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration.platformTransactionManagerCustomizers(TransactionManagerCustomizationAutoConfiguration.java:44) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 20 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.transaction.ConfigurableTransactionManager\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n    ... 47 common frames omitted\n</code></pre>\n<p>I am following this tutorial (it is in spanish): <a href=\"https://www.youtube.com/watch?v=7vHzVN0EiQc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=7vHzVN0EiQc</a>\nI am stuck at minute 2:23</p>\n<p>When I know the real error cause, I will update the title to help anyone with the same problem :)</p>\n<p>I tried adding this lines to application.properties</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n#JPA/Hibernate\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n#Transactions\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\n\n\n</code></pre>\n<p>I also checked that the Resources folder was properly marked (and it is).</p>\n"},{"tags":["java","spring-boot","maven","microservices","entry-point"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1701288582,"post_id":77574142,"comment_id":136758580,"body_markdown":"It is unclear without some example. A program has to have an entry point. If it&#39;s a container, how is it launched? With Spring, you can tell with the first line in the logs. You&#39;ll see `INFO 53986 --- [main] c.a.Application      : Starting Application using Java 11.0.15 on ...` Here, `c.a.Application#main` is the entry point.","body":"It is unclear without some example. A program has to have an entry point. If it&#39;s a container, how is it launched? With Spring, you can tell with the first line in the logs. You&#39;ll see <code>INFO 53986 --- [main] c.a.Application      : Starting Application using Java 11.0.15 on ...</code> Here, <code>c.a.Application#main</code> is the entry point."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701289286,"post_id":77574142,"comment_id":136758706,"body_markdown":"@ChristopherSchneider Thanks for the comment, how it works in my case is unfortunately unclear to me (I only have access to the git repository where the microservice code is, startup will be managed somewhere in the CI/CD process I imagine, where I don&#39;t have access), so I still tried to ask a general question, that is, in which cases is this approach used and how does it all actually work?","body":"@ChristopherSchneider Thanks for the comment, how it works in my case is unfortunately unclear to me (I only have access to the git repository where the microservice code is, startup will be managed somewhere in the CI/CD process I imagine, where I don&#39;t have access), so I still tried to ask a general question, that is, in which cases is this approach used and how does it all actually work?"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1701291363,"post_id":77574142,"comment_id":136759017,"body_markdown":"Usage of &quot;container&quot; here is unclear. maybe you mean docker container? or servlet container? and who knows how this works, maybe this is set up with an old school web.xml that specifies a spring application context that is configured to do component scanning? are you even sure it is spring-boot? there is very little to go on here.","body":"Usage of &quot;container&quot; here is unclear. maybe you mean docker container? or servlet container? and who knows how this works, maybe this is set up with an old school web.xml that specifies a spring application context that is configured to do component scanning? are you even sure it is spring-boot? there is very little to go on here."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701292051,"post_id":77574142,"comment_id":136759125,"body_markdown":"@NathanHughes by container I meant docker container; in the pom.xml I have the spring boot dependencies so I would say yes for this","body":"@NathanHughes by container I meant docker container; in the pom.xml I have the spring boot dependencies so I would say yes for this"},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701292355,"post_id":77574142,"comment_id":136759170,"body_markdown":"However, I didn&#39;t ask you to tell me how it works in my case, I wrote the first lines to justify my question, the question to the community is the general one of how to make a microservice work without those entry points and if something like this makes sense.","body":"However, I didn&#39;t ask you to tell me how it works in my case, I wrote the first lines to justify my question, the question to the community is the general one of how to make a microservice work without those entry points and if something like this makes sense."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1701292357,"post_id":77574142,"comment_id":136759171,"body_markdown":"ok. so the thing that has to have an entry point is tomcat (or jetty or whatever is serving your application code). the spring-boot entry point is there so that it can boot up tomcat. if you were deploying to a running application server then you wouldn&#39;t need a spring boot entry point. although it would still be useful for running locally and getting rid of it is crazy.","body":"ok. so the thing that has to have an entry point is tomcat (or jetty or whatever is serving your application code). the spring-boot entry point is there so that it can boot up tomcat. if you were deploying to a running application server then you wouldn&#39;t need a spring boot entry point. although it would still be useful for running locally and getting rid of it is crazy."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701292716,"post_id":77574142,"comment_id":136759222,"body_markdown":"Ok, so if I have to deploy the microservice for example on an application server I may not have the entry point in spring boot, but if I had a main it wouldn&#39;t change anything anyway","body":"Ok, so if I have to deploy the microservice for example on an application server I may not have the entry point in spring boot, but if I had a main it wouldn&#39;t change anything anyway"}],"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701292078,"creation_date":1701287752,"question_id":77574142,"body_markdown":"Lately I found myself with a spring boot microservice maven project with a simple MVC (controller, service, repository) flow but without an entry point, i.e. without an annotated @SpringBootApplication class or a main method;\r\n\r\nNow I&#39;m not clear on the ways to make the microservice work and what the logical loop is that makes everything work.\r\n\r\nThe microservice in my case runs on a docker container and in the pom.xml file it has the declaration of a pom parent (I don&#39;t know if this last information has any relevance)\r\n\r\nHowever, with these premises my question is to understand, having a spring project of this type, what are the different ways to use it and put it into operation, and above all, what is the reason that leads to this choice? What are the benefits if any?\r\n\r\nI hope I have been as clear as possible, Thank you all in advance.","title":"Doubts about Spring Boot microservice without entry point","body":"<p>Lately I found myself with a spring boot microservice maven project with a simple MVC (controller, service, repository) flow but without an entry point, i.e. without an annotated @SpringBootApplication class or a main method;</p>\n<p>Now I'm not clear on the ways to make the microservice work and what the logical loop is that makes everything work.</p>\n<p>The microservice in my case runs on a docker container and in the pom.xml file it has the declaration of a pom parent (I don't know if this last information has any relevance)</p>\n<p>However, with these premises my question is to understand, having a spring project of this type, what are the different ways to use it and put it into operation, and above all, what is the reason that leads to this choice? What are the benefits if any?</p>\n<p>I hope I have been as clear as possible, Thank you all in advance.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"score":1,"creation_date":1700496837,"post_id":77517386,"comment_id":136658802,"body_markdown":"could you share the stacktrace?","body":"could you share the stacktrace?"},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700497271,"post_id":77517386,"comment_id":136658870,"body_markdown":"stacktrace doesnt show any errors obviously. can paste it if you really want","body":"stacktrace doesnt show any errors obviously. can paste it if you really want"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700497464,"post_id":77517386,"comment_id":136658910,"body_markdown":"You can [enable debug logging](https://docs.spring.io/spring-boot/docs/3.1.5/reference/html/features.html#features.logging) in your application and see what happens when it receives the request.","body":"You can <a href=\"https://docs.spring.io/spring-boot/docs/3.1.5/reference/html/features.html#features.logging\" rel=\"nofollow noreferrer\">enable debug logging</a> in your application and see what happens when it receives the request."},{"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"score":0,"creation_date":1700499193,"post_id":77517386,"comment_id":136659245,"body_markdown":"Try adding an Accept header of text/plain. I don&#39;t know if that will fix it or not. From curl -H &quot;Accept: text/plain&quot;.","body":"Try adding an Accept header of text/plain. I don&#39;t know if that will fix it or not. From curl -H &quot;Accept: text/plain&quot;."},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700499517,"post_id":77517386,"comment_id":136659311,"body_markdown":"Not sure if this is the same but in tomcat access log i get :\n0:0:0:0:0:0:0:1 - - [20/Nov/2023:17:56:21 +0100] &quot;GET /plain-text HTTP/1.1&quot; 404 700\n\nwhich adds basically nothing","body":"Not sure if this is the same but in tomcat access log i get : 0:0:0:0:0:0:0:1 - - [20/Nov/2023:17:56:21 +0100] &quot;GET /plain-text HTTP/1.1&quot; 404 700  which adds basically nothing"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700499932,"post_id":77517386,"comment_id":136659410,"body_markdown":"What is the context?  Maybe the URL needs to be: http://localhost:8080/demo/plain-text","body":"What is the context?  Maybe the URL needs to be: <a href=\"http://localhost:8080/demo/plain-text\" rel=\"nofollow noreferrer\">localhost:8080/demo/plain-text</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700500496,"post_id":77517386,"comment_id":136659539,"body_markdown":"FWIW I recreated your application with the same structure (on Linux) and couldn&#39;t reproduce your issue. Maybe you&#39;ve got a firewall that&#39;s blocking port 8080?","body":"FWIW I recreated your application with the same structure (on Linux) and couldn&#39;t reproduce your issue. Maybe you&#39;ve got a firewall that&#39;s blocking port 8080?"},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700559643,"post_id":77517386,"comment_id":136666649,"body_markdown":"Port 8080 is open and well, accept header didnt change anything","body":"Port 8080 is open and well, accept header didnt change anything"},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":1,"creation_date":1700564689,"post_id":77517386,"comment_id":136667595,"body_markdown":"executing the project without tomcat works just fine, i guess its a configuration problem from my side though I cant figure out what","body":"executing the project without tomcat works just fine, i guess its a configuration problem from my side though I cant figure out what"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700566614,"post_id":77517386,"comment_id":136667925,"body_markdown":"Were you running a separate instance of Tomcat? By default, Spring Boot includes a Tomcat instance inside your application. So if your separate Tomcat instance was already listening on port 8080, your application would have failed to also listen on that port because that was already allocated to the separate Tomcat instance.","body":"Were you running a separate instance of Tomcat? By default, Spring Boot includes a Tomcat instance inside your application. So if your separate Tomcat instance was already listening on port 8080, your application would have failed to also listen on that port because that was already allocated to the separate Tomcat instance."},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700641173,"post_id":77517386,"comment_id":136678266,"body_markdown":"I used a separate instance but even changing port didn&#39;t help it","body":"I used a separate instance but even changing port didn&#39;t help it"}],"answers":[{"tags":[],"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701291716,"creation_date":1701291716,"answer_id":77574473,"question_id":77517386,"body_markdown":"You should use @RequestMapping annotation.\r\n\r\n    @RestController\r\n    @RequestMapping\r\n    public class ctrl \r\n    {\r\n    @GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; getPlainText() \r\n    {\r\n        System.out.println(&quot;Hit me!&quot;);\r\n        return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\r\n    }}","title":"HTTP Request returns 404 in Spring Boot","body":"<p>You should use @RequestMapping annotation.</p>\n<pre><code>@RestController\n@RequestMapping\npublic class ctrl \n{\n@GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\npublic ResponseEntity&lt;String&gt; getPlainText() \n{\n    System.out.println(&quot;Hit me!&quot;);\n    return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\n}}\n</code></pre>\n"}],"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701291716,"creation_date":1700496656,"question_id":77517386,"body_markdown":"I have the simplest of architectures as follows, just for the sake of testing :\r\n\r\n![Project architecture](https://i.stack.imgur.com/6E4b0.png)\r\n\r\nctrl.java :\r\n\r\n```\r\n@RestController\r\npublic class ctrl {\r\n    @GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; getPlainText() {\r\n        System.out.println(&quot;Hit me!&quot;);\r\n        return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\r\n    }\r\n}\r\n\r\n```\r\nDemoApplication.java :\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRequesting http://localhost:8080/plain-text\r\n\r\nreturns a 404 error. I can&#39;t wrap my head around it.\r\n\r\nI have all the needed dependencies : JPA, Spring Web, Spring starter web...etc\r\n","title":"HTTP Request returns 404 in Spring Boot","body":"<p>I have the simplest of architectures as follows, just for the sake of testing :</p>\n<p><img src=\"https://i.stack.imgur.com/6E4b0.png\" alt=\"Project architecture\" /></p>\n<p>ctrl.java :</p>\n<pre><code>@RestController\npublic class ctrl {\n    @GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\n    public ResponseEntity&lt;String&gt; getPlainText() {\n        System.out.println(&quot;Hit me!&quot;);\n        return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\n    }\n}\n\n</code></pre>\n<p>DemoApplication.java :</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Requesting http://localhost:8080/plain-text</p>\n<p>returns a 404 error. I can't wrap my head around it.</p>\n<p>I have all the needed dependencies : JPA, Spring Web, Spring starter web...etc</p>\n"},{"tags":["java","android","hotspot"],"answers":[{"tags":[],"owner":{"account_id":14555492,"reputation":64,"user_id":10513148,"display_name":"Isuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677073419,"creation_date":1677073419,"answer_id":75533571,"question_id":75531586,"body_markdown":"One possible solution is to use the Android Network Service Discovery (NSD) API [doc][1]. NSD allows devices on a local network to discover and communicate with each other without requiring any configuration. With NSD, you can advertise your service (e.g., your mobile hotspot) and discover other devices that are connected to it.\r\n\r\nHere is an example code to advertise your service:\r\n\r\n\r\n\r\n    NsdServiceInfo serviceInfo  = new NsdServiceInfo();\r\n    serviceInfo.setServiceName(&quot;My Hotspot&quot;);\r\n    serviceInfo.setServiceType(&quot;_http._tcp.&quot;);\r\n    serviceInfo.setPort(8080);\r\n    NsdManager nsdManager = (NsdManager) getSystemService(Context.NSD_SERVICE);\r\n    nsdManager.registerService(serviceInfo, NsdManager.PROTOCOL_DNS_SD, new NsdManager.RegistrationListener() {\r\n        @Override\r\n        public void onServiceRegistered(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service registered: &quot; + serviceInfo);\r\n        }\r\n    \r\n        @Override\r\n        public void onRegistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\r\n            Log.e(TAG, &quot;Registration failed: &quot; + errorCode);\r\n        }\r\n    \r\n        @Override\r\n        public void onServiceUnregistered(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service unregistered: &quot; + serviceInfo);\r\n        }\r\n    \r\n        @Override\r\n        public void onUnregistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\r\n            Log.e(TAG, &quot;Unregistration failed: &quot; + errorCode);\r\n        }\r\n    });\r\n\r\nThis code advertises a service with the name &quot;My Hotspot&quot; and the type &quot;_http._tcp.&quot; on port 8080. Other devices on the local network can discover this service by using the NSD API.\r\n\r\nTo discover other devices that are connected to your hotspot, you can use the NSD discovery API:\r\n\r\n\r\n    nsdManager.discoverServices(&quot;_http._tcp.&quot;, NsdManager.PROTOCOL_DNS_SD, new NsdManager.DiscoveryListener() {\r\n        @Override\r\n        public void onStartDiscoveryFailed(String serviceType, int errorCode) {\r\n            Log.e(TAG, &quot;Discovery failed: &quot; + errorCode);\r\n        }\r\n    \r\n        @Override\r\n        public void onStopDiscoveryFailed(String serviceType, int errorCode) {\r\n            Log.e(TAG, &quot;Discovery stopped: &quot; + errorCode);\r\n        }\r\n    \r\n        @Override\r\n        public void onDiscoveryStarted(String serviceType) {\r\n            Log.d(TAG, &quot;Discovery started&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onDiscoveryStopped(String serviceType) {\r\n            Log.d(TAG, &quot;Discovery stopped&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onServiceFound(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service found: &quot; + serviceInfo);\r\n            // Get the IP address of the device that advertises this service\r\n            InetAddress deviceAddress = serviceInfo.getHost();\r\n            String deviceIpAddress = deviceAddress.getHostAddress();\r\n            // Do something with the IP address\r\n        }\r\n    \r\n        @Override\r\n        public void onServiceLost(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service lost: &quot; + serviceInfo);\r\n        }\r\n    });\r\n\r\nThis code discovers services of the type &quot;_http._tcp.&quot; and logs the IP address of the device that advertises each service. You can use this IP address to communicate with the device.\r\n\r\nNote that NSD requires the ACCESS_WIFI_STATE and CHANGE_WIFI_STATE permissions, as well as the NSD API level 16 or higher.\r\n\r\n\r\n  [1]: https://developer.android.com/training/connect-devices-wirelessly/nsd\r\n\r\n","title":"How can I programmatically get information about local hotspot?","body":"<p>One possible solution is to use the Android Network Service Discovery (NSD) API <a href=\"https://developer.android.com/training/connect-devices-wirelessly/nsd\" rel=\"nofollow noreferrer\">doc</a>. NSD allows devices on a local network to discover and communicate with each other without requiring any configuration. With NSD, you can advertise your service (e.g., your mobile hotspot) and discover other devices that are connected to it.</p>\n<p>Here is an example code to advertise your service:</p>\n<pre><code>NsdServiceInfo serviceInfo  = new NsdServiceInfo();\nserviceInfo.setServiceName(&quot;My Hotspot&quot;);\nserviceInfo.setServiceType(&quot;_http._tcp.&quot;);\nserviceInfo.setPort(8080);\nNsdManager nsdManager = (NsdManager) getSystemService(Context.NSD_SERVICE);\nnsdManager.registerService(serviceInfo, NsdManager.PROTOCOL_DNS_SD, new NsdManager.RegistrationListener() {\n    @Override\n    public void onServiceRegistered(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service registered: &quot; + serviceInfo);\n    }\n\n    @Override\n    public void onRegistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\n        Log.e(TAG, &quot;Registration failed: &quot; + errorCode);\n    }\n\n    @Override\n    public void onServiceUnregistered(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service unregistered: &quot; + serviceInfo);\n    }\n\n    @Override\n    public void onUnregistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\n        Log.e(TAG, &quot;Unregistration failed: &quot; + errorCode);\n    }\n});\n</code></pre>\n<p>This code advertises a service with the name &quot;My Hotspot&quot; and the type &quot;_http._tcp.&quot; on port 8080. Other devices on the local network can discover this service by using the NSD API.</p>\n<p>To discover other devices that are connected to your hotspot, you can use the NSD discovery API:</p>\n<pre><code>nsdManager.discoverServices(&quot;_http._tcp.&quot;, NsdManager.PROTOCOL_DNS_SD, new NsdManager.DiscoveryListener() {\n    @Override\n    public void onStartDiscoveryFailed(String serviceType, int errorCode) {\n        Log.e(TAG, &quot;Discovery failed: &quot; + errorCode);\n    }\n\n    @Override\n    public void onStopDiscoveryFailed(String serviceType, int errorCode) {\n        Log.e(TAG, &quot;Discovery stopped: &quot; + errorCode);\n    }\n\n    @Override\n    public void onDiscoveryStarted(String serviceType) {\n        Log.d(TAG, &quot;Discovery started&quot;);\n    }\n\n    @Override\n    public void onDiscoveryStopped(String serviceType) {\n        Log.d(TAG, &quot;Discovery stopped&quot;);\n    }\n\n    @Override\n    public void onServiceFound(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service found: &quot; + serviceInfo);\n        // Get the IP address of the device that advertises this service\n        InetAddress deviceAddress = serviceInfo.getHost();\n        String deviceIpAddress = deviceAddress.getHostAddress();\n        // Do something with the IP address\n    }\n\n    @Override\n    public void onServiceLost(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service lost: &quot; + serviceInfo);\n    }\n});\n</code></pre>\n<p>This code discovers services of the type &quot;_http._tcp.&quot; and logs the IP address of the device that advertises each service. You can use this IP address to communicate with the device.</p>\n<p>Note that NSD requires the ACCESS_WIFI_STATE and CHANGE_WIFI_STATE permissions, as well as the NSD API level 16 or higher.</p>\n"}],"owner":{"account_id":6139845,"reputation":83,"user_id":4787578,"display_name":"Marcello Carrozzino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701291417,"creation_date":1677062662,"question_id":75531586,"body_markdown":"I need to perform a scan of the devices connected to the hotspot I broadcast with my mobile in order to start a communication only with these devices. The basic information I need is the broadcast address, but any other information leading to that would be good (the IP address of a connected device, for instance).\r\n\r\nOn my mobile it is actually straightforward: the NetworkInterface has always the name &quot;wlan1&quot;, so it is pretty easy to get IP information (&quot;wlan0&quot; being the main WiFi interface).\r\n\r\nHowever this name might change on other mobiles (for instance becoming &quot;ap0&quot; or &quot;ap1&quot;).\r\nEven worse, on one model I have verified that if both WiFi and hotspot are enabled, they are respectively &quot;wlan0&quot; and &quot;wlan1&quot; but, if I turn off WiFi, the hotspot interface becomes &quot;wlan0&quot;!\r\n\r\nThis is the code I use:\r\n\r\n     for (Enumeration&lt;InetAddress&gt; enumIpAddr = intf.getInetAddresses(); enumIpAddr.hasMoreElements(); ) {\r\n                    InetAddress inetAddress = enumIpAddr.nextElement();\r\n                    if (!inetAddress.isLoopbackAddress() &amp;&amp; inetAddress instanceof Inet4Address) {\r\n                        String ipadd = inetAddress.getHostAddress();\r\n                        if (name.equals(&quot;wlan0&quot;) || name.equals(&quot;wlan1&quot;))\r\n                        {\r\n                            System.out.println(&quot;Found WLAN= &quot; + name);\r\n                            System.out.println(&quot;IP Address = &quot; + ipadd);\r\n                            for (InterfaceAddress interfaceAddress : intf.getInterfaceAddresses()) {\r\n                                if (interfaceAddress != null) {\r\n                                    InetAddress broadcastadd = interfaceAddress.getBroadcast();\r\n                                    if (broadcastadd != null) {\r\n                                        found_bcast_address = broadcastadd.toString();\r\n                                        found_bcast_address = found_bcast_address.substring(1);\r\n                                        System.out.println(&quot;Broadcast Address = &quot; + found_bcast_address);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\nThe main problem is that I do not know which is the name of the Interface related to the hotspot, so with this code I don&#39;t know if the device that will answer when I send messages to the broadcast address is connected to my mobile hotspot or the WLAN my mobile is connected.\r\n\r\nIn other posts I&#39;ve seen solutions based on:\r\n\r\n1) reading the file &quot;/proc/net/arp&quot; -&gt; but on modern Android this is not feasible\r\n2) using reflection and calling &quot;getWifiApConfiguration&quot;, but again this is not feasible anymore on modern Android\r\n\r\nAny way to get this information on recent Android?","title":"How can I programmatically get information about local hotspot?","body":"<p>I need to perform a scan of the devices connected to the hotspot I broadcast with my mobile in order to start a communication only with these devices. The basic information I need is the broadcast address, but any other information leading to that would be good (the IP address of a connected device, for instance).</p>\n<p>On my mobile it is actually straightforward: the NetworkInterface has always the name &quot;wlan1&quot;, so it is pretty easy to get IP information (&quot;wlan0&quot; being the main WiFi interface).</p>\n<p>However this name might change on other mobiles (for instance becoming &quot;ap0&quot; or &quot;ap1&quot;).\nEven worse, on one model I have verified that if both WiFi and hotspot are enabled, they are respectively &quot;wlan0&quot; and &quot;wlan1&quot; but, if I turn off WiFi, the hotspot interface becomes &quot;wlan0&quot;!</p>\n<p>This is the code I use:</p>\n<pre><code> for (Enumeration&lt;InetAddress&gt; enumIpAddr = intf.getInetAddresses(); enumIpAddr.hasMoreElements(); ) {\n                InetAddress inetAddress = enumIpAddr.nextElement();\n                if (!inetAddress.isLoopbackAddress() &amp;&amp; inetAddress instanceof Inet4Address) {\n                    String ipadd = inetAddress.getHostAddress();\n                    if (name.equals(&quot;wlan0&quot;) || name.equals(&quot;wlan1&quot;))\n                    {\n                        System.out.println(&quot;Found WLAN= &quot; + name);\n                        System.out.println(&quot;IP Address = &quot; + ipadd);\n                        for (InterfaceAddress interfaceAddress : intf.getInterfaceAddresses()) {\n                            if (interfaceAddress != null) {\n                                InetAddress broadcastadd = interfaceAddress.getBroadcast();\n                                if (broadcastadd != null) {\n                                    found_bcast_address = broadcastadd.toString();\n                                    found_bcast_address = found_bcast_address.substring(1);\n                                    System.out.println(&quot;Broadcast Address = &quot; + found_bcast_address);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n</code></pre>\n<p>The main problem is that I do not know which is the name of the Interface related to the hotspot, so with this code I don't know if the device that will answer when I send messages to the broadcast address is connected to my mobile hotspot or the WLAN my mobile is connected.</p>\n<p>In other posts I've seen solutions based on:</p>\n<ol>\n<li>reading the file &quot;/proc/net/arp&quot; -&gt; but on modern Android this is not feasible</li>\n<li>using reflection and calling &quot;getWifiApConfiguration&quot;, but again this is not feasible anymore on modern Android</li>\n</ol>\n<p>Any way to get this information on recent Android?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701291387,"post_id":77574440,"comment_id":136759022,"body_markdown":"You could try to temporarily include both Java EE and Jakarta EE dependencies and then remove the Java EE dependencies before running the project (after you have done the migration so far that it compiles). But for Spring itself, you either need to use Spring Boot 2 or Spring Boot 3. Also, you might want to use half-automated migration tools to take care about things like changing package names.","body":"You could try to temporarily include both Java EE and Jakarta EE dependencies and then remove the Java EE dependencies before running the project (after you have done the migration so far that it compiles). But for Spring itself, you either need to use Spring Boot 2 or Spring Boot 3. Also, you might want to use half-automated migration tools to take care about things like changing package names."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1701291569,"post_id":77574440,"comment_id":136759053,"body_markdown":"For example, the [migration guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide) mentions the following tools that might help with migration: https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmigrationtojakarta, https://github.com/spring-projects-experimental/spring-boot-migrator and https://blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6/","body":"For example, the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">migration guide</a> mentions the following tools that might help with migration: <a href=\"https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmigrationtojakarta\" rel=\"nofollow noreferrer\">docs.openrewrite.org/recipes/java/migrate/jakarta/&hellip;</a>, <a href=\"https://github.com/spring-projects-experimental/spring-boot-migrator\" rel=\"nofollow noreferrer\">github.com/spring-projects-experimental/spring-boot-migrator</a> and <a href=\"https://blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6</a>"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":1,"creation_date":1701310942,"post_id":77574440,"comment_id":136761146,"body_markdown":"First what you need is to make sure that your project is working with JDK17, since that is the lowest JDK required for Spring Boot 3, after your project is compiling and your tests are not failing, then you can upgrade the libraries. At least that is what we did when we upgraded our project.","body":"First what you need is to make sure that your project is working with JDK17, since that is the lowest JDK required for Spring Boot 3, after your project is compiling and your tests are not failing, then you can upgrade the libraries. At least that is what we did when we upgraded our project."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701327348,"post_id":77574440,"comment_id":136762514,"body_markdown":"You can upgrade to the new Spring Security configuration already (the old one is already deprecated in Spring Boot 2.7). Moving to JDK17 is also already possible.  JakartaEE upgrade is not something you can easily do that has to be a big bang.","body":"You can upgrade to the new Spring Security configuration already (the old one is already deprecated in Spring Boot 2.7). Moving to JDK17 is also already possible.  JakartaEE upgrade is not something you can easily do that has to be a big bang."},{"owner":{"account_id":6075803,"reputation":187,"user_id":4743211,"accept_rate":0,"display_name":"Anthony"},"score":0,"creation_date":1701428314,"post_id":77574440,"comment_id":136777125,"body_markdown":"Project has been upgraded to SpringBoot 2.7.17 JDK17, all tests etc + project run is OK. I&#39;ve solved all depreacted like WebSecurityConfigurerAdapter...\n\nI believe effectilvy that migration to SpringBoot 3 has to be BigBang","body":"Project has been upgraded to SpringBoot 2.7.17 JDK17, all tests etc + project run is OK. I&#39;ve solved all depreacted like WebSecurityConfigurerAdapter...  I believe effectilvy that migration to SpringBoot 3 has to be BigBang"}],"owner":{"account_id":6075803,"reputation":187,"user_id":4743211,"accept_rate":0,"display_name":"Anthony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701291310,"creation_date":1701291310,"question_id":77574440,"body_markdown":"I&#39;ve upgraded all my dependencies to go up to SpringBoot 2.7 and now I want to upgraded to SpringBoot 3.x. I saw that I&#39;ll to change javax.persistence.* and javax.servlet.* to jakarta.... and also update my SpringSecurity antMatchers to requestMasters.\r\n\r\nBut As I&#39;m trying to upgrade properly, commiting subject (Security, persistance, servlet) one by bon I wonder if there is a way to upgrade those things and preparing upgrade to SpringBoot 3 before upgrading it directly or if I have to upgrade and resolve all dependencies.\r\n\r\nThanks on advance.","title":"SpringBoot 3 migration","body":"<p>I've upgraded all my dependencies to go up to SpringBoot 2.7 and now I want to upgraded to SpringBoot 3.x. I saw that I'll to change javax.persistence.* and javax.servlet.* to jakarta.... and also update my SpringSecurity antMatchers to requestMasters.</p>\n<p>But As I'm trying to upgrade properly, commiting subject (Security, persistance, servlet) one by bon I wonder if there is a way to upgrade those things and preparing upgrade to SpringBoot 3 before upgrading it directly or if I have to upgrade and resolve all dependencies.</p>\n<p>Thanks on advance.</p>\n"},{"tags":["java","android","android-camera"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701291126,"creation_date":1701291126,"answer_id":77574429,"question_id":77574380,"body_markdown":"Set an EXTRA_SIZE_LIMIT.  This is the maximum size in bytes.  Now its possible the camera app will ignore this flag (it&#39;s a request, not an enforced value), but it *should* work for most camera apps.","title":"Android camera - Is it possible to restrict image size?","body":"<p>Set an EXTRA_SIZE_LIMIT.  This is the maximum size in bytes.  Now its possible the camera app will ignore this flag (it's a request, not an enforced value), but it <em>should</em> work for most camera apps.</p>\n"}],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77574429,"answer_count":1,"score":0,"last_activity_date":1701291126,"creation_date":1701290576,"question_id":77574380,"body_markdown":"I am working on this app On android phone,    \r\nOn newer phones the images that are captured are sometimes 10MB -&gt; 8000 x 6000  pixels.     \r\nAnd this is an overkill for our application and usage. we need a smaller image size      \r\n\r\nThis is the code that captures the images,    \r\nIs it possible to restrict the camera to a specific dimensions ?   \r\nlets say maximum image size 4032 x 3024    \r\nOr   \r\nIs it possible to restrict the camera to a maximum image size 3MB  \r\nThank you!\r\n\r\n    private void dispatchTakePictureIntent() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        // Ensure that there&#39;s a camera activity to handle the intent\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n            // Create the File where the photo should go\r\n            File photoFile = null;\r\n            try {\r\n                photoFile = createImageFile();\r\n            } catch (IOException ex) {\r\n                // Error occurred while creating the File\r\n                ...\r\n            }\r\n            // Continue only if the File was successfully created\r\n            if (photoFile != null) {\r\n                Uri photoURI = FileProvider.getUriForFile(this,\r\n                                                      &quot;com.example.android.fileprovider&quot;,\r\n                                                      photoFile);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Android camera - Is it possible to restrict image size?","body":"<p>I am working on this app On android phone,<br />\nOn newer phones the images that are captured are sometimes 10MB -&gt; 8000 x 6000  pixels.<br />\nAnd this is an overkill for our application and usage. we need a smaller image size</p>\n<p>This is the code that captures the images,<br />\nIs it possible to restrict the camera to a specific dimensions ?<br />\nlets say maximum image size 4032 x 3024<br />\nOr<br />\nIs it possible to restrict the camera to a maximum image size 3MB<br />\nThank you!</p>\n<pre><code>private void dispatchTakePictureIntent() {\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    // Ensure that there's a camera activity to handle the intent\n    if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n        // Create the File where the photo should go\n        File photoFile = null;\n        try {\n            photoFile = createImageFile();\n        } catch (IOException ex) {\n            // Error occurred while creating the File\n            ...\n        }\n        // Continue only if the File was successfully created\n        if (photoFile != null) {\n            Uri photoURI = FileProvider.getUriForFile(this,\n                                                  &quot;com.example.android.fileprovider&quot;,\n                                                  photoFile);\n            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","templates","integer","comparator"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701238358,"post_id":77568900,"comment_id":136749407,"body_markdown":"What&#39;s the logic for the order of `listC`? It&#39;s not clear from your description, nor from your code.","body":"What&#39;s the logic for the order of <code>listC</code>? It&#39;s not clear from your description, nor from your code."}],"answers":[{"tags":[],"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":"Фёдор Надуткин"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701240759,"creation_date":1701240759,"answer_id":77569115,"question_id":77568900,"body_markdown":"I think, this code may help you\r\n\r\n```Java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; listA = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0);\r\n        List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\r\n\r\n        // ensure, that sizes are equal\r\n        assert (listA.size() == listB.size());\r\n\r\n        // sort for better mapping\r\n        List&lt;Integer&gt; listAValues = listA.stream().sorted().toList();\r\n        List&lt;Integer&gt; listBValues = listB.stream().sorted().toList();\r\n\r\n        // map to ensure, that template completes\r\n        Map&lt;Integer, Integer&gt; template = new HashMap&lt;&gt;();\r\n        Set&lt;Integer&gt; processedB = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; listAValues.size(); i++) {\r\n            Integer key = listAValues.get(i);\r\n            Integer value = listBValues.get(i);\r\n            if (template.containsKey(key)) {\r\n                assert(template.get(key).equals(value));\r\n            } else {\r\n                assert(!processedB.contains(value));\r\n                template.put(key, value);\r\n                processedB.add(value);\r\n            }\r\n        }\r\n\r\n        // rearrange\r\n        List&lt;Integer&gt; rearrangedListB = listA\r\n                .stream()\r\n                .map(template::get)\r\n                .toList();\r\n        System.err.println(&quot;Rearranged listB: &quot; + rearrangedListB);\r\n    }\r\n}\r\n```\r\n\r\nI map values from A to B + ensure, that there is a correct number of every value. After I&#39;ve done this I rearrange List B.\r\n\r\nThis is, what code printed for me\r\n\r\n```\r\nRearranged listB: [101, 102, 103, 104, 105, 106, 107, 106, 105, 104, 103, 102, 101, 0]\r\n```","title":"One list acts as a template to sort another list","body":"<p>I think, this code may help you</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; listA = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0);\n        List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\n\n        // ensure, that sizes are equal\n        assert (listA.size() == listB.size());\n\n        // sort for better mapping\n        List&lt;Integer&gt; listAValues = listA.stream().sorted().toList();\n        List&lt;Integer&gt; listBValues = listB.stream().sorted().toList();\n\n        // map to ensure, that template completes\n        Map&lt;Integer, Integer&gt; template = new HashMap&lt;&gt;();\n        Set&lt;Integer&gt; processedB = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; listAValues.size(); i++) {\n            Integer key = listAValues.get(i);\n            Integer value = listBValues.get(i);\n            if (template.containsKey(key)) {\n                assert(template.get(key).equals(value));\n            } else {\n                assert(!processedB.contains(value));\n                template.put(key, value);\n                processedB.add(value);\n            }\n        }\n\n        // rearrange\n        List&lt;Integer&gt; rearrangedListB = listA\n                .stream()\n                .map(template::get)\n                .toList();\n        System.err.println(&quot;Rearranged listB: &quot; + rearrangedListB);\n    }\n}\n</code></pre>\n<p>I map values from A to B + ensure, that there is a correct number of every value. After I've done this I rearrange List B.</p>\n<p>This is, what code printed for me</p>\n<pre><code>Rearranged listB: [101, 102, 103, 104, 105, 106, 107, 106, 105, 104, 103, 102, 101, 0]\n</code></pre>\n"}],"owner":{"account_id":10728698,"reputation":21,"user_id":7895446,"display_name":"KIPARN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77569115,"answer_count":1,"score":0,"last_activity_date":1701290955,"creation_date":1701238030,"question_id":77568900,"body_markdown":"Lets say there are two lists:\r\n\r\n`List&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);`\r\nThis list is a template for sorting another `listB`.\r\n\r\n`List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);`\r\nThis list on the other hand is unsorted.\r\n\r\nThe final list lets say `listC` should be having the order (101,102,103,104,106,107,106,105,104,103,102,101,0)? I am using comparators but it fails for different usecases?\r\n\r\n```java\r\npublic class JavaComparators {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);\r\n\t\tList&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\r\n\t\t\r\n\t\tSystem.err.println(listA);\r\n\t\tSystem.err.println(listB);\r\n\r\n        // Create a set of elements present in listB for faster lookup\r\n        Set&lt;Integer&gt; setB = new HashSet&lt;&gt;(listB);\r\n\r\n        // Sort listA based on the index in listB or use a default index if not present\r\n        listB.sort(Comparator.comparingInt(a -&gt; {\r\n            int index = listA.indexOf(a);\r\n            \r\n            if (index == -1) {\r\n                // If the element is not in listB, check for nearby values\r\n                int indexPlusOne = listA.indexOf(a + 100);\r\n                int indexMinusOne = listA.indexOf(a - 100);\r\n\r\n                if (indexPlusOne != -1) {\r\n                    return indexPlusOne;\r\n                } else if (indexMinusOne != -1) {\r\n                    return indexMinusOne;\r\n                } else {\r\n                    // Use a default index if not present in listB or nearby\r\n                    return Integer.MAX_VALUE;\r\n                }\r\n            }\r\n\r\n            return index;\r\n        }));\r\n\r\n        System.err.println(&quot;Rearranged listB: &quot; + listB);\r\n\t}\r\n}\r\n```\r\n\r\nThis is what I tried and this is the solution that I get, which is incorrect\r\n\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0]\r\n[0, 106, 107, 101, 105, 102, 102, 103, 104, 106, 105, 103, 101, 104]\r\nRearranged listB: [101, 101, 102, 102, 103, 103, 104, 104, 105, 105, 106, 106, 107, 0]\r\n```\r\n","title":"One list acts as a template to sort another list","body":"<p>Lets say there are two lists:</p>\n<p><code>List&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);</code>\nThis list is a template for sorting another <code>listB</code>.</p>\n<p><code>List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);</code>\nThis list on the other hand is unsorted.</p>\n<p>The final list lets say <code>listC</code> should be having the order (101,102,103,104,106,107,106,105,104,103,102,101,0)? I am using comparators but it fails for different usecases?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaComparators {\n    public static void main(String[] args) {\n        \n        List&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);\n        List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\n        \n        System.err.println(listA);\n        System.err.println(listB);\n\n        // Create a set of elements present in listB for faster lookup\n        Set&lt;Integer&gt; setB = new HashSet&lt;&gt;(listB);\n\n        // Sort listA based on the index in listB or use a default index if not present\n        listB.sort(Comparator.comparingInt(a -&gt; {\n            int index = listA.indexOf(a);\n            \n            if (index == -1) {\n                // If the element is not in listB, check for nearby values\n                int indexPlusOne = listA.indexOf(a + 100);\n                int indexMinusOne = listA.indexOf(a - 100);\n\n                if (indexPlusOne != -1) {\n                    return indexPlusOne;\n                } else if (indexMinusOne != -1) {\n                    return indexMinusOne;\n                } else {\n                    // Use a default index if not present in listB or nearby\n                    return Integer.MAX_VALUE;\n                }\n            }\n\n            return index;\n        }));\n\n        System.err.println(&quot;Rearranged listB: &quot; + listB);\n    }\n}\n</code></pre>\n<p>This is what I tried and this is the solution that I get, which is incorrect</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0]\n[0, 106, 107, 101, 105, 102, 102, 103, 104, 106, 105, 103, 101, 104]\nRearranged listB: [101, 101, 102, 102, 103, 103, 104, 104, 105, 105, 106, 106, 107, 0]\n</code></pre>\n"},{"tags":["java","android","xml","android-layout","android-elevation"],"answers":[{"tags":[],"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559599441,"creation_date":1559507763,"answer_id":56418778,"question_id":56418634,"body_markdown":"You&#39;ll have to use `CardView` to get the shadow effect. Try the following layout as RecyclerView item, and see if it works.\r\n\r\n    &lt;android.support.v7.widget.CardView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:cardElevation=&quot;10dp&quot;\r\n    app:cardUseCompatPadding=&quot;true&quot;\r\n    app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n      android:id=&quot;@+id/layout&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:layout_margin=&quot;5dp&quot;\r\n      android:background=&quot;@drawable/shape_rectangle_rounded_corner_black&quot;\r\n      android:orientation=&quot;vertical&quot;&gt;\r\n\r\n      &lt;RelativeLayout\r\n        android:id=&quot;@+id/rl_time&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;20dp&quot;\r\n        android:paddingStart=&quot;20dp&quot;&gt;\r\n\r\n        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n          android:layout_width=&quot;13dp&quot;\r\n          android:layout_height=&quot;13dp&quot;\r\n          android:background=&quot;@color/colorPrimary&quot;\r\n          android:visibility=&quot;gone&quot;\r\n          app:civ_border_width=&quot;1dp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n          android:id=&quot;@+id/tv_time&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n          android:textColor=&quot;@color/color_light_grey&quot;\r\n          android:textSize=&quot;14sp&quot;\r\n          tools:text=&quot;12 PM&quot;/&gt;\r\n\r\n        &lt;TextView\r\n          android:id=&quot;@+id/tv_distance&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_marginEnd=&quot;15dp&quot;\r\n          android:layout_alignParentEnd=&quot;true&quot;\r\n          android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n          android:text=&quot;2.1 mi.&quot;\r\n          android:textColor=&quot;@color/color_light_grey&quot;\r\n          android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n      &lt;/RelativeLayout&gt;\r\n\r\n      &lt;TextView\r\n        android:id=&quot;@+id/tv_workout_Name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;10dp&quot;\r\n        android:paddingStart=&quot;20dp&quot;\r\n        android:fontFamily=&quot;@font/font_avenirltstd_heavy&quot;\r\n        android:textColor=&quot;@color/color_black_1&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        tools:text=&quot;HIIT Workout&quot;/&gt;\r\n\r\n\r\n      &lt;TextView\r\n        android:id=&quot;@+id/tv_type_of_booking&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;10dp&quot;\r\n        android:paddingBottom=&quot;20dp&quot;\r\n        android:paddingStart=&quot;20dp&quot;\r\n        android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n        android:text=&quot;One-Time Booking&quot;\r\n        android:textColor=&quot;@color/color_light_grey&quot;\r\n        android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n  &lt;/android.support.v7.widget.CardView&gt;\r\n\r\nReplace the tag `android.support.v7.widget.CardView` with the AndroidX CardView tag in case you&#39;re using AndroidX libraries. By using the `cardCornerRadius` tag, you don&#39;t need to give custom Background to your LinearLayout.\r\n\r\nAlso, don&#39;t forget to check if hardwareAccelerated = true in your Manifest file. It is already true if you&#39;re targeting API 14+. You won&#39;t see shadows if it&#39;s set to false.\r\n","title":"Shadow effect in Recyclerview items","body":"<p>You'll have to use <code>CardView</code> to get the shadow effect. Try the following layout as RecyclerView item, and see if it works.</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\napp:cardElevation=\"10dp\"\napp:cardUseCompatPadding=\"true\"\napp:cardCornerRadius=\"10dp\"&gt;\n\n&lt;LinearLayout\n  android:id=\"@+id/layout\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:layout_margin=\"5dp\"\n  android:background=\"@drawable/shape_rectangle_rounded_corner_black\"\n  android:orientation=\"vertical\"&gt;\n\n  &lt;RelativeLayout\n    android:id=\"@+id/rl_time\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"20dp\"\n    android:paddingStart=\"20dp\"&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n      android:layout_width=\"13dp\"\n      android:layout_height=\"13dp\"\n      android:background=\"@color/colorPrimary\"\n      android:visibility=\"gone\"\n      app:civ_border_width=\"1dp\"/&gt;\n\n    &lt;TextView\n      android:id=\"@+id/tv_time\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:fontFamily=\"@font/font_avenirltstd_book\"\n      android:textColor=\"@color/color_light_grey\"\n      android:textSize=\"14sp\"\n      tools:text=\"12 PM\"/&gt;\n\n    &lt;TextView\n      android:id=\"@+id/tv_distance\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:layout_marginEnd=\"15dp\"\n      android:layout_alignParentEnd=\"true\"\n      android:fontFamily=\"@font/font_avenirltstd_book\"\n      android:text=\"2.1 mi.\"\n      android:textColor=\"@color/color_light_grey\"\n      android:textSize=\"14sp\"/&gt;\n\n  &lt;/RelativeLayout&gt;\n\n  &lt;TextView\n    android:id=\"@+id/tv_workout_Name\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"10dp\"\n    android:paddingStart=\"20dp\"\n    android:fontFamily=\"@font/font_avenirltstd_heavy\"\n    android:textColor=\"@color/color_black_1\"\n    android:textSize=\"24sp\"\n    tools:text=\"HIIT Workout\"/&gt;\n\n\n  &lt;TextView\n    android:id=\"@+id/tv_type_of_booking\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"10dp\"\n    android:paddingBottom=\"20dp\"\n    android:paddingStart=\"20dp\"\n    android:fontFamily=\"@font/font_avenirltstd_book\"\n    android:text=\"One-Time Booking\"\n    android:textColor=\"@color/color_light_grey\"\n    android:textSize=\"14sp\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>Replace the tag <code>android.support.v7.widget.CardView</code> with the AndroidX CardView tag in case you're using AndroidX libraries. By using the <code>cardCornerRadius</code> tag, you don't need to give custom Background to your LinearLayout.</p>\n\n<p>Also, don't forget to check if hardwareAccelerated = true in your Manifest file. It is already true if you're targeting API 14+. You won't see shadows if it's set to false.</p>\n"},{"tags":[],"owner":{"account_id":15738329,"reputation":129,"user_id":11356588,"display_name":"Rufan Khokhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559599352,"creation_date":1559508092,"answer_id":56418807,"question_id":56418634,"body_markdown":"Here&#39;s my suggestion to you based on what I know:\r\n\r\n 1. Set your top-level RelativeLayout to have padding equal to the margins you&#39;ve set on the relative layout that you want to show shadow;\r\n\r\n 2. Set `android:clipToPadding=&quot;false&quot;` on the same RelativeLayout;\r\n\r\n 3. Remove the margin from the RelativeLayout that also has elevation set;\r\n\r\n 4. You may also need to set a non-transparent background color on the child layout that needs elevation.\r\n","title":"Shadow effect in Recyclerview items","body":"<p>Here's my suggestion to you based on what I know:</p>\n\n<ol>\n<li><p>Set your top-level RelativeLayout to have padding equal to the margins you've set on the relative layout that you want to show shadow;</p></li>\n<li><p>Set <code>android:clipToPadding=\"false\"</code> on the same RelativeLayout;</p></li>\n<li><p>Remove the margin from the RelativeLayout that also has elevation set;</p></li>\n<li><p>You may also need to set a non-transparent background color on the child layout that needs elevation.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4458291,"reputation":2046,"user_id":3627898,"display_name":"Tam Huynh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559599318,"creation_date":1559535074,"answer_id":56421039,"question_id":56418634,"body_markdown":"Android `CardView` is what you&#39;re looking for. Put your calendar and each element inside a card. \r\n\r\nChange the card elevation for modifying the shadow size.\r\n","title":"Shadow effect in Recyclerview items","body":"<p>Android <code>CardView</code> is what you're looking for. Put your calendar and each element inside a card. </p>\n\n<p>Change the card elevation for modifying the shadow size.</p>\n"},{"tags":[],"owner":{"account_id":9150719,"reputation":3537,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637528268,"creation_date":1617010831,"answer_id":66851911,"question_id":56418634,"body_markdown":"In case you came to check why elevation is not working on your `cardview` a mistake I have done is I had to change:\r\n\r\n`android:elevation=&quot;8dp&quot;` \r\n\r\nwith \r\n\r\n`app:cardElevation=&quot;8dp&quot;\r\n`","title":"Shadow effect in Recyclerview items","body":"<p>In case you came to check why elevation is not working on your <code>cardview</code> a mistake I have done is I had to change:</p>\n<p><code>android:elevation=&quot;8dp&quot;</code></p>\n<p>with</p>\n<p><code>app:cardElevation=&quot;8dp&quot; </code></p>\n"},{"tags":[],"owner":{"account_id":16802459,"reputation":173,"user_id":12147409,"display_name":"Wainaina Nik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642670942,"creation_date":1642670942,"answer_id":70783713,"question_id":56418634,"body_markdown":"Add the below code to the Recycler view&#39;s item activity\r\n\r\n    android:outlineProvider=&quot;bounds&quot;\r\n    android:elevation=&quot;3dp&quot;\r\n    android:clipToPadding=&quot;false&quot;","title":"Shadow effect in Recyclerview items","body":"<p>Add the below code to the Recycler view's item activity</p>\n<pre><code>android:outlineProvider=&quot;bounds&quot;\nandroid:elevation=&quot;3dp&quot;\nandroid:clipToPadding=&quot;false&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12177739,"reputation":83,"user_id":8890268,"display_name":"mabdelouahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701290109,"creation_date":1701290109,"answer_id":77574352,"question_id":56418634,"body_markdown":"You must use a cardview, for each elements must be inside cardview like that, example:\r\n\r\n         &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:cardCornerRadius=&quot;10dp&quot;\r\n            app:cardElevation=&quot;8dp&quot;\r\n            app:cardPreventCornerOverlap=&quot;false&quot;\r\n            app:cardUseCompatPadding=&quot;true&quot;\r\n            &gt;\r\n    \r\n     &lt;com.marcohc.robotocalendar.RobotoCalendarView\r\n              android:id=&quot;@+id/robotoCalendarView&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:elevation=&quot;10dp&quot;\r\n              android:visibility=&quot;visible&quot;\r\n              app:mcv_calendarMode=&quot;month&quot;\r\n              app:mcv_dateTextAppearance=&quot;@style/CalendarDateTextAppearance&quot;\r\n              app:mcv_headerTextAppearance=&quot;@style/CalendarHeaderTextAppearance&quot;\r\n              app:mcv_leftArrow=&quot;@drawable/mcv_action_previous&quot;\r\n              app:mcv_monthLabels=&quot;@null&quot;\r\n              app:mcv_rightArrow=&quot;@drawable/mcv_action_next&quot;\r\n              app:mcv_selectionColor=&quot;@color/color_red&quot;\r\n              app:mcv_selectionMode=&quot;single&quot;\r\n              app:mcv_showOtherDates=&quot;out_of_range&quot;\r\n              app:mcv_weekDayTextAppearance=&quot;@style/CalendarWeekTextAppearance&quot;/&gt;\r\n\r\n\r\n     &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\nBest Regards","title":"Shadow effect in Recyclerview items","body":"<p>You must use a cardview, for each elements must be inside cardview like that, example:</p>\n<pre><code>     &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardCornerRadius=&quot;10dp&quot;\n        app:cardElevation=&quot;8dp&quot;\n        app:cardPreventCornerOverlap=&quot;false&quot;\n        app:cardUseCompatPadding=&quot;true&quot;\n        &gt;\n\n &lt;com.marcohc.robotocalendar.RobotoCalendarView\n          android:id=&quot;@+id/robotoCalendarView&quot;\n          android:layout_width=&quot;match_parent&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:elevation=&quot;10dp&quot;\n          android:visibility=&quot;visible&quot;\n          app:mcv_calendarMode=&quot;month&quot;\n          app:mcv_dateTextAppearance=&quot;@style/CalendarDateTextAppearance&quot;\n          app:mcv_headerTextAppearance=&quot;@style/CalendarHeaderTextAppearance&quot;\n          app:mcv_leftArrow=&quot;@drawable/mcv_action_previous&quot;\n          app:mcv_monthLabels=&quot;@null&quot;\n          app:mcv_rightArrow=&quot;@drawable/mcv_action_next&quot;\n          app:mcv_selectionColor=&quot;@color/color_red&quot;\n          app:mcv_selectionMode=&quot;single&quot;\n          app:mcv_showOtherDates=&quot;out_of_range&quot;\n          app:mcv_weekDayTextAppearance=&quot;@style/CalendarWeekTextAppearance&quot;/&gt;\n\n\n &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>Best Regards</p>\n"}],"owner":{"account_id":2853727,"reputation":46,"user_id":2450358,"display_name":"Vamshi Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1701290109,"creation_date":1559506470,"question_id":56418634,"body_markdown":"I want to achieve a design with a linear layout and few widgets along with shadow effect such as elevation, but I&#39;m unable to get the shadows right.\r\n\r\nI tried to adding elevation no to the linear layout, but it doesn&#39;t show any effect in the design.\r\n\r\nI tried cardview also, but I&#39;m not getting the desired shadow effect.\r\n\r\nMy Recylerview Item XML:\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        android:outlineProvider=&quot;bounds&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n          android:id=&quot;@+id/layout&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_margin=&quot;5dp&quot;\r\n          android:background=&quot;@drawable/shape_rectangle_rounded_corner_black&quot;\r\n          android:orientation=&quot;vertical&quot;&gt;\r\n\r\n          &lt;RelativeLayout\r\n            android:id=&quot;@+id/rl_time&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingTop=&quot;20dp&quot;\r\n            android:paddingStart=&quot;20dp&quot;&gt;\r\n\r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n              android:layout_width=&quot;13dp&quot;\r\n              android:layout_height=&quot;13dp&quot;\r\n              android:background=&quot;@color/colorPrimary&quot;\r\n              android:visibility=&quot;gone&quot;\r\n              app:civ_border_width=&quot;1dp&quot;/&gt;\r\n\r\n            &lt;TextView\r\n              android:id=&quot;@+id/tv_time&quot;\r\n              android:layout_width=&quot;wrap_content&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n              android:textColor=&quot;@color/color_light_grey&quot;\r\n              android:textSize=&quot;14sp&quot;\r\n              tools:text=&quot;12 PM&quot;/&gt;\r\n\r\n            &lt;TextView\r\n              android:id=&quot;@+id/tv_distance&quot;\r\n              android:layout_width=&quot;wrap_content&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:layout_marginEnd=&quot;15dp&quot;\r\n              android:layout_alignParentEnd=&quot;true&quot;\r\n              android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n              android:text=&quot;2.1 mi.&quot;\r\n              android:textColor=&quot;@color/color_light_grey&quot;\r\n              android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n          &lt;/RelativeLayout&gt;\r\n\r\n          &lt;TextView\r\n            android:id=&quot;@+id/tv_workout_Name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingStart=&quot;20dp&quot;\r\n            android:fontFamily=&quot;@font/font_avenirltstd_heavy&quot;\r\n            android:textColor=&quot;@color/color_black_1&quot;\r\n            android:textSize=&quot;24sp&quot;\r\n            tools:text=&quot;HIIT Workout&quot;/&gt;\r\n\r\n\r\n          &lt;TextView\r\n            android:id=&quot;@+id/tv_type_of_booking&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingBottom=&quot;20dp&quot;\r\n            android:paddingStart=&quot;20dp&quot;\r\n            android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n            android:text=&quot;One-Time Booking&quot;\r\n            android:textColor=&quot;@color/color_light_grey&quot;\r\n            android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n      &lt;/LinearLayout&gt;\r\n\r\nMy RecyclerView item:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      android:background=&quot;@color/white&quot;\r\n      android:clipToPadding=&quot;false&quot;&gt;\r\n\r\n\r\n      &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:clipToPadding=&quot;false&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:background=&quot;#F3f3f3&quot;\r\n          android:clipToPadding=&quot;false&quot;&gt;\r\n\r\n            &lt;com.marcohc.robotocalendar.RobotoCalendarView\r\n              android:id=&quot;@+id/robotoCalendarView&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:elevation=&quot;10dp&quot;\r\n              android:visibility=&quot;visible&quot;\r\n              app:mcv_calendarMode=&quot;month&quot;\r\n              app:mcv_dateTextAppearance=&quot;@style/CalendarDateTextAppearance&quot;\r\n              app:mcv_headerTextAppearance=&quot;@style/CalendarHeaderTextAppearance&quot;\r\n              app:mcv_leftArrow=&quot;@drawable/mcv_action_previous&quot;\r\n              app:mcv_monthLabels=&quot;@null&quot;\r\n              app:mcv_rightArrow=&quot;@drawable/mcv_action_next&quot;\r\n              app:mcv_selectionColor=&quot;@color/color_red&quot;\r\n              app:mcv_selectionMode=&quot;single&quot;\r\n              app:mcv_showOtherDates=&quot;out_of_range&quot;\r\n              app:mcv_weekDayTextAppearance=&quot;@style/CalendarWeekTextAppearance&quot;/&gt;\r\n\r\n          &lt;View\r\n            android:id=&quot;@+id/view_1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;10dp&quot;\r\n            android:layout_below=&quot;@+id/msvw&quot;\r\n            android:background=&quot;@drawable/shadow&quot;/&gt;\r\n\r\n            &lt;android.support.v7.widget.RecyclerView\r\n              android:id=&quot;@+id/rv_sessions_list&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n\r\n      &lt;/ScrollView&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n## Current output:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/5ySZ4.png&quot; width=&quot;350&quot; height=&quot;620&quot;/&gt;\r\n\r\n## Expected output:\r\n&lt;img src=&quot;https://i.stack.imgur.com/j9GZS.png&quot; width=&quot;350&quot; height=&quot;620&quot;/&gt;\r\n","title":"Shadow effect in Recyclerview items","body":"<p>I want to achieve a design with a linear layout and few widgets along with shadow effect such as elevation, but I'm unable to get the shadows right.</p>\n\n<p>I tried to adding elevation no to the linear layout, but it doesn't show any effect in the design.</p>\n\n<p>I tried cardview also, but I'm not getting the desired shadow effect.</p>\n\n<p>My Recylerview Item XML:</p>\n\n<pre><code>&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:elevation=\"10dp\"\n    android:outlineProvider=\"bounds\"&gt;\n\n    &lt;LinearLayout\n      android:id=\"@+id/layout\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      android:layout_margin=\"5dp\"\n      android:background=\"@drawable/shape_rectangle_rounded_corner_black\"\n      android:orientation=\"vertical\"&gt;\n\n      &lt;RelativeLayout\n        android:id=\"@+id/rl_time\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"20dp\"\n        android:paddingStart=\"20dp\"&gt;\n\n        &lt;de.hdodenhof.circleimageview.CircleImageView\n          android:layout_width=\"13dp\"\n          android:layout_height=\"13dp\"\n          android:background=\"@color/colorPrimary\"\n          android:visibility=\"gone\"\n          app:civ_border_width=\"1dp\"/&gt;\n\n        &lt;TextView\n          android:id=\"@+id/tv_time\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:fontFamily=\"@font/font_avenirltstd_book\"\n          android:textColor=\"@color/color_light_grey\"\n          android:textSize=\"14sp\"\n          tools:text=\"12 PM\"/&gt;\n\n        &lt;TextView\n          android:id=\"@+id/tv_distance\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:layout_marginEnd=\"15dp\"\n          android:layout_alignParentEnd=\"true\"\n          android:fontFamily=\"@font/font_avenirltstd_book\"\n          android:text=\"2.1 mi.\"\n          android:textColor=\"@color/color_light_grey\"\n          android:textSize=\"14sp\"/&gt;\n\n      &lt;/RelativeLayout&gt;\n\n      &lt;TextView\n        android:id=\"@+id/tv_workout_Name\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"10dp\"\n        android:paddingStart=\"20dp\"\n        android:fontFamily=\"@font/font_avenirltstd_heavy\"\n        android:textColor=\"@color/color_black_1\"\n        android:textSize=\"24sp\"\n        tools:text=\"HIIT Workout\"/&gt;\n\n\n      &lt;TextView\n        android:id=\"@+id/tv_type_of_booking\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"10dp\"\n        android:paddingBottom=\"20dp\"\n        android:paddingStart=\"20dp\"\n        android:fontFamily=\"@font/font_avenirltstd_book\"\n        android:text=\"One-Time Booking\"\n        android:textColor=\"@color/color_light_grey\"\n        android:textSize=\"14sp\"/&gt;\n\n    &lt;/LinearLayout&gt;\n  &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>My RecyclerView item:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\"\n  android:background=\"@color/white\"\n  android:clipToPadding=\"false\"&gt;\n\n\n  &lt;ScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:clipToPadding=\"false\"&gt;\n\n    &lt;RelativeLayout\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      android:background=\"#F3f3f3\"\n      android:clipToPadding=\"false\"&gt;\n\n        &lt;com.marcohc.robotocalendar.RobotoCalendarView\n          android:id=\"@+id/robotoCalendarView\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"wrap_content\"\n          android:elevation=\"10dp\"\n          android:visibility=\"visible\"\n          app:mcv_calendarMode=\"month\"\n          app:mcv_dateTextAppearance=\"@style/CalendarDateTextAppearance\"\n          app:mcv_headerTextAppearance=\"@style/CalendarHeaderTextAppearance\"\n          app:mcv_leftArrow=\"@drawable/mcv_action_previous\"\n          app:mcv_monthLabels=\"@null\"\n          app:mcv_rightArrow=\"@drawable/mcv_action_next\"\n          app:mcv_selectionColor=\"@color/color_red\"\n          app:mcv_selectionMode=\"single\"\n          app:mcv_showOtherDates=\"out_of_range\"\n          app:mcv_weekDayTextAppearance=\"@style/CalendarWeekTextAppearance\"/&gt;\n\n      &lt;View\n        android:id=\"@+id/view_1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"10dp\"\n        android:layout_below=\"@+id/msvw\"\n        android:background=\"@drawable/shadow\"/&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n          android:id=\"@+id/rv_sessions_list\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"match_parent\"/&gt;\n    &lt;/RelativeLayout&gt;\n\n  &lt;/ScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<h2>Current output:</h2>\n\n<p><img src=\"https://i.stack.imgur.com/5ySZ4.png\" width=\"350\" height=\"620\"/></p>\n\n<h2>Expected output:</h2>\n\n<p><img src=\"https://i.stack.imgur.com/j9GZS.png\" width=\"350\" height=\"620\"/></p>\n"},{"tags":["java","selenium-webdriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701320294,"post_id":77573885,"comment_id":136761911,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701289810,"creation_date":1701289810,"answer_id":77574327,"question_id":77573885,"body_markdown":"````\r\nname: &#39;selenium-java&#39;, version: &#39;3.141.59&#39;\r\n````\r\nYou are using way too old selenium. Upgrade to the latest version of selenium i.e. `v4.15.0`.\r\n\r\nAnd once you upgrade to latest selenium, you no longer need `WebDriverManager` library. The new built-in tool [Selenium Manager](https://www.selenium.dev/documentation/selenium_manager/) will do what `WebDriverManager` used to do before.\r\n\r\nCode can be as simple as:\r\n````\r\npublic static void main(String[] args) {\r\n\tWebDriver driver = new ChromeDriver();\r\n\tdriver.manage().window().maximize();\r\n\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\tdriver.quit();\r\n}\r\n````\r\n\r\nRefer below answers for more details on this topic:\r\n- https://stackoverflow.com/a/76463081/7598774\r\n- https://stackoverflow.com/a/76752843/7598774\r\n- https://stackoverflow.com/a/76912466/7598774\r\n- https://stackoverflow.com/a/77281456/7598774","title":"Getting a mismatch with the chrome version for selenium project","body":"<pre><code>name: 'selenium-java', version: '3.141.59'\n</code></pre>\n<p>You are using way too old selenium. Upgrade to the latest version of selenium i.e. <code>v4.15.0</code>.</p>\n<p>And once you upgrade to latest selenium, you no longer need <code>WebDriverManager</code> library. The new built-in tool <a href=\"https://www.selenium.dev/documentation/selenium_manager/\" rel=\"nofollow noreferrer\">Selenium Manager</a> will do what <code>WebDriverManager</code> used to do before.</p>\n<p>Code can be as simple as:</p>\n<pre><code>public static void main(String[] args) {\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.quit();\n}\n</code></pre>\n<p>Refer below answers for more details on this topic:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76463081/7598774\">https://stackoverflow.com/a/76463081/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/76752843/7598774\">https://stackoverflow.com/a/76752843/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/76912466/7598774\">https://stackoverflow.com/a/76912466/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/77281456/7598774\">https://stackoverflow.com/a/77281456/7598774</a></li>\n</ul>\n"}],"owner":{"account_id":30025365,"reputation":9,"user_id":23009751,"display_name":"Krishna Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701290106,"creation_date":1701284642,"question_id":77573885,"body_markdown":"My code was working earlier but when I used gradle command line to run the project, I got this error:\r\n[enter image description here](https://i.stack.imgur.com/Ha3Xk.png)\r\nI&#39;m using bonigarcia library so the incompatibility issue with the chrome version on my system should not arise.\r\n\r\nTried changing the selenium library and webdrivermanager library but then it renders the whole project unusable.\r\n\r\nGradle File:\r\n```plugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;3.141.59&#39;\r\n    testImplementation &#39;org.testng:testng:7.4.0&#39;\r\n    implementation group: &#39;io.github.bonigarcia&#39;, name: &#39;webdrivermanager&#39;, version: &#39;5.4.1&#39;\r\n    compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.22&#39;\r\n    implementation group: &#39;io.qameta.allure&#39;, name: &#39;allure-testng&#39;, version: &#39;2.17.1&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useTestNG()\r\n}","title":"Getting a mismatch with the chrome version for selenium project","body":"<p>My code was working earlier but when I used gradle command line to run the project, I got this error:\n<a href=\"https://i.stack.imgur.com/Ha3Xk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI'm using bonigarcia library so the incompatibility issue with the chrome version on my system should not arise.</p>\n<p>Tried changing the selenium library and webdrivermanager library but then it renders the whole project unusable.</p>\n<p>Gradle File:</p>\n<pre><code>    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.59'\n    testImplementation 'org.testng:testng:7.4.0'\n    implementation group: 'io.github.bonigarcia', name: 'webdrivermanager', version: '5.4.1'\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.22'\n    implementation group: 'io.qameta.allure', name: 'allure-testng', version: '2.17.1'\n\n}\n\ntest {\n    useTestNG()\n}\n</code></pre>\n"},{"tags":["java","assert"],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701289978,"creation_date":1701289978,"question_id":77574344,"body_markdown":"I am trying: \r\n```\r\n\tpublic void assertIsDisplayed(WebElement element) {\r\n\t\t{\r\n\t\t   String actualText = element.getText();\r\n\t\t   \r\n\t\t   try {\r\n\t            Assert.assertTrue(element.isDisplayed(), actualText + &quot; is not displayed on the page&quot;);\r\n\t            Reporter.log(actualText + &quot; is displayed on the page&quot;,true);\r\n\t        \t} \r\n\t\t   catch (AssertionError e) {\r\n\t            Reporter.log(&quot;Assertion Error: &quot; + e.getMessage());\r\n\t            throw e;\r\n\t        }\r\n\t }\r\n\t }\r\n```\r\n\r\nbut in console output or logs failed message is not displayed.","title":"how to display assert message of assert.isDisplayed in logs or console output in jenkins with java","body":"<p>I am trying:</p>\n<pre><code>    public void assertIsDisplayed(WebElement element) {\n        {\n           String actualText = element.getText();\n           \n           try {\n                Assert.assertTrue(element.isDisplayed(), actualText + &quot; is not displayed on the page&quot;);\n                Reporter.log(actualText + &quot; is displayed on the page&quot;,true);\n                } \n           catch (AssertionError e) {\n                Reporter.log(&quot;Assertion Error: &quot; + e.getMessage());\n                throw e;\n            }\n     }\n     }\n</code></pre>\n<p>but in console output or logs failed message is not displayed.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1568253741,"post_id":57898752,"comment_id":102218486,"body_markdown":"This question is a little abstract. How exactly you&#39;re trying to bind the service? It doesn&#39;t even have to be a modified ROM, but it&#39;s enough to sign off the package with OS release keys.","body":"This question is a little abstract. How exactly you&#39;re trying to bind the service? It doesn&#39;t even have to be a modified ROM, but it&#39;s enough to sign off the package with OS release keys."},{"owner":{"account_id":16680248,"reputation":1,"user_id":12055538,"display_name":"Steve"},"score":0,"creation_date":1568418308,"post_id":57898752,"comment_id":102280058,"body_markdown":"I followed the example [here](https://blog.csdn.net/lewif/article/details/50687290) in the java half. I am using the context.getSystemService function to get the manager class that has the binding to the service. As seen in step 7 of the java half.","body":"I followed the example <a href=\"https://blog.csdn.net/lewif/article/details/50687290\" rel=\"nofollow noreferrer\">here</a> in the java half. I am using the context.getSystemService function to get the manager class that has the binding to the service. As seen in step 7 of the java half."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1568420069,"post_id":57898752,"comment_id":102280257,"body_markdown":"If package `android.os` does not exist, there is something fundamentally wrong(and it is still unclear where you even add that code). Native services are probably useless for this use case, because this all runs inside a JVM. Signing the ROM with the same key as the APK package makes it a system app, with signature protection level. only `@UnsupportedAppUsage` limits the usage.","body":"If package <code>android.os</code> does not exist, there is something fundamentally wrong(and it is still unclear where you even add that code). Native services are probably useless for this use case, because this all runs inside a JVM. Signing the ROM with the same key as the APK package makes it a system app, with signature protection level. only <code>@UnsupportedAppUsage</code> limits the usage."}],"answers":[{"tags":[],"owner":{"account_id":28519403,"reputation":1,"user_id":21828319,"display_name":"Pedro Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701289578,"creation_date":1701289578,"answer_id":77574306,"question_id":57898752,"body_markdown":"I worked on a similar project, the goal was to prevent any application in the device to extract user files from the device without permission to do so.\r\nTherefore, I tried to create a System Service (just like you) that should be called by the Libcore layer whenever an application is trying to read a user file.\r\n\r\nHowever you cannot do that, given the fact that Android has a stacked architecture and lower layers cannot interact with upper ones. It makes sense that a general Java use case class such as FileOutputStream should not know about any Android specific class.\r\n\r\nThe solution I found was to create a new set of classes in the Libcore layer, instead of creating a system service. That way you can interact directly with core components like the IoBridge class and prevent reads / writes to files according to your specific conditions. You can even read the full byte content if you want to.\r\n\r\nBut if you really need it as a System service, I guess the only solution would be to completely change the way applications can access the file system. For example, a system service that would receive read / write requests, and then proceed to interact with the general classes in the Libcore layer. This would of course bring several challenges, because a single service would need to handle all the requests from all applications in the device. This way, the Libcore package should not be available in the application SDK, only by interacting with this service could apps communicate with the File System.","title":"Accessing Android System Service from Libcore Class","body":"<p>I worked on a similar project, the goal was to prevent any application in the device to extract user files from the device without permission to do so.\nTherefore, I tried to create a System Service (just like you) that should be called by the Libcore layer whenever an application is trying to read a user file.</p>\n<p>However you cannot do that, given the fact that Android has a stacked architecture and lower layers cannot interact with upper ones. It makes sense that a general Java use case class such as FileOutputStream should not know about any Android specific class.</p>\n<p>The solution I found was to create a new set of classes in the Libcore layer, instead of creating a system service. That way you can interact directly with core components like the IoBridge class and prevent reads / writes to files according to your specific conditions. You can even read the full byte content if you want to.</p>\n<p>But if you really need it as a System service, I guess the only solution would be to completely change the way applications can access the file system. For example, a system service that would receive read / write requests, and then proceed to interact with the general classes in the Libcore layer. This would of course bring several challenges, because a single service would need to handle all the requests from all applications in the device. This way, the Libcore package should not be available in the application SDK, only by interacting with this service could apps communicate with the File System.</p>\n"}],"owner":{"account_id":16680248,"reputation":1,"user_id":12055538,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701289578,"creation_date":1568252913,"question_id":57898752,"body_markdown":"I am working on a research project to look at malware and how to prevent it on Android. I am modifying the OS to allow my system service to record any app&#39;s attempt to access a file and report that up to a system service which will decide to grant access. I have the system service running on Android 7.1 and but I can&#39;t call the service manager which is in the android.os package in frameworks and the class I want to call from is in the java.io package in libcore-ojluni. I have the modification in java.io.FileOutputStream.java. \r\n\r\nWhen I try to compile Android it gives me the error: &quot;Package android.os does not exist&quot;\r\n \r\n\r\nI am thinking of using sockets to communicate to the service but that seems to slow as I would like a response before allowing access, and I don&#39;t want the process to hang. \r\n\r\nIs there a way to include the package that I need? Is that even a good idea?\r\n\r\nI haven&#39;t tried native services. I wanted to ask here before I try that. Is communicating up the Android OS Stack not doable?","title":"Accessing Android System Service from Libcore Class","body":"<p>I am working on a research project to look at malware and how to prevent it on Android. I am modifying the OS to allow my system service to record any app's attempt to access a file and report that up to a system service which will decide to grant access. I have the system service running on Android 7.1 and but I can't call the service manager which is in the android.os package in frameworks and the class I want to call from is in the java.io package in libcore-ojluni. I have the modification in java.io.FileOutputStream.java. </p>\n\n<p>When I try to compile Android it gives me the error: \"Package android.os does not exist\"</p>\n\n<p>I am thinking of using sockets to communicate to the service but that seems to slow as I would like a response before allowing access, and I don't want the process to hang. </p>\n\n<p>Is there a way to include the package that I need? Is that even a good idea?</p>\n\n<p>I haven't tried native services. I wanted to ask here before I try that. Is communicating up the Android OS Stack not doable?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","undetected-chromedriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1701289322,"post_id":77573622,"comment_id":136758711,"body_markdown":"Can you edit the question and share your code.","body":"Can you edit the question and share your code."}],"owner":{"account_id":27554905,"reputation":11,"user_id":21029312,"display_name":"Himanshu Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701289275,"creation_date":1701281901,"question_id":77573622,"body_markdown":"Implicit wait program codes in Java Selenium are correct, but there is some error in the console. This problem is with config of java and selenium.\r\n\r\nError:\r\n````\r\nNov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\r\nINFO: Driver path: C:\\\\Users\\\\IT.cache\\\\selenium\\\\chromedriver\\\\win64\\\\119.0.6045.105\\\\chromedriver.exe\r\nNov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\r\nINFO: Browser path: C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nNov 29, 2023 10:49:12 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 119, so returning the closest version found: 116\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//input\\[@name=&#39;q&#39;\\]&quot;}\r\n(Session info: chrome=119.0.6045.160)\r\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\r\nBuild info: version: &#39;4.12.0&#39;, revision: &#39;249f2a7d1b\\*&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.8.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: \\[3faa765842476d2db4414b0a4db4cf02, findElement {using=xpath, value=//input\\[@name=&#39;q&#39;\\]}\\]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 119.0.6045.160, chrome: {chromedriverVersion: 119.0.6045.105 (38c72552c5e..., userDataDir: C:\\\\Users\\\\IT\\\\AppData\\\\Local\\\\T...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:59036}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:59036/devtoo..., se:cdpVersion: 119.0.6045.160, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 3faa765842476d2db4414b0a4db4cf02\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\r\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\r\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\r\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:353)\r\nat selenium.ImplicitWait.main(ImplicitWait.java:24)\r\n````","title":"NoSuchElementException - Java and selenium","body":"<p>Implicit wait program codes in Java Selenium are correct, but there is some error in the console. This problem is with config of java and selenium.</p>\n<p>Error:</p>\n<pre><code>Nov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\nINFO: Driver path: C:\\\\Users\\\\IT.cache\\\\selenium\\\\chromedriver\\\\win64\\\\119.0.6045.105\\\\chromedriver.exe\nNov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\nINFO: Browser path: C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nNov 29, 2023 10:49:12 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 119, so returning the closest version found: 116\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//input\\[@name='q'\\]&quot;}\n(Session info: chrome=119.0.6045.160)\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\nBuild info: version: '4.12.0', revision: '249f2a7d1b\\*'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.8.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: \\[3faa765842476d2db4414b0a4db4cf02, findElement {using=xpath, value=//input\\[@name='q'\\]}\\]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 119.0.6045.160, chrome: {chromedriverVersion: 119.0.6045.105 (38c72552c5e..., userDataDir: C:\\\\Users\\\\IT\\\\AppData\\\\Local\\\\T...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:59036}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:59036/devtoo..., se:cdpVersion: 119.0.6045.160, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 3faa765842476d2db4414b0a4db4cf02\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:353)\nat selenium.ImplicitWait.main(ImplicitWait.java:24)\n</code></pre>\n"},{"tags":["java","recursion","completable-future","chaining"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1701260905,"post_id":77569249,"comment_id":136753229,"body_markdown":"`iServiceReady` is has a spelling error, which is one source of compilation errors","body":"<code>iServiceReady</code> is has a spelling error, which is one source of compilation errors"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701287199,"post_id":77569249,"comment_id":136758353,"body_markdown":"@michid I updated the question. I am more interested in the approach that can be used to chain two recursions with completable future.  Please take another look at the updated question.","body":"@michid I updated the question. I am more interested in the approach that can be used to chain two recursions with completable future.  Please take another look at the updated question."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701288800,"post_id":77569249,"comment_id":136758620,"body_markdown":"You&#39;re returning a `CompletableFuture&lt;Boolean&gt;`, and this should _not_ block the method from returning. You also don&#39;t need the `Boolean` for this purpose, a `CompletableFuture&lt;Void&gt;` works fine (since completion is akin to being ready). The only lines in `#getServiceReady` that are needed are the `return healthOperations.getServiceReady()` and the entire `.whenComplete` block. Now you said &quot;recursive&quot; - I would hope that your posted `#getServiceReady` is not calling itself eventually, as that will stackoverflow.","body":"You&#39;re returning a <code>CompletableFuture&lt;Boolean&gt;</code>, and this should <i>not</i> block the method from returning. You also don&#39;t need the <code>Boolean</code> for this purpose, a <code>CompletableFuture&lt;Void&gt;</code> works fine (since completion is akin to being ready). The only lines in <code>#getServiceReady</code> that are needed are the <code>return healthOperations.getServiceReady()</code> and the entire <code>.whenComplete</code> block. Now you said &quot;recursive&quot; - I would hope that your posted <code>#getServiceReady</code> is not calling itself eventually, as that will stackoverflow."},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701289634,"post_id":77569249,"comment_id":136758757,"body_markdown":"@Rogue, I amended the code, getServiceReady does call itself if the getReadiness() call returns false. it should stop the recursion once the getReadiness call returns true. Can you please give me a sample code how to achieve the 2 recursions call?","body":"@Rogue, I amended the code, getServiceReady does call itself if the getReadiness() call returns false. it should stop the recursion once the getReadiness call returns true. Can you please give me a sample code how to achieve the 2 recursions call?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701289817,"post_id":77569249,"comment_id":136758790,"body_markdown":"I see then, you have a use-case for `CompletableFuture#thenApplyAsync`. I&#39;ll write up an example, though I&#39;ve just had something dropped in my lap for the next hour. You&#39;ll see that answer in a couple hours.","body":"I see then, you have a use-case for <code>CompletableFuture#thenApplyAsync</code>. I&#39;ll write up an example, though I&#39;ve just had something dropped in my lap for the next hour. You&#39;ll see that answer in a couple hours."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701291584,"post_id":77569249,"comment_id":136759058,"body_markdown":"One further question: Is it strictly necessary that you only retry when an exception occurs? Normally you&#39;d allow an exception to propagate up to whoever initiated the first `CompletableFuture&lt;T&gt;`, that way they can also be the ones to handle the exceptions that _do_ occur. In this same vein, does `healthOperations.getReadiness()` only ever return `true` when it completes normally?","body":"One further question: Is it strictly necessary that you only retry when an exception occurs? Normally you&#39;d allow an exception to propagate up to whoever initiated the first <code>CompletableFuture&lt;T&gt;</code>, that way they can also be the ones to handle the exceptions that <i>do</i> occur. In this same vein, does <code>healthOperations.getReadiness()</code> only ever return <code>true</code> when it completes normally?"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701293524,"post_id":77569249,"comment_id":136759356,"body_markdown":"@Rogue healthOperations.getReadiness() should only return true when it completes normally. It actually returns CompletableFuture&lt;Boolean&gt;, so either true or false. However, the API returns 200 OK is the service is ready to accept traffic and 503 if it isn&#39;t. This is what the getReadiness looks like. See in the next comment","body":"@Rogue healthOperations.getReadiness() should only return true when it completes normally. It actually returns CompletableFuture&lt;Boolean&gt;, so either true or false. However, the API returns 200 OK is the service is ready to accept traffic and 503 if it isn&#39;t. This is what the getReadiness looks like. See in the next comment"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701293565,"post_id":77569249,"comment_id":136759363,"body_markdown":"return CompletableFuture\n            .runAsync(() -&gt; {\n                if (isReady) {\n                    Response.ok().data(Boolean.TRUE.toString()).end(routingContext);\n                } else {\n                 Response.create().status(SERVICE_UNAVAILABLE).end(routingContext);\n                }\n            }, executor);","body":"return CompletableFuture             .runAsync(() -&gt; {                 if (isReady) {                     Response.ok().data(Boolean.TRUE.toString()).end(routingConte&zwnj;&#8203;xt);                 } else {                  Response.create().status(SERVICE_UNAVAILABLE).end(routingCon&zwnj;&#8203;text);                 }             }, executor);"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701293592,"post_id":77569249,"comment_id":136759367,"body_markdown":"It is necessary that we retry when the getReadiness does not return true (200 OK). @Rogue thank you for your help sincerely. I have been struggling with this for 2 days now.","body":"It is necessary that we retry when the getReadiness does not return true (200 OK). @Rogue thank you for your help sincerely. I have been struggling with this for 2 days now."},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701294167,"post_id":77569249,"comment_id":136759447,"body_markdown":"@Rogue just to summarise what I said, the getReadiness() is a very simple method that returns 200 or 503. We need to retry until it returns 200. As far as I can see in the code, the response is deserialised to a boolean and you can see the getReadiness code sample above. Thank you once again.","body":"@Rogue just to summarise what I said, the getReadiness() is a very simple method that returns 200 or 503. We need to retry until it returns 200. As far as I can see in the code, the response is deserialised to a boolean and you can see the getReadiness code sample above. Thank you once again."}],"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701289068,"creation_date":1701242662,"question_id":77569249,"body_markdown":"I have the following code which tries to get a /ready endpoint of a service until it returns OK and then makes a call to that service when it is available:\r\n\r\n```\r\n  @PostConstruct\r\n  void registerMetadata() {\r\n    CompletableFuture.runAsync(this::getServiceReady, executor)\r\n        .thenRunAsync(() -&gt; registerWithRetry(0), executor);\r\n  }\r\n\r\n  private void registerWithRetry(int retryAttempt) {\r\n  serviceRegistrationOperations.registerService(serviceMetadataMedia)\r\n        .thenAccept(data -&gt; {\r\n          this.isMetadataRegistered = true;\r\n        }).whenComplete((data, ex) -&gt; {\r\n          if (ex != null) {\r\n            Throwable cause = ExceptionUtils.cleanseTop(ex);\r\n            String message = cause.getMessage();\r\n            }\r\n            int delayInSeconds = getDelaySecondsBeforeNextRetry(retryAttempt);\r\n            log.error(&quot;Failed to register metadata: {}, will retry again in {} seconds&quot;, message, delayInSeconds, cause);\r\n            CompletableFuture.runAsync(() -&gt; registerWithRetry(retryAttempt + 1), new DelayedExecutor(delayInSeconds, TimeUnit.SECONDS, executor));\r\n          }\r\n        });\r\n  }\r\n\r\n  private CompletableFuture&lt;Boolean&gt; getServiceReady() {\r\n    log.info(&quot;Getting the readiness of the service&quot;);\r\n    if (this.exitFlag) {\r\n      return CompletableFuture.completedFuture(null);\r\n    }\r\n    return healthOperations.getReadiness()\r\n        .thenApply(isServiceReady -&gt; {\r\n         this.exitFlag = true;\r\n          return true;\r\n        }).whenComplete((result, ex) -&gt; {\r\n          if (ex != null) {\r\n            log.error(&quot;service is not up&quot;);\r\n            CompletableFuture.runAsync(() -&gt; getServiceReady(), new DelayedExecutor(5, TimeUnit.SECONDS, executor));\r\n          }\r\n        });\r\n  }\r\n```\r\n\r\nHowever, it seems that the code never waits for the first recursion to complete (meaning the `healthOperations.getServiceReady()` to return true). I want to make it so that it first waits for the first recursion to finish and then to go to the registerWithRetry method. Can you help me figure out how to write the first recursion so that the program waits for it and then moves on with the second one?\r\n\r\nI tried different ways to achieve this. For my use case `block(healthOperations.getServiceReady())` doesn&#39;t work, so my guess is that it has to be a chain of events. ","title":"How to write 2 consequent recursions with Completable future?","body":"<p>I have the following code which tries to get a /ready endpoint of a service until it returns OK and then makes a call to that service when it is available:</p>\n<pre><code>  @PostConstruct\n  void registerMetadata() {\n    CompletableFuture.runAsync(this::getServiceReady, executor)\n        .thenRunAsync(() -&gt; registerWithRetry(0), executor);\n  }\n\n  private void registerWithRetry(int retryAttempt) {\n  serviceRegistrationOperations.registerService(serviceMetadataMedia)\n        .thenAccept(data -&gt; {\n          this.isMetadataRegistered = true;\n        }).whenComplete((data, ex) -&gt; {\n          if (ex != null) {\n            Throwable cause = ExceptionUtils.cleanseTop(ex);\n            String message = cause.getMessage();\n            }\n            int delayInSeconds = getDelaySecondsBeforeNextRetry(retryAttempt);\n            log.error(&quot;Failed to register metadata: {}, will retry again in {} seconds&quot;, message, delayInSeconds, cause);\n            CompletableFuture.runAsync(() -&gt; registerWithRetry(retryAttempt + 1), new DelayedExecutor(delayInSeconds, TimeUnit.SECONDS, executor));\n          }\n        });\n  }\n\n  private CompletableFuture&lt;Boolean&gt; getServiceReady() {\n    log.info(&quot;Getting the readiness of the service&quot;);\n    if (this.exitFlag) {\n      return CompletableFuture.completedFuture(null);\n    }\n    return healthOperations.getReadiness()\n        .thenApply(isServiceReady -&gt; {\n         this.exitFlag = true;\n          return true;\n        }).whenComplete((result, ex) -&gt; {\n          if (ex != null) {\n            log.error(&quot;service is not up&quot;);\n            CompletableFuture.runAsync(() -&gt; getServiceReady(), new DelayedExecutor(5, TimeUnit.SECONDS, executor));\n          }\n        });\n  }\n</code></pre>\n<p>However, it seems that the code never waits for the first recursion to complete (meaning the <code>healthOperations.getServiceReady()</code> to return true). I want to make it so that it first waits for the first recursion to finish and then to go to the registerWithRetry method. Can you help me figure out how to write the first recursion so that the program waits for it and then moves on with the second one?</p>\n<p>I tried different ways to achieve this. For my use case <code>block(healthOperations.getServiceReady())</code> doesn't work, so my guess is that it has to be a chain of events.</p>\n"},{"tags":["java","3d","game-engine","raycasting","bresenham"],"owner":{"account_id":25074926,"reputation":1,"user_id":18928444,"display_name":"Ricky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701288737,"creation_date":1701288737,"question_id":77574230,"body_markdown":"I&#39;m currently working on a raycaster engine in Java with Lanterna for a college project.\r\nMy engine was working, but now I would like to add different colors to different sides of walls.\r\n\r\nI&#39;m using the Bresenham&#39;s line algorithm:\r\n\r\n```\r\nprivate Pair&lt;List&lt;Position&gt;, Integer&gt; createLine(double angle, Position playerPosition, Map map) {\r\n    // Creates a line using the Bresenham&#39;s line algorithm.\r\n    List&lt;Position&gt; line = new ArrayList&lt;&gt;();\r\n\r\n    // Get the starting coordinates\r\n    int x1 = (int) playerPosition.getX();\r\n    int y1 = (int) playerPosition.getY();\r\n\r\n    // Set the maximum distance for the line\r\n    int distance = 1000;\r\n\r\n    // Calculate the ending coordinates based on the angle and distance\r\n    int x2 = (int) (x1 + distance * Math.cos(Math.toRadians(angle)));\r\n    int y2 = (int) -(y1 + distance * Math.sin(Math.toRadians(angle)));\r\n\r\n    // Calculate the differences between coordinates\r\n    int dx = Math.abs(x2 - x1);\r\n    int dy = Math.abs(y2 - y1);\r\n\r\n    // Determine the direction of movement (sx and sy are either 1 or -1)\r\n    int sx = (x1 &lt; x2) ? 1 : -1;\r\n    int sy = (y1 &lt; y2) ? 1 : -1;\r\n\r\n    // Initialize variables for tracking errors and the current side of the line\r\n    int side = 1; // 1 for top/bottom, 2 for left/right\r\n    int err = dx - dy;\r\n\r\n    // Bresenham&#39;s line algorithm\r\n    while (x1 != x2 || y1 != y2) {\r\n        // Check if the current position is occupied in the map\r\n        if (map.getXY(x1 / map.getCellsize(), y1 / map.getCellsize()) == 1) {\r\n            // Return the line and the side when an obstacle is encountered\r\n            return new ImmutablePair&lt;&gt;(line, side);\r\n        }\r\n\r\n        // Add the current position to the line\r\n        line.add(new Position(x1, y1, 0));\r\n\r\n        // Calculate error and update coordinates based on the algorithm\r\n        int e2 = 2 * err;\r\n        if (e2 &gt; -dy) {\r\n            err -= dy;\r\n            x1 += sx;\r\n            side = 2; // Set side to left/right\r\n        }\r\n        if (e2 &lt; dx) {\r\n            err += dx;\r\n            y1 += sy;\r\n            side = 1; // Set side to top/bottom\r\n        }\r\n    }\r\n    return new ImmutablePair&lt;&gt;(line, side);\r\n}\r\n```\r\n\r\nThe problem is that the side isn&#39;t being calculated correctly, and it&#39;s producing\r\n[this output](https://i.stack.imgur.com/qGjGG.png). As you can see, the left side is correct, but there are red stripes in the middle where everything should be green, and on the right side it should also be green.  \r\nI think that this behavior is caused when the angle between the player and the wall is very small, but I can&#39;t solve it.  \r\nEvery help is welcome!","title":"How to correctly calculate the side of a wall in Bresenham&#39;s algorithm?","body":"<p>I'm currently working on a raycaster engine in Java with Lanterna for a college project.\nMy engine was working, but now I would like to add different colors to different sides of walls.</p>\n<p>I'm using the Bresenham's line algorithm:</p>\n<pre><code>private Pair&lt;List&lt;Position&gt;, Integer&gt; createLine(double angle, Position playerPosition, Map map) {\n    // Creates a line using the Bresenham's line algorithm.\n    List&lt;Position&gt; line = new ArrayList&lt;&gt;();\n\n    // Get the starting coordinates\n    int x1 = (int) playerPosition.getX();\n    int y1 = (int) playerPosition.getY();\n\n    // Set the maximum distance for the line\n    int distance = 1000;\n\n    // Calculate the ending coordinates based on the angle and distance\n    int x2 = (int) (x1 + distance * Math.cos(Math.toRadians(angle)));\n    int y2 = (int) -(y1 + distance * Math.sin(Math.toRadians(angle)));\n\n    // Calculate the differences between coordinates\n    int dx = Math.abs(x2 - x1);\n    int dy = Math.abs(y2 - y1);\n\n    // Determine the direction of movement (sx and sy are either 1 or -1)\n    int sx = (x1 &lt; x2) ? 1 : -1;\n    int sy = (y1 &lt; y2) ? 1 : -1;\n\n    // Initialize variables for tracking errors and the current side of the line\n    int side = 1; // 1 for top/bottom, 2 for left/right\n    int err = dx - dy;\n\n    // Bresenham's line algorithm\n    while (x1 != x2 || y1 != y2) {\n        // Check if the current position is occupied in the map\n        if (map.getXY(x1 / map.getCellsize(), y1 / map.getCellsize()) == 1) {\n            // Return the line and the side when an obstacle is encountered\n            return new ImmutablePair&lt;&gt;(line, side);\n        }\n\n        // Add the current position to the line\n        line.add(new Position(x1, y1, 0));\n\n        // Calculate error and update coordinates based on the algorithm\n        int e2 = 2 * err;\n        if (e2 &gt; -dy) {\n            err -= dy;\n            x1 += sx;\n            side = 2; // Set side to left/right\n        }\n        if (e2 &lt; dx) {\n            err += dx;\n            y1 += sy;\n            side = 1; // Set side to top/bottom\n        }\n    }\n    return new ImmutablePair&lt;&gt;(line, side);\n}\n</code></pre>\n<p>The problem is that the side isn't being calculated correctly, and it's producing\n<a href=\"https://i.stack.imgur.com/qGjGG.png\" rel=\"nofollow noreferrer\">this output</a>. As you can see, the left side is correct, but there are red stripes in the middle where everything should be green, and on the right side it should also be green.<br />\nI think that this behavior is caused when the angle between the player and the wall is very small, but I can't solve it.<br />\nEvery help is welcome!</p>\n"},{"tags":["java","graphviz","dot"],"comments":[{"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"score":0,"creation_date":1701289366,"post_id":77574194,"comment_id":136758716,"body_markdown":"Check this links on adding Graphviz to Java: https://stackoverflow.com/questions/26481910/how-to-call-graphviz-from-java and https://github.com/nidi3/graphviz-java","body":"Check this links on adding Graphviz to Java: <a href=\"https://stackoverflow.com/questions/26481910/how-to-call-graphviz-from-java\" title=\"how to call graphviz from java\">stackoverflow.com/questions/26481910/&hellip;</a> and <a href=\"https://github.com/nidi3/graphviz-java\" rel=\"nofollow noreferrer\">github.com/nidi3/graphviz-java</a>"}],"owner":{"account_id":30025657,"reputation":1,"user_id":23009964,"display_name":"protag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701288384,"creation_date":1701288384,"question_id":77574194,"body_markdown":"I have a project to create a course visualization program. This program should display a map of all the courses one has to take to complete their degree in college (say Engineering). I have been given all the courses in the degree program, prerequisites and, credits for each course.\r\n\r\nMy program should be be able to accept an input from the user. ie: their current major, courses they are currently taking.\r\nThe output should then be a visual map of their progress to completing the degree, this visual should include classes they need to take next. classes they cannot take at the moment, and their total credit so far.\r\n\r\nFor anyone who has an idea of what the process is going to be like, Where should I start? Also I am required to use graphviz for this visualization.\r\n\r\nWe brainstormed using an Excel file and formatting all of the courses and the amount of credits, but we were stuck on how to take the input the person gives when using the program and having that alter the elements of the Excel file. Should we just store all of the courses and credits within the program, or have it in an external file?","title":"Graphviz Course Visualization Map","body":"<p>I have a project to create a course visualization program. This program should display a map of all the courses one has to take to complete their degree in college (say Engineering). I have been given all the courses in the degree program, prerequisites and, credits for each course.</p>\n<p>My program should be be able to accept an input from the user. ie: their current major, courses they are currently taking.\nThe output should then be a visual map of their progress to completing the degree, this visual should include classes they need to take next. classes they cannot take at the moment, and their total credit so far.</p>\n<p>For anyone who has an idea of what the process is going to be like, Where should I start? Also I am required to use graphviz for this visualization.</p>\n<p>We brainstormed using an Excel file and formatting all of the courses and the amount of credits, but we were stuck on how to take the input the person gives when using the program and having that alter the elements of the Excel file. Should we just store all of the courses and credits within the program, or have it in an external file?</p>\n"},{"tags":["java","spring","spring-boot","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":16431604,"reputation":26,"user_id":11870302,"display_name":"Mohamed El-Harrougui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701288081,"creation_date":1701288081,"answer_id":77574168,"question_id":77573987,"body_markdown":"- The **@ControllerAdvice** annotation marks the class as a global exception handler.\r\n- The **@ExceptionHandler(Exception.class)** annotation on the **handleApiErrorException** method specifies that this method will handle exceptions of type **ApiErrorException**.\r\n- You can add more **@ExceptionHandler** methods for handling specific exceptions. And you can also add a general **@ExceptionHandler(Exception.class)** method to handle all types of Exceptions.\r\n- Ensure that your @ControllerAdvice class is within the package or subpackage that is **scanned** by your Spring application. If it&#39;s in a different package, you might need to use the basePackages attribute of @ComponentScan in your main application class @ComponentScan(basePackages = &quot;com.example&quot;), or specify the package in the @ControllerAdvice annotation.\r\n","title":"using @ControllerAdvice exception handler as a standalone library","body":"<ul>\n<li>The <strong>@ControllerAdvice</strong> annotation marks the class as a global exception handler.</li>\n<li>The <strong>@ExceptionHandler(Exception.class)</strong> annotation on the <strong>handleApiErrorException</strong> method specifies that this method will handle exceptions of type <strong>ApiErrorException</strong>.</li>\n<li>You can add more <strong>@ExceptionHandler</strong> methods for handling specific exceptions. And you can also add a general <strong>@ExceptionHandler(Exception.class)</strong> method to handle all types of Exceptions.</li>\n<li>Ensure that your @ControllerAdvice class is within the package or subpackage that is <strong>scanned</strong> by your Spring application. If it's in a different package, you might need to use the basePackages attribute of @ComponentScan in your main application class @ComponentScan(basePackages = &quot;com.example&quot;), or specify the package in the @ControllerAdvice annotation.</li>\n</ul>\n"}],"owner":{"account_id":15366844,"reputation":3,"user_id":14600371,"display_name":"Rail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77574168,"answer_count":1,"score":-1,"last_activity_date":1701288081,"creation_date":1701285696,"question_id":77573987,"body_markdown":"I want to create a standalone Spring library that handles standard api exceptions via @ControllerAdvice. My approach is to make it easy to use in different modules without any additional configuration.\r\n\r\nThere is a code of my exception handler:\r\n\r\n``` lang-java\r\n@ControllerAdvice\r\npublic class ApiErrorControllerAdvice extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(value = {ApiErrorException.class})\r\n    public ResponseEntity&lt;ErrorResponseTo&gt; handleApiErrorException(ApiErrorException apiError) {\r\n        return new ResponseEntity&lt;&gt;(\r\n                new ErrorResponseTo(apiError.getMessage()),\r\n                apiError.getHttpStatus()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nHow should I configure my application to make exception handler automatically picked up by Spring?","title":"using @ControllerAdvice exception handler as a standalone library","body":"<p>I want to create a standalone Spring library that handles standard api exceptions via @ControllerAdvice. My approach is to make it easy to use in different modules without any additional configuration.</p>\n<p>There is a code of my exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ApiErrorControllerAdvice extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(value = {ApiErrorException.class})\n    public ResponseEntity&lt;ErrorResponseTo&gt; handleApiErrorException(ApiErrorException apiError) {\n        return new ResponseEntity&lt;&gt;(\n                new ErrorResponseTo(apiError.getMessage()),\n                apiError.getHttpStatus()\n        );\n    }\n}\n</code></pre>\n<p>How should I configure my application to make exception handler automatically picked up by Spring?</p>\n"},{"tags":["java","antlr","antlr4","visitor-pattern"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701266751,"post_id":77571236,"comment_id":136754341,"body_markdown":"What is the input? Are you sure the parser isn&#39;t using one of the other rules instead of `expression_fragment`? Have you debugged the execution? Are you sure `visitAddMinusOp()` is visited?","body":"What is the input? Are you sure the parser isn&#39;t using one of the other rules instead of <code>expression_fragment</code>? Have you debugged the execution? Are you sure <code>visitAddMinusOp()</code> is visited?"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1701273353,"post_id":77571236,"comment_id":136755895,"body_markdown":"(1) Ambiguous parse with &quot;(1+2)&quot;, using `LPAREN expression RPAREN #Parens`, or `LPAREN expression RPAREN #NestedExpression`. Don&#39;t do this. (2) `visitExpressFrag(0)` can&#39;t compile because you can&#39;t cast an integer into a parser node for `visit()`. You want `visitExpressFrag(ctx.expression_fragment(0))` or `visit(ctx.expression_fragment(0))`. (3) Can&#39;t parse &quot;1+2+3&quot; or `1 + -2`. Please study https://github.com/antlr/grammars-v4/blob/master/calculator/calculator.g4 or https://github.com/antlr/grammars-v4/blob/753536777d827ccc0c9b108531ea67375c2039ac/java/java/JavaParser.g4#L599-L660","body":"(1) Ambiguous parse with &quot;(1+2)&quot;, using <code>LPAREN expression RPAREN #Parens</code>, or <code>LPAREN expression RPAREN #NestedExpression</code>. Don&#39;t do this. (2) <code>visitExpressFrag(0)</code> can&#39;t compile because you can&#39;t cast an integer into a parser node for <code>visit()</code>. You want <code>visitExpressFrag(ctx.expression_fragment(0))</code> or <code>visit(ctx.expression_fragment(0))</code>. (3) Can&#39;t parse &quot;1+2+3&quot; or <code>1 + -2</code>. Please study <a href=\"https://github.com/antlr/grammars-v4/blob/master/calculator/calculator.g4\" rel=\"nofollow noreferrer\">github.com/antlr/grammars-v4/blob/master/calculator/&hellip;</a> or <a href=\"https://github.com/antlr/grammars-v4/blob/753536777d827ccc0c9b108531ea67375c2039ac/java/java/JavaParser.g4#L599-L660\" rel=\"nofollow noreferrer\">github.com/antlr/grammars-v4/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701287856,"creation_date":1701287519,"answer_id":77574126,"question_id":77571236,"body_markdown":"`visitExpressFrag(0)` is incorrect, because it expects a `ParserRuleContext` as a parameter, yet you provide an `int` as a parameter.\r\n\r\n&gt; However, when running my code, the visitExpressFrag method doesn&#39;t seem to be invoked\r\n\r\nIt does with me. Using the visitor like this:\r\n\r\n```java\r\nclass EvalVisitor extends CCALBaseVisitor&lt;Integer&gt; {\r\n\r\n    @Override\r\n    public Integer visitParse(CCALParser.ParseContext ctx) {\r\n        return visit(ctx.expression());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\r\n        Integer left = visit(ctx.expression_fragment(0));\r\n        Integer right = visit(ctx.expression_fragment(1));\r\n        return ctx.binary_arith_op().MINUS() == null ? left + right : left - right;\r\n    }\r\n\r\n    @Override\r\n    public Integer visitParens(CCALParser.ParensContext ctx) {\r\n        return visit(ctx.expression());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\r\n        return visit(ctx.expression_fragment());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitNumberLiteral(CCALParser.NumberLiteralContext ctx) {\r\n        return Integer.valueOf(ctx.NUMBER().getText());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitTrueLiteral(CCALParser.TrueLiteralContext ctx) {\r\n        return 1;\r\n    }\r\n\r\n    @Override\r\n    public Integer visitFalseLiteral(CCALParser.FalseLiteralContext ctx) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public Integer visitNestedExpression(CCALParser.NestedExpressionContext ctx) {\r\n        return visit(ctx.expression());\r\n    }\r\n}\r\n```\r\n\r\nand small driver class:\r\n\r\n```java\r\npublic class CCALDemo {\r\n    public static void main(String[] args) {\r\n        CCALLexer lexer = new CCALLexer(CharStreams.fromString(&quot;8 - 3&quot;));\r\n        CCALParser parser = new CCALParser(new CommonTokenStream(lexer));\r\n        Integer answer = new EvalVisitor().visit(parser.parse());\r\n        System.out.println(answer);\r\n    }\r\n}\r\n```\r\n\r\nwill print `5` as expected.\r\n\r\nYou really don&#39;t need a `expression_fragment` rule (which contains a duplicate nested expression) and I suspect you also want to account for `-(1+2)`, not just `-ID`. An `expression` rule like this would be better:\r\n\r\n```\r\nexpression\r\n : MINUS expression                      #Negated\r\n | expression binary_arith_op expression #AddMinusOp\r\n | LPAREN expression RPAREN              #Parens\r\n | ID LPAREN arg_list RPAREN             #FunctionCallOp\r\n | ID                                    #ID\r\n | NUMBER                                #NumberLiteral\r\n | TRUE                                  #TrueLiteral\r\n | FALSE                                 #FalseLiteral\r\n ;\r\n```","title":"Trouble with ANTLR Visitor Pattern - Not Entering visitExpressFrag Method","body":"<p><code>visitExpressFrag(0)</code> is incorrect, because it expects a <code>ParserRuleContext</code> as a parameter, yet you provide an <code>int</code> as a parameter.</p>\n<blockquote>\n<p>However, when running my code, the visitExpressFrag method doesn't seem to be invoked</p>\n</blockquote>\n<p>It does with me. Using the visitor like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class EvalVisitor extends CCALBaseVisitor&lt;Integer&gt; {\n\n    @Override\n    public Integer visitParse(CCALParser.ParseContext ctx) {\n        return visit(ctx.expression());\n    }\n\n    @Override\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\n        Integer left = visit(ctx.expression_fragment(0));\n        Integer right = visit(ctx.expression_fragment(1));\n        return ctx.binary_arith_op().MINUS() == null ? left + right : left - right;\n    }\n\n    @Override\n    public Integer visitParens(CCALParser.ParensContext ctx) {\n        return visit(ctx.expression());\n    }\n\n    @Override\n    public Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\n        return visit(ctx.expression_fragment());\n    }\n\n    @Override\n    public Integer visitNumberLiteral(CCALParser.NumberLiteralContext ctx) {\n        return Integer.valueOf(ctx.NUMBER().getText());\n    }\n\n    @Override\n    public Integer visitTrueLiteral(CCALParser.TrueLiteralContext ctx) {\n        return 1;\n    }\n\n    @Override\n    public Integer visitFalseLiteral(CCALParser.FalseLiteralContext ctx) {\n        return 0;\n    }\n\n    @Override\n    public Integer visitNestedExpression(CCALParser.NestedExpressionContext ctx) {\n        return visit(ctx.expression());\n    }\n}\n</code></pre>\n<p>and small driver class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CCALDemo {\n    public static void main(String[] args) {\n        CCALLexer lexer = new CCALLexer(CharStreams.fromString(&quot;8 - 3&quot;));\n        CCALParser parser = new CCALParser(new CommonTokenStream(lexer));\n        Integer answer = new EvalVisitor().visit(parser.parse());\n        System.out.println(answer);\n    }\n}\n</code></pre>\n<p>will print <code>5</code> as expected.</p>\n<p>You really don't need a <code>expression_fragment</code> rule (which contains a duplicate nested expression) and I suspect you also want to account for <code>-(1+2)</code>, not just <code>-ID</code>. An <code>expression</code> rule like this would be better:</p>\n<pre><code>expression\n : MINUS expression                      #Negated\n | expression binary_arith_op expression #AddMinusOp\n | LPAREN expression RPAREN              #Parens\n | ID LPAREN arg_list RPAREN             #FunctionCallOp\n | ID                                    #ID\n | NUMBER                                #NumberLiteral\n | TRUE                                  #TrueLiteral\n | FALSE                                 #FalseLiteral\n ;\n</code></pre>\n"}],"owner":{"account_id":27076036,"reputation":5,"user_id":20625963,"display_name":"Cian Sullivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701287856,"creation_date":1701261544,"question_id":77571236,"body_markdown":"I am working on a lexical and syntax analyser that I amimplementing semantic analysis and intermediate representation generation using ANTLR, and I&#39;ve encountered a problem with my visitor implementation. Specifically, I&#39;m unable to successfully enter the visitExpressFrag method in my EvalVisitor class. This method is crucial for handling expressions in my language.\r\n\r\nHere&#39;s a simplified version of my problem:\r\n\r\nIn my EvalVisitor.java, I have the following methods:\r\n\r\n    @Override\r\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\r\n        Integer left = visit(ctx.expression_fragment(0));\r\n        Integer right = visit(ctx.expression_fragment(1));\r\n        if (left == null || right == null) {\r\n            throw new RuntimeException(&quot;Left or right operand is null in AddMinusOp&quot;);\r\n        }\r\n        System.out.println(&quot;visitAddMinusOp - Left: &quot; + left + &quot;, Right: &quot; + right);\r\n        // ...\r\n    }\r\n    \r\n    @Override\r\n    public Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\r\n        if (ctx.expression_fragment() == null) {\r\n            System.out.println(&quot;visitExpressFrag - Expression fragment context is null.&quot;);\r\n        } else {\r\n            System.out.println(&quot;visitExpressFrag - Expression Fragment Text: &quot; + ctx.expression_fragment().getText());\r\n        }\r\n        // ...\r\n    }\r\n\r\n\r\nHowever, when running my code, the visitExpressFrag method doesn&#39;t seem to be invoked as expected. I added print statements for debugging, but they don&#39;t get executed, indicating that the method isn&#39;t being entered.\r\n\r\nI tried directly calling visitExpressFrag like so:\r\n\r\n    @Override\r\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\r\n        Integer left = visitExpressFrag(0);\r\n        // ...\r\n    }\r\n\r\n\r\nBut this results in a compilation error:\r\n\r\n    EvalVisitor.java:297: error: incompatible types: int cannot be converted to ExpressFragContext\r\n        Integer left = visitExpressFrag(0);\r\n                                    ^\r\n\r\n\r\nThis is the relevant part of my CCALParser.java (i am not fully sure if this is relevant):\r\n\r\n    // ExpressFragContext definition\r\n    public static class ExpressFragContext extends ExpressionContext {\r\n        public Expression_fragmentContext expression_fragment() {\r\n            return getRuleContext(Expression_fragmentContext.class,0);\r\n        }\r\n        // ...\r\n    }\r\n\r\nAnd my CCAL.g4 looks like this:\r\n\r\n    expression : expression_fragment binary_arith_op expression_fragment #AddMinusOp\r\n               | LPAREN expression RPAREN                       #Parens\r\n               | ID LPAREN arg_list RPAREN                      #FunctionCallOp\r\n               | expression_fragment                            #ExpressFrag\r\n               ;\r\n    \r\n    binary_arith_op : PLUS | MINUS;\r\n    \r\n    expression_fragment \r\n        : ID                                          #ID\r\n        | MINUS ID                                    #NegatedVariable\r\n        | NUMBER                                      #NumberLiteral\r\n        | TRUE                                        #TrueLiteral\r\n        | FALSE                                       #FalseLiteral\r\n        | LPAREN expression RPAREN                    #NestedExpression\r\n        ;\r\n\r\nI&#39;m not sure how to properly invoke visitExpressFrag or why it&#39;s not being called as expected. Any insights or suggestions on how to resolve this issue would be greatly appreciated.\r\n","title":"Trouble with ANTLR Visitor Pattern - Not Entering visitExpressFrag Method","body":"<p>I am working on a lexical and syntax analyser that I amimplementing semantic analysis and intermediate representation generation using ANTLR, and I've encountered a problem with my visitor implementation. Specifically, I'm unable to successfully enter the visitExpressFrag method in my EvalVisitor class. This method is crucial for handling expressions in my language.</p>\n<p>Here's a simplified version of my problem:</p>\n<p>In my EvalVisitor.java, I have the following methods:</p>\n<pre><code>@Override\npublic Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\n    Integer left = visit(ctx.expression_fragment(0));\n    Integer right = visit(ctx.expression_fragment(1));\n    if (left == null || right == null) {\n        throw new RuntimeException(&quot;Left or right operand is null in AddMinusOp&quot;);\n    }\n    System.out.println(&quot;visitAddMinusOp - Left: &quot; + left + &quot;, Right: &quot; + right);\n    // ...\n}\n\n@Override\npublic Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\n    if (ctx.expression_fragment() == null) {\n        System.out.println(&quot;visitExpressFrag - Expression fragment context is null.&quot;);\n    } else {\n        System.out.println(&quot;visitExpressFrag - Expression Fragment Text: &quot; + ctx.expression_fragment().getText());\n    }\n    // ...\n}\n</code></pre>\n<p>However, when running my code, the visitExpressFrag method doesn't seem to be invoked as expected. I added print statements for debugging, but they don't get executed, indicating that the method isn't being entered.</p>\n<p>I tried directly calling visitExpressFrag like so:</p>\n<pre><code>@Override\npublic Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\n    Integer left = visitExpressFrag(0);\n    // ...\n}\n</code></pre>\n<p>But this results in a compilation error:</p>\n<pre><code>EvalVisitor.java:297: error: incompatible types: int cannot be converted to ExpressFragContext\n    Integer left = visitExpressFrag(0);\n                                ^\n</code></pre>\n<p>This is the relevant part of my CCALParser.java (i am not fully sure if this is relevant):</p>\n<pre><code>// ExpressFragContext definition\npublic static class ExpressFragContext extends ExpressionContext {\n    public Expression_fragmentContext expression_fragment() {\n        return getRuleContext(Expression_fragmentContext.class,0);\n    }\n    // ...\n}\n</code></pre>\n<p>And my CCAL.g4 looks like this:</p>\n<pre><code>expression : expression_fragment binary_arith_op expression_fragment #AddMinusOp\n           | LPAREN expression RPAREN                       #Parens\n           | ID LPAREN arg_list RPAREN                      #FunctionCallOp\n           | expression_fragment                            #ExpressFrag\n           ;\n\nbinary_arith_op : PLUS | MINUS;\n\nexpression_fragment \n    : ID                                          #ID\n    | MINUS ID                                    #NegatedVariable\n    | NUMBER                                      #NumberLiteral\n    | TRUE                                        #TrueLiteral\n    | FALSE                                       #FalseLiteral\n    | LPAREN expression RPAREN                    #NestedExpression\n    ;\n</code></pre>\n<p>I'm not sure how to properly invoke visitExpressFrag or why it's not being called as expected. Any insights or suggestions on how to resolve this issue would be greatly appreciated.</p>\n"},{"tags":["java","soap"],"owner":{"account_id":30024121,"reputation":1,"user_id":23008793,"display_name":"Rasool Fattahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701287827,"creation_date":1701275730,"question_id":77572989,"body_markdown":"I have received this exception when I call a SOAP app:\r\n\r\n&gt;&quot;Cannot write output after reading input&quot; \r\n\r\nMy implementation is:\r\n\r\n    RL obj = new URL(axaVerificationUrl);\r\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection(); \r\n    con.setConnectTimeout(timeoutConnection);\r\n    con.setRequestMethod(&quot;POST&quot;);\r\n    con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/soap+xml&quot;);\r\n    con.setRequestProperty(&quot;SOAPAction&quot;, &quot;EligibiliteService&quot;);\r\n    con.setDoOutput(true);\r\n    con.setDoInput(true);\r\n    OutputStream objOut = con.getOutputStream();\r\n    OutputStreamWriter wr = new OutputStreamWriter(objOut);\r\n    wr.write(replacePlaceHolder(request);\r\n    wr.flush();\r\n    wr.close();\r\n    String responseStatus = con.getResponseMessage();\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    String inputLine;\r\n    StringBuffer response = new StringBuffer();\r\n    while ((inputLine = in.readLine()) != null) {\r\n       response.append(inputLine);\r\n    }\r\n    in.close();\r\n\r\n\r\nI am getting this exception once I performed exactly this below line:\r\n\r\n`OutputStream objOut = con.getOutputStream();`\r\n\r\nBefore I write the request and get the response code. \r\n\r\n\r\nCan someone have any experience with this exception? \r\n\r\n\r\nI am expecting to call a soap API and get successful code. ","title":"Cannot write output after reading input in Java","body":"<p>I have received this exception when I call a SOAP app:</p>\n<blockquote>\n<p>&quot;Cannot write output after reading input&quot;</p>\n</blockquote>\n<p>My implementation is:</p>\n<pre><code>RL obj = new URL(axaVerificationUrl);\nHttpURLConnection con = (HttpURLConnection) obj.openConnection(); \ncon.setConnectTimeout(timeoutConnection);\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/soap+xml&quot;);\ncon.setRequestProperty(&quot;SOAPAction&quot;, &quot;EligibiliteService&quot;);\ncon.setDoOutput(true);\ncon.setDoInput(true);\nOutputStream objOut = con.getOutputStream();\nOutputStreamWriter wr = new OutputStreamWriter(objOut);\nwr.write(replacePlaceHolder(request);\nwr.flush();\nwr.close();\nString responseStatus = con.getResponseMessage();\nBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\nString inputLine;\nStringBuffer response = new StringBuffer();\nwhile ((inputLine = in.readLine()) != null) {\n   response.append(inputLine);\n}\nin.close();\n</code></pre>\n<p>I am getting this exception once I performed exactly this below line:</p>\n<p><code>OutputStream objOut = con.getOutputStream();</code></p>\n<p>Before I write the request and get the response code.</p>\n<p>Can someone have any experience with this exception?</p>\n<p>I am expecting to call a soap API and get successful code.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700777171,"creation_date":1700772824,"answer_id":77539582,"question_id":77539142,"body_markdown":"While I don&#39;t know the exact cause, it seems to be related to how transactions are handled in `@DataJpaTest`. If you run the application regularly, the `findAll()` method works fine.\r\n\r\nSimilarly, if you use `@SpringBootTest` in stead of `@DataJpaTest`, your test also works:\r\n\r\n```java\r\n@SpringBootTest // Replace @DataJpaTest with @SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Sql(\r\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\npublic class AsynchronousCardRepositoryTest {\r\n    // ...\r\n}\r\n```\r\n\r\nThe reason why I suspect that this is transaction related is because if I change the execution phase of the SQL to be `BEFORE_TEST_CLASS`, your test succeeds:\r\n\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n// Replace BEFORE_TEST_METHOD with BEFORE_TEST_CLASS\r\n@Sql(\r\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS,\r\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\npublic class AsynchronousCardRepositoryTest {\r\n    // ...\r\n}\r\n```\r\n\r\nAlternatively, if I annotate your test with `@Transactional(propagation = Propagation.NEVER)`, your test also succeeds:\r\n\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Sql(\r\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\n@Transactional(propagation = Propagation.NEVER) // Add this\r\npublic class AsynchronousCardRepositoryTest {\r\n    // ...\r\n}\r\n```","title":"@Async methods return empty lists. Why?","body":"<p>While I don't know the exact cause, it seems to be related to how transactions are handled in <code>@DataJpaTest</code>. If you run the application regularly, the <code>findAll()</code> method works fine.</p>\n<p>Similarly, if you use <code>@SpringBootTest</code> in stead of <code>@DataJpaTest</code>, your test also works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest // Replace @DataJpaTest with @SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@Sql(\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\npublic class AsynchronousCardRepositoryTest {\n    // ...\n}\n</code></pre>\n<p>The reason why I suspect that this is transaction related is because if I change the execution phase of the SQL to be <code>BEFORE_TEST_CLASS</code>, your test succeeds:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n// Replace BEFORE_TEST_METHOD with BEFORE_TEST_CLASS\n@Sql(\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS,\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\npublic class AsynchronousCardRepositoryTest {\n    // ...\n}\n</code></pre>\n<p>Alternatively, if I annotate your test with <code>@Transactional(propagation = Propagation.NEVER)</code>, your test also succeeds:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Sql(\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\n@Transactional(propagation = Propagation.NEVER) // Add this\npublic class AsynchronousCardRepositoryTest {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701157147,"creation_date":1701157147,"answer_id":77562030,"question_id":77539142,"body_markdown":"When you use @Async on a method, Spring creates a proxy around that method to handle the asynchronous behavior. However, if the method is called from within the same class, the proxy won&#39;t be invoked, and the asynchronous behavior may not take effect. \r\n\r\nThere are couple of thing that can be tried to get rid of the issue -\r\n\r\n1. Move the findAll() call to another class:\r\nCreate a separate service or component class, inject the AsynchronousCardRepository into that class, and call the findAll() method from there. This ensures that the proxy is invoked, and the asynchronous behavior is properly handled.\r\n\r\n       @Service\r\n       public class CardService {\r\n\r\n       private final AsynchronousCardRepository cardRepository;\r\n\r\n       @Autowired\r\n       public CardService(AsynchronousCardRepository cardRepository) {\r\n          this.cardRepository = cardRepository;\r\n       }\r\n\r\n        @Async\r\n        public CompletableFuture&lt;List&lt;Card&gt;&gt; findAll() {\r\n           return cardRepository.findAll();\r\n        }\r\n       }\r\n\r\nIn Test Class\r\n     @Autowired\r\n     private CardService cardService;\r\n\r\n     @Test\r\n     @SneakyThrows\r\n     void findAll() {\r\n        CompletableFuture&lt;List&lt;Card&gt;&gt; futureCards = cardService.findAll();\r\n        List&lt;Card&gt; cards = futureCards.get();\r\n        assertThat(cards).asList().hasSize(3);\r\n      }\r\n\r\n2. Use CompletableFuture instead of Future:\r\nYou can modify the return type of the findAll() method to use CompletableFuture directly. This might work more seamlessly with Spring&#39;s asynchronous processing.\r\n\r\n\r\nLet me know if this resolves your problem.","title":"@Async methods return empty lists. Why?","body":"<p>When you use @Async on a method, Spring creates a proxy around that method to handle the asynchronous behavior. However, if the method is called from within the same class, the proxy won't be invoked, and the asynchronous behavior may not take effect.</p>\n<p>There are couple of thing that can be tried to get rid of the issue -</p>\n<ol>\n<li><p>Move the findAll() call to another class:\nCreate a separate service or component class, inject the AsynchronousCardRepository into that class, and call the findAll() method from there. This ensures that the proxy is invoked, and the asynchronous behavior is properly handled.</p>\n<pre><code>@Service\npublic class CardService {\n\nprivate final AsynchronousCardRepository cardRepository;\n\n@Autowired\npublic CardService(AsynchronousCardRepository cardRepository) {\n   this.cardRepository = cardRepository;\n}\n\n @Async\n public CompletableFuture&lt;List&lt;Card&gt;&gt; findAll() {\n    return cardRepository.findAll();\n }\n}\n</code></pre>\n</li>\n</ol>\n<p>In Test Class\n@Autowired\nprivate CardService cardService;</p>\n<pre><code> @Test\n @SneakyThrows\n void findAll() {\n    CompletableFuture&lt;List&lt;Card&gt;&gt; futureCards = cardService.findAll();\n    List&lt;Card&gt; cards = futureCards.get();\n    assertThat(cards).asList().hasSize(3);\n  }\n</code></pre>\n<ol start=\"2\">\n<li>Use CompletableFuture instead of Future:\nYou can modify the return type of the findAll() method to use CompletableFuture directly. This might work more seamlessly with Spring's asynchronous processing.</li>\n</ol>\n<p>Let me know if this resolves your problem.</p>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701286773,"creation_date":1701243830,"answer_id":77569338,"question_id":77539142,"body_markdown":"The cause of the test failure is due to a combination of:\r\n\r\n1. The `@DataJpaTest` annotation itself is annotated with `@Transactional`, this mean the test will run inside a transaction, also indicated by the Javadoc in `DataJpaTest`:\r\n   &gt; By default, tests annotated with `@DataJpaTest` are transactional and roll back at the end of each test.\r\n1. Your test is using `@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD, ...)`, so the SQL scripts will run within the test&#39;s transaction, therefore any data created by the script is uncommitted data while the test is running.\r\n1. Your async `findAll()` will run in a different thread, outside of the test&#39;s transaction, and due to [transaction isolation](https://h2database.com/html/advanced.html#transaction_isolation) (default is read committed), it will not see uncommitted data created in the test, hence it will return nothing.\r\n\r\nAny one of the following can workaround this (mostly copied from the answer by @g00glen00b) and why they work:\r\n- Use `@SpringBootTest` instead of `@DataJpaTest` - this works because `@SpringBootTest` itself is not annotated with `@Transactional`, so there is no outer transaction wrapping the test, everything is committed as soon as their calls finish, so `findAll()` will see the committed test data.\r\n- Use `@Transactional(propagation = Propagation.NEVER)` or `Propagation.NOT_SUPPORTED` on the test, this essentially suspends the test transaction coming from `@DataJpaTest`, so will cause the test to run without a wrapping transaction, having similar affect as the above.\r\n- Use `@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS, ...)` - this runs and commits the test data before the test starts, therefore not affected by the test&#39;s own transaction.\r\n- Remove `@Async` on `findAll()` - this will cause `findAll()` to run within the same transaction, therefore will see uncommitted data.","title":"@Async methods return empty lists. Why?","body":"<p>The cause of the test failure is due to a combination of:</p>\n<ol>\n<li>The <code>@DataJpaTest</code> annotation itself is annotated with <code>@Transactional</code>, this mean the test will run inside a transaction, also indicated by the Javadoc in <code>DataJpaTest</code>:\n<blockquote>\n<p>By default, tests annotated with <code>@DataJpaTest</code> are transactional and roll back at the end of each test.</p>\n</blockquote>\n</li>\n<li>Your test is using <code>@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD, ...)</code>, so the SQL scripts will run within the test's transaction, therefore any data created by the script is uncommitted data while the test is running.</li>\n<li>Your async <code>findAll()</code> will run in a different thread, outside of the test's transaction, and due to <a href=\"https://h2database.com/html/advanced.html#transaction_isolation\" rel=\"nofollow noreferrer\">transaction isolation</a> (default is read committed), it will not see uncommitted data created in the test, hence it will return nothing.</li>\n</ol>\n<p>Any one of the following can workaround this (mostly copied from the answer by @g00glen00b) and why they work:</p>\n<ul>\n<li>Use <code>@SpringBootTest</code> instead of <code>@DataJpaTest</code> - this works because <code>@SpringBootTest</code> itself is not annotated with <code>@Transactional</code>, so there is no outer transaction wrapping the test, everything is committed as soon as their calls finish, so <code>findAll()</code> will see the committed test data.</li>\n<li>Use <code>@Transactional(propagation = Propagation.NEVER)</code> or <code>Propagation.NOT_SUPPORTED</code> on the test, this essentially suspends the test transaction coming from <code>@DataJpaTest</code>, so will cause the test to run without a wrapping transaction, having similar affect as the above.</li>\n<li>Use <code>@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS, ...)</code> - this runs and commits the test data before the test starts, therefore not affected by the test's own transaction.</li>\n<li>Remove <code>@Async</code> on <code>findAll()</code> - this will cause <code>findAll()</code> to run within the same transaction, therefore will see uncommitted data.</li>\n</ul>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77569338,"answer_count":3,"score":3,"last_activity_date":1701286773,"creation_date":1700765887,"question_id":77539142,"body_markdown":"I&#39;m trying to play around with `@Async`. My first experience with it isn&#39;t very positive. I get an empty list where results are definitely expected\r\n\r\nMRE:\r\n```java\r\npublic interface AsynchronousCardRepository extends Repository&lt;Card, UUID&gt; {\r\n    @Async\r\n    Future&lt;List&lt;Card&gt;&gt; findAll();\r\n}\r\n```\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Sql(\r\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\npublic class AsynchronousCardRepositoryTest {\r\n    @Autowired\r\n    AsynchronousCardRepository cardRepository;\r\n\r\n    @Test\r\n    @SneakyThrows\r\n    void findAll() {\r\n        Future&lt;List&lt;Card&gt;&gt; futureCards = cardRepository.findAll();\r\n        List&lt;Card&gt; cards = futureCards.get();\r\n        assertThat(cards).asList().hasSize(3);\r\n    }\r\n}\r\n```\r\n```sql\r\n-- schema\r\n\r\nCREATE TABLE IF NOT EXISTS PUBLIC.account\r\n(\r\n    id                        UUID           PRIMARY KEY\r\n);\r\nCREATE TABLE IF NOT EXISTS PUBLIC.card\r\n(\r\n    id                UUID             PRIMARY KEY,\r\n    account_id        UUID             NOT NULL REFERENCES account (id),\r\n    status            VARCHAR(30)      NOT NULL\r\n);\r\n```\r\n```sql\r\n-- data\r\n\r\nINSERT INTO PUBLIC.ACCOUNT\r\nVALUES (&#39;00000000-0000-0000-0000-000000000ac1&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c1&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;ACTIVE&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c2&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;ACTIVE&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c3&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;NON_ACTIVE&#39;);\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;card&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Card {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Account account;\r\n    @Enumerated(value = EnumType.STRING)\r\n    private CardStatus status;\r\n}\r\n```\r\n```java\r\npublic enum CardStatus {\r\n    ACTIVE, NON_ACTIVE\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Account {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;Card&gt; cards;\r\n}\r\n```\r\n```java\r\n@SpringBootApplication\r\n@EnableAsync // funny enough, if you remove it, everything works\r\npublic class CreditServiceApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(CreditServiceApplication.class, args);\r\n    }\r\n}\r\n```\r\n```yml\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL;DATABASE_TO_LOWER=TRUE\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    show-sql: true\r\n    database-platform: org.hibernate.dialect.H2Dialect\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n  h2:\r\n    console:\r\n      enabled: false\r\n      settings:\r\n        web-allow-others: true\r\n  config:\r\n    activate:\r\n      on-profile: test\r\n\r\nlogging:\r\n  level:\r\n    org:\r\n      hibernate:\r\n        type: TRACE\r\n      springframework:\r\n          jdbc:\r\n            core: TRACE\r\n            datasource:\r\n              init: DEBUG\r\n          test:\r\n            context:\r\n              jdbc: DEBUG\r\n```\r\nThe method doesn&#39;t return anything:\r\n```\r\njava.lang.AssertionError: \r\nExpected size: 3 but was: 0 in:\r\n[]\r\n\r\n\tat by.afinny.credit.unit.repository.AsynchronousCardRepositoryTest.findAll(AsynchronousCardRepositoryTest.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n```\r\nWhy is it happening?","title":"@Async methods return empty lists. Why?","body":"<p>I'm trying to play around with <code>@Async</code>. My first experience with it isn't very positive. I get an empty list where results are definitely expected</p>\n<p>MRE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AsynchronousCardRepository extends Repository&lt;Card, UUID&gt; {\n    @Async\n    Future&lt;List&lt;Card&gt;&gt; findAll();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Sql(\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\npublic class AsynchronousCardRepositoryTest {\n    @Autowired\n    AsynchronousCardRepository cardRepository;\n\n    @Test\n    @SneakyThrows\n    void findAll() {\n        Future&lt;List&lt;Card&gt;&gt; futureCards = cardRepository.findAll();\n        List&lt;Card&gt; cards = futureCards.get();\n        assertThat(cards).asList().hasSize(3);\n    }\n}\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- schema\n\nCREATE TABLE IF NOT EXISTS PUBLIC.account\n(\n    id                        UUID           PRIMARY KEY\n);\nCREATE TABLE IF NOT EXISTS PUBLIC.card\n(\n    id                UUID             PRIMARY KEY,\n    account_id        UUID             NOT NULL REFERENCES account (id),\n    status            VARCHAR(30)      NOT NULL\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- data\n\nINSERT INTO PUBLIC.ACCOUNT\nVALUES ('00000000-0000-0000-0000-000000000ac1');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c1', '00000000-0000-0000-0000-000000000ac1', 'ACTIVE');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c2', '00000000-0000-0000-0000-000000000ac1', 'ACTIVE');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c3', '00000000-0000-0000-0000-000000000ac1', 'NON_ACTIVE');\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;card&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Card {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @ManyToOne\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Account account;\n    @Enumerated(value = EnumType.STRING)\n    private CardStatus status;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CardStatus {\n    ACTIVE, NON_ACTIVE\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Account {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;Card&gt; cards;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableAsync // funny enough, if you remove it, everything works\npublic class CreditServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CreditServiceApplication.class, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL;DATABASE_TO_LOWER=TRUE\n    driver-class-name: org.h2.Driver\n    username: sa\n    password:\n  jpa:\n    hibernate:\n      ddl-auto: none\n    show-sql: true\n    database-platform: org.hibernate.dialect.H2Dialect\n    properties:\n      hibernate:\n        format_sql: true\n  h2:\n    console:\n      enabled: false\n      settings:\n        web-allow-others: true\n  config:\n    activate:\n      on-profile: test\n\nlogging:\n  level:\n    org:\n      hibernate:\n        type: TRACE\n      springframework:\n          jdbc:\n            core: TRACE\n            datasource:\n              init: DEBUG\n          test:\n            context:\n              jdbc: DEBUG\n</code></pre>\n<p>The method doesn't return anything:</p>\n<pre><code>java.lang.AssertionError: \nExpected size: 3 but was: 0 in:\n[]\n\n    at by.afinny.credit.unit.repository.AsynchronousCardRepositoryTest.findAll(AsynchronousCardRepositoryTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n</code></pre>\n<p>Why is it happening?</p>\n"},{"tags":["java","xml","android-studio","onclick","attributes"],"owner":{"account_id":30025430,"reputation":1,"user_id":23009797,"display_name":"Mustafa Hussein MJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701286679,"creation_date":1701286679,"question_id":77574058,"body_markdown":"How can this problem be solved? Also, there are many attributes for example (textColor, font, background, backgroundColor) that are not in the attribute box in Android Studio (https://i.stack.imgur.com/tDKS8.png)\r\n\r\nShould be (onClick attribute) it in the Attributes box in Android Studio ","title":"(onClick attribute) it is not in the attribute box in Android Studio","body":"<p>How can this problem be solved? Also, there are many attributes for example (textColor, font, background, backgroundColor) that are not in the attribute box in Android Studio (<a href=\"https://i.stack.imgur.com/tDKS8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tDKS8.png</a>)</p>\n<p>Should be (onClick attribute) it in the Attributes box in Android Studio</p>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":13356079,"reputation":21,"user_id":9639560,"display_name":"zia sheikh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566897611,"creation_date":1566897611,"answer_id":57671455,"question_id":57255835,"body_markdown":"I was getting this in Android Studio and all I did to fix it was go to &quot;Build&quot; &gt; &quot;Clean Project&quot; and it just worked. Now Rebuild (Build -&gt; Rebuild) your project.","title":"error: failed to open APK: Invalid offset","body":"<p>I was getting this in Android Studio and all I did to fix it was go to \"Build\" > \"Clean Project\" and it just worked. Now Rebuild (Build -> Rebuild) your project.</p>\n"}],"owner":{"account_id":15088558,"reputation":11,"user_id":10889092,"display_name":"rakesd231"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701286640,"creation_date":1564410222,"question_id":57255835,"body_markdown":"All projects build successfully but\r\nI&#39;m getting this error when I try to run or debug the project. \r\nerror:\r\n\r\n\r\n&gt; Android resource linking failed W/ziparchive( 6524): Zip: didn&#39;t find\r\n&gt; signature at start of lfh, offset=41550366 error: failed to open APK:\r\n&gt; Invalid offset.\r\n\r\n\r\n\r\nI did try to build, clean, rebuild \r\nInvalidate cashes restart\r\nsync project with Gradle files\r\nupdate Gradle, android studio to the latest version\r\n\r\n\r\nmy Build.gradle app :\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        defaultConfig {\r\n            applicationId &quot;com.geesdsada.app&quot;\r\n            minSdkVersion 17\r\n            targetSdkVersion 28\r\n            versionCode 4\r\n            versionName &quot;4.0&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n    \r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            defaultConfig {\r\n                multiDexEnabled true\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileSdkVersion 28\r\n        buildToolsVersion &#39;28.0.3&#39;\r\n    }\r\n    dependencies {\r\n        //fonts\r\n        implementation &#39;uk.co.chrisjenx:calligraphy:2.3.0&#39;\r\n        //CounterFAB\r\n        implementation &#39;com.github.andremion:counterfab:1.0.1&#39;\r\n        //\r\n        implementation &#39;com.github.jd-alexander:android-flat-button:v1.1&#39;\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        implementation &#39;com.stripe:stripe-android:6.1.2&#39;\r\n        implementation &#39;com.google.android.gms:play-services-base:16.1.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-analytics:16.0.8&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:16.1.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;com.squareup.okhttp3:okhttp:3.0.1&#39;\r\n        implementation &#39;com.github.d-max:spots-dialog:0.7@aar&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n        implementation &#39;io.paperdb:paperdb:2.1&#39;\r\n        //add libraries\r\n        implementation &#39;me.zhanghai.android.materialratingbar:library:1.3.2&#39;\r\n        implementation &#39;com.stepstone.apprating:app-rating:2.0.0&#39;\r\n        implementation &#39;com.amulyakhare:com.amulyakhare.textdrawable:1.0.1&#39;\r\n        implementation &#39;io.paperdb:paperdb:2.1&#39;\r\n        implementation &#39;com.github.rey5137:material:1.2.4&#39;\r\n        implementation &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1&#39;\r\n        implementation &#39;com.parse:parse-android:1.16.3&#39;\r\n        //update version to the latest one\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:16.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:16.0.8&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:16.1.0&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-database:1.2.0&#39;\r\n        implementation &#39;com.cepheuen.elegant-number-button:lib:1.0.2&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.5.0&#39;\r\n        implementation &#39;com.rengwuxian.materialedittext:library:2.1.4&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n      \r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nall code is finely written and was working well, but suddenly this error showed up.","title":"error: failed to open APK: Invalid offset","body":"<p>All projects build successfully but\nI'm getting this error when I try to run or debug the project. \nerror:</p>\n\n<blockquote>\n  <p>Android resource linking failed W/ziparchive( 6524): Zip: didn't find\n  signature at start of lfh, offset=41550366 error: failed to open APK:\n  Invalid offset.</p>\n</blockquote>\n\n<p>I did try to build, clean, rebuild \nInvalidate cashes restart\nsync project with Gradle files\nupdate Gradle, android studio to the latest version</p>\n\n<p>my Build.gradle app :</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    defaultConfig {\n        applicationId \"com.geesdsada.app\"\n        minSdkVersion 17\n        targetSdkVersion 28\n        versionCode 4\n        versionName \"4.0\"\n        vectorDrawables.useSupportLibrary = true\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        defaultConfig {\n            multiDexEnabled true\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileSdkVersion 28\n    buildToolsVersion '28.0.3'\n}\ndependencies {\n    //fonts\n    implementation 'uk.co.chrisjenx:calligraphy:2.3.0'\n    //CounterFAB\n    implementation 'com.github.andremion:counterfab:1.0.1'\n    //\n    implementation 'com.github.jd-alexander:android-flat-button:v1.1'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.stripe:stripe-android:6.1.2'\n    implementation 'com.google.android.gms:play-services-base:16.1.0'\n    implementation 'com.google.android.gms:play-services-analytics:16.0.8'\n    implementation 'com.google.firebase:firebase-database:16.1.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.squareup.okhttp3:okhttp:3.0.1'\n    implementation 'com.github.d-max:spots-dialog:0.7@aar'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'io.paperdb:paperdb:2.1'\n    //add libraries\n    implementation 'me.zhanghai.android.materialratingbar:library:1.3.2'\n    implementation 'com.stepstone.apprating:app-rating:2.0.0'\n    implementation 'com.amulyakhare:com.amulyakhare.textdrawable:1.0.1'\n    implementation 'io.paperdb:paperdb:2.1'\n    implementation 'com.github.rey5137:material:1.2.4'\n    implementation 'com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1'\n    implementation 'com.parse:parse-android:1.16.3'\n    //update version to the latest one\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.google.firebase:firebase-auth:16.2.1'\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'com.google.firebase:firebase-database:16.1.0'\n    implementation 'com.firebaseui:firebase-ui-database:1.2.0'\n    implementation 'com.cepheuen.elegant-number-button:lib:1.0.2'\n    implementation 'com.squareup.picasso:picasso:2.5.0'\n    implementation 'com.rengwuxian.materialedittext:library:2.1.4'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n}\n\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>all code is finely written and was working well, but suddenly this error showed up.</p>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":1674328,"reputation":2653,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1692869826,"post_id":76961444,"comment_id":135683670,"body_markdown":"Please provide the code for the apiKeyAuthFilter","body":"Please provide the code for the apiKeyAuthFilter"},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701313163,"post_id":76961444,"comment_id":136761325,"body_markdown":"are they request to the same endpoint? or else just set up 2 different filter chains that handles different endpoints.","body":"are they request to the same endpoint? or else just set up 2 different filter chains that handles different endpoints."}],"answers":[{"tags":[],"owner":{"account_id":25264054,"reputation":16,"user_id":19094528,"display_name":"Chris Olive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692875898,"creation_date":1692875898,"answer_id":76968733,"question_id":76961444,"body_markdown":"One option might be to make `apiKeyAuthFilter` extend `AbstractAuthenticationProcessingFilter` and to provide a suitable `RequestHeaderRequestMatcher`. This should then only apply any authentication you&#39;ve added in `attemptAuthentication` if the header is present.\r\n\r\n```\r\npublic class ApiKeyAuthFilter extends AbstractAuthenticationProcessingFilter {\r\n\r\n  public ApiKeyAuthFilter() {\r\n    super(new RequestHeaderRequestMatcher(&quot;X-API-KEY&quot;));\r\n  }\r\n```","title":"Spring Security Combining oauth2 and api key filter","body":"<p>One option might be to make <code>apiKeyAuthFilter</code> extend <code>AbstractAuthenticationProcessingFilter</code> and to provide a suitable <code>RequestHeaderRequestMatcher</code>. This should then only apply any authentication you've added in <code>attemptAuthentication</code> if the header is present.</p>\n<pre><code>public class ApiKeyAuthFilter extends AbstractAuthenticationProcessingFilter {\n\n  public ApiKeyAuthFilter() {\n    super(new RequestHeaderRequestMatcher(&quot;X-API-KEY&quot;));\n  }\n</code></pre>\n"}],"owner":{"account_id":5636061,"reputation":170,"user_id":4937086,"display_name":"Twin322"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701285551,"creation_date":1692794403,"question_id":76961444,"body_markdown":"currently I&#39;m facing the problem of allowing a user to authorize to a REST Api with either an X-API-KEY header **or** an oauth2 jwt token.\r\n\r\nThe current security config looks like this:\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.addFilterBefore(apiKeyAuthFilter, BasicAuthenticationFilter.class);\r\n\r\n        http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .cors(AbstractHttpConfigurer::disable)\r\n                .httpBasic(AbstractHttpConfigurer::disable)\r\n                .formLogin(AbstractHttpConfigurer::disable)\r\n                .headers(h -&gt; h.httpStrictTransportSecurity(c -&gt; c.requestMatcher(AnyRequestMatcher.INSTANCE)));\r\n\r\n        http.oauth2ResourceServer(server -&gt; server.jwt(jwt -&gt;\r\n                        jwt.jwtAuthenticationConverter(\r\n                                jwtGrantedAuthoritiesConverter()).decoder(jwtDecoder())\r\n                )\r\n        );\r\n\r\n        return http.build();\r\n    }\r\n\r\n```\r\n\r\nThe problem I have is that even though I provide a valid jwt and the oauth2ResourceServer is fine it still triggers the apiKeyFilter and then failes as the header is not set.\r\n\r\nI read a lot of stuff regarding multi authentication but spring security is hard to get. Maybe you have an idea or some ressources to look up.","title":"Spring Security Combining oauth2 and api key filter","body":"<p>currently I'm facing the problem of allowing a user to authorize to a REST Api with either an X-API-KEY header <strong>or</strong> an oauth2 jwt token.</p>\n<p>The current security config looks like this:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.addFilterBefore(apiKeyAuthFilter, BasicAuthenticationFilter.class);\n\n        http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .csrf(AbstractHttpConfigurer::disable)\n                .cors(AbstractHttpConfigurer::disable)\n                .httpBasic(AbstractHttpConfigurer::disable)\n                .formLogin(AbstractHttpConfigurer::disable)\n                .headers(h -&gt; h.httpStrictTransportSecurity(c -&gt; c.requestMatcher(AnyRequestMatcher.INSTANCE)));\n\n        http.oauth2ResourceServer(server -&gt; server.jwt(jwt -&gt;\n                        jwt.jwtAuthenticationConverter(\n                                jwtGrantedAuthoritiesConverter()).decoder(jwtDecoder())\n                )\n        );\n\n        return http.build();\n    }\n\n</code></pre>\n<p>The problem I have is that even though I provide a valid jwt and the oauth2ResourceServer is fine it still triggers the apiKeyFilter and then failes as the header is not set.</p>\n<p>I read a lot of stuff regarding multi authentication but spring security is hard to get. Maybe you have an idea or some ressources to look up.</p>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1701289250,"post_id":77573972,"comment_id":136758696,"body_markdown":"That&#39;s an unusual way to build a native image for a Spring Boot app. Have you considered using the Maven or Gradle build plugins to do it instead?","body":"That&#39;s an unusual way to build a native image for a Spring Boot app. Have you considered using the Maven or Gradle build plugins to do it instead?"},{"owner":{"account_id":19058441,"reputation":586,"user_id":13915049,"display_name":"Thinker-101"},"score":0,"creation_date":1701325832,"post_id":77573972,"comment_id":136762374,"body_markdown":"@AndyWilkinson I looked into the graalvm maven plugin. But that builds as a docker image. I don&#39;t want to use docker to build the native imagine. But this method I tried should also work right. The exe is functional when I place the jar file in the same folder. It&#39;s a problem with how the image is build. I have no clue what options I am missing.","body":"@AndyWilkinson I looked into the graalvm maven plugin. But that builds as a docker image. I don&#39;t want to use docker to build the native imagine. But this method I tried should also work right. The exe is functional when I place the jar file in the same folder. It&#39;s a problem with how the image is build. I have no clue what options I am missing."},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1701329445,"post_id":77573972,"comment_id":136762758,"body_markdown":"With build plugins, Docker is optional, you can build without it too. See [here](https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools). What you are missing is likely reflection/proxy/provider etc config files which can take quite some time to do properly. Plugins just (try to) do this work automatically for you.","body":"With build plugins, Docker is optional, you can build without it too. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools\" rel=\"nofollow noreferrer\">here</a>. What you are missing is likely reflection/proxy/provider etc config files which can take quite some time to do properly. Plugins just (try to) do this work automatically for you."}],"owner":{"account_id":19058441,"reputation":586,"user_id":13915049,"display_name":"Thinker-101"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701285531,"creation_date":1701285531,"question_id":77573972,"body_markdown":"I have created a Sprint Boot Application and exported it as a Jar file using &#39;mvn package&#39;. This Jar is a standalone executable file which do not need any other dependent files to run. The only dependent files the main class need are already packaged within the jar and I am using InputStream to load the dependent files during runtime. So basically the Jar file is looking for the dependent files within itself and this is all working fine.\r\n\r\nI want to convert this executable jar into a native imagine (exe file in my case) and so I ran the command\r\n\r\n&gt; *native-image -cp &quot;myJarFile.jar&quot; com.example.MyApp*\r\n\r\nAnd the exe gets build successfully. But when I run it, it&#39;s giving me the below error in the command prompt\r\n&gt;Error: could not find or load main class org.springframework.boot.loader.jar.JarLauncher caused by: java.lang.ClassNotFoundException\r\n\r\n```Note: But, when I place the orginal jar file in the same directory of the exe file and run the exe, the spring app gets deployed.```\r\n\r\nJust to be sure that something is not getting mishandled, I have put the jar file in a seperate location on my machine and ran it using the command:\r\n\r\n&gt; *java -cp &quot;myJarFile.jar&quot; com.example.MyApp*\r\n\r\nAnd the spring app deploys on port 8080 successfully. \r\n\r\nI have analysed the jar contents and could see the folders **BOOT-INF/** , **META-INF/** and all the other necessary lib folders.\r\n\r\nWhat could be going wrong and how to fix this issue? \r\n\r\nThanks in advance.","title":"&quot;Error: could not find or load main class org.springframework.boot.loader.JarLauncher.&quot; While running a native-image build using GraalVM","body":"<p>I have created a Sprint Boot Application and exported it as a Jar file using 'mvn package'. This Jar is a standalone executable file which do not need any other dependent files to run. The only dependent files the main class need are already packaged within the jar and I am using InputStream to load the dependent files during runtime. So basically the Jar file is looking for the dependent files within itself and this is all working fine.</p>\n<p>I want to convert this executable jar into a native imagine (exe file in my case) and so I ran the command</p>\n<blockquote>\n<p><em>native-image -cp &quot;myJarFile.jar&quot; com.example.MyApp</em></p>\n</blockquote>\n<p>And the exe gets build successfully. But when I run it, it's giving me the below error in the command prompt</p>\n<blockquote>\n<p>Error: could not find or load main class org.springframework.boot.loader.jar.JarLauncher caused by: java.lang.ClassNotFoundException</p>\n</blockquote>\n<p><code>Note: But, when I place the orginal jar file in the same directory of the exe file and run the exe, the spring app gets deployed.</code></p>\n<p>Just to be sure that something is not getting mishandled, I have put the jar file in a seperate location on my machine and ran it using the command:</p>\n<blockquote>\n<p><em>java -cp &quot;myJarFile.jar&quot; com.example.MyApp</em></p>\n</blockquote>\n<p>And the spring app deploys on port 8080 successfully.</p>\n<p>I have analysed the jar contents and could see the folders <strong>BOOT-INF/</strong> , <strong>META-INF/</strong> and all the other necessary lib folders.</p>\n<p>What could be going wrong and how to fix this issue?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","validation","exception"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1701585761,"post_id":77573802,"comment_id":136792771,"body_markdown":"Does this answer your question? [This application has no explicit mapping for /error](https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error\">This application has no explicit mapping for /error</a>"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701283770,"creation_date":1701283770,"question_id":77573802,"body_markdown":"In browser getting below error rather than JSON Error message but it is working in Postman.I need print the JSON Error message in Browser . Anyone can help here how to display the error message in JSON format in Browser\r\n\r\nBrowser :\r\n**Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nWed Nov 29 17:10:21 UTC 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\nResource Not Found**\r\n\r\nPostman :\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-11-29T18:21:30.864+00:00&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;Resource Not Found&quot;,\r\n        &quot;path&quot;: &quot;/getDetails&quot;\r\n    }\r\n    \r\n    Java code :\r\n    \r\n    Exception \r\n    @RestControllerAdvice\r\n    public class ValidationExceptionHandler {\r\n    \r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\r\n            Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\r\n            StringBuilder strBuilder = new StringBuilder();\r\n            for (ConstraintViolation&lt;?&gt; violation : violations ) {\r\n                strBuilder.append(violation.getMessage() + &#39;\\n&#39;);\r\n            }\r\n             ResponseEntity.status(BAD_REQUEST);\r\n            response.sendError(HttpStatus.BAD_REQUEST.value());\r\n        }\r\n        @ExceptionHandler(ValidationException.class)\r\n        public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\r\n           if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\r\n               ResponseEntity.status(NOT_FOUND);\r\n               response.sendError(NOT_FOUND.value(), e.getMessage());\r\n            }else{\r\n               if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\r\n                   ResponseEntity.status(UNAUTHORIZED);\r\n                   response.sendError(UNAUTHORIZED.value(), e.getMessage());\r\n           }\r\n            else{\r\n                ResponseEntity.status(BAD_REQUEST);\r\n                response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\r\n            }\r\n        }\r\n    }}\r\n    \r\n    Controller :\r\n    \r\n    @RequestMapping(value = &quot;/getDetails&quot;, method = RequestMethod.GET)\r\n        @Validated\r\n        public Object getSearchCriteria(@RequestParam(value = &quot;Id&quot;) String Id,\r\n                                                @RequestParam(value = &quot;service&quot;, required = false) String service) throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {\r\n    \r\n            if (system != null &amp;&amp; !system.isEmpty())\r\n                documentMap.put(&quot;system&quot;, s);\r\n            List&lt;? extends Bson&gt; pipelines = getAggregate(queryLimit, projectFields, documentMap);\r\n           \r\n            List listDetails = collectionDB.aggregate(pipelines).into(Aggregate);\r\n            if (listDetails.isEmpty()) {\r\n                throw new ValidationException(RESOURCE_NOT_FOUND);\r\n            }\r\n            return getPrettyDocument(listDetails);\r\n        }\r\n\r\n","title":"Error in Spring boot Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>In browser getting below error rather than JSON Error message but it is working in Postman.I need print the JSON Error message in Browser . Anyone can help here how to display the error message in JSON format in Browser</p>\n<p>Browser :\n<strong>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nWed Nov 29 17:10:21 UTC 2023\nThere was an unexpected error (type=Not Found, status=404).\nResource Not Found</strong></p>\n<p>Postman :</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-11-29T18:21:30.864+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;Resource Not Found&quot;,\n    &quot;path&quot;: &quot;/getDetails&quot;\n}\n\nJava code :\n\nException \n@RestControllerAdvice\npublic class ValidationExceptionHandler {\n\n    @ExceptionHandler(ConstraintViolationException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\n        Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\n        StringBuilder strBuilder = new StringBuilder();\n        for (ConstraintViolation&lt;?&gt; violation : violations ) {\n            strBuilder.append(violation.getMessage() + '\\n');\n        }\n         ResponseEntity.status(BAD_REQUEST);\n        response.sendError(HttpStatus.BAD_REQUEST.value());\n    }\n    @ExceptionHandler(ValidationException.class)\n    public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\n       if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\n           ResponseEntity.status(NOT_FOUND);\n           response.sendError(NOT_FOUND.value(), e.getMessage());\n        }else{\n           if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\n               ResponseEntity.status(UNAUTHORIZED);\n               response.sendError(UNAUTHORIZED.value(), e.getMessage());\n       }\n        else{\n            ResponseEntity.status(BAD_REQUEST);\n            response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\n        }\n    }\n}}\n\nController :\n\n@RequestMapping(value = &quot;/getDetails&quot;, method = RequestMethod.GET)\n    @Validated\n    public Object getSearchCriteria(@RequestParam(value = &quot;Id&quot;) String Id,\n                                            @RequestParam(value = &quot;service&quot;, required = false) String service) throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {\n\n        if (system != null &amp;&amp; !system.isEmpty())\n            documentMap.put(&quot;system&quot;, s);\n        List&lt;? extends Bson&gt; pipelines = getAggregate(queryLimit, projectFields, documentMap);\n       \n        List listDetails = collectionDB.aggregate(pipelines).into(Aggregate);\n        if (listDetails.isEmpty()) {\n            throw new ValidationException(RESOURCE_NOT_FOUND);\n        }\n        return getPrettyDocument(listDetails);\n    }\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25722,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1700244560,"post_id":77500684,"comment_id":136634860,"body_markdown":"if you don&#39;t use those imports anywhere in your project, you could try using the `java.completion.filteredTypes` setting. Not sure if that works. But really what I&#39;m more interested in is why this is happening. Do classes named `Context` and `Action` show up in that file?","body":"if you don&#39;t use those imports anywhere in your project, you could try using the <code>java.completion.filteredTypes</code> setting. Not sure if that works. But really what I&#39;m more interested in is why this is happening. Do classes named <code>Context</code> and <code>Action</code> show up in that file?"},{"owner":{"account_id":15396644,"reputation":25722,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1700244606,"post_id":77500684,"comment_id":136634869,"body_markdown":"Try also doing an [extension bisect](//code.visualstudio.com/blogs/2021/02/16/extension-bisect) to figure out what extension is causing it.","body":"Try also doing an <a href=\"//code.visualstudio.com/blogs/2021/02/16/extension-bisect\" rel=\"nofollow noreferrer\">extension bisect</a> to figure out what extension is causing it."},{"owner":{"account_id":429769,"reputation":2762,"user_id":812839,"display_name":"gpvos"},"score":0,"creation_date":1700394981,"post_id":77500684,"comment_id":136646859,"body_markdown":"Yes, the code contains classes with those names, but these are imported from other places (I don&#39;t think I can share the code); that&#39;s why the added imports cause conflicts.\n\nI&#39;ll see if I can do a bisect. It may take some time as the problem doesn&#39;t seem to occur on every save action and I don&#39;t yet have an exact sequence of actions that consistently triggers it.","body":"Yes, the code contains classes with those names, but these are imported from other places (I don&#39;t think I can share the code); that&#39;s why the added imports cause conflicts.  I&#39;ll see if I can do a bisect. It may take some time as the problem doesn&#39;t seem to occur on every save action and I don&#39;t yet have an exact sequence of actions that consistently triggers it."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1700471016,"post_id":77500684,"comment_id":136654115,"body_markdown":"Check whether there are other settings in settings.json to cause this phenomenon? Or restore the default settings to see if there is no longer an automatic introduction.","body":"Check whether there are other settings in settings.json to cause this phenomenon? Or restore the default settings to see if there is no longer an automatic introduction."},{"owner":{"account_id":429769,"reputation":2762,"user_id":812839,"display_name":"gpvos"},"score":0,"creation_date":1701255814,"post_id":77500684,"comment_id":136752230,"body_markdown":"After setting `java.completion.filteredTypes` to exclude the added types, the problem has not appeared for at least a week, so that seems to have solved my problem.","body":"After setting <code>java.completion.filteredTypes</code> to exclude the added types, the problem has not appeared for at least a week, so that seems to have solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25722,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701283612,"creation_date":1701283612,"answer_id":77573792,"question_id":77500684,"body_markdown":"(posting my comment as an answer since the asker seems satisfied with it)\r\n\r\nIf you don&#39;t use those imports anywhere in your project, you could try using the `java.completion.filteredTypes` setting. Its description reads as follows:\r\n\r\n&gt; Defines the type filters. All types whose fully qualified name matches the selected filter strings will be ignored in content assist or quick fix proposals and when organizing imports. For example &#39;java.awt.*&#39; will hide all types from the awt packages.\r\n\r\nIt takes an array. Its default value is this:\r\n\r\n```json\r\n[\r\n  &quot;java.awt.*&quot;,\r\n  &quot;com.sun.*&quot;,\r\n  &quot;sun.*&quot;,\r\n  &quot;jdk.*&quot;,\r\n  &quot;org.graalvm.*&quot;,\r\n  &quot;io.micrometer.shaded.*&quot;\r\n]\r\n```","title":"VS Code keeps adding incorrect Java import / How to prevent specific imports from being added?","body":"<p>(posting my comment as an answer since the asker seems satisfied with it)</p>\n<p>If you don't use those imports anywhere in your project, you could try using the <code>java.completion.filteredTypes</code> setting. Its description reads as follows:</p>\n<blockquote>\n<p>Defines the type filters. All types whose fully qualified name matches the selected filter strings will be ignored in content assist or quick fix proposals and when organizing imports. For example 'java.awt.*' will hide all types from the awt packages.</p>\n</blockquote>\n<p>It takes an array. Its default value is this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  &quot;java.awt.*&quot;,\n  &quot;com.sun.*&quot;,\n  &quot;sun.*&quot;,\n  &quot;jdk.*&quot;,\n  &quot;org.graalvm.*&quot;,\n  &quot;io.micrometer.shaded.*&quot;\n]\n</code></pre>\n"}],"owner":{"account_id":429769,"reputation":2762,"user_id":812839,"display_name":"gpvos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77573792,"answer_count":1,"score":0,"last_activity_date":1701283661,"creation_date":1700214502,"question_id":77500684,"body_markdown":"VS Code&#39;s Red Hat Java extension keeps adding these two lines near the top of my source code every time I try to compile. These imports cause my compile to fail because they conflict with my code and other imports. How do I suppress this troublesome behaviour?\r\n\r\n```\r\nimport javax.naming.Context;\r\nimport javax.swing.Action;\r\n```\r\n\r\nI already disabled &quot;organize imports on save&quot;. This makes no difference.","title":"VS Code keeps adding incorrect Java import / How to prevent specific imports from being added?","body":"<p>VS Code's Red Hat Java extension keeps adding these two lines near the top of my source code every time I try to compile. These imports cause my compile to fail because they conflict with my code and other imports. How do I suppress this troublesome behaviour?</p>\n<pre><code>import javax.naming.Context;\nimport javax.swing.Action;\n</code></pre>\n<p>I already disabled &quot;organize imports on save&quot;. This makes no difference.</p>\n"},{"tags":["java","spring-boot","open-telemetry","micrometer-tracing","observability"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701018981,"post_id":77552544,"comment_id":136720302,"body_markdown":"Could you add also `RestClient ` that throw this exception ?","body":"Could you add also <code>RestClient </code> that throw this exception ?"},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701033968,"post_id":77552544,"comment_id":136721902,"body_markdown":"@AndreiLisa This exception is logged when the application is started, but not when we are calling the API. If you need more information, I can push these changes to GitHub","body":"@AndreiLisa This exception is logged when the application is started, but not when we are calling the API. If you need more information, I can push these changes to GitHub"},{"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"score":0,"creation_date":1701051757,"post_id":77552544,"comment_id":136723243,"body_markdown":"Do you have Zipkin running and did you configure the Zipkin connection in your properties file? Because it looks like the Zipkin exporter cannot export your traces.","body":"Do you have Zipkin running and did you configure the Zipkin connection in your properties file? Because it looks like the Zipkin exporter cannot export your traces."},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701054676,"post_id":77552544,"comment_id":136723408,"body_markdown":"@RaduSebastianLAZIN Same configuration is working with `3.1.3` with `RestTemplate`. But, when I changed it to `3.2.0` and started using `RestClient`, observed mentioned exception","body":"@RaduSebastianLAZIN Same configuration is working with <code>3.1.3</code> with <code>RestTemplate</code>. But, when I changed it to <code>3.2.0</code> and started using <code>RestClient</code>, observed mentioned exception"},{"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1701199674,"post_id":77552544,"comment_id":136745091,"body_markdown":"Could you please check what happens if you use Brave instead of OTel? `io.micrometer:micrometer-tracing-bridge-brave` and `io.zipkin.reporter2:zipkin-reporter-brave`","body":"Could you please check what happens if you use Brave instead of OTel? <code>io.micrometer:micrometer-tracing-bridge-brave</code> and <code>io.zipkin.reporter2:zipkin-reporter-brave</code>"},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701201024,"post_id":77552544,"comment_id":136745336,"body_markdown":"@JonatanIvanov Thanks for the suggestion. Yes, it looks good when using Brave dependencies. So, is it an issue with OTel dependencies? I have actually raised a GitHub issue in the Spring Boot repository: https://github.com/spring-projects/spring-boot/issues/38579","body":"@JonatanIvanov Thanks for the suggestion. Yes, it looks good when using Brave dependencies. So, is it an issue with OTel dependencies? I have actually raised a GitHub issue in the Spring Boot repository: <a href=\"https://github.com/spring-projects/spring-boot/issues/38579\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/38579</a>"},{"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":1,"creation_date":1701207334,"post_id":77552544,"comment_id":136746302,"body_markdown":"I saw your issue, I wanted to reply here to not duplicate things. You can stay on Brave, it should be transparent for you if the Zipkin format works. I think you can also move to the OTLP or Jaeger formats if you want. Could you please also open an issue for the OTel Java SDK? Please post the link here if you do so that we can follow.","body":"I saw your issue, I wanted to reply here to not duplicate things. You can stay on Brave, it should be transparent for you if the Zipkin format works. I think you can also move to the OTLP or Jaeger formats if you want. Could you please also open an issue for the OTel Java SDK? Please post the link here if you do so that we can follow."},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701225714,"post_id":77552544,"comment_id":136748319,"body_markdown":"Sure, @JonatanIvanov, I have updated the Stack Overflow question based on our findings and created a GitHub issue here: https://github.com/open-telemetry/opentelemetry-java/issues/6025.","body":"Sure, @JonatanIvanov, I have updated the Stack Overflow question based on our findings and created a GitHub issue here: <a href=\"https://github.com/open-telemetry/opentelemetry-java/issues/6025\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java/issues/6025</a>."},{"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1701231987,"post_id":77552544,"comment_id":136748872,"body_markdown":"One more thing you can help us to troubleshot this. Could you please check the OTel versions with Boot 3.1.3 and 3.2.0? Then could you please use Boot 3.2.0 (and Micrometer Tracing 1.2.0) but with the OTel versions that 3.1.3 uses. :)","body":"One more thing you can help us to troubleshot this. Could you please check the OTel versions with Boot 3.1.3 and 3.2.0? Then could you please use Boot 3.2.0 (and Micrometer Tracing 1.2.0) but with the OTel versions that 3.1.3 uses. :)"},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701283628,"post_id":77552544,"comment_id":136757776,"body_markdown":"@JonatanIvanov I attempted different permutations of tracing versions with Spring Boot `3.2.0`.\n\n1. `Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter Zipkin 1.25.0`, \n\n2. `Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0`. \n\nIn both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot `3.2.0` triggers the issue. Please check **Edit-3** for more information and sample code.","body":"@JonatanIvanov I attempted different permutations of tracing versions with Spring Boot <code>3.2.0</code>.  1. <code>Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter Zipkin 1.25.0</code>,   2. <code>Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0</code>.   In both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot <code>3.2.0</code> triggers the issue. Please check <b>Edit-3</b> for more information and sample code."},{"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1701288550,"post_id":77552544,"comment_id":136758573,"body_markdown":"Did the Spring Boot 3.2, Micrometer Tracing 1.2 and Otel Exporter Zipkin 1.25.0 combo work?","body":"Did the Spring Boot 3.2, Micrometer Tracing 1.2 and Otel Exporter Zipkin 1.25.0 combo work?"},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701291865,"post_id":77552544,"comment_id":136759099,"body_markdown":"@JonatanIvanov No, it&#39;s also throwing the exception","body":"@JonatanIvanov No, it&#39;s also throwing the exception"}],"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701283551,"creation_date":1701016414,"question_id":77552544,"body_markdown":"**Problem:**\r\n\r\nWhen upgrading the `observability` stack from Spring Boot version `3.1.3` to `3.2.0` using [OTel Java SDK][1], the following exception is encountered:\r\n\r\n```java\r\n2023-11-26T16:00:43.087Z  WARN [order service,,] 1 --- [order service] [BatchSpanProcessor_WorkerThread-1] [] i.o.exporter.zipkin.ZipkinSpanExporter   : Failed to export spans\r\n\r\norg.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;valid annotation timestamp required&lt;EOL&gt;&quot;\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:932)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)\r\n\tat org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doExecute(ZipkinRestTemplateSender.java:68)\r\n\tat org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doEnqueue(ZipkinRestTemplateSender.java:75)\r\n\tat zipkin2.Call$Base.enqueue(Call.java:406)\r\n\tat io.opentelemetry.exporter.zipkin.ZipkinSpanExporter.export(ZipkinSpanExporter.java:82)\r\n\tat io.micrometer.tracing.otel.bridge.CompositeSpanExporter.lambda$export$3(CompositeSpanExporter.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat io.micrometer.tracing.otel.bridge.CompositeSpanExporter.export(CompositeSpanExporter.java:88)\r\n\tat io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.exportCurrentBatch(BatchSpanProcessor.java:327)\r\n\tat io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.run(BatchSpanProcessor.java:245)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\n**Configuration:**\r\n\r\nSpring Boot Version: 3.2.0\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nTracing Dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n**Observations:**\r\n\r\nEncountering a `HttpClientErrorException$BadRequest` exception when using the `observability` stack in Spring Boot version 3.2.0. The issue does not occur with version 3.1.3.\r\n\r\nAny insights or assistance on resolving this issue would be greatly appreciated.\r\n\r\n**Edit-1:**\r\n\r\n**Reproduction Steps**\r\n\r\n - Clone the repository: [food-delivery-backend][2]\r\n - Checkout the branch/tag: `v3.2.0`\r\n - Check [README.md][3] on how to run\r\n - Now check the `order` API logs in [Grafana][4]\r\n\r\n**Additional Information**\r\n\r\n - Working Sample (Spring Boot 3.2.0):\r\n - [v3.2.0/restaurant][5] - No issues observed.\r\n - Failing Sample (Spring Boot 3.2.0):\r\n - [v3.2.0/order][6] - Exception occurs.\r\n\r\n\r\n**Edit-2:**\r\n\r\n - The error is not present when using Spring Boot version `3.1.3` for both `brave` and `opentelemetry-java` dependencies - [Example][7]\r\n - The issue seems to be related to the interaction between Spring Boot 3.2.0 with `opentelemetry-java`\r\n\r\n**Edit-3:**\r\n\r\n**Spring Boot 3.2.0** uses following tracing versions\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.31.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n**Spring Boot 3.1.3** uses following tracing versions\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.25.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nI attempted different permutations of tracing versions with Spring Boot 3.2.0 to identify the specific dependency responsible for the exception. However, the issue persists with the following combinations:\r\n\r\n 1. **Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter\r\n    Zipkin 1.25.0**\r\n\r\n  Code: [GitHub Link][8]\r\n  ```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.25.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n  ```\r\n 2. **Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0**\r\n\r\n   Code: [GitHub Link][9]\r\n\r\n   ```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.31.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n   ```\r\n\r\nIn both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot 3.2.0 triggers the issue.\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java\r\n  [2]: https://github.com/kcsurapaneni/food-delivery-backend\r\n  [3]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0#readme\r\n  [4]: http://localhost:3000\r\n  [5]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/restaurant\r\n  [6]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/order\r\n  [7]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.1.3\r\n  [8]: https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.2.0-opentelemetry-1.25.0\r\n  [9]: https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.1.4-opentelemetry-1.31.0","title":"Exception in observability stack after upgrading Spring Boot from 3.1.3 to 3.2.0 using opentelemetry-java","body":"<p><strong>Problem:</strong></p>\n<p>When upgrading the <code>observability</code> stack from Spring Boot version <code>3.1.3</code> to <code>3.2.0</code> using <a href=\"https://github.com/open-telemetry/opentelemetry-java\" rel=\"nofollow noreferrer\">OTel Java SDK</a>, the following exception is encountered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-11-26T16:00:43.087Z  WARN [order service,,] 1 --- [order service] [BatchSpanProcessor_WorkerThread-1] [] i.o.exporter.zipkin.ZipkinSpanExporter   : Failed to export spans\n\norg.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;valid annotation timestamp required&lt;EOL&gt;&quot;\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:932)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)\n    at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doExecute(ZipkinRestTemplateSender.java:68)\n    at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doEnqueue(ZipkinRestTemplateSender.java:75)\n    at zipkin2.Call$Base.enqueue(Call.java:406)\n    at io.opentelemetry.exporter.zipkin.ZipkinSpanExporter.export(ZipkinSpanExporter.java:82)\n    at io.micrometer.tracing.otel.bridge.CompositeSpanExporter.lambda$export$3(CompositeSpanExporter.java:88)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at io.micrometer.tracing.otel.bridge.CompositeSpanExporter.export(CompositeSpanExporter.java:88)\n    at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.exportCurrentBatch(BatchSpanProcessor.java:327)\n    at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.run(BatchSpanProcessor.java:245)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p><strong>Configuration:</strong></p>\n<p>Spring Boot Version: 3.2.0</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Tracing Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p><strong>Observations:</strong></p>\n<p>Encountering a <code>HttpClientErrorException$BadRequest</code> exception when using the <code>observability</code> stack in Spring Boot version 3.2.0. The issue does not occur with version 3.1.3.</p>\n<p>Any insights or assistance on resolving this issue would be greatly appreciated.</p>\n<p><strong>Edit-1:</strong></p>\n<p><strong>Reproduction Steps</strong></p>\n<ul>\n<li>Clone the repository: <a href=\"https://github.com/kcsurapaneni/food-delivery-backend\" rel=\"nofollow noreferrer\">food-delivery-backend</a></li>\n<li>Checkout the branch/tag: <code>v3.2.0</code></li>\n<li>Check <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0#readme\" rel=\"nofollow noreferrer\">README.md</a> on how to run</li>\n<li>Now check the <code>order</code> API logs in <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">Grafana</a></li>\n</ul>\n<p><strong>Additional Information</strong></p>\n<ul>\n<li>Working Sample (Spring Boot 3.2.0):</li>\n<li><a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/restaurant\" rel=\"nofollow noreferrer\">v3.2.0/restaurant</a> - No issues observed.</li>\n<li>Failing Sample (Spring Boot 3.2.0):</li>\n<li><a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/order\" rel=\"nofollow noreferrer\">v3.2.0/order</a> - Exception occurs.</li>\n</ul>\n<p><strong>Edit-2:</strong></p>\n<ul>\n<li>The error is not present when using Spring Boot version <code>3.1.3</code> for both <code>brave</code> and <code>opentelemetry-java</code> dependencies - <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.1.3\" rel=\"nofollow noreferrer\">Example</a></li>\n<li>The issue seems to be related to the interaction between Spring Boot 3.2.0 with <code>opentelemetry-java</code></li>\n</ul>\n<p><strong>Edit-3:</strong></p>\n<p><strong>Spring Boot 3.2.0</strong> uses following tracing versions</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n    &lt;version&gt;1.31.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p><strong>Spring Boot 3.1.3</strong> uses following tracing versions</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n    &lt;version&gt;1.25.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>I attempted different permutations of tracing versions with Spring Boot 3.2.0 to identify the specific dependency responsible for the exception. However, the issue persists with the following combinations:</p>\n<ol>\n<li><strong>Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter\nZipkin 1.25.0</strong></li>\n</ol>\n<p>Code: <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.2.0-opentelemetry-1.25.0\" rel=\"nofollow noreferrer\">GitHub Link</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n  &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n  &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n  &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n  &lt;version&gt;1.25.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<ol start=\"2\">\n<li><strong>Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0</strong></li>\n</ol>\n<p>Code: <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.1.4-opentelemetry-1.31.0\" rel=\"nofollow noreferrer\">GitHub Link</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n &lt;version&gt;1.31.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>In both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot 3.2.0 triggers the issue.</p>\n"},{"tags":["java","hibernate","jpa","annotations","annotation-processing"],"comments":[{"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"score":0,"creation_date":1701283610,"post_id":77573746,"comment_id":136757772,"body_markdown":"Does annotation processors also uses for this purpose?","body":"Does annotation processors also uses for this purpose?"}],"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701283226,"creation_date":1701283226,"question_id":77573746,"body_markdown":"I would like to repeat a behavior of annotations like @Entity in Hibernate, @Override, e.t.c, to display warnings in coding time:\r\n\r\nI making the ORM library for working with Clickhouse DB, and i created my own annotation @Table, identifying classes related tables in database\r\n\r\nClickhouse only supports basic types like Integers, Boolean, Dates e.t.c, so i would like to check at coding time, does the user of my library use valid data types, or not, like it implemented in Hibernate\r\n\r\nHow difficult is this task and where should I start?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/7SHVn.png)](https://i.stack.imgur.com/7SHVn.png)\r\n","title":"How does Hibernate check wheather of basic type attribute for @Entity is used or not?","body":"<p>I would like to repeat a behavior of annotations like @Entity in Hibernate, @Override, e.t.c, to display warnings in coding time:</p>\n<p>I making the ORM library for working with Clickhouse DB, and i created my own annotation @Table, identifying classes related tables in database</p>\n<p>Clickhouse only supports basic types like Integers, Boolean, Dates e.t.c, so i would like to check at coding time, does the user of my library use valid data types, or not, like it implemented in Hibernate</p>\n<p>How difficult is this task and where should I start?</p>\n<p><a href=\"https://i.stack.imgur.com/7SHVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7SHVn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jasper-reports","xlsx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701320116,"post_id":77573697,"comment_id":136761892,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":30024782,"reputation":1,"user_id":23009298,"display_name":"Rambo Malefico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701282728,"creation_date":1701282728,"question_id":77573697,"body_markdown":"I need to generate a report in Jasper like the one below:\r\n\r\n[REPORT](https://i.stack.imgur.com/EBfJ6.png)\r\n\r\nthis is my table in xlsx:[TABLE .XLSX](https://i.stack.imgur.com/FeOKe.png)\r\n\r\nI need to group by the [team description] column and list the materials below\r\nthat were used according to the report\r\n\r\n\r\ngrateful\r\n\r\nI&#39;m not able to generate the report in Jasper like the one in the image [REPORT]","title":"Generate a group by report and sum function using jasper report","body":"<p>I need to generate a report in Jasper like the one below:</p>\n<p><a href=\"https://i.stack.imgur.com/EBfJ6.png\" rel=\"nofollow noreferrer\">REPORT</a></p>\n<p>this is my table in xlsx:<a href=\"https://i.stack.imgur.com/FeOKe.png\" rel=\"nofollow noreferrer\">TABLE .XLSX</a></p>\n<p>I need to group by the [team description] column and list the materials below\nthat were used according to the report</p>\n<p>grateful</p>\n<p>I'm not able to generate the report in Jasper like the one in the image [REPORT]</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1654324764,"post_id":72497452,"comment_id":128068509,"body_markdown":"See if you can use some ideas from https://stackoverflow.com/questions/54165602/create-hexagonal-field-with-javafx as a starting point.","body":"See if you can use some ideas from <a href=\"https://stackoverflow.com/questions/54165602/create-hexagonal-field-with-javafx\" title=\"create hexagonal field with javafx\">stackoverflow.com/questions/54165602/&hellip;</a> as a starting point."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1654326916,"post_id":72497452,"comment_id":128068809,"body_markdown":"This [hexagons](https://github.com/linustornkrantz/hexagons) project is kind of interesting.","body":"This <a href=\"https://github.com/linustornkrantz/hexagons\" rel=\"nofollow noreferrer\">hexagons</a> project is kind of interesting."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654342434,"creation_date":1654342434,"answer_id":72499395,"question_id":72497452,"body_markdown":"I would just create a Path for each Hexagon and put them in Group which you can then place in the middle of some Pane. Dealing with images and a GridPane only complicates things. Just doing some graphics directly is much easier.","title":"How to create hexagon of hexagons as buttons in JavaFX","body":"<p>I would just create a Path for each Hexagon and put them in Group which you can then place in the middle of some Pane. Dealing with images and a GridPane only complicates things. Just doing some graphics directly is much easier.</p>\n"},{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1701282626,"creation_date":1654372301,"answer_id":72502727,"question_id":72497452,"body_markdown":"**polygon hexagons**\r\n\r\n[![colors shape][1]][1]\r\n\r\n Since you need to use as buttons, I added mouse click event which changes stage&#39;s title. If you want to place  hexagons side to side you may need to consider [radius][2] for x axis and [apothem][3] for y axis.\r\nThis is a functional single class javafx app you can try \r\n\r\nApp.java\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            double HexagonRadius = 100;\r\n    \r\n            Hexagon hexagon1 = new Hexagon(HexagonRadius, Color.CADETBLUE);\r\n    \r\n            Hexagon hexagon2 = new Hexagon(HexagonRadius, Color.MEDIUMPURPLE);\r\n            hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\r\n    \r\n            Hexagon hexagon3 = new Hexagon(HexagonRadius, Color.MEDIUMSEAGREEN);\r\n            hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\r\n    \r\n            Hexagon hexagon4 = new Hexagon(HexagonRadius, Color.CORNFLOWERBLUE);\r\n            hexagon4.setTranslateY(-hexagon1.getOffsetY());\r\n            hexagon4.setTranslateX(hexagon1.getOffsetX());\r\n    \r\n            Hexagon hexagon5 = new Hexagon(HexagonRadius, Color.YELLOW);\r\n            hexagon5.setTranslateY(-hexagon1.getOffsetY());\r\n            hexagon5.setTranslateX(-hexagon1.getOffsetX());\r\n    \r\n            Hexagon hexagon6 = new Hexagon(HexagonRadius, Color.ORANGE);\r\n            hexagon6.setTranslateY(hexagon1.getOffsetY());\r\n            hexagon6.setTranslateX(-hexagon1.getOffsetX());\r\n    \r\n            Hexagon hexagon7 = new Hexagon(HexagonRadius, Color.SKYBLUE);\r\n            hexagon7.setTranslateY(hexagon1.getOffsetY());\r\n            hexagon7.setTranslateX(hexagon1.getOffsetX());\r\n    \r\n            Group hexagonsGroup = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\r\n    \r\n            StackPane stackPane = new StackPane(hexagonsGroup);\r\n    \r\n            var scene = new Scene(stackPane, 640, 480);\r\n            scene.setFill(Color.ANTIQUEWHITE);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        public class Hexagon extends Group {\r\n    \r\n            private Polygon polygon;\r\n            private double radius;\r\n            private double radianStep = (2 * Math.PI) / 6;\r\n    \r\n            private double offsetY;\r\n            private double offsetX;\r\n    \r\n            public Hexagon(double radius, Paint color) {\r\n                this.radius = radius;\r\n                makeHexagon(radius, color);\r\n                offsetY = calculateApothem();\r\n                \r\n                \r\n                \r\n                offsetX = radius * 1.5;\r\n                changeTittle();\r\n    \r\n            }\r\n    \r\n            private void makeHexagon(double radius, Paint color) {\r\n                polygon = new Polygon();\r\n                this.getChildren().add(polygon);\r\n                polygon.setFill(color);\r\n                polygon.setStroke(Color.WHITESMOKE);\r\n                polygon.setEffect(new DropShadow(10, Color.BLACK));\r\n                polygon.setStrokeWidth(10);\r\n                polygon.setStrokeType(StrokeType.INSIDE);\r\n    \r\n                for (int i = 0; i &lt; 6; i++) {\r\n                    double angle = radianStep * i;\r\n    \r\n                    polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\r\n                    polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\r\n    \r\n                }\r\n            }\r\n    \r\n            public void changeTittle() {\r\n    \r\n                polygon.setOnMouseClicked(e -&gt; {\r\n                    Stage stage = (Stage) this.getScene().getWindow();\r\n                    stage.setTitle(polygon.getFill().toString());\r\n                });\r\n    \r\n            }\r\n    \r\n            public double getOffsetY() {\r\n                return offsetY;\r\n            }\r\n    \r\n            public double getOffsetX() {\r\n                return offsetX;\r\n            }\r\n    \r\n            private double calculateApothem() {\r\n                \r\n                return (Math.tan(radianStep) * radius) / 2;\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CnzMA.gif\r\n  [2]: https://en.wikipedia.org/wiki/Radius\r\n  [3]: https://en.wikipedia.org/wiki/Apothem","title":"How to create hexagon of hexagons as buttons in JavaFX","body":"<p><strong>polygon hexagons</strong></p>\n<p><a href=\"https://i.stack.imgur.com/CnzMA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnzMA.gif\" alt=\"colors shape\" /></a></p>\n<p>Since you need to use as buttons, I added mouse click event which changes stage's title. If you want to place  hexagons side to side you may need to consider <a href=\"https://en.wikipedia.org/wiki/Radius\" rel=\"nofollow noreferrer\">radius</a> for x axis and <a href=\"https://en.wikipedia.org/wiki/Apothem\" rel=\"nofollow noreferrer\">apothem</a> for y axis.\nThis is a functional single class javafx app you can try</p>\n<p>App.java</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        double HexagonRadius = 100;\n\n        Hexagon hexagon1 = new Hexagon(HexagonRadius, Color.CADETBLUE);\n\n        Hexagon hexagon2 = new Hexagon(HexagonRadius, Color.MEDIUMPURPLE);\n        hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\n\n        Hexagon hexagon3 = new Hexagon(HexagonRadius, Color.MEDIUMSEAGREEN);\n        hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\n\n        Hexagon hexagon4 = new Hexagon(HexagonRadius, Color.CORNFLOWERBLUE);\n        hexagon4.setTranslateY(-hexagon1.getOffsetY());\n        hexagon4.setTranslateX(hexagon1.getOffsetX());\n\n        Hexagon hexagon5 = new Hexagon(HexagonRadius, Color.YELLOW);\n        hexagon5.setTranslateY(-hexagon1.getOffsetY());\n        hexagon5.setTranslateX(-hexagon1.getOffsetX());\n\n        Hexagon hexagon6 = new Hexagon(HexagonRadius, Color.ORANGE);\n        hexagon6.setTranslateY(hexagon1.getOffsetY());\n        hexagon6.setTranslateX(-hexagon1.getOffsetX());\n\n        Hexagon hexagon7 = new Hexagon(HexagonRadius, Color.SKYBLUE);\n        hexagon7.setTranslateY(hexagon1.getOffsetY());\n        hexagon7.setTranslateX(hexagon1.getOffsetX());\n\n        Group hexagonsGroup = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\n\n        StackPane stackPane = new StackPane(hexagonsGroup);\n\n        var scene = new Scene(stackPane, 640, 480);\n        scene.setFill(Color.ANTIQUEWHITE);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public class Hexagon extends Group {\n\n        private Polygon polygon;\n        private double radius;\n        private double radianStep = (2 * Math.PI) / 6;\n\n        private double offsetY;\n        private double offsetX;\n\n        public Hexagon(double radius, Paint color) {\n            this.radius = radius;\n            makeHexagon(radius, color);\n            offsetY = calculateApothem();\n            \n            \n            \n            offsetX = radius * 1.5;\n            changeTittle();\n\n        }\n\n        private void makeHexagon(double radius, Paint color) {\n            polygon = new Polygon();\n            this.getChildren().add(polygon);\n            polygon.setFill(color);\n            polygon.setStroke(Color.WHITESMOKE);\n            polygon.setEffect(new DropShadow(10, Color.BLACK));\n            polygon.setStrokeWidth(10);\n            polygon.setStrokeType(StrokeType.INSIDE);\n\n            for (int i = 0; i &lt; 6; i++) {\n                double angle = radianStep * i;\n\n                polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\n                polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\n\n            }\n        }\n\n        public void changeTittle() {\n\n            polygon.setOnMouseClicked(e -&gt; {\n                Stage stage = (Stage) this.getScene().getWindow();\n                stage.setTitle(polygon.getFill().toString());\n            });\n\n        }\n\n        public double getOffsetY() {\n            return offsetY;\n        }\n\n        public double getOffsetX() {\n            return offsetX;\n        }\n\n        private double calculateApothem() {\n            \n            return (Math.tan(radianStep) * radius) / 2;\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17358168,"reputation":97,"user_id":12575077,"display_name":"Mystheman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1701282626,"creation_date":1654322188,"question_id":72497452,"body_markdown":"[![Here what I want to create][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZrhJ.jpg\r\n\r\n\r\nI want to create a hexagon of hexagons as buttons in JavaFX, I use an image and try to position some buttons to the position of each hexagon but I cannot change the position of them in a grid pane. Here is my code:\r\n\r\n    package sample;\r\n    \r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.GridPane;\r\n    \r\n    public class GameBoard extends GridPane {\r\n        public GameBoard(){\r\n            this.setAlignment(Pos.CENTER);\r\n            ImageView image = new ImageView();\r\n            Image hexagonImg = new Image(&quot;hexagon.jpg&quot;);\r\n            image.setFitWidth(500);\r\n            image.setFitHeight(500);\r\n            image.setImage(hexagonImg);\r\n            this.add(image,0,0);\r\n            GridPane button1Pane = new GridPane();\r\n            this.add(button1Pane,0,0);\r\n            Button button1 = new Button();\r\n            button1Pane.add(button1,1,0);\r\n        }\r\n    }\r\n\r\n","title":"How to create hexagon of hexagons as buttons in JavaFX","body":"<p><a href=\"https://i.stack.imgur.com/JZrhJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZrhJ.jpg\" alt=\"Here what I want to create\" /></a></p>\n<p>I want to create a hexagon of hexagons as buttons in JavaFX, I use an image and try to position some buttons to the position of each hexagon but I cannot change the position of them in a grid pane. Here is my code:</p>\n<pre><code>package sample;\n\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.GridPane;\n\npublic class GameBoard extends GridPane {\n    public GameBoard(){\n        this.setAlignment(Pos.CENTER);\n        ImageView image = new ImageView();\n        Image hexagonImg = new Image(&quot;hexagon.jpg&quot;);\n        image.setFitWidth(500);\n        image.setFitHeight(500);\n        image.setImage(hexagonImg);\n        this.add(image,0,0);\n        GridPane button1Pane = new GridPane();\n        this.add(button1Pane,0,0);\n        Button button1 = new Button();\n        button1Pane.add(button1,1,0);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"owner":{"account_id":30025098,"reputation":1,"user_id":23009535,"display_name":"Frank0304"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701282450,"creation_date":1701282450,"question_id":77573671,"body_markdown":"i was working on a Java Project, but i found a problem when i was going to use the JTable in the Design section in Eclipse by using the Windows Pro Builder plug-in. \r\n\r\nI tried selecting the JTable in the &quot;Components&quot; section of WindowsProBuilder but after clicking on it, it doesn&#39;t get selected, just like an empty button, unlike all the other components. I also tried inserting the JTable via line of code.","title":"JTable not selectable in Windows Pro Builder","body":"<p>i was working on a Java Project, but i found a problem when i was going to use the JTable in the Design section in Eclipse by using the Windows Pro Builder plug-in.</p>\n<p>I tried selecting the JTable in the &quot;Components&quot; section of WindowsProBuilder but after clicking on it, it doesn't get selected, just like an empty button, unlike all the other components. I also tried inserting the JTable via line of code.</p>\n"},{"tags":["java","for-loop","if-statement","while-loop","logic"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701281655,"post_id":77573495,"comment_id":136757482,"body_markdown":"You can always use arrays.","body":"You can always use arrays."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701286903,"post_id":77573495,"comment_id":136758308,"body_markdown":"Use an array for both the _n_ and _c_ values.","body":"Use an array for both the <i>n</i> and <i>c</i> values."}],"answers":[{"tags":[],"owner":{"account_id":24103639,"reputation":21,"user_id":18075142,"display_name":"Naveena Poojari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701282223,"creation_date":1701282223,"answer_id":77573647,"question_id":77573495,"body_markdown":"You can try this:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n\r\n    public class Mavenproject8 {\r\n       public static void main(String[] args) {\r\n        int num = 100 + (int) (Math.random() * 900);\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter 3 numbers from 1 to 9:&quot;);\r\n        int max = 9;\r\n\r\n        while (max-- &gt; 0) {\r\n            System.out.printf(&quot;You can try for %d times%nEnter 3 digits:%n&quot;, max + 1);\r\n\r\n            int[] userDigits = new int[3];\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                userDigits[i] = scanner.nextInt();\r\n            }\r\n\r\n            int[] numDigits = new int[3];\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                numDigits[i] = num % 10;\r\n                num /= 10;\r\n            }\r\n\r\n            if (Arrays.equals(userDigits, numDigits)) {\r\n                System.out.println(&quot;Congratulations, You Won !!!&quot;);\r\n                return;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;You can try for 0 times&quot;);\r\n    }}\r\n\r\nChanges are:\r\n1. Replaced individual variables n1, n2, n3, c1, c2, c3 with arrays userDigits and numDigits.\r\n2. Used loops to read user input and extract digits from num.\r\n3. Utilized Arrays.equals() to compare arrays for equality.\r\n\r\nHope that helps...","title":"how can I decrease the number of variables?","body":"<p>You can try this:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Mavenproject8 {\n   public static void main(String[] args) {\n    int num = 100 + (int) (Math.random() * 900);\n    Scanner scanner = new Scanner(System.in);\n\n    System.out.println(&quot;Enter 3 numbers from 1 to 9:&quot;);\n    int max = 9;\n\n    while (max-- &gt; 0) {\n        System.out.printf(&quot;You can try for %d times%nEnter 3 digits:%n&quot;, max + 1);\n\n        int[] userDigits = new int[3];\n        for (int i = 0; i &lt; 3; i++) {\n            userDigits[i] = scanner.nextInt();\n        }\n\n        int[] numDigits = new int[3];\n        for (int i = 0; i &lt; 3; i++) {\n            numDigits[i] = num % 10;\n            num /= 10;\n        }\n\n        if (Arrays.equals(userDigits, numDigits)) {\n            System.out.println(&quot;Congratulations, You Won !!!&quot;);\n            return;\n        }\n    }\n\n    System.out.println(&quot;You can try for 0 times&quot;);\n}}\n</code></pre>\n<p>Changes are:</p>\n<ol>\n<li>Replaced individual variables n1, n2, n3, c1, c2, c3 with arrays userDigits and numDigits.</li>\n<li>Used loops to read user input and extract digits from num.</li>\n<li>Utilized Arrays.equals() to compare arrays for equality.</li>\n</ol>\n<p>Hope that helps...</p>\n"}],"owner":{"account_id":30024870,"reputation":11,"user_id":23009364,"display_name":"winstar345"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701282223,"creation_date":1701280606,"question_id":77573495,"body_markdown":"\r\n```\r\npublic class Mavenproject8\r\n {\r\n\r\n public static void main(String[] args) {\r\n     int num=100+(int)(Math.random()*900);\r\n   Scanner blue=new Scanner(System.in);\r\n   System.out.println(&quot;enter 3 numbers from 1 to 9:&quot;);\r\n   int n1=blue.nextInt();\r\n   int n2=blue.nextInt();\r\n   int n3=blue.nextInt();\r\n   int c3=num%10;\r\n   num/=10;\r\n   int c2=num%10;\r\n   int c1=num/10;\r\n   int max=9;\r\n   while(max!=0){\r\n       if(n1==c1&amp;&amp;n2==c2&amp;&amp;n3==c3){max=0;System.out.println(&quot;Congratulations, You Won !!!&quot;);}\r\n       else{System.out.println(&quot;you can try for &quot;+max+&quot; times\\nenter 3 digits&quot;);\r\n       n1=blue.nextInt();\r\n       n2=blue.nextInt();      \r\n       n3=blue.nextInt();max--;}\r\n   }\r\n if(max==0){System.out.println(&quot;You can try for 0 times&quot;);}\r\n } \r\n}\r\n\r\n```\r\n//i think the code could be smaller and could done with better logic\r\n//how can i decrease the number of integers or maybe shrink the code with a better logic","title":"how can I decrease the number of variables?","body":"<pre><code>public class Mavenproject8\n {\n\n public static void main(String[] args) {\n     int num=100+(int)(Math.random()*900);\n   Scanner blue=new Scanner(System.in);\n   System.out.println(&quot;enter 3 numbers from 1 to 9:&quot;);\n   int n1=blue.nextInt();\n   int n2=blue.nextInt();\n   int n3=blue.nextInt();\n   int c3=num%10;\n   num/=10;\n   int c2=num%10;\n   int c1=num/10;\n   int max=9;\n   while(max!=0){\n       if(n1==c1&amp;&amp;n2==c2&amp;&amp;n3==c3){max=0;System.out.println(&quot;Congratulations, You Won !!!&quot;);}\n       else{System.out.println(&quot;you can try for &quot;+max+&quot; times\\nenter 3 digits&quot;);\n       n1=blue.nextInt();\n       n2=blue.nextInt();      \n       n3=blue.nextInt();max--;}\n   }\n if(max==0){System.out.println(&quot;You can try for 0 times&quot;);}\n } \n}\n\n</code></pre>\n<p>//i think the code could be smaller and could done with better logic\n//how can i decrease the number of integers or maybe shrink the code with a better logic</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210837,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":3,"creation_date":1701269564,"post_id":77572190,"comment_id":136755007,"body_markdown":"Presumably you want to calculate the entire date/time, not *just* the hour.  Because I can&#39;t think of any value that&#39;s greater than 20 and less than 1.  Or alternatively maybe you meant to use `||` (or) instead of `&amp;&amp;` (and), if the set of hours is always &quot;overnight&quot;?","body":"Presumably you want to calculate the entire date/time, not <i>just</i> the hour.  Because I can&#39;t think of any value that&#39;s greater than 20 and less than 1.  Or alternatively maybe you meant to use <code>||</code> (or) instead of <code>&amp;&amp;</code> (and), if the set of hours is always &quot;overnight&quot;?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1701269975,"post_id":77572190,"comment_id":136755101,"body_markdown":"LocalDateTime has an isAfter and isBefore Method, maybe this helps you (if you want to compare a whole Date, not only the hour).","body":"LocalDateTime has an isAfter and isBefore Method, maybe this helps you (if you want to compare a whole Date, not only the hour)."},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701270080,"post_id":77572190,"comment_id":136755126,"body_markdown":"This issue is if the endHour goes into the next day like my example.","body":"This issue is if the endHour goes into the next day like my example."},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701270346,"post_id":77572190,"comment_id":136755182,"body_markdown":"Do you only do time ranges that are strictly &lt;= 24 h long?","body":"Do you only do time ranges that are strictly &lt;= 24 h long?"},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701270852,"post_id":77572190,"comment_id":136755317,"body_markdown":"yes, just into the next day. Your response worked. Thanks.","body":"yes, just into the next day. Your response worked. Thanks."},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701271042,"post_id":77572190,"comment_id":136755371,"body_markdown":"[`LocalDateTime#getHour()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--) already returns the hour value in 24h format. If it returns 9, that means 9 in the morning – and 9 in the morning is not between 8 in the evening and 1 in the morning.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--\" rel=\"nofollow noreferrer\"><code>LocalDateTime#getHour()</code></a> already returns the hour value in 24h format. If it returns 9, that means 9 in the morning – and 9 in the morning is not between 8 in the evening and 1 in the morning."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1701282058,"post_id":77572190,"comment_id":136757553,"body_markdown":"By the way, calling `LocalDateTime.now` is a bad habit. The result is inherently ambiguous as it lacks the context of an offset or time zone. Instead, call `ZonedDateTime.now( z )` while passing a time zone (`ZoneId`). To use the JVM’s current time zone, pass result of `ZoneId.systemDefault()`. So: `ZonedDateTime.now( ZoneId.systemDefault() )`","body":"By the way, calling <code>LocalDateTime.now</code> is a bad habit. The result is inherently ambiguous as it lacks the context of an offset or time zone. Instead, call <code>ZonedDateTime.now( z )</code> while passing a time zone (<code>ZoneId</code>). To use the JVM’s current time zone, pass result of <code>ZoneId.systemDefault()</code>. So: <code>ZonedDateTime.now( ZoneId.systemDefault() )</code>"},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701282109,"post_id":77572190,"comment_id":136757561,"body_markdown":"My example isn&#39;t returning 9. I put &quot;9pm&quot; which means `currentHour` should be set to 21.","body":"My example isn&#39;t returning 9. I put &quot;9pm&quot; which means <code>currentHour</code> should be set to 21."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701282119,"post_id":77572190,"comment_id":136757563,"body_markdown":"If you want only time of day, call `LocalTime.now( ZoneId.systemDefault() )`. Or pass a specific time zone if you have one in mind.","body":"If you want only time of day, call <code>LocalTime.now( ZoneId.systemDefault() )</code>. Or pass a specific time zone if you have one in mind."},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701282475,"post_id":77572190,"comment_id":136757611,"body_markdown":"In the source code for `LocalDateTime.now` it looks like it takes the timezone into account.","body":"In the source code for <code>LocalDateTime.now</code> it looks like it takes the timezone into account."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701270978,"creation_date":1701269802,"answer_id":77572255,"question_id":77572190,"body_markdown":"You need to account for ranges that cover midnight, e.g.\r\n\r\n```\r\nif (endHour &lt; startHour) {\r\n  endHour += 24;\r\n}\r\nif (currentHour &lt; startHour) {\r\n  currentHour += 24;\r\n}\r\n\r\n// now check if currentHour between start and end\r\n```\r\n\r\nDo note however that [`LocalDateTime#getHour()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--) returns a value between 0 and 23 already. So 9 means 9AM and 21 means 9PM.","title":"Determine current hour is between hours","body":"<p>You need to account for ranges that cover midnight, e.g.</p>\n<pre><code>if (endHour &lt; startHour) {\n  endHour += 24;\n}\nif (currentHour &lt; startHour) {\n  currentHour += 24;\n}\n\n// now check if currentHour between start and end\n</code></pre>\n<p>Do note however that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--\" rel=\"nofollow noreferrer\"><code>LocalDateTime#getHour()</code></a> returns a value between 0 and 23 already. So 9 means 9AM and 21 means 9PM.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701271185,"creation_date":1701270368,"answer_id":77572323,"question_id":77572190,"body_markdown":"The value `9` does not mean the same thing as `9pm` or `21`; it means `9am` or simply `9`.\r\n\r\nYou need to use `21`.\r\n\r\n```java\r\nimport java.time.LocalDateTime;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class TimeRangeChecker {\r\n    private static final int HOURS_PER_DAY = (int) TimeUnit.DAYS.toHours(1); // 24\r\n\r\n    public static boolean isInBetween(LocalDateTime localDateTime, int startHour, int endHour) {\r\n        int computedEndHour = endHour &lt; startHour ? endHour + HOURS_PER_DAY: endHour;\r\n        int currHour = localDateTime.getHour();\r\n        return currHour &gt;= startHour &amp;&amp; currHour &lt; computedEndHour;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        LocalDateTime now = LocalDateTime.now().withHour(21); // 9pm\r\n        System.out.println(isInBetween(now, 20, 1)); // false\r\n    }\r\n}\r\n```","title":"Determine current hour is between hours","body":"<p>The value <code>9</code> does not mean the same thing as <code>9pm</code> or <code>21</code>; it means <code>9am</code> or simply <code>9</code>.</p>\n<p>You need to use <code>21</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.util.concurrent.TimeUnit;\n\npublic class TimeRangeChecker {\n    private static final int HOURS_PER_DAY = (int) TimeUnit.DAYS.toHours(1); // 24\n\n    public static boolean isInBetween(LocalDateTime localDateTime, int startHour, int endHour) {\n        int computedEndHour = endHour &lt; startHour ? endHour + HOURS_PER_DAY: endHour;\n        int currHour = localDateTime.getHour();\n        return currHour &gt;= startHour &amp;&amp; currHour &lt; computedEndHour;\n    }\n\n    public static void main(String[] args) {\n        LocalDateTime now = LocalDateTime.now().withHour(21); // 9pm\n        System.out.println(isInBetween(now, 20, 1)); // false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":77572255,"answer_count":2,"score":-5,"last_activity_date":1701282217,"creation_date":1701269420,"question_id":77572190,"body_markdown":"I feel this is really easy but my brain isn&#39;t working for some reason. I have a feature where the user can select a time period (in hours) for it to run. I need to check if the current hour is between those hours:\r\n\r\n\tint currentHour = LocalDateTime.now().getHour(); // 21 (9pm)\r\n\r\n\tint startHour = 20; // (8pm)\r\n\tint endHour = 1; // (1am)\r\n\r\n\tif (currentHour &gt;= startHour &amp;&amp; currentHour &lt; endHour)\r\n\t{\r\n\t\t...\r\n\t}","title":"Determine current hour is between hours","body":"<p>I feel this is really easy but my brain isn't working for some reason. I have a feature where the user can select a time period (in hours) for it to run. I need to check if the current hour is between those hours:</p>\n<pre><code>int currentHour = LocalDateTime.now().getHour(); // 21 (9pm)\n\nint startHour = 20; // (8pm)\nint endHour = 1; // (1am)\n\nif (currentHour &gt;= startHour &amp;&amp; currentHour &lt; endHour)\n{\n    ...\n}\n</code></pre>\n"},{"tags":["java","spring-boot","httpurlconnection"],"owner":{"account_id":20397272,"reputation":1,"user_id":14963781,"display_name":"aditya Chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701282012,"creation_date":1701282012,"question_id":77573633,"body_markdown":"I need to read a Excel Sheet but when I am using URLConnection it is landing me on the login page.\r\n\r\n\r\n\r\n\r\n```\r\nURLConnection uc = url.openConnection();\r\nHttpURLConnection httpConnection = (HttpURLConnection) uc;\r\nString basicAuth =      Base64.getEncoder().encodeToString((username+&quot;:&quot;+password).getBytes(StandardCharsets.UTF_8));\r\nhttpConnection.setRequestProperty(&quot;Authorization&quot;,&quot;Basic &quot; + basicAuth);\r\nhttpConnection.setRequestProperty(&quot;User-Agent&quot;,&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot;);\r\nhttpConnection.connect();\r\nBufferedReader r = new BufferedReader(new InputStreamReader(httpConnection.getInputStream(),    Charset.forName(&quot;UTF-8&quot;)));\r\nStringBuilder sb = new StringBuilder();\r\nString line;\r\nwhile((line = r.readLine())!= null){\r\n\tsb.append(line);\r\n\tsb.append(&quot;\\n&quot;);\r\n}\r\nSystem.out.println(sb.toString());\r\n```\r\n\r\nI tried setting Authorisation headers but still cannot achieve it. Can someone help me.\r\n","title":"How to read EXCEL FILE with RESTRICTED permissions from URL in java?","body":"<p>I need to read a Excel Sheet but when I am using URLConnection it is landing me on the login page.</p>\n<pre><code>URLConnection uc = url.openConnection();\nHttpURLConnection httpConnection = (HttpURLConnection) uc;\nString basicAuth =      Base64.getEncoder().encodeToString((username+&quot;:&quot;+password).getBytes(StandardCharsets.UTF_8));\nhttpConnection.setRequestProperty(&quot;Authorization&quot;,&quot;Basic &quot; + basicAuth);\nhttpConnection.setRequestProperty(&quot;User-Agent&quot;,&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot;);\nhttpConnection.connect();\nBufferedReader r = new BufferedReader(new InputStreamReader(httpConnection.getInputStream(),    Charset.forName(&quot;UTF-8&quot;)));\nStringBuilder sb = new StringBuilder();\nString line;\nwhile((line = r.readLine())!= null){\n    sb.append(line);\n    sb.append(&quot;\\n&quot;);\n}\nSystem.out.println(sb.toString());\n</code></pre>\n<p>I tried setting Authorisation headers but still cannot achieve it. Can someone help me.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1701275944,"post_id":77572484,"comment_id":136756460,"body_markdown":"It looks like the list of items is lazy loaded. Try adding fetch = FetchType.EAGER to the annotation.","body":"It looks like the list of items is lazy loaded. Try adding fetch = FetchType.EAGER to the annotation."},{"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"score":0,"creation_date":1701277876,"post_id":77572484,"comment_id":136756840,"body_markdown":"@Mar-Z There was additional error. Can you please check again? Thanks in advance.","body":"@Mar-Z There was additional error. Can you please check again? Thanks in advance."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1701279956,"post_id":77572484,"comment_id":136757199,"body_markdown":"It is a bi-directional relationship. You must set the reference in the OrderItem entity programmatically. For example by adding a loop in the service method createOrder(). But be aware of possible infinite loop. Search SO for a complete solution.","body":"It is a bi-directional relationship. You must set the reference in the OrderItem entity programmatically. For example by adding a loop in the service method createOrder(). But be aware of possible infinite loop. Search SO for a complete solution."},{"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"score":0,"creation_date":1701280756,"post_id":77572484,"comment_id":136757357,"body_markdown":"@Mar-Z Thanks a lot for the suggestion but alas, I am still unable to make program work as I wish it to work and I would really appreciate the programmatical way as an answer. So I can learn from it and also give you SO reputation in return for your efforts so far.","body":"@Mar-Z Thanks a lot for the suggestion but alas, I am still unable to make program work as I wish it to work and I would really appreciate the programmatical way as an answer. So I can learn from it and also give you SO reputation in return for your efforts so far."},{"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"score":0,"creation_date":1701281722,"post_id":77572484,"comment_id":136757497,"body_markdown":"@Mar-Z Nevermind, I solved it but you can still answer the question if you want what I mentioned before. In any case, thank you.","body":"@Mar-Z Nevermind, I solved it but you can still answer the question if you want what I mentioned before. In any case, thank you."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701281752,"creation_date":1701281752,"answer_id":77573605,"question_id":77572484,"body_markdown":"It is a bi-directional relationship. You must set the reference in the `OrderItem` entity programmatically. For example by adding a loop in the service method createOrder():\r\n```\r\npublic Order createOrder(Order newOrder) {\r\n    for (OrderItem item : newOrder.getItems()) {\r\n        item.setOrder(newOrder);\r\n    }\r\n    return orderRepository.save(newOrder);\r\n}\r\n```\r\nBe aware of possible infinite loop. Use `@JsonManagedReference` and `@JsonBackReference` annotations in the entities to avoid it.\r\n```\r\n@OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@JsonManagedReference\r\nprivate List&lt;OrderItem&gt; items;\r\n// ...\r\n@ManyToOne\r\n@JsonBackReference\r\n@JoinColumn(name = &quot;parent_order_id&quot;)\r\nprivate Order order;\r\n```","title":"Why Json Deserialization cause problems with BaseJpaRepository?","body":"<p>It is a bi-directional relationship. You must set the reference in the <code>OrderItem</code> entity programmatically. For example by adding a loop in the service method createOrder():</p>\n<pre><code>public Order createOrder(Order newOrder) {\n    for (OrderItem item : newOrder.getItems()) {\n        item.setOrder(newOrder);\n    }\n    return orderRepository.save(newOrder);\n}\n</code></pre>\n<p>Be aware of possible infinite loop. Use <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> annotations in the entities to avoid it.</p>\n<pre><code>@OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JsonManagedReference\nprivate List&lt;OrderItem&gt; items;\n// ...\n@ManyToOne\n@JsonBackReference\n@JoinColumn(name = &quot;parent_order_id&quot;)\nprivate Order order;\n</code></pre>\n"}],"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77573605,"answer_count":1,"score":0,"last_activity_date":1701281752,"creation_date":1701271611,"question_id":77572484,"body_markdown":"Edit: By @Mar-z suggestion I have updated the code but it now has another problem, which is still related to same functionality.\r\n\r\nMy items list is always empty with a a payload like this one:\r\n\r\n```\r\n{\r\n  &quot;orderId&quot;: 1,\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;itemId&quot;: 3,\r\n      &quot;itemName&quot;: &quot;Product A&quot;,\r\n      &quot;quantity&quot;: 2,\r\n      &quot;price&quot;: 10.99\r\n    },\r\n    {\r\n      &quot;itemId&quot;: 4,\r\n      &quot;itemName&quot;: &quot;Product B&quot;,\r\n      &quot;quantity&quot;: 1,\r\n      &quot;price&quot;: 19.99\r\n    }\r\n  ],\r\n  &quot;status&quot;: &quot;PROCESSING&quot;\r\n}\r\n```\r\n\r\n\r\nI have 2 entity classes defined as here:\r\n\r\n\r\n```\r\n@Entity\r\npublic class OrderItem {\r\n\r\n    @Id\r\n    private Long itemId;\r\n    private String itemName;\r\n    private  int quantity;\r\n    private double price;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;parent_order_id&quot;)\r\n    private Order order;\r\n\r\n    public OrderItem () {\r\n\r\n    }\r\n    public OrderItem(Long itemId, String itemName, int quantity, double price) {\r\n        this.itemId = itemId;\r\n        this.itemName = itemName;\r\n        this.quantity = quantity;\r\n        this.price = price;\r\n    }\r\n\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;`order`&quot;)\r\npublic class Order {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long orderId;\r\n\r\n    @OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    private List&lt;OrderItem&gt; items;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private OrderStatus status;\r\n\r\n    public Order() {\r\n        this.items = new ArrayList&lt;&gt;();\r\n    }\r\n    public Order(Long orderId, List&lt;OrderItem&gt; items, OrderStatus status) {\r\n        this.orderId = orderId;\r\n        this.items = items;\r\n        this.status = status;\r\n    }\r\n\r\n```\r\n```\r\n\r\n    public Order createOrder(Order newOrder) {\r\n        return orderRepository.merge(newOrder);\r\n    }\r\n```\r\nEDITED:\r\nThe issue is my response is always like this:\r\n\r\n    {\r\n        &quot;orderId&quot;: 1,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;itemId&quot;: 103,\r\n                &quot;itemName&quot;: &quot;Product A&quot;,\r\n                &quot;quantity&quot;: 2,\r\n                &quot;price&quot;: 10.99,\r\n                &quot;order&quot;: null\r\n            },\r\n            {\r\n                &quot;itemId&quot;: 104,\r\n                &quot;itemName&quot;: &quot;Product B&quot;,\r\n                &quot;quantity&quot;: 1,\r\n                &quot;price&quot;: 19.99,\r\n                &quot;order&quot;: null\r\n            }\r\n        ],\r\n        &quot;status&quot;: &quot;PROCESSING&quot;\r\n    }\r\n\r\nAs you can see my order is null and in database my parent_order_id is also null.\r\n\r\nI use the repository class defined here but after soem trial and error i came to conclision it si not the problem: https://vladmihalcea.com/basejparepository-hypersistence-utils/\r\n","title":"Why Json Deserialization cause problems with BaseJpaRepository?","body":"<p>Edit: By @Mar-z suggestion I have updated the code but it now has another problem, which is still related to same functionality.</p>\n<p>My items list is always empty with a a payload like this one:</p>\n<pre><code>{\n  &quot;orderId&quot;: 1,\n  &quot;items&quot;: [\n    {\n      &quot;itemId&quot;: 3,\n      &quot;itemName&quot;: &quot;Product A&quot;,\n      &quot;quantity&quot;: 2,\n      &quot;price&quot;: 10.99\n    },\n    {\n      &quot;itemId&quot;: 4,\n      &quot;itemName&quot;: &quot;Product B&quot;,\n      &quot;quantity&quot;: 1,\n      &quot;price&quot;: 19.99\n    }\n  ],\n  &quot;status&quot;: &quot;PROCESSING&quot;\n}\n</code></pre>\n<p>I have 2 entity classes defined as here:</p>\n<pre><code>@Entity\npublic class OrderItem {\n\n    @Id\n    private Long itemId;\n    private String itemName;\n    private  int quantity;\n    private double price;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_order_id&quot;)\n    private Order order;\n\n    public OrderItem () {\n\n    }\n    public OrderItem(Long itemId, String itemName, int quantity, double price) {\n        this.itemId = itemId;\n        this.itemName = itemName;\n        this.quantity = quantity;\n        this.price = price;\n    }\n\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;`order`&quot;)\npublic class Order {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long orderId;\n\n    @OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private List&lt;OrderItem&gt; items;\n\n    @Enumerated(EnumType.STRING)\n    private OrderStatus status;\n\n    public Order() {\n        this.items = new ArrayList&lt;&gt;();\n    }\n    public Order(Long orderId, List&lt;OrderItem&gt; items, OrderStatus status) {\n        this.orderId = orderId;\n        this.items = items;\n        this.status = status;\n    }\n\n</code></pre>\n<pre><code>\n    public Order createOrder(Order newOrder) {\n        return orderRepository.merge(newOrder);\n    }\n</code></pre>\n<p>EDITED:\nThe issue is my response is always like this:</p>\n<pre><code>{\n    &quot;orderId&quot;: 1,\n    &quot;items&quot;: [\n        {\n            &quot;itemId&quot;: 103,\n            &quot;itemName&quot;: &quot;Product A&quot;,\n            &quot;quantity&quot;: 2,\n            &quot;price&quot;: 10.99,\n            &quot;order&quot;: null\n        },\n        {\n            &quot;itemId&quot;: 104,\n            &quot;itemName&quot;: &quot;Product B&quot;,\n            &quot;quantity&quot;: 1,\n            &quot;price&quot;: 19.99,\n            &quot;order&quot;: null\n        }\n    ],\n    &quot;status&quot;: &quot;PROCESSING&quot;\n}\n</code></pre>\n<p>As you can see my order is null and in database my parent_order_id is also null.</p>\n<p>I use the repository class defined here but after soem trial and error i came to conclision it si not the problem: <a href=\"https://vladmihalcea.com/basejparepository-hypersistence-utils/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/basejparepository-hypersistence-utils/</a></p>\n"},{"tags":["java","pdf","itext","pdfptable"],"answers":[{"tags":[],"owner":{"account_id":13873126,"reputation":66,"user_id":10015628,"display_name":"Guust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701264445,"creation_date":1701264445,"answer_id":77571551,"question_id":77571418,"body_markdown":"You don&#39;t specify which version you use, nor an example but with itext8 you can use row and col span overload in `Cell`.\r\n\r\n\r\nSomething like this should do the trick:\r\n\r\n        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));\r\n        Document doc = new Document(pdfDoc);\r\n\r\n        Table table = new Table(UnitValue.createPercentArray(2)).useAllAvailableWidth();\r\n        Cell row = new Cell(1, 2).add(new Paragraph(&quot; Row 1 full &quot;));\r\n        table.addCell(row);\r\n\r\n        Cell row2Col1 = new Cell().add(new Paragraph(&quot; row 2 col 1 &quot;));\r\n        table.addCell(row2Col1);\r\n        Cell row2Col2 = new Cell().add(new Paragraph(&quot;row 2 col 2&quot;));\r\n        table.addCell(row2Col2);`\r\n        pdfDoc.close();\r\n\r\nMore advanced examples can be found here [itext examples](https://kb.itextpdf.com/home/it7kb/examples/colspan-and-rowspan)","title":"Create a iTextPdf PdfPtable in Java with one row without a border","body":"<p>You don't specify which version you use, nor an example but with itext8 you can use row and col span overload in <code>Cell</code>.</p>\n<p>Something like this should do the trick:</p>\n<pre><code>    PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));\n    Document doc = new Document(pdfDoc);\n\n    Table table = new Table(UnitValue.createPercentArray(2)).useAllAvailableWidth();\n    Cell row = new Cell(1, 2).add(new Paragraph(&quot; Row 1 full &quot;));\n    table.addCell(row);\n\n    Cell row2Col1 = new Cell().add(new Paragraph(&quot; row 2 col 1 &quot;));\n    table.addCell(row2Col1);\n    Cell row2Col2 = new Cell().add(new Paragraph(&quot;row 2 col 2&quot;));\n    table.addCell(row2Col2);`\n    pdfDoc.close();\n</code></pre>\n<p>More advanced examples can be found here <a href=\"https://kb.itextpdf.com/home/it7kb/examples/colspan-and-rowspan\" rel=\"nofollow noreferrer\">itext examples</a></p>\n"}],"owner":{"account_id":5368033,"reputation":325,"user_id":4277316,"accept_rate":56,"display_name":"julien carax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77571551,"answer_count":1,"score":0,"last_activity_date":1701281726,"creation_date":1701263237,"question_id":77571418,"body_markdown":"I am trying to generate a table in my pdf document that should have two rows. The first row should not be split in columns but the second row should be split in two columns. Something that looks like below:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SaQ8z.png\r\n\r\nSo far I have been able to create a table inside a PdfPCell but that is not how I want my table to look. Is there a way I can do this?\r\n\r\nEdited: I am using itextpdf-5.5.13.3 with pdfbox-3.0.0 and commons-lang3-3.14.0. ","title":"Create a iTextPdf PdfPtable in Java with one row without a border","body":"<p>I am trying to generate a table in my pdf document that should have two rows. The first row should not be split in columns but the second row should be split in two columns. Something that looks like below:</p>\n<p><a href=\"https://i.stack.imgur.com/SaQ8z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SaQ8z.png\" alt=\"enter image description here\" /></a></p>\n<p>So far I have been able to create a table inside a PdfPCell but that is not how I want my table to look. Is there a way I can do this?</p>\n<p>Edited: I am using itextpdf-5.5.13.3 with pdfbox-3.0.0 and commons-lang3-3.14.0.</p>\n"},{"tags":["java","eclipse","junit","noclassdeffounderror","hamcrest"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1359218836,"post_id":14539072,"comment_id":20277699,"body_markdown":"According to your description, `junit.jar` is not related to the problem","body":"According to your description, <code>junit.jar</code> is not related to the problem"},{"owner":{"account_id":1658378,"reputation":2210,"user_id":1527244,"accept_rate":82,"display_name":"Danyel"},"score":1,"creation_date":1359219047,"post_id":14539072,"comment_id":20277760,"body_markdown":"In the `harcrest` jar, is the hierarchy the same? as in `org &gt; hamcrest &gt; SelfDescribing`, or is it in the root folder of the jar?","body":"In the <code>harcrest</code> jar, is the hierarchy the same? as in <code>org &gt; hamcrest &gt; SelfDescribing</code>, or is it in the root folder of the jar?"},{"owner":{"account_id":347037,"reputation":79648,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1359219620,"post_id":14539072,"comment_id":20277935,"body_markdown":"http://stackoverflow.com/questions/1171264/ant-junit-noclassdeffounderror","body":"<a href=\"http://stackoverflow.com/questions/1171264/ant-junit-noclassdeffounderror\" title=\"ant junit noclassdeffounderror\">stackoverflow.com/questions/1171264/&hellip;</a>"},{"owner":{"account_id":1579407,"reputation":533,"user_id":1465085,"display_name":"jdurango"},"score":1,"creation_date":1359220407,"post_id":14539072,"comment_id":20313952,"body_markdown":"this error might not be for junit jar, maybe something in your project need other jar, here there are some [org.hamcrest.SelfDescribing - known versions](http://www.jarfinder.com/index.php/java/info/org.hamcrest.SelfDescribing)","body":"this error might not be for junit jar, maybe something in your project need other jar, here there are some <a href=\"http://www.jarfinder.com/index.php/java/info/org.hamcrest.SelfDescribing\" rel=\"nofollow noreferrer\">org.hamcrest.SelfDescribing - known versions</a>"},{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":1,"creation_date":1359300186,"post_id":14539072,"comment_id":20313953,"body_markdown":"Thanks but i don&#39;t have anything else in the project, i&#39;ve created this new project.","body":"Thanks but i don&#39;t have anything else in the project, i&#39;ve created this new project."},{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":0,"creation_date":1359300518,"post_id":14539072,"comment_id":20294981,"body_markdown":"yes it&#39;s in the same path junit-4.8\\org\\hamcrest","body":"yes it&#39;s in the same path junit-4.8\\org\\hamcrest"},{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":0,"creation_date":1359302565,"post_id":14539072,"comment_id":20295446,"body_markdown":"its strange tests are working in IntelliJ and In eclipse with TestNG, junit is messing with me:)","body":"its strange tests are working in IntelliJ and In eclipse with TestNG, junit is messing with me:)"},{"owner":{"account_id":1685084,"reputation":1536,"user_id":1548557,"display_name":"MrMesees"},"score":0,"creation_date":1506638720,"post_id":14539072,"comment_id":79913639,"body_markdown":"had this exact same thing in netbeans, first ensure tests are in test packages (likely IDE weirdness). Then ensure both hamcrest and junit are in test libraries.","body":"had this exact same thing in netbeans, first ensure tests are in test packages (likely IDE weirdness). Then ensure both hamcrest and junit are in test libraries."}],"answers":[{"tags":[],"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359219590,"creation_date":1359219590,"answer_id":14539254,"question_id":14539072,"body_markdown":"It sounds like a classpath issue, so there are a few different ways to go about it. Where does org/hamcret/SelfDescribing come from? Is that your class or in a different jar? \r\n\r\nTry going to your project Build Path and on the Libraries tab, add a Library. You should be able to choose JUnit to your project. This is a little bit different than just having the JUnit jar file In your project. \r\n\r\nIn your Run Configuration for the JUnit test, check the Classpath. You could probably fix this by adding making sure your Classpath can see that SelfDescribing class there. The Run option in Eclipse has a different set of options for the JUnit options. ","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>It sounds like a classpath issue, so there are a few different ways to go about it. Where does org/hamcret/SelfDescribing come from? Is that your class or in a different jar? </p>\n\n<p>Try going to your project Build Path and on the Libraries tab, add a Library. You should be able to choose JUnit to your project. This is a little bit different than just having the JUnit jar file In your project. </p>\n\n<p>In your Run Configuration for the JUnit test, check the Classpath. You could probably fix this by adding making sure your Classpath can see that SelfDescribing class there. The Run option in Eclipse has a different set of options for the JUnit options. </p>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359307141,"creation_date":1359307141,"answer_id":14549961,"question_id":14539072,"body_markdown":"You need junit-dep.jar because the junit.jar has a copy of old Hamcrest classes.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>You need junit-dep.jar because the junit.jar has a copy of old Hamcrest classes.</p>\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359308541,"creation_date":1359308541,"answer_id":14550176,"question_id":14539072,"body_markdown":"As a general rule, always make sure hamcrest is before any other testing libraries on the classpath, as many such libraries include hamcrest classes and may therefore conflict with the hamcrest version you&#39;re using. This will resolve most problems of the type you&#39;re describing.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>As a general rule, always make sure hamcrest is before any other testing libraries on the classpath, as many such libraries include hamcrest classes and may therefore conflict with the hamcrest version you're using. This will resolve most problems of the type you're describing.</p>\n"},{"tags":[],"owner":{"account_id":1800202,"reputation":8954,"user_id":1638739,"accept_rate":63,"display_name":"Muhammed Refaat"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1446513622,"creation_date":1371983799,"answer_id":17259880,"question_id":14539072,"body_markdown":"A few steps you have to follow:\r\n\r\n 1. Right click on the project.\r\n 2. Choose Build Path Then from its menu choose Add Libraries.\r\n 3. Choose JUnit then click Next.\r\n 4. Choose JUnit4 then Finish.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>A few steps you have to follow:</p>\n\n<ol>\n<li>Right click on the project.</li>\n<li>Choose Build Path Then from its menu choose Add Libraries.</li>\n<li>Choose JUnit then click Next.</li>\n<li>Choose JUnit4 then Finish.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1861522,"reputation":451,"user_id":1686040,"accept_rate":60,"display_name":"Robert F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379059081,"creation_date":1378995560,"answer_id":18766804,"question_id":14539072,"body_markdown":"If this problem arise in a RCP project it can be because JUnit has been explicitly imported. \r\n\r\nCheck the editor for your `plugin.xml` under `Dependencies` tab, remove the `org.junit` from the Imported Packages and add `org.junit` to the Required Plug-ins.\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>If this problem arise in a RCP project it can be because JUnit has been explicitly imported. </p>\n\n<p>Check the editor for your <code>plugin.xml</code> under <code>Dependencies</code> tab, remove the <code>org.junit</code> from the Imported Packages and add <code>org.junit</code> to the Required Plug-ins.</p>\n"},{"tags":[],"owner":{"account_id":3317386,"reputation":1,"user_id":2789407,"display_name":"Mohamed Iyeb Abed Rabou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409886944,"creation_date":1379455314,"answer_id":18860649,"question_id":14539072,"body_markdown":"I had the same problem, the solution is to add in build path/plugin the jar org.hamcrest.core_1xx, you can find it in eclipse/plugins.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>I had the same problem, the solution is to add in build path/plugin the jar org.hamcrest.core_1xx, you can find it in eclipse/plugins.</p>\n"},{"tags":[],"owner":{"account_id":2484796,"reputation":2643,"user_id":2163429,"accept_rate":32,"display_name":"Jiacai Liu"},"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1424307346,"creation_date":1380356076,"answer_id":19064870,"question_id":14539072,"body_markdown":"Add `hamcrest-all-X.X.jar` to your **classpath**.\r\n\r\nLatest version as of Feb 2015 is 1.3: \r\nhttp://code.google.com/p/hamcrest/downloads/detail?name=hamcrest-all-1.3.jar&amp;can=2&amp;q=\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Add <code>hamcrest-all-X.X.jar</code> to your <strong>classpath</strong>.</p>\n\n<p>Latest version as of Feb 2015 is 1.3: \n<a href=\"http://code.google.com/p/hamcrest/downloads/detail?name=hamcrest-all-1.3.jar&amp;can=2&amp;q=\" rel=\"noreferrer\">http://code.google.com/p/hamcrest/downloads/detail?name=hamcrest-all-1.3.jar&amp;can=2&amp;q=</a></p>\n"},{"tags":[],"owner":{"account_id":893696,"reputation":1345,"user_id":931472,"display_name":"jkwuc89"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1494947916,"creation_date":1387547226,"answer_id":20705032,"question_id":14539072,"body_markdown":"According to the JUnit GitHub team website (https://github.com/junit-team/junit/wiki/Download-and-Install), `junit.jar` and `hamcrest-core.jar` are both needed in the classpath when using JUnit 4.11.\r\n\r\nHere is the Maven dependency block for including junit and hamcrest.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Needed by junit --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>According to the JUnit GitHub team website (<a href=\"https://github.com/junit-team/junit/wiki/Download-and-Install\" rel=\"noreferrer\">https://github.com/junit-team/junit/wiki/Download-and-Install</a>), <code>junit.jar</code> and <code>hamcrest-core.jar</code> are both needed in the classpath when using JUnit 4.11.</p>\n\n<p>Here is the Maven dependency block for including junit and hamcrest.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- Needed by junit --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4304533,"reputation":171,"user_id":3517304,"display_name":"GUEST"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1397082575,"creation_date":1397082575,"answer_id":22975179,"question_id":14539072,"body_markdown":"Works for me: IntelliJ IDEA 13.1.1, JUnit4, Java 6\r\n\r\nI changed the file in project path: [PROJECT_NAME].iml\r\n\r\nReplaced:\r\n\r\n      &lt;library&gt;\r\n        &lt;CLASSES&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/&quot; /&gt;\r\n        &lt;/CLASSES&gt;\r\n        &lt;JAVADOC /&gt;\r\n        &lt;SOURCES /&gt;\r\n      &lt;/library&gt;\r\n\r\nBy:\r\n\r\n      &lt;library name=&quot;JUnit4&quot;&gt;\r\n        &lt;CLASSES&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/&quot; /&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/&quot; /&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/&quot; /&gt;\r\n        &lt;/CLASSES&gt;\r\n        &lt;JAVADOC /&gt;\r\n        &lt;SOURCES /&gt;\r\n      &lt;/library&gt;\r\n\r\nSo the final .iml file is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module type=&quot;JAVA_MODULE&quot; version=&quot;4&quot;&gt;\r\n      &lt;component name=&quot;NewModuleRootManager&quot; inherit-compiler-output=&quot;true&quot;&gt;\r\n        &lt;exclude-output /&gt;\r\n        &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n          &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src&quot; isTestSource=&quot;false&quot; /&gt;\r\n          &lt;sourceFolder url=&quot;file://$MODULE_DIR$/tests&quot; isTestSource=&quot;true&quot; /&gt;\r\n        &lt;/content&gt;\r\n        &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\r\n        &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\r\n        &lt;orderEntry type=&quot;module-library&quot;&gt;\r\n          &lt;library name=&quot;JUnit4&quot;&gt;\r\n            &lt;CLASSES&gt;\r\n              &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/&quot; /&gt;\r\n              &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/&quot; /&gt;\r\n              &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/&quot; /&gt;\r\n            &lt;/CLASSES&gt;\r\n            &lt;JAVADOC /&gt;\r\n            &lt;SOURCES /&gt;\r\n          &lt;/library&gt;\r\n        &lt;/orderEntry&gt;\r\n      &lt;/component&gt;\r\n    &lt;/module&gt;\r\n\r\nP.S.: save the file and don&#39;t let to IntelliJ Idea reload it. Just once.\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Works for me: IntelliJ IDEA 13.1.1, JUnit4, Java 6</p>\n\n<p>I changed the file in project path: [PROJECT_NAME].iml</p>\n\n<p>Replaced:</p>\n\n<pre><code>  &lt;library&gt;\n    &lt;CLASSES&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/\" /&gt;\n    &lt;/CLASSES&gt;\n    &lt;JAVADOC /&gt;\n    &lt;SOURCES /&gt;\n  &lt;/library&gt;\n</code></pre>\n\n<p>By:</p>\n\n<pre><code>  &lt;library name=\"JUnit4\"&gt;\n    &lt;CLASSES&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/\" /&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/\" /&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/\" /&gt;\n    &lt;/CLASSES&gt;\n    &lt;JAVADOC /&gt;\n    &lt;SOURCES /&gt;\n  &lt;/library&gt;\n</code></pre>\n\n<p>So the final .iml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;module type=\"JAVA_MODULE\" version=\"4\"&gt;\n  &lt;component name=\"NewModuleRootManager\" inherit-compiler-output=\"true\"&gt;\n    &lt;exclude-output /&gt;\n    &lt;content url=\"file://$MODULE_DIR$\"&gt;\n      &lt;sourceFolder url=\"file://$MODULE_DIR$/src\" isTestSource=\"false\" /&gt;\n      &lt;sourceFolder url=\"file://$MODULE_DIR$/tests\" isTestSource=\"true\" /&gt;\n    &lt;/content&gt;\n    &lt;orderEntry type=\"inheritedJdk\" /&gt;\n    &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n    &lt;orderEntry type=\"module-library\"&gt;\n      &lt;library name=\"JUnit4\"&gt;\n        &lt;CLASSES&gt;\n          &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/\" /&gt;\n          &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/\" /&gt;\n          &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/\" /&gt;\n        &lt;/CLASSES&gt;\n        &lt;JAVADOC /&gt;\n        &lt;SOURCES /&gt;\n      &lt;/library&gt;\n    &lt;/orderEntry&gt;\n  &lt;/component&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>P.S.: save the file and don't let to IntelliJ Idea reload it. Just once.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457601544,"creation_date":1457601544,"answer_id":35912171,"question_id":14539072,"body_markdown":"The problem is when you set up eclipse to point to **JRE** instead of **JDK**. JRE has `junit4.jar` in the `lib/ext` folder, but not `hamcrest.jar` :) So the solution is to check installed JREs in Eclipse, remove the existing one and create a new one pointing to your **JDK**.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>The problem is when you set up eclipse to point to <strong>JRE</strong> instead of <strong>JDK</strong>. JRE has <code>junit4.jar</code> in the <code>lib/ext</code> folder, but not <code>hamcrest.jar</code> :) So the solution is to check installed JREs in Eclipse, remove the existing one and create a new one pointing to your <strong>JDK</strong>.</p>\n"},{"tags":[],"owner":{"account_id":8014543,"reputation":61,"user_id":6045281,"display_name":"Michael Ogala"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477652915,"creation_date":1477652915,"answer_id":40303798,"question_id":14539072,"body_markdown":"Just in case there&#39;s anyone here using netbeans and has the same problem, all you have to do is \r\n\r\n - Right click on TestLibraries\r\n - Click on Add Library\r\n - Select JUnit and click add library\r\n - Repeat the process but this time click on Hamcrest and the click add library\r\n\r\nThis should solve the problem","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Just in case there's anyone here using netbeans and has the same problem, all you have to do is </p>\n\n<ul>\n<li>Right click on TestLibraries</li>\n<li>Click on Add Library</li>\n<li>Select JUnit and click add library</li>\n<li>Repeat the process but this time click on Hamcrest and the click add library</li>\n</ul>\n\n<p>This should solve the problem</p>\n"},{"tags":[],"owner":{"account_id":10128337,"reputation":41,"user_id":7482764,"display_name":"estudiante"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485942231,"creation_date":1485942231,"answer_id":41976465,"question_id":14539072,"body_markdown":"the simplest way of solving the problem to begin with is copying latest version of    hamcrest-code.jar     into your CLASSPATH that is the file you store other .jar files needed for compilation and running of your application.\r\n\r\nthat could be e.g.: C:/ant/lib","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>the simplest way of solving the problem to begin with is copying latest version of    hamcrest-code.jar     into your CLASSPATH that is the file you store other .jar files needed for compilation and running of your application.</p>\n\n<p>that could be e.g.: C:/ant/lib</p>\n"},{"tags":[],"owner":{"account_id":7601890,"reputation":1574,"user_id":5766170,"accept_rate":43,"display_name":"Maximillian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496888338,"creation_date":1496888338,"answer_id":44425609,"question_id":14539072,"body_markdown":"This problem is because of your classpath miss hamcrest-core-1.3.jar. To resolve this add hamcrest-core-1.3.jar as you add junit-4.XX.jar into your classpath.\r\n\r\nAt first, I encounter this problem too, but after I refer to the [official site][1] and add hamcrest-core-1.3.jar into classpath with command line, it works properly finally.\r\n\r\n    javac -d ../../../../bin/ -cp ~/libs/junit-4.12.jar:/home/limxtop/projects/algorithms/bin  MaxHeapTest.java \r\n    \r\n    java -cp ../../../../bin/:/home/limxtop/libs/junit-4.12.jar:/home/limxtop/libs/hamcrest-core-1.3.jar org.junit.runner.JUnitCore com.limxtop.heap.MaxHeapTest\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/Getting-started","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>This problem is because of your classpath miss hamcrest-core-1.3.jar. To resolve this add hamcrest-core-1.3.jar as you add junit-4.XX.jar into your classpath.</p>\n\n<p>At first, I encounter this problem too, but after I refer to the <a href=\"https://github.com/junit-team/junit4/wiki/Getting-started\" rel=\"nofollow noreferrer\">official site</a> and add hamcrest-core-1.3.jar into classpath with command line, it works properly finally.</p>\n\n<pre><code>javac -d ../../../../bin/ -cp ~/libs/junit-4.12.jar:/home/limxtop/projects/algorithms/bin  MaxHeapTest.java \n\njava -cp ../../../../bin/:/home/limxtop/libs/junit-4.12.jar:/home/limxtop/libs/hamcrest-core-1.3.jar org.junit.runner.JUnitCore com.limxtop.heap.MaxHeapTest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3438826,"reputation":147,"user_id":2881228,"display_name":"Devendra Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519300228,"creation_date":1519260256,"answer_id":48917874,"question_id":14539072,"body_markdown":"This happens when you run Ant via command line. The implicit user dependencies are added in the classpath at the end and take precedence over the project-added classpath. Run Ant with **`-nouserlib`** flag. The implicit dependencies would be excluded from the classpath.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>This happens when you run Ant via command line. The implicit user dependencies are added in the classpath at the end and take precedence over the project-added classpath. Run Ant with <strong><code>-nouserlib</code></strong> flag. The implicit dependencies would be excluded from the classpath.</p>\n"},{"tags":[],"owner":{"account_id":13610751,"reputation":89,"user_id":9818347,"display_name":"ayush agrahari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532796257,"creation_date":1532796257,"answer_id":51573327,"question_id":14539072,"body_markdown":"You need to add the hamcrest-core JAR to the classpath as described here: https://github.com/junit-team/junit4/wiki/Download-and-Install","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>You need to add the hamcrest-core JAR to the classpath as described here: <a href=\"https://github.com/junit-team/junit4/wiki/Download-and-Install\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit4/wiki/Download-and-Install</a></p>\n"},{"tags":[],"owner":{"account_id":15979896,"reputation":23,"user_id":11531802,"display_name":"Alex Xiao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558418759,"creation_date":1558418759,"answer_id":56232014,"question_id":14539072,"body_markdown":"There is a better answer to solve this problem.\r\nadd dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>There is a better answer to solve this problem.\nadd dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16984883,"reputation":1,"user_id":12285901,"display_name":"Karthikraja Loganathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572268233,"creation_date":1572267598,"answer_id":58591411,"question_id":14539072,"body_markdown":"A few steps you have to follow:\r\n\r\n - Right click on the project.\r\n - Choose Build Path &amp; then from its menu choose Add Libraries.\r\n - Choose JUnit then click Next.\r\n - Choose JUnit4 then Finish.\r\n\r\nThis works for me...","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>A few steps you have to follow:</p>\n\n<ul>\n<li>Right click on the project.</li>\n<li>Choose Build Path &amp; then from its menu choose Add Libraries.</li>\n<li>Choose JUnit then click Next.</li>\n<li>Choose JUnit4 then Finish.</li>\n</ul>\n\n<p>This works for me...</p>\n"},{"tags":[],"owner":{"account_id":4920312,"reputation":48,"user_id":3963042,"display_name":"Niranjan Ghule"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603058039,"creation_date":1603053364,"answer_id":64418082,"question_id":14539072,"body_markdown":"**The hamcrest-core-1.3.jar available on maven repository is deprecated.**\r\n\r\nDownload working `hamcrest-core-1.3.jar` from official [Junit4 github link][1] .\r\nIf you want to download from maven repository, use latest `hamcrest-XX.jar`.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/Getting-started","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p><strong>The hamcrest-core-1.3.jar available on maven repository is deprecated.</strong></p>\n<p>Download working <code>hamcrest-core-1.3.jar</code> from official <a href=\"https://github.com/junit-team/junit4/wiki/Getting-started\" rel=\"nofollow noreferrer\">Junit4 github link</a> .\nIf you want to download from maven repository, use latest <code>hamcrest-XX.jar</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20532230,"reputation":1,"user_id":15069173,"display_name":"Alessandro Alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613674031,"creation_date":1613674031,"answer_id":66266257,"question_id":14539072,"body_markdown":"&quot;java.lang.SecurityException: class&quot; org.hamcrest.Matchers &quot;&#39;s signer information does not match signer information of other classes in the same package&quot;\r\n\r\nDo it:\r\nRight-click on your package\r\nclick on Build Path -&gt; Configure Build Path\r\nClick on the Libraries tab\r\nRemove JUnit\r\nApply and close\r\nReady.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>&quot;java.lang.SecurityException: class&quot; org.hamcrest.Matchers &quot;'s signer information does not match signer information of other classes in the same package&quot;</p>\n<p>Do it:\nRight-click on your package\nclick on Build Path -&gt; Configure Build Path\nClick on the Libraries tab\nRemove JUnit\nApply and close\nReady.</p>\n"},{"tags":[],"owner":{"account_id":20511069,"reputation":1,"user_id":15052826,"display_name":"Aashish Solanky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614752696,"creation_date":1614752696,"answer_id":66451818,"question_id":14539072,"body_markdown":"Try adding the jar files manually or try with force update with the latest hamcrest.jar","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Try adding the jar files manually or try with force update with the latest hamcrest.jar</p>\n"},{"tags":[],"owner":{"account_id":30025071,"reputation":1,"user_id":23009515,"display_name":"Pratyush Mohapatra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701281500,"creation_date":1701281500,"answer_id":77573586,"question_id":14539072,"body_markdown":"After spending 2hr, I found following jar files are compatible with RestAssure API calls.\r\n\r\ncommons-lang3-3.11.jar\r\ncommons-logging-1.2.jar\r\ngroovy-4.0.11.jar\r\ngroovy-json-4.0.11.jar\r\ngroovy-xml-4.0.11.jar\r\nhamcrest-all-1.3.jar\r\nhttpclient-4.5.13.jar\r\nhttpcore-4.4.4.jar\r\nhttpcore-nio-4.4.12.jar\r\nhttpmime-4.3.6.jar\r\nrest-assured-5.3.2.jar\r\nrest-assured-all-5.3.2.jar\r\ntagsoup-1.2.1.jar\r\ntestng-7.8.0.jar\r\nunirest-java-1.4.9.jar","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>After spending 2hr, I found following jar files are compatible with RestAssure API calls.</p>\n<p>commons-lang3-3.11.jar\ncommons-logging-1.2.jar\ngroovy-4.0.11.jar\ngroovy-json-4.0.11.jar\ngroovy-xml-4.0.11.jar\nhamcrest-all-1.3.jar\nhttpclient-4.5.13.jar\nhttpcore-4.4.4.jar\nhttpcore-nio-4.4.12.jar\nhttpmime-4.3.6.jar\nrest-assured-5.3.2.jar\nrest-assured-all-5.3.2.jar\ntagsoup-1.2.1.jar\ntestng-7.8.0.jar\nunirest-java-1.4.9.jar</p>\n"}],"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176851,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"answer_count":21,"score":130,"last_activity_date":1701281500,"creation_date":1359218476,"question_id":14539072,"body_markdown":"While running `junit` test in `eclipse` I am getting this `Exception`:\r\n\r\n    java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing\r\n\r\nI&#39;ve added `junit.jar` library file.\r\n\r\nI&#39;ve tried different versions of junit.jar: `4.4`, `4.8`, etc.\r\n\r\nHow do I fix this Exception?","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>While running <code>junit</code> test in <code>eclipse</code> I am getting this <code>Exception</code>:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing\n</code></pre>\n\n<p>I've added <code>junit.jar</code> library file.</p>\n\n<p>I've tried different versions of junit.jar: <code>4.4</code>, <code>4.8</code>, etc.</p>\n\n<p>How do I fix this Exception?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","cucumber"],"comments":[{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":0,"creation_date":1423590433,"post_id":28429688,"comment_id":45206447,"body_markdown":"cucumber doesn&#39;t have anything to do with button click. Do you have any `Background` step? Is there any &#39;similar&#39; step in any other step definition?  What happens in the step before?","body":"cucumber doesn&#39;t have anything to do with button click. Do you have any <code>Background</code> step? Is there any &#39;similar&#39; step in any other step definition?  What happens in the step before?"},{"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"score":0,"creation_date":1423651824,"post_id":28429688,"comment_id":45232078,"body_markdown":"I don&#39;t know what `Background step` is. How do a similar step look like? Nothing special happens in the previous step. no click btw","body":"I don&#39;t know what <code>Background step</code> is. How do a similar step look like? Nothing special happens in the previous step. no click btw"},{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":0,"creation_date":1423666465,"post_id":28429688,"comment_id":45241147,"body_markdown":"Is your code available to check? I&#39;m 100% sure this has nothing to do with cucumber","body":"Is your code available to check? I&#39;m 100% sure this has nothing to do with cucumber"}],"answers":[{"tags":[],"owner":{"account_id":26339930,"reputation":86,"user_id":19999151,"display_name":"Mitsudani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701281159,"creation_date":1701281159,"answer_id":77573553,"question_id":28429688,"body_markdown":"This is quite late answer but I ran into a similar issue yesterday and maybe it can be useful for someone.\r\n\r\nDid you have a `.sendkeys()` method somewhere in your code, which takes input data from string list or an external source? Because if there&#39;s a `&quot;\\n&quot; newline` or other escape sequence at the end of the input string, it will trigger an &quot;enter&quot; key press, this can be triggering the button (not actually a click).\r\n\r\n","title":"I enter a specific step in cucumber - a click on a button is simulated, without me triggering it","body":"<p>This is quite late answer but I ran into a similar issue yesterday and maybe it can be useful for someone.</p>\n<p>Did you have a <code>.sendkeys()</code> method somewhere in your code, which takes input data from string list or an external source? Because if there's a <code>&quot;\\n&quot; newline</code> or other escape sequence at the end of the input string, it will trigger an &quot;enter&quot; key press, this can be triggering the button (not actually a click).</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701281159,"creation_date":1423565132,"question_id":28429688,"body_markdown":"I use selenium to detect 2 buttons in a webpage.\r\n\r\nMy test is using cucumber. \r\n\r\nUnfortunately, when I enter a specific step in cucumber -\r\n\r\na click on a button is simulated, without me triggering it.\r\n\r\n\r\nIs this a known issue?\r\n\r\n**my steps:**\r\n\r\n    Feature: app inbox\r\n      Scenario: app nav inbox\r\n        Given There exists an admin logged in client\r\n        And I navigate to offer &quot;app_navigable&quot; inbox page\r\n        Then text should be as follows:\r\n          | name         | visibility | text                               |\r\n          | inbox_title1 | true       | Here’s the link to the app nav app |\r\n          | inbox_title2 | true       | app nav mail title                 |\r\n\r\n**in the first line of this method the button is clicked:**\r\n\r\n    @And(&quot;^text should be as follows:$&quot;)\r\n    public void text_should_be_as_follows(List&lt;Map&lt;String,\r\n            String&gt;&gt; previewPropList) throws Throwable {\r\n        Map&lt;String, String&gt; previewProps;\r\n        for (int i = 0; i &lt; previewPropList.size(); i++) {\r\n\r\n\r\nany more data I can add to figure it out?","title":"I enter a specific step in cucumber - a click on a button is simulated, without me triggering it","body":"<p>I use selenium to detect 2 buttons in a webpage.</p>\n\n<p>My test is using cucumber. </p>\n\n<p>Unfortunately, when I enter a specific step in cucumber -</p>\n\n<p>a click on a button is simulated, without me triggering it.</p>\n\n<p>Is this a known issue?</p>\n\n<p><strong>my steps:</strong></p>\n\n<pre><code>Feature: app inbox\n  Scenario: app nav inbox\n    Given There exists an admin logged in client\n    And I navigate to offer \"app_navigable\" inbox page\n    Then text should be as follows:\n      | name         | visibility | text                               |\n      | inbox_title1 | true       | Here’s the link to the app nav app |\n      | inbox_title2 | true       | app nav mail title                 |\n</code></pre>\n\n<p><strong>in the first line of this method the button is clicked:</strong></p>\n\n<pre><code>@And(\"^text should be as follows:$\")\npublic void text_should_be_as_follows(List&lt;Map&lt;String,\n        String&gt;&gt; previewPropList) throws Throwable {\n    Map&lt;String, String&gt; previewProps;\n    for (int i = 0; i &lt; previewPropList.size(); i++) {\n</code></pre>\n\n<p>any more data I can add to figure it out?</p>\n"},{"tags":["java","excel","apache","jar"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1504780154,"post_id":46093952,"comment_id":79149600,"body_markdown":"change `FileInputStream fis=...` to `InputStream fis=...` look it up [here](https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#XSSFWorkbook(java.io.InputStream))","body":"change <code>FileInputStream fis=...</code> to <code>InputStream fis=...</code> look it up <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#XSSFWorkbook(java.io.InputStream)\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504780289,"post_id":46093952,"comment_id":79149693,"body_markdown":"Getting error  Cannot initiate InputStream...","body":"Getting error  Cannot initiate InputStream..."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1504780379,"post_id":46093952,"comment_id":79149767,"body_markdown":"`File src = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\n\t\tInputStream fis = new FileInputStream(src);` works perfectly fine","body":"<code>File src = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;); \t\tInputStream fis = new FileInputStream(src);</code> works perfectly fine"},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504780570,"post_id":46093952,"comment_id":79149874,"body_markdown":"Hi the issue is with line 14 as per screenshot.. The problem is with XSSFWorkbook wb = new XSSFWorkbook(fis);","body":"Hi the issue is with line 14 as per screenshot.. The problem is with XSSFWorkbook wb = new XSSFWorkbook(fis);"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504781686,"post_id":46093952,"comment_id":79150585,"body_markdown":"@XtremeBaumer FileInputStream **is** an InputStream, so you should be able to pass it *as* an InputStream.","body":"@XtremeBaumer FileInputStream <b>is</b> an InputStream, so you should be able to pass it <i>as</i> an InputStream."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504781964,"post_id":46093952,"comment_id":79150770,"body_markdown":"Check you&#39;re using the correct version of XSSFWorkbook. Put your cursor on the class name and &#39;Go To Definition&#39;. Check the jar that it comes from.","body":"Check you&#39;re using the correct version of XSSFWorkbook. Put your cursor on the class name and &#39;Go To Definition&#39;. Check the jar that it comes from."},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504782353,"post_id":46093952,"comment_id":79151059,"body_markdown":"Hi it is referring Selenium.webdriver.Testcase.ExcelRead","body":"Hi it is referring Selenium.webdriver.Testcase.ExcelRead"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504782429,"post_id":46093952,"comment_id":79151103,"body_markdown":"Well that&#39;s not the jar that you&#39;ve unpacked with Apache POI, is it?","body":"Well that&#39;s not the jar that you&#39;ve unpacked with Apache POI, is it?"},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504782528,"post_id":46093952,"comment_id":79151178,"body_markdown":"Nope. it is not. when you mentioned class name, do you mean        \n        public class ExcelRead {\n \tpublic static void main(String[] args) throws Exception {                                                             \n       Or are you referring to  File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\n\tXSSFWorkbook wb = new XSSFWorkbook(file);\n\tXSSFSheet sheet1 = wb.getSheetAt(0);","body":"Nope. it is not. when you mentioned class name, do you mean                 public class ExcelRead {  \tpublic static void main(String[] args) throws Exception {                                                                     Or are you referring to  File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;); \tXSSFWorkbook wb = new XSSFWorkbook(file); \tXSSFSheet sheet1 = wb.getSheetAt(0);"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504783162,"post_id":46093952,"comment_id":79151578,"body_markdown":"No I meant put your cursor on the class name &quot;XSSFWorkbook&quot; on line 14 just before the variable name &quot;wb&quot;. See if it takes you to the correct version of XSSFWorkbook. If it doesn&#39;t, make sure you have included the poi-ooxml jars in your project (and do a clean &amp; rebuild).","body":"No I meant put your cursor on the class name &quot;XSSFWorkbook&quot; on line 14 just before the variable name &quot;wb&quot;. See if it takes you to the correct version of XSSFWorkbook. If it doesn&#39;t, make sure you have included the poi-ooxml jars in your project (and do a clean &amp; rebuild)."},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504783388,"post_id":46093952,"comment_id":79151746,"body_markdown":"Hi Line 14: XSSFWorkbook is referring to org.apache.poi.xssf.usermodel.XSSFWorkbook. i think it is correct.. isnt it?","body":"Hi Line 14: XSSFWorkbook is referring to org.apache.poi.xssf.usermodel.XSSFWorkbook. i think it is correct.. isnt it?"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504783633,"post_id":46093952,"comment_id":79151920,"body_markdown":"Yes it&#39;s referring to the correct *package*, but is it referring to the correct *version* in the correct *jar file*?","body":"Yes it&#39;s referring to the correct <i>package</i>, but is it referring to the correct <i>version</i> in the correct <i>jar file</i>?"}],"answers":[{"tags":[],"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1504780652,"creation_date":1504780652,"answer_id":46094225,"question_id":46093952,"body_markdown":"First of all , If you are having **File** object then why you need **FileInputStream** to be passed\r\n\r\nSecond you cannot pass **FileInputStream** to **XSSFWorkbook**, as the constructor can accept the **File** , **String** , **InputStream** , **OPCPackage** and a blank contructor see [this][1].\r\n\r\nAs you have already a file object , so you can try below code:\r\n\r\n    File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\r\n    XSSFWorkbook wb = new XSSFWorkbook(file);\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>First of all , If you are having <strong>File</strong> object then why you need <strong>FileInputStream</strong> to be passed</p>\n\n<p>Second you cannot pass <strong>FileInputStream</strong> to <strong>XSSFWorkbook</strong>, as the constructor can accept the <strong>File</strong> , <strong>String</strong> , <strong>InputStream</strong> , <strong>OPCPackage</strong> and a blank contructor see <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>As you have already a file object , so you can try below code:</p>\n\n<pre><code>File file = new File(\"T:\\\\SeleniuminputFiles\\\\input.xlsx\");\nXSSFWorkbook wb = new XSSFWorkbook(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7819361,"reputation":103,"user_id":5912936,"display_name":"Rahul Karankal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504781413,"creation_date":1504781413,"answer_id":46094470,"question_id":46093952,"body_markdown":"Try using FileInputStream :\r\n\r\n    public void ReadExcel()\r\n        {\r\n           String excelFilePath = &quot;D://Selenium Training//ExcelSearch//Configurations.xlsx&quot;;\r\n        \r\n           FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\r\n        \r\n           Workbook workbook = new XSSFWorkbook(inputStream);\r\n        \r\n           Sheet firstSheet = workbook.getSheetAt(0);\r\n        }","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>Try using FileInputStream :</p>\n\n<pre><code>public void ReadExcel()\n    {\n       String excelFilePath = \"D://Selenium Training//ExcelSearch//Configurations.xlsx\";\n\n       FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\n\n       Workbook workbook = new XSSFWorkbook(inputStream);\n\n       Sheet firstSheet = workbook.getSheetAt(0);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10633418,"reputation":1,"user_id":7830810,"display_name":"Chaman Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510832300,"creation_date":1510832300,"answer_id":47328711,"question_id":46093952,"body_markdown":"Maybe you are not using the current version. I had the same issue.\r\n\r\npoi-3.8-20120326\r\npoi-ooxml-3.9\r\npoi-ooxml-schemas-3.7\r\npoi-ooxml-schemas-3.9\r\n\r\nTry installing this versions or latest versions.","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>Maybe you are not using the current version. I had the same issue.</p>\n\n<p>poi-3.8-20120326\npoi-ooxml-3.9\npoi-ooxml-schemas-3.7\npoi-ooxml-schemas-3.9</p>\n\n<p>Try installing this versions or latest versions.</p>\n"},{"tags":[],"owner":{"account_id":14853389,"reputation":1,"user_id":10726606,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543569400,"creation_date":1543564625,"answer_id":53553425,"question_id":46093952,"body_markdown":"I faced the same issue. I added the latest poi jar in the build path. The issue is resolved. It has multiple jar files. Add all the jar files in the project. \r\nFile name: poi-bin-4.0.0-20180907 \r\n\r\nDownload [here][1]\r\n\r\n\r\n\r\n\r\n  [1]: http://mirrors.estointernet.in/apache/poi/release/bin/poi-bin-4.0.0-20180907.zip","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>I faced the same issue. I added the latest poi jar in the build path. The issue is resolved. It has multiple jar files. Add all the jar files in the project. \nFile name: poi-bin-4.0.0-20180907 </p>\n\n<p>Download <a href=\"http://mirrors.estointernet.in/apache/poi/release/bin/poi-bin-4.0.0-20180907.zip\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701280965,"creation_date":1504779797,"question_id":46093952,"body_markdown":"[![enter image description here][1]][1]I am trying to read data from an excel file, i am using the following code :\r\n   \r\n\tFile src = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\r\n\tFileInputStream fis = new FileInputStream(src);\r\n\tXSSFWorkbook wb = new XSSFWorkbook(fis);\r\n\tXSSFSheet sheet1 = wb.getSheetAt(0);\r\n\t\r\nbut i am getting the compilation error as The constructor XSSFWorkbook(FileInputStream) is undefined.\r\n\r\nI have downloaded External Jar files from The latest stable release Apache POI 3.16 http://poi.apache.org/download.html#POI-3.16 \r\n\r\nYour help would be highly appreciated. \r\n\r\n[![please find attached screenshot of code with output or error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gKTVn.png\r\n  [2]: https://i.stack.imgur.com/HKG18.png","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p><a href=\"https://i.stack.imgur.com/gKTVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gKTVn.png\" alt=\"enter image description here\"></a>I am trying to read data from an excel file, i am using the following code :</p>\n\n<pre><code>File src = new File(\"T:\\\\SeleniuminputFiles\\\\input.xlsx\");\nFileInputStream fis = new FileInputStream(src);\nXSSFWorkbook wb = new XSSFWorkbook(fis);\nXSSFSheet sheet1 = wb.getSheetAt(0);\n</code></pre>\n\n<p>but i am getting the compilation error as The constructor XSSFWorkbook(FileInputStream) is undefined.</p>\n\n<p>I have downloaded External Jar files from The latest stable release Apache POI 3.16 <a href=\"http://poi.apache.org/download.html#POI-3.16\" rel=\"nofollow noreferrer\">http://poi.apache.org/download.html#POI-3.16</a> </p>\n\n<p>Your help would be highly appreciated. </p>\n\n<p><a href=\"https://i.stack.imgur.com/HKG18.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HKG18.png\" alt=\"please find attached screenshot of code with output or error\"></a></p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":5695434,"reputation":520,"user_id":4505013,"display_name":"mhbrooks"},"score":0,"creation_date":1443520505,"post_id":32822475,"comment_id":53516404,"body_markdown":"Are you behind any sort of company network/web proxy or just a standard internet connection?","body":"Are you behind any sort of company network/web proxy or just a standard internet connection?"}],"answers":[{"tags":[],"owner":{"account_id":11957844,"reputation":371,"user_id":8749662,"display_name":"Niravdas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554970558,"creation_date":1554970558,"answer_id":55627765,"question_id":32822475,"body_markdown":"You have to determine\r\n\r\n - SECRET_KEY\r\n - ACCESS_KEY\r\n - END_POINT_URL\r\n\r\nfor authentication purpose.\r\nand use:\r\n\r\n        AmazonS3 s3;\r\n        AWSCredentials credentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\r\n\t\ts3 = new AmazonS3Client(credentials);\r\n\t\ts3.setEndpoint(END_POINT_URL);\r\n\r\nnow you can upload image using `s3` object.","title":"com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated","body":"<p>You have to determine</p>\n\n<ul>\n<li>SECRET_KEY</li>\n<li>ACCESS_KEY</li>\n<li>END_POINT_URL</li>\n</ul>\n\n<p>for authentication purpose.\nand use:</p>\n\n<pre><code>    AmazonS3 s3;\n    AWSCredentials credentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\n    s3 = new AmazonS3Client(credentials);\n    s3.setEndpoint(END_POINT_URL);\n</code></pre>\n\n<p>now you can upload image using <code>s3</code> object.</p>\n"}],"owner":{"account_id":7027679,"reputation":21,"user_id":5384561,"display_name":"Kuldeep Kumar Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8840,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701280965,"creation_date":1443441654,"question_id":32822475,"body_markdown":"I created a new account on amazon aws to use s3 bucket and I&#39;ve written this code to upload one image file to s3 bucket but it gives me this exception: &gt;Unable to execute HTTP request: peer not authenticated.\r\n\r\nThis is my main method:\r\n    \r\n    public class Main2 {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile file=new File(&quot;C:\\\\Users\\\\KDSss\\\\OneDrive\\\\Pictures\\\\my photo 001.jpg&quot;);\r\n    \t\ttry {\r\n    \t\t\tInputStream targetStream = new FileInputStream(file);\r\n    \t\t\tS3Upload.uploadImage(targetStream, &quot;Discussion&quot;, &quot;jpg&quot;);\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\nAnd this is my S3Upload.java\r\n    \r\n    public class S3Upload \r\n    {\r\n    \t\r\n    \t public static void uploadImage(InputStream path, String imageName, String imageType) throws IOException\r\n    \t {\r\n    \t\t  String existingBucketName = &quot;housejoy/hjcustomerimage/&quot;;\r\n    \t\t  String keyName = imageName+&quot;.png&quot;;\r\n    \t\t  AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(UploadFile.class.getResourceAsStream(&quot;AwsCredentials.properties&quot;)));\r\n    \t\t  ObjectMetadata objectMetadata = new ObjectMetadata();\r\n    \t\t  objectMetadata.setContentType(imageType);\r\n    \t\t  PutObjectRequest putObjectRequest = new PutObjectRequest(existingBucketName, keyName, path, objectMetadata);\r\n    \t\t  putObjectRequest.setCannedAcl(CannedAccessControlList.PublicRead);\r\n    \t\t  PutObjectResult result = s3Client.putObject(putObjectRequest);\r\n    \t\t  System.out.println(&quot;Etag:&quot; + result.getETag() + &quot;--&gt;&quot; + result);\r\n    \t\t }\r\n    }\r\n    \r\nAfter running, I&#39;m getting this exception:\r\n\r\n    com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\r\n    \tat com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)......\r\n    Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    \tat sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n    \tat org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:151)........com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\r\n    \tat com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)\r\n    \tat com.housejoy.ce.service.UploadImageService.uploadImage(UploadImageService.java:171.................Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    \tat sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n\r\n","title":"com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated","body":"<p>I created a new account on amazon aws to use s3 bucket and I've written this code to upload one image file to s3 bucket but it gives me this exception: >Unable to execute HTTP request: peer not authenticated.</p>\n\n<p>This is my main method:</p>\n\n<pre><code>public class Main2 {\n\n    public static void main(String[] args) throws IOException {\n        File file=new File(\"C:\\\\Users\\\\KDSss\\\\OneDrive\\\\Pictures\\\\my photo 001.jpg\");\n        try {\n            InputStream targetStream = new FileInputStream(file);\n            S3Upload.uploadImage(targetStream, \"Discussion\", \"jpg\");\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>And this is my S3Upload.java</p>\n\n<pre><code>public class S3Upload \n{\n\n     public static void uploadImage(InputStream path, String imageName, String imageType) throws IOException\n     {\n          String existingBucketName = \"housejoy/hjcustomerimage/\";\n          String keyName = imageName+\".png\";\n          AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(UploadFile.class.getResourceAsStream(\"AwsCredentials.properties\")));\n          ObjectMetadata objectMetadata = new ObjectMetadata();\n          objectMetadata.setContentType(imageType);\n          PutObjectRequest putObjectRequest = new PutObjectRequest(existingBucketName, keyName, path, objectMetadata);\n          putObjectRequest.setCannedAcl(CannedAccessControlList.PublicRead);\n          PutObjectResult result = s3Client.putObject(putObjectRequest);\n          System.out.println(\"Etag:\" + result.getETag() + \"--&gt;\" + result);\n         }\n}\n</code></pre>\n\n<p>After running, I'm getting this exception:</p>\n\n<pre><code>com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\n    at com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)......\nCaused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:151)........com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\n    at com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)\n    at com.housejoy.ce.service.UploadImageService.uploadImage(UploadImageService.java:171.................Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","servlets","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":3567903,"reputation":634,"user_id":2978985,"display_name":"Akshaya Jeevan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522734662,"creation_date":1522734662,"answer_id":49623105,"question_id":49622781,"body_markdown":"You can use interceptors- [`HandlerInterceptor`][1]. Please refer below url for how-to.\r\n\r\nhttps://www.journaldev.com/2676/spring-mvc-interceptor-example-handlerinterceptor-handlerinterceptoradapter\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>You can use interceptors- <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html\" rel=\"nofollow noreferrer\"><code>HandlerInterceptor</code></a>. Please refer below url for how-to.</p>\n\n<p><a href=\"https://www.journaldev.com/2676/spring-mvc-interceptor-example-handlerinterceptor-handlerinterceptoradapter\" rel=\"nofollow noreferrer\">https://www.journaldev.com/2676/spring-mvc-interceptor-example-handlerinterceptor-handlerinterceptoradapter</a></p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1522735218,"creation_date":1522735218,"answer_id":49623221,"question_id":49622781,"body_markdown":"Unfortunately, Spring Boot doesn&#39;t honor the urlPatterns for filters declared with WebFilter. If you need to apply a pattern, you&#39;ll have to declare the filter as a bean and declare a filter registration for that bean, in a configuration class. For example:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CORSFilter&gt; corsFilterRegistration() {\r\n        FilterRegistrationBean&lt;CORSFilter&gt; filterRegistrationBean =\r\n            new FilterRegistrationBean&lt;&gt;(corsFilter());\r\n        filterRegistrationBean.setUrlPatterns(Collections.singleton(&quot;/getToken&quot;));\r\n        return filterRegistrationBean;\r\n    }\r\n\r\n    @Bean\r\n    public CORSFilter corsFilter() {\r\n        return new CORSFilter();\r\n    }\r\n\r\nNote however that Spring Boot has [native support for CORS][1]. You don&#39;t need any filter for that. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-cors","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>Unfortunately, Spring Boot doesn't honor the urlPatterns for filters declared with WebFilter. If you need to apply a pattern, you'll have to declare the filter as a bean and declare a filter registration for that bean, in a configuration class. For example:</p>\n\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;CORSFilter&gt; corsFilterRegistration() {\n    FilterRegistrationBean&lt;CORSFilter&gt; filterRegistrationBean =\n        new FilterRegistrationBean&lt;&gt;(corsFilter());\n    filterRegistrationBean.setUrlPatterns(Collections.singleton(\"/getToken\"));\n    return filterRegistrationBean;\n}\n\n@Bean\npublic CORSFilter corsFilter() {\n    return new CORSFilter();\n}\n</code></pre>\n\n<p>Note however that Spring Boot has <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-cors\" rel=\"noreferrer\">native support for CORS</a>. You don't need any filter for that. </p>\n"},{"tags":[],"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522738446,"creation_date":1522738446,"answer_id":49623966,"question_id":49622781,"body_markdown":"If it is pure jsp based application then you need to declare it in web.xml because **@WebFilter** doesn&#39;t guarantee the order of execution of filters or if it is spring based application then you can use **@CrossOrigin** on method level or declare a bean to filter each and every url as mentioned in the below url\r\n\r\n[Spring CORS][1]\r\n\r\n\r\n  [1]:https://spring.io/guides/gs/rest-service-cors/","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>If it is pure jsp based application then you need to declare it in web.xml because <strong>@WebFilter</strong> doesn't guarantee the order of execution of filters or if it is spring based application then you can use <strong>@CrossOrigin</strong> on method level or declare a bean to filter each and every url as mentioned in the below url</p>\n\n<p><a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">Spring CORS</a></p>\n"}],"owner":{"account_id":7882188,"reputation":1056,"user_id":5955739,"display_name":"lambad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49623221,"answer_count":3,"score":2,"last_activity_date":1701280429,"creation_date":1522733051,"question_id":49622781,"body_markdown":"I have a function with `@GetMapping(value = &quot;/getToken&quot;)` that writes JSON content.\r\n\r\n    @GetMapping(value = &quot;/getToken&quot;)\r\n    public String getToken(HttpServletRequest request, HttpServletResponse response, Model model) {\r\n        // jsonObject\r\n        PrintWriter out = response.getWriter();\r\n    \tout.print(jsonObject);\r\n    }\r\n    \r\nNow, a user can make a `GET` request to above mapping using a URL like this:\r\n\r\n&gt; `localhost:8080/getToken?username=&quot;username&quot;&amp;password=&quot;password&quot;`\r\n\r\nI have also created a class called `CORSFilter` that implements `javax.servlet.Filter` and i want this filter to intercept only those request that have `/getToken` in the request path.\r\n\r\n    @WebFilter(urlPatterns = &quot;/getToken&quot;)\r\n\tpublic class CORSFilter implements Filter {\r\n\r\n\t    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n\t\t    // validate user and password\r\n\t\t\tchain.doFilter(requestToUse, responseToUse);\r\n\t\t}\r\n    }\r\n\r\nNow, when I hit `localhost:8080` or `localhost:8080/thankyou` in the browser then the above filter is getting called.\r\n\r\nHow can I stop this?\r\n\r\nI want to call above filter only if the URL path is  \r\n&gt; `localhost:8080/getToken?username=&quot;user&quot;&amp;password=&quot;pass&quot;`\r\n","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>I have a function with <code>@GetMapping(value = &quot;/getToken&quot;)</code> that writes JSON content.</p>\n<pre><code>@GetMapping(value = &quot;/getToken&quot;)\npublic String getToken(HttpServletRequest request, HttpServletResponse response, Model model) {\n    // jsonObject\n    PrintWriter out = response.getWriter();\n    out.print(jsonObject);\n}\n</code></pre>\n<p>Now, a user can make a <code>GET</code> request to above mapping using a URL like this:</p>\n<blockquote>\n<p><code>localhost:8080/getToken?username=&quot;username&quot;&amp;password=&quot;password&quot;</code></p>\n</blockquote>\n<p>I have also created a class called <code>CORSFilter</code> that implements <code>javax.servlet.Filter</code> and i want this filter to intercept only those request that have <code>/getToken</code> in the request path.</p>\n<pre><code>@WebFilter(urlPatterns = &quot;/getToken&quot;)\npublic class CORSFilter implements Filter {\n\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        // validate user and password\n        chain.doFilter(requestToUse, responseToUse);\n    }\n}\n</code></pre>\n<p>Now, when I hit <code>localhost:8080</code> or <code>localhost:8080/thankyou</code> in the browser then the above filter is getting called.</p>\n<p>How can I stop this?</p>\n<p>I want to call above filter only if the URL path is</p>\n<blockquote>\n<p><code>localhost:8080/getToken?username=&quot;user&quot;&amp;password=&quot;pass&quot;</code></p>\n</blockquote>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":3,"creation_date":1701211157,"post_id":77566356,"comment_id":136746917,"body_markdown":"You&#39;re trying to do everything manually that spring will do for you automatically.  Is there a reason for not just adding @Component to BeanA and BeanB and adding the appropriate dependencies to the constructor?","body":"You&#39;re trying to do everything manually that spring will do for you automatically.  Is there a reason for not just adding @Component to BeanA and BeanB and adding the appropriate dependencies to the constructor?"},{"owner":{"account_id":94149,"reputation":304,"user_id":2574254,"accept_rate":73,"display_name":"AM01"},"score":0,"creation_date":1701258490,"post_id":77566356,"comment_id":136752746,"body_markdown":"Thanks lane.maxwell. I do want to use @Component for BeanA and BeanB, as mentioned in the original question. Just not sure whether they will get the EnvrionmentConfig with the original setup as I am doing it manually here. That is the main issue, how to pass this state and make other bean instantiate after EnvironmentConfig Bean has been updated.","body":"Thanks lane.maxwell. I do want to use @Component for BeanA and BeanB, as mentioned in the original question. Just not sure whether they will get the EnvrionmentConfig with the original setup as I am doing it manually here. That is the main issue, how to pass this state and make other bean instantiate after EnvironmentConfig Bean has been updated."},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701265213,"post_id":77566356,"comment_id":136754035,"body_markdown":"What is the &quot;original question&quot;? Can you create a `@Configuration` and return your classes from a `@Bean` method?","body":"What is the &quot;original question&quot;? Can you create a <code>@Configuration</code> and return your classes from a <code>@Bean</code> method?"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1701280647,"post_id":77566356,"comment_id":136757329,"body_markdown":"If one of the beans needs setup before other beans use it, the init method of the beans can be used to ensure order.  This can be accomplished by putting an init method on the `EnvironmentConfig` bean that makes it ready for use, and then init methods on it&#39;s consuming beans that then make use of it.  Spring makes sure the order of init method calls is based on bean dependencies.","body":"If one of the beans needs setup before other beans use it, the init method of the beans can be used to ensure order.  This can be accomplished by putting an init method on the <code>EnvironmentConfig</code> bean that makes it ready for use, and then init methods on it&#39;s consuming beans that then make use of it.  Spring makes sure the order of init method calls is based on bean dependencies."},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1701280852,"post_id":77566356,"comment_id":136757374,"body_markdown":"BTW, looking at the name `EnvironmentConfig` it sounds like functionality that Spring already provides.  You can have environment-specific config files, and in your beans just ignore the environment part (e.g. `$Value(&quot;configA&quot;)`).  Spring switches between the different environment-specific configuration files itself.","body":"BTW, looking at the name <code>EnvironmentConfig</code> it sounds like functionality that Spring already provides.  You can have environment-specific config files, and in your beans just ignore the environment part (e.g. <code>$Value(&quot;configA&quot;)</code>).  Spring switches between the different environment-specific configuration files itself."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701280368,"creation_date":1701280368,"answer_id":77573478,"question_id":77566356,"body_markdown":"Assuming that `Environment` is a Bean, you can configure it like this.\r\n\r\n    @Component\r\n    public class EnvironmentConfig {\r\n      private final Environment environment;\r\n\r\n      public EnvironmentConfig (Environment environment) {\r\n        this.environment = environment;\r\n      }\r\n\r\n      // declare this method to return whatever type storage is, assuming it&#39;s an object of type Storage\r\n      public Storage getStorage() {\r\n        return storage from wherever it comes from\r\n      }\r\n    }\r\n\r\nIf `Environment` is not a Bean, then there are several options for creating it.  You could just construct it in the constructor.\r\n\r\n    @Component\r\n    public class EnvironmentConfig {\r\n      private final Environment environment;\r\n\r\n      public EnvironmentConfig() {\r\n        this.environment = new Environment();\r\n      }\r\n    }\r\n\r\nOr, you could implement `InitializingBean` and create it there.\r\n\r\n    @Component\r\n    public class EnvironmentConfig implements InitializingBean {\r\n      private Environment environment;\r\n\r\n      @Override\r\n      public void afterPropertiesSet() throws Exception {\r\n        this.environment = new Environment();\r\n      }\r\n    }\r\n\r\nOr, you can a `@PostConstruct` method and build it there.\r\n\r\n    @Component\r\n    public class EnvironmentConfig {\r\n      private Environment environment;\r\n\r\n      @PostConstruct\r\n      public void initializeMyCollaboratorsThatAreNotBeans() {\r\n        this.environment = new Environment();\r\n      }\r\n    }\r\n\r\nThe point here is that there are many ways to create a bean of your `EnvironmentConfig`, then you can inject it into your other beans as you normally would.  This definition of A and B would satisfy what you&#39;ve laid out here, I believe.\r\n\r\n    @Component\r\n    public class BeanA {\r\n      private final Storage storage;\r\n\r\n      public BeanA (EnvironmentConfig environmentConfig) {\r\n        this.storage = environmentConfig.getStorage();\r\n      }\r\n    }\r\n\r\n    @Component\r\n    public class BeanB {\r\n      private final BeanA beanA;\r\n\r\n      public BeanB (BeanA beanA) {\r\n        this.beanA = beanA;\r\n      }\r\n    }\r\n","title":"Spring create One bean before all others","body":"<p>Assuming that <code>Environment</code> is a Bean, you can configure it like this.</p>\n<pre><code>@Component\npublic class EnvironmentConfig {\n  private final Environment environment;\n\n  public EnvironmentConfig (Environment environment) {\n    this.environment = environment;\n  }\n\n  // declare this method to return whatever type storage is, assuming it's an object of type Storage\n  public Storage getStorage() {\n    return storage from wherever it comes from\n  }\n}\n</code></pre>\n<p>If <code>Environment</code> is not a Bean, then there are several options for creating it.  You could just construct it in the constructor.</p>\n<pre><code>@Component\npublic class EnvironmentConfig {\n  private final Environment environment;\n\n  public EnvironmentConfig() {\n    this.environment = new Environment();\n  }\n}\n</code></pre>\n<p>Or, you could implement <code>InitializingBean</code> and create it there.</p>\n<pre><code>@Component\npublic class EnvironmentConfig implements InitializingBean {\n  private Environment environment;\n\n  @Override\n  public void afterPropertiesSet() throws Exception {\n    this.environment = new Environment();\n  }\n}\n</code></pre>\n<p>Or, you can a <code>@PostConstruct</code> method and build it there.</p>\n<pre><code>@Component\npublic class EnvironmentConfig {\n  private Environment environment;\n\n  @PostConstruct\n  public void initializeMyCollaboratorsThatAreNotBeans() {\n    this.environment = new Environment();\n  }\n}\n</code></pre>\n<p>The point here is that there are many ways to create a bean of your <code>EnvironmentConfig</code>, then you can inject it into your other beans as you normally would.  This definition of A and B would satisfy what you've laid out here, I believe.</p>\n<pre><code>@Component\npublic class BeanA {\n  private final Storage storage;\n\n  public BeanA (EnvironmentConfig environmentConfig) {\n    this.storage = environmentConfig.getStorage();\n  }\n}\n\n@Component\npublic class BeanB {\n  private final BeanA beanA;\n\n  public BeanB (BeanA beanA) {\n    this.beanA = beanA;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":94149,"reputation":304,"user_id":2574254,"accept_rate":73,"display_name":"AM01"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77573478,"answer_count":1,"score":0,"last_activity_date":1701280368,"creation_date":1701196525,"question_id":77566356,"body_markdown":"Returning to Spring after a long time and trying to add it to an existing application. \r\n\r\nApp start point (assume there is an `Environment` object here, which provides configuration elements from a file):\r\n```\r\npublic static void main(final String... args) {\r\n  try (AnnotationConfigApplicationContext context =\r\n      new AnnotationConfigApplicationContext(AppConfig.class)) {\r\n    EnvironmentConfig environmentConfig = context.getBean(EnvironmentConfig.class);\r\n    environmentConfig.setEnvironment(environment);\r\n\r\n    // TODO move to being a bean with EnvironmentConfig being a dependency\r\n    final BeanA beanA = new BeanA(environmentConfig.getStorage());\r\n\r\n    // TODO move to being a bean with BeanA being a dependency\r\n    final BeanB beanB = new BeanB(BeanA);\r\n  }\r\n}\r\n```\r\n\r\nI have a AppConfig setup for component scan like:\r\n```\r\npackage com.company.packageX;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;com.company.packageX&quot;)\r\npublic class AppConfig {}\r\n```\r\n\r\nSo I need to create two beans (as above) but also want them to be auto-wired with dependencies.\r\n\r\nProblem is that I am setting up `environment` in `EnvironmentConfig` only in the `main method`. If I move the creation of Beans by annotating the two with `@Component`, not sure that they will get the EnvironmentConfig with environment being already set, as Beans are created when `ComponentScan` runs.","title":"Spring create One bean before all others","body":"<p>Returning to Spring after a long time and trying to add it to an existing application.</p>\n<p>App start point (assume there is an <code>Environment</code> object here, which provides configuration elements from a file):</p>\n<pre><code>public static void main(final String... args) {\n  try (AnnotationConfigApplicationContext context =\n      new AnnotationConfigApplicationContext(AppConfig.class)) {\n    EnvironmentConfig environmentConfig = context.getBean(EnvironmentConfig.class);\n    environmentConfig.setEnvironment(environment);\n\n    // TODO move to being a bean with EnvironmentConfig being a dependency\n    final BeanA beanA = new BeanA(environmentConfig.getStorage());\n\n    // TODO move to being a bean with BeanA being a dependency\n    final BeanB beanB = new BeanB(BeanA);\n  }\n}\n</code></pre>\n<p>I have a AppConfig setup for component scan like:</p>\n<pre><code>package com.company.packageX;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(basePackages = &quot;com.company.packageX&quot;)\npublic class AppConfig {}\n</code></pre>\n<p>So I need to create two beans (as above) but also want them to be auto-wired with dependencies.</p>\n<p>Problem is that I am setting up <code>environment</code> in <code>EnvironmentConfig</code> only in the <code>main method</code>. If I move the creation of Beans by annotating the two with <code>@Component</code>, not sure that they will get the EnvironmentConfig with environment being already set, as Beans are created when <code>ComponentScan</code> runs.</p>\n"},{"tags":["java","gradle","groovy","jvm"],"comments":[{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1628854815,"post_id":68762583,"comment_id":121538291,"body_markdown":"See [my answer to a different question](https://stackoverflow.com/a/66839644/40342). The first couple of paragraphs apply here: don&#39;t confuse reproducible order (i.e. this specific implementation on this specific file system produces this specific order) with guaranteed order (i.e. it&#39;s guaranteed that all implementations will produce a specific order on all file systems).","body":"See <a href=\"https://stackoverflow.com/a/66839644/40342\">my answer to a different question</a>. The first couple of paragraphs apply here: don&#39;t confuse reproducible order (i.e. this specific implementation on this specific file system produces this specific order) with guaranteed order (i.e. it&#39;s guaranteed that all implementations will produce a specific order on all file systems)."}],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4933,"user_id":4494577,"display_name":"jannis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701279754,"creation_date":1628852752,"answer_id":68771207,"question_id":68762583,"body_markdown":"Let&#39;s break it down and have a look at [`eachDir`](https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1257) Groovy extension method implementation first:\r\n\r\n```java\r\npublic static void eachDir(File self, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) Closure closure) throws FileNotFoundException, IllegalArgumentException {\r\n\teachFile(self, FileType.DIRECTORIES, closure);\r\n}\r\n```\r\n\r\nWhat does [`eachFile`](https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1214) do?\r\n\r\n```java\r\npublic static void eachFile(final File self, final FileType fileType, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) final Closure closure)\r\n\t\tthrows FileNotFoundException, IllegalArgumentException {\r\n\tcheckDir(self);\r\n\tfinal File[] files = self.listFiles();\r\n\t// null check because of https://bugs.java.com/bugdatabase/view_bug?bug_id=4803836\r\n\tif (files == null) return;\r\n\tfor (File file : files) {\r\n\t\tif (fileType == FileType.ANY ||\r\n\t\t\t\t(fileType != FileType.FILES &amp;&amp; file.isDirectory()) ||\r\n\t\t\t\t(fileType != FileType.DIRECTORIES &amp;&amp; file.isFile())) {\r\n\t\t\tclosure.call(file);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOK, so Groovy just calls Java&#39;s [`File#listFiles` method](https://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles()) under the covers and then iterates the result without interfering with the existing order.\r\n\r\nMoving to the OpenJDK implementation we can see that  [`Files#listFiles`](https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1268) uses [`FileSystem#list`](https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1176) via the [`normalizedList`](https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1167) method.\r\n\r\n[`FileSystem#list`](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/share/classes/java/io/FileSystem.java#L178) is abstract. Continuing to the two most popular implementations it turns out that both [`UnixFileSystem#list`](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/classes/java/io/UnixFileSystem.java#L316) and [`Win32FileSystem#list`](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/classes/java/io/WinNTFileSystem.java#L556) have a `native` implementation:\r\n\r\n```java\r\n@Override\r\npublic native String[] list(File f);\r\n```\r\n\r\n# Windows\r\n\r\nDigging into the [Windows implementation](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/native/libjava/WinNTFileSystem_md.c#L690):\r\n\r\n```c\r\nJNIEXPORT jobjectArray JNICALL\r\nJava_java_io_WinNTFileSystem_list(JNIEnv *env, jobject this, jobject file)\r\n{\r\n\tWCHAR *search_path;\r\n\tHANDLE handle;\r\n\tWIN32_FIND_DATAW find_data;\r\n\tint len, maxlen;\r\n\tjobjectArray rv, old;\r\n\tDWORD fattr;\r\n\tjstring name;\r\n\tjclass str_class;\r\n\tWCHAR *pathbuf;\r\n\tDWORD err;\r\n\r\n\tstr_class = JNU_ClassString(env);\r\n\tCHECK_NULL_RETURN(str_class, NULL);\r\n\r\n\tpathbuf = fileToNTPath(env, file, ids.path);\r\n\tif (pathbuf == NULL)\r\n\t\treturn NULL;\r\n\tsearch_path = (WCHAR*)malloc(2*wcslen(pathbuf) + 6);\r\n\tif (search_path == 0) {\r\n\t\tfree (pathbuf);\r\n\t\terrno = ENOMEM;\r\n\t\tJNU_ThrowOutOfMemoryError(env, &quot;native memory allocation failed&quot;);\r\n\t\treturn NULL;\r\n\t}\r\n\twcscpy(search_path, pathbuf);\r\n\tfree(pathbuf);\r\n\tfattr = GetFileAttributesW(search_path);\r\n\tif (fattr == INVALID_FILE_ATTRIBUTES) {\r\n\t\tfree(search_path);\r\n\t\treturn NULL;\r\n\t} else if ((fattr &amp; FILE_ATTRIBUTE_DIRECTORY) == 0) {\r\n\t\tfree(search_path);\r\n\t\treturn NULL;\r\n\t}\r\n\r\n\t/* Remove trailing space chars from directory name */\r\n\tlen = (int)wcslen(search_path);\r\n\twhile (search_path[len-1] == L&#39; &#39;) {\r\n\t\tlen--;\r\n\t}\r\n\tsearch_path[len] = 0;\r\n\r\n\t/* Append &quot;*&quot;, or possibly &quot;\\\\*&quot;, to path */\r\n\tif ((search_path[0] == L&#39;\\\\&#39; &amp;&amp; search_path[1] == L&#39;\\0&#39;) ||\r\n\t\t(search_path[1] == L&#39;:&#39;\r\n\t\t&amp;&amp; (search_path[2] == L&#39;\\0&#39;\r\n\t\t|| (search_path[2] == L&#39;\\\\&#39; &amp;&amp; search_path[3] == L&#39;\\0&#39;)))) {\r\n\t\t/* No &#39;\\\\&#39; needed for cases like &quot;\\&quot; or &quot;Z:&quot; or &quot;Z:\\&quot; */\r\n\t\twcscat(search_path, L&quot;*&quot;);\r\n\t} else {\r\n\t\twcscat(search_path, L&quot;\\\\*&quot;);\r\n\t}\r\n\r\n\t/* Open handle to the first file */\r\n\thandle = FindFirstFileW(search_path, &amp;find_data);\r\n\tfree(search_path);\r\n\tif (handle == INVALID_HANDLE_VALUE) {\r\n\t\tif (GetLastError() != ERROR_FILE_NOT_FOUND) {\r\n\t\t\t// error\r\n\t\t\treturn NULL;\r\n\t\t} else {\r\n\t\t\t// No files found - return an empty array\r\n\t\t\trv = (*env)-&gt;NewObjectArray(env, 0, str_class, NULL);\r\n\t\t\treturn rv;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Allocate an initial String array */\r\n\tlen = 0;\r\n\tmaxlen = 16;\r\n\trv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\r\n\tif (rv == NULL) { // Couldn&#39;t allocate an array\r\n\t\tFindClose(handle);\r\n\t\treturn NULL;\r\n\t}\r\n\t/* Scan the directory */\r\n\tdo {\r\n\t\tif (!wcscmp(find_data.cFileName, L&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t|| !wcscmp(find_data.cFileName, L&quot;..&quot;))\r\n\t\t   continue;\r\n\t\tname = (*env)-&gt;NewString(env, find_data.cFileName,\r\n\t\t\t\t\t\t\t\t (jsize)wcslen(find_data.cFileName));\r\n\t\tif (name == NULL) {\r\n\t\t\tFindClose(handle);\r\n\t\t\treturn NULL; // error\r\n\t\t}\r\n\t\tif (len == maxlen) {\r\n\t\t\told = rv;\r\n\t\t\trv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\r\n\t\t\tif (rv == NULL || JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\r\n\t\t\t\tFindClose(handle);\r\n\t\t\t\treturn NULL; // error\r\n\t\t\t}\r\n\t\t\t(*env)-&gt;DeleteLocalRef(env, old);\r\n\t\t}\r\n\t\t(*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\r\n\t\t(*env)-&gt;DeleteLocalRef(env, name);\r\n\r\n\t} while (FindNextFileW(handle, &amp;find_data));\r\n\r\n\terr = GetLastError();\r\n\tFindClose(handle);\r\n\tif (err != ERROR_NO_MORE_FILES) {\r\n\t\treturn NULL; // error\r\n\t}\r\n\r\n\tif (len &lt; maxlen) {\r\n\t\t/* Copy the final results into an appropriately-sized array */\r\n\t\told = rv;\r\n\t\trv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\r\n\t\tif (rv == NULL)\r\n\t\t\treturn NULL; /* error */\r\n\t\tif (JNU_CopyObjectArray(env, rv, old, len) &lt; 0)\r\n\t\t\treturn NULL; /* error */\r\n\t}\r\n\treturn rv;\r\n}\r\n```\r\n\r\nWe can see a combination of `FindFirstFileW`, `FindNextFileW` and `FindClose` WinAPI functions used to iterate over the files. Excerpt about ordering from [the documentation of `FindNextFileW`](https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextfilew):\r\n\r\n&gt; The order in which the search returns the files, such as alphabetical order, is not guaranteed, and is dependent on the file system.\r\n&gt;\r\n&gt; (...)\r\n&gt;\r\n&gt; The order in which this function returns the file names is dependent on the file system type. With the NTFS file system and CDFS file systems, the names are usually returned in alphabetical order. With FAT file systems, the names are usually returned in the order the files were written to the disk, which may or may not be in alphabetical order. However, as stated previously, these behaviors are not guaranteed.\r\n\r\nSo the implementation lists the files in a way that tries to be most optimal given the OS and file-system type constraints. No guarantees about a particular order.\r\n\r\n# *nix\r\n\r\nWhat about *nix systems? [Here&#39;s the code](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/native/libjava/UnixFileSystem_md.c#L309):\r\n\r\n```c\r\nJNIEXPORT jobjectArray JNICALL\r\nJava_java_io_UnixFileSystem_list(JNIEnv *env, jobject this,\r\n\t\t\t\t\t\t\t\t jobject file)\r\n{\r\n\tDIR *dir = NULL;\r\n\tstruct dirent *ptr;\r\n\tint len, maxlen;\r\n\tjobjectArray rv, old;\r\n\tjclass str_class;\r\n\r\n\tstr_class = JNU_ClassString(env);\r\n\tCHECK_NULL_RETURN(str_class, NULL);\r\n\r\n\tWITH_FIELD_PLATFORM_STRING(env, file, ids.path, path) {\r\n\t\tdir = opendir(path);\r\n\t} END_PLATFORM_STRING(env, path);\r\n\tif (dir == NULL) return NULL;\r\n\r\n\t/* Allocate an initial String array */\r\n\tlen = 0;\r\n\tmaxlen = 16;\r\n\trv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\r\n\tif (rv == NULL) goto error;\r\n\r\n\t/* Scan the directory */\r\n\twhile ((ptr = readdir(dir)) != NULL) {\r\n\t\tjstring name;\r\n\t\tif (!strcmp(ptr-&gt;d_name, &quot;.&quot;) || !strcmp(ptr-&gt;d_name, &quot;..&quot;))\r\n\t\t\tcontinue;\r\n\t\tif (len == maxlen) {\r\n\t\t\told = rv;\r\n\t\t\trv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\r\n\t\t\tif (rv == NULL) goto error;\r\n\t\t\tif (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) goto error;\r\n\t\t\t(*env)-&gt;DeleteLocalRef(env, old);\r\n\t\t}\r\n#ifdef MACOSX\r\n\t\tname = newStringPlatform(env, ptr-&gt;d_name);\r\n#else\r\n\t\tname = JNU_NewStringPlatform(env, ptr-&gt;d_name);\r\n#endif\r\n\t\tif (name == NULL) goto error;\r\n\t\t(*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\r\n\t\t(*env)-&gt;DeleteLocalRef(env, name);\r\n\t}\r\n\tclosedir(dir);\r\n\r\n\t/* Copy the final results into an appropriately-sized array */\r\n\tif (len &lt; maxlen) {\r\n\t\told = rv;\r\n\t\trv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\r\n\t\tif (rv == NULL) {\r\n\t\t\treturn NULL;\r\n\t\t}\r\n\t\tif (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\r\n\t\t\treturn NULL;\r\n\t\t}\r\n\t}\r\n\treturn rv;\r\n\r\n error:\r\n\tclosedir(dir);\r\n\treturn NULL;\r\n}\r\n```\r\n\r\nThis time iteration is supported by the `opendir`/`readdir`/`closedir` trio. The [POSIX documentation of `readdir`](https://pubs.opengroup.org/onlinepubs/007908799/xsh/readdir.html) only mentions this about ordering:\r\n\r\n&gt; The type DIR, which is defined in the header &lt;dirent.h&gt;, represents a directory stream, which is an ordered sequence of all the directory entries in a particular directory.\r\n\r\n[Linux documentation](https://www.man7.org/linux/man-pages/man3/readdir.3.html) has a bit more to say:\r\n\r\n&gt; The order in which filenames are read by successive calls to readdir() depends on the filesystem implementation; it is unlikely that the names will be sorted in any fashion.\r\n\r\nClose enough to Windows there is no order-guarantees apart from that there is *some* order.\r\n\r\n# Conclusion\r\n\r\n&#39;Is not guaranteed&#39; means that a particular feature is an implementation detail and that you shouldn&#39;t rely on it. Contrary to &#39;guaranteed&#39; features, which due to backward compatibility promise to stay invariant for some (usually longer) period of time. Changes to those features are called [breaking changes](https://stackoverflow.com/questions/21703216/what-is-a-breaking-change-in-software) and are usually well documented in [release notes](https://en.wikipedia.org/wiki/Release_notes) and migration guides (see [Vue 3 migration guide](https://resources.snowflake.com/migration-guides) for example). They also get announced long before they become finalized and released - see [deprecation](https://en.wikipedia.org/wiki/Deprecation) (often leaving some time to the developers to adjust their code to the new even after they go live).\r\n\r\nThe behaviour of &#39;unguaranteed&#39; features on the other hand may differ between given product/library versions, environments (e.g. JVM implementations, operating systems, product versions) or even particular invocations. They sometimes show some predictable characteristics, but they should not be relied upon. You need to make sure to take care of the guarantees you expect for your piece of code to to have and implement them on your own.\r\n\r\n**Wrapping-up your issue: if you expect any specific order of files just sort them first - even if it means that the order will stay the same.**\r\n","title":"Why Does Groovy eachDir() Give Me The Same Sort Every Time?","body":"<p>Let's break it down and have a look at <a href=\"https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1257\" rel=\"nofollow noreferrer\"><code>eachDir</code></a> Groovy extension method implementation first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void eachDir(File self, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) Closure closure) throws FileNotFoundException, IllegalArgumentException {\n    eachFile(self, FileType.DIRECTORIES, closure);\n}\n</code></pre>\n<p>What does <a href=\"https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1214\" rel=\"nofollow noreferrer\"><code>eachFile</code></a> do?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void eachFile(final File self, final FileType fileType, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) final Closure closure)\n        throws FileNotFoundException, IllegalArgumentException {\n    checkDir(self);\n    final File[] files = self.listFiles();\n    // null check because of https://bugs.java.com/bugdatabase/view_bug?bug_id=4803836\n    if (files == null) return;\n    for (File file : files) {\n        if (fileType == FileType.ANY ||\n                (fileType != FileType.FILES &amp;&amp; file.isDirectory()) ||\n                (fileType != FileType.DIRECTORIES &amp;&amp; file.isFile())) {\n            closure.call(file);\n        }\n    }\n}\n</code></pre>\n<p>OK, so Groovy just calls Java's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles()\" rel=\"nofollow noreferrer\"><code>File#listFiles</code> method</a> under the covers and then iterates the result without interfering with the existing order.</p>\n<p>Moving to the OpenJDK implementation we can see that  <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1268\" rel=\"nofollow noreferrer\"><code>Files#listFiles</code></a> uses <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1176\" rel=\"nofollow noreferrer\"><code>FileSystem#list</code></a> via the <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1167\" rel=\"nofollow noreferrer\"><code>normalizedList</code></a> method.</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/share/classes/java/io/FileSystem.java#L178\" rel=\"nofollow noreferrer\"><code>FileSystem#list</code></a> is abstract. Continuing to the two most popular implementations it turns out that both <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/classes/java/io/UnixFileSystem.java#L316\" rel=\"nofollow noreferrer\"><code>UnixFileSystem#list</code></a> and <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/classes/java/io/WinNTFileSystem.java#L556\" rel=\"nofollow noreferrer\"><code>Win32FileSystem#list</code></a> have a <code>native</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic native String[] list(File f);\n</code></pre>\n<h1>Windows</h1>\n<p>Digging into the <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/native/libjava/WinNTFileSystem_md.c#L690\" rel=\"nofollow noreferrer\">Windows implementation</a>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>JNIEXPORT jobjectArray JNICALL\nJava_java_io_WinNTFileSystem_list(JNIEnv *env, jobject this, jobject file)\n{\n    WCHAR *search_path;\n    HANDLE handle;\n    WIN32_FIND_DATAW find_data;\n    int len, maxlen;\n    jobjectArray rv, old;\n    DWORD fattr;\n    jstring name;\n    jclass str_class;\n    WCHAR *pathbuf;\n    DWORD err;\n\n    str_class = JNU_ClassString(env);\n    CHECK_NULL_RETURN(str_class, NULL);\n\n    pathbuf = fileToNTPath(env, file, ids.path);\n    if (pathbuf == NULL)\n        return NULL;\n    search_path = (WCHAR*)malloc(2*wcslen(pathbuf) + 6);\n    if (search_path == 0) {\n        free (pathbuf);\n        errno = ENOMEM;\n        JNU_ThrowOutOfMemoryError(env, &quot;native memory allocation failed&quot;);\n        return NULL;\n    }\n    wcscpy(search_path, pathbuf);\n    free(pathbuf);\n    fattr = GetFileAttributesW(search_path);\n    if (fattr == INVALID_FILE_ATTRIBUTES) {\n        free(search_path);\n        return NULL;\n    } else if ((fattr &amp; FILE_ATTRIBUTE_DIRECTORY) == 0) {\n        free(search_path);\n        return NULL;\n    }\n\n    /* Remove trailing space chars from directory name */\n    len = (int)wcslen(search_path);\n    while (search_path[len-1] == L' ') {\n        len--;\n    }\n    search_path[len] = 0;\n\n    /* Append &quot;*&quot;, or possibly &quot;\\\\*&quot;, to path */\n    if ((search_path[0] == L'\\\\' &amp;&amp; search_path[1] == L'\\0') ||\n        (search_path[1] == L':'\n        &amp;&amp; (search_path[2] == L'\\0'\n        || (search_path[2] == L'\\\\' &amp;&amp; search_path[3] == L'\\0')))) {\n        /* No '\\\\' needed for cases like &quot;\\&quot; or &quot;Z:&quot; or &quot;Z:\\&quot; */\n        wcscat(search_path, L&quot;*&quot;);\n    } else {\n        wcscat(search_path, L&quot;\\\\*&quot;);\n    }\n\n    /* Open handle to the first file */\n    handle = FindFirstFileW(search_path, &amp;find_data);\n    free(search_path);\n    if (handle == INVALID_HANDLE_VALUE) {\n        if (GetLastError() != ERROR_FILE_NOT_FOUND) {\n            // error\n            return NULL;\n        } else {\n            // No files found - return an empty array\n            rv = (*env)-&gt;NewObjectArray(env, 0, str_class, NULL);\n            return rv;\n        }\n    }\n\n    /* Allocate an initial String array */\n    len = 0;\n    maxlen = 16;\n    rv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\n    if (rv == NULL) { // Couldn't allocate an array\n        FindClose(handle);\n        return NULL;\n    }\n    /* Scan the directory */\n    do {\n        if (!wcscmp(find_data.cFileName, L&quot;.&quot;)\n                                || !wcscmp(find_data.cFileName, L&quot;..&quot;))\n           continue;\n        name = (*env)-&gt;NewString(env, find_data.cFileName,\n                                 (jsize)wcslen(find_data.cFileName));\n        if (name == NULL) {\n            FindClose(handle);\n            return NULL; // error\n        }\n        if (len == maxlen) {\n            old = rv;\n            rv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\n            if (rv == NULL || JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\n                FindClose(handle);\n                return NULL; // error\n            }\n            (*env)-&gt;DeleteLocalRef(env, old);\n        }\n        (*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\n        (*env)-&gt;DeleteLocalRef(env, name);\n\n    } while (FindNextFileW(handle, &amp;find_data));\n\n    err = GetLastError();\n    FindClose(handle);\n    if (err != ERROR_NO_MORE_FILES) {\n        return NULL; // error\n    }\n\n    if (len &lt; maxlen) {\n        /* Copy the final results into an appropriately-sized array */\n        old = rv;\n        rv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\n        if (rv == NULL)\n            return NULL; /* error */\n        if (JNU_CopyObjectArray(env, rv, old, len) &lt; 0)\n            return NULL; /* error */\n    }\n    return rv;\n}\n</code></pre>\n<p>We can see a combination of <code>FindFirstFileW</code>, <code>FindNextFileW</code> and <code>FindClose</code> WinAPI functions used to iterate over the files. Excerpt about ordering from <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextfilew\" rel=\"nofollow noreferrer\">the documentation of <code>FindNextFileW</code></a>:</p>\n<blockquote>\n<p>The order in which the search returns the files, such as alphabetical order, is not guaranteed, and is dependent on the file system.</p>\n<p>(...)</p>\n<p>The order in which this function returns the file names is dependent on the file system type. With the NTFS file system and CDFS file systems, the names are usually returned in alphabetical order. With FAT file systems, the names are usually returned in the order the files were written to the disk, which may or may not be in alphabetical order. However, as stated previously, these behaviors are not guaranteed.</p>\n</blockquote>\n<p>So the implementation lists the files in a way that tries to be most optimal given the OS and file-system type constraints. No guarantees about a particular order.</p>\n<h1>*nix</h1>\n<p>What about *nix systems? <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/native/libjava/UnixFileSystem_md.c#L309\" rel=\"nofollow noreferrer\">Here's the code</a>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>JNIEXPORT jobjectArray JNICALL\nJava_java_io_UnixFileSystem_list(JNIEnv *env, jobject this,\n                                 jobject file)\n{\n    DIR *dir = NULL;\n    struct dirent *ptr;\n    int len, maxlen;\n    jobjectArray rv, old;\n    jclass str_class;\n\n    str_class = JNU_ClassString(env);\n    CHECK_NULL_RETURN(str_class, NULL);\n\n    WITH_FIELD_PLATFORM_STRING(env, file, ids.path, path) {\n        dir = opendir(path);\n    } END_PLATFORM_STRING(env, path);\n    if (dir == NULL) return NULL;\n\n    /* Allocate an initial String array */\n    len = 0;\n    maxlen = 16;\n    rv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\n    if (rv == NULL) goto error;\n\n    /* Scan the directory */\n    while ((ptr = readdir(dir)) != NULL) {\n        jstring name;\n        if (!strcmp(ptr-&gt;d_name, &quot;.&quot;) || !strcmp(ptr-&gt;d_name, &quot;..&quot;))\n            continue;\n        if (len == maxlen) {\n            old = rv;\n            rv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\n            if (rv == NULL) goto error;\n            if (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) goto error;\n            (*env)-&gt;DeleteLocalRef(env, old);\n        }\n#ifdef MACOSX\n        name = newStringPlatform(env, ptr-&gt;d_name);\n#else\n        name = JNU_NewStringPlatform(env, ptr-&gt;d_name);\n#endif\n        if (name == NULL) goto error;\n        (*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\n        (*env)-&gt;DeleteLocalRef(env, name);\n    }\n    closedir(dir);\n\n    /* Copy the final results into an appropriately-sized array */\n    if (len &lt; maxlen) {\n        old = rv;\n        rv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\n        if (rv == NULL) {\n            return NULL;\n        }\n        if (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\n            return NULL;\n        }\n    }\n    return rv;\n\n error:\n    closedir(dir);\n    return NULL;\n}\n</code></pre>\n<p>This time iteration is supported by the <code>opendir</code>/<code>readdir</code>/<code>closedir</code> trio. The <a href=\"https://pubs.opengroup.org/onlinepubs/007908799/xsh/readdir.html\" rel=\"nofollow noreferrer\">POSIX documentation of <code>readdir</code></a> only mentions this about ordering:</p>\n<blockquote>\n<p>The type DIR, which is defined in the header &lt;dirent.h&gt;, represents a directory stream, which is an ordered sequence of all the directory entries in a particular directory.</p>\n</blockquote>\n<p><a href=\"https://www.man7.org/linux/man-pages/man3/readdir.3.html\" rel=\"nofollow noreferrer\">Linux documentation</a> has a bit more to say:</p>\n<blockquote>\n<p>The order in which filenames are read by successive calls to readdir() depends on the filesystem implementation; it is unlikely that the names will be sorted in any fashion.</p>\n</blockquote>\n<p>Close enough to Windows there is no order-guarantees apart from that there is <em>some</em> order.</p>\n<h1>Conclusion</h1>\n<p>'Is not guaranteed' means that a particular feature is an implementation detail and that you shouldn't rely on it. Contrary to 'guaranteed' features, which due to backward compatibility promise to stay invariant for some (usually longer) period of time. Changes to those features are called <a href=\"https://stackoverflow.com/questions/21703216/what-is-a-breaking-change-in-software\">breaking changes</a> and are usually well documented in <a href=\"https://en.wikipedia.org/wiki/Release_notes\" rel=\"nofollow noreferrer\">release notes</a> and migration guides (see <a href=\"https://resources.snowflake.com/migration-guides\" rel=\"nofollow noreferrer\">Vue 3 migration guide</a> for example). They also get announced long before they become finalized and released - see <a href=\"https://en.wikipedia.org/wiki/Deprecation\" rel=\"nofollow noreferrer\">deprecation</a> (often leaving some time to the developers to adjust their code to the new even after they go live).</p>\n<p>The behaviour of 'unguaranteed' features on the other hand may differ between given product/library versions, environments (e.g. JVM implementations, operating systems, product versions) or even particular invocations. They sometimes show some predictable characteristics, but they should not be relied upon. You need to make sure to take care of the guarantees you expect for your piece of code to to have and implement them on your own.</p>\n<p><strong>Wrapping-up your issue: if you expect any specific order of files just sort them first - even if it means that the order will stay the same.</strong></p>\n"}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68771207,"answer_count":1,"score":1,"last_activity_date":1701279754,"creation_date":1628793047,"question_id":68762583,"body_markdown":"I am creating a file containing a list of sub-directories\r\n\r\n    task createNotes {\r\n      doLast {\r\n        def myFile = new File(&quot;my-notes.txt&quot;)\r\n        def file = new File(&quot;src/test/&quot;)\r\n        println myFile.exists()\r\n        myFile.delete()\r\n        println myFile.exists()\r\n        println myFile.absolutePath\r\n        println file.absolutePath\r\n        myFile.withWriter {\r\n          out -&gt;\r\n            file.eachDir { dir -&gt;\r\n              out.println dir.getName()\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\nApparently the sort order can&#39;t be guaranteed, but every time I run it I get the same sort order:\r\n\r\n    soft\r\n    java\r\n    calc\r\n    conc\r\n    caab\r\n    pres\r\n\r\nIf I change the &quot;soft&quot; dir to &quot;sofp&quot; the output is:\r\n\r\n    java\r\n    sofp\r\n    calc\r\n    conc\r\n    caab\r\n    pres\r\n\r\nWhen I change the name back, it goes to the original order.\r\n\r\nIt doesn&#39;t appear to be sorted in any particular order - which matches the docs saying the order can&#39;t be guaranteed, but if so, why is it always giving me the same sort every time?","title":"Why Does Groovy eachDir() Give Me The Same Sort Every Time?","body":"<p>I am creating a file containing a list of sub-directories</p>\n<pre><code>task createNotes {\n  doLast {\n    def myFile = new File(&quot;my-notes.txt&quot;)\n    def file = new File(&quot;src/test/&quot;)\n    println myFile.exists()\n    myFile.delete()\n    println myFile.exists()\n    println myFile.absolutePath\n    println file.absolutePath\n    myFile.withWriter {\n      out -&gt;\n        file.eachDir { dir -&gt;\n          out.println dir.getName()\n        }\n    }\n  }\n}\n</code></pre>\n<p>Apparently the sort order can't be guaranteed, but every time I run it I get the same sort order:</p>\n<pre><code>soft\njava\ncalc\nconc\ncaab\npres\n</code></pre>\n<p>If I change the &quot;soft&quot; dir to &quot;sofp&quot; the output is:</p>\n<pre><code>java\nsofp\ncalc\nconc\ncaab\npres\n</code></pre>\n<p>When I change the name back, it goes to the original order.</p>\n<p>It doesn't appear to be sorted in any particular order - which matches the docs saying the order can't be guaranteed, but if so, why is it always giving me the same sort every time?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","auditing"],"owner":{"account_id":10120865,"reputation":763,"user_id":7477819,"accept_rate":80,"display_name":"Armer B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701279670,"creation_date":1701279670,"question_id":77573411,"body_markdown":"I want to use SpringData annotations from package *org.springframework.data.annotation*\r\n\r\n    @CreatiedOn\r\n    @CreatedBy\r\n    @ModifiedOn\r\n    @ModifiedBy\r\n\r\nMy configuration is as well:\r\n\r\n    @Embeddable\r\n    public class AuditFields {\r\n    \r\n        @Column({...})\r\n        @CreatedBy\r\n        private String createdBy;\r\n    \r\n        @Column({...})\r\n        @CreatedDate\r\n        private Instant createdOn;\r\n    \r\n        @Column({...})\r\n        @LastModifiedBy\r\n        private String updatedBy;\r\n    \r\n        @Column({...})\r\n        @LastModifiedDate\r\n        private Instant updatedOn;\r\n\r\n... And the `AuditFileds` is applied as composition:\r\n\r\n\r\n    @Entity    \r\n    public class A {\r\n    \r\n       {...}\r\n     \r\n       @ElementCollection\r\n       @CollectionTable({...})\r\n       private Collection&lt;B&gt; b;\r\n\r\n       @Embedded\r\n       private AuditFields auditFields = new AuditFields();\r\n    \r\n    }\r\n\r\nand\r\n\r\n    @Embeddable  \r\n    public class B {\r\n    \r\n       {...}\r\n    \r\n       @Embedded\r\n       private AuditFields auditFields = new AuditFields();\r\n    \r\n    }\r\n\r\n... and I also have configured `@EnableJpaAuditing` bean\r\n\r\nThe framework works perfect when persists `class A` and the `@Entity` object has been successfully audited, but nothing happens on `class B` which is `@Embeddable` collection (record B is not audited into the table).\r\n\r\nAny ideas why SpringData audit neglect `@Embeddable` collection? Is it problem in SpringData?\r\n\r\nAny ideas for another aproach how to audit `@Embeddable` collection?\r\n\r\nP.S. `spring-data-jpa is version 2.7.15`\r\n","title":"Audit on @Embeddable objects with SpringBoot annotations","body":"<p>I want to use SpringData annotations from package <em>org.springframework.data.annotation</em></p>\n<pre><code>@CreatiedOn\n@CreatedBy\n@ModifiedOn\n@ModifiedBy\n</code></pre>\n<p>My configuration is as well:</p>\n<pre><code>@Embeddable\npublic class AuditFields {\n\n    @Column({...})\n    @CreatedBy\n    private String createdBy;\n\n    @Column({...})\n    @CreatedDate\n    private Instant createdOn;\n\n    @Column({...})\n    @LastModifiedBy\n    private String updatedBy;\n\n    @Column({...})\n    @LastModifiedDate\n    private Instant updatedOn;\n</code></pre>\n<p>... And the <code>AuditFileds</code> is applied as composition:</p>\n<pre><code>@Entity    \npublic class A {\n\n   {...}\n \n   @ElementCollection\n   @CollectionTable({...})\n   private Collection&lt;B&gt; b;\n\n   @Embedded\n   private AuditFields auditFields = new AuditFields();\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Embeddable  \npublic class B {\n\n   {...}\n\n   @Embedded\n   private AuditFields auditFields = new AuditFields();\n\n}\n</code></pre>\n<p>... and I also have configured <code>@EnableJpaAuditing</code> bean</p>\n<p>The framework works perfect when persists <code>class A</code> and the <code>@Entity</code> object has been successfully audited, but nothing happens on <code>class B</code> which is <code>@Embeddable</code> collection (record B is not audited into the table).</p>\n<p>Any ideas why SpringData audit neglect <code>@Embeddable</code> collection? Is it problem in SpringData?</p>\n<p>Any ideas for another aproach how to audit <code>@Embeddable</code> collection?</p>\n<p>P.S. <code>spring-data-jpa is version 2.7.15</code></p>\n"},{"tags":["java","unit-testing","exception","junit","junit4"],"comments":[{"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":14,"creation_date":1374355569,"post_id":17731234,"comment_id":25911110,"body_markdown":"A JUnit test is judged to have failed if it throws any exception other than an expected exception.  Usually no exceptions are expected.","body":"A JUnit test is judged to have failed if it throws any exception other than an expected exception.  Usually no exceptions are expected."},{"owner":{"account_id":2279339,"reputation":5596,"user_id":2004857,"accept_rate":43,"display_name":"Victor Basso"},"score":2,"creation_date":1408624405,"post_id":17731234,"comment_id":39665902,"body_markdown":"Isn&#39;t there a distinction between failure and error in JUnit? The first means the test failed, the second means something unexpected happened.","body":"Isn&#39;t there a distinction between failure and error in JUnit? The first means the test failed, the second means something unexpected happened."},{"owner":{"account_id":481416,"reputation":355284,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":2,"creation_date":1423575051,"post_id":17731234,"comment_id":45195874,"body_markdown":"possible duplicate of [How can I test if a particular exception is not thrown?](http://stackoverflow.com/questions/8575653/how-can-i-test-if-a-particular-exception-is-not-thrown)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/8575653/how-can-i-test-if-a-particular-exception-is-not-thrown\">How can I test if a particular exception is not thrown?</a>"},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":0,"creation_date":1633985244,"post_id":17731234,"comment_id":122900906,"body_markdown":"@Vituel Yes, there is, and that distinction is very clear in NetBeans. Error is red and failure is yellow.","body":"@Vituel Yes, there is, and that distinction is very clear in NetBeans. Error is red and failure is yellow."},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":0,"creation_date":1633985528,"post_id":17731234,"comment_id":122901000,"body_markdown":"@Raedwald I would see it that way under the pressure of a deadline. But with all the time in the world, I would not want to go from red to green without a yellow in between.","body":"@Raedwald I would see it that way under the pressure of a deadline. But with all the time in the world, I would not want to go from red to green without a yellow in between."}],"answers":[{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":16,"up_vote_count":296,"is_accepted":true,"score":280,"last_activity_date":1392313408,"creation_date":1374172391,"answer_id":17731324,"question_id":17731234,"body_markdown":"You&#39;re approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.\r\n\r\nI have noticed this question garners interest from time to time so I&#39;ll expand a little.\r\n\r\n\r\n&lt;h1&gt;Background to unit testing&lt;/h1&gt;\r\n\r\nWhen you&#39;re unit testing it&#39;s important to define to yourself what you consider a unit of work. Basically: an extraction of your codebase that may or may not include multiple methods or classes that represents a single piece of functionality.\r\n\r\nOr, as defined in [The art of Unit Testing, 2nd Edition by Roy Osherove][1], page 11:\r\n\r\n&gt; A *unit test* is an automated piece of code that invokes the unit of work being tested, and then checks some assumptions about a single end result of that unit. A unit test is almost always written using a unit testing framework. It can be written easily and runs quickly. It&#39;s trustworthy, readable, and maintainable. It&#39;s consistent in its results as long as production code hasn&#39;t changed.\r\n\r\nWhat is important to realize is that one *unit of work* usually isn&#39;t just one method but at the very basic level it is one method and after that it is encapsulated by other unit of works.\r\n\r\n![enter image description here][2]\r\n\r\nIdeally you should have a test method for each separate unit of work so you can always immediately view where things are going wrong. In this example there is a basic method called `getUserById()` which will return a user and there is a total of 3 unit of works.\r\n\r\nThe first unit of work should test whether or not a valid user is being returned in the case of valid and invalid input.  \r\nAny exceptions that are being thrown by the datasource have to be handled here: if no user is present there should be a test that demonstrates that an exception is thrown when the user can&#39;t be found. A sample of this could be the `IllegalArgumentException` which is caught with the `@Test(expected = IllegalArgumentException.class)` annotation.\r\n\r\nOnce you have handled all your usecases for this basic unit of work, you move up a level. Here you do exactly the same, but you only handle the exceptions that come from the level right below the current one. This keeps your testing code well structured and allows you to quickly run through the architecture to find where things go wrong, instead of having to hop all over the place.\r\n\r\n&lt;h1&gt;Handling a tests&#39; valid and faulty input&lt;/h1&gt;\r\n\r\nAt this point it should be clear how we&#39;re going to handle these exceptions. There are 2 types of input: *valid* input and *faulty* input (the input is valid in the strict sense, but it&#39;s not correct).\r\n\r\nWhen you work with *valid* input you&#39;re setting the implicit expectancy that whatever test you write, will work. \r\n\r\nSuch a method call can look like this: `existingUserById_ShouldReturn_UserObject`. If this method fails (e.g.: an exception is thrown) then you know something went wrong and you can start digging.\r\n\r\nBy adding another test (`nonExistingUserById_ShouldThrow_IllegalArgumentException`) that uses the *faulty* input and expects an exception you can see whether your method does what it is supposed to do with wrong input. \r\n\r\n&lt;h1&gt;TL;DR&lt;/h1&gt;\r\n\r\nYou were trying to do two things in your test: check for valid and faulty input. By splitting this into two method that each do one thing, you will have much clearer tests and a much better overview of where things go wrong.\r\n\r\nBy keeping the layered unit of works in mind you can also reduce the amount of tests you need for a layer that is higher in the hierarchy because you don&#39;t have to account for every thing that might have gone wrong in the lower layers: the layers below the current one are a virtual guarantee that your dependencies work and if something goes wrong, it&#39;s in your current layer (assuming the lower layers don&#39;t throw any errors themselves).\r\n\r\n\r\n  [1]: http://www.amazon.com/The-Art-Unit-Testing-examples/dp/1617290890?SubscriptionId=AKIAIIBINOD46VC3JCLQ&amp;tag=stackoverfl08-20&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=1617290890\r\n  [2]: http://i.stack.imgur.com/IPN6R.png","title":"How to test that no exception is thrown?","body":"<p>You're approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.</p>\n\n<p>I have noticed this question garners interest from time to time so I'll expand a little.</p>\n\n<h1>Background to unit testing</h1>\n\n<p>When you're unit testing it's important to define to yourself what you consider a unit of work. Basically: an extraction of your codebase that may or may not include multiple methods or classes that represents a single piece of functionality.</p>\n\n<p>Or, as defined in <a href=\"https://rads.stackoverflow.com/amzn/click/com/1617290890\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">The art of Unit Testing, 2nd Edition by Roy Osherove</a>, page 11:</p>\n\n<blockquote>\n  <p>A <em>unit test</em> is an automated piece of code that invokes the unit of work being tested, and then checks some assumptions about a single end result of that unit. A unit test is almost always written using a unit testing framework. It can be written easily and runs quickly. It's trustworthy, readable, and maintainable. It's consistent in its results as long as production code hasn't changed.</p>\n</blockquote>\n\n<p>What is important to realize is that one <em>unit of work</em> usually isn't just one method but at the very basic level it is one method and after that it is encapsulated by other unit of works.</p>\n\n<p><img src=\"https://i.stack.imgur.com/IPN6R.png\" alt=\"enter image description here\"></p>\n\n<p>Ideally you should have a test method for each separate unit of work so you can always immediately view where things are going wrong. In this example there is a basic method called <code>getUserById()</code> which will return a user and there is a total of 3 unit of works.</p>\n\n<p>The first unit of work should test whether or not a valid user is being returned in the case of valid and invalid input.<br>\nAny exceptions that are being thrown by the datasource have to be handled here: if no user is present there should be a test that demonstrates that an exception is thrown when the user can't be found. A sample of this could be the <code>IllegalArgumentException</code> which is caught with the <code>@Test(expected = IllegalArgumentException.class)</code> annotation.</p>\n\n<p>Once you have handled all your usecases for this basic unit of work, you move up a level. Here you do exactly the same, but you only handle the exceptions that come from the level right below the current one. This keeps your testing code well structured and allows you to quickly run through the architecture to find where things go wrong, instead of having to hop all over the place.</p>\n\n<h1>Handling a tests' valid and faulty input</h1>\n\n<p>At this point it should be clear how we're going to handle these exceptions. There are 2 types of input: <em>valid</em> input and <em>faulty</em> input (the input is valid in the strict sense, but it's not correct).</p>\n\n<p>When you work with <em>valid</em> input you're setting the implicit expectancy that whatever test you write, will work. </p>\n\n<p>Such a method call can look like this: <code>existingUserById_ShouldReturn_UserObject</code>. If this method fails (e.g.: an exception is thrown) then you know something went wrong and you can start digging.</p>\n\n<p>By adding another test (<code>nonExistingUserById_ShouldThrow_IllegalArgumentException</code>) that uses the <em>faulty</em> input and expects an exception you can see whether your method does what it is supposed to do with wrong input. </p>\n\n<h1>TL;DR</h1>\n\n<p>You were trying to do two things in your test: check for valid and faulty input. By splitting this into two method that each do one thing, you will have much clearer tests and a much better overview of where things go wrong.</p>\n\n<p>By keeping the layered unit of works in mind you can also reduce the amount of tests you need for a layer that is higher in the hierarchy because you don't have to account for every thing that might have gone wrong in the lower layers: the layers below the current one are a virtual guarantee that your dependencies work and if something goes wrong, it's in your current layer (assuming the lower layers don't throw any errors themselves).</p>\n"},{"tags":[],"owner":{"account_id":2515551,"reputation":7153,"user_id":2187087,"accept_rate":40,"display_name":"Yugang Zhou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374197658,"creation_date":1374197658,"answer_id":17736760,"question_id":17731234,"body_markdown":"If you want to test that whether your test target consumes the exception. Just leave the test as (mock collaborator using jMock2):\r\n\r\n    @Test\r\n    public void consumesAndLogsExceptions() throws Exception {\r\n        \r\n        context.checking(new Expectations() {\r\n            {\r\n                oneOf(collaborator).doSth();\r\n                will(throwException(new NullPointerException()));\r\n            }\r\n        });\r\n\r\n        target.doSth();\r\n     }\r\n\r\nThe test would pass if your target does consume the exception thrown, otherwise the test would fail.\r\n\r\nIf you want to test your exception consumption logic, things get more complex. I suggest delegating the consumption to a collaborator which could be mocked. Therefore the test could be:\r\n\r\n    @Test\r\n    public void consumesAndLogsExceptions() throws Exception {\r\n        Exception e = new NullPointerException();\r\n        context.checking(new Expectations() {\r\n            {\r\n                allowing(collaborator).doSth();\r\n                will(throwException(e));\r\n\r\n                oneOf(consumer).consume(e);\r\n            }\r\n        });\r\n\r\n        target.doSth();\r\n     }\r\n\r\nBut sometimes it&#39;s over-designed if you just want to log it. In this case, this article(http://java.dzone.com/articles/monitoring-declarative-transac, http://blog.novoj.net/2008/09/20/testing-aspect-pointcuts-is-there-an-easy-way/) may help if you insist tdd in this case.\r\n","title":"How to test that no exception is thrown?","body":"<p>If you want to test that whether your test target consumes the exception. Just leave the test as (mock collaborator using jMock2):</p>\n\n<pre><code>@Test\npublic void consumesAndLogsExceptions() throws Exception {\n\n    context.checking(new Expectations() {\n        {\n            oneOf(collaborator).doSth();\n            will(throwException(new NullPointerException()));\n        }\n    });\n\n    target.doSth();\n }\n</code></pre>\n\n<p>The test would pass if your target does consume the exception thrown, otherwise the test would fail.</p>\n\n<p>If you want to test your exception consumption logic, things get more complex. I suggest delegating the consumption to a collaborator which could be mocked. Therefore the test could be:</p>\n\n<pre><code>@Test\npublic void consumesAndLogsExceptions() throws Exception {\n    Exception e = new NullPointerException();\n    context.checking(new Expectations() {\n        {\n            allowing(collaborator).doSth();\n            will(throwException(e));\n\n            oneOf(consumer).consume(e);\n        }\n    });\n\n    target.doSth();\n }\n</code></pre>\n\n<p>But sometimes it's over-designed if you just want to log it. In this case, this article(<a href=\"http://java.dzone.com/articles/monitoring-declarative-transac\" rel=\"nofollow\">http://java.dzone.com/articles/monitoring-declarative-transac</a>, <a href=\"http://blog.novoj.net/2008/09/20/testing-aspect-pointcuts-is-there-an-easy-way/\" rel=\"nofollow\">http://blog.novoj.net/2008/09/20/testing-aspect-pointcuts-is-there-an-easy-way/</a>) may help if you insist tdd in this case.</p>\n"},{"tags":[],"owner":{"account_id":1561109,"reputation":637,"user_id":1450952,"accept_rate":33,"display_name":"Ben Tennyson"},"down_vote_count":6,"up_vote_count":37,"is_accepted":false,"score":31,"last_activity_date":1580407410,"creation_date":1410904408,"answer_id":25879033,"question_id":17731234,"body_markdown":"If you are unlucky enough to catch all errors in your code.\r\nYou can stupidly do\r\n\r\n    class DumpTest {\r\n        Exception ex;\r\n        @Test\r\n        public void testWhatEver() {\r\n            try {\r\n                thisShouldThrowError();\r\n            } catch (Exception e) {\r\n                ex = e;\r\n            }\r\n            assertEquals(null,ex);\r\n        }\r\n    }","title":"How to test that no exception is thrown?","body":"<p>If you are unlucky enough to catch all errors in your code.\nYou can stupidly do</p>\n\n<pre><code>class DumpTest {\n    Exception ex;\n    @Test\n    public void testWhatEver() {\n        try {\n            thisShouldThrowError();\n        } catch (Exception e) {\n            ex = e;\n        }\n        assertEquals(null,ex);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1463123872,"creation_date":1463123426,"answer_id":37203455,"question_id":17731234,"body_markdown":"Java 8 makes this a lot easier, and Kotlin/Scala doubly so.\r\n\r\nWe can write a little utility class\r\n\r\n    class MyAssertions{\r\n      public static void assertDoesNotThrow(FailingRunnable action){\r\n        try{\r\n          action.run()\r\n        }\r\n        catch(Exception ex){\r\n          throw new Error(&quot;expected action not to throw, but it did!&quot;, ex)\r\n        }\r\n      }\r\n    }\r\n\r\n    @FunctionalInterface interface FailingRunnable { void run() throws Exception }\r\n\r\nand then your code becomes simply:\r\n\r\n    @Test\r\n    public void foo(){\r\n      MyAssertions.assertDoesNotThrow(() -&gt; {\r\n        //execute code that you expect not to throw Exceptions.\r\n      }\r\n    }\r\n\r\nIf you dont have access to Java-8, I would use a painfully old java facility: aribitrary code blocks and a simple comment\r\n\r\n    //setup\r\n    Component component = new Component();\r\n\r\n    //act\r\n    configure(component);\r\n\r\n    //assert \r\n    /*assert does not throw*/{\r\n      component.doSomething();\r\n    }\r\n\r\nAnd finally, with kotlin, a language I&#39;ve recently fallen in love with:\r\n\r\n    fun (() -&gt; Any?).shouldNotThrow() \r\n        = try { invoke() } catch (ex : Exception){ throw Error(&quot;expected not to throw!&quot;, ex) }\r\n\r\n    @Test fun `when foo happens should not throw`(){\r\n   \r\n      //...\r\n\r\n      { /*code that shouldn&#39;t throw*/ }.shouldNotThrow()\r\n    }\r\n\r\nThough there is a lot of room to fiddle with exactly how you want to express this, I was always a fan of [fluent assertions](https://github.com/dennisdoomen/FluentAssertions/wiki).\r\n\r\n---\r\n\r\nRegarding \r\n\r\n&gt; You&#39;re approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.\r\n\r\nThis is correct in principle but incorrect in conclusion. \r\n\r\nJava allows exceptions for flow of control. This is done by the JRE runtime itself in APIs like `Double.parseDouble` via a `NumberFormatException` and `Paths.get` via a `InvalidPathException`. \r\n\r\nGiven you&#39;ve written a component that validates Number strings for `Double.ParseDouble`, maybe using a Regex, maybe a hand-written parser, or perhaps something that embeds some other domain rules that restricts the range of a double to something specific, how best to test this component? I think an obvious test would be to assert that, when the resulting string is parsed, no exception is thrown. I would write that test using either the above `assertDoesNotThrow` or `/*comment*/{code}` block. Something like\r\n\r\n\r\n    @Test public void given_validator_accepts_string_result_should_be_interpretable_by_doubleParseDouble(){\r\n      //setup\r\n      String input = &quot;12.34E+26&quot; //a string double with domain significance\r\n\r\n      //act\r\n      boolean isValid = component.validate(input)\r\n\r\n      //assert -- using the library &#39;assertJ&#39;, my personal favourite \r\n      assertThat(isValid).describedAs(input + &quot; was considered valid by component&quot;).isTrue();\r\n      assertDoesNotThrow(() -&gt; Double.parseDouble(input));\r\n    }\r\n\r\nI would also encourage you to parameterize this test on `input` using [`Theories`](https://github.com/junit-team/junit4/wiki/Theories) or [`Parameterized`](https://github.com/junit-team/junit4/wiki/Parameterized-tests) so that you can more easily re-use this test for other inputs. Alternatively, if you want to go exotic, you could go for a [test-generation tool](https://randoop.github.io/randoop/manual/index.html) (and [this](http://www.pexforfun.com/)). TestNG has better support for parameterized tests. \r\n\r\nWhat I find particularly disagreeable is the recommendation of using `@Test(expectedException=IllegalArgumentException.class)`, **this exception is dangerously broad**. If your code changes such that the component under test&#39;s constructor has `if(constructorArgument &lt;= 0) throw IllegalArgumentException()`, and your test was supplying 0 for that argument because it was convenient --and this is very common, because good generating test data is a surprisingly hard problem--, then your test will be green-bar even though it tests nothing. Such a test is worse than useless. ","title":"How to test that no exception is thrown?","body":"<p>Java 8 makes this a lot easier, and Kotlin/Scala doubly so.</p>\n\n<p>We can write a little utility class</p>\n\n<pre><code>class MyAssertions{\n  public static void assertDoesNotThrow(FailingRunnable action){\n    try{\n      action.run()\n    }\n    catch(Exception ex){\n      throw new Error(\"expected action not to throw, but it did!\", ex)\n    }\n  }\n}\n\n@FunctionalInterface interface FailingRunnable { void run() throws Exception }\n</code></pre>\n\n<p>and then your code becomes simply:</p>\n\n<pre><code>@Test\npublic void foo(){\n  MyAssertions.assertDoesNotThrow(() -&gt; {\n    //execute code that you expect not to throw Exceptions.\n  }\n}\n</code></pre>\n\n<p>If you dont have access to Java-8, I would use a painfully old java facility: aribitrary code blocks and a simple comment</p>\n\n<pre><code>//setup\nComponent component = new Component();\n\n//act\nconfigure(component);\n\n//assert \n/*assert does not throw*/{\n  component.doSomething();\n}\n</code></pre>\n\n<p>And finally, with kotlin, a language I've recently fallen in love with:</p>\n\n<pre><code>fun (() -&gt; Any?).shouldNotThrow() \n    = try { invoke() } catch (ex : Exception){ throw Error(\"expected not to throw!\", ex) }\n\n@Test fun `when foo happens should not throw`(){\n\n  //...\n\n  { /*code that shouldn't throw*/ }.shouldNotThrow()\n}\n</code></pre>\n\n<p>Though there is a lot of room to fiddle with exactly how you want to express this, I was always a fan of <a href=\"https://github.com/dennisdoomen/FluentAssertions/wiki\" rel=\"noreferrer\">fluent assertions</a>.</p>\n\n<hr>\n\n<p>Regarding </p>\n\n<blockquote>\n  <p>You're approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.</p>\n</blockquote>\n\n<p>This is correct in principle but incorrect in conclusion. </p>\n\n<p>Java allows exceptions for flow of control. This is done by the JRE runtime itself in APIs like <code>Double.parseDouble</code> via a <code>NumberFormatException</code> and <code>Paths.get</code> via a <code>InvalidPathException</code>. </p>\n\n<p>Given you've written a component that validates Number strings for <code>Double.ParseDouble</code>, maybe using a Regex, maybe a hand-written parser, or perhaps something that embeds some other domain rules that restricts the range of a double to something specific, how best to test this component? I think an obvious test would be to assert that, when the resulting string is parsed, no exception is thrown. I would write that test using either the above <code>assertDoesNotThrow</code> or <code>/*comment*/{code}</code> block. Something like</p>\n\n<pre><code>@Test public void given_validator_accepts_string_result_should_be_interpretable_by_doubleParseDouble(){\n  //setup\n  String input = \"12.34E+26\" //a string double with domain significance\n\n  //act\n  boolean isValid = component.validate(input)\n\n  //assert -- using the library 'assertJ', my personal favourite \n  assertThat(isValid).describedAs(input + \" was considered valid by component\").isTrue();\n  assertDoesNotThrow(() -&gt; Double.parseDouble(input));\n}\n</code></pre>\n\n<p>I would also encourage you to parameterize this test on <code>input</code> using <a href=\"https://github.com/junit-team/junit4/wiki/Theories\" rel=\"noreferrer\"><code>Theories</code></a> or <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"noreferrer\"><code>Parameterized</code></a> so that you can more easily re-use this test for other inputs. Alternatively, if you want to go exotic, you could go for a <a href=\"https://randoop.github.io/randoop/manual/index.html\" rel=\"noreferrer\">test-generation tool</a> (and <a href=\"http://www.pexforfun.com/\" rel=\"noreferrer\">this</a>). TestNG has better support for parameterized tests. </p>\n\n<p>What I find particularly disagreeable is the recommendation of using <code>@Test(expectedException=IllegalArgumentException.class)</code>, <strong>this exception is dangerously broad</strong>. If your code changes such that the component under test's constructor has <code>if(constructorArgument &lt;= 0) throw IllegalArgumentException()</code>, and your test was supplying 0 for that argument because it was convenient --and this is very common, because good generating test data is a surprisingly hard problem--, then your test will be green-bar even though it tests nothing. Such a test is worse than useless. </p>\n"},{"tags":[],"owner":{"account_id":2375041,"reputation":4633,"user_id":2078664,"display_name":"Mike Rapadas"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1478112563,"creation_date":1478112563,"answer_id":40387588,"question_id":17731234,"body_markdown":"Use [assertNull(...)][1]\r\n    \r\n    @Test\r\n    public void foo() {\r\n        try {\r\n            //execute code that you expect not to throw Exceptions.\r\n        } catch (Exception e){\r\n            assertNull(e);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertNull(java.lang.Object)","title":"How to test that no exception is thrown?","body":"<p>Use <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertNull(java.lang.Object)\" rel=\"nofollow noreferrer\">assertNull(...)</a></p>\n\n<pre><code>@Test\npublic void foo() {\n    try {\n        //execute code that you expect not to throw Exceptions.\n    } catch (Exception e){\n        assertNull(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647347,"reputation":1521,"user_id":2289765,"accept_rate":72,"display_name":"Rocky Inde"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1479104448,"creation_date":1479104448,"answer_id":40582914,"question_id":17731234,"body_markdown":"The following fails the test for all exceptions, checked or unchecked:\r\n\r\n    @Test\r\n    public void testMyCode() {\r\n\r\n        try {\r\n            runMyTestCode();\r\n        } catch (Throwable t) {\r\n            throw new Error(&quot;fail!&quot;);\r\n        }\r\n    }\r\n","title":"How to test that no exception is thrown?","body":"<p>The following fails the test for all exceptions, checked or unchecked:</p>\n\n<pre><code>@Test\npublic void testMyCode() {\n\n    try {\n        runMyTestCode();\n    } catch (Throwable t) {\n        throw new Error(\"fail!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"down_vote_count":0,"up_vote_count":128,"is_accepted":false,"score":128,"last_activity_date":1648274235,"creation_date":1495180293,"answer_id":44064438,"question_id":17731234,"body_markdown":"For JUnit versions before 5:\r\n\r\nWith [AssertJ fluent assertions 3.7.0][1]:\r\n\r\n    Assertions.assertThatCode(() -&gt; toTest.method())\r\n        .doesNotThrowAnyException();\r\n\r\n----------\r\n**Update:**\r\n\r\nJUnit 5 introduced `assertDoesNotThrow()` assertion, so I&#39;d prefer to use it instead of adding an additional dependency to your project. See [this answer][2] for details.\r\n\r\n[1]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/WithAssertions.html &quot;AssertJ fluent assertions 3.7.0&quot;\r\n[2]:https://stackoverflow.com/a/51768474/913093","title":"How to test that no exception is thrown?","body":"<p>For JUnit versions before 5:</p>\n<p>With <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/WithAssertions.html\" rel=\"noreferrer\" title=\"AssertJ fluent assertions 3.7.0\">AssertJ fluent assertions 3.7.0</a>:</p>\n<pre><code>Assertions.assertThatCode(() -&gt; toTest.method())\n    .doesNotThrowAnyException();\n</code></pre>\n<hr />\n<p><strong>Update:</strong></p>\n<p>JUnit 5 introduced <code>assertDoesNotThrow()</code> assertion, so I'd prefer to use it instead of adding an additional dependency to your project. See <a href=\"https://stackoverflow.com/a/51768474/913093\">this answer</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":11212114,"reputation":3987,"user_id":8225898,"display_name":"Sven D&#246;ring"},"down_vote_count":1,"up_vote_count":261,"is_accepted":false,"score":260,"last_activity_date":1636112434,"creation_date":1498650299,"answer_id":44801486,"question_id":17731234,"body_markdown":"I stumbled upon this because of SonarQube&#39;s rule &quot;squid:S2699&quot;: &quot;Add at least one assertion to this test case.&quot;\r\n\r\nI had a simple test whose only goal was to go through without throwing exceptions.\r\n\r\nConsider this simple code:\r\n\r\n    public class Printer {\r\n\r\n        public static void printLine(final String line) {\r\n            System.out.println(line);\r\n        }\r\n    }\r\n\r\nWhat kind of assertion can be added to test this method?\r\nSure, you can make a try-catch around it, but that is only code bloat.\r\n\r\nThe solution comes from JUnit itself.\r\n\r\nIn case no exception is thrown and you want to explicitly illustrate this behaviour, simply add `expected` as in the following example:\r\n\r\n    @Test(expected = Test.None.class /* no exception expected */)\r\n    public void test_printLine() {\r\n        Printer.printLine(&quot;line&quot;);\r\n    }\r\n\r\n`Test.None.class` is the default for the expected value.\r\n\r\nIf you `import org.junit.Test.None`, you can then write:\r\n\r\n    @Test(expected = None.class)\r\n\r\nwhich you might find more readable.\r\n\r\n","title":"How to test that no exception is thrown?","body":"<p>I stumbled upon this because of SonarQube's rule &quot;squid:S2699&quot;: &quot;Add at least one assertion to this test case.&quot;</p>\n<p>I had a simple test whose only goal was to go through without throwing exceptions.</p>\n<p>Consider this simple code:</p>\n<pre><code>public class Printer {\n\n    public static void printLine(final String line) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n<p>What kind of assertion can be added to test this method?\nSure, you can make a try-catch around it, but that is only code bloat.</p>\n<p>The solution comes from JUnit itself.</p>\n<p>In case no exception is thrown and you want to explicitly illustrate this behaviour, simply add <code>expected</code> as in the following example:</p>\n<pre><code>@Test(expected = Test.None.class /* no exception expected */)\npublic void test_printLine() {\n    Printer.printLine(&quot;line&quot;);\n}\n</code></pre>\n<p><code>Test.None.class</code> is the default for the expected value.</p>\n<p>If you <code>import org.junit.Test.None</code>, you can then write:</p>\n<pre><code>@Test(expected = None.class)\n</code></pre>\n<p>which you might find more readable.</p>\n"},{"tags":[],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1501771524,"creation_date":1501771524,"answer_id":45487563,"question_id":17731234,"body_markdown":"You can expect that exception is not thrown by creating a rule.\r\n\r\n    @Rule\r\n    public ExpectedException expectedException = ExpectedException.none();\r\n","title":"How to test that no exception is thrown?","body":"<p>You can expect that exception is not thrown by creating a rule.</p>\n\n<pre><code>@Rule\npublic ExpectedException expectedException = ExpectedException.none();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5851030,"reputation":526,"user_id":4609700,"display_name":"Crenguta S"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1564487204,"creation_date":1511367648,"answer_id":47439449,"question_id":17731234,"body_markdown":"You can do it by using a @Rule and then call method reportMissingExceptionWithMessage as shown below:\r\nThis is Scala code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vchwf.png","title":"How to test that no exception is thrown?","body":"<p>You can do it by using a @Rule and then call method reportMissingExceptionWithMessage as shown below:\nThis is Scala code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vchwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vchwf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4645844,"reputation":135,"user_id":3796707,"display_name":"razalghul"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1515088130,"creation_date":1515088130,"answer_id":48100845,"question_id":17731234,"body_markdown":"JUnit5 adds the assertAll() method for this exact purpose.\r\n\r\n    assertAll( () -&gt; foo() )\r\n\r\n[source: JUnit 5 API](http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html)","title":"How to test that no exception is thrown?","body":"<p>JUnit5 adds the assertAll() method for this exact purpose.</p>\n\n<pre><code>assertAll( () -&gt; foo() )\n</code></pre>\n\n<p><a href=\"http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html\" rel=\"noreferrer\">source: JUnit 5 API</a></p>\n"},{"tags":[],"owner":{"account_id":902304,"reputation":52117,"user_id":938111,"accept_rate":84,"display_name":"oHo"},"down_vote_count":1,"up_vote_count":302,"is_accepted":false,"score":301,"last_activity_date":1616320036,"creation_date":1533821638,"answer_id":51768474,"question_id":17731234,"body_markdown":"[JUnit 5](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html) (Jupiter) provides three functions to check exception absence/presence:\r\n\r\n### ● [**`assertAll​()`**](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertAll(java.util.Collection))  \r\n\r\n&amp;emsp;    *Asserts* that *all* supplied `executables`  \r\n&amp;emsp;    do not throw exceptions.\r\n\r\n### ● [**`assertDoesNotThrow​()`**](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertDoesNotThrow(org.junit.jupiter.api.function.Executable))  \r\n\r\n&amp;emsp;    *Asserts* that execution of the  \r\n&amp;emsp;    supplied `executable`/`supplier`  \r\n&amp;emsp;    *does not throw* any kind of [exception](https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true).  \r\n\r\n&amp;emsp;    This function is available  \r\n&amp;emsp;    since [JUnit 5.2.0](https://junit.org/junit5/docs/5.2.0/release-notes/#new-features-and-improvements-2) (29 April 2018).\r\n\r\n### ● [**`assertThrows​()`**](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable))  \r\n\r\n&amp;emsp;    *Asserts* that execution of the supplied `executable`  \r\n&amp;emsp;    *throws* an exception of the `expectedType`  \r\n&amp;emsp;    and returns the [exception](https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true).\r\n\r\n\r\n### Example\r\n\r\n    package test.mycompany.myapp.mymodule;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n\r\n    class MyClassTest {\r\n\r\n        @Test\r\n        void when_string_has_been_constructed_then_myFunction_does_not_throw() {\r\n        \tString myString = &quot;this string has been constructed&quot;;\r\n        \tassertAll(() -&gt; MyClass.myFunction(myString));\r\n        }\r\n        \r\n        @Test\r\n        void when_string_has_been_constructed_then_myFunction_does_not_throw__junit_v520() {\r\n        \tString myString = &quot;this string has been constructed&quot;;\r\n        \tassertDoesNotThrow(() -&gt; MyClass.myFunction(myString));\r\n        }\r\n    \r\n        @Test\r\n        void when_string_is_null_then_myFunction_throws_IllegalArgumentException() {\r\n        \tString myString = null;\r\n        \tassertThrows(\r\n        \t\tIllegalArgumentException.class,\r\n        \t\t() -&gt; MyClass.myFunction(myString));\r\n        }\r\n\r\n    }\r\n","title":"How to test that no exception is thrown?","body":"<p><a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"noreferrer\">JUnit 5</a> (Jupiter) provides three functions to check exception absence/presence:</p>\n<h3>● <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertAll(java.util.Collection)\" rel=\"noreferrer\"><strong><code>assertAll​()</code></strong></a></h3>\n<p>     <em>Asserts</em> that <em>all</em> supplied <code>executables</code><br />\n     do not throw exceptions.</p>\n<h3>● <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertDoesNotThrow(org.junit.jupiter.api.function.Executable)\" rel=\"noreferrer\"><strong><code>assertDoesNotThrow​()</code></strong></a></h3>\n<p>     <em>Asserts</em> that execution of the<br />\n     supplied <code>executable</code>/<code>supplier</code><br />\n     <em>does not throw</em> any kind of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true\" rel=\"noreferrer\">exception</a>.</p>\n<p>     This function is available<br />\n     since <a href=\"https://junit.org/junit5/docs/5.2.0/release-notes/#new-features-and-improvements-2\" rel=\"noreferrer\">JUnit 5.2.0</a> (29 April 2018).</p>\n<h3>● <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable)\" rel=\"noreferrer\"><strong><code>assertThrows​()</code></strong></a></h3>\n<p>     <em>Asserts</em> that execution of the supplied <code>executable</code><br />\n     <em>throws</em> an exception of the <code>expectedType</code><br />\n     and returns the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true\" rel=\"noreferrer\">exception</a>.</p>\n<h3>Example</h3>\n<pre><code>package test.mycompany.myapp.mymodule;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nclass MyClassTest {\n\n    @Test\n    void when_string_has_been_constructed_then_myFunction_does_not_throw() {\n        String myString = &quot;this string has been constructed&quot;;\n        assertAll(() -&gt; MyClass.myFunction(myString));\n    }\n    \n    @Test\n    void when_string_has_been_constructed_then_myFunction_does_not_throw__junit_v520() {\n        String myString = &quot;this string has been constructed&quot;;\n        assertDoesNotThrow(() -&gt; MyClass.myFunction(myString));\n    }\n\n    @Test\n    void when_string_is_null_then_myFunction_throws_IllegalArgumentException() {\n        String myString = null;\n        assertThrows(\n            IllegalArgumentException.class,\n            () -&gt; MyClass.myFunction(myString));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1032249,"reputation":617,"user_id":1040342,"display_name":"MLS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536816657,"creation_date":1536816657,"answer_id":52307205,"question_id":17731234,"body_markdown":"This may not be the best way but it definitely makes sure that exception is not thrown from the code block that is being tested.\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.Test;\r\n    \r\n    public class AssertionExample {\r\n    \r\n        @Test\r\n        public void testNoException(){\r\n            assertNoException();\r\n        }    \r\n    \r\n        private void assertException(){\r\n            Assertions.assertThatThrownBy(this::doNotThrowException).isInstanceOf(Exception.class);\r\n        }\r\n    \r\n        private void assertNoException(){\r\n            Assertions.assertThatThrownBy(() -&gt; assertException()).isInstanceOf(AssertionError.class);\r\n        }\r\n    \r\n        private void doNotThrowException(){\r\n            //This method will never throw exception\r\n        }\r\n    }","title":"How to test that no exception is thrown?","body":"<p>This may not be the best way but it definitely makes sure that exception is not thrown from the code block that is being tested.</p>\n\n<pre><code>import org.assertj.core.api.Assertions;\nimport org.junit.Test;\n\npublic class AssertionExample {\n\n    @Test\n    public void testNoException(){\n        assertNoException();\n    }    \n\n    private void assertException(){\n        Assertions.assertThatThrownBy(this::doNotThrowException).isInstanceOf(Exception.class);\n    }\n\n    private void assertNoException(){\n        Assertions.assertThatThrownBy(() -&gt; assertException()).isInstanceOf(AssertionError.class);\n    }\n\n    private void doNotThrowException(){\n        //This method will never throw exception\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701279512,"creation_date":1561128491,"answer_id":56705719,"question_id":17731234,"body_markdown":"You can create any kind of your own assertions based on assertions from junit, because these are especially designed for creating user defined asserts intended to work exactly like junit ones:\r\n```java\r\nstatic void assertDoesNotThrow(Executable executable) {\r\n    assertDoesNotThrow(executable, &quot;must not throw&quot;);\r\n}\r\nstatic void assertDoesNotThrow(Executable executable, String message) {\r\n    try {\r\n        executable.execute();\r\n    } catch (Throwable err) {\r\n        fail(message);\r\n    }\r\n}\r\n```\r\nAnd vice versa, assert for expecting an exception\r\n```java\r\nstatic void assertThrow(Executable executable) {\r\n    assertThrow(executable, &quot;must throw&quot;);\r\n}\r\nstatic void assertThrow(Executable executable, String message) {\r\n    try {\r\n        executable.execute();\r\n        fail(message); //fail here because something must be thrown\r\n    } catch (Throwable err) {\r\n    }\r\n}\r\n```\r\nNow testing the so called scenario **methodMustNotThrow** and log all failures in a junit style:\r\n```java\r\n//test and log with default and custom messages\r\n//the following will succeed\r\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1));\r\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1), &quot;custom facepalm&quot;);\r\n//the following will fail\r\nassertDoesNotThrow(()-&gt;methodMustNotThrow(2));\r\nassertDoesNotThrow(()-&gt; {throw new Exception(&quot;Hello world&quot;);}, &quot;message&quot;);\r\n//See implementation of methodMustNotThrow below\r\n```\r\nGenerally speaking there is possibility to instantly fail anything the test in any scenarios, in any place where it makes sense by calling ```fail(someMessage)```, which is designed exactly for this purpose. For instance use it in a try/catch block to fail if anything is thrown in the test case:\r\n```\r\ntry{methodMustNotThrow(1);}catch(Throwable e){fail(&quot;must not throw&quot;);}\r\ntry{methodMustNotThrow(1);}catch(Throwable e){Assertions.fail(&quot;must not throw&quot;);}\r\n```\r\nThis is the sample of the method we test, supposing we have such a method that must not fail under specific circumstances, but it can fail:\r\n```\r\nvoid methodMustNotThrow(int x) throws Exception {\r\n    if (x == 1) return;\r\n    throw new Exception();\r\n}\r\n```\r\nThe above method is a simple sample. But this works for complex situations, where the failure is not so obvious. \r\nThere are the imports:\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.function.Executable;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n```","title":"How to test that no exception is thrown?","body":"<p>You can create any kind of your own assertions based on assertions from junit, because these are especially designed for creating user defined asserts intended to work exactly like junit ones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void assertDoesNotThrow(Executable executable) {\n    assertDoesNotThrow(executable, &quot;must not throw&quot;);\n}\nstatic void assertDoesNotThrow(Executable executable, String message) {\n    try {\n        executable.execute();\n    } catch (Throwable err) {\n        fail(message);\n    }\n}\n</code></pre>\n<p>And vice versa, assert for expecting an exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void assertThrow(Executable executable) {\n    assertThrow(executable, &quot;must throw&quot;);\n}\nstatic void assertThrow(Executable executable, String message) {\n    try {\n        executable.execute();\n        fail(message); //fail here because something must be thrown\n    } catch (Throwable err) {\n    }\n}\n</code></pre>\n<p>Now testing the so called scenario <strong>methodMustNotThrow</strong> and log all failures in a junit style:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//test and log with default and custom messages\n//the following will succeed\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1));\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1), &quot;custom facepalm&quot;);\n//the following will fail\nassertDoesNotThrow(()-&gt;methodMustNotThrow(2));\nassertDoesNotThrow(()-&gt; {throw new Exception(&quot;Hello world&quot;);}, &quot;message&quot;);\n//See implementation of methodMustNotThrow below\n</code></pre>\n<p>Generally speaking there is possibility to instantly fail anything the test in any scenarios, in any place where it makes sense by calling <code>fail(someMessage)</code>, which is designed exactly for this purpose. For instance use it in a try/catch block to fail if anything is thrown in the test case:</p>\n<pre><code>try{methodMustNotThrow(1);}catch(Throwable e){fail(&quot;must not throw&quot;);}\ntry{methodMustNotThrow(1);}catch(Throwable e){Assertions.fail(&quot;must not throw&quot;);}\n</code></pre>\n<p>This is the sample of the method we test, supposing we have such a method that must not fail under specific circumstances, but it can fail:</p>\n<pre><code>void methodMustNotThrow(int x) throws Exception {\n    if (x == 1) return;\n    throw new Exception();\n}\n</code></pre>\n<p>The above method is a simple sample. But this works for complex situations, where the failure is not so obvious.\nThere are the imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.function.Executable;\nimport static org.junit.jupiter.api.Assertions.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1201633,"reputation":2153,"user_id":1172194,"accept_rate":92,"display_name":"Dinesh Arora"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1579903221,"creation_date":1579903221,"answer_id":59904236,"question_id":17731234,"body_markdown":"Although this post is 6 years old now, however, a lot has changed in the Junit world. With Junit5, you can now use\r\n```\r\norg.junit.jupiter.api.Assertions.assertDoesNotThrow()\r\n```\r\nEx:\r\n```\r\npublic void thisMethodDoesNotThrowException(){\r\n   System.out.println(&quot;Hello There&quot;);\r\n}\r\n\r\n@Test\r\npublic void test_thisMethodDoesNotThrowException(){\r\n  org.junit.jupiter.api.Assertions.assertDoesNotThrow(\r\n      ()-&gt; thisMethodDoesNotThrowException()\r\n    );\r\n}\r\n```\r\nHope it will help people who are using newer version of Junit5","title":"How to test that no exception is thrown?","body":"<p>Although this post is 6 years old now, however, a lot has changed in the Junit world. With Junit5, you can now use</p>\n\n<pre><code>org.junit.jupiter.api.Assertions.assertDoesNotThrow()\n</code></pre>\n\n<p>Ex:</p>\n\n<pre><code>public void thisMethodDoesNotThrowException(){\n   System.out.println(\"Hello There\");\n}\n\n@Test\npublic void test_thisMethodDoesNotThrowException(){\n  org.junit.jupiter.api.Assertions.assertDoesNotThrow(\n      ()-&gt; thisMethodDoesNotThrowException()\n    );\n}\n</code></pre>\n\n<p>Hope it will help people who are using newer version of Junit5</p>\n"},{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1604594082,"creation_date":1604593314,"answer_id":64701192,"question_id":17731234,"body_markdown":"To test a scenario with a void method like\r\n\r\n    void testMeWell() throws SomeException {..}\r\n\r\nto __not throw__ an exception:\r\n\r\n**Junit5**\r\n\r\n    assertDoesNotThrow(() -&gt; {\r\n        testMeWell();\r\n    });\r\n","title":"How to test that no exception is thrown?","body":"<p>To test a scenario with a void method like</p>\n<pre><code>void testMeWell() throws SomeException {..}\n</code></pre>\n<p>to <strong>not throw</strong> an exception:</p>\n<p><strong>Junit5</strong></p>\n<pre><code>assertDoesNotThrow(() -&gt; {\n    testMeWell();\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6109044,"reputation":69,"user_id":4765953,"accept_rate":0,"display_name":"Yair Landmann"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1608124127,"creation_date":1608124127,"answer_id":65323952,"question_id":17731234,"body_markdown":"I faced the same situation, I needed to check that exception is thrown when it should, and only when it should.\r\nEnded up using the exception handler to my benefit with the following code:\r\n\r\n        try {\r\n            functionThatMightThrowException()\r\n        }catch (Exception e){\r\n            Assert.fail(&quot;should not throw exception&quot;);\r\n        }\r\n        RestOfAssertions();\r\n\r\nThe main benefit for me was that it is quite straight forward and to check the other way of the &quot;if and only if&quot; is really easy in this same structure ","title":"How to test that no exception is thrown?","body":"<p>I faced the same situation, I needed to check that exception is thrown when it should, and only when it should.\nEnded up using the exception handler to my benefit with the following code:</p>\n<pre><code>    try {\n        functionThatMightThrowException()\n    }catch (Exception e){\n        Assert.fail(&quot;should not throw exception&quot;);\n    }\n    RestOfAssertions();\n</code></pre>\n<p>The main benefit for me was that it is quite straight forward and to check the other way of the &quot;if and only if&quot; is really easy in this same structure</p>\n"},{"tags":[],"owner":{"account_id":15017113,"reputation":161,"user_id":10839796,"display_name":"Werner Diwischek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637164811,"creation_date":1637164811,"answer_id":70007709,"question_id":17731234,"body_markdown":"Stumbled over this issue since I created some generic methods like\r\n```  \r\n@Test\r\nvoid testSomething() {\r\n   checkGeneric(anComplexObect)\r\n}\r\n```\r\n\r\nIn https://newbedev.com/sonarqube-issue-add-at-least-one-assertion-to-this-test-case-for-unit-test-with-assertions some annotation stuff is proposed. \r\n\r\nThe solution is much more simple. It&#39;s enough to rename the &quot;checkGeneric&quot; method to &quot;assertGeneric&quot;.\r\n\r\n```\r\n@Test\r\nvoid testSomething() {\r\n  assertGeneric(anComplexObect)\r\n}","title":"How to test that no exception is thrown?","body":"<p>Stumbled over this issue since I created some generic methods like</p>\n<pre><code>@Test\nvoid testSomething() {\n   checkGeneric(anComplexObect)\n}\n</code></pre>\n<p>In <a href=\"https://newbedev.com/sonarqube-issue-add-at-least-one-assertion-to-this-test-case-for-unit-test-with-assertions\" rel=\"nofollow noreferrer\">https://newbedev.com/sonarqube-issue-add-at-least-one-assertion-to-this-test-case-for-unit-test-with-assertions</a> some annotation stuff is proposed.</p>\n<p>The solution is much more simple. It's enough to rename the &quot;checkGeneric&quot; method to &quot;assertGeneric&quot;.</p>\n<pre><code>@Test\nvoid testSomething() {\n  assertGeneric(anComplexObect)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354413,"reputation":1012,"user_id":1293121,"display_name":"Douglas Caina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651586484,"creation_date":1651586484,"answer_id":72100596,"question_id":17731234,"body_markdown":"I end up doing like this\r\n\r\n    @Test\r\n    fun `Should not throw`() {\r\n        whenever(authService.isAdmin()).thenReturn(true)\r\n\r\n        assertDoesNotThrow {\r\n            service.throwIfNotAllowed(&quot;client&quot;)\r\n        }\r\n    }","title":"How to test that no exception is thrown?","body":"<p>I end up doing like this</p>\n<pre><code>@Test\nfun `Should not throw`() {\n    whenever(authService.isAdmin()).thenReturn(true)\n\n    assertDoesNotThrow {\n        service.throwIfNotAllowed(&quot;client&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6905825,"reputation":599,"user_id":5654696,"display_name":"Canatto Filipe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668176177,"creation_date":1668176177,"answer_id":74403794,"question_id":17731234,"body_markdown":"AssertJ can handle this scenario:\r\n\r\n    assertThatNoException().isThrownBy(() -&gt; System.out.println(&quot;OK&quot;));\r\n\r\nCheck the doc for more information https://assertj.github.io/doc/#assertj-core-exception-assertions-no-exception\r\n\r\n","title":"How to test that no exception is thrown?","body":"<p>AssertJ can handle this scenario:</p>\n<pre><code>assertThatNoException().isThrownBy(() -&gt; System.out.println(&quot;OK&quot;));\n</code></pre>\n<p>Check the doc for more information <a href=\"https://assertj.github.io/doc/#assertj-core-exception-assertions-no-exception\" rel=\"noreferrer\">https://assertj.github.io/doc/#assertj-core-exception-assertions-no-exception</a></p>\n"}],"owner":{"account_id":189322,"reputation":6684,"user_id":428598,"accept_rate":61,"display_name":"Ankit Dhingra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564640,"favorite_count":0,"down_vote_count":1,"up_vote_count":444,"accepted_answer_id":17731324,"answer_count":20,"score":443,"last_activity_date":1701279512,"creation_date":1374172065,"question_id":17731234,"body_markdown":"I know that one way to do it would be:\r\n\r\n    @Test\r\n    public void foo() {\r\n       try {\r\n          // execute code that you expect not to throw Exceptions.\r\n       } catch(Exception e) {\r\n          fail(&quot;Should not have thrown any exception&quot;);\r\n       }\r\n    }\r\n\r\n\r\nIs there any cleaner way of doing this? (Probably using Junit&#39;s `@Rule`?)","title":"How to test that no exception is thrown?","body":"<p>I know that one way to do it would be:</p>\n<pre><code>@Test\npublic void foo() {\n   try {\n      // execute code that you expect not to throw Exceptions.\n   } catch(Exception e) {\n      fail(&quot;Should not have thrown any exception&quot;);\n   }\n}\n</code></pre>\n<p>Is there any cleaner way of doing this? (Probably using Junit's <code>@Rule</code>?)</p>\n"},{"tags":["java","android","kotlin","android-relativelayout"],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701279321,"creation_date":1701279321,"answer_id":77573380,"question_id":77537330,"body_markdown":"I think that issue generated when you tried to set `EditText` **x** and **y** from Kotlin side.\r\n\r\nthe property `android:windowSoftInputMode=&quot;adjustResize&quot;` into &lt;Activity&gt; in `Manifest.` that is work for all Android device, but in your case i noticed a difference when you set **X** and **Y** programmatically.\r\n\r\n&gt; You should try this one. i hope its work for you\r\n```kotlin\r\noverride fun onCreate(){\r\n    // ...\r\n    relativeLayout.addView(textField) // your last line add bellow of that code\r\n\r\n    val rootView = findViewById&lt;View&gt;(android.R.id.content)\r\n\r\n    rootView.viewTreeObserver.addOnPreDrawListener(object : ViewTreeObserver.OnPreDrawListener {\r\n        override fun onPreDraw(): Boolean {\r\n            val heightDiff = rootView.height - relativeLayout.height\r\n\r\n            if (heightDiff &gt; 100) { // Adjust this threshold according to your needs\r\n                // Soft keyboard is shown\r\n                val newTopMargin = 2200 - heightDiff\r\n                textField_layoutparams.topMargin = newTopMargin\r\n                textField.layoutParams = textField_layoutparams\r\n            } else {\r\n                // Soft keyboard is hidden\r\n                textField_layoutparams.topMargin = 2200\r\n                textField.layoutParams = textField_layoutparams\r\n            }\r\n\r\n            return true\r\n        }\r\n    })\r\n}\r\n```","title":"windowSoftInputMode=&quot;adjustResize&quot; doesn&#39;t seems to work in case of Absolute Positioning in Relative Layout","body":"<p>I think that issue generated when you tried to set <code>EditText</code> <strong>x</strong> and <strong>y</strong> from Kotlin side.</p>\n<p>the property <code>android:windowSoftInputMode=&quot;adjustResize&quot;</code> into  in <code>Manifest.</code> that is work for all Android device, but in your case i noticed a difference when you set <strong>X</strong> and <strong>Y</strong> programmatically.</p>\n<blockquote>\n<p>You should try this one. i hope its work for you</p>\n</blockquote>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onCreate(){\n    // ...\n    relativeLayout.addView(textField) // your last line add bellow of that code\n\n    val rootView = findViewById&lt;View&gt;(android.R.id.content)\n\n    rootView.viewTreeObserver.addOnPreDrawListener(object : ViewTreeObserver.OnPreDrawListener {\n        override fun onPreDraw(): Boolean {\n            val heightDiff = rootView.height - relativeLayout.height\n\n            if (heightDiff &gt; 100) { // Adjust this threshold according to your needs\n                // Soft keyboard is shown\n                val newTopMargin = 2200 - heightDiff\n                textField_layoutparams.topMargin = newTopMargin\n                textField.layoutParams = textField_layoutparams\n            } else {\n                // Soft keyboard is hidden\n                textField_layoutparams.topMargin = 2200\n                textField.layoutParams = textField_layoutparams\n            }\n\n            return true\n        }\n    })\n}\n</code></pre>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701279321,"creation_date":1700746715,"question_id":77537330,"body_markdown":"I have an EditText in the lower part of my Android screen as shown in image. Due to some project contraints I&#39;m supposed to use only Absolute positioning.\r\n\r\nWhen clicked on the EditText the soft keyboard hides the EditText as shown in the other image.\r\n\r\n[![enter image description here][1]][1] \r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have tried putting android:windowSoftInputMode=&quot;adjustResize&quot; in the manifest file (also tried adjustPan) \r\nIt only works for relative positioning (commented textField_layoutparams code below) but doesn&#39;t seems to be working for absolute positioning.\r\n\r\nEven tried putting a ScrollView (commented code below) but it doesn&#39;t work.\r\n\r\nCode:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n            val scrollView: ScrollView\r\n            val relativeLayout: RelativeLayout\r\n            val textField: EditText\r\n\r\n        /*scrollView = ScrollView (this)\r\n        scrollView.layoutParams = RelativeLayout.LayoutParams(\r\n            RelativeLayout.LayoutParams.MATCH_PARENT,\r\n            RelativeLayout.LayoutParams.MATCH_PARENT\r\n        )*/\r\n        //scrollView.isFillViewport = true\r\n\r\n        //setContentView(scrollView)\r\n\r\n        relativeLayout = RelativeLayout(this)\r\n        relativeLayout.layoutParams = RelativeLayout.LayoutParams (\r\n            RelativeLayout.LayoutParams.MATCH_PARENT,\r\n            RelativeLayout.LayoutParams.MATCH_PARENT\r\n        )\r\n        relativeLayout.setBackgroundColor(Color.parseColor(&quot;#0000FF&quot;))\r\n\r\n        //scrollView.addView(relativeLayout)\r\n        setContentView (relativeLayout)\r\n\r\n        textField = EditText(this)\r\n\r\n        val textField_layoutparams: LayoutParams\r\n        textField_layoutparams = RelativeLayout.LayoutParams (\r\n            400,\r\n            150\r\n        )\r\n        textField.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;))\r\n\r\n        //textField_layoutparams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE)\r\n        //textField_layoutparams.addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE)\r\n        //textField_layoutparams.setMargins(0, 0, 0, 200)\r\n        textField.layoutParams = textField_layoutparams\r\n        textField.hint = &quot;Enter Text&quot;\r\n        textField.x = 500F\r\n        textField.y = 2200F\r\n\r\n        relativeLayout.addView(textField)\r\n    }\r\n\r\n    /**\r\n     * A native method that is implemented by the &#39;scrollviewpoc&#39; native library,\r\n     * which is packaged with this application.\r\n     */\r\n    external fun stringFromJNI(): String\r\n\r\n    companion object {\r\n        // Used to load the &#39;scrollviewpoc&#39; library on application startup.\r\n        init {\r\n            System.loadLibrary(&quot;scrollviewpoc&quot;)\r\n        }\r\n    }\r\n    }\r\n\r\nIs there any way to achieve the desired behaviour in case of Absolute positioning?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Tempm.png\r\n  [2]: https://i.stack.imgur.com/lJw4hm.png\r\n ","title":"windowSoftInputMode=&quot;adjustResize&quot; doesn&#39;t seems to work in case of Absolute Positioning in Relative Layout","body":"<p>I have an EditText in the lower part of my Android screen as shown in image. Due to some project contraints I'm supposed to use only Absolute positioning.</p>\n<p>When clicked on the EditText the soft keyboard hides the EditText as shown in the other image.</p>\n<p><a href=\"https://i.stack.imgur.com/2Tempm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Tempm.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/lJw4hm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lJw4hm.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried putting android:windowSoftInputMode=&quot;adjustResize&quot; in the manifest file (also tried adjustPan)\nIt only works for relative positioning (commented textField_layoutparams code below) but doesn't seems to be working for absolute positioning.</p>\n<p>Even tried putting a ScrollView (commented code below) but it doesn't work.</p>\n<p>Code:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var binding: ActivityMainBinding\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n        val scrollView: ScrollView\n        val relativeLayout: RelativeLayout\n        val textField: EditText\n\n    /*scrollView = ScrollView (this)\n    scrollView.layoutParams = RelativeLayout.LayoutParams(\n        RelativeLayout.LayoutParams.MATCH_PARENT,\n        RelativeLayout.LayoutParams.MATCH_PARENT\n    )*/\n    //scrollView.isFillViewport = true\n\n    //setContentView(scrollView)\n\n    relativeLayout = RelativeLayout(this)\n    relativeLayout.layoutParams = RelativeLayout.LayoutParams (\n        RelativeLayout.LayoutParams.MATCH_PARENT,\n        RelativeLayout.LayoutParams.MATCH_PARENT\n    )\n    relativeLayout.setBackgroundColor(Color.parseColor(&quot;#0000FF&quot;))\n\n    //scrollView.addView(relativeLayout)\n    setContentView (relativeLayout)\n\n    textField = EditText(this)\n\n    val textField_layoutparams: LayoutParams\n    textField_layoutparams = RelativeLayout.LayoutParams (\n        400,\n        150\n    )\n    textField.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;))\n\n    //textField_layoutparams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE)\n    //textField_layoutparams.addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE)\n    //textField_layoutparams.setMargins(0, 0, 0, 200)\n    textField.layoutParams = textField_layoutparams\n    textField.hint = &quot;Enter Text&quot;\n    textField.x = 500F\n    textField.y = 2200F\n\n    relativeLayout.addView(textField)\n}\n\n/**\n * A native method that is implemented by the 'scrollviewpoc' native library,\n * which is packaged with this application.\n */\nexternal fun stringFromJNI(): String\n\ncompanion object {\n    // Used to load the 'scrollviewpoc' library on application startup.\n    init {\n        System.loadLibrary(&quot;scrollviewpoc&quot;)\n    }\n}\n}\n</code></pre>\n<p>Is there any way to achieve the desired behaviour in case of Absolute positioning?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1674328,"reputation":2653,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1683889919,"post_id":76235681,"comment_id":134439330,"body_markdown":"If I&#39;m not mistaken, Spring Batch 4 requires Java 8 but Spring Framework 3 only supports 1.5, 6 and 7 so I don&#39;t think you can make this work.","body":"If I&#39;m not mistaken, Spring Batch 4 requires Java 8 but Spring Framework 3 only supports 1.5, 6 and 7 so I don&#39;t think you can make this work."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683890265,"post_id":76235681,"comment_id":134439414,"body_markdown":"I guess @Lucifer meant Spring Boot 3.0.5?","body":"I guess @Lucifer meant Spring Boot 3.0.5?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683890424,"post_id":76235681,"comment_id":134439457,"body_markdown":"You don&#39;t need to share the company code but how shell we understand the issue? Please provide a simplified version of code causing this &quot;obj.getclass() is null&#39; error.","body":"You don&#39;t need to share the company code but how shell we understand the issue? Please provide a simplified version of code causing this &quot;obj.getclass() is null&#39; error."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701279230,"creation_date":1683893450,"answer_id":76236151,"question_id":76235681,"body_markdown":"The [documentation][1] says that Spring Batch 4.3.8 depends on Spring Framework 5.3. If you need compatibility with an older version of Spring Framework you would need to use an older version of Spring Batch, like it is mentioned in this answer: https://stackoverflow.com/a/43846616/721855.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/4.3.8/reference/html/whatsnew.html#dependencyUpdates","title":"Spring Batch 4.3.8 compatible with spring framework 3.0.5?","body":"<p>The <a href=\"https://docs.spring.io/spring-batch/docs/4.3.8/reference/html/whatsnew.html#dependencyUpdates\" rel=\"nofollow noreferrer\">documentation</a> says that Spring Batch 4.3.8 depends on Spring Framework 5.3. If you need compatibility with an older version of Spring Framework you would need to use an older version of Spring Batch, like it is mentioned in this answer: <a href=\"https://stackoverflow.com/a/43846616/721855\">https://stackoverflow.com/a/43846616/721855</a>.</p>\n"}],"owner":{"account_id":11229190,"reputation":1,"user_id":8237853,"display_name":"Lucifer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701279230,"creation_date":1683889465,"question_id":76235681,"body_markdown":"I need to know if springbatch(4.3.8) is or anyhow can be made compatible with springframework 3.0.5. I am getting an error if using.\r\n\r\nThe error being obj.getclass() is null. But nothing is passed as null. \r\n\r\nCode I cant display over here as it will be a policy violation of the company. \r\n\r\nTried with 5.0.1 but seems like it will be a huge change.","title":"Spring Batch 4.3.8 compatible with spring framework 3.0.5?","body":"<p>I need to know if springbatch(4.3.8) is or anyhow can be made compatible with springframework 3.0.5. I am getting an error if using.</p>\n<p>The error being obj.getclass() is null. But nothing is passed as null.</p>\n<p>Code I cant display over here as it will be a policy violation of the company.</p>\n<p>Tried with 5.0.1 but seems like it will be a huge change.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","optimistic-locking"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701240989,"creation_date":1701240989,"answer_id":77569125,"question_id":77567192,"body_markdown":"&gt; how to do it via spring boot\r\n\r\nSpring Data Elasticsearch is not Spring Boot.\r\n\r\nThe versioning management of an index can be defined with `versionType` property of the`@Document` annotation. \r\n\r\nNote that the current version of the Elasticsearch documentation (https://www.elastic.co/guide/en/elasticsearch/reference/8.11/optimistic-concurrency-control.html) only describes optimistic locking using __seq_no_ and __primary_term_ (which is supported by Spring Data Elasticsearch as well). Using a version field was the previous way to do this, you might better migrate.\r\n\r\nAnother thing:\r\nPlease annotate your id property with `@Id` instead of relying it to be detetced by the name, you can omit the `@Field` annotation on the id field then.","title":"Elasticsearch and spring data (optimistic locking)","body":"<blockquote>\n<p>how to do it via spring boot</p>\n</blockquote>\n<p>Spring Data Elasticsearch is not Spring Boot.</p>\n<p>The versioning management of an index can be defined with <code>versionType</code> property of the<code>@Document</code> annotation.</p>\n<p>Note that the current version of the Elasticsearch documentation (<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.11/optimistic-concurrency-control.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/8.11/optimistic-concurrency-control.html</a>) only describes optimistic locking using _<em>seq_no</em> and _<em>primary_term</em> (which is supported by Spring Data Elasticsearch as well). Using a version field was the previous way to do this, you might better migrate.</p>\n<p>Another thing:\nPlease annotate your id property with <code>@Id</code> instead of relying it to be detetced by the name, you can omit the <code>@Field</code> annotation on the id field then.</p>\n"},{"tags":[],"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701279100,"creation_date":1701279100,"answer_id":77573356,"question_id":77567192,"body_markdown":"Found problem here https://stackoverflow.com/questions/36188917/how-to-fix-elasticsearch-conflicts-on-the-same-key-when-two-process-writing-at-t , and the solution is just increment by yourself the version, spring data elastic can&#39;t do it &quot;on fly&quot;\r\n```\r\n  public TestIndex update(String id, String text) {\r\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\r\n        testIndex.setText(text);\r\n        testIndex.setIndexVersion(testIndex.getIndexVersion() + 1);\r\n        return testRepository.save(testIndex);\r\n    }\r\n```\r\nelastic checking if version is upgraded, and throwing optimistic lock if it is less or equal\r\n`current version [1] is higher or equal to the one provided [1]`\r\nthe message was a little bit confused with the equal, but now working well\r\n","title":"Elasticsearch and spring data (optimistic locking)","body":"<p>Found problem here <a href=\"https://stackoverflow.com/questions/36188917/how-to-fix-elasticsearch-conflicts-on-the-same-key-when-two-process-writing-at-t\">How to fix ElasticSearch conflicts on the same key when two process writing at the same time</a> , and the solution is just increment by yourself the version, spring data elastic can't do it &quot;on fly&quot;</p>\n<pre><code>  public TestIndex update(String id, String text) {\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\n        testIndex.setText(text);\n        testIndex.setIndexVersion(testIndex.getIndexVersion() + 1);\n        return testRepository.save(testIndex);\n    }\n</code></pre>\n<p>elastic checking if version is upgraded, and throwing optimistic lock if it is less or equal\n<code>current version [1] is higher or equal to the one provided [1]</code>\nthe message was a little bit confused with the equal, but now working well</p>\n"}],"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701279100,"creation_date":1701206211,"question_id":77567192,"body_markdown":"I have a question about some automation implementation it via elastic spring boot data.\r\n``` @Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(indexName = &quot;super_test_index&quot;)\r\npublic class TestIndex {\r\n\r\n    @Field(type = FieldType.Keyword)\r\n    private String id;\r\n\r\n    @Field(type = FieldType.Text)\r\n    private String text;\r\n\r\n    @CreatedDate\r\n    private Instant createDate;\r\n\r\n    @LastModifiedDate\r\n    private Instant updateDate;\r\n\r\n    @Version\r\n    private Long indexVersion;\r\n}\r\n```\r\nadded repository\r\n```\r\n@Repository\r\npublic interface TestRepository extends ElasticsearchRepository&lt;TestIndex, String&gt; {\r\n}\r\n```\r\nand implemented simple code\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class TestService {\r\n\r\n    private final TestRepository testRepository;\r\n\r\n\r\n    public TestIndex save() {\r\n        TestIndex testIndex = TestIndex.builder()\r\n                .id(UUID.randomUUID().toString())\r\n                .text(&quot;test&quot;)\r\n                .build();\r\n        return testRepository.save(testIndex);\r\n    }\r\n\r\n    public TestIndex update(String id, String text) {\r\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\r\n        testIndex.setText(text);\r\n        return testRepository.save(testIndex);\r\n    }\r\n\r\n}\r\n```\r\nand call it via controller\r\n```\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class TestController {\r\n\r\n    private final TestService testService;\r\n\r\n\r\n    @PostMapping(&quot;/api/test/save&quot;)\r\n    public TestIndex save() {\r\n        return testService.save();\r\n    }\r\n\r\n    @PostMapping(&quot;/api/test/update&quot;)\r\n    public TestIndex update(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;text&quot;) String text) {\r\n        return testService.update(id, text);\r\n    }\r\n\r\n}\r\n```\r\non create I got updated document\r\n```\r\n{\r\n  &quot;id&quot;: &quot;9a16210a-3ab7-4d52-bcd2-ec87f46cc403&quot;,\r\n  &quot;text&quot;: &quot;test&quot;,\r\n  &quot;createDate&quot;: null,\r\n  &quot;updateDate&quot;: null,\r\n  &quot;indexVersion&quot;: 1\r\n}\r\n```\r\nbut on updating it\r\n```\r\n  &quot;exception&quot;: &quot;Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]; nested exception is [super_test_index/e03tZCuoRzeJB2SpVQIefQ][[super_test_index][0]] ElasticsearchStatusException[Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]]&quot;\r\n```\r\nreceiving the error message. So I have a few questions:\r\n1. Is it event possible to configure optimistic locking via spring data elastic? \r\n2. How to configure creation date/updating date for the fields, or i have to do it manually?\r\n\r\nI just found some information about i have to configure the version controlling like &#39;external version&#39; but I didn&#39;t get it how to do it via spring boot. I did the same as for a jpa repositories/entities, but never done for elastic.\r\n\r\n","title":"Elasticsearch and spring data (optimistic locking)","body":"<p>I have a question about some automation implementation it via elastic spring boot data.</p>\n<pre><code>@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(indexName = &quot;super_test_index&quot;)\npublic class TestIndex {\n\n    @Field(type = FieldType.Keyword)\n    private String id;\n\n    @Field(type = FieldType.Text)\n    private String text;\n\n    @CreatedDate\n    private Instant createDate;\n\n    @LastModifiedDate\n    private Instant updateDate;\n\n    @Version\n    private Long indexVersion;\n}\n</code></pre>\n<p>added repository</p>\n<pre><code>@Repository\npublic interface TestRepository extends ElasticsearchRepository&lt;TestIndex, String&gt; {\n}\n</code></pre>\n<p>and implemented simple code</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class TestService {\n\n    private final TestRepository testRepository;\n\n\n    public TestIndex save() {\n        TestIndex testIndex = TestIndex.builder()\n                .id(UUID.randomUUID().toString())\n                .text(&quot;test&quot;)\n                .build();\n        return testRepository.save(testIndex);\n    }\n\n    public TestIndex update(String id, String text) {\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\n        testIndex.setText(text);\n        return testRepository.save(testIndex);\n    }\n\n}\n</code></pre>\n<p>and call it via controller</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class TestController {\n\n    private final TestService testService;\n\n\n    @PostMapping(&quot;/api/test/save&quot;)\n    public TestIndex save() {\n        return testService.save();\n    }\n\n    @PostMapping(&quot;/api/test/update&quot;)\n    public TestIndex update(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;text&quot;) String text) {\n        return testService.update(id, text);\n    }\n\n}\n</code></pre>\n<p>on create I got updated document</p>\n<pre><code>{\n  &quot;id&quot;: &quot;9a16210a-3ab7-4d52-bcd2-ec87f46cc403&quot;,\n  &quot;text&quot;: &quot;test&quot;,\n  &quot;createDate&quot;: null,\n  &quot;updateDate&quot;: null,\n  &quot;indexVersion&quot;: 1\n}\n</code></pre>\n<p>but on updating it</p>\n<pre><code>  &quot;exception&quot;: &quot;Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]; nested exception is [super_test_index/e03tZCuoRzeJB2SpVQIefQ][[super_test_index][0]] ElasticsearchStatusException[Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]]&quot;\n</code></pre>\n<p>receiving the error message. So I have a few questions:</p>\n<ol>\n<li>Is it event possible to configure optimistic locking via spring data elastic?</li>\n<li>How to configure creation date/updating date for the fields, or i have to do it manually?</li>\n</ol>\n<p>I just found some information about i have to configure the version controlling like 'external version' but I didn't get it how to do it via spring boot. I did the same as for a jpa repositories/entities, but never done for elastic.</p>\n"},{"tags":["java","telegram-bot"],"comments":[{"owner":{"account_id":1992736,"reputation":2198,"user_id":1786393,"accept_rate":36,"display_name":"Giorgio Robino"},"score":2,"creation_date":1449050406,"post_id":31914062,"comment_id":55834268,"body_markdown":"1.2 Million subscribers ?! bot name ? :) \nAs noted by @user3313781 answer, Telegram bot servers use this &quot;antispam&quot; limit startegy, at the moment. Do you solved sending message in a opportune bigger time elapse? By example sending each message every max 50 milliseconds ?","body":"1.2 Million subscribers ?! bot name ? :)  As noted by @user3313781 answer, Telegram bot servers use this &quot;antispam&quot; limit startegy, at the moment. Do you solved sending message in a opportune bigger time elapse? By example sending each message every max 50 milliseconds ?"},{"owner":{"account_id":2884082,"reputation":313,"user_id":2474348,"display_name":"PythoNic"},"score":1,"creation_date":1653127660,"post_id":31914062,"comment_id":127778803,"body_markdown":"This was short before channels were introduced in Sept. 2015. Today you should send to channels and not via private message","body":"This was short before channels were introduced in Sept. 2015. Today you should send to channels and not via private message"}],"answers":[{"tags":[],"owner":{"account_id":4025150,"reputation":161,"user_id":3313781,"display_name":"alixrx"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1443784830,"creation_date":1443784830,"answer_id":32906054,"question_id":31914062,"body_markdown":"I&#39;m the owner of Ramona Bot.\r\nThere is a limit for sending message to users. as they said ~30 message per second. Otherwise you will get that Error 429.","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>I'm the owner of Ramona Bot.\nThere is a limit for sending message to users. as they said ~30 message per second. Otherwise you will get that Error 429.</p>\n"},{"tags":[],"owner":{"account_id":18999,"reputation":10646,"user_id":44080,"accept_rate":99,"display_name":"Charles Okwuagwu"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1453389112,"creation_date":1453389112,"answer_id":34927355,"question_id":31914062,"body_markdown":"You should simply implement a global rate limiter to ensure no single user gets above a fixed number of messages per second. to be safe, set your limiter at lower than 30, maybe even to 5 msgs per second.\r\n\r\nReally anything higher than 5 messages per second to a single user quickly becomes an annoyance.\r\n\r\ncheers. ","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>You should simply implement a global rate limiter to ensure no single user gets above a fixed number of messages per second. to be safe, set your limiter at lower than 30, maybe even to 5 msgs per second.</p>\n\n<p>Really anything higher than 5 messages per second to a single user quickly becomes an annoyance.</p>\n\n<p>cheers. </p>\n"},{"tags":[],"owner":{"account_id":14443904,"reputation":858,"user_id":10433691,"display_name":"Hossein"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1593399146,"creation_date":1586852523,"answer_id":61203459,"question_id":31914062,"body_markdown":"Based on the [Telegram Bots FAQ][1] for sending messages, you should consider this:\r\n\r\n&gt; If you&#39;re sending bulk notifications to multiple users, the API will not allow more than 30 messages per second or so. Consider spreading out notifications over large intervals of 8—12 hours for best results.\r\n\r\n\r\n  [1]: https://core.telegram.org/bots/faq#my-bot-is-hitting-limits-how-do-i-avoid-this","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>Based on the <a href=\"https://core.telegram.org/bots/faq#my-bot-is-hitting-limits-how-do-i-avoid-this\" rel=\"noreferrer\">Telegram Bots FAQ</a> for sending messages, you should consider this:</p>\n<blockquote>\n<p>If you're sending bulk notifications to multiple users, the API will not allow more than 30 messages per second or so. Consider spreading out notifications over large intervals of 8—12 hours for best results.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11890572,"reputation":31,"user_id":8701564,"display_name":"Александр Щербаков"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625155407,"creation_date":1625155407,"answer_id":68213502,"question_id":31914062,"body_markdown":"I had similar problems with messages, the pause between which was 0.5 seconds (this is much less than 30 messages per second!). The problem was only associated with messages, the content of which I tried to change. So when you try to use &quot;edit_message_text&quot; or &quot;edit_message_media&quot; take more pause between messages.","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>I had similar problems with messages, the pause between which was 0.5 seconds (this is much less than 30 messages per second!). The problem was only associated with messages, the content of which I tried to change. So when you try to use &quot;edit_message_text&quot; or &quot;edit_message_media&quot; take more pause between messages.</p>\n"},{"tags":[],"owner":{"account_id":1561263,"reputation":1761,"user_id":3554537,"display_name":"Saeed Mohtasham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669275686,"creation_date":1669275686,"answer_id":74557199,"question_id":31914062,"body_markdown":"It can happen also if a Telegram group is in the slow mode and the bot tries to send more that one message at once to that group. I fixed this by adding a delay to the bot trigger mechanism. ","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>It can happen also if a Telegram group is in the slow mode and the bot tries to send more that one message at once to that group. I fixed this by adding a delay to the bot trigger mechanism.</p>\n"},{"tags":[],"owner":{"account_id":3584766,"reputation":4882,"user_id":2992192,"display_name":"Marquinho Peli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701278559,"creation_date":1700744233,"answer_id":77537062,"question_id":31914062,"body_markdown":"What I did with 100% degree of success was:\r\n\r\n1- Read the returning JSON when status code is 429. That should be something like:\r\n\r\n    {\r\n        &quot;ok&quot;:false,\r\n        &quot;error_code&quot;:429,\r\n        &quot;description&quot;:&quot;Too Many Requests: retry after 35&quot;,\r\n        &quot;parameters&quot;:{\r\n            &quot;retry_after&quot;:35\r\n        }\r\n    }\r\n\r\n2- Add a sleep based on **parameters.retry_after** from that JSON\r\n\r\n3- After sleep completes, send again the last message that gave error\r\n\r\n4- Continue to send messages on queue until you get the next 429 error\r\n\r\n5- Repeat steps 1 and on until all messages are delivered\r\n\r\nMy code:\r\n\r\n    def postNews(news: list[str]):\r\n        tries = 3\r\n        for link in news:\r\n            for i in range(tries):\r\n                result = requests.get(f&#39;https://api.telegram.org/botXX:YY/sendMessage&#39;, params={&#39;chat_id&#39;: &#39;-999999999999999&#39;, &#39;text&#39;: link})\r\n                if result.status_code == 200:\r\n                    #//sleep to avoid being blocked\r\n                    time.sleep(2)\r\n                    break\r\n                \r\n                #//skip error sleep on last try\r\n                if i == tries - 1:\r\n                    continue\r\n\r\n                #//there is some error, let us do some sleep\r\n                sleepTime = 3\r\n                if result.status_code == 429:\r\n                    sleepTime = result.json()[&#39;parameters&#39;][&#39;retry_after&#39;]\r\n                    \r\n                time.sleep(sleepTime)\r\n            else:\r\n                #//this else gets executed if the loop don&#39;t break\r\n                print(f&#39;{link} - {result.status_code} {result.reason} {result.text}&#39;)\r\n","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>What I did with 100% degree of success was:</p>\n<p>1- Read the returning JSON when status code is 429. That should be something like:</p>\n<pre><code>{\n    &quot;ok&quot;:false,\n    &quot;error_code&quot;:429,\n    &quot;description&quot;:&quot;Too Many Requests: retry after 35&quot;,\n    &quot;parameters&quot;:{\n        &quot;retry_after&quot;:35\n    }\n}\n</code></pre>\n<p>2- Add a sleep based on <strong>parameters.retry_after</strong> from that JSON</p>\n<p>3- After sleep completes, send again the last message that gave error</p>\n<p>4- Continue to send messages on queue until you get the next 429 error</p>\n<p>5- Repeat steps 1 and on until all messages are delivered</p>\n<p>My code:</p>\n<pre><code>def postNews(news: list[str]):\n    tries = 3\n    for link in news:\n        for i in range(tries):\n            result = requests.get(f'https://api.telegram.org/botXX:YY/sendMessage', params={'chat_id': '-999999999999999', 'text': link})\n            if result.status_code == 200:\n                #//sleep to avoid being blocked\n                time.sleep(2)\n                break\n            \n            #//skip error sleep on last try\n            if i == tries - 1:\n                continue\n\n            #//there is some error, let us do some sleep\n            sleepTime = 3\n            if result.status_code == 429:\n                sleepTime = result.json()['parameters']['retry_after']\n                \n            time.sleep(sleepTime)\n        else:\n            #//this else gets executed if the loop don't break\n            print(f'{link} - {result.status_code} {result.reason} {result.text}')\n</code></pre>\n"}],"owner":{"account_id":1862935,"reputation":1011,"user_id":1953536,"accept_rate":43,"display_name":"Pooya Saberian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39054,"favorite_count":0,"down_vote_count":2,"up_vote_count":30,"accepted_answer_id":34927355,"answer_count":6,"score":28,"last_activity_date":1701278559,"creation_date":1439192399,"question_id":31914062,"body_markdown":"We have a Telegram bot. It has around 1.2 million subscribers. \r\n\r\nNow we&#39;re facing a problem in sending messages to these number of subscribers. \r\n\r\nTelegram bot API does not provide any batch message functionality and we&#39;d have to send individual requests to Telegram. The problem is, after a few thousand messages, Telegram starts responding with Error 429: too many requests, and does not accept any requests for a while. \r\n\r\nHow can we effectively message our subscribers?","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>We have a Telegram bot. It has around 1.2 million subscribers.</p>\n<p>Now we're facing a problem in sending messages to these number of subscribers.</p>\n<p>Telegram bot API does not provide any batch message functionality and we'd have to send individual requests to Telegram. The problem is, after a few thousand messages, Telegram starts responding with Error 429: too many requests, and does not accept any requests for a while.</p>\n<p>How can we effectively message our subscribers?</p>\n"},{"tags":["java","spring","jakarta-ee","servlets","spring-mvc"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1355327736,"post_id":13843294,"comment_id":19055254,"body_markdown":"I think only first `*` will be used as wildcard, and the 2nd `*` is treated as `literal *`. AFAIK, `*` is only treated as wildcard when used besides `/`.","body":"I think only first <code>*</code> will be used as wildcard, and the 2nd <code>*</code> is treated as <code>literal *</code>. AFAIK, <code>*</code> is only treated as wildcard when used besides <code>&#47;</code>."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1355328562,"post_id":13843294,"comment_id":19055733,"body_markdown":"Where have you seen this usage?","body":"Where have you seen this usage?"},{"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"score":1,"creation_date":1449151160,"post_id":13843294,"comment_id":55888698,"body_markdown":"See http://stackoverflow.com/questions/15479213, the double asterisk can be use in a `&lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/static/&quot; /&gt;` configuration and is defined in Spring&#39;s [AntPathMatcher](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html)","body":"See <a href=\"http://stackoverflow.com/questions/15479213\">stackoverflow.com/questions/15479213</a>, the double asterisk can be use in a <code>&lt;mvc:resources mapping=&quot;&#47;static&#47;**&quot; location=&quot;&#47;static&#47;&quot; &#47;&gt;</code> configuration and is defined in Spring&#39;s <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"nofollow noreferrer\">AntPathMatcher</a>"}],"answers":[{"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1355329127,"creation_date":1355327403,"answer_id":13843472,"question_id":13843294,"body_markdown":"Section 11.2 of servlet specification (version 2.5) states the following:\r\n\r\n&gt; In the Web application deployment descriptor, the following syntax is used to define\r\nmappings:\r\n\r\n&gt; - A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used\r\nfor path mapping.\r\n&gt; - A string beginning with a ‘*.’ prefix is used as an extension mapping.\r\n&gt; - A string containing only the ’/’ character indicates the &quot;default&quot; servlet of\r\nthe application. In this case the servlet path is the request URI minus the context\r\npath and the path info is null.\r\n&gt; - All other strings are used for exact matches only.\r\n\r\nSo I guess the second variant (`**`) doesn&#39;t make sense.\r\n\r\nP.S. I&#39;ve just tried to set up such mapping and it seems that only this exact url `/shop/**` will be matched (Tomcat 6.0.32).","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>Section 11.2 of servlet specification (version 2.5) states the following:</p>\n\n<blockquote>\n  <p>In the Web application deployment descriptor, the following syntax is used to define\n  mappings:</p>\n  \n  <ul>\n  <li>A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used\n  for path mapping.</li>\n  <li>A string beginning with a ‘*.’ prefix is used as an extension mapping.</li>\n  <li>A string containing only the ’/’ character indicates the \"default\" servlet of\n  the application. In this case the servlet path is the request URI minus the context\n  path and the path info is null.</li>\n  <li>All other strings are used for exact matches only.</li>\n  </ul>\n</blockquote>\n\n<p>So I guess the second variant (<code>**</code>) doesn't make sense.</p>\n\n<p>P.S. I've just tried to set up such mapping and it seems that only this exact url <code>/shop/**</code> will be matched (Tomcat 6.0.32).</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410856055,"creation_date":1355328283,"answer_id":13843745,"question_id":13843294,"body_markdown":"No where in specification talking about second case. \r\n\r\nAs per [servlet specification 12.2][1]\r\n\r\n&gt; A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used for \r\npath mapping\r\n\r\n    All other strings are used for exact matches only.\r\n\r\nAs per specification second would be considered for exact match only. It may vary based on server providers.\r\n\r\n  [1]: http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-eval-oth-JSpec/servlet-3_0-final-spec.pdf","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>No where in specification talking about second case. </p>\n\n<p>As per <a href=\"http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-eval-oth-JSpec/servlet-3_0-final-spec.pdf\" rel=\"nofollow\">servlet specification 12.2</a></p>\n\n<blockquote>\n  <p>A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used for \n  path mapping</p>\n</blockquote>\n\n<pre><code>All other strings are used for exact matches only.\n</code></pre>\n\n<p>As per specification second would be considered for exact match only. It may vary based on server providers.</p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1701277919,"creation_date":1355328612,"answer_id":13843851,"question_id":13843294,"body_markdown":"The [Servlet specification][1] itself (Version 3.0, Chapter 12.2) defines only two kinds of *wildcard* mapping: \r\n\r\n- If the URL pattern ends with `&quot;/*&quot;`, it matches all requests to the preceding path.\r\n- If the URL pattern starts with `&quot;*.&quot;`, it matches all requests to any resource ending with the following extension.\r\n\r\nE.g. `&quot;/foo/*&quot;` will match all requests for URLs starting with `http://server/context/foo/` and `&quot;*.jsp&quot;` will match all requests for URL ending with `&quot;.jsp&quot;`.\r\n\r\nFollowing the specification, the *empty* string (`&quot;&quot;`) and a single slash (`&quot;/&quot;`) have specific meanings. &quot;*All other strings are used for exact matches only*.&quot;\r\n\r\nFollowing the specification strictly, your second example is not a wildcard pattern at all, but should only match `&quot;/shop/**&quot;` exactly. Most Servlet containers are however less strict and allow using the `*` wildcard at arbitrary locations or offer even more complex pattern matching options.\r\n\r\n\r\n  [1]: https://jcp.org/aboutJava/communityprocess/mrel/jsr315/index.html","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>The <a href=\"https://jcp.org/aboutJava/communityprocess/mrel/jsr315/index.html\" rel=\"nofollow noreferrer\">Servlet specification</a> itself (Version 3.0, Chapter 12.2) defines only two kinds of <em>wildcard</em> mapping:</p>\n<ul>\n<li>If the URL pattern ends with <code>&quot;/*&quot;</code>, it matches all requests to the preceding path.</li>\n<li>If the URL pattern starts with <code>&quot;*.&quot;</code>, it matches all requests to any resource ending with the following extension.</li>\n</ul>\n<p>E.g. <code>&quot;/foo/*&quot;</code> will match all requests for URLs starting with <code>http://server/context/foo/</code> and <code>&quot;*.jsp&quot;</code> will match all requests for URL ending with <code>&quot;.jsp&quot;</code>.</p>\n<p>Following the specification, the <em>empty</em> string (<code>&quot;&quot;</code>) and a single slash (<code>&quot;/&quot;</code>) have specific meanings. &quot;<em>All other strings are used for exact matches only</em>.&quot;</p>\n<p>Following the specification strictly, your second example is not a wildcard pattern at all, but should only match <code>&quot;/shop/**&quot;</code> exactly. Most Servlet containers are however less strict and allow using the <code>*</code> wildcard at arbitrary locations or offer even more complex pattern matching options.</p>\n"}],"owner":{"account_id":1989413,"reputation":2543,"user_id":1783793,"accept_rate":94,"display_name":"fegemo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50588,"favorite_count":0,"down_vote_count":3,"up_vote_count":25,"accepted_answer_id":13843472,"answer_count":3,"score":22,"last_activity_date":1701277919,"creation_date":1355326855,"question_id":13843294,"body_markdown":"I&#39;m wondering what is the difference of using a **single** or **double wildcards** to describe a url-pattern on a servlet mapping.\r\n\r\nFor example: what is the difference below?\r\n\r\n1) \r\n\r\n    &lt;servlet-mapping id=&quot;...&quot;&gt;\r\n        &lt;servlet-name&gt;BuyServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/buy/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n2)\r\n\r\n    &lt;servlet-mapping id=&quot;...&quot;&gt;\r\n        &lt;servlet-name&gt;ShopServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/shop/**&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\n\r\n\r\nEDIT:\r\n@Andrew is right, the specification talks about only one wildcard (*).\r\n\r\nI double checked my code and noticed that the place where I found double wildcards (**) was in a Spring SimpleUrlHandlerMapping bean.\r\n\r\nIn that case, it makes sense. As per [the class doc][1], it uses [AntPathMatcher][2], which states:\r\n\r\n&gt; The mapping matches URLs using the following rules: ? matches one\r\n&gt; character\r\n&gt; * matches zero or more characters\r\n&gt; ** matches zero or more &#39;directories&#39; in a path\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/web/servlet/handler/SimpleUrlHandlerMapping.html\r\n  [2]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/util/AntPathMatcher.html","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>I'm wondering what is the difference of using a <strong>single</strong> or <strong>double wildcards</strong> to describe a url-pattern on a servlet mapping.</p>\n\n<p>For example: what is the difference below?</p>\n\n<p>1) </p>\n\n<pre><code>&lt;servlet-mapping id=\"...\"&gt;\n    &lt;servlet-name&gt;BuyServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/buy/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>&lt;servlet-mapping id=\"...\"&gt;\n    &lt;servlet-name&gt;ShopServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/shop/**&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>EDIT:\n@Andrew is right, the specification talks about only one wildcard (*).</p>\n\n<p>I double checked my code and noticed that the place where I found double wildcards (**) was in a Spring SimpleUrlHandlerMapping bean.</p>\n\n<p>In that case, it makes sense. As per <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/web/servlet/handler/SimpleUrlHandlerMapping.html\" rel=\"noreferrer\">the class doc</a>, it uses <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/util/AntPathMatcher.html\" rel=\"noreferrer\">AntPathMatcher</a>, which states:</p>\n\n<blockquote>\n  <p>The mapping matches URLs using the following rules: ? matches one\n  character\n  * matches zero or more characters\n  ** matches zero or more 'directories' in a path</p>\n</blockquote>\n"},{"tags":["java","java-8","functional-programming","option-type"],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1536712386,"creation_date":1536712386,"answer_id":52285864,"question_id":52285813,"body_markdown":"Maybe I&#39;m overlooking something, but is there a reason that you can&#39;t use `Optional#map`?  \r\n\r\nThe following example prints nothing, as `Optional` is *short-circuiting* in the sense that, if the value inside the `Optional` doesn&#39;t exist (it&#39;s `null` or the `Optional` is empty), it&#39;s treated as empty.\r\n\r\n    Optional.ofNullable(&quot;test&quot;)\r\n            .map(s -&gt; null)\r\n            .ifPresent(System.out::println);\r\n\r\nFor that reason, I&#39;d think you could just do the following:\r\n\r\n    return Optional.ofNullable(thing)\r\n                   .map(x -&gt; x.nullableMethod1(a))\r\n                   .map(y -&gt; y.nullableMethod2(b))\r\n                   .map(Z::nullableMethod3);\r\n\r\nThis would map your `thing` if it exists, or return an empty `Optional` otherwise.","title":"How to implement the Elvis operator in Java 8?","body":"<p>Maybe I'm overlooking something, but is there a reason that you can't use <code>Optional#map</code>?  </p>\n\n<p>The following example prints nothing, as <code>Optional</code> is <em>short-circuiting</em> in the sense that, if the value inside the <code>Optional</code> doesn't exist (it's <code>null</code> or the <code>Optional</code> is empty), it's treated as empty.</p>\n\n<pre><code>Optional.ofNullable(\"test\")\n        .map(s -&gt; null)\n        .ifPresent(System.out::println);\n</code></pre>\n\n<p>For that reason, I'd think you could just do the following:</p>\n\n<pre><code>return Optional.ofNullable(thing)\n               .map(x -&gt; x.nullableMethod1(a))\n               .map(y -&gt; y.nullableMethod2(b))\n               .map(Z::nullableMethod3);\n</code></pre>\n\n<p>This would map your <code>thing</code> if it exists, or return an empty <code>Optional</code> otherwise.</p>\n"},{"tags":[],"owner":{"account_id":6307754,"reputation":1159,"user_id":4900327,"accept_rate":50,"display_name":"Abhishek Divekar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1553157163,"creation_date":1553157163,"answer_id":55276392,"question_id":52285813,"body_markdown":"In Java 8, the Elvis operator can be simulated by chaining `.map(...)` calls on an `Optional.ofNullable(...)` and capping it with `.orElse(...)`:\r\n\r\n```\r\nOptional.ofNullable(dataObject)\r\n.map(DataObject::getNestedDataObject)\r\n.map(NestedDataObject::getEvenMoreNestedDataObject)\r\n...\r\n.orElse(null);\r\n```\r\n\r\nA full example:\r\n\r\n```java\r\nimport java.util.Optional;\r\n\r\nclass Main {\r\n  // Data classes:\r\n  static class Animal {\r\n    Leg leg;\r\n\r\n    Animal(Leg leg) {\r\n      this.leg = leg;\r\n    }\r\n\r\n    Leg getLeg(){return this.leg;}\r\n\r\n    public String toString(){\r\n      String out = &quot;This is an animal&quot;;\r\n      out += leg != null ? &quot; with a leg&quot; : &quot;&quot;;\r\n      return out;\r\n    }\r\n  }\r\n\r\n  static class Leg {\r\n    Toes toes;\r\n    \r\n    Leg(Toes toes) {\r\n      this.toes = toes;\r\n    }\r\n\r\n    Toes getToes(){return this.toes;}\r\n\r\n    public String toString(){\r\n      String out = &quot;This is a leg&quot;;\r\n      out += toes != null ? &quot; with a collection of toes&quot; : &quot;&quot;;\r\n      return out;\r\n    }\r\n  }\r\n\r\n  static class Toes {\r\n    Integer numToes;\r\n\r\n    Toes(Integer numToes) {\r\n      this.numToes = numToes;\r\n    }\r\n\r\n    Integer getNumToes(){return this.numToes;}\r\n\r\n    public String toString(){\r\n      String out = &quot;This is a collection of &quot;;\r\n      out += numToes != null &amp;&amp; numToes &gt; 0 ? numToes : &quot;no&quot;;\r\n      out += &quot; toes&quot;;\r\n      return out;\r\n    }\r\n  }\r\n\r\n  // A few example Elvis operators:\r\n  static Integer getNumToesOrNull(Animal a) {\r\n    return Optional.ofNullable(a)\r\n      .map(Animal::getLeg)\r\n      .map(Leg::getToes)\r\n      .map(Toes::getNumToes)\r\n      .orElse(null);\r\n  }\r\n\r\n  static Toes getToesOrNull(Animal a) {\r\n    return Optional.ofNullable(a)\r\n      .map(Animal::getLeg)\r\n      .map(Leg::getToes)\r\n      .orElse(null);\r\n  }\r\n\r\n  static Leg getLegOrNull(Animal a) {\r\n    return Optional.ofNullable(a)\r\n      .map(Animal::getLeg)\r\n      .orElse(null);\r\n  }\r\n\r\n  // Main function:\r\n  public static void main(String[] args) {\r\n    // Trying to access &#39;numToes&#39;:\r\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(4))))); // 4\r\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(null))))); // null\r\n    System.out.println(getNumToesOrNull(new Animal(new Leg(null)))); // null\r\n    System.out.println(getNumToesOrNull(new Animal(null))); // null\r\n    System.out.println(getNumToesOrNull(null)); // null\r\n\r\n    // Trying to access &#39;toes&#39;:\r\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(4))))); // This is a collection of 4 toes\r\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(null))))); // This is a collection of no toes\r\n    System.out.println(getToesOrNull(new Animal(new Leg(null)))); // null\r\n    System.out.println(getToesOrNull(new Animal(null))); // null\r\n    System.out.println(getToesOrNull(null)); // null\r\n\r\n    // Trying to access &#39;leg&#39;:\r\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(4))))); // This is a leg with a collection of toes\r\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(null))))); // This is a leg with a collection of toes\r\n    System.out.println(getLegOrNull(new Animal(new Leg(null)))); // This is a leg\r\n    System.out.println(getLegOrNull(new Animal(null))); // null\r\n    System.out.println(getLegOrNull(null)); // null\r\n  }\r\n}\r\n```","title":"How to implement the Elvis operator in Java 8?","body":"<p>In Java 8, the Elvis operator can be simulated by chaining <code>.map(...)</code> calls on an <code>Optional.ofNullable(...)</code> and capping it with <code>.orElse(...)</code>:</p>\n\n<pre><code>Optional.ofNullable(dataObject)\n.map(DataObject::getNestedDataObject)\n.map(NestedDataObject::getEvenMoreNestedDataObject)\n...\n.orElse(null);\n</code></pre>\n\n<p>A full example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Optional;\n\nclass Main {\n  // Data classes:\n  static class Animal {\n    Leg leg;\n\n    Animal(Leg leg) {\n      this.leg = leg;\n    }\n\n    Leg getLeg(){return this.leg;}\n\n    public String toString(){\n      String out = \"This is an animal\";\n      out += leg != null ? \" with a leg\" : \"\";\n      return out;\n    }\n  }\n\n  static class Leg {\n    Toes toes;\n\n    Leg(Toes toes) {\n      this.toes = toes;\n    }\n\n    Toes getToes(){return this.toes;}\n\n    public String toString(){\n      String out = \"This is a leg\";\n      out += toes != null ? \" with a collection of toes\" : \"\";\n      return out;\n    }\n  }\n\n  static class Toes {\n    Integer numToes;\n\n    Toes(Integer numToes) {\n      this.numToes = numToes;\n    }\n\n    Integer getNumToes(){return this.numToes;}\n\n    public String toString(){\n      String out = \"This is a collection of \";\n      out += numToes != null &amp;&amp; numToes &gt; 0 ? numToes : \"no\";\n      out += \" toes\";\n      return out;\n    }\n  }\n\n  // A few example Elvis operators:\n  static Integer getNumToesOrNull(Animal a) {\n    return Optional.ofNullable(a)\n      .map(Animal::getLeg)\n      .map(Leg::getToes)\n      .map(Toes::getNumToes)\n      .orElse(null);\n  }\n\n  static Toes getToesOrNull(Animal a) {\n    return Optional.ofNullable(a)\n      .map(Animal::getLeg)\n      .map(Leg::getToes)\n      .orElse(null);\n  }\n\n  static Leg getLegOrNull(Animal a) {\n    return Optional.ofNullable(a)\n      .map(Animal::getLeg)\n      .orElse(null);\n  }\n\n  // Main function:\n  public static void main(String[] args) {\n    // Trying to access 'numToes':\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(4))))); // 4\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(null))))); // null\n    System.out.println(getNumToesOrNull(new Animal(new Leg(null)))); // null\n    System.out.println(getNumToesOrNull(new Animal(null))); // null\n    System.out.println(getNumToesOrNull(null)); // null\n\n    // Trying to access 'toes':\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(4))))); // This is a collection of 4 toes\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(null))))); // This is a collection of no toes\n    System.out.println(getToesOrNull(new Animal(new Leg(null)))); // null\n    System.out.println(getToesOrNull(new Animal(null))); // null\n    System.out.println(getToesOrNull(null)); // null\n\n    // Trying to access 'leg':\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(4))))); // This is a leg with a collection of toes\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(null))))); // This is a leg with a collection of toes\n    System.out.println(getLegOrNull(new Animal(new Leg(null)))); // This is a leg\n    System.out.println(getLegOrNull(new Animal(null))); // null\n    System.out.println(getLegOrNull(null)); // null\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73930,"reputation":2183,"user_id":212665,"accept_rate":100,"display_name":"Vinay Lodha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626584753,"creation_date":1626583907,"answer_id":68426114,"question_id":52285813,"body_markdown":"There is one [compiler plugin][1] I have written which manipulate AST to generate `Optional.ofNullable` chain in compile time \r\n\r\nIt has few limitations but it does reduce repetitive code \r\n\r\nPS: I am author of plugin\r\n\r\n\r\n  [1]: https://github.com/vinayalodha/elvis","title":"How to implement the Elvis operator in Java 8?","body":"<p>There is one <a href=\"https://github.com/vinayalodha/elvis\" rel=\"nofollow noreferrer\">compiler plugin</a> I have written which manipulate AST to generate <code>Optional.ofNullable</code> chain in compile time</p>\n<p>It has few limitations but it does reduce repetitive code</p>\n<p>PS: I am author of plugin</p>\n"},{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666341449,"creation_date":1666341449,"answer_id":74150958,"question_id":52285813,"body_markdown":"Another option to simulate the elvis operator would be using following helper function:\r\n\r\n    public static &lt;T&gt; T get(final Supplier&lt;T&gt; it) {\r\n        try {\r\n            return it.get();\r\n        } catch (final NullPointerException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nYou could use it like:\r\n\r\n    var x = get(() -&gt; thing.nullableMethod1(a).nullableMethod2(b).nullableMethod3());\r\n\r\n","title":"How to implement the Elvis operator in Java 8?","body":"<p>Another option to simulate the elvis operator would be using following helper function:</p>\n<pre><code>public static &lt;T&gt; T get(final Supplier&lt;T&gt; it) {\n    try {\n        return it.get();\n    } catch (final NullPointerException e) {\n        return null;\n    }\n}\n</code></pre>\n<p>You could use it like:</p>\n<pre><code>var x = get(() -&gt; thing.nullableMethod1(a).nullableMethod2(b).nullableMethod3());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7720495,"reputation":866,"user_id":5846877,"display_name":"Christophe Moine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667225415,"creation_date":1666974805,"answer_id":74238331,"question_id":52285813,"body_markdown":"To complete a bit Jacob&#39;s idea, I created this class:\r\n\r\n    public class OptionalUtils {\r\n      public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(T t, Function&lt;? super T, ? extends U&gt; mapper) {\r\n        return elvisOperator(Optional.ofNullable(t), mapper);\r\n      }\r\n    \r\n      public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(Optional&lt;T&gt; optional, Function&lt;? super T, ? extends U&gt; mapper) {\r\n        return optional.flatMap(t -&gt; Optional.ofNullable(mapper.apply(t)));\r\n      }\r\n    }\r\n\r\nThen you can do\r\n\r\n    elvisOperator(elvisOperator(dataObject, DataObject::getNestedDataObject)\r\n        NestedDataObject::getEvenMoreNestedDataObject))...\r\n\r\nAnother Fluent approach:\r\n\r\n    import java.util.function.Function;\r\n    import java.util.Optional;\r\n    \r\n    public class OptionalChaining&lt;T&gt; {\r\n      private final Optional&lt;T&gt; t;\r\n    \r\n      public OptionalChaining(T t) {\r\n        this.t=Optional.ofNullable(t);\r\n      }\r\n      public OptionalChaining(Optional&lt;T&gt; t) {\r\n        this.t=t;\r\n      }\r\n      public &lt;U&gt; OptionalChaining&lt;U&gt; get(Function&lt;T, U&gt; function) {\r\n        return new OptionalChaining(this.t\r\n            .flatMap(e -&gt; Optional.ofNullable(function.apply(e))));\r\n      }\r\n      public Optional&lt;T&gt; get() {\r\n        return t;\r\n      }\r\n    }\r\n\r\nWe can then write this:\r\n\r\n    new OptionalChaining&lt;&gt;(dataObject)\r\n        .get(DataObject::getNestedDataObject)\r\n        .get(NestedDataObject::getEvenMoreNestedDataObject)\r\n        .get()\r\n\r\nI am so frustrated to not find this in a common Java Library (such as Guava, Langs, Vavr, ...). The only way seems to use the &quot;or&quot; operator on Stream but I find it so verbose :-(","title":"How to implement the Elvis operator in Java 8?","body":"<p>To complete a bit Jacob's idea, I created this class:</p>\n<pre><code>public class OptionalUtils {\n  public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(T t, Function&lt;? super T, ? extends U&gt; mapper) {\n    return elvisOperator(Optional.ofNullable(t), mapper);\n  }\n\n  public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(Optional&lt;T&gt; optional, Function&lt;? super T, ? extends U&gt; mapper) {\n    return optional.flatMap(t -&gt; Optional.ofNullable(mapper.apply(t)));\n  }\n}\n</code></pre>\n<p>Then you can do</p>\n<pre><code>elvisOperator(elvisOperator(dataObject, DataObject::getNestedDataObject)\n    NestedDataObject::getEvenMoreNestedDataObject))...\n</code></pre>\n<p>Another Fluent approach:</p>\n<pre><code>import java.util.function.Function;\nimport java.util.Optional;\n\npublic class OptionalChaining&lt;T&gt; {\n  private final Optional&lt;T&gt; t;\n\n  public OptionalChaining(T t) {\n    this.t=Optional.ofNullable(t);\n  }\n  public OptionalChaining(Optional&lt;T&gt; t) {\n    this.t=t;\n  }\n  public &lt;U&gt; OptionalChaining&lt;U&gt; get(Function&lt;T, U&gt; function) {\n    return new OptionalChaining(this.t\n        .flatMap(e -&gt; Optional.ofNullable(function.apply(e))));\n  }\n  public Optional&lt;T&gt; get() {\n    return t;\n  }\n}\n</code></pre>\n<p>We can then write this:</p>\n<pre><code>new OptionalChaining&lt;&gt;(dataObject)\n    .get(DataObject::getNestedDataObject)\n    .get(NestedDataObject::getEvenMoreNestedDataObject)\n    .get()\n</code></pre>\n<p>I am so frustrated to not find this in a common Java Library (such as Guava, Langs, Vavr, ...). The only way seems to use the &quot;or&quot; operator on Stream but I find it so verbose :-(</p>\n"}],"owner":{"account_id":285594,"reputation":2531,"user_id":584352,"accept_rate":73,"display_name":"Mickalot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33639,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":52285864,"answer_count":5,"score":25,"last_activity_date":1701277559,"creation_date":1536712024,"question_id":52285813,"body_markdown":"I have the classic &quot;Elvis operator&quot; case, where I&#39;m calling methods that each may return null and chaining them together:\r\n\r\n    thing?:nullableMethod1(a)?:nullableMethod2(b)?:nullableMethod3()\r\n\r\nIn Java 8, the most faithful implementation I&#39;ve found is something like this:\r\n\r\n    return Optional.ofNullable(thing)\r\n        .flatMap(x -&gt; Optional.ofNullable(x.nullableMethod1(a)))\r\n        .flatMap(y -&gt; Optional.ofNullable(y.nullableMethod2(b)))\r\n        .flatMap(z -&gt; Optional.ofNullable(z.nullableMethod3()))\r\n\r\nI wish that Java&#39;s `Optional` had something akin to the elvis operator:\r\n\r\n    public&lt;U&gt; Optional&lt;U&gt; elvisOperator(Function&lt;? super T, ? extends U&gt; mapper) {\r\n        return flatMap(t -&gt; Optional.ofNullable(mapper.apply(t));\r\n    }\r\n\r\nSo that I wouldn&#39;t have to wrap each return value:\r\n\r\n    return Optional.ofNullable(thing)\r\n        .elvisOperator(x -&gt; x.nullableMethod1(a))\r\n        .elvisOperator(y -&gt; y.nullableMethod2(b))\r\n        .elvisOperator(Z::nullableMethod3); // also nice\r\n\r\nIs there a more efficient and idiomatic way to implement the Elvis operator pattern in Java 8?\r\n","title":"How to implement the Elvis operator in Java 8?","body":"<p>I have the classic \"Elvis operator\" case, where I'm calling methods that each may return null and chaining them together:</p>\n\n<pre><code>thing?:nullableMethod1(a)?:nullableMethod2(b)?:nullableMethod3()\n</code></pre>\n\n<p>In Java 8, the most faithful implementation I've found is something like this:</p>\n\n<pre><code>return Optional.ofNullable(thing)\n    .flatMap(x -&gt; Optional.ofNullable(x.nullableMethod1(a)))\n    .flatMap(y -&gt; Optional.ofNullable(y.nullableMethod2(b)))\n    .flatMap(z -&gt; Optional.ofNullable(z.nullableMethod3()))\n</code></pre>\n\n<p>I wish that Java's <code>Optional</code> had something akin to the elvis operator:</p>\n\n<pre><code>public&lt;U&gt; Optional&lt;U&gt; elvisOperator(Function&lt;? super T, ? extends U&gt; mapper) {\n    return flatMap(t -&gt; Optional.ofNullable(mapper.apply(t));\n}\n</code></pre>\n\n<p>So that I wouldn't have to wrap each return value:</p>\n\n<pre><code>return Optional.ofNullable(thing)\n    .elvisOperator(x -&gt; x.nullableMethod1(a))\n    .elvisOperator(y -&gt; y.nullableMethod2(b))\n    .elvisOperator(Z::nullableMethod3); // also nice\n</code></pre>\n\n<p>Is there a more efficient and idiomatic way to implement the Elvis operator pattern in Java 8?</p>\n"},{"tags":["java","spring","spring-boot","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1701277179,"creation_date":1696830707,"answer_id":77256502,"question_id":77256330,"body_markdown":"You will need to add/upgrade **Apache Commons IO** dependency version **&gt;= 2.12.x**.\r\n\r\n**Note:** The `builder()` method present in `UnsynchronizedByteArrayOutputStream` got introduced from **2.12.x** version of **commons-io** onwards.\r\n\r\nTake any **commons-io** version **&gt;= 2.12.0** for any **Apache POI** version **&gt;= 5.2.4**. \r\n\r\nI took the latest dependency of **commons-io** which is **2.14.0**.\r\n\r\n**pom.xml** (Maven):\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.14.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nOr \r\n\r\n**build.gradle** (Gradle):\r\n\r\n    dependencies {\r\n       implementation &#39;commons-io:commons-io:2.14.0&#39;\r\n    }\r\n\r\nIt will work.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream.html","title":"java.lang.NoSuchMethodError: &#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.poi-poi-ooxml-5.2.4","body":"<p>You will need to add/upgrade <strong>Apache Commons IO</strong> dependency version <strong>&gt;= 2.12.x</strong>.</p>\n<p><strong>Note:</strong> The <code>builder()</code> method present in <code>UnsynchronizedByteArrayOutputStream</code> got introduced from <strong>2.12.x</strong> version of <strong>commons-io</strong> onwards.</p>\n<p>Take any <strong>commons-io</strong> version <strong>&gt;= 2.12.0</strong> for any <strong>Apache POI</strong> version <strong>&gt;= 5.2.4</strong>.</p>\n<p>I took the latest dependency of <strong>commons-io</strong> which is <strong>2.14.0</strong>.</p>\n<p><strong>pom.xml</strong> (Maven):</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Or</p>\n<p><strong>build.gradle</strong> (Gradle):</p>\n<pre><code>dependencies {\n   implementation 'commons-io:commons-io:2.14.0'\n}\n</code></pre>\n<p>It will work.</p>\n"}],"owner":{"account_id":5899695,"reputation":388,"user_id":4643632,"display_name":"Prem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2850,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":77256502,"answer_count":1,"score":7,"last_activity_date":1701277179,"creation_date":1696827089,"question_id":77256330,"body_markdown":"I have upgraded from `org.apache.poi-poi-ooxml-5.2.3` to `org.apache.poi-poi-ooxml-5.2.4` due to **Security Violation Threat** in `5.2.3`\r\n\r\nNow, I am facing run time exception as `java.lang.NoSuchMethodError`\r\n\r\n**Exception:**\r\n```\r\n[ERROR] ErrorPageFilter - Forwarding to error page from request [/reports/myapp/myreport] due to exception [&#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()&#39;]\r\njava.lang.NoSuchMethodError: &#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()&#39;\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.newPackage(XSSFWorkbook.java:521) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:231) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:227) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:215) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat myapp.reports.service.impl.MyReportsExcelExporter.&lt;init&gt;(MyReportsExcelExporter.java:37) ~[classes/:0.0.1-SNAPSHOT]\r\n```\r\n\r\n**Code:**\r\n```java\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class MyReportsExcelExporter {\r\n\tprotected XSSFWorkbook workbook;\r\n\t...\r\n\tpublic MyReportsExcelExporter() {\r\n\t\tthis.workbook = new XSSFWorkbook(); //Facing issue here, while initializing the workbook.\r\n\t}\r\n\t...\r\n}\r\n```\r\n\r\nLooking at the version change, it seems like a minor upgrade but now existing code has stopped working.\r\n\r\nWhat&#39;s probably wrong?","title":"java.lang.NoSuchMethodError: &#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.poi-poi-ooxml-5.2.4","body":"<p>I have upgraded from <code>org.apache.poi-poi-ooxml-5.2.3</code> to <code>org.apache.poi-poi-ooxml-5.2.4</code> due to <strong>Security Violation Threat</strong> in <code>5.2.3</code></p>\n<p>Now, I am facing run time exception as <code>java.lang.NoSuchMethodError</code></p>\n<p><strong>Exception:</strong></p>\n<pre><code>[ERROR] ErrorPageFilter - Forwarding to error page from request [/reports/myapp/myreport] due to exception ['org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()']\njava.lang.NoSuchMethodError: 'org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()'\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.newPackage(XSSFWorkbook.java:521) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:231) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:227) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:215) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at myapp.reports.service.impl.MyReportsExcelExporter.&lt;init&gt;(MyReportsExcelExporter.java:37) ~[classes/:0.0.1-SNAPSHOT]\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class MyReportsExcelExporter {\n    protected XSSFWorkbook workbook;\n    ...\n    public MyReportsExcelExporter() {\n        this.workbook = new XSSFWorkbook(); //Facing issue here, while initializing the workbook.\n    }\n    ...\n}\n</code></pre>\n<p>Looking at the version change, it seems like a minor upgrade but now existing code has stopped working.</p>\n<p>What's probably wrong?</p>\n"},{"tags":["java","pdf","adobe","microsoft-edge","pdftron"],"comments":[{"owner":{"account_id":251246,"reputation":5249,"user_id":528481,"display_name":"iPDFdev"},"score":2,"creation_date":1701178543,"post_id":77563890,"comment_id":136740995,"body_markdown":"Most likely the PDF file is incorrect so each viewer handles the error in its own way. Can you post a sample PDF file to take a look at it?","body":"Most likely the PDF file is incorrect so each viewer handles the error in its own way. Can you post a sample PDF file to take a look at it?"},{"owner":{"account_id":29760228,"reputation":19,"user_id":22808012,"display_name":"Lactus Odinson"},"score":0,"creation_date":1701188474,"post_id":77563890,"comment_id":136743034,"body_markdown":"[GDRIVE](https://drive.google.com/file/d/1P7d37yANHvobYSDPyXls9UoWWkaMD6Ka/view?usp=drive_link)\nPlease check this pdf.","body":"<a href=\"https://drive.google.com/file/d/1P7d37yANHvobYSDPyXls9UoWWkaMD6Ka/view?usp=drive_link\" rel=\"nofollow noreferrer\">GDRIVE</a> Please check this pdf."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701191480,"creation_date":1701189860,"answer_id":77565678,"question_id":77563890,"body_markdown":"Your text is not drawn inside a text object. Text drawing instructions may only be used in text objects.\r\n\r\nFor drawing the first line you have \r\n```\r\n    0.9 0.9 0.9 rg\r\n    36 0 144 36 re\r\n    f*\r\n    1 0 0 1 67.104 23 cm\r\n    0 0 0 rg\r\n    /F0 8 Tf\r\n    q\r\n        (TEST LINE1 OF TAB1) Tj\r\n        1 0 0 1 67.104 23 cm\r\n    Q\r\n    (TEST LINE1 OF TAB1) Tj\r\n```\r\nbut you probably should have\r\n```\r\n    0.9 0.9 0.9 rg\r\n    36 0 144 36 re\r\n    f*\r\n    1 0 0 1 67.104 23 cm\r\n    0 0 0 rg\r\n    /F0 8 Tf\r\n    q\r\n        BT\r\n        (TEST LINE1 OF TAB1) Tj\r\n        ET\r\n        1 0 0 1 67.104 23 cm\r\n    Q\r\n    BT\r\n    (TEST LINE1 OF TAB1) Tj\r\n    ET\r\n```\r\n\r\nIt&#39;s the same issue for the second line.\r\n\r\nI don&#39;t know, though, how you can make pdftron add the BeginText and EndText operators.\r\n\r\nBy the way, there is quite a lot of unnecessary stuff in here, like drawing the text line twice or manipulating the transformation matrix right before a Q (RestoreState) operation...","title":"Discrepancy in PDF rendering between browser and Acrobat PDF viewer","body":"<p>Your text is not drawn inside a text object. Text drawing instructions may only be used in text objects.</p>\n<p>For drawing the first line you have</p>\n<pre><code>    0.9 0.9 0.9 rg\n    36 0 144 36 re\n    f*\n    1 0 0 1 67.104 23 cm\n    0 0 0 rg\n    /F0 8 Tf\n    q\n        (TEST LINE1 OF TAB1) Tj\n        1 0 0 1 67.104 23 cm\n    Q\n    (TEST LINE1 OF TAB1) Tj\n</code></pre>\n<p>but you probably should have</p>\n<pre><code>    0.9 0.9 0.9 rg\n    36 0 144 36 re\n    f*\n    1 0 0 1 67.104 23 cm\n    0 0 0 rg\n    /F0 8 Tf\n    q\n        BT\n        (TEST LINE1 OF TAB1) Tj\n        ET\n        1 0 0 1 67.104 23 cm\n    Q\n    BT\n    (TEST LINE1 OF TAB1) Tj\n    ET\n</code></pre>\n<p>It's the same issue for the second line.</p>\n<p>I don't know, though, how you can make pdftron add the BeginText and EndText operators.</p>\n<p>By the way, there is quite a lot of unnecessary stuff in here, like drawing the text line twice or manipulating the transformation matrix right before a Q (RestoreState) operation...</p>\n"},{"tags":[],"owner":{"account_id":4642163,"reputation":2513,"user_id":3761687,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701276967,"creation_date":1701276967,"answer_id":77573113,"question_id":77563890,"body_markdown":"The issue is that there is a relationship between ElementBuilder and the Element object it last created.\r\n\r\n&gt;  every call to ElementBuilder.Create method destroys the Element currently associated with the builder and all previous Element pointers are invalidated.\r\n\r\nhttps://docs.apryse.com/api/PDFTronSDK/java/com/pdftron/pdf/ElementBuilder.html#createTextBegin()\r\n\r\nSo you can only be &quot;working&quot; on one Element at a time, while in your code you are trying to operate on two at the same time.\r\n\r\nThe fix is to write out the beginText before building the textRun itself, and operate on the textRun GState object.\r\n\r\nBelow is your updated code\r\n\r\n    Element tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\r\n    tabElement.setPathFill(true);\r\n    GState gstate = tabElement.getGState();\r\n    gstate.setFillColorSpace(ColorSpace.createDeviceRGB());\r\n    gstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\r\n    elementWriterLine1.writeElement(tabElement);\r\n    \r\n    Element tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\r\n    elementWriterLine1.writeElement(tabTextElementLine1);\r\n    \r\n    Element textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\r\n    if(isLandscape) {\r\n        tabPosition = 4 - tabPosition;\r\n        textLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\r\n    } else {\r\n        textLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\r\n    }\r\n    textLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\r\n    textLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\r\n    textLine1.setPathFill(true);\r\n    \r\n    elementWriterLine1.writeElement(textLine1);\r\n    elementWriterLine1.writeElement(builder.createTextEnd()); // write out `ET` element","title":"Discrepancy in PDF rendering between browser and Acrobat PDF viewer","body":"<p>The issue is that there is a relationship between ElementBuilder and the Element object it last created.</p>\n<blockquote>\n<p>every call to ElementBuilder.Create method destroys the Element currently associated with the builder and all previous Element pointers are invalidated.</p>\n</blockquote>\n<p><a href=\"https://docs.apryse.com/api/PDFTronSDK/java/com/pdftron/pdf/ElementBuilder.html#createTextBegin()\" rel=\"nofollow noreferrer\">https://docs.apryse.com/api/PDFTronSDK/java/com/pdftron/pdf/ElementBuilder.html#createTextBegin()</a></p>\n<p>So you can only be &quot;working&quot; on one Element at a time, while in your code you are trying to operate on two at the same time.</p>\n<p>The fix is to write out the beginText before building the textRun itself, and operate on the textRun GState object.</p>\n<p>Below is your updated code</p>\n<pre><code>Element tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\ntabElement.setPathFill(true);\nGState gstate = tabElement.getGState();\ngstate.setFillColorSpace(ColorSpace.createDeviceRGB());\ngstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\nelementWriterLine1.writeElement(tabElement);\n\nElement tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\nelementWriterLine1.writeElement(tabTextElementLine1);\n\nElement textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\nif(isLandscape) {\n    tabPosition = 4 - tabPosition;\n    textLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\n} else {\n    textLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\n}\ntextLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\ntextLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\ntextLine1.setPathFill(true);\n\nelementWriterLine1.writeElement(textLine1);\nelementWriterLine1.writeElement(builder.createTextEnd()); // write out `ET` element\n</code></pre>\n"}],"owner":{"account_id":29760228,"reputation":19,"user_id":22808012,"display_name":"Lactus Odinson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701276967,"creation_date":1701174681,"question_id":77563890,"body_markdown":"I am encountering a situation where I open a PDF both in a web browser and in the Acrobat PDF viewer. In the browser, the PDF is displayed correctly, but in the PDF viewer, I get a different output file. I&#39;m trying to identify whether this discrepancy is related to an issue with the PDF file itself or if there are inherent differences between the PDF viewer and the browser rendering.\r\n\r\nHas anyone experienced a similar issue, and could you provide insights or suggestions on how to troubleshoot and resolve this? Additionally, are there known differences in how PDFs are rendered between web browsers and dedicated PDF viewers that might explain this behavior?\r\n\r\nEdge output:[![Browser View](https://i.stack.imgur.com/YUHWk.png)](https://i.stack.imgur.com/YUHWk.png)\r\n\r\nAdobe Acrobat Reader output: [![Adobe Viewer](https://i.stack.imgur.com/PTZRo.png)](https://i.stack.imgur.com/PTZRo.png)\r\n\r\nI am modifying pdf with pdftron and java 1.8\r\nCode for adding element and text in pdf:\r\n\r\n```\r\nElement tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\r\n\t\t\ttabElement.setPathFill(true);\r\n\t\t\tGState gstate = tabElement.getGState();\r\n\t\t\tgstate.setFillColorSpace(ColorSpace.createDeviceRGB());\r\n\t\t\tgstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\r\n\t\t\telementWriterLine1.writeElement(tabElement);\r\n\r\n\t\t\tElement tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\r\n\t\t\tElement textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\r\n\t\t\tif(isLandscape) {\r\n\t\t\t\ttabPosition = 4 - tabPosition;\r\n\t\t\t\ttabTextElementLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\r\n\t\t\t} else {\r\n\t\t\t\ttabTextElementLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\r\n\t\t\t}\r\n\t\t\ttabTextElementLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\r\n\t\t\ttabTextElementLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\r\n\t\t\ttabTextElementLine1.setPathFill(true);\r\n\t\t\telementWriterLine1.writeElement(tabTextElementLine1);\r\n```\r\n\r\n\r\nI shared pdf file among my colleagues, they are also facing same problem.","title":"Discrepancy in PDF rendering between browser and Acrobat PDF viewer","body":"<p>I am encountering a situation where I open a PDF both in a web browser and in the Acrobat PDF viewer. In the browser, the PDF is displayed correctly, but in the PDF viewer, I get a different output file. I'm trying to identify whether this discrepancy is related to an issue with the PDF file itself or if there are inherent differences between the PDF viewer and the browser rendering.</p>\n<p>Has anyone experienced a similar issue, and could you provide insights or suggestions on how to troubleshoot and resolve this? Additionally, are there known differences in how PDFs are rendered between web browsers and dedicated PDF viewers that might explain this behavior?</p>\n<p>Edge output:<a href=\"https://i.stack.imgur.com/YUHWk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YUHWk.png\" alt=\"Browser View\" /></a></p>\n<p>Adobe Acrobat Reader output: <a href=\"https://i.stack.imgur.com/PTZRo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTZRo.png\" alt=\"Adobe Viewer\" /></a></p>\n<p>I am modifying pdf with pdftron and java 1.8\nCode for adding element and text in pdf:</p>\n<pre><code>Element tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\n            tabElement.setPathFill(true);\n            GState gstate = tabElement.getGState();\n            gstate.setFillColorSpace(ColorSpace.createDeviceRGB());\n            gstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\n            elementWriterLine1.writeElement(tabElement);\n\n            Element tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\n            Element textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\n            if(isLandscape) {\n                tabPosition = 4 - tabPosition;\n                tabTextElementLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\n            } else {\n                tabTextElementLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\n            }\n            tabTextElementLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\n            tabTextElementLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\n            tabTextElementLine1.setPathFill(true);\n            elementWriterLine1.writeElement(tabTextElementLine1);\n</code></pre>\n<p>I shared pdf file among my colleagues, they are also facing same problem.</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1701275248,"post_id":77572805,"comment_id":136756299,"body_markdown":"The official Java tutorial explains this fairly well:  https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html","body":"The official Java tutorial explains this fairly well:  <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/generics/subtype.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":27294741,"reputation":71,"user_id":20812561,"display_name":"Moeen Ahmmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701276892,"creation_date":1701276892,"answer_id":77573105,"question_id":77572805,"body_markdown":"First 3 line was not compiled because in Java, generic types are not satisfied or covariant fro ensuring type safety which means that `List&lt;Intreger&gt;` is not count a sub type of `List&lt;Number&gt;`. lets describe line of given code \r\n\r\n **Don&#39;t Compile Line :**\r\n - `List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;();` : We can not assign a `List&lt;Integer&gt;` to a variable type of `List&lt;Number&gt;` because generics in java are not covariant.\r\n - `List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;();` : Same reason as first one ,we can&#39;t assign `List&lt;Number&gt;` to a variable type of `List&lt;Integer&gt;`\r\n - `List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();` : Same reason as first one ,we can&#39;t assign `List&lt;Integer&gt;` to a variable type of `List&lt;Object&gt;`\r\n\r\n**Compiled Line :**\r\n\r\n - List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); : This line work because in this line you use a wildcard with a upper bound  `? extends Number`. Upper bound wildcard allows you to accept any subtype of type `T`. That mean  `? extends Number` this accept `Integer`, `Double`, `Float` etc.   \r\n\r\n - List&lt;? super Number&gt; nums = new  ArrayList&lt;Object&gt;(); : \r\n - List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); : This line work because in this line you use a wildcard with a lower bound `? extends Number`.Lower bound wildcard allows you to accept any super type of type `T`.\r\nThat mean  `? extends Number` this accept  `Number` and `Object`.\r\n","title":"Question about Lists and ArrayLists and more specifically about casting","body":"<p>First 3 line was not compiled because in Java, generic types are not satisfied or covariant fro ensuring type safety which means that <code>List&lt;Intreger&gt;</code> is not count a sub type of <code>List&lt;Number&gt;</code>. lets describe line of given code</p>\n<p><strong>Don't Compile Line :</strong></p>\n<ul>\n<li><code>List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;();</code> : We can not assign a <code>List&lt;Integer&gt;</code> to a variable type of <code>List&lt;Number&gt;</code> because generics in java are not covariant.</li>\n<li><code>List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;();</code> : Same reason as first one ,we can't assign <code>List&lt;Number&gt;</code> to a variable type of <code>List&lt;Integer&gt;</code></li>\n<li><code>List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();</code> : Same reason as first one ,we can't assign <code>List&lt;Integer&gt;</code> to a variable type of <code>List&lt;Object&gt;</code></li>\n</ul>\n<p><strong>Compiled Line :</strong></p>\n<ul>\n<li><p>List&lt;? extends Number&gt; nums = new ArrayList(); : This line work because in this line you use a wildcard with a upper bound  <code>? extends Number</code>. Upper bound wildcard allows you to accept any subtype of type <code>T</code>. That mean  <code>? extends Number</code> this accept <code>Integer</code>, <code>Double</code>, <code>Float</code> etc.</p>\n</li>\n<li><p>List&lt;? super Number&gt; nums = new  ArrayList(); :</p>\n</li>\n<li><p>List&lt;? extends Number&gt; nums = new ArrayList(); : This line work because in this line you use a wildcard with a lower bound <code>? extends Number</code>.Lower bound wildcard allows you to accept any super type of type <code>T</code>.\nThat mean  <code>? extends Number</code> this accept  <code>Number</code> and <code>Object</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":25144482,"reputation":3,"user_id":18990458,"display_name":"D P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701289286,"accepted_answer_id":77573105,"answer_count":1,"score":-1,"last_activity_date":1701276892,"creation_date":1701274204,"question_id":77572805,"body_markdown":"Why first three lines didn&#39;t compile and the remaining 2 did? How exactly does this work?\r\n\r\n```\r\nimport java.util.*;\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        //List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;(); DIDN&#39;T compile\r\n        //List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;(); DIDN&#39;T compile\r\n        //List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();  DIDN&#39;T compile\r\n        //List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); compiled\r\n        //List&lt;? super Number&gt; nums = new  ArrayList&lt;Object&gt;(); compiled\r\n    }\r\n}`\r\n```","title":"Question about Lists and ArrayLists and more specifically about casting","body":"<p>Why first three lines didn't compile and the remaining 2 did? How exactly does this work?</p>\n<pre><code>import java.util.*;\nclass HelloWorld {\n    public static void main(String[] args) {\n        //List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;(); DIDN'T compile\n        //List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;(); DIDN'T compile\n        //List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();  DIDN'T compile\n        //List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); compiled\n        //List&lt;? super Number&gt; nums = new  ArrayList&lt;Object&gt;(); compiled\n    }\n}`\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":162930,"reputation":652,"user_id":384724,"accept_rate":100,"display_name":"Todd"},"score":0,"creation_date":1624412114,"post_id":68076277,"comment_id":120349744,"body_markdown":"To improve this question, please read [How to Ask](https://stackoverflow.com/questions/how-to-ask) and [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) - then edit your question. Show what you got, what you aim for, and what you get and make clear what your problem is.","body":"To improve this question, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - then edit your question. Show what you got, what you aim for, and what you get and make clear what your problem is."}],"answers":[{"tags":[],"owner":{"account_id":108298,"reputation":3086,"user_id":287530,"accept_rate":94,"display_name":"Tim Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640285537,"creation_date":1640283336,"answer_id":70465976,"question_id":68076277,"body_markdown":"The problem is the SDK now logs a warning when it can&#39;t retrieve the [AWS instance metadata][1]. It may help to specify which AWS region you want using an [environment variable][2] (I haven&#39;t seen this work, but others have):\r\n\r\n    export AWS_REGION=us-east-1\r\n\r\nAlternately, the Spring Cloud team recommends suppressing the warning:\r\n\r\n[https://github.com/spring-cloud/spring-cloud-aws/issues/556][3]\r\n\r\n[https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747][4]\r\n    \r\n\r\n&gt; On application startup, for its internal purposes Spring Cloud AWS performs a check if application runs in AWS cloud environment\r\nby using `EC2MetadataUtils` class provided by AWS SDK. Starting from version 1.11.678, AWS SDK logs a warning message with exception when this check is made outside of AWS environment.\r\nThis warning message can be hidden by setting `ERROR` logging level on `com.amazonaws.util.EC2MetadataUtils` class.\r\n&gt;\r\n&gt; logging.level.com.amazonaws.util.EC2MetadataUtils=error\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/instancedata-data-retrieval.html\r\n  [2]: https://githubmemory.com/repo/jnshubham/aws-glue-local-etl-docker/issues/3\r\n  [3]: https://github.com/spring-cloud/spring-cloud-aws/issues/556\r\n  [4]: https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747","title":"Error when running application - &quot;|WARN|Fail to retrieve token com.amazonaws.SdkClientException: Failed to connect to service endpoint:&quot;","body":"<p>The problem is the SDK now logs a warning when it can't retrieve the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/instancedata-data-retrieval.html\" rel=\"nofollow noreferrer\">AWS instance metadata</a>. It may help to specify which AWS region you want using an <a href=\"https://githubmemory.com/repo/jnshubham/aws-glue-local-etl-docker/issues/3\" rel=\"nofollow noreferrer\">environment variable</a> (I haven't seen this work, but others have):</p>\n<pre><code>export AWS_REGION=us-east-1\n</code></pre>\n<p>Alternately, the Spring Cloud team recommends suppressing the warning:</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-aws/issues/556\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-aws/issues/556</a></p>\n<p><a href=\"https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747\" rel=\"nofollow noreferrer\">https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747</a></p>\n<blockquote>\n<p>On application startup, for its internal purposes Spring Cloud AWS performs a check if application runs in AWS cloud environment\nby using <code>EC2MetadataUtils</code> class provided by AWS SDK. Starting from version 1.11.678, AWS SDK logs a warning message with exception when this check is made outside of AWS environment.\nThis warning message can be hidden by setting <code>ERROR</code> logging level on <code>com.amazonaws.util.EC2MetadataUtils</code> class.</p>\n<p>logging.level.com.amazonaws.util.EC2MetadataUtils=error</p>\n</blockquote>\n"}],"owner":{"account_id":7043921,"reputation":83,"user_id":5395389,"accept_rate":75,"display_name":"Arwibrde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3675,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701276652,"creation_date":1624323518,"question_id":68076277,"body_markdown":"I have been getting these errors for the past few days when I try run my app locally. I&#39;m completely out of ideas of how to fix this. Any idea what could be the problem? Below is the trace. The app is using aws-sdk 11 and running on java 11. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Jun21 20:44:14.245|INFO|Bean &#39;scheduledTaskExecutor&#39; of type [org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    Jun21 20:44:14.247|WARN|Fail to retrieve token \r\n    com.amazonaws.SdkClientException: Failed to connect to service endpoint: \r\n    \tat com.amazonaws.internal.EC2ResourceFetcher.doReadResource(EC2ResourceFetcher.java:100)\r\n    \tat com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.getToken(InstanceMetadataServiceResourceFetcher.java:91)\r\n    \tat com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.readResource(InstanceMetadataServiceResourceFetcher.java:69)\r\n    \tat com.amazonaws.internal.EC2ResourceFetcher.readResource(EC2ResourceFetcher.java:66)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getItems(EC2MetadataUtils.java:403)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:372)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:368)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getEC2InstanceRegion(EC2MetadataUtils.java:283)\r\n    \tat com.amazonaws.regions.Regions.getCurrentRegion(Regions.java:107)\r\n    \tat com.genesys.outbound.threadpool.ThreadPoolExecutorAbortPolicy.&lt;init&gt;(ThreadPoolExecutorAbortPolicy.java:33)\r\n    \tat com.inin.cont.config.RootConfig.getThreadPool(RootConfig.java:415)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:229)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:723)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:536)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat com.inin.cont.Server.main(Server.java:33)\r\n    Caused by: java.net.ConnectException: Host is down (connect failed)\r\n    \tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n\r\n\r\n","title":"Error when running application - &quot;|WARN|Fail to retrieve token com.amazonaws.SdkClientException: Failed to connect to service endpoint:&quot;","body":"<p>I have been getting these errors for the past few days when I try run my app locally. I'm completely out of ideas of how to fix this. Any idea what could be the problem? Below is the trace. The app is using aws-sdk 11 and running on java 11.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>Jun21 20:44:14.245|INFO|Bean 'scheduledTaskExecutor' of type [org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nJun21 20:44:14.247|WARN|Fail to retrieve token \ncom.amazonaws.SdkClientException: Failed to connect to service endpoint: \n    at com.amazonaws.internal.EC2ResourceFetcher.doReadResource(EC2ResourceFetcher.java:100)\n    at com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.getToken(InstanceMetadataServiceResourceFetcher.java:91)\n    at com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.readResource(InstanceMetadataServiceResourceFetcher.java:69)\n    at com.amazonaws.internal.EC2ResourceFetcher.readResource(EC2ResourceFetcher.java:66)\n    at com.amazonaws.util.EC2MetadataUtils.getItems(EC2MetadataUtils.java:403)\n    at com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:372)\n    at com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:368)\n    at com.amazonaws.util.EC2MetadataUtils.getEC2InstanceRegion(EC2MetadataUtils.java:283)\n    at com.amazonaws.regions.Regions.getCurrentRegion(Regions.java:107)\n    at com.genesys.outbound.threadpool.ThreadPoolExecutorAbortPolicy.&lt;init&gt;(ThreadPoolExecutorAbortPolicy.java:33)\n    at com.inin.cont.config.RootConfig.getThreadPool(RootConfig.java:415)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:229)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:723)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:536)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.inin.cont.Server.main(Server.java:33)\nCaused by: java.net.ConnectException: Host is down (connect failed)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n</code></pre>\n"},{"tags":["java","deployment","websphere","ibm-rad"],"comments":[{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701259397,"post_id":77565132,"comment_id":136752922,"body_markdown":"Are you importing Eclipse project metadata (.project, .settings dir, etc.) committed to the repo?   Is the C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR\\MyApplicationEAR.ear path is the path of your project in your RAD workspace?  Maybe you could share  your publishing settings (run resources on workspace, OR server).","body":"Are you importing Eclipse project metadata (.project, .settings dir, etc.) committed to the repo?   Is the C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR&zwnj;&#8203;\\MyApplicationEAR.ea&zwnj;&#8203;r path is the path of your project in your RAD workspace?  Maybe you could share  your publishing settings (run resources on workspace, OR server)."},{"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"score":0,"creation_date":1701271486,"post_id":77565132,"comment_id":136755494,"body_markdown":"The file .project comes from the repo, while .settings dir is included into .gitignore.\nEDIT: not exactly, the path shown in the console error message is the path of the local git repository for the EAR project, the project within RAD&#39;s workspace points to that source folder. I don&#39;t understand your last statement, sorry. What publishing settings might be useful and how shall I display them?","body":"The file .project comes from the repo, while .settings dir is included into .gitignore. EDIT: not exactly, the path shown in the console error message is the path of the local git repository for the EAR project, the project within RAD&#39;s workspace points to that source folder. I don&#39;t understand your last statement, sorry. What publishing settings might be useful and how shall I display them?"},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701274363,"post_id":77565132,"comment_id":136756112,"body_markdown":"To see the publishing settings double-click on the **Servers** view entry like the upper-righthand side of this:  https://gist.github.com/scottkurz/c0cca3ee5d0e20de125d145274cdd966","body":"To see the publishing settings double-click on the <b>Servers</b> view entry like the upper-righthand side of this:  <a href=\"https://gist.github.com/scottkurz/c0cca3ee5d0e20de125d145274cdd966\" rel=\"nofollow noreferrer\">gist.github.com/scottkurz/c0cca3ee5d0e20de125d145274cdd966</a>"},{"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"score":0,"creation_date":1701276644,"post_id":77565132,"comment_id":136756611,"body_markdown":"I edited my question, sorry about the different language","body":"I edited my question, sorry about the different language"},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701277272,"post_id":77565132,"comment_id":136756728,"body_markdown":"No problem.  So it looks like it&#39;s &quot;run server with resources within the workspace&quot;.   Are there any related entries in &quot;Problems&quot; or the &quot;Error Log&quot; views?  Is everything compiling/building/validating successfully?","body":"No problem.  So it looks like it&#39;s &quot;run server with resources within the workspace&quot;.   Are there any related entries in &quot;Problems&quot; or the &quot;Error Log&quot; views?  Is everything compiling/building/validating successfully?"},{"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"score":0,"creation_date":1701279577,"post_id":77565132,"comment_id":136757148,"body_markdown":"I see no errors in the &quot;Problems&quot; tab, only a number of warnings. No errors are shown in the log/console either, but the FileNotFoundException","body":"I see no errors in the &quot;Problems&quot; tab, only a number of warnings. No errors are shown in the log/console either, but the FileNotFoundException"},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701283810,"post_id":77565132,"comment_id":136757801,"body_markdown":"I know enough to keep asking questions and for you to try things but not enough to simply diagnose the problem.   If you can you should try RAD support.  Since StackOverflow is telling me the comment thread is too long let me point you to our WAS forum if you want to chat more there:   https://community.ibm.com/community/user/wasdevops/communities/community-home/digestviewer?communitykey=5c4ba155-561a-4794-9883-bb0c6164e14e","body":"I know enough to keep asking questions and for you to try things but not enough to simply diagnose the problem.   If you can you should try RAD support.  Since StackOverflow is telling me the comment thread is too long let me point you to our WAS forum if you want to chat more there:   <a href=\"https://community.ibm.com/community/user/wasdevops/communities/community-home/digestviewer?communitykey=5c4ba155-561a-4794-9883-bb0c6164e14e\" rel=\"nofollow noreferrer\">community.ibm.com/community/user/wasdevops/communities/&hellip;</a>"}],"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701276587,"creation_date":1701185391,"question_id":77565132,"body_markdown":"I&#39;m maintaining a legacy Enterprise Application which unfortunately runs on IBM WebSphere Application Server v. 7.0.0.45. The IDE is IBM RAD and the application consists of two projects: the first one is the web module and the second one the EAR container. The latter actually contains the deployment descriptor (application.xml), so no .EAR file is really generated on the file system within the EAR project.\r\n\r\nThe issue I&#39;m having is that whenever I make any change in the web app and then save the source file, RAD first rebuilds the web app and then tries to re-publish the .EAR file to WAS, but the deployment always fails with the error: &quot;Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear&quot;.\r\n\r\n    [28/11/23 11.06.58:301 CET] 0000001c CompositionUn E   WSVR0194E: Composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR failed to start.\r\n    [28/11/23 11.06.58:703 CET] 0000001c StartDeployme W   Start failed.  ApplicationManager MBean: WebSphere:name=ApplicationManager,process=server1,platform=proxy,node=MYUSERNode03,version=7.0.0.45,type=ApplicationManager,mbeanIdentifier=ApplicationManager,cell=MYUSERNode03Cell,spec=1.0, operation: startApplication, params: [MyApplicationEAR]\r\n    [28/11/23 11.06.58:825 CET] 0000001c AppBinaryProc I   ADMA7021I: Distribution of application MyApplicationEAR completed successfully.\r\n    [28/11/23 11.06.58:701 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.3265338834176421115024.txt com.ibm.ws.management.AdminServiceImpl.invoke 679\r\n    [28/11/23 11.06.58:812 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.7225642279798212295583.txt com.ibm.ws.management.application.sync.StartDeploymentTask.startDeployment 256\r\n    [28/11/23 11.06.58:856 CET] 0000001c FileRepositor A   ADMR0009I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deltas/MyApplicationEAR/delta-1701166016643 is created.\r\n    [28/11/23 11.06.58:864 CET] 00000005 TreeBuilder   W   ODCF0002E: Exception: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear.\r\n    [28/11/23 11.06.58:871 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/META-INF/ibm-application-runtime.props is modified.\r\n    [28/11/23 11.06.58:877 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/deployment.xml is modified.\r\n    [28/11/23 11.06.59:141 CET] 00000005 FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_552f552f_23.11.28_11.06.58.8782013313554722235215.txt com.ibm.ws.odc.cell.TreeBuilder Removing: /cell/MYUSERNode03Cell/application/MyApplicationEAR&lt;&lt;com.ibm.ws.odc.ODCNodeImpl@1cf21cf2&gt;&gt;\r\n    [28/11/23 11.07.14:292 CET] 00000016 AdminHelper   A   ADMN1009I: An attempt is made to start the MyApplicationEAR application.\r\n    [28/11/23 11.07.14:533 CET] 00000016 CompositionUn A   WSVR0190I: Starting composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR.\r\n    [28/11/23 11.07.14:560 CET] 00000016 ApplicationMg W   WSVR0100W: An error occurred initializing, MyApplicationEAR\r\n    com.ibm.ws.exception.ConfigurationWarning: Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:580)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:420)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.initializeApplication(ApplicationMgrImpl.java:385)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2073)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:434)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:377)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:648)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:610)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1203)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:611)\r\n    \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:69)\r\n    \tat sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:611)\r\n    \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:272)\r\n    \tat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1152)\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:384)\r\n    \tat com.ibm.oti.security.CheckedAccessControlContext.securityCheck(CheckedAccessControlContext.java:30)\r\n    \tat sun.misc.JavaSecurityAccessWrapper.doIntersectionPrivilege(JavaSecurityAccessWrapper.java:41)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1146)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:999)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:847)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:783)\r\n    \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1346)\r\n    \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1239)\r\n    \tat com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\r\n    \tat com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:242)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:353)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:595)\r\n    \tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\r\n    \tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n    \tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\r\n    \tat com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\r\n    \tat com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\r\n    \tat com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\r\n    \tat com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1662)\r\n    Caused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.OpenFailureException: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1625)\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:1204)\r\n    \tat com.ibm.etools.commonarchive.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:612)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl$MappableContentsArchive.open(DeployedApplicationImpl.java:1707)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:577)\r\n    \t... 41 more\r\n    Caused by: java.io.FileNotFoundException: IWAE0036E URI Name: C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear; File name: C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR\\MyApplicationEAR.ear\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.createLoadStrategy(CommonarchiveFactoryImpl.java:514)\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1619)\r\n    \t... 45 more\r\n\r\nBoth projects were imported from our customer&#39;s repository as they are. The application is expected to be successfully redeployed locally, after each change in the source code.\r\n\r\nWhy is WAS searching for a non existing .EAR file within the project folder and how can I fix this issue?\r\nAny help would be highly appreciated.\r\n\r\nEDIT: enclosing a screenshot of publishing settings\r\n[![publishing settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ALtfh.png","title":"Why does WebSphere search for a non existing EAR file and fails to publish an Application?","body":"<p>I'm maintaining a legacy Enterprise Application which unfortunately runs on IBM WebSphere Application Server v. 7.0.0.45. The IDE is IBM RAD and the application consists of two projects: the first one is the web module and the second one the EAR container. The latter actually contains the deployment descriptor (application.xml), so no .EAR file is really generated on the file system within the EAR project.</p>\n<p>The issue I'm having is that whenever I make any change in the web app and then save the source file, RAD first rebuilds the web app and then tries to re-publish the .EAR file to WAS, but the deployment always fails with the error: &quot;Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear&quot;.</p>\n<pre><code>[28/11/23 11.06.58:301 CET] 0000001c CompositionUn E   WSVR0194E: Composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR failed to start.\n[28/11/23 11.06.58:703 CET] 0000001c StartDeployme W   Start failed.  ApplicationManager MBean: WebSphere:name=ApplicationManager,process=server1,platform=proxy,node=MYUSERNode03,version=7.0.0.45,type=ApplicationManager,mbeanIdentifier=ApplicationManager,cell=MYUSERNode03Cell,spec=1.0, operation: startApplication, params: [MyApplicationEAR]\n[28/11/23 11.06.58:825 CET] 0000001c AppBinaryProc I   ADMA7021I: Distribution of application MyApplicationEAR completed successfully.\n[28/11/23 11.06.58:701 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.3265338834176421115024.txt com.ibm.ws.management.AdminServiceImpl.invoke 679\n[28/11/23 11.06.58:812 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.7225642279798212295583.txt com.ibm.ws.management.application.sync.StartDeploymentTask.startDeployment 256\n[28/11/23 11.06.58:856 CET] 0000001c FileRepositor A   ADMR0009I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deltas/MyApplicationEAR/delta-1701166016643 is created.\n[28/11/23 11.06.58:864 CET] 00000005 TreeBuilder   W   ODCF0002E: Exception: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear.\n[28/11/23 11.06.58:871 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/META-INF/ibm-application-runtime.props is modified.\n[28/11/23 11.06.58:877 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/deployment.xml is modified.\n[28/11/23 11.06.59:141 CET] 00000005 FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_552f552f_23.11.28_11.06.58.8782013313554722235215.txt com.ibm.ws.odc.cell.TreeBuilder Removing: /cell/MYUSERNode03Cell/application/MyApplicationEAR&lt;&lt;com.ibm.ws.odc.ODCNodeImpl@1cf21cf2&gt;&gt;\n[28/11/23 11.07.14:292 CET] 00000016 AdminHelper   A   ADMN1009I: An attempt is made to start the MyApplicationEAR application.\n[28/11/23 11.07.14:533 CET] 00000016 CompositionUn A   WSVR0190I: Starting composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR.\n[28/11/23 11.07.14:560 CET] 00000016 ApplicationMg W   WSVR0100W: An error occurred initializing, MyApplicationEAR\ncom.ibm.ws.exception.ConfigurationWarning: Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:580)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:420)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.initializeApplication(ApplicationMgrImpl.java:385)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2073)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:434)\n    at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:377)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:648)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:610)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1203)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:69)\n    at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:272)\n    at javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1152)\n    at java.security.AccessController.doPrivileged(AccessController.java:384)\n    at com.ibm.oti.security.CheckedAccessControlContext.securityCheck(CheckedAccessControlContext.java:30)\n    at sun.misc.JavaSecurityAccessWrapper.doIntersectionPrivilege(JavaSecurityAccessWrapper.java:41)\n    at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1146)\n    at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:999)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:847)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:783)\n    at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1346)\n    at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n    at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1239)\n    at com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\n    at com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:242)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:353)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:595)\n    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\n    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1662)\nCaused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.OpenFailureException: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1625)\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:1204)\n    at com.ibm.etools.commonarchive.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:612)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl$MappableContentsArchive.open(DeployedApplicationImpl.java:1707)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:577)\n    ... 41 more\nCaused by: java.io.FileNotFoundException: IWAE0036E URI Name: C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear; File name: C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR\\MyApplicationEAR.ear\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.createLoadStrategy(CommonarchiveFactoryImpl.java:514)\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1619)\n    ... 45 more\n</code></pre>\n<p>Both projects were imported from our customer's repository as they are. The application is expected to be successfully redeployed locally, after each change in the source code.</p>\n<p>Why is WAS searching for a non existing .EAR file within the project folder and how can I fix this issue?\nAny help would be highly appreciated.</p>\n<p>EDIT: enclosing a screenshot of publishing settings\n<a href=\"https://i.stack.imgur.com/ALtfh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ALtfh.png\" alt=\"publishing settings\" /></a></p>\n"},{"tags":["java","string","java.util.scanner","maxlength"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1701162951,"post_id":77562561,"comment_id":136738152,"body_markdown":"&quot;Cheaper&quot; in what practical sense? How likely is it that any user will copy/paste war and peace? If you have code which already works, have you consider the cost of more complex code (both writing and maintaining) vs any actual benefit?","body":"&quot;Cheaper&quot; in what practical sense? How likely is it that any user will copy/paste war and peace? If you have code which already works, have you consider the cost of more complex code (both writing and maintaining) vs any actual benefit?"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1701165361,"post_id":77562561,"comment_id":136738635,"body_markdown":"`nextLinet().substring(0, 99)` no?","body":"<code>nextLinet().substring(0, 99)</code> no?"},{"owner":{"account_id":30011078,"reputation":1,"user_id":22998701,"display_name":"Thinchance"},"score":0,"creation_date":1701169249,"post_id":77562561,"comment_id":136739327,"body_markdown":"Jon, I cannot consider something that I do not know, how can I consider the complexity of a code if I don&#39;t know if it even exists. I&#39;m learning this programming language,  so for all I know, this could be done very easily. I asked for an alternative for my code, once I have one, sure I will consider if using it is actually worth it or not. Also this is a coding exercise the likelyhood of any user typing in anything at all, other than me for testing is 0. Our user in this case is hypothetical and War and Peace is obviously just an exaggeration, but I would still like an answear.","body":"Jon, I cannot consider something that I do not know, how can I consider the complexity of a code if I don&#39;t know if it even exists. I&#39;m learning this programming language,  so for all I know, this could be done very easily. I asked for an alternative for my code, once I have one, sure I will consider if using it is actually worth it or not. Also this is a coding exercise the likelyhood of any user typing in anything at all, other than me for testing is 0. Our user in this case is hypothetical and War and Peace is obviously just an exaggeration, but I would still like an answear."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701165163,"creation_date":1701165163,"answer_id":77562847,"question_id":77562561,"body_markdown":"You can do it using [Reader#read](https://docs.oracle.com/javase/8/docs/api/java/io/Reader.html#read-char:A-) method. Here is an example using `BufferedReader`.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Create a buffered reader for System.in\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\r\n            char[] buffer = new char[99]; // Define the buffer of appropriate size\r\n            System.out.print(&quot;Enter text: &quot;);\r\n            int n = br.read(buffer); // Read user input in the buffer,\r\n                                    // n denotes number of characters read \r\n            String input = new String(buffer, 0, n); // Create string upto n character\r\n            System.out.println(input);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nThe buffer would also contain the newline character if input is less than buffer size. You might want to strip it.","title":"Scanning the next line, but only to a certain length","body":"<p>You can do it using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Reader.html#read-char:A-\" rel=\"nofollow noreferrer\">Reader#read</a> method. Here is an example using <code>BufferedReader</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Create a buffered reader for System.in\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\n            char[] buffer = new char[99]; // Define the buffer of appropriate size\n            System.out.print(&quot;Enter text: &quot;);\n            int n = br.read(buffer); // Read user input in the buffer,\n                                    // n denotes number of characters read \n            String input = new String(buffer, 0, n); // Create string upto n character\n            System.out.println(input);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>The buffer would also contain the newline character if input is less than buffer size. You might want to strip it.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701276574,"creation_date":1701207138,"answer_id":77567253,"question_id":77562561,"body_markdown":"&gt; _&quot;... I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. ...&quot;_\r\n\r\nThis answer is similar to _@RifatRubayatulIslam_&#39;s answer.\r\n\r\nUtilize the _[read](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#read(char[]))_ method, providing a _char_ array with a length of _99_.\\\r\nThe _new-line delimiter_ will be included here, you can use _[String#trim](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#trim())_, or _[String#stripTrailing](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#stripTrailing())_, to remove it.\r\n\r\n```java\r\ntry (Reader r = new InputStreamReader(System.in)) {\r\n    char[] a = new char[99];\r\n    int n = r.read(a);\r\n    String s = new String(a, 0, n).stripTrailing();\r\n}\r\n```","title":"Scanning the next line, but only to a certain length","body":"<blockquote>\n<p><em>&quot;... I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. ...&quot;</em></p>\n</blockquote>\n<p>This answer is similar to <em>@RifatRubayatulIslam</em>'s answer.</p>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)\" rel=\"nofollow noreferrer\">read</a></em> method, providing a <em>char</em> array with a length of <em>99</em>.<br />\nThe <em>new-line delimiter</em> will be included here, you can use <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">String#trim</a></em>, or <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#stripTrailing()\" rel=\"nofollow noreferrer\">String#stripTrailing</a></em>, to remove it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Reader r = new InputStreamReader(System.in)) {\n    char[] a = new char[99];\n    int n = r.read(a);\n    String s = new String(a, 0, n).stripTrailing();\n}\n</code></pre>\n"}],"owner":{"account_id":30011078,"reputation":1,"user_id":22998701,"display_name":"Thinchance"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701276574,"creation_date":1701162807,"question_id":77562561,"body_markdown":"I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. My current code takes the `.nextLine()` method, and saves whatever was typed, in a String. Than it checks the length of that String, if it&#39;s above 99, I use the `.substring(0,99)` method to cut off the excess. This works just fine, but I find it really ugly.\r\n\r\nThe problem is that if, let&#39;s say, a user would decide to copy-paste both volumes of Lev Tolstojs *War and Peace* into the console, my program would first try to save that as a String for no reason whatsoever, as I only need the first 99 characters. The question arises: Is there a way to tell the scanner to stop scanning after a certain number of characters? It would be cheaper, than scanning everything and than only using the part I need.","title":"Scanning the next line, but only to a certain length","body":"<p>I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. My current code takes the <code>.nextLine()</code> method, and saves whatever was typed, in a String. Than it checks the length of that String, if it's above 99, I use the <code>.substring(0,99)</code> method to cut off the excess. This works just fine, but I find it really ugly.</p>\n<p>The problem is that if, let's say, a user would decide to copy-paste both volumes of Lev Tolstojs <em>War and Peace</em> into the console, my program would first try to save that as a String for no reason whatsoever, as I only need the first 99 characters. The question arises: Is there a way to tell the scanner to stop scanning after a certain number of characters? It would be cheaper, than scanning everything and than only using the part I need.</p>\n"},{"tags":["java","linux","path"],"answers":[{"tags":[],"owner":{"account_id":307339,"reputation":285,"user_id":618580,"display_name":"CPrescott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1439569951,"creation_date":1439569951,"answer_id":32014745,"question_id":32014242,"body_markdown":"    obtenerRutaContenido(File.separator + &quot;html&quot; + File.separator + &quot;Correo.html&quot;),\r\n    ...\r\n    obtenerRutaContenido((File.separator  +&quot;html&quot; + File.separator + &quot;PiePagina.html&quot;));\r\n    ...\r\n    obtenerImagen((&quot;html&quot; + File.separator + &quot;Logo-AcertumBank-S.jpg&quot;));\r\n    \r\n\r\nIf `obtenerRutaContenido()` and `obtenerImagen()` are similar you would need to start path with `File.separator` too.","title":"get path from an image on linux with Java","body":"<pre><code>obtenerRutaContenido(File.separator + \"html\" + File.separator + \"Correo.html\"),\n...\nobtenerRutaContenido((File.separator  +\"html\" + File.separator + \"PiePagina.html\"));\n...\nobtenerImagen((\"html\" + File.separator + \"Logo-AcertumBank-S.jpg\"));\n</code></pre>\n\n<p>If <code>obtenerRutaContenido()</code> and <code>obtenerImagen()</code> are similar you would need to start path with <code>File.separator</code> too.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439884204,"creation_date":1439570468,"answer_id":32014901,"question_id":32014242,"body_markdown":"Primarily you do _not_ have a File (on the file system) but a resource (in a jar/war/class path/...).\r\n\r\n    public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException {\r\n        logger.info(&quot;entro&quot;);\r\n        URL url = getClass().getClassLoader().getResource(urlImagen);\r\n        MimeBodyPart attachmentPart = new MimeBodyPart(url.openStream());\r\n        attachmentPart.setFileName(url.getFile()); // Just &quot;xyz.jpg&quot; maybe\r\n        attachmentPart.setDisposition(MimeBodyPart.INLINE);\r\n        //attachmentPart.setContentType(&quot;image/jpeg&quot;);\r\n        return attachmentPart;\r\n    }\r\n\r\nThis takes the InputStream of the resource to the MimeBodyPart constructor to fill the contents of it.\r\n","title":"get path from an image on linux with Java","body":"<p>Primarily you do <em>not</em> have a File (on the file system) but a resource (in a jar/war/class path/...).</p>\n\n<pre><code>public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException {\n    logger.info(\"entro\");\n    URL url = getClass().getClassLoader().getResource(urlImagen);\n    MimeBodyPart attachmentPart = new MimeBodyPart(url.openStream());\n    attachmentPart.setFileName(url.getFile()); // Just \"xyz.jpg\" maybe\n    attachmentPart.setDisposition(MimeBodyPart.INLINE);\n    //attachmentPart.setContentType(\"image/jpeg\");\n    return attachmentPart;\n}\n</code></pre>\n\n<p>This takes the InputStream of the resource to the MimeBodyPart constructor to fill the contents of it.</p>\n"}],"owner":{"account_id":6149765,"reputation":65,"user_id":4794525,"display_name":"leopoldo Iv&#225;n Villalpando Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32014745,"answer_count":2,"score":0,"last_activity_date":1701275684,"creation_date":1439568215,"question_id":32014242,"body_markdown":"Environment of work:\r\nwindows 7, \r\nfedora 20,\r\nJava 7_79,\r\nmaven,\r\neclipse\r\n\r\n**EDIT**\r\n\r\nI have a web java project with maven and  I&#39;m trying to get an image that i have in src/main/resouces package to put the image on an email, this image later is set into the war at folder WEB-INF/classes/html. when run the project at  windows 7 everything works fine but the problem is when i run my web project on fedora 20 (linux) i get the next error:\r\n\r\n    &gt; 21:26:09,662 ERROR [stderr] (Thread-92) java.lang.NullPointerException\r\n    &gt; 21:26:09,662 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:226)\r\n    &gt; 21:26:09,663 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:299)\r\n    &gt; 21:26:09,663 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1375)\r\n    &gt; 21:26:09,663 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1021)\r\n    &gt; 21:26:09,664 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:419)\r\n    &gt; 21:26:09,664 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1354)\r\n    &gt; 21:26:09,664 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2107)\r\n    &gt; 21:26:09,665 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2075)\r\n    &gt; 21:26:09,665 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.Transport.send(Transport.java:123) 21:26:09,666 ERROR\r\n    &gt; [stderr] (Thread-92) \tat\r\n    &gt; com.acertum.serc.util.SolicitudEmail.enviarCorreo(SolicitudEmail.java:148)\r\n    &gt; 21:26:09,666 ERROR [stderr] (Thread-92) \tat\r\n    &gt; com.acertum.serc.controller.AgregarExcepcionView$1.run(AgregarExcepcionView.java:383)\r\n\r\nthis is the method that obtains the image&#39;s  path\r\n\r\n    public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException{\r\n\t\tlogger.info(&quot;entro&quot;);\r\n\t\tURL url = getClass().getClassLoader().getResource(urlImagen);\r\n\t\tlogger.info(&quot;url&quot; + url);\r\n\t\tMimeBodyPart attachmentPart = new MimeBodyPart();\r\n\t\tlogger.info(&quot;url.getPath()&quot; + url.getPath().toString());\r\n\t\tattachmentPart.attachFile(url.getPath());\r\n        attachmentPart.setDisposition(MimeBodyPart.INLINE);\r\n\t\treturn attachmentPart;\r\n\t}\r\n\r\n\r\nmy principal method to send the email is the next:\r\n\r\n    try {\r\n    \t\t\tMessage message = new MimeMessage(session);\r\n    \t\t\tmessage.setFrom(new InternetAddress(ScoreConstants.getFromSolicitudEmail()));\r\n    \t\t\tmessage.setRecipients(Message.RecipientType.TO, recipientes);\r\n    \t\t\tmessage.setSubject(ScoreConstants.getSubjectSolicitudEmail());\r\n    \t\t\tString fechaSistema=&quot;&lt;html&gt;&lt;body&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div align=&#39;right&#39;&gt;&lt;h3&gt;M&amp;eacute;xico,D.F a &quot;+date+&quot;&lt;/h3&gt;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  nombreAcreditado=&quot;&lt;br/&gt;&lt;br/&gt;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Acreditado: &lt;/strong&gt; &quot;+ acreditado +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  tipoproducto=&quot;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Tipo de Producto: &lt;/strong&gt;&quot;+ subproducto +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  numeroMonto=&quot;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Monto: &lt;/strong&gt;&quot;+ monto +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  descripcionExcepcion=&quot;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Descripcion de la excepci&amp;oacute;n: &lt;/strong&gt;&quot;+ descripcion +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\r\n    \t\t\t\r\n    \r\n    \t\t\tString linkAceptada = &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div style=&#39;margin-left: 350px;font-family: Calibri;&#39;&gt;&lt;a href=&#39;http://&quot;+ ScoreConstants.getIpServidorWeb()+&quot;:&quot;+ScoreConstants.getPuertoServidorWeb()+&quot;/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=&quot;\r\n    \t\t\t\t\t+ acreditado\r\n    \t\t\t\t\t+ &quot;&amp;celular=&quot;\r\n    \t\t\t\t\t+ celular\r\n    \t\t\t\t\t+ &quot;&amp;fase=&quot;\r\n    \t\t\t\t\t+ fase\r\n    \t\t\t\t\t+ &quot;&amp;excepcionId=&quot;\r\n    \t\t\t\t\t+ excepcionId\r\n    \t\t\t\t\t+ &quot;&amp;subproductoId=&quot;\r\n    \t\t\t\t\t+ subproductoId\r\n    \t\t\t\t\t+ &quot;&amp;version=&quot;\r\n    \t\t\t\t\t+ version\r\n    \t\t\t\t\t+ &quot;&amp;empleadoId=&quot;\r\n    \t\t\t\t\t+ empleadoId\r\n    \t\t\t\t\t+ &quot;&amp;ipAddres=&quot;\r\n    \t\t\t\t\t+ ipAddress\r\n    \t\t\t\t\t+ &quot;&amp;accion=&quot;+autorizar+&quot;&#39;&gt;Autorizar&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;\r\n    \t\t\t\t\t+ &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&#39;http://&quot;+ScoreConstants.getIpServidorWeb()+&quot;:&quot;+ScoreConstants.getPuertoServidorWeb()+&quot;/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=&quot;\r\n    \t\t\t\t\t+ acreditado\r\n    \t\t\t\t\t+ &quot;&amp;celular=&quot;\r\n    \t\t\t\t\t+ celular\r\n    \t\t\t\t\t+ &quot;&amp;fase=&quot;\r\n    \t\t\t\t\t+ fase\r\n    \t\t\t\t\t+ &quot;&amp;excepcionId=&quot;\r\n    \t\t\t\t\t+ excepcionId\r\n    \t\t\t\t\t+ &quot;&amp;subproductoId=&quot;\r\n    \t\t\t\t\t+ subproductoId\r\n    \t\t\t\t\t+ &quot;&amp;version=&quot;\r\n    \t\t\t\t\t+ version\r\n    \t\t\t\t\t+ &quot;&amp;empleadoId=&quot;\r\n    \t\t\t\t\t+ empleadoId\r\n    \t\t\t\t\t+ &quot;&amp;ipAddres=&quot;\r\n    \t\t\t\t\t+ ipAddress\r\n    \t\t\t\t\t+ &quot;&amp;accion=&quot;\r\n    \t\t\t\t\t+ rechazar+ &quot;&#39;&gt;Rechazar&lt;/a&gt;&lt;/div&gt;&quot;;\r\n    \t\t\tString cadena = String.format(&quot;%s%s%s%s%s%s%s&quot;, fechaSistema,\r\n    \t\t\t\t\tobtenerRutaContenido(File.separator + &quot;html&quot; + File.separator + &quot;Correo.html&quot;),\r\n    \t\t\t\t\tnombreAcreditado, tipoproducto, numeroMonto,\r\n    \t\t\t\t\tdescripcionExcepcion, linkAceptada);\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \r\n    \t\t\t\r\n    \t\t\tMimeBodyPart cadenaContenido = new MimeBodyPart();\r\n    \t\t\tcadenaContenido.setContent(cadena, &quot;text/html&quot;);\r\n    \t\t\tString rutaPiePagina=obtenerRutaContenido((File.separator  +&quot;html&quot; + File.separator + &quot;PiePagina.html&quot;));\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\tMimeBodyPart piePagina = new MimeBodyPart();\r\n    \t\t\tpiePagina.setContent(rutaPiePagina, &quot;text/html&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tMimeBodyPart imagenCreada=obtenerImagen((&quot;html&quot; + File.separator + &quot;Logo-AcertumBank-S.jpg&quot;));\r\n    \t\t\t\r\n    \t\t\tmessage.setContent(ordenContenidos(imagenCreada,cadenaContenido,piePagina));\r\n    \t\t\t\r\n    \t\t\tTransport.send(message);\r\n    \t\t} catch (AddressException e) {\r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\tPrintWriter printWriter = new PrintWriter(stringWriter);\r\n    \t\t\te.printStackTrace(printWriter);\r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\tPrintWriter printWriter = new PrintWriter(stringWriter);\r\n    \t\t\te.printStackTrace(printWriter);\r\n    \t\t}\r\n\r\n\r\n","title":"get path from an image on linux with Java","body":"<p>Environment of work:\nwindows 7, \nfedora 20,\nJava 7_79,\nmaven,\neclipse</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have a web java project with maven and  I'm trying to get an image that i have in src/main/resouces package to put the image on an email, this image later is set into the war at folder WEB-INF/classes/html. when run the project at  windows 7 everything works fine but the problem is when i run my web project on fedora 20 (linux) i get the next error:</p>\n\n<pre><code>&gt; 21:26:09,662 ERROR [stderr] (Thread-92) java.lang.NullPointerException\n&gt; 21:26:09,662 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:226)\n&gt; 21:26:09,663 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:299)\n&gt; 21:26:09,663 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1375)\n&gt; 21:26:09,663 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1021)\n&gt; 21:26:09,664 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:419)\n&gt; 21:26:09,664 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1354)\n&gt; 21:26:09,664 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2107)\n&gt; 21:26:09,665 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2075)\n&gt; 21:26:09,665 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.Transport.send(Transport.java:123) 21:26:09,666 ERROR\n&gt; [stderr] (Thread-92)  at\n&gt; com.acertum.serc.util.SolicitudEmail.enviarCorreo(SolicitudEmail.java:148)\n&gt; 21:26:09,666 ERROR [stderr] (Thread-92)   at\n&gt; com.acertum.serc.controller.AgregarExcepcionView$1.run(AgregarExcepcionView.java:383)\n</code></pre>\n\n<p>this is the method that obtains the image's  path</p>\n\n<pre><code>public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException{\n    logger.info(\"entro\");\n    URL url = getClass().getClassLoader().getResource(urlImagen);\n    logger.info(\"url\" + url);\n    MimeBodyPart attachmentPart = new MimeBodyPart();\n    logger.info(\"url.getPath()\" + url.getPath().toString());\n    attachmentPart.attachFile(url.getPath());\n    attachmentPart.setDisposition(MimeBodyPart.INLINE);\n    return attachmentPart;\n}\n</code></pre>\n\n<p>my principal method to send the email is the next:</p>\n\n<pre><code>try {\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(ScoreConstants.getFromSolicitudEmail()));\n            message.setRecipients(Message.RecipientType.TO, recipientes);\n            message.setSubject(ScoreConstants.getSubjectSolicitudEmail());\n            String fechaSistema=\"&lt;html&gt;&lt;body&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div align='right'&gt;&lt;h3&gt;M&amp;eacute;xico,D.F a \"+date+\"&lt;/h3&gt;&lt;/div&gt;&lt;br/&gt;\";\n            String  nombreAcreditado=\"&lt;br/&gt;&lt;br/&gt;&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Acreditado: &lt;/strong&gt; \"+ acreditado +\"&lt;/div&gt;&lt;br/&gt;\";\n            String  tipoproducto=\"&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Tipo de Producto: &lt;/strong&gt;\"+ subproducto +\"&lt;/div&gt;&lt;br/&gt;\";\n            String  numeroMonto=\"&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Monto: &lt;/strong&gt;\"+ monto +\"&lt;/div&gt;&lt;br/&gt;\";\n            String  descripcionExcepcion=\"&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Descripcion de la excepci&amp;oacute;n: &lt;/strong&gt;\"+ descripcion +\"&lt;/div&gt;&lt;br/&gt;\";\n\n\n\n            String linkAceptada = \"&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div style='margin-left: 350px;font-family: Calibri;'&gt;&lt;a href='http://\"+ ScoreConstants.getIpServidorWeb()+\":\"+ScoreConstants.getPuertoServidorWeb()+\"/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=\"\n                    + acreditado\n                    + \"&amp;celular=\"\n                    + celular\n                    + \"&amp;fase=\"\n                    + fase\n                    + \"&amp;excepcionId=\"\n                    + excepcionId\n                    + \"&amp;subproductoId=\"\n                    + subproductoId\n                    + \"&amp;version=\"\n                    + version\n                    + \"&amp;empleadoId=\"\n                    + empleadoId\n                    + \"&amp;ipAddres=\"\n                    + ipAddress\n                    + \"&amp;accion=\"+autorizar+\"'&gt;Autorizar&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\"\n                    + \"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href='http://\"+ScoreConstants.getIpServidorWeb()+\":\"+ScoreConstants.getPuertoServidorWeb()+\"/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=\"\n                    + acreditado\n                    + \"&amp;celular=\"\n                    + celular\n                    + \"&amp;fase=\"\n                    + fase\n                    + \"&amp;excepcionId=\"\n                    + excepcionId\n                    + \"&amp;subproductoId=\"\n                    + subproductoId\n                    + \"&amp;version=\"\n                    + version\n                    + \"&amp;empleadoId=\"\n                    + empleadoId\n                    + \"&amp;ipAddres=\"\n                    + ipAddress\n                    + \"&amp;accion=\"\n                    + rechazar+ \"'&gt;Rechazar&lt;/a&gt;&lt;/div&gt;\";\n            String cadena = String.format(\"%s%s%s%s%s%s%s\", fechaSistema,\n                    obtenerRutaContenido(File.separator + \"html\" + File.separator + \"Correo.html\"),\n                    nombreAcreditado, tipoproducto, numeroMonto,\n                    descripcionExcepcion, linkAceptada);\n\n\n\n\n\n\n            MimeBodyPart cadenaContenido = new MimeBodyPart();\n            cadenaContenido.setContent(cadena, \"text/html\");\n            String rutaPiePagina=obtenerRutaContenido((File.separator  +\"html\" + File.separator + \"PiePagina.html\"));\n\n\n            MimeBodyPart piePagina = new MimeBodyPart();\n            piePagina.setContent(rutaPiePagina, \"text/html\");\n\n\n            MimeBodyPart imagenCreada=obtenerImagen((\"html\" + File.separator + \"Logo-AcertumBank-S.jpg\"));\n\n            message.setContent(ordenContenidos(imagenCreada,cadenaContenido,piePagina));\n\n            Transport.send(message);\n        } catch (AddressException e) {\n            StringWriter stringWriter = new StringWriter();\n            PrintWriter printWriter = new PrintWriter(stringWriter);\n            e.printStackTrace(printWriter);\n        } catch (MessagingException e) {\n            StringWriter stringWriter = new StringWriter();\n            PrintWriter printWriter = new PrintWriter(stringWriter);\n            e.printStackTrace(printWriter);\n        }\n</code></pre>\n"},{"tags":["java","gradle","build","ant"],"answers":[{"tags":[],"owner":{"account_id":3562450,"reputation":1029,"user_id":2974996,"accept_rate":56,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1442293676,"creation_date":1442293676,"answer_id":32578120,"question_id":32578001,"body_markdown":"You do not need to &#39;clean&#39; every time you build. If I recall gradle should only rebuild files that you&#39;ve modified and all their dependents. See https://stackoverflow.com/questions/29028748/why-run-gradle-clean for the second part of your question. ","title":"Do we need to clean the project each time when I develop?","body":"<p>You do not need to 'clean' every time you build. If I recall gradle should only rebuild files that you've modified and all their dependents. See <a href=\"https://stackoverflow.com/questions/29028748/why-run-gradle-clean\">Why run &#39;gradle clean&#39;?</a> for the second part of your question. </p>\n"}],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32578120,"answer_count":1,"score":1,"last_activity_date":1701275675,"creation_date":1442292967,"question_id":32578001,"body_markdown":"I have a huge java web-project. Recently I have migrated to **gradle** build from ant build.\r\n\r\n**Is it necessary to do &#39;clean&#39; task each time I build ?**&lt;br&gt;\r\n*Or*&lt;br&gt;\r\n**What is the actual purpose of &#39;clean&#39; task ?**\r\n\r\n(*I know that &#39;clean&#39; will clean the output directory. But I think always the files will get replaced each time I compile.* Then why do we need to spend time to clean again)\r\n\r\n*There is one reason to clean* (as I know) :\r\nIf you remove a file and build without cleaning it, the old file will remain in the output folder until you clean it.","title":"Do we need to clean the project each time when I develop?","body":"<p>I have a huge java web-project. Recently I have migrated to <strong>gradle</strong> build from ant build.</p>\n\n<p><strong>Is it necessary to do 'clean' task each time I build ?</strong><br>\n<em>Or</em><br>\n<strong>What is the actual purpose of 'clean' task ?</strong></p>\n\n<p>(<em>I know that 'clean' will clean the output directory. But I think always the files will get replaced each time I compile.</em> Then why do we need to spend time to clean again)</p>\n\n<p><em>There is one reason to clean</em> (as I know) :\nIf you remove a file and build without cleaning it, the old file will remain in the output folder until you clean it.</p>\n"},{"tags":["java","android","json","gson"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701275628,"creation_date":1701275628,"answer_id":77572976,"question_id":77567888,"body_markdown":"One solution is to transform the JSON structure before converting to the POJO.  You can try JSON library _Josson_ which make use of _Jackson_ instead of _Gson_.\r\n\r\n    public class Pais {\r\n        private String nome;\r\n        private String regiao;\r\n        private int populacao;\r\n        private String bandeira;\r\n    }\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    ArrayList&lt;Pais&gt; paises = Josson.fromJsonString(textoJSON)\r\n        .getJosson(\r\n            &quot;map(nome: name.common,&quot; +\r\n            &quot;    regiao: region,&quot; +\r\n            &quot;    populacao: population,&quot; +\r\n            &quot;    bandeira: flags.png)&quot;)\r\n        .convertValue();\r\n    System.out.println(paises);\r\n\r\n__Output__\r\n\r\n    [{nome=Christmas Island, regiao=Oceania, populacao=2072, bandeira=https://flagcdn.com/w320/cx.png}]","title":"Mapping specific subfields from JSON to Java Class properties on Android","body":"<p>One solution is to transform the JSON structure before converting to the POJO.  You can try JSON library <em>Josson</em> which make use of <em>Jackson</em> instead of <em>Gson</em>.</p>\n<pre><code>public class Pais {\n    private String nome;\n    private String regiao;\n    private int populacao;\n    private String bandeira;\n}\n</code></pre>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>ArrayList&lt;Pais&gt; paises = Josson.fromJsonString(textoJSON)\n    .getJosson(\n        &quot;map(nome: name.common,&quot; +\n        &quot;    regiao: region,&quot; +\n        &quot;    populacao: population,&quot; +\n        &quot;    bandeira: flags.png)&quot;)\n    .convertValue();\nSystem.out.println(paises);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[{nome=Christmas Island, regiao=Oceania, populacao=2072, bandeira=https://flagcdn.com/w320/cx.png}]\n</code></pre>\n"}],"owner":{"account_id":1072860,"reputation":37,"user_id":1071713,"accept_rate":75,"display_name":"CharlesAnjos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701275628,"creation_date":1701217149,"question_id":77567888,"body_markdown":"I have a JSON like this:\r\n\r\n```lang-json\r\n[\r\n  {\r\n    &quot;flags&quot;: {\r\n      &quot;png&quot;: &quot;https://flagcdn.com/w320/cx.png&quot;,\r\n      &quot;svg&quot;: &quot;https://flagcdn.com/cx.svg&quot;,\r\n      &quot;alt&quot;: &quot;&quot;\r\n    },\r\n    &quot;name&quot;: {\r\n      &quot;common&quot;: &quot;Christmas Island&quot;,\r\n      &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\r\n      &quot;nativeName&quot;: {\r\n        &quot;eng&quot;: {\r\n          &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\r\n          &quot;common&quot;: &quot;Christmas Island&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;region&quot;: &quot;Oceania&quot;,\r\n    &quot;population&quot;: 2072\r\n  },\r\n\r\n...\r\n]\r\n``` \r\nIt is a list of countries I&#39;m getting from [here][1]. I am mapping that JSON to a Java class as below:\r\n```lang-java\r\npublic class Pais {\r\n\r\n  @SerializedName(&quot;name&quot;)\r\n  @Expose\r\n  private String nome;\r\n\r\n  @SerializedName(&quot;region&quot;)\r\n  @Expose\r\n  private String regiao;\r\n\r\n  @SerializedName(&quot;population&quot;)\r\n  @Expose\r\n  private int populacao;\r\n\r\n  @SerializedName(&quot;flags&quot;)\r\n  @Expose\r\n  private String bandeira;\r\n}\r\n``` \r\n\r\nAnd then I used GSON to serialize the whole thing with\r\n\r\n```lang-java\r\n    executor.execute(() -&gt; {\r\n      Conexao conexao = new Conexao();\r\n      String URL = &quot;https://restcountries.com/v2/all?fields=name,region,population,flag,numericCode&quot;;\r\n      InputStream inputStream = conexao.obterRespostaHTTP(URL);\r\n      Auxiliador auxiliador = new Auxiliador();\r\n      String textoJSON = auxiliador.converter(inputStream);\r\n\r\n      Gson gson = new Gson();\r\n\r\n      if (textoJSON != null) {\r\n        Type type = new TypeToken&lt;ArrayList&lt;Pais&gt;&gt;() {\r\n        }.getType();\r\n        paises = gson.fromJson(textoJSON, type);\r\n\r\n        handler.post(() -&gt; {\r\n          paisAdapter = new PaisAdapter(this, paises);\r\n          listView.setAdapter(paisAdapter);\r\n        });\r\n      }\r\n    });\r\n```\r\n\r\nBut the thing is, the fields &#39;name&#39; and &#39;flags&#39; will be parsed as objects, since they have other parameters inside of them, right? Is it possible to do something like mapping the  &quot;png&quot; field inside the &quot;flags&quot; field from the JSON directly to my class parameter &quot;bandeira,&quot; for example?\r\n\r\nI&#39;ve tried changing the `@SerializedName` notation to things like `@SerializedName(&quot;flags.png&quot;)`, but it didn&#39;t work. I imagine there is a specific way to do this.\r\n\r\n  [1]: https://restcountries.com/v3.1/all?fields=name,region,population,flags","title":"Mapping specific subfields from JSON to Java Class properties on Android","body":"<p>I have a JSON like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;flags&quot;: {\n      &quot;png&quot;: &quot;https://flagcdn.com/w320/cx.png&quot;,\n      &quot;svg&quot;: &quot;https://flagcdn.com/cx.svg&quot;,\n      &quot;alt&quot;: &quot;&quot;\n    },\n    &quot;name&quot;: {\n      &quot;common&quot;: &quot;Christmas Island&quot;,\n      &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\n      &quot;nativeName&quot;: {\n        &quot;eng&quot;: {\n          &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\n          &quot;common&quot;: &quot;Christmas Island&quot;\n        }\n      }\n    },\n    &quot;region&quot;: &quot;Oceania&quot;,\n    &quot;population&quot;: 2072\n  },\n\n...\n]\n</code></pre>\n<p>It is a list of countries I'm getting from <a href=\"https://restcountries.com/v3.1/all?fields=name,region,population,flags\" rel=\"nofollow noreferrer\">here</a>. I am mapping that JSON to a Java class as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pais {\n\n  @SerializedName(&quot;name&quot;)\n  @Expose\n  private String nome;\n\n  @SerializedName(&quot;region&quot;)\n  @Expose\n  private String regiao;\n\n  @SerializedName(&quot;population&quot;)\n  @Expose\n  private int populacao;\n\n  @SerializedName(&quot;flags&quot;)\n  @Expose\n  private String bandeira;\n}\n</code></pre>\n<p>And then I used GSON to serialize the whole thing with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    executor.execute(() -&gt; {\n      Conexao conexao = new Conexao();\n      String URL = &quot;https://restcountries.com/v2/all?fields=name,region,population,flag,numericCode&quot;;\n      InputStream inputStream = conexao.obterRespostaHTTP(URL);\n      Auxiliador auxiliador = new Auxiliador();\n      String textoJSON = auxiliador.converter(inputStream);\n\n      Gson gson = new Gson();\n\n      if (textoJSON != null) {\n        Type type = new TypeToken&lt;ArrayList&lt;Pais&gt;&gt;() {\n        }.getType();\n        paises = gson.fromJson(textoJSON, type);\n\n        handler.post(() -&gt; {\n          paisAdapter = new PaisAdapter(this, paises);\n          listView.setAdapter(paisAdapter);\n        });\n      }\n    });\n</code></pre>\n<p>But the thing is, the fields 'name' and 'flags' will be parsed as objects, since they have other parameters inside of them, right? Is it possible to do something like mapping the  &quot;png&quot; field inside the &quot;flags&quot; field from the JSON directly to my class parameter &quot;bandeira,&quot; for example?</p>\n<p>I've tried changing the <code>@SerializedName</code> notation to things like <code>@SerializedName(&quot;flags.png&quot;)</code>, but it didn't work. I imagine there is a specific way to do this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9833,"page":26,"page_size":100}
