{"items":[{"tags":["java","tomcat","basic-authentication","netweaver"],"comments":[{"owner":{"account_id":4964872,"reputation":1022,"user_id":3994580,"display_name":"DaniEll"},"score":0,"creation_date":1436517231,"post_id":31335719,"comment_id":50656603,"body_markdown":"Maybe there is a problem on the Tomcat side?","body":"Maybe there is a problem on the Tomcat side?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436517934,"post_id":31335719,"comment_id":50656997,"body_markdown":"I thought so as well, but wouldn’t the restart of the Tomcat let the problem occur after the first request to the Tomcat after the restart?\nBut if you could point me into a direction, I would gladly look into it.","body":"I thought so as well, but wouldn’t the restart of the Tomcat let the problem occur after the first request to the Tomcat after the restart? But if you could point me into a direction, I would gladly look into it."},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518230,"post_id":31335719,"comment_id":50657200,"body_markdown":"Do your requests contain some sort of cookies?","body":"Do your requests contain some sort of cookies?"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518279,"post_id":31335719,"comment_id":50657228,"body_markdown":"@user3513092 regarding restart: Does your tomcate dispose session infos on restart?","body":"@user3513092 regarding restart: Does your tomcate dispose session infos on restart?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436518784,"post_id":31335719,"comment_id":50657523,"body_markdown":"No cookies; which flag need to be set to dispose the session infos?","body":"No cookies; which flag need to be set to dispose the session infos?"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518906,"post_id":31335719,"comment_id":50657592,"body_markdown":"see https://tomcat.apache.org/tomcat-7.0-doc/config/manager.html - it is the saveOnRestart attribute. It defaults to true. You may try to set it to false. How do you configure the basic auth at tomcat?","body":"see <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/manager.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/config/manager.html</a> - it is the saveOnRestart attribute. It defaults to true. You may try to set it to false. How do you configure the basic auth at tomcat?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436617674,"post_id":31335719,"comment_id":50695797,"body_markdown":"You were right. It is the tomcat. Even a request with Postman or Soap Ui are failing, if they are sending the first request of the day. I have to check, why Tomcat is behaving like this :-/","body":"You were right. It is the tomcat. Even a request with Postman or Soap Ui are failing, if they are sending the first request of the day. I have to check, why Tomcat is behaving like this :-/"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1454506068,"post_id":31335719,"comment_id":58073624,"body_markdown":"Just wanted to add, we never figured out why the first call of the day failed. We just add a retry into the software to try it twice","body":"Just wanted to add, we never figured out why the first call of the day failed. We just add a retry into the software to try it twice"}],"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689532964,"creation_date":1436516066,"question_id":31335719,"body_markdown":"I am completely lost. I try to authenticate using HTTP Basic Auth to a Tomcat 7.0.54 to get a resource.\r\n\r\nThe first time of a day that I try to connect I get a 401. The rest of the day I will get the resource. Even if I restart the Tomcat, I will get the resource with the first request. I can not restart the client...\r\n\r\nI have the following code:\r\n\r\n    URL urlObject = new URL(url);\r\n    String userPassword = username + &quot;:&quot; + password;\r\n    String encoding = new sun.misc.BASE64Encoder().encode(userPassword.getBytes());\r\n     \r\n    HttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\r\n     \r\n    connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\r\n     \r\n    connection.setRequestMethod(&quot;POST&quot;);\r\n     \r\n    String postParameters = &quot;X=&#39;xyz&#39;&quot;;\r\n    connection.setDoOutput(true);\r\n    \r\n    connection.connect();\r\n    DataOutputStream outputStreamToConnection = new DataOutputStream(\r\n    connection.getOutputStream());\r\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStreamToConnection, &quot;ISO-8859-1&quot;));\r\n    writer.write(postParameters);\r\n    writer.close();\r\n    outputStreamToConnection.flush();\r\n    outputStreamToConnection.close();\r\n    \r\n    int responseCode = connection.getResponseCode();\r\n\r\nAnyone any idea what causes the first reject of the Tomcat? I logged my header-requests and the headers are the same for first and second request...\r\n\r\nIt looks like the client would cache something. It is running on an SAP AS Java server. Hope anybody experienced the same problem. :)\r\nThanks \r\nBen","title":"HTTP Basic Auth using HttpURLConnection - Fails the first time","body":"<p>I am completely lost. I try to authenticate using HTTP Basic Auth to a Tomcat 7.0.54 to get a resource.</p>\n<p>The first time of a day that I try to connect I get a 401. The rest of the day I will get the resource. Even if I restart the Tomcat, I will get the resource with the first request. I can not restart the client...</p>\n<p>I have the following code:</p>\n<pre><code>URL urlObject = new URL(url);\nString userPassword = username + &quot;:&quot; + password;\nString encoding = new sun.misc.BASE64Encoder().encode(userPassword.getBytes());\n \nHttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\n \nconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\n \nconnection.setRequestMethod(&quot;POST&quot;);\n \nString postParameters = &quot;X='xyz'&quot;;\nconnection.setDoOutput(true);\n\nconnection.connect();\nDataOutputStream outputStreamToConnection = new DataOutputStream(\nconnection.getOutputStream());\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStreamToConnection, &quot;ISO-8859-1&quot;));\nwriter.write(postParameters);\nwriter.close();\noutputStreamToConnection.flush();\noutputStreamToConnection.close();\n\nint responseCode = connection.getResponseCode();\n</code></pre>\n<p>Anyone any idea what causes the first reject of the Tomcat? I logged my header-requests and the headers are the same for first and second request...</p>\n<p>It looks like the client would cache something. It is running on an SAP AS Java server. Hope anybody experienced the same problem. :)\nThanks\nBen</p>\n"},{"tags":["java","image","graphics","graphics2d"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1585866042,"post_id":61002012,"comment_id":107923225,"body_markdown":"Create a new `BufferedImage`, fill it&#39;s background with the desired color and then draw the image over the top of it","body":"Create a new <code>BufferedImage</code>, fill it&#39;s background with the desired color and then draw the image over the top of it"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1585866080,"post_id":61002012,"comment_id":107923236,"body_markdown":"Oh, I&#39;d use `setColor` and `fillRect` instead, personally","body":"Oh, I&#39;d use <code>setColor</code> and <code>fillRect</code> instead, personally"},{"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"score":0,"creation_date":1585866805,"post_id":61002012,"comment_id":107923477,"body_markdown":"Should I use the drawImage() method to draw my image on top of the background?","body":"Should I use the drawImage() method to draw my image on top of the background?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689532876,"creation_date":1585866519,"answer_id":61002166,"question_id":61002012,"body_markdown":"1- Load your image\r\n\r\n    image = ImageIO.read(url) ;\r\n\r\n2- Create a new `BufferedImage` of the same size\r\n\r\n    BufferedImage background =\r\n        new BufferedImage(\r\n            image.getWidth(), image.getHeight(), BufferedImage.TYPE_INT_RGB\r\n        );\r\n\r\n3- Fill the `background` image with the desired color\r\n\r\n    Graphics2D g2d = background.createGraphics();\r\n    g2d.setColor(Color.WHITE);\r\n    g2d.fillRect(0, 0, background.getWidth(), background.getHeight());\r\n\r\n4- Draw the original image onto the background...\r\n\r\n    g2d.drawImage(image, 0, 0, null);\r\n    g2d.dispose();\r\n\r\n`background` is now filled with the desired color and has the image painted on top o it.","title":"Java change background color png image","body":"<p>1- Load your image</p>\n<pre><code>image = ImageIO.read(url) ;\n</code></pre>\n<p>2- Create a new <code>BufferedImage</code> of the same size</p>\n<pre><code>BufferedImage background =\n    new BufferedImage(\n        image.getWidth(), image.getHeight(), BufferedImage.TYPE_INT_RGB\n    );\n</code></pre>\n<p>3- Fill the <code>background</code> image with the desired color</p>\n<pre><code>Graphics2D g2d = background.createGraphics();\ng2d.setColor(Color.WHITE);\ng2d.fillRect(0, 0, background.getWidth(), background.getHeight());\n</code></pre>\n<p>4- Draw the original image onto the background...</p>\n<pre><code>g2d.drawImage(image, 0, 0, null);\ng2d.dispose();\n</code></pre>\n<p><code>background</code> is now filled with the desired color and has the image painted on top o it.</p>\n"}],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61002166,"answer_count":1,"score":0,"last_activity_date":1689532876,"creation_date":1585865681,"question_id":61002012,"body_markdown":"I have been following some StackOverflow links using Graphics2D to change the background color of a BufferedImage. \r\n\r\nThe project I am working on requires that I read in a png image from a given url; the png image retrieved has a transparent background, and I would like to set it to white.\r\n\r\nHere is what I have:\r\n```\r\nString u = this.format() ;\r\n        BufferedImage image = null ;\r\n        try{\r\n            URL url = new URL(u) ;\r\n            image = ImageIO.read(url) ;\r\n            Graphics2D graphics = image.createGraphics() ;\r\n            graphics.setBackground(Color.WHITE) ;\r\n            graphics.clearRect(0, 0, image.getWidth(), image.getHeight()) ;\r\n            \r\n            \r\n            ImageIO.write(image, &quot;png&quot;, new File(outPath + fileName)) ;\r\n            graphics.dispose() ;\r\n\r\n        }\r\n        catch(IOException e){\r\n            e.printStackTrace() ;\r\n        }\r\n```\r\n\r\nThe problem I am running into is that when I view the image, the image appears as a solid white box. Apparently I have overlaid a white background on top of the existing image that I retrieved. \r\n\r\nHow can I preserve the original image and only change the background? Or set the background first and then overlay the retrieved image?","title":"Java change background color png image","body":"<p>I have been following some StackOverflow links using Graphics2D to change the background color of a BufferedImage. </p>\n\n<p>The project I am working on requires that I read in a png image from a given url; the png image retrieved has a transparent background, and I would like to set it to white.</p>\n\n<p>Here is what I have:</p>\n\n<pre><code>String u = this.format() ;\n        BufferedImage image = null ;\n        try{\n            URL url = new URL(u) ;\n            image = ImageIO.read(url) ;\n            Graphics2D graphics = image.createGraphics() ;\n            graphics.setBackground(Color.WHITE) ;\n            graphics.clearRect(0, 0, image.getWidth(), image.getHeight()) ;\n\n\n            ImageIO.write(image, \"png\", new File(outPath + fileName)) ;\n            graphics.dispose() ;\n\n        }\n        catch(IOException e){\n            e.printStackTrace() ;\n        }\n</code></pre>\n\n<p>The problem I am running into is that when I view the image, the image appears as a solid white box. Apparently I have overlaid a white background on top of the existing image that I retrieved. </p>\n\n<p>How can I preserve the original image and only change the background? Or set the background first and then overlay the retrieved image?</p>\n"},{"tags":["java","eclipse","junit","junit4","module-info"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689534768,"post_id":76699824,"comment_id":135223677,"body_markdown":"See [&quot;The package java.sql is not accessible.&quot; in eclipse](https://stackoverflow.com/q/65273632). You need to `require` the modules you are using in your `module-info.java`. You cannot use any modules you don&#39;t `require`. See also https://dev.java/learn/modules/ for in-depth information about modules.","body":"See <a href=\"https://stackoverflow.com/q/65273632\">&quot;The package java.sql is not accessible.&quot; in eclipse</a>. You need to <code>require</code> the modules you are using in your <code>module-info.java</code>. You cannot use any modules you don&#39;t <code>require</code>. See also <a href=\"https://dev.java/learn/modules/\" rel=\"nofollow noreferrer\">dev.java/learn/modules</a> for in-depth information about modules."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1689590244,"post_id":76699824,"comment_id":135229983,"body_markdown":"No, this is not an Eclipse bug but how [`module-info.java`](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules) works. In the mentioned question there is not even a `module-info.java` file. I guess you referring to [this wrong answer](https://stackoverflow.com/a/72731049/6505250). As long as you don&#39;t know what `module-info.java` does, delete it, if needed you can recreate it later via right-click on the project _Configure &gt; Create module-info.java_. I also recommend to use JUnit 5 rather than JUnit 4 when you start from scratch. Consider also to use Maven.","body":"No, this is not an Eclipse bug but how <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\"><code>module-info.java</code></a> works. In the mentioned question there is not even a <code>module-info.java</code> file. I guess you referring to <a href=\"https://stackoverflow.com/a/72731049/6505250\">this wrong answer</a>. As long as you don&#39;t know what <code>module-info.java</code> does, delete it, if needed you can recreate it later via right-click on the project <i>Configure &gt; Create module-info.java</i>. I also recommend to use JUnit 5 rather than JUnit 4 when you start from scratch. Consider also to use Maven."}],"owner":{"account_id":28897559,"reputation":1,"user_id":22133250,"display_name":"Signor Pizza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689532120,"creation_date":1689532120,"question_id":76699824,"body_markdown":"After a combination of Google / Stack Overflow searches I landed on this post which describes my exact problem:\r\n[StackOverflowQuestion](https://stackoverflow.com/questions/70071471/org-junit-test-is-not-accessible-in-eclipse)\r\n\r\nThe post defines this issue is an eclipse bug of version &#39;2022-06&#39;: my version, as you can see in the &#39;Details&#39; tab, comes exactly 1 year later, so I&#39;m wondering if there&#39;s something I&#39;m doing wrong, rather than there still being the same bug.\r\n\r\n**Details:**\r\n\r\n\\-MacOS Ventura on M2 Air\r\n\\-Using &#39;Eclipse IDE&#39;: &#39;About Eclipse&#39;:\r\n\r\nVersion: 2023-06 (4.28.0)\r\n\r\nBuild id: 20230608-1333\r\n\r\n**Steps to reproduce** (default preferences used)\r\n\r\nNew Java Project \\&gt; Finish (Project Name: &#39;TestProject&#39;)\r\n\r\n\\[selected+right-clicked &#39;src&#39; in &#39;Package Explorer&#39; view\\]: New \\&gt; Package (Name: &#39;test&#39;)\r\n\r\n\\[selected+right-clicked package &#39;test&#39;\\]: New \\&gt; Class (Name: &#39;CoolClass&#39;)\r\n\r\n\\[initial modified &#39;CoolClass&#39; code\\]:\r\n\r\n```\r\npackage test;\r\n\r\nimport org.junit.Assert;\r\n\r\npublic class CoolClass {\r\n\t@Test\r\n\tpublic void testMethod() {\r\n\t\tint i = 1;\r\n\t\tAssert.assertTrue(i == 1);\r\n\t}\r\n}\r\n```\r\n\r\nAs expected, there were errors since I hadn&#39;t added the &#39;Junit 4 Library&#39; to the build path.\r\nI then proceeded to do this by clicking the lightbulb icon which appeared next to the &#39;@Test&#39; snippet in the editor (as shown here: [Image](https://i.stack.imgur.com/W2Ik4.png)) and clicked on &#39;add JUnit 4 Library to the build path&#39;.\r\n\r\nDespite this, I continued to get these errors:[Errors](https://i.stack.imgur.com/h3eEd.png)\r\n\r\nAs stated in the Stack Overflow post I linked above, upon deleting the &#39;module-info.java&#39; file, these errors totally disappeared.\r\n\r\nMy questions are:\r\n\r\nIs this still a bug or am I missing something? (Surely it can&#39;t be since it&#39;s been roughly a year right?)\r\n\r\nIs having to delete the &#39;module-info.java&#39; file to use JUnit a problem when coding in java? (I&#39;m still learning to code in Java through the use of Eclipse, so don&#39;t have any experience on making a fully fledged &#39;Project&#39; yet with modules and everything)\r\n\r\nWhy does removing the &#39;module-info.java&#39; file tend to resolve certain issues? (I came across this phenomenon whilst reviewing possible duplicate questions proposed by Stack Overflow)","title":"Eclipse bug with JUnit and &#39;module-info.java&#39;?","body":"<p>After a combination of Google / Stack Overflow searches I landed on this post which describes my exact problem:\n<a href=\"https://stackoverflow.com/questions/70071471/org-junit-test-is-not-accessible-in-eclipse\">StackOverflowQuestion</a></p>\n<p>The post defines this issue is an eclipse bug of version '2022-06': my version, as you can see in the 'Details' tab, comes exactly 1 year later, so I'm wondering if there's something I'm doing wrong, rather than there still being the same bug.</p>\n<p><strong>Details:</strong></p>\n<p>-MacOS Ventura on M2 Air\n-Using 'Eclipse IDE': 'About Eclipse':</p>\n<p>Version: 2023-06 (4.28.0)</p>\n<p>Build id: 20230608-1333</p>\n<p><strong>Steps to reproduce</strong> (default preferences used)</p>\n<p>New Java Project &gt; Finish (Project Name: 'TestProject')</p>\n<p>[selected+right-clicked 'src' in 'Package Explorer' view]: New &gt; Package (Name: 'test')</p>\n<p>[selected+right-clicked package 'test']: New &gt; Class (Name: 'CoolClass')</p>\n<p>[initial modified 'CoolClass' code]:</p>\n<pre><code>package test;\n\nimport org.junit.Assert;\n\npublic class CoolClass {\n    @Test\n    public void testMethod() {\n        int i = 1;\n        Assert.assertTrue(i == 1);\n    }\n}\n</code></pre>\n<p>As expected, there were errors since I hadn't added the 'Junit 4 Library' to the build path.\nI then proceeded to do this by clicking the lightbulb icon which appeared next to the '@Test' snippet in the editor (as shown here: <a href=\"https://i.stack.imgur.com/W2Ik4.png\" rel=\"nofollow noreferrer\">Image</a>) and clicked on 'add JUnit 4 Library to the build path'.</p>\n<p>Despite this, I continued to get these errors:<a href=\"https://i.stack.imgur.com/h3eEd.png\" rel=\"nofollow noreferrer\">Errors</a></p>\n<p>As stated in the Stack Overflow post I linked above, upon deleting the 'module-info.java' file, these errors totally disappeared.</p>\n<p>My questions are:</p>\n<p>Is this still a bug or am I missing something? (Surely it can't be since it's been roughly a year right?)</p>\n<p>Is having to delete the 'module-info.java' file to use JUnit a problem when coding in java? (I'm still learning to code in Java through the use of Eclipse, so don't have any experience on making a fully fledged 'Project' yet with modules and everything)</p>\n<p>Why does removing the 'module-info.java' file tend to resolve certain issues? (I came across this phenomenon whilst reviewing possible duplicate questions proposed by Stack Overflow)</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":11091407,"reputation":152,"user_id":8143136,"display_name":"Sidnio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687517924,"creation_date":1687517924,"answer_id":76539446,"question_id":76539028,"body_markdown":" \r\n\r\n   **I didn&#39;t get any null exceptions when I ran it**\r\n    \r\n\r\n\r\n    import android.content.Context\r\n    import android.os.Build\r\n    import android.os.Build.VERSION_CODES.M\r\n    import android.os.Bundle\r\n    import android.telephony.SmsManager\r\n    import android.util.Log\r\n    import android.widget.TextView\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val textView = TextView(applicationContext)\r\n    \r\n            getSmsManagerForSubscriptionId(applicationContext, 1)\r\n            Log.d(&quot;smsManager1 &quot;, &quot;succeed&quot;)\r\n            getSmsManagerForSubscriptionId(textView.context, 2)\r\n            Log.d(&quot;smsManager2&quot;, &quot;succeed&quot;)\r\n    \r\n        }\r\n        \r\n        private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\r\n            val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\r\n                context.getSystemService(SmsManager::class.java) as SmsManager\r\n            } else {\r\n                TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\r\n            }\r\n            val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                smsManager.createForSubscriptionId(subsId)\r\n            } else {\r\n                TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\r\n            }\r\n            return smsManagerInstanceForSubsId\r\n        }\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Xrty.png\r\n  [2]: https://i.stack.imgur.com/LHDWS.png","title":"How to create an instance of smsManager in kotlin with the given context of an activity?","body":"<p><strong>I didn't get any null exceptions when I ran it</strong></p>\n<pre><code>import android.content.Context\nimport android.os.Build\nimport android.os.Build.VERSION_CODES.M\nimport android.os.Bundle\nimport android.telephony.SmsManager\nimport android.util.Log\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val textView = TextView(applicationContext)\n\n        getSmsManagerForSubscriptionId(applicationContext, 1)\n        Log.d(&quot;smsManager1 &quot;, &quot;succeed&quot;)\n        getSmsManagerForSubscriptionId(textView.context, 2)\n        Log.d(&quot;smsManager2&quot;, &quot;succeed&quot;)\n\n    }\n    \n    private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\n            context.getSystemService(SmsManager::class.java) as SmsManager\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\n        }\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            smsManager.createForSubscriptionId(subsId)\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\n        }\n        return smsManagerInstanceForSubsId\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8Xrty.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Xrty.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LHDWS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LHDWS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19350269,"reputation":1,"user_id":14147867,"display_name":"Harsh Vardhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689531709,"creation_date":1687514448,"question_id":76539028,"body_markdown":"```\r\nprivate fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\r\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\r\n            context.getSystemService(SmsManager::class.java) as SmsManager\r\n        } else {\r\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\r\n        }\r\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            smsManager.createForSubscriptionId(subsId)\r\n        } else {\r\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\r\n        }\r\n        return smsManagerInstanceForSubsId\r\n    }\r\n```\r\n\r\n I am using above code to create an smsManager Instance but the code is showing error at \r\n\r\n```\r\ncontext.getSystemService(SmsManager::class.java) as SmsManager\r\n```\r\n\r\nbelow is the error it is showing \r\n\r\nCannot cast null object to non-null object.","title":"How to create an instance of smsManager in kotlin with the given context of an activity?","body":"<pre><code>private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\n            context.getSystemService(SmsManager::class.java) as SmsManager\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\n        }\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            smsManager.createForSubscriptionId(subsId)\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\n        }\n        return smsManagerInstanceForSubsId\n    }\n</code></pre>\n<p>I am using above code to create an smsManager Instance but the code is showing error at</p>\n<pre><code>context.getSystemService(SmsManager::class.java) as SmsManager\n</code></pre>\n<p>below is the error it is showing</p>\n<p>Cannot cast null object to non-null object.</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1689149205,"post_id":76662737,"comment_id":135170675,"body_markdown":"When does this error happen? Please share the full stack trace of the exception. Moreover, it is incorrect to scope a step bean. You should move late-binding to the component of the step (tasklet, reader, writer, partitioner, etc), and not the step itself.","body":"When does this error happen? Please share the full stack trace of the exception. Moreover, it is incorrect to scope a step bean. You should move late-binding to the component of the step (tasklet, reader, writer, partitioner, etc), and not the step itself."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689162539,"post_id":76662737,"comment_id":135173652,"body_markdown":"@MahmoudBenHassine thanks for your comment, you can find further details in the question, i updated it","body":"@MahmoudBenHassine thanks for your comment, you can find further details in the question, i updated it"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1689225763,"post_id":76662737,"comment_id":135183750,"body_markdown":"The stacktrace seems truncated but it seems that `NULL` is being inserted in `BATCH_STEP_EXECUTION_CONTEXT.STEP_EXECUTION_ID`. This is probably due to late-binding which is triggered eagerly. The `XMLIncrementalPartitionHandler` should not be step-scoped, it does not use late binding. Please remove `@StepScope` on it and share your feedback. To help you efficiently, consider providing  a minimal example that reproduces the issue: https://stackoverflow.com/help/minimal-reproducible-example.","body":"The stacktrace seems truncated but it seems that <code>NULL</code> is being inserted in <code>BATCH_STEP_EXECUTION_CONTEXT.STEP_EXECUTION_ID</code>. This is probably due to late-binding which is triggered eagerly. The <code>XMLIncrementalPartitionHandler</code> should not be step-scoped, it does not use late binding. Please remove <code>@StepScope</code> on it and share your feedback. To help you efficiently, consider providing  a minimal example that reproduces the issue: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."},{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":0,"creation_date":1689235791,"post_id":76662737,"comment_id":135185429,"body_markdown":"@MahmoudBenHassine i tried before to removed it and i didn&#39;t resolve the problem, i even removed it for &quot;IncrementalWorker&quot; and the error always persists","body":"@MahmoudBenHassine i tried before to removed it and i didn&#39;t resolve the problem, i even removed it for &quot;IncrementalWorker&quot; and the error always persists"},{"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1689359843,"post_id":76662737,"comment_id":135207770,"body_markdown":"If you have any more questions, you can contact me (starting with @VonC for me to be notified) on the [discussion chat space](https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc).","body":"If you have any more questions, you can contact me (starting with @VonC for me to be notified) on the <a href=\"https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc\">discussion chat space</a>."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689530451,"creation_date":1689315212,"answer_id":76685108,"question_id":76662737,"body_markdown":"[After discussion](https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc):\r\n\r\n&gt; I want to confirm you that I have upgraded the app to spring boot to 3.1.1, spring batch 5 and sql server to 12.3.4jre17 and that resolved the problems!\r\n\r\n----\r\n\r\nOriginal answer with different suggestions:\r\n\r\nAs commented, the `PartitionHandler` should not be step-scoped because it is a part of a step, not a step itself. That could be the cause of the problem. \r\n\r\nSpring Batch&#39;s `StepScope` and `JobScope` are a way to allow late binding of values, that is, binding values to parameters at runtime. That is often necessary for values that need to be different for each execution of a step or a job. For example, a reader might need to read from a different file each time a step runs, based on parameters passed to the job.\r\n\r\n[`StepScope`](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html) is meant for beans that have a lifecycle tied to a single step execution, such as readers, writers, and processors. The bean will be created at the beginning of the step and discarded at the end of the step.\r\n\r\nA [`PartitionHandler`](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/partition/PartitionHandler.html), on the other hand, is a component that is used to manage the execution of partitions in a partitioned step. It is a part of a step (a partitioned step, specifically), but it is not a step itself, so it does not have a lifecycle tied to a single step execution. Therefore, it should not be step-scoped. Instead, it should be [singleton-scoped](https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html#beans-factory-scopes-singleton), which is the default scope for Spring beans. A singleton-scoped bean is created once and used everywhere it is autowired in the application.\r\n\r\nSince the `PartitionHandler` is being step-scoped, it causes the `PartitionHandler` to be created at the *beginning* of the step execution, at which point the `@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table` parameter is null because job parameters have not been bound yet.  \r\nWhen the `PartitionHandler` then tries to create the worker step using this null `table` parameter, a null `STEP_EXECUTION_ID` is inserted into the `BATCH_STEP_EXECUTION_CONTEXT` table, causing the error.\r\n\r\n---\r\n\r\nTry and remove `@StepScope` from the `XMLIncrementalPartitionHandler` method.\r\n\r\n```java\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(IncrementalWorker(table));\r\n    handler.setTaskExecutor(taskExecutor);\r\n    try {\r\n        handler.afterPropertiesSet();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return handler;\r\n}\r\n```\r\n\r\nAlso, in your `IncrementalXmlManager` method, it is necessary to use a bean expression to pass the `table` parameter to `XMLIncrementalPartitionHandler`. Otherwise, the `table` parameter of `XMLIncrementalPartitionHandler` will not be populated and will be `null`. \r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\r\n            .build();\r\n}\r\n```\r\n\r\n--- \r\n\r\nI would also make sure the master and slave steps do *not* the same name, which can confuse Spring Batch&#39;s tracking mechanism.\r\n\r\nTry ensuring that each step, including the partition step and the steps it partitions, has a unique name. \r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\r\n            .build();\r\n}\r\n```\r\n\r\n\r\nAnd make sure to set unique names for the steps in your `IncrementalWorker` method:\r\n\r\n```java\r\n@Bean\r\n@StepScope\r\npublic Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String name) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalWorker-&quot; + name)\r\n            .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n            .reader(oracleXmlIncrementalReader)\r\n            .processor(new FastXmlProcessor())\r\n            .writer(jsonWriter)\r\n            .build();\r\n}\r\n```\r\n\r\nBy appending the table name (`table` or `name`) to the step names, we ensure each step has a unique name.\r\n\r\n-----\r\n\r\n&gt; I tried all those modifications, but it did not solve my problem.\r\n\r\nTrue, but there is a small issue with the method `XMLIncrementalPartitionHandler()`. In this method, you are calling `IncrementalWorker(null)`, which is causing a `null` job parameter to be passed to the `IncrementalWorker` bean.\r\n\r\nIn this context, `IncrementalWorker(null)` is not appropriate because it is expected to have a table name (or some string value) rather than `null`. \r\n\r\nInstead, consider defining the `XMLIncrementalPartitionHandler()` method in a way that accepts a `Step` as a parameter. That would allow you to pass the `IncrementalWorker` step directly when creating the partition step, like so:\r\n\r\n```java\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(step);\r\n    handler.setTaskExecutor(taskExecutor);\r\n    handler.afterPropertiesSet();\r\n\r\n    return handler;\r\n}\r\n```\r\n\r\nAnd in the `IncrementalXmlManager` method, you can pass the `IncrementalWorker` bean like so:\r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table,\r\n                                  @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\r\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\r\n            .build();\r\n}\r\n```\r\n\r\nThat way, you ensure the `IncrementalWorker` bean is correctly instantiated with the expected parameters before it is used in the `PartitionHandler`.\r\n\r\nIn addition to this, I noticed that the `@StepScope` annotation is still present on the `partitioner()` bean. If you are not using late binding (i.e., using a job or step parameter in your bean), you should remove this annotation from the `partitioner()` method.\r\n\r\n----\r\n\r\nRegarding the error:\r\n\r\n`Parameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:`\r\n\r\nThat message means Spring does not know which `Step` bean should be used in `XMLIncrementalPartitionHandler`. The `@Qualifier` annotation with a value &quot;`IncrementalWorker`&quot; is not sufficient because Spring Boot creates a new `Step` bean for each job execution with a different parameter value, and all of them match the &quot;`IncrementalWorker`&quot; name...\r\n\r\nTo address this, you could use a [`StepLocator`](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/step/StepLocator.html) to retrieve the appropriate step at runtime. \r\n\r\nHere is an updated version of your `XMLIncrementalPartitionHandler` method using `StepLocator`:\r\n\r\n```java\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\r\n    handler.setTaskExecutor(taskExecutor);\r\n    handler.afterPropertiesSet();\r\n    return handler;\r\n}\r\n```\r\n\r\nTo use `StepLocator`, you will need to add it as a parameter to your `IncrementalXmlManager` method and pass it to the `XMLIncrementalPartitionHandler`:\r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, \r\n                                  StepLocator stepLocator) throws Exception {\r\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\r\n            .build();\r\n}\r\n```\r\n\r\nNow, Spring will resolve the step at runtime, finding the right `Step` Bean based on its name. \r\n\r\nWarning: the `StepLocator` will return the first step it finds that matches the given name. Therefore, it is critical that each `Step` bean has a *unique* name. If multiple `Step` beans share the same name, the `StepLocator` might not return the correct `Step`. \r\n\r\nAnd make sure the step name provided in the `getStep()` method matches the name given when you define your `IncrementalWorker` step. \r\n\r\nThen, try and remove the `@StepScope` from your `partitioner` Bean unless you are using late binding in this bean.\r\n\r\n-----\r\n\r\nA `ScopeNotActiveException` exception means Spring is trying to create a bean that is Job scoped (i.e., it only lives within the context of a single job execution) during the application context initialization. That is problematic because there is no job execution at that point, hence the error that the job scope is not active.\r\n\r\nThe method `XMLIncrementalPartitionHandler` where you are using `StepLocator` to get your step, Spring is trying to create the bean during application context initialization. The solution to this problem is to move the `StepLocator` from the `PartitionHandler` method to the `IncrementalXmlManager` method where you are actually creating your job. That will defer the creation of the partition handler until a job is actually running, which should prevent the `ScopeNotActiveException`.\r\n\r\nThat would be:\r\n\r\n```java\r\n@Bean\r\n@JobScope\r\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, StepLocator stepLocator) throws Exception {\r\n    Step step = stepLocator.getStep(&quot;IncrementalWorker&quot;);\r\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\r\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n    handler.setGridSize(GRID_SIZE);\r\n    handler.setStep(step);\r\n    handler.setTaskExecutor(taskExecutor);\r\n    handler.afterPropertiesSet();\r\n    return handler;\r\n}\r\n```\r\n\r\nThat code moves the `StepLocator` from `XMLIncrementalPartitionHandler` to `IncrementalXmlManager`, and passes the `Step` directly to `XMLIncrementalPartitionHandler`. That ensures that the `Step` is not fetched until a job is actually running, which should fix the `ScopeNotActiveException` you were seeing.\r\n","title":"Spring Batch error: Impossible to insert NULL value in column &#39;STEP_EXECUTION_ID&#39;, table &#39;BATCH_STEP_EXECUTION_CONTEXT&#39;","body":"<p><a href=\"https://chat.stackoverflow.com/rooms/254495/discussion-between-maryem-neyli-and-vonc\">After discussion</a>:</p>\n<blockquote>\n<p>I want to confirm you that I have upgraded the app to spring boot to 3.1.1, spring batch 5 and sql server to 12.3.4jre17 and that resolved the problems!</p>\n</blockquote>\n<hr />\n<p>Original answer with different suggestions:</p>\n<p>As commented, the <code>PartitionHandler</code> should not be step-scoped because it is a part of a step, not a step itself. That could be the cause of the problem.</p>\n<p>Spring Batch's <code>StepScope</code> and <code>JobScope</code> are a way to allow late binding of values, that is, binding values to parameters at runtime. That is often necessary for values that need to be different for each execution of a step or a job. For example, a reader might need to read from a different file each time a step runs, based on parameters passed to the job.</p>\n<p><a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/StepScope.html\" rel=\"nofollow noreferrer\"><code>StepScope</code></a> is meant for beans that have a lifecycle tied to a single step execution, such as readers, writers, and processors. The bean will be created at the beginning of the step and discarded at the end of the step.</p>\n<p>A <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/partition/PartitionHandler.html\" rel=\"nofollow noreferrer\"><code>PartitionHandler</code></a>, on the other hand, is a component that is used to manage the execution of partitions in a partitioned step. It is a part of a step (a partitioned step, specifically), but it is not a step itself, so it does not have a lifecycle tied to a single step execution. Therefore, it should not be step-scoped. Instead, it should be <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html#beans-factory-scopes-singleton\" rel=\"nofollow noreferrer\">singleton-scoped</a>, which is the default scope for Spring beans. A singleton-scoped bean is created once and used everywhere it is autowired in the application.</p>\n<p>Since the <code>PartitionHandler</code> is being step-scoped, it causes the <code>PartitionHandler</code> to be created at the <em>beginning</em> of the step execution, at which point the <code>@Value(&quot;#{jobParameters['TName']}&quot;) String table</code> parameter is null because job parameters have not been bound yet.<br />\nWhen the <code>PartitionHandler</code> then tries to create the worker step using this null <code>table</code> parameter, a null <code>STEP_EXECUTION_ID</code> is inserted into the <code>BATCH_STEP_EXECUTION_CONTEXT</code> table, causing the error.</p>\n<hr />\n<p>Try and remove <code>@StepScope</code> from the <code>XMLIncrementalPartitionHandler</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(IncrementalWorker(table));\n    handler.setTaskExecutor(taskExecutor);\n    try {\n        handler.afterPropertiesSet();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return handler;\n}\n</code></pre>\n<p>Also, in your <code>IncrementalXmlManager</code> method, it is necessary to use a bean expression to pass the <code>table</code> parameter to <code>XMLIncrementalPartitionHandler</code>. Otherwise, the <code>table</code> parameter of <code>XMLIncrementalPartitionHandler</code> will not be populated and will be <code>null</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['TName']}&quot;) String table) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\n            .build();\n}\n</code></pre>\n<hr />\n<p>I would also make sure the master and slave steps do <em>not</em> the same name, which can confuse Spring Batch's tracking mechanism.</p>\n<p>Try ensuring that each step, including the partition step and the steps it partitions, has a unique name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['TName']}&quot;) String table) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(table))\n            .build();\n}\n</code></pre>\n<p>And make sure to set unique names for the steps in your <code>IncrementalWorker</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@StepScope\npublic Step IncrementalWorker(@Value(&quot;#{jobParameters['TName']}&quot;) String name) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalWorker-&quot; + name)\n            .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n            .reader(oracleXmlIncrementalReader)\n            .processor(new FastXmlProcessor())\n            .writer(jsonWriter)\n            .build();\n}\n</code></pre>\n<p>By appending the table name (<code>table</code> or <code>name</code>) to the step names, we ensure each step has a unique name.</p>\n<hr />\n<blockquote>\n<p>I tried all those modifications, but it did not solve my problem.</p>\n</blockquote>\n<p>True, but there is a small issue with the method <code>XMLIncrementalPartitionHandler()</code>. In this method, you are calling <code>IncrementalWorker(null)</code>, which is causing a <code>null</code> job parameter to be passed to the <code>IncrementalWorker</code> bean.</p>\n<p>In this context, <code>IncrementalWorker(null)</code> is not appropriate because it is expected to have a table name (or some string value) rather than <code>null</code>.</p>\n<p>Instead, consider defining the <code>XMLIncrementalPartitionHandler()</code> method in a way that accepts a <code>Step</code> as a parameter. That would allow you to pass the <code>IncrementalWorker</code> step directly when creating the partition step, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(step);\n    handler.setTaskExecutor(taskExecutor);\n    handler.afterPropertiesSet();\n\n    return handler;\n}\n</code></pre>\n<p>And in the <code>IncrementalXmlManager</code> method, you can pass the <code>IncrementalWorker</code> bean like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table,\n                                  @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\n    return stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\n            .build();\n}\n</code></pre>\n<p>That way, you ensure the <code>IncrementalWorker</code> bean is correctly instantiated with the expected parameters before it is used in the <code>PartitionHandler</code>.</p>\n<p>In addition to this, I noticed that the <code>@StepScope</code> annotation is still present on the <code>partitioner()</code> bean. If you are not using late binding (i.e., using a job or step parameter in your bean), you should remove this annotation from the <code>partitioner()</code> method.</p>\n<hr />\n<p>Regarding the error:</p>\n<p><code>Parameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:</code></p>\n<p>That message means Spring does not know which <code>Step</code> bean should be used in <code>XMLIncrementalPartitionHandler</code>. The <code>@Qualifier</code> annotation with a value &quot;<code>IncrementalWorker</code>&quot; is not sufficient because Spring Boot creates a new <code>Step</code> bean for each job execution with a different parameter value, and all of them match the &quot;<code>IncrementalWorker</code>&quot; name...</p>\n<p>To address this, you could use a <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/step/StepLocator.html\" rel=\"nofollow noreferrer\"><code>StepLocator</code></a> to retrieve the appropriate step at runtime.</p>\n<p>Here is an updated version of your <code>XMLIncrementalPartitionHandler</code> method using <code>StepLocator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\n    handler.setTaskExecutor(taskExecutor);\n    handler.afterPropertiesSet();\n    return handler;\n}\n</code></pre>\n<p>To use <code>StepLocator</code>, you will need to add it as a parameter to your <code>IncrementalXmlManager</code> method and pass it to the <code>XMLIncrementalPartitionHandler</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, \n                                  StepLocator stepLocator) throws Exception {\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\n            .build();\n}\n</code></pre>\n<p>Now, Spring will resolve the step at runtime, finding the right <code>Step</code> Bean based on its name.</p>\n<p>Warning: the <code>StepLocator</code> will return the first step it finds that matches the given name. Therefore, it is critical that each <code>Step</code> bean has a <em>unique</em> name. If multiple <code>Step</code> beans share the same name, the <code>StepLocator</code> might not return the correct <code>Step</code>.</p>\n<p>And make sure the step name provided in the <code>getStep()</code> method matches the name given when you define your <code>IncrementalWorker</code> step.</p>\n<p>Then, try and remove the <code>@StepScope</code> from your <code>partitioner</code> Bean unless you are using late binding in this bean.</p>\n<hr />\n<p>A <code>ScopeNotActiveException</code> exception means Spring is trying to create a bean that is Job scoped (i.e., it only lives within the context of a single job execution) during the application context initialization. That is problematic because there is no job execution at that point, hence the error that the job scope is not active.</p>\n<p>The method <code>XMLIncrementalPartitionHandler</code> where you are using <code>StepLocator</code> to get your step, Spring is trying to create the bean during application context initialization. The solution to this problem is to move the <code>StepLocator</code> from the <code>PartitionHandler</code> method to the <code>IncrementalXmlManager</code> method where you are actually creating your job. That will defer the creation of the partition handler until a job is actually running, which should prevent the <code>ScopeNotActiveException</code>.</p>\n<p>That would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@JobScope\npublic Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, StepLocator stepLocator) throws Exception {\n    Step step = stepLocator.getStep(&quot;IncrementalWorker&quot;);\n    return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n            .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n            .partitionHandler(XMLIncrementalPartitionHandler(step))\n            .build();\n}\n\n@Bean\npublic PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\n    TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n    handler.setGridSize(GRID_SIZE);\n    handler.setStep(step);\n    handler.setTaskExecutor(taskExecutor);\n    handler.afterPropertiesSet();\n    return handler;\n}\n</code></pre>\n<p>That code moves the <code>StepLocator</code> from <code>XMLIncrementalPartitionHandler</code> to <code>IncrementalXmlManager</code>, and passes the <code>Step</code> directly to <code>XMLIncrementalPartitionHandler</code>. That ensures that the <code>Step</code> is not fetched until a job is actually running, which should fix the <code>ScopeNotActiveException</code> you were seeing.</p>\n"}],"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76685108,"answer_count":1,"score":0,"last_activity_date":1689530451,"creation_date":1689083657,"question_id":76662737,"body_markdown":"I have this partition step:\r\n\r\n    @Bean\r\n    @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String table) throws Exception {\r\n            return stepBuilderFactory.get(table)\r\n                    .partitioner(&quot;IncrementalWorker&quot;, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler())\r\n                    .build();\r\n        }\r\n\r\nand this is the Handler:\r\n\r\n    @Bean\r\n        @StepScope\r\n        public PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(IncrementalWorker(table));\r\n            handler.setTaskExecutor(taskExecutor);\r\n            try {\r\n                handler.afterPropertiesSet();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return handler;\r\n        }\r\n\r\nand this is the slave step:\r\n\r\n    @Bean\r\n        @StepScope\r\n        public Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String name) throws Exception {\r\n            SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlIncrementalReader)\r\n                    .processor(new FastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n    \r\n            return builder.build();\r\n        }\r\n\r\nbut i always have this error:\r\n**java.sql.BatchUpdateException: Impossible to insert NULL value in column &#39;STEP_EXECUTION_ID&#39;, table &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;. This column does not accept NULL values. INSERT failed.**\r\n\r\nHere is the whole stuck trace:\r\n\r\n&gt;  2023-07-12 | 12:39:33.305 | s.b.c.j.SimpleStepHandler |  INFO | Executing step: [IncrementalXmlManager] 2023-07-12 | 12:39:33.497 |\r\n&gt; o.s.b.c.step.AbstractStep | ERROR | Encountered an error executing\r\n&gt; step IncrementalXmlManager in job extracteur\r\n&gt; org.springframework.jdbc.UncategorizedSQLException:\r\n&gt; PreparedStatementCallback; uncategorized SQLException for SQL [INSERT\r\n&gt; INTO BATCH_STEP_EXECUTION_CONTEXT (SHORT_CONTEXT, SERIALIZED_CONTEXT,\r\n&gt; STEP_EXECUTION_ID) VALUES(?, ?, ?)]; SQL state [null]; error code [0];\r\n&gt; Impossible d&#39;ins&#233;rer la valeur NULL dans la colonne\r\n&gt; &#39;STEP_EXECUTION_ID&#39;, table &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;.\r\n&gt; Cette colonne n&#39;accepte pas les valeurs NULL. &#201;chec de INSERT.; nested\r\n&gt; exception is java.sql.BatchUpdateException: Impossible d&#39;ins&#233;rer la\r\n&gt; valeur NULL dans la colonne &#39;STEP_EXECUTION_ID&#39;, table\r\n&gt; &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;. Cette colonne n&#39;accepte pas\r\n&gt; les valeurs NULL. &#201;chec de INSERT. \tat\r\n&gt;org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\r\n&gt; java.sql.BatchUpdateException: Impossible d&#39;ins&#233;rer la valeur NULL\r\n&gt; dans la colonne &#39;STEP_EXECUTION_ID&#39;, table\r\n&gt; &#39;TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT&#39;. Cette colonne n&#39;accepte pas\r\n&gt; les valeurs NULL. &#201;chec de INSERT. \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeBatch(SQLServerPreparedStatement.java:2145)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n&gt; \tat\r\n&gt;org.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1048)\r\n&gt; \tat\r\n&gt; org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n&gt; \t... 127 common frames omitted\r\n\r\nis there is any solution ?\r\n\r\nPS: when i run a SimpleStepBuilder instead of PartitionStepBuilder it works fine and here is my SimpleStepBuilder :\r\n\r\n    @Bean\r\n    @StepScope\r\n      public Step Worker(@Value(&quot;#{jobParameters[&#39;TName&#39;]}&quot;) String name) throws Exception {\r\n            SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;Worker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlReader)\r\n                    .processor(fastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n            return builder.build();\r\n        }\r\n\r\n**READER:** it is located in other class callse &quot;XmlReader&quot;:\r\n\r\n    @Slf4j\r\n    @Import({DataSourceConfiguration.class})\r\n    @Component\r\n    public class XmlReader {\r\n    \tLogger log = LoggerFactory.getLogger(this.getClass());\r\n        @Autowired\r\n        @Qualifier(&quot;T&quot;)\r\n        private DataSource dataSource;    \r\n            @Bean\r\n            @StepScope\r\n            public SynchronizedItemStreamReader&lt;Table&gt;\r\n            oracleXmlIncrementalReader(@Value(&quot;#{jobExecutionContext[&#39;QUERY&#39;]}&quot;) String query,\r\n                                        @Value(&quot;#{stepExecutionContext[&#39;minValue&#39;]}&quot;) Long minValue) throws Exception\r\n            {\r\n            \t\r\n                log.debug(&quot;[minValue - maxValue] : &quot; + minValue);\r\n                log.debug(&quot;[Reader Query] : \\n&quot; + query);\r\n        \r\n                JdbcCursorItemReader&lt;Table&gt; reader = new JdbcCursorItemReader&lt;&gt;();\r\n                reader.setDataSource(dataSource);\r\n                log.debug(String.format(&quot;Le param&#232;tre FETCH_SIZE est %d&quot;, FETCH_SIZE));\r\n                reader.setFetchSize(FETCH_SIZE);\r\n                reader.setConnectionAutoCommit(false);\r\n                reader.setSql(query);\r\n                reader.setRowMapper(new XMLRowMapper());\r\n        \t\treader.setPreparedStatementSetter(preparedStatement -&gt; {\r\n        \t\tpreparedStatement.setLong(1, 1); preparedStatement.setLong(2, minValue); });\r\n        \r\n                SynchronizedItemStreamReader&lt;Table&gt; synchronizedReader = new SynchronizedItemStreamReader&lt;&gt;();\r\n                synchronizedReader.setDelegate(reader);\r\n                synchronizedReader.afterPropertiesSet();\r\n                \r\n                System.err.println(query);\r\n                return synchronizedReader;\r\n            }\r\n\r\n**WRITER:**\r\n\r\n    @Component\r\n    @Import({BIDataSourceConfiguration.class})\r\n    @StepScope\r\n    public class JdbcWriter {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;bi&quot;)\r\n        private DataSource dataSource;\r\n    \r\n        private final Renamer renamer = new Renamer();\r\n    \r\n        @Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;)\r\n        String TableName;\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public JdbcBatchItemWriter&lt;Data&gt; jsonWriter(){\r\n            JdbcBatchItemWriter&lt;Data&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\r\n            writer.setDataSource(dataSource);\r\n            writer.setSql(String.format(&quot;INSERT INTO raw%s (raw_id, raw_data) VALUES (?, ?)&quot;, renamer.biRenamer(this.TableName)));\r\n            writer.setItemPreparedStatementSetter(new TPreparedStatementSetter());\r\n            writer.afterPropertiesSet();\r\n            return writer;\r\n        }\r\n    }\r\n\r\n**PARTITIONER:**\r\n\r\n    public class RowIdPartitioner implements Partitioner\r\n    {\r\n        @Override\r\n        public Map&lt;String, ExecutionContext&gt; partition(int gridSize)\r\n        {\r\n            //ora_hash(rowid, ? 5 gridSize (taskExecutor)) = ? 0 -&gt; 4 (01234)partitioner\r\n            //0 ==&gt; n-1\r\n            int targetSize = gridSize  - 1;\r\n    \r\n            Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\r\n    \r\n            int number = 0;\r\n            int start = 0;\r\n            int end = targetSize - 1;\r\n    \r\n            while (start &lt; gridSize)\r\n            {\r\n                ExecutionContext value = new ExecutionContext();\r\n    \r\n                result.put(&quot;partition&quot; + number, value);\r\n    \r\n                if (end &gt;= gridSize)\r\n                {\r\n                    end = gridSize;\r\n                }\r\n    \r\n                value.putInt(&quot;minValue&quot;, start);\r\n      //          value.putInt(&quot;maxValue&quot;, end);\r\n    \r\n                start += targetSize;\r\n                end += targetSize;\r\n    \r\n                number++;\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\n&gt; EDIT: After the comments and the answer, i edited my code this way but it didn&#39;t resolve the issue \r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class ExtracteurSteps {\r\n    \r\n        @Autowired\r\n        StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Autowired\r\n        ThreadPoolTaskExecutor taskExecutor;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        SynchronizedItemStreamReader&lt;Table&gt;\r\n                oracleXmlIncrementalReader;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public FastXmlProcessor fastXmlProcessor(){\r\n            return new FastXmlProcessor();\r\n        }\r\n    \r\n    \r\n    \r\n        @Bean\r\n        @StepScope\r\n        public Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String name) throws Exception {\r\n        \tSimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlIncrementalReader)\r\n                    .processor(fastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n            return builder.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table) throws Exception {\r\n            return stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\r\n                    .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler())\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @StepScope\r\n        public RowIdPartitioner partitioner() {\r\n            return new RowIdPartitioner();\r\n        }\r\n        \r\n        @Bean\r\n        public PartitionHandler XMLIncrementalPartitionHandler() throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(IncrementalWorker(null));\r\n            handler.setTaskExecutor(taskExecutor);\r\n            try {\r\n                handler.afterPropertiesSet();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return handler;\r\n        }\r\n    \r\n    }\r\n\r\n&gt; EDIT:\r\nI tried the solution described below:\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class ExtracteurSteps {\r\n    \r\n    \t@Autowired\r\n        StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Autowired\r\n        ThreadPoolTaskExecutor taskExecutor;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        SynchronizedItemStreamReader&lt;Table&gt;\r\n                oracleXmlIncrementalReader;\r\n    \r\n        @Autowired\r\n        @StepScope\r\n        JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public FastXmlProcessor fastXmlProcessor(){\r\n            return new FastXmlProcessor();\r\n        }\r\n    \r\n    \r\n    \r\n        @Bean\r\n        @StepScope\r\n        public Step IncrementalWorker(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String name) throws Exception {\r\n        \tSimpleStepBuilder&lt;Table, Data&gt; builder = this.stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\r\n                    .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\r\n                    .reader(oracleXmlIncrementalReader)\r\n                    .processor(fastXmlProcessor())\r\n                    .writer(jsonWriter);\r\n            return builder.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\r\n            return this.stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\r\n                    .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler(step))\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public RowIdPartitioner partitioner() {\r\n            return new RowIdPartitioner();\r\n        }\r\n        \r\n        @Bean\r\n        public PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(step);\r\n            handler.setTaskExecutor(taskExecutor);\r\n            handler.afterPropertiesSet();\r\n    \r\n            return handler;\r\n        }\r\n    \r\n    }\r\n\r\nand it showed me this error:\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-07-14 | 09:47:17.132 | ngFailureAnalysisReporter | ERROR | \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:\r\n    Action:\r\n    Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nSo, I added `@Qualifier(&quot;IncrementalWorker&quot;)` to `XMLIncrementalPartitionHandler` and I get back again to the very same error with the same stuck\r\n\r\n&gt; EDIT:\r\nI modified the code this way:\r\n\r\n    @Bean\r\n        @JobScope\r\n        public Step IncrementalXmlManager(@Value(&quot;#{jobParameters[&#39;T_Selection_Name&#39;]}&quot;) String table, StepLocator stepLocator) throws Exception {\r\n            return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\r\n                    .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\r\n                    .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public RowIdPartitioner partitioner() {\r\n            return new RowIdPartitioner();\r\n        }\r\n        \r\n        @Bean\r\n        public PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\r\n            TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\r\n            handler.setGridSize(GRID_SIZE);\r\n            handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\r\n            handler.setTaskExecutor(taskExecutor);\r\n            handler.afterPropertiesSet();\r\n            return handler;\r\n        }\r\n\r\nwhich generated a new error:\r\n\r\n&gt; Error starting ApplicationContext. To display the conditions report\r\n&gt; re-run your application with &#39;debug&#39; enabled. 2023-07-14 |\r\n&gt; 11:22:25.396 | o.s.b.SpringApplication   | ERROR | Application run\r\n&gt; failed org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;XMLIncrementalPartitionHandler&#39; defined in\r\n&gt; class path resource [/Extracteur/Step/ExtracteurSteps.class]: Bean\r\n&gt; instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate\r\n&gt; [org.springframework.batch.core.partition.PartitionHandler]: Factory\r\n&gt; method &#39;XMLIncrementalPartitionHandler&#39; threw exception; nested\r\n&gt; exception is\r\n&gt; org.springframework.beans.factory.support.ScopeNotActiveException:\r\n&gt; Error creating bean with name &#39;scopedTarget.TDate&#39;: Scope &#39;job&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No context holder\r\n&gt; available for job scope \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\r\n&gt; \tat ExtractorApplication.main(ExtractorApplication.java:30) Caused by:\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate\r\n&gt; [org.springframework.batch.core.partition.PartitionHandler]: Factory\r\n&gt; method &#39;XMLIncrementalPartitionHandler&#39; threw exception; nested\r\n&gt; exception is\r\n&gt; org.springframework.beans.factory.support.ScopeNotActiveException:\r\n&gt; Error creating bean with name &#39;scopedTarget.TDate&#39;: Scope &#39;job&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No context holder\r\n&gt; available for job scope \tat\r\n&gt; org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n&gt; \t... 19 common frames omitted Caused by:\r\n&gt; org.springframework.beans.factory.support.ScopeNotActiveException:\r\n&gt; Error creating bean with name &#39;scopedTarget.TDate&#39;: Scope &#39;job&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No context holder\r\n&gt; available for job scope \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n&gt; \tat\r\n&gt; org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\r\n&gt; \tat jdk.proxy2/jdk.proxy2.$Proxy131.getName(Unknown Source) \tat\r\n&gt; org.springframework.batch.core.job.SimpleJob.getStep(SimpleJob.java:109)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps.XMLIncrementalPartitionHandler(ExtracteurSteps.java:87)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.CGLIB$XMLIncrementalPartitionHandler$0(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892$$FastClassBySpringCGLIB$$284d2b1e.invoke(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n&gt; \tat\r\n&gt; org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n&gt; \tat\r\n&gt; Extracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.XMLIncrementalPartitionHandler(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n&gt; \t... 20 common frames omitted Caused by:\r\n&gt; java.lang.IllegalStateException: No context holder available for job\r\n&gt; scope \tat\r\n&gt; org.springframework.batch.core.scope.JobScope.getContext(JobScope.java:159)\r\n&gt; \tat\r\n&gt; org.springframework.batch.core.scope.JobScope.get(JobScope.java:92)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n&gt; \t... 36 common frames omitted\r\n\r\n**PS: TDate is the first step in my job**","title":"Spring Batch error: Impossible to insert NULL value in column &#39;STEP_EXECUTION_ID&#39;, table &#39;BATCH_STEP_EXECUTION_CONTEXT&#39;","body":"<p>I have this partition step:</p>\n<pre><code>@Bean\n@JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['TName']}&quot;) String table) throws Exception {\n        return stepBuilderFactory.get(table)\n                .partitioner(&quot;IncrementalWorker&quot;, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler())\n                .build();\n    }\n</code></pre>\n<p>and this is the Handler:</p>\n<pre><code>@Bean\n    @StepScope\n    public PartitionHandler XMLIncrementalPartitionHandler(String table) throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(IncrementalWorker(table));\n        handler.setTaskExecutor(taskExecutor);\n        try {\n            handler.afterPropertiesSet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return handler;\n    }\n</code></pre>\n<p>and this is the slave step:</p>\n<pre><code>@Bean\n    @StepScope\n    public Step IncrementalWorker(@Value(&quot;#{jobParameters['TName']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlIncrementalReader)\n                .processor(new FastXmlProcessor())\n                .writer(jsonWriter);\n\n        return builder.build();\n    }\n</code></pre>\n<p>but i always have this error:\n<strong>java.sql.BatchUpdateException: Impossible to insert NULL value in column 'STEP_EXECUTION_ID', table 'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'. This column does not accept NULL values. INSERT failed.</strong></p>\n<p>Here is the whole stuck trace:</p>\n<blockquote>\n<p>2023-07-12 | 12:39:33.305 | s.b.c.j.SimpleStepHandler |  INFO | Executing step: [IncrementalXmlManager] 2023-07-12 | 12:39:33.497 |\no.s.b.c.step.AbstractStep | ERROR | Encountered an error executing\nstep IncrementalXmlManager in job extracteur\norg.springframework.jdbc.UncategorizedSQLException:\nPreparedStatementCallback; uncategorized SQLException for SQL [INSERT\nINTO BATCH_STEP_EXECUTION_CONTEXT (SHORT_CONTEXT, SERIALIZED_CONTEXT,\nSTEP_EXECUTION_ID) VALUES(?, ?, ?)]; SQL state [null]; error code [0];\nImpossible d'insérer la valeur NULL dans la colonne\n'STEP_EXECUTION_ID', table 'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'.\nCette colonne n'accepte pas les valeurs NULL. Échec de INSERT.; nested\nexception is java.sql.BatchUpdateException: Impossible d'insérer la\nvaleur NULL dans la colonne 'STEP_EXECUTION_ID', table\n'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'. Cette colonne n'accepte pas\nles valeurs NULL. Échec de INSERT.    at\norg.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\nat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\njava.sql.BatchUpdateException: Impossible d'insérer la valeur NULL\ndans la colonne 'STEP_EXECUTION_ID', table\n'TESTFT.dbo.BATCH_STEP_EXECUTION_CONTEXT'. Cette colonne n'accepte pas\nles valeurs NULL. Échec de INSERT.    at\ncom.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeBatch(SQLServerPreparedStatement.java:2145)\nat\ncom.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127)\nat\ncom.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\nat\norg.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1048)\nat\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n... 127 common frames omitted</p>\n</blockquote>\n<p>is there is any solution ?</p>\n<p>PS: when i run a SimpleStepBuilder instead of PartitionStepBuilder it works fine and here is my SimpleStepBuilder :</p>\n<pre><code>@Bean\n@StepScope\n  public Step Worker(@Value(&quot;#{jobParameters['TName']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;Worker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlReader)\n                .processor(fastXmlProcessor())\n                .writer(jsonWriter);\n        return builder.build();\n    }\n</code></pre>\n<p><strong>READER:</strong> it is located in other class callse &quot;XmlReader&quot;:</p>\n<pre><code>@Slf4j\n@Import({DataSourceConfiguration.class})\n@Component\npublic class XmlReader {\n    Logger log = LoggerFactory.getLogger(this.getClass());\n    @Autowired\n    @Qualifier(&quot;T&quot;)\n    private DataSource dataSource;    \n        @Bean\n        @StepScope\n        public SynchronizedItemStreamReader&lt;Table&gt;\n        oracleXmlIncrementalReader(@Value(&quot;#{jobExecutionContext['QUERY']}&quot;) String query,\n                                    @Value(&quot;#{stepExecutionContext['minValue']}&quot;) Long minValue) throws Exception\n        {\n            \n            log.debug(&quot;[minValue - maxValue] : &quot; + minValue);\n            log.debug(&quot;[Reader Query] : \\n&quot; + query);\n    \n            JdbcCursorItemReader&lt;Table&gt; reader = new JdbcCursorItemReader&lt;&gt;();\n            reader.setDataSource(dataSource);\n            log.debug(String.format(&quot;Le paramètre FETCH_SIZE est %d&quot;, FETCH_SIZE));\n            reader.setFetchSize(FETCH_SIZE);\n            reader.setConnectionAutoCommit(false);\n            reader.setSql(query);\n            reader.setRowMapper(new XMLRowMapper());\n            reader.setPreparedStatementSetter(preparedStatement -&gt; {\n            preparedStatement.setLong(1, 1); preparedStatement.setLong(2, minValue); });\n    \n            SynchronizedItemStreamReader&lt;Table&gt; synchronizedReader = new SynchronizedItemStreamReader&lt;&gt;();\n            synchronizedReader.setDelegate(reader);\n            synchronizedReader.afterPropertiesSet();\n            \n            System.err.println(query);\n            return synchronizedReader;\n        }\n</code></pre>\n<p><strong>WRITER:</strong></p>\n<pre><code>@Component\n@Import({BIDataSourceConfiguration.class})\n@StepScope\npublic class JdbcWriter {\n\n    @Autowired\n    @Qualifier(&quot;bi&quot;)\n    private DataSource dataSource;\n\n    private final Renamer renamer = new Renamer();\n\n    @Value(&quot;#{jobParameters['T_Selection_Name']}&quot;)\n    String TableName;\n\n    @Bean\n    @StepScope\n    public JdbcBatchItemWriter&lt;Data&gt; jsonWriter(){\n        JdbcBatchItemWriter&lt;Data&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\n        writer.setDataSource(dataSource);\n        writer.setSql(String.format(&quot;INSERT INTO raw%s (raw_id, raw_data) VALUES (?, ?)&quot;, renamer.biRenamer(this.TableName)));\n        writer.setItemPreparedStatementSetter(new TPreparedStatementSetter());\n        writer.afterPropertiesSet();\n        return writer;\n    }\n}\n</code></pre>\n<p><strong>PARTITIONER:</strong></p>\n<pre><code>public class RowIdPartitioner implements Partitioner\n{\n    @Override\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize)\n    {\n        //ora_hash(rowid, ? 5 gridSize (taskExecutor)) = ? 0 -&gt; 4 (01234)partitioner\n        //0 ==&gt; n-1\n        int targetSize = gridSize  - 1;\n\n        Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\n\n        int number = 0;\n        int start = 0;\n        int end = targetSize - 1;\n\n        while (start &lt; gridSize)\n        {\n            ExecutionContext value = new ExecutionContext();\n\n            result.put(&quot;partition&quot; + number, value);\n\n            if (end &gt;= gridSize)\n            {\n                end = gridSize;\n            }\n\n            value.putInt(&quot;minValue&quot;, start);\n  //          value.putInt(&quot;maxValue&quot;, end);\n\n            start += targetSize;\n            end += targetSize;\n\n            number++;\n        }\n        return result;\n    }\n}\n</code></pre>\n<blockquote>\n<p>EDIT: After the comments and the answer, i edited my code this way but it didn't resolve the issue</p>\n</blockquote>\n<pre><code>@Configuration\n@Slf4j\npublic class ExtracteurSteps {\n\n    @Autowired\n    StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    ThreadPoolTaskExecutor taskExecutor;\n\n    @Autowired\n    @StepScope\n    SynchronizedItemStreamReader&lt;Table&gt;\n            oracleXmlIncrementalReader;\n\n    @Autowired\n    @StepScope\n    JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\n\n    @Bean\n    @StepScope\n    public FastXmlProcessor fastXmlProcessor(){\n        return new FastXmlProcessor();\n    }\n\n\n\n    @Bean\n    @StepScope\n    public Step IncrementalWorker(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlIncrementalReader)\n                .processor(fastXmlProcessor())\n                .writer(jsonWriter);\n        return builder.build();\n    }\n\n\n    @Bean\n    @JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table) throws Exception {\n        return stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\n                .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler())\n                .build();\n    }\n\n\n    @Bean\n    @StepScope\n    public RowIdPartitioner partitioner() {\n        return new RowIdPartitioner();\n    }\n    \n    @Bean\n    public PartitionHandler XMLIncrementalPartitionHandler() throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(IncrementalWorker(null));\n        handler.setTaskExecutor(taskExecutor);\n        try {\n            handler.afterPropertiesSet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return handler;\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>EDIT:\nI tried the solution described below:</p>\n</blockquote>\n<pre><code>@Configuration\n@Slf4j\npublic class ExtracteurSteps {\n\n    @Autowired\n    StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    ThreadPoolTaskExecutor taskExecutor;\n\n    @Autowired\n    @StepScope\n    SynchronizedItemStreamReader&lt;Table&gt;\n            oracleXmlIncrementalReader;\n\n    @Autowired\n    @StepScope\n    JdbcBatchItemWriter&lt;Data&gt; jsonWriter;\n\n    @Bean\n    @StepScope\n    public FastXmlProcessor fastXmlProcessor(){\n        return new FastXmlProcessor();\n    }\n\n\n\n    @Bean\n    @StepScope\n    public Step IncrementalWorker(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String name) throws Exception {\n        SimpleStepBuilder&lt;Table, Data&gt; builder = this.stepBuilderFactory.get(&quot;IncrementalWorker &quot; + name)\n                .&lt;Table, Data&gt;chunk(CHUNK_SIZE)\n                .reader(oracleXmlIncrementalReader)\n                .processor(fastXmlProcessor())\n                .writer(jsonWriter);\n        return builder.build();\n    }\n\n\n    @Bean\n    @JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, @Qualifier(&quot;IncrementalWorker&quot;) Step step) throws Exception {\n        return this.stepBuilderFactory.get(&quot;IncrementalXmlManager &quot; + table)\n                .partitioner(&quot;IncrementalWorker &quot; + table, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler(step))\n                .build();\n    }\n\n    @Bean\n    public RowIdPartitioner partitioner() {\n        return new RowIdPartitioner();\n    }\n    \n    @Bean\n    public PartitionHandler XMLIncrementalPartitionHandler(Step step) throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(step);\n        handler.setTaskExecutor(taskExecutor);\n        handler.afterPropertiesSet();\n\n        return handler;\n    }\n\n}\n</code></pre>\n<p>and it showed me this error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-07-14 | 09:47:17.132 | ngFailureAnalysisReporter | ERROR | \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method XMLIncrementalPartitionHandler in ExtracteurSteps required a single bean, but 9 were found:\nAction:\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n<p>So, I added <code>@Qualifier(&quot;IncrementalWorker&quot;)</code> to <code>XMLIncrementalPartitionHandler</code> and I get back again to the very same error with the same stuck</p>\n<blockquote>\n<p>EDIT:\nI modified the code this way:</p>\n</blockquote>\n<pre><code>@Bean\n    @JobScope\n    public Step IncrementalXmlManager(@Value(&quot;#{jobParameters['T_Selection_Name']}&quot;) String table, StepLocator stepLocator) throws Exception {\n        return this.stepBuilderFactory.get(&quot;IncrementalXmlManager-&quot; + table)\n                .partitioner(&quot;IncrementalWorker-&quot; + table, partitioner())\n                .partitionHandler(XMLIncrementalPartitionHandler(stepLocator))\n                .build();\n    }\n\n\n    @Bean\n    public RowIdPartitioner partitioner() {\n        return new RowIdPartitioner();\n    }\n    \n    @Bean\n    public PartitionHandler XMLIncrementalPartitionHandler(StepLocator stepLocator) throws Exception {\n        TaskExecutorPartitionHandler handler = new TaskExecutorPartitionHandler();\n        handler.setGridSize(GRID_SIZE);\n        handler.setStep(stepLocator.getStep(&quot;IncrementalWorker&quot;));  // change this to match the name of the step\n        handler.setTaskExecutor(taskExecutor);\n        handler.afterPropertiesSet();\n        return handler;\n    }\n</code></pre>\n<p>which generated a new error:</p>\n<blockquote>\n<p>Error starting ApplicationContext. To display the conditions report\nre-run your application with 'debug' enabled. 2023-07-14 |\n11:22:25.396 | o.s.b.SpringApplication   | ERROR | Application run\nfailed org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'XMLIncrementalPartitionHandler' defined in\nclass path resource [/Extracteur/Step/ExtracteurSteps.class]: Bean\ninstantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate\n[org.springframework.batch.core.partition.PartitionHandler]: Factory\nmethod 'XMLIncrementalPartitionHandler' threw exception; nested\nexception is\norg.springframework.beans.factory.support.ScopeNotActiveException:\nError creating bean with name 'scopedTarget.TDate': Scope 'job' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No context holder\navailable for job scope   at\norg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\nat\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\nat\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nat\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\nat\norg.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\nat\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:338)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\nat ExtractorApplication.main(ExtractorApplication.java:30) Caused by:\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate\n[org.springframework.batch.core.partition.PartitionHandler]: Factory\nmethod 'XMLIncrementalPartitionHandler' threw exception; nested\nexception is\norg.springframework.beans.factory.support.ScopeNotActiveException:\nError creating bean with name 'scopedTarget.TDate': Scope 'job' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No context holder\navailable for job scope   at\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nat\norg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n... 19 common frames omitted Caused by:\norg.springframework.beans.factory.support.ScopeNotActiveException:\nError creating bean with name 'scopedTarget.TDate': Scope 'job' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No context holder\navailable for job scope   at\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat\norg.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\nat\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\nat jdk.proxy2/jdk.proxy2.$Proxy131.getName(Unknown Source)  at\norg.springframework.batch.core.job.SimpleJob.getStep(SimpleJob.java:109)\nat\nExtracteur.Step.ExtracteurSteps.XMLIncrementalPartitionHandler(ExtracteurSteps.java:87)\nat\nExtracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.CGLIB$XMLIncrementalPartitionHandler$0()\nat\nExtracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892$$FastClassBySpringCGLIB$$284d2b1e.invoke()\nat\norg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\nat\norg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\nat\nExtracteur.Step.ExtracteurSteps$$EnhancerBySpringCGLIB$$87903892.XMLIncrementalPartitionHandler()\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 20 common frames omitted Caused by:\njava.lang.IllegalStateException: No context holder available for job\nscope     at\norg.springframework.batch.core.scope.JobScope.getContext(JobScope.java:159)\nat\norg.springframework.batch.core.scope.JobScope.get(JobScope.java:92)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n... 36 common frames omitted</p>\n</blockquote>\n<p><strong>PS: TDate is the first step in my job</strong></p>\n"},{"tags":["java","intellij-idea","kotlin"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1576235129,"post_id":59319051,"comment_id":104842466,"body_markdown":"Do you have JDK configured for project/module in &quot;Project Structure&quot;?","body":"Do you have JDK configured for project/module in &quot;Project Structure&quot;?"},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576235710,"post_id":59319051,"comment_id":104842727,"body_markdown":"hmm. i see no misconfiguration here: \nhttps://imgur.com/JJ3be9q.png , https://imgur.com/SNJ4yuJ.png","body":"hmm. i see no misconfiguration here:  <a href=\"https://imgur.com/JJ3be9q.png\" rel=\"nofollow noreferrer\">imgur.com/JJ3be9q.png</a> , <a href=\"https://imgur.com/SNJ4yuJ.png\" rel=\"nofollow noreferrer\">imgur.com/SNJ4yuJ.png</a>"},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576241434,"post_id":59319051,"comment_id":104845552,"body_markdown":"and in https://imgur.com/yvth5Ik.png i dont see misconfiguration","body":"and in <a href=\"https://imgur.com/yvth5Ik.png\" rel=\"nofollow noreferrer\">imgur.com/yvth5Ik.png</a> i dont see misconfiguration"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":2,"creation_date":1576487675,"post_id":59319051,"comment_id":104901984,"body_markdown":"Looks like classpath for JDK 11 is empty. Please try to recreate JDK item in IDE.","body":"Looks like classpath for JDK 11 is empty. Please try to recreate JDK item in IDE."},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576741531,"post_id":59319051,"comment_id":104998587,"body_markdown":"yes it tells: `undefined path variables: scope is undefined. Fix it. CLASS` https://imgur.com/ChoIuqg.png","body":"yes it tells: <code>undefined path variables: scope is undefined. Fix it. CLASS</code> <a href=\"https://imgur.com/ChoIuqg.png\" rel=\"nofollow noreferrer\">imgur.com/ChoIuqg.png</a>"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1576746423,"post_id":59319051,"comment_id":105000698,"body_markdown":"Does it help to remove this variable?","body":"Does it help to remove this variable?"},{"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"score":0,"creation_date":1576843590,"post_id":59319051,"comment_id":105036057,"body_markdown":"@y.bedrov it solves the problem :-)","body":"@y.bedrov it solves the problem :-)"}],"answers":[{"tags":[],"owner":{"account_id":2593482,"reputation":609,"user_id":2247626,"accept_rate":80,"display_name":"PavelPraulov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1689528867,"creation_date":1583143607,"answer_id":60486517,"question_id":59319051,"body_markdown":"I had the same problem, the @y.bedrov&#39;s suggestion helps me.\r\n\r\nThe issue is that the `Classpath` is empty (under `Project Structure` -&gt; `Platform Settings` -&gt; `SDKs` -&gt; `&lt;choose active SDK&gt;` -&gt; `Classpath`)\r\n\r\nTo fix this, you can recreate the SDK:\r\n\r\n1. `Project Structure` -&gt; `Platform SDKs` -&gt; `&lt;choose active SDK&gt;` -&gt; `&quot;-&quot;`\r\n2. `Project Structure` -&gt; `Platform SDKs` -&gt; `&quot;+&quot;` -&gt; `&lt;choose target SDK location&gt;`","title":"Kotlin: Unresolved reference: java","body":"<p>I had the same problem, the @y.bedrov's suggestion helps me.</p>\n<p>The issue is that the <code>Classpath</code> is empty (under <code>Project Structure</code> -&gt; <code>Platform Settings</code> -&gt; <code>SDKs</code> -&gt; <code>&lt;choose active SDK&gt;</code> -&gt; <code>Classpath</code>)</p>\n<p>To fix this, you can recreate the SDK:</p>\n<ol>\n<li><code>Project Structure</code> -&gt; <code>Platform SDKs</code> -&gt; <code>&lt;choose active SDK&gt;</code> -&gt; <code>&quot;-&quot;</code></li>\n<li><code>Project Structure</code> -&gt; <code>Platform SDKs</code> -&gt; <code>&quot;+&quot;</code> -&gt; <code>&lt;choose target SDK location&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8341024,"reputation":1015,"user_id":6266336,"accept_rate":38,"display_name":"Diana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659628026,"creation_date":1659628026,"answer_id":73238785,"question_id":59319051,"body_markdown":"This was definitely some IntelliJ peoblem for me. I could solve the issue by stupidly deleting the &quot;problematic&quot; class and creating it again:\r\n\r\n- Delete class and imports that refer to it in project\r\n- Create the same class and adding imports\r\n\r\nWhat generally people also suggest when having similar problem (but didn&#39;t help in my case):\r\n\r\n- Restart IDE (File -&gt; Invalidate caches... )\r\n- Check Platform SDKs as mentioned in another answer here\r\n- IntelliJ -&gt; PReferances -&gt; Build, Execution, Deployment -&gt; Make sure that `Kotlin Compiler` and `Java Compiler` match in versions.\r\n\r\n","title":"Kotlin: Unresolved reference: java","body":"<p>This was definitely some IntelliJ peoblem for me. I could solve the issue by stupidly deleting the &quot;problematic&quot; class and creating it again:</p>\n<ul>\n<li>Delete class and imports that refer to it in project</li>\n<li>Create the same class and adding imports</li>\n</ul>\n<p>What generally people also suggest when having similar problem (but didn't help in my case):</p>\n<ul>\n<li>Restart IDE (File -&gt; Invalidate caches... )</li>\n<li>Check Platform SDKs as mentioned in another answer here</li>\n<li>IntelliJ -&gt; PReferances -&gt; Build, Execution, Deployment -&gt; Make sure that <code>Kotlin Compiler</code> and <code>Java Compiler</code> match in versions.</li>\n</ul>\n"}],"owner":{"account_id":3452326,"reputation":2387,"user_id":2891692,"accept_rate":29,"display_name":"SL5net"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15332,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60486517,"answer_count":2,"score":3,"last_activity_date":1689528867,"creation_date":1576227179,"question_id":59319051,"body_markdown":"I surprised, because i was able to checkout and run a Kotlin project from Github without this error, and now  get get this Java-Error\r\n\r\n[![Unresolved reference: java][1]][1]\r\n\r\nI using \r\n\r\n - kotlinc-jvm 1.3.60 (JRE 11.0.4+10-b520.11), \r\n - IDEA 2019.3, \r\n - Kernel: 5.3.15-1-MANJARO x86_64 bits: 64 compiler: gcc \r\nv: 9.2.0 Desktop: Xfce 4.14.1 Distro: Manjaro Linux \r\n\r\n\r\ni tried hit Alt+Enter. IDE manual says: &quot;Alt+Enter: Show intention actions and quick-fixes.&quot;\r\n\r\nThis is my File-Name:\r\n\r\n    /home/me/IdeaProjects/KeyEvent-Reader-Demo/src/Test.kt\r\n\r\nSame Error i found here: https://discuss.kotlinlang.org/t/kotlin-unresolved-reference-java/6734\r\n\r\n  [1]: https://i.stack.imgur.com/fb7uy.png\r\n","title":"Kotlin: Unresolved reference: java","body":"<p>I surprised, because i was able to checkout and run a Kotlin project from Github without this error, and now  get get this Java-Error</p>\n\n<p><a href=\"https://i.stack.imgur.com/fb7uy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fb7uy.png\" alt=\"Unresolved reference: java\"></a></p>\n\n<p>I using </p>\n\n<ul>\n<li>kotlinc-jvm 1.3.60 (JRE 11.0.4+10-b520.11), </li>\n<li>IDEA 2019.3, </li>\n<li>Kernel: 5.3.15-1-MANJARO x86_64 bits: 64 compiler: gcc \nv: 9.2.0 Desktop: Xfce 4.14.1 Distro: Manjaro Linux </li>\n</ul>\n\n<p>i tried hit Alt+Enter. IDE manual says: \"Alt+Enter: Show intention actions and quick-fixes.\"</p>\n\n<p>This is my File-Name:</p>\n\n<pre><code>/home/me/IdeaProjects/KeyEvent-Reader-Demo/src/Test.kt\n</code></pre>\n\n<p>Same Error i found here: <a href=\"https://discuss.kotlinlang.org/t/kotlin-unresolved-reference-java/6734\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/kotlin-unresolved-reference-java/6734</a></p>\n"},{"tags":["java","spring","maven","spring-boot","maven-3"],"comments":[{"owner":{"account_id":1406312,"reputation":1340,"user_id":1333931,"accept_rate":75,"display_name":"wbk"},"score":0,"creation_date":1458902148,"post_id":36217949,"comment_id":60068131,"body_markdown":"Exact solution in my case was to call: `mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787  -Dserver.port=9090 -Dpath.to.config.dir=/var/data/my/config/dir&quot; `","body":"Exact solution in my case was to call: <code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787  -Dserver.port=9090 -Dpath.to.config.dir=&#47;var&#47;data&#47;my&#47;config&#47;dir&quot; </code>"},{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":1,"creation_date":1510136564,"post_id":36217949,"comment_id":81303232,"body_markdown":"Link not working...","body":"Link not working..."}],"answers":[{"tags":[],"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1600777790,"creation_date":1458901300,"answer_id":36218096,"question_id":36217949,"body_markdown":"The behavior and the change you notice is happening because you started using the [`jvmArguments`](http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#jvmArguments) option:\r\n&gt; JVM arguments that should be associated with the forked process used to run the application. On command line, make sure to wrap multiple values between quotes.\r\n\r\nBy default, when using it, the Spring Boot Maven plugin will also fork its execution, as described by the [`fork`](http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#fork) option:\r\n&gt; Flag to indicate if the run processes should be forked. By default process forking is only used if an agent or `jvmArguments` are specified.\r\n\r\nHence, the usage of `jvmArguments` also activated the fork mode of the plugin execution. By forking, you are actually not picking up the others `-D` arguments passed from command line.\r\n\r\n**Solution**: if you want to use the `jvmArguments`, then pass all of the required arguments to it.\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787 -Dserver.port=9090 -Dpath.to.config.dir=/var/data/my/config/dir&quot;\r\n\r\n**-- Edit 22/09/2020**\r\nCheck also the other answer from @Stephane to complent this answer (prefix of parameters)","title":"Maven spring boot run debug with arguments","body":"<p>The behavior and the change you notice is happening because you started using the <a href=\"http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#jvmArguments\" rel=\"noreferrer\"><code>jvmArguments</code></a> option:</p>\n<blockquote>\n<p>JVM arguments that should be associated with the forked process used to run the application. On command line, make sure to wrap multiple values between quotes.</p>\n</blockquote>\n<p>By default, when using it, the Spring Boot Maven plugin will also fork its execution, as described by the <a href=\"http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/maven-plugin/run-mojo.html#fork\" rel=\"noreferrer\"><code>fork</code></a> option:</p>\n<blockquote>\n<p>Flag to indicate if the run processes should be forked. By default process forking is only used if an agent or <code>jvmArguments</code> are specified.</p>\n</blockquote>\n<p>Hence, the usage of <code>jvmArguments</code> also activated the fork mode of the plugin execution. By forking, you are actually not picking up the others <code>-D</code> arguments passed from command line.</p>\n<p><strong>Solution</strong>: if you want to use the <code>jvmArguments</code>, then pass all of the required arguments to it.</p>\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787 -Dserver.port=9090 -Dpath.to.config.dir=/var/data/my/config/dir&quot;\n</code></pre>\n<p><strong>-- Edit 22/09/2020</strong>\nCheck also the other answer from @Stephane to complent this answer (prefix of parameters)</p>\n"},{"tags":[],"owner":{"account_id":289976,"reputation":1654,"user_id":591254,"display_name":"jalogar"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1689527901,"creation_date":1528106136,"answer_id":50677882,"question_id":36217949,"body_markdown":"Notice that from `Spring Boot` **2.0.2** names have changed. For more details check out:\r\n\r\n* [Spring Boot Maven Plugin - spring-boot:run](https://docs.spring.io/spring-boot/docs/2.0.2.RELEASE/maven-plugin/run-mojo.html)\r\n\r\nTherefore:\r\n\r\n* **run.jvmArguments** -&gt; `spring-boot.run.jvmArguments`\r\n* **run.arguments** -&gt; `spring-boot.run.arguments`\r\n\r\n\r\n\r\n","title":"Maven spring boot run debug with arguments","body":"<p>Notice that from <code>Spring Boot</code> <strong>2.0.2</strong> names have changed. For more details check out:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.0.2.RELEASE/maven-plugin/run-mojo.html\" rel=\"nofollow noreferrer\">Spring Boot Maven Plugin - spring-boot:run</a></li>\n</ul>\n<p>Therefore:</p>\n<ul>\n<li><strong>run.jvmArguments</strong> -&gt; <code>spring-boot.run.jvmArguments</code></li>\n<li><strong>run.arguments</strong> -&gt; <code>spring-boot.run.arguments</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1689528328,"creation_date":1532505586,"answer_id":51513723,"question_id":36217949,"body_markdown":"The parameter name has to be prefixed with `spring-boot.` as in `-Dspring-boot.run.jvmArgument`\r\n\r\nThe _Spring Boot Reference Documentation_, in the [Debug the Application][1] section, provided me the solution as I&#39;m running `Spring Boot 2.0.3`\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005&quot;\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run-example-debug\r\n","title":"Maven spring boot run debug with arguments","body":"<p>The parameter name has to be prefixed with <code>spring-boot.</code> as in <code>-Dspring-boot.run.jvmArgument</code></p>\n<p>The <em>Spring Boot Reference Documentation</em>, in the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run-example-debug\" rel=\"noreferrer\">Debug the Application</a> section, provided me the solution as I'm running <code>Spring Boot 2.0.3</code></p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621414301,"creation_date":1621414301,"answer_id":67599937,"question_id":36217949,"body_markdown":"One more issue is there. If pom.xml defines jvmArguments then command line arguments are ignored \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xmx2048m -XX:NativeMemoryTracking=summary --enable-preview&lt;/jvmArguments&gt;\r\n            &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIf I would like to add debug properties to one of launchers \r\n\r\n`-Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8282&quot;`\r\n\r\nIt is not gonna work.","title":"Maven spring boot run debug with arguments","body":"<p>One more issue is there. If pom.xml defines jvmArguments then command line arguments are ignored</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;jvmArguments&gt;-Xmx2048m -XX:NativeMemoryTracking=summary --enable-preview&lt;/jvmArguments&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If I would like to add debug properties to one of launchers</p>\n<p><code>-Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8282&quot;</code></p>\n<p>It is not gonna work.</p>\n"},{"tags":[],"owner":{"account_id":4309289,"reputation":51,"user_id":3520854,"display_name":"dannybastos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623087746,"creation_date":1623087746,"answer_id":67876379,"question_id":36217949,"body_markdown":"Following [redhat documentation][1] ..\r\n\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=$PORT_NUMBER&quot;\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/en-us/red_hat_support_for_spring_boot/2.1/html/spring_boot_2.1.x_runtime_guide/debugging-springboot-based-application_spring-boot","title":"Maven spring boot run debug with arguments","body":"<p>Following <a href=\"https://access.redhat.com/documentation/en-us/red_hat_support_for_spring_boot/2.1/html/spring_boot_2.1.x_runtime_guide/debugging-springboot-based-application_spring-boot\" rel=\"nofollow noreferrer\">redhat documentation</a> ..</p>\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=$PORT_NUMBER&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7371292,"reputation":1906,"user_id":5611377,"accept_rate":100,"display_name":"ssimm"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1624283873,"creation_date":1624283212,"answer_id":68069089,"question_id":36217949,"body_markdown":"Override spring-boot properties from Maven command line using Powershell:\r\n\r\n - Spring Boot 2.4.4\r\n - Maven 3.6.3\r\n - Powershell Windows 10\r\n\r\nThis worked for me:\r\n\r\n    mvn spring-boot:run  -D&quot;spring-boot.run.jvmArguments&quot;=&quot;-Dimport.dataset.list=importpb&quot;\r\n\r\n","title":"Maven spring boot run debug with arguments","body":"<p>Override spring-boot properties from Maven command line using Powershell:</p>\n<ul>\n<li>Spring Boot 2.4.4</li>\n<li>Maven 3.6.3</li>\n<li>Powershell Windows 10</li>\n</ul>\n<p>This worked for me:</p>\n<pre><code>mvn spring-boot:run  -D&quot;spring-boot.run.jvmArguments&quot;=&quot;-Dimport.dataset.list=importpb&quot;\n</code></pre>\n"}],"owner":{"account_id":1406312,"reputation":1340,"user_id":1333931,"accept_rate":75,"display_name":"wbk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145507,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":36218096,"answer_count":6,"score":82,"last_activity_date":1689528328,"creation_date":1458900747,"question_id":36217949,"body_markdown":"Usually I&#39;m running my Spring Boot application with command:\r\n\r\n    mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\r\n       -Dpath.to.config.dir=/var/data/my/config/dir\r\n\r\nI want to set custom port to debug, so I can connect from eclipse. When I add arguments from example [Spring Boot Maven Plugin](https://docs.spring.io/spring-boot/docs/1.1.2.RELEASE/maven-plugin/examples/run-debug.html)\r\n\r\n    mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\r\n       -Dpath.to.config.dir=/var/data/my/config/dir \\\r\n       -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787&quot;\r\n\r\nit works but other arguments like `server.port` or `path.to.config.dir` are no longer recognized and I get exception like:\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed\r\n    to parse configuration class [com.my.app.Controller]; nested exception\r\n    is java.lang.IllegalArgumentException: Could not resolve placeholder\r\n    &#39;path.to.config.dir&#39; in string value\r\n    file:///${path.to.config.dir}/some.properties&quot;\r\n\r\n**Question**: How I can run with all arguments?","title":"Maven spring boot run debug with arguments","body":"<p>Usually I'm running my Spring Boot application with command:</p>\n<pre><code>mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\n   -Dpath.to.config.dir=/var/data/my/config/dir\n</code></pre>\n<p>I want to set custom port to debug, so I can connect from eclipse. When I add arguments from example <a href=\"https://docs.spring.io/spring-boot/docs/1.1.2.RELEASE/maven-plugin/examples/run-debug.html\" rel=\"noreferrer\">Spring Boot Maven Plugin</a></p>\n<pre><code>mvn spring-boot:run -Drun.arguments=--server.port=9090 \\\n   -Dpath.to.config.dir=/var/data/my/config/dir \\\n   -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=8787&quot;\n</code></pre>\n<p>it works but other arguments like <code>server.port</code> or <code>path.to.config.dir</code> are no longer recognized and I get exception like:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed\nto parse configuration class [com.my.app.Controller]; nested exception\nis java.lang.IllegalArgumentException: Could not resolve placeholder\n'path.to.config.dir' in string value\nfile:///${path.to.config.dir}/some.properties&quot;\n</code></pre>\n<p><strong>Question</strong>: How I can run with all arguments?</p>\n"},{"tags":["java","spring","spring-boot","sap-business-technology-platform"],"answers":[{"tags":[],"owner":{"account_id":5800887,"reputation":650,"user_id":4575097,"display_name":"Sander Wozniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553780771,"creation_date":1553780771,"answer_id":55399202,"question_id":55019339,"body_markdown":"You can use the SAP S/4HANA Cloud SDK to retrieve destinations and their properties. You can find more information [here][1].\r\n\r\n\r\n  [1]: https://blogs.sap.com/2017/05/10/first-steps-with-sap-s4hana-cloud-sdk/","title":"How to bind email config from Destination service in SCP Neo to Spring Boot application?","body":"<p>You can use the SAP S/4HANA Cloud SDK to retrieve destinations and their properties. You can find more information <a href=\"https://blogs.sap.com/2017/05/10/first-steps-with-sap-s4hana-cloud-sdk/\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689527690,"creation_date":1551863521,"question_id":55019339,"body_markdown":"I want to deploy a spring boot application in SAP Cloud Platform  Neo environment. It has a endpoint `/sendmail` which sends a mail to a particular user when called. For now, I have hard coded the credentials in `application.properties` file and it works. The file looks as follows -\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=...\r\n    spring.mail.password=...\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.starttls.required=true\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.connectiontimeout=5000\r\n    spring.mail.properties.mail.smtp.timeout=5000\r\n    spring.mail.properties.mail.smtp.writetimeout=5000\r\n\r\nNow, I want to make use of the destinations service of the SCP platform where I&#39;ll define the credentials of the mail account. I want to fetch the credentials from the destination service. So, what needs to go in `application.properties` file ??\r\n\r\nI have performed similar operation in SCP - Cloud Foundry but for a different service ( Database ). CF has the VCAP environment variables which can be used to fetch the credentials as follows -\r\n\r\n    spring.datasource.url=${vcap.services.${vcap.services.name}.credentials.url}\r\n\r\n\r\nIs it possible to do the same here in Neo?","title":"How to bind email config from Destination service in SCP Neo to Spring Boot application?","body":"<p>I want to deploy a spring boot application in SAP Cloud Platform  Neo environment. It has a endpoint <code>/sendmail</code> which sends a mail to a particular user when called. For now, I have hard coded the credentials in <code>application.properties</code> file and it works. The file looks as follows -</p>\n\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=...\nspring.mail.password=...\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.connectiontimeout=5000\nspring.mail.properties.mail.smtp.timeout=5000\nspring.mail.properties.mail.smtp.writetimeout=5000\n</code></pre>\n\n<p>Now, I want to make use of the destinations service of the SCP platform where I'll define the credentials of the mail account. I want to fetch the credentials from the destination service. So, what needs to go in <code>application.properties</code> file ??</p>\n\n<p>I have performed similar operation in SCP - Cloud Foundry but for a different service ( Database ). CF has the VCAP environment variables which can be used to fetch the credentials as follows -</p>\n\n<pre><code>spring.datasource.url=${vcap.services.${vcap.services.name}.credentials.url}\n</code></pre>\n\n<p>Is it possible to do the same here in Neo?</p>\n"},{"tags":["java","scala","mockito"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1689520307,"post_id":76698753,"comment_id":135221986,"body_markdown":"See https://stackoverflow.com/a/67734707/5389127","body":"See <a href=\"https://stackoverflow.com/a/67734707/5389127\">stackoverflow.com/a/67734707/5389127</a>"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1689520478,"post_id":76698753,"comment_id":135222015,"body_markdown":"Does this answer your question? [Mockito - difference between doReturn() and when()](https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\">Mockito - difference between doReturn() and when()</a>"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1689526612,"post_id":76698753,"comment_id":135222723,"body_markdown":"You&#39;re using a spy, not a mock. I wouldn&#39;t expect the `when().doReturn()` to have any impact. Consider using a mock instead","body":"You&#39;re using a spy, not a mock. I wouldn&#39;t expect the <code>when().doReturn()</code> to have any impact. Consider using a mock instead"}],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689526446,"creation_date":1689520221,"answer_id":76698960,"question_id":76698753,"body_markdown":"If you have reason to use a **spy**, then you need to use specific syntax to mock methods of it.\r\n\r\n`when` doesn&#39;t work for spies. Instead use `doXxx.when(spy).method()`:\r\n```scala\r\ndoReturn(&quot;value-to-replace&quot;)\r\n  .when(spiedScalaSharedLibConfigManager)\r\n  .functionToTest();\r\n```\r\n\r\n-----\r\n\r\nAnother option is to use a **mock** rather than a **spy**.\r\n\r\n-----\r\n\r\nReferences:\r\n- https://stackoverflow.com/questions/14689348/mocking-a-spy-method-with-mockito\r\n- https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when","title":"then return in Mockito run the code. with no reason","body":"<p>If you have reason to use a <strong>spy</strong>, then you need to use specific syntax to mock methods of it.</p>\n<p><code>when</code> doesn't work for spies. Instead use <code>doXxx.when(spy).method()</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>doReturn(&quot;value-to-replace&quot;)\n  .when(spiedScalaSharedLibConfigManager)\n  .functionToTest();\n</code></pre>\n<hr />\n<p>Another option is to use a <strong>mock</strong> rather than a <strong>spy</strong>.</p>\n<hr />\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14689348/mocking-a-spy-method-with-mockito\">Mocking a Spy method with Mockito</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\">Mockito - difference between doReturn() and when()</a></li>\n</ul>\n"}],"owner":{"account_id":23550665,"reputation":71,"user_id":17593430,"display_name":"amit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689602429,"answer_count":1,"score":0,"last_activity_date":1689526446,"creation_date":1689517359,"question_id":76698753,"body_markdown":"In Scala, I noticed that when using when and thenReturn in Mockito, thenReturn runs the actual function before &quot;replacing&quot; the return value from the function.\r\nfor example -\r\n\r\n```\r\nclass clsToTest() {\r\n  def functionToTest: String = {\r\n    if(condition-that-evaluated-to-true-sometimes) {\r\n      throw new RuntimeException(&quot;some error&quot;)\r\n    }\r\n    &quot;function-completed&quot;\r\n  }\r\n}\r\n\r\ntestclsToTest() {\r\n   test(&quot;test functionToTest&quot;) {\r\n     val spiedclsToTest = spy(new clsToTest())\r\n     when(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\r\n     //spiedScalaSharedLibConfigManager.otherFunctionThatUsesFunctionToTest()\r\n  }\r\n}\r\n\r\n```\r\n\r\nbut when the line\r\n```\r\nwhen(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\r\n```\r\nis executed, because sometimes `condition-that-evaluated-to-true-sometimes` evaluated to True, the test fails without real reason.\r\nI&#39;m looking for a way to replace the value of the returned function without actually running the function.\r\nI have my own reason to use spy instead of mocking.\r\n","title":"then return in Mockito run the code. with no reason","body":"<p>In Scala, I noticed that when using when and thenReturn in Mockito, thenReturn runs the actual function before &quot;replacing&quot; the return value from the function.\nfor example -</p>\n<pre><code>class clsToTest() {\n  def functionToTest: String = {\n    if(condition-that-evaluated-to-true-sometimes) {\n      throw new RuntimeException(&quot;some error&quot;)\n    }\n    &quot;function-completed&quot;\n  }\n}\n\ntestclsToTest() {\n   test(&quot;test functionToTest&quot;) {\n     val spiedclsToTest = spy(new clsToTest())\n     when(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\n     //spiedScalaSharedLibConfigManager.otherFunctionThatUsesFunctionToTest()\n  }\n}\n\n</code></pre>\n<p>but when the line</p>\n<pre><code>when(spiedScalaSharedLibConfigManager.functionToTest).thenReturn(&quot;value to replace&quot;)\n</code></pre>\n<p>is executed, because sometimes <code>condition-that-evaluated-to-true-sometimes</code> evaluated to True, the test fails without real reason.\nI'm looking for a way to replace the value of the returned function without actually running the function.\nI have my own reason to use spy instead of mocking.</p>\n"},{"tags":["java","spring-boot","jwt","keycloak","openid-connect"],"comments":[{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":0,"creation_date":1689487372,"post_id":76696527,"comment_id":135218670,"body_markdown":"I have no experience with keycloak, but it looks like the keys used to sign the JWT doesn&#39;t exist on Keycloak B.","body":"I have no experience with keycloak, but it looks like the keys used to sign the JWT doesn&#39;t exist on Keycloak B."},{"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"score":0,"creation_date":1689513164,"post_id":76696527,"comment_id":135221144,"body_markdown":"both keycloak are using the same alg: RS256","body":"both keycloak are using the same alg: RS256"},{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":0,"creation_date":1689513652,"post_id":76696527,"comment_id":135221200,"body_markdown":"Right, but do both use the same key pair to sign/verify the JWT?","body":"Right, but do both use the same key pair to sign/verify the JWT?"},{"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"score":0,"creation_date":1689520264,"post_id":76696527,"comment_id":135221977,"body_markdown":"I managed to get this error:\nFailed to verify token: Didn&#39;t find publicKey for specified kid\n\nSo keycloak b doesn&#39;t have the public key of keycloak a.","body":"I managed to get this error: Failed to verify token: Didn&#39;t find publicKey for specified kid  So keycloak b doesn&#39;t have the public key of keycloak a."},{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":1,"creation_date":1689520881,"post_id":76696527,"comment_id":135222080,"body_markdown":"That answers your question on why you are seeing the error :)\nThe docs might have some info on how to configure with the public key of your choice.","body":"That answers your question on why you are seeing the error :) The docs might have some info on how to configure with the public key of your choice."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689526406,"creation_date":1689526406,"answer_id":76699435,"question_id":76696527,"body_markdown":"Each Keycloak instance (or realm) has its own set of keys for signing JWTs. You can&#39;t use keys from Keycloak B to validate a token issued by Keycloak A, even if Keycloak A is registered as a federated identity provider in Keycloak B. When a user chooses &quot;login with Keycloak A&quot; when authenticating on Keycloak B, the token received by the client is emitted by Keycloak B.\r\n\r\nAs a I understand it, your Spring applications are resource servers (it is secured with access tokens).\r\n\r\nSpring boot default configuration is single tenant (accepts identities from a single issuer). To change that, you&#39;ll have to:\r\n- instantiate two distinct JWT decoders (one for Keycloak A issuer and another \r\n for Keycloak B issuer)\r\n- provide with a custom authentication manager which delegates to the right decoder based on the `iss` claim (Keycloak A and Keycloak B won&#39;t put the same value in the tokens they issue)\r\n\r\nComplete sample with just `spring-boot-starter-oauth2-resource-server` in [this tutorial of mine][1]. But you can achieve the same with no Java conf at all, using `spring-addons-starter-oidc`, a stater of mine which comes on top of Spring Boot &quot;official&quot; starters:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```yaml\r\n# spring.security.oauth2.resourceserver properties fit only to single tenant scenarios (only one issuer). It is not used here.\r\n\r\nkeycloak-a: http://localhost:8442/realms/a\r\nkeycloak-b: http://localhost:8442/realms/b\r\n\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      oidc:\r\n        ops:\r\n        - iss: ${keycloak-a}\r\n          username-claim: preferred_username\r\n          authorities:\r\n          # map realm roles to spring authorities (you might add a prefix or case transformation with dedicated properties) \r\n          - path: $.realm_access.roles\r\n          # map roles for all clients, you might want to restrict to a single client or two\r\n          - path: $.resource_access.*.roles\r\n        - iss: ${keycloak-b}\r\n          username-claim: preferred_username\r\n          authorities:\r\n          - path: $.realm_access.roles\r\n          - path: $.resource_access.*.roles\r\n        resourceserver:\r\n          # What is not listed in &quot;permit-all&quot; requires request to be authorized\r\n          # Fine-tuned access-control with method security (&quot;@preAuthorize&quot; and alike) or a by exposing a ResourceServerExpressionInterceptUrlRegistryPostProcessor bean\r\n          permit-all:\r\n          - &quot;/actuator/health/readiness&quot;\r\n          - &quot;/actuator/health/liveness&quot;\r\n          - &quot;/v3/api-docs/**&quot;\r\n````\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity()\r\npublic class SecurityConfig {\r\n}\r\n```\r\nBootiful, isn&#39;t it?\r\n\r\nThe best part being you don&#39;t have anything specific to Keycloak in your code and can switch any of the issuers to whatever OIDC authorization server you like (Auth0, Cognito, etc.) by just editing properties for authorities and username mapping.\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server","title":"Identity provider between two keycloak servers","body":"<p>Each Keycloak instance (or realm) has its own set of keys for signing JWTs. You can't use keys from Keycloak B to validate a token issued by Keycloak A, even if Keycloak A is registered as a federated identity provider in Keycloak B. When a user chooses &quot;login with Keycloak A&quot; when authenticating on Keycloak B, the token received by the client is emitted by Keycloak B.</p>\n<p>As a I understand it, your Spring applications are resource servers (it is secured with access tokens).</p>\n<p>Spring boot default configuration is single tenant (accepts identities from a single issuer). To change that, you'll have to:</p>\n<ul>\n<li>instantiate two distinct JWT decoders (one for Keycloak A issuer and another\nfor Keycloak B issuer)</li>\n<li>provide with a custom authentication manager which delegates to the right decoder based on the <code>iss</code> claim (Keycloak A and Keycloak B won't put the same value in the tokens they issue)</li>\n</ul>\n<p>Complete sample with just <code>spring-boot-starter-oauth2-resource-server</code> in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">this tutorial of mine</a>. But you can achieve the same with no Java conf at all, using <code>spring-addons-starter-oidc</code>, a stater of mine which comes on top of Spring Boot &quot;official&quot; starters:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code># spring.security.oauth2.resourceserver properties fit only to single tenant scenarios (only one issuer). It is not used here.\n\nkeycloak-a: http://localhost:8442/realms/a\nkeycloak-b: http://localhost:8442/realms/b\n\ncom:\n  c4-soft:\n    springaddons:\n      oidc:\n        ops:\n        - iss: ${keycloak-a}\n          username-claim: preferred_username\n          authorities:\n          # map realm roles to spring authorities (you might add a prefix or case transformation with dedicated properties) \n          - path: $.realm_access.roles\n          # map roles for all clients, you might want to restrict to a single client or two\n          - path: $.resource_access.*.roles\n        - iss: ${keycloak-b}\n          username-claim: preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        resourceserver:\n          # What is not listed in &quot;permit-all&quot; requires request to be authorized\n          # Fine-tuned access-control with method security (&quot;@preAuthorize&quot; and alike) or a by exposing a ResourceServerExpressionInterceptUrlRegistryPostProcessor bean\n          permit-all:\n          - &quot;/actuator/health/readiness&quot;\n          - &quot;/actuator/health/liveness&quot;\n          - &quot;/v3/api-docs/**&quot;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity()\npublic class SecurityConfig {\n}\n</code></pre>\n<p>Bootiful, isn't it?</p>\n<p>The best part being you don't have anything specific to Keycloak in your code and can switch any of the issuers to whatever OIDC authorization server you like (Auth0, Cognito, etc.) by just editing properties for authorities and username mapping.</p>\n"}],"owner":{"account_id":7869251,"reputation":681,"user_id":6034820,"accept_rate":89,"display_name":"Max Ferreira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76699435,"answer_count":1,"score":0,"last_activity_date":1689526406,"creation_date":1689476746,"question_id":76696527,"body_markdown":"I have the following scenario:\r\n**Keycloak A**\r\n**Keycloak B**\r\n\r\n**Keycloak A** is being used in a spring boot application for authentication.\r\n\r\n**Keycloak B** is being used in a spring boot application for authentication.\r\n\r\nI would like the users (JWT) of Keycloak A to be able to access the endpoint of the application being managed by keycloak B.\r\n\r\nWhat I did and it didn&#39;t work:\r\nIn keycloak B I created an Identity provider.\r\n*http://localhost:8083/auth/realms/master/broker/oidc/endpoint*\r\n\r\nI added the fields with the keycloak A data:\r\n\r\n**Authorization URL**\r\n\r\n**Token URL**\r\n\r\n**Client Authentication** : Client secret sent as post\r\n\r\n**Client ID**\r\n\r\n**client secret**\r\n\r\n\r\nIn keycloak A I created a client and put the \r\n\r\n**Access Type**: confidential\r\n\r\n**Valid Redirect URIs**: *http://localhost:8083/auth/realms/master/broker/keycloak-oidc/endpoint*\r\n\r\nIn Credential I put Client Authenticator and generated the key.\r\n\r\n\r\nWhen I generate a token in keycloak A and try to access the endpoints of the application that is in keycloak B, it generates the following error:\r\n\r\n```\r\n Signed JWT rejected: Another algorithm expected, or no matching key(s) found\r\n```\r\n\r\nWhat am I forgetting to do?\r\n\r\n","title":"Identity provider between two keycloak servers","body":"<p>I have the following scenario:\n<strong>Keycloak A</strong>\n<strong>Keycloak B</strong></p>\n<p><strong>Keycloak A</strong> is being used in a spring boot application for authentication.</p>\n<p><strong>Keycloak B</strong> is being used in a spring boot application for authentication.</p>\n<p>I would like the users (JWT) of Keycloak A to be able to access the endpoint of the application being managed by keycloak B.</p>\n<p>What I did and it didn't work:\nIn keycloak B I created an Identity provider.\n<em>http://localhost:8083/auth/realms/master/broker/oidc/endpoint</em></p>\n<p>I added the fields with the keycloak A data:</p>\n<p><strong>Authorization URL</strong></p>\n<p><strong>Token URL</strong></p>\n<p><strong>Client Authentication</strong> : Client secret sent as post</p>\n<p><strong>Client ID</strong></p>\n<p><strong>client secret</strong></p>\n<p>In keycloak A I created a client and put the</p>\n<p><strong>Access Type</strong>: confidential</p>\n<p><strong>Valid Redirect URIs</strong>: <em>http://localhost:8083/auth/realms/master/broker/keycloak-oidc/endpoint</em></p>\n<p>In Credential I put Client Authenticator and generated the key.</p>\n<p>When I generate a token in keycloak A and try to access the endpoints of the application that is in keycloak B, it generates the following error:</p>\n<pre><code> Signed JWT rejected: Another algorithm expected, or no matching key(s) found\n</code></pre>\n<p>What am I forgetting to do?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689525482,"creation_date":1689525165,"answer_id":76699342,"question_id":76699008,"body_markdown":"I am sorry to inform you that there are no APIs that can check if a given entity is loaded from L1 cache , L2 cache or DB.\r\n\r\nThe most you can do is verify it from the log which configure the following loggers &#39;s logging levels : \r\n\r\n- `org.hibernate.event.internal.DefaultLoadEventListener` to `trace` level\r\n- `org.hibernate.SQL` to `debug` level \r\n\r\nIf the entity is loaded from DB , it will log out the SQL that is used to fetch this entity and :\r\n\r\n``` log\r\n Object not resolved in any cache: [org.foo.bar.#1]\r\n```\r\n\r\nIf the entity is loaded from L2 cache , it will log out :\r\n```\r\nResolved object in second-level cache:[org.foo.bar.#1]\r\n```\r\n\r\nIf none of the above are logged , it means the entity is loaded from L1 cache.","title":"How to check if Hibernate is getting an object from the L1 cache?","body":"<p>I am sorry to inform you that there are no APIs that can check if a given entity is loaded from L1 cache , L2 cache or DB.</p>\n<p>The most you can do is verify it from the log which configure the following loggers 's logging levels :</p>\n<ul>\n<li><code>org.hibernate.event.internal.DefaultLoadEventListener</code> to <code>trace</code> level</li>\n<li><code>org.hibernate.SQL</code> to <code>debug</code> level</li>\n</ul>\n<p>If the entity is loaded from DB , it will log out the SQL that is used to fetch this entity and :</p>\n<pre><code> Object not resolved in any cache: [org.foo.bar.#1]\n</code></pre>\n<p>If the entity is loaded from L2 cache , it will log out :</p>\n<pre><code>Resolved object in second-level cache:[org.foo.bar.#1]\n</code></pre>\n<p>If none of the above are logged , it means the entity is loaded from L1 cache.</p>\n"}],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76699342,"answer_count":1,"score":1,"last_activity_date":1689525482,"creation_date":1689520841,"question_id":76699008,"body_markdown":"I have a legacy application which in various places calls `repository.findById(...)` in a loop. This results in hundreds of calls to the database. Since Hibernate loads all entities into the L1 cache by default I thought I could fix this performance issue by calling `repository.findByIdIn(...)` before the loop and so save the repeated database calls. But I can&#39;t find a way to find if the entities were returned from the DB or the cache. Any ideas?","title":"How to check if Hibernate is getting an object from the L1 cache?","body":"<p>I have a legacy application which in various places calls <code>repository.findById(...)</code> in a loop. This results in hundreds of calls to the database. Since Hibernate loads all entities into the L1 cache by default I thought I could fix this performance issue by calling <code>repository.findByIdIn(...)</code> before the loop and so save the repeated database calls. But I can't find a way to find if the entities were returned from the DB or the cache. Any ideas?</p>\n"},{"tags":["java","android","android-studio","android-activity","android-manifest"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1689505705,"post_id":76697499,"comment_id":135220294,"body_markdown":"Consider moving the `listS` lifecycle to either a [singleton](https://stackoverflow.com/search?q=%5Bandroid%5D+singleton) class or the [application](https://stackoverflow.com/search?q=%5Bandroid%5D%5Bapplication-lifecycle%5D+application+class) class accessible to any activity.","body":"Consider moving the <code>listS</code> lifecycle to either a <a href=\"https://stackoverflow.com/search?q=%5Bandroid%5D+singleton\">singleton</a> class or the <a href=\"https://stackoverflow.com/search?q=%5Bandroid%5D%5Bapplication-lifecycle%5D+application+class\">application</a> class accessible to any activity."}],"answers":[{"tags":[],"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689525110,"creation_date":1689525110,"answer_id":76699333,"question_id":76697499,"body_markdown":"I do not know what your ModelClass exactly is. But if you can make it Parcelable or Serializable then you can simply use Bundle to send the data (listS) to the new Activity. You should do it like this:\r\n\r\nin **SplashActicity**:\r\n\r\n       new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\r\n            Bundle extras = new Bundle();\r\n            extras.putParcelableArrayList(YOUR_KEY, listS); // or putSerializable instead if ModelClass can implement Serializable\r\n            intent.putExtras(extras);\r\n            startActivity(intent);\r\n        }\r\n       }\r\n\r\nthen in **DashboardActivity**:\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_dashboard);\r\n\r\n    if (savedInstanceState != null) {\r\n        listS = savedInstanceState.getParcelableArrayList(YOUR_KEY); // or getSerializable instead you used putSerializable\r\n    }\r\n\r\n    Hooks();\r\n    allQuestionsList=listS;\r\n    Collections.shuffle(allQuestionsList);\r\n    modelClass = listS.get(index);\r\n\r\n    setAllData();\r\n\r\n\r\n","title":"How I can pass list from activity to another activity?","body":"<p>I do not know what your ModelClass exactly is. But if you can make it Parcelable or Serializable then you can simply use Bundle to send the data (listS) to the new Activity. You should do it like this:</p>\n<p>in <strong>SplashActicity</strong>:</p>\n<pre><code>   new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\n        Bundle extras = new Bundle();\n        extras.putParcelableArrayList(YOUR_KEY, listS); // or putSerializable instead if ModelClass can implement Serializable\n        intent.putExtras(extras);\n        startActivity(intent);\n    }\n   }\n</code></pre>\n<p>then in <strong>DashboardActivity</strong>:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_dashboard);\n\nif (savedInstanceState != null) {\n    listS = savedInstanceState.getParcelableArrayList(YOUR_KEY); // or getSerializable instead you used putSerializable\n}\n\nHooks();\nallQuestionsList=listS;\nCollections.shuffle(allQuestionsList);\nmodelClass = listS.get(index);\n\nsetAllData();\n</code></pre>\n"}],"owner":{"account_id":29027009,"reputation":1,"user_id":22234927,"display_name":"Igal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689525110,"creation_date":1689499059,"question_id":76697499,"body_markdown":"I&#39;m new to Android Studio and try to develop my first application.\r\n\r\nI have 3 activities MainActivity, DashboardActivity, and SplashActivity.\r\n\r\n**DashboardActivity -**\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dashboard);\r\n\r\n        Hooks();\r\n        allQuestionsList=listS;\r\n        Collections.shuffle(allQuestionsList);\r\n        modelClass = listS.get(index);\r\n\r\n        setAllData();\r\n  }\r\n\r\n**SplashActivity-**\r\n\r\n``` \r\npublic class SplashActivity extends AppCompatActivity {\r\npublic static ArrayList&lt;ModelClass&gt; listS;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.splash_activity_main);\r\n\r\n    listS = new ArrayList&lt;&gt;();\r\n    listS.add(new ModelClass(&quot;here is the question&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;answer&quot;));\r\n    listS.add(new ModelClass(&quot;Under-inflated tires increase fuel consumption. A single tire under-inflated by 56 kpa (8 psi) can increase fuel consumption by?&quot;, &quot;25 per cent&quot;, &quot;15 per cent&quot;, &quot;Seven per cent&quot;, &quot;Four per cent&quot;, &quot;Four per cent&quot;));\r\n    listS.add(new ModelClass(&quot;You are not allowed to park a vehicle within _____________ of a pedestrian corridor&quot;, &quot;9 metres&quot;, &quot;3 metres&quot;, &quot;30 metres&quot;, &quot;15 metres&quot;, &quot;15 metres&quot;));\r\n    listS.add(new ModelClass(&quot;What class licence permits the holder to operate a motorcycle?&quot;, &quot;Class 4&quot;, &quot;Class 1&quot;, &quot;Class 6&quot;, &quot;Class 5&quot;, &quot;Class 6&quot;));\r\n    listS.add(new ModelClass(&quot;Seatbelts must be worn by all drivers and passengers:&quot;, &quot;Only when driving in the city&quot;, &quot;Only when carrying passengers&quot;, &quot;All the time unless exempted by law&quot;, &quot;Only when driving on the highway&quot;, &quot;All the time unless exempted by law&quot;));\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }, 1500);\r\n}\r\n\r\n```\r\n&lt;br&gt;\r\n\r\nThis is my AndroidManifest-\r\n\r\n    &lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n    android:icon=&quot;@drawable/mainscreenlogo&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.QuizTheoryApplication&quot;\r\n    tools:targetApi=&quot;31&quot;&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.example.QuizTheoryApplication.MainActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.example.QuizTheoryApplication.DashboardActivity&quot;\r\n        android:label=&quot;Preferences&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.example.QuizTheoryApplication.SplashActivity&quot;\r\n        android:label=&quot;Preferences&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n&lt;/application&gt;\r\n\r\n\r\nThe problem is that my Splash Activity doesn&#39;t run and of course, the list is always empty. I&#39;ve tried to add in Dashboard activity but without success -\r\n\r\n```\r\nnew Handler().postDelayed(new Runnable() \r\n{ @Override public void run() \r\n{ Intent intent = new Intent(DashboardActivity.this, SplashActivity.class); startActivity(intent); } }, 1500);\r\n\r\n```\r\n\r\nI&#39;m also tried to use `intent.putStringArrayListExtra(&quot;list&quot;, listS);` &lt;br&gt;\r\n\r\nand `ArrayList&lt;String&gt; receivedList = getIntent().getStringArrayListExtra(&quot;list&quot;)` &lt;br&gt;\r\nBut without any success. I would be very happy to help on this matter. Thanks","title":"How I can pass list from activity to another activity?","body":"<p>I'm new to Android Studio and try to develop my first application.</p>\n<p>I have 3 activities MainActivity, DashboardActivity, and SplashActivity.</p>\n<p><strong>DashboardActivity -</strong></p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_dashboard);\n\n    Hooks();\n    allQuestionsList=listS;\n    Collections.shuffle(allQuestionsList);\n    modelClass = listS.get(index);\n\n    setAllData();\n</code></pre>\n<p>}</p>\n<p><strong>SplashActivity-</strong></p>\n<pre><code>public class SplashActivity extends AppCompatActivity {\npublic static ArrayList&lt;ModelClass&gt; listS;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash_activity_main);\n\n    listS = new ArrayList&lt;&gt;();\n    listS.add(new ModelClass(&quot;here is the question&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;answer&quot;));\n    listS.add(new ModelClass(&quot;Under-inflated tires increase fuel consumption. A single tire under-inflated by 56 kpa (8 psi) can increase fuel consumption by?&quot;, &quot;25 per cent&quot;, &quot;15 per cent&quot;, &quot;Seven per cent&quot;, &quot;Four per cent&quot;, &quot;Four per cent&quot;));\n    listS.add(new ModelClass(&quot;You are not allowed to park a vehicle within _____________ of a pedestrian corridor&quot;, &quot;9 metres&quot;, &quot;3 metres&quot;, &quot;30 metres&quot;, &quot;15 metres&quot;, &quot;15 metres&quot;));\n    listS.add(new ModelClass(&quot;What class licence permits the holder to operate a motorcycle?&quot;, &quot;Class 4&quot;, &quot;Class 1&quot;, &quot;Class 6&quot;, &quot;Class 5&quot;, &quot;Class 6&quot;));\n    listS.add(new ModelClass(&quot;Seatbelts must be worn by all drivers and passengers:&quot;, &quot;Only when driving in the city&quot;, &quot;Only when carrying passengers&quot;, &quot;All the time unless exempted by law&quot;, &quot;Only when driving on the highway&quot;, &quot;All the time unless exempted by law&quot;));\n\n    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            Intent intent = new Intent(SplashActivity.this, DashboardActivity.class);\n            startActivity(intent);\n        }\n    }, 1500);\n}\n\n</code></pre>\n<br>\n<p>This is my AndroidManifest-</p>\n<pre><code>&lt;application\nandroid:allowBackup=&quot;true&quot;\nandroid:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\nandroid:fullBackupContent=&quot;@xml/backup_rules&quot;\nandroid:icon=&quot;@drawable/mainscreenlogo&quot;\nandroid:label=&quot;@string/app_name&quot;\nandroid:supportsRtl=&quot;true&quot;\nandroid:theme=&quot;@style/Theme.QuizTheoryApplication&quot;\ntools:targetApi=&quot;31&quot;&gt;\n\n&lt;activity\n    android:name=&quot;.example.QuizTheoryApplication.MainActivity&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n\n&lt;activity\n    android:name=&quot;.example.QuizTheoryApplication.DashboardActivity&quot;\n    android:label=&quot;Preferences&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n\n&lt;activity\n    android:name=&quot;.example.QuizTheoryApplication.SplashActivity&quot;\n    android:label=&quot;Preferences&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.iphonik.chameleon.AppPreferenceActivity&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>The problem is that my Splash Activity doesn't run and of course, the list is always empty. I've tried to add in Dashboard activity but without success -</p>\n<pre><code>new Handler().postDelayed(new Runnable() \n{ @Override public void run() \n{ Intent intent = new Intent(DashboardActivity.this, SplashActivity.class); startActivity(intent); } }, 1500);\n\n</code></pre>\n<p>I'm also tried to use <code>intent.putStringArrayListExtra(&quot;list&quot;, listS);</code> <br></p>\n<p>and <code>ArrayList&lt;String&gt; receivedList = getIntent().getStringArrayListExtra(&quot;list&quot;)</code> <br>\nBut without any success. I would be very happy to help on this matter. Thanks</p>\n"},{"tags":["java","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":7941028,"reputation":6743,"user_id":5995040,"display_name":"Mr.Rebot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472282030,"creation_date":1472282030,"answer_id":39178504,"question_id":39157055,"body_markdown":"Find text is not yet available for Google Sheet API. Please star this [issue tracker FR][1] to get notified on any updates. \r\n\r\nA workaround based on this SO [answer][2], &quot;You can get the data for the range you are searching on, and then iterate over it looking for a match. &quot;\r\nHere is his code snippet:\r\n\r\n    /**\r\n    * Finds a value within a given range. \r\n    * @param value The value to find.\r\n    * @param range The range to search in.\r\n    * @return A range pointing to the first cell containing the value, \r\n    * or null if not found.\r\n    */\r\n    function find(value, range) {\r\n    var data = range.getValues();\r\n    for (var i = 0; i &lt; data.length; i++) {\r\n    for (var j = 0; j &lt; data[i].length; j++) {\r\n    if (data[i][j] == value) {\r\n    return range.getCell(i + 1, j + 1);\r\n    }\r\n    }\r\n    }\r\n    return null;\r\n    }\r\n\r\n*NOTE*: Code sample is in google-apps-script\r\n\r\nLike in this code snippet, you will need to set the range first, then check if value will match inside the range.\r\n\r\n\r\n[1]: https://code.google.com/p/google-apps-script-issues/issues/detail?id=3362\r\n[2]: https://stackoverflow.com/a/10823543/5995040","title":"How to find a value (row and column number) in range of Google spreadsheet using API?","body":"<p>Find text is not yet available for Google Sheet API. Please star this <a href=\"https://code.google.com/p/google-apps-script-issues/issues/detail?id=3362\" rel=\"nofollow noreferrer\">issue tracker FR</a> to get notified on any updates. </p>\n\n<p>A workaround based on this SO <a href=\"https://stackoverflow.com/a/10823543/5995040\">answer</a>, \"You can get the data for the range you are searching on, and then iterate over it looking for a match. \"\nHere is his code snippet:</p>\n\n<pre><code>/**\n* Finds a value within a given range. \n* @param value The value to find.\n* @param range The range to search in.\n* @return A range pointing to the first cell containing the value, \n* or null if not found.\n*/\nfunction find(value, range) {\nvar data = range.getValues();\nfor (var i = 0; i &lt; data.length; i++) {\nfor (var j = 0; j &lt; data[i].length; j++) {\nif (data[i][j] == value) {\nreturn range.getCell(i + 1, j + 1);\n}\n}\n}\nreturn null;\n}\n</code></pre>\n\n<p><em>NOTE</em>: Code sample is in google-apps-script</p>\n\n<p>Like in this code snippet, you will need to set the range first, then check if value will match inside the range.</p>\n"},{"tags":[],"owner":{"display_name":"user6889641"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475566762,"creation_date":1475566762,"answer_id":39846744,"question_id":39157055,"body_markdown":"According to the [documentation][1], you can  find the value using : `FindReplaceRequest()` and `.getFind();`\r\n\r\n \r\n\r\n  \r\n    String cellReq = (new FindReplaceRequest().setFind(&quot;samuel&quot;)).getFind();\r\n\r\n\r\n  [1]: https://developers.google.com/sheets/reference/rest/v4/spreadsheets/request#findreplacerequest\r\n\r\n","title":"How to find a value (row and column number) in range of Google spreadsheet using API?","body":"<p>According to the <a href=\"https://developers.google.com/sheets/reference/rest/v4/spreadsheets/request#findreplacerequest\" rel=\"nofollow\">documentation</a>, you can  find the value using : <code>FindReplaceRequest()</code> and <code>.getFind();</code></p>\n\n<pre><code>String cellReq = (new FindReplaceRequest().setFind(\"samuel\")).getFind();\n</code></pre>\n"}],"owner":{"account_id":9029901,"reputation":18051,"user_id":6727914,"accept_rate":52,"display_name":"TSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3933,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39846744,"answer_count":2,"score":0,"last_activity_date":1689524957,"creation_date":1472174745,"question_id":39157055,"body_markdown":"I am using the Java API (V4) to read and edit the data from a Google sheet. So far, I am able to read and edit the data based on the row and column number (index). \r\n\r\n - \r\n**What I am want to do is to localise a data by its specific value (I want to get the row and the column number of a specific cell using its value).** \r\n\r\nSo far this is a part of the working code I used to edit the data: \r\n\r\n  \r\n\r\n      // Copy the format from A1:C1 and paste it into A2:C5, so the data in \r\n    // each column has the same background. \t\t\t\r\n    requests.add(new Request()\r\n        \t\t\t\t\t.setCopyPaste(new CopyPasteRequest()\r\n        \t\t\t\t\t\t\t.setSource(new GridRange()\r\n        \t\t\t\t\t\t\t\t\t.setSheetId(0)\r\n        \t\t\t\t\t\t\t\t\t.setStartRowIndex(0)\r\n        \t\t\t\t\t\t\t\t\t.setEndRowIndex(1)\r\n        \t\t\t\t\t\t\t\t\t.setStartColumnIndex(0)\r\n        \t\t\t\t\t\t\t\t\t.setEndColumnIndex(3))\r\n        \t\t\t\t\t\t\t.setDestination(new GridRange()\r\n        \t\t\t\t\t\t\t\t\t.setSheetId(0)\r\n        \t\t\t\t\t\t\t\t\t.setStartRowIndex(1)\r\n        \t\t\t\t\t\t\t\t\t.setEndRowIndex(6)\r\n        \t\t\t\t\t\t\t\t\t.setStartColumnIndex(0)\r\n        \t\t\t\t\t\t\t\t\t.setEndColumnIndex(3))\r\n        \t\t\t\t\t\t\t.setPasteType(&quot;PASTE_FORMAT&quot;)));\r\n        \r\n        \t\t\tBatchUpdateSpreadsheetRequest batchUpdateRequest = new BatchUpdateSpreadsheetRequest()\r\n        \t\t\t\t\t.setRequests(requests);\r\n\r\nCan anyone please help me?\r\n\r\n\r\n","title":"How to find a value (row and column number) in range of Google spreadsheet using API?","body":"<p>I am using the Java API (V4) to read and edit the data from a Google sheet. So far, I am able to read and edit the data based on the row and column number (index).</p>\n<p>-\n<strong>What I am want to do is to localise a data by its specific value (I want to get the row and the column number of a specific cell using its value).</strong></p>\n<p>So far this is a part of the working code I used to edit the data:</p>\n<pre><code>  // Copy the format from A1:C1 and paste it into A2:C5, so the data in \n// each column has the same background.             \nrequests.add(new Request()\n                        .setCopyPaste(new CopyPasteRequest()\n                                .setSource(new GridRange()\n                                        .setSheetId(0)\n                                        .setStartRowIndex(0)\n                                        .setEndRowIndex(1)\n                                        .setStartColumnIndex(0)\n                                        .setEndColumnIndex(3))\n                                .setDestination(new GridRange()\n                                        .setSheetId(0)\n                                        .setStartRowIndex(1)\n                                        .setEndRowIndex(6)\n                                        .setStartColumnIndex(0)\n                                        .setEndColumnIndex(3))\n                                .setPasteType(&quot;PASTE_FORMAT&quot;)));\n    \n                BatchUpdateSpreadsheetRequest batchUpdateRequest = new BatchUpdateSpreadsheetRequest()\n                        .setRequests(requests);\n</code></pre>\n<p>Can anyone please help me?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1689260228,"post_id":76678665,"comment_id":135191132,"body_markdown":"Refer: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","body":"Refer: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689524459,"creation_date":1689524459,"answer_id":76699282,"question_id":76678665,"body_markdown":"Instead of \r\n\r\n     &lt;skip&gt;true&lt;/skip&gt;\r\n\r\nTry\r\n\r\n    &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;","title":"How to skip the properties from pom.xml","body":"<p>Instead of</p>\n<pre><code> &lt;skip&gt;true&lt;/skip&gt;\n</code></pre>\n<p>Try</p>\n<pre><code>&lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\n</code></pre>\n"}],"owner":{"account_id":20401712,"reputation":13,"user_id":14967286,"display_name":"vaishnavi banait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689524459,"creation_date":1689246341,"question_id":76678665,"body_markdown":"I want to set properties value true in pom.xml and false into the script-\r\npom.xml-\r\n\r\n   \r\n\r\n      &lt;properties&gt;\r\n                &lt;swagger.codegen.plugin.version&gt;3.0.0-rc0&lt;/swagger.codegen.plugin.version&gt;`enter code here`\r\n                &lt;swagger.codegen.plugin.version&gt;3.0.3&lt;/swagger.codegen.plugin.version&gt;\r\n                &lt;swagger.codegen.generators.version&gt;1.0.3&lt;/swagger.codegen.generators.version&gt;\r\n                &lt;swagger.lang&gt;jaxrs-jersey&lt;/swagger.lang&gt;\r\n            &lt;/properties&gt;\r\n\r\ncheck.sh-\r\n\r\n \r\n\r\n    mvn validate -Dmaven.exec.skip -DskipTests -P copyright,license\r\nI have added skip tag but its not working for this plugins\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.codegen.plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-folder-pojo&lt;/id&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skip&gt;true&lt;/skip&gt;\r\n                            &lt;inputSpec&gt;${swagger.inputSpec}/folder_definition.json&lt;/inputSpec&gt;\r\n                            &lt;language&gt;${swagger.lang}&lt;/language&gt;\r\n                            &lt;templateDirectory&gt;${swagger.api}/template&lt;/templateDirectory&gt;\r\n                            &lt;verbose&gt;false&lt;/verbose&gt;\r\n                      \r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;","title":"How to skip the properties from pom.xml","body":"<p>I want to set properties value true in pom.xml and false into the script-\npom.xml-</p>\n<pre><code>  &lt;properties&gt;\n            &lt;swagger.codegen.plugin.version&gt;3.0.0-rc0&lt;/swagger.codegen.plugin.version&gt;`enter code here`\n            &lt;swagger.codegen.plugin.version&gt;3.0.3&lt;/swagger.codegen.plugin.version&gt;\n            &lt;swagger.codegen.generators.version&gt;1.0.3&lt;/swagger.codegen.generators.version&gt;\n            &lt;swagger.lang&gt;jaxrs-jersey&lt;/swagger.lang&gt;\n        &lt;/properties&gt;\n</code></pre>\n<p>check.sh-</p>\n<pre><code>mvn validate -Dmaven.exec.skip -DskipTests -P copyright,license\n</code></pre>\n<p>I have added skip tag but its not working for this plugins</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.codegen.plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-folder-pojo&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;inputSpec&gt;${swagger.inputSpec}/folder_definition.json&lt;/inputSpec&gt;\n                        &lt;language&gt;${swagger.lang}&lt;/language&gt;\n                        &lt;templateDirectory&gt;${swagger.api}/template&lt;/templateDirectory&gt;\n                        &lt;verbose&gt;false&lt;/verbose&gt;\n                  \n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","temporal-workflow"],"answers":[{"tags":[],"owner":{"account_id":1715841,"reputation":61,"user_id":1572920,"display_name":"tsurdilovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689523966,"creation_date":1689523966,"answer_id":76699255,"question_id":76578061,"body_markdown":"Sounds like you are invoking activity from signal handler that terminates the workflow execution (guess you check if it exists first too?).\r\n\r\nThink would be better to start child execution in cancellation scope and on signal cancel the scope (cancel child if running allowing it to do cleanup if needed) and then invoke it again if needed. See sample [here][1] if that helps.\r\n\r\n\r\n  [1]: https://github.com/temporalio/samples-java/blob/main/core/src/main/java/io/temporal/samples/hello/HelloCancellationScope.java","title":"Starting Child workflow from Signal in Temporal","body":"<p>Sounds like you are invoking activity from signal handler that terminates the workflow execution (guess you check if it exists first too?).</p>\n<p>Think would be better to start child execution in cancellation scope and on signal cancel the scope (cancel child if running allowing it to do cleanup if needed) and then invoke it again if needed. See sample <a href=\"https://github.com/temporalio/samples-java/blob/main/core/src/main/java/io/temporal/samples/hello/HelloCancellationScope.java\" rel=\"nofollow noreferrer\">here</a> if that helps.</p>\n"}],"owner":{"account_id":3381392,"reputation":998,"user_id":2838372,"accept_rate":35,"display_name":"aravind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689523966,"creation_date":1688012945,"question_id":76578061,"body_markdown":"I have a set up which creates one parent workflow and then creates a child workflow from it.\r\n\r\nNow I have a requirement to reset the child workflow on certain action(let us say an event). By the time action being performed , child workflow can be active or in completed state.\r\n\r\nSolution I have done.\r\n\r\nI am signalling Parent workflow on the event and in the signal , I am terminating child workflow if exists and re-creating the new child workflow . I have tested it seems working fine… Want to know if this is correct approach or is these any better way to solve the problem…\r\n\r\nI am using java-sdk","title":"Starting Child workflow from Signal in Temporal","body":"<p>I have a set up which creates one parent workflow and then creates a child workflow from it.</p>\n<p>Now I have a requirement to reset the child workflow on certain action(let us say an event). By the time action being performed , child workflow can be active or in completed state.</p>\n<p>Solution I have done.</p>\n<p>I am signalling Parent workflow on the event and in the signal , I am terminating child workflow if exists and re-creating the new child workflow . I have tested it seems working fine… Want to know if this is correct approach or is these any better way to solve the problem…</p>\n<p>I am using java-sdk</p>\n"},{"tags":["java","spring","eclipse","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1687913400,"post_id":76566631,"comment_id":135002642,"body_markdown":"You can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources.","body":"You can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1689276157,"post_id":76566631,"comment_id":135194520,"body_markdown":"@nitind I&#39;m not sure I understand what to do. I go to package explorer, then right click on generated sources folder and then what? Or something else?","body":"@nitind I&#39;m not sure I understand what to do. I go to package explorer, then right click on generated sources folder and then what? Or something else?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1689281949,"post_id":76566631,"comment_id":135195544,"body_markdown":"First, go to the **Java** -&gt; **Code Style** -&gt; **Clean Up** preference page, then when you&#39;ve right-clicked on the source folder, you&#39;ll find the **Clean Up...** action in the **Source** submenu.","body":"First, go to the <b>Java</b> -&gt; <b>Code Style</b> -&gt; <b>Clean Up</b> preference page, then when you&#39;ve right-clicked on the source folder, you&#39;ll find the <b>Clean Up...</b> action in the <b>Source</b> submenu."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1689503573,"post_id":76566631,"comment_id":135220071,"body_markdown":"@nitind Finally managed to do this. Never ever heard about this cleanup option and few days ago my first attempt to configure it cause the whole project to be broken. Today I tried again and  yes, now it&#39;s working exactly as I wanted  / expected. If you put your comment as answer, I&#39;ll mark it as accepted. So far I managed to vote up for your comments :)","body":"@nitind Finally managed to do this. Never ever heard about this cleanup option and few days ago my first attempt to configure it cause the whole project to be broken. Today I tried again and  yes, now it&#39;s working exactly as I wanted  / expected. If you put your comment as answer, I&#39;ll mark it as accepted. So far I managed to vote up for your comments :)"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689523528,"creation_date":1689523528,"answer_id":76699214,"question_id":76566631,"body_markdown":"This isn&#39;t perfect, as you&#39;d need to rerun it if you regenerate your sources, but you can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources. First, go to the **Java** -&gt; **Code Style** -&gt; **Clean Up** preference page, then when you&#39;ve right-clicked on the source folder, you&#39;ll find the **Clean Up...** action in the **Source** submenu.","title":"Disable Eclipse to report &quot;problems&quot; on auto-generated classes (for example Q-classes)","body":"<p>This isn't perfect, as you'd need to rerun it if you regenerate your sources, but you can invoke the Clean Up functionality at the project or source folder level from inside the Package Explorer view to alter the Member Accesses in those sources. First, go to the <strong>Java</strong> -&gt; <strong>Code Style</strong> -&gt; <strong>Clean Up</strong> preference page, then when you've right-clicked on the source folder, you'll find the <strong>Clean Up...</strong> action in the <strong>Source</strong> submenu.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689523854,"creation_date":1689523854,"answer_id":76699248,"question_id":76566631,"body_markdown":"You could mark the folder of the generated classes as `Derived`.","title":"Disable Eclipse to report &quot;problems&quot; on auto-generated classes (for example Q-classes)","body":"<p>You could mark the folder of the generated classes as <code>Derived</code>.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76699214,"answer_count":2,"score":0,"last_activity_date":1689523854,"creation_date":1687881004,"question_id":76566631,"body_markdown":"**Spring Tool Suite 4 Version: 4.19.0.RELEASE**\r\n\r\nIs there a way to configure STS4 / Eclipse to stop generating warnings in Problems view for auto-generated classes?\r\n\r\nFor example: &quot;*Unqualified access to the field QUser._super*&quot;.\r\n\r\nI don&#39;t want to turn of this type of warnings for the whole project or workspace because I want my classes to use qualified access and that warning hepls me except on auto-generated classes.\r\n\r\nBelow you can see the plugin I use to generate Q classes:\r\n\r\n---\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.mysema.maven/apt-maven-plugin --&gt;\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${apt-maven-plugin.version}&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJ76G.png","title":"Disable Eclipse to report &quot;problems&quot; on auto-generated classes (for example Q-classes)","body":"<p><strong>Spring Tool Suite 4 Version: 4.19.0.RELEASE</strong></p>\n<p>Is there a way to configure STS4 / Eclipse to stop generating warnings in Problems view for auto-generated classes?</p>\n<p>For example: &quot;<em>Unqualified access to the field QUser._super</em>&quot;.</p>\n<p>I don't want to turn of this type of warnings for the whole project or workspace because I want my classes to use qualified access and that warning hepls me except on auto-generated classes.</p>\n<p>Below you can see the plugin I use to generate Q classes:</p>\n<hr />\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.mysema.maven/apt-maven-plugin --&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${apt-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;process&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sJ76G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJ76G.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","jacoco"],"owner":{"account_id":20681699,"reputation":148,"user_id":15185138,"display_name":"Vrezh Arakelyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689522592,"creation_date":1689522592,"question_id":76699140,"body_markdown":"We have a gradle project that has the following structure\r\n\r\n    root-project\r\n    |\r\n    |\r\n    ---- core-module\r\n    |\r\n    |\r\n    ---- feature-a\r\n    |\r\n    |\r\n    ---- feature-b\r\n    |\r\n    |\r\n    ---- integration-testing\r\n\r\nThe way that the code is organized is as follows\r\n\r\n - In the core module, a list of public interfaces for the application&#39;s main functionalities is defined\r\n - Each one of the feature modules implements a subset of the interfaces defined in the core module\r\n - The integration-testing module has some tests written against the public interfaces defined in the core module\r\n\r\nThe build.gradle file of the integration-testing module looks like this\r\n\r\n    dependencies {\r\n        implementation project(&#39;:core-module&#39;)\r\n        // some other library dependencies\r\n\r\n        runtimeOnly project(&#39;:feature-a&#39;)\r\n        runtimeOnly project(&#39;:feature-b&#39;)\r\n    }\r\n\r\nThe idea is to have kind of a black-box testing setup where the test code knows only about the public interfaces and doesn&#39;t test any implementation details.\r\n \r\nThe problem that I am facing is how to properly configure a JaCoCo report that would include the percentage of the exported interfaces that are being covered.\r\nWith JaCoCo configuration looking like this\r\n```gradle\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.required = false\r\n        csv.required = false\r\n        html.outputLocation = layout.buildDirectory.dir(&#39;code-coverage&#39;)\r\n    }\r\n}\r\n\r\ntest {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n\r\n    // report is always generated after tests run\r\n    finalizedBy jacocoTestReport\r\n}\r\n```\r\nthe coverage report is being generated just for the classes defined in the integration-testing module, but what I want to get is the percentage of the exported public interfaces that are being covered by the tests(merging coverage results from sub-modules here would not work as the feature-a/feature-b module do not contain the required tests by themselves). \r\n\r\nIs it possible to achieve this type of coverage result with the current project structure?","title":"JaCoCo coverage configuration for a multi-module gradle project","body":"<p>We have a gradle project that has the following structure</p>\n<pre><code>root-project\n|\n|\n---- core-module\n|\n|\n---- feature-a\n|\n|\n---- feature-b\n|\n|\n---- integration-testing\n</code></pre>\n<p>The way that the code is organized is as follows</p>\n<ul>\n<li>In the core module, a list of public interfaces for the application's main functionalities is defined</li>\n<li>Each one of the feature modules implements a subset of the interfaces defined in the core module</li>\n<li>The integration-testing module has some tests written against the public interfaces defined in the core module</li>\n</ul>\n<p>The build.gradle file of the integration-testing module looks like this</p>\n<pre><code>dependencies {\n    implementation project(':core-module')\n    // some other library dependencies\n\n    runtimeOnly project(':feature-a')\n    runtimeOnly project(':feature-b')\n}\n</code></pre>\n<p>The idea is to have kind of a black-box testing setup where the test code knows only about the public interfaces and doesn't test any implementation details.</p>\n<p>The problem that I am facing is how to properly configure a JaCoCo report that would include the percentage of the exported interfaces that are being covered.\nWith JaCoCo configuration looking like this</p>\n<pre><code>jacocoTestReport {\n    dependsOn test\n    reports {\n        xml.required = false\n        csv.required = false\n        html.outputLocation = layout.buildDirectory.dir('code-coverage')\n    }\n}\n\ntest {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n\n    // report is always generated after tests run\n    finalizedBy jacocoTestReport\n}\n</code></pre>\n<p>the coverage report is being generated just for the classes defined in the integration-testing module, but what I want to get is the percentage of the exported public interfaces that are being covered by the tests(merging coverage results from sub-modules here would not work as the feature-a/feature-b module do not contain the required tests by themselves).</p>\n<p>Is it possible to achieve this type of coverage result with the current project structure?</p>\n"},{"tags":["java","swt"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689521631,"creation_date":1591169973,"answer_id":62167615,"question_id":62162676,"body_markdown":"No, there isn&#39;t any property or anything like that to prevent the resizing.\r\n\r\nYou can use `Shell.setMinimumSize` to set a minimum width.\r\n\r\n**Update**\r\nThe following resize code from the original version of this answer doesn&#39;t work as resize is called after the window is resized\r\n\r\n    shell.addListener(SWT.Resize, event -&gt; {\r\n      Shell eventShell = (Shell)event.widget;\r\n\r\n      Point size = eventShell.getSize();\r\n\r\n      if (size.x &lt; 100 || size.y &lt; 100)\r\n       {\r\n         // Stop the resize event\r\n         event.doit = false;\r\n       }\r\n    });\r\n","title":"Minimum size of swt shell and components","body":"<p>No, there isn't any property or anything like that to prevent the resizing.</p>\n<p>You can use <code>Shell.setMinimumSize</code> to set a minimum width.</p>\n<p><strong>Update</strong>\nThe following resize code from the original version of this answer doesn't work as resize is called after the window is resized</p>\n<pre><code>shell.addListener(SWT.Resize, event -&gt; {\n  Shell eventShell = (Shell)event.widget;\n\n  Point size = eventShell.getSize();\n\n  if (size.x &lt; 100 || size.y &lt; 100)\n   {\n     // Stop the resize event\n     event.doit = false;\n   }\n});\n</code></pre>\n"}],"owner":{"account_id":14010592,"reputation":67,"user_id":10119345,"display_name":"llTtoOmMll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62167615,"answer_count":1,"score":0,"last_activity_date":1689521631,"creation_date":1591138619,"question_id":62162676,"body_markdown":"How can I set a minimum size of the shell in swt? For example I have added a search field in my shell but I can shrink the shell almost completely and then the search field isn&#39;t completely visible. Can I change a property of the search field to stop resizing if it would be unseen?","title":"Minimum size of swt shell and components","body":"<p>How can I set a minimum size of the shell in swt? For example I have added a search field in my shell but I can shrink the shell almost completely and then the search field isn't completely visible. Can I change a property of the search field to stop resizing if it would be unseen?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":3,"creation_date":1453133908,"post_id":34859322,"comment_id":57457951,"body_markdown":"You need to give the array a size...","body":"You need to give the array a size..."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1453134203,"post_id":34859322,"comment_id":57458129,"body_markdown":"Creating an empty array means that all slots are empty, BUT you have at least to provide the number of slots.","body":"Creating an empty array means that all slots are empty, BUT you have at least to provide the number of slots."},{"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"score":2,"creation_date":1453134944,"post_id":34859322,"comment_id":57458571,"body_markdown":"When declaring an array, it&#39;s best practice to place the brackets directly after the type, i.e. `int[] array`.","body":"When declaring an array, it&#39;s best practice to place the brackets directly after the type, i.e. <code>int[] array</code>."},{"owner":{"account_id":7641336,"reputation":359,"user_id":5793312,"display_name":"Saif Arsalan"},"score":0,"creation_date":1453167757,"post_id":34859322,"comment_id":57473545,"body_markdown":"I want an array whose size is not constant","body":"I want an array whose size is not constant"},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621172164,"post_id":34859322,"comment_id":119409323,"body_markdown":"https://www.tutorialcup.com/java/arrays-in-java.htm","body":"<a href=\"https://www.tutorialcup.com/java/arrays-in-java.htm\" rel=\"nofollow noreferrer\">tutorialcup.com/java/arrays-in-java.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1545137677,"creation_date":1453133963,"answer_id":34859345,"question_id":34859322,"body_markdown":"You need to give the array a size:\r\n\r\n    public static void main(String args[])\r\n    {\r\n        int array[] = new int[4];\r\n        int number = 5, i = 0,j = 0;\r\n        while (i&lt;4){\r\n            array[i]=number;\r\n            i=i+1;\r\n        }\r\n        while (j&lt;4){\r\n            System.out.println(array[j]);\r\n            j++;\r\n        }\r\n    }","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You need to give the array a size:</p>\n\n<pre><code>public static void main(String args[])\n{\n    int array[] = new int[4];\n    int number = 5, i = 0,j = 0;\n    while (i&lt;4){\n        array[i]=number;\n        i=i+1;\n    }\n    while (j&lt;4){\n        System.out.println(array[j]);\n        j++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20289,"reputation":5248,"user_id":48348,"accept_rate":82,"display_name":"Ian Grainger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453134036,"creation_date":1453134036,"answer_id":34859367,"question_id":34859322,"body_markdown":"You can&#39;t set a number in an arbitrary place in the array without telling the array how big it needs to be. For your example: `int[] array = new int[4];`","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You can't set a number in an arbitrary place in the array without telling the array how big it needs to be. For your example: <code>int[] array = new int[4];</code></p>\n"},{"tags":[],"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1689520969,"creation_date":1453134164,"answer_id":34859412,"question_id":34859322,"body_markdown":"You are creating an array of zero length (no slots to put anything in)\r\n\r\n     int array[]={/*nothing in here = array with no slots*/};\r\n\r\nand then trying to assign values to array slots (which you don&#39;t have, because there are none)\r\n\r\n    array[i] = number; //array[i] = element i in the array of length 0\r\n\r\nYou need to define a larger array to fit your needs\r\n\r\n     int array[] = new int[4]; //Create an array with 4 elements [0],[1],[2] and [3] each containing an int value\r\n\r\n","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You are creating an array of zero length (no slots to put anything in)</p>\n<pre><code> int array[]={/*nothing in here = array with no slots*/};\n</code></pre>\n<p>and then trying to assign values to array slots (which you don't have, because there are none)</p>\n<pre><code>array[i] = number; //array[i] = element i in the array of length 0\n</code></pre>\n<p>You need to define a larger array to fit your needs</p>\n<pre><code> int array[] = new int[4]; //Create an array with 4 elements [0],[1],[2] and [3] each containing an int value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2049107,"reputation":1803,"user_id":1828486,"accept_rate":64,"display_name":"Mage Xy"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1453134446,"creation_date":1453134446,"answer_id":34859511,"question_id":34859322,"body_markdown":"Your code compiles just fine. However, your array initialization line is wrong: \r\n\r\n    int array[]={};\r\n\r\nWhat this does is declare an array with a size equal to the number of elements in the brackets. Since there is nothing in the brackets, you&#39;re saying the size of the array is 0 - this renders the array completely useless, since now it can&#39;t store anything. \r\n\r\nInstead, you can either initialize the array right in your original line: \r\n\r\n    int array[] = { 5, 5, 5, 5 };\r\n\r\nOr you can declare the size and then populate it: \r\n\r\n    int array[] = new int[4];\r\n    // ...while loop\r\n\r\nIf you don&#39;t know the size of the array ahead of time (for example, if you&#39;re reading a file and storing the contents), you should use an `ArrayList` instead, because that&#39;s an array that grows in size dynamically as more elements are added to it (in layman&#39;s terms). ","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>Your code compiles just fine. However, your array initialization line is wrong: </p>\n\n<pre><code>int array[]={};\n</code></pre>\n\n<p>What this does is declare an array with a size equal to the number of elements in the brackets. Since there is nothing in the brackets, you're saying the size of the array is 0 - this renders the array completely useless, since now it can't store anything. </p>\n\n<p>Instead, you can either initialize the array right in your original line: </p>\n\n<pre><code>int array[] = { 5, 5, 5, 5 };\n</code></pre>\n\n<p>Or you can declare the size and then populate it: </p>\n\n<pre><code>int array[] = new int[4];\n// ...while loop\n</code></pre>\n\n<p>If you don't know the size of the array ahead of time (for example, if you're reading a file and storing the contents), you should use an <code>ArrayList</code> instead, because that's an array that grows in size dynamically as more elements are added to it (in layman's terms). </p>\n"},{"tags":[],"owner":{"account_id":5734410,"reputation":1164,"user_id":4529026,"accept_rate":91,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571404034,"creation_date":1571404034,"answer_id":58451567,"question_id":34859322,"body_markdown":"You can do some thing like this,\r\n\r\nInitialize with empty array and assign the values later\r\n\r\n    String importRt = &quot;23:43 43:34&quot;;\r\n    if(null != importRt) {\r\n                importArray = Arrays.stream(importRt.split(&quot; &quot;))\r\n                        .map(String::trim)\r\n                        .toArray(String[]::new);\r\n            }\r\n    \r\n    System.out.println(Arrays.toString(exportImportArray));\r\n\r\nHope it helps..","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You can do some thing like this,</p>\n\n<p>Initialize with empty array and assign the values later</p>\n\n<pre><code>String importRt = \"23:43 43:34\";\nif(null != importRt) {\n            importArray = Arrays.stream(importRt.split(\" \"))\n                    .map(String::trim)\n                    .toArray(String[]::new);\n        }\n\nSystem.out.println(Arrays.toString(exportImportArray));\n</code></pre>\n\n<p>Hope it helps..</p>\n"},{"tags":[],"owner":{"account_id":16070995,"reputation":51,"user_id":11599445,"display_name":"shantanuk100"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643430032,"creation_date":1603853411,"answer_id":64565820,"question_id":34859322,"body_markdown":"So the issue is in your array declaration you are declaring an empty array with the empty curly braces{} instead of an array that allows slots.\r\n\r\nRoughly speaking, there can be three types of inputs:\r\n\r\n 1. `int array[] = null;` - Does not point to any memory locations so is a null arrau\r\n 2. `int array[] = {}` - which is sort of equivalent to `int array[] = new int[0];`\r\n 3. `int array[] = new int[n]` where `n` is some number indicating the number of \r\nmemory locations in the array","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>So the issue is in your array declaration you are declaring an empty array with the empty curly braces{} instead of an array that allows slots.</p>\n<p>Roughly speaking, there can be three types of inputs:</p>\n<ol>\n<li><code>int array[] = null;</code> - Does not point to any memory locations so is a null arrau</li>\n<li><code>int array[] = {}</code> - which is sort of equivalent to <code>int array[] = new int[0];</code></li>\n<li><code>int array[] = new int[n]</code> where <code>n</code> is some number indicating the number of\nmemory locations in the array</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14896954,"reputation":31,"user_id":10756971,"display_name":"Steve Jose"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619683388,"creation_date":1619683388,"answer_id":67313347,"question_id":34859322,"body_markdown":"You can try creating new array at every iteration with a size greater than in the previous iteration.\r\ni.e.\r\n```\r\npublic class JavaConversion\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        int array[]=new int[0];\r\n        int number = 5, i = 0,j = 0;\r\n        while (i&lt;4) {\r\n            array = Arrays.copyOf(array, array.length + 1);\r\n            array[i]=number;\r\n            i=i+1;\r\n        }\r\n        while (j&lt;4) {\r\n            System.out.println(array[j]);\r\n        }\r\n    }\r\n}\r\n```","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>You can try creating new array at every iteration with a size greater than in the previous iteration.\ni.e.</p>\n<pre><code>public class JavaConversion\n{\n    public static void main(String args[])\n    {\n        int array[]=new int[0];\n        int number = 5, i = 0,j = 0;\n        while (i&lt;4) {\n            array = Arrays.copyOf(array, array.length + 1);\n            array[i]=number;\n            i=i+1;\n        }\n        while (j&lt;4) {\n            System.out.println(array[j]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635599222,"creation_date":1635599222,"answer_id":69779900,"question_id":34859322,"body_markdown":"It is better for that operation use ArrayList","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>It is better for that operation use ArrayList</p>\n"}],"owner":{"account_id":7641336,"reputation":359,"user_id":5793312,"display_name":"Saif Arsalan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292007,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"answer_count":8,"score":31,"last_activity_date":1689520969,"creation_date":1453133823,"question_id":34859322,"body_markdown":"I want to declare an empty array in Java and then I want do update it but the code is not working.\r\n\r\n    public class JavaConversion {\r\n\r\n        public static void main(String args[]) {\r\n\t\t    int array[] = {};\r\n\t\t    int number = 5, i = 0, j = 0;\r\n\r\n\t\t    while (i &lt; 4) {\r\n\t\t\t    array[i] = number;\r\n\t\t\t    i = i + 1;\r\n\t\t    }\r\n\r\n\t\t    while (j &lt; 4) {\r\n\t\t\t    System.out.println(array[j]);\r\n\t\t    }\r\n\t    }\r\n\r\n    }","title":"I want to declare an empty array in Java and then I want do update it but the code is not working","body":"<p>I want to declare an empty array in Java and then I want do update it but the code is not working.</p>\n<pre><code>public class JavaConversion {\n\n    public static void main(String args[]) {\n        int array[] = {};\n        int number = 5, i = 0, j = 0;\n\n        while (i &lt; 4) {\n            array[i] = number;\n            i = i + 1;\n        }\n\n        while (j &lt; 4) {\n            System.out.println(array[j]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","netbeans","matisse"],"answers":[{"tags":[],"owner":{"account_id":214928,"reputation":9307,"user_id":469201,"accept_rate":67,"display_name":"davidbuzatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689386270,"creation_date":1689385191,"answer_id":76691897,"question_id":76685237,"body_markdown":"If you want total control of the components layout you will need to use the Null Layout. It&#39;s not recommended, since the layout managers are responsible for making yout GUI &quot;responsive&quot; when maximized, etc. When using Group Layout, the default layout manager used by Matisse, you will have these &quot;strange&quot; behaviors when setting invisible components. One way to prevent if to group your components in containers like JPanels. In your scenario, you could use a JPanel to group all your buttons. You can also change the horizontal and vertical resizability of the components. Take a look in the image. These options are highlighted in orange. The first two examples are with the horizontal resizability turned on. The third example is with this property turned off.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn yout scenario, I would use a Grid Bag Layout and JPanels to organize my components. To change the layout manager, right click inside yout JFrame -&gt; Set Layout -&gt; Grid Bag Layout:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nTo customize it, right click -&gt; Customize Layout:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EQSlk.png\r\n  [2]: https://i.stack.imgur.com/95vm1.png\r\n  [3]: https://i.stack.imgur.com/6dsG1.png\r\n  [4]: https://i.stack.imgur.com/ds1YB.png","title":"Netbeans GUI: Matisse and component layout","body":"<p>If you want total control of the components layout you will need to use the Null Layout. It's not recommended, since the layout managers are responsible for making yout GUI &quot;responsive&quot; when maximized, etc. When using Group Layout, the default layout manager used by Matisse, you will have these &quot;strange&quot; behaviors when setting invisible components. One way to prevent if to group your components in containers like JPanels. In your scenario, you could use a JPanel to group all your buttons. You can also change the horizontal and vertical resizability of the components. Take a look in the image. These options are highlighted in orange. The first two examples are with the horizontal resizability turned on. The third example is with this property turned off.</p>\n<p><a href=\"https://i.stack.imgur.com/EQSlk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQSlk.png\" alt=\"enter image description here\" /></a></p>\n<p>In yout scenario, I would use a Grid Bag Layout and JPanels to organize my components. To change the layout manager, right click inside yout JFrame -&gt; Set Layout -&gt; Grid Bag Layout:</p>\n<p><a href=\"https://i.stack.imgur.com/95vm1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95vm1.png\" alt=\"enter image description here\" /></a></p>\n<p>To customize it, right click -&gt; Customize Layout:</p>\n<p><a href=\"https://i.stack.imgur.com/6dsG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6dsG1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ds1YB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ds1YB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689519193,"creation_date":1689496585,"answer_id":76697354,"question_id":76685237,"body_markdown":"Meanwhile I found some [documentation][1] in the Netbeans Tutorials.\r\n\r\nThe secret is to tell Matisse how to align the components, and it cannot be done just by dragging and dropping or resizing them. So what I did was to select all the text fields (click them one by one while holding Ctrl), then press the now available &quot;Align left in column&quot; button. Finally I did the same with the buttons.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe result is what I expected to have. :-)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://netbeans.apache.org/kb/docs/java/quickstart-gui.html#_component_alignment\r\n  [2]: https://i.stack.imgur.com/Lt6ns.png\r\n  [3]: https://i.stack.imgur.com/PBJTe.png\r\n  [4]: https://i.stack.imgur.com/OKuSC.png","title":"Netbeans GUI: Matisse and component layout","body":"<p>Meanwhile I found some <a href=\"https://netbeans.apache.org/kb/docs/java/quickstart-gui.html#_component_alignment\" rel=\"nofollow noreferrer\">documentation</a> in the Netbeans Tutorials.</p>\n<p>The secret is to tell Matisse how to align the components, and it cannot be done just by dragging and dropping or resizing them. So what I did was to select all the text fields (click them one by one while holding Ctrl), then press the now available &quot;Align left in column&quot; button. Finally I did the same with the buttons.</p>\n<p><a href=\"https://i.stack.imgur.com/Lt6ns.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lt6ns.png\" alt=\"enter image description here\" /></a></p>\n<p>The result is what I expected to have. :-)</p>\n<p><a href=\"https://i.stack.imgur.com/PBJTe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PBJTe.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OKuSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OKuSC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76697354,"answer_count":2,"score":2,"last_activity_date":1689519193,"creation_date":1689316711,"question_id":76685237,"body_markdown":"I have a Swing application created in Netbeans using Matisse GUI builder. One of the panels I created looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to use this panel in two scenarios:\r\n- use it to enter data. Then the form is used as it would be obvious. When resizing, the text fields grow horizontally to fill the available space.\r\n- use it to just display data. In that case the textfields are `setEnabled(false)` and the buttons are `setVisible(false)`.\r\n\r\nAll this works quite well, but I am wondering about the textfield sizes when the buttons are disabled, as they do not all grow the same. Here you can see the panel in the two scenarios:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhile I am pretty sure the correct settings can be done in the GUI builder I am not sure what I need to look at. Where do you edit such constraints as of where a component is anchored (left, right, top, down and whether it is the next sibling or the parent) and how it should move/grow upon resize? I just do not see the relevant buttons or menus in Netbeans/Matisse. Could it be that I just need to look at the correct use of Glue and fillers?\r\n\r\nI am aware I could switch to other layout managers but like the optical effect of having a common baseline on the text.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HEWax.png\r\n  [2]: https://i.stack.imgur.com/jXLrE.png\r\n  [3]: https://i.stack.imgur.com/cCule.png","title":"Netbeans GUI: Matisse and component layout","body":"<p>I have a Swing application created in Netbeans using Matisse GUI builder. One of the panels I created looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/HEWax.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HEWax.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to use this panel in two scenarios:</p>\n<ul>\n<li>use it to enter data. Then the form is used as it would be obvious. When resizing, the text fields grow horizontally to fill the available space.</li>\n<li>use it to just display data. In that case the textfields are <code>setEnabled(false)</code> and the buttons are <code>setVisible(false)</code>.</li>\n</ul>\n<p>All this works quite well, but I am wondering about the textfield sizes when the buttons are disabled, as they do not all grow the same. Here you can see the panel in the two scenarios:</p>\n<p><a href=\"https://i.stack.imgur.com/jXLrE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXLrE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cCule.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cCule.png\" alt=\"enter image description here\" /></a></p>\n<p>While I am pretty sure the correct settings can be done in the GUI builder I am not sure what I need to look at. Where do you edit such constraints as of where a component is anchored (left, right, top, down and whether it is the next sibling or the parent) and how it should move/grow upon resize? I just do not see the relevant buttons or menus in Netbeans/Matisse. Could it be that I just need to look at the correct use of Glue and fillers?</p>\n<p>I am aware I could switch to other layout managers but like the optical effect of having a common baseline on the text.</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","jodconverter"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689521024,"post_id":76698877,"comment_id":135222101,"body_markdown":"Could you try to remove `Content-Type:multipart/form-data` header from your Postman request? Postman automatically sets the Content-Type to `multipart/form-data`, and it also adds a boundary in the Content-Type header, which is important for the server to correctly parse the request","body":"Could you try to remove <code>Content-Type:multipart&#47;form-data</code> header from your Postman request? Postman automatically sets the Content-Type to <code>multipart&#47;form-data</code>, and it also adds a boundary in the Content-Type header, which is important for the server to correctly parse the request"},{"owner":{"account_id":3145385,"reputation":883,"user_id":2659962,"display_name":"Akhilesh Pandey"},"score":0,"creation_date":1689535461,"post_id":76698877,"comment_id":135223747,"body_markdown":"I tried removing and testing, still getting same issue.   @YahorBarkouski","body":"I tried removing and testing, still getting same issue.   @YahorBarkouski"}],"owner":{"account_id":3145385,"reputation":883,"user_id":2659962,"display_name":"Akhilesh Pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689519125,"creation_date":1689519125,"question_id":76698877,"body_markdown":"I&#39;m encountering an issue while attempting to convert a document to PDF using the JodConverter library in a Spring WebFlux application. Does anyone have any suggestions?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&gt; &quot;timestamp&quot;: &quot;2023-07-14T19:40:59.407+00:00&quot;, &quot;status&quot;: 415, &quot;error&quot;:\r\n&gt; &quot;Unsupported Media Type&quot;, &quot;trace&quot;:\r\n&gt; &quot;org.springframework.web.HttpMediaTypeNotSupportedException:\r\n&gt; Content-Type &#39;application/msword&#39; is not supported\\n\\tat\r\n\r\n\r\n**Project:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.document.converter&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;document-converter&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;document-converter&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jodconverter-local&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jodconverter-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;Central Maven repository&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Central Maven repository https&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n\t\t&lt;/repository&gt;\r\n\r\n\t&lt;/repositories&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- ... --&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nController \r\n\r\n\r\n```\r\npackage com.document.converter.controller;\r\n\r\nimport com.document.converter.service.ConverterService;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestPart;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.scheduler.Schedulers;\r\n\r\n@RestController\r\npublic class ConverterController {\r\n    private final ConverterService converterService;\r\n    private final String PDF_FORMAT = &quot;pdf&quot;;\r\n\r\n    public ConverterController(ConverterService converterService) {\r\n        this.converterService = converterService;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/converter/v1/pdf&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public Mono&lt;ResponseEntity&lt;byte[]&gt;&gt; convert(@RequestPart(&quot;file&quot;) Mono&lt;MultipartFile&gt; filePart) {\r\n        return filePart\r\n                .publishOn(Schedulers.boundedElastic())\r\n                .flatMap(converterService::convertToPdf)\r\n                .map(convertedFile -&gt; {\r\n                    final HttpHeaders headers = new HttpHeaders();\r\n                    headers.setContentType(MediaType.APPLICATION_PDF);\r\n                    headers.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=output.pdf&quot;);\r\n                    return ResponseEntity.ok()\r\n                            .headers(headers)\r\n                            .body(convertedFile);\r\n                });\r\n    }\r\n}\r\n```\r\n\r\n\r\nservice \r\n\r\n\r\n```\r\npackage com.document.converter.service;\r\n\r\nimport org.jodconverter.core.DocumentConverter;\r\nimport org.jodconverter.core.document.DefaultDocumentFormatRegistry;\r\nimport org.jodconverter.core.document.DocumentFormat;\r\nimport org.jodconverter.core.office.OfficeException;\r\nimport org.jodconverter.core.office.OfficeManager;\r\nimport org.jodconverter.local.LocalConverter;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.scheduler.Schedulers;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n@Service\r\npublic class ConverterService {\r\n\r\n    private final OfficeManager officeManager;\r\n\r\n    public ConverterService(OfficeManager officeManager) {\r\n        this.officeManager = officeManager;\r\n    }\r\n\r\n    public Mono&lt;byte[]&gt; convertToPdf(MultipartFile inputFile) {\r\n        return Mono.fromCallable(() -&gt; {\r\n            final DocumentFormat conversionTargetFormat =\r\n                    DefaultDocumentFormatRegistry.getFormatByExtension(&quot;pdf&quot;);\r\n\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n            final DocumentConverter converter = LocalConverter.builder()\r\n                    .officeManager(officeManager)\r\n                    .build();\r\n\r\n            try (InputStream inputStream = inputFile.getInputStream()) {\r\n                converter\r\n                        .convert(inputStream)\r\n                        .to(outputStream)\r\n                        .as(conversionTargetFormat)\r\n                        .execute();\r\n            } catch (IOException | OfficeException e) {\r\n                throw new RuntimeException(&quot;Failed to convert the file.&quot;, e);\r\n            }\r\n\r\n            return outputStream.toByteArray();\r\n        }).subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n}\r\n```\r\n\r\n\r\nmain class \r\n\r\n```\r\npackage com.document.converter;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(ServerProperties.class)\r\npublic class DocumentConverterApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DocumentConverterApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nserver.port: 8083\r\njodconverter:\r\n  local:\r\n    enabled: true\r\n    port-numbers: 2002\r\n    kill-existing-process: true\r\n    process-timeout: 250000\r\n    process-retry-interval: 1000\r\n    max-tasks-per-process: 200\r\n    task-execution-timeout: 250000\r\n    task-queue-timeout: 90000\r\n    format-options:\r\n      html:\r\n        store:\r\n          TEXT:\r\n            FilterOptions: EmbedImages\r\n```\r\n\r\ni am testing it as below using postman ,\r\n\r\nUrl  `http://localhost:8083/converter/v1/pdf`\r\n      `Method : POST`\r\n      `Content-Type:multipart/form-data`\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDetailed \r\n\r\nany suggestions ? \r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eW8RX.png","title":"issue doc to pdf using jodconverter library in spring-web-flux","body":"<p>I'm encountering an issue while attempting to convert a document to PDF using the JodConverter library in a Spring WebFlux application. Does anyone have any suggestions?</p>\n<blockquote>\n<p>&quot;timestamp&quot;: &quot;2023-07-14T19:40:59.407+00:00&quot;, &quot;status&quot;: 415, &quot;error&quot;:\n&quot;Unsupported Media Type&quot;, &quot;trace&quot;:\n&quot;org.springframework.web.HttpMediaTypeNotSupportedException:\nContent-Type 'application/msword' is not supported\\n\\tat</p>\n</blockquote>\n<p><strong>Project:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.document.converter&lt;/groupId&gt;\n    &lt;artifactId&gt;document-converter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;document-converter&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\n            &lt;artifactId&gt;jodconverter-local&lt;/artifactId&gt;\n            &lt;version&gt;4.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jodconverter&lt;/groupId&gt;\n            &lt;artifactId&gt;jodconverter-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Central Maven repository&lt;/id&gt;\n            &lt;name&gt;Central Maven repository https&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n\n    &lt;/repositories&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- ... --&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.22&lt;/version&gt;\n                        &lt;scope&gt;runtime&lt;/scope&gt;\n                    &lt;/dependency&gt;\n\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.document.converter.controller;\n\nimport com.document.converter.service.ConverterService;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport reactor.core.publisher.Mono;\nimport reactor.core.scheduler.Schedulers;\n\n@RestController\npublic class ConverterController {\n    private final ConverterService converterService;\n    private final String PDF_FORMAT = &quot;pdf&quot;;\n\n    public ConverterController(ConverterService converterService) {\n        this.converterService = converterService;\n    }\n\n    @PostMapping(path = &quot;/converter/v1/pdf&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public Mono&lt;ResponseEntity&lt;byte[]&gt;&gt; convert(@RequestPart(&quot;file&quot;) Mono&lt;MultipartFile&gt; filePart) {\n        return filePart\n                .publishOn(Schedulers.boundedElastic())\n                .flatMap(converterService::convertToPdf)\n                .map(convertedFile -&gt; {\n                    final HttpHeaders headers = new HttpHeaders();\n                    headers.setContentType(MediaType.APPLICATION_PDF);\n                    headers.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=output.pdf&quot;);\n                    return ResponseEntity.ok()\n                            .headers(headers)\n                            .body(convertedFile);\n                });\n    }\n}\n</code></pre>\n<p>service</p>\n<pre><code>package com.document.converter.service;\n\nimport org.jodconverter.core.DocumentConverter;\nimport org.jodconverter.core.document.DefaultDocumentFormatRegistry;\nimport org.jodconverter.core.document.DocumentFormat;\nimport org.jodconverter.core.office.OfficeException;\nimport org.jodconverter.core.office.OfficeManager;\nimport org.jodconverter.local.LocalConverter;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\nimport reactor.core.publisher.Mono;\nimport reactor.core.scheduler.Schedulers;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Service\npublic class ConverterService {\n\n    private final OfficeManager officeManager;\n\n    public ConverterService(OfficeManager officeManager) {\n        this.officeManager = officeManager;\n    }\n\n    public Mono&lt;byte[]&gt; convertToPdf(MultipartFile inputFile) {\n        return Mono.fromCallable(() -&gt; {\n            final DocumentFormat conversionTargetFormat =\n                    DefaultDocumentFormatRegistry.getFormatByExtension(&quot;pdf&quot;);\n\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n            final DocumentConverter converter = LocalConverter.builder()\n                    .officeManager(officeManager)\n                    .build();\n\n            try (InputStream inputStream = inputFile.getInputStream()) {\n                converter\n                        .convert(inputStream)\n                        .to(outputStream)\n                        .as(conversionTargetFormat)\n                        .execute();\n            } catch (IOException | OfficeException e) {\n                throw new RuntimeException(&quot;Failed to convert the file.&quot;, e);\n            }\n\n            return outputStream.toByteArray();\n        }).subscribeOn(Schedulers.boundedElastic());\n    }\n}\n</code></pre>\n<p>main class</p>\n<pre><code>package com.document.converter;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties(ServerProperties.class)\npublic class DocumentConverterApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DocumentConverterApplication.class, args);\n    }\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>server.port: 8083\njodconverter:\n  local:\n    enabled: true\n    port-numbers: 2002\n    kill-existing-process: true\n    process-timeout: 250000\n    process-retry-interval: 1000\n    max-tasks-per-process: 200\n    task-execution-timeout: 250000\n    task-queue-timeout: 90000\n    format-options:\n      html:\n        store:\n          TEXT:\n            FilterOptions: EmbedImages\n</code></pre>\n<p>i am testing it as below using postman ,</p>\n<p>Url  <code>http://localhost:8083/converter/v1/pdf</code>\n<code>Method : POST</code>\n<code>Content-Type:multipart/form-data</code>\n<a href=\"https://i.stack.imgur.com/eW8RX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eW8RX.png\" alt=\"enter image description here\" /></a></p>\n<p>Detailed</p>\n<p>any suggestions ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1689549934,"post_id":76698767,"comment_id":135225116,"body_markdown":"A simple `Timeline` animation is shown [here](https://stackoverflow.com/a/37516327/230513); more [here](https://stackoverflow.com/a/37370840/230513).","body":"A simple <code>Timeline</code> animation is shown <a href=\"https://stackoverflow.com/a/37516327/230513\">here</a>; more <a href=\"https://stackoverflow.com/a/37370840/230513\">here</a>."}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689517465,"creation_date":1689517465,"question_id":76698767,"body_markdown":"Below is a simplified example of what I have so far. It&#39;s a 2d array which can display blocks based on row/col in the array data.  The user can move around the scene forward, back, up and down, and turn left/right 45 degrees using the arrow keys.\r\n\r\n* up arrow = forward\r\n* back arrow = backward\r\n* left arrow = turn left\r\n* right arrow = turn right\r\n* PgUp = look upward\r\n* PgDown = look downward\r\n* Ins = move up\r\n* Del = move down\r\n\r\nThe place I&#39;m stuck is how can I add transition animations for these movements? Whenever I try everything goes out whack.\r\n\r\nHere&#39;s the copy/paste code (running JavaFX with Java 17).\r\n\r\nThanks!\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.paint.Material;\r\n    import javafx.scene.paint.PhongMaterial;\r\n    import javafx.scene.shape.Box;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.scene.transform.Translate;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class MazeAnimationApp extends Application {\r\n    \r\n        private World world;\r\n        private Stage stage;\r\n        private Scene scene;\r\n    \r\n        static final Random random = new Random(1);\r\n    \r\n        private final BorderPane mainPane = new BorderPane();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            this.stage = stage;\r\n    \r\n            world = new World(getData());\r\n    \r\n            setupScene();\r\n            setupStage();\r\n            stage.show();\r\n        }\r\n    \r\n        private String[][] getData() {\r\n            String[][] data = new String[32][32];\r\n            for (int j = 0; j &lt; 32; j++) {\r\n                for (int k = 0; k &lt; 32; k++) {\r\n                    if (random.nextInt(32) % 3 == 0 &amp;&amp; random.nextInt(32) % 3 == 0) {\r\n                        data[j][k] = &quot;X&quot;;\r\n                    }\r\n                }\r\n            }\r\n            return data;\r\n        }\r\n    \r\n        private void setupScene() {\r\n    \r\n            scene = new Scene(mainPane, 1024, 768);\r\n    \r\n            mainPane.setCenter(world.getScene());\r\n    \r\n            Button btn = new Button(&quot;press arrows&quot;);\r\n            btn.setTranslateX(0);\r\n            btn.setTranslateY(0);\r\n            mainPane.setBottom(btn);\r\n            btn.setOnKeyPressed(event -&gt; {\r\n                keyPressed(event.getCode());\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        private void setupStage() {\r\n            stage.setTitle(&quot;Demo of something&quot;);\r\n            stage.setFullScreenExitHint(&quot;&quot;);\r\n            stage.setWidth(1024);\r\n            stage.setHeight(768);\r\n    \r\n            stage.setScene(scene);\r\n    \r\n        }\r\n    \r\n        private void keyPressed(KeyCode keyCode) {\r\n            System.out.println(&quot;keypressed &quot; + keyCode);\r\n            var camera = world.getCamera();\r\n            switch (keyCode) {\r\n    \r\n                case KP_UP, NUMPAD8, UP -&gt; {\r\n                    // forward\r\n                    camera.addToPos(1);\r\n                }\r\n                case KP_DOWN, NUMPAD2, DOWN -&gt; {\r\n                    // back\r\n                    camera.addToPos(-1);\r\n                }\r\n    \r\n                case KP_LEFT, LEFT, NUMPAD4 -&gt; {\r\n                    // left\r\n                    camera.addToHAngle(-90);\r\n                }\r\n    \r\n                case KP_RIGHT, RIGHT, NUMPAD6 -&gt; {\r\n                    // right\r\n                    camera.addToHAngle(90);\r\n                }\r\n    \r\n                case PAGE_UP -&gt; {\r\n                    // look up\r\n                    camera.addToVAngle(45);\r\n                }\r\n    \r\n                case PAGE_DOWN -&gt; {\r\n                    // look down\r\n                    camera.addToVAngle(-45);\r\n                }\r\n    \r\n                case INSERT -&gt; {\r\n                    // go up\r\n                    camera.elevate(-0.5);\r\n                }\r\n    \r\n                case DELETE -&gt; {\r\n                    // go down\r\n                    camera.elevate(0.5);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    \r\n        private static class MazeCamera extends PerspectiveCamera {\r\n    \r\n            private final Translate pos = new Translate();\r\n    \r\n            /**\r\n             * Direction on the horizontal plane.\r\n             */\r\n            private final Rotate hdir = new Rotate(-180, Rotate.Y_AXIS);\r\n    \r\n            /**\r\n             * Direction on the vertical plane.\r\n             */\r\n            private final Rotate vdir = new Rotate(0, Rotate.X_AXIS);\r\n    \r\n            public MazeCamera() {\r\n                super(true);\r\n    \r\n                setFieldOfView(100);\r\n                setVerticalFieldOfView(false);\r\n                setNearClip(0.001);\r\n                setFarClip(30);\r\n                getTransforms().addAll(pos, hdir, vdir);\r\n                // y = - up + down\r\n                // z = - forward + back\r\n                // x = - left + right\r\n            }\r\n    \r\n            public void setPos(final double x, final double y, final double z) {\r\n                pos.setX(x);\r\n                pos.setY(y);\r\n                pos.setZ(z);\r\n            }\r\n    \r\n            public void setHAngle(final double hangle) {\r\n                hdir.setAngle(hangle);\r\n            }\r\n    \r\n            public void addToHAngle(final double hdelta) {\r\n                hdir.setAngle(hdir.getAngle() + hdelta);\r\n            }\r\n    \r\n            public void setVAngle(final double vangle) {\r\n                vdir.setAngle(vangle);\r\n            }\r\n    \r\n            public void addToVAngle(final double vdelta) {\r\n                final double vangle = vdir.getAngle() + vdelta;\r\n                if (vangle &lt; -90 || vangle &gt; 90) {\r\n                    return;\r\n                }\r\n    \r\n                vdir.setAngle(vdir.getAngle() + vdelta);\r\n            }\r\n    \r\n            /**\r\n             * Adds the specified amount to the camera&#39;s horizontal position, toward the camera&#39;s current horizontal direction.\r\n             *\r\n             * @param helta horizontal distance to be added to the camera&#39;s current horizontal position\r\n             */\r\n            public void addToPos(final double helta) {\r\n                addToPos(helta, hdir.getAngle());\r\n            }\r\n    \r\n            /**\r\n             * Adds the specified amount to the camera&#39;s horizontal position, toward the specified horizontal direction.\r\n             *\r\n             * @param hdelta horizontal distance to be added to the camera&#39;s current horizontal position\r\n             */\r\n            public void addToPos(double hdelta, final double hangle) {\r\n    \r\n                final double rad = Math.toRadians(hangle);\r\n    \r\n                pos.setX(pos.getX() + hdelta * Math.sin(rad));\r\n                pos.setZ(pos.getZ() + hdelta * Math.cos(rad));\r\n            }\r\n    \r\n            /**\r\n             * Elevates the camera: adds the specified vertical delta to its y position.\r\n             *\r\n             * @param vdelta (vertical) elevation to be added to the camera&#39;s current vertical position\r\n             */\r\n            public void elevate(final double vdelta) {\r\n                pos.setY(pos.getY() + vdelta);\r\n            }\r\n    \r\n            public Translate getPos() {\r\n                return pos;\r\n            }\r\n    \r\n            public Rotate getHDir() {\r\n                return hdir;\r\n            }\r\n    \r\n        }\r\n    \r\n        private record BlockPos(int row, int col) {\r\n            static int maxDistance = 32;\r\n        }\r\n    \r\n    \r\n        private static class World {\r\n            private final Group root = new Group();\r\n    \r\n            private final SubScene scene = new SubScene(root, 800, 600, true, SceneAntialiasing.BALANCED);\r\n    \r\n            private final MazeCamera camera = new MazeCamera();\r\n    \r\n            private final PointLight pointLight = new PointLight(Color.gray(0.3));\r\n    \r\n            private final AmbientLight ambientLight = new AmbientLight(Color.ANTIQUEWHITE);\r\n    \r\n            private final Material material1 = new PhongMaterial(Color.RED, null, null, null, null);\r\n            private final Material material2 = new PhongMaterial(Color.GREEN, null, null, null, null);\r\n            private final Material material3 = new PhongMaterial(Color.BLUE, null, null, null, null);\r\n    \r\n            private final String[][] data;\r\n    \r\n            public World(String[][] data) {\r\n                this.data = data;\r\n                initScene();\r\n            }\r\n    \r\n            private void initScene() {\r\n                root.getChildren().clear();\r\n                pointLight.getTransforms().clear();\r\n    \r\n                camera.setVAngle(0);\r\n                camera.setHAngle(0);\r\n    \r\n                root.getChildren().add(camera);\r\n                root.getChildren().add(ambientLight);\r\n                root.getChildren().add(pointLight);\r\n    \r\n                scene.setCamera(camera);\r\n                scene.setFill(Color.LIGHTBLUE);\r\n    \r\n                int row = 5;\r\n                int col = 5;\r\n                camera.setPos(col + 0.5, 0, BlockPos.maxDistance - row + 0.5);\r\n    \r\n                for (int r = 0; r &lt; BlockPos.maxDistance; r++) {\r\n                    for (int c = 0; c &lt; BlockPos.maxDistance; c++) {\r\n                        if (&quot;X&quot;.equalsIgnoreCase(data[r][c])) {\r\n                            BlockPos pos = new BlockPos(r, c);\r\n                            root.getChildren().add(createBlock(pos));\r\n                        }\r\n    \r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            private Node createBlock(BlockPos pos) {\r\n                Box box = new Box(1, 1, 1);\r\n                Material material = null;\r\n                int r = random.nextInt(3);\r\n                switch (r) {\r\n                    case 0 -&gt; material = material1;\r\n                    case 1 -&gt; material = material2;\r\n                    case 2 -&gt; material = material3;\r\n                }\r\n                box.setMaterial(material);\r\n                box.setTranslateX(pos.col() + 0.5);\r\n                box.setTranslateZ((BlockPos.maxDistance - pos.row()) + 0.5);\r\n                return box;\r\n            }\r\n    \r\n            public SubScene getScene() {\r\n                return scene;\r\n            }\r\n    \r\n            public MazeCamera getCamera() {\r\n                return camera;\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How can I animate camera movements in JavaFX 3D?","body":"<p>Below is a simplified example of what I have so far. It's a 2d array which can display blocks based on row/col in the array data.  The user can move around the scene forward, back, up and down, and turn left/right 45 degrees using the arrow keys.</p>\n<ul>\n<li>up arrow = forward</li>\n<li>back arrow = backward</li>\n<li>left arrow = turn left</li>\n<li>right arrow = turn right</li>\n<li>PgUp = look upward</li>\n<li>PgDown = look downward</li>\n<li>Ins = move up</li>\n<li>Del = move down</li>\n</ul>\n<p>The place I'm stuck is how can I add transition animations for these movements? Whenever I try everything goes out whack.</p>\n<p>Here's the copy/paste code (running JavaFX with Java 17).</p>\n<p>Thanks!</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.Material;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.Box;\nimport javafx.scene.transform.Rotate;\nimport javafx.scene.transform.Translate;\nimport javafx.stage.Stage;\n\nimport java.util.Random;\n\npublic class MazeAnimationApp extends Application {\n\n    private World world;\n    private Stage stage;\n    private Scene scene;\n\n    static final Random random = new Random(1);\n\n    private final BorderPane mainPane = new BorderPane();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        this.stage = stage;\n\n        world = new World(getData());\n\n        setupScene();\n        setupStage();\n        stage.show();\n    }\n\n    private String[][] getData() {\n        String[][] data = new String[32][32];\n        for (int j = 0; j &lt; 32; j++) {\n            for (int k = 0; k &lt; 32; k++) {\n                if (random.nextInt(32) % 3 == 0 &amp;&amp; random.nextInt(32) % 3 == 0) {\n                    data[j][k] = &quot;X&quot;;\n                }\n            }\n        }\n        return data;\n    }\n\n    private void setupScene() {\n\n        scene = new Scene(mainPane, 1024, 768);\n\n        mainPane.setCenter(world.getScene());\n\n        Button btn = new Button(&quot;press arrows&quot;);\n        btn.setTranslateX(0);\n        btn.setTranslateY(0);\n        mainPane.setBottom(btn);\n        btn.setOnKeyPressed(event -&gt; {\n            keyPressed(event.getCode());\n        });\n\n\n    }\n\n    private void setupStage() {\n        stage.setTitle(&quot;Demo of something&quot;);\n        stage.setFullScreenExitHint(&quot;&quot;);\n        stage.setWidth(1024);\n        stage.setHeight(768);\n\n        stage.setScene(scene);\n\n    }\n\n    private void keyPressed(KeyCode keyCode) {\n        System.out.println(&quot;keypressed &quot; + keyCode);\n        var camera = world.getCamera();\n        switch (keyCode) {\n\n            case KP_UP, NUMPAD8, UP -&gt; {\n                // forward\n                camera.addToPos(1);\n            }\n            case KP_DOWN, NUMPAD2, DOWN -&gt; {\n                // back\n                camera.addToPos(-1);\n            }\n\n            case KP_LEFT, LEFT, NUMPAD4 -&gt; {\n                // left\n                camera.addToHAngle(-90);\n            }\n\n            case KP_RIGHT, RIGHT, NUMPAD6 -&gt; {\n                // right\n                camera.addToHAngle(90);\n            }\n\n            case PAGE_UP -&gt; {\n                // look up\n                camera.addToVAngle(45);\n            }\n\n            case PAGE_DOWN -&gt; {\n                // look down\n                camera.addToVAngle(-45);\n            }\n\n            case INSERT -&gt; {\n                // go up\n                camera.elevate(-0.5);\n            }\n\n            case DELETE -&gt; {\n                // go down\n                camera.elevate(0.5);\n            }\n        }\n\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n\n    private static class MazeCamera extends PerspectiveCamera {\n\n        private final Translate pos = new Translate();\n\n        /**\n         * Direction on the horizontal plane.\n         */\n        private final Rotate hdir = new Rotate(-180, Rotate.Y_AXIS);\n\n        /**\n         * Direction on the vertical plane.\n         */\n        private final Rotate vdir = new Rotate(0, Rotate.X_AXIS);\n\n        public MazeCamera() {\n            super(true);\n\n            setFieldOfView(100);\n            setVerticalFieldOfView(false);\n            setNearClip(0.001);\n            setFarClip(30);\n            getTransforms().addAll(pos, hdir, vdir);\n            // y = - up + down\n            // z = - forward + back\n            // x = - left + right\n        }\n\n        public void setPos(final double x, final double y, final double z) {\n            pos.setX(x);\n            pos.setY(y);\n            pos.setZ(z);\n        }\n\n        public void setHAngle(final double hangle) {\n            hdir.setAngle(hangle);\n        }\n\n        public void addToHAngle(final double hdelta) {\n            hdir.setAngle(hdir.getAngle() + hdelta);\n        }\n\n        public void setVAngle(final double vangle) {\n            vdir.setAngle(vangle);\n        }\n\n        public void addToVAngle(final double vdelta) {\n            final double vangle = vdir.getAngle() + vdelta;\n            if (vangle &lt; -90 || vangle &gt; 90) {\n                return;\n            }\n\n            vdir.setAngle(vdir.getAngle() + vdelta);\n        }\n\n        /**\n         * Adds the specified amount to the camera's horizontal position, toward the camera's current horizontal direction.\n         *\n         * @param helta horizontal distance to be added to the camera's current horizontal position\n         */\n        public void addToPos(final double helta) {\n            addToPos(helta, hdir.getAngle());\n        }\n\n        /**\n         * Adds the specified amount to the camera's horizontal position, toward the specified horizontal direction.\n         *\n         * @param hdelta horizontal distance to be added to the camera's current horizontal position\n         */\n        public void addToPos(double hdelta, final double hangle) {\n\n            final double rad = Math.toRadians(hangle);\n\n            pos.setX(pos.getX() + hdelta * Math.sin(rad));\n            pos.setZ(pos.getZ() + hdelta * Math.cos(rad));\n        }\n\n        /**\n         * Elevates the camera: adds the specified vertical delta to its y position.\n         *\n         * @param vdelta (vertical) elevation to be added to the camera's current vertical position\n         */\n        public void elevate(final double vdelta) {\n            pos.setY(pos.getY() + vdelta);\n        }\n\n        public Translate getPos() {\n            return pos;\n        }\n\n        public Rotate getHDir() {\n            return hdir;\n        }\n\n    }\n\n    private record BlockPos(int row, int col) {\n        static int maxDistance = 32;\n    }\n\n\n    private static class World {\n        private final Group root = new Group();\n\n        private final SubScene scene = new SubScene(root, 800, 600, true, SceneAntialiasing.BALANCED);\n\n        private final MazeCamera camera = new MazeCamera();\n\n        private final PointLight pointLight = new PointLight(Color.gray(0.3));\n\n        private final AmbientLight ambientLight = new AmbientLight(Color.ANTIQUEWHITE);\n\n        private final Material material1 = new PhongMaterial(Color.RED, null, null, null, null);\n        private final Material material2 = new PhongMaterial(Color.GREEN, null, null, null, null);\n        private final Material material3 = new PhongMaterial(Color.BLUE, null, null, null, null);\n\n        private final String[][] data;\n\n        public World(String[][] data) {\n            this.data = data;\n            initScene();\n        }\n\n        private void initScene() {\n            root.getChildren().clear();\n            pointLight.getTransforms().clear();\n\n            camera.setVAngle(0);\n            camera.setHAngle(0);\n\n            root.getChildren().add(camera);\n            root.getChildren().add(ambientLight);\n            root.getChildren().add(pointLight);\n\n            scene.setCamera(camera);\n            scene.setFill(Color.LIGHTBLUE);\n\n            int row = 5;\n            int col = 5;\n            camera.setPos(col + 0.5, 0, BlockPos.maxDistance - row + 0.5);\n\n            for (int r = 0; r &lt; BlockPos.maxDistance; r++) {\n                for (int c = 0; c &lt; BlockPos.maxDistance; c++) {\n                    if (&quot;X&quot;.equalsIgnoreCase(data[r][c])) {\n                        BlockPos pos = new BlockPos(r, c);\n                        root.getChildren().add(createBlock(pos));\n                    }\n\n                }\n            }\n\n        }\n\n        private Node createBlock(BlockPos pos) {\n            Box box = new Box(1, 1, 1);\n            Material material = null;\n            int r = random.nextInt(3);\n            switch (r) {\n                case 0 -&gt; material = material1;\n                case 1 -&gt; material = material2;\n                case 2 -&gt; material = material3;\n            }\n            box.setMaterial(material);\n            box.setTranslateX(pos.col() + 0.5);\n            box.setTranslateZ((BlockPos.maxDistance - pos.row()) + 0.5);\n            return box;\n        }\n\n        public SubScene getScene() {\n            return scene;\n        }\n\n        public MazeCamera getCamera() {\n            return camera;\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","github","intellij-idea","ide"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1689588684,"post_id":76698699,"comment_id":135229680,"body_markdown":"If you need to reformat code only manually ensure that reformat on save option is disabled in the IDE settings. Please see https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html#reformat-on-save","body":"If you need to reformat code only manually ensure that reformat on save option is disabled in the IDE settings. Please see <a href=\"https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html#reformat-on-save\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1689595958,"post_id":76698699,"comment_id":135231177,"body_markdown":"@EgorKlepikov That one also didn&#39;t work, updated the intelij to 2023.1.4. After that am not facing that issue. Thank you.","body":"@EgorKlepikov That one also didn&#39;t work, updated the intelij to 2023.1.4. After that am not facing that issue. Thank you."}],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689516587,"creation_date":1689516587,"question_id":76698699,"body_markdown":"IntelliJ is formatting the entire Java file when I press Ctrl+Alt+L. However, I&#39;ve noticed that some lines are automatically getting reformatted after some time. I even tried using Ctrl+Shift+Alt+L, but the issue persists. This formatting problem is occurring only for the project that I cloned from GitHub. Interestingly, in a normal project that I created, the formatting works as expected without any automatic changes. Has anyone else faced or is currently facing this issue? Your help would be greatly appreciated. Thank you.\r\nVersion : IntelliJ IDEA 2023.1","title":"IntelliJ is formatting the entire file instead of the selected block for the Git clone project","body":"<p>IntelliJ is formatting the entire Java file when I press Ctrl+Alt+L. However, I've noticed that some lines are automatically getting reformatted after some time. I even tried using Ctrl+Shift+Alt+L, but the issue persists. This formatting problem is occurring only for the project that I cloned from GitHub. Interestingly, in a normal project that I created, the formatting works as expected without any automatic changes. Has anyone else faced or is currently facing this issue? Your help would be greatly appreciated. Thank you.\nVersion : IntelliJ IDEA 2023.1</p>\n"},{"tags":["java","xml","nullpointerexception","ubl"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689504121,"creation_date":1689504121,"answer_id":76697828,"question_id":76697530,"body_markdown":"You can write a single function which performs the null checks and reuse it:\r\n```\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Function;\r\n\r\ninterface Despatch {\r\n\r\n    SupplierParty getDespatchSupplierParty();\r\n}\r\ninterface SupplierParty {\r\n\r\n    Party getParty();\r\n}\r\ninterface Party {\r\n    Contact getContact();\r\n}\r\ninterface Contact {\r\n    Telephone getTelephone();\r\n\r\n    Telefax getTelefax();\r\n\r\n    EMail getElectronicMail();\r\n\r\n    Name getName();\r\n}\r\ninterface Telephone {\r\n    String getValue();\r\n}\r\ninterface Telefax {\r\n\r\n    String getValue();\r\n}\r\ninterface EMail {\r\n    String getValue();\r\n}\r\ninterface Name {\r\n    String getValue();\r\n\r\n}\r\ninterface TFDESP000_ARCH {\r\n\r\n    void setDcpPartyContactTelephone(String value);\r\n\r\n    void setDcpPartyContactTelefax(String value);\r\n\r\n    void setDspPartyContactElectronicMail(String value);\r\n\r\n    void setDspContactName(String value);\r\n}\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Despatch despt = ...;\r\n        TFDESP000_ARCH tfdesp000_arch = ...;\r\n\r\n        // shorter version\r\n        Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\r\n        setContactField(contact, Contact::getTelephone, Telephone::getValue, tfdesp000_arch::setDcpPartyContactTelephone);\r\n        setContactField(contact, Contact::getTelefax, Telefax::getValue, tfdesp000_arch::setDcpPartyContactTelefax);\r\n        setContactField(contact, Contact::getElectronicMail, EMail::getValue, tfdesp000_arch::setDspPartyContactElectronicMail);\r\n        setContactField(contact, Contact::getName, Name::getValue, tfdesp000_arch::setDspContactName);\r\n    }\r\n    \r\n    private static &lt;T&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,String&gt; getValue, Consumer&lt;String&gt; setter) {\r\n        if (contact != null) {\r\n            T field = getField.apply(contact);\r\n            if (field != null) {\r\n                setter.accept(getValue.apply(field));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nSome of the types may be wrong here, as you haven&#39;t given the signatures of your methods. For instance, if `getValue` doesn&#39;t always return `String`, you can add another type parameter to the `setContactField` method:\r\n```\r\nprivate static &lt;T,U&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,U&gt; getValue, Consumer&lt;U&gt; setter)\r\n```","title":"How can I check for null using few ifs while running UBL XML Reading","body":"<p>You can write a single function which performs the null checks and reuse it:</p>\n<pre><code>import java.util.function.Consumer;\nimport java.util.function.Function;\n\ninterface Despatch {\n\n    SupplierParty getDespatchSupplierParty();\n}\ninterface SupplierParty {\n\n    Party getParty();\n}\ninterface Party {\n    Contact getContact();\n}\ninterface Contact {\n    Telephone getTelephone();\n\n    Telefax getTelefax();\n\n    EMail getElectronicMail();\n\n    Name getName();\n}\ninterface Telephone {\n    String getValue();\n}\ninterface Telefax {\n\n    String getValue();\n}\ninterface EMail {\n    String getValue();\n}\ninterface Name {\n    String getValue();\n\n}\ninterface TFDESP000_ARCH {\n\n    void setDcpPartyContactTelephone(String value);\n\n    void setDcpPartyContactTelefax(String value);\n\n    void setDspPartyContactElectronicMail(String value);\n\n    void setDspContactName(String value);\n}\npublic class App {\n\n    public static void main(String[] args) {\n        Despatch despt = ...;\n        TFDESP000_ARCH tfdesp000_arch = ...;\n\n        // shorter version\n        Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\n        setContactField(contact, Contact::getTelephone, Telephone::getValue, tfdesp000_arch::setDcpPartyContactTelephone);\n        setContactField(contact, Contact::getTelefax, Telefax::getValue, tfdesp000_arch::setDcpPartyContactTelefax);\n        setContactField(contact, Contact::getElectronicMail, EMail::getValue, tfdesp000_arch::setDspPartyContactElectronicMail);\n        setContactField(contact, Contact::getName, Name::getValue, tfdesp000_arch::setDspContactName);\n    }\n    \n    private static &lt;T&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,String&gt; getValue, Consumer&lt;String&gt; setter) {\n        if (contact != null) {\n            T field = getField.apply(contact);\n            if (field != null) {\n                setter.accept(getValue.apply(field));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Some of the types may be wrong here, as you haven't given the signatures of your methods. For instance, if <code>getValue</code> doesn't always return <code>String</code>, you can add another type parameter to the <code>setContactField</code> method:</p>\n<pre><code>private static &lt;T,U&gt; void setContactField(Contact contact, Function&lt;Contact, T&gt; getField, Function&lt;T,U&gt; getValue, Consumer&lt;U&gt; setter)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29027975,"reputation":1,"user_id":22235679,"display_name":"Geoffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689516126,"creation_date":1689513411,"answer_id":76698455,"question_id":76697530,"body_markdown":"In the logic of the set methods, add the null checks there.\r\n\r\n - setDcpPartyContactTelephone(...)\r\n - setDcpPartyContactTelefax(...)\r\n - setDspPartyContactElectronicMail(...)\r\n - setDspContactName(..)\r\n\r\nExample Code:\r\n\r\n    public void setDcpPartyContactTelephone(Telephone telephone) {\r\n        if(telephone != null) {\r\n            String value = telephone.getValue();\r\n            //Continue normal operations\r\n        }\r\n    }\r\n\r\nDeclare the contact as a variable:\r\n\r\n    Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\r\n\r\n\r\nYour full code would look like:\r\n\r\n    Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\r\n    if(contact != null) {\r\n        tfdesp000_arch.setDcpPartyContactTelephone(contact.getTelephone());\r\n        tfdesp000_arch.setDcpPartyContactTelefax(contact.getTelefax());\r\n        tfdesp000_arch.setDspPartyContactElectronicMail(contact.getElectronicMail());\r\n        tfdesp000_arch.setDspContactName(contact.getName());\r\n    }\r\n\r\n","title":"How can I check for null using few ifs while running UBL XML Reading","body":"<p>In the logic of the set methods, add the null checks there.</p>\n<ul>\n<li>setDcpPartyContactTelephone(...)</li>\n<li>setDcpPartyContactTelefax(...)</li>\n<li>setDspPartyContactElectronicMail(...)</li>\n<li>setDspContactName(..)</li>\n</ul>\n<p>Example Code:</p>\n<pre><code>public void setDcpPartyContactTelephone(Telephone telephone) {\n    if(telephone != null) {\n        String value = telephone.getValue();\n        //Continue normal operations\n    }\n}\n</code></pre>\n<p>Declare the contact as a variable:</p>\n<pre><code>Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\n</code></pre>\n<p>Your full code would look like:</p>\n<pre><code>Contact contact = despt.getDespatchSupplierParty().getParty().getContact();\nif(contact != null) {\n    tfdesp000_arch.setDcpPartyContactTelephone(contact.getTelephone());\n    tfdesp000_arch.setDcpPartyContactTelefax(contact.getTelefax());\n    tfdesp000_arch.setDspPartyContactElectronicMail(contact.getElectronicMail());\n    tfdesp000_arch.setDspContactName(contact.getName());\n}\n</code></pre>\n"}],"owner":{"account_id":24655790,"reputation":11,"user_id":18552475,"display_name":"neylersin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76697828,"answer_count":2,"score":1,"last_activity_date":1689516126,"creation_date":1689499576,"question_id":76697530,"body_markdown":"As you can see an example in the code below, I need to use a lot of if. Otherwise it throws null pointer exception.\r\n\r\n```lang-java\r\nif (despt.getDespatchSupplierParty().getParty().getContact() != null) {\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact()\r\n\t\t\t\t\t\t\t\t\t\t\t.getTelephone() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDcpPartyContactTelephone(despt.getDespatchSupplierParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getParty().getContact().getTelephone().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact().getTelefax() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDcpPartyContactTelefax(despt.getDespatchSupplierParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getParty().getContact().getTelefax().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact()\r\n\t\t\t\t\t\t\t\t\t\t\t.getElectronicMail() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDspPartyContactElectronicMail(despt.getDespatchSupplierParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getParty().getContact().getElectronicMail().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (despt.getDespatchSupplierParty().getParty().getContact().getName() != null) {\r\n\t\t\t\t\t\t\t\t\t\ttfdesp000_arch.setDspContactName(despt.getDespatchSupplierParty().getParty()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getContact().getName().getValue());\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n```\r\n\r\nHow do I avoid this null pointer exception using few ifs.","title":"How can I check for null using few ifs while running UBL XML Reading","body":"<p>As you can see an example in the code below, I need to use a lot of if. Otherwise it throws null pointer exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (despt.getDespatchSupplierParty().getParty().getContact() != null) {\n                                    if (despt.getDespatchSupplierParty().getParty().getContact()\n                                            .getTelephone() != null) {\n                                        tfdesp000_arch.setDcpPartyContactTelephone(despt.getDespatchSupplierParty()\n                                                .getParty().getContact().getTelephone().getValue());\n                                    }\n\n                                    if (despt.getDespatchSupplierParty().getParty().getContact().getTelefax() != null) {\n                                        tfdesp000_arch.setDcpPartyContactTelefax(despt.getDespatchSupplierParty()\n                                                .getParty().getContact().getTelefax().getValue());\n                                    }\n\n                                    if (despt.getDespatchSupplierParty().getParty().getContact()\n                                            .getElectronicMail() != null) {\n                                        tfdesp000_arch.setDspPartyContactElectronicMail(despt.getDespatchSupplierParty()\n                                                .getParty().getContact().getElectronicMail().getValue());\n                                    }\n\n                                    if (despt.getDespatchSupplierParty().getParty().getContact().getName() != null) {\n                                        tfdesp000_arch.setDspContactName(despt.getDespatchSupplierParty().getParty()\n                                                .getContact().getName().getValue());\n                                    }\n                                }\n</code></pre>\n<p>How do I avoid this null pointer exception using few ifs.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","thymeleaf"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689512330,"post_id":76698345,"comment_id":135221019,"body_markdown":"You need `@ExtendWith(MockitoExtension.class)` on your `AuthServiceTest` class, otherwise the `@Mock` and `@InjectMocks` annotations won&#39;t be used.","body":"You need <code>@ExtendWith(MockitoExtension.class)</code> on your <code>AuthServiceTest</code> class, otherwise the <code>@Mock</code> and <code>@InjectMocks</code> annotations won&#39;t be used."},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689512468,"post_id":76698345,"comment_id":135221046,"body_markdown":"I already have this annotation. I just forgot to add it when I remove the parts that are irrelevant from the question. I will update the question","body":"I already have this annotation. I just forgot to add it when I remove the parts that are irrelevant from the question. I will update the question"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689512919,"post_id":76698345,"comment_id":135221115,"body_markdown":"What&#39;s the full stack trace of the exception?","body":"What&#39;s the full stack trace of the exception?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689513303,"post_id":76698345,"comment_id":135221158,"body_markdown":"@tgdavies, the question is updated with the stack trace.","body":"@tgdavies, the question is updated with the stack trace."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689513694,"post_id":76698345,"comment_id":135221205,"body_markdown":"Is that your actual code now? You&#39;re not mixing Spring annotations on your test?","body":"Is that your actual code now? You&#39;re not mixing Spring annotations on your test?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689514175,"post_id":76698345,"comment_id":135221270,"body_markdown":"@tgdavies yes all of them are correct. I checked each one, they are imported from the right package.","body":"@tgdavies yes all of them are correct. I checked each one, they are imported from the right package."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689514368,"post_id":76698345,"comment_id":135221293,"body_markdown":"And there are no other annotations on your test class?","body":"And there are no other annotations on your test class?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689514381,"post_id":76698345,"comment_id":135221296,"body_markdown":"When I run the test in debug mode, I realized that spring tries to execute `template.process` method, when the debug line is on `when(templateEngine.process...)`. It shouldn&#39;t be running this line before `underTest.confirmEmail()`. It should run `template.process` method inside the actual method(`AuthService.confirmEmail`)","body":"When I run the test in debug mode, I realized that spring tries to execute <code>template.process</code> method, when the debug line is on <code>when(templateEngine.process...)</code>. It shouldn&#39;t be running this line before <code>underTest.confirmEmail()</code>. It should run <code>template.process</code> method inside the actual method(<code>AuthService.confirmEmail</code>)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689514484,"post_id":76698345,"comment_id":135221312,"body_markdown":"`templateEngine` should be a mock at that point. Are there any other annotations, inheritance or `@Before/@BeforeAll` methods on your test that you haven&#39;t shown?","body":"<code>templateEngine</code> should be a mock at that point. Are there any other annotations, inheritance or <code>@Before&#47;@BeforeAll</code> methods on your test that you haven&#39;t shown?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689514736,"post_id":76698345,"comment_id":135221346,"body_markdown":"I dont have any setUp method. (@Before, @BeforeAll, @BeforeEach etc.)  I also tried to mock the template engine inside the method but it also didn&#39;t work.  ```SpringTemplateEngine templateEngine1 = mock(SpringTemplateEngine.class);     when(templateEngine1.process(eq(&quot;index&quot;),any(Context.class))).thenReturn(&quot;asdaasdas&quot;);```","body":"I dont have any setUp method. (@Before, @BeforeAll, @BeforeEach etc.)  I also tried to mock the template engine inside the method but it also didn&#39;t work.  <code>SpringTemplateEngine templateEngine1 = mock(SpringTemplateEngine.class);     when(templateEngine1.process(eq(&quot;index&quot;),any(Context.class))&zwnj;&#8203;).thenReturn(&quot;asdaas&zwnj;&#8203;das&quot;);</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689514991,"post_id":76698345,"comment_id":135221372,"body_markdown":"Please edit your question to include a complete, minimal example which reproduces the problem.","body":"Please edit your question to include a complete, minimal example which reproduces the problem."},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1689515569,"post_id":76698345,"comment_id":135221440,"body_markdown":"@tgdavies I updated the question with the full and relevant code.","body":"@tgdavies I updated the question with the full and relevant code."}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689515537,"creation_date":1689511723,"question_id":76698345,"body_markdown":"I am writing a unit test for `AuthService.confirmEmail` method. However, I get `Template cannot be null` exception. I already have this template under this path `resources/templates/emailConfirmed.html`. Even if I didn&#39;t have this template, spring shouldn&#39;t be throwing this error because `SpringTemplateEngine` is mocked. I don&#39;t know why I see this error. Any suggestion?\r\n\r\nThis is the actual method.\r\n\r\n**AuthService**\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class AuthService {\r\n\r\n    private final EmailConfirmationService emailConfirmationService;\r\n    private final SpringTemplateEngine templateEngine;\r\n\r\n    //....\r\n\r\n     @Transactional\r\n    public String confirmEmail(String token) {\r\n        EmailConfirmationToken confirmationToken;\r\n        try {\r\n            confirmationToken = emailConfirmationService\r\n                    .getToken(token);\r\n        } catch (ResourceNotFoundException e) {\r\n            return buildEmailConfirmedPage(&quot;Ge&#231;ersiz token!&quot;);\r\n        }\r\n        if (confirmationToken.getConfirmedAt() != null) {\r\n            return buildEmailConfirmedPage(&quot;E-posta zaten onaylandı.&quot;);\r\n        }\r\n\r\n        if (emailConfirmationService.isTokenExpired(confirmationToken)) {\r\n            return buildEmailConfirmedPage(&quot;E-posta onayı zaman aşımına uğradı!&quot;);\r\n        }\r\n        emailConfirmationService.setConfirmedAt(token);\r\n        appUserService.enableAppUser(confirmationToken.getAppUser().getEmail());\r\n        return buildEmailConfirmedPage(&quot;E-posta adresi onaylandı. Bu sayfayı kapatabilirsin.&quot;);\r\n    }\r\n\r\n    private String buildEmailConfirmedPage(String message) {\r\n        Context context = new Context();\r\n        context.setVariable(&quot;message&quot;, message);\r\n        return templateEngine.process(&quot;emailConfirmed&quot;, context);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**AuthServiceTest**\r\n\r\n```\r\nimport com.napsam.wo.entities.EmailConfirmationToken;\r\nimport com.napsam.wo.entities.AppUser;\r\n\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.thymeleaf.context.Context;\r\nimport org.thymeleaf.spring5.SpringTemplateEngine;\r\n\r\n\r\nimport static org.hamcrest.CoreMatchers.containsString;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class AuthServiceTest {\r\n\r\n    @Mock\r\n    private EmailConfirmationService emailConfirmationService;\r\n\r\n    @Mock\r\n    private SpringTemplateEngine templateEngine;\r\n\r\n   //.. other mocks\r\n\r\n    @InjectMocks\r\n    private AuthService underTest;\r\n\r\n\r\n    @Test\r\n    void confirmEmail_success() {\r\n        //given\r\n        String token = UUID.randomUUID().toString();\r\n\r\n        EmailConfirmationToken emailConfirmationToken = new EmailConfirmationToken();\r\n        emailConfirmationToken.setExpiresAt(LocalDateTime.now().plusMinutes(10));\r\n        AppUser appUser = new AppUser();\r\n        appUser.setEmail(&quot;test&quot;);\r\n        emailConfirmationToken.setAppUser(appUser);\r\n        //when\r\n        when(emailConfirmationService.getToken(token)).thenReturn(emailConfirmationToken);\r\n        when(emailConfirmationService.isTokenExpired(emailConfirmationToken)).thenReturn(false);\r\n\r\n        when(templateEngine.process(eq(&quot;index&quot;), any(Context.class))).thenReturn(&quot;asdaasdas&quot;);\r\n\r\n        String result = underTest.confirmEmail(token);\r\n\r\n        //then\r\n        verify(appUserService, times(1)).enableAppUser(emailConfirmationToken.getAppUser().getEmail());\r\n        assertThat(result, containsString(&quot;E-posta adresi onaylandı.&quot;));\r\n    }\r\n\r\n   //other cases ...\r\n\r\n}\r\n```\r\n\r\n\r\n**Error full stack trace**\r\n```\r\n//AuthServiceTest.java:294 is the line where `templateEngine.process` is called.\r\njava.lang.IllegalArgumentException: Template cannot be null\r\n\r\n\tat org.thymeleaf.util.Validate.notNull(Validate.java:37)\r\n\tat org.thymeleaf.TemplateSpec.&lt;init&gt;(TemplateSpec.java:314)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\r\n\tat com.napsam.wo.service.AuthServiceTest.confirmEmail_success(AuthServiceTest.java:294)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n```\r\n","title":"java.lang.IllegalArgumentException: Template cannot be null","body":"<p>I am writing a unit test for <code>AuthService.confirmEmail</code> method. However, I get <code>Template cannot be null</code> exception. I already have this template under this path <code>resources/templates/emailConfirmed.html</code>. Even if I didn't have this template, spring shouldn't be throwing this error because <code>SpringTemplateEngine</code> is mocked. I don't know why I see this error. Any suggestion?</p>\n<p>This is the actual method.</p>\n<p><strong>AuthService</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class AuthService {\n\n    private final EmailConfirmationService emailConfirmationService;\n    private final SpringTemplateEngine templateEngine;\n\n    //....\n\n     @Transactional\n    public String confirmEmail(String token) {\n        EmailConfirmationToken confirmationToken;\n        try {\n            confirmationToken = emailConfirmationService\n                    .getToken(token);\n        } catch (ResourceNotFoundException e) {\n            return buildEmailConfirmedPage(&quot;Geçersiz token!&quot;);\n        }\n        if (confirmationToken.getConfirmedAt() != null) {\n            return buildEmailConfirmedPage(&quot;E-posta zaten onaylandı.&quot;);\n        }\n\n        if (emailConfirmationService.isTokenExpired(confirmationToken)) {\n            return buildEmailConfirmedPage(&quot;E-posta onayı zaman aşımına uğradı!&quot;);\n        }\n        emailConfirmationService.setConfirmedAt(token);\n        appUserService.enableAppUser(confirmationToken.getAppUser().getEmail());\n        return buildEmailConfirmedPage(&quot;E-posta adresi onaylandı. Bu sayfayı kapatabilirsin.&quot;);\n    }\n\n    private String buildEmailConfirmedPage(String message) {\n        Context context = new Context();\n        context.setVariable(&quot;message&quot;, message);\n        return templateEngine.process(&quot;emailConfirmed&quot;, context);\n    }\n\n}\n\n</code></pre>\n<p><strong>AuthServiceTest</strong></p>\n<pre><code>import com.napsam.wo.entities.EmailConfirmationToken;\nimport com.napsam.wo.entities.AppUser;\n\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.thymeleaf.context.Context;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\n\n\nimport static org.hamcrest.CoreMatchers.containsString;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\npublic class AuthServiceTest {\n\n    @Mock\n    private EmailConfirmationService emailConfirmationService;\n\n    @Mock\n    private SpringTemplateEngine templateEngine;\n\n   //.. other mocks\n\n    @InjectMocks\n    private AuthService underTest;\n\n\n    @Test\n    void confirmEmail_success() {\n        //given\n        String token = UUID.randomUUID().toString();\n\n        EmailConfirmationToken emailConfirmationToken = new EmailConfirmationToken();\n        emailConfirmationToken.setExpiresAt(LocalDateTime.now().plusMinutes(10));\n        AppUser appUser = new AppUser();\n        appUser.setEmail(&quot;test&quot;);\n        emailConfirmationToken.setAppUser(appUser);\n        //when\n        when(emailConfirmationService.getToken(token)).thenReturn(emailConfirmationToken);\n        when(emailConfirmationService.isTokenExpired(emailConfirmationToken)).thenReturn(false);\n\n        when(templateEngine.process(eq(&quot;index&quot;), any(Context.class))).thenReturn(&quot;asdaasdas&quot;);\n\n        String result = underTest.confirmEmail(token);\n\n        //then\n        verify(appUserService, times(1)).enableAppUser(emailConfirmationToken.getAppUser().getEmail());\n        assertThat(result, containsString(&quot;E-posta adresi onaylandı.&quot;));\n    }\n\n   //other cases ...\n\n}\n</code></pre>\n<p><strong>Error full stack trace</strong></p>\n<pre><code>//AuthServiceTest.java:294 is the line where `templateEngine.process` is called.\njava.lang.IllegalArgumentException: Template cannot be null\n\n    at org.thymeleaf.util.Validate.notNull(Validate.java:37)\n    at org.thymeleaf.TemplateSpec.&lt;init&gt;(TemplateSpec.java:314)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\n    at com.napsam.wo.service.AuthServiceTest.confirmEmail_success(AuthServiceTest.java:294)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jsp","war"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1684072262,"post_id":76247078,"comment_id":134460036,"body_markdown":"What is the name of the war file?","body":"What is the name of the war file?"},{"owner":{"account_id":4642964,"reputation":739,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684074074,"post_id":76247078,"comment_id":134460286,"body_markdown":"Not sure how that is relevant.. \nbut the name of the war file that gets created is &quot;spring-boot-servlet-jsp-spring-0.0.1-SNAPSHOT.war&quot;","body":"Not sure how that is relevant..  but the name of the war file that gets created is &quot;spring-boot-servlet-jsp-spring-0.0.1-SNAPSHOT.war&quot;"},{"owner":{"account_id":4642964,"reputation":739,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684159673,"post_id":76247078,"comment_id":134472119,"body_markdown":"I understand that I want to leverage the advantages of quick setup / quick development features that spring boot provied and still be able to deploy it to a WAR file where my app will sit on a single Container server alongwith other Apps..\n\nIn this instance, a Single tomcat server which has port 80 opened and i would want all my apps to be part of this tomcat server.","body":"I understand that I want to leverage the advantages of quick setup / quick development features that spring boot provied and still be able to deploy it to a WAR file where my app will sit on a single Container server alongwith other Apps..  In this instance, a Single tomcat server which has port 80 opened and i would want all my apps to be part of this tomcat server."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1684167174,"post_id":76247078,"comment_id":134474116,"body_markdown":"@Shoaeb The name of the war file might be relevant if you didn&#39;t provide a context configuration. Also you should post the server logs to see if it&#39;s started correctly.","body":"@Shoaeb The name of the war file might be relevant if you didn&#39;t provide a context configuration. Also you should post the server logs to see if it&#39;s started correctly."},{"owner":{"account_id":4642964,"reputation":739,"user_id":3762222,"display_name":"Shoaeb"},"score":0,"creation_date":1684217714,"post_id":76247078,"comment_id":134481058,"body_markdown":"@Roman, Ah I see why the name of the war might be relevant. I have edited my question.\nThanks","body":"@Roman, Ah I see why the name of the war might be relevant. I have edited my question. Thanks"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1684397795,"post_id":76247078,"comment_id":134512958,"body_markdown":"Why are you trying to access a JSP file directly? You are not supposed to do that with a Spring application (which uses the MVC architecture).","body":"Why are you trying to access a JSP file directly? You are not supposed to do that with a Spring application (which uses the MVC architecture)."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1689275777,"post_id":76247078,"comment_id":135194467,"body_markdown":"Having the project on an open linked repository is not sufficient for questions on Stack Overflow. Please read [mre]. We *must* have enough code to demonstrate the problem *in the question itself*.","body":"Having the project on an open linked repository is not sufficient for questions on Stack Overflow. Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We <i>must</i> have enough code to demonstrate the problem <i>in the question itself</i>."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684398925,"creation_date":1684273074,"answer_id":76267210,"question_id":76247078,"body_markdown":"&gt; But when I try to do the same after packaging using mvn package the project into a war and running it on an external apache tomcat , I get Not found error.\r\n\r\nI do not see in [your project][1] a [`SpringBootServletInitializer`][2], which should be essential because it allows the servlet container to run your application by bootstrapping it via code, rather than using the web.xml descriptor file: if you are deploying your Spring Boot application as a WAR file to an external servlet container like Apache Tomcat, you will need a class that extends `SpringBootServletInitializer`.\r\n\r\nSomething like:\r\n\r\n``` java\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\npublic class ServletInitializer extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(YourApplication.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlus, as [seen here][3], the JSP files should be under the `${project.basedir}/main/webapp/WEB-INF/jsp/` directory.\r\n\r\nThe `src/main/webapp/WEB-INF/` directory is the standard location for resources that need to be protected from direct access (which typically includes JSP files), as the servlet specification restricts direct access to files under the `WEB-INF/` directory.\r\n\r\nMake sure your `src/main/resources/application.properties` (or `src/main/resources/application.yml`) has the correct settings for view resolution:\r\n\r\n``` properties\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\nThis tells Spring Boot to look for views in the `/WEB-INF/jsp/` directory (with `.jsp` extension).  \r\nThe prefix and suffix properties are used to generate the real view path based on the view name returned by the controller. \r\n\r\nFor example, if your controller returns &quot;`employeeView`&quot; as the view name, Spring will use the prefix and suffix to resolve that to `/WEB-INF/jsp/employeeView.jsp`.\r\n\r\nSo your project structure should be something like:\r\n\r\n```\r\n.\r\n├── src\r\n│   ├── main\r\n│   │   ├── java\r\n│   │   │   └── com\r\n│   │   │       └── yourpackage\r\n│   │   │           └── YourApplication.java\r\n│   │   ├── resources\r\n│   │   │   └── application.properties\r\n│   │   └── webapp\r\n│   │       └── WEB-INF\r\n│   │           └── jsp\r\n│   │               └── employeeView.jsp\r\n└── pom.xml\r\n```\r\n\r\n-----\r\n\r\n&gt; My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env\r\n\r\nThe discrepancy you&#39;re seeing is likely due to differences in how embedded servers (like the one used when you run the application from your IDE or using `mvn spring-boot:run`) and standalone servers (like the Apache Tomcat you&#39;re deploying your WAR to) handle resource loading.\r\n\r\nWhen using an embedded server, Spring Boot uses its [own resource loading logic][4], which includes several locations under `src/main/resources` in the classpath, including `/META-INF/resources/`, where you currently have your JSP.  \r\nHowever, standalone servers like Apache Tomcat use the Servlet API&#39;s resource loading logic, which does not include `/META-INF/resources/` in the classpath for JSP files.\r\n\r\nThere&#39;s no direct way to make Tomcat load JSP files from `/META-INF/resources/` like the embedded server does, because this behavior is hard-coded in the Servlet specification, which Tomcat follows. JSPs are expected to be located under `/WEB-INF/`.\r\n\r\n----\r\n\r\nPlus, in a [Spring MVC framework][5], you would not directly access JSP files via the URL.  \r\nInstead, a common pattern is for the client to interact with a controller, which then decides which view (such as a JSP) to show based on the request.\r\n\r\nFor example, you might have a controller method that looks like this:\r\n\r\n```java\r\n@Controller\r\npublic class EmployeeController {\r\n\r\n    @GetMapping(&quot;/employeeView&quot;)\r\n    public String showEmployeeView() {\r\n        // You might add some attributes to the model here...\r\n        return &quot;employeeView&quot;; // Spring will use the view resolver settings to find the JSP\r\n    }\r\n}\r\n```\r\n\r\nThen, if your `spring.mvc.view.prefix` is `/WEB-INF/jsp/` and `spring.mvc.view.suffix` is `.jsp` (specified in your `application.properties`), Spring will use those to find the view at `/WEB-INF/jsp/employeeView.jsp`.\r\n\r\nYou would then access the view by going to `http://localhost:8080/employeeView` (when running locally), not `http://localhost:8080/employeeView.jsp`.\r\n\r\nThis pattern allows you to include any necessary server-side processing before the view is returned, and it helps to hide the implementation details of your views (such as their locations and the technologies used to create them) from the client.  \r\nIt is also more in line with the principles of MVC architecture, where the controller handles user interactions and decides which view to display.\r\n\r\n\r\n  [1]: https://github.com/search?q=repo%3Acrystaldeveloper2017%2Fspringstartertest%20SpringBootServletInitializer&amp;type=code\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/support/SpringBootServletInitializer.html\r\n  [3]: https://www.baeldung.com/spring-boot-jsp#view-resolver-configuration\r\n  [4]: https://www.logicbig.com/tutorials/spring-framework/spring-core/resource-loading.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html","title":"Spring Boot accessing JSP directly from URL works from within IDE but does not work after packaging as WAR","body":"<blockquote>\n<p>But when I try to do the same after packaging using mvn package the project into a war and running it on an external apache tomcat , I get Not found error.</p>\n</blockquote>\n<p>I do not see in <a href=\"https://github.com/search?q=repo%3Acrystaldeveloper2017%2Fspringstartertest%20SpringBootServletInitializer&amp;type=code\" rel=\"nofollow noreferrer\">your project</a> a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/support/SpringBootServletInitializer.html\" rel=\"nofollow noreferrer\"><code>SpringBootServletInitializer</code></a>, which should be essential because it allows the servlet container to run your application by bootstrapping it via code, rather than using the web.xml descriptor file: if you are deploying your Spring Boot application as a WAR file to an external servlet container like Apache Tomcat, you will need a class that extends <code>SpringBootServletInitializer</code>.</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(YourApplication.class);\n    }\n\n}\n</code></pre>\n<p>Plus, as <a href=\"https://www.baeldung.com/spring-boot-jsp#view-resolver-configuration\" rel=\"nofollow noreferrer\">seen here</a>, the JSP files should be under the <code>${project.basedir}/main/webapp/WEB-INF/jsp/</code> directory.</p>\n<p>The <code>src/main/webapp/WEB-INF/</code> directory is the standard location for resources that need to be protected from direct access (which typically includes JSP files), as the servlet specification restricts direct access to files under the <code>WEB-INF/</code> directory.</p>\n<p>Make sure your <code>src/main/resources/application.properties</code> (or <code>src/main/resources/application.yml</code>) has the correct settings for view resolution:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>This tells Spring Boot to look for views in the <code>/WEB-INF/jsp/</code> directory (with <code>.jsp</code> extension).<br />\nThe prefix and suffix properties are used to generate the real view path based on the view name returned by the controller.</p>\n<p>For example, if your controller returns &quot;<code>employeeView</code>&quot; as the view name, Spring will use the prefix and suffix to resolve that to <code>/WEB-INF/jsp/employeeView.jsp</code>.</p>\n<p>So your project structure should be something like:</p>\n<pre><code>.\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   └── com\n│   │   │       └── yourpackage\n│   │   │           └── YourApplication.java\n│   │   ├── resources\n│   │   │   └── application.properties\n│   │   └── webapp\n│   │       └── WEB-INF\n│   │           └── jsp\n│   │               └── employeeView.jsp\n└── pom.xml\n</code></pre>\n<hr />\n<blockquote>\n<p>My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env</p>\n</blockquote>\n<p>The discrepancy you're seeing is likely due to differences in how embedded servers (like the one used when you run the application from your IDE or using <code>mvn spring-boot:run</code>) and standalone servers (like the Apache Tomcat you're deploying your WAR to) handle resource loading.</p>\n<p>When using an embedded server, Spring Boot uses its <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-core/resource-loading.html\" rel=\"nofollow noreferrer\">own resource loading logic</a>, which includes several locations under <code>src/main/resources</code> in the classpath, including <code>/META-INF/resources/</code>, where you currently have your JSP.<br />\nHowever, standalone servers like Apache Tomcat use the Servlet API's resource loading logic, which does not include <code>/META-INF/resources/</code> in the classpath for JSP files.</p>\n<p>There's no direct way to make Tomcat load JSP files from <code>/META-INF/resources/</code> like the embedded server does, because this behavior is hard-coded in the Servlet specification, which Tomcat follows. JSPs are expected to be located under <code>/WEB-INF/</code>.</p>\n<hr />\n<p>Plus, in a <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html\" rel=\"nofollow noreferrer\">Spring MVC framework</a>, you would not directly access JSP files via the URL.<br />\nInstead, a common pattern is for the client to interact with a controller, which then decides which view (such as a JSP) to show based on the request.</p>\n<p>For example, you might have a controller method that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class EmployeeController {\n\n    @GetMapping(&quot;/employeeView&quot;)\n    public String showEmployeeView() {\n        // You might add some attributes to the model here...\n        return &quot;employeeView&quot;; // Spring will use the view resolver settings to find the JSP\n    }\n}\n</code></pre>\n<p>Then, if your <code>spring.mvc.view.prefix</code> is <code>/WEB-INF/jsp/</code> and <code>spring.mvc.view.suffix</code> is <code>.jsp</code> (specified in your <code>application.properties</code>), Spring will use those to find the view at <code>/WEB-INF/jsp/employeeView.jsp</code>.</p>\n<p>You would then access the view by going to <code>http://localhost:8080/employeeView</code> (when running locally), not <code>http://localhost:8080/employeeView.jsp</code>.</p>\n<p>This pattern allows you to include any necessary server-side processing before the view is returned, and it helps to hide the implementation details of your views (such as their locations and the technologies used to create them) from the client.<br />\nIt is also more in line with the principles of MVC architecture, where the controller handles user interactions and decides which view to display.</p>\n"},{"tags":[],"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1689275982,"creation_date":1684695933,"answer_id":76301482,"question_id":76247078,"body_markdown":"Instead of servlets, I would use Spring controllers.\r\n\r\nThere is no reason why the jsp should not be picked up from there.\r\nIt&#39;s quite common to have a index.jsp or index.html.\r\n\r\nI use eclipse and it works fine when I do Run on Server or when I take the war file and manually put it into tomcat webapps. You can even right click on your main class java file and use Run as Spring Boot Application.\r\n\r\nAnother issue could be you are targeting different server versions from your IDE vs when you deploy as war. This might cause an issue if one of them is tomcat 10 and the other is a lower version, because of breaking changes in the servlet API.","title":"Spring Boot accessing JSP directly from URL works from within IDE but does not work after packaging as WAR","body":"<p>Instead of servlets, I would use Spring controllers.</p>\n<p>There is no reason why the jsp should not be picked up from there.\nIt's quite common to have a index.jsp or index.html.</p>\n<p>I use eclipse and it works fine when I do Run on Server or when I take the war file and manually put it into tomcat webapps. You can even right click on your main class java file and use Run as Spring Boot Application.</p>\n<p>Another issue could be you are targeting different server versions from your IDE vs when you deploy as war. This might cause an issue if one of them is tomcat 10 and the other is a lower version, because of breaking changes in the servlet API.</p>\n"}],"owner":{"account_id":4642964,"reputation":739,"user_id":3762222,"display_name":"Shoaeb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1689515471,"creation_date":1684061593,"question_id":76247078,"body_markdown":"I have [a spring boot project based on Maven](https://github.com/springstartertest).\r\n\r\nWhen I Run/ Debug this project from within the VS code, and check the URL `http://localhost:8080/employeeView.jsp`, I get the desired results.\r\n\r\nBut when I try to package the project into a .war using `mvn package`, run it on an external apache tomcat, and check the corresponding URL (`http://localhost:8080/NAME_OF_WAR/employeeView.jsp`), it gives a 404 not found error. Why?\r\n\r\n","title":"Spring Boot accessing JSP directly from URL works from within IDE but does not work after packaging as WAR","body":"<p>I have <a href=\"https://github.com/springstartertest\" rel=\"nofollow noreferrer\">a spring boot project based on Maven</a>.</p>\n<p>When I Run/ Debug this project from within the VS code, and check the URL <code>http://localhost:8080/employeeView.jsp</code>, I get the desired results.</p>\n<p>But when I try to package the project into a .war using <code>mvn package</code>, run it on an external apache tomcat, and check the corresponding URL (<code>http://localhost:8080/NAME_OF_WAR/employeeView.jsp</code>), it gives a 404 not found error. Why?</p>\n"},{"tags":["java","spring-boot","junit","mocking","mockmvc"],"comments":[{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":2,"creation_date":1689314563,"post_id":76684866,"comment_id":135198556,"body_markdown":"Try adding the following annotation on the Test class: `@WebMvcTest(ContentController.class)`","body":"Try adding the following annotation on the Test class: <code>@WebMvcTest(ContentController.class)</code>"},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689314975,"post_id":76684866,"comment_id":135198606,"body_markdown":"Got this error \n\n`Description:\n\nParameter 0 of constructor in com.example.sixth.controller.ContentController required a bean of type &#39;com.example.sixth.service.ContentService&#39; that could not be found.\n\n\nAction:\n\nConsider defining a bean of type &#39;com.example.sixth.service.ContentService&#39; in your configuration.`","body":"Got this error   <code>Description:  Parameter 0 of constructor in com.example.sixth.controller.ContentController required a bean of type &#39;com.example.sixth.service.ContentService&#39; that could not be found.   Action:  Consider defining a bean of type &#39;com.example.sixth.service.ContentService&#39; in your configuration.</code>"},{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":2,"creation_date":1689315207,"post_id":76684866,"comment_id":135198639,"body_markdown":"Change `@Mock` to `@MockBean` on the `ContentService` field in the test class.","body":"Change <code>@Mock</code> to <code>@MockBean</code> on the <code>ContentService</code> field in the test class."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689315571,"post_id":76684866,"comment_id":135198711,"body_markdown":"Still Page not found : No mapping for GET /content error is there.","body":"Still Page not found : No mapping for GET /content error is there."},{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":1,"creation_date":1689315794,"post_id":76684866,"comment_id":135198741,"body_markdown":"Try removing `contentType(MediaType.APPLICATION_JSON)` in the request part.","body":"Try removing <code>contentType(MediaType.APPLICATION_JSON)</code> in the request part."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689315990,"post_id":76684866,"comment_id":135198776,"body_markdown":"No...Didn&#39;t work.","body":"No...Didn&#39;t work."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689316153,"post_id":76684866,"comment_id":135198808,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254490/discussion-between-harsh-agarwal-and-yousaf).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254490/discussion-between-harsh-agarwal-and-yousaf\">continue this discussion in chat</a>."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1689323475,"post_id":76684866,"comment_id":135200122,"body_markdown":"On top of @Yousaf’s advice, also remove entire BeforeEach method.","body":"On top of @Yousaf’s advice, also remove entire BeforeEach method."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689427279,"post_id":76684866,"comment_id":135213716,"body_markdown":"Thanks @Lesiak ..the mapping worked ...but still an error is showing..can u please guide me through that.. Error is:-\n\n`java.lang.AssertionError: No value at JSON path &quot;$.duration&quot;`\n\n\n\n`Caused by: com.jayway.jsonpath.PathNotFoundException: Expected to find an object with property [&#39;duration&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.`","body":"Thanks @Lesiak ..the mapping worked ...but still an error is showing..can u please guide me through that.. Error is:-  <code>java.lang.AssertionError: No value at JSON path &quot;$.duration&quot;</code>    <code>Caused by: com.jayway.jsonpath.PathNotFoundException: Expected to find an object with property [&#39;duration&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.</code>"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1689428194,"post_id":76684866,"comment_id":135213817,"body_markdown":"Your assertion is wrong. You return an array of objects, not an object.","body":"Your assertion is wrong. You return an array of objects, not an object."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689487172,"post_id":76684866,"comment_id":135218662,"body_markdown":"Thanks @Lesiak for pointing that out...I tried searching how to assert with array of objects but couldn&#39;t find one.. Could you please tell me what exact changes to be made in \n`  &quot;$&quot;,is(contentList) ` \ncode. \nTIA.","body":"Thanks @Lesiak for pointing that out...I tried searching how to assert with array of objects but couldn&#39;t find one.. Could you please tell me what exact changes to be made in  `  &quot;$&quot;,is(contentList) `  code.  TIA."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1689498152,"post_id":76684866,"comment_id":135219543,"body_markdown":"I&#39;d try &quot;$[*]&quot; to get entire list or &quot;$[0]&quot; to get first element. Check which approach produces more readable errors.","body":"I&#39;d try &quot;$[*]&quot; to get entire list or &quot;$[0]&quot; to get first element. Check which approach produces more readable errors."},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1689512798,"post_id":76684866,"comment_id":135221099,"body_markdown":"It worked Thanks.. @Lesiak\nCan u pls tell me why removing before Each method was necessary ..like it just initializes the mockMvc..","body":"It worked Thanks.. @Lesiak Can u pls tell me why removing before Each method was necessary ..like it just initializes the mockMvc.."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689515436,"creation_date":1689515436,"answer_id":76698596,"question_id":76684866,"body_markdown":"As discussed in comments, you are trying to write a unit test for a single controller.\r\n\r\n@WebMvcTest is the right tool for the job.\r\n\r\n1. annotate your test with @WebMvcTest(Content controller.class)\r\nIt will create spring context with web slice of the app.\r\n\r\n2. You need to provide missing beans so that spring can create the instance of your controller. These are provided with @MockBean, not @Mock\r\n\r\n3. Get requests do not have a body in http1 and http2. Remove content type in your request.\r\n\r\n4. Lastly, you have MockMvc instance provided by WebMvcTest (this annotation is annotated with @AutoConfigureWebMvc), injected to your test with @Autowired. You were overwriting this instance with another, badly cofigured one in @BeforeEach. On top of that, you were also overwriting mocks. This is why entire BeforeEach needed to be deleted.\r\n\r\nSee [Unit Testing With @WebMvcTest](https://www.baeldung.com/spring-boot-testing#unit-testing-with-webmvctest)","title":"Page Not Found -- No mapping for /GET","body":"<p>As discussed in comments, you are trying to write a unit test for a single controller.</p>\n<p>@WebMvcTest is the right tool for the job.</p>\n<ol>\n<li><p>annotate your test with @WebMvcTest(Content controller.class)\nIt will create spring context with web slice of the app.</p>\n</li>\n<li><p>You need to provide missing beans so that spring can create the instance of your controller. These are provided with @MockBean, not @Mock</p>\n</li>\n<li><p>Get requests do not have a body in http1 and http2. Remove content type in your request.</p>\n</li>\n<li><p>Lastly, you have MockMvc instance provided by WebMvcTest (this annotation is annotated with @AutoConfigureWebMvc), injected to your test with @Autowired. You were overwriting this instance with another, badly cofigured one in @BeforeEach. On top of that, you were also overwriting mocks. This is why entire BeforeEach needed to be deleted.</p>\n</li>\n</ol>\n<p>See <a href=\"https://www.baeldung.com/spring-boot-testing#unit-testing-with-webmvctest\" rel=\"nofollow noreferrer\">Unit Testing With @WebMvcTest</a></p>\n"}],"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76698596,"answer_count":1,"score":0,"last_activity_date":1689515436,"creation_date":1689311430,"question_id":76684866,"body_markdown":"I am trying to write test for my controller for my SPRING-BOOT CRUD operation project using junit5 and mocking. While running the test it is showing below error. Not able to understand what is the problem.\r\n\r\nError:-\r\n\r\n```10:24:51.839 [main] INFO org.springframework.mock.web.MockServletContext -- Initializing Spring TestDispatcherServlet &#39;&#39;\r\n10:24:51.840 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Initializing Servlet &#39;&#39;\r\n10:24:51.842 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Completed initialization in 1 ms\r\n10:24:51.865 [main] WARN org.springframework.web.servlet.PageNotFound -- No mapping for GET /content\r\n\r\njava.lang.AssertionError: No value at JSON path &quot;$.duration&quot;\r\n```\r\nContentController file:-\r\n\r\n```\r\npackage com.example.sixth.controller;\r\n\r\n\r\nimport com.example.sixth.entity.Content;\r\nimport com.example.sixth.service.ContentService;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\npublic class ContentController {\r\n\r\n\r\n\r\n    private final ContentService contentService;\r\n\r\n    public ContentController(ContentService contentService) {\r\n        this.contentService = contentService;\r\n    }\r\n\r\n    @GetMapping(&quot;/content&quot;)\r\n    public List&lt;Content&gt; show(){\r\n        return contentService.showAll();\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/content&quot;)\r\n    public String save(@RequestBody Content content){\r\n        return contentService.save(content);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/content/title/{param}&quot;)\r\n    public List&lt;Content&gt; getContentStartWith(@PathVariable(&quot;param&quot;) String title){\r\n        return contentService.getContentStartWith(title);\r\n    }\r\n\r\n\r\n    @DeleteMapping(&quot;/content/{id}&quot;)\r\n    public String delete(@PathVariable Integer id){\r\n        return contentService.delete(id);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/id&quot;)\r\n    public List&lt;Content&gt;getById(@RequestParam Integer minId,\r\n                                @RequestParam Integer maxId){\r\n        return contentService.getById(minId,maxId);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/content/{id}&quot;)\r\n    public Optional&lt;Content&gt; findById(@PathVariable Integer id){\r\n        return contentService.findById(id);\r\n    }\r\n\r\n}\r\n```\r\nTestFile:-\r\n\r\n```\r\npackage com.example.sixth;\r\n\r\nimport com.example.sixth.controller.ContentController;\r\nimport com.example.sixth.entity.Content;\r\nimport com.example.sixth.service.ContentService;\r\nimport com.example.sixth.service.ContentServiceImpl;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MockMvcBuilder;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n//import org.powermock.api.mockito.PowerMockito;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport static org.hamcrest.Matchers.is;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\n\r\n@AutoConfigureMockMvc\r\n//@SpringBootTest\r\npublic class ContentControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Mock\r\n    ContentService mockService;\r\n\r\n    @InjectMocks\r\n    ContentController contentController;\r\n\r\n    @BeforeEach\r\n    public void init(){\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        this.mockMvc= MockMvcBuilders.standaloneSetup(mockService).build();\r\n    }\r\n\r\n    @Test\r\n    public void testfindall() throws Exception {\r\n        Content content = (Content.builder()\r\n                .id(3)\r\n                .title(&quot;SECOND!!&quot;)\r\n                .duration(38)\r\n                .location(&quot;Bangalore&quot;).build());\r\n        List&lt;Content&gt; contentList = new ArrayList&lt;&gt;();\r\n        contentList.add(content);\r\n        Mockito.when(mockService.showAll()).thenReturn(contentList);\r\n        \r\n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/content&quot;).contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.jsonPath(&quot;$.duration&quot;,is(content.getDuration())));\r\n//        List&lt;Content&gt; actual=contentController.show();\r\n//        System.out.println(actual.get(0).toString());\r\n//        assertEquals(actual,contentList);\r\n\r\n    }\r\n```\r\n\r\nBtw when using assert it is working but with mockMvc it is showing error ..\r\n\r\n","title":"Page Not Found -- No mapping for /GET","body":"<p>I am trying to write test for my controller for my SPRING-BOOT CRUD operation project using junit5 and mocking. While running the test it is showing below error. Not able to understand what is the problem.</p>\n<p>Error:-</p>\n<pre><code>10:24:51.840 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Initializing Servlet ''\n10:24:51.842 [main] INFO org.springframework.test.web.servlet.TestDispatcherServlet -- Completed initialization in 1 ms\n10:24:51.865 [main] WARN org.springframework.web.servlet.PageNotFound -- No mapping for GET /content\n\njava.lang.AssertionError: No value at JSON path &quot;$.duration&quot;\n</code></pre>\n<p>ContentController file:-</p>\n<pre><code>package com.example.sixth.controller;\n\n\nimport com.example.sixth.entity.Content;\nimport com.example.sixth.service.ContentService;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\npublic class ContentController {\n\n\n\n    private final ContentService contentService;\n\n    public ContentController(ContentService contentService) {\n        this.contentService = contentService;\n    }\n\n    @GetMapping(&quot;/content&quot;)\n    public List&lt;Content&gt; show(){\n        return contentService.showAll();\n    }\n\n\n    @PostMapping(&quot;/content&quot;)\n    public String save(@RequestBody Content content){\n        return contentService.save(content);\n    }\n\n\n    @GetMapping(&quot;/content/title/{param}&quot;)\n    public List&lt;Content&gt; getContentStartWith(@PathVariable(&quot;param&quot;) String title){\n        return contentService.getContentStartWith(title);\n    }\n\n\n    @DeleteMapping(&quot;/content/{id}&quot;)\n    public String delete(@PathVariable Integer id){\n        return contentService.delete(id);\n    }\n\n\n    @GetMapping(&quot;/id&quot;)\n    public List&lt;Content&gt;getById(@RequestParam Integer minId,\n                                @RequestParam Integer maxId){\n        return contentService.getById(minId,maxId);\n    }\n\n\n    @GetMapping(&quot;/content/{id}&quot;)\n    public Optional&lt;Content&gt; findById(@PathVariable Integer id){\n        return contentService.findById(id);\n    }\n\n}\n</code></pre>\n<p>TestFile:-</p>\n<pre><code>package com.example.sixth;\n\nimport com.example.sixth.controller.ContentController;\nimport com.example.sixth.entity.Content;\nimport com.example.sixth.service.ContentService;\nimport com.example.sixth.service.ContentServiceImpl;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MockMvcBuilder;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n//import org.powermock.api.mockito.PowerMockito;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport static org.hamcrest.Matchers.is;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n\n@AutoConfigureMockMvc\n//@SpringBootTest\npublic class ContentControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Mock\n    ContentService mockService;\n\n    @InjectMocks\n    ContentController contentController;\n\n    @BeforeEach\n    public void init(){\n        MockitoAnnotations.initMocks(this);\n\n        this.mockMvc= MockMvcBuilders.standaloneSetup(mockService).build();\n    }\n\n    @Test\n    public void testfindall() throws Exception {\n        Content content = (Content.builder()\n                .id(3)\n                .title(&quot;SECOND!!&quot;)\n                .duration(38)\n                .location(&quot;Bangalore&quot;).build());\n        List&lt;Content&gt; contentList = new ArrayList&lt;&gt;();\n        contentList.add(content);\n        Mockito.when(mockService.showAll()).thenReturn(contentList);\n        \n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/content&quot;).contentType(MediaType.APPLICATION_JSON)).andExpect(MockMvcResultMatchers.jsonPath(&quot;$.duration&quot;,is(content.getDuration())));\n//        List&lt;Content&gt; actual=contentController.show();\n//        System.out.println(actual.get(0).toString());\n//        assertEquals(actual,contentList);\n\n    }\n</code></pre>\n<p>Btw when using assert it is working but with mockMvc it is showing error ..</p>\n"},{"tags":["java","mysql","angular","spring"],"answers":[{"tags":[],"owner":{"account_id":15528874,"reputation":36,"user_id":11202954,"display_name":"Behinesazan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689514808,"creation_date":1689514808,"answer_id":76698561,"question_id":76697379,"body_markdown":"the best way to do that is to have a rest API and request to the backend through POST request or GET request. You should have run nodejs on another port and request to your data","title":"How to integrate an angular app with mysql database?","body":"<p>the best way to do that is to have a rest API and request to the backend through POST request or GET request. You should have run nodejs on another port and request to your data</p>\n"}],"owner":{"account_id":25979860,"reputation":9,"user_id":19712163,"display_name":"SealAnia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689514808,"creation_date":1689496945,"question_id":76697379,"body_markdown":"I&#39;m writing my first angular application and can&#39;t find out how to integrate it with mySql database. \r\n\r\nthis is a method in controller: \r\n```\r\n@GetMapping(value = &quot;/{employeeId}&quot;)\r\npublic Employee findEmployeeById(@PathVariable Long employeeId) {\r\n\treturn employeeService.getById(employeeId);\r\n}\r\n```\r\na fragment of app.component.ts: \r\n```\r\nconstructor(private http: HttpClient) {\r\n\tthis.http.get&lt;Employee&gt;(&quot;http://localhost:8080/employees/{employeeId}&quot;).subscribe(result =&gt; {\r\n\t\tthis.employee = result;\r\n\t\tconsole.log(this.employee);\r\n\t});\r\n}\r\n```\r\nBoth angular and spring apps launch but at localhost:4200 I just get a white screen. \r\nThe annotation @CrossOrigin(origins = &quot;http://localhost:4200&quot;) is added. ","title":"How to integrate an angular app with mysql database?","body":"<p>I'm writing my first angular application and can't find out how to integrate it with mySql database.</p>\n<p>this is a method in controller:</p>\n<pre><code>@GetMapping(value = &quot;/{employeeId}&quot;)\npublic Employee findEmployeeById(@PathVariable Long employeeId) {\n    return employeeService.getById(employeeId);\n}\n</code></pre>\n<p>a fragment of app.component.ts:</p>\n<pre><code>constructor(private http: HttpClient) {\n    this.http.get&lt;Employee&gt;(&quot;http://localhost:8080/employees/{employeeId}&quot;).subscribe(result =&gt; {\n        this.employee = result;\n        console.log(this.employee);\n    });\n}\n</code></pre>\n<p>Both angular and spring apps launch but at localhost:4200 I just get a white screen.\nThe annotation @CrossOrigin(origins = &quot;http://localhost:4200&quot;) is added.</p>\n"},{"tags":["java","spring-boot","installation"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":1,"creation_date":1689514896,"post_id":76698171,"comment_id":135221362,"body_markdown":"Looks like your question is related to STS and not spring boot.","body":"Looks like your question is related to STS and not spring boot."}],"owner":{"account_id":29027639,"reputation":9,"user_id":22235421,"display_name":"Narendra Korade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689514004,"creation_date":1689509186,"question_id":76698171,"body_markdown":"I am trying to install spring boot&#39;s latest version 4.19 and getting the below error. Earlier I had 4.18. I deleted the older version. I have deleted all the files from the computer but still getting errors. [enter image description here][1]\r\nPlease help to resolve this error. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrad5.png","title":"Getting error while installing Spring boot","body":"<p>I am trying to install spring boot's latest version 4.19 and getting the below error. Earlier I had 4.18. I deleted the older version. I have deleted all the files from the computer but still getting errors. <a href=\"https://i.stack.imgur.com/xrad5.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nPlease help to resolve this error.</p>\n"},{"tags":["java","jvm","initialization","classloader","static-block"],"owner":{"account_id":28961785,"reputation":1,"user_id":22184123,"display_name":"Satyam Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689513911,"answer_count":0,"score":0,"last_activity_date":1689513748,"creation_date":1689513748,"question_id":76698491,"body_markdown":"```\r\nclass Details {\r\n    static private int age;\r\n    static {\r\n        age=45;\r\n        System.out.println(&quot;Static block.&quot;);\r\n    }\r\n\r\n    private String name;\r\n    {\r\n        name=&quot;Satyam&quot;;\r\n        System.out.println(&quot;Initialiser block&quot;);\r\n    }\r\n    Details(){\r\n        System.out.println(&quot;constructor.&quot;);\r\n    }\r\n    static void staticMethod(){\r\n        System.out.println(&quot;static method.&quot;);\r\n    }\r\n    void nonStaticMethod(){\r\n        System.out.println(&quot;non-static method&quot;);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\npublic class EncapsulationPractice {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;main method&quot;);\r\n        Details.staticMethod();\r\n        Details details=new Details();\r\n        details.nonStaticMethod();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m getting output in this way :\r\n```\r\nmain method\r\nStatic block.\r\nstatic method.\r\nInitialiser block\r\nconstructor.\r\nnon-static method\r\n```\r\n\r\n\r\nBut as far as the blogs I read and vedios I watched they told that static variables and static blocks are initialized before the obj creation i.e at the time of class loading? **I&#39;m confused between class loading and initialization and I was expecting the output of above code as following:**\r\n```\r\nStatic block.\r\nmain method\r\nstatic method.\r\nInitialiser block\r\nconstructor.\r\nnon-static method\r\n```","title":"How does static block works across different classes in java?","body":"<pre><code>class Details {\n    static private int age;\n    static {\n        age=45;\n        System.out.println(&quot;Static block.&quot;);\n    }\n\n    private String name;\n    {\n        name=&quot;Satyam&quot;;\n        System.out.println(&quot;Initialiser block&quot;);\n    }\n    Details(){\n        System.out.println(&quot;constructor.&quot;);\n    }\n    static void staticMethod(){\n        System.out.println(&quot;static method.&quot;);\n    }\n    void nonStaticMethod(){\n        System.out.println(&quot;non-static method&quot;);\n    }\n\n}\n\n\n\n\npublic class EncapsulationPractice {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;main method&quot;);\n        Details.staticMethod();\n        Details details=new Details();\n        details.nonStaticMethod();\n\n    }\n}\n\n</code></pre>\n<p>I'm getting output in this way :</p>\n<pre><code>main method\nStatic block.\nstatic method.\nInitialiser block\nconstructor.\nnon-static method\n</code></pre>\n<p>But as far as the blogs I read and vedios I watched they told that static variables and static blocks are initialized before the obj creation i.e at the time of class loading? <strong>I'm confused between class loading and initialization and I was expecting the output of above code as following:</strong></p>\n<pre><code>Static block.\nmain method\nstatic method.\nInitialiser block\nconstructor.\nnon-static method\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":1,"creation_date":1689515103,"post_id":76698482,"comment_id":135221388,"body_markdown":"Providing the snippet of your pom.xml would help to understand the problem bit more.","body":"Providing the snippet of your pom.xml would help to understand the problem bit more."}],"owner":{"account_id":29018324,"reputation":1,"user_id":22228311,"display_name":"Dipak Kumbhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689513710,"creation_date":1689513670,"question_id":76698482,"body_markdown":"I am facing error when I try to run mvn enforcer:enforce -X\r\n in local system. \r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\r\n&gt; (default-cli) on project projectName: No rules are configured. Use the\r\n&gt; skip flag if you want to disable execution. -&gt; [Help 1]\r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\r\n&gt; execute goal\r\n&gt; org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\r\n&gt; (default-cli) on project projectName: No rules are configured. Use the\r\n&gt; skip flag if you want to disable execution.\r\n\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce (default-cli) on project projectName:","body":"<p>I am facing error when I try to run mvn enforcer:enforce -X\nin local system.</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\n(default-cli) on project projectName: No rules are configured. Use the\nskip flag if you want to disable execution. -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to\nexecute goal\norg.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce\n(default-cli) on project projectName: No rules are configured. Use the\nskip flag if you want to disable execution.</p>\n</blockquote>\n"},{"tags":["java","gzip","gzipinputstream"],"comments":[{"owner":{"display_name":"user452425"},"score":0,"creation_date":1354818221,"post_id":13749891,"comment_id":18896430,"body_markdown":"If you have a chance to replace implementation you could try to use workaround at bug id 2192186.  The best way to test if its fixed or not use latest jvm 1.6.37 or 1.7.9","body":"If you have a chance to replace implementation you could try to use workaround at bug id 2192186.  The best way to test if its fixed or not use latest jvm 1.6.37 or 1.7.9"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1354820164,"post_id":13749891,"comment_id":18897291,"body_markdown":"The workaround would be to simply repeat GZIPInputStream on the input until you have no more input.  A concatenated gzip stream is just that — multiple gzip streams concatenated.  So if GZIPInputStream can read one, then it can read the next one as well.","body":"The workaround would be to simply repeat GZIPInputStream on the input until you have no more input.  A concatenated gzip stream is just that — multiple gzip streams concatenated.  So if GZIPInputStream can read one, then it can read the next one as well."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1689509618,"post_id":13749891,"comment_id":135220708,"body_markdown":"Apache Commons Compress has [GzipCompressorInputStream](https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.html) which seems to address this problem.","body":"Apache Commons Compress has <a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/compressors/gzip/GzipCompressorInputStream.html\" rel=\"nofollow noreferrer\">GzipCompressorInputStream</a> which seems to address this problem."}],"answers":[{"tags":[],"owner":{"display_name":"user452425"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689509646,"creation_date":1354826439,"answer_id":13752136,"question_id":13749891,"body_markdown":"I check it again and released that [bug][1] is already fixed (check its status and resolution fields). Here is related [commit][2]. Make sure that you are using latest Java version.\r\n\r\n[1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\r\n[2]: http://mail.openjdk.java.net/pipermail/compiler-dev/2010-May/002035.html","title":"GZIPInputStream fails to read concatenated .gz files bug resolved?","body":"<p>I check it again and released that <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\" rel=\"nofollow noreferrer\">bug</a> is already fixed (check its status and resolution fields). Here is related <a href=\"http://mail.openjdk.java.net/pipermail/compiler-dev/2010-May/002035.html\" rel=\"nofollow noreferrer\">commit</a>. Make sure that you are using latest Java version.</p>\n"},{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392338207,"creation_date":1392338207,"answer_id":21768646,"question_id":13749891,"body_markdown":"Sorry for answering over a year, late but I thought the answer would help others because I too had this problem and it took me a while to find which version.\r\n\r\nThe answer is the GZIPInputStream concatenation bug fix was released in Java 6u21-rev-b08 http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html\r\n\r\nHowever, it looks like the official Java 6u21 release was based on build 7 so that fix probably isn&#39;t in the official release until Java 6u22 even though it does not appear in the release notes.\r\n\r\nI would think that this means it is in all versions of Java 7 since 6u22 came out a year before Java 7 was released.  It is definitely in the latest Java 7 release.\r\n","title":"GZIPInputStream fails to read concatenated .gz files bug resolved?","body":"<p>Sorry for answering over a year, late but I thought the answer would help others because I too had this problem and it took me a while to find which version.</p>\n\n<p>The answer is the GZIPInputStream concatenation bug fix was released in Java 6u21-rev-b08 <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html</a></p>\n\n<p>However, it looks like the official Java 6u21 release was based on build 7 so that fix probably isn't in the official release until Java 6u22 even though it does not appear in the release notes.</p>\n\n<p>I would think that this means it is in all versions of Java 7 since 6u22 came out a year before Java 7 was released.  It is definitely in the latest Java 7 release.</p>\n"}],"owner":{"account_id":84520,"reputation":7328,"user_id":236215,"accept_rate":62,"display_name":"user236215"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689509646,"creation_date":1354817570,"question_id":13749891,"body_markdown":"Does anyone know if this bug\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\r\n\r\nhas been resolved yet? It is causing issues on our side in data collection from archive or archives. Looks like this is a very old issue:\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=4691425\r\n\r\nIf it is resolved, please let me know JVM version that contains the fix.","title":"GZIPInputStream fails to read concatenated .gz files bug resolved?","body":"<p>Does anyone know if this bug\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=2192186</a></p>\n<p>has been resolved yet? It is causing issues on our side in data collection from archive or archives. Looks like this is a very old issue:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4691425\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4691425</a></p>\n<p>If it is resolved, please let me know JVM version that contains the fix.</p>\n"},{"tags":["java","spring-boot","servlets"],"comments":[{"owner":{"account_id":12206728,"reputation":608,"user_id":8909621,"display_name":"hayridurmaz"},"score":0,"creation_date":1700656692,"post_id":76698202,"comment_id":136681002,"body_markdown":"Hi, were you able to find any solutions?","body":"Hi, were you able to find any solutions?"}],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689509645,"creation_date":1689509645,"question_id":76698202,"body_markdown":"Migrated to springboot 3.1.0.\r\n\r\nI have a Soap configuration class like below to map the url which uses &#39;WSSpringServlet&#39; and it is giving compile error after the upgrade.\r\n\r\n\r\n../SoapConfiguration.java:30: error: type argument WSSpringServlet is not within bounds of type-variable T\r\n    public ServletRegistrationBean&lt;WSSpringServlet&gt; servletRegistrationBean() {\r\n                                   ^\r\n  where T is a type-variable:\r\n    T extends Servlet declared in class ServletRegistrationBean\r\n../SoapConfiguration.java:32: error: cannot infer type arguments for ServletRegistrationBean&lt;&gt;\r\n        ServletRegistrationBean bean = new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);\r\n\r\n\r\nBelow is my SoapConfiguration.java:\r\n\r\n```\r\npackage com.mydump.esb.offer.config;\r\n\r\nimport org.jvnet.jax_ws_commons.spring.SpringService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.sun.xml.ws.transport.http.servlet.SpringBinding;\r\nimport com.sun.xml.ws.transport.http.servlet.WSSpringServlet;\r\n\r\nimport com.mydump.esb.offer.components.OfferEndpoint;\r\n\r\n\r\n@Configuration\r\npublic class SoapConfiguration {\r\n\r\n    private static final String OFFER_ENDPOINT = &quot;/customer/soap/offer/v1&quot;;\r\n\r\n    @Bean\r\n    public ServletRegistrationBean&lt;WSSpringServlet&gt; servletRegistrationBean() {\r\n        return new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);\r\n    }\r\n\r\n    @Bean\r\n    public SpringBinding bindLocalityEndpoint(@Autowired OfferEndpoint endpoint) throws Exception {\r\n        return bind(endpoint, OFFER_ENDPOINT);\r\n    }\r\n\r\n    private SpringBinding bind(OfferEndpoint endpoint, String url) throws Exception {\r\n        SpringService springService = new SpringService();\r\n        springService.setBean(endpoint);\r\n        SpringBinding binding = new SpringBinding();\r\n        binding.setService(springService.getObject());\r\n        binding.setUrl(url);\r\n        return binding;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat should I use in place of WSSpringServlet in Springboot 3.1.0 ?\r\n\r\nThanks in advance!","title":"Servlet not getting intialised after springboot migrated to 3.x","body":"<p>Migrated to springboot 3.1.0.</p>\n<p>I have a Soap configuration class like below to map the url which uses 'WSSpringServlet' and it is giving compile error after the upgrade.</p>\n<p>../SoapConfiguration.java:30: error: type argument WSSpringServlet is not within bounds of type-variable T\npublic ServletRegistrationBean servletRegistrationBean() {\n^\nwhere T is a type-variable:\nT extends Servlet declared in class ServletRegistrationBean\n../SoapConfiguration.java:32: error: cannot infer type arguments for ServletRegistrationBean&lt;&gt;\nServletRegistrationBean bean = new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);</p>\n<p>Below is my SoapConfiguration.java:</p>\n<pre><code>package com.mydump.esb.offer.config;\n\nimport org.jvnet.jax_ws_commons.spring.SpringService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.sun.xml.ws.transport.http.servlet.SpringBinding;\nimport com.sun.xml.ws.transport.http.servlet.WSSpringServlet;\n\nimport com.mydump.esb.offer.components.OfferEndpoint;\n\n\n@Configuration\npublic class SoapConfiguration {\n\n    private static final String OFFER_ENDPOINT = &quot;/customer/soap/offer/v1&quot;;\n\n    @Bean\n    public ServletRegistrationBean&lt;WSSpringServlet&gt; servletRegistrationBean() {\n        return new ServletRegistrationBean&lt;&gt;(new WSSpringServlet(), OFFER_ENDPOINT);\n    }\n\n    @Bean\n    public SpringBinding bindLocalityEndpoint(@Autowired OfferEndpoint endpoint) throws Exception {\n        return bind(endpoint, OFFER_ENDPOINT);\n    }\n\n    private SpringBinding bind(OfferEndpoint endpoint, String url) throws Exception {\n        SpringService springService = new SpringService();\n        springService.setBean(endpoint);\n        SpringBinding binding = new SpringBinding();\n        binding.setService(springService.getObject());\n        binding.setUrl(url);\n        return binding;\n    }\n}\n\n</code></pre>\n<p>What should I use in place of WSSpringServlet in Springboot 3.1.0 ?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["javascript","java","webgl","alpha","teavm"],"comments":[{"owner":{"account_id":952147,"reputation":7745,"user_id":978057,"display_name":"LJᛃ"},"score":0,"creation_date":1689507070,"post_id":76694406,"comment_id":135220459,"body_markdown":"looks like your depth testing is broken?","body":"looks like your depth testing is broken?"}],"answers":[{"tags":[],"owner":{"account_id":28905957,"reputation":1,"user_id":22139973,"display_name":"PeytonPlayz595"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689507657,"creation_date":1689507657,"answer_id":76698067,"question_id":76694406,"body_markdown":"I got it working by doing this:\r\n```java\r\nglEnable(GL_BLEND);\r\nglBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\r\nglAlphaFunc(GL_LESS, 1.0F);\r\n```","title":"OpenGL Texture Blending","body":"<p>I got it working by doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>glEnable(GL_BLEND);\nglBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\nglAlphaFunc(GL_LESS, 1.0F);\n</code></pre>\n"}],"owner":{"account_id":28905957,"reputation":1,"user_id":22139973,"display_name":"PeytonPlayz595"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689509622,"creation_date":1689433878,"question_id":76694406,"body_markdown":"I have made a WebGL port of Minecraft Classic 0.30 Survival Test using TeaVM and I&#39;m having some issues with WebGL texture blending.\r\n\r\nHere is the code I&#39;m using:\r\n```java\r\nif(textureName.equals(&quot;/terrain.png&quot;) || textureName.equals(&quot;/arrow.png&quot;)) {\r\n    GL11.glEnable(GL11.GL_BLEND);\r\n    GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\r\n}\r\n```\r\n\r\nHere is the result:\r\n[https://i.stack.imgur.com/SpRg3.png](https://i.stack.imgur.com/SpRg3.png)\r\n\r\n\r\n\r\nDo I have to use any GLSL or is there a way I can do it without it?\r\n\r\nEdit: Here is the [source code](https://github.com/PeytonPlayz595/Shadow-Client-Classic) if anybody wants to look at it.","title":"OpenGL Texture Blending","body":"<p>I have made a WebGL port of Minecraft Classic 0.30 Survival Test using TeaVM and I'm having some issues with WebGL texture blending.</p>\n<p>Here is the code I'm using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(textureName.equals(&quot;/terrain.png&quot;) || textureName.equals(&quot;/arrow.png&quot;)) {\n    GL11.glEnable(GL11.GL_BLEND);\n    GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\n}\n</code></pre>\n<p>Here is the result:\n<a href=\"https://i.stack.imgur.com/SpRg3.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SpRg3.png</a></p>\n<p>Do I have to use any GLSL or is there a way I can do it without it?</p>\n<p>Edit: Here is the <a href=\"https://github.com/PeytonPlayz595/Shadow-Client-Classic\" rel=\"nofollow noreferrer\">source code</a> if anybody wants to look at it.</p>\n"},{"tags":["java","react-native"],"owner":{"account_id":2200957,"reputation":4999,"user_id":1945363,"accept_rate":79,"display_name":"Wasteland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689509343,"creation_date":1689509343,"question_id":76698185,"body_markdown":"I&#39;m trying to go through the React Native native modules examples and am stuck on one about sending events from native to js. The documentation provides this. I gather this is not just a copy and paste exercise:\r\n\r\n    ...\r\n    import com.facebook.react.modules.core.DeviceEventManagerModule;\r\n    import com.facebook.react.bridge.WritableMap;\r\n    import com.facebook.react.bridge.Arguments;\r\n    ...\r\n    private void sendEvent(ReactContext reactContext,\r\n                          String eventName,\r\n                          @Nullable WritableMap params) {\r\n     reactContext\r\n         .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\r\n         .emit(eventName, params);\r\n    }\r\n    \r\n    private int listenerCount = 0;\r\n    \r\n    @ReactMethod\r\n    public void addListener(String eventName) {\r\n      if (listenerCount == 0) {\r\n        // Set up any upstream listeners or background tasks as necessary\r\n      }\r\n    \r\n      listenerCount += 1;\r\n    }\r\n    \r\n    @ReactMethod\r\n    public void removeListeners(Integer count) {\r\n      listenerCount -= count;\r\n      if (listenerCount == 0) {\r\n        // Remove upstream listeners, stop unnecessary background tasks\r\n      }\r\n    }\r\n    ...\r\n    WritableMap params = Arguments.createMap();\r\n    params.putString(&quot;eventProperty&quot;, &quot;someValue&quot;);\r\n    ...\r\n    sendEvent(reactContext, &quot;EventReminder&quot;, params);\r\n\r\n\r\nI&#39;ve implemented it as follows:\r\n\r\n\r\n    package com.todox;\r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.facebook.react.bridge.ReactContext;\r\n    import com.facebook.react.bridge.ReactContextBaseJavaModule;\r\n    import com.facebook.react.bridge.ReactMethod;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import android.util.Log;\r\n    import com.facebook.react.modules.core.DeviceEventManagerModule;\r\n    import com.facebook.react.bridge.WritableMap;\r\n    import com.facebook.react.bridge.Arguments;\r\n    import androidx.annotation.Nullable;\r\n    \r\n    \r\n    \r\n    \r\n    public class MyEventEmitterModule extends ReactContextBaseJavaModule {\r\n        MyEventEmitterModule(ReactApplicationContext context) {\r\n            super(context);\r\n        }\r\n    \r\n        private int listenerCount = 0;\r\n    \r\n        @ReactMethod\r\n        public void addListener(String eventName) {\r\n            if (listenerCount == 0) {\r\n                // Set up any upstream listeners or background tasks as necessary\r\n            }\r\n    \r\n            listenerCount += 1;\r\n        }\r\n    \r\n        @ReactMethod\r\n        public void removeListeners(Integer count) {\r\n            listenerCount -= count;\r\n            if (listenerCount == 0) {\r\n                // Remove upstream listeners, stop unnecessary background tasks\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return &quot;MyEventEmitterModule&quot;;\r\n        }\r\n    \r\n        @ReactMethod\r\n        public void initEmitter() {\r\n            Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule&quot;);\r\n        }\r\n    \r\n        private void sendEvent(ReactContext reactContext,\r\n                               String eventName,\r\n                               @Nullable WritableMap params) {\r\n            reactContext\r\n                    .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\r\n                    .emit(eventName, params);\r\n        }\r\n    \r\n    \r\n    \r\n        @ReactMethod\r\n        public void initWithListener(ReactContext reactContext) {\r\n            try {\r\n                WritableMap params = Arguments.createMap();\r\n                params.putString(&quot;eventProperty&quot;, &quot;someValueXXXXXXX&quot;);\r\n    \r\n                Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule WITH LISTENER&quot;);\r\n                Thread.sleep(10000);\r\n                sendEvent(reactContext, &quot;EventReminder&quot;, params);\r\n                Log.d(&quot;MEEM&quot;, &quot;AfterSending&quot;);\r\n    \r\n            } catch(Exception e) {\r\n                Log.d(&quot;MEEM&quot;, &quot;EXCEPTION&quot; + e);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nWhen I tap on the button in the app to call the initWithListener method I get:\r\n\r\n    Exception in native call\r\n    java.lang.RuntimeException: Got unknown argument class: ReactContext\r\n\r\nI kind of understand that it&#39;s not going to work as I don&#39;t pass any argument to initWithListener from the js land but I can&#39;t get it work. ReactContext seems unavailable in that class. How can I make it work, please? My knowledge of java is very basic. Thanks\r\n                                                                                                    \t\r\n","title":"RN - sending events from Native to JS (ReactContext)","body":"<p>I'm trying to go through the React Native native modules examples and am stuck on one about sending events from native to js. The documentation provides this. I gather this is not just a copy and paste exercise:</p>\n<pre><code>...\nimport com.facebook.react.modules.core.DeviceEventManagerModule;\nimport com.facebook.react.bridge.WritableMap;\nimport com.facebook.react.bridge.Arguments;\n...\nprivate void sendEvent(ReactContext reactContext,\n                      String eventName,\n                      @Nullable WritableMap params) {\n reactContext\n     .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\n     .emit(eventName, params);\n}\n\nprivate int listenerCount = 0;\n\n@ReactMethod\npublic void addListener(String eventName) {\n  if (listenerCount == 0) {\n    // Set up any upstream listeners or background tasks as necessary\n  }\n\n  listenerCount += 1;\n}\n\n@ReactMethod\npublic void removeListeners(Integer count) {\n  listenerCount -= count;\n  if (listenerCount == 0) {\n    // Remove upstream listeners, stop unnecessary background tasks\n  }\n}\n...\nWritableMap params = Arguments.createMap();\nparams.putString(&quot;eventProperty&quot;, &quot;someValue&quot;);\n...\nsendEvent(reactContext, &quot;EventReminder&quot;, params);\n</code></pre>\n<p>I've implemented it as follows:</p>\n<pre><code>package com.todox;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport java.util.Map;\nimport java.util.HashMap;\nimport android.util.Log;\nimport com.facebook.react.modules.core.DeviceEventManagerModule;\nimport com.facebook.react.bridge.WritableMap;\nimport com.facebook.react.bridge.Arguments;\nimport androidx.annotation.Nullable;\n\n\n\n\npublic class MyEventEmitterModule extends ReactContextBaseJavaModule {\n    MyEventEmitterModule(ReactApplicationContext context) {\n        super(context);\n    }\n\n    private int listenerCount = 0;\n\n    @ReactMethod\n    public void addListener(String eventName) {\n        if (listenerCount == 0) {\n            // Set up any upstream listeners or background tasks as necessary\n        }\n\n        listenerCount += 1;\n    }\n\n    @ReactMethod\n    public void removeListeners(Integer count) {\n        listenerCount -= count;\n        if (listenerCount == 0) {\n            // Remove upstream listeners, stop unnecessary background tasks\n        }\n    }\n\n    @Override\n    public String getName() {\n        return &quot;MyEventEmitterModule&quot;;\n    }\n\n    @ReactMethod\n    public void initEmitter() {\n        Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule&quot;);\n    }\n\n    private void sendEvent(ReactContext reactContext,\n                           String eventName,\n                           @Nullable WritableMap params) {\n        reactContext\n                .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\n                .emit(eventName, params);\n    }\n\n\n\n    @ReactMethod\n    public void initWithListener(ReactContext reactContext) {\n        try {\n            WritableMap params = Arguments.createMap();\n            params.putString(&quot;eventProperty&quot;, &quot;someValueXXXXXXX&quot;);\n\n            Log.d(&quot;MEEM&quot;, &quot;Initialised the MyEventEmitterModule WITH LISTENER&quot;);\n            Thread.sleep(10000);\n            sendEvent(reactContext, &quot;EventReminder&quot;, params);\n            Log.d(&quot;MEEM&quot;, &quot;AfterSending&quot;);\n\n        } catch(Exception e) {\n            Log.d(&quot;MEEM&quot;, &quot;EXCEPTION&quot; + e);\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p>When I tap on the button in the app to call the initWithListener method I get:</p>\n<pre><code>Exception in native call\njava.lang.RuntimeException: Got unknown argument class: ReactContext\n</code></pre>\n<p>I kind of understand that it's not going to work as I don't pass any argument to initWithListener from the js land but I can't get it work. ReactContext seems unavailable in that class. How can I make it work, please? My knowledge of java is very basic. Thanks</p>\n"},{"tags":["java","gzip","gzipoutputstream"],"answers":[{"tags":[],"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1283558949,"creation_date":1283555461,"answer_id":3640173,"question_id":3640080,"body_markdown":"I haven&#39;t tried this yet, and this advice won&#39;t be useful until we have Java 7 in hand, but the documentation for `GZIPOutputStream`&#39;s [`flush()`][1] method inherited from `DeflaterOutputStream` relies upon the *flush mode* specified at construction time with [the `syncFlush` argument][2] (related to `Deflater#SYNC_FLUSH`) to decide whether to flush the pending data to be compressed. This `syncFlush` argument is also accepted by `GZIPOutputStream` at construction time.\r\n\r\nIt sounds like you want to use either [`Deflator#SYNC_FLUSH`][3] or maybe even [`Deflater#FULL_FLUSH`][4], but, before digging down that far, first try working with [the two-argument][5] or [the four-argument `GZIPOutputStream` constructor][6] and pass `true` for the `syncFlush` argument. That will activate the flushing behavior you desire.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#flush%28%29\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#DeflaterOutputStream%28java.io.OutputStream,%20java.util.zip.Deflater,%20int,%20boolean%29\r\n  [3]: http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#SYNC_FLUSH\r\n  [4]: http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#FULL_FLUSH\r\n  [5]: http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20boolean%29\r\n  [6]: http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20int,%20boolean%29","title":"Force flush on a GZIPOutputStream in java","body":"<p>I haven't tried this yet, and this advice won't be useful until we have Java 7 in hand, but the documentation for <code>GZIPOutputStream</code>'s <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#flush%28%29\" rel=\"noreferrer\"><code>flush()</code></a> method inherited from <code>DeflaterOutputStream</code> relies upon the <em>flush mode</em> specified at construction time with <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html#DeflaterOutputStream%28java.io.OutputStream,%20java.util.zip.Deflater,%20int,%20boolean%29\" rel=\"noreferrer\">the <code>syncFlush</code> argument</a> (related to <code>Deflater#SYNC_FLUSH</code>) to decide whether to flush the pending data to be compressed. This <code>syncFlush</code> argument is also accepted by <code>GZIPOutputStream</code> at construction time.</p>\n\n<p>It sounds like you want to use either <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#SYNC_FLUSH\" rel=\"noreferrer\"><code>Deflator#SYNC_FLUSH</code></a> or maybe even <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html#FULL_FLUSH\" rel=\"noreferrer\"><code>Deflater#FULL_FLUSH</code></a>, but, before digging down that far, first try working with <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20boolean%29\" rel=\"noreferrer\">the two-argument</a> or <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html#GZIPOutputStream%28java.io.OutputStream,%20int,%20boolean%29\" rel=\"noreferrer\">the four-argument <code>GZIPOutputStream</code> constructor</a> and pass <code>true</code> for the <code>syncFlush</code> argument. That will activate the flushing behavior you desire.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1283563759,"creation_date":1283563759,"answer_id":3640550,"question_id":3640080,"body_markdown":"[Bug ID 4813885][1] handles this issue. The comment of &quot;DamonHD&quot;, submitted on 9 Sep 2006 (about halfway the bugreport) contains an example of `FlushableGZIPOutputStream` which he built on top of [Jazzlib&#39;s][2] `net.sf.jazzlib.DeflaterOutputStream`. \r\n\r\nFor reference, here&#39;s a (reformatted) extract:\r\n\r\n    /**\r\n     * Substitute for GZIPOutputStream that maximises compression and has a usable\r\n     * flush(). This is also more careful about its output writes for efficiency,\r\n     * and indeed buffers them to minimise the number of write()s downstream which\r\n     * is especially useful where each write() has a cost such as an OS call, a disc\r\n     * write, or a network packet.\r\n     */\r\n    public class FlushableGZIPOutputStream extends net.sf.jazzlib.DeflaterOutputStream {\r\n        private final CRC32 crc = new CRC32();\r\n        private final static int GZIP_MAGIC = 0x8b1f;\r\n        private final OutputStream os;\r\n    \r\n        /** Set when input has arrived and not yet been compressed and flushed downstream. */\r\n        private boolean somethingWritten;\r\n    \r\n        public FlushableGZIPOutputStream(final OutputStream os) throws IOException {\r\n            this(os, 8192);\r\n        }\r\n    \r\n        public FlushableGZIPOutputStream(final OutputStream os, final int bufsize) throws IOException {\r\n            super(new FilterOutputStream(new BufferedOutputStream(os, bufsize)) {\r\n                /** Suppress inappropriate/inefficient flush()es by DeflaterOutputStream. */\r\n                @Override\r\n                public void flush() {\r\n                }\r\n            }, new net.sf.jazzlib.Deflater(net.sf.jazzlib.Deflater.BEST_COMPRESSION, true));\r\n            this.os = os;\r\n            writeHeader();\r\n            crc.reset();\r\n        }\r\n    \r\n        public synchronized void write(byte[] buf, int off, int len) throws IOException {\r\n            somethingWritten = true;\r\n            super.write(buf, off, len);\r\n            crc.update(buf, off, len);\r\n        }\r\n    \r\n        /**\r\n         * Flush any accumulated input downstream in compressed form. We overcome\r\n         * some bugs/misfeatures here so that:\r\n         * &lt;ul&gt;\r\n         * &lt;li&gt;We won&#39;t allow the GZIP header to be flushed on its own without real compressed\r\n         * data in the same write downstream. \r\n         * &lt;li&gt;We ensure that any accumulated uncompressed data really is forced through the \r\n         * compressor.\r\n         * &lt;li&gt;We prevent spurious empty compressed blocks being produced from successive \r\n         * flush()es with no intervening new data.\r\n         * &lt;/ul&gt;\r\n         */\r\n        @Override\r\n        public synchronized void flush() throws IOException {\r\n            if (!somethingWritten) { return; }\r\n    \r\n            // We call this to get def.flush() called,\r\n            // but suppress the (usually premature) out.flush() called internally.\r\n            super.flush();\r\n    \r\n            // Since super.flush() seems to fail to reliably force output, \r\n            // possibly due to over-cautious def.needsInput() guard following def.flush(),\r\n            // we try to force the issue here by bypassing the guard.\r\n            int len;\r\n            while((len = def.deflate(buf, 0, buf.length)) &gt; 0) {\r\n                out.write(buf, 0, len);\r\n            }\r\n    \r\n            // Really flush the stream below us...\r\n            os.flush();\r\n    \r\n            // Further flush()es ignored until more input data data written.\r\n            somethingWritten = false;\r\n        }\r\n    \r\n        public synchronized void close() throws IOException {\r\n            if (!def.finished()) {\r\n                def.finish();\r\n                do {\r\n                    int len = def.deflate(buf, 0, buf.length);\r\n                    if (len &lt;= 0) { \r\n                        break;\r\n                    }\r\n                    out.write(buf, 0, len);\r\n                } while (!def.finished());\r\n            }\r\n    \r\n            // Write trailer\r\n            out.write(generateTrailer());\r\n    \r\n            out.close();\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nYou may find it useful.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4813885\r\n  [2]: http://jazzlib.sourceforge.net/","title":"Force flush on a GZIPOutputStream in java","body":"<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4813885\" rel=\"nofollow noreferrer\">Bug ID 4813885</a> handles this issue. The comment of &quot;DamonHD&quot;, submitted on 9 Sep 2006 (about halfway the bugreport) contains an example of <code>FlushableGZIPOutputStream</code> which he built on top of <a href=\"http://jazzlib.sourceforge.net/\" rel=\"nofollow noreferrer\">Jazzlib's</a> <code>net.sf.jazzlib.DeflaterOutputStream</code>.</p>\n<p>For reference, here's a (reformatted) extract:</p>\n<pre><code>/**\n * Substitute for GZIPOutputStream that maximises compression and has a usable\n * flush(). This is also more careful about its output writes for efficiency,\n * and indeed buffers them to minimise the number of write()s downstream which\n * is especially useful where each write() has a cost such as an OS call, a disc\n * write, or a network packet.\n */\npublic class FlushableGZIPOutputStream extends net.sf.jazzlib.DeflaterOutputStream {\n    private final CRC32 crc = new CRC32();\n    private final static int GZIP_MAGIC = 0x8b1f;\n    private final OutputStream os;\n\n    /** Set when input has arrived and not yet been compressed and flushed downstream. */\n    private boolean somethingWritten;\n\n    public FlushableGZIPOutputStream(final OutputStream os) throws IOException {\n        this(os, 8192);\n    }\n\n    public FlushableGZIPOutputStream(final OutputStream os, final int bufsize) throws IOException {\n        super(new FilterOutputStream(new BufferedOutputStream(os, bufsize)) {\n            /** Suppress inappropriate/inefficient flush()es by DeflaterOutputStream. */\n            @Override\n            public void flush() {\n            }\n        }, new net.sf.jazzlib.Deflater(net.sf.jazzlib.Deflater.BEST_COMPRESSION, true));\n        this.os = os;\n        writeHeader();\n        crc.reset();\n    }\n\n    public synchronized void write(byte[] buf, int off, int len) throws IOException {\n        somethingWritten = true;\n        super.write(buf, off, len);\n        crc.update(buf, off, len);\n    }\n\n    /**\n     * Flush any accumulated input downstream in compressed form. We overcome\n     * some bugs/misfeatures here so that:\n     * &lt;ul&gt;\n     * &lt;li&gt;We won't allow the GZIP header to be flushed on its own without real compressed\n     * data in the same write downstream. \n     * &lt;li&gt;We ensure that any accumulated uncompressed data really is forced through the \n     * compressor.\n     * &lt;li&gt;We prevent spurious empty compressed blocks being produced from successive \n     * flush()es with no intervening new data.\n     * &lt;/ul&gt;\n     */\n    @Override\n    public synchronized void flush() throws IOException {\n        if (!somethingWritten) { return; }\n\n        // We call this to get def.flush() called,\n        // but suppress the (usually premature) out.flush() called internally.\n        super.flush();\n\n        // Since super.flush() seems to fail to reliably force output, \n        // possibly due to over-cautious def.needsInput() guard following def.flush(),\n        // we try to force the issue here by bypassing the guard.\n        int len;\n        while((len = def.deflate(buf, 0, buf.length)) &gt; 0) {\n            out.write(buf, 0, len);\n        }\n\n        // Really flush the stream below us...\n        os.flush();\n\n        // Further flush()es ignored until more input data data written.\n        somethingWritten = false;\n    }\n\n    public synchronized void close() throws IOException {\n        if (!def.finished()) {\n            def.finish();\n            do {\n                int len = def.deflate(buf, 0, buf.length);\n                if (len &lt;= 0) { \n                    break;\n                }\n                out.write(buf, 0, len);\n            } while (!def.finished());\n        }\n\n        // Write trailer\n        out.write(generateTrailer());\n\n        out.close();\n    }\n\n    // ...\n}\n</code></pre>\n<p>You may find it useful.</p>\n"},{"tags":[],"owner":{"account_id":51141,"reputation":807,"user_id":152723,"display_name":"Ben L."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1689507997,"creation_date":1360898093,"answer_id":14887753,"question_id":3640080,"body_markdown":"I didn&#39;t find the other answer to work. It still refused to flush because the native code that GZIPOutputStream is using holds onto the data.\r\n\r\nThankfully, I discovered that someone has implemented a FlushableGZIPOutputStream as part of the Apache Tomcat project. Here is the magic part:\r\n\r\n    @Override\r\n    public synchronized void flush() throws IOException {\r\n        if (hasLastByte) {\r\n            // - do not allow the gzip header to be flushed on its own\r\n            // - do not do anything if there is no data to send\r\n\r\n            // trick the deflater to flush\r\n            /**\r\n             * Now this is tricky: We force the Deflater to flush its data by\r\n             * switching compression level. As yet, a perplexingly simple workaround\r\n             * for\r\n             * http://developer.java.sun.com/developer/bugParade/bugs/4255743.html\r\n             */\r\n            if (!def.finished()) {\r\n                def.setLevel(Deflater.NO_COMPRESSION);\r\n                flushLastByte();\r\n                flagReenableCompression = true;\r\n            }\r\n        }\r\n        out.flush();\r\n    }\r\n\r\nYou can find the entire class in this jar (if you use Maven):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-coyote&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOr just go and grab the source code [FlushableGZIPOutputStream.java][1]\r\n\r\nIt&#39;s released under the Apache-2.0 license.\r\n\r\n\r\n  [1]: https://github.com/apache/tomcat/blob/7.0.x/java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java","title":"Force flush on a GZIPOutputStream in java","body":"<p>I didn't find the other answer to work. It still refused to flush because the native code that GZIPOutputStream is using holds onto the data.</p>\n<p>Thankfully, I discovered that someone has implemented a FlushableGZIPOutputStream as part of the Apache Tomcat project. Here is the magic part:</p>\n<pre><code>@Override\npublic synchronized void flush() throws IOException {\n    if (hasLastByte) {\n        // - do not allow the gzip header to be flushed on its own\n        // - do not do anything if there is no data to send\n\n        // trick the deflater to flush\n        /**\n         * Now this is tricky: We force the Deflater to flush its data by\n         * switching compression level. As yet, a perplexingly simple workaround\n         * for\n         * http://developer.java.sun.com/developer/bugParade/bugs/4255743.html\n         */\n        if (!def.finished()) {\n            def.setLevel(Deflater.NO_COMPRESSION);\n            flushLastByte();\n            flagReenableCompression = true;\n        }\n    }\n    out.flush();\n}\n</code></pre>\n<p>You can find the entire class in this jar (if you use Maven):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-coyote&lt;/artifactId&gt;\n    &lt;version&gt;7.0.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or just go and grab the source code <a href=\"https://github.com/apache/tomcat/blob/7.0.x/java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java\" rel=\"nofollow noreferrer\">FlushableGZIPOutputStream.java</a></p>\n<p>It's released under the Apache-2.0 license.</p>\n"},{"tags":[],"owner":{"account_id":420454,"reputation":6809,"user_id":798165,"accept_rate":57,"display_name":"eleven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418841917,"creation_date":1418841917,"answer_id":27532605,"question_id":3640080,"body_markdown":"There is same problem on `Android` also. Accepter answer doesn&#39;t work because `def.setLevel(Deflater.NO_COMPRESSION);` throws exception. According `flush` method it changes compress level of `Deflater`. So I suppose changing compression should be called before writing data, but I&#39;m not sure.\r\n\r\nThere&#39;re 2 other options:\r\n\r\n - if API level of your app is higher that 19 then you can try to use constructor [with syncFlush param][1]\r\n - the other solution is using [jzlib][2].\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/zip/GZIPOutputStream.html#GZIPOutputStream(java.io.OutputStream,%20int,%20boolean)\r\n  [2]: https://github.com/ymnk/jzlib","title":"Force flush on a GZIPOutputStream in java","body":"<p>There is same problem on <code>Android</code> also. Accepter answer doesn't work because <code>def.setLevel(Deflater.NO_COMPRESSION);</code> throws exception. According <code>flush</code> method it changes compress level of <code>Deflater</code>. So I suppose changing compression should be called before writing data, but I'm not sure.</p>\n\n<p>There're 2 other options:</p>\n\n<ul>\n<li>if API level of your app is higher that 19 then you can try to use constructor <a href=\"http://developer.android.com/reference/java/util/zip/GZIPOutputStream.html#GZIPOutputStream(java.io.OutputStream,%20int,%20boolean)\" rel=\"nofollow\">with syncFlush param</a></li>\n<li>the other solution is using <a href=\"https://github.com/ymnk/jzlib\" rel=\"nofollow\">jzlib</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":168070,"reputation":1771,"user_id":393274,"display_name":"Matt Sgarlata"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439232847,"creation_date":1439232847,"answer_id":31927044,"question_id":3640080,"body_markdown":"This code is working great for me in my application.\r\n\r\n\tpublic class StreamingGZIPOutputStream extends GZIPOutputStream {\r\n\t\r\n\t\tpublic StreamingGZIPOutputStream(OutputStream out) throws IOException {\r\n\t\t\tsuper(out);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t    protected void deflate() throws IOException {\r\n\t\t\t// SYNC_FLUSH is the key here, because it causes writing to the output\r\n\t\t\t// stream in a streaming manner instead of waiting until the entire\r\n\t\t\t// contents of the response are known.  for a large 1 MB json example\r\n\t\t\t// this took the size from around 48k to around 50k, so the benefits\r\n\t\t\t// of sending data to the client sooner seem to far outweigh the\r\n\t\t\t// added data sent due to less efficient compression\r\n\t        int len = def.deflate(buf, 0, buf.length, Deflater.SYNC_FLUSH);\r\n\t        if (len &gt; 0) {\r\n\t            out.write(buf, 0, len);\r\n\t        }\r\n\t    }\r\n\t\r\n\t}","title":"Force flush on a GZIPOutputStream in java","body":"<p>This code is working great for me in my application.</p>\n\n<pre><code>public class StreamingGZIPOutputStream extends GZIPOutputStream {\n\n    public StreamingGZIPOutputStream(OutputStream out) throws IOException {\n        super(out);\n    }\n\n    @Override\n    protected void deflate() throws IOException {\n        // SYNC_FLUSH is the key here, because it causes writing to the output\n        // stream in a streaming manner instead of waiting until the entire\n        // contents of the response are known.  for a large 1 MB json example\n        // this took the size from around 48k to around 50k, so the benefits\n        // of sending data to the client sooner seem to far outweigh the\n        // added data sent due to less efficient compression\n        int len = def.deflate(buf, 0, buf.length, Deflater.SYNC_FLUSH);\n        if (len &gt; 0) {\n            out.write(buf, 0, len);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3154242,"reputation":307,"user_id":2666964,"display_name":"kissLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607760291,"creation_date":1607760291,"answer_id":65262823,"question_id":3640080,"body_markdown":"as @seh said, this works great:\r\n```\r\nByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n\r\n// the second param need to be true\r\nGZIPOutputStream gzip = new GZIPOutputStream(stream,  true);\r\ngzip.write( .. );\r\ngzip.flush();\r\n\r\n...\r\ngzip.close()\r\n```","title":"Force flush on a GZIPOutputStream in java","body":"<p>as @seh said, this works great:</p>\n<pre><code>ByteArrayOutputStream stream = new ByteArrayOutputStream();\n\n// the second param need to be true\nGZIPOutputStream gzip = new GZIPOutputStream(stream,  true);\ngzip.write( .. );\ngzip.flush();\n\n...\ngzip.close()\n</code></pre>\n"}],"owner":{"account_id":89876,"reputation":2196,"user_id":247690,"accept_rate":57,"display_name":"Hemeroc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11890,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1689507997,"creation_date":1283554154,"question_id":3640080,"body_markdown":"we are working on a program where we need to flush (force compress and send data) a GZIPOutputStream. The problem is, that the flush method of the GZIPOutputStream doesn&#39;t work as expected (force compress and send data), instead the Stream waits for more data for efficient data compression.\r\n\r\nWhen you call finish the data is compressed and sent over the output stream but the GZIPOutputStream (not the underlying stream) will be closed so we cant write more data till we create a new GZIPOutputStream, which costs time and performance.\r\n\r\nHope anyone can help with this.\r\n\r\nBest regards.","title":"Force flush on a GZIPOutputStream in java","body":"<p>we are working on a program where we need to flush (force compress and send data) a GZIPOutputStream. The problem is, that the flush method of the GZIPOutputStream doesn't work as expected (force compress and send data), instead the Stream waits for more data for efficient data compression.</p>\n\n<p>When you call finish the data is compressed and sent over the output stream but the GZIPOutputStream (not the underlying stream) will be closed so we cant write more data till we create a new GZIPOutputStream, which costs time and performance.</p>\n\n<p>Hope anyone can help with this.</p>\n\n<p>Best regards.</p>\n"},{"tags":["java","oauth-2.0","java-8","oauth","google-calendar-api"],"answers":[{"tags":[],"owner":{"account_id":28978643,"reputation":100,"user_id":22197081,"display_name":"Rainy sidewalks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689506548,"creation_date":1689506548,"answer_id":76697992,"question_id":76697908,"body_markdown":"in short you missed  &quot;type&quot;: &quot;service_account&quot;,\r\n\r\nas the above code is trying to to read the credentials from a file  ( from - &quot;/resources/credentials.json&quot;)but  it can not to find the required &#39;type&#39; field in the credentials file\r\nalso crosscheck credentials  file is located  in &quot;resources&quot; directory of the project.","title":"Error reading credentials from stream, &#39;type&#39; field not specified","body":"<p>in short you missed  &quot;type&quot;: &quot;service_account&quot;,</p>\n<p>as the above code is trying to to read the credentials from a file  ( from - &quot;/resources/credentials.json&quot;)but  it can not to find the required 'type' field in the credentials file\nalso crosscheck credentials  file is located  in &quot;resources&quot; directory of the project.</p>\n"}],"owner":{"account_id":29027338,"reputation":1,"user_id":22235189,"display_name":"Adrian Szyłak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689506548,"creation_date":1689505423,"question_id":76697908,"body_markdown":"I&#39;m working on a Java application that uses the Google Auth library to authenticate with the Google Calendar API. I&#39;ve downloaded the `credentials.json` file for my OAuth2 credentials from the Google Cloud Console, and I&#39;m loading this file in my application like so:\r\n\r\n```java\r\nInputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\nGoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\r\n```\r\n\r\nHowever, when I try to run my application, I&#39;m getting the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Error reading credentials from stream, &#39;type&#39; field not specified.\r\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:170)\r\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:143)\r\n        at pl.szylak.googleservices.GoogleCalendarExample.main(GoogleCalendarExample.java:32)\r\n```\r\n\r\nI&#39;ve checked my `credentials.json` file, and it does not include a `type` field. Instead, it includes an `installed` object with `client_id`, `client_secret`, and other details:\r\n\r\n```json\r\n{\r\n  &quot;installed&quot;: {\r\n    &quot;client_id&quot;: &quot;CLIENT_ID.apps.googleusercontent.com&quot;,\r\n    &quot;project_id&quot;: &quot;PROJECT_ID&quot;,\r\n    &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n    &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\r\n    &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n    &quot;client_secret&quot;: &quot;CLIENT_SECRET&quot;,\r\n    &quot;redirect_uris&quot;: [&quot;urn:ietf:wg:oauth:2.0:oob&quot;, &quot;http://localhost&quot;]\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve read that the Google Auth library should be able to handle this type of credentials file without issues, so I&#39;m not sure why I&#39;m seeing this error. Has anyone else encountered this problem, and does anyone know how to solve it?\r\n\r\nI&#39;ve changed the values in credentials.json for placeholders.\r\n\r\n---\r\n\r\nThis is my simple java code for adding some events to my calendar.\r\n\r\n\r\n```java\r\npackage pl.szylak.googleservices;\r\n\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.client.util.DateTime;\r\nimport com.google.api.services.calendar.Calendar;\r\nimport com.google.api.services.calendar.CalendarScopes;\r\nimport com.google.api.services.calendar.model.Event;\r\nimport com.google.api.services.calendar.model.EventDateTime;\r\nimport com.google.auth.http.HttpCredentialsAdapter;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Collections;\r\n\r\npublic class GoogleCalendarExample {\r\nprivate static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\r\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\nprivate static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\nprivate static final String CREDENTIALS_FILE_PATH = &quot;/resources/credentials.json&quot;;\r\nprivate static final java.util.List\\&lt;String\\&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR);\r\n\r\n    private static com.google.api.services.calendar.Calendar service;\r\n    \r\n    public static void main(String... args) throws IOException, GeneralSecurityException {\r\n        // Build a new authorized API client service.\r\n        final com.google.api.client.http.javanet.NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n        InputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\r\n        service = new com.google.api.services.calendar.Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, new HttpCredentialsAdapter(credentials))\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n    \r\n        // Call the Google Calendar API and add an event.\r\n        addEvent();\r\n    }\r\n    \r\n    private static void addEvent() throws IOException {\r\n        Event event = new Event()\r\n                .setSummary(&quot;Google I/O 2025&quot;)\r\n                .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\r\n                .setDescription(&quot;A chance to learn more about Google&#39;s developer products.&quot;);\r\n    \r\n        EventDateTime start = new EventDateTime()\r\n                .setDateTime(new DateTime(&quot;2025-05-28T09:00:00-07:00&quot;))\r\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\r\n        event.setStart(start);\r\n    \r\n        EventDateTime end = new EventDateTime()\r\n                .setDateTime(new DateTime(&quot;2025-05-28T17:00:00-07:00&quot;))\r\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\r\n        event.setEnd(end);\r\n    \r\n        String calendarId = &quot;primary&quot;;\r\n        event = service.events().insert(calendarId, event).execute();\r\n        System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\r\n    }\r\n\r\n}\r\n```","title":"Error reading credentials from stream, &#39;type&#39; field not specified","body":"<p>I'm working on a Java application that uses the Google Auth library to authenticate with the Google Calendar API. I've downloaded the <code>credentials.json</code> file for my OAuth2 credentials from the Google Cloud Console, and I'm loading this file in my application like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\nGoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\n</code></pre>\n<p>However, when I try to run my application, I'm getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Error reading credentials from stream, 'type' field not specified.\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:170)\n        at com.google.auth.oauth2.GoogleCredentials.fromStream(GoogleCredentials.java:143)\n        at pl.szylak.googleservices.GoogleCalendarExample.main(GoogleCalendarExample.java:32)\n</code></pre>\n<p>I've checked my <code>credentials.json</code> file, and it does not include a <code>type</code> field. Instead, it includes an <code>installed</code> object with <code>client_id</code>, <code>client_secret</code>, and other details:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;installed&quot;: {\n    &quot;client_id&quot;: &quot;CLIENT_ID.apps.googleusercontent.com&quot;,\n    &quot;project_id&quot;: &quot;PROJECT_ID&quot;,\n    &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\n    &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\n    &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\n    &quot;client_secret&quot;: &quot;CLIENT_SECRET&quot;,\n    &quot;redirect_uris&quot;: [&quot;urn:ietf:wg:oauth:2.0:oob&quot;, &quot;http://localhost&quot;]\n  }\n}\n</code></pre>\n<p>I've read that the Google Auth library should be able to handle this type of credentials file without issues, so I'm not sure why I'm seeing this error. Has anyone else encountered this problem, and does anyone know how to solve it?</p>\n<p>I've changed the values in credentials.json for placeholders.</p>\n<hr />\n<p>This is my simple java code for adding some events to my calendar.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pl.szylak.googleservices;\n\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.client.util.DateTime;\nimport com.google.api.services.calendar.Calendar;\nimport com.google.api.services.calendar.CalendarScopes;\nimport com.google.api.services.calendar.model.Event;\nimport com.google.api.services.calendar.model.EventDateTime;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.GoogleCredentials;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.security.GeneralSecurityException;\nimport java.util.Collections;\n\npublic class GoogleCalendarExample {\nprivate static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\nprivate static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\nprivate static final String CREDENTIALS_FILE_PATH = &quot;/resources/credentials.json&quot;;\nprivate static final java.util.List\\&lt;String\\&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR);\n\n    private static com.google.api.services.calendar.Calendar service;\n    \n    public static void main(String... args) throws IOException, GeneralSecurityException {\n        // Build a new authorized API client service.\n        final com.google.api.client.http.javanet.NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        InputStream in = GoogleCalendarExample.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        GoogleCredentials credentials = GoogleCredentials.fromStream(in).createScoped(SCOPES);\n        service = new com.google.api.services.calendar.Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, new HttpCredentialsAdapter(credentials))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n    \n        // Call the Google Calendar API and add an event.\n        addEvent();\n    }\n    \n    private static void addEvent() throws IOException {\n        Event event = new Event()\n                .setSummary(&quot;Google I/O 2025&quot;)\n                .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\n                .setDescription(&quot;A chance to learn more about Google's developer products.&quot;);\n    \n        EventDateTime start = new EventDateTime()\n                .setDateTime(new DateTime(&quot;2025-05-28T09:00:00-07:00&quot;))\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\n        event.setStart(start);\n    \n        EventDateTime end = new EventDateTime()\n                .setDateTime(new DateTime(&quot;2025-05-28T17:00:00-07:00&quot;))\n                .setTimeZone(&quot;America/Los_Angeles&quot;);\n        event.setEnd(end);\n    \n        String calendarId = &quot;primary&quot;;\n        event = service.events().insert(calendarId, event).execute();\n        System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","testing","spring-security","junit","jwt"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689506445,"creation_date":1689506445,"answer_id":76697986,"question_id":76697921,"body_markdown":"You could take a different approach and verify the contents of the JWT instead of comparing it with a pre-generated token (which contains a timestamp (iat and exp fields), so it will always be different from a pre-generated token):\r\n```java\r\n@Test\r\npublic void generateToken_shouldGenerateToken() {\r\n    Verwaltung verwaltung = new Verwaltung(\r\n            &quot;user&quot;,\r\n            &quot;user@gmail.com&quot;,\r\n            &quot;user&quot;,\r\n            Rolle.getPrefixedRolle(Rolle.USER)\r\n    );\r\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\r\n\r\n    // parse generated token\r\n    Claims claims = Jwts.parser()\r\n                        .setSigningKey(DatatypeConverter.parseBase64Binary(SECRET_KEY))\r\n                        .parseClaimsJws(generatedToken)\r\n                        .getBody();\r\n\r\n    assertEquals(verwaltung.getUsername(), claims.getSubject());\r\n    // check if the token is not expired\r\n    assertFalse(claims.getExpiration().before(new Date()));\r\n}\r\n```","title":"Can&#39;t test generateToken() method for JWT token because of iat and exp date","body":"<p>You could take a different approach and verify the contents of the JWT instead of comparing it with a pre-generated token (which contains a timestamp (iat and exp fields), so it will always be different from a pre-generated token):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void generateToken_shouldGenerateToken() {\n    Verwaltung verwaltung = new Verwaltung(\n            &quot;user&quot;,\n            &quot;user@gmail.com&quot;,\n            &quot;user&quot;,\n            Rolle.getPrefixedRolle(Rolle.USER)\n    );\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\n\n    // parse generated token\n    Claims claims = Jwts.parser()\n                        .setSigningKey(DatatypeConverter.parseBase64Binary(SECRET_KEY))\n                        .parseClaimsJws(generatedToken)\n                        .getBody();\n\n    assertEquals(verwaltung.getUsername(), claims.getSubject());\n    // check if the token is not expired\n    assertFalse(claims.getExpiration().before(new Date()));\n}\n</code></pre>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697986,"answer_count":1,"score":0,"last_activity_date":1689506445,"creation_date":1689505595,"question_id":76697921,"body_markdown":"I want to test my **JwtService** which is for generating and handling JWT Tokens. I am not even sure, if I have to test it because not all the methods are mine but I still would like to see if the token is generated correct. But if I want to test if the generated token is correct I have to compare it to another token. The only problem is the time difference, so iat (Issued At) and exp (Expiration Time/Date) are different. That&#39;s why the test always fails. How can I test even though the iat and exp are different?\r\n\r\n**JwtService:**\r\n```java\r\npackage de.gabriel.vertretungsplan.security.service;\r\n\r\nimport de.gabriel.vertretungsplan.models.UserDetailsImpl.UserDetailsImpl;\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\n@Service\r\npublic class JwtService {\r\n\r\n    /*\r\n    Generated with: https://www.allkeysgenerator.com/; 256-bit key\r\n     */\r\n    private static final String SECRET_KEY = &quot;secret_key&quot;;\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    public String generateToken(UserDetailsImpl userDetails) {\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public String generateToken(\r\n            Map&lt;String, Object&gt; extraClaims,\r\n            UserDetailsImpl userDetails\r\n    ) {\r\n        return Jwts.builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 60 * 24 * 7))) // 7 days\r\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    public boolean isTokenValid(String token, UserDetailsImpl userDetails) {\r\n        final String username = extractUsername(token);\r\n        return username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\r\n    }\r\n\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSigningKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSigningKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n}\r\n```\r\nThis is how I want to test it:\r\n```\r\n@Test\r\npublic void generateToken_shouldGenerateToken() {\r\n    Verwaltung verwaltung = new Verwaltung(\r\n            &quot;user&quot;,\r\n            &quot;user@gmail.com&quot;,\r\n            &quot;user&quot;,\r\n            Rolle.getPrefixedRolle(Rolle.USER)\r\n    );\r\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\r\n    assertEquals(token, generatedToken);\r\n}\r\n```\r\nThe expected ```token``` was generated on jwt.io with the same secret key and everything as reference/ expected token. Does anyone have an idea how to test it even though there is a time difference?","title":"Can&#39;t test generateToken() method for JWT token because of iat and exp date","body":"<p>I want to test my <strong>JwtService</strong> which is for generating and handling JWT Tokens. I am not even sure, if I have to test it because not all the methods are mine but I still would like to see if the token is generated correct. But if I want to test if the generated token is correct I have to compare it to another token. The only problem is the time difference, so iat (Issued At) and exp (Expiration Time/Date) are different. That's why the test always fails. How can I test even though the iat and exp are different?</p>\n<p><strong>JwtService:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.gabriel.vertretungsplan.security.service;\n\nimport de.gabriel.vertretungsplan.models.UserDetailsImpl.UserDetailsImpl;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\nimport org.springframework.stereotype.Service;\n\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\n@Service\npublic class JwtService {\n\n    /*\n    Generated with: https://www.allkeysgenerator.com/; 256-bit key\n     */\n    private static final String SECRET_KEY = &quot;secret_key&quot;;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateToken(UserDetailsImpl userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetailsImpl userDetails\n    ) {\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 60 * 24 * 7))) // 7 days\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public boolean isTokenValid(String token, UserDetailsImpl userDetails) {\n        final String username = extractUsername(token);\n        return username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims(String token) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSigningKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSigningKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n</code></pre>\n<p>This is how I want to test it:</p>\n<pre><code>@Test\npublic void generateToken_shouldGenerateToken() {\n    Verwaltung verwaltung = new Verwaltung(\n            &quot;user&quot;,\n            &quot;user@gmail.com&quot;,\n            &quot;user&quot;,\n            Rolle.getPrefixedRolle(Rolle.USER)\n    );\n    String generatedToken = jwtService.generateToken(new UserDetailsImpl(verwaltung));\n    assertEquals(token, generatedToken);\n}\n</code></pre>\n<p>The expected <code>token</code> was generated on jwt.io with the same secret key and everything as reference/ expected token. Does anyone have an idea how to test it even though there is a time difference?</p>\n"},{"tags":["java","nullpointerexception","dozer"],"comments":[{"owner":{"account_id":2172591,"reputation":608,"user_id":1924156,"accept_rate":67,"display_name":"Dheeraj Arora"},"score":0,"creation_date":1506928317,"post_id":30302605,"comment_id":79995728,"body_markdown":"Could you please share the solution for this, if it&#39;s working fine for you?","body":"Could you please share the solution for this, if it&#39;s working fine for you?"}],"answers":[{"tags":[],"owner":{"account_id":556955,"reputation":471,"user_id":919230,"accept_rate":69,"display_name":"Alex M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455552744,"creation_date":1455552405,"answer_id":35413882,"question_id":30302605,"body_markdown":"If you instantiate the Mapper like this:\r\n\r\n`Mapper mapper = new DozerBeanMapper();\r\n DestinationObject destObject = \r\n    mapper.map(sourceObject, DestinationObject.class);`\r\n\r\nyou don&#39;t need the file with the mappings. If you instantiate mapper using the production way ([dozer documentation ][1]) you need the dozerBeanMapping.xml file with the mapping.\r\n\r\n`Mapper mapper = DozerBeanMapperSingletonWrapper.getInstance(); \r\nDestinationObject destObject =\r\n    mapper.map(sourceObject, DestinationObject.class);`\r\n\r\nOtherwise you will receive the exception that you posted. I have seen it debugging the source code of Dozer lib.\r\n \r\nAre you instantiating Mapper using DozerBeanMapperSingletonWrapper ?\r\n\r\nhope it helps \r\n\r\n  [1]: http://dozer.sourceforge.net/documentation/usage.html","title":"Dozer throwing NullPointerException on getClassMap","body":"<p>If you instantiate the Mapper like this:</p>\n\n<p><code>Mapper mapper = new DozerBeanMapper();\n DestinationObject destObject = \n    mapper.map(sourceObject, DestinationObject.class);</code></p>\n\n<p>you don't need the file with the mappings. If you instantiate mapper using the production way (<a href=\"http://dozer.sourceforge.net/documentation/usage.html\" rel=\"nofollow\">dozer documentation </a>) you need the dozerBeanMapping.xml file with the mapping.</p>\n\n<p><code>Mapper mapper = DozerBeanMapperSingletonWrapper.getInstance(); \nDestinationObject destObject =\n    mapper.map(sourceObject, DestinationObject.class);</code></p>\n\n<p>Otherwise you will receive the exception that you posted. I have seen it debugging the source code of Dozer lib.</p>\n\n<p>Are you instantiating Mapper using DozerBeanMapperSingletonWrapper ?</p>\n\n<p>hope it helps </p>\n"}],"owner":{"account_id":1534186,"reputation":2290,"user_id":1430655,"accept_rate":71,"display_name":"shiladitya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689508928,"answer_count":1,"score":1,"last_activity_date":1689505941,"creation_date":1431950189,"question_id":30302605,"body_markdown":"The exception I am getting is: \r\n\r\n    java.lang.NullPointerException\r\n        at org.dozer.MappingProcessor.getClassMap(MappingProcessor.java:1034)\r\n        at org.dozer.MappingProcessor.map(MappingProcessor.java:162)\r\n        at org.dozer.MappingProcessor.map(MappingProcessor.java:124)\r\n        at org.dozer.MappingProcessor.map(MappingProcessor.java:119)\r\n        at org.dozer.DozerBeanMapper.map(DozerBeanMapper.java:111)\r\n        at com.shiladit.CategoryResource.get(CategoryResource.java:120)\r\n\r\nI recently upgraded to dozerBeanMapper 5.3.2. \r\n\r\nI have defined custom mappings through XML.  Where might I be going wrong?\r\n\r\nEDIT: I saw line 1034 in MappingProcessor [here][1], where I assume classMappings is null, which probably means the custom XML mappings defined are not getting picked up. \r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/net.sf.dozer/dozer/5.3.2/org/dozer/MappingProcessor.java#MappingProcessor.getClassMap%28java.lang.Class%2Cjava.lang.Class%2Cjava.lang.String%29","title":"Dozer throwing NullPointerException on getClassMap","body":"<p>The exception I am getting is: </p>\n\n<pre><code>java.lang.NullPointerException\n    at org.dozer.MappingProcessor.getClassMap(MappingProcessor.java:1034)\n    at org.dozer.MappingProcessor.map(MappingProcessor.java:162)\n    at org.dozer.MappingProcessor.map(MappingProcessor.java:124)\n    at org.dozer.MappingProcessor.map(MappingProcessor.java:119)\n    at org.dozer.DozerBeanMapper.map(DozerBeanMapper.java:111)\n    at com.shiladit.CategoryResource.get(CategoryResource.java:120)\n</code></pre>\n\n<p>I recently upgraded to dozerBeanMapper 5.3.2. </p>\n\n<p>I have defined custom mappings through XML.  Where might I be going wrong?</p>\n\n<p>EDIT: I saw line 1034 in MappingProcessor <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/net.sf.dozer/dozer/5.3.2/org/dozer/MappingProcessor.java#MappingProcessor.getClassMap%28java.lang.Class%2Cjava.lang.Class%2Cjava.lang.String%29\" rel=\"nofollow\">here</a>, where I assume classMappings is null, which probably means the custom XML mappings defined are not getting picked up. </p>\n"},{"tags":["java","json","mongodb","nosql","aggregation"],"answers":[{"tags":[],"owner":{"account_id":4008086,"reputation":2250,"user_id":3302263,"display_name":"Pavel Bely"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689505536,"creation_date":1689491181,"answer_id":76697081,"question_id":76696947,"body_markdown":"You can add `presentKeys` array field and be pushing to it all the keys you&#39;re setting in a document.\r\n\r\nHere&#39;s how it can look like for your given example:\r\n\r\n    {\r\n        &quot;presentKeys&quot;: [\r\n            &quot;data&quot;,\r\n            &quot;data.MainId&quot;,\r\n            &quot;data.firstName&quot;,\r\n            &quot;data.lastName&quot;,\r\n            &quot;data.categories&quot;,\r\n            &quot;data.categories.CategoryID&quot;,\r\n            &quot;data.categories.CategoryName&quot;,\r\n            &quot;messages&quot;,\r\n            &quot;success&quot;,\r\n        ],\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;MainId&quot;: 1111,\r\n                &quot;firstName&quot;: &quot;Sherlock&quot;,\r\n                &quot;lastName&quot;: &quot;Homes&quot;,\r\n                &quot;categories&quot;: [\r\n                    {\r\n                        &quot;CategoryID&quot;: 1,\r\n                        &quot;CategoryName&quot;: &quot;Example&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;MainId&quot;: 122,\r\n                &quot;firstName&quot;: &quot;James&quot;,\r\n                &quot;lastName&quot;: &quot;Watson&quot;,\r\n                &quot;categories&quot;: [\r\n                    {\r\n                        &quot;CategoryID&quot;: 2,\r\n                        &quot;CategoryName&quot;: &quot;Example2&quot;\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        &quot;messages&quot;: [], // blank json\r\n        &quot;success&quot;: true // boolean value\r\n    }\r\n\r\nAnd then index that field to avoid full collection scan:\r\n\r\n    db.collection.createIndex({ presentKeys: 1 });\r\n\r\n---\r\n\r\nNow you can query documents that contain some key this way:\r\n\r\n    db.collection.find({ presentKeys: &quot;data.categories.CategoryID&quot; });\r\n\r\n","title":"What is the better and optimal way to find the key (can be n-level nested ) is present in the mongoDB collection?","body":"<p>You can add <code>presentKeys</code> array field and be pushing to it all the keys you're setting in a document.</p>\n<p>Here's how it can look like for your given example:</p>\n<pre><code>{\n    &quot;presentKeys&quot;: [\n        &quot;data&quot;,\n        &quot;data.MainId&quot;,\n        &quot;data.firstName&quot;,\n        &quot;data.lastName&quot;,\n        &quot;data.categories&quot;,\n        &quot;data.categories.CategoryID&quot;,\n        &quot;data.categories.CategoryName&quot;,\n        &quot;messages&quot;,\n        &quot;success&quot;,\n    ],\n    &quot;data&quot;: [\n        {\n            &quot;MainId&quot;: 1111,\n            &quot;firstName&quot;: &quot;Sherlock&quot;,\n            &quot;lastName&quot;: &quot;Homes&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 1,\n                    &quot;CategoryName&quot;: &quot;Example&quot;\n                }\n            ]\n        },\n        {\n            &quot;MainId&quot;: 122,\n            &quot;firstName&quot;: &quot;James&quot;,\n            &quot;lastName&quot;: &quot;Watson&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 2,\n                    &quot;CategoryName&quot;: &quot;Example2&quot;\n                }\n            ]\n        }\n    ],\n    &quot;messages&quot;: [], // blank json\n    &quot;success&quot;: true // boolean value\n}\n</code></pre>\n<p>And then index that field to avoid full collection scan:</p>\n<pre><code>db.collection.createIndex({ presentKeys: 1 });\n</code></pre>\n<hr />\n<p>Now you can query documents that contain some key this way:</p>\n<pre><code>db.collection.find({ presentKeys: &quot;data.categories.CategoryID&quot; });\n</code></pre>\n"}],"owner":{"account_id":27597803,"reputation":11,"user_id":21063654,"display_name":"Divakar V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689505536,"creation_date":1689488574,"question_id":76696947,"body_markdown":"Let us take my document in collection looks like this bellow\r\n\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;MainId&quot;: 1111,\r\n            &quot;firstName&quot;: &quot;Sherlock&quot;,\r\n            &quot;lastName&quot;: &quot;Homes&quot;,\r\n            &quot;categories&quot;: [\r\n                {\r\n                    &quot;CategoryID&quot;: 1,\r\n                    &quot;CategoryName&quot;: &quot;Example&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;MainId&quot;: 122,\r\n            &quot;firstName&quot;: &quot;James&quot;,\r\n            &quot;lastName&quot;: &quot;Watson&quot;,\r\n            &quot;categories&quot;: [\r\n                {\r\n                    &quot;CategoryID&quot;: 2,\r\n                    &quot;CategoryName&quot;: &quot;Example2&quot;\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    &quot;messages&quot;: [], // blank json\r\n    &quot;success&quot;: true // boolean value\r\n}\r\n```\r\n\r\n\r\nso i need to search  whether the key exists ```CategoryID```   in the document or not , It is just an example my search key can be anything and can be nested to any level \r\n\r\n\r\n\r\nwhat is an better and optimal way to find whether the key exists or not ?\r\n```Note: each document structure might vary so need to find whether the key is present in the whole collection or not```\r\n\r\n\r\ni can iterate through all the documents in the collection and recursively go as deep as inside to check the existing of the key but that is brute force solution how can i optimise it..?\r\n\r\n\r\nWhat i need is:\r\n\r\n* MongoDb aggregation query if exists \r\n* OrElse any other way to do it in better and optimal way","title":"What is the better and optimal way to find the key (can be n-level nested ) is present in the mongoDB collection?","body":"<p>Let us take my document in collection looks like this bellow</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;MainId&quot;: 1111,\n            &quot;firstName&quot;: &quot;Sherlock&quot;,\n            &quot;lastName&quot;: &quot;Homes&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 1,\n                    &quot;CategoryName&quot;: &quot;Example&quot;\n                }\n            ]\n        },\n        {\n            &quot;MainId&quot;: 122,\n            &quot;firstName&quot;: &quot;James&quot;,\n            &quot;lastName&quot;: &quot;Watson&quot;,\n            &quot;categories&quot;: [\n                {\n                    &quot;CategoryID&quot;: 2,\n                    &quot;CategoryName&quot;: &quot;Example2&quot;\n                }\n            ]\n        }\n    ],\n    &quot;messages&quot;: [], // blank json\n    &quot;success&quot;: true // boolean value\n}\n</code></pre>\n<p>so i need to search  whether the key exists <code>CategoryID</code>   in the document or not , It is just an example my search key can be anything and can be nested to any level</p>\n<p>what is an better and optimal way to find whether the key exists or not ?\n<code>Note: each document structure might vary so need to find whether the key is present in the whole collection or not</code></p>\n<p>i can iterate through all the documents in the collection and recursively go as deep as inside to check the existing of the key but that is brute force solution how can i optimise it..?</p>\n<p>What i need is:</p>\n<ul>\n<li>MongoDb aggregation query if exists</li>\n<li>OrElse any other way to do it in better and optimal way</li>\n</ul>\n"},{"tags":["java","android","flutter"],"answers":[{"tags":[],"owner":{"account_id":26683246,"reputation":145,"user_id":20292934,"display_name":"shahabas paramban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676817695,"creation_date":1676817695,"answer_id":75500901,"question_id":75499549,"body_markdown":"This error is telling us that our class was compiled at a higher version of Java than the version with which we tried to run it. More specifically, in this case we compiled our class with Java 11 and tried to run it with Java 8.\r\n\r\nwe have two ways we can resolve this error: compile our code for an earlier version of Java, or run our code on a newer Java version.\r\n\r\nI think this website might help you https://www.baeldung.com/java-lang-unsupportedclassversion","title":"Error when I run flutter doctor --android-licenses","body":"<p>This error is telling us that our class was compiled at a higher version of Java than the version with which we tried to run it. More specifically, in this case we compiled our class with Java 11 and tried to run it with Java 8.</p>\n<p>we have two ways we can resolve this error: compile our code for an earlier version of Java, or run our code on a newer Java version.</p>\n<p>I think this website might help you <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-lang-unsupportedclassversion</a></p>\n"},{"tags":[],"owner":{"account_id":16681798,"reputation":9,"user_id":12056679,"display_name":"SmileHalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689505059,"creation_date":1689504761,"answer_id":76697869,"question_id":75499549,"body_markdown":"I also met this problem\r\n\r\n 1. del\r\n[Two folders and delete backup here][2]\r\n[enter image description here][3]\r\n\r\n\r\n2. restart\r\n3. Modify the java_home java11\r\n   flutter doctor --android-licenses\r\n   SUCCESS;\r\n&gt; my idea\r\nflutter doctor -v \r\nFound that he is the android jre in the studio,\r\nSwitch the Java version has no effect\r\nHas been submitted to the error in this, and then think of first take the Android&#39;s studio\r\nAfter the restart switch to java11 javahome path\r\nPerformed again &#39;flutter doctor --android-licenses&#39;\r\nSUCCESS!\r\nhappy(Do not rule out is my operational problems, this is my solution, hope to bring help, welcome to correct me, thank you!)\r\nCan&#39;t find the android download manager can check the latest\r\n[tools][4]\r\n\r\n  [2]: https://i.stack.imgur.com/Rr1Jd.png\r\n  [3]: https://i.stack.imgur.com/Etv60.png\r\n  [4]: https://i.stack.imgur.com/yEknm.png","title":"Error when I run flutter doctor --android-licenses","body":"<p>I also met this problem</p>\n<ol>\n<li><p>del\n<a href=\"https://i.stack.imgur.com/Rr1Jd.png\" rel=\"nofollow noreferrer\">Two folders and delete backup here</a>\n<a href=\"https://i.stack.imgur.com/Etv60.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>restart</p>\n</li>\n<li><p>Modify the java_home java11\nflutter doctor --android-licenses\nSUCCESS;</p>\n</li>\n</ol>\n<blockquote>\n<p>my idea\nflutter doctor -v\nFound that he is the android jre in the studio,\nSwitch the Java version has no effect\nHas been submitted to the error in this, and then think of first take the Android's studio\nAfter the restart switch to java11 javahome path\nPerformed again 'flutter doctor --android-licenses'\nSUCCESS!\nhappy(Do not rule out is my operational problems, this is my solution, hope to bring help, welcome to correct me, thank you!)\nCan't find the android download manager can check the latest\n<a href=\"https://i.stack.imgur.com/yEknm.png\" rel=\"nofollow noreferrer\">tools</a></p>\n</blockquote>\n"}],"owner":{"account_id":23225809,"reputation":3,"user_id":17317377,"display_name":"totoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75500901,"answer_count":2,"score":0,"last_activity_date":1689505059,"creation_date":1676803451,"question_id":75499549,"body_markdown":"Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI tried also JDK 11 but it doesn&#39;t works.\r\nHow do I fix?\r\n\r\n![enter image description here](https://i.stack.imgur.com/2i2Ob.png)\r\n\r\n\r\n","title":"Error when I run flutter doctor --android-licenses","body":"<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<p>I tried also JDK 11 but it doesn't works.\nHow do I fix?</p>\n<p><img src=\"https://i.stack.imgur.com/2i2Ob.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","android-recyclerview","gson"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689498854,"creation_date":1689498854,"answer_id":76697484,"question_id":76697454,"body_markdown":"Change the return type of your api function to : \r\n\r\n```\r\n @GET(&quot;api/index.php?route=expenses&quot;)\r\n Call&lt;List&lt;AllExpenseResponseItem&gt;&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\r\n```","title":"(CLOSED) How to fix Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $","body":"<p>Change the return type of your api function to :</p>\n<pre><code> @GET(&quot;api/index.php?route=expenses&quot;)\n Call&lt;List&lt;AllExpenseResponseItem&gt;&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\n</code></pre>\n"}],"owner":{"account_id":18128035,"reputation":15,"user_id":13183402,"display_name":"Hafiz Caniago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697484,"answer_count":1,"score":0,"last_activity_date":1689504679,"creation_date":1689498278,"question_id":76697454,"body_markdown":"I have encountered a problem when I want to fetch my data to `recyclerview` using Java, and resulting in the problem:\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:  Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\r\n\r\nMy API Response : \r\n\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;1&quot;,\r\n        &quot;type&quot;: &quot;Barang Elektronik&quot;,\r\n        &quot;payment_method&quot;: &quot;Cash&quot;,\r\n        &quot;price&quot;: &quot;500000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\r\n        &quot;detail&quot;: &quot;Charger HP&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;2&quot;,\r\n        &quot;type&quot;: &quot;Bahan Makanan&quot;,\r\n        &quot;payment_method&quot;: &quot;Cash&quot;,\r\n        &quot;price&quot;: &quot;50000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 02:49:57&quot;,\r\n        &quot;detail&quot;: &quot;Mie Goreng 1 Dus&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;3&quot;,\r\n        &quot;type&quot;: &quot;Kecantikan&quot;,\r\n        &quot;payment_method&quot;: &quot;Gopay&quot;,\r\n        &quot;price&quot;: &quot;120000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\r\n        &quot;detail&quot;: &quot;Skincare&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;5&quot;,\r\n        &quot;type&quot;: &quot;Lainnya&quot;,\r\n        &quot;payment_method&quot;: &quot;Debit&quot;,\r\n        &quot;price&quot;: &quot;1200000&quot;,\r\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\r\n        &quot;detail&quot;: &quot;Liburan&quot;\r\n    }\r\n]\r\n```\r\n\r\nApiInterface.java\r\n\r\n\r\n    @GET(&quot;api/index.php?route=expenses&quot;)\r\n    Call&lt;AllExpenseResponse&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\r\n\r\n\r\n\r\nand the file that I have from generated POJO extension is:\r\nAllExpenseResponse.java\r\n```\r\npackage hafizcaniago.my.id.papb_final.Data.Response.Expenses;\r\n\r\nimport java.util.List;\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class AllExpenseResponse{\r\n\r\n\t@SerializedName(&quot;AllExpenseResponse&quot;)\r\n\tprivate List&lt;AllExpenseResponseItem&gt; allExpenseResponse;\r\n\r\n\tpublic List&lt;AllExpenseResponseItem&gt; getAllExpenseResponse(){\r\n\t\treturn allExpenseResponse;\r\n\t}\r\n}\r\n```\r\n\r\nAllExpenseResponseItem.java\r\n\r\n```\r\npackage hafizcaniago.my.id.papb_final.Data.Response.Expenses;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class AllExpenseResponseItem{\r\n\r\n\t@SerializedName(&quot;date&quot;)\r\n\tprivate String date;\r\n\r\n\t@SerializedName(&quot;price&quot;)\r\n\tprivate String price;\r\n\r\n\t@SerializedName(&quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@SerializedName(&quot;detail&quot;)\r\n\tprivate String detail;\r\n\r\n\t@SerializedName(&quot;type&quot;)\r\n\tprivate String type;\r\n\r\n\t@SerializedName(&quot;payment_method&quot;)\r\n\tprivate String paymentMethod;\r\n\r\n\tpublic String getDate(){\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic String getPrice(){\r\n\t\treturn price;\r\n\t}\r\n\r\n\tpublic String getId(){\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic String getDetail(){\r\n\t\treturn detail;\r\n\t}\r\n\r\n\tpublic String getType(){\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic String getPaymentMethod(){\r\n\t\treturn paymentMethod;\r\n\t}\r\n}\r\n```\r\n\r\nand this is MainActivity.java in load RecyclerView\r\n\r\n```\r\nRestClient.getService().getAllExpenseItem(USER_ID).enqueue(new Callback&lt;AllExpenseResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;AllExpenseResponse&gt; call, Response&lt;AllExpenseResponse&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    expenseItem = response.body().getAllExpenseResponse();\r\n\r\n                    Log.i(&quot;responseExpense&quot;, expenseItem.toString());\r\n\r\n                    adapter = new ExpenseAdapter(expenseItem, getApplicationContext());\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n                    recyclerView.setAdapter(adapter);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;AllExpenseResponse&gt; call, Throwable t) {\r\n                Toast.makeText(MainActivity.this, &quot;Something Wrong, Check Log for Details&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.i(&quot;error&quot;, t.toString());\r\n                Log.i(&quot;error&quot;, call.toString());\r\n            }\r\n        });\r\n```\r\n\r\n\r\n\r\n\r\nI see some problem like that, but I don&#39;t still get it, what I must do. Please help me.","title":"(CLOSED) How to fix Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $","body":"<p>I have encountered a problem when I want to fetch my data to <code>recyclerview</code> using Java, and resulting in the problem:</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:  Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $</p>\n</blockquote>\n<p>My API Response :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: &quot;1&quot;,\n        &quot;type&quot;: &quot;Barang Elektronik&quot;,\n        &quot;payment_method&quot;: &quot;Cash&quot;,\n        &quot;price&quot;: &quot;500000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\n        &quot;detail&quot;: &quot;Charger HP&quot;\n    },\n    {\n        &quot;id&quot;: &quot;2&quot;,\n        &quot;type&quot;: &quot;Bahan Makanan&quot;,\n        &quot;payment_method&quot;: &quot;Cash&quot;,\n        &quot;price&quot;: &quot;50000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 02:49:57&quot;,\n        &quot;detail&quot;: &quot;Mie Goreng 1 Dus&quot;\n    },\n    {\n        &quot;id&quot;: &quot;3&quot;,\n        &quot;type&quot;: &quot;Kecantikan&quot;,\n        &quot;payment_method&quot;: &quot;Gopay&quot;,\n        &quot;price&quot;: &quot;120000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\n        &quot;detail&quot;: &quot;Skincare&quot;\n    },\n    {\n        &quot;id&quot;: &quot;5&quot;,\n        &quot;type&quot;: &quot;Lainnya&quot;,\n        &quot;payment_method&quot;: &quot;Debit&quot;,\n        &quot;price&quot;: &quot;1200000&quot;,\n        &quot;date&quot;: &quot;2023-07-11 00:00:00&quot;,\n        &quot;detail&quot;: &quot;Liburan&quot;\n    }\n]\n</code></pre>\n<p>ApiInterface.java</p>\n<pre><code>@GET(&quot;api/index.php?route=expenses&quot;)\nCall&lt;AllExpenseResponse&gt; getAllExpenseItem(@Query(&quot;id&quot;) String userID);\n</code></pre>\n<p>and the file that I have from generated POJO extension is:\nAllExpenseResponse.java</p>\n<pre><code>package hafizcaniago.my.id.papb_final.Data.Response.Expenses;\n\nimport java.util.List;\nimport com.google.gson.annotations.SerializedName;\n\npublic class AllExpenseResponse{\n\n    @SerializedName(&quot;AllExpenseResponse&quot;)\n    private List&lt;AllExpenseResponseItem&gt; allExpenseResponse;\n\n    public List&lt;AllExpenseResponseItem&gt; getAllExpenseResponse(){\n        return allExpenseResponse;\n    }\n}\n</code></pre>\n<p>AllExpenseResponseItem.java</p>\n<pre><code>package hafizcaniago.my.id.papb_final.Data.Response.Expenses;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class AllExpenseResponseItem{\n\n    @SerializedName(&quot;date&quot;)\n    private String date;\n\n    @SerializedName(&quot;price&quot;)\n    private String price;\n\n    @SerializedName(&quot;id&quot;)\n    private String id;\n\n    @SerializedName(&quot;detail&quot;)\n    private String detail;\n\n    @SerializedName(&quot;type&quot;)\n    private String type;\n\n    @SerializedName(&quot;payment_method&quot;)\n    private String paymentMethod;\n\n    public String getDate(){\n        return date;\n    }\n\n    public String getPrice(){\n        return price;\n    }\n\n    public String getId(){\n        return id;\n    }\n\n    public String getDetail(){\n        return detail;\n    }\n\n    public String getType(){\n        return type;\n    }\n\n    public String getPaymentMethod(){\n        return paymentMethod;\n    }\n}\n</code></pre>\n<p>and this is MainActivity.java in load RecyclerView</p>\n<pre><code>RestClient.getService().getAllExpenseItem(USER_ID).enqueue(new Callback&lt;AllExpenseResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;AllExpenseResponse&gt; call, Response&lt;AllExpenseResponse&gt; response) {\n                if (response.isSuccessful()) {\n                    expenseItem = response.body().getAllExpenseResponse();\n\n                    Log.i(&quot;responseExpense&quot;, expenseItem.toString());\n\n                    adapter = new ExpenseAdapter(expenseItem, getApplicationContext());\n                    recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n                    recyclerView.setAdapter(adapter);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;AllExpenseResponse&gt; call, Throwable t) {\n                Toast.makeText(MainActivity.this, &quot;Something Wrong, Check Log for Details&quot;, Toast.LENGTH_SHORT).show();\n                Log.i(&quot;error&quot;, t.toString());\n                Log.i(&quot;error&quot;, call.toString());\n            }\n        });\n</code></pre>\n<p>I see some problem like that, but I don't still get it, what I must do. Please help me.</p>\n"},{"tags":["java","c#","android","unity-game-engine"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1689504037,"post_id":76697782,"comment_id":135220110,"body_markdown":"Check your gradle configuration files and settings files where `http://maven.aliyun.com` is configured and at least change it to https. Better check who operates this server and if you really need it, because this is not a standard repository. Using an untrusted repository may infect your system with malware.","body":"Check your gradle configuration files and settings files where <code>http:&#47;&#47;maven.aliyun.com</code> is configured and at least change it to https. Better check who operates this server and if you really need it, because this is not a standard repository. Using an untrusted repository may infect your system with malware."}],"owner":{"account_id":27687459,"reputation":11,"user_id":21134923,"display_name":"SYSR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689503925,"creation_date":1689503334,"question_id":76697782,"body_markdown":"messages:[![error message](https://i.stack.imgur.com/Jxn1P.png)](https://i.stack.imgur.com/Jxn1P.png)\r\n\r\nI tried to I tried changing the file under GrandleTemplates folder.i have already changed the pack name and company name. The icon is changed.\r\n\r\n```\r\n**Build was configured to prefer settings repositories over project repositories but repository &#39;maven&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;maven2&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;maven3&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;maven4&#39; was added by build file &#39;build.gradle&#39;\r\nBuild was configured to prefer settings repositories over project repositories but repository &#39;flatDir&#39; was added by build file &#39;build.gradle&#39;\r\n\r\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)*\r\n\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:launcher&#39;.\r\n&gt; Could not resolve all dependencies for configuration &#39;:launcher:classpath&#39;.\r\n   &gt; Using insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository &#39;maven(http://maven.aliyun.com/repository/google)&#39; to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See https://docs.gradle.org/7.2/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol for more details. \r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n\r\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)\r\n```\r\n","title":"Unity reports an error when packaging an apk file: pick up JAVA_TOOL_options and so on","body":"<p>messages:<a href=\"https://i.stack.imgur.com/Jxn1P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jxn1P.png\" alt=\"error message\" /></a></p>\n<p>I tried to I tried changing the file under GrandleTemplates folder.i have already changed the pack name and company name. The icon is changed.</p>\n<pre><code>**Build was configured to prefer settings repositories over project repositories but repository 'maven' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'maven2' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'maven3' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'maven4' was added by build file 'build.gradle'\nBuild was configured to prefer settings repositories over project repositories but repository 'flatDir' was added by build file 'build.gradle'\n\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)*\n\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':launcher'.\n&gt; Could not resolve all dependencies for configuration ':launcher:classpath'.\n   &gt; Using insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository 'maven(http://maven.aliyun.com/repository/google)' to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See https://docs.gradle.org/7.2/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol for more details. \n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4s\n\nUnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)\n</code></pre>\n"},{"tags":["java","kotlin","swing","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689463849,"post_id":76695574,"comment_id":135217551,"body_markdown":"`panel.background = Color(0, 0, 0, 125)` isn&#39;t going to work, as Swing components are either opaque or transparent, not translucent, but you can &quot;fake&quot; it - [for example](https://stackoverflow.com/questions/32216625/how-to-make-a-translucent-jpanel-within-the-region-jpanel/32217554#32217554)","body":"<code>panel.background = Color(0, 0, 0, 125)</code> isn&#39;t going to work, as Swing components are either opaque or transparent, not translucent, but you can &quot;fake&quot; it - <a href=\"https://stackoverflow.com/questions/32216625/how-to-make-a-translucent-jpanel-within-the-region-jpanel/32217554#32217554\">for example</a>"},{"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"score":0,"creation_date":1689498975,"post_id":76695574,"comment_id":135219624,"body_markdown":"Hi @MadProgrammer, thanks for the reply. I&#39;ve updated my code with the `paintComponent` method from your linked `TranslucentPane` code and set `isOpaque` to false, but I still can&#39;t see the Label :(","body":"Hi @MadProgrammer, thanks for the reply. I&#39;ve updated my code with the <code>paintComponent</code> method from your linked <code>TranslucentPane</code> code and set <code>isOpaque</code> to false, but I still can&#39;t see the Label :("}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689503819,"creation_date":1689503819,"answer_id":76697808,"question_id":76695574,"body_markdown":"Swing does not support alpha based background colors.  Swing components are either fully opaque or fully transparent.\r\n\r\nYou can, however, fake it\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.OverlayLayout;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                setBackground(Color.RED);\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JPanel overlayPane = new JPanel();\r\n                overlayPane.setOpaque(false);\r\n                overlayPane.setLayout(new OverlayLayout(overlayPane));\r\n\r\n                TranslucentPane translucentPane = new TranslucentPane();\r\n                translucentPane.setAlpha(0.5f);\r\n                translucentPane.setBackground(Color.RED);\r\n\r\n                overlayPane.add(translucentPane);\r\n                overlayPane.add(new JLabel(&quot;This is a test&quot;));\r\n\r\n                add(overlayPane);\r\n\r\n                JSlider slider = new JSlider(0, 100);\r\n                slider.addChangeListener(new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        float alpha = slider.getValue() / 100f;\r\n                        translucentPane.setAlpha(alpha);\r\n                    }\r\n                });\r\n\r\n                add(slider, BorderLayout.SOUTH);\r\n            }\r\n        }\r\n\r\n        public class TranslucentPane extends JPanel {\r\n\r\n            private float alpha = 1f;\r\n\r\n            public TranslucentPane() {\r\n                setOpaque(false);\r\n            }\r\n\r\n            public void setAlpha(float alpha) {\r\n                this.alpha = alpha;\r\n                repaint();\r\n            }\r\n\r\n            public float getAlpha() {\r\n                return alpha;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(getAlpha()));\r\n                g2d.setColor(getBackground());\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7GSS5.gif\r\n\r\nYour first job is to get rid of `translucentPanel.background = Color(0, 0, 0, 125)`, instead use `Color.BLACK`\r\n\r\nAlso, I had to change the order of the components, so the translucent pane was added first, then the label, this ensures that the translucent pane is rendered above the label","title":"Cannot see a JLabel on a JPanel behind another non-opaque JPanel (OverlayLayout)","body":"<p>Swing does not support alpha based background colors.  Swing components are either fully opaque or fully transparent.</p>\n<p>You can, however, fake it</p>\n<p><a href=\"https://i.stack.imgur.com/7GSS5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7GSS5.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.OverlayLayout;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new BorderLayout());\n            setBackground(Color.RED);\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JPanel overlayPane = new JPanel();\n            overlayPane.setOpaque(false);\n            overlayPane.setLayout(new OverlayLayout(overlayPane));\n\n            TranslucentPane translucentPane = new TranslucentPane();\n            translucentPane.setAlpha(0.5f);\n            translucentPane.setBackground(Color.RED);\n\n            overlayPane.add(translucentPane);\n            overlayPane.add(new JLabel(&quot;This is a test&quot;));\n\n            add(overlayPane);\n\n            JSlider slider = new JSlider(0, 100);\n            slider.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    float alpha = slider.getValue() / 100f;\n                    translucentPane.setAlpha(alpha);\n                }\n            });\n\n            add(slider, BorderLayout.SOUTH);\n        }\n    }\n\n    public class TranslucentPane extends JPanel {\n\n        private float alpha = 1f;\n\n        public TranslucentPane() {\n            setOpaque(false);\n        }\n\n        public void setAlpha(float alpha) {\n            this.alpha = alpha;\n            repaint();\n        }\n\n        public float getAlpha() {\n            return alpha;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setComposite(AlphaComposite.SrcOver.derive(getAlpha()));\n            g2d.setColor(getBackground());\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Your first job is to get rid of <code>translucentPanel.background = Color(0, 0, 0, 125)</code>, instead use <code>Color.BLACK</code></p>\n<p>Also, I had to change the order of the components, so the translucent pane was added first, then the label, this ensures that the translucent pane is rendered above the label</p>\n"}],"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697808,"answer_count":1,"score":0,"last_activity_date":1689503819,"creation_date":1689451196,"question_id":76695574,"body_markdown":"I would like the label *&quot;Test!&quot;* to sit behind the dark box, and to be able to see the background image behind. How can I achieve this?\r\n\r\nThis is a minimal example of my real problem, where I am trying to layer 2 frame-sized JPanels in order to create a navigation overlay over my application.\r\n\r\n```kotlin\r\n    private fun createAndShowGUI() {\r\n        defaultCloseOperation = EXIT_ON_CLOSE\r\n\r\n        contentPane = JLabel(ImageIcon(&quot;C:\\\\...\\\\bee.jpg&quot;))\r\n        layout = FlowLayout()\r\n\r\n        //\r\n        val translucentPanel: JPanel = object: JPanel() {\r\n            override fun paintComponent(g: Graphics?) {\r\n                super.paintComponent(g)\r\n\r\n                val graphics = g!!.create() as Graphics2D\r\n                graphics.composite = AlphaComposite.SrcOver.derive(0.5f)\r\n                graphics.color = background\r\n                graphics.fillRect(0, 0, width, height)\r\n                graphics.dispose()\r\n            }\r\n        }\r\n        translucentPanel.background = Color(0, 0, 0, 125)\r\n        translucentPanel.preferredSize = Dimension(250, 150)\r\n        translucentPanel.isOpaque = false\r\n\r\n        //\r\n        val backingPanel = JPanel()\r\n        backingPanel.isOpaque = false\r\n        backingPanel.layout = OverlayLayout(backingPanel)\r\n\r\n        backingPanel.add(translucentPanel)\r\n        backingPanel.add(Label(&quot;Test!&quot;))\r\n\r\n        //\r\n        add(backingPanel)\r\n\r\n        setSize(600, 400)\r\n        isVisible = true\r\n    }\r\n```\r\n\r\n[![Still can&#39;t see the label :(][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E726R.png","title":"Cannot see a JLabel on a JPanel behind another non-opaque JPanel (OverlayLayout)","body":"<p>I would like the label <em>&quot;Test!&quot;</em> to sit behind the dark box, and to be able to see the background image behind. How can I achieve this?</p>\n<p>This is a minimal example of my real problem, where I am trying to layer 2 frame-sized JPanels in order to create a navigation overlay over my application.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private fun createAndShowGUI() {\n        defaultCloseOperation = EXIT_ON_CLOSE\n\n        contentPane = JLabel(ImageIcon(&quot;C:\\\\...\\\\bee.jpg&quot;))\n        layout = FlowLayout()\n\n        //\n        val translucentPanel: JPanel = object: JPanel() {\n            override fun paintComponent(g: Graphics?) {\n                super.paintComponent(g)\n\n                val graphics = g!!.create() as Graphics2D\n                graphics.composite = AlphaComposite.SrcOver.derive(0.5f)\n                graphics.color = background\n                graphics.fillRect(0, 0, width, height)\n                graphics.dispose()\n            }\n        }\n        translucentPanel.background = Color(0, 0, 0, 125)\n        translucentPanel.preferredSize = Dimension(250, 150)\n        translucentPanel.isOpaque = false\n\n        //\n        val backingPanel = JPanel()\n        backingPanel.isOpaque = false\n        backingPanel.layout = OverlayLayout(backingPanel)\n\n        backingPanel.add(translucentPanel)\n        backingPanel.add(Label(&quot;Test!&quot;))\n\n        //\n        add(backingPanel)\n\n        setSize(600, 400)\n        isVisible = true\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/E726R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E726R.png\" alt=\"Still can't see the label :(\" /></a></p>\n"},{"tags":["java","spring-session"],"owner":{"account_id":12191304,"reputation":11,"user_id":8898691,"display_name":"Alphasion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689501005,"creation_date":1689501005,"question_id":76697619,"body_markdown":"In my project i use AuthorizationManager to authorizating my request with database.\r\n\r\n    @Override\r\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, RequestAuthorizationContext object) {\r\n        String requestUrl = object.getRequest().getRequestURI().replace(&quot;.html&quot;,&quot;&quot;);\r\n        LoginUser user = (LoginUser) authentication.get().getPrincipal();\r\n        log.info(&quot;Check authorization for &quot; + user.getId() + &quot; @ &quot; + requestUrl);\r\n        if (userAuthorService.CheckMenuAuthorization(user.getId(), requestUrl)) {\r\n            return new AuthorizationDecision(true);\r\n        }\r\n        return new AuthorizationDecision(false);\r\n    }\r\nBut some request i need AccessDeniedHandler to return json string,while i using jquery to send get/post requests.in my configuration:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http, AuthorizationManager&lt;RequestAuthorizationContext&gt; authz) throws Exception {\r\n        http.exceptionHandling((handling)-&gt;handling\r\n                .accessDeniedHandler(accessDeniedHandler())\r\n        );\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(HttpMethod.GET, &quot;/login&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/static/favicon.ico&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/favicon.ico&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/static/**&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/error&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/&quot;).hasAuthority(&quot;ROLE_USER&quot;)\r\n                        .requestMatchers(HttpMethod.GET, &quot;/profile.html&quot;).hasAuthority(&quot;ROLE_USER&quot;)\r\n                        .requestMatchers(&quot;/**&quot;).access(authz)\r\n                        .anyRequest().denyAll()\r\n        );\r\n        http.rememberMe((remember) -&gt; remember\r\n                .key(&quot;xxxxxxxxxx&quot;)\r\n                .rememberMeCookieName(&quot;xxxxxxxxxxx&quot;)\r\n                .tokenValiditySeconds(5184000)\r\n        );\r\n        http.formLogin((formlogin) -&gt; formlogin\r\n                .loginPage(&quot;/login&quot;)\r\n                .loginProcessingUrl(&quot;/loginchk&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n        );\r\n        http.userDetailsService(loginUserService);\r\n        return http.build();\r\n    }\r\n\r\nand here is my problem:\r\nwhile i send get request:api/user/read?uid=10000 [it&#39;s not authorized in login]\r\n\r\nmy AuthorizationManager return a AuthorizationDecision(false);\r\nbut i got a redirect to login page but not triggered AccessDeniedHandler,\r\nseems the springsecurity need me to login again to &quot;update&quot; my authorization\r\nhow can i do to avoid redirect? or did i missed something in configuration?","title":"Springsecurity AJAX request authorized failed and redirect to login page,","body":"<p>In my project i use AuthorizationManager to authorizating my request with database.</p>\n<pre><code>@Override\npublic AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, RequestAuthorizationContext object) {\n    String requestUrl = object.getRequest().getRequestURI().replace(&quot;.html&quot;,&quot;&quot;);\n    LoginUser user = (LoginUser) authentication.get().getPrincipal();\n    log.info(&quot;Check authorization for &quot; + user.getId() + &quot; @ &quot; + requestUrl);\n    if (userAuthorService.CheckMenuAuthorization(user.getId(), requestUrl)) {\n        return new AuthorizationDecision(true);\n    }\n    return new AuthorizationDecision(false);\n}\n</code></pre>\n<p>But some request i need AccessDeniedHandler to return json string,while i using jquery to send get/post requests.in my configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http, AuthorizationManager&lt;RequestAuthorizationContext&gt; authz) throws Exception {\n    http.exceptionHandling((handling)-&gt;handling\n            .accessDeniedHandler(accessDeniedHandler())\n    );\n    http.authorizeHttpRequests((authorize) -&gt; authorize\n                    .requestMatchers(HttpMethod.GET, &quot;/login&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/static/favicon.ico&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/favicon.ico&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/static/**&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/error&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/&quot;).hasAuthority(&quot;ROLE_USER&quot;)\n                    .requestMatchers(HttpMethod.GET, &quot;/profile.html&quot;).hasAuthority(&quot;ROLE_USER&quot;)\n                    .requestMatchers(&quot;/**&quot;).access(authz)\n                    .anyRequest().denyAll()\n    );\n    http.rememberMe((remember) -&gt; remember\n            .key(&quot;xxxxxxxxxx&quot;)\n            .rememberMeCookieName(&quot;xxxxxxxxxxx&quot;)\n            .tokenValiditySeconds(5184000)\n    );\n    http.formLogin((formlogin) -&gt; formlogin\n            .loginPage(&quot;/login&quot;)\n            .loginProcessingUrl(&quot;/loginchk&quot;)\n            .usernameParameter(&quot;email&quot;)\n            .defaultSuccessUrl(&quot;/&quot;)\n    );\n    http.userDetailsService(loginUserService);\n    return http.build();\n}\n</code></pre>\n<p>and here is my problem:\nwhile i send get request:api/user/read?uid=10000 [it's not authorized in login]</p>\n<p>my AuthorizationManager return a AuthorizationDecision(false);\nbut i got a redirect to login page but not triggered AccessDeniedHandler,\nseems the springsecurity need me to login again to &quot;update&quot; my authorization\nhow can i do to avoid redirect? or did i missed something in configuration?</p>\n"},{"tags":["java","android-studio","textview"],"comments":[{"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"score":0,"creation_date":1689511792,"post_id":76697318,"comment_id":135220962,"body_markdown":"I must admit I have no clue what is your problem. Three independent pieces of the code  (setting the TextView, some listener on value and finally update of Firebase DB) and at least I have no idea where is your problem. Sorry. You need to be much more precise in what you have tried and where is the problem.","body":"I must admit I have no clue what is your problem. Three independent pieces of the code  (setting the TextView, some listener on value and finally update of Firebase DB) and at least I have no idea where is your problem. Sorry. You need to be much more precise in what you have tried and where is the problem."}],"owner":{"account_id":20681166,"reputation":11,"user_id":15184740,"display_name":"LS PlayQ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689497616,"creation_date":1689495927,"question_id":76697318,"body_markdown":"How do I add the score in DisplayScore text view to the Totalpoint text view score?\r\n\r\nI&#39;ve tried and searched many times, but I haven&#39;t found an answer at all.\r\n\r\nSomebody help me&#39;\r\n\r\n\r\n\r\n```\r\nprivate String point;\r\nprivate TextView DisplayScore;\r\n\r\npoint = getIntent().getExtras().get(&quot;point&quot;).toString();\r\n\r\nDisplayScore = findViewById(R.id.displayScore);\r\nDisplayScore.setText(&quot;point = &quot; + point);\r\n```\r\n\r\n    private void loadData() {\r\n\r\n        reference.child(user.getUid())\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                        ProfileModel model = snapshot.getValue(ProfileModel.class);\r\n                        Totalpoint.setText(String.valueOf(model.getPoints()));\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(GameOverActivity.this, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        finish();\r\n                    }\r\n                });\r\n\r\n    }\r\n```\r\n\r\n```\r\n\r\nprivate void updateDataFirebase() {\r\n\r\n        int currentCoins = Integer.parseInt(Totalpoint.getText().toString());\r\n\r\n\r\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;points&quot;, point);\r\n\r\n\r\n\r\n        FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;)\r\n                .child(user.getUid())\r\n                .updateChildren(map)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                        if (task.isSuccessful()) {\r\n\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n\r\n    }\r\n```\r\n","title":"Summing up the scores in the Android Studio text view","body":"<p>How do I add the score in DisplayScore text view to the Totalpoint text view score?</p>\n<p>I've tried and searched many times, but I haven't found an answer at all.</p>\n<p>Somebody help me'</p>\n<pre><code>private String point;\nprivate TextView DisplayScore;\n\npoint = getIntent().getExtras().get(&quot;point&quot;).toString();\n\nDisplayScore = findViewById(R.id.displayScore);\nDisplayScore.setText(&quot;point = &quot; + point);\n</code></pre>\n<pre><code>private void loadData() {\n\n    reference.child(user.getUid())\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    ProfileModel model = snapshot.getValue(ProfileModel.class);\n                    Totalpoint.setText(String.valueOf(model.getPoints()));\n\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    Toast.makeText(GameOverActivity.this, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n                    finish();\n                }\n            });\n\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>private void updateDataFirebase() {</p>\n<pre><code>    int currentCoins = Integer.parseInt(Totalpoint.getText().toString());\n\n\n    HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;points&quot;, point);\n\n\n\n    FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;)\n            .child(user.getUid())\n            .updateChildren(map)\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                    if (task.isSuccessful()) {\n\n                    }\n\n                }\n            });\n\n\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1689494051,"post_id":76695662,"comment_id":135219194,"body_markdown":"hibernate achive lazy loading through proxy. If you have already closed the session, it can not fetch the proxy data anymore and you need to again make the author entity managed. If you dont want to necessarily fetch the book list, better make a check inside the session and fetch accordingly.","body":"hibernate achive lazy loading through proxy. If you have already closed the session, it can not fetch the proxy data anymore and you need to again make the author entity managed. If you dont want to necessarily fetch the book list, better make a check inside the session and fetch accordingly."}],"answers":[{"tags":[],"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689454367,"creation_date":1689454367,"answer_id":76695737,"question_id":76695662,"body_markdown":"It looks like relation between Author and Book entities is OneToMany, and by default fetch type is Lazy. \r\n\r\nSo when you start your loop to iterate books hibernate is trying to select books (in lazy mode) but session was closed at the end of getAuthorList.\r\n\r\nTo fix I can suggest you setup that relation with FetchType.EAGER or close session somewhere after you finish your logic.","title":"How to get collection from a list of detached entities?","body":"<p>It looks like relation between Author and Book entities is OneToMany, and by default fetch type is Lazy.</p>\n<p>So when you start your loop to iterate books hibernate is trying to select books (in lazy mode) but session was closed at the end of getAuthorList.</p>\n<p>To fix I can suggest you setup that relation with FetchType.EAGER or close session somewhere after you finish your logic.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689497515,"creation_date":1689495630,"answer_id":76697304,"question_id":76695662,"body_markdown":"&gt; I tried to use JOIN FETCH, but if I understand it correctly - hibernate\r\n&gt; will fetch all authors and all books from db, but thats not what i\r\n&gt; want, because it is not always necessarily to get books from authors\r\n\r\nJust keep using `JOIN fetch` in `getAuthorList()`. The thing is your query use case in the end still need to get all books for every author you fetched , why you don&#39;t want to fetch them at the first place ?\r\n\r\nIf you still insist don&#39;t want to use JOIN FETCH , you have to extend the transaction boundary such that the session is still open when you access the books for the author. Something like :  \r\n\r\n``` java\r\npublic void getAuthorList(Consumer&lt;List&lt;Author&gt;&gt; authorConsumer) {\r\n        List&lt;Author&gt; authorList;\r\n        Session session = sessionFactory.openSession();\r\n        session.getTransaction().begin();\r\n\r\n        authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\r\n\r\n        authorConsumer.accept(authorList);\r\n        session.getTransaction().commit();\r\n        session.close();\r\n\r\n    }\r\n\r\n```\r\n\r\nAnd call it by :\r\n\r\n``` java\r\n\r\n        List&lt;Author&gt; authorList = authorHelper.getAuthorList(author -&gt; {\r\n            System.out.println(author.getName());\r\n            System.out.println(&quot;Books&quot;);\r\n            System.out.println(&quot;-----------------&quot;);\r\n            \r\n            author.getBooks().forEach(book1 -&gt; {\r\n                System.out.println(book1.getTitle());\r\n            });\r\n\r\n        });\r\n\r\n```\r\n\r\nBut if you do that , you will have [N+1 query problem.][1] \r\n\r\nUnderstand your concern that maybe there are another query use cases that you just want to get all authors without fetching any books. So ideally your data access layer should have two version of get authors method. One is use JOIN FETCH to fetch  books together with author (e.g. getAuthorListWithBook()) while another just fetch authors without fetching any books (e.g. getAuthorList()). And let the clients to choose which to use depending on if their usecase need to access book.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping","title":"How to get collection from a list of detached entities?","body":"<blockquote>\n<p>I tried to use JOIN FETCH, but if I understand it correctly - hibernate\nwill fetch all authors and all books from db, but thats not what i\nwant, because it is not always necessarily to get books from authors</p>\n</blockquote>\n<p>Just keep using <code>JOIN fetch</code> in <code>getAuthorList()</code>. The thing is your query use case in the end still need to get all books for every author you fetched , why you don't want to fetch them at the first place ?</p>\n<p>If you still insist don't want to use JOIN FETCH , you have to extend the transaction boundary such that the session is still open when you access the books for the author. Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getAuthorList(Consumer&lt;List&lt;Author&gt;&gt; authorConsumer) {\n        List&lt;Author&gt; authorList;\n        Session session = sessionFactory.openSession();\n        session.getTransaction().begin();\n\n        authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\n\n        authorConsumer.accept(authorList);\n        session.getTransaction().commit();\n        session.close();\n\n    }\n\n</code></pre>\n<p>And call it by :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        List&lt;Author&gt; authorList = authorHelper.getAuthorList(author -&gt; {\n            System.out.println(author.getName());\n            System.out.println(&quot;Books&quot;);\n            System.out.println(&quot;-----------------&quot;);\n            \n            author.getBooks().forEach(book1 -&gt; {\n                System.out.println(book1.getTitle());\n            });\n\n        });\n\n</code></pre>\n<p>But if you do that , you will have <a href=\"https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping\">N+1 query problem.</a></p>\n<p>Understand your concern that maybe there are another query use cases that you just want to get all authors without fetching any books. So ideally your data access layer should have two version of get authors method. One is use JOIN FETCH to fetch  books together with author (e.g. getAuthorListWithBook()) while another just fetch authors without fetching any books (e.g. getAuthorList()). And let the clients to choose which to use depending on if their usecase need to access book.</p>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697304,"answer_count":2,"score":0,"last_activity_date":1689497515,"creation_date":1689452738,"question_id":76695662,"body_markdown":"Here is my code\r\n\r\n    public class Start {\r\n        public static void main(String[] args) {\r\n            AuthorHelper authorHelper = new AuthorHelper();\r\n    \r\n            Author author1 = authorHelper.getAuthor(4L);\r\n            author1.setName(&quot;TEST&quot;);\r\n            authorHelper.updateAuthor(author1);\r\n            \r\n    \r\n            List&lt;Author&gt; authorList = authorHelper.getAuthorList();\r\n    \r\n            authorList.forEach(author -&gt; {\r\n                System.out.println(author.getName());\r\n                System.out.println(&quot;Books&quot;);\r\n                System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\r\n    \r\n                \r\n                author.getBooks().forEach(book1 -&gt; {\r\n                    System.out.println(book1.getTitle());\r\n                });\r\n    \r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\nWhen I am trying to get books from author i get this: \r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: entity.Author.books: could not initialize proxy - no Session\r\n\r\nHere is my getAuthorList method:\r\n\r\n    public List&lt;Author&gt; getAuthorList() {\r\n            List&lt;Author&gt; authorList;\r\n            Session session = sessionFactory.openSession();\r\n    \r\n            authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\r\n    \r\n            session.close();\r\n    \r\n            return authorList;\r\n        }\r\n\r\nI tried to use JOIN FETCH, but if I undersand it correctly - hibernate will fetch all authors and all books from db, but thats not what i want, because it is not always necessarily to get books from authors. I think the problem is in List&lt;Author&gt; because it contains detached entities and no Session open. I also tried to use\r\n \r\n`Hibernate.initialize(author.getBooks());`\r\n\r\nBefore getting books, but it is still not working, any ideas how to fix that?","title":"How to get collection from a list of detached entities?","body":"<p>Here is my code</p>\n<pre><code>public class Start {\n    public static void main(String[] args) {\n        AuthorHelper authorHelper = new AuthorHelper();\n\n        Author author1 = authorHelper.getAuthor(4L);\n        author1.setName(&quot;TEST&quot;);\n        authorHelper.updateAuthor(author1);\n        \n\n        List&lt;Author&gt; authorList = authorHelper.getAuthorList();\n\n        authorList.forEach(author -&gt; {\n            System.out.println(author.getName());\n            System.out.println(&quot;Books&quot;);\n            System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\n\n            \n            author.getBooks().forEach(book1 -&gt; {\n                System.out.println(book1.getTitle());\n            });\n\n        });\n\n\n\n    }\n}\n</code></pre>\n<p>When I am trying to get books from author i get this:</p>\n<pre><code>Exception in thread &quot;main&quot; org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: entity.Author.books: could not initialize proxy - no Session\n</code></pre>\n<p>Here is my getAuthorList method:</p>\n<pre><code>public List&lt;Author&gt; getAuthorList() {\n        List&lt;Author&gt; authorList;\n        Session session = sessionFactory.openSession();\n\n        authorList = session.createQuery(&quot;SELECT a FROM Author a&quot;, Author.class).list();\n\n        session.close();\n\n        return authorList;\n    }\n</code></pre>\n<p>I tried to use JOIN FETCH, but if I undersand it correctly - hibernate will fetch all authors and all books from db, but thats not what i want, because it is not always necessarily to get books from authors. I think the problem is in List because it contains detached entities and no Session open. I also tried to use</p>\n<p><code>Hibernate.initialize(author.getBooks());</code></p>\n<p>Before getting books, but it is still not working, any ideas how to fix that?</p>\n"},{"tags":["java","spring","spring-boot","spring-test","spring-boot-test"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1689448527,"post_id":76694892,"comment_id":135216194,"body_markdown":"how do you define ShortURLService in your test codes ?","body":"how do you define ShortURLService in your test codes ?"},{"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"İlkay Gunel"},"score":0,"creation_date":1689458328,"post_id":76694892,"comment_id":135217156,"body_markdown":"With InjectMocks annotation. \nLike this:\n    @InjectMocks\n    ShortURLService shortURLService;","body":"With InjectMocks annotation.  Like this:     @InjectMocks     ShortURLService shortURLService;"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689497257,"creation_date":1689497257,"answer_id":76697398,"question_id":76694892,"body_markdown":"Because `@InjectMocks` is the Mockito stuff and it does not know anything about Spring and so it does not understand what `@Value` is and will not inject values to it. \r\n\r\nYou have to use `@Autowired` to inject the actual `ShortURLService` bean from the spring context into the test.\r\n\r\nSo change to the following should solve your problem :\r\n\r\n```java\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@ContextConfiguration(classes = ShortURLService.class)\r\npublic class ShortURLServiceTest {\r\n\r\n   \r\n   @Autowired\r\n   private ShortURLService shortURLService;\r\n\r\n    @Test\r\n    public void testShortenURL() {\r\n       \r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Spring Boot Override Property in Service Class With TestPropertySource Annotation","body":"<p>Because <code>@InjectMocks</code> is the Mockito stuff and it does not know anything about Spring and so it does not understand what <code>@Value</code> is and will not inject values to it.</p>\n<p>You have to use <code>@Autowired</code> to inject the actual <code>ShortURLService</code> bean from the spring context into the test.</p>\n<p>So change to the following should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@ContextConfiguration(classes = ShortURLService.class)\npublic class ShortURLServiceTest {\n\n   \n   @Autowired\n   private ShortURLService shortURLService;\n\n    @Test\n    public void testShortenURL() {\n       \n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"İlkay Gunel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689497335,"creation_date":1689440354,"question_id":76694892,"body_markdown":"I have a few properties in service class like below. I can fill them from application.properties file. \r\n\r\nMy application.properties file is like this and it&#39;s values same with application-test.properties file: \r\n\r\n    server.port=8282\r\n    short.url.domain=gnl.co \r\n\r\napplication.properties in src/main/resources, application-test.properties in src/test/resources. \r\n\r\nMy service class is like this:\r\n\r\n    @Service\r\n    public class ShortURLService {\r\n        @Value(&quot;${short.url.domain}&quot;)\r\n        private String shortUrlDomain;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        private String shortUrlPort;\r\n    \r\n        .....\r\n    \r\n    }\r\n\r\nI have a test class like this: \r\n\r\n    @SpringBootTest\r\n    @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n    @ContextConfiguration(classes = ShortURLService.class)\r\n    public class ShortURLServiceTest {\r\n\r\n\r\n      @InjectMocks\r\n      private ShortURLService shortURLService;\r\n \r\n    \r\n       @Test\r\n        public void testShortenURL() {\r\n            String shortUrl = shortURLService.shortenURL(&quot;http://ilkaygunel.com&quot;);\r\n            assertTrue(shortUrl.contains(&quot;gnl.co/&quot;));\r\n        }\r\n    \r\n    }\r\n\r\nI checked that values from application-test.properties file comes to ShortURLServiceTest class but values in ShortURLService are null. \r\n\r\nHow can fill variables in service class with application-test.properties file?","title":"Spring Boot Override Property in Service Class With TestPropertySource Annotation","body":"<p>I have a few properties in service class like below. I can fill them from application.properties file.</p>\n<p>My application.properties file is like this and it's values same with application-test.properties file:</p>\n<pre><code>server.port=8282\nshort.url.domain=gnl.co \n</code></pre>\n<p>application.properties in src/main/resources, application-test.properties in src/test/resources.</p>\n<p>My service class is like this:</p>\n<pre><code>@Service\npublic class ShortURLService {\n    @Value(&quot;${short.url.domain}&quot;)\n    private String shortUrlDomain;\n\n    @Value(&quot;${server.port}&quot;)\n    private String shortUrlPort;\n\n    .....\n\n}\n</code></pre>\n<p>I have a test class like this:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@ContextConfiguration(classes = ShortURLService.class)\npublic class ShortURLServiceTest {\n\n\n  @InjectMocks\n  private ShortURLService shortURLService;\n\n\n   @Test\n    public void testShortenURL() {\n        String shortUrl = shortURLService.shortenURL(&quot;http://ilkaygunel.com&quot;);\n        assertTrue(shortUrl.contains(&quot;gnl.co/&quot;));\n    }\n\n}\n</code></pre>\n<p>I checked that values from application-test.properties file comes to ShortURLServiceTest class but values in ShortURLService are null.</p>\n<p>How can fill variables in service class with application-test.properties file?</p>\n"},{"tags":["java","contains","masking","startswith","containskey"],"comments":[{"owner":{"account_id":52839,"reputation":91099,"user_id":157957,"display_name":"IMSoP"},"score":1,"creation_date":1689493893,"post_id":76697166,"comment_id":135219177,"body_markdown":"Tip: always include the programming language as one of the tags on your question (in this case I guess Java?) It&#39;s one of the main way people filter the site for questions they&#39;re likely to be able to help with, and much more useful than extremely specific tags like &quot;startswith&quot;.","body":"Tip: always include the programming language as one of the tags on your question (in this case I guess Java?) It&#39;s one of the main way people filter the site for questions they&#39;re likely to be able to help with, and much more useful than extremely specific tags like &quot;startswith&quot;."},{"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"score":0,"creation_date":1689494245,"post_id":76697166,"comment_id":135219208,"body_markdown":"This is strange code, as it checks that S/O is at the start of the string, then finds its position.  You know that - it&#39;s zero, as it&#39;s the start of the string! Suggestions - use  regex to match the prefixes, or pass all prefixes in one string separated by colon (say), split them in the function to an array, loop over the array.","body":"This is strange code, as it checks that S/O is at the start of the string, then finds its position.  You know that - it&#39;s zero, as it&#39;s the start of the string! Suggestions - use  regex to match the prefixes, or pass all prefixes in one string separated by colon (say), split them in the function to an array, loop over the array."}],"answers":[{"tags":[],"owner":{"account_id":7362914,"reputation":74,"user_id":5605615,"display_name":"mgillett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689495175,"creation_date":1689495175,"answer_id":76697276,"question_id":76697166,"body_markdown":"I would use something like this :\r\n\r\n    String[] words = &quot;^[SDWC]/O&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(words);\r\n    Matcher m = pattern.matcher(address);\r\n\r\nthen `m.find()` returns true or false if the pattern matches.","title":"How to use startsWith or contains method with string or string array?","body":"<p>I would use something like this :</p>\n<pre><code>String[] words = &quot;^[SDWC]/O&quot;;\n\nPattern pattern = Pattern.compile(words);\nMatcher m = pattern.matcher(address);\n</code></pre>\n<p>then <code>m.find()</code> returns true or false if the pattern matches.</p>\n"},{"tags":[],"owner":{"account_id":3344927,"reputation":151,"user_id":2810260,"display_name":"Manvendra_0611"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689496114,"creation_date":1689496114,"answer_id":76697326,"question_id":76697166,"body_markdown":"I have updated your code to use Regex\r\n\r\n    public static void main(String[] args) {\r\n            String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;\r\n            String salutation = &quot;^[SDWC][//]O&quot;;\r\n            Pattern pattern = Pattern.compile(salutation);\r\n            Matcher matcher = pattern.matcher(address);\r\n            if (matcher.find()) {\r\n                String group = matcher.group();\r\n                int sep = address.indexOf(group);\r\n                String addressStr = address.substring(sep + group.length());\r\n                System.out.println(&quot;Address:::: &quot; + addressStr);\r\n                String masks = String.join(&quot;&quot;, Collections.nCopies(addressStr.length() - 8, &quot;*&quot;));\r\n                System.out.println(&quot;Mask::: &quot; + masks);\r\n                addressStr = group + addressStr.substring(0, 4) + masks + addressStr.substring(addressStr.length() - 4);\r\n                System.out.println(addressStr);\r\n            }\r\n        }","title":"How to use startsWith or contains method with string or string array?","body":"<p>I have updated your code to use Regex</p>\n<pre><code>public static void main(String[] args) {\n        String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;\n        String salutation = &quot;^[SDWC][//]O&quot;;\n        Pattern pattern = Pattern.compile(salutation);\n        Matcher matcher = pattern.matcher(address);\n        if (matcher.find()) {\n            String group = matcher.group();\n            int sep = address.indexOf(group);\n            String addressStr = address.substring(sep + group.length());\n            System.out.println(&quot;Address:::: &quot; + addressStr);\n            String masks = String.join(&quot;&quot;, Collections.nCopies(addressStr.length() - 8, &quot;*&quot;));\n            System.out.println(&quot;Mask::: &quot; + masks);\n            addressStr = group + addressStr.substring(0, 4) + masks + addressStr.substring(addressStr.length() - 4);\n            System.out.println(addressStr);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":29026534,"reputation":3,"user_id":22234552,"display_name":"Priyadharshini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697326,"answer_count":2,"score":0,"last_activity_date":1689496114,"creation_date":1689493031,"question_id":76697166,"body_markdown":" My address as string contains this details \r\n \r\n String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;\r\n \r\n Here masking to be implemented for the above mentioned address line in below format\r\n \r\n if the address line starts with S/O, D/O, W/O, C/O it should mask address line like\r\n \r\n S/O: KA******************************BULI\r\n \r\n ie,. after any of mentioned string masking to be done on the address leaving first four and last four chars \r\n \r\n We can use startsWith method but we cannot pass array inside it to check with address string also how to configure the S/O, D/O, W/O, C/O in a single constant with separator to check as it will reduce the code mess up\r\n\r\nHere is the java code:\r\n\r\n    public static void main(String ars[]) throws Exception {\r\n        String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI;\r\n        String[] words = {\r\n            &quot;S/O&quot;,\r\n            &quot;D/O&quot;,\r\n            &quot;W/O&quot;,\r\n            &quot;C/O&quot;\r\n        };\r\n        String joined = Arrays.toString(words);\r\n        //list.stream().filter(p -&gt; p.getName().equals(name)).findFirst().isPresent();\r\n        //\tArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(address.split(&quot;|&quot;)));\r\n        System.out.println(&quot;Address:::: &quot; + joined);\r\n        //list.stream().anyMatch((a) -&gt; a.startsWith(words));\r\n        if (address.startsWith(&quot;S/O&quot;) {\r\n                String separator = &quot;S/O&quot;;\r\n                int sep = address.indexOf(separator);\r\n                String adress = address.substring(sep + separator.length());\r\n                System.out.println(&quot;Address:::: &quot; + adress);\r\n                String masks = String.join(&quot;&quot;, Collections.nCopies(adress.length() - 8, &quot;*&quot;));\r\n                System.out.println(&quot;Mask::: &quot; + masks);\r\n                adress = separator + adress.substring(0, 4) + masks + adress.substring(adress.length() - 4);\r\n            }\r\n        }","title":"How to use startsWith or contains method with string or string array?","body":"<p>My address as string contains this details</p>\n<p>String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI&quot;;</p>\n<p>Here masking to be implemented for the above mentioned address line in below format</p>\n<p>if the address line starts with S/O, D/O, W/O, C/O it should mask address line like</p>\n<p>S/O: KA******************************BULI</p>\n<p>ie,. after any of mentioned string masking to be done on the address leaving first four and last four chars</p>\n<p>We can use startsWith method but we cannot pass array inside it to check with address string also how to configure the S/O, D/O, W/O, C/O in a single constant with separator to check as it will reduce the code mess up</p>\n<p>Here is the java code:</p>\n<pre><code>public static void main(String ars[]) throws Exception {\n    String address = &quot;S/O: KANTH MEIPPEN PACHU, N-2345, THAMBULI;\n    String[] words = {\n        &quot;S/O&quot;,\n        &quot;D/O&quot;,\n        &quot;W/O&quot;,\n        &quot;C/O&quot;\n    };\n    String joined = Arrays.toString(words);\n    //list.stream().filter(p -&gt; p.getName().equals(name)).findFirst().isPresent();\n    //  ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(address.split(&quot;|&quot;)));\n    System.out.println(&quot;Address:::: &quot; + joined);\n    //list.stream().anyMatch((a) -&gt; a.startsWith(words));\n    if (address.startsWith(&quot;S/O&quot;) {\n            String separator = &quot;S/O&quot;;\n            int sep = address.indexOf(separator);\n            String adress = address.substring(sep + separator.length());\n            System.out.println(&quot;Address:::: &quot; + adress);\n            String masks = String.join(&quot;&quot;, Collections.nCopies(adress.length() - 8, &quot;*&quot;));\n            System.out.println(&quot;Mask::: &quot; + masks);\n            adress = separator + adress.substring(0, 4) + masks + adress.substring(adress.length() - 4);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","versioning","request-mapping"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689499419,"post_id":76697323,"comment_id":135219662,"body_markdown":"I would just put the version like this: GetMapping(&quot;v1/test&quot;) You will need to implement different methods for different versions anyhow.","body":"I would just put the version like this: GetMapping(&quot;v1/test&quot;) You will need to implement different methods for different versions anyhow."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689499721,"post_id":76697323,"comment_id":135219687,"body_markdown":"Alternatively with path variable: GetMapping(&quot;{version}/test&quot;)","body":"Alternatively with path variable: GetMapping(&quot;{version}/test&quot;)"},{"owner":{"account_id":21819477,"reputation":1,"user_id":16115874,"display_name":"AbdulazizYas"},"score":0,"creation_date":1689504764,"post_id":76697323,"comment_id":135220195,"body_markdown":"@Mar-Z I know but I want to clean up the endpoints and leave the versioning for an annotation","body":"@Mar-Z I know but I want to clean up the endpoints and leave the versioning for an annotation"}],"owner":{"account_id":21819477,"reputation":1,"user_id":16115874,"display_name":"AbdulazizYas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689496065,"creation_date":1689496065,"question_id":76697323,"body_markdown":"I want to change the endpoint of a @RequestMapping in Spring Boot based on specific annotation\r\n\r\nFor example:\r\n\r\n```java\r\n@Version(1)\r\n@GetMapping(&quot;/test&quot;)\r\npublic ResponseEntity test(){\r\n   return new ResponseEntity();\r\n}\r\n```\r\n\r\nthis should product the endpoint:\r\n/v1/test\r\n\r\nI tried extending the RequestMappingHandlerMapping and overriding getMappingForMethod(Method method, Class\\&lt;?\\&gt; handlerType) method\r\n\r\n```java\r\n@Component\r\npublic class VersionedRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\r\n    @Override\r\n    protected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\r\n        RequestMappingInfo methodMapping = super.getMappingForMethod(method, handlerType);\r\n        if (methodMapping != null) {\r\n            Version versionAnnotation = AnnotationUtils.findAnnotation(handlerType, Version.class);\r\n            if (versionAnnotation != null) {\r\n                String versionPath = &quot;/v&quot; + versionAnnotation.value();\r\n                RequestMappingInfo typeMapping = RequestMappingInfo.paths(versionPath).build();\r\n                return typeMapping.combine(methodMapping);\r\n            }\r\n        }\r\n        return methodMapping;\r\n    }\r\n}\r\n```\r\n\r\nbut id did not work\r\n\r\nAny solution for this problem?","title":"Is there a way to change the URL endpoint of @RequestMapping based on annotation in Spring Boot?","body":"<p>I want to change the endpoint of a @RequestMapping in Spring Boot based on specific annotation</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Version(1)\n@GetMapping(&quot;/test&quot;)\npublic ResponseEntity test(){\n   return new ResponseEntity();\n}\n</code></pre>\n<p>this should product the endpoint:\n/v1/test</p>\n<p>I tried extending the RequestMappingHandlerMapping and overriding getMappingForMethod(Method method, Class&lt;?&gt; handlerType) method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class VersionedRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\n    @Override\n    protected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\n        RequestMappingInfo methodMapping = super.getMappingForMethod(method, handlerType);\n        if (methodMapping != null) {\n            Version versionAnnotation = AnnotationUtils.findAnnotation(handlerType, Version.class);\n            if (versionAnnotation != null) {\n                String versionPath = &quot;/v&quot; + versionAnnotation.value();\n                RequestMappingInfo typeMapping = RequestMappingInfo.paths(versionPath).build();\n                return typeMapping.combine(methodMapping);\n            }\n        }\n        return methodMapping;\n    }\n}\n</code></pre>\n<p>but id did not work</p>\n<p>Any solution for this problem?</p>\n"},{"tags":["java"],"owner":{"account_id":20207111,"reputation":1,"user_id":14821208,"display_name":"Patric Khant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689495492,"creation_date":1689495492,"question_id":76697299,"body_markdown":"Whenever I run maven clean or maven build or maven in install got error like one of its dependencies could not be resolved Could not transfer artifact. any solution I found on internet is not working. how to solve it to export war file.\r\n\r\nI want to resolve it and export war or jar file.","title":"Got this error &#39;Could not transfer artifact org.codehaus.plexus:plexus-utils:jar:1.1 from/to spring-milestones (https://repo.spring.io/milestone)&#39;","body":"<p>Whenever I run maven clean or maven build or maven in install got error like one of its dependencies could not be resolved Could not transfer artifact. any solution I found on internet is not working. how to solve it to export war file.</p>\n<p>I want to resolve it and export war or jar file.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1689484990,"post_id":76696780,"comment_id":135218515,"body_markdown":"That is a *warning*, not an **error**. And you should probably ignore it. Because closing `s` would also close `System.in`. Which you do not want to do.","body":"That is a <i>warning</i>, not an <b>error</b>. And you should probably ignore it. Because closing <code>s</code> would also close <code>System.in</code>. Which you do not want to do."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689485273,"post_id":76696780,"comment_id":135218542,"body_markdown":"When you&#39;re done processing input, then yes, you can close it","body":"When you&#39;re done processing input, then yes, you can close it"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1689485536,"post_id":76696780,"comment_id":135218551,"body_markdown":"Either a) ignore the message (recommended), b) execute `s.close();` when you&#39;re done, or c) use a try-with-resources block `try (Scanner s = new Scanner(System.in)) { ... }` which will close it for you.","body":"Either a) ignore the message (recommended), b) execute <code>s.close();</code> when you&#39;re done, or c) use a try-with-resources block <code>try (Scanner s = new Scanner(System.in)) { ... }</code> which will close it for you."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1689485997,"post_id":76696780,"comment_id":135218583,"body_markdown":"But you almost certainly don&#39;t want to close `System.in`.","body":"But you almost certainly don&#39;t want to close <code>System.in</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689490821,"post_id":76696780,"comment_id":135218923,"body_markdown":"Just assure that you no longer require any input from the _[System#in](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in)_, and then close the _Scanner_, as usual.  Closing the _Scanner_ causes it to also close any resources related to it, in this case, _System#in_.  The _System#in_ is a static resource, hence it will be closed for that session of your program.  It&#39;s import to follow protocols when programming, it&#39;s a foundational coding practice.","body":"Just assure that you no longer require any input from the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in\" rel=\"nofollow noreferrer\">System#in</a></i>, and then close the <i>Scanner</i>, as usual.  Closing the <i>Scanner</i> causes it to also close any resources related to it, in this case, <i>System#in</i>.  The <i>System#in</i> is a static resource, hence it will be closed for that session of your program.  It&#39;s import to follow protocols when programming, it&#39;s a foundational coding practice."}],"answers":[{"tags":[],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1689486195,"creation_date":1689486195,"answer_id":76696854,"question_id":76696780,"body_markdown":"Use try-catch and close your scanner :\r\n\r\n        try{\r\n            // your code\r\n            s.close();\r\n        }catch (Exception e){\r\n            System.out.println(&quot;Error : &quot; + e.getMessage());\r\n        }\r\n        \r\n\r\n","title":"Resource leak reported when using a Scanner","body":"<p>Use try-catch and close your scanner :</p>\n<pre><code>    try{\n        // your code\n        s.close();\n    }catch (Exception e){\n        System.out.println(&quot;Error : &quot; + e.getMessage());\n    }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25883529,"reputation":11,"user_id":19612120,"display_name":"SILVERARGYROS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689493770,"creation_date":1689493770,"answer_id":76697210,"question_id":76696780,"body_markdown":"Short answer: Ignore it.\r\n\r\n\r\n\r\nExplanation:\r\n\r\nThis is a warning stating that the Scanner (s) is never closed. \r\n\r\n\r\nUsually you want to close scanners when you are done with them in order to allow Java to reclaim the memory that the scanner has allocated to temporarily store the data from the InputStream. Avoiding to do so causes a memory(/resource) leak, meaning the memory is claimed permanently.\r\n\r\n\r\nHowever in this case, the InputStream is the Systems input (System.in). You do not have to close the Scanner in that case (and propably shouldn&#39;t since doing so would also close the Systems input Stream for good). System.in is automatically closed when your Java program terminates, so there is no leak. You should simply ignore it as it doesn&#39;t affect anything at all, it&#39;s just a warning. \r\n\r\n\r\nMy guess is that you are writing Java in Visual Studio Code. In other IDEs (Netbeans for example) this warning doesn&#39;t even occur when using Scanner with System.in. My guess could be wrong tho. \r\n\r\n(If I somehow explain something wrong or missed something, someone please respectfully correct me in the comments. Thank you in advance.)","title":"Resource leak reported when using a Scanner","body":"<p>Short answer: Ignore it.</p>\n<p>Explanation:</p>\n<p>This is a warning stating that the Scanner (s) is never closed.</p>\n<p>Usually you want to close scanners when you are done with them in order to allow Java to reclaim the memory that the scanner has allocated to temporarily store the data from the InputStream. Avoiding to do so causes a memory(/resource) leak, meaning the memory is claimed permanently.</p>\n<p>However in this case, the InputStream is the Systems input (System.in). You do not have to close the Scanner in that case (and propably shouldn't since doing so would also close the Systems input Stream for good). System.in is automatically closed when your Java program terminates, so there is no leak. You should simply ignore it as it doesn't affect anything at all, it's just a warning.</p>\n<p>My guess is that you are writing Java in Visual Studio Code. In other IDEs (Netbeans for example) this warning doesn't even occur when using Scanner with System.in. My guess could be wrong tho.</p>\n<p>(If I somehow explain something wrong or missed something, someone please respectfully correct me in the comments. Thank you in advance.)</p>\n"}],"owner":{"account_id":29026020,"reputation":27,"user_id":22234175,"display_name":"chamanswami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1689494975,"answer_count":2,"score":-3,"last_activity_date":1689493770,"creation_date":1689484457,"question_id":76696780,"body_markdown":"For this line of my Java code:\r\n```\r\nScanner s = new Scanner(System.in);\r\n```\r\nThis occurs:\r\n&gt; Resource leak: &#39;s&#39; is&#160;never&#160;closed \r\n\r\nWhat does it mean and why is it occurring? \r\n","title":"Resource leak reported when using a Scanner","body":"<p>For this line of my Java code:</p>\n<pre><code>Scanner s = new Scanner(System.in);\n</code></pre>\n<p>This occurs:</p>\n<blockquote>\n<p>Resource leak: 's' is never closed</p>\n</blockquote>\n<p>What does it mean and why is it occurring?</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689571166,"post_id":76697171,"comment_id":135226606,"body_markdown":"I don&#39;t see the issue at first glance, but if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-use-firebase-cloud-messaging-on-android-d92cb4b53cfe) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseCloudMessaging).","body":"I don&#39;t see the issue at first glance, but if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-use-firebase-cloud-messaging-on-android-d92cb4b53cfe\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseCloudMessaging\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":7010851,"reputation":51,"user_id":14024650,"display_name":"Brandon T"},"score":0,"creation_date":1689572533,"post_id":76697171,"comment_id":135226790,"body_markdown":"@AlexMamo hello. I&#39;m using Java not kotlin.","body":"@AlexMamo hello. I&#39;m using Java not kotlin."}],"owner":{"account_id":7010851,"reputation":51,"user_id":14024650,"display_name":"Brandon T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689493079,"creation_date":1689493079,"question_id":76697171,"body_markdown":"I am trying to show push notifications from device to device. For e.g. when user1 follows user2 I want user2 to get the notification across the top of their screen that user1 followed them. But right now the push notifications only works if I send it through a campaign from the firebase console. I&#39;ve been looking through here for 2 days now and have no luck. Can someone please help me.\r\n\r\nProfileFragment: \r\n\r\n    private void addNotifications() {\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Notifications&quot;).child(profileid);\r\n\r\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(&quot;date_time&quot;, getTimeDate());\r\n        hashMap.put(&quot;userid&quot;, firebaseUser.getUid());\r\n        hashMap.put(&quot;text&quot;, &quot;started following you.&quot;);\r\n        hashMap.put(&quot;postid&quot;, &quot;&quot;);\r\n        hashMap.put(&quot;isSeen&quot;, false);\r\n        hashMap.put(&quot;ispost&quot;, false);\r\n\r\n        databaseReference.push().setValue(hashMap);\r\n\r\n        // Retrieve the FCM registration token for the recipient user\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(profileid);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                if (dataSnapshot.exists()) {\r\n                    String fcmToken = dataSnapshot.child(&quot;device_token&quot;).getValue(String.class);\r\n                    if (fcmToken != null) {\r\n                        // Send the push notification\r\n                        //Toast.makeText(getContext(), &quot;Snapshot: &quot; + fcmToken, Toast.LENGTH_LONG).show();\r\n\r\n                        if (!fcmToken.isEmpty()) {\r\n\r\n                            sendNotification(fcmToken, &quot;New Notification&quot;, &quot;You have a new notification.&quot;);\r\n                        } else {\r\n\r\n                            Toast.makeText(getContext(), &quot;Token is null.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                        }\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getContext(), &quot;No snapshot found.&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                // Handle error\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sendNotification(String receiverToken, String title, String message) {\r\n        // Create the message\r\n        RemoteMessage notificationMessage = null;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            notificationMessage = new RemoteMessage.Builder(receiverToken)\r\n                    .setMessageId(Integer.toString(ThreadLocalRandom.current().nextInt())) // Unique message ID\r\n                    .addData(&quot;title&quot;, title)\r\n                    .addData(&quot;message&quot;, message)\r\n                    .build();\r\n        }\r\n\r\n        if (receiverToken.isEmpty()) {\r\n\r\n            Toast.makeText(getContext(), &quot;Token is empty 2.&quot;, Toast.LENGTH_LONG).show();\r\n        } else {\r\n\r\n            Toast.makeText(getContext(), &quot;Token is not empty.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n\r\n        // Send the message using FirebaseMessaging\r\n        try {\r\n            FirebaseMessaging.getInstance().send(notificationMessage);\r\n            Toast.makeText(getContext(), &quot;Notification sent successfully.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n            Log.d(&quot;Notification&quot;, &quot;Notification sent successfully&quot;);\r\n        } catch (Exception e) {\r\n            Toast.makeText(getContext(), &quot;Notification failed.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n            Log.e(&quot;Notification&quot;, &quot;Error sending notification: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nMyFirebaseMessagingService: \r\n\r\n    public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;FCM&quot;;\r\n    private static final String CHANNEL_ID = &quot;mystro_push_channelID_900192&quot;; // Replace with your channel ID\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        // Handle the received notification\r\n\r\n        Log.d(&quot;TAG96&quot;, &quot;In here call 1&quot;);\r\n\r\n        if (remoteMessage.getNotification() != null) {\r\n            String title = remoteMessage.getNotification().getTitle();\r\n            String body = remoteMessage.getNotification().getBody();\r\n\r\n            // Generate a unique notification ID\r\n            int notificationId = getNotificationId();\r\n\r\n            // Build the notification\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                    .setContentTitle(title)\r\n                    .setContentText(body)\r\n                    .setSmallIcon(R.drawable.mystro_logo)\r\n                    .setAutoCancel(true);\r\n\r\n            // Display the notification\r\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notificationManager.notify(notificationId, builder.build());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onNewToken(String token) {\r\n        // Handle token refresh or registration\r\n        Log.d(&quot;TAG21&quot;, &quot;New FCM token: &quot; + token);\r\n        // TODO: Send the updated token to your server or perform any other necessary actions\r\n    }\r\n\r\n    private int getNotificationId() {\r\n        // Generate a unique ID based on the current timestamp\r\n        return (int) System.currentTimeMillis();\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Your Channel Name&quot;; // Replace with your channel name\r\n            String description = &quot;Your Channel Description&quot;; // Replace with your channel description\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            channel.setDescription(description);\r\n\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        createNotificationChannel();\r\n\r\n        Log.d(&quot;TAG96&quot;, &quot;In here call&quot;);\r\n    }\r\n    }\r\n\r\nAndroidManifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt; --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_OPEN_DOCUMENT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n\r\n    &lt;permission\r\n        android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot;\r\n        android:protectionLevel=&quot;signature&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyStro&quot;\r\n        tools:targetApi=&quot;m&quot;&gt;\r\n        &lt;service\r\n            android:name=&quot;.MyFirebaseMessagingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n                &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/notification_channel_id&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.EULA_Activity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.UserEmailActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OptionsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.PrivacyPolicyActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.TermsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.BioEditActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.FullnameActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.UsernameActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ChangePassword&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity android:name=&quot;.EditProfileActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\r\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ChatActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.CommentsActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ForgotPasswordScreen&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.RegisterActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.FollowersActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.LoginActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n","title":"FCM Push notifications not popping up","body":"<p>I am trying to show push notifications from device to device. For e.g. when user1 follows user2 I want user2 to get the notification across the top of their screen that user1 followed them. But right now the push notifications only works if I send it through a campaign from the firebase console. I've been looking through here for 2 days now and have no luck. Can someone please help me.</p>\n<p>ProfileFragment:</p>\n<pre><code>private void addNotifications() {\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;Notifications&quot;).child(profileid);\n\n    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n    hashMap.put(&quot;date_time&quot;, getTimeDate());\n    hashMap.put(&quot;userid&quot;, firebaseUser.getUid());\n    hashMap.put(&quot;text&quot;, &quot;started following you.&quot;);\n    hashMap.put(&quot;postid&quot;, &quot;&quot;);\n    hashMap.put(&quot;isSeen&quot;, false);\n    hashMap.put(&quot;ispost&quot;, false);\n\n    databaseReference.push().setValue(hashMap);\n\n    // Retrieve the FCM registration token for the recipient user\n    DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(profileid);\n    userRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            if (dataSnapshot.exists()) {\n                String fcmToken = dataSnapshot.child(&quot;device_token&quot;).getValue(String.class);\n                if (fcmToken != null) {\n                    // Send the push notification\n                    //Toast.makeText(getContext(), &quot;Snapshot: &quot; + fcmToken, Toast.LENGTH_LONG).show();\n\n                    if (!fcmToken.isEmpty()) {\n\n                        sendNotification(fcmToken, &quot;New Notification&quot;, &quot;You have a new notification.&quot;);\n                    } else {\n\n                        Toast.makeText(getContext(), &quot;Token is null.&quot;, Toast.LENGTH_LONG).show();\n\n                    }\n                }\n            } else {\n                Toast.makeText(getContext(), &quot;No snapshot found.&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            // Handle error\n        }\n    });\n}\n\nprivate void sendNotification(String receiverToken, String title, String message) {\n    // Create the message\n    RemoteMessage notificationMessage = null;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n        notificationMessage = new RemoteMessage.Builder(receiverToken)\n                .setMessageId(Integer.toString(ThreadLocalRandom.current().nextInt())) // Unique message ID\n                .addData(&quot;title&quot;, title)\n                .addData(&quot;message&quot;, message)\n                .build();\n    }\n\n    if (receiverToken.isEmpty()) {\n\n        Toast.makeText(getContext(), &quot;Token is empty 2.&quot;, Toast.LENGTH_LONG).show();\n    } else {\n\n        Toast.makeText(getContext(), &quot;Token is not empty.&quot;, Toast.LENGTH_LONG).show();\n\n    }\n\n    // Send the message using FirebaseMessaging\n    try {\n        FirebaseMessaging.getInstance().send(notificationMessage);\n        Toast.makeText(getContext(), &quot;Notification sent successfully.&quot;, Toast.LENGTH_LONG).show();\n\n        Log.d(&quot;Notification&quot;, &quot;Notification sent successfully&quot;);\n    } catch (Exception e) {\n        Toast.makeText(getContext(), &quot;Notification failed.&quot;, Toast.LENGTH_LONG).show();\n\n        Log.e(&quot;Notification&quot;, &quot;Error sending notification: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>MyFirebaseMessagingService:</p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\nprivate static final String TAG = &quot;FCM&quot;;\nprivate static final String CHANNEL_ID = &quot;mystro_push_channelID_900192&quot;; // Replace with your channel ID\n\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    // Handle the received notification\n\n    Log.d(&quot;TAG96&quot;, &quot;In here call 1&quot;);\n\n    if (remoteMessage.getNotification() != null) {\n        String title = remoteMessage.getNotification().getTitle();\n        String body = remoteMessage.getNotification().getBody();\n\n        // Generate a unique notification ID\n        int notificationId = getNotificationId();\n\n        // Build the notification\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(title)\n                .setContentText(body)\n                .setSmallIcon(R.drawable.mystro_logo)\n                .setAutoCancel(true);\n\n        // Display the notification\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.notify(notificationId, builder.build());\n    }\n}\n\n@Override\npublic void onNewToken(String token) {\n    // Handle token refresh or registration\n    Log.d(&quot;TAG21&quot;, &quot;New FCM token: &quot; + token);\n    // TODO: Send the updated token to your server or perform any other necessary actions\n}\n\nprivate int getNotificationId() {\n    // Generate a unique ID based on the current timestamp\n    return (int) System.currentTimeMillis();\n}\n\nprivate void createNotificationChannel() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = &quot;Your Channel Name&quot;; // Replace with your channel name\n        String description = &quot;Your Channel Description&quot;; // Replace with your channel description\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\n\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n        channel.setDescription(description);\n\n        NotificationManager notificationManager = getSystemService(NotificationManager.class);\n        notificationManager.createNotificationChannel(channel);\n    }\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    createNotificationChannel();\n\n    Log.d(&quot;TAG96&quot;, &quot;In here call&quot;);\n}\n}\n</code></pre>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt; --&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACTION_OPEN_DOCUMENT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n\n&lt;permission\n    android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot;\n    android:protectionLevel=&quot;signature&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;com.example.mystro.permission.C2D_MESSAGE&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyStro&quot;\n    tools:targetApi=&quot;m&quot;&gt;\n    &lt;service\n        android:name=&quot;.MyFirebaseMessagingService&quot;\n        android:enabled=&quot;true&quot;\n        android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\n            &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n        android:value=&quot;@string/notification_channel_id&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.EULA_Activity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.UserEmailActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.SplashActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.OptionsActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.PrivacyPolicyActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.TermsActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.BioEditActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.FullnameActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.UsernameActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.ChangePassword&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity android:name=&quot;.EditProfileActivity&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\n        android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.ChatActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.CommentsActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.ForgotPasswordScreen&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.RegisterActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.FollowersActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.LoginActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring-mvc","thymeleaf"],"owner":{"account_id":24378989,"reputation":1,"user_id":18310868,"display_name":"Михаил Сумароков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689491992,"creation_date":1689491432,"question_id":76697095,"body_markdown":"Tell me where to look.\r\nWe need to make an HTML page with a 4x4 table and populate it from the backend. Also after filling in the table cell and pressing Enter, so that the cell value and its coordinates are sent to the server.\r\nThis must be done using Java + Spring MVC. As I understand correctly, thymeleat templates will help with this, but nothing happens. Thank you!","title":"Table 4x4 springMVC + thymeleat","body":"<p>Tell me where to look.\nWe need to make an HTML page with a 4x4 table and populate it from the backend. Also after filling in the table cell and pressing Enter, so that the cell value and its coordinates are sent to the server.\nThis must be done using Java + Spring MVC. As I understand correctly, thymeleat templates will help with this, but nothing happens. Thank you!</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689409516,"post_id":76692401,"comment_id":135211870,"body_markdown":"Can you maybe include the `Bo3AuditRepository ` class in your question?","body":"Can you maybe include the <code>Bo3AuditRepository </code> class in your question?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689443342,"post_id":76692401,"comment_id":135215617,"body_markdown":"Does the error also occur when removing the `repo.save(bo3Audit);` in the `@PostUpdate`?","body":"Does the error also occur when removing the <code>repo.save(bo3Audit);</code> in the <code>@PostUpdate</code>?"},{"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"score":0,"creation_date":1689475633,"post_id":76692401,"comment_id":135218131,"body_markdown":"yes @dan1stisonstrike. Commenting out `repo.save(bo3Audit);` still produces the same error!","body":"yes @dan1stisonstrike. Commenting out <code>repo.save(bo3Audit);</code> still produces the same error!"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689470728,"creation_date":1689470400,"answer_id":76696344,"question_id":76692401,"body_markdown":"There is a trivial reason why that does not work as expected: Hibernate fires JPA Lifecycle Events when persistent context is being flushing and you may not modify (write to) persistent context when it is being flushing, however some workarounds do exist:\r\n\r\nI. Use brand new persistent context attached to the current transaction, something like:\r\n\r\n```java\r\n// suppose we may somehow access EntityManager instance:\r\nSession current = entityManager.unwrap(Session.class);\r\ntry (Session newSession = current.sessionWithOptions().connection().flushMode(FlushMode.MANUAL).openSession()) {\r\n   Bo3Audit bo3Audit = generateAudit...;\r\n   newSession.persist(bo3Audit);\r\n   newSession.flush();\r\n}\r\n```\r\n\r\nthe code above is robust as AK 47, however has obvious drawbacks:\r\n- it is tightly coupled with Hibernate\r\n- you may not use `spring-data-java` infrastructure\r\n\r\nII. another option is to use [Domain Events](https://thorben-janssen.com/spring-data-jpa-domain-event/) - please check carefully drawbacks described in article, the most serious one is a requirement to call `save` or `saveAll` in order to trigger `Domain Events`","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>There is a trivial reason why that does not work as expected: Hibernate fires JPA Lifecycle Events when persistent context is being flushing and you may not modify (write to) persistent context when it is being flushing, however some workarounds do exist:</p>\n<p>I. Use brand new persistent context attached to the current transaction, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// suppose we may somehow access EntityManager instance:\nSession current = entityManager.unwrap(Session.class);\ntry (Session newSession = current.sessionWithOptions().connection().flushMode(FlushMode.MANUAL).openSession()) {\n   Bo3Audit bo3Audit = generateAudit...;\n   newSession.persist(bo3Audit);\n   newSession.flush();\n}\n</code></pre>\n<p>the code above is robust as AK 47, however has obvious drawbacks:</p>\n<ul>\n<li>it is tightly coupled with Hibernate</li>\n<li>you may not use <code>spring-data-java</code> infrastructure</li>\n</ul>\n<p>II. another option is to use <a href=\"https://thorben-janssen.com/spring-data-jpa-domain-event/\" rel=\"nofollow noreferrer\">Domain Events</a> - please check carefully drawbacks described in article, the most serious one is a requirement to call <code>save</code> or <code>saveAll</code> in order to trigger <code>Domain Events</code></p>\n"},{"tags":[],"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689489893,"creation_date":1689489562,"answer_id":76696998,"question_id":76692401,"body_markdown":"The `prePersist` is working, but not the `postUpdate`. So I had a look at the stack trace again and noted that it was complaining about concurrent modification on some List. The only list in that method is `List&lt;Bo3Audit&gt; lastAudits` which I fetch to compare old and new audit specific fields.\r\n\r\nThis was the culprit. In the Hibernate perspective, the newly created `bo3Audit` is a member of that list and calling `save` on `bo3Audit` would throw the concurrent modification error.\r\n\r\nI did the below updates to the code and it is working as expected.\r\n\r\n 1. When the Bo3 is loaded, the corresponding Bo3Audit is generated and\r\n    cached to a transient property in Bo3. The hibernate will load the data before updating. So this will work in `@PostUpdate`.\r\n    \r\n        @Transient@JsonIgnore private Bo3Audit lastBo3Audit;\r\n        @PostLoad\r\n        public void postLoad() {\r\n            this.lastBo3Audit = this.generateAuditBo();\r\n        }\r\n 2. In `@PostUpdate`, the `oldValues` were generated from this cached\r\n    property, instead of fetching this from database.\r\n    \r\n        oldValues = streamSupplier.get().map(m-&gt; {\r\n                        try {\r\n                            return m.invoke(lastBo3Audit);\r\n                        } catch (IllegalAccessException | InvocationTargetException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    })\r\n                    .filter(Objects::nonNull)\r\n                    .toList();\r\n\r\nThe queries generated:\r\n\r\n    Hibernate: select bo3x0_.id as id1_0_0_, bo3x0_.prop1 as prop2_0_0_, bo3x0_.prop2 as prop3_0_0_, bo3x0_.prop3 as prop4_0_0_ from bo3 bo3x0_ where bo3x0_.id=?\r\n    Hibernate: update bo3 set prop1=?, prop2=?, prop3=? where id=?\r\n    Hibernate: insert into bo3audit (bo3_id, prop1, prop2) values (?, ?, ?)\r\n\r\nNotes:\r\n\r\n 1. Now that I have the `lastBo3Audit`, the `streamSupplier` can be\r\n    removed and compare `lastBo3Audit` and new `bo3Audit`.\r\n 2. I need to test this, to see how it will behave in a real scenario.","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>The <code>prePersist</code> is working, but not the <code>postUpdate</code>. So I had a look at the stack trace again and noted that it was complaining about concurrent modification on some List. The only list in that method is <code>List&lt;Bo3Audit&gt; lastAudits</code> which I fetch to compare old and new audit specific fields.</p>\n<p>This was the culprit. In the Hibernate perspective, the newly created <code>bo3Audit</code> is a member of that list and calling <code>save</code> on <code>bo3Audit</code> would throw the concurrent modification error.</p>\n<p>I did the below updates to the code and it is working as expected.</p>\n<ol>\n<li><p>When the Bo3 is loaded, the corresponding Bo3Audit is generated and\ncached to a transient property in Bo3. The hibernate will load the data before updating. So this will work in <code>@PostUpdate</code>.</p>\n<pre><code>@Transient@JsonIgnore private Bo3Audit lastBo3Audit;\n@PostLoad\npublic void postLoad() {\n    this.lastBo3Audit = this.generateAuditBo();\n}\n</code></pre>\n</li>\n<li><p>In <code>@PostUpdate</code>, the <code>oldValues</code> were generated from this cached\nproperty, instead of fetching this from database.</p>\n<pre><code>oldValues = streamSupplier.get().map(m-&gt; {\n                try {\n                    return m.invoke(lastBo3Audit);\n                } catch (IllegalAccessException | InvocationTargetException e) {\n                    throw new RuntimeException(e);\n                }\n            })\n            .filter(Objects::nonNull)\n            .toList();\n</code></pre>\n</li>\n</ol>\n<p>The queries generated:</p>\n<pre><code>Hibernate: select bo3x0_.id as id1_0_0_, bo3x0_.prop1 as prop2_0_0_, bo3x0_.prop2 as prop3_0_0_, bo3x0_.prop3 as prop4_0_0_ from bo3 bo3x0_ where bo3x0_.id=?\nHibernate: update bo3 set prop1=?, prop2=?, prop3=? where id=?\nHibernate: insert into bo3audit (bo3_id, prop1, prop2) values (?, ?, ?)\n</code></pre>\n<p>Notes:</p>\n<ol>\n<li>Now that I have the <code>lastBo3Audit</code>, the <code>streamSupplier</code> can be\nremoved and compare <code>lastBo3Audit</code> and new <code>bo3Audit</code>.</li>\n<li>I need to test this, to see how it will behave in a real scenario.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689491331,"creation_date":1689491331,"answer_id":76697090,"question_id":76692401,"body_markdown":"Maybe try to rework architect? Create new logic layer, that invoke method (for example, let&#39;s name it someMethodA(). It can be Service(logic layer above the repository of first entity) method. And you get result. And after this, you invoke another method of another service(with repository of another entity)\r\nYou can use pattern Action for this.\r\nBecause what you have written is a very dirty architecture, as i think","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>Maybe try to rework architect? Create new logic layer, that invoke method (for example, let's name it someMethodA(). It can be Service(logic layer above the repository of first entity) method. And you get result. And after this, you invoke another method of another service(with repository of another entity)\nYou can use pattern Action for this.\nBecause what you have written is a very dirty architecture, as i think</p>\n"}],"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76696998,"answer_count":3,"score":1,"last_activity_date":1689491331,"creation_date":1689400069,"question_id":76692401,"body_markdown":"Please note that a [similar question][1] asked, but the answer includes `Camel JPA` specific implementation.\r\n\r\nI have a two JPA entities Bo3 and Bo3Audit. In Bo3, there are some fields specified as audit fields. I don&#39;t want to take action for all the changes in Bo3, but only for the changes in those fields. When any of those fields&#39; data is inserted (not null) or updated for a particular row, I need to insert an entry in Bo3Audit with the field values.\r\n\r\n**Bo3**\r\n\r\n    @Entity // and other JPA annotations\r\n    public class Bo3 {\r\n      // persisted fields prop1, prop2, prop3\r\n\r\n      // prop1, prop2 are the audit fields\r\n      @Transient@JsonIgnore\r\n      private List&lt;String&gt; myAuditFields = List.of(&quot;prop1&quot;, &quot;prop2&quot;);\r\n\r\n      // A supplier which fetches all the getters for the audit fields\r\n      @Transient@JsonIgnore\r\n      Supplier&lt;Stream&lt;Method&gt;&gt; streamSupplier = () -&gt; Arrays.stream(Bo3Audit.class.getDeclaredFields())\r\n            .filter(f -&gt; myAuditFields.contains(f.getName()))\r\n            .map(f-&gt;Objects.requireNonNull(\r\n                    BeanUtils.findMethod(Bo3Audit.class, &quot;get&quot;+ StringUtils.capitalize(f.getName()))\r\n            ));\r\n\r\n    }\r\n\r\n**Bo3Audit**\r\n\r\n    @Entity // and other JPA annotations\r\n    public class Bo3Audit {\r\n      // persisted fields prop1, prop2 (only Bo3&#39;s audit fields)\r\n\r\n      @ManyToOne(lazy fetch)\r\n      private Bo3 bo3;\r\n    }\r\n\r\n**Bo3Audit Repository**\r\n\r\n    @Repository\r\n    public interface Bo3AuditRepository extends JpaRepository&lt;Bo3Audit, Long&gt; {\r\n        @Query(&quot;from Bo3Audit where bo3.id = :id order by createdAt desc&quot;)\r\n        List&lt;Bo3Audit&gt; findLastAudit(Long id, Pageable pageable);\r\n    }\r\n\r\n**PrePersist**\r\n\r\nThe `prePersist` listener in Bo3 **is working as expected**. If either prop1 or prop2 has a non null value, it inserts a row in Bo3Audit copying those values.\r\n\r\n      @PrePersist\r\n      public void prePersist() {\r\n        Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\r\n        streamSupplier.get().map(m-&gt; {\r\n                    try {\r\n                        return m.invoke(bo3Audit);\r\n                    } catch (IllegalAccessException | InvocationTargetException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                })\r\n                .filter(Objects::nonNull)\r\n                .findAny().ifPresent(value -&gt; {\r\n                    MyBeanUtils.getBean(Bo3AuditRepository.class).save(bo3Audit);\r\n                });\r\n      }\r\n\r\n**PostUpdate**\r\n\r\nBut the `postUpdate` listener **is failing** with `ConcurrentModificationException`.\r\n\r\n    @PostUpdate\r\n    public void postUpdate() {\r\n        Bo3AuditRepository repo = MyBeanUtils.getBean(Bo3AuditRepository.class);\r\n        Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\r\n        List&lt;Bo3Audit&gt; lastAudits = repo.findLastAudit(this.getId(), PageRequest.of(0,1));\r\n        ///\r\n        // Some logic using streamSupplier to check any one of the &quot;prop1&quot; and &quot;prop2&quot; value is changed.\r\n        ///\r\n        if (isChanged) {\r\n            repo.save(bo3Audit);\r\n        }\r\n    }\r\n\r\n**Notes:**\r\n\r\n - If `@PreUpdate` is used, a `StackOverFlow` error is throw somewhere around line `repo.findLastAudit(this.getId(), PageRequest.of(0,1));`\r\n - If the @PostUpdate listener annotation is removed and call the `postUpdate` method from business logic just after `bo3Repository.save(newBo3)` command, this is working fine. An audit \r\n   row is inserted if there is change in either &quot;prop1&quot; or &quot;prop2&quot;.\r\n\r\nBut I need the listener to work. Please suggest.\r\n\r\n**Some stack trace**\r\n\r\n    java.util.ConcurrentModificationException: null\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n    \tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1054)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:602)\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    \tat com.paanini.generated.app.jiffy.controller.defaultInternalServiceController$$EnhancerBySpringCGLIB$$cff4506b.UpdateBo3(&lt;generated&gt;)\r\n\r\n  [1]: https://stackoverflow.com/questions/42259733/how-to-write-data-into-table-after-hibernate-entitylistener-action-using-camel","title":"How to write data into another table after @PostUpdate action using Spring Data Jpa","body":"<p>Please note that a <a href=\"https://stackoverflow.com/questions/42259733/how-to-write-data-into-table-after-hibernate-entitylistener-action-using-camel\">similar question</a> asked, but the answer includes <code>Camel JPA</code> specific implementation.</p>\n<p>I have a two JPA entities Bo3 and Bo3Audit. In Bo3, there are some fields specified as audit fields. I don't want to take action for all the changes in Bo3, but only for the changes in those fields. When any of those fields' data is inserted (not null) or updated for a particular row, I need to insert an entry in Bo3Audit with the field values.</p>\n<p><strong>Bo3</strong></p>\n<pre><code>@Entity // and other JPA annotations\npublic class Bo3 {\n  // persisted fields prop1, prop2, prop3\n\n  // prop1, prop2 are the audit fields\n  @Transient@JsonIgnore\n  private List&lt;String&gt; myAuditFields = List.of(&quot;prop1&quot;, &quot;prop2&quot;);\n\n  // A supplier which fetches all the getters for the audit fields\n  @Transient@JsonIgnore\n  Supplier&lt;Stream&lt;Method&gt;&gt; streamSupplier = () -&gt; Arrays.stream(Bo3Audit.class.getDeclaredFields())\n        .filter(f -&gt; myAuditFields.contains(f.getName()))\n        .map(f-&gt;Objects.requireNonNull(\n                BeanUtils.findMethod(Bo3Audit.class, &quot;get&quot;+ StringUtils.capitalize(f.getName()))\n        ));\n\n}\n</code></pre>\n<p><strong>Bo3Audit</strong></p>\n<pre><code>@Entity // and other JPA annotations\npublic class Bo3Audit {\n  // persisted fields prop1, prop2 (only Bo3's audit fields)\n\n  @ManyToOne(lazy fetch)\n  private Bo3 bo3;\n}\n</code></pre>\n<p><strong>Bo3Audit Repository</strong></p>\n<pre><code>@Repository\npublic interface Bo3AuditRepository extends JpaRepository&lt;Bo3Audit, Long&gt; {\n    @Query(&quot;from Bo3Audit where bo3.id = :id order by createdAt desc&quot;)\n    List&lt;Bo3Audit&gt; findLastAudit(Long id, Pageable pageable);\n}\n</code></pre>\n<p><strong>PrePersist</strong></p>\n<p>The <code>prePersist</code> listener in Bo3 <strong>is working as expected</strong>. If either prop1 or prop2 has a non null value, it inserts a row in Bo3Audit copying those values.</p>\n<pre><code>  @PrePersist\n  public void prePersist() {\n    Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\n    streamSupplier.get().map(m-&gt; {\n                try {\n                    return m.invoke(bo3Audit);\n                } catch (IllegalAccessException | InvocationTargetException e) {\n                    throw new RuntimeException(e);\n                }\n            })\n            .filter(Objects::nonNull)\n            .findAny().ifPresent(value -&gt; {\n                MyBeanUtils.getBean(Bo3AuditRepository.class).save(bo3Audit);\n            });\n  }\n</code></pre>\n<p><strong>PostUpdate</strong></p>\n<p>But the <code>postUpdate</code> listener <strong>is failing</strong> with <code>ConcurrentModificationException</code>.</p>\n<pre><code>@PostUpdate\npublic void postUpdate() {\n    Bo3AuditRepository repo = MyBeanUtils.getBean(Bo3AuditRepository.class);\n    Bo3Audit bo3Audit = generateAudit(this); // copies prop1, prop2 and assign &quot;this&quot; to ManyToOne field bo3\n    List&lt;Bo3Audit&gt; lastAudits = repo.findLastAudit(this.getId(), PageRequest.of(0,1));\n    ///\n    // Some logic using streamSupplier to check any one of the &quot;prop1&quot; and &quot;prop2&quot; value is changed.\n    ///\n    if (isChanged) {\n        repo.save(bo3Audit);\n    }\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>If <code>@PreUpdate</code> is used, a <code>StackOverFlow</code> error is throw somewhere around line <code>repo.findLastAudit(this.getId(), PageRequest.of(0,1));</code></li>\n<li>If the @PostUpdate listener annotation is removed and call the <code>postUpdate</code> method from business logic just after <code>bo3Repository.save(newBo3)</code> command, this is working fine. An audit\nrow is inserted if there is change in either &quot;prop1&quot; or &quot;prop2&quot;.</li>\n</ul>\n<p>But I need the listener to work. Please suggest.</p>\n<p><strong>Some stack trace</strong></p>\n<pre><code>java.util.ConcurrentModificationException: null\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at java.base/java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1054)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:602)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.paanini.generated.app.jiffy.controller.defaultInternalServiceController$$EnhancerBySpringCGLIB$$cff4506b.UpdateBo3(&lt;generated&gt;)\n</code></pre>\n"},{"tags":["java","spring-boot","oauth","facebook-login"],"owner":{"account_id":26989929,"reputation":13,"user_id":20553003,"display_name":"Shubham Nigam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689491264,"creation_date":1689490446,"question_id":76697046,"body_markdown":"I tried to implement login using facebook and i want after logging in user directly redirected to dashboard.html page that i&#39;m unable to do please help me.\r\n\r\n\r\n\r\nbelow is the code for OAuthConfiguration\r\n\r\n**OAuth2Configuration.java**\r\n\r\n```\r\npackage com.org.config;\r\nimport org.springframework.boot.autoconfigure.security.oauth2.client.EnableOAuth2Sso;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n@EnableOAuth2Sso\r\n@Configuration\r\npublic class OAuth2Configuration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .antMatcher(&quot;/**&quot;)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n}\r\n```\r\n\r\nbelow is the code for MainController from index.html page /api will triggered and getUser method will run from here we are getting prinicipal user details\r\n**MainController.java**\r\n\r\n```\r\npackage com.org.controller;\r\n\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.security.Principal;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MainController {\r\n\r\n    @GetMapping\r\n    public Principal getUser(Principal user) {\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\nbelow is the code for index.html page contains one link for login with facebook and that im hiding it after successfull login\r\n**index.html**\r\n\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;/&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;/&gt;\r\n    &lt;title&gt;Demo&lt;/title&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;/&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\r\n    &lt;base href=&quot;/&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Demo&lt;/h1&gt;\r\n\r\n&lt;div class=&quot;container unauthenticated&quot;&gt;\r\n    Login With Facebook: &lt;a href=&quot;/login&quot;&gt;click here&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;container authenticated&quot; style=&quot;display:none&quot;&gt;\r\n    Logged into Facebook as: &lt;span id=&quot;user&quot;&gt;&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n    $.get(&quot;/api&quot;, function(data) {\r\n        $(&quot;#user&quot;).html(data.userAuthentication.details.name);\r\n        $(&quot;.unauthenticated&quot;).hide()\r\n        $(&quot;.authenticated&quot;).show()\r\n    });\r\n\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n**below is the code for application.yml file**\r\n```\r\nsecurity:\r\n  oauth2:\r\n    client:\r\n      clientId: 2180810022116587\r\n      clientSecret: 3ded0043a2b8300f0a8af44bbb531026\r\n      accessTokenUri: https://graph.facebook.com/oauth/access_token\r\n      userAuthorizationUri: https://www.facebook.com/dialog/oauth\r\n      tokenName: oauth_token\r\n      authenticationScheme: query\r\n      clientAuthenticationScheme: form\r\n    resource:\r\n      userInfoUri: https://graph.facebook.com/me\r\n\r\n\r\n\r\n```\r\n\r\n**[Link for latest code][1]**\r\n\r\n\r\n  [1]: https://github.com/daadestroyer/meta-login-spring","title":"How to redirect user to dashboard.html page after facebook login","body":"<p>I tried to implement login using facebook and i want after logging in user directly redirected to dashboard.html page that i'm unable to do please help me.</p>\n<p>below is the code for OAuthConfiguration</p>\n<p><strong>OAuth2Configuration.java</strong></p>\n<pre><code>package com.org.config;\nimport org.springframework.boot.autoconfigure.security.oauth2.client.EnableOAuth2Sso;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@EnableOAuth2Sso\n@Configuration\npublic class OAuth2Configuration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;, &quot;/login**&quot;, &quot;/webjars/**&quot;, &quot;/error**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n}\n</code></pre>\n<p>below is the code for MainController from index.html page /api will triggered and getUser method will run from here we are getting prinicipal user details\n<strong>MainController.java</strong></p>\n<pre><code>package com.org.controller;\n\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.security.Principal;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MainController {\n\n    @GetMapping\n    public Principal getUser(Principal user) {\n        return user;\n    }\n}\n</code></pre>\n<p>below is the code for index.html page contains one link for login with facebook and that im hiding it after successfull login\n<strong>index.html</strong></p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;/&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;/&gt;\n    &lt;title&gt;Demo&lt;/title&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;/&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\n    &lt;base href=&quot;/&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Demo&lt;/h1&gt;\n\n&lt;div class=&quot;container unauthenticated&quot;&gt;\n    Login With Facebook: &lt;a href=&quot;/login&quot;&gt;click here&lt;/a&gt;\n&lt;/div&gt;\n&lt;div class=&quot;container authenticated&quot; style=&quot;display:none&quot;&gt;\n    Logged into Facebook as: &lt;span id=&quot;user&quot;&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n    $.get(&quot;/api&quot;, function(data) {\n        $(&quot;#user&quot;).html(data.userAuthentication.details.name);\n        $(&quot;.unauthenticated&quot;).hide()\n        $(&quot;.authenticated&quot;).show()\n    });\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p><strong>below is the code for application.yml file</strong></p>\n<pre><code>security:\n  oauth2:\n    client:\n      clientId: 2180810022116587\n      clientSecret: 3ded0043a2b8300f0a8af44bbb531026\n      accessTokenUri: https://graph.facebook.com/oauth/access_token\n      userAuthorizationUri: https://www.facebook.com/dialog/oauth\n      tokenName: oauth_token\n      authenticationScheme: query\n      clientAuthenticationScheme: form\n    resource:\n      userInfoUri: https://graph.facebook.com/me\n\n\n\n</code></pre>\n<p><strong><a href=\"https://github.com/daadestroyer/meta-login-spring\" rel=\"nofollow noreferrer\">Link for latest code</a></strong></p>\n"},{"tags":["java","xml","jaxb","apache-axis","axis2c"],"answers":[{"tags":[],"owner":{"account_id":12519280,"reputation":29,"user_id":9111244,"display_name":"Philipp2706"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689263920,"creation_date":1689263920,"answer_id":76681326,"question_id":76670848,"body_markdown":"I have discovered that the parse(..)-method only stored the XML string in the object, but the attributes were not set. \r\n\r\nThe &quot;xmlText()&quot; method allows retrieving the string stored in the object, which was also outputted by the &quot;toString()&quot; method. For this reason I wrongly assumed that the attributes were set in the object. No error message is logged during parsing which would indicate this.\r\n\r\nI modified the input XML string, adding a required XML prefix to all tags in the XML string, and now it works.","title":"Difficulty unmarshalling an XML string into an AXIS2/xmlbeans generated object","body":"<p>I have discovered that the parse(..)-method only stored the XML string in the object, but the attributes were not set.</p>\n<p>The &quot;xmlText()&quot; method allows retrieving the string stored in the object, which was also outputted by the &quot;toString()&quot; method. For this reason I wrongly assumed that the attributes were set in the object. No error message is logged during parsing which would indicate this.</p>\n<p>I modified the input XML string, adding a required XML prefix to all tags in the XML string, and now it works.</p>\n"}],"owner":{"account_id":12519280,"reputation":29,"user_id":9111244,"display_name":"Philipp2706"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76681326,"answer_count":1,"score":-1,"last_activity_date":1689491203,"creation_date":1689166707,"question_id":76670848,"body_markdown":"I am currently facing an issue with converting an XML string into an object generated with AXIS2 and JAXB (unmarshalling). I&#39;m having trouble accessing the attributes of the object using the getter methods. Strangely, all the getter methods of the printResult object return null values. However, when I invoke the toString() method, the complete object with all the set values is displayed.\r\n\r\nI&#39;m perplexed about why the getter methods are not returning any values and how I can retrieve the attributes using the getter methods. Any help or suggestions would be greatly appreciated.\r\n\r\nThank you in advance!\r\n\r\n    PrintResultType printResult = PrintResultType.Factory.parse(xmlResponse);  \r\n\r\n    PrintDetailsType[] arr = printResult.getPrintDetailsArray();  \r\n\r\n    log.info(&quot;arr == null: &quot; + (arr == null) + &quot; arr size: &quot; + arr.length);\r\n    // arr == null ? : false arr size 0\r\n\r\n    BaggageType baggageType = printResult.getBaggageType();\r\n    log.info(&quot;BaggageType == null: &quot; + (BaggageType == null));\r\n    // BaggageType == null : true\r\n\r\n    log.info((&quot;Unmarshalled printResult:\\n&quot; + printResult.toString()));\r\n    // The object is logged with all subobjects and array","title":"Difficulty unmarshalling an XML string into an AXIS2/xmlbeans generated object","body":"<p>I am currently facing an issue with converting an XML string into an object generated with AXIS2 and JAXB (unmarshalling). I'm having trouble accessing the attributes of the object using the getter methods. Strangely, all the getter methods of the printResult object return null values. However, when I invoke the toString() method, the complete object with all the set values is displayed.</p>\n<p>I'm perplexed about why the getter methods are not returning any values and how I can retrieve the attributes using the getter methods. Any help or suggestions would be greatly appreciated.</p>\n<p>Thank you in advance!</p>\n<pre><code>PrintResultType printResult = PrintResultType.Factory.parse(xmlResponse);  \n\nPrintDetailsType[] arr = printResult.getPrintDetailsArray();  \n\nlog.info(&quot;arr == null: &quot; + (arr == null) + &quot; arr size: &quot; + arr.length);\n// arr == null ? : false arr size 0\n\nBaggageType baggageType = printResult.getBaggageType();\nlog.info(&quot;BaggageType == null: &quot; + (BaggageType == null));\n// BaggageType == null : true\n\nlog.info((&quot;Unmarshalled printResult:\\n&quot; + printResult.toString()));\n// The object is logged with all subobjects and array\n</code></pre>\n"},{"tags":["java","spring-boot","rest","oauth-2.0","webclient"],"answers":[{"tags":[],"owner":{"account_id":23348247,"reputation":51,"user_id":17422188,"display_name":"Ehsan Abu Lebdeh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637018348,"creation_date":1637012387,"answer_id":69981222,"question_id":69290452,"body_markdown":"You can use \r\n\r\n      webClient.get()\r\n      .uri(&quot;http://localhost:8084/retrieve-resource&quot;)\r\n      .attributes(\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction\r\n          .clientRegistrationId(&quot;bael&quot;))\r\n      .retrieve()\r\n      // ...\r\n\r\nhere is the full code:\r\nhttps://www.baeldung.com/spring-webclient-oauth2\r\n\r\n","title":"WebClient with ClientRegistrationId as request attribute (using OAuth 2.0)","body":"<p>You can use</p>\n<pre><code>  webClient.get()\n  .uri(&quot;http://localhost:8084/retrieve-resource&quot;)\n  .attributes(\n    ServerOAuth2AuthorizedClientExchangeFilterFunction\n      .clientRegistrationId(&quot;bael&quot;))\n  .retrieve()\n  // ...\n</code></pre>\n<p>here is the full code:\n<a href=\"https://www.baeldung.com/spring-webclient-oauth2\" rel=\"noreferrer\">https://www.baeldung.com/spring-webclient-oauth2</a></p>\n"},{"tags":[],"owner":{"account_id":3848153,"reputation":41,"user_id":3188964,"display_name":"user3188964"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648842107,"creation_date":1648842107,"answer_id":71712046,"question_id":69290452,"body_markdown":"This is a configuration that you need from the example you mentionned:\r\n\r\nAuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager \r\n\r\nserverWebExchange cannot be null\r\nis thrown when a webClient call is made triggered by something else than a user action, example kafka event trigger a webClient call, so there is not Request Context.\r\n\r\nAuthorizedClientService... bean is defined to account for webClient call  triggered by events, scheduled tasks threads.\r\n\r\nservice to service communication\r\n\r\n","title":"WebClient with ClientRegistrationId as request attribute (using OAuth 2.0)","body":"<p>This is a configuration that you need from the example you mentionned:</p>\n<p>AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager</p>\n<p>serverWebExchange cannot be null\nis thrown when a webClient call is made triggered by something else than a user action, example kafka event trigger a webClient call, so there is not Request Context.</p>\n<p>AuthorizedClientService... bean is defined to account for webClient call  triggered by events, scheduled tasks threads.</p>\n<p>service to service communication</p>\n"}],"owner":{"account_id":15856551,"reputation":71,"user_id":11440806,"display_name":"TimeBandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2805,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1689491136,"creation_date":1632340236,"question_id":69290452,"body_markdown":"I&#39;m searching for a working example, where I can set the ClientRegistrationId when I add the request attributes to the WebClient. The provided examples by spring.io don&#39;t work for me ([docs.spring.io (5.2.12)][1]).\r\n\r\nWhen I try this example (with default ClientRegistrationId):\r\n\r\n```\r\n@Bean\r\nWebClient webClient(ReactiveClientRegistrationRepository clientRegistrations,\r\n        ServerOAuth2AuthorizedClientRepository authorizedClients) {\r\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n            new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations, authorizedClients);\r\n    // (optional) explicitly opt into using the oauth2Login to provide an access token implicitly\r\n    // oauth.setDefaultOAuth2AuthorizedClient(true);\r\n    // (optional) set a default ClientRegistration.registrationId\r\n    oauth.setDefaultClientRegistrationId(&quot;MyClRegId&quot;);\r\n    return WebClient.builder()\r\n            .filter(oauth)\r\n            .build();\r\n}\r\n```\r\nCalling the endpoint:\r\n```\r\nResponseSpec responseSpec = this.webClient.get().uri(&quot;/NumberOrders&quot;).retrieve();\r\n```\r\nApplication.Properties:\r\n```\r\nspring.security.oauth2.client.registration.MyClRegId.authorization-grant-type=client_credentials\r\nspring.security.oauth2.client.registration.MyClRegId.client-id=myteam\r\nspring.security.oauth2.client.registration.MyClRegId.client-secret=12349875\r\nspring.security.oauth2.client.provider.MyClRegId.token-uri=https://something/token\r\nspring.security.oauth2.client.registration.MyClRegId.scope=OIDC\r\n```\r\n\r\nI&#39;m getting the following error:\r\n\r\n*Caused by: java.lang.IllegalArgumentException: serverWebExchange cannot be null*\r\n\r\nIf I try to set the ClientRegestrationId as a request attribute accordingly the spring.io example ([docs.spring.io (5.2.12)][2]) there occurs another error (The Method clientRegistrationId(String) is undefined ...):\r\n\r\n```\r\nResponseSpec responseSpec = this.webClient\r\n\t\t.get()\r\n\t\t.attributes(clientRegistrationId(&quot;client-id&quot;))\r\n\t\t.uri(&quot;/NumberOrders&quot;)\r\n\t\t.retrieve();\r\n```\r\nThis error is no surprise, because the method really doesn&#39;t exist, but does anybody has an example for such a method? Attributes requires ***Consumer&lt;Map&lt;String, Object&gt;&gt; attributesConsumer*** as input to set ClientRegistrationId. Of course it should work without the first error (*serverWebExchange cannot be null*).\r\n\r\nI found a working setup here [WebClient OAuth2][3] (answer by clocken), but ClientRegistrationId is set in a Bean. I would like to set it, while calling the endpoint. So I can use different configurations (with different ClientRegistrationIds) in my application.properties.\r\n\r\nMaybe there is a way to set ClientRegistrationId while setting up the WebClient.Builder?\r\n\r\nI searched a lot, but I couldn&#39;t find any answer. Thanks for help in advance.\r\n\r\nI&#39;m using this dependencies:\r\n\r\n```\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n\t&lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-setup\r\n  [2]: https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-clientregistrationid\r\n  [3]: https://stackoverflow.com/a/67045987/11440806","title":"WebClient with ClientRegistrationId as request attribute (using OAuth 2.0)","body":"<p>I'm searching for a working example, where I can set the ClientRegistrationId when I add the request attributes to the WebClient. The provided examples by spring.io don't work for me (<a href=\"https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-setup\" rel=\"nofollow noreferrer\">docs.spring.io (5.2.12)</a>).</p>\n<p>When I try this example (with default ClientRegistrationId):</p>\n<pre><code>@Bean\nWebClient webClient(ReactiveClientRegistrationRepository clientRegistrations,\n        ServerOAuth2AuthorizedClientRepository authorizedClients) {\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n            new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations, authorizedClients);\n    // (optional) explicitly opt into using the oauth2Login to provide an access token implicitly\n    // oauth.setDefaultOAuth2AuthorizedClient(true);\n    // (optional) set a default ClientRegistration.registrationId\n    oauth.setDefaultClientRegistrationId(&quot;MyClRegId&quot;);\n    return WebClient.builder()\n            .filter(oauth)\n            .build();\n}\n</code></pre>\n<p>Calling the endpoint:</p>\n<pre><code>ResponseSpec responseSpec = this.webClient.get().uri(&quot;/NumberOrders&quot;).retrieve();\n</code></pre>\n<p>Application.Properties:</p>\n<pre><code>spring.security.oauth2.client.registration.MyClRegId.authorization-grant-type=client_credentials\nspring.security.oauth2.client.registration.MyClRegId.client-id=myteam\nspring.security.oauth2.client.registration.MyClRegId.client-secret=12349875\nspring.security.oauth2.client.provider.MyClRegId.token-uri=https://something/token\nspring.security.oauth2.client.registration.MyClRegId.scope=OIDC\n</code></pre>\n<p>I'm getting the following error:</p>\n<p><em>Caused by: java.lang.IllegalArgumentException: serverWebExchange cannot be null</em></p>\n<p>If I try to set the ClientRegestrationId as a request attribute accordingly the spring.io example (<a href=\"https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/webclient.html#webclient-clientregistrationid\" rel=\"nofollow noreferrer\">docs.spring.io (5.2.12)</a>) there occurs another error (The Method clientRegistrationId(String) is undefined ...):</p>\n<pre><code>ResponseSpec responseSpec = this.webClient\n        .get()\n        .attributes(clientRegistrationId(&quot;client-id&quot;))\n        .uri(&quot;/NumberOrders&quot;)\n        .retrieve();\n</code></pre>\n<p>This error is no surprise, because the method really doesn't exist, but does anybody has an example for such a method? Attributes requires <em><strong>Consumer&lt;Map&lt;String, Object&gt;&gt; attributesConsumer</strong></em> as input to set ClientRegistrationId. Of course it should work without the first error (<em>serverWebExchange cannot be null</em>).</p>\n<p>I found a working setup here <a href=\"https://stackoverflow.com/a/67045987/11440806\">WebClient OAuth2</a> (answer by clocken), but ClientRegistrationId is set in a Bean. I would like to set it, while calling the endpoint. So I can use different configurations (with different ClientRegistrationIds) in my application.properties.</p>\n<p>Maybe there is a way to set ClientRegistrationId while setting up the WebClient.Builder?</p>\n<p>I searched a lot, but I couldn't find any answer. Thanks for help in advance.</p>\n<p>I'm using this dependencies:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","webclient","spring-security-oauth2"],"comments":[{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":1,"creation_date":1626500344,"post_id":68416863,"comment_id":120914788,"body_markdown":"A similar exception has been reported on github - https://github.com/spring-projects/spring-security/issues/8230. May be you could take a look at that and figure out an equivalent approach for your case? Not really an answer. Just a pointer to a potentially helpful hint .","body":"A similar exception has been reported on github - <a href=\"https://github.com/spring-projects/spring-security/issues/8230\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/8230</a>. May be you could take a look at that and figure out an equivalent approach for your case? Not really an answer. Just a pointer to a potentially helpful hint ."},{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1626500583,"post_id":68416863,"comment_id":120914825,"body_markdown":"Another similar looking error on gitmemory - https://www.gitmemory.com/issue/spring-projects/spring-security/8444/621567261. Quote `However, switching the ServerOAuth2AuthorizedClientRepository to a ReactiveOAuth2AuthorizedClientService makes the code run.`","body":"Another similar looking error on gitmemory - <a href=\"https://www.gitmemory.com/issue/spring-projects/spring-security/8444/621567261\" rel=\"nofollow noreferrer\">gitmemory.com/issue/spring-projects/spring-security/8444/&hellip;</a>. Quote <code>However, switching the ServerOAuth2AuthorizedClientRepository to a ReactiveOAuth2AuthorizedClientService makes the code run.</code>"}],"answers":[{"tags":[],"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689490819,"creation_date":1689490819,"answer_id":76697062,"question_id":68416863,"body_markdown":"This is how I impletemented for one of my springboot application which is reactive using webflux, springboot version 2.6.5, and operates outside of the context of a ServerWebExchange, e.g. in a scheduled/background thread and/or in the service-tier. \r\n\r\nThe minimal configurations are:\r\n\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.client.reactive.ReactorClientHttpConnector;\r\n    import org.springframework.security.oauth2.client.*;\r\n    import org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    \r\n    @Configuration\r\n    @Slf4j\r\n    public class MyWebClient {\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;someWebClient&quot;) // -----&gt; 1\r\n        public WebClient someWebClient(ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\r\n            ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n                    new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n            return WebClient.builder().filter(oauth).build();\r\n        }\r\n    \r\n        @Bean\r\n        public ReactiveOAuth2AuthorizedClientManager authorizedClientManager(\r\n                ReactiveClientRegistrationRepository clientRegistrationRepository,\r\n                ReactiveOAuth2AuthorizedClientService authorizedClientService) { // -----&gt; 2, 3\r\n            ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                    ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build(); // -----&gt; 4\r\n            AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\r\n                    new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrationRepository,\r\n                                                                                     authorizedClientService);\r\n            authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider); // -----&gt; 5\r\n            return authorizedClientManager;\r\n        }\r\n    }\r\n\r\n\r\n**application.yaml**\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              my-token-provider:\r\n                token-uri: https://uri-used-to-generate-token\r\n            registration:\r\n              my-token-clientid:\r\n                authorization-grant-type: client_credentials\r\n                client-authentication-method: post\r\n                client-id: clientIdReplacewithYour\r\n                client-secret: clientSecretReplaceWithYour\r\n                provider: my-token-provider\r\n\r\n\r\n**Using webClient:**\r\n\r\n    return webClient\r\n                .method(method)\r\n                .uri(uri)\r\n                .body(Mono.justOrEmpty(requestBody), Object.class)\r\n                .headers(headers)\r\n                .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(clientId)) // -----&gt; 6\r\n                .exchangeToMono(responseHandler);\r\n\r\n\r\nsome details as pointed as comments in the above code:\r\n\r\n 1. created the WebClient bean with a qualifier `&quot;someWebClient&quot;` as I want to use that qualifier in another class while injecting\r\n 2. `ReactiveClientRegistrationRepository clientRegistrationRepository` will be auto created and passed by springboot with the default configurations\r\n 3. `ReactiveOAuth2AuthorizedClientService authorizedClientService` will be auto created and passed by springboot with the default configurations\r\n 4. I used the clientCredentials() as I am using machine-machine, AKS operating outside of the context of a ServerWebExchange, AKS without a controller, etc. This line is optional as this already pre-defined in `AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager` class like `private static final ReactiveOAuth2AuthorizedClientProvider DEFAULT_AUTHORIZED_CLIENT_PROVIDER = ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build();`\r\n 5. `authorizedClientManager.setAuthorizedClientProvider` - use this if you built your own `ReactiveOAuth2AuthorizedClientProvider` and want to use it by default. If you want to use springboot out of the box config, don&#39;t add this and point 4 in the code.\r\n 6. pass the clientId as a parameter - if you have multiple clientId&#39;s in application.yaml, you can send clientId as a parameter. ","title":"Java - Getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient","body":"<p>This is how I impletemented for one of my springboot application which is reactive using webflux, springboot version 2.6.5, and operates outside of the context of a ServerWebExchange, e.g. in a scheduled/background thread and/or in the service-tier.</p>\n<p>The minimal configurations are:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\nimport org.springframework.security.oauth2.client.*;\nimport org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n\n@Configuration\n@Slf4j\npublic class MyWebClient {\n\n    @Bean\n    @Qualifier(&quot;someWebClient&quot;) // -----&gt; 1\n    public WebClient someWebClient(ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        return WebClient.builder().filter(oauth).build();\n    }\n\n    @Bean\n    public ReactiveOAuth2AuthorizedClientManager authorizedClientManager(\n            ReactiveClientRegistrationRepository clientRegistrationRepository,\n            ReactiveOAuth2AuthorizedClientService authorizedClientService) { // -----&gt; 2, 3\n        ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\n                ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build(); // -----&gt; 4\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\n                new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrationRepository,\n                                                                                 authorizedClientService);\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider); // -----&gt; 5\n        return authorizedClientManager;\n    }\n}\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          my-token-provider:\n            token-uri: https://uri-used-to-generate-token\n        registration:\n          my-token-clientid:\n            authorization-grant-type: client_credentials\n            client-authentication-method: post\n            client-id: clientIdReplacewithYour\n            client-secret: clientSecretReplaceWithYour\n            provider: my-token-provider\n</code></pre>\n<p><strong>Using webClient:</strong></p>\n<pre><code>return webClient\n            .method(method)\n            .uri(uri)\n            .body(Mono.justOrEmpty(requestBody), Object.class)\n            .headers(headers)\n            .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(clientId)) // -----&gt; 6\n            .exchangeToMono(responseHandler);\n</code></pre>\n<p>some details as pointed as comments in the above code:</p>\n<ol>\n<li>created the WebClient bean with a qualifier <code>&quot;someWebClient&quot;</code> as I want to use that qualifier in another class while injecting</li>\n<li><code>ReactiveClientRegistrationRepository clientRegistrationRepository</code> will be auto created and passed by springboot with the default configurations</li>\n<li><code>ReactiveOAuth2AuthorizedClientService authorizedClientService</code> will be auto created and passed by springboot with the default configurations</li>\n<li>I used the clientCredentials() as I am using machine-machine, AKS operating outside of the context of a ServerWebExchange, AKS without a controller, etc. This line is optional as this already pre-defined in <code>AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager</code> class like <code>private static final ReactiveOAuth2AuthorizedClientProvider DEFAULT_AUTHORIZED_CLIENT_PROVIDER = ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build();</code></li>\n<li><code>authorizedClientManager.setAuthorizedClientProvider</code> - use this if you built your own <code>ReactiveOAuth2AuthorizedClientProvider</code> and want to use it by default. If you want to use springboot out of the box config, don't add this and point 4 in the code.</li>\n<li>pass the clientId as a parameter - if you have multiple clientId's in application.yaml, you can send clientId as a parameter.</li>\n</ol>\n"}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689490819,"creation_date":1626487387,"question_id":68416863,"body_markdown":"I am getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient. Here is my configuration class:\r\n\r\n    @Configuration\r\n    public class myonfig {\r\n      @Bean\r\n      ReactiveClientRegistrationRepository clientRegistrations() {\r\n        ClientRegistration registration = \r\n          ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\r\n                            .tokenUri(tokenUri)\r\n                            .clientId(clientId)\r\n                            .clientSecret(clientSecret)\r\n                            .scope(scope)\r\n                            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n                            .build();\r\n        \r\n          return new InMemoryReactiveClientRegistrationRepository(registration);\r\n          }\r\n\r\n        @Bean(name = &quot;mybean&quot;)\r\n        WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n\r\n        InMemoryReactiveOAuth2AuthorizedClientService clientService = \r\n           new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\r\n\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new \r\n           ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations,\r\n                                                                                                                          new AuthenticatedPrincipalServerOAuth2AuthorizedClientRepository(clientService));\r\n\r\n        oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\r\n\r\n        return WebClient.builder()\r\n                        .filter(oauth)                     \r\n                        .defaultHeaders(httpHeaders -&gt; {\r\n                            httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n                            httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\r\n                        })\r\n                        .build();\r\n     }\r\n\r\n   And the class making the call:\r\n\r\n    {\r\n       ResponseEntity&lt;String&gt; responseEntity;\r\n        try {\r\n            responseEntity = webClient.post()\r\n                    .uri(url)\r\n                    .body(BodyInserters.fromValue(valueString))\r\n                    .retrieve()\r\n                    .toEntity(String.class)\r\n                    .block();\r\n      }\r\n\r\n   Tried to do some research on serverWebExchange, but didn&#39;t find how to use it.  Can someone please let me know why I am getting this error. Thanks.","title":"Java - Getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient","body":"<p>I am getting &quot;serverWebExchange cannot be null&quot; when sending request using Spring Security WebClient. Here is my configuration class:</p>\n<pre><code>@Configuration\npublic class myonfig {\n  @Bean\n  ReactiveClientRegistrationRepository clientRegistrations() {\n    ClientRegistration registration = \n      ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\n                        .tokenUri(tokenUri)\n                        .clientId(clientId)\n                        .clientSecret(clientSecret)\n                        .scope(scope)\n                        .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n                        .build();\n    \n      return new InMemoryReactiveClientRegistrationRepository(registration);\n      }\n\n    @Bean(name = &quot;mybean&quot;)\n    WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n\n    InMemoryReactiveOAuth2AuthorizedClientService clientService = \n       new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new \n       ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations,\n                                                                                                                      new AuthenticatedPrincipalServerOAuth2AuthorizedClientRepository(clientService));\n\n    oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\n\n    return WebClient.builder()\n                    .filter(oauth)                     \n                    .defaultHeaders(httpHeaders -&gt; {\n                        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n                        httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\n                    })\n                    .build();\n }\n</code></pre>\n<p>And the class making the call:</p>\n<pre><code>{\n   ResponseEntity&lt;String&gt; responseEntity;\n    try {\n        responseEntity = webClient.post()\n                .uri(url)\n                .body(BodyInserters.fromValue(valueString))\n                .retrieve()\n                .toEntity(String.class)\n                .block();\n  }\n</code></pre>\n<p>Tried to do some research on serverWebExchange, but didn't find how to use it.  Can someone please let me know why I am getting this error. Thanks.</p>\n"},{"tags":["java","spring-boot","docker","intellij-idea","docker-image"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1689579396,"post_id":76697058,"comment_id":135227792,"body_markdown":"Please upload your project at https://uploads.jetbrains.com and share the UploadID here. I&#39;ve checked the guide above from my side and it worked fine. Ensure the you completed all the steps from the guide","body":"Please upload your project at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the UploadID here. I&#39;ve checked the guide above from my side and it worked fine. Ensure the you completed all the steps from the guide"}],"owner":{"account_id":29026448,"reputation":1,"user_id":22234485,"display_name":"subhransu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689490722,"creation_date":1689490722,"question_id":76697058,"body_markdown":"I am trying to containerize one application using docker. But getting java.lang.NullPointerException while running the dockerfile. Can anyone please help in resolving it?\r\n\r\n[Project Structure](https://i.stack.imgur.com/yaHCV.png)\r\n\r\n**Helloworld.java**\r\n-------------------\r\n\r\n```\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Dockerfile**\r\n----------------\r\n```\r\nFROM amazoncorretto:11.0.14\r\nCOPY ./out/production/DockerHelloWorld/ /tmp\r\nWORKDIR /tmp\r\nENTRYPOINT [&quot;java&quot;,&quot;HelloWorld&quot;]\r\n```\r\n\r\n[Response while running the dockerfile](https://i.stack.imgur.com/pzuUl.png)\r\n\r\n\r\nI am trying to follow below link [https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container][Dockerize a java application](https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container)","title":"Unable to create docker image in intellij","body":"<p>I am trying to containerize one application using docker. But getting java.lang.NullPointerException while running the dockerfile. Can anyone please help in resolving it?</p>\n<p><a href=\"https://i.stack.imgur.com/yaHCV.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<h2><strong>Helloworld.java</strong></h2>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<h2><strong>Dockerfile</strong></h2>\n<pre><code>FROM amazoncorretto:11.0.14\nCOPY ./out/production/DockerHelloWorld/ /tmp\nWORKDIR /tmp\nENTRYPOINT [&quot;java&quot;,&quot;HelloWorld&quot;]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pzuUl.png\" rel=\"nofollow noreferrer\">Response while running the dockerfile</a></p>\n<p>I am trying to follow below link [https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container]<a href=\"https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container\" rel=\"nofollow noreferrer\">Dockerize a java application</a></p>\n"},{"tags":["java","selenium-chromedriver"],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689490277,"creation_date":1689490277,"question_id":76697032,"body_markdown":"**Need:** To download CSV file from website - [Link][1]. I am using Selenium to simulate the browser behavior as the download file is controlled by a Javascript\r\n\r\n**Issue:** The download works fine a few times, but throws an error (Access Denied) as per attached image on other times. \r\n[![enter image description here][2]][2]\r\n\r\nI am unable to figure out, why it works sometimes &amp; on other occasions it issues error, although I do not change anything. Hope the issue faced is clear, await inputs on what might be causing this &amp; if I can do anything to fix it at my end.\r\n\r\n**Code:**\r\n\r\n    public static void main(String[] args) {\r\n            String url = &quot;https://www.nseindia.com/companies-listing/corporate-filings-event-calendar&quot;;\r\n            String elementId = &quot;CFeventCalendar-download&quot;;\r\n    \r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path_to_chromedriver&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n    \r\n            try {\r\n                driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    \r\n                driver.get(url);\r\n    \r\n                // Find the element with the specified ID\r\n                driver.findElement(By.id(elementId)).click();\r\n    \r\n                // Add a small delay to let the download start\r\n                Thread.sleep(5000);\r\n    \r\n                System.out.println(&quot;File downloaded successfully!&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                driver.quit();\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://www.nseindia.com/companies-listing/corporate-filings-event-calendar\r\n  [2]: https://i.stack.imgur.com/4hw6g.png","title":"Selenium - Issue with download of file","body":"<p><strong>Need:</strong> To download CSV file from website - <a href=\"https://www.nseindia.com/companies-listing/corporate-filings-event-calendar\" rel=\"nofollow noreferrer\">Link</a>. I am using Selenium to simulate the browser behavior as the download file is controlled by a Javascript</p>\n<p><strong>Issue:</strong> The download works fine a few times, but throws an error (Access Denied) as per attached image on other times.\n<a href=\"https://i.stack.imgur.com/4hw6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4hw6g.png\" alt=\"enter image description here\" /></a></p>\n<p>I am unable to figure out, why it works sometimes &amp; on other occasions it issues error, although I do not change anything. Hope the issue faced is clear, await inputs on what might be causing this &amp; if I can do anything to fix it at my end.</p>\n<p><strong>Code:</strong></p>\n<pre><code>public static void main(String[] args) {\n        String url = &quot;https://www.nseindia.com/companies-listing/corporate-filings-event-calendar&quot;;\n        String elementId = &quot;CFeventCalendar-download&quot;;\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path_to_chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n\n        try {\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n\n            driver.get(url);\n\n            // Find the element with the specified ID\n            driver.findElement(By.id(elementId)).click();\n\n            // Add a small delay to let the download start\n            Thread.sleep(5000);\n\n            System.out.println(&quot;File downloaded successfully!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            driver.quit();\n        }\n    }\n</code></pre>\n"},{"tags":["java","excel","spring-mvc","testing","file-upload"],"comments":[{"owner":{"account_id":2218864,"reputation":416,"user_id":1958835,"accept_rate":100,"display_name":"Igorovics"},"score":0,"creation_date":1689236673,"post_id":76671676,"comment_id":135185625,"body_markdown":"Have you tried the example from the Github page? See https://github.com/jupiter-tools/mvc-requester#upload-the-multipartfile link.","body":"Have you tried the example from the Github page? See <a href=\"https://github.com/jupiter-tools/mvc-requester#upload-the-multipartfile\" rel=\"nofollow noreferrer\">github.com/jupiter-tools/mvc-requester#upload-the-multipartf&zwnj;&#8203;ile</a> link."},{"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"score":0,"creation_date":1689488958,"post_id":76671676,"comment_id":135218757,"body_markdown":"@Igorovics yeah, i tried.\nThank you for some attention. I resolve this problem)","body":"@Igorovics yeah, i tried. Thank you for some attention. I resolve this problem)"}],"answers":[{"tags":[],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689489337,"creation_date":1689489337,"answer_id":76696989,"question_id":76671676,"body_markdown":"            byte[] response = MvcRequester.on(mockMvc)\r\n                                      .to(&quot;/api/reports/complaints/full&quot;)\r\n                                      .get()\r\n                                      .doExpect(status().isOk())\r\n                                      .returnResponse()\r\n                                      .getContentAsByteArray();\r\n\r\nchange dependency to (before i used not this dependency, it was custom dependency with same appointment)\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jupiter-tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mvc-requester&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThen i got response as byte array, i can compare it with expected file as i wish. ","title":"testing excel-file download by request","body":"<pre><code>        byte[] response = MvcRequester.on(mockMvc)\n                                  .to(&quot;/api/reports/complaints/full&quot;)\n                                  .get()\n                                  .doExpect(status().isOk())\n                                  .returnResponse()\n                                  .getContentAsByteArray();\n</code></pre>\n<p>change dependency to (before i used not this dependency, it was custom dependency with same appointment)</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.jupiter-tools&lt;/groupId&gt;\n        &lt;artifactId&gt;mvc-requester&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then i got response as byte array, i can compare it with expected file as i wish.</p>\n"}],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76696989,"answer_count":1,"score":1,"last_activity_date":1689489337,"creation_date":1689172137,"question_id":76671676,"body_markdown":"```\r\n MvcRequester.on(mockMvc)\r\n             .to(&quot;/api/reports/complaints/full&quot;)                                        \r\n             .get()\r\n             .doExpect(status().isOk())\r\n             .returnAs(MultipartFile.class); //drop here, tried to use File, InputStream, FileInputStream\r\n```\r\n\r\nI this is the part of the test that makes sending the request to the endpoint. An excel file comes from this endpoint. Please tell me how to write the response into a variable.  \r\n[here is response body and exception](https://i.stack.imgur.com/rxL8I.png).   \r\nI use custom library for inject file into response. It&#39;s work correct 100%.  \r\n  \r\nHere is end of controller method with adding file into response\r\n\r\n```\r\n@GetMapping(&quot;/complaints/full&quot;)\r\n    @ResponseBody\r\n    public void getComplaintsFullReport(SearchComplaintDto dto,\r\n                                        HttpServletResponse servletResponse) {\r\n\r\n        SearchComplaintArgument argument = complaintMapper.toSearchArgument(dto);\r\n\r\n        File file = buildComplaintsReportAction.execute(argument);\r\n        FileResponse.builder()\r\n                    .file(file)\r\n                    .filename(&quot;Report_&quot;\r\n                                      .concat(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy_HH.mm&quot;)))\r\n                                      .concat(&quot;.xlsx&quot;))\r\n                    .mimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\r\n                    .response(servletResponse)\r\n                    .build();\r\n    }\r\n```\r\n\r\nAnswer to the question &quot;How can i write the response into a variable?&quot;.","title":"testing excel-file download by request","body":"<pre><code> MvcRequester.on(mockMvc)\n             .to(&quot;/api/reports/complaints/full&quot;)                                        \n             .get()\n             .doExpect(status().isOk())\n             .returnAs(MultipartFile.class); //drop here, tried to use File, InputStream, FileInputStream\n</code></pre>\n<p>I this is the part of the test that makes sending the request to the endpoint. An excel file comes from this endpoint. Please tell me how to write the response into a variable.<br />\n<a href=\"https://i.stack.imgur.com/rxL8I.png\" rel=\"nofollow noreferrer\">here is response body and exception</a>.<br />\nI use custom library for inject file into response. It's work correct 100%.</p>\n<p>Here is end of controller method with adding file into response</p>\n<pre><code>@GetMapping(&quot;/complaints/full&quot;)\n    @ResponseBody\n    public void getComplaintsFullReport(SearchComplaintDto dto,\n                                        HttpServletResponse servletResponse) {\n\n        SearchComplaintArgument argument = complaintMapper.toSearchArgument(dto);\n\n        File file = buildComplaintsReportAction.execute(argument);\n        FileResponse.builder()\n                    .file(file)\n                    .filename(&quot;Report_&quot;\n                                      .concat(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy_HH.mm&quot;)))\n                                      .concat(&quot;.xlsx&quot;))\n                    .mimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\n                    .response(servletResponse)\n                    .build();\n    }\n</code></pre>\n<p>Answer to the question &quot;How can i write the response into a variable?&quot;.</p>\n"},{"tags":["java","android","react-native","expo","android-gradle-plugin"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1689375835,"post_id":76691534,"comment_id":135209923,"body_markdown":"Include the full stack trace. That&#39;s will tell you and us what is actually creating the PendingIntent","body":"Include the full stack trace. That&#39;s will tell you and us what is actually creating the PendingIntent"}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689488958,"creation_date":1689488958,"answer_id":76696964,"question_id":76691534,"body_markdown":"If you are using firebase to handle custom/data messages for notifications, please check android source code for any pending intent calls.","title":"My app throws this error: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified... How can I solve it?","body":"<p>If you are using firebase to handle custom/data messages for notifications, please check android source code for any pending intent calls.</p>\n"}],"owner":{"account_id":26397459,"reputation":1,"user_id":20048389,"display_name":"Armando Neto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689488958,"creation_date":1689375775,"question_id":76691534,"body_markdown":"I&#39;m facing the above error on my app, developed with React Native and builded with Expo and gradlew. Tried some of the solutions available on internet, like: \r\n\r\n\r\n```gradlew\r\ndependencies {\r\n  // ...\r\n  implementation &#39;androidx.work:work-runtime-ktx:2.7.0&#39;\r\n}\r\n```\r\n\r\nBut it doesn&#180;t work...\r\n\r\nTried a bunch of solutions, some displayed on this topic: https://stackoverflow.com/questions/70894168/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag","title":"My app throws this error: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified... How can I solve it?","body":"<p>I'm facing the above error on my app, developed with React Native and builded with Expo and gradlew. Tried some of the solutions available on internet, like:</p>\n<pre><code>dependencies {\n  // ...\n  implementation 'androidx.work:work-runtime-ktx:2.7.0'\n}\n</code></pre>\n<p>But it doesn´t work...</p>\n<p>Tried a bunch of solutions, some displayed on this topic: <a href=\"https://stackoverflow.com/questions/70894168/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag\">Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified</a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1688548871,"post_id":76618847,"comment_id":135086723,"body_markdown":"Stacktrace? What class isn’t found?","body":"Stacktrace? What class isn’t found?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688549281,"post_id":76618847,"comment_id":135086827,"body_markdown":"You can, your issue has nothing to do with the ControllerAdvice. A ClassNotFound usually indicates some kind of dependency problem.","body":"You can, your issue has nothing to do with the ControllerAdvice. A ClassNotFound usually indicates some kind of dependency problem."},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688604497,"post_id":76618847,"comment_id":135097203,"body_markdown":"Some business class, I will add stack","body":"Some business class, I will add stack"},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688604586,"post_id":76618847,"comment_id":135097209,"body_markdown":"But, it only appears when I do this.","body":"But, it only appears when I do this."}],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688550118,"creation_date":1688550118,"answer_id":76619080,"question_id":76618847,"body_markdown":"The `@ExceptionHandler` should not throw another exception because that exception is caught by Spring and interpreted as an error in the ExceptionHandler, so the handler is ignored. \r\n\r\nAs stated in the [docs][1]:\r\n&gt; If an exception occurs during request mapping or is thrown from a request handler such as an @Controller, the DispatcherServlet delegates to a chain of HandlerExceptionResolver beans to resolve the exception and provide alternative handling, which typically is an error response.\r\n\r\nThe actual try-catch when resolving and executing the exception handler done by `ExceptionHandlerExceptionResolver ` can be seen [here][2] \r\n\r\nInstead the `@ExceptionHandler` should return one of the values referenced in the [docs][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-exceptionhandlers\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/7c37f4bc5112d3f6cbb77a02c96b427f032d656c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ExceptionHandlerExceptionResolver.java#L415\r\n  [3]: https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-ann-exceptionhandler-return-values","title":"Throw new Exception In @ControllerAdvice","body":"<p>The <code>@ExceptionHandler</code> should not throw another exception because that exception is caught by Spring and interpreted as an error in the ExceptionHandler, so the handler is ignored.</p>\n<p>As stated in the <a href=\"https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-exceptionhandlers\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>If an exception occurs during request mapping or is thrown from a request handler such as an @Controller, the DispatcherServlet delegates to a chain of HandlerExceptionResolver beans to resolve the exception and provide alternative handling, which typically is an error response.</p>\n</blockquote>\n<p>The actual try-catch when resolving and executing the exception handler done by <code>ExceptionHandlerExceptionResolver </code> can be seen <a href=\"https://github.com/spring-projects/spring-framework/blob/7c37f4bc5112d3f6cbb77a02c96b427f032d656c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ExceptionHandlerExceptionResolver.java#L415\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Instead the <code>@ExceptionHandler</code> should return one of the values referenced in the <a href=\"https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-ann-exceptionhandler-return-values\" rel=\"nofollow noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689488824,"creation_date":1688552883,"answer_id":76619431,"question_id":76618847,"body_markdown":"Instead of throw new exeption, just return usefull data. Ex:\r\n\r\n    Error{      \r\n    \r\n    Integer errorCode;      \r\n    \r\n    String message;\r\n    \r\n    }","title":"Throw new Exception In @ControllerAdvice","body":"<p>Instead of throw new exeption, just return usefull data. Ex:</p>\n<pre><code>Error{      \n\nInteger errorCode;      \n\nString message;\n\n}\n</code></pre>\n"}],"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689488824,"creation_date":1688548618,"question_id":76618847,"body_markdown":"I need to deal with an `SqlException` to prevent its information from being obtained by the front end. So I used `@ControllerAdvice` to handle global exception, and I wanted to throw a new business exception after catch the `SQLException`.\r\n\r\nBut I get this `java.lang.ClassNotFoundException` error.\r\n\r\nCan I throw new abnormalities in `@ControllerAdvice` or what do I need to modify?\r\n\r\n**This is my code:** \r\n\r\n\r\n    @Log4j2\r\n    @ControllerAdvice\r\n    public class GlobalSQLExceptionHandler {\r\n    \r\n        /**\r\n         * 处理SQL异常\r\n         */\r\n        @ExceptionHandler(value = SQLException.class)\r\n        @ResponseBody\r\n        public void sqlExceptionHandler(HttpServletRequest req, SQLException e){\r\n            log.error(&quot;发生数据库异常！原因是：{}&quot;,e.getMessage());\r\n            throw new ServiceException(&quot;数据库操作发生异常&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI hope to catch `SQLException` and then throw a business exception. Not in one or two places, in many places need it. So try...catch... can&#39;t.\r\n\r\nthis is Stacktrace,I hidden some local bag paths and some stacks of the same rear:\r\n\r\n        java.lang.ClassNotFoundException: com.sun.proxy.$Proxy205\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:116)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:84)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:182)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n    \tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)\r\n    \tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)\r\n    \tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    java.lang.ClassNotFoundException: com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n    java.lang.ClassNotFoundException: com.*.*.*.service.impl.TSdDemandServiceImpl$$EnhancerBySpringCGLIB$$1c133c5c\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n    java.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$FastClassBySpringCGLIB$$2c057f7\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n    java.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$EnhancerBySpringCGLIB$$a81b250c\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;","title":"Throw new Exception In @ControllerAdvice","body":"<p>I need to deal with an <code>SqlException</code> to prevent its information from being obtained by the front end. So I used <code>@ControllerAdvice</code> to handle global exception, and I wanted to throw a new business exception after catch the <code>SQLException</code>.</p>\n<p>But I get this <code>java.lang.ClassNotFoundException</code> error.</p>\n<p>Can I throw new abnormalities in <code>@ControllerAdvice</code> or what do I need to modify?</p>\n<p><strong>This is my code:</strong></p>\n<pre><code>@Log4j2\n@ControllerAdvice\npublic class GlobalSQLExceptionHandler {\n\n    /**\n     * 处理SQL异常\n     */\n    @ExceptionHandler(value = SQLException.class)\n    @ResponseBody\n    public void sqlExceptionHandler(HttpServletRequest req, SQLException e){\n        log.error(&quot;发生数据库异常！原因是：{}&quot;,e.getMessage());\n        throw new ServiceException(&quot;数据库操作发生异常&quot;);\n    }\n}\n</code></pre>\n<p>I hope to catch <code>SQLException</code> and then throw a business exception. Not in one or two places, in many places need it. So try...catch... can't.</p>\n<p>this is Stacktrace,I hidden some local bag paths and some stacks of the same rear:</p>\n<pre><code>    java.lang.ClassNotFoundException: com.sun.proxy.$Proxy205\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:116)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:84)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:182)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\njava.lang.ClassNotFoundException: com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ········································\njava.lang.ClassNotFoundException: com.*.*.*.service.impl.TSdDemandServiceImpl$$EnhancerBySpringCGLIB$$1c133c5c\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ················································\njava.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$FastClassBySpringCGLIB$$2c057f7\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ······················································\njava.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$EnhancerBySpringCGLIB$$a81b250c\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ·············································\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679064376,"creation_date":1679064376,"answer_id":75768970,"question_id":75768422,"body_markdown":"Can you add this dependency and retry ;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>Can you add this dependency and retry ;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22197761,"reputation":101,"user_id":16438909,"display_name":"Szőke Attila"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688983598,"creation_date":1679083414,"answer_id":75771776,"question_id":75768422,"body_markdown":"Well I found this dependency and it was the one I needed \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\nnow the class can be imported. I still find it strange that it is not included in `spring-boot-starter-security` as a default.","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>Well I found this dependency and it was the one I needed</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>now the class can be imported. I still find it strange that it is not included in <code>spring-boot-starter-security</code> as a default.</p>\n"},{"tags":[],"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689485561,"creation_date":1689485561,"answer_id":76696826,"question_id":75768422,"body_markdown":"For gradle:\r\n\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-messaging&#39;, version: &#39;6.1.1&#39;\r\n","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>For gradle:</p>\n<pre><code>implementation group: 'org.springframework.security', name: 'spring-security-messaging', version: '6.1.1'\n</code></pre>\n"}],"owner":{"account_id":22197761,"reputation":101,"user_id":16438909,"display_name":"Szőke Attila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75771776,"answer_count":3,"score":4,"last_activity_date":1689485561,"creation_date":1679061262,"question_id":75768422,"body_markdown":"I am trying to configure websocket security with Spring Boot 3, while using `spring-boot-starter-parent:3.0.4`, going by the `@EnableWebSocketSecurity` [docs](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/socket/EnableWebSocketSecurity.html) which say that I should use the class `MessageMatcherDelegatingAuthorizationManager`, but I can&#39;t seem to import it, it is not where it should be according to its [docs](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/messaging/access/intercept/MessageMatcherDelegatingAuthorizationManager.html).\r\n\r\nAm I missing some dependencies or what is happening here? \r\n\r\nHere is my pom.xml, maybe it helps.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t... omitted project data ...\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI tried finding which dependency should bring it into the project, but as far as I see, it should come with `spring-boot-starter-security`.","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>I am trying to configure websocket security with Spring Boot 3, while using <code>spring-boot-starter-parent:3.0.4</code>, going by the <code>@EnableWebSocketSecurity</code> <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/socket/EnableWebSocketSecurity.html\" rel=\"nofollow noreferrer\">docs</a> which say that I should use the class <code>MessageMatcherDelegatingAuthorizationManager</code>, but I can't seem to import it, it is not where it should be according to its <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/messaging/access/intercept/MessageMatcherDelegatingAuthorizationManager.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>Am I missing some dependencies or what is happening here?</p>\n<p>Here is my pom.xml, maybe it helps.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    ... omitted project data ...\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried finding which dependency should bring it into the project, but as far as I see, it should come with <code>spring-boot-starter-security</code>.</p>\n"},{"tags":["java","gradle","javadoc","opensearch"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1689382247,"post_id":76691756,"comment_id":135210332,"body_markdown":"Notice it says `...\\jdk1.8.0_361\\bin\\javadoc` and not `javadoc.exe`.  Sounds like a Linux/Windows mixup... or a path specification error.  Also, it&#39;s not clear why the gradle config says JDK-11 but the error message refers to JDK-8.","body":"Notice it says <code>...\\jdk1.8.0_361\\bin\\javadoc</code> and not <code>javadoc.exe</code>.  Sounds like a Linux/Windows mixup... or a path specification error.  Also, it&#39;s not clear why the gradle config says JDK-11 but the error message refers to JDK-8."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1689388221,"post_id":76691756,"comment_id":135210628,"body_markdown":"Your own snippet shows it is using a different Java version: `JAVA_HOME: C:\\Program Files\\Java\\jdk-11`","body":"Your own snippet shows it is using a different Java version: <code>JAVA_HOME: C:\\Program Files\\Java\\jdk-11</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689414629,"post_id":76691756,"comment_id":135212392,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689484899,"post_id":76691756,"comment_id":135218502,"body_markdown":"Why exactly do you need to build the sources? Can you not pull the dependency?","body":"Why exactly do you need to build the sources? Can you not pull the dependency?"},{"owner":{"account_id":27556310,"reputation":1,"user_id":21030463,"display_name":"vp158"},"score":0,"creation_date":1689611127,"post_id":76691756,"comment_id":135234725,"body_markdown":"Hi, All thank you for the replies. I am fairly new to java, I was following the instructions on this github page. https://github.com/opensearch-project/opensearch-hadoop. I have 3 jdks installed:\n\n&quot;To create a distributable zip, run gradlew distZip from the command line; once completed you will find the jar in build/libs.\nTo build the project, JVM 8, JVM 11, and JVM 17 are required. The minimum compiler version is Java 14 and the minimum runtime is Java 8.&quot;","body":"Hi, All thank you for the replies. I am fairly new to java, I was following the instructions on this github page. <a href=\"https://github.com/opensearch-project/opensearch-hadoop\" rel=\"nofollow noreferrer\">github.com/opensearch-project/opensearch-hadoop</a>. I have 3 jdks installed:  &quot;To create a distributable zip, run gradlew distZip from the command line; once completed you will find the jar in build/libs. To build the project, JVM 8, JVM 11, and JVM 17 are required. The minimum compiler version is Java 14 and the minimum runtime is Java 8.&quot;"}],"owner":{"account_id":27556310,"reputation":1,"user_id":21030463,"display_name":"vp158"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689484573,"creation_date":1689381232,"question_id":76691756,"body_markdown":"I am attempting to build this project:\r\n\r\n[https://github.com/opensearch-project/opensearch-hadoop#writing-2\r\n](https://github.com/opensearch-project/opensearch-hadoop#writing-2)\r\n\r\nHere is the Gradle configuration:\r\n\r\n```\r\n===========================================\r\nOpenSearch-Hadoop Build Hamster says Hello!\r\n===========================================\r\nMin runtime: 1.8\r\nBuilding version [1.0.1-SNAPSHOT]\r\nTesting against OpenSearch [2.7.0-SNAPSHOT] with Lucene [9.5.0-snapshot-a4ef70f]\r\nUsing Gradle [8.1.1]\r\nUsing Apache Hadoop on YARN [3.1.2]\r\n=======================================\r\nOpenSearch Build Hamster says Hello!\r\n  Gradle Version        : 8.1.1\r\n  OS Info               : Windows 10 10.0 (amd64)\r\n  JDK Version           : 11 (Oracle JDK)\r\n  JAVA_HOME             : C:\\Program Files\\Java\\jdk-11\r\n  Random Testing Seed   : DBEBD3C9481699C\r\n  In FIPS 140 mode      : false\r\n=======================================\r\n\r\n```\r\n\r\n\r\n**Error during build: **\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:opensearch-hadoop-mr:javadoc&#39;.\r\n&gt; Error while evaluating property &#39;javadocTool&#39; of task &#39;:opensearch-hadoop-mr:javadoc&#39;.\r\n   &gt; Failed to calculate the value of task &#39;:opensearch-hadoop-mr:javadoc&#39; property &#39;javadocTool&#39;.\r\n      &gt; The configured executable does not exist (C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc)\r\n```\r\n\r\n\r\n\r\nWhen checking the path C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc, the javadoc.exe is present. I have tried the following:\r\n- Changing the JAVA_HOME and JAVA8_HOME variables\r\n- Adding %JAVA_HOME%\\bin to PATH,\r\n- Disabling javadoc tasks in the build.gradle file: \r\n`    tasks.withType(Javadoc).all { \r\n        enabled = false }`\r\n\r\nAny help is appreciated as to why the `C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc.exe` file is not found and the build fails. Thank you\r\n","title":"Why can&#39;t Gradle find the javadoc executable?","body":"<p>I am attempting to build this project:</p>\n<p><a href=\"https://github.com/opensearch-project/opensearch-hadoop#writing-2\" rel=\"nofollow noreferrer\">https://github.com/opensearch-project/opensearch-hadoop#writing-2\n</a></p>\n<p>Here is the Gradle configuration:</p>\n<pre><code>===========================================\nOpenSearch-Hadoop Build Hamster says Hello!\n===========================================\nMin runtime: 1.8\nBuilding version [1.0.1-SNAPSHOT]\nTesting against OpenSearch [2.7.0-SNAPSHOT] with Lucene [9.5.0-snapshot-a4ef70f]\nUsing Gradle [8.1.1]\nUsing Apache Hadoop on YARN [3.1.2]\n=======================================\nOpenSearch Build Hamster says Hello!\n  Gradle Version        : 8.1.1\n  OS Info               : Windows 10 10.0 (amd64)\n  JDK Version           : 11 (Oracle JDK)\n  JAVA_HOME             : C:\\Program Files\\Java\\jdk-11\n  Random Testing Seed   : DBEBD3C9481699C\n  In FIPS 140 mode      : false\n=======================================\n\n</code></pre>\n<p>**Error during build: **</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':opensearch-hadoop-mr:javadoc'.\n&gt; Error while evaluating property 'javadocTool' of task ':opensearch-hadoop-mr:javadoc'.\n   &gt; Failed to calculate the value of task ':opensearch-hadoop-mr:javadoc' property 'javadocTool'.\n      &gt; The configured executable does not exist (C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc)\n</code></pre>\n<p>When checking the path C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc, the javadoc.exe is present. I have tried the following:</p>\n<ul>\n<li>Changing the JAVA_HOME and JAVA8_HOME variables</li>\n<li>Adding %JAVA_HOME%\\bin to PATH,</li>\n<li>Disabling javadoc tasks in the build.gradle file:\n<code>    tasks.withType(Javadoc).all {  enabled = false }</code></li>\n</ul>\n<p>Any help is appreciated as to why the <code>C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc.exe</code> file is not found and the build fails. Thank you</p>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1688836567,"post_id":76644083,"comment_id":135128786,"body_markdown":"u know u could just define the return type directly in the Spring Repository interface? like so `interface CatRepository extends MongoRepository&lt;Cat, String&gt; {\n    Cat findById(String id);\n}`","body":"u know u could just define the return type directly in the Spring Repository interface? like so <code>interface CatRepository extends MongoRepository&lt;Cat, String&gt; {     Cat findById(String id); }</code>"},{"owner":{"account_id":2247617,"reputation":681,"user_id":1980630,"display_name":"Robert Vanden Eynde"},"score":0,"creation_date":1688836668,"post_id":76644083,"comment_id":135128801,"body_markdown":"I know but on Error this returns null, I want an exception :)","body":"I know but on Error this returns null, I want an exception :)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688886995,"post_id":76644083,"comment_id":135132352,"body_markdown":"The `findById` is already on the default methods of the interfaces so you don&#39;t need to respecify it. Just don&#39;t try to shoehorn AOP in there and generate classes at runtime. Keep it simple and just write the code.","body":"The <code>findById</code> is already on the default methods of the interfaces so you don&#39;t need to respecify it. Just don&#39;t try to shoehorn AOP in there and generate classes at runtime. Keep it simple and just write the code."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689484213,"creation_date":1689484213,"answer_id":76696768,"question_id":76644083,"body_markdown":"How about something like this? I love AOP. In native AspectJ and to some degree also in Spring AOP, you could use ITD + reflection to achieve something like this. But in this case, maybe simple OOP is enough.\r\n\r\nGiven a simplified version of `MongoRepository`, ...\r\n\r\n```java\r\npackage org.springframework.data.mongodb.repository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface MongoRepository&lt;T, ID&gt; {\r\n  Optional&lt;T&gt; findById(ID id);\r\n}\r\n```\r\n\r\n... and these entity classes and repository implementions:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\npublic class Dog {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class DogRepository implements MongoRepository&lt;Dog, String&gt; {\r\n  @Override\r\n  public Optional&lt;Dog&gt; findById(String id) {\r\n    return Optional.ofNullable(new Dog());\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\npublic class Cat {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class CatRepository implements MongoRepository&lt;Cat, String&gt; {\r\n  @Override\r\n  public Optional&lt;Cat&gt; findById(String id) {\r\n    return Optional.empty();\r\n  }\r\n}\r\n```\r\n\r\nYou can then structure your services as follows:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface MyService&lt;T, ID&gt; {\r\n  MongoRepository&lt;T, ID&gt; getRepository();\r\n\r\n  default T retrieveById(ID id) {\r\n    System.out.println(&quot;Retrieving by ID &quot; + id);\r\n    return getRepository().findById(id).orElseThrow();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class MyBaseService&lt;T&gt; implements MyService&lt;T, String&gt; {\r\n  private MongoRepository&lt;T, String&gt; repository;\r\n\r\n  public MyBaseService(MongoRepository&lt;T, String&gt; repository) {\r\n    this.repository = repository;\r\n  }\r\n\r\n  @Override\r\n  public MongoRepository&lt;T, String&gt; getRepository() {\r\n    return repository;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class DogService extends MyBaseService&lt;Dog&gt; {\r\n  public DogService(MongoRepository&lt;Dog, String&gt; repository) {\r\n    super(repository);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class CatService extends MyBaseService&lt;Cat&gt; {\r\n  public CatService(MongoRepository&lt;Cat, String&gt; repository) {\r\n    super(repository);\r\n  }\r\n}\r\n```\r\n\r\nPlease note the generic default implementation of `T retrieveById(ID id)`.\r\n\r\nWith a little driver application like this, ...\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    new DogService(new DogRepository()).retrieveById(&quot;Lassie&quot;);\r\n    new CatService(new CatRepository()).retrieveById(&quot;Garfield&quot;);\r\n  }\r\n}\r\n```\r\n\r\n... the console log looks as follows:\r\n\r\n```none\r\nRetrieving by ID Lassie\r\nRetrieving by ID Garfield\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:377)\r\n\tat de.scrum_master.stackoverflow.q76644083.MyService.retrieveById(MyService.java:10)\r\n\tat de.scrum_master.stackoverflow.q76644083.Application.main(Application.java:6)\r\n```\r\n","title":"Implement method of interface at runtime in Java Spring","body":"<p>How about something like this? I love AOP. In native AspectJ and to some degree also in Spring AOP, you could use ITD + reflection to achieve something like this. But in this case, maybe simple OOP is enough.</p>\n<p>Given a simplified version of <code>MongoRepository</code>, ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.springframework.data.mongodb.repository;\n\nimport java.util.Optional;\n\npublic interface MongoRepository&lt;T, ID&gt; {\n  Optional&lt;T&gt; findById(ID id);\n}\n</code></pre>\n<p>... and these entity classes and repository implementions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\npublic class Dog {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport java.util.Optional;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class DogRepository implements MongoRepository&lt;Dog, String&gt; {\n  @Override\n  public Optional&lt;Dog&gt; findById(String id) {\n    return Optional.ofNullable(new Dog());\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\npublic class Cat {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport java.util.Optional;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class CatRepository implements MongoRepository&lt;Cat, String&gt; {\n  @Override\n  public Optional&lt;Cat&gt; findById(String id) {\n    return Optional.empty();\n  }\n}\n</code></pre>\n<p>You can then structure your services as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface MyService&lt;T, ID&gt; {\n  MongoRepository&lt;T, ID&gt; getRepository();\n\n  default T retrieveById(ID id) {\n    System.out.println(&quot;Retrieving by ID &quot; + id);\n    return getRepository().findById(id).orElseThrow();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class MyBaseService&lt;T&gt; implements MyService&lt;T, String&gt; {\n  private MongoRepository&lt;T, String&gt; repository;\n\n  public MyBaseService(MongoRepository&lt;T, String&gt; repository) {\n    this.repository = repository;\n  }\n\n  @Override\n  public MongoRepository&lt;T, String&gt; getRepository() {\n    return repository;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class DogService extends MyBaseService&lt;Dog&gt; {\n  public DogService(MongoRepository&lt;Dog, String&gt; repository) {\n    super(repository);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class CatService extends MyBaseService&lt;Cat&gt; {\n  public CatService(MongoRepository&lt;Cat, String&gt; repository) {\n    super(repository);\n  }\n}\n</code></pre>\n<p>Please note the generic default implementation of <code>T retrieveById(ID id)</code>.</p>\n<p>With a little driver application like this, ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\npublic class Application {\n  public static void main(String[] args) {\n    new DogService(new DogRepository()).retrieveById(&quot;Lassie&quot;);\n    new CatService(new CatRepository()).retrieveById(&quot;Garfield&quot;);\n  }\n}\n</code></pre>\n<p>... the console log looks as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Retrieving by ID Lassie\nRetrieving by ID Garfield\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\n    at java.base/java.util.Optional.orElseThrow(Optional.java:377)\n    at de.scrum_master.stackoverflow.q76644083.MyService.retrieveById(MyService.java:10)\n    at de.scrum_master.stackoverflow.q76644083.Application.main(Application.java:6)\n</code></pre>\n"}],"owner":{"account_id":2247617,"reputation":681,"user_id":1980630,"display_name":"Robert Vanden Eynde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689484213,"creation_date":1688836176,"question_id":76644083,"body_markdown":"I have a spring data repository for each of my model classes:\r\n\r\n```java\r\ninterface CatRepository extends MongoRepository&lt;Cat, String&gt; {\r\n    Optional&lt;Cat&gt; findById(String id);\r\n}\r\n\r\ninterface DogRepository extends MongoRepository&lt;Dog, String&gt; {\r\n    Optional&lt;Dog&gt; findById(String id);\r\n}\r\n```\r\n\r\nIn the calling code, I often to this:\r\n\r\n```java\r\nclass CatService {\r\n    Cat retrieveById(String id) {\r\n        return catRepository.findById(id).orElseThrow();\r\n    }\r\n}\r\n\r\nclass DogService {\r\n    Dog retrieveById(String id) {\r\n        return dogRepository.findById(id).orElseThrow();\r\n    }\r\n}\r\n```\r\n\r\nBut the logic &quot;methods called retrieveById call the method findById and do .orElseThrow()&quot;\r\n\r\nWhat I want is to write this logic one time.\r\n\r\nI thought of doing a &quot;RepositoryHelper&quot; interface :\r\n\r\n```java\r\ninterface CatRepositoryHelper {\r\n    Cat retrieveById(String id);\r\n}\r\n\r\ninterface DogRepositoryHelper {\r\n    Dog retrieveById(String id);\r\n}\r\n```\r\n\r\nBut the implementation of this interface can be deduced, it&#39;s always:\r\n\r\n_Call the corresponding repository &quot;findById&quot; with the same parameter and apply .orElseThrow() on the result._\r\n\r\nHow to have this implementation generated automatically ? I think aspects and proxies can help.\r\n\r\n\r\n","title":"Implement method of interface at runtime in Java Spring","body":"<p>I have a spring data repository for each of my model classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CatRepository extends MongoRepository&lt;Cat, String&gt; {\n    Optional&lt;Cat&gt; findById(String id);\n}\n\ninterface DogRepository extends MongoRepository&lt;Dog, String&gt; {\n    Optional&lt;Dog&gt; findById(String id);\n}\n</code></pre>\n<p>In the calling code, I often to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CatService {\n    Cat retrieveById(String id) {\n        return catRepository.findById(id).orElseThrow();\n    }\n}\n\nclass DogService {\n    Dog retrieveById(String id) {\n        return dogRepository.findById(id).orElseThrow();\n    }\n}\n</code></pre>\n<p>But the logic &quot;methods called retrieveById call the method findById and do .orElseThrow()&quot;</p>\n<p>What I want is to write this logic one time.</p>\n<p>I thought of doing a &quot;RepositoryHelper&quot; interface :</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CatRepositoryHelper {\n    Cat retrieveById(String id);\n}\n\ninterface DogRepositoryHelper {\n    Dog retrieveById(String id);\n}\n</code></pre>\n<p>But the implementation of this interface can be deduced, it's always:</p>\n<p><em>Call the corresponding repository &quot;findById&quot; with the same parameter and apply .orElseThrow() on the result.</em></p>\n<p>How to have this implementation generated automatically ? I think aspects and proxies can help.</p>\n"},{"tags":["java","java-time","backwards-compatibility"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689405511,"post_id":76692634,"comment_id":135211551,"body_markdown":"Please explain how this is causing a schema change. Are you asking how to get `Instant.toString()` to print the same number of digits? Or something else?","body":"Please explain how this is causing a schema change. Are you asking how to get <code>Instant.toString()</code> to print the same number of digits? Or something else?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689405669,"post_id":76692634,"comment_id":135211564,"body_markdown":"In Java 21 there are *nine* digits after the decimal point. And are you certain that there are double quotes around the result in Java 8?","body":"In Java 21 there are <i>nine</i> digits after the decimal point. And are you certain that there are double quotes around the result in Java 8?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689406202,"post_id":76692634,"comment_id":135211597,"body_markdown":"You can truncate the instant, for example with `truncatedTo(ChronoUnit.MILLIS)`.","body":"You can truncate the instant, for example with <code>truncatedTo(ChronoUnit.MILLIS)</code>."},{"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"score":0,"creation_date":1689406210,"post_id":76692634,"comment_id":135211599,"body_markdown":"@tgdavies sorry my editing mistake I added double quotes and I removed it after your comment","body":"@tgdavies sorry my editing mistake I added double quotes and I removed it after your comment"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689406372,"post_id":76692634,"comment_id":135211607,"body_markdown":"Can you also clarify what &quot;make this api call backward compatible&quot; actually means? Which API call? What incompatibility are you finding?","body":"Can you also clarify what &quot;make this api call backward compatible&quot; actually means? Which API call? What incompatibility are you finding?"},{"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"score":0,"creation_date":1689406825,"post_id":76692634,"comment_id":135211642,"body_markdown":"@tgdavies I updated for backward compatible","body":"@tgdavies I updated for backward compatible"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689408485,"post_id":76692634,"comment_id":135211780,"body_markdown":"I still don&#39;t understand exactly how non-zero trailing digits in `Instant.getNano()` break your code.","body":"I still don&#39;t understand exactly how non-zero trailing digits in <code>Instant.getNano()</code> break your code."},{"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"score":0,"creation_date":1689409567,"post_id":76692634,"comment_id":135211878,"body_markdown":"I updated the code which converts instant to string and that is sent downstream","body":"I updated the code which converts instant to string and that is sent downstream"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689410029,"post_id":76692634,"comment_id":135211924,"body_markdown":"OK, then Sweeper&#39;s or Mark&#39;s answer should be fine.","body":"OK, then Sweeper&#39;s or Mark&#39;s answer should be fine."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689408127,"creation_date":1689407414,"answer_id":76692766,"question_id":76692634,"body_markdown":"If you just want a `String` with 3 digits of fractional seconds, you can make your own `DateTimeFormatter` and format the `Instant` with that:\r\n\r\n```\r\n// note that there are only 3 &quot;S&quot;\r\nvar formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n    .withZone(ZoneOffset.UTC);\r\nSystem.out.println(formatter.format(Instant.now()));\r\n```\r\n\r\nThis will always produce 3 digits after the decimal dot, even if they are all 0.\r\n\r\nIf you actually want an `Instant` that is rounded to the nearest millisecond, use `truncatedTo`:\r\n\r\n```\r\nSystem.out.println(Instant.now().truncatedTo(ChronoUnit.MILLIS));\r\n```\r\n\r\n[`Instant.toString`][1] will use *at most* 3 decimal places for such `Instant`s. `Instant.toString` uses the [`ISO_INSTANT`][2] formatter.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toString()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT","title":"java.time.Instant.now has more precision in java 11 compared to java 8 and how to get backward compatible","body":"<p>If you just want a <code>String</code> with 3 digits of fractional seconds, you can make your own <code>DateTimeFormatter</code> and format the <code>Instant</code> with that:</p>\n<pre><code>// note that there are only 3 &quot;S&quot;\nvar formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)\n    .withZone(ZoneOffset.UTC);\nSystem.out.println(formatter.format(Instant.now()));\n</code></pre>\n<p>This will always produce 3 digits after the decimal dot, even if they are all 0.</p>\n<p>If you actually want an <code>Instant</code> that is rounded to the nearest millisecond, use <code>truncatedTo</code>:</p>\n<pre><code>System.out.println(Instant.now().truncatedTo(ChronoUnit.MILLIS));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toString()\" rel=\"nofollow noreferrer\"><code>Instant.toString</code></a> will use <em>at most</em> 3 decimal places for such <code>Instant</code>s. <code>Instant.toString</code> uses the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\"><code>ISO_INSTANT</code></a> formatter.</p>\n"}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689483579,"creation_date":1689405317,"question_id":76692634,"body_markdown":"I&#39;ve below code in java\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.datatype.joda.JodaModule;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport java.time.Instant;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Instant instant = Instant.now();\r\n        System.out.println(&quot;java version &quot; + System.getProperty(&quot;java.version&quot;));\r\n        System.out.println(&quot;java vendor &quot; + System.getProperty(&quot;java.vendor&quot;));\r\n//        System.out.println(instant.truncatedTo(ChronoUnit.MILLIS));\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JodaModule());\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        mapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, true);\r\n        System.out.println(mapper.writeValueAsString(instant));\r\n    }\r\n\r\n}\r\n```\r\n\r\nwhen I run with java 8 I get below output -\r\n\r\n```\r\njava version 1.8.0_352\r\njava vendor Azul Systems, Inc.\r\n2023-07-15T07:27:49.588Z\r\n```\r\n\r\nwhen I run with java 11 I get below output -\r\n\r\n```\r\njava version 11.0.17\r\njava vendor Azul Systems, Inc.\r\n2023-07-15T07:08:15.457153Z\r\n```\r\n\r\nIt is clearly java 11 has more precision than java 8 and it is causing schema change in the middleware downstream.\r\n\r\nIs there any way to make this api call backward compatible?\r\n\r\n\r\n\r\n \r\n  [1]: https://mvnrepository.com/artifact/clojure.java-time/clojure.java-time/1.2.0","title":"java.time.Instant.now has more precision in java 11 compared to java 8 and how to get backward compatible","body":"<p>I've below code in java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.datatype.joda.JodaModule;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport java.time.Instant;\n\npublic class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        Instant instant = Instant.now();\n        System.out.println(&quot;java version &quot; + System.getProperty(&quot;java.version&quot;));\n        System.out.println(&quot;java vendor &quot; + System.getProperty(&quot;java.vendor&quot;));\n//        System.out.println(instant.truncatedTo(ChronoUnit.MILLIS));\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JodaModule());\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        mapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, true);\n        System.out.println(mapper.writeValueAsString(instant));\n    }\n\n}\n</code></pre>\n<p>when I run with java 8 I get below output -</p>\n<pre><code>java version 1.8.0_352\njava vendor Azul Systems, Inc.\n2023-07-15T07:27:49.588Z\n</code></pre>\n<p>when I run with java 11 I get below output -</p>\n<pre><code>java version 11.0.17\njava vendor Azul Systems, Inc.\n2023-07-15T07:08:15.457153Z\n</code></pre>\n<p>It is clearly java 11 has more precision than java 8 and it is causing schema change in the middleware downstream.</p>\n<p>Is there any way to make this api call backward compatible?</p>\n"},{"tags":["java","bit-manipulation"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689483059,"creation_date":1689482329,"answer_id":76696696,"question_id":76696686,"body_markdown":"You can calculate it based on [`Long.numberOfTrailingZeros`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#numberOfTrailingZeros(long)).\r\n\r\n```java\r\npublic static int getLSBIndx(long n) {\r\n\treturn n == 0 ? -1 : Long.numberOfTrailingZeros(n) + 1;\r\n}\r\n```","title":"Get index of least significant set bit for a long in Java","body":"<p>You can calculate it based on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#numberOfTrailingZeros(long)\" rel=\"nofollow noreferrer\"><code>Long.numberOfTrailingZeros</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getLSBIndx(long n) {\n    return n == 0 ? -1 : Long.numberOfTrailingZeros(n) + 1;\n}\n</code></pre>\n"}],"owner":{"account_id":2558655,"reputation":23,"user_id":2220139,"accept_rate":0,"display_name":"user2220139"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76696696,"answer_count":1,"score":1,"last_activity_date":1689483059,"creation_date":1689481986,"question_id":76696686,"body_markdown":"I found some code [here][1] that does what I am looking for for an int but when I plug in a long and the LSB is the 64th bit, it returns 0 instead of 64. I could do an explicit check for that case but there must be a better way.\r\n\r\n   \r\n\r\n    public class Test{\r\n        public static void main(String[] args){\r\n            long test = 0b1000000000000000000000000000000000000000000000000000000000000000L;\r\n            \r\n            //this should print &quot;64&quot;\r\n            System.out.println(getLSBIndx(test));\r\n        }\r\n        public static int getLSBIndx(long n){\r\n            if(n == 0) return -1;\r\n            return (int)((Math.log10(n &amp; -n)) / Math.log10(2)) ;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/position-of-rightmost-set-bit/\r\n","title":"Get index of least significant set bit for a long in Java","body":"<p>I found some code <a href=\"https://www.geeksforgeeks.org/position-of-rightmost-set-bit/\" rel=\"nofollow noreferrer\">here</a> that does what I am looking for for an int but when I plug in a long and the LSB is the 64th bit, it returns 0 instead of 64. I could do an explicit check for that case but there must be a better way.</p>\n<pre><code>public class Test{\n    public static void main(String[] args){\n        long test = 0b1000000000000000000000000000000000000000000000000000000000000000L;\n        \n        //this should print &quot;64&quot;\n        System.out.println(getLSBIndx(test));\n    }\n    public static int getLSBIndx(long n){\n        if(n == 0) return -1;\n        return (int)((Math.log10(n &amp; -n)) / Math.log10(2)) ;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","sleep"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689468895,"post_id":76696287,"comment_id":135217821,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/53242990/how-to-make-a-barchart-behave-like-a-timer/53247585#53247585) or [this](https://stackoverflow.com/questions/9966136/javafx-periodic-background-task) can help.","body":"Maybe <a href=\"https://stackoverflow.com/questions/53242990/how-to-make-a-barchart-behave-like-a-timer/53247585#53247585\">this</a> or <a href=\"https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\">this</a> can help."},{"owner":{"account_id":29025436,"reputation":11,"user_id":22233753,"display_name":"sadgeworth"},"score":1,"creation_date":1689476864,"post_id":76696287,"comment_id":135218176,"body_markdown":"Timeline solved the issue, thank you very much!","body":"Timeline solved the issue, thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689482902,"creation_date":1689482902,"answer_id":76696727,"question_id":76696287,"body_markdown":"There are a couple things wrong with your current approach.\r\n\r\n1. You must **never** sleep, block, or perform long-running tasks on the _JavaFX Application Thread_. Otherwise, you will cause the application to become unresponsive because the thread cannot process user-generated events or schedule render &quot;pulses&quot;.\r\n\r\n2. The scene will not be redrawn until the _JavaFX Application Thread_ has finished its current work. That means setting a label&#39;s text property to different values via consecutive statements will not work as you expect. Only the last update to the text property will be rendered.\r\n\r\nYou basically want a periodic task executed on the _JavaFX Application Thread_. The way to implement that is via an animation. See [my answer here][1] for more information. \r\n\r\nIn your case, your task is essentially a countdown timer. A relatively straightforward way to implement a countdown timer in JavaFX is to use a `PauseTranstion`. Set the transition&#39;s duration to the desired value, then make use of the `currentTime` property to calculate the _remaining time_ of the animation. You can also use the `onFinished` property to perform an action once the transition completes.\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\nimport javafx.animation.PauseTransition;\r\nimport javafx.application.Application;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.binding.StringBinding;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.Window;\r\nimport javafx.util.Duration;\r\n\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button button = new Button(&quot;Create account...&quot;);\r\n        button.setOnAction(e -&gt; {\r\n            e.consume();\r\n            showAccountCreatedAlert(primaryStage);\r\n        });\r\n\r\n        primaryStage.setScene(new Scene(new StackPane(button), 600, 400));\r\n        primaryStage.show();\r\n    }\r\n\r\n    private void showAccountCreatedAlert(Window owner) {\r\n        Alert alert = new Alert(AlertType.INFORMATION);\r\n        alert.initOwner(owner);\r\n        alert.setHeaderText(&quot;Account Created&quot;);\r\n        \r\n        // the countdown timer\r\n        PauseTransition timer = new PauseTransition(Duration.seconds(5));\r\n        alert.contentTextProperty()\r\n                .bind(createRemainingSecondsMessage(&quot;Dialog closing in %d seconds.&quot;, timer));\r\n        timer.setOnFinished(e -&gt; alert.close()); // close the alert when the timer completes\r\n\r\n        // Start the timer when the alert is shown. Stop it if the alert is\r\n        // closed before the timer completes.\r\n        alert.setOnShown(e -&gt; timer.play());\r\n        alert.setOnHidden(e -&gt; timer.stop());\r\n        alert.showAndWait();\r\n    }\r\n\r\n    private StringBinding createRemainingSecondsMessage(String format, PauseTransition timer) {\r\n        return Bindings.createStringBinding(() -&gt; {\r\n            Duration timeRemaining = timer.getDuration().subtract(timer.getCurrentTime());\r\n            int secondsRemaining = (int) timeRemaining.toSeconds() + 1;\r\n            return String.format(format, secondsRemaining);\r\n        }, timer.currentTimeProperty(), timer.durationProperty());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(Main.class, args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60685975/6395627","title":"How do I pause a javafx program without causing the program to run in a laggy fashion?","body":"<p>There are a couple things wrong with your current approach.</p>\n<ol>\n<li><p>You must <strong>never</strong> sleep, block, or perform long-running tasks on the <em>JavaFX Application Thread</em>. Otherwise, you will cause the application to become unresponsive because the thread cannot process user-generated events or schedule render &quot;pulses&quot;.</p>\n</li>\n<li><p>The scene will not be redrawn until the <em>JavaFX Application Thread</em> has finished its current work. That means setting a label's text property to different values via consecutive statements will not work as you expect. Only the last update to the text property will be rendered.</p>\n</li>\n</ol>\n<p>You basically want a periodic task executed on the <em>JavaFX Application Thread</em>. The way to implement that is via an animation. See <a href=\"https://stackoverflow.com/a/60685975/6395627\">my answer here</a> for more information.</p>\n<p>In your case, your task is essentially a countdown timer. A relatively straightforward way to implement a countdown timer in JavaFX is to use a <code>PauseTranstion</code>. Set the transition's duration to the desired value, then make use of the <code>currentTime</code> property to calculate the <em>remaining time</em> of the animation. You can also use the <code>onFinished</code> property to perform an action once the transition completes.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.animation.PauseTransition;\nimport javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.binding.StringBinding;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\nimport javafx.stage.Window;\nimport javafx.util.Duration;\n\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        Button button = new Button(&quot;Create account...&quot;);\n        button.setOnAction(e -&gt; {\n            e.consume();\n            showAccountCreatedAlert(primaryStage);\n        });\n\n        primaryStage.setScene(new Scene(new StackPane(button), 600, 400));\n        primaryStage.show();\n    }\n\n    private void showAccountCreatedAlert(Window owner) {\n        Alert alert = new Alert(AlertType.INFORMATION);\n        alert.initOwner(owner);\n        alert.setHeaderText(&quot;Account Created&quot;);\n        \n        // the countdown timer\n        PauseTransition timer = new PauseTransition(Duration.seconds(5));\n        alert.contentTextProperty()\n                .bind(createRemainingSecondsMessage(&quot;Dialog closing in %d seconds.&quot;, timer));\n        timer.setOnFinished(e -&gt; alert.close()); // close the alert when the timer completes\n\n        // Start the timer when the alert is shown. Stop it if the alert is\n        // closed before the timer completes.\n        alert.setOnShown(e -&gt; timer.play());\n        alert.setOnHidden(e -&gt; timer.stop());\n        alert.showAndWait();\n    }\n\n    private StringBinding createRemainingSecondsMessage(String format, PauseTransition timer) {\n        return Bindings.createStringBinding(() -&gt; {\n            Duration timeRemaining = timer.getDuration().subtract(timer.getCurrentTime());\n            int secondsRemaining = (int) timeRemaining.toSeconds() + 1;\n            return String.format(format, secondsRemaining);\n        }, timer.currentTimeProperty(), timer.durationProperty());\n    }\n\n    public static void main(String[] args) {\n        Application.launch(Main.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29025436,"reputation":11,"user_id":22233753,"display_name":"sadgeworth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689482902,"creation_date":1689468036,"question_id":76696287,"body_markdown":"Trying to add a label in my program where the number on it reduces by one per second, but the label only appears once all the sleeps are completed\r\n\r\n\r\n```\r\n@FXML\r\nprivate Label successAccCrn;\r\nsuccessAccCrn.setVisible(false);\r\nsuccessAccCrn.setVisible(true);\r\nsuccessAccCrn.setText(&quot;Account created, page closes in 3&quot;);\r\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\r\nsuccessAccCrn.setText(&quot;Account created, page closes in 2&quot;);\r\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\r\nsuccessAccCrn.setText(&quot;Account created, page closes in 1&quot;);\r\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\r\n```\r\nAttempted to use Thread.sleep(millis) as well but once all the sleeps are finished then the line successAccCrn.setVisible(true) shows with text &quot;Account created, page closes in 1&quot;, meaning that the two other setTexts could not be seen ","title":"How do I pause a javafx program without causing the program to run in a laggy fashion?","body":"<p>Trying to add a label in my program where the number on it reduces by one per second, but the label only appears once all the sleeps are completed</p>\n<pre><code>@FXML\nprivate Label successAccCrn;\nsuccessAccCrn.setVisible(false);\nsuccessAccCrn.setVisible(true);\nsuccessAccCrn.setText(&quot;Account created, page closes in 3&quot;);\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\nsuccessAccCrn.setText(&quot;Account created, page closes in 2&quot;);\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\nsuccessAccCrn.setText(&quot;Account created, page closes in 1&quot;);\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\n</code></pre>\n<p>Attempted to use Thread.sleep(millis) as well but once all the sleeps are finished then the line successAccCrn.setVisible(true) shows with text &quot;Account created, page closes in 1&quot;, meaning that the two other setTexts could not be seen</p>\n"},{"tags":["python","java","jenkins"],"answers":[{"tags":[],"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689481028,"creation_date":1689253167,"answer_id":76679647,"question_id":76676582,"body_markdown":"You can get the logs for any job by sending a simple GET request to the log url. For example, if you had a job called `test` and you wanted to get the logs of build `5`, use:\r\n\r\n```\r\nhttp://&lt;host&gt;:&lt;port&gt;/job/test/5/consoleText\r\n```\r\n\r\nYou can call this url the same way you would call any regular endpoint with Java (or any other language), and you will get the logs in plain text.\r\n\r\n**EDIT:** Once the job has been triggered, that build will be the last one that has run in that job. Therefore. you can get the build number by calling:\r\n\r\n```\r\nhttp://&lt;host&gt;:&lt;port&gt;/job/test/lastBuild/buildNumber\r\n```\r\n\r\nIn the same way you would call any other endpoint. This works even if you trigger multiple builds on the same job. Make sure you get the build number from the above URL and save it in an array every time you trigger a new job.","title":"Trigger and read jenkin console logs","body":"<p>You can get the logs for any job by sending a simple GET request to the log url. For example, if you had a job called <code>test</code> and you wanted to get the logs of build <code>5</code>, use:</p>\n<pre><code>http://&lt;host&gt;:&lt;port&gt;/job/test/5/consoleText\n</code></pre>\n<p>You can call this url the same way you would call any regular endpoint with Java (or any other language), and you will get the logs in plain text.</p>\n<p><strong>EDIT:</strong> Once the job has been triggered, that build will be the last one that has run in that job. Therefore. you can get the build number by calling:</p>\n<pre><code>http://&lt;host&gt;:&lt;port&gt;/job/test/lastBuild/buildNumber\n</code></pre>\n<p>In the same way you would call any other endpoint. This works even if you trigger multiple builds on the same job. Make sure you get the build number from the above URL and save it in an array every time you trigger a new job.</p>\n"}],"owner":{"account_id":3252657,"reputation":353,"user_id":2742533,"accept_rate":26,"display_name":"Venu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689481028,"creation_date":1689230602,"question_id":76676582,"body_markdown":"I am planning to automate triggering jenkins job and read console logs to validate.\r\nCurrently I am able to trigger jenkins build using java.\r\nIs there a way to read console logs using java?\r\n\r\nWhich other language will be useful to perform the same task?","title":"Trigger and read jenkin console logs","body":"<p>I am planning to automate triggering jenkins job and read console logs to validate.\nCurrently I am able to trigger jenkins build using java.\nIs there a way to read console logs using java?</p>\n<p>Which other language will be useful to perform the same task?</p>\n"},{"tags":["java","android","android-asynctask","android-background"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1689444529,"post_id":76694798,"comment_id":135215776,"body_markdown":"Are you doing any `UI` related task inside `MyDatabase.initalize()`, maybe via a callback or event bus like logic? Seems like some Fragment is initialized in `doInBackground` which is causing this crash. Using `addObserver` should strictly be done on main thread, which isn&#39;t happening in this case.","body":"Are you doing any <code>UI</code> related task inside <code>MyDatabase.initalize()</code>, maybe via a callback or event bus like logic? Seems like some Fragment is initialized in <code>doInBackground</code> which is causing this crash. Using <code>addObserver</code> should strictly be done on main thread, which isn&#39;t happening in this case."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689663908,"post_id":76694798,"comment_id":135241592,"body_markdown":"However the [AsyncTask](https://developer.android.com/reference/android/os/AsyncTask) is not much an up to date API.","body":"However the <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTask</a> is not much an up to date API."},{"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"score":0,"creation_date":1689667829,"post_id":76694798,"comment_id":135242396,"body_markdown":"@Kozmotronik What is a better solution for showing a loading screen while doing background operation? Mind that it is a legacy project with Java and not Kotlin.","body":"@Kozmotronik What is a better solution for showing a loading screen while doing background operation? Mind that it is a legacy project with Java and not Kotlin."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689669196,"post_id":76694798,"comment_id":135242705,"body_markdown":"What do you display in your *loading screen*? *Mind that it is a legacy project with Java and not Kotlin.* - This should not be a concern for replacing deprecated APIs in your project. However if you are certain about that your project will not be used on SDK 30 and above, then it is ok, you may leave it with AsyncTask.","body":"What do you display in your <i>loading screen</i>? <i>Mind that it is a legacy project with Java and not Kotlin.</i> - This should not be a concern for replacing deprecated APIs in your project. However if you are certain about that your project will not be used on SDK 30 and above, then it is ok, you may leave it with AsyncTask."},{"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"score":0,"creation_date":1689669464,"post_id":76694798,"comment_id":135242763,"body_markdown":"@Kozmotronik I found it. There was a code part which created new fragments.","body":"@Kozmotronik I found it. There was a code part which created new fragments."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689474844,"creation_date":1689474844,"answer_id":76696457,"question_id":76694798,"body_markdown":"Your init function of MyDatabase is creating a Fragment.  That Fragment is trying to observe it&#39;s Activity&#39;s lifecycle, which is not allowed to be done on any thread but the main.  Refactor your code so that none of your database code makes any UI calls.  Those two subsystems shouldn&#39;t be combined like that anyway\r\n","title":"AsyncTask onBackground() throws error - Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread","body":"<p>Your init function of MyDatabase is creating a Fragment.  That Fragment is trying to observe it's Activity's lifecycle, which is not allowed to be done on any thread but the main.  Refactor your code so that none of your database code makes any UI calls.  Those two subsystems shouldn't be combined like that anyway</p>\n"}],"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76696457,"answer_count":1,"score":0,"last_activity_date":1689474844,"creation_date":1689439166,"question_id":76694798,"body_markdown":"Today I opened my project which haven&#39;t been updated for about 6 months now and **I decided to update all the libraries to make it up to date with recent Android development environment.**\r\n\r\nAfter updating a couple of libraries **my app throws an exception inside a very simple AsyncTask&#39;s onBackground() part.**\r\n\r\nHere is my AsyncTask, very simple code, creates database in the background, then starts a new activity.\r\n\r\n            new AsyncTask() {\r\n                  \r\n                @Override\r\n                protected Object doInBackground(Object[] objects) {\r\n                         \r\n                    //Creates database while showing a simple loading screen.\r\n                    MyDatabase.initalize();\r\n                    return null;\r\n                }\r\n        \r\n                @Override\r\n                protected void onPostExecute(Object o) {\r\n                    super.onPostExecute(o);\r\n\r\n                    //When the database has been created, starts a new activity\r\n\r\n                    if (isInForeground) {\r\n                        Intent intent= new Intent(StartAppActivity.this, GameAppActivity.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }\r\n                }\r\n            }.execute();\r\n\r\n\r\n---------\r\nThis is the crash:\r\n----------\r\n\r\n\r\n    hu.myname.test.app        E  FATAL EXCEPTION: AsyncTask #1\r\n    Process: hu.myname.test.app, PID: 15536\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n    \tat android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n    \tat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n    \tat java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n    \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \tat java.lang.Thread.run(Thread.java:923)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat hu.myname.test.game.dbs.lexicon.MyDatabase.initalize(MyDatabase.java:49)\r\n    \tat hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121)\r\n    \tat android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n    \tat java.lang.Thread.run(Thread.java:923)&#160;\r\n    Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\r\n    \tat androidx.lifecycle.LifecycleRegistry.enforceMainThreadIfNeeded(LifecycleRegistry.java:317)\r\n    \tat androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:172)\r\n    \tat androidx.fragment.app.Fragment.initLifecycle(Fragment.java:471)\r\n    \tat androidx.fragment.app.Fragment.&lt;init&gt;(Fragment.java:451)\r\n    \tat hu.myname.test.fragment.base.BaseFragment.&lt;init&gt;(BaseFragment.java:30)\r\n    \tat hu.myname.test.fragment.lexicon.base.LexiconAbstractFragment.&lt;init&gt;(LexiconAbstractFragment.java:30)\r\n    \tat hu.myname.test.fragment.lexicon.TabsLexiconFragment.&lt;init&gt;(TabsLexiconFragment.java:11)\r\n    \tat hu.myname.test.game.dbs.lexicon.MyDatabase.&lt;clinit&gt;(MyDatabase.java:27)\r\n    \tat hu.myname.test.game.dbs.lexicon.MyDatabase.runStatic(MyDatabase.java:49)&#160;\r\n    \tat hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121)&#160;\r\n    \tat android.os.AsyncTask$3.call(AsyncTask.java:394)&#160;\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n    \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n    \tat java.lang.Thread.run(Thread.java:923)&#160;\r\n\r\n\r\n**I tried to change the async task to different background solutions like threads and executors but it throws the very same error.**\r\n\r\n    Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\r\n\r\nWhat is going on? I simple updated a few libraries, **didn&#39;t write new code.** I feel like Android development is putting down the rails while standing in front of a train.\r\n\r\nAny insights?","title":"AsyncTask onBackground() throws error - Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread","body":"<p>Today I opened my project which haven't been updated for about 6 months now and <strong>I decided to update all the libraries to make it up to date with recent Android development environment.</strong></p>\n<p>After updating a couple of libraries <strong>my app throws an exception inside a very simple AsyncTask's onBackground() part.</strong></p>\n<p>Here is my AsyncTask, very simple code, creates database in the background, then starts a new activity.</p>\n<pre><code>        new AsyncTask() {\n              \n            @Override\n            protected Object doInBackground(Object[] objects) {\n                     \n                //Creates database while showing a simple loading screen.\n                MyDatabase.initalize();\n                return null;\n            }\n    \n            @Override\n            protected void onPostExecute(Object o) {\n                super.onPostExecute(o);\n\n                //When the database has been created, starts a new activity\n\n                if (isInForeground) {\n                    Intent intent= new Intent(StartAppActivity.this, GameAppActivity.class);\n                    startActivity(intent);\n                    finish();\n                }\n            }\n        }.execute();\n</code></pre>\n<hr />\n<h2>This is the crash:</h2>\n<pre><code>hu.myname.test.app        E  FATAL EXCEPTION: AsyncTask #1\nProcess: hu.myname.test.app, PID: 15536\njava.lang.RuntimeException: An error occurred while executing doInBackground()\n    at android.os.AsyncTask$4.done(AsyncTask.java:415)\n    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:923)\nCaused by: java.lang.ExceptionInInitializerError\n    at hu.myname.test.game.dbs.lexicon.MyDatabase.initalize(MyDatabase.java:49)\n    at hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121)\n    at android.os.AsyncTask$3.call(AsyncTask.java:394)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at java.lang.Thread.run(Thread.java:923) \nCaused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\n    at androidx.lifecycle.LifecycleRegistry.enforceMainThreadIfNeeded(LifecycleRegistry.java:317)\n    at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:172)\n    at androidx.fragment.app.Fragment.initLifecycle(Fragment.java:471)\n    at androidx.fragment.app.Fragment.&lt;init&gt;(Fragment.java:451)\n    at hu.myname.test.fragment.base.BaseFragment.&lt;init&gt;(BaseFragment.java:30)\n    at hu.myname.test.fragment.lexicon.base.LexiconAbstractFragment.&lt;init&gt;(LexiconAbstractFragment.java:30)\n    at hu.myname.test.fragment.lexicon.TabsLexiconFragment.&lt;init&gt;(TabsLexiconFragment.java:11)\n    at hu.myname.test.game.dbs.lexicon.MyDatabase.&lt;clinit&gt;(MyDatabase.java:27)\n    at hu.myname.test.game.dbs.lexicon.MyDatabase.runStatic(MyDatabase.java:49) \n    at hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121) \n    at android.os.AsyncTask$3.call(AsyncTask.java:394) \n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) \n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at java.lang.Thread.run(Thread.java:923) \n</code></pre>\n<p><strong>I tried to change the async task to different background solutions like threads and executors but it throws the very same error.</strong></p>\n<pre><code>Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\n</code></pre>\n<p>What is going on? I simple updated a few libraries, <strong>didn't write new code.</strong> I feel like Android development is putting down the rails while standing in front of a train.</p>\n<p>Any insights?</p>\n"},{"tags":["java","rocketmq"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689328487,"post_id":76686556,"comment_id":135201115,"body_markdown":"NameServer by default listens for HTTP connections, not HTTPS, so you don&#39;t need to do anything. Just access the NameServer with http://ip:9876, as you&#39;ve found that it works fine. There is nothing to close","body":"NameServer by default listens for HTTP connections, not HTTPS, so you don&#39;t need to do anything. Just access the NameServer with <a href=\"http://ip:9876\" rel=\"nofollow noreferrer\">ip:9876</a>, as you&#39;ve found that it works fine. There is nothing to close"},{"owner":{"account_id":2795367,"reputation":11,"user_id":2404686,"display_name":"user2404686"},"score":0,"creation_date":1689329755,"post_id":76686556,"comment_id":135201337,"body_markdown":"@yahorbarkouski\nThinks! \nBut still issues\nI&#39;m update the question  add one img describe the detail","body":"@yahorbarkouski Thinks!  But still issues I&#39;m update the question  add one img describe the detail"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689330914,"post_id":76686556,"comment_id":135201508,"body_markdown":"when you try to access the httpS://ip:9876, your browser attempts to establish a secure connection, but since the server isn&#39;t set up for HTTPS, you receive a safety warning, and that&#39;s fine","body":"when you try to access the <a href=\"httpS://ip:9876\" rel=\"nofollow noreferrer\">httpS://ip:9876</a>, your browser attempts to establish a secure connection, but since the server isn&#39;t set up for HTTPS, you receive a safety warning, and that&#39;s fine"}],"owner":{"account_id":2795367,"reputation":11,"user_id":2404686,"display_name":"user2404686"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689474277,"creation_date":1689328090,"question_id":76686556,"body_markdown":"I encountered a problem!!!\r\n\r\nstep 1. RocketMq server run in the windows server. \r\n\r\nstep 2. browser open https://ip:9876  appear safety warning, \r\nhttp://ip:9876 is ok \r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m just want close https, how can I do it.\r\n\r\nThanks a lot!\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pG3mw.png","title":"how to close default https connection from rocketmq nameserver 9876","body":"<p>I encountered a problem!!!</p>\n<p>step 1. RocketMq server run in the windows server.</p>\n<p>step 2. browser open https://ip:9876  appear safety warning,\nhttp://ip:9876 is ok\n<a href=\"https://i.stack.imgur.com/pG3mw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pG3mw.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm just want close https, how can I do it.</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","indexoutofboundsexception"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689481240,"post_id":46627102,"comment_id":135218343,"body_markdown":"It isn&#39;t &#39;on a print statement&#39;. `println()` does not appear in your stack trace. It is at `ArrayList.get()`, and it is because the index *is* out of bounds.","body":"It isn&#39;t &#39;on a print statement&#39;. <code>println()</code> does not appear in your stack trace. It is at <code>ArrayList.get()</code>, and it is because the index <i>is</i> out of bounds."}],"answers":[{"tags":[],"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507431633,"creation_date":1507431633,"answer_id":46627132,"question_id":46627102,"body_markdown":"It&#39;s clear that your code \r\n\r\n    System.out.println(row.get(number) + &quot;&quot; + column.get(number)); \r\n\r\nwill fail.\r\n\r\nAs before this code, you are adding value into row list, at index number but your column list is still empty with no element. If the list does not have an element, you are expected to have exception. Just like below code\r\n\r\n    List test = new ArrayList();\r\n    System.out.println(test.get(0));","title":"IndexOutOfBoundsException on a print statement","body":"<p>It's clear that your code </p>\n\n<pre><code>System.out.println(row.get(number) + \"\" + column.get(number)); \n</code></pre>\n\n<p>will fail.</p>\n\n<p>As before this code, you are adding value into row list, at index number but your column list is still empty with no element. If the list does not have an element, you are expected to have exception. Just like below code</p>\n\n<pre><code>List test = new ArrayList();\nSystem.out.println(test.get(0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3140433,"reputation":1296,"user_id":2655988,"accept_rate":30,"display_name":"Nishit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507432781,"creation_date":1507432781,"answer_id":46627216,"question_id":46627102,"body_markdown":"The API for [ArrayList&#39;s get][1] method is clear enough on this. \r\n\r\n&gt; Throws:\r\nIndexOutOfBoundsException - if the index is out of range (index &lt; 0 || index &gt;= size())\r\n\r\nIn your case, the index &gt;=size() is what is happening.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)","title":"IndexOutOfBoundsException on a print statement","body":"<p>The API for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)\" rel=\"nofollow noreferrer\">ArrayList's get</a> method is clear enough on this. </p>\n\n<blockquote>\n  <p>Throws:\n  IndexOutOfBoundsException - if the index is out of range (index &lt; 0 || index >= size())</p>\n</blockquote>\n\n<p>In your case, the index >=size() is what is happening.</p>\n"},{"tags":[],"owner":{"account_id":4893463,"reputation":1507,"user_id":3943839,"accept_rate":83,"display_name":"Oguz Ozcan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507433576,"creation_date":1507433272,"answer_id":46627250,"question_id":46627102,"body_markdown":"To better understand when your code fails, you can debug your code at some points. This is very helpful for the new developers to learn and understand what&#39;s going on.\n\nYou can also look at the explanation and go to the lone where the cods fails. The beginning of the error occus at line 23. \n\n    System.out.println(row.get(number) + &quot;&quot; + column.get(number));\n\nand you get the `IndexOutOfBoundException`. This is saying you that at some point you are trying to get beyond the size limits of your array. So, what you can do to gain some time is pit a debug point here and also add a case to enter debugging where the row or column is bigger or equal to 26 and continue debugging.","title":"IndexOutOfBoundsException on a print statement","body":"<p>To better understand when your code fails, you can debug your code at some points. This is very helpful for the new developers to learn and understand what's going on.</p>\n\n<p>You can also look at the explanation and go to the lone where the cods fails. The beginning of the error occus at line 23. </p>\n\n<pre><code>System.out.println(row.get(number) + \"\" + column.get(number));\n</code></pre>\n\n<p>and you get the <code>IndexOutOfBoundException</code>. This is saying you that at some point you are trying to get beyond the size limits of your array. So, what you can do to gain some time is pit a debug point here and also add a case to enter debugging where the row or column is bigger or equal to 26 and continue debugging.</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634239514,"creation_date":1634239100,"answer_id":69576243,"question_id":46627102,"body_markdown":"The **IndexOutOfBoundException** throws at the following line e.i - \r\n\r\n     System.out.println(row.get(number) + &quot;&quot; + column.get(number));\r\n\r\nThe exception thrown because there is no any insertion happen in the ArrayList **column** and it always be empty that&#39;s why `column.get(number)` throws  **IndexOutOfBoundException** exception.\r\n\r\nIf you make the changes in the SOP as following then you get the output something like  -  \r\n\r\n    System.out.println(row + &quot; &quot; + column);\r\n\r\n**OUTPUT**\r\n\r\n    [A] []\r\n    [A, B] []\r\n    [A, B, C] []\r\n    [A, B, C, D] []\r\n    [A, B, C, D, E] []\r\n\r\nI think the issue is in the if condition which is false in very first pass and then throws the exception check the if condition\r\n\r\n       if(number == columns) {\r\n            column.add(number);\r\n            number = 0;\r\n            columns2--;\r\n        }","title":"IndexOutOfBoundsException on a print statement","body":"<p>The <strong>IndexOutOfBoundException</strong> throws at the following line e.i -</p>\n<pre><code> System.out.println(row.get(number) + &quot;&quot; + column.get(number));\n</code></pre>\n<p>The exception thrown because there is no any insertion happen in the ArrayList <strong>column</strong> and it always be empty that's why <code>column.get(number)</code> throws  <strong>IndexOutOfBoundException</strong> exception.</p>\n<p>If you make the changes in the SOP as following then you get the output something like  -</p>\n<pre><code>System.out.println(row + &quot; &quot; + column);\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>[A] []\n[A, B] []\n[A, B, C] []\n[A, B, C, D] []\n[A, B, C, D, E] []\n</code></pre>\n<p>I think the issue is in the if condition which is false in very first pass and then throws the exception check the if condition</p>\n<pre><code>   if(number == columns) {\n        column.add(number);\n        number = 0;\n        columns2--;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user8705926"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18974,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1689473080,"creation_date":1507431191,"question_id":46627102,"body_markdown":"&lt;br&gt;\r\nI have a print statement that is triggering an exception `IndexOutOfBoundsException`. Here&#39;s the code:&lt;br&gt;\r\n**MAIN METHOD**\r\n\r\n    public class AdvDotComLauncher {\r\n        public static void main(String[] args) {\r\n            AdvDotComTable table = new AdvDotComTable();\r\n            table.createTable(5,5);\r\n        }\r\n    }\r\n**TABLE CLASS**\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class AdvDotComTable {\r\n        public boolean createTable(int rows, int columns) {\r\n            if (rows == 26) {\r\n                //When true is returned, the program will let the user know they have to choose a lower number\r\n                return true;\r\n            }\r\n            String[] dotComs = {&quot;Pets.com&quot;, &quot;Amazon.com&quot;, &quot;Target.com&quot;, &quot;Apple.com&quot;, &quot;Microsoft.com&quot;, &quot;Steampowered.com&quot;};\r\n            ArrayList&lt;Character&gt; row = new ArrayList&lt;Character&gt;();\r\n            ArrayList&lt;Integer&gt; column = new ArrayList&lt;Integer&gt;();\r\n            char[] letters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n            int number = 0;\r\n            int rows2 = rows;\r\n            int columns2 = columns;\r\n            while (rows2 != 0 &amp;&amp; columns2 != 0) {\r\n                row.add(letters[number]);\r\n                if(number == columns) {\r\n                    column.add(number);\r\n                    number = 0;\r\n                    columns2--;\r\n                }\r\n                System.out.println(row.get(number) + &quot;&quot; + column.get(number));\r\n                number++;\r\n                rows2--;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n**ERROR**&lt;br&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out-of-bounds for length 0\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n    \tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\r\n    \tat java.base/java.util.Objects.checkIndex(Objects.java:372)\r\n    \tat java.base/java.util.ArrayList.get(ArrayList.java:439)\r\n    \tat AdvDotComTable.createTable(AdvDotComTable.java:23)\r\n    \tat AdvDotComLauncher.main(AdvDotComLauncher.java:4)\r\n\r\nI have no idea what is causing this problem, and any assistance would be appreciated. I am an amateur developer just trying to learn, so it&#39;s probably a silly mistake (sorry about that). \r\nThanks in advance,&lt;br&gt;\r\nLyfe\r\n\r\n","title":"IndexOutOfBoundsException on a print statement","body":"<p><br>\nI have a print statement that is triggering an exception <code>IndexOutOfBoundsException</code>. Here's the code:<br>\n<strong>MAIN METHOD</strong></p>\n\n<pre><code>public class AdvDotComLauncher {\n    public static void main(String[] args) {\n        AdvDotComTable table = new AdvDotComTable();\n        table.createTable(5,5);\n    }\n}\n</code></pre>\n\n<p><strong>TABLE CLASS</strong></p>\n\n<pre><code>import java.util.ArrayList;\n\npublic class AdvDotComTable {\n    public boolean createTable(int rows, int columns) {\n        if (rows == 26) {\n            //When true is returned, the program will let the user know they have to choose a lower number\n            return true;\n        }\n        String[] dotComs = {\"Pets.com\", \"Amazon.com\", \"Target.com\", \"Apple.com\", \"Microsoft.com\", \"Steampowered.com\"};\n        ArrayList&lt;Character&gt; row = new ArrayList&lt;Character&gt;();\n        ArrayList&lt;Integer&gt; column = new ArrayList&lt;Integer&gt;();\n        char[] letters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".toCharArray();\n        int number = 0;\n        int rows2 = rows;\n        int columns2 = columns;\n        while (rows2 != 0 &amp;&amp; columns2 != 0) {\n            row.add(letters[number]);\n            if(number == columns) {\n                column.add(number);\n                number = 0;\n                columns2--;\n            }\n            System.out.println(row.get(number) + \"\" + column.get(number));\n            number++;\n            rows2--;\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p><strong>ERROR</strong><br></p>\n\n<pre><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index 0 out-of-bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\n    at java.base/java.util.Objects.checkIndex(Objects.java:372)\n    at java.base/java.util.ArrayList.get(ArrayList.java:439)\n    at AdvDotComTable.createTable(AdvDotComTable.java:23)\n    at AdvDotComLauncher.main(AdvDotComLauncher.java:4)\n</code></pre>\n\n<p>I have no idea what is causing this problem, and any assistance would be appreciated. I am an amateur developer just trying to learn, so it's probably a silly mistake (sorry about that). \nThanks in advance,<br>\nLyfe</p>\n"},{"tags":["java","android","image","imagedownload","android-internal-storage"],"answers":[{"tags":[],"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689463107,"creation_date":1689463107,"answer_id":76696121,"question_id":76694005,"body_markdown":"You can use other libraries for the download files. I can suggest you fetch is so usefully and have a simple download listener you can try this. That library is so simple and usefull. If you still getting error you can share log with us. https://github.com/tonyofrancis/Fetch","title":"How to download an image from a URL to personal storage in Android using Java?","body":"<p>You can use other libraries for the download files. I can suggest you fetch is so usefully and have a simple download listener you can try this. That library is so simple and usefull. If you still getting error you can share log with us. <a href=\"https://github.com/tonyofrancis/Fetch\" rel=\"nofollow noreferrer\">https://github.com/tonyofrancis/Fetch</a></p>\n"},{"tags":[],"owner":{"account_id":26792175,"reputation":126,"user_id":20385417,"display_name":"Nguyễn Minh Khoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689472287,"creation_date":1689472287,"answer_id":76696392,"question_id":76694005,"body_markdown":"Simple from this guy,  https://m.youtube.com/watch?v=4t8EevQSYK4 and It always work for me ","title":"How to download an image from a URL to personal storage in Android using Java?","body":"<p>Simple from this guy,  <a href=\"https://m.youtube.com/watch?v=4t8EevQSYK4\" rel=\"nofollow noreferrer\">https://m.youtube.com/watch?v=4t8EevQSYK4</a> and It always work for me</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689472287,"creation_date":1689428066,"question_id":76694005,"body_markdown":"I am trying to make a chat app. If a user sends a picture to me, I want to download that picture in my phone&#39;s internal storage. I used the `URL` of the image stored in the `Firebase Storage` to show it on my app via `Gradle`, but I don&#39;t understand how can I download this image in my own personal storage. I want the user to click a `button` on the app and be able to download the image that is being displayed to his phone&#39;s screen.\r\nI tried watching some videos but neither of them solved my problem. They just show how to display it inside the app, not how to download it. Or maybe I don&#39;t know how to find that video and what keywords to use. That&#39;s why I asked here. I made my question as clear as I can.\r\n\r\nI added these permissions in the `manifest` file for read and write storage, also for the `internet` permission- (Is there any other permission need to be added for WIFI connection?)\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nAnd I tried this code I found on the internet-\r\n\r\n```\r\nbinding.downloadBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                        ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 123);\r\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 123);\r\n                    Toast.makeText(ShowImageActivity.this, &quot;Need Permission to access storage for Downloading Image&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(ShowImageActivity.this, &quot;Downloading Image...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    downloadImage(ShowImageActivity.this, &quot;image&quot;,&quot;.jpg&quot;,DIRECTORY_DOWNLOADS,imageURL);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\n\r\n```\r\npublic void downloadImage(Context cx, String fileName, String fileExtension, String destinationDirectory, String url){\r\n        DownloadManager dm = (DownloadManager) cx.getSystemService(cx.DOWNLOAD_SERVICE);\r\n        Uri uri = Uri.parse(url);\r\n        DownloadManager.Request request = new DownloadManager.Request(uri);\r\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n        request.setDestinationInExternalFilesDir(cx, destinationDirectory, fileName+fileExtension);\r\n        dm.enqueue(request);\r\n    }\r\n```\r\n\r\nBut it isn&#39;t working, every time I click the `button` the notification shows **Download task failed**, and nothing is being downloaded. What are the easiest ways of downloading an image or any file from an `URL` using `Java`? I asked this question before but I haven&#39;t received any answers. I hope I will get some answers this time.","title":"How to download an image from a URL to personal storage in Android using Java?","body":"<p>I am trying to make a chat app. If a user sends a picture to me, I want to download that picture in my phone's internal storage. I used the <code>URL</code> of the image stored in the <code>Firebase Storage</code> to show it on my app via <code>Gradle</code>, but I don't understand how can I download this image in my own personal storage. I want the user to click a <code>button</code> on the app and be able to download the image that is being displayed to his phone's screen.\nI tried watching some videos but neither of them solved my problem. They just show how to display it inside the app, not how to download it. Or maybe I don't know how to find that video and what keywords to use. That's why I asked here. I made my question as clear as I can.</p>\n<p>I added these permissions in the <code>manifest</code> file for read and write storage, also for the <code>internet</code> permission- (Is there any other permission need to be added for WIFI connection?)</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>And I tried this code I found on the internet-</p>\n<pre><code>binding.downloadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n                        ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 123);\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 123);\n                    Toast.makeText(ShowImageActivity.this, &quot;Need Permission to access storage for Downloading Image&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(ShowImageActivity.this, &quot;Downloading Image...&quot;, Toast.LENGTH_SHORT).show();\n\n                    downloadImage(ShowImageActivity.this, &quot;image&quot;,&quot;.jpg&quot;,DIRECTORY_DOWNLOADS,imageURL);\n                }\n            }\n        });\n</code></pre>\n<pre><code>public void downloadImage(Context cx, String fileName, String fileExtension, String destinationDirectory, String url){\n        DownloadManager dm = (DownloadManager) cx.getSystemService(cx.DOWNLOAD_SERVICE);\n        Uri uri = Uri.parse(url);\n        DownloadManager.Request request = new DownloadManager.Request(uri);\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n        request.setDestinationInExternalFilesDir(cx, destinationDirectory, fileName+fileExtension);\n        dm.enqueue(request);\n    }\n</code></pre>\n<p>But it isn't working, every time I click the <code>button</code> the notification shows <strong>Download task failed</strong>, and nothing is being downloaded. What are the easiest ways of downloading an image or any file from an <code>URL</code> using <code>Java</code>? I asked this question before but I haven't received any answers. I hope I will get some answers this time.</p>\n"},{"tags":["java","android","kotlin","date-parsing"],"comments":[{"owner":{"account_id":6423740,"reputation":483,"user_id":4979652,"display_name":"Amin"},"score":0,"creation_date":1689470980,"post_id":76675402,"comment_id":135217930,"body_markdown":"@Unmitigated You are right this only happens if the localization changed.\non my case the function works fine in English but when the app turns to Arabic here I faced the issue , I Changed Locale.getDefault() to Locale.ENGLISH and the problem solved","body":"@Unmitigated You are right this only happens if the localization changed. on my case the function works fine in English but when the app turns to Arabic here I faced the issue , I Changed Locale.getDefault() to Locale.ENGLISH and the problem solved"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1690019863,"post_id":76675402,"comment_id":135296695,"body_markdown":"[Never use `SimpleDateFormat` or `DateTimeFormatter` without a Locale](https://stackoverflow.com/a/65544056/10819573). Also, I recommend you switch from the error-prone legacy date-time API to the modern date-time API.","body":"<a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code> without a Locale</a>. Also, I recommend you switch from the error-prone legacy date-time API to the modern date-time API."}],"answers":[{"tags":[],"owner":{"account_id":6423740,"reputation":483,"user_id":4979652,"display_name":"Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689471083,"creation_date":1689471083,"answer_id":76696363,"question_id":76675402,"body_markdown":"This only happens if the localization changed.\r\non my case the function works fine in English but when the app turns to Arabic here I faced the issue , \r\n\r\n&gt; I Changed **Locale.getDefault()** to **Locale.ENGLISH** and the problem solved","title":"Android Unparseable date exception when try to parse date format","body":"<p>This only happens if the localization changed.\non my case the function works fine in English but when the app turns to Arabic here I faced the issue ,</p>\n<blockquote>\n<p>I Changed <strong>Locale.getDefault()</strong> to <strong>Locale.ENGLISH</strong> and the problem solved</p>\n</blockquote>\n"}],"owner":{"account_id":6423740,"reputation":483,"user_id":4979652,"display_name":"Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76696363,"answer_count":1,"score":0,"last_activity_date":1689471083,"creation_date":1689212797,"question_id":76675402,"body_markdown":"I try to parse this date &quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated Universal Time)&quot; \r\nusing this code \r\n\r\n      val sdf = SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss &quot;, Locale.getDefault())\r\n        val time = try {\r\n            val mDate = sdf.parse(input)\r\n            mDate!!.time\r\n        } catch (e: ParseException) {\r\n            -1\r\n        }\r\nBut I get this error \r\n\r\n&gt; Unparseable date: \\&quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated\r\n&gt; Universal Time)\\&quot;\r\n\r\n","title":"Android Unparseable date exception when try to parse date format","body":"<p>I try to parse this date &quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated Universal Time)&quot;\nusing this code</p>\n<pre><code>  val sdf = SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss &quot;, Locale.getDefault())\n    val time = try {\n        val mDate = sdf.parse(input)\n        mDate!!.time\n    } catch (e: ParseException) {\n        -1\n    }\n</code></pre>\n<p>But I get this error</p>\n<blockquote>\n<p>Unparseable date: &quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated\nUniversal Time)&quot;</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","apache-flink","flink-streaming","amazon-kinesis"],"comments":[{"owner":{"account_id":15431827,"reputation":117,"user_id":11142693,"display_name":"Pierre"},"score":0,"creation_date":1701947975,"post_id":76696311,"comment_id":136839164,"body_markdown":"did you get an answer?","body":"did you get an answer?"}],"owner":{"account_id":29025470,"reputation":1,"user_id":22233773,"display_name":"squirrel_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689468842,"creation_date":1689468842,"question_id":76696311,"body_markdown":"I&#39;m trying to use user A to assume role R1, and using R1 assume R2 in a different account. I have gone as far as creating an StsClient to get the accessKeyId, secretKeyId, and sessionToken that I need, but based on Flink&#39;s documentation there is no way for me to provide this property and that&#39;s causing me to get the following error:\r\n\r\n`Caused by: org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.model.AmazonKinesisException: The security token included in the request is invalid.`\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic class TestKinesisConnection {\r\n    public static void main(String[] args) throws Exception {\r\n        // AWS Code\r\n        StsClient stsClient = StsClient.builder()\r\n                .region(Region.US_WEST_1)\r\n                .credentialsProvider(ProfileCredentialsProvider.create(&quot;someProfile&quot;))\r\n                .build();\r\n        AssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(\r\n                AssumeRoleRequest.builder()\r\n                .roleArn(&quot;arn:aws:iam::1234567890:role/R1&quot;)\r\n                .roleSessionName(&quot;AssumeRole&quot;)\r\n                .build()\r\n        );\r\n        stsClient = StsClient.builder()\r\n                .region(Region.US_WEST_1)\r\n                .credentialsProvider(StaticCredentialsProvider.create(AwsSessionCredentials.create(\r\n                        assumeRoleResponse.credentials().accessKeyId(),\r\n                        assumeRoleResponse.credentials().secretAccessKey(),\r\n                        assumeRoleResponse.credentials().sessionToken()\r\n                ))).build();\r\n        assumeRoleResponse = stsClient.assumeRole(\r\n                AssumeRoleRequest.builder()\r\n                        .roleArn(&quot;arn:aws:iam::09876543210:role/R2&quot;)\r\n                        .roleSessionName(&quot;CrossAccount&quot;)\r\n                        .build()\r\n        );\r\n        \r\n        // Flink Code\r\n        Properties consumerConfig = new Properties();\r\n\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_REGION, Region.US_WEST_1);\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ACCESS_KEY_ID, assumeRoleResponse.credentials().accessKeyId());\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_SECRET_ACCESS_KEY, assumeRoleResponse.credentials().secretAccessKey());\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_SESSION_NAME, &quot;CrossAccount&quot;);\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_ARN, &quot;arn:aws:iam::09876543210:role/R2&quot;);\r\n\r\n        consumerConfig.setProperty(&quot;flink.stream.initpos&quot;, &quot;TRIM_HORIZON&quot;);\r\n\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        FlinkKinesisConsumer&lt;String&gt; kinesis = new FlinkKinesisConsumer&lt;&gt;(\r\n                &quot;TestFlinkConsumerStream&quot;, new SimpleStringSchema(), consumerConfig);\r\n\r\n        env.addSource(kinesis).addSink(new PrintSinkFunction&lt;&gt;());\r\n        env.execute(&quot;TestFlinkConsumer&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m expecting the program to output the contents of the Kinesis stream in the other account after successfully assuming the role R2.","title":"How do I provide a session token when using FlinkKinesisConsumer in Java?","body":"<p>I'm trying to use user A to assume role R1, and using R1 assume R2 in a different account. I have gone as far as creating an StsClient to get the accessKeyId, secretKeyId, and sessionToken that I need, but based on Flink's documentation there is no way for me to provide this property and that's causing me to get the following error:</p>\n<p><code>Caused by: org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.model.AmazonKinesisException: The security token included in the request is invalid.</code></p>\n<p>Here's my code:</p>\n<pre><code>public class TestKinesisConnection {\n    public static void main(String[] args) throws Exception {\n        // AWS Code\n        StsClient stsClient = StsClient.builder()\n                .region(Region.US_WEST_1)\n                .credentialsProvider(ProfileCredentialsProvider.create(&quot;someProfile&quot;))\n                .build();\n        AssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(\n                AssumeRoleRequest.builder()\n                .roleArn(&quot;arn:aws:iam::1234567890:role/R1&quot;)\n                .roleSessionName(&quot;AssumeRole&quot;)\n                .build()\n        );\n        stsClient = StsClient.builder()\n                .region(Region.US_WEST_1)\n                .credentialsProvider(StaticCredentialsProvider.create(AwsSessionCredentials.create(\n                        assumeRoleResponse.credentials().accessKeyId(),\n                        assumeRoleResponse.credentials().secretAccessKey(),\n                        assumeRoleResponse.credentials().sessionToken()\n                ))).build();\n        assumeRoleResponse = stsClient.assumeRole(\n                AssumeRoleRequest.builder()\n                        .roleArn(&quot;arn:aws:iam::09876543210:role/R2&quot;)\n                        .roleSessionName(&quot;CrossAccount&quot;)\n                        .build()\n        );\n        \n        // Flink Code\n        Properties consumerConfig = new Properties();\n\n        consumerConfig.setProperty(AWSConfigConstants.AWS_REGION, Region.US_WEST_1);\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ACCESS_KEY_ID, assumeRoleResponse.credentials().accessKeyId());\n        consumerConfig.setProperty(AWSConfigConstants.AWS_SECRET_ACCESS_KEY, assumeRoleResponse.credentials().secretAccessKey());\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_SESSION_NAME, &quot;CrossAccount&quot;);\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_ARN, &quot;arn:aws:iam::09876543210:role/R2&quot;);\n\n        consumerConfig.setProperty(&quot;flink.stream.initpos&quot;, &quot;TRIM_HORIZON&quot;);\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        FlinkKinesisConsumer&lt;String&gt; kinesis = new FlinkKinesisConsumer&lt;&gt;(\n                &quot;TestFlinkConsumerStream&quot;, new SimpleStringSchema(), consumerConfig);\n\n        env.addSource(kinesis).addSink(new PrintSinkFunction&lt;&gt;());\n        env.execute(&quot;TestFlinkConsumer&quot;);\n    }\n}\n</code></pre>\n<p>I'm expecting the program to output the contents of the Kinesis stream in the other account after successfully assuming the role R2.</p>\n"},{"tags":["java","android","kotlin","android-edittext","android-textinputlayout"],"answers":[{"tags":[],"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689466330,"creation_date":1689466330,"answer_id":76696236,"question_id":76692257,"body_markdown":"You can change your main bottom sheet layout with nested scroll view it should work.","title":"Change the default behaviour of edit text in android","body":"<p>You can change your main bottom sheet layout with nested scroll view it should work.</p>\n"}],"owner":{"account_id":29021070,"reputation":1,"user_id":22230445,"display_name":"Shubham Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689466330,"creation_date":1689396454,"question_id":76692257,"body_markdown":"So I have make a bottom sheet drawer inside it i have a recycler view which have a set of item in list manner. so every item on click opens and have a chat box in it. so the problem here is i have make a custom editText for that but default property of edittext is it only take in focus a single line not all. so can you provide me some idea how can make all the edittext above the keyboard not a single line whenever i open it\r\n\r\n\r\n\r\n\r\n\r\nsolution i have used a --&gt; used windowSoftInput as adjustPan , adjustResize , change the focus of edittext as well as applied focus listener on edittext , change properties of scroll view to focusonTouch listener . so can you provide me how can i make my edittext to go up whenever focus goes on it as it is multiline","title":"Change the default behaviour of edit text in android","body":"<p>So I have make a bottom sheet drawer inside it i have a recycler view which have a set of item in list manner. so every item on click opens and have a chat box in it. so the problem here is i have make a custom editText for that but default property of edittext is it only take in focus a single line not all. so can you provide me some idea how can make all the edittext above the keyboard not a single line whenever i open it</p>\n<p>solution i have used a --&gt; used windowSoftInput as adjustPan , adjustResize , change the focus of edittext as well as applied focus listener on edittext , change properties of scroll view to focusonTouch listener . so can you provide me how can i make my edittext to go up whenever focus goes on it as it is multiline</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689457275,"post_id":76695865,"comment_id":135217064,"body_markdown":"Where are you calling `findLatest`? I cannot reproduce this.","body":"Where are you calling <code>findLatest</code>? I cannot reproduce this."},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689457689,"post_id":76695865,"comment_id":135217113,"body_markdown":"@Unmitigated from an interface","body":"@Unmitigated from an interface"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689457761,"post_id":76695865,"comment_id":135217119,"body_markdown":"Can you show the code that calls it?","body":"Can you show the code that calls it?"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689458854,"post_id":76695865,"comment_id":135217187,"body_markdown":"@Unmitigated public interface AlertProvider {\n    List&lt;AppointmentEntity&gt; findLatest(String customerId);\n}","body":"@Unmitigated public interface AlertProvider {     List&lt;AppointmentEntity&gt; findLatest(String customerId); }"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689459460,"post_id":76695865,"comment_id":135217233,"body_markdown":"That&#39;s the method definition, not where the method is called.","body":"That&#39;s the method definition, not where the method is called."},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689459990,"post_id":76695865,"comment_id":135217281,"body_markdown":"@Unmitigated sorry, my bad. it is currently being called by a test class.                  \n   Test\n    void findLatest() {\n        List&lt;AppointmentEntity&gt; appointmentEntities =appointmentAlertProvider.findLatest(&quot;customerId&quot;);\n        assertThat(appointmentEntities.size()).isOne();\n    }","body":"@Unmitigated sorry, my bad. it is currently being called by a test class.                      Test     void findLatest() {         List&lt;AppointmentEntity&gt; appointmentEntities =appointmentAlertProvider.findLatest(&quot;customerId&quot;);         assertThat(appointmentEntities.size()).isOne();     }"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689462340,"post_id":76695865,"comment_id":135217456,"body_markdown":"Can you please [edit] your question and include the full test class where that happens? How is `AppointmentAlertProvider` instantiated?","body":"Can you please <a href=\"https://stackoverflow.com/posts/76695865/edit\">edit</a> your question and include the full test class where that happens? How is <code>AppointmentAlertProvider</code> instantiated?"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689465237,"post_id":76695865,"comment_id":135217620,"body_markdown":"@dan1stisonstrike it is edited now, thank you.","body":"@dan1stisonstrike it is edited now, thank you."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1689484309,"post_id":76695865,"comment_id":135218467,"body_markdown":"If  Spring doesn&#39;t autowire your `AppointmentRepository` then it is because it can&#39;t find it.  I am guessing you forgot to annotate the `AppointmentRepository` or speficied the `@ComponentScan` to look in a different package","body":"If  Spring doesn&#39;t autowire your <code>AppointmentRepository</code> then it is because it can&#39;t find it.  I am guessing you forgot to annotate the <code>AppointmentRepository</code> or speficied the <code>@ComponentScan</code> to look in a different package"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689517666,"post_id":76695865,"comment_id":135221713,"body_markdown":"@Asgarov it does autowire the AppointmentRepository, yet does not with AlertService","body":"@Asgarov it does autowire the AppointmentRepository, yet does not with AlertService"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689534311,"post_id":76695865,"comment_id":135223622,"body_markdown":"See [Why is my Spring @Autowired field null?](https://stackoverflow.com/q/19896870). If you are creating your `AppointmentAlertProvider` using the constructor, it will not be a Spring Bean and `@Autowire` will therefore not do anything i that instance.","body":"See <a href=\"https://stackoverflow.com/q/19896870\">Why is my Spring @Autowired field null?</a>. If you are creating your <code>AppointmentAlertProvider</code> using the constructor, it will not be a Spring Bean and <code>@Autowire</code> will therefore not do anything i that instance."}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689465211,"creation_date":1689456913,"question_id":76695865,"body_markdown":"I am trying to call a class from another class by autowiring and it is returning a null. \r\nI have two fields autowired, one works but the other does not work. \r\n\r\nThis is the class I am trying to autowire and I am trying to get &#39;apppointmentAlertDays&#39;:\r\n\r\n    @Service\r\n    public class AlertsService {\r\n\r\n    public final Integer appointmentAlertDays;\r\n\r\n    public AlertsService(@Value(&quot;${alerts.appointment-alert-days}&quot;) Integer appointmentAlertDays){\r\n        this.appointmentAlertDays = appointmentAlertDays;\r\n    }\r\n\r\nThis is the class I am trying to call &quot;AlertsService&quot; in, however appointmentRepository does not return a null:\r\n\r\n    @Service\r\n    public class AppointmentAlertProvider implements AlertProvider {\r\n    @Autowired\r\n    private AppointmentRepository appointmentRepository;\r\n\r\n    @Autowired\r\n    private AlertsService alertsService;\r\n\r\n    @Override\r\n    public List&lt;AppointmentEntity&gt; findLatest(String customerId) {\r\n        Integer alertDays = alertsService.appointmentAlertDays;\r\n    }\r\n\r\nThis is where I am calling the &quot;findLatest(String customerId)&quot; method:\r\n\r\n     @Test\r\n    void findLatest() {\r\n        Appointment appointmentRequest = generateDummyAppointment();\r\n        Vehicle vehicle = generateDummyVehicle();\r\n        AppointmentEntity appointmentEntity = appointmentMapper.map(appointmentRequest, vehicle, null);\r\n\r\n        when(appointmentRepository.findAllByCustomerId(anyString())).thenReturn(List.of(appointmentEntity));\r\n\r\n        List&lt;AppointmentEntity&gt; appointmentEntities = appointmentAlertProvider.findLatest(&quot;customerId&quot;);\r\n\r\n        assertThat(appointmentEntities.size()).isOne();\r\n    }\r\n\r\nThis is where AppointmentAlertProvider is instantiated:\r\n\r\n    @Component\r\n    public class AlertProviderFactory {\r\n\r\n    private AlertProviderFactory(){}\r\n\r\n    public static AlertProvider getAlertProvider(String alertType) {\r\n        if (alertType == null || alertType.isEmpty())\r\n                return null;\r\n        if (&quot;appointment-alert&quot;.equals(alertType)) {\r\n            return new AppointmentAlertProvider();\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unknown alertType &quot; + alertType);\r\n    }\r\n\r\nMy question is, how do I get &#39;appointmentAlertDays&#39; from AlertsService? Thank you.\r\n\r\n\r\n","title":"@Autowiring from another service class returning null","body":"<p>I am trying to call a class from another class by autowiring and it is returning a null.\nI have two fields autowired, one works but the other does not work.</p>\n<p>This is the class I am trying to autowire and I am trying to get 'apppointmentAlertDays':</p>\n<pre><code>@Service\npublic class AlertsService {\n\npublic final Integer appointmentAlertDays;\n\npublic AlertsService(@Value(&quot;${alerts.appointment-alert-days}&quot;) Integer appointmentAlertDays){\n    this.appointmentAlertDays = appointmentAlertDays;\n}\n</code></pre>\n<p>This is the class I am trying to call &quot;AlertsService&quot; in, however appointmentRepository does not return a null:</p>\n<pre><code>@Service\npublic class AppointmentAlertProvider implements AlertProvider {\n@Autowired\nprivate AppointmentRepository appointmentRepository;\n\n@Autowired\nprivate AlertsService alertsService;\n\n@Override\npublic List&lt;AppointmentEntity&gt; findLatest(String customerId) {\n    Integer alertDays = alertsService.appointmentAlertDays;\n}\n</code></pre>\n<p>This is where I am calling the &quot;findLatest(String customerId)&quot; method:</p>\n<pre><code> @Test\nvoid findLatest() {\n    Appointment appointmentRequest = generateDummyAppointment();\n    Vehicle vehicle = generateDummyVehicle();\n    AppointmentEntity appointmentEntity = appointmentMapper.map(appointmentRequest, vehicle, null);\n\n    when(appointmentRepository.findAllByCustomerId(anyString())).thenReturn(List.of(appointmentEntity));\n\n    List&lt;AppointmentEntity&gt; appointmentEntities = appointmentAlertProvider.findLatest(&quot;customerId&quot;);\n\n    assertThat(appointmentEntities.size()).isOne();\n}\n</code></pre>\n<p>This is where AppointmentAlertProvider is instantiated:</p>\n<pre><code>@Component\npublic class AlertProviderFactory {\n\nprivate AlertProviderFactory(){}\n\npublic static AlertProvider getAlertProvider(String alertType) {\n    if (alertType == null || alertType.isEmpty())\n            return null;\n    if (&quot;appointment-alert&quot;.equals(alertType)) {\n        return new AppointmentAlertProvider();\n    }\n    throw new IllegalArgumentException(&quot;Unknown alertType &quot; + alertType);\n}\n</code></pre>\n<p>My question is, how do I get 'appointmentAlertDays' from AlertsService? Thank you.</p>\n"},{"tags":["java","multithreading","concurrency","synchronization","java.util.concurrent"],"comments":[{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":1,"creation_date":1506231671,"post_id":4201713,"comment_id":79731727,"body_markdown":"helpful article here : http://javarevisited.blogspot.in/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html","body":"helpful article here : <a href=\"http://javarevisited.blogspot.in/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.in/2013/03/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"down_vote_count":1,"up_vote_count":209,"is_accepted":true,"score":208,"last_activity_date":1289971136,"creation_date":1289971136,"answer_id":4201734,"question_id":4201713,"body_markdown":"If you&#39;re simply locking an object, I&#39;d prefer to use `synchronized`\r\n\r\nExample:\r\n\r\n    Lock.acquire();\r\n    doSomethingNifty(); // Throws a NPE!\r\n    Lock.release(); // Oh noes, we never release the lock!\r\n\r\nYou have to explicitly do `try{} finally{}` everywhere.\r\n\r\nWhereas with synchronized, it&#39;s super clear and impossible to get wrong:\r\n\r\n    synchronized(myObject) {\r\n        doSomethingNifty();\r\n    }\r\n\r\nThat said, `Lock`s may be more useful for more complicated things where you can&#39;t acquire and release in such a clean manner.  I would honestly prefer to avoid using bare `Lock`s in the first place, and just go with a more sophisticated concurrency control such as a `CyclicBarrier` or a `LinkedBlockingQueue`, if they meet your needs.\r\n\r\nI&#39;ve never had a reason to use `wait()` or `notify()` but there may be some good ones.","title":"Synchronization vs Lock","body":"<p>If you're simply locking an object, I'd prefer to use <code>synchronized</code></p>\n\n<p>Example:</p>\n\n<pre><code>Lock.acquire();\ndoSomethingNifty(); // Throws a NPE!\nLock.release(); // Oh noes, we never release the lock!\n</code></pre>\n\n<p>You have to explicitly do <code>try{} finally{}</code> everywhere.</p>\n\n<p>Whereas with synchronized, it's super clear and impossible to get wrong:</p>\n\n<pre><code>synchronized(myObject) {\n    doSomethingNifty();\n}\n</code></pre>\n\n<p>That said, <code>Lock</code>s may be more useful for more complicated things where you can't acquire and release in such a clean manner.  I would honestly prefer to avoid using bare <code>Lock</code>s in the first place, and just go with a more sophisticated concurrency control such as a <code>CyclicBarrier</code> or a <code>LinkedBlockingQueue</code>, if they meet your needs.</p>\n\n<p>I've never had a reason to use <code>wait()</code> or <code>notify()</code> but there may be some good ones.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1476723754,"creation_date":1289971137,"answer_id":4201735,"question_id":4201713,"body_markdown":"You can achieve everything the utilities in [java.util.concurrent][1]  do with the low-level primitives like `synchronized`, `volatile`, or [wait][2] / [notify][3]\r\n\r\nHowever, concurrency is tricky, and most people get at least some parts of it wrong, making their code either incorrect or inefficient (or both).\r\n\r\nThe concurrent API provides a higher-level approach, which is easier (and as such safer) to use. In a nutshell, you should not need to use `synchronized, volatile, wait, notify` directly anymore. \r\n\r\nThe [Lock][4]  class itself is on the lower-level side of this toolbox, you may not even need to use that directly either (you can use `Queues` and [Semaphore][5] and stuff, etc, most of the time).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html","title":"Synchronization vs Lock","body":"<p>You can achieve everything the utilities in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"noreferrer\">java.util.concurrent</a>  do with the low-level primitives like <code>synchronized</code>, <code>volatile</code>, or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--\" rel=\"noreferrer\">wait</a> / <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--\" rel=\"noreferrer\">notify</a></p>\n\n<p>However, concurrency is tricky, and most people get at least some parts of it wrong, making their code either incorrect or inefficient (or both).</p>\n\n<p>The concurrent API provides a higher-level approach, which is easier (and as such safer) to use. In a nutshell, you should not need to use <code>synchronized, volatile, wait, notify</code> directly anymore. </p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"noreferrer\">Lock</a>  class itself is on the lower-level side of this toolbox, you may not even need to use that directly either (you can use <code>Queues</code> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html\" rel=\"noreferrer\">Semaphore</a> and stuff, etc, most of the time).</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85917,"user_id":11296,"display_name":"Bert F"},"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1367687540,"creation_date":1289975389,"answer_id":4202037,"question_id":4201713,"body_markdown":"&gt; I am wondering which one of these is better in practice and why?\r\n\r\nI&#39;ve found that `Lock` and `Condition` (and other new `concurrent` classes) are just more tools for the toolbox. I could do most everything I needed with my old claw hammer (the `synchronized` keyword), but it was awkward to use in some situations. Several of those awkward situations became much simpler once I added more tools to my toolbox: a rubber mallet, a ball-peen hammer, a prybar, and some nail punches. *However*, my old claw hammer still sees its share of use.\r\n\r\nI don&#39;t think one is really &quot;better&quot; than the other, but rather each is a better fit for different problems.  In a nutshell, the simple model and scope-oriented nature of `synchronized` helps protect me from bugs in my code, but those same advantages are sometimes hindrances in more complex scenarios. Its these more complex scenarios that the concurrent package was created to help address. But using this higher level constructs requires more explicit and careful management in the code.\r\n\r\n===\r\n\r\nI think the [JavaDoc][1] does a good job of describing the distinction between `Lock` and `synchronized` (the emphasis is mine):\r\n\r\n&gt; Lock implementations provide ***more extensive locking operations*** than can be obtained using synchronized methods and statements. They allow ***more flexible structuring***, may have quite different properties, and may ***support multiple associated Condition objects***.\r\n\r\n&gt; ...\r\n\r\n&gt; The use of ***synchronized methods*** or statements provides access to the implicit monitor lock associated with every object, but ***forces all lock acquisition and release to occur in a block-structured way***: when ***multiple locks*** are ***acquired*** they ***must be released in the opposite order***, and all ***locks must be released in the same lexical scope in which they were acquired***.\r\n\r\n&gt; While the scoping mechanism for ***synchronized*** methods and statements ***makes it much easier to program with monitor locks***, and helps ***avoid many common programming errors involving locks, there are occasions where you need to work with locks in a more flexible way. For example, ***some algorithms*** for traversing concurrently accessed data structures ***require the use of &quot;hand-over-hand&quot; or &quot;chain locking&quot;***: you acquire the lock of node A, then node B, then release A and acquire C, then release B and acquire D and so on. Implementations of the ***Lock interface*** enable the use of such techniques by ***allowing a lock to be acquired and released in different scopes***, and ***allowing multiple locks to be acquired and released in any order***.\r\n\r\n&gt; With this ***increased flexibility comes additional responsibility***. The ***absence of block-structured locking removes the automatic release of locks*** that occurs with synchronized methods and statements. In most cases, the following idiom should be used:\r\n\r\n&gt; ...\r\n \r\n&gt; When ***locking and unlocking occur in different scopes***, care must be taken to ***ensure*** that all code that is executed while the lock is held ***is protected by try-finally or try-catch*** to ***ensure that the lock is released*** when necessary.\r\n\r\n&gt; Lock implementations provide ***additional functionality*** over the use of synchronized methods and statements by providing a ***non-blocking attempt to acquire*** a lock (tryLock()), an attempt to ***acquire the lock that can be interrupted*** (lockInterruptibly(), and an attempt to ***acquire the lock that can timeout*** (tryLock(long, TimeUnit)).\r\n\r\n&gt; ...\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html","title":"Synchronization vs Lock","body":"<blockquote>\n  <p>I am wondering which one of these is better in practice and why?</p>\n</blockquote>\n\n<p>I've found that <code>Lock</code> and <code>Condition</code> (and other new <code>concurrent</code> classes) are just more tools for the toolbox. I could do most everything I needed with my old claw hammer (the <code>synchronized</code> keyword), but it was awkward to use in some situations. Several of those awkward situations became much simpler once I added more tools to my toolbox: a rubber mallet, a ball-peen hammer, a prybar, and some nail punches. <em>However</em>, my old claw hammer still sees its share of use.</p>\n\n<p>I don't think one is really \"better\" than the other, but rather each is a better fit for different problems.  In a nutshell, the simple model and scope-oriented nature of <code>synchronized</code> helps protect me from bugs in my code, but those same advantages are sometimes hindrances in more complex scenarios. Its these more complex scenarios that the concurrent package was created to help address. But using this higher level constructs requires more explicit and careful management in the code.</p>\n\n<p>===</p>\n\n<p>I think the <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\">JavaDoc</a> does a good job of describing the distinction between <code>Lock</code> and <code>synchronized</code> (the emphasis is mine):</p>\n\n<blockquote>\n  <p>Lock implementations provide <strong><em>more extensive locking operations</em></strong> than can be obtained using synchronized methods and statements. They allow <strong><em>more flexible structuring</em></strong>, may have quite different properties, and may <strong><em>support multiple associated Condition objects</em></strong>.</p>\n  \n  <p>...</p>\n  \n  <p>The use of <strong><em>synchronized methods</em></strong> or statements provides access to the implicit monitor lock associated with every object, but <strong><em>forces all lock acquisition and release to occur in a block-structured way</em></strong>: when <strong><em>multiple locks</em></strong> are <strong><em>acquired</em></strong> they <strong><em>must be released in the opposite order</em></strong>, and all <strong><em>locks must be released in the same lexical scope in which they were acquired</em></strong>.</p>\n  \n  <p>While the scoping mechanism for <strong><em>synchronized</em></strong> methods and statements <strong><em>makes it much easier to program with monitor locks</em></strong>, and helps <strong><em>avoid many common programming errors involving locks, there are occasions where you need to work with locks in a more flexible way. For example, *</em>*some algorithms*</strong> for traversing concurrently accessed data structures <strong><em>require the use of \"hand-over-hand\" or \"chain locking\"</em></strong>: you acquire the lock of node A, then node B, then release A and acquire C, then release B and acquire D and so on. Implementations of the <strong><em>Lock interface</em></strong> enable the use of such techniques by <strong><em>allowing a lock to be acquired and released in different scopes</em></strong>, and <strong><em>allowing multiple locks to be acquired and released in any order</em></strong>.</p>\n  \n  <p>With this <strong><em>increased flexibility comes additional responsibility</em></strong>. The <strong><em>absence of block-structured locking removes the automatic release of locks</em></strong> that occurs with synchronized methods and statements. In most cases, the following idiom should be used:</p>\n  \n  <p>...</p>\n  \n  <p>When <strong><em>locking and unlocking occur in different scopes</em></strong>, care must be taken to <strong><em>ensure</em></strong> that all code that is executed while the lock is held <strong><em>is protected by try-finally or try-catch</em></strong> to <strong><em>ensure that the lock is released</em></strong> when necessary.</p>\n  \n  <p>Lock implementations provide <strong><em>additional functionality</em></strong> over the use of synchronized methods and statements by providing a <strong><em>non-blocking attempt to acquire</em></strong> a lock (tryLock()), an attempt to <strong><em>acquire the lock that can be interrupted</em></strong> (lockInterruptibly(), and an attempt to <strong><em>acquire the lock that can timeout</em></strong> (tryLock(long, TimeUnit)).</p>\n  \n  <p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1450094738,"creation_date":1290005039,"answer_id":4205518,"question_id":4201713,"body_markdown":"There are 4 main factors into why you would want to use `synchronized` or `java.util.concurrent.Lock`.\r\n\r\nNote: Synchronized locking is what I mean when I say intrinsic locking. \r\n\r\n 1. When Java 5 came out with\r\n    ReentrantLocks, they proved to have\r\n    quite a noticeble throughput\r\n    difference then intrinsic locking. \r\n    If youre looking for faster locking\r\n    mechanism and are running 1.5\r\n    consider j.u.c.ReentrantLock.  Java\r\n    6&#39;s intrinsic locking is now\r\n    comparable.\r\n    \r\n 2. j.u.c.Lock has different mechanisms\r\n        for locking. Lock interruptable -\r\n        attempt to lock until the locking\r\n        thread is interrupted; timed lock -\r\n        attempt to lock for a certain amount\r\n        of time and give up if you do not\r\n        succeed; tryLock - attempt to lock,\r\n        if some other thread is holding the\r\n        lock give up.  This all is included\r\n        aside from the simple lock. \r\n        Intrinsic locking only offers simple\r\n        locking\r\n 3. Style.  If both 1 and 2 do not fall\r\n        into categories of what you are\r\n        concerned with most people,\r\n        including myself, would find the\r\n        intrinsic locking semenatics easier\r\n        to read and less verbose then\r\n        j.u.c.Lock locking.\r\n 4. Multiple Conditions.  An object you\r\n    lock on can only be notified and\r\n    waited for a single case.  Lock&#39;s\r\n    newCondition method allows for a\r\n    single Lock to have mutliple reasons\r\n    to await or signal.  I have yet to\r\n    actually need this functionality in\r\n    practice, but is a nice feature for\r\n    those who need it.\r\n\r\n ","title":"Synchronization vs Lock","body":"<p>There are 4 main factors into why you would want to use <code>synchronized</code> or <code>java.util.concurrent.Lock</code>.</p>\n\n<p>Note: Synchronized locking is what I mean when I say intrinsic locking. </p>\n\n<ol>\n<li><p>When Java 5 came out with\nReentrantLocks, they proved to have\nquite a noticeble throughput\ndifference then intrinsic locking. \nIf youre looking for faster locking\nmechanism and are running 1.5\nconsider j.u.c.ReentrantLock.  Java\n6's intrinsic locking is now\ncomparable.</p></li>\n<li><p>j.u.c.Lock has different mechanisms\n    for locking. Lock interruptable -\n    attempt to lock until the locking\n    thread is interrupted; timed lock -\n    attempt to lock for a certain amount\n    of time and give up if you do not\n    succeed; tryLock - attempt to lock,\n    if some other thread is holding the\n    lock give up.  This all is included\n    aside from the simple lock. \n    Intrinsic locking only offers simple\n    locking</p></li>\n<li>Style.  If both 1 and 2 do not fall\n    into categories of what you are\n    concerned with most people,\n    including myself, would find the\n    intrinsic locking semenatics easier\n    to read and less verbose then\n    j.u.c.Lock locking.</li>\n<li>Multiple Conditions.  An object you\nlock on can only be notified and\nwaited for a single case.  Lock's\nnewCondition method allows for a\nsingle Lock to have mutliple reasons\nto await or signal.  I have yet to\nactually need this functionality in\npractice, but is a nice feature for\nthose who need it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":932016,"reputation":2355,"user_id":961712,"accept_rate":53,"display_name":"Brian Tarbox"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1523120098,"creation_date":1316801204,"answer_id":7533084,"question_id":4201713,"body_markdown":"The main difference is fairness, in other words are requests handled FIFO or can there be barging?  Method level synchronization ensures fair or FIFO allocation of the lock.  Using \r\n  \r\n    synchronized(foo) {\r\n    }\r\nor\r\n    \r\n    lock.acquire(); .....lock.release();\r\ndoes not assure fairness.\r\n\r\nIf you have lots of contention for the lock you can easily encounter barging where newer requests get the lock and older requests get stuck.  I&#39;ve seen cases where 200 threads arrive in short order for a lock and the 2nd one to arrive got processed last.  This is ok for some applications but for others it&#39;s deadly.\r\n\r\nSee Brian Goetz&#39;s &quot;Java Concurrency In Practice&quot; book, section 13.3 for a full discussion of this topic.","title":"Synchronization vs Lock","body":"<p>The main difference is fairness, in other words are requests handled FIFO or can there be barging?  Method level synchronization ensures fair or FIFO allocation of the lock.  Using </p>\n\n<pre><code>synchronized(foo) {\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>lock.acquire(); .....lock.release();\n</code></pre>\n\n<p>does not assure fairness.</p>\n\n<p>If you have lots of contention for the lock you can easily encounter barging where newer requests get the lock and older requests get stuck.  I've seen cases where 200 threads arrive in short order for a lock and the 2nd one to arrive got processed last.  This is ok for some applications but for others it's deadly.</p>\n\n<p>See Brian Goetz's \"Java Concurrency In Practice\" book, section 13.3 for a full discussion of this topic.</p>\n"},{"tags":[],"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1332510653,"creation_date":1332510653,"answer_id":9840341,"question_id":4201713,"body_markdown":"Brian Goetz&#39;s &quot;Java Concurrency In Practice&quot; book, section 13.3:\r\n&quot;...Like the default ReentrantLock, intrinsic locking offers no deterministic fairness guarantees, but the\r\nstatistical fairness guarantees of most locking implementations are good enough for almost all situations...&quot;","title":"Synchronization vs Lock","body":"<p>Brian Goetz's \"Java Concurrency In Practice\" book, section 13.3:\n\"...Like the default ReentrantLock, intrinsic locking offers no deterministic fairness guarantees, but the\nstatistical fairness guarantees of most locking implementations are good enough for almost all situations...\"</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477998099,"creation_date":1450097992,"answer_id":34267717,"question_id":4201713,"body_markdown":"I would like to add some more things on top of  *Bert F* answer.\r\n\r\n`Locks` support various methods for finer grained lock control, which are more expressive than implicit monitors (`synchronized` locks)\r\n\r\n&gt;  A Lock provides exclusive access to a shared resource: only one thread at a time can acquire the lock and all access to the shared resource requires that the lock be acquired first. However, some locks may allow concurrent access to a shared resource, such as the read lock of a ReadWriteLock.\r\n\r\n\r\nAdvantages of **Lock over Synchronization** from documentation [page][1]\r\n\r\n1. The use of synchronized methods or statements provides access to the implicit monitor lock associated with every object, but forces all lock acquisition and release to occur in a block-structured way\r\n\r\n2. Lock implementations provide additional functionality over the use of synchronized methods and statements by providing a non-blocking attempt to acquire a `lock (tryLock())`, an attempt to acquire the lock that can be interrupted (`lockInterruptibly()`, and an attempt to acquire the lock that can `timeout (tryLock(long, TimeUnit))`.\r\n\r\n3. A Lock class can also provide behavior and semantics that is quite different from that of the implicit monitor lock, such as **guaranteed ordering, non-reentrant usage, or deadlock detection**\r\n\r\n\r\n[ReentrantLock][2]: In simple terms as per my understanding, `ReentrantLock` allows an object to re-enter from one critical section to other critical section . Since you already have lock to enter one critical section, you can other critical section on same object by using current lock. \r\n\r\n`ReentrantLock` key features as per this [article][3]\r\n\r\n1. Ability to lock interruptibly.\r\n2. Ability to timeout while waiting for lock.\r\n3. Power to create fair lock.\r\n4. API to get list of waiting thread for lock.\r\n5. Flexibility to try for lock without blocking.\r\n\r\nYou can use  `ReentrantReadWriteLock.ReadLock, ReentrantReadWriteLock.WriteLock` to further acquire control on granular locking on read and write operations.\r\n\r\nApart from these three ReentrantLocks, java 8 provides one more Lock\r\n\r\n**StampedLock:**\r\n\r\n&gt; Java 8 ships with a new kind of lock called StampedLock which also support read and write locks just like in the example above. In contrast to ReadWriteLock the locking methods of a StampedLock return a stamp represented by a long value. \r\n\r\nYou can use these stamps to either release a lock or to check if the lock is still valid. Additionally stamped locks support another lock mode called optimistic locking.\r\n\r\n\r\nHave a look at this [article][4] on usage of different type of `ReentrantLock` and `StampedLock` locks.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html\r\n  [3]: http://javarevisited.blogspot.com/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html#ixzz3uIbhr77e\r\n  [4]: http://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/","title":"Synchronization vs Lock","body":"<p>I would like to add some more things on top of  <em>Bert F</em> answer.</p>\n\n<p><code>Locks</code> support various methods for finer grained lock control, which are more expressive than implicit monitors (<code>synchronized</code> locks)</p>\n\n<blockquote>\n  <p>A Lock provides exclusive access to a shared resource: only one thread at a time can acquire the lock and all access to the shared resource requires that the lock be acquired first. However, some locks may allow concurrent access to a shared resource, such as the read lock of a ReadWriteLock.</p>\n</blockquote>\n\n<p>Advantages of <strong>Lock over Synchronization</strong> from documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"noreferrer\">page</a></p>\n\n<ol>\n<li><p>The use of synchronized methods or statements provides access to the implicit monitor lock associated with every object, but forces all lock acquisition and release to occur in a block-structured way</p></li>\n<li><p>Lock implementations provide additional functionality over the use of synchronized methods and statements by providing a non-blocking attempt to acquire a <code>lock (tryLock())</code>, an attempt to acquire the lock that can be interrupted (<code>lockInterruptibly()</code>, and an attempt to acquire the lock that can <code>timeout (tryLock(long, TimeUnit))</code>.</p></li>\n<li><p>A Lock class can also provide behavior and semantics that is quite different from that of the implicit monitor lock, such as <strong>guaranteed ordering, non-reentrant usage, or deadlock detection</strong></p></li>\n</ol>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"noreferrer\">ReentrantLock</a>: In simple terms as per my understanding, <code>ReentrantLock</code> allows an object to re-enter from one critical section to other critical section . Since you already have lock to enter one critical section, you can other critical section on same object by using current lock. </p>\n\n<p><code>ReentrantLock</code> key features as per this <a href=\"http://javarevisited.blogspot.com/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html#ixzz3uIbhr77e\" rel=\"noreferrer\">article</a></p>\n\n<ol>\n<li>Ability to lock interruptibly.</li>\n<li>Ability to timeout while waiting for lock.</li>\n<li>Power to create fair lock.</li>\n<li>API to get list of waiting thread for lock.</li>\n<li>Flexibility to try for lock without blocking.</li>\n</ol>\n\n<p>You can use  <code>ReentrantReadWriteLock.ReadLock, ReentrantReadWriteLock.WriteLock</code> to further acquire control on granular locking on read and write operations.</p>\n\n<p>Apart from these three ReentrantLocks, java 8 provides one more Lock</p>\n\n<p><strong>StampedLock:</strong></p>\n\n<blockquote>\n  <p>Java 8 ships with a new kind of lock called StampedLock which also support read and write locks just like in the example above. In contrast to ReadWriteLock the locking methods of a StampedLock return a stamp represented by a long value. </p>\n</blockquote>\n\n<p>You can use these stamps to either release a lock or to check if the lock is still valid. Additionally stamped locks support another lock mode called optimistic locking.</p>\n\n<p>Have a look at this <a href=\"http://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/\" rel=\"noreferrer\">article</a> on usage of different type of <code>ReentrantLock</code> and <code>StampedLock</code> locks.</p>\n"},{"tags":[],"owner":{"account_id":986157,"reputation":1713,"user_id":1004589,"accept_rate":36,"display_name":"Md Monjur Ul Hasan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594508428,"creation_date":1466039393,"answer_id":37848283,"question_id":4201713,"body_markdown":"Lock makes programmers&#39; life easier. Here are a few situations that can be achieved easily with lock.\r\n\r\n 1. Lock in one method, and release the lock in another method. \r\n 2. If You have two threads working on two different pieces of code, however, in the first thread has a pre-requisite on a certain piece of code in the second thread (while some other threads also working on the same piece of code in the second thread simultaneously). A shared lock can solve this problem quite easily.\r\n 3. Implementing monitors. For example, a simple queue where the put and get methods are executed from many other threads. However, you do not want multiple put (or get) methods running simultaneously, neither the put and get method running simultaneously. A private lock makes your life a lot easier to achieve this. \r\n\r\nWhile, the lock, and conditions build on the synchronized mechanism. Therefore, can certainly be able to achieve the same functionality that you can achieve using the lock. However, solving complex scenarios with synchronized may make your life difficult and can deviate you from solving the actual problem. ","title":"Synchronization vs Lock","body":"<p>Lock makes programmers' life easier. Here are a few situations that can be achieved easily with lock.</p>\n<ol>\n<li>Lock in one method, and release the lock in another method.</li>\n<li>If You have two threads working on two different pieces of code, however, in the first thread has a pre-requisite on a certain piece of code in the second thread (while some other threads also working on the same piece of code in the second thread simultaneously). A shared lock can solve this problem quite easily.</li>\n<li>Implementing monitors. For example, a simple queue where the put and get methods are executed from many other threads. However, you do not want multiple put (or get) methods running simultaneously, neither the put and get method running simultaneously. A private lock makes your life a lot easier to achieve this.</li>\n</ol>\n<p>While, the lock, and conditions build on the synchronized mechanism. Therefore, can certainly be able to achieve the same functionality that you can achieve using the lock. However, solving complex scenarios with synchronized may make your life difficult and can deviate you from solving the actual problem.</p>\n"},{"tags":[],"owner":{"account_id":7252265,"reputation":546,"user_id":5532090,"display_name":"NKumar"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1547084920,"creation_date":1504103205,"answer_id":45963069,"question_id":4201713,"body_markdown":"Major difference between lock and synchronized:\r\n\r\n- with locks, you can release and acquire the locks in any order.\r\n- with synchronized, you can release the locks only in the order it was acquired.","title":"Synchronization vs Lock","body":"<p>Major difference between lock and synchronized:</p>\n\n<ul>\n<li>with locks, you can release and acquire the locks in any order.</li>\n<li>with synchronized, you can release the locks only in the order it was acquired.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5331806,"reputation":191,"user_id":4252198,"display_name":"Shyam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532673003,"creation_date":1532673003,"answer_id":51551990,"question_id":4201713,"body_markdown":"Lock and synchronize block both serves the same purpose but it depends on the usage. Consider the below part\r\n\r\n    void randomFunction(){\r\n    .\r\n    .\r\n    .\r\n    synchronize(this){\r\n    //do some functionality\r\n    }\r\n    \r\n    .\r\n    .\r\n    .\r\n    synchronize(this)\r\n    {\r\n    // do some functionality\r\n    }\r\n    \r\n    \r\n    } // end of randomFunction\r\n\r\nIn the above case , if a thread enters the synchronize block, the other block is also locked. If there are multiple such synchronize block on the same object, all the blocks are locked. In such situations ,  java.util.concurrent.Lock can be used to prevent unwanted locking of blocks","title":"Synchronization vs Lock","body":"<p>Lock and synchronize block both serves the same purpose but it depends on the usage. Consider the below part</p>\n\n<pre><code>void randomFunction(){\n.\n.\n.\nsynchronize(this){\n//do some functionality\n}\n\n.\n.\n.\nsynchronize(this)\n{\n// do some functionality\n}\n\n\n} // end of randomFunction\n</code></pre>\n\n<p>In the above case , if a thread enters the synchronize block, the other block is also locked. If there are multiple such synchronize block on the same object, all the blocks are locked. In such situations ,  java.util.concurrent.Lock can be used to prevent unwanted locking of blocks</p>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689465044,"creation_date":1689465044,"answer_id":76696199,"question_id":4201713,"body_markdown":"Here is comprehensive comparison `synchronized` vs `Lock`\r\n\r\n**Synchronized advantages**:\r\n\r\n - Automatic release: no need in try-finally, protection against forgotten release.\r\n\r\n        synchronized {\r\n            someCode();\r\n        }\r\n\r\n    vs \r\n\r\n        lock.lock();\r\n        try {\r\n            someCode();\r\n        } finally {\r\n            lock.release();\r\n        }\r\n - Less extra lines (an example above)\r\n - Ability to mark an entire method `synchronized`, avoid extra lines and extra tabulation\r\n\r\n        public synchronized someMethod() {\r\n            someCode();\r\n        }\r\n\r\n**Lock advantages:**\r\n\r\n - Extended API: `.lockInterruptibly()`, `.tryLock()`, `tryLock(timeout)`\r\n - Ability to create multiple `Condition`s associated with a lock. For example, `ArrayBlockingQueue` holds both `notEmpty` and `notFull` conditions.\r\n - Ability to get lock-holding thread while debugging via `sync.exclusiveOwnerThread`. API for obtaining Lock state: `.getHoldCount()`, `.hasQueuedThreads()` etc.\r\n - Ability to pass as an object. For example keep a `Map&lt;ResourceObject, Lock&gt;`\r\n - Ability to acquire and release multiple locks in any order\r\n - Ability to create fair: `new ReentrantLock(true)`\r\n - Existence of `ReadWriteLock` allowing parallel reads","title":"Synchronization vs Lock","body":"<p>Here is comprehensive comparison <code>synchronized</code> vs <code>Lock</code></p>\n<p><strong>Synchronized advantages</strong>:</p>\n<ul>\n<li><p>Automatic release: no need in try-finally, protection against forgotten release.</p>\n<pre><code> synchronized {\n     someCode();\n }\n</code></pre>\n<p>vs</p>\n<pre><code> lock.lock();\n try {\n     someCode();\n } finally {\n     lock.release();\n }\n</code></pre>\n</li>\n<li><p>Less extra lines (an example above)</p>\n</li>\n<li><p>Ability to mark an entire method <code>synchronized</code>, avoid extra lines and extra tabulation</p>\n<pre><code> public synchronized someMethod() {\n     someCode();\n }\n</code></pre>\n</li>\n</ul>\n<p><strong>Lock advantages:</strong></p>\n<ul>\n<li>Extended API: <code>.lockInterruptibly()</code>, <code>.tryLock()</code>, <code>tryLock(timeout)</code></li>\n<li>Ability to create multiple <code>Condition</code>s associated with a lock. For example, <code>ArrayBlockingQueue</code> holds both <code>notEmpty</code> and <code>notFull</code> conditions.</li>\n<li>Ability to get lock-holding thread while debugging via <code>sync.exclusiveOwnerThread</code>. API for obtaining Lock state: <code>.getHoldCount()</code>, <code>.hasQueuedThreads()</code> etc.</li>\n<li>Ability to pass as an object. For example keep a <code>Map&lt;ResourceObject, Lock&gt;</code></li>\n<li>Ability to acquire and release multiple locks in any order</li>\n<li>Ability to create fair: <code>new ReentrantLock(true)</code></li>\n<li>Existence of <code>ReadWriteLock</code> allowing parallel reads</li>\n</ul>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192101,"favorite_count":0,"down_vote_count":2,"up_vote_count":213,"accepted_answer_id":4201734,"answer_count":11,"score":211,"last_activity_date":1689465044,"creation_date":1289970781,"question_id":4201713,"body_markdown":"`java.util.concurrent` API provides a class called as `Lock`, which would basically serialize the control in order to access the critical resource. It gives method such as `park()` and `unpark()`.  \r\n\r\nWe can do similar things if we can use `synchronized` keyword and using `wait()` and `notify() notifyAll()` methods.  \r\n\r\nI am wondering which one of these is better in practice and why?","title":"Synchronization vs Lock","body":"<p><code>java.util.concurrent</code> API provides a class called as <code>Lock</code>, which would basically serialize the control in order to access the critical resource. It gives method such as <code>park()</code> and <code>unpark()</code>.  </p>\n\n<p>We can do similar things if we can use <code>synchronized</code> keyword and using <code>wait()</code> and <code>notify() notifyAll()</code> methods.  </p>\n\n<p>I am wondering which one of these is better in practice and why?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689434479,"post_id":76694431,"comment_id":135214557,"body_markdown":"Using a proper JSON parser should already take care of this: the JSON structure can&#39;t have &quot;any type of object&quot; because JSON only models the plain (unclassed) JS object. You parse your JSON, then you query the result for key/value pairs, and values can be a boolean, number, string, array, the `null` object, or a generic key/value pair object. That&#39;s it, that&#39;s the only six options you get. Ask for a key, check what type it is, then do whatever you need to do based on that type. But if you don&#39;t know what your input is, how would you know what to do with it?","body":"Using a proper JSON parser should already take care of this: the JSON structure can&#39;t have &quot;any type of object&quot; because JSON only models the plain (unclassed) JS object. You parse your JSON, then you query the result for key/value pairs, and values can be a boolean, number, string, array, the <code>null</code> object, or a generic key/value pair object. That&#39;s it, that&#39;s the only six options you get. Ask for a key, check what type it is, then do whatever you need to do based on that type. But if you don&#39;t know what your input is, how would you know what to do with it?"},{"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"score":0,"creation_date":1689435435,"post_id":76694431,"comment_id":135214664,"body_markdown":"Maybe my question wasn&#39;t clear but basically if it&#39;s array/nested object i would like to flatten it when i writeValueAsString. so  { age: { number: 12 } } would be { age.number : 12 }. From my understanding @JsonUnwrapped does that for me","body":"Maybe my question wasn&#39;t clear but basically if it&#39;s array/nested object i would like to flatten it when i writeValueAsString. so  { age: { number: 12 } } would be { age.number : 12 }. From my understanding @JsonUnwrapped does that for me"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1689435627,"post_id":76694431,"comment_id":135214687,"body_markdown":"Then give [the documentation for that annotation](https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html)  a quick read, because that&#39;s not what it does. It&#39;ll turn `{ age: { number: 12 } }` into `{ number: 12 }`. But perhaps importantly: can you update your question with _why_ you need the data transformed in this way? Because that transformation might not be the best way to achieve what you _actually_ need.","body":"Then give <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html\" rel=\"nofollow noreferrer\">the documentation for that annotation</a>  a quick read, because that&#39;s not what it does. It&#39;ll turn <code>{ age: { number: 12 } }</code> into <code>{ number: 12 }</code>. But perhaps importantly: can you update your question with <i>why</i> you need the data transformed in this way? Because that transformation might not be the best way to achieve what you <i>actually</i> need."},{"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"score":0,"creation_date":1689452877,"post_id":76694431,"comment_id":135216587,"body_markdown":"I&#39;ve updated the question with some explanation. Would love to hear if you have recommendation to improve this code. I&#39;m thinking of putting all the flatting logic in another class. What do you think? I&#39;m pretty new to Java :)","body":"I&#39;ve updated the question with some explanation. Would love to hear if you have recommendation to improve this code. I&#39;m thinking of putting all the flatting logic in another class. What do you think? I&#39;m pretty new to Java :)"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689457404,"post_id":76694431,"comment_id":135217077,"body_markdown":"Don&#39;t put an &quot;edit&quot; in your post: future visitors, and future potential &quot;answerers&quot; don&#39;t care. Your post should just one cohesive post giving all the details so that people can tell whether your problem is their problem, too =) If you update your post with additonal details, work those into your post as if they were there from the start. If people need to know about the edit history, they can click the edit history link. And if you&#39;re pasting code, please use modern triple-ticks with the language indicator (github style) rather than four-spaced indented. Condensed code means fewer scrollbars.","body":"Don&#39;t put an &quot;edit&quot; in your post: future visitors, and future potential &quot;answerers&quot; don&#39;t care. Your post should just one cohesive post giving all the details so that people can tell whether your problem is their problem, too =) If you update your post with additonal details, work those into your post as if they were there from the start. If people need to know about the edit history, they can click the edit history link. And if you&#39;re pasting code, please use modern triple-ticks with the language indicator (github style) rather than four-spaced indented. Condensed code means fewer scrollbars."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689457750,"post_id":76694431,"comment_id":135217118,"body_markdown":"That said, if your &quot;current solution&quot; doesn&#39;t actually solve the problem, remember to say what it&#39;s doing, and how that differs from what you expected. You can&#39;t just add your current code to the end of your post and leave it at that: does it work? Because if so, problem solved. Does it _not_ work? Talk about that.","body":"That said, if your &quot;current solution&quot; doesn&#39;t actually solve the problem, remember to say what it&#39;s doing, and how that differs from what you expected. You can&#39;t just add your current code to the end of your post and leave it at that: does it work? Because if so, problem solved. Does it <i>not</i> work? Talk about that."},{"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"score":0,"creation_date":1689461120,"post_id":76694431,"comment_id":135217385,"body_markdown":"wow thank you for the info! :D \nmy current solution solves the issue but i&#39;m not sure if what i did is good practice","body":"wow thank you for the info! :D  my current solution solves the issue but i&#39;m not sure if what i did is good practice"}],"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689463688,"creation_date":1689434311,"question_id":76694431,"body_markdown":"I have the following: \r\n\r\n```java\r\n@Data\r\npublic class LLMAsset {\r\n  public Object inputs = null;\r\n  public Object outputs = null;\r\n}\r\n```\r\n\r\ninputs and outputs can be any type of Object. For example: \r\n\r\n```json\r\ninputs: { \r\n  name: &quot;user&quot;,\r\n  age: {\r\n    number: 12\r\n  } \r\n}\r\n```\r\n\r\nor it might be just: \r\n\r\n```json\r\ninputs: &quot;some string&quot;\r\n```\r\n\r\nSo it depends on the user input. If it&#39;s a nested object i would like to flatten it. I&#39;ve seen there&#39;s the Jackson `@JsonUnwrapped` but it doesn&#39;t seem to work. I assume because I use an Object? How can i solve this? \r\n\r\nThe user logs some type of asset which can have dynamic input and output field. I would like to index only the input and output fields and flatten them. \r\n\r\nThis is my current solution which works but it feels like dirty code. might be a better option? \r\n\r\n```java\r\npublic class Asset {\r\n\r\n  private Integer version;\r\n  private String category;\r\n  public Object input = null;\r\n  public Object output = null;\r\n\r\n  public Asset() {}\r\n\r\n  public Asset(Object input, Object output) {\r\n    this.input = input;\r\n    this.output = output;\r\n  }\r\n\r\n  public Map&lt;String, String&gt; flattenIndexedFields() {\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    try {\r\n      addKeys(\r\n        &quot;&quot;,\r\n        JsonResolver.objectMapper.readTree(\r\n          JsonResolver.objectMapper.writeValueAsString(getFieldsToIndex())\r\n        ),\r\n        map\r\n      );\r\n    } catch (JsonProcessingException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return map;\r\n  }\r\n\r\n  private ObjectNode getFieldsToIndex() {\r\n    ObjectNode inputsOutputObj = objectMapper.createObjectNode();\r\n    inputsOutputObj.set(\r\n      &quot;chain_inputs&quot;,\r\n      objectMapper.valueToTree(this.getChain_inputs())\r\n    );\r\n    inputsOutputObj.set(\r\n      &quot;chain_outputs&quot;,\r\n      objectMapper.valueToTree(this.getChain_outputs())\r\n    );\r\n    return inputsOutputObj;\r\n  }\r\n\r\n  private void addKeys(\r\n    String currentPath,\r\n    JsonNode jsonNode,\r\n    Map&lt;String, String&gt; map\r\n  ) {\r\n    if (jsonNode.isObject()) {\r\n      ObjectNode objectNode = (ObjectNode) jsonNode;\r\n      Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\r\n      String pathPrefix = currentPath.isEmpty() ? &quot;&quot; : currentPath + &quot;.&quot;;\r\n\r\n      while (iter.hasNext()) {\r\n        Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\r\n        addKeys(pathPrefix + entry.getKey(), entry.getValue(), map);\r\n      }\r\n    } else if (jsonNode.isArray()) {\r\n      ArrayNode arrayNode = (ArrayNode) jsonNode;\r\n      for (int i = 0; i &lt; arrayNode.size(); i++) {\r\n        addKeys(currentPath + &quot;[&quot; + i + &quot;]&quot;, arrayNode.get(i), map);\r\n      }\r\n    } else if (jsonNode.isValueNode()) {\r\n      ValueNode valueNode = (ValueNode) jsonNode;\r\n      map.put(currentPath, valueNode.asText());\r\n    }\r\n  }\r\n}\r\n```","title":"Flatten dynamic Object using jackson","body":"<p>I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class LLMAsset {\n  public Object inputs = null;\n  public Object outputs = null;\n}\n</code></pre>\n<p>inputs and outputs can be any type of Object. For example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>inputs: { \n  name: &quot;user&quot;,\n  age: {\n    number: 12\n  } \n}\n</code></pre>\n<p>or it might be just:</p>\n<pre class=\"lang-json prettyprint-override\"><code>inputs: &quot;some string&quot;\n</code></pre>\n<p>So it depends on the user input. If it's a nested object i would like to flatten it. I've seen there's the Jackson <code>@JsonUnwrapped</code> but it doesn't seem to work. I assume because I use an Object? How can i solve this?</p>\n<p>The user logs some type of asset which can have dynamic input and output field. I would like to index only the input and output fields and flatten them.</p>\n<p>This is my current solution which works but it feels like dirty code. might be a better option?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Asset {\n\n  private Integer version;\n  private String category;\n  public Object input = null;\n  public Object output = null;\n\n  public Asset() {}\n\n  public Asset(Object input, Object output) {\n    this.input = input;\n    this.output = output;\n  }\n\n  public Map&lt;String, String&gt; flattenIndexedFields() {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    try {\n      addKeys(\n        &quot;&quot;,\n        JsonResolver.objectMapper.readTree(\n          JsonResolver.objectMapper.writeValueAsString(getFieldsToIndex())\n        ),\n        map\n      );\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n    return map;\n  }\n\n  private ObjectNode getFieldsToIndex() {\n    ObjectNode inputsOutputObj = objectMapper.createObjectNode();\n    inputsOutputObj.set(\n      &quot;chain_inputs&quot;,\n      objectMapper.valueToTree(this.getChain_inputs())\n    );\n    inputsOutputObj.set(\n      &quot;chain_outputs&quot;,\n      objectMapper.valueToTree(this.getChain_outputs())\n    );\n    return inputsOutputObj;\n  }\n\n  private void addKeys(\n    String currentPath,\n    JsonNode jsonNode,\n    Map&lt;String, String&gt; map\n  ) {\n    if (jsonNode.isObject()) {\n      ObjectNode objectNode = (ObjectNode) jsonNode;\n      Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\n      String pathPrefix = currentPath.isEmpty() ? &quot;&quot; : currentPath + &quot;.&quot;;\n\n      while (iter.hasNext()) {\n        Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\n        addKeys(pathPrefix + entry.getKey(), entry.getValue(), map);\n      }\n    } else if (jsonNode.isArray()) {\n      ArrayNode arrayNode = (ArrayNode) jsonNode;\n      for (int i = 0; i &lt; arrayNode.size(); i++) {\n        addKeys(currentPath + &quot;[&quot; + i + &quot;]&quot;, arrayNode.get(i), map);\n      }\n    } else if (jsonNode.isValueNode()) {\n      ValueNode valueNode = (ValueNode) jsonNode;\n      map.put(currentPath, valueNode.asText());\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","keyevent"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1689439588,"post_id":76694785,"comment_id":135215168,"body_markdown":"You already answered your own question.  You use booleans to turn KeyListeners on or off.  Edit your question to include a [mre] that we can copy into our IDE, compile, and run millions of tests to determine what the problem is.","body":"You already answered your own question.  You use booleans to turn KeyListeners on or off.  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy into our IDE, compile, and run millions of tests to determine what the problem is."},{"owner":{"account_id":28866623,"reputation":11,"user_id":22109255,"display_name":"Ulala Olala"},"score":0,"creation_date":1689461774,"post_id":76694785,"comment_id":135217426,"body_markdown":"I&#39;ve tried to construct a minimal reproducible example now, maybe that makes my issue clearer. If you click fast enough, the boolean doesn&#39;t have the intended effect","body":"I&#39;ve tried to construct a minimal reproducible example now, maybe that makes my issue clearer. If you click fast enough, the boolean doesn&#39;t have the intended effect"}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689463324,"creation_date":1689463324,"answer_id":76696135,"question_id":76694785,"body_markdown":"The problem is not that the user inputs of the two players are handled in parallel. That will not be possible when you compare the reaction time of the players and the computational speed of your computer. The problem is that the variable `clicked` is only `true` for an extremely short time (due to the computational speed of your computer). The block of user inputs you want to write has to be longer in time to work.\r\n\r\nDepending on how you want your game to be played, you can &quot;activate&quot; the new question only after a short delay. So when one player pressed a key, the input is checked, but the new question isn&#39;t shown directly or isn&#39;t &quot;active&quot; yet. Only after some time is passed, like 500ms, the new question with the new answer is shown. During that time, no user input should be handled or should be simply ignored. After that time, the user input can begin answer the next question again.\r\n\r\nYou can use timers or threads to show the next question after a short delay. Keep in mind not to simply use `Thread.sleep()` in your `actionPerformed()` method as it might block the GUI thread and your application would look like it is hanging/stopped/unresponsive.","title":"How to act only on first KeyEvent","body":"<p>The problem is not that the user inputs of the two players are handled in parallel. That will not be possible when you compare the reaction time of the players and the computational speed of your computer. The problem is that the variable <code>clicked</code> is only <code>true</code> for an extremely short time (due to the computational speed of your computer). The block of user inputs you want to write has to be longer in time to work.</p>\n<p>Depending on how you want your game to be played, you can &quot;activate&quot; the new question only after a short delay. So when one player pressed a key, the input is checked, but the new question isn't shown directly or isn't &quot;active&quot; yet. Only after some time is passed, like 500ms, the new question with the new answer is shown. During that time, no user input should be handled or should be simply ignored. After that time, the user input can begin answer the next question again.</p>\n<p>You can use timers or threads to show the next question after a short delay. Keep in mind not to simply use <code>Thread.sleep()</code> in your <code>actionPerformed()</code> method as it might block the GUI thread and your application would look like it is hanging/stopped/unresponsive.</p>\n"}],"owner":{"account_id":28866623,"reputation":11,"user_id":22109255,"display_name":"Ulala Olala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689463324,"creation_date":1689438906,"question_id":76694785,"body_markdown":"I&#39;m working on an app, where I show a question and a person can answer by using the arrow keys for yes/no, which loads a new question and so on. This works well, but I&#39;m trying to implement a multiplayer mode aswell, where another person can use the a and d keys, which is causing problems. \r\n\r\nBasically, if the two people answer very quickly one after another, the first input gets counted as the answer for the current question, which causes a new question to load and the second input gets counted as the answer for that new question, even though the person hadn&#39;t even seen that question when they answered.\r\n\r\nI&#39;ve tried updating the question later, but it still always remembered the second KeyPress and processes them one after another.\r\n\r\nI&#39;ve also tried working with boolean variables to indicate that a person has already pressed and that the other person&#39;s input shouldn&#39;t be counted, but it either didn&#39;t work as expected or created a deadlock.\r\n\r\nI think it&#39;s probably because of the way Java handles the KeyEvents that the code that handles the events is processed in parallel, so the boolean variables weren&#39;t set in time for it to block from processing the second KeyEvent aswell.\r\n\r\nMy goal is that if two people answer while one question is showing, only the first person to answer can get the points for that (if both answered at exactly the same time, both would ideally get the points), then a new question is loaded and so on.\r\n\r\nMinimal reproducable example:\r\n```java\r\npublic class Test extends JFrame{\r\n    int right_score;\r\n\tint left_score;\r\n\tJLabel r_score = new JLabel();\r\n\tJLabel l_score = new JLabel();\r\n\tboolean answer;\r\n\tboolean clicked = false;\r\n\tJLabel answer_label = new JLabel();\r\n\r\n\tpublic static void main(String[] args) {new Test();}\r\n\t\r\n\tpublic Test() {\r\n\t\taddKeyBindings();\r\n\t\tr_score.setText(&quot;Right: 0&quot;);\r\n\t\tl_score.setText(&quot;Left: 0&quot;);\r\n\t\tanswer_label.setText(&quot;&quot; + answer);\r\n\t\tthis.setLayout(new FlowLayout(FlowLayout.CENTER));\r\n\t\tthis.setMinimumSize(new Dimension(100, 100));\r\n\t\tthis.add(answer_label);\r\n\t\tthis.add(l_score);\r\n\t\tthis.add(r_score);\r\n\t\tnewQuestion();\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\t\r\n\tprivate void newQuestion() {\r\n\t\tRandom rand = new Random();\r\n\t\tanswer = rand.nextBoolean();\r\n\t\tanswer_label.setText(&quot;&quot; + answer);\r\n\t}\r\n\r\n\tpublic void r_pressed_yes() {\r\n\t\tif (answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tright_score += 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tright_score -= 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\tpublic void r_pressed_no() {\r\n\t\tif (!answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tright_score += 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tright_score -= 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\tpublic void l_pressed_yes() {\r\n\t\tif (answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tleft_score += 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tleft_score -= 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\tpublic void l_pressed_no() {\r\n\t\tif (!answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tleft_score += 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tleft_score -= 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\r\n\tprivate void addKeyBindings() {\r\n\t\tAction r_pressed_yes = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tr_pressed_yes();\r\n\t\t    }};\r\n\t\tAction r_pressed_no = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tr_pressed_no();\r\n\t\t    }};\r\n\t\tAction l_pressed_yes = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tl_pressed_yes();\r\n\t\t    }};\r\n\t\tAction l_pressed_no = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tl_pressed_no();\r\n\t\t    }};\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;LEFT&quot;), &quot;r_pressed_yes&quot;);\r\n\t\tr_score.getActionMap().put(&quot;r_pressed_yes&quot;, r_pressed_yes);\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;RIGHT&quot;), &quot;r_pressed_no&quot;);\r\n\t\tr_score.getActionMap().put(&quot;r_pressed_no&quot;, r_pressed_no);\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;A&quot;), &quot;l_pressed_yes&quot;);\r\n\t\tr_score.getActionMap().put(&quot;l_pressed_yes&quot;, l_pressed_yes);\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;D&quot;), &quot;l_pressed_no&quot;);\r\n\t\tr_score.getActionMap().put(&quot;l_pressed_no&quot;, l_pressed_no);\r\n\t}\r\n}\r\n```","title":"How to act only on first KeyEvent","body":"<p>I'm working on an app, where I show a question and a person can answer by using the arrow keys for yes/no, which loads a new question and so on. This works well, but I'm trying to implement a multiplayer mode aswell, where another person can use the a and d keys, which is causing problems.</p>\n<p>Basically, if the two people answer very quickly one after another, the first input gets counted as the answer for the current question, which causes a new question to load and the second input gets counted as the answer for that new question, even though the person hadn't even seen that question when they answered.</p>\n<p>I've tried updating the question later, but it still always remembered the second KeyPress and processes them one after another.</p>\n<p>I've also tried working with boolean variables to indicate that a person has already pressed and that the other person's input shouldn't be counted, but it either didn't work as expected or created a deadlock.</p>\n<p>I think it's probably because of the way Java handles the KeyEvents that the code that handles the events is processed in parallel, so the boolean variables weren't set in time for it to block from processing the second KeyEvent aswell.</p>\n<p>My goal is that if two people answer while one question is showing, only the first person to answer can get the points for that (if both answered at exactly the same time, both would ideally get the points), then a new question is loaded and so on.</p>\n<p>Minimal reproducable example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test extends JFrame{\n    int right_score;\n    int left_score;\n    JLabel r_score = new JLabel();\n    JLabel l_score = new JLabel();\n    boolean answer;\n    boolean clicked = false;\n    JLabel answer_label = new JLabel();\n\n    public static void main(String[] args) {new Test();}\n    \n    public Test() {\n        addKeyBindings();\n        r_score.setText(&quot;Right: 0&quot;);\n        l_score.setText(&quot;Left: 0&quot;);\n        answer_label.setText(&quot;&quot; + answer);\n        this.setLayout(new FlowLayout(FlowLayout.CENTER));\n        this.setMinimumSize(new Dimension(100, 100));\n        this.add(answer_label);\n        this.add(l_score);\n        this.add(r_score);\n        newQuestion();\n        this.setVisible(true);\n    }\n    \n    private void newQuestion() {\n        Random rand = new Random();\n        answer = rand.nextBoolean();\n        answer_label.setText(&quot;&quot; + answer);\n    }\n\n    public void r_pressed_yes() {\n        if (answer &amp;&amp; !clicked) {\n            clicked = true;\n            right_score += 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            right_score -= 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n    public void r_pressed_no() {\n        if (!answer &amp;&amp; !clicked) {\n            clicked = true;\n            right_score += 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            right_score -= 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n    public void l_pressed_yes() {\n        if (answer &amp;&amp; !clicked) {\n            clicked = true;\n            left_score += 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            left_score -= 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n    public void l_pressed_no() {\n        if (!answer &amp;&amp; !clicked) {\n            clicked = true;\n            left_score += 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            left_score -= 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n\n    private void addKeyBindings() {\n        Action r_pressed_yes = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                r_pressed_yes();\n            }};\n        Action r_pressed_no = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                r_pressed_no();\n            }};\n        Action l_pressed_yes = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                l_pressed_yes();\n            }};\n        Action l_pressed_no = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                l_pressed_no();\n            }};\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;LEFT&quot;), &quot;r_pressed_yes&quot;);\n        r_score.getActionMap().put(&quot;r_pressed_yes&quot;, r_pressed_yes);\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;RIGHT&quot;), &quot;r_pressed_no&quot;);\n        r_score.getActionMap().put(&quot;r_pressed_no&quot;, r_pressed_no);\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;A&quot;), &quot;l_pressed_yes&quot;);\n        r_score.getActionMap().put(&quot;l_pressed_yes&quot;, l_pressed_yes);\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;D&quot;), &quot;l_pressed_no&quot;);\n        r_score.getActionMap().put(&quot;l_pressed_no&quot;, l_pressed_no);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1689502569,"post_id":76695951,"comment_id":135219970,"body_markdown":"The important thing in this output is that there is database output after the application tries to start up.  Initializing the database can take some time, and if you&#39;re seeing this symptom (just `docker-compose up -d` a second time with no changes should bring things up) it means you&#39;re not correctly waiting for the database.  See [Docker Compose wait for container X before starting Y](https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y) for some suggestions.","body":"The important thing in this output is that there is database output after the application tries to start up.  Initializing the database can take some time, and if you&#39;re seeing this symptom (just <code>docker-compose up -d</code> a second time with no changes should bring things up) it means you&#39;re not correctly waiting for the database.  See <a href=\"https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y\">Docker Compose wait for container X before starting Y</a> for some suggestions."}],"owner":{"account_id":28342004,"reputation":43,"user_id":21674853,"display_name":"Nithin_Kamineni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689459413,"creation_date":1689459020,"question_id":76695951,"body_markdown":"I could connect to the mysql database from spring boot server first time. After I downed the container using &#39;docker-compose down -v&#39; command I can no lonager make a connection to the server of spring boot and mysql database in docker network after the first time(every time I change container name is works). I want to make a connection between spring boot server and mysql\r\n\r\ndocker-compose.yml:\r\n```\r\nversion: &quot;3.8&quot;\r\n\r\nservices:\r\n  mysql:\r\n    container_name: db12w\r\n    image: mysql:5.7\r\n    restart: always\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=root\r\n      - MYSQL_DATABASE=reactlibrarydatabase\r\n      - MYSQL_PORT=3306\r\n    networks:\r\n      - shared-network\r\n    volumes:\r\n      - mysqlvolume:/var/lib/mysql\r\n      # - ./db/bookwise.sql:/docker-entrypoint-initdb.d/bookwise.sql\r\n\r\n  # mysql-workbench:\r\n  #   container_name: mysqlwbcontainer\r\n  #   image: linuxserver/mysql-workbench:8.0.33\r\n  #   restart: always\r\n  #   environment:\r\n  #     CUSTOM_USER: abc\r\n  #     PASSWORD: root\r\n  #     CUSTOM_PORT: 5050\r\n  #   ports:\r\n  #     - 5050:5050\r\n  #   networks:\r\n  #     - shared-network\r\n  #   depends_on:\r\n  #     - mysql\r\n  #   # volumes:\r\n  #   #   - mysql-workbench-volume:/var/lib/mysql\r\n  \r\n  # nginx:\r\n  #   image: nginx\r\n  #   # container_name: nginx_container\r\n  #   restart: always\r\n  #   volumes:\r\n  #     - ./default.conf:/etc/nginx/conf.d/default.conf\r\n  #     # - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\r\n  #     # - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\r\n  #   ports:\r\n  #     - 80:80\r\n  #     - 443:443\r\n  #   networks:\r\n  #     - shared-network\r\n  #   depends_on:\r\n  #     - server\r\n  #     - client\r\n\r\n  server:\r\n    container_name: bookwise_server\r\n    restart: unless-stopped\r\n    image: bookwise-server-image:1.0.0\r\n    build:\r\n      context: Backend\r\n      dockerfile: Dockerfile\r\n    environment:\r\n      - spring_datasource_driver-class-name=com.mysql.cj.jdbc.Driver\r\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\r\n      - spring_datasource_username=root\r\n      - spring_datasource_password=root\r\n    ports:  #outside:inside(container) #8443\r\n      - 8443:8443\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - mysql\r\n\r\n  client:\r\n    container_name: bookwise_client\r\n    restart: unless-stopped\r\n    image: bookwise-client-image:1.0.0\r\n    build:\r\n      context: Frontend\r\n      dockerfile: Dockerfile\r\n    ports:  #outside:inside(container)\r\n      - 3000:3000\r\n    # environment:\r\n      # - REACT_APP_API_URL=https://localhost/api\r\n    # volumes:\r\n    #   - ./certs/devopsbyexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\r\n    #   - ./certs/devopsbyexample.pem:/etc/nginx/certs/devopsbyexample.pem\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - server\r\nvolumes:\r\n  mysqlvolume:\r\n  # mysql-workbench-volume:\r\nnetworks:\r\n  shared-network:\r\n    driver: bridge\r\n```\r\n\r\nThis is the log in command prompt when I launch &#39;docker-compose up&#39; first time the code works fine but the second time it theowing the error. Both the output are in the below log one after the other\r\n```\r\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up\r\n[+] Running 3/3\r\n ✔ Container db12w            Recreated                                                                                                                                                                                                  0.1s \r\n ✔ Container bookwise_server  Recreated                                                                                                                                                                                                  0.2s \r\n ✔ Container bookwise_client  Recreated                                                                                                                                                                                                  0.1s \r\nAttaching to bookwise_client, bookwise_server, db12w\r\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Switching to dedicated user &#39;mysql&#39;\r\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | &#39;/var/lib/mysql/mysql.sock&#39; -&gt; &#39;/var/run/mysqld/mysqld.sock&#39;\r\ndb12w            | 2023-07-15T22:10:37.888464Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\r\ndb12w            | 2023-07-15T22:10:37.890408Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 1 ...\r\ndb12w            | 2023-07-15T22:10:37.895488Z 0 [Note] InnoDB: PUNCH HOLE support available\r\ndb12w            | 2023-07-15T22:10:37.895550Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\r\ndb12w            | 2023-07-15T22:10:37.895559Z 0 [Note] InnoDB: Uses event mutexes\r\ndb12w            | 2023-07-15T22:10:37.895563Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\r\ndb12w            | 2023-07-15T22:10:37.895567Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\r\ndb12w            | 2023-07-15T22:10:37.895571Z 0 [Note] InnoDB: Using Linux native AIO\r\ndb12w            | 2023-07-15T22:10:37.896119Z 0 [Note] InnoDB: Number of pools: 1\r\ndb12w            | 2023-07-15T22:10:37.896373Z 0 [Note] InnoDB: Using CPU crc32 instructions\r\ndb12w            | 2023-07-15T22:10:37.905985Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\r\ndb12w            | 2023-07-15T22:10:37.921187Z 0 [Note] InnoDB: Completed initialization of buffer pool\r\ndb12w            | 2023-07-15T22:10:37.925524Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\r\ndb12w            | 2023-07-15T22:10:37.938253Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\r\ndb12w            | 2023-07-15T22:10:37.940360Z 0 [Note] InnoDB: Log scan progressed past the checkpoint lsn 12218043\r\ndb12w            | 2023-07-15T22:10:37.940449Z 0 [Note] InnoDB: Doing recovery: scanned up to log sequence number 12218052\r\ndb12w            | 2023-07-15T22:10:37.940461Z 0 [Note] InnoDB: Database was not shutdown normally!\r\ndb12w            | 2023-07-15T22:10:37.940468Z 0 [Note] InnoDB: Starting crash recovery.\r\ndb12w            | 2023-07-15T22:10:38.052807Z 0 [Note] InnoDB: Removed temporary tablespace data file: &quot;ibtmp1&quot;\r\ndb12w            | 2023-07-15T22:10:38.052865Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\r\ndb12w            | 2023-07-15T22:10:38.052920Z 0 [Note] InnoDB: Setting file &#39;./ibtmp1&#39; size to 12 MB. Physically writing the file full; Please wait ...\r\ndb12w            | 2023-07-15T22:10:38.073676Z 0 [Note] InnoDB: File &#39;./ibtmp1&#39; size is now 12 MB.\r\ndb12w            | 2023-07-15T22:10:38.075104Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\r\ndb12w            | 2023-07-15T22:10:38.075168Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\r\ndb12w            | 2023-07-15T22:10:38.077215Z 0 [Note] InnoDB: 5.7.42 started; log sequence number 12218052\r\ndb12w            | 2023-07-15T22:10:38.078418Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\r\ndb12w            | 2023-07-15T22:10:38.079016Z 0 [Note] Plugin &#39;FEDERATED&#39; is disabled.\r\ndb12w            | 2023-07-15T22:10:38.083454Z 0 [Note] InnoDB: Buffer pool(s) load completed at 230715 22:10:38\r\ndb12w            | 2023-07-15T22:10:38.089920Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\r\ndb12w            | 2023-07-15T22:10:38.090087Z 0 [Note] Skipping generation of SSL certificates as certificate files are present in data directory.\r\ndb12w            | 2023-07-15T22:10:38.090134Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:10:38.090170Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:10:38.092800Z 0 [Warning] CA certificate ca.pem is self signed.\r\ndb12w            | 2023-07-15T22:10:38.092872Z 0 [Note] Skipping generation of RSA key pair as key files are present in data directory.\r\ndb12w            | 2023-07-15T22:10:38.093323Z 0 [Note] Server hostname (bind-address): &#39;*&#39;; port: 3306\r\ndb12w            | 2023-07-15T22:10:38.093378Z 0 [Note] IPv6 is available.\r\ndb12w            | 2023-07-15T22:10:38.093397Z 0 [Note]   - &#39;::&#39; resolves to &#39;::&#39;;\r\ndb12w            | 2023-07-15T22:10:38.093419Z 0 [Note] Server socket created on IP: &#39;::&#39;.\r\ndb12w            | 2023-07-15T22:10:38.098890Z 0 [Warning] Insecure configuration for --pid-file: Location &#39;/var/run/mysqld&#39; in the path is accessible to all OS users. Consider choosing a different directory.\r\ndb12w            | 2023-07-15T22:10:38.113072Z 0 [Note] Event Scheduler: Loaded 0 events\r\ndb12w            | 2023-07-15T22:10:38.113560Z 0 [Note] mysqld: ready for connections.\r\ndb12w            | Version: &#39;5.7.42&#39;  socket: &#39;/var/run/mysqld/mysqld.sock&#39;  port: 3306  MySQL Community Server (GPL)\r\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\r\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\r\nbookwise_server  | \r\nbookwise_server  |   .   ____          _            __ _ _\r\nbookwise_server  |  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\nbookwise_server  | ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\nbookwise_server  |   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\r\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\r\nbookwise_server  |\r\nbookwise_server  | 2023-07-15 22:10:39.204  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on bcfb65cd1390 with PID 1 (/app/app.jar started by root in /app)\r\nbookwise_server  | 2023-07-15 22:10:39.208  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbookwise_server  | 2023-07-15 22:10:40.252  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\nbookwise_server  | 2023-07-15 22:10:40.347  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.\r\nbookwise_server  | 2023-07-15 22:10:41.366  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\r\nbookwise_server  | 2023-07-15 22:10:41.382  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\nbookwise_server  | 2023-07-15 22:10:41.383  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\r\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2162 ms\r\nbookwise_server  | 2023-07-15 22:10:41.834  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\nbookwise_server  | 2023-07-15 22:10:42.306  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\nbookwise_server  | 2023-07-15 22:10:42.367  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\nbookwise_server  | 2023-07-15 22:10:42.434  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final\r\nbookwise_server  | 2023-07-15 22:10:42.663  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\nbookwise_server  | 2023-07-15 22:10:42.808  INFO 1 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nbookwise_server  | 2023-07-15 22:10:43.506  INFO 1 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nbookwise_server  | 2023-07-15 22:10:43.519  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nbookwise_server  | 2023-07-15 22:10:45.701  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\nbookwise_server  | 2023-07-15 22:10:46.425  INFO 1 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ac6dd3d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@562919fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@36f7d7b, org.springframework.security.web.header.HeaderWriterFilter@1e79d43, org.springframework.web.filter.CorsFilter@794f11cd, org.springframework.security.web.authentication.logout.LogoutFilter@2007435e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@64ae105d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@53aa2fc9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7c281eb8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@715f45c6, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@67b355c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6361b799, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b9d9a2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d5c41e5, org.springframework.security.web.session.SessionManagementFilter@4c0e426a, org.springframework.security.web.access.ExceptionTranslationFilter@467233e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294aba23]\r\nbookwise_server  | 2023-07-15 22:10:47.408  INFO 1 --- [           main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [jar:file:/app/app.jar!/BOOT-INF/classes!/luv2code-keystore.p12] using alias [luv2code] and with trust store [null]\r\nbookwise_server  | 2023-07-15 22:10:47.431  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path &#39;&#39;\r\nbookwise_server  | 2023-07-15 22:10:47.446  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Started SpringBootLibraryApplication in 8.803 seconds (JVM running for 9.56)\r\nGracefully stopping... (press Ctrl+C again to force)\r\nAborting on container exit...\r\n[+] Running 1/2\r\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \r\n - Container bookwise_server  Stopping                                                                                                                                                                                                   0.2s \r\n[+] Running 3/3\r\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \r\n ✔ Container bookwise_server  Stopped                                                                                                                                                                                                    0.6s \r\n ✔ Container db12w            Stopped                                                                                                                                                                                                    0.1s \r\ncanceled\r\n\r\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose down -v\r\n[+] Running 5/5\r\n ✔ Container bookwise_client                      Removed                                                                                                                                                                                0.0s \r\n ✔ Container bookwise_server                      Removed                                                                                                                                                                                0.0s \r\n ✔ Container db12w                                Removed                                                                                                                                                                                0.0s \r\n ✔ Volume librarymanagmentsystem_mysqlvolume      Removed                                                                                                                                                                                0.1s \r\n ✔ Network librarymanagmentsystem_shared-network  Removed                                                                                                                                                                                0.3s \r\n\r\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up      \r\n[+] Running 5/4\r\n ✔ Network librarymanagmentsystem_shared-network  Created                                                                                                                                                                                0.0s \r\n ✔ Volume &quot;librarymanagmentsystem_mysqlvolume&quot;    Created                                                                                                                                                                                0.0s \r\n ✔ Container db12w                                Created                                                                                                                                                                                0.1s \r\n ✔ Container bookwise_server                      Created                                                                                                                                                                                0.1s \r\n ✔ Container bookwise_client                      Created                                                                                                                                                                                0.1s \r\nAttaching to bookwise_client, bookwise_server, db12w\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Switching to dedicated user &#39;mysql&#39;\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Initializing database files\r\ndb12w            | 2023-07-15T22:11:12.657616Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\r\ndb12w            | 2023-07-15T22:11:12.816916Z 0 [Warning] InnoDB: New log files created, LSN=45790\r\ndb12w            | 2023-07-15T22:11:12.854744Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\r\ndb12w            | 2023-07-15T22:11:12.915335Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 828aaacf-235c-11ee-ae02-0242ac1b0002.\r\ndb12w            | 2023-07-15T22:11:12.918775Z 0 [Warning] Gtid table is not ready to be used. Table &#39;mysql.gtid_executed&#39; cannot be opened.\r\ndb12w            | 2023-07-15T22:11:13.273991Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:11:13.274046Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:11:13.274805Z 0 [Warning] CA certificate ca.pem is self signed.\r\ndb12w            | 2023-07-15T22:11:13.310035Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\r\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\r\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\r\nbookwise_server  | \r\nbookwise_server  |   .   ____          _            __ _ _\r\nbookwise_server  |  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\nbookwise_server  | ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\nbookwise_server  |   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\r\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\r\nbookwise_server  |\r\nbookwise_server  | 2023-07-15 22:11:14.291  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on df9c0c2f70c9 with PID 1 (/app/app.jar started by root in /app)\r\nbookwise_server  | 2023-07-15 22:11:14.295  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbookwise_server  | 2023-07-15 22:11:15.317  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\nbookwise_server  | 2023-07-15 22:11:15.403  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.\r\nbookwise_server  | 2023-07-15 22:11:16.401  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\r\nbookwise_server  | 2023-07-15 22:11:16.414  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\nbookwise_server  | 2023-07-15 22:11:16.415  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\r\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2126 ms\r\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Database files initialized\r\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Starting temporary server\r\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Waiting for server startup\r\ndb12w            | 2023-07-15T22:11:16.867643Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\r\ndb12w            | 2023-07-15T22:11:16.870005Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 125 ...\r\ndb12w            | 2023-07-15T22:11:16.875441Z 0 [Note] InnoDB: PUNCH HOLE support available\r\ndb12w            | 2023-07-15T22:11:16.875526Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\r\ndb12w            | 2023-07-15T22:11:16.875536Z 0 [Note] InnoDB: Uses event mutexes\r\ndb12w            | 2023-07-15T22:11:16.875541Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\r\ndb12w            | 2023-07-15T22:11:16.875545Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\r\ndb12w            | 2023-07-15T22:11:16.875549Z 0 [Note] InnoDB: Using Linux native AIO\r\ndb12w            | 2023-07-15T22:11:16.876002Z 0 [Note] InnoDB: Number of pools: 1\r\ndb12w            | 2023-07-15T22:11:16.876222Z 0 [Note] InnoDB: Using CPU crc32 instructions\r\ndb12w            | 2023-07-15T22:11:16.879169Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\r\ndb12w            | 2023-07-15T22:11:16.900360Z 0 [Note] InnoDB: Completed initialization of buffer pool\r\ndb12w            | 2023-07-15T22:11:16.904268Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\r\ndb12w            | 2023-07-15T22:11:16.917087Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\r\ndb12w            | 2023-07-15T22:11:16.939074Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\r\ndb12w            | 2023-07-15T22:11:16.939246Z 0 [Note] InnoDB: Setting file &#39;./ibtmp1&#39; size to 12 MB. Physically writing the file full; Please wait ...\r\nbookwise_server  | 2023-07-15 22:11:16.958  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\ndb12w            | 2023-07-15T22:11:16.966648Z 0 [Note] InnoDB: File &#39;./ibtmp1&#39; size is now 12 MB.\r\ndb12w            | 2023-07-15T22:11:16.968359Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\r\ndb12w            | 2023-07-15T22:11:16.968435Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\r\n```\r\n","title":"Docker spring boot and MySQL connection more than once","body":"<p>I could connect to the mysql database from spring boot server first time. After I downed the container using 'docker-compose down -v' command I can no lonager make a connection to the server of spring boot and mysql database in docker network after the first time(every time I change container name is works). I want to make a connection between spring boot server and mysql</p>\n<p>docker-compose.yml:</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n  mysql:\n    container_name: db12w\n    image: mysql:5.7\n    restart: always\n    environment:\n      - MYSQL_ROOT_PASSWORD=root\n      - MYSQL_DATABASE=reactlibrarydatabase\n      - MYSQL_PORT=3306\n    networks:\n      - shared-network\n    volumes:\n      - mysqlvolume:/var/lib/mysql\n      # - ./db/bookwise.sql:/docker-entrypoint-initdb.d/bookwise.sql\n\n  # mysql-workbench:\n  #   container_name: mysqlwbcontainer\n  #   image: linuxserver/mysql-workbench:8.0.33\n  #   restart: always\n  #   environment:\n  #     CUSTOM_USER: abc\n  #     PASSWORD: root\n  #     CUSTOM_PORT: 5050\n  #   ports:\n  #     - 5050:5050\n  #   networks:\n  #     - shared-network\n  #   depends_on:\n  #     - mysql\n  #   # volumes:\n  #   #   - mysql-workbench-volume:/var/lib/mysql\n  \n  # nginx:\n  #   image: nginx\n  #   # container_name: nginx_container\n  #   restart: always\n  #   volumes:\n  #     - ./default.conf:/etc/nginx/conf.d/default.conf\n  #     # - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\n  #     # - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\n  #   ports:\n  #     - 80:80\n  #     - 443:443\n  #   networks:\n  #     - shared-network\n  #   depends_on:\n  #     - server\n  #     - client\n\n  server:\n    container_name: bookwise_server\n    restart: unless-stopped\n    image: bookwise-server-image:1.0.0\n    build:\n      context: Backend\n      dockerfile: Dockerfile\n    environment:\n      - spring_datasource_driver-class-name=com.mysql.cj.jdbc.Driver\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\n      - spring_datasource_username=root\n      - spring_datasource_password=root\n    ports:  #outside:inside(container) #8443\n      - 8443:8443\n    networks:\n      - shared-network\n    depends_on:\n      - mysql\n\n  client:\n    container_name: bookwise_client\n    restart: unless-stopped\n    image: bookwise-client-image:1.0.0\n    build:\n      context: Frontend\n      dockerfile: Dockerfile\n    ports:  #outside:inside(container)\n      - 3000:3000\n    # environment:\n      # - REACT_APP_API_URL=https://localhost/api\n    # volumes:\n    #   - ./certs/devopsbyexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\n    #   - ./certs/devopsbyexample.pem:/etc/nginx/certs/devopsbyexample.pem\n    networks:\n      - shared-network\n    depends_on:\n      - server\nvolumes:\n  mysqlvolume:\n  # mysql-workbench-volume:\nnetworks:\n  shared-network:\n    driver: bridge\n</code></pre>\n<p>This is the log in command prompt when I launch 'docker-compose up' first time the code works fine but the second time it theowing the error. Both the output are in the below log one after the other</p>\n<pre><code>C:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up\n[+] Running 3/3\n ✔ Container db12w            Recreated                                                                                                                                                                                                  0.1s \n ✔ Container bookwise_server  Recreated                                                                                                                                                                                                  0.2s \n ✔ Container bookwise_client  Recreated                                                                                                                                                                                                  0.1s \nAttaching to bookwise_client, bookwise_server, db12w\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | '/var/lib/mysql/mysql.sock' -&gt; '/var/run/mysqld/mysqld.sock'\ndb12w            | 2023-07-15T22:10:37.888464Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\ndb12w            | 2023-07-15T22:10:37.890408Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 1 ...\ndb12w            | 2023-07-15T22:10:37.895488Z 0 [Note] InnoDB: PUNCH HOLE support available\ndb12w            | 2023-07-15T22:10:37.895550Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\ndb12w            | 2023-07-15T22:10:37.895559Z 0 [Note] InnoDB: Uses event mutexes\ndb12w            | 2023-07-15T22:10:37.895563Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\ndb12w            | 2023-07-15T22:10:37.895567Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\ndb12w            | 2023-07-15T22:10:37.895571Z 0 [Note] InnoDB: Using Linux native AIO\ndb12w            | 2023-07-15T22:10:37.896119Z 0 [Note] InnoDB: Number of pools: 1\ndb12w            | 2023-07-15T22:10:37.896373Z 0 [Note] InnoDB: Using CPU crc32 instructions\ndb12w            | 2023-07-15T22:10:37.905985Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\ndb12w            | 2023-07-15T22:10:37.921187Z 0 [Note] InnoDB: Completed initialization of buffer pool\ndb12w            | 2023-07-15T22:10:37.925524Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\ndb12w            | 2023-07-15T22:10:37.938253Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\ndb12w            | 2023-07-15T22:10:37.940360Z 0 [Note] InnoDB: Log scan progressed past the checkpoint lsn 12218043\ndb12w            | 2023-07-15T22:10:37.940449Z 0 [Note] InnoDB: Doing recovery: scanned up to log sequence number 12218052\ndb12w            | 2023-07-15T22:10:37.940461Z 0 [Note] InnoDB: Database was not shutdown normally!\ndb12w            | 2023-07-15T22:10:37.940468Z 0 [Note] InnoDB: Starting crash recovery.\ndb12w            | 2023-07-15T22:10:38.052807Z 0 [Note] InnoDB: Removed temporary tablespace data file: &quot;ibtmp1&quot;\ndb12w            | 2023-07-15T22:10:38.052865Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\ndb12w            | 2023-07-15T22:10:38.052920Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\ndb12w            | 2023-07-15T22:10:38.073676Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\ndb12w            | 2023-07-15T22:10:38.075104Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\ndb12w            | 2023-07-15T22:10:38.075168Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\ndb12w            | 2023-07-15T22:10:38.077215Z 0 [Note] InnoDB: 5.7.42 started; log sequence number 12218052\ndb12w            | 2023-07-15T22:10:38.078418Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\ndb12w            | 2023-07-15T22:10:38.079016Z 0 [Note] Plugin 'FEDERATED' is disabled.\ndb12w            | 2023-07-15T22:10:38.083454Z 0 [Note] InnoDB: Buffer pool(s) load completed at 230715 22:10:38\ndb12w            | 2023-07-15T22:10:38.089920Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\ndb12w            | 2023-07-15T22:10:38.090087Z 0 [Note] Skipping generation of SSL certificates as certificate files are present in data directory.\ndb12w            | 2023-07-15T22:10:38.090134Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:10:38.090170Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:10:38.092800Z 0 [Warning] CA certificate ca.pem is self signed.\ndb12w            | 2023-07-15T22:10:38.092872Z 0 [Note] Skipping generation of RSA key pair as key files are present in data directory.\ndb12w            | 2023-07-15T22:10:38.093323Z 0 [Note] Server hostname (bind-address): '*'; port: 3306\ndb12w            | 2023-07-15T22:10:38.093378Z 0 [Note] IPv6 is available.\ndb12w            | 2023-07-15T22:10:38.093397Z 0 [Note]   - '::' resolves to '::';\ndb12w            | 2023-07-15T22:10:38.093419Z 0 [Note] Server socket created on IP: '::'.\ndb12w            | 2023-07-15T22:10:38.098890Z 0 [Warning] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.\ndb12w            | 2023-07-15T22:10:38.113072Z 0 [Note] Event Scheduler: Loaded 0 events\ndb12w            | 2023-07-15T22:10:38.113560Z 0 [Note] mysqld: ready for connections.\ndb12w            | Version: '5.7.42'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\nbookwise_server  | \nbookwise_server  |   .   ____          _            __ _ _\nbookwise_server  |  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\nbookwise_server  | ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\nbookwise_server  |   '  |____| .__|_| |_|_| |_\\__, | / / / /\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\nbookwise_server  |\nbookwise_server  | 2023-07-15 22:10:39.204  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on bcfb65cd1390 with PID 1 (/app/app.jar started by root in /app)\nbookwise_server  | 2023-07-15 22:10:39.208  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbookwise_server  | 2023-07-15 22:10:40.252  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nbookwise_server  | 2023-07-15 22:10:40.347  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.\nbookwise_server  | 2023-07-15 22:10:41.366  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\nbookwise_server  | 2023-07-15 22:10:41.382  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nbookwise_server  | 2023-07-15 22:10:41.383  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2162 ms\nbookwise_server  | 2023-07-15 22:10:41.834  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\nbookwise_server  | 2023-07-15 22:10:42.306  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\nbookwise_server  | 2023-07-15 22:10:42.367  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\nbookwise_server  | 2023-07-15 22:10:42.434  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final\nbookwise_server  | 2023-07-15 22:10:42.663  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nbookwise_server  | 2023-07-15 22:10:42.808  INFO 1 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nbookwise_server  | 2023-07-15 22:10:43.506  INFO 1 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nbookwise_server  | 2023-07-15 22:10:43.519  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nbookwise_server  | 2023-07-15 22:10:45.701  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\nbookwise_server  | 2023-07-15 22:10:46.425  INFO 1 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ac6dd3d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@562919fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@36f7d7b, org.springframework.security.web.header.HeaderWriterFilter@1e79d43, org.springframework.web.filter.CorsFilter@794f11cd, org.springframework.security.web.authentication.logout.LogoutFilter@2007435e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@64ae105d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@53aa2fc9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7c281eb8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@715f45c6, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@67b355c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6361b799, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b9d9a2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d5c41e5, org.springframework.security.web.session.SessionManagementFilter@4c0e426a, org.springframework.security.web.access.ExceptionTranslationFilter@467233e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294aba23]\nbookwise_server  | 2023-07-15 22:10:47.408  INFO 1 --- [           main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [jar:file:/app/app.jar!/BOOT-INF/classes!/luv2code-keystore.p12] using alias [luv2code] and with trust store [null]\nbookwise_server  | 2023-07-15 22:10:47.431  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path ''\nbookwise_server  | 2023-07-15 22:10:47.446  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Started SpringBootLibraryApplication in 8.803 seconds (JVM running for 9.56)\nGracefully stopping... (press Ctrl+C again to force)\nAborting on container exit...\n[+] Running 1/2\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \n - Container bookwise_server  Stopping                                                                                                                                                                                                   0.2s \n[+] Running 3/3\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \n ✔ Container bookwise_server  Stopped                                                                                                                                                                                                    0.6s \n ✔ Container db12w            Stopped                                                                                                                                                                                                    0.1s \ncanceled\n\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose down -v\n[+] Running 5/5\n ✔ Container bookwise_client                      Removed                                                                                                                                                                                0.0s \n ✔ Container bookwise_server                      Removed                                                                                                                                                                                0.0s \n ✔ Container db12w                                Removed                                                                                                                                                                                0.0s \n ✔ Volume librarymanagmentsystem_mysqlvolume      Removed                                                                                                                                                                                0.1s \n ✔ Network librarymanagmentsystem_shared-network  Removed                                                                                                                                                                                0.3s \n\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up      \n[+] Running 5/4\n ✔ Network librarymanagmentsystem_shared-network  Created                                                                                                                                                                                0.0s \n ✔ Volume &quot;librarymanagmentsystem_mysqlvolume&quot;    Created                                                                                                                                                                                0.0s \n ✔ Container db12w                                Created                                                                                                                                                                                0.1s \n ✔ Container bookwise_server                      Created                                                                                                                                                                                0.1s \n ✔ Container bookwise_client                      Created                                                                                                                                                                                0.1s \nAttaching to bookwise_client, bookwise_server, db12w\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Initializing database files\ndb12w            | 2023-07-15T22:11:12.657616Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\ndb12w            | 2023-07-15T22:11:12.816916Z 0 [Warning] InnoDB: New log files created, LSN=45790\ndb12w            | 2023-07-15T22:11:12.854744Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\ndb12w            | 2023-07-15T22:11:12.915335Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 828aaacf-235c-11ee-ae02-0242ac1b0002.\ndb12w            | 2023-07-15T22:11:12.918775Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.\ndb12w            | 2023-07-15T22:11:13.273991Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:11:13.274046Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:11:13.274805Z 0 [Warning] CA certificate ca.pem is self signed.\ndb12w            | 2023-07-15T22:11:13.310035Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\nbookwise_server  | \nbookwise_server  |   .   ____          _            __ _ _\nbookwise_server  |  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\nbookwise_server  | ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\nbookwise_server  |   '  |____| .__|_| |_|_| |_\\__, | / / / /\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\nbookwise_server  |\nbookwise_server  | 2023-07-15 22:11:14.291  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on df9c0c2f70c9 with PID 1 (/app/app.jar started by root in /app)\nbookwise_server  | 2023-07-15 22:11:14.295  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbookwise_server  | 2023-07-15 22:11:15.317  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nbookwise_server  | 2023-07-15 22:11:15.403  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.\nbookwise_server  | 2023-07-15 22:11:16.401  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\nbookwise_server  | 2023-07-15 22:11:16.414  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nbookwise_server  | 2023-07-15 22:11:16.415  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2126 ms\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Database files initialized\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Starting temporary server\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Waiting for server startup\ndb12w            | 2023-07-15T22:11:16.867643Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\ndb12w            | 2023-07-15T22:11:16.870005Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 125 ...\ndb12w            | 2023-07-15T22:11:16.875441Z 0 [Note] InnoDB: PUNCH HOLE support available\ndb12w            | 2023-07-15T22:11:16.875526Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\ndb12w            | 2023-07-15T22:11:16.875536Z 0 [Note] InnoDB: Uses event mutexes\ndb12w            | 2023-07-15T22:11:16.875541Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\ndb12w            | 2023-07-15T22:11:16.875545Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\ndb12w            | 2023-07-15T22:11:16.875549Z 0 [Note] InnoDB: Using Linux native AIO\ndb12w            | 2023-07-15T22:11:16.876002Z 0 [Note] InnoDB: Number of pools: 1\ndb12w            | 2023-07-15T22:11:16.876222Z 0 [Note] InnoDB: Using CPU crc32 instructions\ndb12w            | 2023-07-15T22:11:16.879169Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\ndb12w            | 2023-07-15T22:11:16.900360Z 0 [Note] InnoDB: Completed initialization of buffer pool\ndb12w            | 2023-07-15T22:11:16.904268Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\ndb12w            | 2023-07-15T22:11:16.917087Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\ndb12w            | 2023-07-15T22:11:16.939074Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\ndb12w            | 2023-07-15T22:11:16.939246Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nbookwise_server  | 2023-07-15 22:11:16.958  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\ndb12w            | 2023-07-15T22:11:16.966648Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\ndb12w            | 2023-07-15T22:11:16.968359Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\ndb12w            | 2023-07-15T22:11:16.968435Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\n</code></pre>\n"},{"tags":["java","spring","resourcebundle"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1501401529,"post_id":45397626,"comment_id":77755894,"body_markdown":"Can you load all properties to 1 property object? see also https://stackoverflow.com/questions/3403773/using-multiple-property-files-via-propertyplaceholderconfigurer-in-multiple-pr","body":"Can you load all properties to 1 property object? see also <a href=\"https://stackoverflow.com/questions/3403773/using-multiple-property-files-via-propertyplaceholderconfigurer-in-multiple-pr\" title=\"using multiple property files via propertyplaceholderconfigurer in multiple pr\">stackoverflow.com/questions/3403773/&hellip;</a>"},{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":0,"creation_date":1501403508,"post_id":45397626,"comment_id":77756386,"body_markdown":"i load it but in the service side i cant define @value","body":"i load it but in the service side i cant define @value"}],"answers":[{"tags":[],"owner":{"account_id":1051595,"reputation":2587,"user_id":7717350,"display_name":"mgyongyosi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501405852,"creation_date":1501405415,"answer_id":45398148,"question_id":45397626,"body_markdown":"To get the value of the key programmatically you can use the following:\r\n\r\n    @Autowired\r\n    private Environment env;\r\n    ...\r\n    String something = env.getProperty(&quot;property.key.something&quot;);","title":"Find message in multiple properties files","body":"<p>To get the value of the key programmatically you can use the following:</p>\n\n<pre><code>@Autowired\nprivate Environment env;\n...\nString something = env.getProperty(\"property.key.something\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8186124,"reputation":4869,"user_id":6161898,"display_name":"fg78nc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501423424,"creation_date":1501422601,"answer_id":45400503,"question_id":45397626,"body_markdown":"You can use Spring `Environment` abstraction for that. \r\n\r\nFirst you need to add Property Source to your Java Configuration file\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:/com/mypacakge/core-message.properties&quot;)\r\n    public class AppConfig { \r\n\r\nOr if you have multiple properties files\r\n\r\n\r\n\r\n    @Configuration\r\n    @PropertySources({\r\n    \t@PropertySource(&quot;classpath:core-message.properties&quot;),\r\n    \t@PropertySource(&quot;classpath:database.properties&quot;)\r\n    }) \r\n        public class AppConfig { \r\n    \r\n\r\nAdd `PropertySourceConfigurer` to to your Java Configuration file\r\n\r\n     @Bean\r\n     public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\r\n        return new PropertySourcesPlaceholderConfigurer();\r\n     }\r\n\r\n\r\n\r\nNow let&#39;s say that in your `core-message.properties` you have the following data\r\n\r\n    message.name=Hello\r\n\r\nYou can retrieve this data in any bean by autowiring `Environment` abstraction and then calling `env.getProperty()`\r\n\r\n    @Autowired\r\n    Environment env;\r\n\r\n    public void m1(){\r\n    String message = env.getProperty(&quot;message.name&quot;)` // will return Hello\r\n\r\n--- \r\n\r\n`Environment` object provides interface to configure property sources and resolve properties. It provides convenience to read from a variety of sources: properties files, system environment variable, JVM system properties, servlet context parameters, and so on, which is very useful. For example :\r\n\r\n        environment.getSystemProperties().put(&quot;message&quot;, &quot;Hello&quot;);\r\n\t\tSystem.getProperties().put(&quot;message&quot;, &quot;Hello&quot;);\r\n\r\n        environment.getSystemProperties().get(&quot;message&quot;); // retrieve property\r\n        environment.getPropertySources() // allows manipulation of Properties objects\r\n\r\n[Spring Reference Documentation - Environment][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-environment","title":"Find message in multiple properties files","body":"<p>You can use Spring <code>Environment</code> abstraction for that. </p>\n\n<p>First you need to add Property Source to your Java Configuration file</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:/com/mypacakge/core-message.properties\")\npublic class AppConfig { \n</code></pre>\n\n<p>Or if you have multiple properties files</p>\n\n<pre><code>@Configuration\n@PropertySources({\n    @PropertySource(\"classpath:core-message.properties\"),\n    @PropertySource(\"classpath:database.properties\")\n}) \n    public class AppConfig { \n</code></pre>\n\n<p>Add <code>PropertySourceConfigurer</code> to to your Java Configuration file</p>\n\n<pre><code> @Bean\n public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\n    return new PropertySourcesPlaceholderConfigurer();\n }\n</code></pre>\n\n<p>Now let's say that in your <code>core-message.properties</code> you have the following data</p>\n\n<pre><code>message.name=Hello\n</code></pre>\n\n<p>You can retrieve this data in any bean by autowiring <code>Environment</code> abstraction and then calling <code>env.getProperty()</code></p>\n\n<pre><code>@Autowired\nEnvironment env;\n\npublic void m1(){\nString message = env.getProperty(\"message.name\")` // will return Hello\n</code></pre>\n\n<hr>\n\n<p><code>Environment</code> object provides interface to configure property sources and resolve properties. It provides convenience to read from a variety of sources: properties files, system environment variable, JVM system properties, servlet context parameters, and so on, which is very useful. For example :</p>\n\n<pre><code>    environment.getSystemProperties().put(\"message\", \"Hello\");\n    System.getProperties().put(\"message\", \"Hello\");\n\n    environment.getSystemProperties().get(\"message\"); // retrieve property\n    environment.getPropertySources() // allows manipulation of Properties objects\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-environment\" rel=\"nofollow noreferrer\">Spring Reference Documentation - Environment</a></p>\n"}],"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689459104,"creation_date":1501401233,"question_id":45397626,"body_markdown":"In an application there are multiple properties file for managing exception messages, alerts, and some others text these file like this: \r\n- core-message.properties\r\n- databaseException.properties \r\n...\r\n\r\nin Service layer maybe a database call occurs and the database returns a key that exists in one the properties files, and I want get the value and raise the exception message to user interface layer. \r\n\r\nif I know that the key in which properties file the code will be like this: \r\n\r\n    @Value(&quot;#{core[&#39;theExceptionKey&#39;]}&quot;) \r\n    public String excpetionMessage; \r\n    \r\n    private void myMethod() {\r\n    throw new ExceptionClass(exceptionMessage);\r\n    }\r\n\r\nI think spring can do that because when I use spring:message tag in jsp files spring does not know the key in which file but it loads the message correctly.","title":"Find message in multiple properties files","body":"<p>In an application there are multiple properties file for managing exception messages, alerts, and some others text these file like this:</p>\n<ul>\n<li>core-message.properties</li>\n<li>databaseException.properties\n...</li>\n</ul>\n<p>in Service layer maybe a database call occurs and the database returns a key that exists in one the properties files, and I want get the value and raise the exception message to user interface layer.</p>\n<p>if I know that the key in which properties file the code will be like this:</p>\n<pre><code>@Value(&quot;#{core['theExceptionKey']}&quot;) \npublic String excpetionMessage; \n\nprivate void myMethod() {\nthrow new ExceptionClass(exceptionMessage);\n}\n</code></pre>\n<p>I think spring can do that because when I use spring:message tag in jsp files spring does not know the key in which file but it loads the message correctly.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1689462199,"post_id":76695894,"comment_id":135217449,"body_markdown":"Did you try `SELECT NEW HistoricoDiario(DATE(dataHora), min(temperatura), max(temperatura), SUM(chuva) ...`?","body":"Did you try <code>SELECT NEW HistoricoDiario(DATE(dataHora), min(temperatura), max(temperatura), SUM(chuva) ...</code>?"}],"owner":{"account_id":21158557,"reputation":7,"user_id":17580646,"display_name":"Luis Ribeiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689457598,"creation_date":1689457598,"question_id":76695894,"body_markdown":"A query no Repository:\r\n\r\n    @Query(&quot;&quot;&quot;\r\n                SELECT DATE(dataHora) as data, min(temperatura) as minima, max(temperatura) as maxima, SUM(chuva) as chuva\r\n                FROM Historico\r\n                GROUP BY DATE(dataHora)\r\n                &quot;&quot;&quot;)\r\n        List&lt;HistoricoDiario&gt; listarHistoricoDiario();\r\n\r\nA classe Record:\r\n\r\n    public record HistoricoDiario(String data, Double minima, Double maxima, Double chuva) {\r\n    }\r\n\r\nA chamada no Controller:\r\n\r\n    public List&lt;HistoricoDiario&gt; historicoPorDia(){\r\n        return historicoRepository.listarHistoricoDiario();\r\n\r\n    }\r\n\r\nAo executar, gera este erro:\r\n\r\nNo converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [br.com.xxxxxx.api.domain.historico.HistoricoDiario]&quot;,\r\n\r\n\r\n","title":"Erro: No converter found capable of converting from type no Spring JPA","body":"<p>A query no Repository:</p>\n<pre><code>@Query(&quot;&quot;&quot;\n            SELECT DATE(dataHora) as data, min(temperatura) as minima, max(temperatura) as maxima, SUM(chuva) as chuva\n            FROM Historico\n            GROUP BY DATE(dataHora)\n            &quot;&quot;&quot;)\n    List&lt;HistoricoDiario&gt; listarHistoricoDiario();\n</code></pre>\n<p>A classe Record:</p>\n<pre><code>public record HistoricoDiario(String data, Double minima, Double maxima, Double chuva) {\n}\n</code></pre>\n<p>A chamada no Controller:</p>\n<pre><code>public List&lt;HistoricoDiario&gt; historicoPorDia(){\n    return historicoRepository.listarHistoricoDiario();\n\n}\n</code></pre>\n<p>Ao executar, gera este erro:</p>\n<p>No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [br.com.xxxxxx.api.domain.historico.HistoricoDiario]&quot;,</p>\n"},{"tags":["java","maven","gradle","groovy"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689174424,"post_id":76669840,"comment_id":135176854,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689704735,"post_id":76669840,"comment_id":135250580,"body_markdown":"Are you asking how to run a generic maven plugin from within gradle and this is just an example?","body":"Are you asking how to run a generic maven plugin from within gradle and this is just an example?"}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689455071,"creation_date":1689454485,"answer_id":76695744,"question_id":76669840,"body_markdown":"I&#39;m not a maven person, but I think it&#39;s just running a class or script.  In Gradle you define a task of type [Exec][1] to run a script.  For example:\r\n```\r\ntask runScript( type: Exec ) {\r\n   commandLine &#39;./start.sh&#39;\r\n}\r\n```\r\nif you want to run a java class you use [JavaExec][2]:\r\n```\r\ntask doSomeJava( type: JavaExec ) {\r\n   classpath = sourceSets.main.runtimeClasspath\r\n   mainClass = &quot;com.host.lib.MyCoolLib&quot;\r\n}\r\n```\r\nIn this example, I&#39;m using the classpath of my codebase (ie `sourceSets.main.runtimeClasspath`).  You could specify your own classpath that doesn&#39;t use the classpath&#39;s of your project (ie `file(someJar.jar)`)  The way I&#39;m showing it leverages your dependencies you have in Gradle.\r\n\r\nUsing the closure syntax of task can be tricky to new gradle people.  I think most people think of a task as a set of instructions to run like in ant goes inside the task.  That&#39;s not exactly right.  The code inside the task is configuring the task which runs everything the gradle file is read. \r\nThe code that runs when you execute a task does not run then.  A plain vanilla task would look like this:\r\n\r\n```\r\ntask someTask {\r\n   // we configure the task here\r\n   group = &#39;analysis&#39;\r\n   doLast {\r\n     // Groovy code goes here to execute the task\r\n   }\r\n}\r\n```\r\nBut when we use `type` parameter we are switching the object class of our task.  Typically we aren&#39;t running code in this situation and we are only configuring the our task  Here is a [Zip][3] task type.\r\n```\r\ntask makeAZip(type: Zip) {\r\n   from file(&quot;${srcDir}/some&quot;)\r\n   to file(&quot;${buildDir}&quot;)\r\n   include &quot;*.txt&quot;\r\n}\r\n```\r\nWe&#39;re just configuring the task either through task type instance variables, or calling instance methods.  We wouldn&#39;t write code to produce the zip file because the Zip task already does that for us.  We just need to configure it.  And that is fundamental concept of how Gradle tasks work.\r\n\r\nIn your case you&#39;ll want your `javaxToJakarta` task to run before you make a jar file.  When building a java app you add the `java` plugin which adds predefined tasks for building java projects.  In gradle the java project has several phases it goes through when building.  These phases are nothing more than a set of predefined tasks.  You just need to attach your task to that chain of work.\r\n\r\n```\r\ntasks.named(&quot;jar&quot;) {\r\n    dependsOn(javaxToJakarta)\r\n}\r\n```\r\n\r\nSo now your `javaxToJakarta` task will run before jar because jar `dependsOn` `javaxToJakarta` now.  For more information on default tasks in java builds see this: https://gradlehero.com/gradle-assemble-task-essentials/#:~:text=Assemble%20is%20a%20lifecycle%20task,artifact%20into%20a%20single%20task.\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html\r\n  [2]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\r\n  [3]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Zip.html","title":"What is the equivalent of Maven&#39;s &lt;execution&gt; in Gradle?","body":"<p>I'm not a maven person, but I think it's just running a class or script.  In Gradle you define a task of type <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html\" rel=\"nofollow noreferrer\">Exec</a> to run a script.  For example:</p>\n<pre><code>task runScript( type: Exec ) {\n   commandLine './start.sh'\n}\n</code></pre>\n<p>if you want to run a java class you use <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">JavaExec</a>:</p>\n<pre><code>task doSomeJava( type: JavaExec ) {\n   classpath = sourceSets.main.runtimeClasspath\n   mainClass = &quot;com.host.lib.MyCoolLib&quot;\n}\n</code></pre>\n<p>In this example, I'm using the classpath of my codebase (ie <code>sourceSets.main.runtimeClasspath</code>).  You could specify your own classpath that doesn't use the classpath's of your project (ie <code>file(someJar.jar)</code>)  The way I'm showing it leverages your dependencies you have in Gradle.</p>\n<p>Using the closure syntax of task can be tricky to new gradle people.  I think most people think of a task as a set of instructions to run like in ant goes inside the task.  That's not exactly right.  The code inside the task is configuring the task which runs everything the gradle file is read.\nThe code that runs when you execute a task does not run then.  A plain vanilla task would look like this:</p>\n<pre><code>task someTask {\n   // we configure the task here\n   group = 'analysis'\n   doLast {\n     // Groovy code goes here to execute the task\n   }\n}\n</code></pre>\n<p>But when we use <code>type</code> parameter we are switching the object class of our task.  Typically we aren't running code in this situation and we are only configuring the our task  Here is a <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Zip.html\" rel=\"nofollow noreferrer\">Zip</a> task type.</p>\n<pre><code>task makeAZip(type: Zip) {\n   from file(&quot;${srcDir}/some&quot;)\n   to file(&quot;${buildDir}&quot;)\n   include &quot;*.txt&quot;\n}\n</code></pre>\n<p>We're just configuring the task either through task type instance variables, or calling instance methods.  We wouldn't write code to produce the zip file because the Zip task already does that for us.  We just need to configure it.  And that is fundamental concept of how Gradle tasks work.</p>\n<p>In your case you'll want your <code>javaxToJakarta</code> task to run before you make a jar file.  When building a java app you add the <code>java</code> plugin which adds predefined tasks for building java projects.  In gradle the java project has several phases it goes through when building.  These phases are nothing more than a set of predefined tasks.  You just need to attach your task to that chain of work.</p>\n<pre><code>tasks.named(&quot;jar&quot;) {\n    dependsOn(javaxToJakarta)\n}\n</code></pre>\n<p>So now your <code>javaxToJakarta</code> task will run before jar because jar <code>dependsOn</code> <code>javaxToJakarta</code> now.  For more information on default tasks in java builds see this: <a href=\"https://gradlehero.com/gradle-assemble-task-essentials/#:%7E:text=Assemble%20is%20a%20lifecycle%20task,artifact%20into%20a%20single%20task\" rel=\"nofollow noreferrer\">https://gradlehero.com/gradle-assemble-task-essentials/#:~:text=Assemble%20is%20a%20lifecycle%20task,artifact%20into%20a%20single%20task</a>.</p>\n"}],"owner":{"account_id":6439793,"reputation":23,"user_id":4990145,"display_name":"Joo Sung Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689455071,"creation_date":1689159646,"question_id":76669840,"body_markdown":"When I searched to change Javax to Jakarta, I found something like this, so I tried to refer to it. The problem is that I have to use Gradle. How can I use this code in Gradle?\r\n\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.transformer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.transformer.maven&lt;/artifactId&gt;\r\n                &lt;version&gt;0.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jakarta-ee&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nI still don&#39;t get it how to use task in gradle\r\n\r\ntask javaxToJakarta(type:){\r\n    \r\n}","title":"What is the equivalent of Maven&#39;s &lt;execution&gt; in Gradle?","body":"<p>When I searched to change Javax to Jakarta, I found something like this, so I tried to refer to it. The problem is that I have to use Gradle. How can I use this code in Gradle?</p>\n<pre><code>         &lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.transformer&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.transformer.maven&lt;/artifactId&gt;\n            &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jakarta-ee&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I still don't get it how to use task in gradle</p>\n<p>task javaxToJakarta(type:){</p>\n<p>}</p>\n"},{"tags":["java","eclipse","formatter"],"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":3,"creation_date":1538697296,"post_id":6676305,"comment_id":92244193,"body_markdown":"Is there any variable in external formatter (org.eclipse.jdt.core.formatter......) to enforce each enum variable in a separate line?","body":"Is there any variable in external formatter (org.eclipse.jdt.core.formatter......) to enforce each enum variable in a separate line?"}],"answers":[{"tags":[],"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1310685857,"creation_date":1310546864,"answer_id":6676359,"question_id":6676305,"body_markdown":"You can specify this in your formatter preferences:\r\n\r\n* Preferences: Java -- Code Style -- Formatter\r\n* Click Edit\r\n* Select the &#39;Line Wrapping&#39; tab\r\n* Select &#39;enum&#39; declaration -&gt; Constants in the box on the left\r\n* Set Line wrapping policy to &#39;Wrap all elements, every element on a new line&#39;\r\n* Check &#39;Force split...&#39;\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>You can specify this in your formatter preferences:</p>\n\n<ul>\n<li>Preferences: Java -- Code Style -- Formatter</li>\n<li>Click Edit</li>\n<li>Select the 'Line Wrapping' tab</li>\n<li>Select 'enum' declaration -> Constants in the box on the left</li>\n<li>Set Line wrapping policy to 'Wrap all elements, every element on a new line'</li>\n<li>Check 'Force split...'</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":72987,"reputation":3238,"user_id":210445,"accept_rate":70,"display_name":"pillingworth"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1429714380,"creation_date":1310547187,"answer_id":6676422,"question_id":6676305,"body_markdown":"It&#39;s not nice but you can turn the Eclipse formatter off for some sections of code...\r\n\r\n    // @formatter:off\r\n    public static enum Command {\r\n        login,\r\n        register,\r\n        logout,\r\n        newMessage\r\n    };\r\n    // @formatter:on\r\n\r\nthe option is in the Windows-&gt;Preferences-&gt;Java-&gt;Code Style-&gt;Formatter-&gt;Edit-&gt;Off/On Tags panel","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>It's not nice but you can turn the Eclipse formatter off for some sections of code...</p>\n\n<pre><code>// @formatter:off\npublic static enum Command {\n    login,\n    register,\n    logout,\n    newMessage\n};\n// @formatter:on\n</code></pre>\n\n<p>the option is in the Windows->Preferences->Java->Code Style->Formatter->Edit->Off/On Tags panel</p>\n"},{"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310547207,"creation_date":1310547207,"answer_id":6676427,"question_id":6676305,"body_markdown":"You need to set the line wrapping policy under enum declaration for &quot;Constants.&quot;\r\n\r\nSet the wrapping policy to\r\n\r\n * Wrap all elements, every element on a new line\r\n\r\n**AND**\r\n\r\n * Check the box that says &quot;Force Split, even if line shorter than,,,,,\r\n\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>You need to set the line wrapping policy under enum declaration for \"Constants.\"</p>\n\n<p>Set the wrapping policy to</p>\n\n<ul>\n<li>Wrap all elements, every element on a new line</li>\n</ul>\n\n<p><strong>AND</strong></p>\n\n<ul>\n<li>Check the box that says \"Force Split, even if line shorter than,,,,,</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":441528,"reputation":591,"user_id":831684,"display_name":"Raku"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1310547432,"creation_date":1310547432,"answer_id":6676465,"question_id":6676305,"body_markdown":"It&#39;s slightly ugly too, but if your company policy prevents you from changing the formatter, you can just put comments at the end of lines you don&#39;t want to be wrapped.\r\n\r\n\r\n    public static enum Command \r\n    {\r\n        login,//\r\n        register,//\r\n        logout,//\r\n        newMessage//\r\n    };\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>It's slightly ugly too, but if your company policy prevents you from changing the formatter, you can just put comments at the end of lines you don't want to be wrapped.</p>\n\n<pre><code>public static enum Command \n{\n    login,//\n    register,//\n    logout,//\n    newMessage//\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161822,"reputation":3122,"user_id":382885,"display_name":"PolyTekPatrick"},"down_vote_count":0,"up_vote_count":210,"is_accepted":true,"score":210,"last_activity_date":1416922564,"creation_date":1349256457,"answer_id":12705543,"question_id":6676305,"body_markdown":"The answer by @wjans worked fine for normal enums, but not for enums with arguments. To expand on his answer a bit, here&#39;s the settings that provided the most sensible formatting for me in Eclipse Juno:\r\n\r\n 1. `Window` &gt; `Preferences` &gt; `Java` &gt; `Code Style` &gt; `Formatter`\r\n 2. Click `Edit`\r\n 3. Select the `Line Wrapping` tab\r\n 4. Select the `enum` declaration treenode\r\n 5. Set `Line wrapping policy` to `Wrap all elements, every element on a new line (...)` so it now says 3 of 3 in the parenthesis.\r\n 6. Uncheck `Force split, even if line shorter than maximum line width (...)` so it now says 3 of 3 in the parenthesis.\r\n 7. Select the `Constants` treenode\r\n 8. Check `Force split, even if line shorter than maximum line width`\r\n\r\nThis sets the 3 subnodes for the enum treenode to the same wrapping policy, and the same force split policy except for the `Constants` treenode, so your enums with arguments will be formatted each on their own line. The arguments will only wrap if they exceed maximum line width.\r\n\r\n**Examples:**\r\n\r\n**@wjans**\r\n\r\n    enum Example {\r\n    \tCANCELLED,\r\n    \tRUNNING,\r\n    \tWAITING,\r\n    \tFINISHED\r\n    }\r\n    \r\n    enum Example {\r\n    \tGREEN(\r\n    \t\t0,\r\n    \t\t255,\r\n    \t\t0),\r\n    \tRED(\r\n    \t\t255,\r\n    \t\t0,\r\n    \t\t0)\r\n    }\r\n\r\n\r\n**Solution described above:**\r\n\r\n    enum Example {\r\n    \tCANCELLED,\r\n    \tRUNNING,\r\n    \tWAITING,\r\n    \tFINISHED\r\n    }\r\n    \r\n    enum Example {\r\n    \tGREEN(0, 255, 0),\r\n    \tRED(255, 0, 0)\r\n    }","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>The answer by @wjans worked fine for normal enums, but not for enums with arguments. To expand on his answer a bit, here's the settings that provided the most sensible formatting for me in Eclipse Juno:</p>\n\n<ol>\n<li><code>Window</code> > <code>Preferences</code> > <code>Java</code> > <code>Code Style</code> > <code>Formatter</code></li>\n<li>Click <code>Edit</code></li>\n<li>Select the <code>Line Wrapping</code> tab</li>\n<li>Select the <code>enum</code> declaration treenode</li>\n<li>Set <code>Line wrapping policy</code> to <code>Wrap all elements, every element on a new line (...)</code> so it now says 3 of 3 in the parenthesis.</li>\n<li>Uncheck <code>Force split, even if line shorter than maximum line width (...)</code> so it now says 3 of 3 in the parenthesis.</li>\n<li>Select the <code>Constants</code> treenode</li>\n<li>Check <code>Force split, even if line shorter than maximum line width</code></li>\n</ol>\n\n<p>This sets the 3 subnodes for the enum treenode to the same wrapping policy, and the same force split policy except for the <code>Constants</code> treenode, so your enums with arguments will be formatted each on their own line. The arguments will only wrap if they exceed maximum line width.</p>\n\n<p><strong>Examples:</strong></p>\n\n<p><strong>@wjans</strong></p>\n\n<pre><code>enum Example {\n    CANCELLED,\n    RUNNING,\n    WAITING,\n    FINISHED\n}\n\nenum Example {\n    GREEN(\n        0,\n        255,\n        0),\n    RED(\n        255,\n        0,\n        0)\n}\n</code></pre>\n\n<p><strong>Solution described above:</strong></p>\n\n<pre><code>enum Example {\n    CANCELLED,\n    RUNNING,\n    WAITING,\n    FINISHED\n}\n\nenum Example {\n    GREEN(0, 255, 0),\n    RED(255, 0, 0)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1026421,"reputation":6737,"user_id":1035634,"display_name":"Ondrej Burkert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543573774,"creation_date":1543573774,"answer_id":53555690,"question_id":6676305,"body_markdown":"Just adding latest Eclipse 2018.9\r\n\r\n 1. `Window &gt; Preferences &gt; Java &gt; Code Style &gt; Formatter` - `Edit`\r\n 2. Expand `Line Wrapping` tree node.\r\n 3. Expand `Wrapping settings`\r\n 4. Expand `&#39;enum&#39; declaration`\r\n 5. Edit `Constants` and `Constant arguments`.\r\n\r\nConstants need to be `Wrap all elements, every element on a new line`.\r\nConstant arguments need to be `Wrap where necessary`.","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>Just adding latest Eclipse 2018.9</p>\n\n<ol>\n<li><code>Window &gt; Preferences &gt; Java &gt; Code Style &gt; Formatter</code> - <code>Edit</code></li>\n<li>Expand <code>Line Wrapping</code> tree node.</li>\n<li>Expand <code>Wrapping settings</code></li>\n<li>Expand <code>'enum' declaration</code></li>\n<li>Edit <code>Constants</code> and <code>Constant arguments</code>.</li>\n</ol>\n\n<p>Constants need to be <code>Wrap all elements, every element on a new line</code>.\nConstant arguments need to be <code>Wrap where necessary</code>.</p>\n"},{"tags":[],"owner":{"account_id":3654622,"reputation":2634,"user_id":3045978,"display_name":"ninjahoahong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689454910,"creation_date":1689454910,"answer_id":76695765,"question_id":6676305,"body_markdown":"in my case set `org.eclipse.jdt.core.formatter.alignment_for_enum_constants` to `17` works with maven formatter plugin: https://code.revelc.net/formatter-maven-plugin/\r\n```\r\n    &lt;setting\r\n      id=&quot;org.eclipse.jdt.core.formatter.alignment_for_enum_constants&quot;\r\n      value=&quot;17&quot;\r\n    /&gt;\r\n```\r\nhttps://gitlab.inria.fr/stopcovid19/submission-code-server/-/blob/develop/.etc/eclipse-formatter-java.xml","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>in my case set <code>org.eclipse.jdt.core.formatter.alignment_for_enum_constants</code> to <code>17</code> works with maven formatter plugin: <a href=\"https://code.revelc.net/formatter-maven-plugin/\" rel=\"nofollow noreferrer\">https://code.revelc.net/formatter-maven-plugin/</a></p>\n<pre><code>    &lt;setting\n      id=&quot;org.eclipse.jdt.core.formatter.alignment_for_enum_constants&quot;\n      value=&quot;17&quot;\n    /&gt;\n</code></pre>\n<p><a href=\"https://gitlab.inria.fr/stopcovid19/submission-code-server/-/blob/develop/.etc/eclipse-formatter-java.xml\" rel=\"nofollow noreferrer\">https://gitlab.inria.fr/stopcovid19/submission-code-server/-/blob/develop/.etc/eclipse-formatter-java.xml</a></p>\n"}],"owner":{"account_id":442105,"reputation":3230,"user_id":832565,"accept_rate":78,"display_name":"MetaChrome"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27605,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":12705543,"answer_count":7,"score":113,"last_activity_date":1689454910,"creation_date":1310546614,"question_id":6676305,"body_markdown":"I have enums like:\r\n\r\n    public static enum Command\r\n    {\r\n    login,\r\n    register,\r\n    logout,\r\n    newMessage\r\n    }\r\n\r\nWhen formatting the file, the output becomes:\r\n\r\n    public static enum Command \r\n    {\r\n    login, register, logout, newMessage\r\n    }\r\n\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>I have enums like:</p>\n\n<pre><code>public static enum Command\n{\nlogin,\nregister,\nlogout,\nnewMessage\n}\n</code></pre>\n\n<p>When formatting the file, the output becomes:</p>\n\n<pre><code>public static enum Command \n{\nlogin, register, logout, newMessage\n}\n</code></pre>\n"},{"tags":["java","spring-boot","email","google-cloud-platform","google-drive-api"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1689360454,"post_id":76687017,"comment_id":135207882,"body_markdown":"Let me summarize: You want your code use an email/password of a GMAIL address to get a credential, and use that credential to download file in Google Drive?","body":"Let me summarize: You want your code use an email/password of a GMAIL address to get a credential, and use that credential to download file in Google Drive?"},{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1689363631,"post_id":76687017,"comment_id":135208380,"body_markdown":"Hi, @guillaumeblaquiere anything would be fine. 1. If possible generate the credentials using our Gmail. we can use it. OR 2. without any credentials if we can connect to google drive using Gmail? Is this possible? then either of the ones I can use.","body":"Hi, @guillaumeblaquiere anything would be fine. 1. If possible generate the credentials using our Gmail. we can use it. OR 2. without any credentials if we can connect to google drive using Gmail? Is this possible? then either of the ones I can use."},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1689367180,"post_id":76687017,"comment_id":135208975,"body_markdown":"If you&#39;re looking for an option to use Google API without pre-created application credentials then there aren&#39;t any options. Other way is to make web scraper which will be blocked in some time after","body":"If you&#39;re looking for an option to use Google API without pre-created application credentials then there aren&#39;t any options. Other way is to make web scraper which will be blocked in some time after"},{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1689394715,"post_id":76687017,"comment_id":135210917,"body_markdown":"Hi, @Irremediable Thanks for the reply. I say If I don&#39;t have access to Gcloud download the service JSON key and use it in the program. For that case, I have my Gmail address with that if there is any possibility then I can use it.","body":"Hi, @Irremediable Thanks for the reply. I say If I don&#39;t have access to Gcloud download the service JSON key and use it in the program. For that case, I have my Gmail address with that if there is any possibility then I can use it."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689452174,"creation_date":1689452174,"answer_id":76695627,"question_id":76687017,"body_markdown":"To access a Google api in this case the google drive API you must register your application with Google.\r\n\r\n\r\nThen you can use Oauth2 to request consent to access private user data in this case an image owner by a user.\r\n\r\n\r\nIts not possible to access the google API without first registering your application and then crediting credentials json\r\n\r\nno you can&#39;t use an email ","title":"Is it possible to download an image from Google Drive with our Email (Gmail) and password using SpringBoot + Java","body":"<p>To access a Google api in this case the google drive API you must register your application with Google.</p>\n<p>Then you can use Oauth2 to request consent to access private user data in this case an image owner by a user.</p>\n<p>Its not possible to access the google API without first registering your application and then crediting credentials json</p>\n<p>no you can't use an email</p>\n"}],"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689452174,"creation_date":1689332221,"question_id":76687017,"body_markdown":"I try downloading an image or a file from Google Drive using Spring Boot with Java. But it is expecting Google credentials. I don&#39;t have any credentials handy. So can we download our own Google Drive image or file using our email (Gmail and password) to bypass the credentials? I will attach the code am using currently, and please let me know if I can replace the credentials with Gmail or any other way...\r\n\r\n    public static ByteArrayOutputStream downloadFile(String fileId) throws IOException{\r\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault().createScoped(Arrays.asList(DriveScopes.DRIVE));\r\n    HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n    Drive service = new Drive.Builder(new NetHttpTransport(),\r\n                            GsonFactory.getDefaultInstance(),\r\n                            requestInitializer)\r\n                            .setApplicationName(&quot;Drive Samples&quot;)\r\n                            .build();\r\n    try{\r\n             OutputStream outputStream = new ByteArrayOutputStream();\r\n             service.files().get(fileId).executeMediaAndDownloadTo(outputStream);\r\n             return (ByteArrayOutputStream) outputStream;\r\n    \r\n    }catch(GoogleJsonResponseException e){\r\n       System.err.print(&quot;unable to move file: &quot; e.getDetails());\r\n       throw e;\r\n    }\r\n    \r\n    }\r\n\r\nPlease check and share if any other ways other than Google credentials are there.\r\n\r\nThanks in advance.\r\n","title":"Is it possible to download an image from Google Drive with our Email (Gmail) and password using SpringBoot + Java","body":"<p>I try downloading an image or a file from Google Drive using Spring Boot with Java. But it is expecting Google credentials. I don't have any credentials handy. So can we download our own Google Drive image or file using our email (Gmail and password) to bypass the credentials? I will attach the code am using currently, and please let me know if I can replace the credentials with Gmail or any other way...</p>\n<pre><code>public static ByteArrayOutputStream downloadFile(String fileId) throws IOException{\n    GoogleCredentials credentials = GoogleCredentials.getApplicationDefault().createScoped(Arrays.asList(DriveScopes.DRIVE));\nHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\nDrive service = new Drive.Builder(new NetHttpTransport(),\n                        GsonFactory.getDefaultInstance(),\n                        requestInitializer)\n                        .setApplicationName(&quot;Drive Samples&quot;)\n                        .build();\ntry{\n         OutputStream outputStream = new ByteArrayOutputStream();\n         service.files().get(fileId).executeMediaAndDownloadTo(outputStream);\n         return (ByteArrayOutputStream) outputStream;\n\n}catch(GoogleJsonResponseException e){\n   System.err.print(&quot;unable to move file: &quot; e.getDetails());\n   throw e;\n}\n\n}\n</code></pre>\n<p>Please check and share if any other ways other than Google credentials are there.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","kivy","crash","kivymd","buildozer"],"comments":[{"owner":{"account_id":6387730,"reputation":36641,"user_id":7254633,"display_name":"John Anderson"},"score":0,"creation_date":1689369368,"post_id":76684458,"comment_id":135209275,"body_markdown":"Try connecting your phone to your PC and running `buildozer -v android debug deploy run logcat &gt; my_log.txt`. Then look in `my_log.txt` for hints.","body":"Try connecting your phone to your PC and running <code>buildozer -v android debug deploy run logcat &gt; my_log.txt</code>. Then look in <code>my_log.txt</code> for hints."}],"answers":[{"tags":[],"owner":{"account_id":28996829,"reputation":1,"user_id":22211301,"display_name":"Harsh Kukadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689450868,"creation_date":1689450868,"answer_id":76695553,"question_id":76684458,"body_markdown":"Try collab using this [notebook][1] and in generated buildozer.spec file on line 40 use \r\n\r\n&gt; requirements = python3, kivy==2.1.0, kivymd==1.1.1, sdl2_ttf==2.0.15, pillow\r\n\r\nlet me know after trying.\r\n\r\n\r\n  [1]: https://colab.research.google.com/drive/1BZv4XslhqGtHJG0jEmcYo1rbk1TI1hiC?usp=sharing","title":"Why my KivyMD app Crashes On Startup after converting to Android with Buildozer?","body":"<p>Try collab using this <a href=\"https://colab.research.google.com/drive/1BZv4XslhqGtHJG0jEmcYo1rbk1TI1hiC?usp=sharing\" rel=\"nofollow noreferrer\">notebook</a> and in generated buildozer.spec file on line 40 use</p>\n<blockquote>\n<p>requirements = python3, kivy==2.1.0, kivymd==1.1.1, sdl2_ttf==2.0.15, pillow</p>\n</blockquote>\n<p>let me know after trying.</p>\n"}],"owner":{"account_id":29014206,"reputation":1,"user_id":22225000,"display_name":"Fakhri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689450868,"creation_date":1689304110,"question_id":76684458,"body_markdown":"I have built an APP from Python Kivy &amp; KivyMD, using Buildozer. It was converted to an APK file successfully. But when I open the app after installing, it is loaded a little while and crashes. Nothing Shows and nothing happens. \r\n\r\nI tried with many ways such as using of Google Colab, Using Github Repository. But nothing was succeed.\r\n\r\nPlease Help me to resolve the issue.\r\n\r\n**main.py**\r\n\r\n```\r\nfrom kivymd.app import MDApp\r\nfrom kivy.lang import Builder\r\nfrom kivy.uix.screenmanager import ScreenManager, SlideTransition\r\nfrom kivymd.uix.button import MDFlatButton\r\nfrom kivy.core.window import Window\r\nfrom kivymd.uix.screen import Screen\r\nfrom kivymd.uix.dialog import MDDialog\r\nfrom functions import *\r\nfrom plyer import filechooser\r\nfrom kivy import platform\r\n\r\nif platform == &quot;android&quot;:\r\n    from android.permissions import request_permissions, Permission\r\n    request_permissions([Permission.CAMERA, Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\r\n\r\nWindow.size = (414, 896)\r\n\r\nclass MyApp(MDApp):\r\n    dialog = None\r\n\r\n    def build(self):\r\n\r\n        self.theme_cls.primary_palette = &quot;Red&quot;\r\n        self.theme_cls.secondary_palette = &quot;Black&quot;\r\n        self.theme_cls.theme_style = &quot;Dark&quot;\r\n\r\n        Builder.load_file(&#39;screens/menuutama.kv&#39;)\r\n        Builder.load_file(&#39;screens/enkripsi.kv&#39;)\r\n        Builder.load_file(&#39;screens/dekripsi.kv&#39;)  # Load the MenuDekripsi kv file\r\n        Builder.load_file(&#39;screens/bantuan.kv&#39;)  # Load the BantuanPengguna kv file\r\n        Builder.load_file(&#39;screens/tentang.kv&#39;)\r\n\r\n        screen_manager = ScreenManager()\r\n        screen_manager.add_widget(MenuUtama(name=&#39;menuutama&#39;))\r\n        screen_manager.add_widget(MenuEnkripsi(name=&#39;enkripsi&#39;))\r\n        screen_manager.add_widget(MenuDekripsi(name=&#39;dekripsi&#39;))\r\n        screen_manager.add_widget(BantuanPengguna(name=&#39;bantuan&#39;))\r\n        screen_manager.add_widget(TentangAplikasi(name=&#39;tentang&#39;))\r\n        return screen_manager\r\n    \r\n    def on_start(self, **kwargs):\r\n        if platform == &quot;android&quot;:\r\n            from android.permissions import request_permissions, Permission\r\n            request_permissions([Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\r\n    \r\n    def file_chooser(self):\r\n        filechooser.open_file(on_selection=self.selected)\r\n\r\n    #and another code\r\n\r\n```\r\n\r\n**buildozer.spec**\r\n\r\n\r\n```\r\ntitle = ImSecure\r\n\r\n# (str) Package name\r\npackage.name = imsecure\r\n\r\n# (str) Package domain (needed for android/ios packaging)\r\npackage.domain = org.test\r\n\r\n# (str) Source code where the main.py live\r\nsource.dir = .\r\n\r\n# (list) Source files to include (let empty to include all the files)\r\nsource.include_exts = py,kv,png,jpg,bmp\r\n\r\n# (list) Source files to exclude (let empty to not exclude anything)\r\nsource.exclude_exts = spec\r\n\r\n# (list) List of directory to exclude (let empty to not exclude anything)\r\nsource.exclude_dirs = tests, bin, venv\r\n\r\n# (str) Application versioning (method 1)\r\nversion = 0.1\r\n\r\n\r\n# change the major version of python used by the app\r\nosx.python_version = 3\r\n\r\n# Kivy version to use\r\nosx.kivy_version = 1.9.1\r\n\r\n# (list) Permissions\r\n# (See https://python-for-android.readthedocs.io/en/latest/buildoptions/#build-options-1 for all the supported syntaxes and properties)\r\nandroid.permissions = WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE\r\n```\r\n\r\ncan you guys help me?\r\n\r\n\r\n\r\n","title":"Why my KivyMD app Crashes On Startup after converting to Android with Buildozer?","body":"<p>I have built an APP from Python Kivy &amp; KivyMD, using Buildozer. It was converted to an APK file successfully. But when I open the app after installing, it is loaded a little while and crashes. Nothing Shows and nothing happens.</p>\n<p>I tried with many ways such as using of Google Colab, Using Github Repository. But nothing was succeed.</p>\n<p>Please Help me to resolve the issue.</p>\n<p><strong>main.py</strong></p>\n<pre><code>from kivymd.app import MDApp\nfrom kivy.lang import Builder\nfrom kivy.uix.screenmanager import ScreenManager, SlideTransition\nfrom kivymd.uix.button import MDFlatButton\nfrom kivy.core.window import Window\nfrom kivymd.uix.screen import Screen\nfrom kivymd.uix.dialog import MDDialog\nfrom functions import *\nfrom plyer import filechooser\nfrom kivy import platform\n\nif platform == &quot;android&quot;:\n    from android.permissions import request_permissions, Permission\n    request_permissions([Permission.CAMERA, Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\n\nWindow.size = (414, 896)\n\nclass MyApp(MDApp):\n    dialog = None\n\n    def build(self):\n\n        self.theme_cls.primary_palette = &quot;Red&quot;\n        self.theme_cls.secondary_palette = &quot;Black&quot;\n        self.theme_cls.theme_style = &quot;Dark&quot;\n\n        Builder.load_file('screens/menuutama.kv')\n        Builder.load_file('screens/enkripsi.kv')\n        Builder.load_file('screens/dekripsi.kv')  # Load the MenuDekripsi kv file\n        Builder.load_file('screens/bantuan.kv')  # Load the BantuanPengguna kv file\n        Builder.load_file('screens/tentang.kv')\n\n        screen_manager = ScreenManager()\n        screen_manager.add_widget(MenuUtama(name='menuutama'))\n        screen_manager.add_widget(MenuEnkripsi(name='enkripsi'))\n        screen_manager.add_widget(MenuDekripsi(name='dekripsi'))\n        screen_manager.add_widget(BantuanPengguna(name='bantuan'))\n        screen_manager.add_widget(TentangAplikasi(name='tentang'))\n        return screen_manager\n    \n    def on_start(self, **kwargs):\n        if platform == &quot;android&quot;:\n            from android.permissions import request_permissions, Permission\n            request_permissions([Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\n    \n    def file_chooser(self):\n        filechooser.open_file(on_selection=self.selected)\n\n    #and another code\n\n</code></pre>\n<p><strong>buildozer.spec</strong></p>\n<pre><code>title = ImSecure\n\n# (str) Package name\npackage.name = imsecure\n\n# (str) Package domain (needed for android/ios packaging)\npackage.domain = org.test\n\n# (str) Source code where the main.py live\nsource.dir = .\n\n# (list) Source files to include (let empty to include all the files)\nsource.include_exts = py,kv,png,jpg,bmp\n\n# (list) Source files to exclude (let empty to not exclude anything)\nsource.exclude_exts = spec\n\n# (list) List of directory to exclude (let empty to not exclude anything)\nsource.exclude_dirs = tests, bin, venv\n\n# (str) Application versioning (method 1)\nversion = 0.1\n\n\n# change the major version of python used by the app\nosx.python_version = 3\n\n# Kivy version to use\nosx.kivy_version = 1.9.1\n\n# (list) Permissions\n# (See https://python-for-android.readthedocs.io/en/latest/buildoptions/#build-options-1 for all the supported syntaxes and properties)\nandroid.permissions = WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE\n</code></pre>\n<p>can you guys help me?</p>\n"},{"tags":["java","database","jpa","openapi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689450694,"creation_date":1689450694,"answer_id":76695538,"question_id":76694822,"body_markdown":"There are two different approaches using of Panache within the Quarkus application:\r\n\r\n 1. using the active record pattern through PanacheEntity\r\n 2. using the repository pattern through PanacheRepository\r\n\r\nIf you use PanacheEntity you shouldn&#39;t use PanacheRepository. And vice versa don&#39;t extend PanacheEntity if you work with PanacheRepository\r\n\r\nSo I think the problem is you mixed both approaches in your addPriceRequest() method.\r\n\r\n ","title":"&#39;Detached entity passed to persist&#39; in OpenAPI UI, but not in Postman","body":"<p>There are two different approaches using of Panache within the Quarkus application:</p>\n<ol>\n<li>using the active record pattern through PanacheEntity</li>\n<li>using the repository pattern through PanacheRepository</li>\n</ol>\n<p>If you use PanacheEntity you shouldn't use PanacheRepository. And vice versa don't extend PanacheEntity if you work with PanacheRepository</p>\n<p>So I think the problem is you mixed both approaches in your addPriceRequest() method.</p>\n"}],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76695538,"answer_count":1,"score":0,"last_activity_date":1689450694,"creation_date":1689439527,"question_id":76694822,"body_markdown":"I am creating a quarkus application where a certain `PriceRequest` entity should be stored in the DB. This is a short version of the entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;t_price_request&quot;)\r\n    public class PriceRequest extends PanacheEntity {\r\n      @Column\r\n      public String buildingType;\r\n      @Column\r\n      public int squareMeters;\r\n    }\r\n\r\nNow, I would like to test a post call which tries to save a PriceRequest into the DB. It calls the `addPriceRequest` function from the repository which you can find below.\r\n\r\n    @ApplicationScoped\r\n    public class PriceRequestRepository implements PanacheRepository&lt;PriceRequest&gt; {\r\n        @Transactional\r\n        public void addPriceRequest(PriceRequest priceRequest) {\r\n            priceRequest.setCreationDate(LocalDateTime.now());\r\n            priceRequest.persistAndFlush();\r\n        }\r\n    \r\n        @Transactional\r\n        public PriceRequest findPriceRequestById(Long id) {\r\n            return findById(id);\r\n        }\r\n    \r\n        @Transactional\r\n        public List&lt;PriceRequest&gt; findAllPriceRequests() {\r\n            return findAll().stream().toList();\r\n        }\r\n    }\r\n\r\nWhen testing this via a Postman call, everything works. When testing this with the OpenAPI UI, the following error pops up:\r\n\r\n     HTTP Request to /price-request failed, error id: a5caae7f-5daa-49ef-8358-0e57b9895a1a-6: org.hibernate.PersistentObjectException: detached entity passed to persist: be.backeit.domain.PriceRequest\r\n            at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:88)\r\n\r\n\r\nWhats wrong in my code? Do I need to add some extra annotations?","title":"&#39;Detached entity passed to persist&#39; in OpenAPI UI, but not in Postman","body":"<p>I am creating a quarkus application where a certain <code>PriceRequest</code> entity should be stored in the DB. This is a short version of the entity</p>\n<pre><code>@Entity\n@Table(name = &quot;t_price_request&quot;)\npublic class PriceRequest extends PanacheEntity {\n  @Column\n  public String buildingType;\n  @Column\n  public int squareMeters;\n}\n</code></pre>\n<p>Now, I would like to test a post call which tries to save a PriceRequest into the DB. It calls the <code>addPriceRequest</code> function from the repository which you can find below.</p>\n<pre><code>@ApplicationScoped\npublic class PriceRequestRepository implements PanacheRepository&lt;PriceRequest&gt; {\n    @Transactional\n    public void addPriceRequest(PriceRequest priceRequest) {\n        priceRequest.setCreationDate(LocalDateTime.now());\n        priceRequest.persistAndFlush();\n    }\n\n    @Transactional\n    public PriceRequest findPriceRequestById(Long id) {\n        return findById(id);\n    }\n\n    @Transactional\n    public List&lt;PriceRequest&gt; findAllPriceRequests() {\n        return findAll().stream().toList();\n    }\n}\n</code></pre>\n<p>When testing this via a Postman call, everything works. When testing this with the OpenAPI UI, the following error pops up:</p>\n<pre><code> HTTP Request to /price-request failed, error id: a5caae7f-5daa-49ef-8358-0e57b9895a1a-6: org.hibernate.PersistentObjectException: detached entity passed to persist: be.backeit.domain.PriceRequest\n        at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:88)\n</code></pre>\n<p>Whats wrong in my code? Do I need to add some extra annotations?</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1689454284,"post_id":76695441,"comment_id":135216741,"body_markdown":"If this is [LeetCode 98](https://leetcode.com/problems/validate-binary-search-tree/), there’s an option to add the failed test case to the set of unit tests you can see. You can’t use a debugger unless you pay for premium, but for simple code like this, you can use print statements to debug your code.","body":"If this is <a href=\"https://leetcode.com/problems/validate-binary-search-tree/\" rel=\"nofollow noreferrer\">LeetCode 98</a>, there’s an option to add the failed test case to the set of unit tests you can see. You can’t use a debugger unless you pay for premium, but for simple code like this, you can use print statements to debug your code."}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1689449556,"creation_date":1689449556,"answer_id":76695470,"question_id":76695441,"body_markdown":"What does your solution say about the following tree?\r\n\r\n```none\r\n      --6--\r\n     /     \\\r\n   -4-     -8-\r\n  /   \\   /   \\\r\n 2     7 5     9\r\n```\r\n\r\nThe left and right nodes are both valid binary search trees, and 4 is less than 6 and 8 is greater than 6. But doing a BST traversal of this will never find 7 or 5.\r\n\r\nYou need to ensure that the max value in the left node is less than the root, and vice versa for the right node.","title":"Check if Binary Tree is a Binary Search Tree","body":"<p>What does your solution say about the following tree?</p>\n<pre class=\"lang-none prettyprint-override\"><code>      --6--\n     /     \\\n   -4-     -8-\n  /   \\   /   \\\n 2     7 5     9\n</code></pre>\n<p>The left and right nodes are both valid binary search trees, and 4 is less than 6 and 8 is greater than 6. But doing a BST traversal of this will never find 7 or 5.</p>\n<p>You need to ensure that the max value in the left node is less than the root, and vice versa for the right node.</p>\n"}],"owner":{"account_id":26453399,"reputation":59,"user_id":20096277,"display_name":"Dhairya Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76695470,"answer_count":1,"score":1,"last_activity_date":1689450304,"creation_date":1689449137,"question_id":76695441,"body_markdown":"I tried to write a code to check if a given binary tree is a BST or not. But my code does not pass all the test cases. It passes 6 out of 8 test cases. Why is it wrong/incomplete?\r\n\r\nbelow is my code\r\n\r\n```\r\npublic static boolean isBST(BinaryTreeNode&lt;Integer&gt; root) {\r\n    if (root == null) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tboolean left = isBST(root.left);\r\n\tboolean right = isBST(root.right);\r\n\r\n\tboolean currentL = true, currentR = true;\r\n\r\n\tif (root.left != null) {\r\n\t\tcurrentL = root.left.data &lt; root.data;\r\n\t}\r\n\r\n\tif (root.right != null) {\r\n\t\tcurrentR = root.right.data &gt; root.data;\r\n\t}\r\n\r\n\treturn left &amp;&amp; right &amp;&amp; currentL &amp;&amp; currentR;\r\n}\r\n```\r\nusing recursion, I get boolean for left and right. Then I return the final value as the answer if all  left, right and current subtree is BST. Where is my code lacking? Is it because even if a subtree is BST, its left node might be bigger than some element of main tree that the subtree is part of? ","title":"Check if Binary Tree is a Binary Search Tree","body":"<p>I tried to write a code to check if a given binary tree is a BST or not. But my code does not pass all the test cases. It passes 6 out of 8 test cases. Why is it wrong/incomplete?</p>\n<p>below is my code</p>\n<pre><code>public static boolean isBST(BinaryTreeNode&lt;Integer&gt; root) {\n    if (root == null) {\n        return true;\n    }\n\n    boolean left = isBST(root.left);\n    boolean right = isBST(root.right);\n\n    boolean currentL = true, currentR = true;\n\n    if (root.left != null) {\n        currentL = root.left.data &lt; root.data;\n    }\n\n    if (root.right != null) {\n        currentR = root.right.data &gt; root.data;\n    }\n\n    return left &amp;&amp; right &amp;&amp; currentL &amp;&amp; currentR;\n}\n</code></pre>\n<p>using recursion, I get boolean for left and right. Then I return the final value as the answer if all  left, right and current subtree is BST. Where is my code lacking? Is it because even if a subtree is BST, its left node might be bigger than some element of main tree that the subtree is part of?</p>\n"},{"tags":["java","javafx","dice"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1689449754,"post_id":76695414,"comment_id":135216303,"body_markdown":"`diceView*` are not defined in the scope of `handle`, they are local variables of a method of the enclosing class of `ButtonClickHandler`. YOu can try to make them fields and not local variables.","body":"<code>diceView*</code> are not defined in the scope of <code>handle</code>, they are local variables of a method of the enclosing class of <code>ButtonClickHandler</code>. YOu can try to make them fields and not local variables."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689449798,"post_id":76695414,"comment_id":135216304,"body_markdown":"&quot;_I think it has something to do with the scope of the variable_&quot; – This is absolutely right. The `diceView1` and `diceView2` variables are local to the `start` method, and so they cannot be referenced outside that method. There are a few ways you could fix this. (1) You could make those two local variables _instance fields_ of the `DiceSimulator` class. (2) Similarly, you could make them instance fields of the `ButtonClickHandler` class, then add a constructor which lets you pass references to the image views to the handler. (3) Use a _lambda expression_ for the on-event handler.","body":"&quot;<i>I think it has something to do with the scope of the variable</i>&quot; – This is absolutely right. The <code>diceView1</code> and <code>diceView2</code> variables are local to the <code>start</code> method, and so they cannot be referenced outside that method. There are a few ways you could fix this. (1) You could make those two local variables <i>instance fields</i> of the <code>DiceSimulator</code> class. (2) Similarly, you could make them instance fields of the <code>ButtonClickHandler</code> class, then add a constructor which lets you pass references to the image views to the handler. (3) Use a <i>lambda expression</i> for the on-event handler."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689449938,"post_id":76695414,"comment_id":135216325,"body_markdown":"Note the first approach only works because your `ButtonClickHandler` is an inner class (i.e., a _non-static_ nested class). If it were a static nested class, then it wouldn&#39;t be able to directly reference instance fields of its enclosing class. Also, assuming your images are _resources_, you may want to read [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/q/61531317/6395627).","body":"Note the first approach only works because your <code>ButtonClickHandler</code> is an inner class (i.e., a <i>non-static</i> nested class). If it were a static nested class, then it wouldn&#39;t be able to directly reference instance fields of its enclosing class. Also, assuming your images are <i>resources</i>, you may want to read <a href=\"https://stackoverflow.com/q/61531317/6395627\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a>."},{"owner":{"account_id":29024519,"reputation":1,"user_id":22233083,"display_name":"Newbie123"},"score":0,"creation_date":1689456527,"post_id":76695414,"comment_id":135216989,"body_markdown":"After I make diceView1 and diceView2 instance fields in either the Dice Simulator or ButtonClickerHandler class, how would I make sure they are still apart of the overall scene? Do both the Image and ImageView have to be created in the same class together or can they be in separate classes?","body":"After I make diceView1 and diceView2 instance fields in either the Dice Simulator or ButtonClickerHandler class, how would I make sure they are still apart of the overall scene? Do both the Image and ImageView have to be created in the same class together or can they be in separate classes?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689468833,"post_id":76695414,"comment_id":135217818,"body_markdown":"So long as you have a reference to the appropriate `ImageView` instance, you can call `setImage(...)` on it from anywhere you like (as long as it&#39;s done on the _JavaFX Application Thread_, at least if the `ImageView` is part of a &quot;live&quot; scene graph). And no, the `Image` does not need to be created alongside the `ImageView`.","body":"So long as you have a reference to the appropriate <code>ImageView</code> instance, you can call <code>setImage(...)</code> on it from anywhere you like (as long as it&#39;s done on the <i>JavaFX Application Thread</i>, at least if the <code>ImageView</code> is part of a &quot;live&quot; scene graph). And no, the <code>Image</code> does not need to be created alongside the <code>ImageView</code>."}],"owner":{"account_id":29024519,"reputation":1,"user_id":22233083,"display_name":"Newbie123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689449564,"creation_date":1689448866,"question_id":76695414,"body_markdown":"I&#39;m working on a dice simulator for class where clicking a button generates two random numbers and shows images of dice with the `ImageView` control.\r\n\r\n**Homework problem:** Create a JavaFX application that simulates rolling a pair of dice. When the user clicks a\r\nbutton, the application should generate two random numbers, each in the range of 1 through 6, to represent the value of the dice. Use `ImageView` controls to display the dice.\r\n\r\nI&#39;m trying to use the `setImage` method to change the image of the die when the button is pressed but I keep getting the error &quot;cannot find symbol&quot;. I think it has something to do with the scope of the variable or a lack of defining the variable but I&#39;m a beginner at all this so I have no clue.\r\n\r\nHow do I get this to work properly? Am I on the right track and just need to fix a few errors or do I need to go about the task a completely different way?\r\n\r\n\r\nCode:\r\n\r\n```\r\nimport java.util.Random;\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Button;\r\nimport javafx.geometry.Pos;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport java.io.FileInputStream;\r\n\r\n\r\npublic class DiceSimulator extends Application\r\n{\r\n\t\r\n\tprivate Label myLabel;\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage)\r\n\t{\r\n\t\tmyLabel = new Label(&quot;Click the button to roll the dice.&quot;);\r\n\t\r\n   \r\n      Image diceImage1 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));   \r\n\t\tImageView diceView1 = new ImageView(diceImage1);\r\n\r\n\t\tdiceView1.setX(0);\r\n\t\tdiceView1.setY(0);\r\n\r\n\t\tdiceView1.setFitHeight(150);\r\n\t\tdiceView1.setFitWidth(150);\r\n\t\t\r\n\t\tdiceView1.setPreserveRatio(true);\r\n\r\n\r\n      Image diceImage2 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));\r\n      ImageView diceView2 = new ImageView(diceImage2);\r\n\r\n\t\tdiceView2.setX(0);\r\n\t\tdiceView2.setY(0);\r\n\r\n\t\tdiceView2.setFitHeight(150);\r\n\t\tdiceView2.setFitWidth(150);\r\n\t\t\r\n\t\tdiceView2.setPreserveRatio(true);\r\n\r\n\r\n\r\n\t\tButton myButton = new Button(&quot;Roll the dice!&quot;);\r\n\t\tmyButton.setOnAction(new ButtonClickHandler());\r\n\r\n\t\tVBox vbox = new VBox(10, myLabel, myButton, diceView1, diceView2);\r\n\r\n\t\tScene scene = new Scene(vbox, 300, 100);\r\n\t\t\r\n\t\tvbox.setAlignment(Pos.CENTER);\r\n\r\n\t\tprimaryStage.setScene(scene);\r\n\r\n\t\tprimaryStage.setTitle(&quot;Dice Simulator&quot;);\r\n\r\n\t\tprimaryStage.show();\r\n\t}\r\n\r\n\tclass ButtonClickHandler implements EventHandler&lt;ActionEvent&gt;\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void handle(ActionEvent event)\r\n\t\t{\r\n       \r\n        \r\n         \r\n\t\t\tint dice1=(int)(Math.random()*6+1);\r\n\t\t\tint dice2=(int)(Math.random()*6+1);\r\n\r\n\t\t\tString imgpath1 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice1+ &quot;.bmp&quot;;\r\n\t\t\tString imgpath2 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice2+ &quot;.bmp&quot;;\r\n\r\n\t\t\tdiceView1.setImage(new Image(new FileInputStream(imgpath1)));\r\n\t\t\tdiceView2.setImage(new Image(new FileInputStream(imgpath2)));\t\t\r\n\r\n\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nCode error:\r\n\r\n```none\r\nDiceSimulator.java:93: error: cannot find symbol\r\n\t\t\tdiceView1.setImage(new Image(new FileInputStream(imgpath1)));\r\n\t\t\t^\r\n  symbol:   variable diceView1\r\n  location: class DiceSimulator.ButtonClickHandler\r\nDiceSimulator.java:94: error: cannot find symbol\r\n\t\t\tdiceView2.setImage(new Image(new FileInputStream(imgpath2)));\t\t\r\n\t\t\t^\r\n  symbol:   variable diceView2\r\n  location: class DiceSimulator.ButtonClickHandler\r\n2 errors\r\n```\r\n\r\n","title":"JavaFX - Dice Simulator - SetImage Inside ActionEvent-Cannot find Symbol","body":"<p>I'm working on a dice simulator for class where clicking a button generates two random numbers and shows images of dice with the <code>ImageView</code> control.</p>\n<p><strong>Homework problem:</strong> Create a JavaFX application that simulates rolling a pair of dice. When the user clicks a\nbutton, the application should generate two random numbers, each in the range of 1 through 6, to represent the value of the dice. Use <code>ImageView</code> controls to display the dice.</p>\n<p>I'm trying to use the <code>setImage</code> method to change the image of the die when the button is pressed but I keep getting the error &quot;cannot find symbol&quot;. I think it has something to do with the scope of the variable or a lack of defining the variable but I'm a beginner at all this so I have no clue.</p>\n<p>How do I get this to work properly? Am I on the right track and just need to fix a few errors or do I need to go about the task a completely different way?</p>\n<p>Code:</p>\n<pre><code>import java.util.Random;\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Button;\nimport javafx.geometry.Pos;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport java.io.FileInputStream;\n\n\npublic class DiceSimulator extends Application\n{\n    \n    private Label myLabel;\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        myLabel = new Label(&quot;Click the button to roll the dice.&quot;);\n    \n   \n      Image diceImage1 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));   \n        ImageView diceView1 = new ImageView(diceImage1);\n\n        diceView1.setX(0);\n        diceView1.setY(0);\n\n        diceView1.setFitHeight(150);\n        diceView1.setFitWidth(150);\n        \n        diceView1.setPreserveRatio(true);\n\n\n      Image diceImage2 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));\n      ImageView diceView2 = new ImageView(diceImage2);\n\n        diceView2.setX(0);\n        diceView2.setY(0);\n\n        diceView2.setFitHeight(150);\n        diceView2.setFitWidth(150);\n        \n        diceView2.setPreserveRatio(true);\n\n\n\n        Button myButton = new Button(&quot;Roll the dice!&quot;);\n        myButton.setOnAction(new ButtonClickHandler());\n\n        VBox vbox = new VBox(10, myLabel, myButton, diceView1, diceView2);\n\n        Scene scene = new Scene(vbox, 300, 100);\n        \n        vbox.setAlignment(Pos.CENTER);\n\n        primaryStage.setScene(scene);\n\n        primaryStage.setTitle(&quot;Dice Simulator&quot;);\n\n        primaryStage.show();\n    }\n\n    class ButtonClickHandler implements EventHandler&lt;ActionEvent&gt;\n    {\n        @Override\n        public void handle(ActionEvent event)\n        {\n       \n        \n         \n            int dice1=(int)(Math.random()*6+1);\n            int dice2=(int)(Math.random()*6+1);\n\n            String imgpath1 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice1+ &quot;.bmp&quot;;\n            String imgpath2 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice2+ &quot;.bmp&quot;;\n\n            diceView1.setImage(new Image(new FileInputStream(imgpath1)));\n            diceView2.setImage(new Image(new FileInputStream(imgpath2)));       \n\n\n        }\n    \n    }\n\n}\n</code></pre>\n<p>Code error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DiceSimulator.java:93: error: cannot find symbol\n            diceView1.setImage(new Image(new FileInputStream(imgpath1)));\n            ^\n  symbol:   variable diceView1\n  location: class DiceSimulator.ButtonClickHandler\nDiceSimulator.java:94: error: cannot find symbol\n            diceView2.setImage(new Image(new FileInputStream(imgpath2)));       \n            ^\n  symbol:   variable diceView2\n  location: class DiceSimulator.ButtonClickHandler\n2 errors\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1548315697,"post_id":54341444,"comment_id":95499000,"body_markdown":"The filesystem on your computer keeps track of when a file was last changed. Maven compares the last change time of the source file with the corresponding class file. If the source file is newer than the class file, it recompiles the source file into a new class file.","body":"The filesystem on your computer keeps track of when a file was last changed. Maven compares the last change time of the source file with the corresponding class file. If the source file is newer than the class file, it recompiles the source file into a new class file."},{"owner":{"account_id":9018482,"reputation":822,"user_id":6720343,"accept_rate":80,"display_name":"Anuj Vishwakarma"},"score":0,"creation_date":1548315760,"post_id":54341444,"comment_id":95499037,"body_markdown":"You can look for &lt;staleMillis&gt; at http://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html","body":"You can look for &lt;staleMillis&gt; at <a href=\"http://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a>"},{"owner":{"account_id":5515546,"reputation":167,"user_id":4380432,"accept_rate":100,"display_name":"J Mas"},"score":0,"creation_date":1548315947,"post_id":54341444,"comment_id":95499125,"body_markdown":"@jesper where in the comiled file this date is saved?  I didn&#39;t find information in &quot;target&quot; folder. for example I created two classes in one hour run compile, than in one hour change one of two classes. how manen find out what is the files is modified","body":"@jesper where in the comiled file this date is saved?  I didn&#39;t find information in &quot;target&quot; folder. for example I created two classes in one hour run compile, than in one hour change one of two classes. how manen find out what is the files is modified"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1548316109,"post_id":54341444,"comment_id":95499197,"body_markdown":"It&#39;s in the metadata of the file system; it&#39;s not stored in a file. On Linux when you use the command `ls -l` or on Windows using `dir` you&#39;ll see the date and time that a file was last modified.","body":"It&#39;s in the metadata of the file system; it&#39;s not stored in a file. On Linux when you use the command <code>ls -l</code> or on Windows using <code>dir</code> you&#39;ll see the date and time that a file was last modified."}],"answers":[{"tags":[],"owner":{"account_id":11499155,"reputation":1563,"user_id":8427457,"display_name":"TheSprinter"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1689449397,"creation_date":1548315431,"answer_id":54341503,"question_id":54341444,"body_markdown":"Everytime you call `mvn install` in your project folder, maven reads **pom.xml** file.\r\nIf any of the dependency(jar file) is not present in local repository(.m2 folder) then it look for maven centralised/main repository and download those.\r\n\r\nfor source code when you call `mvn compile` \r\nMaven plugin uses last modified time on the source and class files to check whether to compile or not.","title":"How does maven find out what is the files changed by using mvn compile","body":"<p>Everytime you call <code>mvn install</code> in your project folder, maven reads <strong>pom.xml</strong> file.\nIf any of the dependency(jar file) is not present in local repository(.m2 folder) then it look for maven centralised/main repository and download those.</p>\n<p>for source code when you call <code>mvn compile</code>\nMaven plugin uses last modified time on the source and class files to check whether to compile or not.</p>\n"}],"owner":{"account_id":5515546,"reputation":167,"user_id":4380432,"accept_rate":100,"display_name":"J Mas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1548315665,"answer_count":1,"score":4,"last_activity_date":1689449397,"creation_date":1548315167,"question_id":54341444,"body_markdown":"If I don&#39;t use `maven clean`, maven compiles only modified files.  \r\nI was googling and I also tried to find in &quot;target&quot; folder information such as hashcode of class or date  \r\nbut couldn&#39;t.   \r\nHow does maven find out what is the files modified by using `mvn compile`?","title":"How does maven find out what is the files changed by using mvn compile","body":"<p>If I don't use <code>maven clean</code>, maven compiles only modified files.<br>\nI was googling and I also tried to find in \"target\" folder information such as hashcode of class or date<br>\nbut couldn't.<br>\nHow does maven find out what is the files modified by using <code>mvn compile</code>?</p>\n"},{"tags":["java","struts2","struts","action-mapping"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689440354,"creation_date":1689440354,"answer_id":76694893,"question_id":76690057,"body_markdown":"&gt;Is there any way to find all request types for all struts2 actions without invoking that action.\r\n\r\nBy default Struts2 doesn&#39;t map HTTP request types. So you can&#39;t get it from the config-browser plugin. \r\n\r\nIf you want to map it yourself then you should extend the framework with the custom `ActionMapper`. You can find details how to add a custom action mapped in [this][1] answer.\r\n\r\n  [1]: https://stackoverflow.com/a/42497452/573032","title":"How can I get Request Type(GET or POST) from list of Action names in Struts 2?","body":"<blockquote>\n<p>Is there any way to find all request types for all struts2 actions without invoking that action.</p>\n</blockquote>\n<p>By default Struts2 doesn't map HTTP request types. So you can't get it from the config-browser plugin.</p>\n<p>If you want to map it yourself then you should extend the framework with the custom <code>ActionMapper</code>. You can find details how to add a custom action mapped in <a href=\"https://stackoverflow.com/a/42497452/573032\">this</a> answer.</p>\n"}],"owner":{"account_id":18230420,"reputation":13,"user_id":13269465,"display_name":"Ritesh_RM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1689842865,"answer_count":1,"score":-1,"last_activity_date":1689449224,"creation_date":1689356363,"question_id":76690057,"body_markdown":"I want to get all POST/GET request types for all of the struts actions present in my application.\r\n\r\nI have used struts2-config-browser-plugin and got all action names throughout the application.\r\n\r\nNow, I want to get Request types of all those action names and consolidated those in a Java collection(list).\r\n\r\nIs there any way to find all request types for all struts2 actions without invoking that action.\r\n\r\n","title":"How can I get Request Type(GET or POST) from list of Action names in Struts 2?","body":"<p>I want to get all POST/GET request types for all of the struts actions present in my application.</p>\n<p>I have used struts2-config-browser-plugin and got all action names throughout the application.</p>\n<p>Now, I want to get Request types of all those action names and consolidated those in a Java collection(list).</p>\n<p>Is there any way to find all request types for all struts2 actions without invoking that action.</p>\n"},{"tags":["java","docker","maven","jib","maven-jib"],"comments":[{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652802618,"post_id":72277087,"comment_id":127692305,"body_markdown":"java version: 17","body":"java version: 17"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652804620,"post_id":72277087,"comment_id":127693089,"body_markdown":"The problem is: `registry-1.docker.io/library/eclipse-temurin: 401 Unauthorized` this... do you have an account and maybe: https://www.docker.com/pricing/","body":"The problem is: <code>registry-1.docker.io&#47;library&#47;eclipse-temurin: 401 Unauthorized</code> this... do you have an account and maybe: <a href=\"https://www.docker.com/pricing/\" rel=\"nofollow noreferrer\">docker.com/pricing</a>"},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652808557,"post_id":72277087,"comment_id":127694345,"body_markdown":"I do have an account and I am logged in Docker Desktop and DockerHub","body":"I do have an account and I am logged in Docker Desktop and DockerHub"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652809023,"post_id":72277087,"comment_id":127694509,"body_markdown":"The output states different... You have not logging in via `docker login`...","body":"The output states different... You have not logging in via <code>docker login</code>..."},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652809427,"post_id":72277087,"comment_id":127694634,"body_markdown":"I ran that command and it says it was successfull but then I run the jib command and it still doesnt work, I also found a line which may help ```[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17```, and tried to add this to the pom ```&lt;from&gt;&lt;image&gt;openjdk:17&lt;/image&gt;&lt;/from&gt;```","body":"I ran that command and it says it was successfull but then I run the jib command and it still doesnt work, I also found a line which may help <code>[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17</code>, and tried to add this to the pom <code>&lt;from&gt;&lt;image&gt;openjdk:17&lt;&#47;image&gt;&lt;&#47;from&gt;</code>"},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652809517,"post_id":72277087,"comment_id":127694654,"body_markdown":"The fact that I am saving my docker password on google passwords might be a problem maybe?","body":"The fact that I am saving my docker password on google passwords might be a problem maybe?"}],"answers":[{"tags":[],"owner":{"account_id":16849349,"reputation":41,"user_id":12182808,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675259303,"creation_date":1652957172,"answer_id":72303165,"question_id":72277087,"body_markdown":"I had the same issue on Mac.\r\nAnd I found 2 ways how to solve it:\r\n\r\n 1. To do this, you can use the jib config:\r\n```\r\n&lt;configuration&gt;\r\n  ...\r\n  &lt;from&gt;\r\n    &lt;image&gt;aws_account_id.dkr.ecr.region.amazonaws.com/my-base-image&lt;/image&gt;\r\n    &lt;auth&gt;\r\n      &lt;username&gt;my_username&lt;/username&gt;\r\n      &lt;password&gt;my_password&lt;/password&gt;\r\n    &lt;/auth&gt;\r\n  &lt;/from&gt;\r\n  &lt;to&gt;\r\n    &lt;image&gt;gcr.io/my-gcp-project/my-app&lt;/image&gt;\r\n    &lt;auth&gt;\r\n      &lt;username&gt;${env.REGISTRY_USERNAME}&lt;/username&gt;\r\n      &lt;password&gt;${env.REGISTRY_PASSWORD}&lt;/password&gt;\r\n    &lt;/auth&gt;\r\n  &lt;/to&gt;\r\n  ...\r\n&lt;/configuration&gt;\r\n```\r\nhttps://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/README.md#auth-object\r\n\r\n2. The second way is not about Windows, i fixed this issue on Mac OS but you can try to use my experience. I figured that it&#39;s strange if we&#39;re getting 401 unauthorized the most likely Jib trying to login with some wrong credentials.\r\nIn my case i found 2 rows in Keychain Access: \r\n- The first (wrong) with email in password (instead real password))\r\n- The second (correct) with real password\r\nJib tried to use first. The problem was solved after deleting the first value.\r\nIn windows case you can try to use `Credential Manager` or find some another credentials storage.\r\n\r\nAdditionally.\r\nWhile i was researching it i found recommendations to change:\r\n```\r\n &quot;credsStore&quot;: &quot;desktop&quot; -&gt; &quot;credStore&quot;: &quot;desktop&quot;\r\n```\r\nBut it didn&#39;t work for me.\r\n\r\nUPD\r\nSame story on Windows use `Credential Manager`","title":"401 Unauthorized when using jib to create docker image","body":"<p>I had the same issue on Mac.\nAnd I found 2 ways how to solve it:</p>\n<ol>\n<li>To do this, you can use the jib config:</li>\n</ol>\n<pre><code>&lt;configuration&gt;\n  ...\n  &lt;from&gt;\n    &lt;image&gt;aws_account_id.dkr.ecr.region.amazonaws.com/my-base-image&lt;/image&gt;\n    &lt;auth&gt;\n      &lt;username&gt;my_username&lt;/username&gt;\n      &lt;password&gt;my_password&lt;/password&gt;\n    &lt;/auth&gt;\n  &lt;/from&gt;\n  &lt;to&gt;\n    &lt;image&gt;gcr.io/my-gcp-project/my-app&lt;/image&gt;\n    &lt;auth&gt;\n      &lt;username&gt;${env.REGISTRY_USERNAME}&lt;/username&gt;\n      &lt;password&gt;${env.REGISTRY_PASSWORD}&lt;/password&gt;\n    &lt;/auth&gt;\n  &lt;/to&gt;\n  ...\n&lt;/configuration&gt;\n</code></pre>\n<p><a href=\"https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/README.md#auth-object\" rel=\"nofollow noreferrer\">https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/README.md#auth-object</a></p>\n<ol start=\"2\">\n<li>The second way is not about Windows, i fixed this issue on Mac OS but you can try to use my experience. I figured that it's strange if we're getting 401 unauthorized the most likely Jib trying to login with some wrong credentials.\nIn my case i found 2 rows in Keychain Access:</li>\n</ol>\n<ul>\n<li>The first (wrong) with email in password (instead real password))</li>\n<li>The second (correct) with real password\nJib tried to use first. The problem was solved after deleting the first value.\nIn windows case you can try to use <code>Credential Manager</code> or find some another credentials storage.</li>\n</ul>\n<p>Additionally.\nWhile i was researching it i found recommendations to change:</p>\n<pre><code> &quot;credsStore&quot;: &quot;desktop&quot; -&gt; &quot;credStore&quot;: &quot;desktop&quot;\n</code></pre>\n<p>But it didn't work for me.</p>\n<p>UPD\nSame story on Windows use <code>Credential Manager</code></p>\n"},{"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672544445,"creation_date":1653579240,"answer_id":72394364,"question_id":72277087,"body_markdown":"```\r\n{&quot;details&quot;:&quot;incorrect username or password&quot;}\r\n```\r\nThe response from the server is clear. Credentials were given to the server, and it says they are wrong.\r\n\r\nIndeed, Jib did retrieve some (probably non-working) credentials from the Docker `config.json` file:\r\n```\r\n[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\r\n```\r\n\r\nTry emptying `config.json` entirely or have just an empty `{}` block. Particularly, remove the entry for `&quot;https://index.docker.io/v1/&quot;` and `credsStore`. Deleting the file may or may not work, as Docker or other tools can regenerate it with wrong credentials again.\r\n\r\nProbably the same kind of issue to this [Stack Overflow question](https://stackoverflow.com/q/72365455/1701388). Also take a look at this [GitHub issue](https://github.com/GoogleContainerTools/jib/issues/3677) on the Jib repo.","title":"401 Unauthorized when using jib to create docker image","body":"<pre><code>{&quot;details&quot;:&quot;incorrect username or password&quot;}\n</code></pre>\n<p>The response from the server is clear. Credentials were given to the server, and it says they are wrong.</p>\n<p>Indeed, Jib did retrieve some (probably non-working) credentials from the Docker <code>config.json</code> file:</p>\n<pre><code>[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\n</code></pre>\n<p>Try emptying <code>config.json</code> entirely or have just an empty <code>{}</code> block. Particularly, remove the entry for <code>&quot;https://index.docker.io/v1/&quot;</code> and <code>credsStore</code>. Deleting the file may or may not work, as Docker or other tools can regenerate it with wrong credentials again.</p>\n<p>Probably the same kind of issue to this <a href=\"https://stackoverflow.com/q/72365455/1701388\">Stack Overflow question</a>. Also take a look at this <a href=\"https://github.com/GoogleContainerTools/jib/issues/3677\" rel=\"nofollow noreferrer\">GitHub issue</a> on the Jib repo.</p>\n"},{"tags":[],"owner":{"account_id":16849349,"reputation":41,"user_id":12182808,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655222444,"creation_date":1655222266,"answer_id":72620053,"question_id":72277087,"body_markdown":"I ran into the same problem on Windows.\r\nTry removing the following creds:\r\n - ..docker../acces-token\r\n - ..docker../refresh-token\r\n\r\nhttps://i.stack.imgur.com/G9aGR.png","title":"401 Unauthorized when using jib to create docker image","body":"<p>I ran into the same problem on Windows.\nTry removing the following creds:</p>\n<ul>\n<li>..docker../acces-token</li>\n<li>..docker../refresh-token</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/G9aGR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/G9aGR.png</a></p>\n"},{"tags":[],"owner":{"account_id":8713079,"reputation":312,"user_id":6518664,"accept_rate":100,"display_name":"Elated Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655612060,"creation_date":1655612060,"answer_id":72674235,"question_id":72277087,"body_markdown":"If you don&#39;t want to go the extra credentials configuration step, pass them when running `mvn package` as below:\r\n\r\n    mvn package -D jib.to.auth.username=&quot;yourdockerUsername&quot; -Djib.to.auth.password=&quot;yourDockerPassword&quot;\r\n\r\nIt will build and push to docker Hub as required.","title":"401 Unauthorized when using jib to create docker image","body":"<p>If you don't want to go the extra credentials configuration step, pass them when running <code>mvn package</code> as below:</p>\n<pre><code>mvn package -D jib.to.auth.username=&quot;yourdockerUsername&quot; -Djib.to.auth.password=&quot;yourDockerPassword&quot;\n</code></pre>\n<p>It will build and push to docker Hub as required.</p>\n"},{"tags":[],"owner":{"account_id":14591629,"reputation":549,"user_id":10538548,"display_name":"Khairul Bashar Lemon"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1660402965,"creation_date":1660402965,"answer_id":73345355,"question_id":72277087,"body_markdown":"Just delete the credsStore property from the docker-config file.\r\nYou will find the config.json at your user-home dir.\r\n\r\nthe path is: **$USER/.docker/config.json**\r\nand suppose the file contains the followings, \r\n\r\n    {\r\n      &quot;auths&quot;: {\r\n        &quot;https://index.docker.io/v1/&quot;: {}\r\n      },\r\n      &quot;credsStore&quot;: &quot;desktop&quot;\r\n    }\r\n\r\nand now delete the line :\r\n      &quot;credsStore&quot;: &quot;desktop&quot;\r\n\r\nSo, the file will now contain the following\r\n\r\n    {\r\n      &quot;auths&quot;: {\r\n        &quot;https://index.docker.io/v1/&quot;: {}\r\n      }\r\n    }","title":"401 Unauthorized when using jib to create docker image","body":"<p>Just delete the credsStore property from the docker-config file.\nYou will find the config.json at your user-home dir.</p>\n<p>the path is: <strong>$USER/.docker/config.json</strong>\nand suppose the file contains the followings,</p>\n<pre><code>{\n  &quot;auths&quot;: {\n    &quot;https://index.docker.io/v1/&quot;: {}\n  },\n  &quot;credsStore&quot;: &quot;desktop&quot;\n}\n</code></pre>\n<p>and now delete the line :\n&quot;credsStore&quot;: &quot;desktop&quot;</p>\n<p>So, the file will now contain the following</p>\n<pre><code>{\n  &quot;auths&quot;: {\n    &quot;https://index.docker.io/v1/&quot;: {}\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26078639,"reputation":41,"user_id":19777207,"display_name":"Gregory Risch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667491302,"creation_date":1667491302,"answer_id":74306078,"question_id":72277087,"body_markdown":"I had the issue on windows and solved the problem as follows: \r\n\r\n&gt; Control Panel\\All Control Panel Items\\Credential Manager\r\n\r\nFrom here I have removed in the **Generic Credentials** section all the entries related to docker\r\n\r\nThe from the powershell prompt:\r\n\r\ndocker login\r\n\r\nand it worked!","title":"401 Unauthorized when using jib to create docker image","body":"<p>I had the issue on windows and solved the problem as follows:</p>\n<blockquote>\n<p>Control Panel\\All Control Panel Items\\Credential Manager</p>\n</blockquote>\n<p>From here I have removed in the <strong>Generic Credentials</strong> section all the entries related to docker</p>\n<p>The from the powershell prompt:</p>\n<p>docker login</p>\n<p>and it worked!</p>\n"},{"tags":[],"owner":{"account_id":27392621,"reputation":1,"user_id":20895382,"display_name":"Fernan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672418844,"creation_date":1672418844,"answer_id":74963894,"question_id":72277087,"body_markdown":"faced same issue on win10 ... had to close docker desktop, I got some WARN related to credentials though, but it created the img\r\n\r\n\r\n\r\n","title":"401 Unauthorized when using jib to create docker image","body":"<p>faced same issue on win10 ... had to close docker desktop, I got some WARN related to credentials though, but it created the img</p>\n"},{"tags":[],"owner":{"account_id":25336552,"reputation":1,"user_id":19155602,"display_name":"Dmitry Narodetsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679914762,"creation_date":1679914762,"answer_id":75854942,"question_id":72277087,"body_markdown":"Use userId and NOT email to logon to docker hub. You should have an account on docker hub","title":"401 Unauthorized when using jib to create docker image","body":"<p>Use userId and NOT email to logon to docker hub. You should have an account on docker hub</p>\n"},{"tags":[],"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689447784,"creation_date":1689447784,"answer_id":76695342,"question_id":72277087,"body_markdown":"I tried almost every possible solution here and other sources, none of them worked for me. Follow the below steps to fix this.\r\n\r\nI am using the Windows 11 OS.\r\n\r\nBelow is what I want to push to docker hub.\r\n\r\n    &lt;to&gt;\r\n                    &lt;image&gt;registry.hub.docker.com/&lt;docker-hub-username&gt;/${project.artifactId}:1.0&lt;/image&gt;\r\n                &lt;/to&gt;\r\n\r\n`.config/config.json` file\r\n\r\nDo not delete this file. Keep it open in notepad. \r\n\r\nBefore you login to docker hub in CMD, just remove `credStore` key-value from `config.json` file.\r\n\r\nNow go to Windows CMD to login to docker hub as follows and hit the enter button. It will ask for the password. Use access token/password for the docker hub.\r\n\r\n    docker login -u &lt;docker-hub-username&gt;\r\n\r\nOutput:\r\n[![enter image description here][1]][1]\r\n\r\nIt should add auth key-value in your config.json file as following.\r\n\r\n    {\r\n\t&quot;auths&quot;: {\r\n\t\t&quot;https://index.docker.io/v1/&quot;: {\r\n\t\t\t&quot;auth&quot;: &quot;&lt;auto-generated-base64-encoded-username-password-for-docker-hub&gt;&quot;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nNow push the image to docker hub using Jib.\r\n\r\n     mvn clean compile jib:build\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y3XHo.png","title":"401 Unauthorized when using jib to create docker image","body":"<p>I tried almost every possible solution here and other sources, none of them worked for me. Follow the below steps to fix this.</p>\n<p>I am using the Windows 11 OS.</p>\n<p>Below is what I want to push to docker hub.</p>\n<pre><code>&lt;to&gt;\n                &lt;image&gt;registry.hub.docker.com/&lt;docker-hub-username&gt;/${project.artifactId}:1.0&lt;/image&gt;\n            &lt;/to&gt;\n</code></pre>\n<p><code>.config/config.json</code> file</p>\n<p>Do not delete this file. Keep it open in notepad.</p>\n<p>Before you login to docker hub in CMD, just remove <code>credStore</code> key-value from <code>config.json</code> file.</p>\n<p>Now go to Windows CMD to login to docker hub as follows and hit the enter button. It will ask for the password. Use access token/password for the docker hub.</p>\n<pre><code>docker login -u &lt;docker-hub-username&gt;\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/Y3XHo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3XHo.png\" alt=\"enter image description here\" /></a></p>\n<p>It should add auth key-value in your config.json file as following.</p>\n<pre><code>{\n&quot;auths&quot;: {\n    &quot;https://index.docker.io/v1/&quot;: {\n        &quot;auth&quot;: &quot;&lt;auto-generated-base64-encoded-username-password-for-docker-hub&gt;&quot;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Now push the image to docker hub using Jib.</p>\n<pre><code> mvn clean compile jib:build\n</code></pre>\n"}],"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10527,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":9,"score":6,"last_activity_date":1689447784,"creation_date":1652802554,"question_id":72277087,"body_markdown":"I am on windows and this is the plugin configuration:\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;container&gt;\r\n\t\t\t&lt;ports&gt;\r\n\t\t\t\t&lt;port&gt;8080&lt;/port&gt;\r\n\t\t\t&lt;/ports&gt;\r\n\t\t    &lt;format&gt;OCI&lt;/format&gt;\r\n\t    &lt;/container&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThis is the command I run:\r\n```\r\n.\\mvnw clean install jib:dockerBuild -Dimage=fullstack:v1\r\n```\r\nThis is the error I keep getting no matter what I do:\r\n```\r\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\r\n to Docker daemon failed, perhaps you should make sure your credentials for &#39;registry-1.docker.io/library/eclipse-temurin&#39; are set up correc\r\ntly. See https://github.com/GoogleContainerTools/jib/blob/master/docs/faq.md#what-should-i-do-when-the-registry-responds-with-unauthorized f\r\nor help: Unauthorized for registry-1.docker.io/library/eclipse-temurin: 401 Unauthorized\r\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\nHow should I go about it? I&#39;ve read the documentation on jib github repo on authenticating but I don&#39;t really understand how to procede and feel overwhelmed\r\n\r\nUPDATE\r\n\r\nI ran ```docker login``` and I get:\r\n```\r\nAuthenticating with existing credentials...\r\nLogin Succeeded\r\n```\r\nbut the error persists (and I figured I didn&#39;t include some part of the logging maybe:\r\n```\r\n[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\r\n[INFO] Executing tasks:                               \r\n[INFO] [============                  ] 40.0% complete\r\n[INFO] &gt; building image to Docker daemon              \r\n[INFO]                                                \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.964 s\r\n[INFO] Finished at: 2022-05-17T19:39:12+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\r\n to Docker daemon failed, perhaps you should make sure your credentials for &#39;registry-1.docker.io/library/openjdk&#39; are set up correctly. See\r\n Unauthorized for registry-1.docker.io/library/openjdk: 401 Unauthorized\r\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nUPDATE 2\r\n\r\nthis is also the content of the file logs refer to in order to get username and password:\r\n```\r\n{\r\n\t&quot;auths&quot;: {\r\n\t\t&quot;https://index.docker.io/v1/&quot;: {}\r\n\t},\r\n\t&quot;credsStore&quot;: &quot;desktop&quot;\r\n}\r\n```\r\n\r\nUPDATE 3\r\n\r\nAfter two days of trying I decided to look for something else that would do the same job: https://spring.io/guides/gs/spring-boot-docker/\r\nAnd with this the job was done in ~10 minutes. Life really is crazy","title":"401 Unauthorized when using jib to create docker image","body":"<p>I am on windows and this is the plugin configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;container&gt;\n            &lt;ports&gt;\n                &lt;port&gt;8080&lt;/port&gt;\n            &lt;/ports&gt;\n            &lt;format&gt;OCI&lt;/format&gt;\n        &lt;/container&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This is the command I run:</p>\n<pre><code>.\\mvnw clean install jib:dockerBuild -Dimage=fullstack:v1\n</code></pre>\n<p>This is the error I keep getting no matter what I do:</p>\n<pre><code>[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\n to Docker daemon failed, perhaps you should make sure your credentials for 'registry-1.docker.io/library/eclipse-temurin' are set up correc\ntly. See https://github.com/GoogleContainerTools/jib/blob/master/docs/faq.md#what-should-i-do-when-the-registry-responds-with-unauthorized f\nor help: Unauthorized for registry-1.docker.io/library/eclipse-temurin: 401 Unauthorized\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>How should I go about it? I've read the documentation on jib github repo on authenticating but I don't really understand how to procede and feel overwhelmed</p>\n<p>UPDATE</p>\n<p>I ran <code>docker login</code> and I get:</p>\n<pre><code>Authenticating with existing credentials...\nLogin Succeeded\n</code></pre>\n<p>but the error persists (and I figured I didn't include some part of the logging maybe:</p>\n<pre><code>[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\n[INFO] Executing tasks:                               \n[INFO] [============                  ] 40.0% complete\n[INFO] &gt; building image to Docker daemon              \n[INFO]                                                \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.964 s\n[INFO] Finished at: 2022-05-17T19:39:12+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\n to Docker daemon failed, perhaps you should make sure your credentials for 'registry-1.docker.io/library/openjdk' are set up correctly. See\n Unauthorized for registry-1.docker.io/library/openjdk: 401 Unauthorized\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>UPDATE 2</p>\n<p>this is also the content of the file logs refer to in order to get username and password:</p>\n<pre><code>{\n    &quot;auths&quot;: {\n        &quot;https://index.docker.io/v1/&quot;: {}\n    },\n    &quot;credsStore&quot;: &quot;desktop&quot;\n}\n</code></pre>\n<p>UPDATE 3</p>\n<p>After two days of trying I decided to look for something else that would do the same job: <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"noreferrer\">https://spring.io/guides/gs/spring-boot-docker/</a>\nAnd with this the job was done in ~10 minutes. Life really is crazy</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689447796,"post_id":76695337,"comment_id":135216106,"body_markdown":"The error is telling you exactly what is wrong as you appear to be assigning all SQL variables to the same parameter, parameter 1.","body":"The error is telling you exactly what is wrong as you appear to be assigning all SQL variables to the same parameter, parameter 1."},{"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"score":0,"creation_date":1689448012,"post_id":76695337,"comment_id":135216126,"body_markdown":"Thanks I have just noticed. I changed the parameters and it has produced another error:  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;VALUES(&#39;q&#39;&#39;a&#39;&#39;a&#39;&#39;ss&#39;)&#39; at line 1","body":"Thanks I have just noticed. I changed the parameters and it has produced another error:  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;VALUES(&#39;q&#39;&#39;a&#39;&#39;a&#39;&#39;ss&#39;)&#39; at line 1"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689448097,"post_id":76695337,"comment_id":135216136,"body_markdown":"Shouldn&#39;t there be commas?","body":"Shouldn&#39;t there be commas?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689448124,"post_id":76695337,"comment_id":135216142,"body_markdown":"Have you gone through the relevant tutorials on this topic? You can find some resources both [here](https://stackoverflow.com/tags/sql/info) and [here](https://stackoverflow.com/tags/mysql/info)","body":"Have you gone through the relevant tutorials on this topic? You can find some resources both <a href=\"https://stackoverflow.com/tags/sql/info\">here</a> and <a href=\"https://stackoverflow.com/tags/mysql/info\">here</a>"},{"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"score":0,"creation_date":1689448202,"post_id":76695337,"comment_id":135216152,"body_markdown":"yes I am getting really confused. I am very new to this, so I could be making stupid mistakes.","body":"yes I am getting really confused. I am very new to this, so I could be making stupid mistakes."},{"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"score":0,"creation_date":1689449715,"post_id":76695337,"comment_id":135216297,"body_markdown":"@HovercraftFullOfEels managed to solve the issue it was the commas lol. These small mistakes stress you out!! thanks for the advice and your time (:","body":"@HovercraftFullOfEels managed to solve the issue it was the commas lol. These small mistakes stress you out!! thanks for the advice and your time (:"}],"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689447770,"answer_count":0,"score":0,"last_activity_date":1689447670,"creation_date":1689447670,"question_id":76695337,"body_markdown":"I&#39;m currently new to JAVAfx and I am trying to create a signup user method. When I run the program I get this error: \r\n\r\n```\r\n\r\njava.sql.SQLException: No value specified for parameter 2\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:379)\r\n\tat com.example.demo2/com.example.demo2.DatabaseHandler.signUpUser(DatabaseHandler.java:34)\r\n\tat com.example.demo2/com.example.demo2.registerController.lambda$initialize$0(registerController.java:37)\r\n\r\n```\r\n\r\n```\r\n    public void signUpUser(String firstName, String lastName, String email, String password) {\r\n\r\n        String insert = &quot;INSERT INTO &quot; + Const.USERS_TABLE + &quot;(&quot; + Const.USERS_FIRSTNAME + &quot;,&quot; + &quot;VALUES(????)&quot;;\r\n\r\n        try {\r\n            PreparedStatement preparedStatement = getDbConnection().prepareStatement(insert);\r\n\r\n            preparedStatement.setString(1,firstName);\r\n            preparedStatement.setString(1,lastName);\r\n            preparedStatement.setString(1,email);\r\n            preparedStatement.setString(1,password);\r\n\r\n            preparedStatement.execute();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAny help would be great. I think this method is faulty.\r\n\r\nThanks\r\n","title":"How to fix No value specified for parameter 2 error","body":"<p>I'm currently new to JAVAfx and I am trying to create a signup user method. When I run the program I get this error:</p>\n<pre><code>\njava.sql.SQLException: No value specified for parameter 2\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:379)\n    at com.example.demo2/com.example.demo2.DatabaseHandler.signUpUser(DatabaseHandler.java:34)\n    at com.example.demo2/com.example.demo2.registerController.lambda$initialize$0(registerController.java:37)\n\n</code></pre>\n<pre><code>    public void signUpUser(String firstName, String lastName, String email, String password) {\n\n        String insert = &quot;INSERT INTO &quot; + Const.USERS_TABLE + &quot;(&quot; + Const.USERS_FIRSTNAME + &quot;,&quot; + &quot;VALUES(????)&quot;;\n\n        try {\n            PreparedStatement preparedStatement = getDbConnection().prepareStatement(insert);\n\n            preparedStatement.setString(1,firstName);\n            preparedStatement.setString(1,lastName);\n            preparedStatement.setString(1,email);\n            preparedStatement.setString(1,password);\n\n            preparedStatement.execute();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>Any help would be great. I think this method is faulty.</p>\n<p>Thanks</p>\n"},{"tags":["java","naming"],"comments":[{"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"score":3,"creation_date":1329584061,"post_id":9343081,"comment_id":11793140,"body_markdown":"Queues CAN be empty. A pop operation on an empty stack doesn&#39;t make much sense, so it makes more sense to call it &quot;Poll&quot; - fetch something if it&#39;s available, otherwise do nothing.","body":"Queues CAN be empty. A pop operation on an empty stack doesn&#39;t make much sense, so it makes more sense to call it &quot;Poll&quot; - fetch something if it&#39;s available, otherwise do nothing."},{"owner":{"account_id":1259596,"reputation":1142,"user_id":1218290,"display_name":"zpangwin"},"score":1,"creation_date":1329586892,"post_id":9343081,"comment_id":11793744,"body_markdown":"That makes more sense... I had been comparing mostly against Stack and the C++ std classes for stack and queue (not to mention arrays in JS, lol). Between duffymo, Tomasz, and ruakh&#39;s answers -- and looking over the api descriptions a little more thoroughly -- I think I see why they chose to avoid the names &quot;push&quot; and &quot;pop&quot; for Queue. Thanks to all for the great responses!","body":"That makes more sense... I had been comparing mostly against Stack and the C++ std classes for stack and queue (not to mention arrays in JS, lol). Between duffymo, Tomasz, and ruakh&#39;s answers -- and looking over the api descriptions a little more thoroughly -- I think I see why they chose to avoid the names &quot;push&quot; and &quot;pop&quot; for Queue. Thanks to all for the great responses!"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1329584147,"creation_date":1329584147,"answer_id":9343130,"question_id":9343081,"body_markdown":"You&#39;re confusing Queue with Stack; push and pop are associated with the latter.\r\n\r\nThink of Queue in its proper producer/consumer context; poll and offer will make far more sense.\r\n","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>You're confusing Queue with Stack; push and pop are associated with the latter.</p>\n\n<p>Think of Queue in its proper producer/consumer context; poll and offer will make far more sense.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1329586019,"creation_date":1329584227,"answer_id":9343149,"question_id":9343081,"body_markdown":"Because these methods have different semantics explained in the [JavaDoc](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html). `add`/`remove` are unconditional while `offer`/`poll` *return special value*:\r\n\r\n* `offer` only *offers* a new value, but it might not be accepted, e.g. if the queue is full\r\n\r\n* `poll` only *polls* for the value, but we accept the fact the value might not be there.\r\n\r\nTo complicate matters more, [`BlockingQueue`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html) introduces yet another pair of methods for blocking `add`/`remove`. Of course they could have used the same named with a bunch of parameters/flags, \r\n\r\n    smellyGet(boolean blocking, boolean failOnEmpty)\r\n\r\nbut don&#39;t you think this is a better design?\r\n\r\n\t        | Throws ex. | Special v. | Blocks | Times out\r\n\t--------+------------+------------+--------+---------------------\r\n\tInsert  | add(e)     | offer(e)   | put(e) | offer(e, time, unit)\r\n\tRemove  | remove()   | poll()     | take() | poll(time, unit)\r\n\tExamine | element()  | peek()     | N/A    | N/A\r\n\r\n&lt;sup&gt;* https://meta.stackexchange.com/questions/73566 &lt;/sup&gt;","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>Because these methods have different semantics explained in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"noreferrer\">JavaDoc</a>. <code>add</code>/<code>remove</code> are unconditional while <code>offer</code>/<code>poll</code> <em>return special value</em>:</p>\n\n<ul>\n<li><p><code>offer</code> only <em>offers</em> a new value, but it might not be accepted, e.g. if the queue is full</p></li>\n<li><p><code>poll</code> only <em>polls</em> for the value, but we accept the fact the value might not be there.</p></li>\n</ul>\n\n<p>To complicate matters more, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"noreferrer\"><code>BlockingQueue</code></a> introduces yet another pair of methods for blocking <code>add</code>/<code>remove</code>. Of course they could have used the same named with a bunch of parameters/flags, </p>\n\n<pre><code>smellyGet(boolean blocking, boolean failOnEmpty)\n</code></pre>\n\n<p>but don't you think this is a better design?</p>\n\n<pre><code>        | Throws ex. | Special v. | Blocks | Times out\n--------+------------+------------+--------+---------------------\nInsert  | add(e)     | offer(e)   | put(e) | offer(e, time, unit)\nRemove  | remove()   | poll()     | take() | poll(time, unit)\nExamine | element()  | peek()     | N/A    | N/A\n</code></pre>\n\n<p><sup>* <a href=\"https://meta.stackexchange.com/questions/73566\">https://meta.stackexchange.com/questions/73566</a> </sup></p>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329584322,"creation_date":1329584322,"answer_id":9343160,"question_id":9343081,"body_markdown":"I assume it&#39;s simply because the names `push` and `pop` sound ambiguous between the behavior of `add` and `remove` and that of `offer` and `poll` &amp;mdash; and `pop`, in particular, is reminiscent of `java.util.Stack.pop()`, which behaves like `remove` rather than like `poll`. The names `add` and `remove` were obviously chosen to match the names of similar methods elsewhere in the Java Collections Framework, which either perform the requested operation or else raise an exception; the names `offer` and `poll` are suggestive of the fact that they don&#39;t raise exceptions.","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>I assume it's simply because the names <code>push</code> and <code>pop</code> sound ambiguous between the behavior of <code>add</code> and <code>remove</code> and that of <code>offer</code> and <code>poll</code> &mdash; and <code>pop</code>, in particular, is reminiscent of <code>java.util.Stack.pop()</code>, which behaves like <code>remove</code> rather than like <code>poll</code>. The names <code>add</code> and <code>remove</code> were obviously chosen to match the names of similar methods elsewhere in the Java Collections Framework, which either perform the requested operation or else raise an exception; the names <code>offer</code> and <code>poll</code> are suggestive of the fact that they don't raise exceptions.</p>\n"},{"tags":[],"owner":{"account_id":5861536,"reputation":748,"user_id":4617050,"display_name":"dinesh kandpal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500619640,"creation_date":1490689587,"answer_id":43064356,"question_id":9343081,"body_markdown":"The Queue interface defines some methods for acting on the first element of the list, which differ in the way they behave.\r\nThese methods are:\r\n\r\n    peek()\r\n    element()\r\n    poll()\r\n    remove()\r\n\r\n**The peek()** \r\nThis method retrieves the value of the first element of the queue without removing it from the queue. For each invocation of the method we always get the same value and its execution does not affect the size of the queue. **If the queue is empty the peek() method returns null**.\r\n\r\n**The element()** \r\nThis method behaves like peek(), so it again retrieves the value of the first element without removing it. however, if the list is empty element() **throws a NoSuchElementException**.\r\n\r\n**The poll()** \r\nThis method retrieves the value of the first element of the queue by removing it from the queue. . At each invocation it removes the first element of the list and if the list is already empty it returns null but **does not throw any exception**.\r\n\r\n**The remove()** \r\nThis method behaves as the poll() method, so it removes the first element of the list and **if the list is empty it throws a NoSuchElementException**\r\n","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>The Queue interface defines some methods for acting on the first element of the list, which differ in the way they behave.\nThese methods are:</p>\n\n<pre><code>peek()\nelement()\npoll()\nremove()\n</code></pre>\n\n<p><strong>The peek()</strong> \nThis method retrieves the value of the first element of the queue without removing it from the queue. For each invocation of the method we always get the same value and its execution does not affect the size of the queue. <strong>If the queue is empty the peek() method returns null</strong>.</p>\n\n<p><strong>The element()</strong> \nThis method behaves like peek(), so it again retrieves the value of the first element without removing it. however, if the list is empty element() <strong>throws a NoSuchElementException</strong>.</p>\n\n<p><strong>The poll()</strong> \nThis method retrieves the value of the first element of the queue by removing it from the queue. . At each invocation it removes the first element of the list and if the list is already empty it returns null but <strong>does not throw any exception</strong>.</p>\n\n<p><strong>The remove()</strong> \nThis method behaves as the poll() method, so it removes the first element of the list and <strong>if the list is empty it throws a NoSuchElementException</strong></p>\n"},{"tags":[],"owner":{"account_id":8661253,"reputation":1840,"user_id":6483580,"display_name":"Raj Saraogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689447621,"creation_date":1689447621,"answer_id":76695336,"question_id":9343081,"body_markdown":"All method names have specific usecase may be thats why name \r\n\r\n**add()**\r\n\r\n - Inserts the specified element into the queue. If the task is successful, add() returns true, if not it throws an exception.\r\n\r\n**offer()**\r\n\r\n - Inserts the specified element into the queue. If the task is successful, offer() returns true, if not it returns false.\r\n\r\n**element()** \r\n\r\n- Returns the head of the queue. Throws an exception if the queue is empty.\r\n\r\n**peek()** \r\n\r\n- Returns the head of the queue. Returns null if the queue is empty.\r\n\r\n**remove()** \r\n\r\n- Returns and removes the head of the queue. Throws an exception if the queue is empty.\r\n\r\n**poll()** \r\n\r\n- Returns and removes the head of the queue. Returns null if the queue is empty.","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>All method names have specific usecase may be thats why name</p>\n<p><strong>add()</strong></p>\n<ul>\n<li>Inserts the specified element into the queue. If the task is successful, add() returns true, if not it throws an exception.</li>\n</ul>\n<p><strong>offer()</strong></p>\n<ul>\n<li>Inserts the specified element into the queue. If the task is successful, offer() returns true, if not it returns false.</li>\n</ul>\n<p><strong>element()</strong></p>\n<ul>\n<li>Returns the head of the queue. Throws an exception if the queue is empty.</li>\n</ul>\n<p><strong>peek()</strong></p>\n<ul>\n<li>Returns the head of the queue. Returns null if the queue is empty.</li>\n</ul>\n<p><strong>remove()</strong></p>\n<ul>\n<li>Returns and removes the head of the queue. Throws an exception if the queue is empty.</li>\n</ul>\n<p><strong>poll()</strong></p>\n<ul>\n<li>Returns and removes the head of the queue. Returns null if the queue is empty.</li>\n</ul>\n"}],"owner":{"account_id":1259596,"reputation":1142,"user_id":1218290,"display_name":"zpangwin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46504,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":5,"score":49,"last_activity_date":1689447621,"creation_date":1329583839,"question_id":9343081,"body_markdown":"Ok, so I&#39;ve been using Java for a long time now and have recently been preparing for my OCJP exam. I was wondering if anyone might be able to provide any insight into ***why*** the method names &quot;poll&quot; (as opposed to the more traditional &quot;pop&quot;) and &quot;offer&quot; (as opposed to the more traditional &quot;push&quot;) were chosen? I&#39;m looking specifically at the java.util.Queue interface, but would be interested in more general explanations as well :)\r\n\r\nThis is really more of an academic question than for any specific coding scenario, as I&#39;m just trying to make sense of why Sun (as this was done before Oracle bought them) would choose to the names that they did.\r\n\r\nOh and before anyone decides to crucify me or throw back links to lmgtfy... I&#39;ve already looked on google, yahoo, wiki, bing, and SO so if I&#39;m overlooking some obvious search criteria or missed some old post here that explains it then I apologize in advance.","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>Ok, so I've been using Java for a long time now and have recently been preparing for my OCJP exam. I was wondering if anyone might be able to provide any insight into <strong><em>why</em></strong> the method names \"poll\" (as opposed to the more traditional \"pop\") and \"offer\" (as opposed to the more traditional \"push\") were chosen? I'm looking specifically at the java.util.Queue interface, but would be interested in more general explanations as well :)</p>\n\n<p>This is really more of an academic question than for any specific coding scenario, as I'm just trying to make sense of why Sun (as this was done before Oracle bought them) would choose to the names that they did.</p>\n\n<p>Oh and before anyone decides to crucify me or throw back links to lmgtfy... I've already looked on google, yahoo, wiki, bing, and SO so if I'm overlooking some obvious search criteria or missed some old post here that explains it then I apologize in advance.</p>\n"},{"tags":["java","android","sqlite","unit-testing","junit"],"comments":[{"owner":{"account_id":5970271,"reputation":229,"user_id":4692781,"accept_rate":67,"display_name":"Jos&#233; Mar&#237;a"},"score":0,"creation_date":1689447484,"post_id":76695300,"comment_id":135216083,"body_markdown":"I forgot it: the min API version is 26","body":"I forgot it: the min API version is 26"}],"owner":{"account_id":5970271,"reputation":229,"user_id":4692781,"accept_rate":67,"display_name":"Jos&#233; Mar&#237;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689447139,"creation_date":1689447139,"question_id":76695300,"body_markdown":"I&#39;m trying to execute Android Unit tests with Context, but it throws an error at creating database on test package on the method with `@BeforeClass` annotation\r\n\r\nThe `SQLiteOpenHelper` implementation is following:\r\n\r\n```\r\npublic class SqLiteHelper extends SQLiteOpenHelper {\r\n  private SqLiteHelper(Context context, String name, int version, AppProperties props) {\r\n    super(context, name, null, version);\r\n    this.context = context;\r\n    this.props = props;\r\n    this.db = this.getWritableDatabase();\r\n  }\r\n\r\n  public static SqLiteHelper getInstance(Context context) {\r\n    INSTANCE = Optional.ofNullable(INSTANCE).orElseGet(() -&gt; {\r\n      AppProperties props = new AppProperties(context, AppConstants.DATABASE_PROPERTIES); // create an instance with some properties\r\n      String name = props.getProperty(Database.DATABASE_NAME); // database_name\r\n      int version = props.getIntProperty(Database.DATABASE_VERSION); // 1\r\n      return new SqLiteHelper(context, name, version, props);\r\n    });\r\n    return INSTANCE;\r\n  }\r\n\r\n  // more code\r\n}\r\n```\r\n\r\nAnd test class is:\r\n\r\n```\r\n@RunWith(AndroidJUnit4.class)\r\npublic class SqLiteHelperTest extends TestCase {\r\n\r\n  private static SqLiteHelper helper;\r\n\r\n  @BeforeClass\r\n  public static void setup() {\r\n    Context context = InstrumentationRegistry.getInstrumentation().getContext();\r\n    helper = SqLiteHelper.getInstance(context); // throws exception\r\n    // more configuration\r\n  }\r\n  // tests\r\n}\r\n```\r\n\r\nThe exception stack trace is:\r\n\r\n```\r\nandroid.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database &#39;/data/user/0/pe.com.disceria.moanalarm.test/databases/alarm_moan_test&#39;: Directory /data/user/0/pe.com.disceria.moanalarm.test/databases doesn&#39;t exist\r\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:252)\r\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\r\nat android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\r\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\r\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\r\nat android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:918)\r\nat android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:898)\r\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:762)\r\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:751)\r\nat android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:373)\r\nat android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\r\nat my.app.pack.sqlite.SqLiteHelper.&lt;init&gt;(SqLiteHelper.java:34)\r\nat my.app.pack.sqlite.SqLiteHelper.lambda$getInstance$0(SqLiteHelper.java:42)\r\nat my.app.pack.sqlite.SqLiteHelper$$ExternalSyntheticLambda7.get(Unknown Source:2)\r\nat java.util.Optional.orElseGet(Optional.java:263)\r\nat my.app.pack.sqlite.SqLiteHelper.getInstance(SqLiteHelper.java:38)\r\nat my.app.pack.sqlite.SqLiteHelperTest.setup(SqLiteHelperTest.java:41)\r\n... 24 trimmed\r\nCaused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database\r\nat android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\r\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:224)\r\n... 41 more\r\n```\r\n\r\nBut when I enter on my device, I see that the route &#39;/data/user/0/my.app.pack.test/&#39; already exists, so how can I fix this issue?","title":"Can&#39;t execute unit tests for SQLiteOpenHelper implementation in Android project","body":"<p>I'm trying to execute Android Unit tests with Context, but it throws an error at creating database on test package on the method with <code>@BeforeClass</code> annotation</p>\n<p>The <code>SQLiteOpenHelper</code> implementation is following:</p>\n<pre><code>public class SqLiteHelper extends SQLiteOpenHelper {\n  private SqLiteHelper(Context context, String name, int version, AppProperties props) {\n    super(context, name, null, version);\n    this.context = context;\n    this.props = props;\n    this.db = this.getWritableDatabase();\n  }\n\n  public static SqLiteHelper getInstance(Context context) {\n    INSTANCE = Optional.ofNullable(INSTANCE).orElseGet(() -&gt; {\n      AppProperties props = new AppProperties(context, AppConstants.DATABASE_PROPERTIES); // create an instance with some properties\n      String name = props.getProperty(Database.DATABASE_NAME); // database_name\n      int version = props.getIntProperty(Database.DATABASE_VERSION); // 1\n      return new SqLiteHelper(context, name, version, props);\n    });\n    return INSTANCE;\n  }\n\n  // more code\n}\n</code></pre>\n<p>And test class is:</p>\n<pre><code>@RunWith(AndroidJUnit4.class)\npublic class SqLiteHelperTest extends TestCase {\n\n  private static SqLiteHelper helper;\n\n  @BeforeClass\n  public static void setup() {\n    Context context = InstrumentationRegistry.getInstrumentation().getContext();\n    helper = SqLiteHelper.getInstance(context); // throws exception\n    // more configuration\n  }\n  // tests\n}\n</code></pre>\n<p>The exception stack trace is:</p>\n<pre><code>android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database '/data/user/0/pe.com.disceria.moanalarm.test/databases/alarm_moan_test': Directory /data/user/0/pe.com.disceria.moanalarm.test/databases doesn't exist\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:252)\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\nat android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\nat android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:918)\nat android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:898)\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:762)\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:751)\nat android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:373)\nat android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\nat my.app.pack.sqlite.SqLiteHelper.&lt;init&gt;(SqLiteHelper.java:34)\nat my.app.pack.sqlite.SqLiteHelper.lambda$getInstance$0(SqLiteHelper.java:42)\nat my.app.pack.sqlite.SqLiteHelper$$ExternalSyntheticLambda7.get(Unknown Source:2)\nat java.util.Optional.orElseGet(Optional.java:263)\nat my.app.pack.sqlite.SqLiteHelper.getInstance(SqLiteHelper.java:38)\nat my.app.pack.sqlite.SqLiteHelperTest.setup(SqLiteHelperTest.java:41)\n... 24 trimmed\nCaused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database\nat android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:224)\n... 41 more\n</code></pre>\n<p>But when I enter on my device, I see that the route '/data/user/0/my.app.pack.test/' already exists, so how can I fix this issue?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1689582383,"post_id":76695275,"comment_id":135228359,"body_markdown":"Pls post a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Pls post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29024433,"reputation":11,"user_id":22233018,"display_name":"Lambda Developers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689446602,"creation_date":1689446602,"question_id":76695275,"body_markdown":"MyDeviceAdminReceiver.Java\r\n\r\n```\r\npackage com.example.securitycapture;\r\n\r\nimport android.Manifest;\r\nimport android.app.admin.DeviceAdminReceiver;\r\nimport android.app.admin.DevicePolicyManager;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.ImageFormat;\r\nimport android.hardware.camera2.CameraAccessException;\r\nimport android.hardware.camera2.CameraCaptureSession;\r\nimport android.hardware.camera2.CameraCharacteristics;\r\nimport android.hardware.camera2.CameraDevice;\r\nimport android.hardware.camera2.CameraManager;\r\nimport android.hardware.camera2.CaptureRequest;\r\nimport android.hardware.camera2.TotalCaptureResult;\r\nimport android.hardware.camera2.params.StreamConfigurationMap;\r\nimport android.media.Image;\r\nimport android.media.ImageReader;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.util.Size;\r\nimport android.view.Surface;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Objects;\r\n\r\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\npublic class MyDeviceAdminReceiver extends DeviceAdminReceiver {\r\n\r\n    private static final String TAG = &quot;MyDeviceAdminReceiver&quot;;\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private static final int IMAGE_QUALITY = 100;\r\n\r\n    @Override\r\n    public void onPasswordFailed(Context context, Intent intent) {\r\n        super.onPasswordFailed(context, intent);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ContextCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions((AppCompatActivity) context,\r\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n            } else {\r\n                captureImage(context);\r\n            }\r\n        } else {\r\n            captureImage(context);\r\n        }\r\n    }\r\n\r\n    private void captureImage(Context context) {\r\n        CameraManager cameraManager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            String cameraId = getBackCameraId(cameraManager);\r\n\r\n            Size imageDimensions = getImageDimensions(cameraManager, cameraId);\r\n\r\n            final ImageReader imageReader = ImageReader.newInstance(\r\n                    imageDimensions.getWidth(),\r\n                    imageDimensions.getHeight(),\r\n                    ImageFormat.JPEG,\r\n                    1\r\n            );\r\n\r\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;&gt;(2);\r\n            outputSurfaces.add(imageReader.getSurface());\r\n\r\n            final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\r\n                @Override\r\n                public void onOpened(@NonNull CameraDevice camera) {\r\n                    try {\r\n                        CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n                        captureRequestBuilder.addTarget(imageReader.getSurface());\r\n                        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CaptureRequest.CONTROL_MODE_AUTO);\r\n\r\n                        camera.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\r\n                            @Override\r\n                            public void onConfigured(@NonNull CameraCaptureSession session) {\r\n                                try {\r\n                                    session.capture(captureRequestBuilder.build(), new CameraCaptureSession.CaptureCallback() {\r\n                                        @Override\r\n                                        public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\r\n                                            super.onCaptureCompleted(session, request, result);\r\n                                            imageReader.setOnImageAvailableListener(reader -&gt; {\r\n                                                Image image = reader.acquireLatestImage();\r\n                                                ByteBuffer buffer = Objects.requireNonNull(image).getPlanes()[0].getBuffer();\r\n                                                byte[] bytes = new byte[buffer.capacity()];\r\n                                                buffer.get(bytes);\r\n\r\n                                                saveImage(context, bytes);\r\n\r\n                                                image.close();\r\n                                                camera.close();\r\n                                            }, null);\r\n                                        }\r\n                                    }, null);\r\n                                } catch (CameraAccessException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onConfigureFailed(@NonNull CameraCaptureSession session) {\r\n                                Log.e(TAG, &quot;Capture session configuration failed.&quot;);\r\n                            }\r\n                        }, null);\r\n                    } catch (CameraAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onDisconnected(@NonNull CameraDevice camera) {\r\n                    camera.close();\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull CameraDevice camera, int error) {\r\n                    camera.close();\r\n                }\r\n            };\r\n\r\n            if (ActivityCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n                cameraManager.openCamera(cameraId, stateCallback, null);\r\n            } else {\r\n                Log.e(TAG, &quot;Camera permission not granted.&quot;);\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private String getBackCameraId(CameraManager cameraManager) throws CameraAccessException {\r\n        for (String cameraId : cameraManager.getCameraIdList()) {\r\n            CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n            int cameraOrientation = characteristics.get(CameraCharacteristics.LENS_FACING);\r\n\r\n            if (cameraOrientation == CameraCharacteristics.LENS_FACING_BACK) {\r\n                return cameraId;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Size getImageDimensions(CameraManager cameraManager, String cameraId) throws CameraAccessException {\r\n        CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n        StreamConfigurationMap streamConfigurationMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n        Size[] sizes = Objects.requireNonNull(streamConfigurationMap).getOutputSizes(ImageFormat.JPEG);\r\n        if (sizes != null &amp;&amp; sizes.length &gt; 0) {\r\n            return sizes[0];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private void saveImage(Context context, byte[] imageBytes) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault());\r\n        String currentDateAndTime = sdf.format(new Date());\r\n        String fileName = &quot;IMG_&quot; + currentDateAndTime + &quot;.jpg&quot;;\r\n\r\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        if (!storageDir.exists()) {\r\n            storageDir.mkdirs();\r\n        }\r\n\r\n        File imageFile = new File(storageDir, fileName);\r\n\r\n        try (FileOutputStream outputStream = new FileOutputStream(imageFile)) {\r\n            outputStream.write(imageBytes);\r\n            Log.d(TAG, &quot;Image saved: &quot; + imageFile.getAbsolutePath());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.SecurityCapture&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;!-- Add your services, activities, and providers here --&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.securitycapture.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.MyDeviceAdminReceiver&quot;\r\n            android:description=&quot;@string/app_name&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.device_admin&quot;\r\n                android:resource=&quot;@xml/device_admin&quot; /&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nDeivce_admin.xml\r\n```\r\n&lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;uses-policies&gt;\r\n        &lt;limit-password /&gt;\r\n        &lt;watch-login /&gt;\r\n        &lt;disable-camera /&gt;\r\n    &lt;/uses-policies&gt;\r\n&lt;/device-admin&gt;\r\n```\r\nI have shared all code. I am beginner in android development. I want to do this as a learning project.\r\nI have tried multiple times but still unable to capture the image. What is wrong or is there any better solution to this? \r\nAny guidance would be much appreciated.\r\n","title":"I want to get coordinated, capture image onPasswordFailed() using DeviceAdminReceiver and send it via mail. i am stuck on image capturing","body":"<p>MyDeviceAdminReceiver.Java</p>\n<pre><code>package com.example.securitycapture;\n\nimport android.Manifest;\nimport android.app.admin.DeviceAdminReceiver;\nimport android.app.admin.DevicePolicyManager;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.ImageFormat;\nimport android.hardware.camera2.CameraAccessException;\nimport android.hardware.camera2.CameraCaptureSession;\nimport android.hardware.camera2.CameraCharacteristics;\nimport android.hardware.camera2.CameraDevice;\nimport android.hardware.camera2.CameraManager;\nimport android.hardware.camera2.CaptureRequest;\nimport android.hardware.camera2.TotalCaptureResult;\nimport android.hardware.camera2.params.StreamConfigurationMap;\nimport android.media.Image;\nimport android.media.ImageReader;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.util.Size;\nimport android.view.Surface;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Objects;\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\npublic class MyDeviceAdminReceiver extends DeviceAdminReceiver {\n\n    private static final String TAG = &quot;MyDeviceAdminReceiver&quot;;\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\n    private static final int IMAGE_QUALITY = 100;\n\n    @Override\n    public void onPasswordFailed(Context context, Intent intent) {\n        super.onPasswordFailed(context, intent);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (ContextCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\n                    != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions((AppCompatActivity) context,\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n            } else {\n                captureImage(context);\n            }\n        } else {\n            captureImage(context);\n        }\n    }\n\n    private void captureImage(Context context) {\n        CameraManager cameraManager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\n        try {\n            String cameraId = getBackCameraId(cameraManager);\n\n            Size imageDimensions = getImageDimensions(cameraManager, cameraId);\n\n            final ImageReader imageReader = ImageReader.newInstance(\n                    imageDimensions.getWidth(),\n                    imageDimensions.getHeight(),\n                    ImageFormat.JPEG,\n                    1\n            );\n\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;&gt;(2);\n            outputSurfaces.add(imageReader.getSurface());\n\n            final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\n                @Override\n                public void onOpened(@NonNull CameraDevice camera) {\n                    try {\n                        CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n                        captureRequestBuilder.addTarget(imageReader.getSurface());\n                        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CaptureRequest.CONTROL_MODE_AUTO);\n\n                        camera.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\n                            @Override\n                            public void onConfigured(@NonNull CameraCaptureSession session) {\n                                try {\n                                    session.capture(captureRequestBuilder.build(), new CameraCaptureSession.CaptureCallback() {\n                                        @Override\n                                        public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\n                                            super.onCaptureCompleted(session, request, result);\n                                            imageReader.setOnImageAvailableListener(reader -&gt; {\n                                                Image image = reader.acquireLatestImage();\n                                                ByteBuffer buffer = Objects.requireNonNull(image).getPlanes()[0].getBuffer();\n                                                byte[] bytes = new byte[buffer.capacity()];\n                                                buffer.get(bytes);\n\n                                                saveImage(context, bytes);\n\n                                                image.close();\n                                                camera.close();\n                                            }, null);\n                                        }\n                                    }, null);\n                                } catch (CameraAccessException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n\n                            @Override\n                            public void onConfigureFailed(@NonNull CameraCaptureSession session) {\n                                Log.e(TAG, &quot;Capture session configuration failed.&quot;);\n                            }\n                        }, null);\n                    } catch (CameraAccessException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void onDisconnected(@NonNull CameraDevice camera) {\n                    camera.close();\n                }\n\n                @Override\n                public void onError(@NonNull CameraDevice camera, int error) {\n                    camera.close();\n                }\n            };\n\n            if (ActivityCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\n                    == PackageManager.PERMISSION_GRANTED) {\n                cameraManager.openCamera(cameraId, stateCallback, null);\n            } else {\n                Log.e(TAG, &quot;Camera permission not granted.&quot;);\n            }\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private String getBackCameraId(CameraManager cameraManager) throws CameraAccessException {\n        for (String cameraId : cameraManager.getCameraIdList()) {\n            CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\n            int cameraOrientation = characteristics.get(CameraCharacteristics.LENS_FACING);\n\n            if (cameraOrientation == CameraCharacteristics.LENS_FACING_BACK) {\n                return cameraId;\n            }\n        }\n        return null;\n    }\n\n    private Size getImageDimensions(CameraManager cameraManager, String cameraId) throws CameraAccessException {\n        CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\n        StreamConfigurationMap streamConfigurationMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n        Size[] sizes = Objects.requireNonNull(streamConfigurationMap).getOutputSizes(ImageFormat.JPEG);\n        if (sizes != null &amp;&amp; sizes.length &gt; 0) {\n            return sizes[0];\n        }\n        return null;\n    }\n\n    private void saveImage(Context context, byte[] imageBytes) {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault());\n        String currentDateAndTime = sdf.format(new Date());\n        String fileName = &quot;IMG_&quot; + currentDateAndTime + &quot;.jpg&quot;;\n\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        if (!storageDir.exists()) {\n            storageDir.mkdirs();\n        }\n\n        File imageFile = new File(storageDir, fileName);\n\n        try (FileOutputStream outputStream = new FileOutputStream(imageFile)) {\n            outputStream.write(imageBytes);\n            Log.d(TAG, &quot;Image saved: &quot; + imageFile.getAbsolutePath());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SecurityCapture&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;!-- Add your services, activities, and providers here --&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.securitycapture.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;receiver\n            android:name=&quot;.MyDeviceAdminReceiver&quot;\n            android:description=&quot;@string/app_name&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.device_admin&quot;\n                android:resource=&quot;@xml/device_admin&quot; /&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>Deivce_admin.xml</p>\n<pre><code>&lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;uses-policies&gt;\n        &lt;limit-password /&gt;\n        &lt;watch-login /&gt;\n        &lt;disable-camera /&gt;\n    &lt;/uses-policies&gt;\n&lt;/device-admin&gt;\n</code></pre>\n<p>I have shared all code. I am beginner in android development. I want to do this as a learning project.\nI have tried multiple times but still unable to capture the image. What is wrong or is there any better solution to this?\nAny guidance would be much appreciated.</p>\n"},{"tags":["java","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":27762409,"reputation":1,"user_id":21194555,"display_name":"Griffin"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1689446345,"creation_date":1689446345,"answer_id":76695257,"question_id":76695072,"body_markdown":"Yes, it is possible to check for the Content-Encoding header programmatically in your web application. The Content-Encoding header is included in the HTTP response headers and indicates whether the response has been encoded, such as with compression.\r\n\r\nTo check for the Content-Encoding header programmatically, you can access the response headers in your web application code. The specific implementation depends on the programming language or framework you are using.\r\n\r\nIn Java with Tomcat, you can use the Servlet API to access the response headers. Here&#39;s an example using Java Servlets:\r\n\r\n```java\r\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    // Get the Content-Encoding header from the response\r\n    String contentEncoding = response.getHeader(&quot;Content-Encoding&quot;);\r\n    \r\n    // Check if the Content-Encoding header is present and if it indicates compression\r\n    if (contentEncoding != null &amp;&amp; contentEncoding.contains(&quot;gzip&quot;)) {\r\n        // Content is compressed\r\n        // You can handle billing for data transfer usage accordingly\r\n    } else {\r\n        // Content is not compressed\r\n        // Handle billing for data transfer usage accordingly\r\n    }\r\n}\r\n```\r\n\r\nThis code retrieves the Content-Encoding header from the response and checks if it contains the value &quot;gzip&quot; to determine if the response is compressed. You can then handle the billing for data transfer usage based on this information.\r\n\r\nRemember to adapt the code to your specific programming language or framework if you are not using Java with Tomcat.","title":"Is it possible to check for content-encoding header programmatically?","body":"<p>Yes, it is possible to check for the Content-Encoding header programmatically in your web application. The Content-Encoding header is included in the HTTP response headers and indicates whether the response has been encoded, such as with compression.</p>\n<p>To check for the Content-Encoding header programmatically, you can access the response headers in your web application code. The specific implementation depends on the programming language or framework you are using.</p>\n<p>In Java with Tomcat, you can use the Servlet API to access the response headers. Here's an example using Java Servlets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // Get the Content-Encoding header from the response\n    String contentEncoding = response.getHeader(&quot;Content-Encoding&quot;);\n    \n    // Check if the Content-Encoding header is present and if it indicates compression\n    if (contentEncoding != null &amp;&amp; contentEncoding.contains(&quot;gzip&quot;)) {\n        // Content is compressed\n        // You can handle billing for data transfer usage accordingly\n    } else {\n        // Content is not compressed\n        // Handle billing for data transfer usage accordingly\n    }\n}\n</code></pre>\n<p>This code retrieves the Content-Encoding header from the response and checks if it contains the value &quot;gzip&quot; to determine if the response is compressed. You can then handle the billing for data transfer usage based on this information.</p>\n<p>Remember to adapt the code to your specific programming language or framework if you are not using Java with Tomcat.</p>\n"}],"owner":{"account_id":457009,"reputation":199,"user_id":856057,"accept_rate":75,"display_name":"Sai Ganesh Pittala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689446345,"creation_date":1689443159,"question_id":76695072,"body_markdown":"We are developing a saas web product and need to bill the customer for data transfer usage. Tomcat server is enabled with compression and the responses above 2048 bytes would be encoded, so would it be possible to check for Content-Encoding header programmatically ?","title":"Is it possible to check for content-encoding header programmatically?","body":"<p>We are developing a saas web product and need to bill the customer for data transfer usage. Tomcat server is enabled with compression and the responses above 2048 bytes would be encoded, so would it be possible to check for Content-Encoding header programmatically ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9686,"page":306,"page_size":100}
