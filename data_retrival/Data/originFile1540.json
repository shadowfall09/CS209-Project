{"items":[{"tags":["java","maven","intellij-idea","maven-3","xstream"],"comments":[{"owner":{"account_id":5402881,"reputation":517,"user_id":4302216,"display_name":"WENJUN CHI"},"score":0,"creation_date":1645665983,"post_id":71245930,"comment_id":125935770,"body_markdown":"Providing the maven version and JDK version can make it easy for others to help you.","body":"Providing the maven version and JDK version can make it easy for others to help you."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645666341,"post_id":71245930,"comment_id":125935827,"body_markdown":"Did you reload your maven project after modifying your pom?","body":"Did you reload your maven project after modifying your pom?"},{"owner":{"account_id":12074979,"reputation":129,"user_id":8828811,"display_name":"Aliics"},"score":0,"creation_date":1645666891,"post_id":71245930,"comment_id":125935910,"body_markdown":"Few things to do:\n\n1. Check that you have the import in your file. IntelliJ would normally prompt to add one, so this probably isn&#39;t the case.\n2. Check that the repo maven is resolving is from has your dependency. If you&#39;re using Central, you&#39;re probably safe. \n3. Rebuild/reload your project. Sometimes there was a separate build error and it didn&#39;t get to resolving dependencies yet.\n4. Give up and sacrifice yourself to the will another build tool.","body":"Few things to do:  1. Check that you have the import in your file. IntelliJ would normally prompt to add one, so this probably isn&#39;t the case. 2. Check that the repo maven is resolving is from has your dependency. If you&#39;re using Central, you&#39;re probably safe.  3. Rebuild/reload your project. Sometimes there was a separate build error and it didn&#39;t get to resolving dependencies yet. 4. Give up and sacrifice yourself to the will another build tool."},{"owner":{"account_id":14180658,"reputation":125,"user_id":10244412,"display_name":"James Green"},"score":0,"creation_date":1645710028,"post_id":71245930,"comment_id":125947461,"body_markdown":"@WENJUNCHI I have added these","body":"@WENJUNCHI I have added these"},{"owner":{"account_id":14180658,"reputation":125,"user_id":10244412,"display_name":"James Green"},"score":0,"creation_date":1645710680,"post_id":71245930,"comment_id":125947724,"body_markdown":"@tgdavies I have reloaded the project twice now, to no effect. I also copy-pasted the XML code into the pom file from the XStream website.","body":"@tgdavies I have reloaded the project twice now, to no effect. I also copy-pasted the XML code into the pom file from the XStream website."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645744740,"post_id":71245930,"comment_id":125959507,"body_markdown":"What happens if you run `mvn package` at the command line?","body":"What happens if you run <code>mvn package</code> at the command line?"},{"owner":{"account_id":5402881,"reputation":517,"user_id":4302216,"display_name":"WENJUN CHI"},"score":0,"creation_date":1645754642,"post_id":71245930,"comment_id":125961132,"body_markdown":"You use JDK17, but why your maven.compiler.source and maven.compiler.target is 11?\nI use JDK17 maven3.8.1, import XStream, everything is ok.","body":"You use JDK17, but why your maven.compiler.source and maven.compiler.target is 11? I use JDK17 maven3.8.1, import XStream, everything is ok."},{"owner":{"account_id":14180658,"reputation":125,"user_id":10244412,"display_name":"James Green"},"score":0,"creation_date":1646048214,"post_id":71245930,"comment_id":126020371,"body_markdown":"@WENJUNCHI I&#39;ve started a new project to test everything. When the project is created by Intellij, the source/target for the maven compiler is set to 11 by default. What should it be? My Maven is now up to date alongside my Intellij version. And I&#39;ve update the JavaFX version","body":"@WENJUNCHI I&#39;ve started a new project to test everything. When the project is created by Intellij, the source/target for the maven compiler is set to 11 by default. What should it be? My Maven is now up to date alongside my Intellij version. And I&#39;ve update the JavaFX version"}],"answers":[{"tags":[],"owner":{"account_id":14180658,"reputation":125,"user_id":10244412,"display_name":"James Green"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646141273,"creation_date":1646141273,"answer_id":71309205,"question_id":71245930,"body_markdown":"I figured out that in the &quot;modules-info.java&quot; file, &quot;requires xstream&quot; is needed. That is all\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O9uWJ.png","title":"new dependency not recognised by Maven","body":"<p>I figured out that in the &quot;modules-info.java&quot; file, &quot;requires xstream&quot; is needed. That is all</p>\n<p><a href=\"https://i.stack.imgur.com/O9uWJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O9uWJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17335028,"reputation":41,"user_id":12557126,"display_name":"mohammad.sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646564873,"creation_date":1646552472,"answer_id":71368504,"question_id":71245930,"body_markdown":"One of the following may solve your problem:\r\nThese are based on my previous experiences.\r\n\r\n 1. because may be auto import disabled. re Import maven project.(intellij: press Ctrl+Shift+A then actions - input &quot;reload&quot; find &quot;Reload All Maven Projects&quot;). \r\n 2. in my experience, sometimes it does happen that the dependency is not fully received. remove xstream special version folder from .m2 (com-&gt;thoughtworks-&gt;xstream) and repeat step 1. \r\n 3. maybe repository not valid. check repository source in file settings.xml in .m2 (if exist) or replace to other source.\r\n 4. invalid cache and restart (intellij: file-&gt; invalid caches/restart). This has solved my problem several times.\r\n 5. Your access to the site or repository may be closed. check network policy or use vpn (Poor probability)","title":"new dependency not recognised by Maven","body":"<p>One of the following may solve your problem:\nThese are based on my previous experiences.</p>\n<ol>\n<li>because may be auto import disabled. re Import maven project.(intellij: press Ctrl+Shift+A then actions - input &quot;reload&quot; find &quot;Reload All Maven Projects&quot;).</li>\n<li>in my experience, sometimes it does happen that the dependency is not fully received. remove xstream special version folder from .m2 (com-&gt;thoughtworks-&gt;xstream) and repeat step 1.</li>\n<li>maybe repository not valid. check repository source in file settings.xml in .m2 (if exist) or replace to other source.</li>\n<li>invalid cache and restart (intellij: file-&gt; invalid caches/restart). This has solved my problem several times.</li>\n<li>Your access to the site or repository may be closed. check network policy or use vpn (Poor probability)</li>\n</ol>\n"}],"owner":{"account_id":14180658,"reputation":125,"user_id":10244412,"display_name":"James Green"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1646564873,"creation_date":1645665193,"question_id":71245930,"body_markdown":"Using maven version 3.6.3 and JDK version &quot;openjdk-17&quot;\r\n\r\nI&#39;ve tried using Maven&#39;s dependencies so I could use the xstream library in my project. Following a guide I added com.thoughtworks.xstream to my pom.xml file:\r\n\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI then tried to use xstream, but intellij couldn&#39;t resolve &quot;XStream&quot; even though it seems to work for JavaFX just fine. This code does not compile.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nEDIT: I loaded a new project, where I used, what I believe to be, up to date versions. Maven 3.8.1, the latest intellij version, and everything else (JDK, openjfx) at version 17.0.2 yet when I try to use &quot;XStream&quot; in my project code (after reloading the maven project) it says &quot;Cannot resolve symbol XStream&quot;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nEdit 2: \r\nI added junit to the dependencies, it works. I add Gson to the dependencies. It doesn&#39;t work.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IgCIm.png\r\n  [2]: https://i.stack.imgur.com/8X7Iy.png\r\n  [3]: https://i.stack.imgur.com/QGUrK.png\r\n  [4]: https://i.stack.imgur.com/aWSJv.png\r\n  [5]: https://i.stack.imgur.com/K48De.png","title":"new dependency not recognised by Maven","body":"<p>Using maven version 3.6.3 and JDK version &quot;openjdk-17&quot;</p>\n<p>I've tried using Maven's dependencies so I could use the xstream library in my project. Following a guide I added com.thoughtworks.xstream to my pom.xml file:</p>\n<p><a href=\"https://i.stack.imgur.com/IgCIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IgCIm.png\" alt=\"enter image description here\" /></a></p>\n<p>I then tried to use xstream, but intellij couldn't resolve &quot;XStream&quot; even though it seems to work for JavaFX just fine. This code does not compile.</p>\n<p><a href=\"https://i.stack.imgur.com/8X7Iy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8X7Iy.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT: I loaded a new project, where I used, what I believe to be, up to date versions. Maven 3.8.1, the latest intellij version, and everything else (JDK, openjfx) at version 17.0.2 yet when I try to use &quot;XStream&quot; in my project code (after reloading the maven project) it says &quot;Cannot resolve symbol XStream&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/QGUrK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QGUrK.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit 2:\nI added junit to the dependencies, it works. I add Gson to the dependencies. It doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/aWSJv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aWSJv.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/K48De.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K48De.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-stream","iterable"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1646559249,"post_id":71369047,"comment_id":126149445,"body_markdown":"What&#39;s wrong with the code? Why use streams?","body":"What&#39;s wrong with the code? Why use streams?"},{"owner":{"account_id":22437269,"reputation":59,"user_id":16642338,"display_name":"Kristjan"},"score":0,"creation_date":1646559367,"post_id":71369047,"comment_id":126149468,"body_markdown":"@Olivier The only reason for using `streams` is to be better with them.","body":"@Olivier The only reason for using <code>streams</code> is to be better with them."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1646561766,"post_id":71369047,"comment_id":126149872,"body_markdown":"But it is not &quot;better&quot; with them.  Streams are not automatically &quot;better&quot;.  And in this case, they are not.  As you can see, a Stream-based solution is more complicated, and it won&#39;t be  more efficient.","body":"But it is not &quot;better&quot; with them.  Streams are not automatically &quot;better&quot;.  And in this case, they are not.  As you can see, a Stream-based solution is more complicated, and it won&#39;t be  more efficient."}],"answers":[{"tags":[],"owner":{"account_id":16505167,"reputation":1646,"user_id":11925371,"display_name":"Krishna Majgaonkar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646559773,"creation_date":1646559773,"answer_id":71369158,"question_id":71369047,"body_markdown":"`spliterator()` converts `Iterable` in `stream` and then collect it as a `List` using `collect()`\r\n```java\r\nList&lt;User&gt; users = \r\n  StreamSupport.stream(userRepository.findAll().spliterator(), false)\r\n    .collect(Collectors.toList());\r\n```","title":"Convert iterable to list using streams","body":"<p><code>spliterator()</code> converts <code>Iterable</code> in <code>stream</code> and then collect it as a <code>List</code> using <code>collect()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;User&gt; users = \n  StreamSupport.stream(userRepository.findAll().spliterator(), false)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":22437269,"reputation":59,"user_id":16642338,"display_name":"Kristjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1911,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1646567405,"answer_count":1,"score":1,"last_activity_date":1646564820,"creation_date":1646558839,"question_id":71369047,"body_markdown":"I have a simple loop that adds elements from one `list` to another `list`.\r\nHow can the same result be achieved using `streams`?\r\n\r\n\r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    for(User user: userRepository.findAll()) {\r\n        users.add(user);\r\n    }\r\n\r\nThe reason for doing so is because\r\n`userRepository.findAll()` **returns** `Iterable&lt;User&gt;`","title":"Convert iterable to list using streams","body":"<p>I have a simple loop that adds elements from one <code>list</code> to another <code>list</code>.\nHow can the same result be achieved using <code>streams</code>?</p>\n<pre><code>List&lt;User&gt; users = new ArrayList&lt;&gt;();\nfor(User user: userRepository.findAll()) {\n    users.add(user);\n}\n</code></pre>\n<p>The reason for doing so is because\n<code>userRepository.findAll()</code> <strong>returns</strong> <code>Iterable&lt;User&gt;</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3775284,"reputation":1262,"user_id":3136282,"display_name":"Arshad"},"score":0,"creation_date":1521799473,"post_id":49446881,"comment_id":85895615,"body_markdown":"You can check android docs here https://developer.android.com/training/system-ui/immersive.html","body":"You can check android docs here <a href=\"https://developer.android.com/training/system-ui/immersive.html\" rel=\"nofollow noreferrer\">developer.android.com/training/system-ui/immersive.html</a>"},{"owner":{"account_id":12144127,"reputation":2141,"user_id":8867002,"accept_rate":60,"display_name":"Jyoti JK"},"score":3,"creation_date":1521800772,"post_id":49446881,"comment_id":85896523,"body_markdown":"`getActivity(). getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n        WindowManager.LayoutParams.FLAG_FULLSCREEN);` try this","body":"<code>getActivity(). getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCR&zwnj;&#8203;EEN,         WindowManager.LayoutParams.FLAG_FULLSCREEN);</code> try this"}],"answers":[{"tags":[],"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1545585424,"creation_date":1521800163,"answer_id":49447292,"question_id":49446881,"body_markdown":"You should try using this flag as it is designed to remove status bar and navigation.\r\n\r\n    getActivity().getWindow().addFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n\r\n**NOTE:** You need to manually clear this while switching or closing fragment. Else this fullscreen will be applicable till the parent activity exists. To do so,\r\n\r\n    getActivity().getWindow().clearFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n\r\nAlso, you can use `FLAG_FULLSCREEN`. Using it will effectively set a transparent notification bar but the icons on the status bar will still show up.","title":"Android set full screen from fragment","body":"<p>You should try using this flag as it is designed to remove status bar and navigation.</p>\n\n<pre><code>getActivity().getWindow().addFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n</code></pre>\n\n<p><strong>NOTE:</strong> You need to manually clear this while switching or closing fragment. Else this fullscreen will be applicable till the parent activity exists. To do so,</p>\n\n<pre><code>getActivity().getWindow().clearFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n</code></pre>\n\n<p>Also, you can use <code>FLAG_FULLSCREEN</code>. Using it will effectively set a transparent notification bar but the icons on the status bar will still show up.</p>\n"},{"tags":[],"owner":{"account_id":11234005,"reputation":1120,"user_id":8240915,"display_name":"Sumit Jain"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1646564738,"creation_date":1598465043,"answer_id":63603341,"question_id":49446881,"body_markdown":"**Kotlin**\r\n\r\nIn `onViewCreated()` to make fragment fullscreen\r\n\r\n    requireActivity().window.addFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\r\n\r\nIn `onDetach()` to clear fullscreen flag so it will not affect to other fragment which is open in Activity\r\n\r\n    requireActivity().window.clearFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\r\n\r\n--x--x--x--x--x--x--x--x--x--\r\n\r\n**Java**\r\n\r\nIn `onViewCreated()` to make fragment fullscreen\r\n\r\n    requireActivity().getWindow().addFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n\r\nIn `onDetach()` to clear fullscreen flag so it will not affect to other fragment which is open in Activity\r\n\r\n    requireActivity().getWindow().clearFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n\r\n","title":"Android set full screen from fragment","body":"<p><strong>Kotlin</strong></p>\n<p>In <code>onViewCreated()</code> to make fragment fullscreen</p>\n<pre><code>requireActivity().window.addFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\n</code></pre>\n<p>In <code>onDetach()</code> to clear fullscreen flag so it will not affect to other fragment which is open in Activity</p>\n<pre><code>requireActivity().window.clearFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\n</code></pre>\n<p>--x--x--x--x--x--x--x--x--x--</p>\n<p><strong>Java</strong></p>\n<p>In <code>onViewCreated()</code> to make fragment fullscreen</p>\n<pre><code>requireActivity().getWindow().addFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n</code></pre>\n<p>In <code>onDetach()</code> to clear fullscreen flag so it will not affect to other fragment which is open in Activity</p>\n<pre><code>requireActivity().getWindow().clearFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6947828,"reputation":2546,"user_id":5331566,"accept_rate":88,"display_name":"Shaon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605083723,"creation_date":1604830860,"answer_id":64736954,"question_id":49446881,"body_markdown":"In your splash fragment. It works for navigation also\r\n\r\nin kotlin\r\n\r\n     override fun onAttach(context: Context) {\r\n        super.onAttach(context)\r\n\r\n        requireActivity().window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\r\n\r\n    }\r\n\r\n    override fun onDetach() {\r\n        super.onDetach()\r\n\r\n        requireActivity().window.clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\r\n    }","title":"Android set full screen from fragment","body":"<p>In your splash fragment. It works for navigation also</p>\n<p>in kotlin</p>\n<pre><code> override fun onAttach(context: Context) {\n    super.onAttach(context)\n\n    requireActivity().window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n\n}\n\noverride fun onDetach() {\n    super.onDetach()\n\n    requireActivity().window.clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9163034,"reputation":822,"user_id":6813746,"accept_rate":50,"display_name":"joke4me"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613135643,"creation_date":1613135643,"answer_id":66172532,"question_id":49446881,"body_markdown":"System UI fullscreen flags are now deprecated, for API level 30 and above override `onWindowFocusChanged()` in your `MainActivity`\r\n\r\n    override fun onWindowFocusChanged(hasFocus: Boolean) {\r\n        super.onWindowFocusChanged(hasFocus)\r\n        if (hasFocus) hideSystemUI() else showSystemUI()\r\n    }\r\n    \r\n    private fun hideSystemUI() {\r\n        if (Build.VERSION.SDK_INT &gt;= 30) {\r\n            window.insetsController?.apply {\r\n                hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\r\n            }\r\n        } else {\r\n            // Enables regular immersive mode.\r\n            // For &quot;lean back&quot; mode, remove SYSTEM_UI_FLAG_IMMERSIVE.\r\n            // Or for &quot;sticky immersive,&quot; replace it with SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n            window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_IMMERSIVE\r\n                    // Set the content to appear under the system bars so that the\r\n                    // content doesn&#39;t resize when the system bars hide and show.\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    // Hide the nav bar and status bar\r\n                    or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    or View.SYSTEM_UI_FLAG_FULLSCREEN)\r\n        }\r\n    }\r\n    private fun showSystemUI() {\r\n        if (Build.VERSION.SDK_INT &gt;= 30) {\r\n            window.insetsController?.apply {\r\n                show(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\r\n            }\r\n        } else {\r\n            window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN)\r\n        }\r\n    }","title":"Android set full screen from fragment","body":"<p>System UI fullscreen flags are now deprecated, for API level 30 and above override <code>onWindowFocusChanged()</code> in your <code>MainActivity</code></p>\n<pre><code>override fun onWindowFocusChanged(hasFocus: Boolean) {\n    super.onWindowFocusChanged(hasFocus)\n    if (hasFocus) hideSystemUI() else showSystemUI()\n}\n\nprivate fun hideSystemUI() {\n    if (Build.VERSION.SDK_INT &gt;= 30) {\n        window.insetsController?.apply {\n            hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\n        }\n    } else {\n        // Enables regular immersive mode.\n        // For &quot;lean back&quot; mode, remove SYSTEM_UI_FLAG_IMMERSIVE.\n        // Or for &quot;sticky immersive,&quot; replace it with SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n        window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_IMMERSIVE\n                // Set the content to appear under the system bars so that the\n                // content doesn't resize when the system bars hide and show.\n                or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                // Hide the nav bar and status bar\n                or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_FULLSCREEN)\n    }\n}\nprivate fun showSystemUI() {\n    if (Build.VERSION.SDK_INT &gt;= 30) {\n        window.insetsController?.apply {\n            show(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\n        }\n    } else {\n        window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619725855,"creation_date":1619725855,"answer_id":67324181,"question_id":49446881,"body_markdown":"This constant was deprecated in API level 30.\r\n\r\n    WindowManager.LayoutParams.FLAG_FULLSCREEN\r\n\r\nUse **WindowInsetsController#hide(int)** with **Type#statusBars()** instead.\r\n[See this link][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/WindowManager.LayoutParams#FLAG_FULLSCREEN","title":"Android set full screen from fragment","body":"<p>This constant was deprecated in API level 30.</p>\n<pre><code>WindowManager.LayoutParams.FLAG_FULLSCREEN\n</code></pre>\n<p>Use <strong>WindowInsetsController#hide(int)</strong> with <strong>Type#statusBars()</strong> instead.\n<a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams#FLAG_FULLSCREEN\" rel=\"nofollow noreferrer\">See this link</a></p>\n"},{"tags":[],"owner":{"account_id":20153089,"reputation":97,"user_id":14965748,"display_name":"Kushal Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638969349,"creation_date":1638969349,"answer_id":70275631,"question_id":49446881,"body_markdown":"If you are using FLAG_LAYOUT_NO_LIMITS and trying to transparent the status bar in fragments then you should clearFlags in onPause() instead in onDetach().\r\n \r\n            override fun onPause() {\r\n                super.onPause()\r\n                 \r\n                 (activity as MainActivity?)!!.window.clearFlags(WindowManager\r\n                                     .LayoutParams.FLAG_LAYOUT_NO_LIMITS)\r\n\r\n                 (activity as MainActivity?)!!.window.statusBarColor = Color.WHITE }\r\n                                            ","title":"Android set full screen from fragment","body":"<p>If you are using FLAG_LAYOUT_NO_LIMITS and trying to transparent the status bar in fragments then you should clearFlags in onPause() instead in onDetach().</p>\n<pre><code>        override fun onPause() {\n            super.onPause()\n             \n             (activity as MainActivity?)!!.window.clearFlags(WindowManager\n                                 .LayoutParams.FLAG_LAYOUT_NO_LIMITS)\n\n             (activity as MainActivity?)!!.window.statusBarColor = Color.WHITE }\n                                        \n</code></pre>\n"}],"owner":{"account_id":430348,"reputation":3397,"user_id":813728,"accept_rate":70,"display_name":"Valerio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35965,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":49447292,"answer_count":6,"score":24,"last_activity_date":1646564738,"creation_date":1521799028,"question_id":49446881,"body_markdown":"This is my question: I have an android app which allows users to go full screen for a better readability. The full screen fab toggle button is placed inside a fragment which actually contains the readings.\r\n\r\nTo make it dead simple: \r\n\r\n - Main Activity contains Readings Fragment\r\n - Readings Fragment contains a fab button to toggle full screen\r\n\r\nTo trigger the full screen I use this snippet:\r\n\r\n    this.fullScreenFab.setOnClickListener(v -&gt; {\r\n        WindowManager.LayoutParams attrs = getActivity().getWindow().getAttributes();\r\n        if (this.isFullScreen) {\r\n            this.isFullScreen = false;\r\n            ((AppCompatActivity) \r\n    getActivity()).getSupportActionBar().show();\r\n        getActivity().getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\r\n\r\n    } else {\r\n        this.isFullScreen = true;\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().hide();\r\n        getActivity().getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LOW_PROFILE\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n\r\n    }\r\n    getActivity().getWindow().setAttributes(attrs);\r\n    });\r\n\r\nNow, it works well, except that the status bar and action bar spaces keep showing. The activity goes FS (even Android warn me of this) but the space  occupied by those two elements remain.\r\n\r\n**Full screen disabled:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Full screen enabled:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs you can see, the FS one has the top and bottom occupied, so the fragment does not go for a real full screen.\r\n\r\nFragment has the \r\n\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n\r\nSend help please!\r\nThanks in advance.\r\nValerio\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XCw3o.png\r\n  [2]: https://i.stack.imgur.com/UA92R.png","title":"Android set full screen from fragment","body":"<p>This is my question: I have an android app which allows users to go full screen for a better readability. The full screen fab toggle button is placed inside a fragment which actually contains the readings.</p>\n<p>To make it dead simple:</p>\n<ul>\n<li>Main Activity contains Readings Fragment</li>\n<li>Readings Fragment contains a fab button to toggle full screen</li>\n</ul>\n<p>To trigger the full screen I use this snippet:</p>\n<pre><code>this.fullScreenFab.setOnClickListener(v -&gt; {\n    WindowManager.LayoutParams attrs = getActivity().getWindow().getAttributes();\n    if (this.isFullScreen) {\n        this.isFullScreen = false;\n        ((AppCompatActivity) \ngetActivity()).getSupportActionBar().show();\n    getActivity().getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\n\n} else {\n    this.isFullScreen = true;\n    ((AppCompatActivity) getActivity()).getSupportActionBar().hide();\n    getActivity().getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LOW_PROFILE\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n\n}\ngetActivity().getWindow().setAttributes(attrs);\n});\n</code></pre>\n<p>Now, it works well, except that the status bar and action bar spaces keep showing. The activity goes FS (even Android warn me of this) but the space  occupied by those two elements remain.</p>\n<p><strong>Full screen disabled:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/XCw3o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XCw3o.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Full screen enabled:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/UA92R.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UA92R.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the FS one has the top and bottom occupied, so the fragment does not go for a real full screen.</p>\n<p>Fragment has the</p>\n<pre><code>android:fitsSystemWindows=&quot;true&quot;\n</code></pre>\n<p>Send help please!\nThanks in advance.\nValerio</p>\n"},{"tags":["java","math","calculation"],"comments":[{"owner":{"account_id":14612183,"reputation":4799,"user_id":10553341,"display_name":"Damien"},"score":1,"creation_date":1646564196,"post_id":71369556,"comment_id":126150306,"body_markdown":"If `level = n`, then `exp =n*(n+1)/2`. It should help.","body":"If <code>level = n</code>, then <code>exp =n*(n+1)&#47;2</code>. It should help."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1646565414,"post_id":71369556,"comment_id":126150534,"body_markdown":"So to get to to lvl 5 you need `1000 + 2000 + 3000 + 4000 + 5000`. This can be written as `1000 * (1 + 2 + 3 + 4 + 5)`. In other words to get to lvl N you need `1000 * (1 + 2 + .. + N)` and sum of `1 + 2 + .. + N` is `N * (N+1) / 2`. Now you need max N where `EXP &gt;= 1000 * N * (N+1) / 2`.","body":"So to get to to lvl 5 you need <code>1000 + 2000 + 3000 + 4000 + 5000</code>. This can be written as <code>1000 * (1 + 2 + 3 + 4 + 5)</code>. In other words to get to lvl N you need <code>1000 * (1 + 2 + .. + N)</code> and sum of <code>1 + 2 + .. + N</code> is <code>N * (N+1) &#47; 2</code>. Now you need max N where <code>EXP &gt;= 1000 * N * (N+1) &#47; 2</code>."}],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1646564095,"creation_date":1646564095,"answer_id":71369616,"question_id":71369556,"body_markdown":"    int xp=500;\r\n    \r\n    //list of xp land marks to level up[adjust them to your needs]\r\n    int[] checkPoints=\r\n    {\r\n      0,2000,3000,6000\r\n     ,10000,15000,21000,\r\n     ,25000,30000,35000\r\n     ,40000,45000,50000\r\n     ,55000\r\n    };\r\n    \r\n    int level=0;\r\n    for(int i=0;i&lt;checkPoints.length-1;i++)\r\n    {\r\n     /*\r\n      if xp lies with this range then level=i\r\n      example xp=11000 lies between 10000[i=4] &amp;&amp; 15000[i=5]\r\n      so level=4\r\n     */\r\n     if(xp&gt;=checkPoints[i] &amp;&amp; xp&lt;=checkPoints[i+1])\r\n     {\r\n       level=i;\r\n     }\r\n    }\r\n    \r\n    System.out.println(&quot;You are level=&quot;+level);","title":"Level calculation","body":"<pre><code>int xp=500;\n\n//list of xp land marks to level up[adjust them to your needs]\nint[] checkPoints=\n{\n  0,2000,3000,6000\n ,10000,15000,21000,\n ,25000,30000,35000\n ,40000,45000,50000\n ,55000\n};\n\nint level=0;\nfor(int i=0;i&lt;checkPoints.length-1;i++)\n{\n /*\n  if xp lies with this range then level=i\n  example xp=11000 lies between 10000[i=4] &amp;&amp; 15000[i=5]\n  so level=4\n */\n if(xp&gt;=checkPoints[i] &amp;&amp; xp&lt;=checkPoints[i+1])\n {\n   level=i;\n }\n}\n\nSystem.out.println(&quot;You are level=&quot;+level);\n</code></pre>\n"}],"owner":{"account_id":24468625,"reputation":46,"user_id":18388656,"display_name":"GibMirRechte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71369616,"answer_count":1,"score":-1,"last_activity_date":1646564095,"creation_date":1646563559,"question_id":71369556,"body_markdown":"somehow I can&#39;t think of a solution to a problem that is actually quite easy.\r\nIt&#39;s about a level system where I need a kind of formula that is very simple but I can&#39;t think of it.\r\n\r\nI calculate the level from the experience points and there you need e.g. for level 1 1.000 EXP, for level 2 3.000 EXP, level 3 6.000 EXP and so on.\r\n\r\nHopefully it is understandable.\r\n\r\nThe only problem is that it doesn&#39;t go up consistently. \r\nSo for level 2, for example, the 3,000 EXP result from the fact that you already have 1,000 for level 1 and then 2,000 EXP are added (level 2). And at level 3 it is 6,000 because of the 1,000 from level 1, the 2,000 from level 2 and then another 3,000 for level 3.\r\n\r\nIf you take it further, you need 5,000 EXP for level 5, for example, just to get from level 4 to 5, and before that you still have the other EXP of the other levels. This means that you need a total of 15,000 EXP for level 5.\r\n\r\nHere is a list with the levels and the EXP required for them:\r\n```Level 1 -&gt; 1.000\r\nLevel 2 -&gt; 3.000\r\nLevel 3 -&gt; 6.000\r\nLevel 4 -&gt; 10.000\r\nLevel 5 -&gt; 15.000\r\nLevel 6 -&gt; 21.000\r\n...\r\nLevel 10 -&gt; 55.000","title":"Level calculation","body":"<p>somehow I can't think of a solution to a problem that is actually quite easy.\nIt's about a level system where I need a kind of formula that is very simple but I can't think of it.</p>\n<p>I calculate the level from the experience points and there you need e.g. for level 1 1.000 EXP, for level 2 3.000 EXP, level 3 6.000 EXP and so on.</p>\n<p>Hopefully it is understandable.</p>\n<p>The only problem is that it doesn't go up consistently.\nSo for level 2, for example, the 3,000 EXP result from the fact that you already have 1,000 for level 1 and then 2,000 EXP are added (level 2). And at level 3 it is 6,000 because of the 1,000 from level 1, the 2,000 from level 2 and then another 3,000 for level 3.</p>\n<p>If you take it further, you need 5,000 EXP for level 5, for example, just to get from level 4 to 5, and before that you still have the other EXP of the other levels. This means that you need a total of 15,000 EXP for level 5.</p>\n<p>Here is a list with the levels and the EXP required for them:</p>\n<pre><code>Level 2 -&gt; 3.000\nLevel 3 -&gt; 6.000\nLevel 4 -&gt; 10.000\nLevel 5 -&gt; 15.000\nLevel 6 -&gt; 21.000\n...\nLevel 10 -&gt; 55.000\n</code></pre>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646561368,"post_id":71369066,"comment_id":126149809,"body_markdown":"When you decode that text online, you are getting the String `-101001101110`. When you call `new BigInteger(...)` you&#39;re using the values of the bytes which make up the characters in that string as a binary number.","body":"When you decode that text online, you are getting the String <code>-101001101110</code>. When you call <code>new BigInteger(...)</code> you&#39;re using the values of the bytes which make up the characters in that string as a binary number."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646563806,"creation_date":1646560291,"answer_id":71369210,"question_id":71369066,"body_markdown":"[`Base64.Decoder.decode()`](https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Decoder.html#decode-java.lang.String-) produces a byte array, not a string, so you need to convert it. Then you can use the `BigInteger` constructor that accepts a radix to specify base 2:\r\n\r\n``` lang-java\r\nimport java.io.IOException;\r\nimport java.math.BigInteger;\r\nimport java.util.Base64;\r\n\r\npublic class Test\r\n{\r\n    public static void main(String args[]) throws IOException\r\n    {\r\n        String str = &quot;LTEwMTAwMTEwMTExMA==&quot;;\r\n        String str2 = new String(Base64.getDecoder().decode(str), &quot;UTF-8&quot;);\r\n        BigInteger big = new BigInteger(str2, 2);\r\n        System.out.println(big.toString(2));\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\n-101001101110\r\n```\r\n","title":"Base 64 decode to String not as expected","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Decoder.html#decode-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Base64.Decoder.decode()</code></a> produces a byte array, not a string, so you need to convert it. Then you can use the <code>BigInteger</code> constructor that accepts a radix to specify base 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.math.BigInteger;\nimport java.util.Base64;\n\npublic class Test\n{\n    public static void main(String args[]) throws IOException\n    {\n        String str = &quot;LTEwMTAwMTEwMTExMA==&quot;;\n        String str2 = new String(Base64.getDecoder().decode(str), &quot;UTF-8&quot;);\n        BigInteger big = new BigInteger(str2, 2);\n        System.out.println(big.toString(2));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-101001101110\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646561744,"creation_date":1646561744,"answer_id":71369383,"question_id":71369066,"body_markdown":"You have an issue with your String conversions - try this instead:\r\n\r\n    String result = new BigInteger(new String(Base64.getDecoder().decode(encoded.getBytes(&quot;UTF-8&quot;)))).toString();\r\n\r\nBy converting the byte array to String using a new String constructor you&#39;re getting a simple String representation which BigInteger constructor knows how to parse. The result will be the expected ```-101001101110```","title":"Base 64 decode to String not as expected","body":"<p>You have an issue with your String conversions - try this instead:</p>\n<pre><code>String result = new BigInteger(new String(Base64.getDecoder().decode(encoded.getBytes(&quot;UTF-8&quot;)))).toString();\n</code></pre>\n<p>By converting the byte array to String using a new String constructor you're getting a simple String representation which BigInteger constructor knows how to parse. The result will be the expected <code>-101001101110</code></p>\n"}],"owner":{"account_id":2756907,"reputation":143,"user_id":2374720,"accept_rate":75,"display_name":"SciPhy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71369383,"answer_count":2,"score":1,"last_activity_date":1646563806,"creation_date":1646558988,"question_id":71369066,"body_markdown":"I have a String that I want to decode to a binary object (BigInteger or its String)\r\nSay for instance I got the String \r\n\r\n    String str = &quot;LTEwMTAwMTEwMTExMA==&quot;;\r\n\r\nAn now I want to decode it using the Base64.getDecoder() method, such as:\r\n\r\n    String result = new BigInteger(Base64.getDecoder().decode(str.getBytes(&quot;UTF-8&quot;))).toString(2);\r\n\r\nAccording to that, the value of result is \r\n\r\n&gt; 101101001100010011000000110001001100000011000000110001001100010011000000110001001100010011000100110000\r\n\r\nwhich does not match with the result that I obtain using any online decoder:\r\n\r\n&gt; -101001101110\r\n\r\nCould you please help me? what am I doing wrong?\r\nThank you very much!\r\n\r\n","title":"Base 64 decode to String not as expected","body":"<p>I have a String that I want to decode to a binary object (BigInteger or its String)\nSay for instance I got the String</p>\n<pre><code>String str = &quot;LTEwMTAwMTEwMTExMA==&quot;;\n</code></pre>\n<p>An now I want to decode it using the Base64.getDecoder() method, such as:</p>\n<pre><code>String result = new BigInteger(Base64.getDecoder().decode(str.getBytes(&quot;UTF-8&quot;))).toString(2);\n</code></pre>\n<p>According to that, the value of result is</p>\n<blockquote>\n<p>101101001100010011000000110001001100000011000000110001001100010011000000110001001100010011000100110000</p>\n</blockquote>\n<p>which does not match with the result that I obtain using any online decoder:</p>\n<blockquote>\n<p>-101001101110</p>\n</blockquote>\n<p>Could you please help me? what am I doing wrong?\nThank you very much!</p>\n"},{"tags":["java","spring-boot","swagger","swagger-codegen","contract-first"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1580071158,"post_id":59918115,"comment_id":105968324,"body_markdown":"2.2.1 is a very old version, please try 2.4.12.","body":"2.2.1 is a very old version, please try 2.4.12."},{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"score":0,"creation_date":1598368759,"post_id":59918115,"comment_id":112433393,"body_markdown":"@Helen Thanks for your comment, it was assertive to resolve the problem.","body":"@Helen Thanks for your comment, it was assertive to resolve the problem."},{"owner":{"account_id":320671,"reputation":2501,"user_id":639069,"accept_rate":87,"display_name":"R.D."},"score":0,"creation_date":1692203248,"post_id":59918115,"comment_id":135592761,"body_markdown":"I don&#39;t think the issue has been fixed when using the `html` &quot;codegen&quot;.  The generated docs still don&#39;t mention the basePath.\n\nI&#39;m on v3.0.20","body":"I don&#39;t think the issue has been fixed when using the <code>html</code> &quot;codegen&quot;.  The generated docs still don&#39;t mention the basePath.  I&#39;m on v3.0.20"}],"answers":[{"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1598369899,"creation_date":1580087237,"answer_id":59924228,"question_id":59918115,"body_markdown":"Searching more about this, I found the [**issue**][1].\r\n\r\nIt&#39;s a bug fixed by [HugoMario][2] (*[commit][3] referenced on 2 Dec 2019*)\r\n\r\n- [\\[Spring\\] Fixes #5244 Include basePath @RequestMapping in Spring API template][4]\r\n\r\n- Release on [master (#8131)][5] &#187;  [v2.4.12][6] / [v2.4.11][7]\r\n\r\n### And following [Helen][8] suggestion, I update my Swagger Codegen:\r\n\r\n- From &#187; [2.2.1][9] &#187;  old release (*Aug 07, 2016*) \r\n\r\n- To   &#187; [**2.4.12**][6] &#187; **current stable release** (*Jan 15, 2020*)\r\n\r\n&gt; **Summary:**\r\n  &#187; It&#39;s a **bug** of an **outdated version** \r\n&#187; *Now works fine!*\r\n\r\n----------\r\n\r\nMaven dependecy for **`swagger-codegen-maven-plugin`**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**Maven Central Repository** (*check new releases*):\r\n- https://mvnrepository.com/artifact/io.swagger/swagger-codegen-maven-plugin\r\n\r\n----------\r\n\r\n**Update Maven Project** (*Eclipse shortcut **`F5`***) and make a **clean build**:\r\n\r\n    mvn clean verify \r\n    mvn install\r\n\r\n----------\r\n\r\n### Reference:\r\n\r\n- https://github.com/swagger-api/swagger-codegen\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen/issues/5244\r\n  [2]: https://github.com/swagger-api/swagger-codegen/commits?author=HugoMario\r\n  [3]: https://github.com/swagger-api/swagger-codegen/commit/f1569a03092ba28f52c69053e107acd5f01f0467\r\n  [4]: https://github.com/swagger-api/swagger-codegen/pull/8131\r\n  [5]: https://github.com/swagger-api/swagger-codegen/pull/8131/commits/ff11895e80f29f548621448d0fcd3482a7c4ed1e\r\n  [6]: https://github.com/swagger-api/swagger-codegen/releases/tag/v2.4.12\r\n  [7]: https://github.com/swagger-api/swagger-codegen/releases/tag/v2.4.11\r\n  [8]: https://stackoverflow.com/users/113116/helen\r\n  [9]: https://github.com/swagger-api/swagger-codegen/releases/tag/v2.2.1\r\n","title":"Swagger Codegen basePath is being ignored","body":"<p>Searching more about this, I found the <a href=\"https://github.com/swagger-api/swagger-codegen/issues/5244\" rel=\"nofollow noreferrer\"><strong>issue</strong></a>.</p>\n<p>It's a bug fixed by <a href=\"https://github.com/swagger-api/swagger-codegen/commits?author=HugoMario\" rel=\"nofollow noreferrer\">HugoMario</a> (<em><a href=\"https://github.com/swagger-api/swagger-codegen/commit/f1569a03092ba28f52c69053e107acd5f01f0467\" rel=\"nofollow noreferrer\">commit</a> referenced on 2 Dec 2019</em>)</p>\n<ul>\n<li><p><a href=\"https://github.com/swagger-api/swagger-codegen/pull/8131\" rel=\"nofollow noreferrer\">[Spring] Fixes #5244 Include basePath @RequestMapping in Spring API template</a></p>\n</li>\n<li><p>Release on <a href=\"https://github.com/swagger-api/swagger-codegen/pull/8131/commits/ff11895e80f29f548621448d0fcd3482a7c4ed1e\" rel=\"nofollow noreferrer\">master (#8131)</a> »  <a href=\"https://github.com/swagger-api/swagger-codegen/releases/tag/v2.4.12\" rel=\"nofollow noreferrer\">v2.4.12</a> / <a href=\"https://github.com/swagger-api/swagger-codegen/releases/tag/v2.4.11\" rel=\"nofollow noreferrer\">v2.4.11</a></p>\n</li>\n</ul>\n<h3>And following <a href=\"https://stackoverflow.com/users/113116/helen\">Helen</a> suggestion, I update my Swagger Codegen:</h3>\n<ul>\n<li><p>From » <a href=\"https://github.com/swagger-api/swagger-codegen/releases/tag/v2.2.1\" rel=\"nofollow noreferrer\">2.2.1</a> »  old release (<em>Aug 07, 2016</em>)</p>\n</li>\n<li><p>To   » <a href=\"https://github.com/swagger-api/swagger-codegen/releases/tag/v2.4.12\" rel=\"nofollow noreferrer\"><strong>2.4.12</strong></a> » <strong>current stable release</strong> (<em>Jan 15, 2020</em>)</p>\n</li>\n</ul>\n<blockquote>\n<p><strong>Summary:</strong>\n» It's a <strong>bug</strong> of an <strong>outdated version</strong>\n» <em>Now works fine!</em></p>\n</blockquote>\n<hr />\n<p>Maven dependecy for <strong><code>swagger-codegen-maven-plugin</code></strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Maven Central Repository</strong> (<em>check new releases</em>):</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/io.swagger/swagger-codegen-maven-plugin\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.swagger/swagger-codegen-maven-plugin</a></li>\n</ul>\n<hr />\n<p><strong>Update Maven Project</strong> (<em>Eclipse shortcut <strong><code>F5</code></strong></em>) and make a <strong>clean build</strong>:</p>\n<pre><code>mvn clean verify \nmvn install\n</code></pre>\n<hr />\n<h3>Reference:</h3>\n<ul>\n<li><a href=\"https://github.com/swagger-api/swagger-codegen\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen</a></li>\n</ul>\n"}],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5656,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":59924228,"answer_count":1,"score":7,"last_activity_date":1646563582,"creation_date":1580040125,"question_id":59918115,"body_markdown":"I&#39;m trying to generate some web services definitions using **Swagger Codegen &#187; 2.2.1**\r\n\r\nAll configs are working and the classes are generate correctly by my `.yaml` definitions.\r\n\r\n&gt;### Why the property **`basePath`** is being ignored?\r\n\r\n\r\n----------\r\n\r\n\r\nMy `@RestController` generate using only `paths` definition:\r\n\r\n    https://springboot-base-save-return.appdes.xnet/saveBackendReturn\r\n\r\nExpected (using `basePath` and `paths` definitions):\r\n\r\n    https://springboot-base-save-return.appdes.xnet/v1/saveBackendReturn\r\n\r\nWhat am I doing wrong? Did I forget something? \r\n\r\n\r\n----------\r\n\r\n\r\nMy `.yaml` contract:\r\n\r\n\r\n\tswagger: &#39;2.0&#39;\r\n\tinfo:\r\n\t  description: My Project\r\n\t  version: 1.0.0\r\n\t  title: Save Backend Return\r\n\thost: springboot-base-save-return.appdes.xnet\r\n\tbasePath: /v1\r\n\ttags:\r\n\t  - name: saveBackendReturn\r\n\t\tdescription: Save Backend Return\r\n\tschemes:\r\n\t  - https\r\n\tpaths:\r\n\t  /saveBackendReturn:\r\n\t\tpost:\r\n\t\t  tags:\r\n\t\t\t- saveBackendReturn\r\n\t\t  summary: Save Backend Return\r\n\t\t  description: My Project\r\n\t\t  operationId: saveBackendReturn\r\n\t\t  consumes:\r\n\t\t\t- application/json\r\n\t\t  produces:\r\n\t\t\t- application/json\r\n\t\t  parameters:\r\n\t\t\t- in: body\r\n\t\t\t  name: body\r\n\t\t\t  description: My Project\r\n\t\t\t  required: true\r\n\t\t\t  schema:\r\n\t\t\t\t$ref: &#39;#/definitions/saveBackendReturnRequest&#39;\r\n\t\t  responses:\r\n\t\t\t&#39;200&#39;:\r\n\t\t\t  description: Ok\r\n\t\t\t  schema:\r\n\t\t\t\t$ref: &#39;#/definitions/saveBackendReturnResponse&#39;\r\n\t\t\t&#39;400&#39;:\r\n\t\t\t  description: Bad Request\r\n\t\t\t&#39;401&#39;:\r\n\t\t\t  description: Unauthorized\r\n\t\t\t&#39;500&#39;:\r\n\t\t\t  description: Internal Server Error\r\n\t\t\t  schema:\r\n\t\t\t\t$ref: &#39;#/definitions/Error&#39;\r\n\t\t  security:\r\n\t\t\t- basicAuth: []\r\n","title":"Swagger Codegen basePath is being ignored","body":"<p>I'm trying to generate some web services definitions using <strong>Swagger Codegen » 2.2.1</strong></p>\n<p>All configs are working and the classes are generate correctly by my <code>.yaml</code> definitions.</p>\n<blockquote>\n<h3>Why the property <strong><code>basePath</code></strong> is being ignored?</h3>\n</blockquote>\n<hr />\n<p>My <code>@RestController</code> generate using only <code>paths</code> definition:</p>\n<pre><code>https://springboot-base-save-return.appdes.xnet/saveBackendReturn\n</code></pre>\n<p>Expected (using <code>basePath</code> and <code>paths</code> definitions):</p>\n<pre><code>https://springboot-base-save-return.appdes.xnet/v1/saveBackendReturn\n</code></pre>\n<p>What am I doing wrong? Did I forget something?</p>\n<hr />\n<p>My <code>.yaml</code> contract:</p>\n<pre><code>swagger: '2.0'\ninfo:\n  description: My Project\n  version: 1.0.0\n  title: Save Backend Return\nhost: springboot-base-save-return.appdes.xnet\nbasePath: /v1\ntags:\n  - name: saveBackendReturn\n    description: Save Backend Return\nschemes:\n  - https\npaths:\n  /saveBackendReturn:\n    post:\n      tags:\n        - saveBackendReturn\n      summary: Save Backend Return\n      description: My Project\n      operationId: saveBackendReturn\n      consumes:\n        - application/json\n      produces:\n        - application/json\n      parameters:\n        - in: body\n          name: body\n          description: My Project\n          required: true\n          schema:\n            $ref: '#/definitions/saveBackendReturnRequest'\n      responses:\n        '200':\n          description: Ok\n          schema:\n            $ref: '#/definitions/saveBackendReturnResponse'\n        '400':\n          description: Bad Request\n        '401':\n          description: Unauthorized\n        '500':\n          description: Internal Server Error\n          schema:\n            $ref: '#/definitions/Error'\n      security:\n        - basicAuth: []\n</code></pre>\n"},{"tags":["java","postgresql","scala","apache-spark","jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1646564786,"post_id":71369543,"comment_id":126150412,"body_markdown":"Upgrade your JDBC driver","body":"Upgrade your JDBC driver"}],"owner":{"account_id":24468594,"reputation":31,"user_id":18388632,"display_name":"Johhny Effren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1646823353,"answer_count":0,"score":1,"last_activity_date":1646563432,"creation_date":1646563432,"question_id":71369543,"body_markdown":"I am new to postgresql and have been trying to connect my scala projects on Intellij to postgresql but I am getting this error.\r\n\r\n```\r\n[error] org.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the client&#39;\r\ns IP address or subnet, and that it is using an authentication scheme supported by the driver.\r\n[error]         at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:610)\r\n[error]         at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:203)\r\n[error]         at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:65)\r\n[error]         at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:149)\r\n[error]         at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:35)\r\n[error]         at org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\r\n[error]         at org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:47)\r\n[error]         at org.postgresql.jdbc42.AbstractJdbc42Connection.&lt;init&gt;(AbstractJdbc42Connection.java:21)\r\n[error]         at org.postgresql.jdbc42.Jdbc42Connection.&lt;init&gt;(Jdbc42Connection.java:28)\r\n[error]         at org.postgresql.Driver.makeConnection(Driver.java:415)\r\n[error]         at org.postgresql.Driver.connect(Driver.java:282)\r\n[error]         at slick.jdbc.DriverDataSource.getConnection(DriverDataSource.scala:101)\r\n[error]         at slick.jdbc.DataSourceJdbcDataSource.createConnection(JdbcDataSource.scala:68)\r\n[error]         at slick.jdbc.JdbcBackend$BaseSession.&lt;init&gt;(JdbcBackend.scala:494)\r\n[error]         at slick.jdbc.JdbcBackend$DatabaseDef.createSession(JdbcBackend.scala:46)\r\n[error]         at slick.jdbc.JdbcBackend$DatabaseDef.createSession(JdbcBackend.scala:37)\r\n[error]         at slick.basic.BasicBackend$DatabaseDef.acquireSession(BasicBackend.scala:250)\r\n[error]         at slick.basic.BasicBackend$DatabaseDef.acquireSession$(BasicBackend.scala:249)\r\n[error]         at slick.jdbc.JdbcBackend$DatabaseDef.acquireSession(JdbcBackend.scala:37)\r\n[error]         at slick.basic.BasicBackend$DatabaseDef$$anon$3.run(BasicBackend.scala:275)\r\n[error]         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n[error]         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n[error]         at java.base/java.lang.Thread.run(Thread.java:833)\r\n[error] (slick) org.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the\r\n client&#39;s IP address or subnet, and that it is using an authentication scheme supported by the driver.\r\n```\r\n\r\nI have already configure the pg_hba file but still could not get it running. \r\n\r\nPlease Suggest me a solution for this problem.\r\n\r\n```\r\n\r\n# &quot;local&quot; is for Unix domain socket connections only\r\nlocal   all             all                                     scram-sha-256\r\n# IPv4 local connections:\r\nhost    all             all             127.0.0.1/32            trust\r\n# IPv6 local connections:\r\nhost    all             all             ::1/128                 scram-sha-256\r\n# Allow replication connections from localhost, by a user with the\r\n# replication privilege.\r\nlocal   replication     all                                     scram-sha-256\r\nhost    replication     all             127.0.0.1/32            scram-sha-256\r\nhost    replication     all             ::1/128                 scram-sha-256\r\n```\r\n","title":"Type 10 is not supported error on intellij when I trying to run my code with postgresql","body":"<p>I am new to postgresql and have been trying to connect my scala projects on Intellij to postgresql but I am getting this error.</p>\n<pre><code>[error] org.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the client'\ns IP address or subnet, and that it is using an authentication scheme supported by the driver.\n[error]         at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:610)\n[error]         at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:203)\n[error]         at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:65)\n[error]         at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:149)\n[error]         at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:35)\n[error]         at org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\n[error]         at org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:47)\n[error]         at org.postgresql.jdbc42.AbstractJdbc42Connection.&lt;init&gt;(AbstractJdbc42Connection.java:21)\n[error]         at org.postgresql.jdbc42.Jdbc42Connection.&lt;init&gt;(Jdbc42Connection.java:28)\n[error]         at org.postgresql.Driver.makeConnection(Driver.java:415)\n[error]         at org.postgresql.Driver.connect(Driver.java:282)\n[error]         at slick.jdbc.DriverDataSource.getConnection(DriverDataSource.scala:101)\n[error]         at slick.jdbc.DataSourceJdbcDataSource.createConnection(JdbcDataSource.scala:68)\n[error]         at slick.jdbc.JdbcBackend$BaseSession.&lt;init&gt;(JdbcBackend.scala:494)\n[error]         at slick.jdbc.JdbcBackend$DatabaseDef.createSession(JdbcBackend.scala:46)\n[error]         at slick.jdbc.JdbcBackend$DatabaseDef.createSession(JdbcBackend.scala:37)\n[error]         at slick.basic.BasicBackend$DatabaseDef.acquireSession(BasicBackend.scala:250)\n[error]         at slick.basic.BasicBackend$DatabaseDef.acquireSession$(BasicBackend.scala:249)\n[error]         at slick.jdbc.JdbcBackend$DatabaseDef.acquireSession(JdbcBackend.scala:37)\n[error]         at slick.basic.BasicBackend$DatabaseDef$$anon$3.run(BasicBackend.scala:275)\n[error]         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n[error]         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n[error]         at java.base/java.lang.Thread.run(Thread.java:833)\n[error] (slick) org.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the\n client's IP address or subnet, and that it is using an authentication scheme supported by the driver.\n</code></pre>\n<p>I have already configure the pg_hba file but still could not get it running.</p>\n<p>Please Suggest me a solution for this problem.</p>\n<pre><code>\n# &quot;local&quot; is for Unix domain socket connections only\nlocal   all             all                                     scram-sha-256\n# IPv4 local connections:\nhost    all             all             127.0.0.1/32            trust\n# IPv6 local connections:\nhost    all             all             ::1/128                 scram-sha-256\n# Allow replication connections from localhost, by a user with the\n# replication privilege.\nlocal   replication     all                                     scram-sha-256\nhost    replication     all             127.0.0.1/32            scram-sha-256\nhost    replication     all             ::1/128                 scram-sha-256\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646563416,"creation_date":1646563416,"answer_id":71369541,"question_id":71368425,"body_markdown":"There are a few things about this that aren&#39;t going to work:\r\n\r\nIn the implementation of any user function (such as a `ProcessFunction`) you cannot have a `DataStream`, or a `Table`, or a `StreamExecutionEnvironment`, or another `ProcessFunction`. All you can do is react to an incoming stream record, optionally using state you have built up inside that function based on the previously processed records.\r\n\r\nThe `DataStream` and `Table` APIs are organized around a builder paradigm, with which you are describing a streaming dataflow pipeline. This pipeline must be a directed acyclic graph: it can split and merge but must flow from sources to sinks without any loops. The stages of that pipeline (e.g., a `ProcessFunction`) must be coded as independent blocks -- they cannot reach outside of themselves to access data from other pipeline stages. \r\n\r\nThis paradigm isn&#39;t well suited for the purpose of training machine learning models (since training involves iterating/looping). If that&#39;s your objective, maybe take a look at https://github.com/apache/flink-ml.","title":"Flink error with &#39;The implementation of the StreamExecutionEnvironment is not serializable&#39;","body":"<p>There are a few things about this that aren't going to work:</p>\n<p>In the implementation of any user function (such as a <code>ProcessFunction</code>) you cannot have a <code>DataStream</code>, or a <code>Table</code>, or a <code>StreamExecutionEnvironment</code>, or another <code>ProcessFunction</code>. All you can do is react to an incoming stream record, optionally using state you have built up inside that function based on the previously processed records.</p>\n<p>The <code>DataStream</code> and <code>Table</code> APIs are organized around a builder paradigm, with which you are describing a streaming dataflow pipeline. This pipeline must be a directed acyclic graph: it can split and merge but must flow from sources to sinks without any loops. The stages of that pipeline (e.g., a <code>ProcessFunction</code>) must be coded as independent blocks -- they cannot reach outside of themselves to access data from other pipeline stages.</p>\n<p>This paradigm isn't well suited for the purpose of training machine learning models (since training involves iterating/looping). If that's your objective, maybe take a look at <a href=\"https://github.com/apache/flink-ml\" rel=\"nofollow noreferrer\">https://github.com/apache/flink-ml</a>.</p>\n"}],"owner":{"account_id":24466903,"reputation":15,"user_id":18387134,"display_name":"zsmlqlj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71369541,"answer_count":1,"score":0,"last_activity_date":1646563416,"creation_date":1646551593,"question_id":71368425,"body_markdown":"I am a beginner of Flink, and I tried to use Flink to run LFM, one of the recommended algorithms, but the following errors appeared in my code when it was running. I tried to find and modify them, but they were not solved. Could someone tell me why I had problems? \r\n\r\n**Here are my main exception**\r\n\r\n    The implementation of the StreamExecutionEnvironment is not serializable\r\n    \r\n\r\n**And my code here**\r\n\r\nNoted that `sourceDataStream` is from my custom source extends `RichFunction&lt;Tuple3&lt;&gt;&gt;`\r\n\r\n``` java\r\n//training model\r\nfor (int iter = 0; iter &lt; iterations; iter++) {\r\n    sourceDataStream\r\n        // the exception appears here\r\n        .process(new ProcessFunction&lt;Tuple3&lt;String, String, Double&gt;, Object&gt;() {\r\n            @Override\r\n            public void processElement(Tuple3&lt;String, String, Double&gt; in,\r\n                                                   ProcessFunction&lt;Tuple3&lt;String, String, Double&gt;, Object&gt;.Context context,\r\n                                                   Collector&lt;Object&gt; collector) throws Exception {\r\n\r\n                Double hat_rui = predict(in.f0, in.f1, qbiTable, pbuTable, streamTableEnvironment);\r\n                Double err_ui = in.f2 - hat_rui;\r\n                Table pbuSelectTable = pbuTable.select($(&quot;buValue&quot;), $(&quot;pList&quot;)).where($(&quot;userId&quot;).isEqual(in.f0));\r\n                Table qbiSelectTable = qbiTable.select($(&quot;biValue&quot;), $(&quot;qList&quot;)).where($(&quot;itemId&quot;).isEqual(in.f1));\r\n\r\n                DataStream&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;&gt; pbuSelectDataStream = streamTableEnvironment.toRetractStream(pbuSelectTable, new TupleTypeInfo&lt;&gt;(Types.BOOLEAN, Types.DOUBLE, Types.LIST(Types.DOUBLE)));\r\n                pbuSelectDataStream.process(new ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;() {\r\n\r\n                @Override\r\n                public void processElement(Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt; userTuple,\r\n                                                           ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;.Context context,\r\n                                                           Collector&lt;Object&gt; collector) throws Exception {\r\n\r\n                    DataStream&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;&gt; qbiSelectDataStream = streamTableEnvironment.toRetractStream(qbiSelectTable, new TupleTypeInfo&lt;&gt;(Types.BOOLEAN, Types.DOUBLE, Types.LIST(Types.DOUBLE)));\r\n                    qbiSelectDataStream.process(new ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;() {\r\n\r\n                        @Override\r\n                        public void processElement(Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt; itemTuple, ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;.Context context, Collector&lt;Object&gt; collector) throws Exception {\r\n\r\n                            double bu = userTuple.f1.f0 + (alpha * (err_ui - lambd * userTuple.f1.f0));\r\n                            double bi = itemTuple.f1.f0 + (alpha * (err_ui - lambd * itemTuple.f1.f0));\r\n\r\n                            List&lt;Double&gt; pList = new ArrayList&lt;&gt;();\r\n                            List&lt;Double&gt; qList = new ArrayList&lt;&gt;();\r\n                            for (int fIter = 0; fIter &lt; F; fIter++) {\r\n                                Double pValueLast = userTuple.f1.f1.get(fIter);\r\n                                Double qValueLast = itemTuple.f1.f1.get(fIter);\r\n                                Double qValueNew = qValueLast + (alpha * (err_ui * pValueLast - lambd * qValueLast));\r\n                                Double pValueNew = pValueLast + (alpha * (err_ui * qValueLast - lambd * pValueLast));\r\n                                pList.add(pValueNew);\r\n                                qList.add(qValueNew);\r\n                            }\r\n                            streamTableEnvironment.executeSql(&quot;INSERT OVERWRITE qbiTable VALUES (&#39;qList&#39;, &quot; + qList + &quot;), (&#39;biValue&#39;, &quot; + bi + &quot;)&quot;);\r\n                            streamTableEnvironment.executeSql(&quot;INSERT OVERWRITE pbuTable VALUES (&#39;pList&#39;, &quot; + pList + &quot;), (&#39;buValue&#39;, &quot; + bu + &quot;)&quot;);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n```","title":"Flink error with &#39;The implementation of the StreamExecutionEnvironment is not serializable&#39;","body":"<p>I am a beginner of Flink, and I tried to use Flink to run LFM, one of the recommended algorithms, but the following errors appeared in my code when it was running. I tried to find and modify them, but they were not solved. Could someone tell me why I had problems?</p>\n<p><strong>Here are my main exception</strong></p>\n<pre><code>The implementation of the StreamExecutionEnvironment is not serializable\n</code></pre>\n<p><strong>And my code here</strong></p>\n<p>Noted that <code>sourceDataStream</code> is from my custom source extends <code>RichFunction&lt;Tuple3&lt;&gt;&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>//training model\nfor (int iter = 0; iter &lt; iterations; iter++) {\n    sourceDataStream\n        // the exception appears here\n        .process(new ProcessFunction&lt;Tuple3&lt;String, String, Double&gt;, Object&gt;() {\n            @Override\n            public void processElement(Tuple3&lt;String, String, Double&gt; in,\n                                                   ProcessFunction&lt;Tuple3&lt;String, String, Double&gt;, Object&gt;.Context context,\n                                                   Collector&lt;Object&gt; collector) throws Exception {\n\n                Double hat_rui = predict(in.f0, in.f1, qbiTable, pbuTable, streamTableEnvironment);\n                Double err_ui = in.f2 - hat_rui;\n                Table pbuSelectTable = pbuTable.select($(&quot;buValue&quot;), $(&quot;pList&quot;)).where($(&quot;userId&quot;).isEqual(in.f0));\n                Table qbiSelectTable = qbiTable.select($(&quot;biValue&quot;), $(&quot;qList&quot;)).where($(&quot;itemId&quot;).isEqual(in.f1));\n\n                DataStream&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;&gt; pbuSelectDataStream = streamTableEnvironment.toRetractStream(pbuSelectTable, new TupleTypeInfo&lt;&gt;(Types.BOOLEAN, Types.DOUBLE, Types.LIST(Types.DOUBLE)));\n                pbuSelectDataStream.process(new ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;() {\n\n                @Override\n                public void processElement(Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt; userTuple,\n                                                           ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;.Context context,\n                                                           Collector&lt;Object&gt; collector) throws Exception {\n\n                    DataStream&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;&gt; qbiSelectDataStream = streamTableEnvironment.toRetractStream(qbiSelectTable, new TupleTypeInfo&lt;&gt;(Types.BOOLEAN, Types.DOUBLE, Types.LIST(Types.DOUBLE)));\n                    qbiSelectDataStream.process(new ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;() {\n\n                        @Override\n                        public void processElement(Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt; itemTuple, ProcessFunction&lt;Tuple2&lt;Boolean, Tuple2&lt;Double, List&lt;Double&gt;&gt;&gt;, Object&gt;.Context context, Collector&lt;Object&gt; collector) throws Exception {\n\n                            double bu = userTuple.f1.f0 + (alpha * (err_ui - lambd * userTuple.f1.f0));\n                            double bi = itemTuple.f1.f0 + (alpha * (err_ui - lambd * itemTuple.f1.f0));\n\n                            List&lt;Double&gt; pList = new ArrayList&lt;&gt;();\n                            List&lt;Double&gt; qList = new ArrayList&lt;&gt;();\n                            for (int fIter = 0; fIter &lt; F; fIter++) {\n                                Double pValueLast = userTuple.f1.f1.get(fIter);\n                                Double qValueLast = itemTuple.f1.f1.get(fIter);\n                                Double qValueNew = qValueLast + (alpha * (err_ui * pValueLast - lambd * qValueLast));\n                                Double pValueNew = pValueLast + (alpha * (err_ui * qValueLast - lambd * pValueLast));\n                                pList.add(pValueNew);\n                                qList.add(qValueNew);\n                            }\n                            streamTableEnvironment.executeSql(&quot;INSERT OVERWRITE qbiTable VALUES ('qList', &quot; + qList + &quot;), ('biValue', &quot; + bi + &quot;)&quot;);\n                            streamTableEnvironment.executeSql(&quot;INSERT OVERWRITE pbuTable VALUES ('pList', &quot; + pList + &quot;), ('buValue', &quot; + bu + &quot;)&quot;);\n                        }\n                    });\n                }\n            });\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":12607225,"reputation":985,"user_id":9167710,"display_name":"cgb_pandey"},"score":0,"creation_date":1646533467,"post_id":71367031,"comment_id":126146320,"body_markdown":"You are setting **OnItemSelectedListener** so when there is no any item, it&#39;s not invoked I think. Did you try setting **OnClickListener** instead?","body":"You are setting <b>OnItemSelectedListener</b> so when there is no any item, it&#39;s not invoked I think. Did you try setting <b>OnClickListener</b> instead?"},{"owner":{"display_name":"user18386022"},"score":0,"creation_date":1646552644,"post_id":71367031,"comment_id":126148426,"body_markdown":"yea it throws an error. Inface `onClickListener` isn&#39;t allowed on spinners.","body":"yea it throws an error. Inface <code>onClickListener</code> isn&#39;t allowed on spinners."}],"answers":[{"tags":[],"owner":{"account_id":12607225,"reputation":985,"user_id":9167710,"display_name":"cgb_pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646563273,"creation_date":1646563273,"answer_id":71369528,"question_id":71367031,"body_markdown":"You can register `TouchListener` to set `Adapter` for the `Spinner` on the first click like in the code snippet shown below:\r\n\r\n    \r\n\r\n    \r\n\r\n    // array list to populate the spinner&#39;s item\r\n    List &lt; String &gt; array = new ArrayList &lt; &gt; ();\r\n    array.add(&quot;Nepal&quot;);\r\n    array.add(&quot;India&quot;);\r\n    array.add(&quot;China&quot;);\r\n    \r\n    // create adapter instance from the array list\r\n    ArrayAdapter &lt; String &gt; adapter = new ArrayAdapter &lt; &gt; (requireContext(),\r\n        android.R.layout.simple_spinner_item, array);\r\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n    \r\n    // register on item selected listener as usual\r\n    binding.testSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n        @Override\r\n        public void onItemSelected(AdapterView &lt;&lt; ? &gt; parent, View view, int position, long id) {\r\n            Toast.makeText(requireContext(), array.get(position), Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        @Override\r\n        public void onNothingSelected(AdapterView &lt;&lt; ? &gt; parent) {}\r\n    });\r\n    \r\n    // set on touch listener as we cant set onclick listener in spinner\r\n    // because it is made to throw exception\r\n    binding.testSpinner.setOnTouchListener((v, event) - &gt; {\r\n        // set the adapter in the touch event\r\n        // ACTION_UP occurs when user releases the finger\r\n        if (event.getAction() == MotionEvent.ACTION_UP) {\r\n            binding.testSpinner.setAdapter(adapter);\r\n        }\r\n        // return false as we dont want to consume the event\r\n        // but want to allow it to propagate in the parent view hierarchy\r\n        return false;\r\n    });\r\n\r\n\r\n","title":"How do I populate a spinner inside spinner.setOnItemSelectedListener(...)?","body":"<p>You can register <code>TouchListener</code> to set <code>Adapter</code> for the <code>Spinner</code> on the first click like in the code snippet shown below:</p>\n<pre><code>// array list to populate the spinner's item\nList &lt; String &gt; array = new ArrayList &lt; &gt; ();\narray.add(&quot;Nepal&quot;);\narray.add(&quot;India&quot;);\narray.add(&quot;China&quot;);\n\n// create adapter instance from the array list\nArrayAdapter &lt; String &gt; adapter = new ArrayAdapter &lt; &gt; (requireContext(),\n    android.R.layout.simple_spinner_item, array);\nadapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n// register on item selected listener as usual\nbinding.testSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n    @Override\n    public void onItemSelected(AdapterView &lt;&lt; ? &gt; parent, View view, int position, long id) {\n        Toast.makeText(requireContext(), array.get(position), Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView &lt;&lt; ? &gt; parent) {}\n});\n\n// set on touch listener as we cant set onclick listener in spinner\n// because it is made to throw exception\nbinding.testSpinner.setOnTouchListener((v, event) - &gt; {\n    // set the adapter in the touch event\n    // ACTION_UP occurs when user releases the finger\n    if (event.getAction() == MotionEvent.ACTION_UP) {\n        binding.testSpinner.setAdapter(adapter);\n    }\n    // return false as we dont want to consume the event\n    // but want to allow it to propagate in the parent view hierarchy\n    return false;\n});\n</code></pre>\n"}],"owner":{"display_name":"user18386022"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646563273,"creation_date":1646529047,"question_id":71367031,"body_markdown":"As the title puts my query, I want to populate my spinner only when the user clicks it i.e., the spinner will initially be empty, when the user clicks it then and only then should all the items show. I tried out the following code:\r\n\r\n    if (spin1 != null) {\r\n         spin1.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n         @Override\r\n         public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n             ArrayList&lt;String&gt; arr=new ArrayList&lt;String&gt;();\r\n             arr.add(&quot;Hello&quot;);\r\n             arr.add(&quot;Hey&quot;);\r\n             arr.add(&quot;Yo&quot;);\r\n             ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(view.getContext(), android.R.layout.simple_spinner_item,arr);\r\n             adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n             assert spin1 != null;\r\n             spin1.setAdapter(adapter);\r\n        }\r\n    \r\n        @Override\r\n        public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {}\r\n        });\r\n    }\r\n\r\nBut my above code is not working. The spinner is empty when I click on it. Can you please tell me why and how to fix this issue?","title":"How do I populate a spinner inside spinner.setOnItemSelectedListener(...)?","body":"<p>As the title puts my query, I want to populate my spinner only when the user clicks it i.e., the spinner will initially be empty, when the user clicks it then and only then should all the items show. I tried out the following code:</p>\n<pre><code>if (spin1 != null) {\n     spin1.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n     @Override\n     public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n         ArrayList&lt;String&gt; arr=new ArrayList&lt;String&gt;();\n         arr.add(&quot;Hello&quot;);\n         arr.add(&quot;Hey&quot;);\n         arr.add(&quot;Yo&quot;);\n         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(view.getContext(), android.R.layout.simple_spinner_item,arr);\n         adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n         assert spin1 != null;\n         spin1.setAdapter(adapter);\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {}\n    });\n}\n</code></pre>\n<p>But my above code is not working. The spinner is empty when I click on it. Can you please tell me why and how to fix this issue?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18881755,"reputation":60,"user_id":18090202,"display_name":"Fakhrul Siddiqei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646563177,"creation_date":1646563177,"answer_id":71369512,"question_id":71369371,"body_markdown":"You can turn off notification sound by setting your notification priority to low, \r\n\r\n\r\n    NotificationCompat.Builder mBuilder = new \r\n    NotificationCompat.Builder(this, CHANNEL_ID)\r\n            .setSmallIcon(R.drawable.notification_icon)\r\n            .setContentTitle(&quot;My notification&quot;)\r\n            .setContentText(&quot;Hello World!&quot;)\r\n             // You must set the priority to support Android 7.1 and lower\r\n            .setPriority(NotificationCompat.PRIORITY_LOW) // Set priority to \r\n             PRIORITY_LOW to mute notification sound \r\n            .setContentIntent(pendingIntent)\r\n            .setAutoCancel(true); \r\n\r\nAnother thing you can do,\r\n\r\n    myNotification.defaults = 0;\r\n\r\nOr if you want to set your priority high and mute notification sound use,\r\n\r\n    NotificationCompat.Builder.setNotificationSilent()\r\n\r\nthen create your notification, \r\n\r\n    val builder = NotificationCompat.Builder(this, CHANNEL_ID)\r\n                    .setContentText(&quot;text&quot;)\r\n                    .setContentTitle(&quot;content&quot;)\r\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                    .setNotificationSilent() // just keep this line\r\n                    .setSmallIcon(R.drawable.logo)\r\n                    .setTicker(&quot;text&quot;))\r\n    \r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    builder.setChannelId(CHANNEL_ID)\r\n                }\r\n\r\nDo not forget to uninstall and install the application","title":"Turn off notification sounds programmatically after button click on Android Studio","body":"<p>You can turn off notification sound by setting your notification priority to low,</p>\n<pre><code>NotificationCompat.Builder mBuilder = new \nNotificationCompat.Builder(this, CHANNEL_ID)\n        .setSmallIcon(R.drawable.notification_icon)\n        .setContentTitle(&quot;My notification&quot;)\n        .setContentText(&quot;Hello World!&quot;)\n         // You must set the priority to support Android 7.1 and lower\n        .setPriority(NotificationCompat.PRIORITY_LOW) // Set priority to \n         PRIORITY_LOW to mute notification sound \n        .setContentIntent(pendingIntent)\n        .setAutoCancel(true); \n</code></pre>\n<p>Another thing you can do,</p>\n<pre><code>myNotification.defaults = 0;\n</code></pre>\n<p>Or if you want to set your priority high and mute notification sound use,</p>\n<pre><code>NotificationCompat.Builder.setNotificationSilent()\n</code></pre>\n<p>then create your notification,</p>\n<pre><code>val builder = NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentText(&quot;text&quot;)\n                .setContentTitle(&quot;content&quot;)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setNotificationSilent() // just keep this line\n                .setSmallIcon(R.drawable.logo)\n                .setTicker(&quot;text&quot;))\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                builder.setChannelId(CHANNEL_ID)\n            }\n</code></pre>\n<p>Do not forget to uninstall and install the application</p>\n"}],"owner":{"account_id":21427479,"reputation":63,"user_id":15784542,"display_name":"Haechan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646563177,"creation_date":1646561619,"question_id":71369371,"body_markdown":"I have only seen ways on how to hide a notification but not anything related to turning off sounds yet. How do I turn off/on the notification sounds from different apps installed on a device, programmatically with a button click? Is it possible for API 29 and higher versions?","title":"Turn off notification sounds programmatically after button click on Android Studio","body":"<p>I have only seen ways on how to hide a notification but not anything related to turning off sounds yet. How do I turn off/on the notification sounds from different apps installed on a device, programmatically with a button click? Is it possible for API 29 and higher versions?</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646571718,"post_id":71369281,"comment_id":126151764,"body_markdown":"Check if `log.getName()` does not return `null`.","body":"Check if <code>log.getName()</code> does not return <code>null</code>."},{"owner":{"account_id":24468262,"reputation":1,"user_id":18388332,"display_name":"Ajith Kamath"},"score":0,"creation_date":1646626845,"post_id":71369281,"comment_id":126162072,"body_markdown":"No.. It is returning some value .. Even i hadrcoded the value and checkd it.. just to ensure. But still it is throwing the same error","body":"No.. It is returning some value .. Even i hadrcoded the value and checkd it.. just to ensure. But still it is throwing the same error"}],"owner":{"account_id":24468262,"reputation":1,"user_id":18388332,"display_name":"Ajith Kamath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646560848,"creation_date":1646560848,"question_id":71369281,"body_markdown":"When i run the application log4j2 gives below exception\r\n\r\n    java.lang.NullPointerException: name\r\n            at java.util.Objects.requireNonNull(Objects.java:228)\r\n            at org.apache.logging.log4j.core.appender.AbstractAppender.&lt;init&gt;(AbstractAppender.java:211)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.&lt;init&gt;(AbstractOutputStreamAppender.java:138)\r\n            at org.apache.logging.log4j.core.appender.FileAppender.&lt;init&gt;(FileAppender.java:259)\r\n            at org.apache.logging.log4j.core.appender.FileAppender.&lt;init&gt;(FileAppender.java:42)\r\n            at org.apache.logging.log4j.core.appender.FileAppender$Builder.build(FileAppender.java:104)\r\n\r\n\r\nMy Log4j2 Properties\r\n\r\n    logger.test.name = test\r\n    logger.test.level = INFO\r\n    logger.test.appenderRef.$1.ref = test\r\n    logger.test.additivity = false\r\n    appender.test.type = File\r\n    appender.test.name = test\r\n    appender.test.fileName = ssp1.log\r\n    appender.test.layout.type = PatternLayout\r\n    appender.test.layout.pattern = %-5p %d - %m%n\r\n\r\n\r\nand my Java code is \r\n\r\n    a = FileAppender.newBuilder().withFileName(m_basedir + File.separator + &quot;logs&quot; + File.separator + stamp + &quot;.log&quot;).withAppend(false).setName(log.getName()).build();\r\n    a.start();\r\n\r\n\r\n\r\n\r\n","title":"Error in programmatically creating FileAppender using log4j2 . Giving NULLPointer exception","body":"<p>When i run the application log4j2 gives below exception</p>\n<pre><code>java.lang.NullPointerException: name\n        at java.util.Objects.requireNonNull(Objects.java:228)\n        at org.apache.logging.log4j.core.appender.AbstractAppender.&lt;init&gt;(AbstractAppender.java:211)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.&lt;init&gt;(AbstractOutputStreamAppender.java:138)\n        at org.apache.logging.log4j.core.appender.FileAppender.&lt;init&gt;(FileAppender.java:259)\n        at org.apache.logging.log4j.core.appender.FileAppender.&lt;init&gt;(FileAppender.java:42)\n        at org.apache.logging.log4j.core.appender.FileAppender$Builder.build(FileAppender.java:104)\n</code></pre>\n<p>My Log4j2 Properties</p>\n<pre><code>logger.test.name = test\nlogger.test.level = INFO\nlogger.test.appenderRef.$1.ref = test\nlogger.test.additivity = false\nappender.test.type = File\nappender.test.name = test\nappender.test.fileName = ssp1.log\nappender.test.layout.type = PatternLayout\nappender.test.layout.pattern = %-5p %d - %m%n\n</code></pre>\n<p>and my Java code is</p>\n<pre><code>a = FileAppender.newBuilder().withFileName(m_basedir + File.separator + &quot;logs&quot; + File.separator + stamp + &quot;.log&quot;).withAppend(false).setName(log.getName()).build();\na.start();\n</code></pre>\n"},{"tags":["java","security","permissions","jsm"],"comments":[{"owner":{"display_name":"user166390"},"score":0,"creation_date":1346861156,"post_id":12285469,"comment_id":16478280,"body_markdown":"It is possible, with enough permissions and native code, I believe. See &quot;lsof&quot; in Linux or &quot;Winternals Process Explorer&quot; in Windows (it can enumerate file-handles). Not sure if there are .. less extreme ways or how reliable they are across all FDs.","body":"It is possible, with enough permissions and native code, I believe. See &quot;lsof&quot; in Linux or &quot;Winternals Process Explorer&quot; in Windows (it can enumerate file-handles). Not sure if there are .. less extreme ways or how reliable they are across all FDs."},{"owner":{"account_id":1798689,"reputation":55,"user_id":1637512,"display_name":"walker"},"score":0,"creation_date":1346869452,"post_id":12285469,"comment_id":16481734,"body_markdown":"I was afraid it would probably involve something like that. Thanks, I&#39;ll consider this when looking at possible solutions.","body":"I was afraid it would probably involve something like that. Thanks, I&#39;ll consider this when looking at possible solutions."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1346889855,"post_id":12285469,"comment_id":16488347,"body_markdown":"It may not even *have* a path. Consider a socket, or an unnamed pipe.","body":"It may not even <i>have</i> a path. Consider a socket, or an unnamed pipe."}],"answers":[{"tags":[],"owner":{"account_id":1810774,"reputation":592,"user_id":1646887,"display_name":"parsifal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1346865878,"creation_date":1346865878,"answer_id":12286701,"question_id":12285469,"body_markdown":"The short answer is no, because a file is independent from the path used to access that file (at least on any OS that matters).\r\n\r\nOne possible work-around is to trap the calls that open files, using an aspect framework, and put the referenced file descriptors into a `WeakHashMap&lt;FileDescriptor,File&gt;`. Then you simply look at this map whenever you need to validate a write.","title":"Get path from FileDescriptor in Java","body":"<p>The short answer is no, because a file is independent from the path used to access that file (at least on any OS that matters).</p>\n\n<p>One possible work-around is to trap the calls that open files, using an aspect framework, and put the referenced file descriptors into a <code>WeakHashMap&lt;FileDescriptor,File&gt;</code>. Then you simply look at this map whenever you need to validate a write.</p>\n"},{"tags":[],"owner":{"account_id":13310459,"reputation":141,"user_id":9608890,"display_name":"Anand Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557818570,"creation_date":1557814757,"answer_id":56124116,"question_id":12285469,"body_markdown":"the solution to get the path from **FileDescriptor** in java:\r\n\r\n**How it works:**\r\n\r\nWe know that file descriptor contains descriptor id to locate the open file in the current process. \r\n\r\nhttps://stackoverflow.com/questions/5256599/what-are-file-descriptors-explained-in-simple-terms\r\n\r\nif we know the descriptor id then we can easily find file path by following java code:\r\n\r\n    Path path = Paths.get(&quot;/proc/self/fd/&quot;+fd_id);\r\n    System.out.println(Files.readSymbolicLink(path)); //return file path in file descriptor\r\n\r\nHere:\r\n    \r\n\r\n&gt; fd_id file descriptor id (0,1,2 .....)\r\n&gt; \r\n&gt; /proc its a Directory contains all process running in system\r\n&gt; \r\n&gt; /self currently running java class process id \r\n&gt; \r\n&gt; /fd file descriptor directory\r\n&gt; \r\n&gt; //fd_id file descriptor id\r\n\r\n***SafeFileDescriptor.java***\r\n\r\n    import java.io.FileDescriptor;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\t\r\n    public class SafeFileDescriptor {\r\n    \r\n     static {\r\n    \tSystem.load(&quot;Documents/java native interface exmples/libSafeFileDescriptor.so&quot;);\r\n    }\r\n    \r\n    private native int getFDid(FileDescriptor fd);\r\n    \r\n    public static void main(String[] args) throws IOException{\t\r\n    \tFileOutputStream fout = new FileOutputStream(&quot;Documents/test.txt&quot;);\r\n    \tFileDescriptor fd=fout.getFD();\r\n    \tint fd_id = new SafeFileDescriptor().getFDid(fd);\r\n    \tPath path = Paths.get(&quot;/proc/self/fd/&quot;+fd_id);\r\n    \tSystem.out.println(Files.readSymbolicLink(path));\r\n    }\r\n    }\r\n\r\n`getFDid()` is a native method used to get descriptor id of the given file descriptor object \r\n\r\nfollowing code is implementation of `getFDid()` native method\r\n\r\n***SafeFileDescriptor.h***\r\n\r\n    /* DO NOT EDIT THIS FILE - it is machine generated */\r\n    #include &lt;jni.h&gt;\r\n    /* Header for class SafeFileDescriptor */\r\n    \r\n    #ifndef _Included_SafeFileDescriptor\r\n    #define _Included_SafeFileDescriptor\r\n    #ifdef __cplusplus\r\n    extern &quot;C&quot; {\r\n    #endif\r\n    /*\r\n     * Class:     SafeFileDescriptor\r\n     * Method:    getFDid\r\n     * Signature: (Ljava/io/FileDescriptor;)I\r\n     */\r\n    JNIEXPORT jint JNICALL Java_SafeFileDescriptor_getFDid\r\n      (JNIEnv *, jobject, jobject);\r\n    \r\n    #ifdef __cplusplus\r\n    }\r\n    #endif\r\n    #endif\r\n\r\ncreate SafeFileDescriptor.h from java file SafeFileDescriptor.java\r\n\r\n    javac -h dir SafeFileDescriptor.java\r\n\r\nreplace &quot;dir&quot; with your directory to store SafeFileDescriptor.h\r\n\r\n***SafeFileDescriptor.c***\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &quot;SafeFileDescriptor.h&quot;\r\n    \r\n    JNIEXPORT jint JNICALL Java_SafeFileDescriptor_getFDid\r\n      (JNIEnv *env, jobject this_object, jobject fdObject) {\r\n    \r\n    \tjclass fileDescriptor = (*env)-&gt;GetObjectClass(env,fdObject);\r\n    \t\r\n    \tjfieldID id_fd = (*env)-&gt;GetFieldID(env, fileDescriptor, &quot;fd&quot;, &quot;I&quot;);\r\n    \r\n    \treturn (*env)-&gt;GetIntField(env,fdObject,id_fd);\r\n    }\r\n\r\ncompile **SafeFileDescriptor.c**\r\n\r\n    gcc -fPIC -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -shared -o libSafeFileDescriptor.so SafeFileDescriptor.c\r\n\r\nTo add **libSafeFileDescriptor.so** file to java class file\r\n\r\n    System.load(&quot;Documents/java native interface exmples/libSafeFileDescriptor.so&quot;);","title":"Get path from FileDescriptor in Java","body":"<p>the solution to get the path from <strong>FileDescriptor</strong> in java:</p>\n\n<p><strong>How it works:</strong></p>\n\n<p>We know that file descriptor contains descriptor id to locate the open file in the current process. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/5256599/what-are-file-descriptors-explained-in-simple-terms\">What are file descriptors, explained in simple terms?</a></p>\n\n<p>if we know the descriptor id then we can easily find file path by following java code:</p>\n\n<pre><code>Path path = Paths.get(\"/proc/self/fd/\"+fd_id);\nSystem.out.println(Files.readSymbolicLink(path)); //return file path in file descriptor\n</code></pre>\n\n<p>Here:</p>\n\n<blockquote>\n  <p>fd_id file descriptor id (0,1,2 .....)</p>\n  \n  <p>/proc its a Directory contains all process running in system</p>\n  \n  <p>/self currently running java class process id </p>\n  \n  <p>/fd file descriptor directory</p>\n  \n  <p>//fd_id file descriptor id</p>\n</blockquote>\n\n<p><strong><em>SafeFileDescriptor.java</em></strong></p>\n\n<pre><code>import java.io.FileDescriptor;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Paths;\nimport java.nio.file.Files;\nimport java.nio.file.Path;  \npublic class SafeFileDescriptor {\n\n static {\n    System.load(\"Documents/java native interface exmples/libSafeFileDescriptor.so\");\n}\n\nprivate native int getFDid(FileDescriptor fd);\n\npublic static void main(String[] args) throws IOException{  \n    FileOutputStream fout = new FileOutputStream(\"Documents/test.txt\");\n    FileDescriptor fd=fout.getFD();\n    int fd_id = new SafeFileDescriptor().getFDid(fd);\n    Path path = Paths.get(\"/proc/self/fd/\"+fd_id);\n    System.out.println(Files.readSymbolicLink(path));\n}\n}\n</code></pre>\n\n<p><code>getFDid()</code> is a native method used to get descriptor id of the given file descriptor object </p>\n\n<p>following code is implementation of <code>getFDid()</code> native method</p>\n\n<p><strong><em>SafeFileDescriptor.h</em></strong></p>\n\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class SafeFileDescriptor */\n\n#ifndef _Included_SafeFileDescriptor\n#define _Included_SafeFileDescriptor\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n/*\n * Class:     SafeFileDescriptor\n * Method:    getFDid\n * Signature: (Ljava/io/FileDescriptor;)I\n */\nJNIEXPORT jint JNICALL Java_SafeFileDescriptor_getFDid\n  (JNIEnv *, jobject, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n\n<p>create SafeFileDescriptor.h from java file SafeFileDescriptor.java</p>\n\n<pre><code>javac -h dir SafeFileDescriptor.java\n</code></pre>\n\n<p>replace \"dir\" with your directory to store SafeFileDescriptor.h</p>\n\n<p><strong><em>SafeFileDescriptor.c</em></strong></p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include \"SafeFileDescriptor.h\"\n\nJNIEXPORT jint JNICALL Java_SafeFileDescriptor_getFDid\n  (JNIEnv *env, jobject this_object, jobject fdObject) {\n\n    jclass fileDescriptor = (*env)-&gt;GetObjectClass(env,fdObject);\n\n    jfieldID id_fd = (*env)-&gt;GetFieldID(env, fileDescriptor, \"fd\", \"I\");\n\n    return (*env)-&gt;GetIntField(env,fdObject,id_fd);\n}\n</code></pre>\n\n<p>compile <strong>SafeFileDescriptor.c</strong></p>\n\n<pre><code>gcc -fPIC -I\"$JAVA_HOME/include\" -I\"$JAVA_HOME/include/linux\" -shared -o libSafeFileDescriptor.so SafeFileDescriptor.c\n</code></pre>\n\n<p>To add <strong>libSafeFileDescriptor.so</strong> file to java class file</p>\n\n<pre><code>System.load(\"Documents/java native interface exmples/libSafeFileDescriptor.so\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593254171,"creation_date":1593254171,"answer_id":62608845,"question_id":12285469,"body_markdown":"Hopefully won&#39;t be blocked by reflection restrictions, but for now you can use this (code based a bit on the other answer), starting from Android O :\r\n\r\n```kt\r\nval file = File(filesDir, &quot;ff&quot;)\r\nfile.parentFile!!.mkdirs()\r\nval fileOutputStream = FileOutputStream(file)\r\nval fd = fileOutputStream.fd\r\nval method = fd.javaClass.getMethod(&quot;getInt$&quot;)\r\nval fdId = method.invoke(fd)\r\nval path = Paths.get(&quot;/proc/self/fd/$fdId&quot;)\r\nval filePath = Files.readSymbolicLink(path)\r\nLog.d(&quot;AppLog&quot;, &quot;filePath:$filePath&quot;)\r\n```\r\n\r\nNot sure about FileChannel though. Its implementation file (&quot;FileChannelImpl&quot;) is supposed to have &quot;path&quot; (file path String type) and &quot;fd&quot; which is the FileDescriptor , but both are hidden via reflection","title":"Get path from FileDescriptor in Java","body":"<p>Hopefully won't be blocked by reflection restrictions, but for now you can use this (code based a bit on the other answer), starting from Android O :</p>\n<pre><code>val file = File(filesDir, &quot;ff&quot;)\nfile.parentFile!!.mkdirs()\nval fileOutputStream = FileOutputStream(file)\nval fd = fileOutputStream.fd\nval method = fd.javaClass.getMethod(&quot;getInt$&quot;)\nval fdId = method.invoke(fd)\nval path = Paths.get(&quot;/proc/self/fd/$fdId&quot;)\nval filePath = Files.readSymbolicLink(path)\nLog.d(&quot;AppLog&quot;, &quot;filePath:$filePath&quot;)\n</code></pre>\n<p>Not sure about FileChannel though. Its implementation file (&quot;FileChannelImpl&quot;) is supposed to have &quot;path&quot; (file path String type) and &quot;fd&quot; which is the FileDescriptor , but both are hidden via reflection</p>\n"},{"tags":[],"owner":{"account_id":13672584,"reputation":41,"user_id":9864942,"display_name":"张小贤"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646560766,"creation_date":1646560436,"answer_id":71369228,"question_id":12285469,"body_markdown":"Added addictional info based on answer from @android developer and @zakmck.\r\n\r\n/dev/fd is a better solution for most Unix variants, including most Linux variant and MacOS, but not for all. It works for me on CentOS 9 and MacOS 12.1.\r\n\r\n&gt; fdesc\r\nThe fdesc filesystem is typically mounted on /dev/fd. It&#39;s functionality is similar to /proc/&lt;pid&gt;/fd (or simply /proc/self/fd) on Linux, that is, it provides a list of all active file descriptors for the currently running process. Note that a typical Linux system has /dev/fd symbolically linked to /proc/self/fd.\r\n\r\nReferences:  \r\n- https://web.archive.org/web/20190724030849/http://osxbook.com/book/bonus/ancient/whatismacosx/arch_fs.html\r\n\r\n- https://en.wikipedia.org/wiki/File_descriptor\r\n- https://unix.stackexchange.com/questions/123602/portability-of-file-descriptor-links/123659#123659","title":"Get path from FileDescriptor in Java","body":"<p>Added addictional info based on answer from @android developer and @zakmck.</p>\n<p>/dev/fd is a better solution for most Unix variants, including most Linux variant and MacOS, but not for all. It works for me on CentOS 9 and MacOS 12.1.</p>\n<blockquote>\n<p>fdesc\nThe fdesc filesystem is typically mounted on /dev/fd. It's functionality is similar to /proc//fd (or simply /proc/self/fd) on Linux, that is, it provides a list of all active file descriptors for the currently running process. Note that a typical Linux system has /dev/fd symbolically linked to /proc/self/fd.</p>\n</blockquote>\n<p>References:</p>\n<ul>\n<li><p><a href=\"https://web.archive.org/web/20190724030849/http://osxbook.com/book/bonus/ancient/whatismacosx/arch_fs.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20190724030849/http://osxbook.com/book/bonus/ancient/whatismacosx/arch_fs.html</a></p>\n</li>\n<li><p><a href=\"https://en.wikipedia.org/wiki/File_descriptor\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/File_descriptor</a></p>\n</li>\n<li><p><a href=\"https://unix.stackexchange.com/questions/123602/portability-of-file-descriptor-links/123659#123659\">https://unix.stackexchange.com/questions/123602/portability-of-file-descriptor-links/123659#123659</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":1798689,"reputation":55,"user_id":1637512,"display_name":"walker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10717,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12286701,"answer_count":4,"score":4,"last_activity_date":1646560766,"creation_date":1346861013,"question_id":12285469,"body_markdown":"Some quick background on my problem:\r\n\r\nI&#39;m writing a compiler that converts Domain Type Enforcement specs into Java Security Manager code. In a nutshell, DTE defines &quot;types&quot; (objects), assigns paths to those types; then defines &quot;domains&quot; (subjects), and defines what permissions (rwxdc) domains have to various types. I need to emulate this behavior as closely as possible in the JSM.\r\n\r\nCurrently I&#39;m working on write permissions. I&#39;ve overridden the JSM&#39;s checkWrite(String filename) method successfully. Next on the list is checkWrite(FileDescriptor filedescriptor) and this one is proving trickier. Due to the way DTE is defined, I need path information to determine whether a write action is permissible.\r\n\r\n- Is it possible to extract path data from a FileDescriptor? I&#39;m guessing no -- I&#39;ve checked the documentation and various tutorials, and I&#39;ve found nothing to suggest that there&#39;s any way for me to obtain this information (I&#39;d be delighted to be shown wrong, however; that would make my job easier).\r\n\r\n- If the answer to the above is NO, could anyone suggest a viable workaround? For example, is there some way I could write native code to do what I want and tie this into my custom JSM class? I&#39;m fine with doing something &quot;advanced&quot; like that, but I&#39;d need some idea how to get started.\r\n\r\n- Or is my *only* option basically to deny all write permissions that use a FileDescriptor? I&#39;d very much like to avoid this because it&#39;s a crummy solution, but if that&#39;s the reality I need to know.\r\n\r\nThanks very much for your time.","title":"Get path from FileDescriptor in Java","body":"<p>Some quick background on my problem:</p>\n\n<p>I'm writing a compiler that converts Domain Type Enforcement specs into Java Security Manager code. In a nutshell, DTE defines \"types\" (objects), assigns paths to those types; then defines \"domains\" (subjects), and defines what permissions (rwxdc) domains have to various types. I need to emulate this behavior as closely as possible in the JSM.</p>\n\n<p>Currently I'm working on write permissions. I've overridden the JSM's checkWrite(String filename) method successfully. Next on the list is checkWrite(FileDescriptor filedescriptor) and this one is proving trickier. Due to the way DTE is defined, I need path information to determine whether a write action is permissible.</p>\n\n<ul>\n<li><p>Is it possible to extract path data from a FileDescriptor? I'm guessing no -- I've checked the documentation and various tutorials, and I've found nothing to suggest that there's any way for me to obtain this information (I'd be delighted to be shown wrong, however; that would make my job easier).</p></li>\n<li><p>If the answer to the above is NO, could anyone suggest a viable workaround? For example, is there some way I could write native code to do what I want and tie this into my custom JSM class? I'm fine with doing something \"advanced\" like that, but I'd need some idea how to get started.</p></li>\n<li><p>Or is my <em>only</em> option basically to deny all write permissions that use a FileDescriptor? I'd very much like to avoid this because it's a crummy solution, but if that's the reality I need to know.</p></li>\n</ul>\n\n<p>Thanks very much for your time.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1880243,"reputation":5612,"user_id":1700618,"accept_rate":100,"display_name":"Vineet Kosaraju"},"score":0,"creation_date":1384324730,"post_id":19946980,"comment_id":29686808,"body_markdown":"To my knowledge the only method is looping. I would store them in a LinkedList for O(N*M) where M is the length of each number (cost for converting string to long) and N is the number of elements","body":"To my knowledge the only method is looping. I would store them in a LinkedList for O(N*M) where M is the length of each number (cost for converting string to long) and N is the number of elements"},{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1384324814,"post_id":19946980,"comment_id":29686841,"body_markdown":"Can you show the queries you&#39;re attempted to run? What RDBMS is this?","body":"Can you show the queries you&#39;re attempted to run? What RDBMS is this?"},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":1,"creation_date":1384325107,"post_id":19946980,"comment_id":29686967,"body_markdown":"When you say &quot;comma separated value&quot;, are you talking about `.csv` file format, or numbers written for human consumption with a convention of commas between every group of 3 digits?","body":"When you say &quot;comma separated value&quot;, are you talking about <code>.csv</code> file format, or numbers written for human consumption with a convention of commas between every group of 3 digits?"},{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1384328235,"post_id":19946980,"comment_id":29688318,"body_markdown":"@user2986404 If you are asking about limit of characers with IN clause: Check here http://stackoverflow.com/questions/1869753/maximum-size-for-a-sql-server-query-in-clause-is-there-a-better-approach","body":"@user2986404 If you are asking about limit of characers with IN clause: Check here <a href=\"http://stackoverflow.com/questions/1869753/maximum-size-for-a-sql-server-query-in-clause-is-there-a-better-approach\" title=\"maximum size for a sql server query in clause is there a better approach\">stackoverflow.com/questions/1869753/&hellip;</a>"},{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1384328365,"post_id":19946980,"comment_id":29688382,"body_markdown":"or if you could use jdbctemplate: http://stackoverflow.com/questions/1327074/how-to-execute-in-sql-queries-with-springs-jdbctemplate-effectivly","body":"or if you could use jdbctemplate: <a href=\"http://stackoverflow.com/questions/1327074/how-to-execute-in-sql-queries-with-springs-jdbctemplate-effectivly\" title=\"how to execute in sql queries with springs jdbctemplate effectivly\">stackoverflow.com/questions/1327074/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3125647,"reputation":4884,"user_id":2644553,"accept_rate":90,"display_name":"Kamlesh Meghwal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384325687,"creation_date":1384324770,"answer_id":19947044,"question_id":19946980,"body_markdown":"you can try below code to get long value from a string\r\n\r\nif str1=&quot;123,456,789&quot;\r\n\r\n     Long x=Long.parseLong(str1.replace(&quot;,&quot;,&quot;&quot;));\r\n\r\nand,\r\n\r\nif str1=&quot;[123,456,789]&quot;\r\n\r\n    Long x=Long.parseLong(str1.replace(&quot;,|\\\\[|\\\\]&quot;,&quot;&quot;));","title":"Convert string to List&lt;Long&gt;","body":"<p>you can try below code to get long value from a string</p>\n\n<p>if str1=\"123,456,789\"</p>\n\n<pre><code> Long x=Long.parseLong(str1.replace(\",\",\"\"));\n</code></pre>\n\n<p>and,</p>\n\n<p>if str1=\"[123,456,789]\"</p>\n\n<pre><code>Long x=Long.parseLong(str1.replace(\",|\\\\[|\\\\]\",\"\"));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1448438287,"creation_date":1384324855,"answer_id":19947070,"question_id":19946980,"body_markdown":"With [guava][1]:\r\n\r\n    List&lt;Long&gt; longs = Lists.newArrayList(Iterables.transform(Splitter.on(&#39;,&#39;).split(&quot;1,2,3&quot;), new Function&lt;String, Long&gt;() {\r\n        public Long apply(final String in) {\r\n            return in == null ? null : Longs.tryParse(in);\r\n        }\r\n    }));\r\n\r\nEDIT:\r\n\r\nWith a `List&lt;String&gt;` (`stringList`) as input:\r\n\r\n    List&lt;Long&gt; longs = Lists.newArrayList(Lists.transform(stringList, new Function&lt;String, Long&gt;() {\r\n        public Long apply(final String in) {\r\n            return in == null ? null : Longs.tryParse(in);\r\n        }\r\n    }));\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/","title":"Convert string to List&lt;Long&gt;","body":"<p>With <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">guava</a>:</p>\n\n<pre><code>List&lt;Long&gt; longs = Lists.newArrayList(Iterables.transform(Splitter.on(',').split(\"1,2,3\"), new Function&lt;String, Long&gt;() {\n    public Long apply(final String in) {\n        return in == null ? null : Longs.tryParse(in);\n    }\n}));\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>With a <code>List&lt;String&gt;</code> (<code>stringList</code>) as input:</p>\n\n<pre><code>List&lt;Long&gt; longs = Lists.newArrayList(Lists.transform(stringList, new Function&lt;String, Long&gt;() {\n    public Long apply(final String in) {\n        return in == null ? null : Longs.tryParse(in);\n    }\n}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384324869,"creation_date":1384324869,"answer_id":19947075,"question_id":19946980,"body_markdown":"I doubt that you can do this without looping. Here is a sample workaround:\r\n\r\n    String str = &quot;[123,456,789]&quot;;\r\n        \r\n        \r\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n    Matcher matcher = pattern.matcher(str);\r\n        \r\n    List&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\r\n        \r\n     while (matcher.find()) {\r\n    System.out.println(matcher.group());\r\n    list.add(Long.parseLong(matcher.group())); // Add the value to the list\r\n    }\r\n    System.out.println(list);","title":"Convert string to List&lt;Long&gt;","body":"<p>I doubt that you can do this without looping. Here is a sample workaround:</p>\n\n<pre><code>String str = \"[123,456,789]\";\n\n\nPattern pattern = Pattern.compile(\"\\\\d+\");\nMatcher matcher = pattern.matcher(str);\n\nList&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\n\n while (matcher.find()) {\nSystem.out.println(matcher.group());\nlist.add(Long.parseLong(matcher.group())); // Add the value to the list\n}\nSystem.out.println(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1890458,"reputation":502,"user_id":1708699,"accept_rate":60,"display_name":"thermite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384324986,"creation_date":1384324986,"answer_id":19947118,"question_id":19946980,"body_markdown":"Use String.replace\r\nassuming str1 contains &quot;[123,123,123]&quot; \r\n\r\n    str1 = str1.replace(&quot;,|\\\\[|\\\\]&quot;,&quot;&quot;); //should replace commas and brackets with nothing;\r\n\r\nthen you should be able to do \r\n\r\n    Long myLong =  Long.parseLong(str1);","title":"Convert string to List&lt;Long&gt;","body":"<p>Use String.replace\nassuming str1 contains \"[123,123,123]\" </p>\n\n<pre><code>str1 = str1.replace(\",|\\\\[|\\\\]\",\"\"); //should replace commas and brackets with nothing;\n</code></pre>\n\n<p>then you should be able to do </p>\n\n<pre><code>Long myLong =  Long.parseLong(str1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2365325,"reputation":343,"user_id":2071106,"display_name":"Vignesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384325887,"creation_date":1384325887,"answer_id":19947359,"question_id":19946980,"body_markdown":"Use StringTokenizer and add split tokens to a list with a while loop.\r\n\r\n    StringTokenizer st = new StringTokenizer(&quot;1,2,3&quot;, &quot;,&quot;);\r\n    List&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\r\n    while (st.hasMoreTokens()) \r\n    {\r\n         list.add(Long.valueOf(st.nextToken()));\r\n    }\r\n\r\n ","title":"Convert string to List&lt;Long&gt;","body":"<p>Use StringTokenizer and add split tokens to a list with a while loop.</p>\n\n<pre><code>StringTokenizer st = new StringTokenizer(\"1,2,3\", \",\");\nList&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\nwhile (st.hasMoreTokens()) \n{\n     list.add(Long.valueOf(st.nextToken()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7037012,"reputation":562,"user_id":5390733,"display_name":"virag"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1447812434,"creation_date":1447812434,"answer_id":33770599,"question_id":19946980,"body_markdown":"You can use the Lambda functions of Java 8 to achieve this without looping\r\n\r\n        String string = &quot;1, 2, 3, 4&quot;;\r\n        List&lt;Long&gt; list = Arrays.asList(string.split(&quot;,&quot;)).stream().map(s -&gt; Long.parseLong(s.trim())).collect(Collectors.toList());","title":"Convert string to List&lt;Long&gt;","body":"<p>You can use the Lambda functions of Java 8 to achieve this without looping</p>\n\n<pre><code>    String string = \"1, 2, 3, 4\";\n    List&lt;Long&gt; list = Arrays.asList(string.split(\",\")).stream().map(s -&gt; Long.parseLong(s.trim())).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1127001,"reputation":4228,"user_id":1436491,"display_name":"Bienvenido David"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1646560056,"creation_date":1525989243,"answer_id":50282047,"question_id":19946980,"body_markdown":"A little shorter than virag&#39;s answer, as it skips asList() and doesn&#39;t do a string trim.\r\n\r\n    List&lt;Long&gt; list = Arrays.stream(str.split(&quot;,&quot;)).map(s -&gt; Long.parseLong(s.trim())).collect(Collectors.toList());\r\n","title":"Convert string to List&lt;Long&gt;","body":"<p>A little shorter than virag's answer, as it skips asList() and doesn't do a string trim.</p>\n<pre><code>List&lt;Long&gt; list = Arrays.stream(str.split(&quot;,&quot;)).map(s -&gt; Long.parseLong(s.trim())).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3577524,"reputation":121,"user_id":2986404,"display_name":"user2986404"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26821,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":19947070,"answer_count":7,"score":12,"last_activity_date":1646560056,"creation_date":1384324484,"question_id":19946980,"body_markdown":"I have a string with comma separated value that I am getting direclty from database. Now I want to pass that entire string to another query but the datatype required is long and i want to use in clause to get this done.\r\n\r\n    str1 = [123,456,789];\r\n\r\nIs there any direct way to do it instead of looping.","title":"Convert string to List&lt;Long&gt;","body":"<p>I have a string with comma separated value that I am getting direclty from database. Now I want to pass that entire string to another query but the datatype required is long and i want to use in clause to get this done.</p>\n\n<pre><code>str1 = [123,456,789];\n</code></pre>\n\n<p>Is there any direct way to do it instead of looping.</p>\n"},{"tags":["java","c++","xslt","saxon","saxon-c"],"comments":[{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":0,"creation_date":1646484805,"post_id":71362331,"comment_id":126137783,"body_markdown":"How&#39;s that related to c++??","body":"How&#39;s that related to c++??"},{"owner":{"account_id":24450697,"reputation":69,"user_id":18372990,"display_name":"ibrahim muhmud usmani"},"score":0,"creation_date":1646484986,"post_id":71362331,"comment_id":126137818,"body_markdown":"I&#39;m using the C++ version of the SDK for Saxon","body":"I&#39;m using the C++ version of the SDK for Saxon"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646487930,"post_id":71362331,"comment_id":126138324,"body_markdown":"I don&#39;t see how `xsl:include` and `xsl:result-document` are related. Perhaps ask two different questions, for each show minimal but complete samples to allow others to reproduce the problem.","body":"I don&#39;t see how <code>xsl:include</code> and <code>xsl:result-document</code> are related. Perhaps ask two different questions, for each show minimal but complete samples to allow others to reproduce the problem."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646488507,"post_id":71362331,"comment_id":126138412,"body_markdown":"Also, if the compiled `transform.c` doesn&#39;t work for you, can you show us minimal samples plus the exact error message you get?","body":"Also, if the compiled <code>transform.c</code> doesn&#39;t work for you, can you show us minimal samples plus the exact error message you get?"},{"owner":{"account_id":24450697,"reputation":69,"user_id":18372990,"display_name":"ibrahim muhmud usmani"},"score":0,"creation_date":1646489545,"post_id":71362331,"comment_id":126138615,"body_markdown":"They arent related i&#39;m just having problems with both","body":"They arent related i&#39;m just having problems with both"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1646489643,"post_id":71362331,"comment_id":126138632,"body_markdown":"Please try to narrow down the problem and be more specific. Take one specific sequence of events that doesn&#39;t produce the expected results, tell us exactly what you are doing, and exactly how it failed. Think about all the information that will be needed by someone trying to reproduce the effect you are seeing.","body":"Please try to narrow down the problem and be more specific. Take one specific sequence of events that doesn&#39;t produce the expected results, tell us exactly what you are doing, and exactly how it failed. Think about all the information that will be needed by someone trying to reproduce the effect you are seeing."},{"owner":{"account_id":24450697,"reputation":69,"user_id":18372990,"display_name":"ibrahim muhmud usmani"},"score":0,"creation_date":1646489647,"post_id":71362331,"comment_id":126138634,"body_markdown":"I dont get any error message","body":"I dont get any error message"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1646492486,"post_id":71362331,"comment_id":126139204,"body_markdown":"If `xsl:import` works and `xsl:include` doesn&#39;t, then by far the most likely explanation is that it&#39;s an error in your XSLT code.","body":"If <code>xsl:import</code> works and <code>xsl:include</code> doesn&#39;t, then by far the most likely explanation is that it&#39;s an error in your XSLT code."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646496085,"post_id":71362331,"comment_id":126140030,"body_markdown":"Getting `xsl:result-document` to show up where you expect it might depend on setting `setBaseOutputURI` before.","body":"Getting <code>xsl:result-document</code> to show up where you expect it might depend on setting <code>setBaseOutputURI</code> before."},{"owner":{"account_id":24450697,"reputation":69,"user_id":18372990,"display_name":"ibrahim muhmud usmani"},"score":0,"creation_date":1646506525,"post_id":71362331,"comment_id":126142294,"body_markdown":"Thanks for the suggestion about `setBaseOutputURI`, I&#39;ll give that a try. I&#39;ve updated the question with a small independent example.","body":"Thanks for the suggestion about <code>setBaseOutputURI</code>, I&#39;ll give that a try. I&#39;ve updated the question with a small independent example."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646507218,"post_id":71362331,"comment_id":126142426,"body_markdown":"Hm, you are right, somehow SaxonC HE 11.2 fails to output anything with your example. Let&#39;s see when/how someone from Saxonica picks that up as a bug.","body":"Hm, you are right, somehow SaxonC HE 11.2 fails to output anything with your example. Let&#39;s see when/how someone from Saxonica picks that up as a bug."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646507801,"post_id":71362331,"comment_id":126142530,"body_markdown":"To give you can example that works for me with SaxonC HE 11.2&#39;s `Transform.exe` from the command line, https://github.com/martin-honnen/martin-honnen.github.io/blob/master/xml/2022/sheet4.xsl includes https://github.com/martin-honnen/martin-honnen.github.io/blob/master/xml/2022/sheet1.xsl and runs fine against e.g. https://github.com/martin-honnen/martin-honnen.github.io/blob/master/xml/2022/sample1.xml, producing a primary result and three additional result documents. Not much of a help after your initial and simple attempt failed but let&#39;s see what Saxonica has to say on that, I don&#39;t know.","body":"To give you can example that works for me with SaxonC HE 11.2&#39;s <code>Transform.exe</code> from the command line, <a href=\"https://github.com/martin-honnen/martin-honnen.github.io/blob/master/xml/2022/sheet4.xsl\" rel=\"nofollow noreferrer\">github.com/martin-honnen/martin-honnen.github.io/blob/master&zwnj;&#8203;/&hellip;</a> includes <a href=\"https://github.com/martin-honnen/martin-honnen.github.io/blob/master/xml/2022/sheet1.xsl\" rel=\"nofollow noreferrer\">github.com/martin-honnen/martin-honnen.github.io/blob/master&zwnj;&#8203;/&hellip;</a> and runs fine against e.g. <a href=\"https://github.com/martin-honnen/martin-honnen.github.io/blob/master/xml/2022/sample1.xml\" rel=\"nofollow noreferrer\">github.com/martin-honnen/martin-honnen.github.io/blob/master&zwnj;&#8203;/&hellip;</a>, producing a primary result and three additional result documents. Not much of a help after your initial and simple attempt failed but let&#39;s see what Saxonica has to say on that, I don&#39;t know."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646509191,"post_id":71362331,"comment_id":126142782,"body_markdown":"Somehow SaxonC seems to fail when trying to compile the stylesheet. Still not sure what causes the failure.","body":"Somehow SaxonC seems to fail when trying to compile the stylesheet. Still not sure what causes the failure."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1646511075,"post_id":71362331,"comment_id":126143101,"body_markdown":"The code is compiled and executed fine with SaxonC EE 11.2. Still not sure why SaxonC HE 11.2 fails.","body":"The code is compiled and executed fine with SaxonC EE 11.2. Still not sure why SaxonC HE 11.2 fails."},{"owner":{"account_id":1504450,"reputation":691,"user_id":1408187,"display_name":"ond1"},"score":0,"creation_date":1646511326,"post_id":71362331,"comment_id":126143140,"body_markdown":"Hi,  I noticed you mentioned the use of `Xslt30Processor::TransformFiletoFile()`. Is it possible you can share your C++ code please.","body":"Hi,  I noticed you mentioned the use of <code>Xslt30Processor::TransformFiletoFile()</code>. Is it possible you can share your C++ code please."},{"owner":{"account_id":24450697,"reputation":69,"user_id":18372990,"display_name":"ibrahim muhmud usmani"},"score":0,"creation_date":1646549201,"post_id":71362331,"comment_id":126147974,"body_markdown":"Also I get &quot;JET RUNTIME ERRORs&quot; that return an exit code of 9","body":"Also I get &quot;JET RUNTIME ERRORs&quot; that return an exit code of 9"},{"owner":{"account_id":1504450,"reputation":691,"user_id":1408187,"display_name":"ond1"},"score":0,"creation_date":1646564696,"post_id":71362331,"comment_id":126150394,"body_markdown":"The JET RUNTIME might be  related to the &quot;Unable to read categories.xml file&quot; issue. Please can you detail the steps you followed for you to get this error or at least the command you ran.","body":"The JET RUNTIME might be  related to the &quot;Unable to read categories.xml file&quot; issue. Please can you detail the steps you followed for you to get this error or at least the command you ran."}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646559596,"creation_date":1646556120,"answer_id":71368813,"question_id":71362331,"body_markdown":"I think I have found one reason why the stylesheet fails on compilation, it seems a build/configuration problem with HE not finding categories.xml.\r\n\r\nStack trace from compilation:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n            at net.sf.saxon.regex.RECompiler.escape(Unknown Source)\r\n            at net.sf.saxon.regex.RECompiler.parseTerminal(Unknown Source)\r\n            at net.sf.saxon.regex.RECompiler.piece(Unknown Source)\r\n            at net.sf.saxon.regex.RECompiler.parseBranch(Unknown Source)\r\n            at net.sf.saxon.regex.RECompiler.parseExpr(Unknown Source)\r\n            at net.sf.saxon.regex.RECompiler.compile(Unknown Source)\r\n            at net.sf.saxon.regex.ARegularExpression.&lt;init&gt;(Unknown Source)\r\n            at net.sf.saxon.java.JavaPlatform.compileRegularExpression(Unknown Source)\r\n            at net.sf.saxon.Configuration.compileRegularExpression(Unknown Source)\r\n            at net.sf.saxon.functions.RegexFunction.tryToBindRegularExpression(Unknown Source)\r\n            at net.sf.saxon.functions.RegexFunction.makeFunctionCall(Unknown Source)\r\n            at net.sf.saxon.functions.Replace.makeFunctionCall(Unknown Source)\r\n            at net.sf.saxon.functions.RegexFunctionSansFlags.makeFunctionCall(Unknown Source)\r\n            at net.sf.saxon.functions.registry.BuiltInFunctionSet.bind(Unknown Source)\r\n            at net.sf.saxon.functions.FunctionLibraryList.bind(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseFunctionCall(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseBasicStep(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseStepExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseRelativePath(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parsePathExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseSimpleMappingExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseUnaryExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseExprSingle(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseFunctionCall(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseBasicStep(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseStepExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseRelativePath(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parsePathExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseSimpleMappingExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseUnaryExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseExprSingle(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parseExpression(Unknown Source)\r\n            at net.sf.saxon.expr.parser.XPathParser.parse(Unknown Source)\r\n            at net.sf.saxon.expr.parser.ExpressionTool.make(Unknown Source)\r\n            at net.sf.saxon.style.StyleElement.makeExpression(Unknown Source)\r\n            at net.sf.saxon.style.XSLSequence.prepareAttributes(Unknown Source)\r\n            at net.sf.saxon.style.StyleElement.&lt;unknown&gt;(Unknown Source)\r\n            at net.sf.saxon.style.StyleElement.processAllAttributes(Unknown Source)\r\n            at net.sf.saxon.style.StyleElement.processAllAttributes(Unknown Source)\r\n            at net.sf.saxon.style.PrincipalStylesheetModule.processAllAttributes(Unknown Source)\r\n            at net.sf.saxon.style.PrincipalStylesheetModule.preprocess(Unknown Source)\r\n            at net.sf.saxon.style.Compilation.compilePackage(Unknown Source)\r\n            at net.sf.saxon.style.StylesheetModule.loadStylesheet(Unknown Source)\r\n            at net.sf.saxon.style.Compilation.compileSingletonPackage(Unknown Source)\r\n            at net.sf.saxon.s9api.XsltCompiler.compile(Unknown Source)\r\n            at net.sf.saxon.option.cpp.Xslt30Processor.getXslt30Transformer(Unknown Source)\r\n            at net.sf.saxon.option.cpp.Xslt30Processor.transformToFile(Unknown Source)\r\n    Caused by: java.lang.RuntimeException: Unable to read categories.xml file\r\n            at net.sf.saxon.regex.charclass.Categories.build(Unknown Source)\r\n            at net.sf.saxon.regex.charclass.Categories.getCategory(Unknown Source)\r\n            at net.sf.saxon.regex.charclass.Categories.&lt;clinit&gt;(Unknown Source)\r\n            ... 47 more\r\n\r\nSo it is neither `xsl:include` nor `xsl:result-document` that causes the compilation failure, it seems the HE build does not have or does not find its categories.xml file when trying to compile the regular expression in the included code.\r\n\r\nAs a workaround, it might be possible to run SaxonC EE 11.2 without a license (`-license:off`), I think, as it then simply uses HE features, while somehow the EE package is correctly built to find its categories.xml so it doesn&#39;t fail on compiling regular expressions.\r\n\r\nI have raised https://saxonica.plan.io/issues/5372 about the categories.xml file failure.","title":"Saxon/C HE 11.2 prints empty output when XSLT has an include or using &quot;xsl::result-document&quot;","body":"<p>I think I have found one reason why the stylesheet fails on compilation, it seems a build/configuration problem with HE not finding categories.xml.</p>\n<p>Stack trace from compilation:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at net.sf.saxon.regex.RECompiler.escape(Unknown Source)\n        at net.sf.saxon.regex.RECompiler.parseTerminal(Unknown Source)\n        at net.sf.saxon.regex.RECompiler.piece(Unknown Source)\n        at net.sf.saxon.regex.RECompiler.parseBranch(Unknown Source)\n        at net.sf.saxon.regex.RECompiler.parseExpr(Unknown Source)\n        at net.sf.saxon.regex.RECompiler.compile(Unknown Source)\n        at net.sf.saxon.regex.ARegularExpression.&lt;init&gt;(Unknown Source)\n        at net.sf.saxon.java.JavaPlatform.compileRegularExpression(Unknown Source)\n        at net.sf.saxon.Configuration.compileRegularExpression(Unknown Source)\n        at net.sf.saxon.functions.RegexFunction.tryToBindRegularExpression(Unknown Source)\n        at net.sf.saxon.functions.RegexFunction.makeFunctionCall(Unknown Source)\n        at net.sf.saxon.functions.Replace.makeFunctionCall(Unknown Source)\n        at net.sf.saxon.functions.RegexFunctionSansFlags.makeFunctionCall(Unknown Source)\n        at net.sf.saxon.functions.registry.BuiltInFunctionSet.bind(Unknown Source)\n        at net.sf.saxon.functions.FunctionLibraryList.bind(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseFunctionCall(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseBasicStep(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseStepExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseRelativePath(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parsePathExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseSimpleMappingExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseUnaryExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseExprSingle(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseFunctionCall(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseBasicStep(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseStepExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseRelativePath(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parsePathExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseSimpleMappingExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseUnaryExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseExprSingle(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parseExpression(Unknown Source)\n        at net.sf.saxon.expr.parser.XPathParser.parse(Unknown Source)\n        at net.sf.saxon.expr.parser.ExpressionTool.make(Unknown Source)\n        at net.sf.saxon.style.StyleElement.makeExpression(Unknown Source)\n        at net.sf.saxon.style.XSLSequence.prepareAttributes(Unknown Source)\n        at net.sf.saxon.style.StyleElement.&lt;unknown&gt;(Unknown Source)\n        at net.sf.saxon.style.StyleElement.processAllAttributes(Unknown Source)\n        at net.sf.saxon.style.StyleElement.processAllAttributes(Unknown Source)\n        at net.sf.saxon.style.PrincipalStylesheetModule.processAllAttributes(Unknown Source)\n        at net.sf.saxon.style.PrincipalStylesheetModule.preprocess(Unknown Source)\n        at net.sf.saxon.style.Compilation.compilePackage(Unknown Source)\n        at net.sf.saxon.style.StylesheetModule.loadStylesheet(Unknown Source)\n        at net.sf.saxon.style.Compilation.compileSingletonPackage(Unknown Source)\n        at net.sf.saxon.s9api.XsltCompiler.compile(Unknown Source)\n        at net.sf.saxon.option.cpp.Xslt30Processor.getXslt30Transformer(Unknown Source)\n        at net.sf.saxon.option.cpp.Xslt30Processor.transformToFile(Unknown Source)\nCaused by: java.lang.RuntimeException: Unable to read categories.xml file\n        at net.sf.saxon.regex.charclass.Categories.build(Unknown Source)\n        at net.sf.saxon.regex.charclass.Categories.getCategory(Unknown Source)\n        at net.sf.saxon.regex.charclass.Categories.&lt;clinit&gt;(Unknown Source)\n        ... 47 more\n</code></pre>\n<p>So it is neither <code>xsl:include</code> nor <code>xsl:result-document</code> that causes the compilation failure, it seems the HE build does not have or does not find its categories.xml file when trying to compile the regular expression in the included code.</p>\n<p>As a workaround, it might be possible to run SaxonC EE 11.2 without a license (<code>-license:off</code>), I think, as it then simply uses HE features, while somehow the EE package is correctly built to find its categories.xml so it doesn't fail on compiling regular expressions.</p>\n<p>I have raised <a href=\"https://saxonica.plan.io/issues/5372\" rel=\"noreferrer\">https://saxonica.plan.io/issues/5372</a> about the categories.xml file failure.</p>\n"}],"owner":{"account_id":24450697,"reputation":69,"user_id":18372990,"display_name":"ibrahim muhmud usmani"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71368813,"answer_count":1,"score":1,"last_activity_date":1646559596,"creation_date":1646484533,"question_id":71362331,"body_markdown":"When i change the `xsl:include` to `xsl:import` it somehow works and doesnt return an empty file. I am using  the `Xslt30Processor` class and function `Xslt30Processor::TransformFiletoFile()`, even The `transform.c` doesnt work. When my xslt has a &quot;xsl:result-document&quot;\r\nstatement it also doesnt work.\r\n\r\nI even tried using a previous version of Saxon/C (The 1.2.0 series) , and even that didnt work. Is there any option where it enables the use of `xsl:include` or something.\r\n\r\nThis works for Java and .NET but not for the C API.\r\nI don&#39;t get any errors or exceptions when using JNI.\r\nPlease help.\r\n\r\nHere a small example which demostrates the problem:\r\n\r\n`source.xml`:\r\n```\r\n&lt;xml/&gt;\r\n```\r\n\r\n`main.xsl`:\r\n```\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;\r\n  &lt;xsl:output method=&quot;text&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;/&gt;\r\n  &lt;xsl:include href=&quot;referenced.xsl&quot; /&gt;\r\n\r\n  &lt;xsl:template match=&quot;/&quot;&gt;hello&lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\n`referenced.xsl`:\r\n```\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                xmlns:f=&quot;my-functions.org&quot;\r\n                xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                version=&quot;2.0&quot;&gt;\r\n  &lt;xsl:function name=&quot;f:next-nr&quot; as=&quot;xs:integer&quot;&gt;\r\n    &lt;xsl:param name=&quot;node&quot;/&gt;\r\n    &lt;xsl:sequence select=&quot;xs:integer(replace($node, &#39;\\D&#39;, &#39;&#39;))&quot;/&gt;\r\n  &lt;/xsl:function&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nWhen running the C version of `Transform.exe`, no errors are returned and no output is produced. I noticed when putting together this test case that it doesn&#39;t matter if I change the include to import for this example. If I use the Transform.exe that comes in the tools folder of Saxon 10.6, a file is produced as expected. I can&#39;t, however, find any C/C++ files for Saxon 10.6.\r\n\r\nThe issue with result-document is a separate issue with the same outcome.","title":"Saxon/C HE 11.2 prints empty output when XSLT has an include or using &quot;xsl::result-document&quot;","body":"<p>When i change the <code>xsl:include</code> to <code>xsl:import</code> it somehow works and doesnt return an empty file. I am using  the <code>Xslt30Processor</code> class and function <code>Xslt30Processor::TransformFiletoFile()</code>, even The <code>transform.c</code> doesnt work. When my xslt has a &quot;xsl:result-document&quot;\nstatement it also doesnt work.</p>\n<p>I even tried using a previous version of Saxon/C (The 1.2.0 series) , and even that didnt work. Is there any option where it enables the use of <code>xsl:include</code> or something.</p>\n<p>This works for Java and .NET but not for the C API.\nI don't get any errors or exceptions when using JNI.\nPlease help.</p>\n<p>Here a small example which demostrates the problem:</p>\n<p><code>source.xml</code>:</p>\n<pre><code>&lt;xml/&gt;\n</code></pre>\n<p><code>main.xsl</code>:</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;\n  &lt;xsl:output method=&quot;text&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;/&gt;\n  &lt;xsl:include href=&quot;referenced.xsl&quot; /&gt;\n\n  &lt;xsl:template match=&quot;/&quot;&gt;hello&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><code>referenced.xsl</code>:</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n                xmlns:f=&quot;my-functions.org&quot;\n                xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n                version=&quot;2.0&quot;&gt;\n  &lt;xsl:function name=&quot;f:next-nr&quot; as=&quot;xs:integer&quot;&gt;\n    &lt;xsl:param name=&quot;node&quot;/&gt;\n    &lt;xsl:sequence select=&quot;xs:integer(replace($node, '\\D', ''))&quot;/&gt;\n  &lt;/xsl:function&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>When running the C version of <code>Transform.exe</code>, no errors are returned and no output is produced. I noticed when putting together this test case that it doesn't matter if I change the include to import for this example. If I use the Transform.exe that comes in the tools folder of Saxon 10.6, a file is produced as expected. I can't, however, find any C/C++ files for Saxon 10.6.</p>\n<p>The issue with result-document is a separate issue with the same outcome.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646558711,"creation_date":1646558711,"answer_id":71369033,"question_id":71368826,"body_markdown":"I think you are using the very old Elasticsearch version(As in latest version `inFilter` isn&#39;t present, and your link is pointing to Elasticsearch version below 1),  But as mentioned in the documentation link you provided, `termsFilter` is useful to filter one value, while `inFilter` will work even if you pass many terms, and if it matches any one of them.\r\n\r\nFor ex: you have a `name` field, where three documents have `foo`, `bar` or `baz`, using `termsfilter` you can filter by only one value ie `foo`, `bar`, you will get only one document ,but if you use `inFilter` you can pass all the possible values, and get all the matching documents.\r\n\r\nConsider them equivalent to sql statement.\r\n```\r\nname=foo (example of terms filter)\r\n```\r\n\r\n```\r\nname in (&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;) // example of in Filter\r\n```","title":"I am not able to get the difference between inFilter and TermFilter, can anyone please guide me on this?","body":"<p>I think you are using the very old Elasticsearch version(As in latest version <code>inFilter</code> isn't present, and your link is pointing to Elasticsearch version below 1),  But as mentioned in the documentation link you provided, <code>termsFilter</code> is useful to filter one value, while <code>inFilter</code> will work even if you pass many terms, and if it matches any one of them.</p>\n<p>For ex: you have a <code>name</code> field, where three documents have <code>foo</code>, <code>bar</code> or <code>baz</code>, using <code>termsfilter</code> you can filter by only one value ie <code>foo</code>, <code>bar</code>, you will get only one document ,but if you use <code>inFilter</code> you can pass all the possible values, and get all the matching documents.</p>\n<p>Consider them equivalent to sql statement.</p>\n<pre><code>name=foo (example of terms filter)\n</code></pre>\n<pre><code>name in ('foo', 'bar', 'baz') // example of in Filter\n</code></pre>\n"}],"owner":{"account_id":22022326,"reputation":46,"user_id":16290940,"display_name":"Abhinav Batta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646558711,"creation_date":1646556205,"question_id":71368826,"body_markdown":"Now as per [termFilter][1] and [inFilter][2] definitions, both are doing the same job, what is the difference ?\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/0.7.0/org/elasticsearch/index/query/xcontent/FilterBuilders.html\r\n[2]:\r\nhttps://www.javadoc.io/doc/org.elasticsearch/elasticsearch/0.14.4/org/elasticsearch/index/query/xcontent/FilterBuilders.html","title":"I am not able to get the difference between inFilter and TermFilter, can anyone please guide me on this?","body":"<p>Now as per <a href=\"https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/0.7.0/org/elasticsearch/index/query/xcontent/FilterBuilders.html\" rel=\"nofollow noreferrer\">termFilter</a> and <a href=\"https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/0.14.4/org/elasticsearch/index/query/xcontent/FilterBuilders.html\" rel=\"nofollow noreferrer\">inFilter</a> definitions, both are doing the same job, what is the difference ?</p>\n"},{"tags":["java","spring","spring-boot","websocket","autowired"],"answers":[{"tags":[],"owner":{"account_id":21266913,"reputation":240,"user_id":15647017,"display_name":"Gergo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646558109,"creation_date":1646558109,"answer_id":71368977,"question_id":71238350,"body_markdown":"If you would like to understand more about this topic search for Spring Dependency injection, but I write a short summary. &lt;br/&gt;\r\nTo be able to @Autowire a component you have to create a @Bean or @Service or @Component.\r\n\r\n1. Creating beands first create a Configuration class, and a Beand or Beans inside.\r\n\r\n       @Configuration\r\n       public class Configuration {\r\n\r\n              @Value(&quot;${configuration.property.name}&quot;)\r\n              String username;\r\n              \r\n              @Bean\r\n              public WebsocketServerEndpoint ebsocketServerEndpoint () {\r\n                 return new WebsocketServerEndpoint();\r\n              }\r\n\r\n       }\r\n\r\n`@Value` is not necessaty just good to mention with this annotation you can get a property name from spring `application.properties` file.\r\n\r\nAfter this point you have created a @Bean instance of your class it is registered as a singleton class. You can get this one copy class from anywhere in your application you just have to, autowire it.\r\n\r\nOr user construcor based dependency injection. ( @Autowired is not prefered). \r\n\r\n2. Dont create beans just add `@Component` annotation to your class that you want to `Autowire` but I show a constructor injection.\r\n\r\n       @Component\r\n       public class WebsocketServerEndpoint {\r\n           public String test(){\r\n               return &quot;test&quot;;\r\n           }\r\n       }\r\n\r\n       @RestController\r\n       public class DoSomething {\r\n\r\n           private final WebsocketServerEndpoint websocketHandler;\r\n\r\n           public DoSomething(WebsocketServerEndpoint websocketHandler) {\r\n               this.websocketHandler = websocketHandler;\r\n           }\r\n\r\n           @GetMapping(value = &quot;/test&quot;)\r\n           public String test() {\r\n               return websocketHandler.test();\r\n           }\r\n       }\r\n\r\nYou can even test this endpoint with a curl GET request. `curl http://localhost:8080/test`","title":"How to create a Websocket SessionManager that are reachable from other classes","body":"<p>If you would like to understand more about this topic search for Spring Dependency injection, but I write a short summary. <br/>\nTo be able to @Autowire a component you have to create a @Bean or @Service or @Component.</p>\n<ol>\n<li><p>Creating beands first create a Configuration class, and a Beand or Beans inside.</p>\n<pre><code>@Configuration\npublic class Configuration {\n\n       @Value(&quot;${configuration.property.name}&quot;)\n       String username;\n\n       @Bean\n       public WebsocketServerEndpoint ebsocketServerEndpoint () {\n          return new WebsocketServerEndpoint();\n       }\n\n}\n</code></pre>\n</li>\n</ol>\n<p><code>@Value</code> is not necessaty just good to mention with this annotation you can get a property name from spring <code>application.properties</code> file.</p>\n<p>After this point you have created a @Bean instance of your class it is registered as a singleton class. You can get this one copy class from anywhere in your application you just have to, autowire it.</p>\n<p>Or user construcor based dependency injection. ( @Autowired is not prefered).</p>\n<ol start=\"2\">\n<li><p>Dont create beans just add <code>@Component</code> annotation to your class that you want to <code>Autowire</code> but I show a constructor injection.</p>\n<pre><code>@Component\npublic class WebsocketServerEndpoint {\n    public String test(){\n        return &quot;test&quot;;\n    }\n}\n\n@RestController\npublic class DoSomething {\n\n    private final WebsocketServerEndpoint websocketHandler;\n\n    public DoSomething(WebsocketServerEndpoint websocketHandler) {\n        this.websocketHandler = websocketHandler;\n    }\n\n    @GetMapping(value = &quot;/test&quot;)\n    public String test() {\n        return websocketHandler.test();\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>You can even test this endpoint with a curl GET request. <code>curl http://localhost:8080/test</code></p>\n"}],"owner":{"display_name":"user15676007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71368977,"answer_count":1,"score":0,"last_activity_date":1646558109,"creation_date":1645625030,"question_id":71238350,"body_markdown":"I am working on an application with a WebSocket and want to save the clients id and session to a manager but have difficulties to understand how to do this correct when I also want to be able to reach this from another class with autowire.\r\n\r\n\r\n    public class Client {\r\n    \r\n        private String id;\r\n        private Session session;\r\n        private MessageHandler handler;  \r\n    \r\n        Client(String id, Session session, MessageHandler handler) {\r\n            this.id = id;\r\n            this.session = session;\r\n            this.handler = handler;\r\n        }\r\n    }\r\n\r\n---------------------------------------------------\r\n\r\n\r\n    public class ClientsManager {\r\n    \r\n        private Set&lt;Client&gt; clientSet = new CopyOnWriteArraySet&lt;&gt;();\r\n    \r\n        public Set&lt;Client&gt; getClients() {\r\n            return this.clientSet;\r\n        } \r\n    \r\n        public void addClient(Client client) {\r\n            this.clientSet.add(client);\r\n        }\r\n    \r\n        public void removeClient(Client client) {\r\n            clientSet.remove(client);\r\n        }\r\n    }  \r\n\r\n                        \r\n\r\n---------------------------------------------------\r\n\r\n    public class WebsocketServerEndpoint         {\r\n    \r\n        public static final ClientsManager manageClients = new ClientsManager();\r\n    \r\n        @OnOpen\r\n        public void onOpen(Session session, @PathParam(&quot;connectId&quot;) String connectId) throws IOException, EncodeException {\r\n    \r\n            MessageHandler messageHandler = new MessageHandler();\r\n            Client client = new Client(connectId, session, messageHandler);\r\n            this.client = client;\r\n            manageClients.addClient(client);\r\n        }\r\n            ....\r\n            ....\r\n            ....\r\n            ....\r\n    \r\n    }\r\n\r\n From another class:\r\n\r\n    public class DoSomething       {\r\n    \r\n            @Autowired\r\n            WebsocketServerEndpoint serverEndpoint;\r\n    \r\n            public String doSomething()  {\r\n            int numberOfClients = serverEndpoint.getClients().size()\r\n            return numberOfClients;\r\n           }\r\n    }\r\n\r\nAs I understand. This is not correct and you should not autowire static fields and so.\r\n\r\nI can see when I debug that serverEndpoint: null in my DoSomething class but I get 1 connected client if I have one connected and so on.\r\nWhen I do like this I will get the right number of clients in DoSomething class.\r\nHave I just misunderstood this and it works as I have done?\r\nor how should I do instead?\r\nIs their a better way to write my Client and ClientsManager classes?\r\n\r\nWhat I have read that if I would like to &quot;Autowire&quot; anyway there is two possible ways.\r\n\r\n1. Using Constructor @Autowired For Static Field\r\n2. Using @PostConstruct to set the value to Static Field\r\n\r\nBut how does this work when I would like to instantiate   &quot;public static final ClientsManager manageClients = new ClientsManager();&quot;\r\n\r\nSorry for my stupid question but I feel I do not fully understand this.","title":"How to create a Websocket SessionManager that are reachable from other classes","body":"<p>I am working on an application with a WebSocket and want to save the clients id and session to a manager but have difficulties to understand how to do this correct when I also want to be able to reach this from another class with autowire.</p>\n<pre><code>public class Client {\n\n    private String id;\n    private Session session;\n    private MessageHandler handler;  \n\n    Client(String id, Session session, MessageHandler handler) {\n        this.id = id;\n        this.session = session;\n        this.handler = handler;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class ClientsManager {\n\n    private Set&lt;Client&gt; clientSet = new CopyOnWriteArraySet&lt;&gt;();\n\n    public Set&lt;Client&gt; getClients() {\n        return this.clientSet;\n    } \n\n    public void addClient(Client client) {\n        this.clientSet.add(client);\n    }\n\n    public void removeClient(Client client) {\n        clientSet.remove(client);\n    }\n}  \n\n                    \n</code></pre>\n<hr />\n<pre><code>public class WebsocketServerEndpoint         {\n\n    public static final ClientsManager manageClients = new ClientsManager();\n\n    @OnOpen\n    public void onOpen(Session session, @PathParam(&quot;connectId&quot;) String connectId) throws IOException, EncodeException {\n\n        MessageHandler messageHandler = new MessageHandler();\n        Client client = new Client(connectId, session, messageHandler);\n        this.client = client;\n        manageClients.addClient(client);\n    }\n        ....\n        ....\n        ....\n        ....\n\n}\n</code></pre>\n<p>From another class:</p>\n<pre><code>public class DoSomething       {\n\n        @Autowired\n        WebsocketServerEndpoint serverEndpoint;\n\n        public String doSomething()  {\n        int numberOfClients = serverEndpoint.getClients().size()\n        return numberOfClients;\n       }\n}\n</code></pre>\n<p>As I understand. This is not correct and you should not autowire static fields and so.</p>\n<p>I can see when I debug that serverEndpoint: null in my DoSomething class but I get 1 connected client if I have one connected and so on.\nWhen I do like this I will get the right number of clients in DoSomething class.\nHave I just misunderstood this and it works as I have done?\nor how should I do instead?\nIs their a better way to write my Client and ClientsManager classes?</p>\n<p>What I have read that if I would like to &quot;Autowire&quot; anyway there is two possible ways.</p>\n<ol>\n<li>Using Constructor @Autowired For Static Field</li>\n<li>Using @PostConstruct to set the value to Static Field</li>\n</ol>\n<p>But how does this work when I would like to instantiate   &quot;public static final ClientsManager manageClients = new ClientsManager();&quot;</p>\n<p>Sorry for my stupid question but I feel I do not fully understand this.</p>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646355635,"creation_date":1646355635,"answer_id":71345512,"question_id":71345416,"body_markdown":"&gt; import com.google.common.collect.Ordering;\r\n\r\nAnd \r\n\r\n&gt; assertTrue(Ordering.natural().isOrdered(list));","title":"How can I test whether a list is sorted with AssertJ","body":"<blockquote>\n<p>import com.google.common.collect.Ordering;</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p>assertTrue(Ordering.natural().isOrdered(list));</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646392362,"creation_date":1646392362,"answer_id":71350602,"question_id":71345416,"body_markdown":"AssertJ offers out of the box [`isSorted()`][1] and [`isSortedAccordingTo(Comparator)`][2] for list assertions:\r\n\r\n    List&lt;String&gt; strings = List.of(&quot;abc&quot;, &quot;DEF&quot;);\r\n    \r\n    assertThat(strings).isSorted(); // fails as &quot;abc&quot; is after &quot;DEF&quot; lexicographically\r\n    assertThat(strings).isSortedAccordingTo(String.CASE_INSENSITIVE_ORDER); // succeeds\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractListAssert.html#isSorted()\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractListAssert.html#isSortedAccordingTo(java.util.Comparator)","title":"How can I test whether a list is sorted with AssertJ","body":"<p>AssertJ offers out of the box <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractListAssert.html#isSorted()\" rel=\"noreferrer\"><code>isSorted()</code></a> and <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractListAssert.html#isSortedAccordingTo(java.util.Comparator)\" rel=\"noreferrer\"><code>isSortedAccordingTo(Comparator)</code></a> for list assertions:</p>\n<pre><code>List&lt;String&gt; strings = List.of(&quot;abc&quot;, &quot;DEF&quot;);\n\nassertThat(strings).isSorted(); // fails as &quot;abc&quot; is after &quot;DEF&quot; lexicographically\nassertThat(strings).isSortedAccordingTo(String.CASE_INSENSITIVE_ORDER); // succeeds\n</code></pre>\n"}],"owner":{"account_id":4185888,"reputation":2459,"user_id":3429660,"accept_rate":67,"display_name":"user3429660"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646573007,"accepted_answer_id":71350602,"answer_count":2,"score":1,"last_activity_date":1646557873,"creation_date":1646354702,"question_id":71345416,"body_markdown":"Given\r\n\r\n    List&lt;Integer&gt; list = ...\r\n\r\nI would like to test with AssertJ whether it is sorted. Something like:\r\n\r\n    assertThat(list).isSorted()\r\n\r\nIs it possible?","title":"How can I test whether a list is sorted with AssertJ","body":"<p>Given</p>\n<pre><code>List&lt;Integer&gt; list = ...\n</code></pre>\n<p>I would like to test with AssertJ whether it is sorted. Something like:</p>\n<pre><code>assertThat(list).isSorted()\n</code></pre>\n<p>Is it possible?</p>\n"},{"tags":["java","math","constraints","cplex","mixed-integer-programming"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1646557717,"post_id":71368882,"comment_id":126149200,"body_markdown":"*&quot;Does Java contain an integral library&quot;* No.","body":"<i>&quot;Does Java contain an integral library&quot;</i> No."},{"owner":{"account_id":23834149,"reputation":1,"user_id":17840082,"display_name":"E.sop"},"score":0,"creation_date":1646558133,"post_id":71368882,"comment_id":126149263,"body_markdown":"@Olivier is there any method to do so?","body":"@Olivier is there any method to do so?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1646558848,"post_id":71368882,"comment_id":126149387,"body_markdown":"Why don&#39;t you just read the documentation of CPLEX?","body":"Why don&#39;t you just read the documentation of CPLEX?"},{"owner":{"account_id":23834149,"reputation":1,"user_id":17840082,"display_name":"E.sop"},"score":0,"creation_date":1646560002,"post_id":71368882,"comment_id":126149550,"body_markdown":"@Olivier that&#39;s what Im gonna do, Thank you.","body":"@Olivier that&#39;s what Im gonna do, Thank you."}],"owner":{"account_id":23834149,"reputation":1,"user_id":17840082,"display_name":"E.sop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646557025,"creation_date":1646557025,"question_id":71368882,"body_markdown":"I started Java programming 2 months ago. I don&#39;t know how to code a constraint in the Java+Cplex library. This constraint contains an integral. Does Java contain an integral library already and I&#39;ll need just to enter the bounds or is there another method for this? \r\n\r\n     //constraints\r\n                IloLinearNumExpr capacity= cplex.linearIntExpr();\r\n                capacity.addTerms();\r\n    // the constraint is I-integral(P)dt+ Ps(t1-t0)&gt;Ilow\r\n\r\n\r\n   \r\n\r\n","title":"How to code a constaint that contains an integral in java &amp;cplex?","body":"<p>I started Java programming 2 months ago. I don't know how to code a constraint in the Java+Cplex library. This constraint contains an integral. Does Java contain an integral library already and I'll need just to enter the bounds or is there another method for this?</p>\n<pre><code> //constraints\n            IloLinearNumExpr capacity= cplex.linearIntExpr();\n            capacity.addTerms();\n// the constraint is I-integral(P)dt+ Ps(t1-t0)&gt;Ilow\n</code></pre>\n"},{"tags":["java","android","excel","apache-poi"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1635489074,"post_id":69764522,"comment_id":123316837,"body_markdown":"Can you give the plain String values of `path`, `fileName` and `context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)`","body":"Can you give the plain String values of <code>path</code>, <code>fileName</code> and <code>context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)</code>"},{"owner":{"account_id":18006557,"reputation":21,"user_id":13087207,"display_name":"Rajendra Shrestha"},"score":0,"creation_date":1635489345,"post_id":69764522,"comment_id":123316903,"body_markdown":"path = /storage/emulated/0/Android/data/aa.bb.com.modules.tabbank/files/Download/CollectionReport1635487787565.xls\nfilename = CollectionReport1635487787565.xls\ncontext.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) = /storage/emulated/0/Android/data/aa.bb.com.modules.tabbank/files/Download/","body":"path = /storage/emulated/0/Android/data/aa.bb.com.modules.tabbank/f&zwnj;&#8203;iles/Download/Collec&zwnj;&#8203;tionReport1635487787&zwnj;&#8203;565.xls filename = CollectionReport1635487787565.xls context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) = /storage/emulated/0/Android/data/aa.bb.com.modules.tabbank/f&zwnj;&#8203;iles/Download/"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1635490914,"post_id":69764522,"comment_id":123317378,"body_markdown":"Think that you created it yourself testing your code. Delete Download directory and try again.","body":"Think that you created it yourself testing your code. Delete Download directory and try again."},{"owner":{"account_id":18006557,"reputation":21,"user_id":13087207,"display_name":"Rajendra Shrestha"},"score":0,"creation_date":1635851979,"post_id":69764522,"comment_id":123397651,"body_markdown":"still not working by deleting the directory","body":"still not working by deleting the directory"}],"owner":{"account_id":18006557,"reputation":21,"user_id":13087207,"display_name":"Rajendra Shrestha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646556725,"creation_date":1635488816,"question_id":69764522,"body_markdown":"I am using Apache POI on android to export an excel file for my offline database. While creating a file instead of creating a .xls file its generates directories\r\n\r\n    //filename = &quot;collectionreport.xls&quot; \r\n    String path  = context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)+File.separator+fileName;\r\n        \r\n    File file = new File(path);\r\n    FileOutputStream fileOutputStream = null;\r\n    \r\n    try {\r\n       fileOutputStream = new FileOutputStream(file);\r\n        workbook.write(fileOutputStream);\r\n        Log.e(TAG, &quot;Writing file&quot; + file);\r\n        isSuccess = true;\r\n    } catch (IOException e) {\r\n        Log.e(TAG, &quot;Error writing Exception: &quot;, e);\r\n        isSuccess = false;\r\n    } catch (Exception e) {\r\n        Log.e(TAG, &quot;Failed to save file due to Exception: &quot;, e);\r\n        isSuccess = false;\r\n    }\r\n\r\nerror:\r\n\r\n    java.io.FileNotFoundException: /storage/emulated/0/Android/data/aa.bb.com.modules.tabbank/files/Download/CollectionReport163548565.xls (Is a directory)\r\n                at java.io.FileOutputStream.open0(Native Method)\r\n                at java.io.FileOutputStream.open(FileOutputStream.java:287)\r\n                at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:223)\r\n                at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:110)```\r\n\r\nEDIT: It automatically worked after restarting my computer running on linux and re installing the application\r\n","title":"Directory is generating instead of excel file","body":"<p>I am using Apache POI on android to export an excel file for my offline database. While creating a file instead of creating a .xls file its generates directories</p>\n<pre><code>//filename = &quot;collectionreport.xls&quot; \nString path  = context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)+File.separator+fileName;\n    \nFile file = new File(path);\nFileOutputStream fileOutputStream = null;\n\ntry {\n   fileOutputStream = new FileOutputStream(file);\n    workbook.write(fileOutputStream);\n    Log.e(TAG, &quot;Writing file&quot; + file);\n    isSuccess = true;\n} catch (IOException e) {\n    Log.e(TAG, &quot;Error writing Exception: &quot;, e);\n    isSuccess = false;\n} catch (Exception e) {\n    Log.e(TAG, &quot;Failed to save file due to Exception: &quot;, e);\n    isSuccess = false;\n}\n</code></pre>\n<p>error:</p>\n<pre><code>java.io.FileNotFoundException: /storage/emulated/0/Android/data/aa.bb.com.modules.tabbank/files/Download/CollectionReport163548565.xls (Is a directory)\n            at java.io.FileOutputStream.open0(Native Method)\n            at java.io.FileOutputStream.open(FileOutputStream.java:287)\n            at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:223)\n            at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:110)```\n</code></pre>\n<p>EDIT: It automatically worked after restarting my computer running on linux and re installing the application</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4557100,"reputation":2191,"user_id":3700524,"display_name":"Mohsen_Fatemi"},"score":0,"creation_date":1485726753,"post_id":41926336,"comment_id":71033240,"body_markdown":"it means the input argument , in this case input is `cost` and it supposed to be `int`","body":"it means the input argument , in this case input is <code>cost</code> and it supposed to be <code>int</code>"},{"owner":{"account_id":4557100,"reputation":2191,"user_id":3700524,"display_name":"Mohsen_Fatemi"},"score":0,"creation_date":1485726773,"post_id":41926336,"comment_id":71033246,"body_markdown":"seems to be a Constructor ...","body":"seems to be a Constructor ..."},{"owner":{"account_id":4557100,"reputation":2191,"user_id":3700524,"display_name":"Mohsen_Fatemi"},"score":1,"creation_date":1485726812,"post_id":41926336,"comment_id":71033262,"body_markdown":"it was better if we can see the whole code","body":"it was better if we can see the whole code"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1485727029,"post_id":41926336,"comment_id":71033323,"body_markdown":"I&#39;m voting to close this question as off-topic because the question is just too basic. Please read a java tutorial and get to know the terms used when talking about code.","body":"I&#39;m voting to close this question as off-topic because the question is just too basic. Please read a java tutorial and get to know the terms used when talking about code."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646430183,"post_id":41926336,"comment_id":126129591,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10135033,"reputation":138,"user_id":7486918,"display_name":"Lupus Nox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485807011,"creation_date":1485726943,"answer_id":41926391,"question_id":41926336,"body_markdown":"Passing a value is sending a specified value to be used by a method or a class. \r\n\r\nIn the line you displayed, the value of an integer called *cost* is passed to the class object *Money* (I assume it is a class, since classes are usually capitalized) by another object. \r\n\r\nThe parameters of a method are the values that must be passed by whatever object calls it. \r\n\r\nPassing is just sending a value to that object from another object. Whatever is in the parentheses when you call a method or a class is what is being passed to it (though when passed to a class, a constructor must be present). ","title":"Pass a value in java confusion","body":"<p>Passing a value is sending a specified value to be used by a method or a class. </p>\n\n<p>In the line you displayed, the value of an integer called <em>cost</em> is passed to the class object <em>Money</em> (I assume it is a class, since classes are usually capitalized) by another object. </p>\n\n<p>The parameters of a method are the values that must be passed by whatever object calls it. </p>\n\n<p>Passing is just sending a value to that object from another object. Whatever is in the parentheses when you call a method or a class is what is being passed to it (though when passed to a class, a constructor must be present). </p>\n"},{"tags":[],"owner":{"account_id":6583530,"reputation":182,"user_id":5087059,"display_name":"Kevin Wang"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1513972167,"creation_date":1485727082,"answer_id":41926411,"question_id":41926336,"body_markdown":"In Java, from the outcome, you will see that:\r\n\r\n- when you pass a primitive type of value, like int, double, float, etc, however you modify the value in the accepting method, the value of the original variable won&#39;t change.\r\n\r\n- when you pass an object, if you modify the object data in the accepting method, you&#39;re modifying the original object.\r\n\r\nKnowing this, you know what outcome you are expecting when you are writing code.\r\n\r\nAs to the terminology, please refer to other answers/comments for more details.","title":"Pass a value in java confusion","body":"<p>In Java, from the outcome, you will see that:</p>\n\n<ul>\n<li><p>when you pass a primitive type of value, like int, double, float, etc, however you modify the value in the accepting method, the value of the original variable won't change.</p></li>\n<li><p>when you pass an object, if you modify the object data in the accepting method, you're modifying the original object.</p></li>\n</ul>\n\n<p>Knowing this, you know what outcome you are expecting when you are writing code.</p>\n\n<p>As to the terminology, please refer to other answers/comments for more details.</p>\n"},{"tags":[],"owner":{"account_id":4494015,"reputation":3182,"user_id":3654356,"accept_rate":83,"display_name":"orvi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1485727642,"creation_date":1485727642,"answer_id":41926494,"question_id":41926336,"body_markdown":"Java does manipulate objects by reference, and all object variables are references. However, Java doesn&#39;t pass method arguments by reference; it passes them by value. \r\n\r\ntake the example of that code :\r\n\r\n    public void Money (int cost)\r\n    {\r\n     cost = cost + 2;\r\n    }\r\n\r\nNote that the `cost` variable has 2 added to it. Now, suppose that we have some code which calls the method Money:\r\n\r\n    public static void main(String [] args)\r\n    {\r\n    int passing = 3;\r\n    Money (passing);\r\n    System.out.println(&quot;The value of passing is: &quot; + passing);\r\n    }\r\n\r\nIn the main method, we set the variable `passing` to 3, and then pass that variable to the `Money` method, which then adds 2 to the variable passed in.\r\n\r\nWhat do you think the `System.out.println` call will print out? Well, if you thought it would print out a `5` you are wrong. It will actually print out a `3`. Why does it print out a 3 when we clearly added a 2 to the value in the Money method?\r\n\r\nThe reason it prints out a `3` is because Java passes arguments by value – which means that when the call to `Money` is made, Java will just create a copy of the `passing` variable and that copy is what gets passed to the Money method – and not the original variable stored in the `main` method. This is why whatever happens to `cost` inside the Money method does not affect the `passing` variable inside the main method.  ","title":"Pass a value in java confusion","body":"<p>Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value. </p>\n\n<p>take the example of that code :</p>\n\n<pre><code>public void Money (int cost)\n{\n cost = cost + 2;\n}\n</code></pre>\n\n<p>Note that the <code>cost</code> variable has 2 added to it. Now, suppose that we have some code which calls the method Money:</p>\n\n<pre><code>public static void main(String [] args)\n{\nint passing = 3;\nMoney (passing);\nSystem.out.println(\"The value of passing is: \" + passing);\n}\n</code></pre>\n\n<p>In the main method, we set the variable <code>passing</code> to 3, and then pass that variable to the <code>Money</code> method, which then adds 2 to the variable passed in.</p>\n\n<p>What do you think the <code>System.out.println</code> call will print out? Well, if you thought it would print out a <code>5</code> you are wrong. It will actually print out a <code>3</code>. Why does it print out a 3 when we clearly added a 2 to the value in the Money method?</p>\n\n<p>The reason it prints out a <code>3</code> is because Java passes arguments by value – which means that when the call to <code>Money</code> is made, Java will just create a copy of the <code>passing</code> variable and that copy is what gets passed to the Money method – and not the original variable stored in the <code>main</code> method. This is why whatever happens to <code>cost</code> inside the Money method does not affect the <code>passing</code> variable inside the main method.  </p>\n"}],"owner":{"account_id":10135789,"reputation":9,"user_id":7487383,"display_name":"ODor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":41926494,"answer_count":3,"score":-1,"last_activity_date":1646556609,"creation_date":1485726592,"question_id":41926336,"body_markdown":"I&#39;m new to programming. In layman terms, what does it mean when somebody says &quot;Pass a value&quot;?\r\n\r\nI was told something like:\r\n\r\n    public Money (int cost)\r\n\r\nNeeds to pass a value and I don&#39;t understand what is meant.\r\n\r\n\r\n","title":"Pass a value in java confusion","body":"<p>I'm new to programming. In layman terms, what does it mean when somebody says &quot;Pass a value&quot;?</p>\n<p>I was told something like:</p>\n<pre><code>public Money (int cost)\n</code></pre>\n<p>Needs to pass a value and I don't understand what is meant.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1646435123,"post_id":71357885,"comment_id":126130610,"body_markdown":"However, when it&#39;s annotated with `@BeforeMethod` you&#39;re not going to make it any more generic, but can can only call to another generic method, with alternating types of class.","body":"However, when it&#39;s annotated with <code>@BeforeMethod</code> you&#39;re not going to make it any more generic, but can can only call to another generic method, with alternating types of class."},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1646435204,"post_id":71357885,"comment_id":126130624,"body_markdown":"@MartinZeitler thanks for the comment, will it be fine if you can please provide a code sample for this like should be: public void helper(Class&lt;T&gt; cls,...)?","body":"@MartinZeitler thanks for the comment, will it be fine if you can please provide a code sample for this like should be: public void helper(Class&lt;T&gt; cls,...)?"},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1646435254,"post_id":71357885,"comment_id":126130635,"body_markdown":"@MartinZeitler Yes that is what I am trying to do, I want to call a generic method and I am not sure how to pass the class to the method, over here PickEvent.","body":"@MartinZeitler Yes that is what I am trying to do, I want to call a generic method and I am not sure how to pass the class to the method, over here PickEvent."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1646435349,"post_id":71357885,"comment_id":126130654,"body_markdown":"It&#39;s difficult to tell by the example, if the annotation is even the correct one for the test case, but such generic method can return generic types, which have to be asserted with `instanceof`.","body":"It&#39;s difficult to tell by the example, if the annotation is even the correct one for the test case, but such generic method can return generic types, which have to be asserted with <code>instanceof</code>."}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646556586,"answer_count":0,"score":0,"last_activity_date":1646556565,"creation_date":1646433156,"question_id":71357885,"body_markdown":"I have a method which is as shown below:\r\n\r\n    public class TestAssertionPickEvent {     \r\n         PickEvent pickeventMq;\r\n         PickEvent pickeventKafka;\r\n         JsonNode messagefromKafka;\r\n         JsonNode messagetoMQueue;\r\n\r\n         @BeforeMethod\r\n         public void before(){\r\n           \r\n    \r\n            String filepath = &quot;json/jsonfile.json&quot;;\r\n            String jsonPayload = Utils.readFromResources(filepath);\r\n            messagetoMQueue = objectMapper.readTree(jsonPayload);\r\n           //Sending msg to activeMQ\r\n            QueueSender qMessage = new QueueSender();\r\n           qMessage.messageSentInQueue(props.getProperty(&quot;queuename&quot;), jsonPayload, headers);\r\n           log.info(&quot;Message sent to mq service&quot;);\r\n\r\n           //Kafka consuming msg\r\n            List&lt;String&gt; message = \r\n            KafkaMessageConsumer.consumeMessage(props.getProperty(&quot;topicname&quot;));\r\n            log.info(&quot;Message {}&quot;, message.size());\r\n\r\n            //json to javaObject\r\n            log.info(&quot;Creating  json to java object&quot;);\r\n            for (String msg : message) {\r\n               pickeventKafka=objectMapper.readValue(msg, PickEvent.class);\r\n               log.info(pickeventKafka.toString());\r\n               messagefromKafka = objectMapper.readTree(msg);\r\n             }\r\n           compareJson(messagefromKafka,messagetoMQueue);\r\n       } catch (Exception e) {\r\n          e.printStackTrace();\r\n      }\r\n\r\nI want to make this method to be generic, but I am not sure as to how to pass the class and JsonNode as an argument to a helper method. Is there anyway of doing it?","title":"How to pass a classname as an argument java","body":"<p>I have a method which is as shown below:</p>\n<pre><code>public class TestAssertionPickEvent {     \n     PickEvent pickeventMq;\n     PickEvent pickeventKafka;\n     JsonNode messagefromKafka;\n     JsonNode messagetoMQueue;\n\n     @BeforeMethod\n     public void before(){\n       \n\n        String filepath = &quot;json/jsonfile.json&quot;;\n        String jsonPayload = Utils.readFromResources(filepath);\n        messagetoMQueue = objectMapper.readTree(jsonPayload);\n       //Sending msg to activeMQ\n        QueueSender qMessage = new QueueSender();\n       qMessage.messageSentInQueue(props.getProperty(&quot;queuename&quot;), jsonPayload, headers);\n       log.info(&quot;Message sent to mq service&quot;);\n\n       //Kafka consuming msg\n        List&lt;String&gt; message = \n        KafkaMessageConsumer.consumeMessage(props.getProperty(&quot;topicname&quot;));\n        log.info(&quot;Message {}&quot;, message.size());\n\n        //json to javaObject\n        log.info(&quot;Creating  json to java object&quot;);\n        for (String msg : message) {\n           pickeventKafka=objectMapper.readValue(msg, PickEvent.class);\n           log.info(pickeventKafka.toString());\n           messagefromKafka = objectMapper.readTree(msg);\n         }\n       compareJson(messagefromKafka,messagetoMQueue);\n   } catch (Exception e) {\n      e.printStackTrace();\n  }\n</code></pre>\n<p>I want to make this method to be generic, but I am not sure as to how to pass the class and JsonNode as an argument to a helper method. Is there anyway of doing it?</p>\n"},{"tags":["java","serialization","cdi","java-ee-7","weld"],"comments":[{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1489405877,"post_id":42697857,"comment_id":72640939,"body_markdown":"Did you check whether you used the correct Singleton-Annotation?","body":"Did you check whether you used the correct Singleton-Annotation?"},{"owner":{"account_id":950742,"reputation":2108,"user_id":976948,"accept_rate":75,"display_name":"RicardoS"},"score":0,"creation_date":1489411344,"post_id":42697857,"comment_id":72644486,"body_markdown":"I just checked @markus_, it&#39;s correct (`javax.inject.Singleton`)","body":"I just checked @markus_, it&#39;s correct (<code>javax.inject.Singleton</code>)"},{"owner":{"account_id":950742,"reputation":2108,"user_id":976948,"accept_rate":75,"display_name":"RicardoS"},"score":0,"creation_date":1489411684,"post_id":42697857,"comment_id":72644719,"body_markdown":"The weird part is that it used to work on CDI 1.0. The problem appeared after I update to CDI 1.2 and Weld 2.3.0. May be a bug?","body":"The weird part is that it used to work on CDI 1.0. The problem appeared after I update to CDI 1.2 and Weld 2.3.0. May be a bug?"}],"answers":[{"tags":[],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1489669483,"creation_date":1489669483,"answer_id":42834924,"question_id":42697857,"body_markdown":"Hm, I could reproduce your problem. I re-read CDI 1.0 and 1.2 specs. CDI 1.2 is actually somewhat clearer than CDI 1.0 and the changings in Weld are, as far as I can see, quite correct.\r\n\r\nSee http://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#passivating_scope\r\n\r\nFirst: Validation of producer-methods:\r\n\r\n6.6.5.Validation of passivation capable beans and dependencies\r\n&gt; If a producer method declares a passivating scope and:\r\n&gt; \r\n* has a return type that is declared final and does not implement or extend Serializable, or, \r\n* has an injection point that is not passivation capable.\r\n\r\n6.6.1.Passivation capable beans\r\n&gt; A producer method is passivation capable if and only if it never returns a value which is not passivation capable at runtime.\r\n\r\n**Conclusion**: A producer method MUST always be annotated with a passivation capable annotation if you want to use the result in a passivation capable scope.\r\n\r\nWell, which scopes are passivation capable? Answer: Only Session and conversation scopes plus your own ones that declare @NormalScope(passivating=true). Means, @Singleton is NOT (See 6.6.4.Passivation scopes).\r\n\r\nYou maybe can work around that problem, but:\r\n\r\nDo you really want the Singleton to be used in your conversationScope bean? When you conversationScoped-Bean will be passivated, your Singleton will be as well. You need to implement readResolve and writeReplace (see Serializable Api) to truly create a singleton. There will be no proxy object around it.\r\n\r\nRethink your solution, in most cases an (proxied) applicationScoped-Object is what you want.\r\n\r\nNevertheless, you actually can inject a @Singleton-Bean into a @ConversationScope via the standard @Inject mechanism (no producer, just plain inject). Please note, that a @Singleton-bean won&#39;t be automatically detected with a beans.xml and bean-discovery-mode=&quot;annotated&quot; (and you need readResolve etc. as stated).\r\n\r\nFinally: Does it make sense that you can plain-inject a singleton but cannot via producer method? I&#39;d say: no. But that&#39;s how it&#39;s written in the spec, I&#39;m sorry.\r\n\r\nGood luck.\r\n\r\n","title":"WELD-001413: The bean... has a non-passivation-capable dependency Producer Method (CDI 1.2)","body":"<p>Hm, I could reproduce your problem. I re-read CDI 1.0 and 1.2 specs. CDI 1.2 is actually somewhat clearer than CDI 1.0 and the changings in Weld are, as far as I can see, quite correct.</p>\n\n<p>See <a href=\"http://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#passivating_scope\" rel=\"nofollow noreferrer\">http://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#passivating_scope</a></p>\n\n<p>First: Validation of producer-methods:</p>\n\n<p>6.6.5.Validation of passivation capable beans and dependencies</p>\n\n<blockquote>\n  <p>If a producer method declares a passivating scope and:</p>\n  \n  <ul>\n  <li>has a return type that is declared final and does not implement or extend Serializable, or, </li>\n  <li>has an injection point that is not passivation capable.</li>\n  </ul>\n</blockquote>\n\n<p>6.6.1.Passivation capable beans</p>\n\n<blockquote>\n  <p>A producer method is passivation capable if and only if it never returns a value which is not passivation capable at runtime.</p>\n</blockquote>\n\n<p><strong>Conclusion</strong>: A producer method MUST always be annotated with a passivation capable annotation if you want to use the result in a passivation capable scope.</p>\n\n<p>Well, which scopes are passivation capable? Answer: Only Session and conversation scopes plus your own ones that declare @NormalScope(passivating=true). Means, @Singleton is NOT (See 6.6.4.Passivation scopes).</p>\n\n<p>You maybe can work around that problem, but:</p>\n\n<p>Do you really want the Singleton to be used in your conversationScope bean? When you conversationScoped-Bean will be passivated, your Singleton will be as well. You need to implement readResolve and writeReplace (see Serializable Api) to truly create a singleton. There will be no proxy object around it.</p>\n\n<p>Rethink your solution, in most cases an (proxied) applicationScoped-Object is what you want.</p>\n\n<p>Nevertheless, you actually can inject a @Singleton-Bean into a @ConversationScope via the standard @Inject mechanism (no producer, just plain inject). Please note, that a @Singleton-bean won't be automatically detected with a beans.xml and bean-discovery-mode=\"annotated\" (and you need readResolve etc. as stated).</p>\n\n<p>Finally: Does it make sense that you can plain-inject a singleton but cannot via producer method? I'd say: no. But that's how it's written in the spec, I'm sorry.</p>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":14518197,"reputation":1,"user_id":10486645,"display_name":"Zade Abderrahmane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646556560,"creation_date":1646556560,"answer_id":71368859,"question_id":42697857,"body_markdown":"In your facade of class ConfigurationReaderFacde add  @Stateless \r\n\r\n    @Stateless public class ConfigurationReaderFacde extends AbstractFacade&lt;ConfigurationReaderFacde&gt; { }\r\n","title":"WELD-001413: The bean... has a non-passivation-capable dependency Producer Method (CDI 1.2)","body":"<p>In your facade of class ConfigurationReaderFacde add  @Stateless</p>\n<pre><code>@Stateless public class ConfigurationReaderFacde extends AbstractFacade&lt;ConfigurationReaderFacde&gt; { }\n</code></pre>\n"}],"owner":{"account_id":950742,"reputation":2108,"user_id":976948,"accept_rate":75,"display_name":"RicardoS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42834924,"answer_count":2,"score":0,"last_activity_date":1646556560,"creation_date":1489069601,"question_id":42697857,"body_markdown":"I&#39;m trying to upgrade from CDI 1.0 to CDI 1.2 but i&#39;m facing the following problem:\r\n\r\n    org.jboss.weld.exceptions.UnserializableDependencyException: WELD-001413: The bean Managed Bean [class ViewProcessContext] with qualifiers [@Default @Named @Any] declares a passivating scope but has a non-passivation-capable dependency Producer Method [ConfigurationReader] with qualifiers [@Default @Any] declared as [[BackedAnnotatedMethod] @Produces @Default @Singleton public ConfigurationReaderProducer.process()]\r\n    \tat org.jboss.weld.bootstrap.Validator.validateInjectionPointPassivationCapable(Validator.java:442)\r\n    \tat org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:380)\r\n    \tat org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:277)\r\n    \tat org.jboss.weld.bootstrap.Validator.validateGeneralBean(Validator.java:130)\r\n    \tat org.jboss.weld.bootstrap.Validator.validateRIBean(Validator.java:151)\r\n    \tat org.jboss.weld.bootstrap.Validator.validateBean(Validator.java:494)\r\n    \tat org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:64)\r\n    \tat org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:62)\r\n    \tat org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)\r\n    \tat org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nThe codes, which works fine on CDI 1.0, are the following: \r\n\r\n**Where the error happens**: \r\n\r\n    @Named\r\n    @ConversationScoped\r\n    public class ViewProcessContext implements Externalizable {\r\n    //...\r\n    \t@Inject\r\n    \tprivate ConfigurationReader compReader;\r\n    //...\r\n    }\r\n\r\n**Injected dependency**:\r\n\r\n    public interface ConfigurationReader extends Serializable {\r\n    }\r\n\r\n**Producer:**\r\n\r\n    @ApplicationScoped\r\n    public class ConfigurationReaderProducer implements Externalizable {\r\n    //...\r\n    @Produces\r\n    \t@Default\r\n    \t@Singleton\r\n    \tpublic ConfigurationReader process() {\r\n        }\r\n    }\r\n\r\nAccording to [CDI spec][1]:\r\n\r\n&gt; A producer method is passivation capable if and only if it never\r\n&gt; returns a value which is not passivation capable at runtime.\r\n\r\nSo my producer always returns a passivation capable instance.  \r\nI can&#39;t understand why Weld complains about it.  \r\n\r\nWhat is invalid about the producer or the dependency in this case? \r\n\r\n\r\n  [1]: https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#passivation_capable","title":"WELD-001413: The bean... has a non-passivation-capable dependency Producer Method (CDI 1.2)","body":"<p>I'm trying to upgrade from CDI 1.0 to CDI 1.2 but i'm facing the following problem:</p>\n\n<pre><code>org.jboss.weld.exceptions.UnserializableDependencyException: WELD-001413: The bean Managed Bean [class ViewProcessContext] with qualifiers [@Default @Named @Any] declares a passivating scope but has a non-passivation-capable dependency Producer Method [ConfigurationReader] with qualifiers [@Default @Any] declared as [[BackedAnnotatedMethod] @Produces @Default @Singleton public ConfigurationReaderProducer.process()]\n    at org.jboss.weld.bootstrap.Validator.validateInjectionPointPassivationCapable(Validator.java:442)\n    at org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:380)\n    at org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:277)\n    at org.jboss.weld.bootstrap.Validator.validateGeneralBean(Validator.java:130)\n    at org.jboss.weld.bootstrap.Validator.validateRIBean(Validator.java:151)\n    at org.jboss.weld.bootstrap.Validator.validateBean(Validator.java:494)\n    at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:64)\n    at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:62)\n    at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)\n    at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>The codes, which works fine on CDI 1.0, are the following: </p>\n\n<p><strong>Where the error happens</strong>: </p>\n\n<pre><code>@Named\n@ConversationScoped\npublic class ViewProcessContext implements Externalizable {\n//...\n    @Inject\n    private ConfigurationReader compReader;\n//...\n}\n</code></pre>\n\n<p><strong>Injected dependency</strong>:</p>\n\n<pre><code>public interface ConfigurationReader extends Serializable {\n}\n</code></pre>\n\n<p><strong>Producer:</strong></p>\n\n<pre><code>@ApplicationScoped\npublic class ConfigurationReaderProducer implements Externalizable {\n//...\n@Produces\n    @Default\n    @Singleton\n    public ConfigurationReader process() {\n    }\n}\n</code></pre>\n\n<p>According to <a href=\"https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#passivation_capable\" rel=\"nofollow noreferrer\">CDI spec</a>:</p>\n\n<blockquote>\n  <p>A producer method is passivation capable if and only if it never\n  returns a value which is not passivation capable at runtime.</p>\n</blockquote>\n\n<p>So my producer always returns a passivation capable instance.<br>\nI can't understand why Weld complains about it.  </p>\n\n<p>What is invalid about the producer or the dependency in this case? </p>\n"},{"tags":["java","keycloak"],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646556504,"creation_date":1646556504,"question_id":71368850,"body_markdown":"I implemented a Userstorage SPI for Keycloak and I see that when I try to have my tokens, it uses both the `getUserByUsername()` and `getUserById()` method (https://www.keycloak.org/docs-api/13.0/javadocs/org/keycloak/storage/user/UserLookupProvider.html):\r\n\r\n1) I try to have my tokens like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI implemented the methods here (I know the logging message is not the best, this is just a tutorial project):\r\n\r\n```\r\npublic class UserStorageProviderImpl implements UserStorageProvider, UserLookupProvider, CredentialInputValidator, UserQueryProvider {\r\n   \r\n   ...\r\n\r\n   \t@Override\r\n\tpublic UserModel getUserByUsername(String username, RealmModel realm) {\r\n\t\tlog.info(&quot;------------------- username = &quot; + username);\r\n\t\tUser user = UserRepository.findByName(username, realm, model, session);\r\n\r\n\t\tAbstractUserAdapterImpl um = Mapper.toUserModel(session, realm, model, user);\r\n\r\n\t\treturn um;\r\n\t}\r\n\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(UserStorageProviderImpl.class);\r\n\r\n\t@Override\r\n\tpublic UserModel getUserById(String id, RealmModel realm) {\r\n\t\tlog.info(&quot;------------------- id = &quot; + id);\r\n\t\tStorageId sid = new StorageId(id);\r\n\t\tString name = sid.getExternalId();\r\n\t\tUser user = UserRepository.findByName(name, realm, model, session);\r\n\t\treturn Mapper.toUserModel(session, realm, model, user);\r\n\t}\r\n   \r\n}\r\n```\r\n\r\nAs you can see, both log messages can be seen (`------------------ username = ` and `-------------------- id = `)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMy question is: why? Sadly I did not find any information in the documents about the flow it works. How each methods following eachother.\r\n\r\n  [1]: https://i.stack.imgur.com/dKxfT.png\r\n  [2]: https://i.stack.imgur.com/nagbm.png\r\n","title":"Keycloak Userstorage SPI: why both the getUserById() and getUserByUsername() called when I request for tokens?","body":"<p>I implemented a Userstorage SPI for Keycloak and I see that when I try to have my tokens, it uses both the <code>getUserByUsername()</code> and <code>getUserById()</code> method (<a href=\"https://www.keycloak.org/docs-api/13.0/javadocs/org/keycloak/storage/user/UserLookupProvider.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/13.0/javadocs/org/keycloak/storage/user/UserLookupProvider.html</a>):</p>\n<ol>\n<li>I try to have my tokens like this:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/dKxfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKxfT.png\" alt=\"enter image description here\" /></a></p>\n<p>I implemented the methods here (I know the logging message is not the best, this is just a tutorial project):</p>\n<pre><code>public class UserStorageProviderImpl implements UserStorageProvider, UserLookupProvider, CredentialInputValidator, UserQueryProvider {\n   \n   ...\n\n    @Override\n    public UserModel getUserByUsername(String username, RealmModel realm) {\n        log.info(&quot;------------------- username = &quot; + username);\n        User user = UserRepository.findByName(username, realm, model, session);\n\n        AbstractUserAdapterImpl um = Mapper.toUserModel(session, realm, model, user);\n\n        return um;\n    }\n\n\n    private static final Logger log = LoggerFactory.getLogger(UserStorageProviderImpl.class);\n\n    @Override\n    public UserModel getUserById(String id, RealmModel realm) {\n        log.info(&quot;------------------- id = &quot; + id);\n        StorageId sid = new StorageId(id);\n        String name = sid.getExternalId();\n        User user = UserRepository.findByName(name, realm, model, session);\n        return Mapper.toUserModel(session, realm, model, user);\n    }\n   \n}\n</code></pre>\n<p>As you can see, both log messages can be seen (<code>------------------ username = </code> and <code>-------------------- id = </code>)</p>\n<p><a href=\"https://i.stack.imgur.com/nagbm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nagbm.png\" alt=\"enter image description here\" /></a></p>\n<p>My question is: why? Sadly I did not find any information in the documents about the flow it works. How each methods following eachother.</p>\n"},{"tags":["java","dictionary","object","hashmap","translate"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1646464114,"post_id":71360148,"comment_id":126134309,"body_markdown":"What Java version are you using? A lot of methods were added to the [Map](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html) interface in Java 9.","body":"What Java version are you using? A lot of methods were added to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> interface in Java 9."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1646467184,"post_id":71360148,"comment_id":126134743,"body_markdown":"Does this answer your question? [JavaScript-like Object data type in Java?](https://stackoverflow.com/questions/26785759/javascript-like-object-data-type-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26785759/javascript-like-object-data-type-in-java\">JavaScript-like Object data type in Java?</a>"},{"owner":{"account_id":19645160,"reputation":171,"user_id":14570121,"display_name":"DavidNyan10"},"score":0,"creation_date":1646532771,"post_id":71360148,"comment_id":126146263,"body_markdown":"@Abra The latest version, `java 17 2021-09-14 LTS`","body":"@Abra The latest version, <code>java 17 2021-09-14 LTS</code>"},{"owner":{"account_id":19645160,"reputation":171,"user_id":14570121,"display_name":"DavidNyan10"},"score":0,"creation_date":1646532949,"post_id":71360148,"comment_id":126146276,"body_markdown":"@Joe The answer uses what I don&#39;t want (a bunch of long `.put`s)","body":"@Joe The answer uses what I don&#39;t want (a bunch of long <code>.put</code>s)"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646464606,"creation_date":1646464606,"answer_id":71360224,"question_id":71360148,"body_markdown":"In modern Java (14 and later) you can use a `record`:\r\n```\r\n    record Hello(String foo, String test, String world) { }\r\n```\r\nand create an instance like this:\r\n```\r\n    final Hello hello = new Hello(&quot;bar&quot;, &quot;world&quot;, &quot;david&quot;);\r\n```\r\nYou access the values like:\r\n```\r\nSystem.out.print(hello.foo());\r\n```\r\n\r\nUsing a record has the advantage that your data is statically typed -- you can&#39;t mistype a key, or forget to remove usages of a key you&#39;ve removed from the record.","title":"Javascript Objects but for Java","body":"<p>In modern Java (14 and later) you can use a <code>record</code>:</p>\n<pre><code>    record Hello(String foo, String test, String world) { }\n</code></pre>\n<p>and create an instance like this:</p>\n<pre><code>    final Hello hello = new Hello(&quot;bar&quot;, &quot;world&quot;, &quot;david&quot;);\n</code></pre>\n<p>You access the values like:</p>\n<pre><code>System.out.print(hello.foo());\n</code></pre>\n<p>Using a record has the advantage that your data is statically typed -- you can't mistype a key, or forget to remove usages of a key you've removed from the record.</p>\n"},{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646467583,"creation_date":1646467583,"answer_id":71360507,"question_id":71360148,"body_markdown":"IN Java 14 and beyond, I would recommand using a record, as explained in the other answer.\r\nIt&#39;s the safest and also probably the most efficient way.\r\n\r\nFor Java 9 to 14, you may use `Map.of(&quot;hello&quot;, &quot;world&quot;, &quot;foo&quot;, &quot;bar&quot;);`.\r\nBut you may not be able to go beyond a certain number of key/value pairs.\r\n\r\nFor java 8 and below, or if you exceed the number of arguments allowed with Map.of, you don&#39;t have other choice than create an empty map and put key/value pairs one by one.\r\nNote however that, performances aren&#39;t necessarily going to be worse.\r\nYou can of course reimplement your own version of Map.of with variable number of arguments.\r\n","title":"Javascript Objects but for Java","body":"<p>IN Java 14 and beyond, I would recommand using a record, as explained in the other answer.\nIt's the safest and also probably the most efficient way.</p>\n<p>For Java 9 to 14, you may use <code>Map.of(&quot;hello&quot;, &quot;world&quot;, &quot;foo&quot;, &quot;bar&quot;);</code>.\nBut you may not be able to go beyond a certain number of key/value pairs.</p>\n<p>For java 8 and below, or if you exceed the number of arguments allowed with Map.of, you don't have other choice than create an empty map and put key/value pairs one by one.\nNote however that, performances aren't necessarily going to be worse.\nYou can of course reimplement your own version of Map.of with variable number of arguments.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646493877,"creation_date":1646493877,"answer_id":71363438,"question_id":71360148,"body_markdown":"Since you need something constant like, you can save those values in files and read from those files. For example save data in file in json format:\r\n```\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;, \r\n  &quot;test&quot;: &quot;world&quot;, \r\n  &quot;name&quot;: &quot;david&quot;\r\n}\r\n```\r\nThen parse this file to a `Map`.\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, Object&gt; map = mapper.readValue(ClassLoader.getSystemResourceAsStream(&quot;constants.json&quot;), Map.class);\r\n        map.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n    }\r\n}\r\n```\r\nThis example uses reading file as project resource and uses [ObjectMapper][1] to parse json to Map, but you can use any other tool for the same effect. If the data format is simple enough(string key to string value, no nested arrays, objects and such) you can save it in even simpler format and do the read, parse, add to map manually.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html","title":"Javascript Objects but for Java","body":"<p>Since you need something constant like, you can save those values in files and read from those files. For example save data in file in json format:</p>\n<pre><code>{\n  &quot;foo&quot;: &quot;bar&quot;, \n  &quot;test&quot;: &quot;world&quot;, \n  &quot;name&quot;: &quot;david&quot;\n}\n</code></pre>\n<p>Then parse this file to a <code>Map</code>.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        Map&lt;String, Object&gt; map = mapper.readValue(ClassLoader.getSystemResourceAsStream(&quot;constants.json&quot;), Map.class);\n        map.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n    }\n}\n</code></pre>\n<p>This example uses reading file as project resource and uses <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> to parse json to Map, but you can use any other tool for the same effect. If the data format is simple enough(string key to string value, no nested arrays, objects and such) you can save it in even simpler format and do the read, parse, add to map manually.</p>\n"}],"owner":{"account_id":19645160,"reputation":171,"user_id":14570121,"display_name":"DavidNyan10"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1646556362,"creation_date":1646463777,"question_id":71360148,"body_markdown":"How do I write this in Java?\r\n```js\r\n//js\r\n\r\nconst hello = {\r\n  foo: &quot;bar&quot;, \r\n  test: &quot;world&quot;, \r\n  name: &quot;david&quot;\r\n}\r\n```\r\nI want have a very long object, then refer it back like `hello[test]` or `hello[foo]`\r\n\r\nI&#39;ve heard of hashmaps, but you can only create an empty one and then add elements into it. \r\n\r\nI&#39;ve got a really long list like that in js. How can I copy those into Java? Doing .put() one by one would take forever, and I don&#39;t think that&#39;s efficient.\r\n\r\nAnd even if someone wrote a script to turn `uwu: &quot;owo&quot;` into `hello.put(&quot;uwu&quot;, &quot;owo&quot;);`, it&#39;d be ugly in the code with a big block of `hello.put()`s. \r\n\r\nI also don&#39;t want to create a new file for that (it only has around 34 lines) and want to keep it in the code. Also, because I have three more like these with 20-40 keys and values in each of them, I don&#39;t want to create three extra files with just 30 lines in them. I also don&#39;t want to go into complexity of reading them. \r\n\r\nOh and also, I won&#39;t be changing the hashmap btw, just reading data like a constant. \r\n\r\nIn summary, can I do something like this in Java for long lists without doing .put()?\r\n```java\r\npublic HashMap&lt;String, String&gt; hello = new HashMap&lt;String, String&gt;(\r\n  &quot;foo&quot;: &quot;bar&quot;, \r\n  &quot;test&quot;: &quot;world&quot;, \r\n  &quot;name&quot;: &quot;david&quot;, \r\n  &quot;uwu&quot;: &quot;owo&quot;\r\n);\r\n```\r\nAnd refer to them like `hello[&quot;name&quot;]`? I also don&#39;t want this thing. \r\n```java\r\npublic HashMap&lt;String, String&gt; hello = new HashMap&lt;String, String&gt;();\r\nhello.put(&quot;foo&quot;, &quot;bar&quot;);\r\nhello.put(&quot;test&quot;, &quot;world&quot;);\r\nhello.put(&quot;name&quot;, &quot;david&quot;);\r\nhello.put(&quot;uwu&quot;, &quot;owo&quot;);\r\n//for 25 more lines\r\n\r\npublic HashMap&lt;String, String&gt; hello2 = new HashMap&lt;String, String&gt;();\r\nhello2.put(&quot;stuff&quot;, &quot;thing&quot;);\r\n//... for around 20 more lines\r\n\r\n//repeat for 3 more hashmaps\r\n```","title":"Javascript Objects but for Java","body":"<p>How do I write this in Java?</p>\n<pre class=\"lang-js prettyprint-override\"><code>//js\n\nconst hello = {\n  foo: &quot;bar&quot;, \n  test: &quot;world&quot;, \n  name: &quot;david&quot;\n}\n</code></pre>\n<p>I want have a very long object, then refer it back like <code>hello[test]</code> or <code>hello[foo]</code></p>\n<p>I've heard of hashmaps, but you can only create an empty one and then add elements into it.</p>\n<p>I've got a really long list like that in js. How can I copy those into Java? Doing .put() one by one would take forever, and I don't think that's efficient.</p>\n<p>And even if someone wrote a script to turn <code>uwu: &quot;owo&quot;</code> into <code>hello.put(&quot;uwu&quot;, &quot;owo&quot;);</code>, it'd be ugly in the code with a big block of <code>hello.put()</code>s.</p>\n<p>I also don't want to create a new file for that (it only has around 34 lines) and want to keep it in the code. Also, because I have three more like these with 20-40 keys and values in each of them, I don't want to create three extra files with just 30 lines in them. I also don't want to go into complexity of reading them.</p>\n<p>Oh and also, I won't be changing the hashmap btw, just reading data like a constant.</p>\n<p>In summary, can I do something like this in Java for long lists without doing .put()?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;String, String&gt; hello = new HashMap&lt;String, String&gt;(\n  &quot;foo&quot;: &quot;bar&quot;, \n  &quot;test&quot;: &quot;world&quot;, \n  &quot;name&quot;: &quot;david&quot;, \n  &quot;uwu&quot;: &quot;owo&quot;\n);\n</code></pre>\n<p>And refer to them like <code>hello[&quot;name&quot;]</code>? I also don't want this thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;String, String&gt; hello = new HashMap&lt;String, String&gt;();\nhello.put(&quot;foo&quot;, &quot;bar&quot;);\nhello.put(&quot;test&quot;, &quot;world&quot;);\nhello.put(&quot;name&quot;, &quot;david&quot;);\nhello.put(&quot;uwu&quot;, &quot;owo&quot;);\n//for 25 more lines\n\npublic HashMap&lt;String, String&gt; hello2 = new HashMap&lt;String, String&gt;();\nhello2.put(&quot;stuff&quot;, &quot;thing&quot;);\n//... for around 20 more lines\n\n//repeat for 3 more hashmaps\n</code></pre>\n"},{"tags":["java","string","file","parsing","byte"],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646554230,"creation_date":1646550197,"answer_id":71368305,"question_id":71368032,"body_markdown":"You can use an enum like this\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        System.out.println(10 * UNIT.calculateBytes(&quot;MB&quot;));\r\n    }\r\n    \r\n    enum UNIT {\r\n        B(1000), KB(1000), MB(1000), GB(1000), TB(1000);\r\n    \r\n        private int timesThanPreviousUnit;\r\n    \r\n        UNIT(int timesThanPreviousUnit) {\r\n            this.timesThanPreviousUnit = timesThanPreviousUnit;\r\n        }\r\n    \r\n        public static long calculateBytes(String symbol) {\r\n            long inBytes = 1;\r\n            UNIT inputUnit = UNIT.valueOf(symbol);\r\n            UNIT[] UNITList = UNIT.values();\r\n    \r\n            for (UNIT unit : UNITList) {\r\n                if (inputUnit.equals(unit)) {\r\n                    return inBytes;\r\n                }\r\n                inBytes *= unit.timesThanPreviousUnit;\r\n            }\r\n            return inBytes;\r\n        }\r\n    }","title":"How can I convert file size human-readable format into byte size in Java?","body":"<p>You can use an enum like this</p>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(10 * UNIT.calculateBytes(&quot;MB&quot;));\n}\n\nenum UNIT {\n    B(1000), KB(1000), MB(1000), GB(1000), TB(1000);\n\n    private int timesThanPreviousUnit;\n\n    UNIT(int timesThanPreviousUnit) {\n        this.timesThanPreviousUnit = timesThanPreviousUnit;\n    }\n\n    public static long calculateBytes(String symbol) {\n        long inBytes = 1;\n        UNIT inputUnit = UNIT.valueOf(symbol);\n        UNIT[] UNITList = UNIT.values();\n\n        for (UNIT unit : UNITList) {\n            if (inputUnit.equals(unit)) {\n                return inBytes;\n            }\n            inBytes *= unit.timesThanPreviousUnit;\n        }\n        return inBytes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646555881,"creation_date":1646554834,"answer_id":71368690,"question_id":71368032,"body_markdown":"Based on HariHaravelan&#39;s [answer](https://stackoverflow.com/a/71368305/16320675)\r\n\r\n````java\r\npublic enum Unit {\r\n    B(1), KB(1024), MB(1024*1024), GB((1024L*1024L*1024L)\r\n    ;\r\n    private final long multiplier;\r\n\r\n    private Unit(long multiplier) {\r\n        this.multiplier = multiplier;\r\n    }\r\n    \r\n    // IllegalArgumentException if the symbol is not recognized\r\n    public static long multiplier(String symbol) throws IllegalArgumentException {\r\n        return Unit.valueOf(symbol.toUpperCase()).multiplier;\r\n    }\r\n}\r\n````\r\n\r\nto be used as in  \r\n`long bytes = (long) (10.0 * Unit.multiplier(&quot;MB&quot;))`\r\n\r\n-----\r\n\r\nfor *scientific* units (KB = 1000), replace first line inside the `enum` (underscore between digits are ignored by Java):\r\n````java\r\npublic enum Unit {\r\n    B(1), KB(1_000), MB(1_000_000), GB((1_000_000_000)\r\n    ... rest as above\r\n````\r\n\r\n-----\r\n\r\nMore units can be added as needed - up to the limit of `long`, if more are required, the `multiplier` declaration can be changed to `BigDecimal` or `double` according use case/requirement.\r\n","title":"How can I convert file size human-readable format into byte size in Java?","body":"<p>Based on HariHaravelan's <a href=\"https://stackoverflow.com/a/71368305/16320675\">answer</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Unit {\n    B(1), KB(1024), MB(1024*1024), GB((1024L*1024L*1024L)\n    ;\n    private final long multiplier;\n\n    private Unit(long multiplier) {\n        this.multiplier = multiplier;\n    }\n    \n    // IllegalArgumentException if the symbol is not recognized\n    public static long multiplier(String symbol) throws IllegalArgumentException {\n        return Unit.valueOf(symbol.toUpperCase()).multiplier;\n    }\n}\n</code></pre>\n<p>to be used as in<br />\n<code>long bytes = (long) (10.0 * Unit.multiplier(&quot;MB&quot;))</code></p>\n<hr />\n<p>for <em>scientific</em> units (KB = 1000), replace first line inside the <code>enum</code> (underscore between digits are ignored by Java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Unit {\n    B(1), KB(1_000), MB(1_000_000), GB((1_000_000_000)\n    ... rest as above\n</code></pre>\n<hr />\n<p>More units can be added as needed - up to the limit of <code>long</code>, if more are required, the <code>multiplier</code> declaration can be changed to <code>BigDecimal</code> or <code>double</code> according use case/requirement.</p>\n"}],"owner":{"account_id":20306689,"reputation":1,"user_id":14894746,"display_name":"Cman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71368305,"answer_count":2,"score":-1,"last_activity_date":1646555881,"creation_date":1646546617,"question_id":71368032,"body_markdown":"I basically need to do the opposite of this:\r\nhttps://stackoverflow.com/questions/3758606/how-can-i-convert-byte-size-into-a-human-readable-format-in-java\r\n&lt;br&gt;\r\nInput: 10.0MB \r\n&lt;br&gt;\r\nOutpt: 10000000","title":"How can I convert file size human-readable format into byte size in Java?","body":"<p>I basically need to do the opposite of this:\n<a href=\"https://stackoverflow.com/questions/3758606/how-can-i-convert-byte-size-into-a-human-readable-format-in-java\">How can I convert byte size into a human-readable format in Java?</a>\n<br>\nInput: 10.0MB\n<br>\nOutpt: 10000000</p>\n"},{"tags":["java","rounding","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":6720755,"reputation":44,"user_id":5180875,"display_name":"Priyanshu Jha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1438439448,"creation_date":1438439448,"answer_id":31762945,"question_id":31762917,"body_markdown":"Multiply the number with `pow(10,n)` and store it in integer type &amp;  then again divide it by `pow(10,n)`","title":"How to truncate double to N decimal places?","body":"<p>Multiply the number with <code>pow(10,n)</code> and store it in integer type &amp;  then again divide it by <code>pow(10,n)</code></p>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438441610,"creation_date":1438440121,"answer_id":31763040,"question_id":31762917,"body_markdown":"Truncating a `double` to N decimal places is not really a question that makes any sense, because simple decimal numbers (e.g. `0.3`) cannot be represented as `double`s.\r\n\r\nIf you want to know the true value of the `double` `0.3` you can do \r\n\r\n    System.out.println(new BigDecimal(0.3));\r\n\r\nand you will see that it is really\r\n\r\n    0.299999999999999988897769753748434595763683319091796875\r\n\r\nSo `0.299` is the correct answer.\r\n\r\nThis question only really makes sense using `BigDecimal` and giving the answer as a `BigDecimal` or a `String`, not a `double`. @user1886323&#39;s answer shows how to do this.","title":"How to truncate double to N decimal places?","body":"<p>Truncating a <code>double</code> to N decimal places is not really a question that makes any sense, because simple decimal numbers (e.g. <code>0.3</code>) cannot be represented as <code>double</code>s.</p>\n\n<p>If you want to know the true value of the <code>double</code> <code>0.3</code> you can do </p>\n\n<pre><code>System.out.println(new BigDecimal(0.3));\n</code></pre>\n\n<p>and you will see that it is really</p>\n\n<pre><code>0.299999999999999988897769753748434595763683319091796875\n</code></pre>\n\n<p>So <code>0.299</code> is the correct answer.</p>\n\n<p>This question only really makes sense using <code>BigDecimal</code> and giving the answer as a <code>BigDecimal</code> or a <code>String</code>, not a <code>double</code>. @user1886323's answer shows how to do this.</p>\n"},{"tags":[],"owner":{"account_id":2123586,"reputation":1179,"user_id":1886323,"display_name":"user1886323"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1438441750,"creation_date":1438440502,"answer_id":31763102,"question_id":31762917,"body_markdown":"&quot;in particular to avoide the expensive conversion to String and back&quot; - This is exactly what avoids the loss of precision. You can&#39;t get arbitrary precision for free. \r\n\r\nIf you need arbitrary precision then you should not use `double` but instead do:\r\n\r\n    static String truncate(String value, int places) {\r\n    return new BigDecimal(value)\r\n        .setScale(places, RoundingMode.DOWN)\r\n        .stripTrailingZeros()\r\n        .toString()\r\n    }\r\n","title":"How to truncate double to N decimal places?","body":"<p>\"in particular to avoide the expensive conversion to String and back\" - This is exactly what avoids the loss of precision. You can't get arbitrary precision for free. </p>\n\n<p>If you need arbitrary precision then you should not use <code>double</code> but instead do:</p>\n\n<pre><code>static String truncate(String value, int places) {\nreturn new BigDecimal(value)\n    .setScale(places, RoundingMode.DOWN)\n    .stripTrailingZeros()\n    .toString()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8645763,"reputation":11,"user_id":18387960,"display_name":"kahlzun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646555766,"creation_date":1646555766,"answer_id":71368784,"question_id":31762917,"body_markdown":"I know this is an ancient post, but i just came up with a simple solution to it:\r\n\r\nHave a second double which recieves the modulo of the number you are truncating, and then subtracts it from the first. Example (truncate to one digit)\r\n````\r\n    double original = 23.875114784205696;\r\n    double truncater = original % 0.1;\r\n    //truncater now equals 0.075114784205696;\r\n    original - truncater = 23.8;\r\n````\r\n\r\nObviously this can be expanded to whatever truncation is needed, and while it presumably does not shrink the double in memory allocation, it *will* cut off the end for display purposes.","title":"How to truncate double to N decimal places?","body":"<p>I know this is an ancient post, but i just came up with a simple solution to it:</p>\n<p>Have a second double which recieves the modulo of the number you are truncating, and then subtracts it from the first. Example (truncate to one digit)</p>\n<pre><code>    double original = 23.875114784205696;\n    double truncater = original % 0.1;\n    //truncater now equals 0.075114784205696;\n    original - truncater = 23.8;\n</code></pre>\n<p>Obviously this can be expanded to whatever truncation is needed, and while it presumably does not shrink the double in memory allocation, it <em>will</em> cut off the end for display purposes.</p>\n"}],"owner":{"account_id":2031464,"reputation":1626,"user_id":1815052,"accept_rate":86,"display_name":"SqueezyMo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12103,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31763102,"answer_count":4,"score":5,"last_activity_date":1646555766,"creation_date":1438439293,"question_id":31762917,"body_markdown":"I want to round my double value down to N decimal places (say, one), esentially just leaving out all the digits that follow:\r\n\r\n\t0.123 #=&gt; 0.1\r\n\t0.19  #=&gt; 0.1\r\n\t0.2   #=&gt; 0.2\r\n\r\nThis question has been brought up numerous times, for example [here](https://stackoverflow.com/a/2808648/1815052) and [here](https://stackoverflow.com/a/5710926/1815052). The recommended approach is to use `BigDecimal` and then scale it, in particular to avoid expensive converting to string and back. The rounding mode I need is apparently `RoundingMode.DOWN`.\r\n\r\nSo the method is something like this:\r\n\r\n\tstatic double truncate(double value, int places) {\r\n\t\treturn new BigDecimal(value)\r\n\t\t\t.setScale(places, RoundingMode.DOWN)\r\n\t\t\t.doubleValue();\r\n\t}\r\n\r\nBut, due to the loss of precision, it returns somewhat unexpected results:\r\n\r\n\ttruncate(0.2, 1) #=&gt; 0.2\r\n\ttruncate(0.3, 1) #=&gt; 0.2\r\n\ttruncate(0.4, 1) #=&gt; 0.4\r\n\r\n\ttruncate(0.2, 3) #=&gt; 0.2\r\n\ttruncate(0.3, 3) #=&gt; 0.299\r\n\ttruncate(0.4, 3) #=&gt; 0.4\r\n\r\nThis begs for two questions:\r\n\r\n1. Is it how it&#39;s supposed to work for `0.3`? Why would there be a loss of precision in this case? Doesn&#39;t it defeat the whole purpose of having `BigDecimal`?\r\n\r\n2. How do I correctly truncate my values?\r\n\r\nThanks.","title":"How to truncate double to N decimal places?","body":"<p>I want to round my double value down to N decimal places (say, one), esentially just leaving out all the digits that follow:</p>\n\n<pre><code>0.123 #=&gt; 0.1\n0.19  #=&gt; 0.1\n0.2   #=&gt; 0.2\n</code></pre>\n\n<p>This question has been brought up numerous times, for example <a href=\"https://stackoverflow.com/a/2808648/1815052\">here</a> and <a href=\"https://stackoverflow.com/a/5710926/1815052\">here</a>. The recommended approach is to use <code>BigDecimal</code> and then scale it, in particular to avoid expensive converting to string and back. The rounding mode I need is apparently <code>RoundingMode.DOWN</code>.</p>\n\n<p>So the method is something like this:</p>\n\n<pre><code>static double truncate(double value, int places) {\n    return new BigDecimal(value)\n        .setScale(places, RoundingMode.DOWN)\n        .doubleValue();\n}\n</code></pre>\n\n<p>But, due to the loss of precision, it returns somewhat unexpected results:</p>\n\n<pre><code>truncate(0.2, 1) #=&gt; 0.2\ntruncate(0.3, 1) #=&gt; 0.2\ntruncate(0.4, 1) #=&gt; 0.4\n\ntruncate(0.2, 3) #=&gt; 0.2\ntruncate(0.3, 3) #=&gt; 0.299\ntruncate(0.4, 3) #=&gt; 0.4\n</code></pre>\n\n<p>This begs for two questions:</p>\n\n<ol>\n<li><p>Is it how it's supposed to work for <code>0.3</code>? Why would there be a loss of precision in this case? Doesn't it defeat the whole purpose of having <code>BigDecimal</code>?</p></li>\n<li><p>How do I correctly truncate my values?</p></li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":21497237,"reputation":11,"user_id":15842063,"display_name":"praveen Dudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646555659,"creation_date":1646385850,"question_id":71349192,"body_markdown":"trying to show a dialog on button click but getting java.lang.IllegalArgumentException: color and position arrays must be of equal length crash in android 9 and below. below is my Dialog box code\r\n\r\n```java\r\nsendPackagesDiolog = Dialog(this)\r\nsendPackagesDiolog?.requestWindowFeature(Window.FEATURE_NO_TITLE)\r\nsendPackagesDiolog?.window?.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\r\nsendPackagesDiolog?.setContentView(R.layout.send_packages_additem_popup)\r\nsendPackagesDiolog?.window?.setLayout(\r\n    WindowManager.LayoutParams.MATCH_PARENT,\r\n    WindowManager.LayoutParams.MATCH_PARENT\r\n)\r\n// sendPackagesDiolog?.window?.attributes?.windowAnimations = R.style.diologIntertnet\r\nsendPackagesDiolog?.setCanceledOnTouchOutside(true)\r\nsendPackagesDiolog?.show()\r\nval disable_gradientRl =\r\n    sendPackagesDiolog?.findViewById&lt;RelativeLayout&gt;(R.id.disable_gradientRl)\r\nval restrictiontxt = sendPackagesDiolog?.findViewById&lt;TextView&gt;(R.id.restrictiontxt)\r\nval restrictionLl = sendPackagesDiolog?.findViewById&lt;LinearLayout&gt;(R.id.restrictionLl)\r\n\r\nrestrictionLl!!.visibility = View.VISIBLE\r\ndynamicTextForCenter(\r\n    restrictiontxt!!,\r\n    &quot;Delivery of &quot;,\r\n    &quot;alcohal, tobacco or any illegal items &quot;,\r\n    &quot;prohibited by the Gov. of India.&quot;\r\n)\r\n}\r\n\r\nfun dynamicTextForCenter(\r\n    view: TextView,\r\n    start_str: String?,\r\n    change_color_str: String,\r\n    end_str: String?\r\n) {\r\n    view.text = &quot;&quot;\r\n    val str = SpannableString(change_color_str)\r\n    str.setSpan(\r\n        ForegroundColorSpan(Color.GREEN),\r\n        0,\r\n        str.length,\r\n        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\r\n    )\r\n    str.setSpan(StyleSpan(Typeface.NORMAL), 0, str.length, 0)\r\n    view.append(start_str)\r\n    view.append(str)\r\n    view.append(end_str)\r\n}\r\n```","title":"Getting following crash while showing a Dialog box in android9 and below. Above android version 9 its working fine","body":"<p>trying to show a dialog on button click but getting java.lang.IllegalArgumentException: color and position arrays must be of equal length crash in android 9 and below. below is my Dialog box code</p>\n<pre class=\"lang-java prettyprint-override\"><code>sendPackagesDiolog = Dialog(this)\nsendPackagesDiolog?.requestWindowFeature(Window.FEATURE_NO_TITLE)\nsendPackagesDiolog?.window?.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\nsendPackagesDiolog?.setContentView(R.layout.send_packages_additem_popup)\nsendPackagesDiolog?.window?.setLayout(\n    WindowManager.LayoutParams.MATCH_PARENT,\n    WindowManager.LayoutParams.MATCH_PARENT\n)\n// sendPackagesDiolog?.window?.attributes?.windowAnimations = R.style.diologIntertnet\nsendPackagesDiolog?.setCanceledOnTouchOutside(true)\nsendPackagesDiolog?.show()\nval disable_gradientRl =\n    sendPackagesDiolog?.findViewById&lt;RelativeLayout&gt;(R.id.disable_gradientRl)\nval restrictiontxt = sendPackagesDiolog?.findViewById&lt;TextView&gt;(R.id.restrictiontxt)\nval restrictionLl = sendPackagesDiolog?.findViewById&lt;LinearLayout&gt;(R.id.restrictionLl)\n\nrestrictionLl!!.visibility = View.VISIBLE\ndynamicTextForCenter(\n    restrictiontxt!!,\n    &quot;Delivery of &quot;,\n    &quot;alcohal, tobacco or any illegal items &quot;,\n    &quot;prohibited by the Gov. of India.&quot;\n)\n}\n\nfun dynamicTextForCenter(\n    view: TextView,\n    start_str: String?,\n    change_color_str: String,\n    end_str: String?\n) {\n    view.text = &quot;&quot;\n    val str = SpannableString(change_color_str)\n    str.setSpan(\n        ForegroundColorSpan(Color.GREEN),\n        0,\n        str.length,\n        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n    )\n    str.setSpan(StyleSpan(Typeface.NORMAL), 0, str.length, 0)\n    view.append(start_str)\n    view.append(str)\n    view.append(end_str)\n}\n</code></pre>\n"},{"tags":["java","android","broadcastreceiver","android-broadcast","android-broadcastreceiver"],"comments":[{"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"score":2,"creation_date":1509735877,"post_id":46971153,"comment_id":81155868,"body_markdown":"It seems your broadcast receiver activity/fragment is being destroyed by the system while the service is trying to send a broadcast. Look at the source code https://android.googlesource.com/platform/frameworks/base/+/master/services/core/java/com/android/server/am/BroadcastQueue.java line 498. This seems to be a random issue. A possible workaround can be to register broadcast receiver in onResume() and unregister the same in onPause() of the fragment/activity.","body":"It seems your broadcast receiver activity/fragment is being destroyed by the system while the service is trying to send a broadcast. Look at the source code <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/services/core/java/com/android/server/am/BroadcastQueue.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/master/&hellip;</a> line 498. This seems to be a random issue. A possible workaround can be to register broadcast receiver in onResume() and unregister the same in onPause() of the fragment/activity."}],"answers":[{"tags":[],"owner":{"account_id":7808016,"reputation":111,"user_id":5905229,"display_name":"klaust"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1510234182,"creation_date":1510234182,"answer_id":47203152,"question_id":46971153,"body_markdown":"I experienced the exact same thing, around the exact same time, with the same devices. The problem was ultimately related to the app I&#39;m supporting, but I think Samsung pushed out some type of update that started triggering the problem. Before the latter part of Oct, the app never had this issue. It was driving me nuts because I couldn&#39;t figure out which broadcast was triggering the problem.\r\n\r\nBased on user feedback, I finally narrowed it down and made the following changes:\r\n\r\n1) I went through the app and made sure that all custom &quot;action&quot; strings used for Intents included the app&#39;s package name. \r\n\r\n2) I switched from using Context::sendBroadcast() to LocalBroadcastManager::sendBroadcast(). \r\n\r\n[You can see my full answer on a different post here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47202944/5905229","title":"Fatal Exception: android.app.RemoteServiceException: can&#39;t deliver broadcast at android.os.Handler.dispatchMessage","body":"<p>I experienced the exact same thing, around the exact same time, with the same devices. The problem was ultimately related to the app I'm supporting, but I think Samsung pushed out some type of update that started triggering the problem. Before the latter part of Oct, the app never had this issue. It was driving me nuts because I couldn't figure out which broadcast was triggering the problem.</p>\n\n<p>Based on user feedback, I finally narrowed it down and made the following changes:</p>\n\n<p>1) I went through the app and made sure that all custom \"action\" strings used for Intents included the app's package name. </p>\n\n<p>2) I switched from using Context::sendBroadcast() to LocalBroadcastManager::sendBroadcast(). </p>\n\n<p><a href=\"https://stackoverflow.com/a/47202944/5905229\">You can see my full answer on a different post here</a></p>\n"},{"tags":[],"owner":{"account_id":2476005,"reputation":575,"user_id":2156644,"accept_rate":60,"display_name":"Asheesh"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1519042407,"creation_date":1519042407,"answer_id":48866003,"question_id":46971153,"body_markdown":"I was facing the same issue with my app, what I do is use LocalBroadcastManager instead of context. Android documents also suggest using LocalBroadcastManager for sending in-app broadcast receivers. \r\n\r\n    //register your receiver like this\r\n    LocalBroadcastManager.getInstance(this).registerReceiver(mMessageReceiver,\r\n              new IntentFilter(&quot;custom-event-name&quot;));\r\n\r\n    // unregister  like this\r\n    LocalBroadcastManager.getInstance(this).unregisterReceiver(mMessageReceiver);\r\n\r\n    // broadcastlike this\r\n    LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\r\n\r\nHope this will help. Thanks! :)","title":"Fatal Exception: android.app.RemoteServiceException: can&#39;t deliver broadcast at android.os.Handler.dispatchMessage","body":"<p>I was facing the same issue with my app, what I do is use LocalBroadcastManager instead of context. Android documents also suggest using LocalBroadcastManager for sending in-app broadcast receivers. </p>\n\n<pre><code>//register your receiver like this\nLocalBroadcastManager.getInstance(this).registerReceiver(mMessageReceiver,\n          new IntentFilter(\"custom-event-name\"));\n\n// unregister  like this\nLocalBroadcastManager.getInstance(this).unregisterReceiver(mMessageReceiver);\n\n// broadcastlike this\nLocalBroadcastManager.getInstance(this).sendBroadcast(intent);\n</code></pre>\n\n<p>Hope this will help. Thanks! :)</p>\n"},{"tags":[],"owner":{"account_id":6912215,"reputation":467,"user_id":5307634,"display_name":"MbPCM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646555173,"creation_date":1646554334,"answer_id":71368655,"question_id":46971153,"body_markdown":"I had the same problem. i was sending very long json string.\r\nwhen i just replaced string with &quot;hello&quot; (means very short string for testing if my code has problem) then it worked without error.\r\n\r\nso the problem is with what you are sending. try changing that and it will work.\r\n\r\n","title":"Fatal Exception: android.app.RemoteServiceException: can&#39;t deliver broadcast at android.os.Handler.dispatchMessage","body":"<p>I had the same problem. i was sending very long json string.\nwhen i just replaced string with &quot;hello&quot; (means very short string for testing if my code has problem) then it worked without error.</p>\n<p>so the problem is with what you are sending. try changing that and it will work.</p>\n"}],"owner":{"account_id":443590,"reputation":1599,"user_id":4596099,"accept_rate":61,"display_name":"SHIDHIN TS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26689,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":48866003,"answer_count":3,"score":39,"last_activity_date":1646555173,"creation_date":1509094552,"question_id":46971153,"body_markdown":"I am using broadcast messages on my android application (From io.socket I am sending broadcast messages to my Activity page). On some devices Samsung **SM-G950F** and **SM-A520F** I got an error &quot;`Fatal Exception: android.app.RemoteServiceException: can&#39;t deliver broadcast`&quot;. I got this error on Fabric crashlytics also I was not able to reproduce this issue. Here is the log I got from Fabric,\r\n\r\n       Fatal Exception: android.app.RemoteServiceException: can&#39;t deliver broadcast\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1813)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:154)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)","title":"Fatal Exception: android.app.RemoteServiceException: can&#39;t deliver broadcast at android.os.Handler.dispatchMessage","body":"<p>I am using broadcast messages on my android application (From io.socket I am sending broadcast messages to my Activity page). On some devices Samsung <strong>SM-G950F</strong> and <strong>SM-A520F</strong> I got an error \"<code>Fatal Exception: android.app.RemoteServiceException: can't deliver broadcast</code>\". I got this error on Fabric crashlytics also I was not able to reproduce this issue. Here is the log I got from Fabric,</p>\n\n<pre><code>   Fatal Exception: android.app.RemoteServiceException: can't deliver broadcast\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1813)\n   at android.os.Handler.dispatchMessage(Handler.java:102)\n   at android.os.Looper.loop(Looper.java:154)\n   at android.app.ActivityThread.main(ActivityThread.java:6776)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1646555386,"post_id":71368646,"comment_id":126148842,"body_markdown":"Please use a title that summarizes your actual question.","body":"Please use a title that summarizes your actual question."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646555049,"creation_date":1646555049,"answer_id":71368710,"question_id":71368646,"body_markdown":"&gt; I don&#39;t understand why output changes based on return true or false\r\n\r\nBecause that&#39;s not the important difference between the examples. The point here is that `Vampire` (i.e. `B`) inherits from `Monster` (i.e. `A`) and we want the behavior of calling `frighten` to change from the default of printing `&quot;arrrgh&quot;` and print `&quot;a bite?&quot;` instead. To do that we need to override `frighten` in the `Vampire` class. \r\n\r\nThe catch is that the base method and the overriding one must have\r\n\r\n1. the same name\r\n2. the same return type and\r\n3. the same arguments (meaning same number and same type, not necessarily same name). \r\n\r\n**All three of these conditions must be true**.\r\n\r\n---\r\n\r\n1. This satisfies all three conditions\r\n\r\n       boolean frighten(int d) {     \r\n           System.out.println(“arrrgh”); //A\r\n           return true;\r\n       }\r\n       boolean frighten(int x) {\r\n           System.out.println(“a bite?”);//B\r\n           return false;\r\n       }\r\n\r\n---\r\n\r\n2. Here `B` has a different return type, so it doesn&#39;t satisfy condition 2\r\n\r\n       boolean frighten(int x) {\r\n           System.out.println(“arrrgh”);//A\r\n           return true;\r\n       }\r\n       int frighten(int f) {\r\n           System.out.println(“a bite?”);//B\r\n           return 1;\r\n       }\r\n\r\n---\r\n\r\n3. Here `B` has another name entirely, so it doesn&#39;t satisfy condition 1.\r\n\r\n       boolean frighten(int x) {\r\n           System.out.println(“arrrgh”); //A\r\n           return false;\r\n       }\r\n       boolean scare(int x) {\r\n           System.out.println(“a bite?”);//B\r\n           return true;\r\n       }\r\n\r\n---\r\n\r\n4. Here the argument type for `B` is `byte` instead of `int`, so it doesn&#39;t satisfy condition 3.\r\n\r\n       boolean frighten(int z) {\r\n           System.out.println(“arrrgh”);//A\r\n           return true;\r\n       }\r\n       boolean frighten(byte b) {\r\n           System.out.println(“a bite?”);//B\r\n           return true;\r\n       }","title":"Java Head First Chapter 7 MonsterTestDrive Exercise","body":"<blockquote>\n<p>I don't understand why output changes based on return true or false</p>\n</blockquote>\n<p>Because that's not the important difference between the examples. The point here is that <code>Vampire</code> (i.e. <code>B</code>) inherits from <code>Monster</code> (i.e. <code>A</code>) and we want the behavior of calling <code>frighten</code> to change from the default of printing <code>&quot;arrrgh&quot;</code> and print <code>&quot;a bite?&quot;</code> instead. To do that we need to override <code>frighten</code> in the <code>Vampire</code> class.</p>\n<p>The catch is that the base method and the overriding one must have</p>\n<ol>\n<li>the same name</li>\n<li>the same return type and</li>\n<li>the same arguments (meaning same number and same type, not necessarily same name).</li>\n</ol>\n<p><strong>All three of these conditions must be true</strong>.</p>\n<hr />\n<ol>\n<li><p>This satisfies all three conditions</p>\n<pre><code>boolean frighten(int d) {     \n    System.out.println(“arrrgh”); //A\n    return true;\n}\nboolean frighten(int x) {\n    System.out.println(“a bite?”);//B\n    return false;\n}\n</code></pre>\n</li>\n</ol>\n<hr />\n<ol start=\"2\">\n<li><p>Here <code>B</code> has a different return type, so it doesn't satisfy condition 2</p>\n<pre><code>boolean frighten(int x) {\n    System.out.println(“arrrgh”);//A\n    return true;\n}\nint frighten(int f) {\n    System.out.println(“a bite?”);//B\n    return 1;\n}\n</code></pre>\n</li>\n</ol>\n<hr />\n<ol start=\"3\">\n<li><p>Here <code>B</code> has another name entirely, so it doesn't satisfy condition 1.</p>\n<pre><code>boolean frighten(int x) {\n    System.out.println(“arrrgh”); //A\n    return false;\n}\nboolean scare(int x) {\n    System.out.println(“a bite?”);//B\n    return true;\n}\n</code></pre>\n</li>\n</ol>\n<hr />\n<ol start=\"4\">\n<li><p>Here the argument type for <code>B</code> is <code>byte</code> instead of <code>int</code>, so it doesn't satisfy condition 3.</p>\n<pre><code>boolean frighten(int z) {\n    System.out.println(“arrrgh”);//A\n    return true;\n}\nboolean frighten(byte b) {\n    System.out.println(“a bite?”);//B\n    return true;\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":12483805,"reputation":27,"user_id":9087660,"display_name":"883km"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646555049,"creation_date":1646554214,"question_id":71368646,"body_markdown":"[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve got a problem with exercise in Java Head First. Basically I don&#39;t understand why output changes based on return true or false. Why does return value have anything to do with print?\r\n\r\n    public class MonsterTestDrive {\r\n        public static void main(String [] args) {\r\n            Monster [] ma = new Monster[3];\r\n            ma[0] = new Vampire();\r\n            ma[1] = new Dragon();\r\n            ma[2] = new Monster();\r\n            for(int x = 0; x &lt; 3; x++) {\r\n                ma[x].frighten(x);\r\n            }\r\n        }\r\n    }\r\n    class Monster {\r\n    \r\n    // A\r\n    \r\n    } \r\n    class Vampire extends Monster {\r\n    \r\n    // B\r\n    \r\n    }\r\n    class Dragon extends Monster {\r\n        boolean frighten(int degree) {\r\n            System.out.println(“breath fire”);\r\n            return true;\r\n        }\r\n    }\r\n\r\nWhich of the A-B pairs of methods listed on the right, if inserted into the classes on the left, would compile and produce the output shown?\r\n\r\n(The A method inserted into class Monster, the B method inserted into class Vampire.)\r\n\r\n\r\n//1\r\n\r\n    boolean frighten(int d) {     \r\n        System.out.println(“arrrgh”); //A\r\n        return true;\r\n    }\r\n    boolean frighten(int x) {\r\n        System.out.println(“a bite?”);//B\r\n        return false;\r\n    }\r\n\r\n//2\r\n\r\n    boolean frighten(int x) {\r\n        System.out.println(“arrrgh”);//A\r\n        return true;\r\n    }\r\n    int frighten(int f) {\r\n        System.out.println(“a bite?”);//B\r\n        return 1;\r\n    }\r\n\r\n//3\r\n\r\n    boolean frighten(int x) {\r\n        System.out.println(“arrrgh”); //A\r\n        return false;\r\n    }\r\n    boolean scare(int x) {\r\n        System.out.println(“a bite?”);//B\r\n        return true;\r\n    }\r\n\r\n//4\r\n\r\n    boolean frighten(int z) {\r\n        System.out.println(“arrrgh”);//A\r\n        return true;\r\n    }\r\n    boolean frighten(byte b) {\r\n        System.out.println(“a bite?”);//B\r\n        return true;\r\n    }\r\n\r\n\r\nThe correct answer is option /1.\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tbdut.jpg\r\n  [2]: https://i.stack.imgur.com/YX0Nq.jpg","title":"Java Head First Chapter 7 MonsterTestDrive Exercise","body":"<p><a href=\"https://i.stack.imgur.com/tbdut.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tbdut.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/YX0Nq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YX0Nq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I've got a problem with exercise in Java Head First. Basically I don't understand why output changes based on return true or false. Why does return value have anything to do with print?</p>\n<pre><code>public class MonsterTestDrive {\n    public static void main(String [] args) {\n        Monster [] ma = new Monster[3];\n        ma[0] = new Vampire();\n        ma[1] = new Dragon();\n        ma[2] = new Monster();\n        for(int x = 0; x &lt; 3; x++) {\n            ma[x].frighten(x);\n        }\n    }\n}\nclass Monster {\n\n// A\n\n} \nclass Vampire extends Monster {\n\n// B\n\n}\nclass Dragon extends Monster {\n    boolean frighten(int degree) {\n        System.out.println(“breath fire”);\n        return true;\n    }\n}\n</code></pre>\n<p>Which of the A-B pairs of methods listed on the right, if inserted into the classes on the left, would compile and produce the output shown?</p>\n<p>(The A method inserted into class Monster, the B method inserted into class Vampire.)</p>\n<p>//1</p>\n<pre><code>boolean frighten(int d) {     \n    System.out.println(“arrrgh”); //A\n    return true;\n}\nboolean frighten(int x) {\n    System.out.println(“a bite?”);//B\n    return false;\n}\n</code></pre>\n<p>//2</p>\n<pre><code>boolean frighten(int x) {\n    System.out.println(“arrrgh”);//A\n    return true;\n}\nint frighten(int f) {\n    System.out.println(“a bite?”);//B\n    return 1;\n}\n</code></pre>\n<p>//3</p>\n<pre><code>boolean frighten(int x) {\n    System.out.println(“arrrgh”); //A\n    return false;\n}\nboolean scare(int x) {\n    System.out.println(“a bite?”);//B\n    return true;\n}\n</code></pre>\n<p>//4</p>\n<pre><code>boolean frighten(int z) {\n    System.out.println(“arrrgh”);//A\n    return true;\n}\nboolean frighten(byte b) {\n    System.out.println(“a bite?”);//B\n    return true;\n}\n</code></pre>\n<p>The correct answer is option /1.</p>\n"},{"tags":["java","loops","validation","methods"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1644881042,"post_id":71119364,"comment_id":125718166,"body_markdown":"`n &gt; 0 &amp;&amp; n &lt; 100` - for &quot;is within range&quot; style check or `n &lt; 0 || n &gt; 100` for &quot;is outside of range&quot; style check","body":"<code>n &gt; 0 &amp;&amp; n &lt; 100</code> - for &quot;is within range&quot; style check or <code>n &lt; 0 || n &gt; 100</code> for &quot;is outside of range&quot; style check"},{"owner":{"account_id":24257864,"reputation":3,"user_id":18207943,"display_name":"coltheart"},"score":0,"creation_date":1644882872,"post_id":71119364,"comment_id":125718499,"body_markdown":"@MadProgrammer Is there a difference if I used the &quot;within range&quot;? How should I implement this? Thanks!","body":"@MadProgrammer Is there a difference if I used the &quot;within range&quot;? How should I implement this? Thanks!"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1644883084,"post_id":71119364,"comment_id":125718535,"body_markdown":"It will depend on &quot;how&quot; you want to handle it, for example, if &quot;is within range&quot; -&gt; Handle positive workflow","body":"It will depend on &quot;how&quot; you want to handle it, for example, if &quot;is within range&quot; -&gt; Handle positive workflow"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1644883287,"post_id":71119364,"comment_id":125718565,"body_markdown":"Be aware of `beep.next()`, as this will leave a dangling new line in the input buffer, which can cause issues","body":"Be aware of <code>beep.next()</code>, as this will leave a dangling new line in the input buffer, which can cause issues"},{"owner":{"account_id":24257864,"reputation":3,"user_id":18207943,"display_name":"coltheart"},"score":0,"creation_date":1644883712,"post_id":71119364,"comment_id":125718651,"body_markdown":"@MadProgrammer About the `beep.next()`, I thought closing this will close the input stream altogether and will be unusable in the process?","body":"@MadProgrammer About the <code>beep.next()</code>, I thought closing this will close the input stream altogether and will be unusable in the process?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1644883752,"post_id":71119364,"comment_id":125718660,"body_markdown":"You don&#39;t want to close `System.in` and the dangling new line can cause issues with you then use things like `nextDouble`","body":"You don&#39;t want to close <code>System.in</code> and the dangling new line can cause issues with you then use things like <code>nextDouble</code>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644883719,"creation_date":1644883719,"answer_id":71119724,"question_id":71119364,"body_markdown":"Beware of `Scanner#next`, this can leave a dangling new line character in the buffer which can mess with your workflows, however, the core issue is with your `rangetest`\r\n\r\n    public static double rangetest (double n){\r\n        if (n &gt; 100 || n &lt; 0){\r\n            System.out.print(&quot;0-100 only &quot;);\r\n            Scanner beep = new Scanner(System.in);\r\n            check(beep.next());\r\n        }\r\n        return n;\r\n\r\n    }\r\n\r\nHere, if the value is not within the specified range, you&#39;re calling `check` again, but you&#39;re ignoring the result, so you end up returning the original value of `n`\r\n\r\nIt would seem that instead, you want to do...\r\n\r\n    n = rangetest(check(beep.next()))\r\n\r\nwithin the `if` block.\r\n\r\nYou could accomplish something similar using `do-while` loops, for example...\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            Double value = getDoubleWithinRange(scanner, &quot;Make me an offer ([X] to exit): &quot;, &quot;That&#39;s not a reasonable offer&quot;, &quot;X&quot;, 0, 100, &quot;Value is not within a valid range (0-100)&quot;);\r\n            if (value != null) {\r\n                System.out.println(&quot;You mad an offer of &quot; + value);\r\n            }\r\n        }\r\n\r\n        public static Double getDoubleWithinRange(Scanner input, String prompt, String errorMessage, String exitValue, double min, double max, String rangeErrorMessage) {\r\n            boolean done = false;\r\n            Double value = null;\r\n            do {\r\n                value = getDouble(input, prompt, errorMessage, exitValue);\r\n                if (value != null) {\r\n                    if (isWithinRange(value, 0, 100)) {\r\n                        done = true;\r\n                    } else {\r\n                        beep();\r\n                        System.out.println(rangeErrorMessage);\r\n                    }\r\n                } else {\r\n                    done = true;\r\n                }\r\n            } while (!done);\r\n            return value;\r\n        }\r\n\r\n        public static void beep() {\r\n            java.awt.Toolkit.getDefaultToolkit().beep();\r\n        }\r\n\r\n        public static boolean isWithinRange(double value, double min, double max) {\r\n            return value &gt;= min &amp;&amp; value &lt;= max;\r\n        }\r\n\r\n        public static Double getDouble(Scanner input, String prompt, String errorMessage, String exitValue) {\r\n            Double value = null;\r\n            boolean exit = false;\r\n            do {\r\n                System.out.print(prompt);\r\n                String nextLine = input.nextLine();\r\n                Scanner parser = new Scanner(nextLine);\r\n                if (parser.hasNextDouble()) {\r\n                    value = parser.nextDouble();\r\n                } else if (nextLine.equals(exitValue)) {\r\n                    exit = true;\r\n                } else {\r\n                    beep();\r\n                    System.out.println(errorMessage);\r\n                }\r\n            } while (!(value != null || exit));\r\n            return value;\r\n        }\r\n\r\n    }\r\n\r\n*nb: I have a exit condition available, you don&#39;t need it, but it&#39;s nice as a demonstration*\r\n","title":"I&#39;m trying to create a looping validation method that tests data type and range","body":"<p>Beware of <code>Scanner#next</code>, this can leave a dangling new line character in the buffer which can mess with your workflows, however, the core issue is with your <code>rangetest</code></p>\n<pre><code>public static double rangetest (double n){\n    if (n &gt; 100 || n &lt; 0){\n        System.out.print(&quot;0-100 only &quot;);\n        Scanner beep = new Scanner(System.in);\n        check(beep.next());\n    }\n    return n;\n\n}\n</code></pre>\n<p>Here, if the value is not within the specified range, you're calling <code>check</code> again, but you're ignoring the result, so you end up returning the original value of <code>n</code></p>\n<p>It would seem that instead, you want to do...</p>\n<pre><code>n = rangetest(check(beep.next()))\n</code></pre>\n<p>within the <code>if</code> block.</p>\n<p>You could accomplish something similar using <code>do-while</code> loops, for example...</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Double value = getDoubleWithinRange(scanner, &quot;Make me an offer ([X] to exit): &quot;, &quot;That's not a reasonable offer&quot;, &quot;X&quot;, 0, 100, &quot;Value is not within a valid range (0-100)&quot;);\n        if (value != null) {\n            System.out.println(&quot;You mad an offer of &quot; + value);\n        }\n    }\n\n    public static Double getDoubleWithinRange(Scanner input, String prompt, String errorMessage, String exitValue, double min, double max, String rangeErrorMessage) {\n        boolean done = false;\n        Double value = null;\n        do {\n            value = getDouble(input, prompt, errorMessage, exitValue);\n            if (value != null) {\n                if (isWithinRange(value, 0, 100)) {\n                    done = true;\n                } else {\n                    beep();\n                    System.out.println(rangeErrorMessage);\n                }\n            } else {\n                done = true;\n            }\n        } while (!done);\n        return value;\n    }\n\n    public static void beep() {\n        java.awt.Toolkit.getDefaultToolkit().beep();\n    }\n\n    public static boolean isWithinRange(double value, double min, double max) {\n        return value &gt;= min &amp;&amp; value &lt;= max;\n    }\n\n    public static Double getDouble(Scanner input, String prompt, String errorMessage, String exitValue) {\n        Double value = null;\n        boolean exit = false;\n        do {\n            System.out.print(prompt);\n            String nextLine = input.nextLine();\n            Scanner parser = new Scanner(nextLine);\n            if (parser.hasNextDouble()) {\n                value = parser.nextDouble();\n            } else if (nextLine.equals(exitValue)) {\n                exit = true;\n            } else {\n                beep();\n                System.out.println(errorMessage);\n            }\n        } while (!(value != null || exit));\n        return value;\n    }\n\n}\n</code></pre>\n<p><em>nb: I have a exit condition available, you don't need it, but it's nice as a demonstration</em></p>\n"},{"tags":[],"owner":{"account_id":24257864,"reputation":3,"user_id":18207943,"display_name":"coltheart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646554888,"creation_date":1646554888,"answer_id":71368693,"question_id":71119364,"body_markdown":"I fashioned myself a function from @MadProgrammer&#39;s code (Thanks man!), this somehow works a wee bit simpler.\r\n\r\n    public static double getValue() {\r\n        Scanner beep = new Scanner(System.in);\r\n        boolean flag = true;\r\n        double value=0.0;\r\n        while(flag==true){\r\n            if(beep.hasNextDouble()){\r\n                value = beep.nextDouble();\r\n                if(value&gt;=0&amp;&amp;value&lt;=100){  \r\n                    flag=false;\r\n                }\r\n                else{\r\n                    System.out.print(&quot;Invalid input, 0-100 only: &quot;);\r\n                    beep.nextLine();\r\n                } \r\n            }\r\n            else{\r\n                System.out.print(&quot;That&#39;s not a numerical value, try again: &quot;);\r\n                beep.nextLine();\r\n            }\r\n        }\r\n        return value;\r\n    }\r\nFeel free to comment, make a correction and/or suggest anything that would make this better.","title":"I&#39;m trying to create a looping validation method that tests data type and range","body":"<p>I fashioned myself a function from @MadProgrammer's code (Thanks man!), this somehow works a wee bit simpler.</p>\n<pre><code>public static double getValue() {\n    Scanner beep = new Scanner(System.in);\n    boolean flag = true;\n    double value=0.0;\n    while(flag==true){\n        if(beep.hasNextDouble()){\n            value = beep.nextDouble();\n            if(value&gt;=0&amp;&amp;value&lt;=100){  \n                flag=false;\n            }\n            else{\n                System.out.print(&quot;Invalid input, 0-100 only: &quot;);\n                beep.nextLine();\n            } \n        }\n        else{\n            System.out.print(&quot;That's not a numerical value, try again: &quot;);\n            beep.nextLine();\n        }\n    }\n    return value;\n}\n</code></pre>\n<p>Feel free to comment, make a correction and/or suggest anything that would make this better.</p>\n"}],"owner":{"account_id":24257864,"reputation":3,"user_id":18207943,"display_name":"coltheart"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71119724,"answer_count":2,"score":0,"last_activity_date":1646554888,"creation_date":1644880537,"question_id":71119364,"body_markdown":"I&#39;m new to java and I&#39;m tinkering with my code and decided to create an input validation method, my problem is how am I going to loop the input through the validations.\r\n\r\nFirst I decided to take the input as string to do a try/catch with a double, no problem with that, now I need to test the input if it&#39;s in the range of 0-100. Of course I wanted to check if the user will type in a double in the &quot;range check&quot;. What I wrote somewhat worked but when the input passed the data type validation but not the range check, it will still return the first double, whatever I typed next.\r\n\r\n```\r\npublic static double check(String n){\r\n        boolean done = false;\r\n        double i=0.0;\r\n        Scanner beep = new Scanner(System.in);\r\n        while (!done) {\r\n            try { \r\n                i = Double.parseDouble(n);\r\n                done = true;   \r\n            } catch (Exception e) {\r\n                System.out.print(&quot;Please input a valid grade (0-100): &quot;);\r\n                n = beep.nextLine();\r\n            }\r\n        }\r\n        double b = rangetest(i);\r\n        return b;\r\n    }\r\n\r\n    public static double rangetest (double n){\r\n        if (n &gt; 100 || n &lt; 0){\r\n            System.out.print(&quot;0-100 only &quot;);\r\n            Scanner beep = new Scanner(System.in);\r\n            check(beep.next());\r\n        }\r\n        return n;\r\n\r\n    }\r\n\r\npublic static void main(String[] args) {\r\n    \r\n        Scanner beep = new Scanner(System.in);\r\n        double ave = 0.0;\r\n        int rounded;\r\n        for (int i = 1; i &lt;= 5; i++)\r\n        {\r\n            System.out.print(&quot;Input grade number &quot; + i + &quot; : &quot;);\r\n            ave += rangetest(check(beep.next()));\r\n        }\r\n        ave /= 5;\r\n        rounded = (int)Math.round(ave);\r\n}\r\n```\r\n\r\nIs there any easier methods or workarounds? Or am I doing it all wrong? Cheers!","title":"I&#39;m trying to create a looping validation method that tests data type and range","body":"<p>I'm new to java and I'm tinkering with my code and decided to create an input validation method, my problem is how am I going to loop the input through the validations.</p>\n<p>First I decided to take the input as string to do a try/catch with a double, no problem with that, now I need to test the input if it's in the range of 0-100. Of course I wanted to check if the user will type in a double in the &quot;range check&quot;. What I wrote somewhat worked but when the input passed the data type validation but not the range check, it will still return the first double, whatever I typed next.</p>\n<pre><code>public static double check(String n){\n        boolean done = false;\n        double i=0.0;\n        Scanner beep = new Scanner(System.in);\n        while (!done) {\n            try { \n                i = Double.parseDouble(n);\n                done = true;   \n            } catch (Exception e) {\n                System.out.print(&quot;Please input a valid grade (0-100): &quot;);\n                n = beep.nextLine();\n            }\n        }\n        double b = rangetest(i);\n        return b;\n    }\n\n    public static double rangetest (double n){\n        if (n &gt; 100 || n &lt; 0){\n            System.out.print(&quot;0-100 only &quot;);\n            Scanner beep = new Scanner(System.in);\n            check(beep.next());\n        }\n        return n;\n\n    }\n\npublic static void main(String[] args) {\n    \n        Scanner beep = new Scanner(System.in);\n        double ave = 0.0;\n        int rounded;\n        for (int i = 1; i &lt;= 5; i++)\n        {\n            System.out.print(&quot;Input grade number &quot; + i + &quot; : &quot;);\n            ave += rangetest(check(beep.next()));\n        }\n        ave /= 5;\n        rounded = (int)Math.round(ave);\n}\n</code></pre>\n<p>Is there any easier methods or workarounds? Or am I doing it all wrong? Cheers!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646545920,"post_id":71367960,"comment_id":126147619,"body_markdown":"Stripping the prefix before you make the query is probably simplest.","body":"Stripping the prefix before you make the query is probably simplest."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1646546204,"post_id":71367960,"comment_id":126147653,"body_markdown":"Tried that, there is no good way to do it.","body":"Tried that, there is no good way to do it."},{"owner":{"account_id":12210699,"reputation":694,"user_id":8912565,"display_name":"Ravik"},"score":0,"creation_date":1646552597,"post_id":71367960,"comment_id":126148422,"body_markdown":"You will have to reformat the request parameter before issuing the query i.e remove any prefix if available","body":"You will have to reformat the request parameter before issuing the query i.e remove any prefix if available"}],"answers":[{"tags":[],"owner":{"account_id":21266913,"reputation":240,"user_id":15647017,"display_name":"Gergo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646553958,"creation_date":1646553958,"answer_id":71368620,"question_id":71367960,"body_markdown":"You can write it in several ways. First option is writing a native query.\r\n    \r\n    @Query(value = &quot;select * from valid_domains where &#39;www.amazon.com&#39; LIKE CONCAT(&#39;%&#39;, :companyDomain&quot;, nativeQuery = true);\r\n    public List&lt;ValidDomainsEntity&gt; myQuery(@Param(&quot;companyDomain&quot;) String companyDomain);\r\n\r\nSecond option is writing a simple non native Query and use your Entiry class names and fields. For this you purpose you can use `javax.persistence.EntityManager` or `@Query(value = &quot;&quot;, nativeQuery = false)`. By default @Query is non native query, you dont have to write `nativeQuery = true`. I show also an EntityManager example.\r\n    \r\n    @Autowired //Constructor dependency injection is more preferred instead of @Autowired\r\n    private EntityManager entityManager;\r\n   \r\n    List&lt;ValidDomain&gt; query = entityManager.createQuery(&quot;SELECT new ValidDomain(d.id, d.domainName) from ValidDomain d where &#39;www.amazon.com&#39; LIKE CONCAT(&#39;%&#39;, :variableName)&quot;, ValidDomain.class).getResultList();\r\n\r\nOr you can also use `EntityManager`, `entityManager.createNativeQuery()` for creating native query.","title":"Spring Find By Like Feature","body":"<p>You can write it in several ways. First option is writing a native query.</p>\n<pre><code>@Query(value = &quot;select * from valid_domains where 'www.amazon.com' LIKE CONCAT('%', :companyDomain&quot;, nativeQuery = true);\npublic List&lt;ValidDomainsEntity&gt; myQuery(@Param(&quot;companyDomain&quot;) String companyDomain);\n</code></pre>\n<p>Second option is writing a simple non native Query and use your Entiry class names and fields. For this you purpose you can use <code>javax.persistence.EntityManager</code> or <code>@Query(value = &quot;&quot;, nativeQuery = false)</code>. By default @Query is non native query, you dont have to write <code>nativeQuery = true</code>. I show also an EntityManager example.</p>\n<pre><code>@Autowired //Constructor dependency injection is more preferred instead of @Autowired\nprivate EntityManager entityManager;\n\nList&lt;ValidDomain&gt; query = entityManager.createQuery(&quot;SELECT new ValidDomain(d.id, d.domainName) from ValidDomain d where 'www.amazon.com' LIKE CONCAT('%', :variableName)&quot;, ValidDomain.class).getResultList();\n</code></pre>\n<p>Or you can also use <code>EntityManager</code>, <code>entityManager.createNativeQuery()</code> for creating native query.</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71368620,"answer_count":1,"score":0,"last_activity_date":1646553958,"creation_date":1646545521,"question_id":71367960,"body_markdown":"I have a list of entities in my code (google.com, amazon.com, etc), and I would like to have my repository find an entity when I type feed it a string with a subdomain.\r\n\r\nSo basically, what repository function do I implement so I can run something like\r\n\r\n    public List&lt;ValidDomainsEntity&gt; findByCompanyDomainLike(&quot;www.google.com&quot;);\r\n\r\nand have it return the entity with google.com in its\r\n\r\n    String companyDomain;\r\n\r\nwhere the companyDomain = &quot;google.com&quot;\r\n\r\n\r\nSo in more layman&#39;s terms: My db contains URL&#39;s without the subdomain or prefix. What query do I use in spring&#39;s repository to find that URL when I put in a URL with a subdomain\r\n\r\nEdit: Basically how I do the spring equivalent of \r\n\r\n    select * from valid_domains where &#39;www.amazon.com&#39; LIKE CONCAT(&#39;%&#39;, companyDomain);","title":"Spring Find By Like Feature","body":"<p>I have a list of entities in my code (google.com, amazon.com, etc), and I would like to have my repository find an entity when I type feed it a string with a subdomain.</p>\n<p>So basically, what repository function do I implement so I can run something like</p>\n<pre><code>public List&lt;ValidDomainsEntity&gt; findByCompanyDomainLike(&quot;www.google.com&quot;);\n</code></pre>\n<p>and have it return the entity with google.com in its</p>\n<pre><code>String companyDomain;\n</code></pre>\n<p>where the companyDomain = &quot;google.com&quot;</p>\n<p>So in more layman's terms: My db contains URL's without the subdomain or prefix. What query do I use in spring's repository to find that URL when I put in a URL with a subdomain</p>\n<p>Edit: Basically how I do the spring equivalent of</p>\n<pre><code>select * from valid_domains where 'www.amazon.com' LIKE CONCAT('%', companyDomain);\n</code></pre>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1595166115,"post_id":62980824,"comment_id":111374074,"body_markdown":"You may need to read some basic tutorial on method overriding [like this, part _Rules of method overriding_](https://beginnersbook.com/2014/01/method-overriding-in-java-with-example/).  The quiz question provides enough information about the signature of the methods that have to be provided in `Monster` and `Vampire` classes.  A brute force solution would be to copy the source code to some IDE and check the results.","body":"You may need to read some basic tutorial on method overriding <a href=\"https://beginnersbook.com/2014/01/method-overriding-in-java-with-example/\" rel=\"nofollow noreferrer\">like this, part <i>Rules of method overriding</i></a>.  The quiz question provides enough information about the signature of the methods that have to be provided in <code>Monster</code> and <code>Vampire</code> classes.  A brute force solution would be to copy the source code to some IDE and check the results."}],"answers":[{"tags":[],"owner":{"account_id":11396057,"reputation":664,"user_id":8354437,"display_name":"Ankit Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595171902,"creation_date":1595171902,"answer_id":62982134,"question_id":62980824,"body_markdown":"1 is the answer.\r\n\r\nLook at the method signature of *frighten* method in Dragon class. It takes integer as input and returns boolean as output.\r\nSo, the &quot;frighten&quot; of the parent class (**Monster**) must also have the same method signature.\r\n\r\n    boolean frighten(int d) {     \r\n        System.out.println(“arrrgh”); //A\r\n        return true;\r\n    }\r\n\r\nNow, since the Vampire class is extending the Monster class and it is expected to override the *frighten* method, it should also have the same method signature and *same name*.\r\n\r\n    boolean frighten(int x) {\r\n        System.out.println(“a bite?”);//B\r\n        return false;\r\n    }\r\n\r\n","title":"Java Head First exercise","body":"<p>1 is the answer.</p>\n<p>Look at the method signature of <em>frighten</em> method in Dragon class. It takes integer as input and returns boolean as output.\nSo, the &quot;frighten&quot; of the parent class (<strong>Monster</strong>) must also have the same method signature.</p>\n<pre><code>boolean frighten(int d) {     \n    System.out.println(“arrrgh”); //A\n    return true;\n}\n</code></pre>\n<p>Now, since the Vampire class is extending the Monster class and it is expected to override the <em>frighten</em> method, it should also have the same method signature and <em>same name</em>.</p>\n<pre><code>boolean frighten(int x) {\n    System.out.println(“a bite?”);//B\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":19112295,"reputation":121,"user_id":13958054,"display_name":"Sosek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62982134,"answer_count":1,"score":2,"last_activity_date":1646553258,"creation_date":1595164796,"question_id":62980824,"body_markdown":"I&#39;ve got a problem with exercise in Java Head First. Basically I don&#39;t understand why output changes based on  frighten&#39;s methode argument. I don&#39;t get what impact on output have values returned by classes Dragon, Vampire and Monster.\r\n\r\n```\r\npublic class MonsterTestDrive {\r\n    public static void main(String [] args) {\r\n        Monster [] ma = new Monster[3];\r\n        ma[0] = new Vampire();\r\n        ma[1] = new Dragon();\r\n        ma[2] = new Monster();\r\n        for(int x = 0; x &lt; 3; x++) {\r\n            ma[x].frighten(x);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\nclass Monster {\r\n\r\n// A\r\n\r\n} \r\n```\r\n```\r\nclass Vampire extends Monster {\r\n\r\n// B\r\n\r\n}\r\n```\r\n\r\n```\r\nclass Dragon extends Monster {\r\n    boolean frighten(int degree) {\r\n        System.out.println(“breath fire”);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nWhich of the A-B pairs of methods listed on the right, if inserted into the classes on the left, would compile and produce the output shown? \r\n\r\n(The A method inserted into class Monster, the B method inserted into class Vampire.)\r\n\r\n```\r\n //1\r\nboolean frighten(int d) {     \r\n    System.out.println(“arrrgh”); //A\r\n    return true;\r\n}\r\nboolean frighten(int x) {\r\n    System.out.println(“a bite?”);//B\r\n    return false;\r\n}\r\n```\r\n```\r\n//2\r\nboolean frighten(int x) {\r\n    System.out.println(“arrrgh”);//A\r\n    return true;\r\n}\r\nint frighten(int f) {\r\n    System.out.println(“a bite?”);//B\r\n    return 1;\r\n}\r\n```\r\n```\r\n//3\r\nboolean frighten(int x) {\r\n    System.out.println(“arrrgh”); //A\r\n    return false;\r\n}\r\nboolean scare(int x) {\r\n    System.out.println(“a bite?”);//B\r\n    return true;\r\n}\r\n```\r\n```\r\n//4\r\nboolean frighten(int z) {\r\n    System.out.println(“arrrgh”);//A\r\n    return true;\r\n}\r\nboolean frighten(byte b) {\r\n    System.out.println(“a bite?”);//B\r\n    return true;\r\n}\r\n```\r\n[Exercise img][1]\r\n   \r\n\r\n  [1]: https://i.stack.imgur.com/tbdut.jpg","title":"Java Head First exercise","body":"<p>I've got a problem with exercise in Java Head First. Basically I don't understand why output changes based on  frighten's methode argument. I don't get what impact on output have values returned by classes Dragon, Vampire and Monster.</p>\n<pre><code>public class MonsterTestDrive {\n    public static void main(String [] args) {\n        Monster [] ma = new Monster[3];\n        ma[0] = new Vampire();\n        ma[1] = new Dragon();\n        ma[2] = new Monster();\n        for(int x = 0; x &lt; 3; x++) {\n            ma[x].frighten(x);\n        }\n    }\n}\n</code></pre>\n<pre><code>class Monster {\n\n// A\n\n} \n</code></pre>\n<pre><code>class Vampire extends Monster {\n\n// B\n\n}\n</code></pre>\n<pre><code>class Dragon extends Monster {\n    boolean frighten(int degree) {\n        System.out.println(“breath fire”);\n        return true;\n    }\n}\n</code></pre>\n<p>Which of the A-B pairs of methods listed on the right, if inserted into the classes on the left, would compile and produce the output shown?</p>\n<p>(The A method inserted into class Monster, the B method inserted into class Vampire.)</p>\n<pre><code> //1\nboolean frighten(int d) {     \n    System.out.println(“arrrgh”); //A\n    return true;\n}\nboolean frighten(int x) {\n    System.out.println(“a bite?”);//B\n    return false;\n}\n</code></pre>\n<pre><code>//2\nboolean frighten(int x) {\n    System.out.println(“arrrgh”);//A\n    return true;\n}\nint frighten(int f) {\n    System.out.println(“a bite?”);//B\n    return 1;\n}\n</code></pre>\n<pre><code>//3\nboolean frighten(int x) {\n    System.out.println(“arrrgh”); //A\n    return false;\n}\nboolean scare(int x) {\n    System.out.println(“a bite?”);//B\n    return true;\n}\n</code></pre>\n<pre><code>//4\nboolean frighten(int z) {\n    System.out.println(“arrrgh”);//A\n    return true;\n}\nboolean frighten(byte b) {\n    System.out.println(“a bite?”);//B\n    return true;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tbdut.jpg\" rel=\"nofollow noreferrer\">Exercise img</a></p>\n"},{"tags":["java","android","time","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646552564,"creation_date":1646499808,"answer_id":71364189,"question_id":71364010,"body_markdown":"# tl;dr\r\n\r\nUse the modern *java.time* classes.\r\n\r\n    ZonedDateTime.parse( \r\n        input , \r\n        DateTimeFormatter.RFC_1123_DATE_TIME  // Your text complies with this obsolescent standard format.\r\n    )\r\n    .withZoneSameInstant(\r\n        ZoneId.systemDefault() ;  // Or, specify a time zone.\r\n    )\r\n    .format(\r\n        DateTimeFormatter\r\n        .ofLocalizedDateTime( FormatStyle.MEDIUM )  // Specify length versus abbreviation.\r\n        .withLocale( Locale.getDefault() )  // Or, specify a locale.\r\n    )\r\n\r\n\r\n# `java.time.format.DateTimeFormatter.RFC_1123_DATE_TIME`\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Never use `Date`, `Calendar`, `SimpleDateFormat`, and so on.\r\n\r\nParse your input string as a `ZonedDateTime`. No need to specify a formatting pattern. Th&#233; `DateTimeFormatter` class comes bundled with a predefined formatter for your input string that complies with the RFC 1123 / RFC 822 standards.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ) ;\r\n\r\nAdjust to your desired time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime zdtEdmonton = zdt.withZoneSameInstant( z ) ;\r\n\r\nOr use the JVM’s current default time zone. \r\n    \r\n    ZonedDateTime zdtDefault = zdt.withZoneSameInstant( ZoneId.systemDefault() ) ;\r\n\r\n\r\nGenerate text. I suggest automatically localizing.\r\n\r\n    Locale locale = Locale.CANADA_FRENCH ;  // Or Locale.US etc.\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( locale ) ;\r\n    String output = zdtEdmonton.format( f ) ;\r\n\r\n# Complete example code\r\n\r\nHere is a full class, as an example. \r\n\r\nIn this example, we use the HTTP client implementation built into Java 11+. See [*JEP 321: HTTP Client*](https://openjdk.java.net/jeps/321). Caveat: I am a newbie with this framework. I wrote bare minimum to get example working. Do *not* take this as well-founded advice on using these HTTP classes. \r\n\r\nWe have a single `GoogleTime` class with a pair of public static methods named `now`. Both return a string of the date-time obtained from the Google site, adjusted into a time zone, and localized to a locale. One `now` method uses the JVM’s current default time zone and locale, while in the other you may specify zone &amp; locale.\r\n\r\nThe work is split into a pair of private methods. On method fetches from the Google.com site. The other method parses the header string into a `ZonedDateTime` object, adjusts into another time zone, and generates text representing the value of the adjusted moment. \r\n\r\n```java\r\npackage work.basil.googletime;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpHeaders;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.time.DateTimeException;\r\nimport java.time.Duration;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.FormatStyle;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Objects;\r\n\r\npublic class GoogleTime\r\n{\r\n    public static String now ( ZoneId zoneId , Locale locale , FormatStyle formatStyle )\r\n    {\r\n        GoogleTime googleTime = new GoogleTime();\r\n        String dateHeader = googleTime.fetchDateHeader();\r\n        if ( dateHeader.isBlank() ) { return &quot;&quot;; }\r\n        return googleTime.parseAdjustAndFormat( dateHeader , zoneId , locale , formatStyle );\r\n    }\r\n\r\n    public static String now ( )\r\n    {\r\n        return GoogleTime.now( ZoneId.systemDefault() , Locale.getDefault() , FormatStyle.MEDIUM );\r\n    }\r\n\r\n    private String fetchDateHeader ( )\r\n    {\r\n        String url = &quot;https://google.com/&quot;;\r\n\r\n        final HttpClient httpClient =\r\n                HttpClient.newBuilder()\r\n                        .version( HttpClient.Version.HTTP_1_1 )\r\n                        .connectTimeout( Duration.ofSeconds( 10 ) )\r\n                        .build();\r\n\r\n        final HttpRequest request =\r\n                HttpRequest.newBuilder()\r\n                        .GET()\r\n                        .uri( URI.create( url ) )\r\n                        .setHeader( &quot;User-Agent&quot; , &quot;Java 11 HttpClient Bot&quot; ) // add request header\r\n                        .build();\r\n\r\n        final HttpResponse &lt; String &gt; response;\r\n        try { response = httpClient.send( request , HttpResponse.BodyHandlers.ofString() ); } catch ( IOException | InterruptedException e ) { return &quot;&quot;; }\r\n\r\n        // Examine response headers.\r\n        HttpHeaders headers = response.headers();\r\n        // headers.map().forEach( ( k , v ) -&gt; System.out.println( k + &quot; ⇰ &quot; + v ) );\r\n        List &lt; String &gt; dateHeaderList = headers.map().get( &quot;date&quot; );\r\n        if ( Objects.isNull( dateHeaderList ) ) { return &quot;&quot;; }\r\n        if ( dateHeaderList.size() == 0 ) { return &quot;&quot;; }\r\n        return dateHeaderList.get( 0 );\r\n    }\r\n\r\n    private String parseAdjustAndFormat ( String input , ZoneId zoneId , Locale locale , FormatStyle formatStyle )\r\n    {\r\n        // Parse.\r\n        ZonedDateTime zdtParsed;\r\n        try { zdtParsed = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ); } catch ( DateTimeException e ) { return &quot;&quot;; }\r\n        // Adjust.\r\n        ZonedDateTime zdtAdjusted = zdtParsed.withZoneSameInstant( zoneId );\r\n        // Format.\r\n        DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( formatStyle ).withLocale( locale );\r\n        String output = zdtAdjusted.format( f );\r\n        return output;\r\n    }\r\n}\r\n```\r\n\r\nUsage.\r\n\r\n```java\r\nSystem.out.println( GoogleTime.now() );\r\nSystem.out.println( GoogleTime.now( ZoneId.of( &quot;Europe/Rome&quot; ) , Locale.ITALY , FormatStyle.SHORT ) );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nMar 5, 2022, 11:17:57 PM\r\n06/03/22, 08:17\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Change GMT Time to Local Time","body":"<h1>tl;dr</h1>\n<p>Use the modern <em>java.time</em> classes.</p>\n<pre><code>ZonedDateTime.parse( \n    input , \n    DateTimeFormatter.RFC_1123_DATE_TIME  // Your text complies with this obsolescent standard format.\n)\n.withZoneSameInstant(\n    ZoneId.systemDefault() ;  // Or, specify a time zone.\n)\n.format(\n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.MEDIUM )  // Specify length versus abbreviation.\n    .withLocale( Locale.getDefault() )  // Or, specify a locale.\n)\n</code></pre>\n<h1><code>java.time.format.DateTimeFormatter.RFC_1123_DATE_TIME</code></h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Never use <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, and so on.</p>\n<p>Parse your input string as a <code>ZonedDateTime</code>. No need to specify a formatting pattern. Thé <code>DateTimeFormatter</code> class comes bundled with a predefined formatter for your input string that complies with the RFC 1123 / RFC 822 standards.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ) ;\n</code></pre>\n<p>Adjust to your desired time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdtEdmonton = zdt.withZoneSameInstant( z ) ;\n</code></pre>\n<p>Or use the JVM’s current default time zone.</p>\n<pre><code>ZonedDateTime zdtDefault = zdt.withZoneSameInstant( ZoneId.systemDefault() ) ;\n</code></pre>\n<p>Generate text. I suggest automatically localizing.</p>\n<pre><code>Locale locale = Locale.CANADA_FRENCH ;  // Or Locale.US etc.\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( locale ) ;\nString output = zdtEdmonton.format( f ) ;\n</code></pre>\n<h1>Complete example code</h1>\n<p>Here is a full class, as an example.</p>\n<p>In this example, we use the HTTP client implementation built into Java 11+. See <a href=\"https://openjdk.java.net/jeps/321\" rel=\"nofollow noreferrer\"><em>JEP 321: HTTP Client</em></a>. Caveat: I am a newbie with this framework. I wrote bare minimum to get example working. Do <em>not</em> take this as well-founded advice on using these HTTP classes.</p>\n<p>We have a single <code>GoogleTime</code> class with a pair of public static methods named <code>now</code>. Both return a string of the date-time obtained from the Google site, adjusted into a time zone, and localized to a locale. One <code>now</code> method uses the JVM’s current default time zone and locale, while in the other you may specify zone &amp; locale.</p>\n<p>The work is split into a pair of private methods. On method fetches from the Google.com site. The other method parses the header string into a <code>ZonedDateTime</code> object, adjusts into another time zone, and generates text representing the value of the adjusted moment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.googletime;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpHeaders;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.time.DateTimeException;\nimport java.time.Duration;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.FormatStyle;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Objects;\n\npublic class GoogleTime\n{\n    public static String now ( ZoneId zoneId , Locale locale , FormatStyle formatStyle )\n    {\n        GoogleTime googleTime = new GoogleTime();\n        String dateHeader = googleTime.fetchDateHeader();\n        if ( dateHeader.isBlank() ) { return &quot;&quot;; }\n        return googleTime.parseAdjustAndFormat( dateHeader , zoneId , locale , formatStyle );\n    }\n\n    public static String now ( )\n    {\n        return GoogleTime.now( ZoneId.systemDefault() , Locale.getDefault() , FormatStyle.MEDIUM );\n    }\n\n    private String fetchDateHeader ( )\n    {\n        String url = &quot;https://google.com/&quot;;\n\n        final HttpClient httpClient =\n                HttpClient.newBuilder()\n                        .version( HttpClient.Version.HTTP_1_1 )\n                        .connectTimeout( Duration.ofSeconds( 10 ) )\n                        .build();\n\n        final HttpRequest request =\n                HttpRequest.newBuilder()\n                        .GET()\n                        .uri( URI.create( url ) )\n                        .setHeader( &quot;User-Agent&quot; , &quot;Java 11 HttpClient Bot&quot; ) // add request header\n                        .build();\n\n        final HttpResponse &lt; String &gt; response;\n        try { response = httpClient.send( request , HttpResponse.BodyHandlers.ofString() ); } catch ( IOException | InterruptedException e ) { return &quot;&quot;; }\n\n        // Examine response headers.\n        HttpHeaders headers = response.headers();\n        // headers.map().forEach( ( k , v ) -&gt; System.out.println( k + &quot; ⇰ &quot; + v ) );\n        List &lt; String &gt; dateHeaderList = headers.map().get( &quot;date&quot; );\n        if ( Objects.isNull( dateHeaderList ) ) { return &quot;&quot;; }\n        if ( dateHeaderList.size() == 0 ) { return &quot;&quot;; }\n        return dateHeaderList.get( 0 );\n    }\n\n    private String parseAdjustAndFormat ( String input , ZoneId zoneId , Locale locale , FormatStyle formatStyle )\n    {\n        // Parse.\n        ZonedDateTime zdtParsed;\n        try { zdtParsed = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ); } catch ( DateTimeException e ) { return &quot;&quot;; }\n        // Adjust.\n        ZonedDateTime zdtAdjusted = zdtParsed.withZoneSameInstant( zoneId );\n        // Format.\n        DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( formatStyle ).withLocale( locale );\n        String output = zdtAdjusted.format( f );\n        return output;\n    }\n}\n</code></pre>\n<p>Usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( GoogleTime.now() );\nSystem.out.println( GoogleTime.now( ZoneId.of( &quot;Europe/Rome&quot; ) , Locale.ITALY , FormatStyle.SHORT ) );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Mar 5, 2022, 11:17:57 PM\n06/03/22, 08:17\n</code></pre>\n"}],"owner":{"account_id":9863226,"reputation":61,"user_id":7305482,"display_name":"Wasif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646552564,"creation_date":1646498329,"question_id":71364010,"body_markdown":"I want a Time App that gets the current time from Google and then converts it to Local Time. \r\n\r\n```\r\n  private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n\r\n            OkHttpClient httpclient = new OkHttpClient();\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://google.com/&quot;)\r\n                    .build();\r\n\r\n            try (okhttp3.Response response = httpclient\r\n                    .newCall(request)\r\n                    .execute()) {\r\n\r\n                String currentDateTime = response.header(&quot;Date&quot;).toString().replace(&quot;Date: &quot;, &quot;&quot;);\r\n                if (currentDateTime.contains(&quot;GMT&quot;)) {\r\n                    Date date = null;\r\n                    SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, d MMM yyyy HH:mm:ss zz&quot;);\r\n                    try {\r\n                        date = formatter.parse(currentDateTime);\r\n                    } catch (ParseException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(&quot;Current Date  :&quot; + currentDateTime);\r\n                    System.out.println(&quot;Converted Date  :&quot; + date+&quot;&quot;);\r\n\r\n                    SimpleDateFormat sd = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n                    GoogleDate = sd.format(date);\r\n                    System.out.println(&quot;Google Date  :&quot; + GoogleDate);\r\n\r\n                } else {\r\n                   // GoogleDateCall();\r\n                }\r\n\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\r\n            return GoogleDate;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String serverDate) {\r\n\r\n            displayTime.setText(serverDate);\r\n        }\r\n    }\r\n```\r\n\r\nNow if I am in a different country it should display the current time accordingly. Can anyone help? I tried to use VPN but still, it always show me the same time for every country. Thank you","title":"Change GMT Time to Local Time","body":"<p>I want a Time App that gets the current time from Google and then converts it to Local Time.</p>\n<pre><code>  private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(String... params) {\n\n            OkHttpClient httpclient = new OkHttpClient();\n            Request request = new Request.Builder()\n                    .url(&quot;https://google.com/&quot;)\n                    .build();\n\n            try (okhttp3.Response response = httpclient\n                    .newCall(request)\n                    .execute()) {\n\n                String currentDateTime = response.header(&quot;Date&quot;).toString().replace(&quot;Date: &quot;, &quot;&quot;);\n                if (currentDateTime.contains(&quot;GMT&quot;)) {\n                    Date date = null;\n                    SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, d MMM yyyy HH:mm:ss zz&quot;);\n                    try {\n                        date = formatter.parse(currentDateTime);\n                    } catch (ParseException e) {\n                        e.printStackTrace();\n                    }\n                    System.out.println(&quot;Current Date  :&quot; + currentDateTime);\n                    System.out.println(&quot;Converted Date  :&quot; + date+&quot;&quot;);\n\n                    SimpleDateFormat sd = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n                    GoogleDate = sd.format(date);\n                    System.out.println(&quot;Google Date  :&quot; + GoogleDate);\n\n                } else {\n                   // GoogleDateCall();\n                }\n\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n\n            return GoogleDate;\n        }\n\n        @Override\n        protected void onPostExecute(String serverDate) {\n\n            displayTime.setText(serverDate);\n        }\n    }\n</code></pre>\n<p>Now if I am in a different country it should display the current time accordingly. Can anyone help? I tried to use VPN but still, it always show me the same time for every country. Thank you</p>\n"},{"tags":["java","spring-boot","javers"],"answers":[{"tags":[],"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646551377,"creation_date":1646551377,"answer_id":71368410,"question_id":71233655,"body_markdown":"In Javers there is no integration with Spring multitenancy. Javers is open source, you are encouraged to contribute https://github.com/javers/javers/","title":"Javers Mongo Multitenancy Issue","body":"<p>In Javers there is no integration with Spring multitenancy. Javers is open source, you are encouraged to contribute <a href=\"https://github.com/javers/javers/\" rel=\"nofollow noreferrer\">https://github.com/javers/javers/</a></p>\n"}],"owner":{"account_id":14020350,"reputation":11,"user_id":10126704,"display_name":"Amit Vikram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646551377,"creation_date":1645605393,"question_id":71233655,"body_markdown":"My Spring boot application has a multitenancy architecture and I&#39;m using Javers to audit some data models. \r\n\r\nThe issue I&#39;m facing is that Javers is not able to resolve the database based on my MongoDatabaseFactory implementation. \r\n\r\nSo far I&#39;ve tried creating a Javers Configuration Bean which looks like this: \r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Component\r\n    public class JaversMongoConfiguration {\r\n\r\n        @Autowired\r\n        CachedMongoClients cachedMongoClients;\r\n\r\n\r\n        @SneakyThrows\r\n        public Javers javers() {\r\n            MongoRepository javersMongoRepository =\r\n                    new MongoRepository(cachedMongoClients.getMongoDatabaseForCurrentContext());  // Custom method to fetch the MongoDataBase based on current TenantContext\r\n\r\n            return JaversBuilder.javers()\r\n                    .registerJaversRepository(javersMongoRepository)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis isn&#39;t working as during project build time, Javers instantiates the connection to the default database and dynamically doesn&#39;t switch to the tenant database as intended during run time. \r\n\r\nHence, all my audit logs are getting saved at the default database and not in tenant database. \r\n\r\n**Note: I&#39;m using Javers Spring Boot Mongo starter and Javers Mongo Persistence Maven dependencies.**","title":"Javers Mongo Multitenancy Issue","body":"<p>My Spring boot application has a multitenancy architecture and I'm using Javers to audit some data models.</p>\n<p>The issue I'm facing is that Javers is not able to resolve the database based on my MongoDatabaseFactory implementation.</p>\n<p>So far I've tried creating a Javers Configuration Bean which looks like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Component\npublic class JaversMongoConfiguration {\n\n    @Autowired\n    CachedMongoClients cachedMongoClients;\n\n\n    @SneakyThrows\n    public Javers javers() {\n        MongoRepository javersMongoRepository =\n                new MongoRepository(cachedMongoClients.getMongoDatabaseForCurrentContext());  // Custom method to fetch the MongoDataBase based on current TenantContext\n\n        return JaversBuilder.javers()\n                .registerJaversRepository(javersMongoRepository)\n                .build();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This isn't working as during project build time, Javers instantiates the connection to the default database and dynamically doesn't switch to the tenant database as intended during run time.</p>\n<p>Hence, all my audit logs are getting saved at the default database and not in tenant database.</p>\n<p><strong>Note: I'm using Javers Spring Boot Mongo starter and Javers Mongo Persistence Maven dependencies.</strong></p>\n"},{"tags":["java","arraylist","indexing","collections","iterator"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1641403502,"post_id":70597051,"comment_id":124797833,"body_markdown":"Please [edit] the post and format your code properly.","body":"Please <a href=\"https://stackoverflow.com/posts/70597051/edit\">edit</a> the post and format your code properly."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641403832,"creation_date":1641403832,"answer_id":70597130,"question_id":70597051,"body_markdown":"Iterators are invalidated as soon as you modify the backing list any way _other_ than using the iterator itself.\r\n\r\n&gt; ...if the list is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own remove or add methods, the iterator will throw a ConcurrentModificationException. \r\n\r\nThese lines break your iterator:\r\n\r\n```\r\n Array_List.add(1,250);\r\n Array_List.remove(2);\r\n```\r\n\r\nYou will need to create a new, fresh iterator.","title":"Why can&#39;t I reuse an iterator?ListIterator class initially with reference &quot;itr&quot;,and is not accessible for another iteration.Can anyonehelpmewith this?","body":"<p>Iterators are invalidated as soon as you modify the backing list any way <em>other</em> than using the iterator itself.</p>\n<blockquote>\n<p>...if the list is structurally modified at any time after the iterator is created, in any way except through the iterator's own remove or add methods, the iterator will throw a ConcurrentModificationException.</p>\n</blockquote>\n<p>These lines break your iterator:</p>\n<pre><code> Array_List.add(1,250);\n Array_List.remove(2);\n</code></pre>\n<p>You will need to create a new, fresh iterator.</p>\n"}],"owner":{"account_id":22624808,"reputation":11,"user_id":16803046,"display_name":"Saran Raaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1646550808,"creation_date":1641403456,"question_id":70597051,"body_markdown":"     import java.util.*;\r\n     public class Main\r\n     {\r\n     public static void main(String[] args)\r\n     {\r\n     ArrayList &lt;Integer&gt; Array_List = new ArrayList();\r\n     Array_List.add(100);\r\n     Array_List.add(200);\r\n\r\n     //A listiterator to check previous element accessing \r\n\r\n     ListIterator &lt;Integer&gt;  itr =Array_List.listIterator();\r\n\r\n     //Accessing and printing elements with hasNext() method\r\n\r\n     while(itr.hasNext()){\r\n     System.out.println(&quot;Index of elements : &quot;+itr.nextIndex()+\r\n                            &quot; and element is &quot;+itr.next()+&quot; &quot;);\r\n     }\r\n     System.out.println();\r\n     Array_List.add(1,250);\r\n     Array_List.remove(2);\r\n\r\n     //Accessing using the same iterator reference to print\r\n     previous elements\r\n\r\n     while(itr.hasPrevious())\r\n     {   \r\n     System.out.println(&quot;I can access index but elements are not printed \r\n     here...&quot;);\r\n     System.out.println(&quot;Index of previous element is \r\n     :&quot;+itr.previousIndex());\r\n     System.out.println(itr.previous());}                   \r\n    }\r\n    }\r\n\r\nOutput:\r\nIndex of elements : 0 and element is 100 \r\nIndex of elements : 1 and element is 200 \r\n\r\nI can access index but elements are not printed here...\r\nIndex of previous element is :1\r\n\r\n\r\n","title":"Why can&#39;t I reuse an iterator?ListIterator class initially with reference &quot;itr&quot;,and is not accessible for another iteration.Can anyonehelpmewith this?","body":"<pre><code> import java.util.*;\n public class Main\n {\n public static void main(String[] args)\n {\n ArrayList &lt;Integer&gt; Array_List = new ArrayList();\n Array_List.add(100);\n Array_List.add(200);\n\n //A listiterator to check previous element accessing \n\n ListIterator &lt;Integer&gt;  itr =Array_List.listIterator();\n\n //Accessing and printing elements with hasNext() method\n\n while(itr.hasNext()){\n System.out.println(&quot;Index of elements : &quot;+itr.nextIndex()+\n                        &quot; and element is &quot;+itr.next()+&quot; &quot;);\n }\n System.out.println();\n Array_List.add(1,250);\n Array_List.remove(2);\n\n //Accessing using the same iterator reference to print\n previous elements\n\n while(itr.hasPrevious())\n {   \n System.out.println(&quot;I can access index but elements are not printed \n here...&quot;);\n System.out.println(&quot;Index of previous element is \n :&quot;+itr.previousIndex());\n System.out.println(itr.previous());}                   \n}\n}\n</code></pre>\n<p>Output:\nIndex of elements : 0 and element is 100\nIndex of elements : 1 and element is 200</p>\n<p>I can access index but elements are not printed here...\nIndex of previous element is :1</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1338192205,"creation_date":1338192205,"answer_id":10781264,"question_id":10781135,"body_markdown":"If you use maven, there is a button &quot;Download sourcec&quot; on maven panel.  \r\nIf you don&#39;t, you need to get sources of hibernate first, search on the internet. And then attach them: `File -&gt; Project Structure -&gt; Libraries -&gt; Your hibernate lib -&gt; and attach source`","title":"View sources of used Java classes in IntelliJ Idea","body":"<p>If you use maven, there is a button \"Download sourcec\" on maven panel.<br>\nIf you don't, you need to get sources of hibernate first, search on the internet. And then attach them: <code>File -&gt; Project Structure -&gt; Libraries -&gt; Your hibernate lib -&gt; and attach source</code></p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1338192263,"creation_date":1338192263,"answer_id":10781281,"question_id":10781135,"body_markdown":"Of course, quoting the [documentation](http://www.jetbrains.com/idea/webhelp/library.html):\r\n\r\n&gt; Libraries may optionally include the source code for the library classes as well as corresponding API documentation. [...] However, it adds the ability to use inline documentation extracted from the source code, and also to view the API documentation right from the IDE.\r\n\r\nThe documentation doesn&#39;t mention you can then debug external libraries, which is obviously also possible.\r\n\r\nIn order to add sources choose:\r\n\r\n* File | Project Structure\r\n* Click Libraries tab\r\n* Pick library and click `+` icon\r\n* Find a JAR file containing sources.\r\n\r\nIf you are using build tool like [tag:maven], IntelliJ will automatically download and attach available source to all libraries, no manual work needed.","title":"View sources of used Java classes in IntelliJ Idea","body":"<p>Of course, quoting the <a href=\"http://www.jetbrains.com/idea/webhelp/library.html\">documentation</a>:</p>\n\n<blockquote>\n  <p>Libraries may optionally include the source code for the library classes as well as corresponding API documentation. [...] However, it adds the ability to use inline documentation extracted from the source code, and also to view the API documentation right from the IDE.</p>\n</blockquote>\n\n<p>The documentation doesn't mention you can then debug external libraries, which is obviously also possible.</p>\n\n<p>In order to add sources choose:</p>\n\n<ul>\n<li>File | Project Structure</li>\n<li>Click Libraries tab</li>\n<li>Pick library and click <code>+</code> icon</li>\n<li>Find a JAR file containing sources.</li>\n</ul>\n\n<p>If you are using build tool like <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged 'maven'\" rel=\"tag\">maven</a>, IntelliJ will automatically download and attach available source to all libraries, no manual work needed.</p>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413612444,"creation_date":1413612444,"answer_id":26436806,"question_id":10781135,"body_markdown":"`Project Structure` | `Libraries` (or [Module Dependencies][1] if libraries are defined there):\r\n\r\n![Project Structure][2]\r\n\r\nThen in the libries tab click on the plus mark:\r\n\r\n![Libraries][3]\r\n\r\nSelect the source type:\r\n\r\n![Add source][4]\r\n\r\nThen you have to select the source path and add the wanted libraries finally click apply!\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html\r\n  [2]: http://i.stack.imgur.com/67pBA.png\r\n  [3]: http://i.stack.imgur.com/JeJkl.png\r\n  [4]: http://i.stack.imgur.com/1CNXW.png","title":"View sources of used Java classes in IntelliJ Idea","body":"<p><code>Project Structure</code> | <code>Libraries</code> (or <a href=\"http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html\" rel=\"nofollow noreferrer\">Module Dependencies</a> if libraries are defined there):</p>\n\n<p><img src=\"https://i.stack.imgur.com/67pBA.png\" alt=\"Project Structure\"></p>\n\n<p>Then in the libries tab click on the plus mark:</p>\n\n<p><img src=\"https://i.stack.imgur.com/JeJkl.png\" alt=\"Libraries\"></p>\n\n<p>Select the source type:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1CNXW.png\" alt=\"Add source\"></p>\n\n<p>Then you have to select the source path and add the wanted libraries finally click apply!</p>\n"},{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1538363005,"creation_date":1490562873,"answer_id":43034625,"question_id":10781135,"body_markdown":"# `Go to` ➙ `Implementation(s)`\r\n\r\nNo one suggested the simple route with a context-menu:\r\n\r\n1. `import java.util.DesiredClass` \r\n2. *select this import statement* \r\n3. *right click* -&gt; **Go to** -&gt; **Implementation(s)**\r\n\r\nDone! The source code of the `DesiredClass` opens in a new tab.\r\n\r\nThis also works with selected class name in the body of your code.\r\n\r\n[![screenshot of code editor with selected class name for which a context menu item &quot;Go To&quot; &gt; &quot;Implementation(s)&quot; is chosen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dBTY7.jpg","title":"View sources of used Java classes in IntelliJ Idea","body":"<h1><code>Go to</code> ➙ <code>Implementation(s)</code></h1>\n\n<p>No one suggested the simple route with a context-menu:</p>\n\n<ol>\n<li><code>import java.util.DesiredClass</code> </li>\n<li><em>select this import statement</em> </li>\n<li><em>right click</em> -> <strong>Go to</strong> -> <strong>Implementation(s)</strong></li>\n</ol>\n\n<p>Done! The source code of the <code>DesiredClass</code> opens in a new tab.</p>\n\n<p>This also works with selected class name in the body of your code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dBTY7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dBTY7.jpg\" alt=\"screenshot of code editor with selected class name for which a context menu item &quot;Go To&quot; &gt; &quot;Implementation(s)&quot; is chosen\"></a></p>\n"},{"tags":[],"owner":{"account_id":433443,"reputation":4526,"user_id":818766,"display_name":"manyways"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1517427879,"creation_date":1517004910,"answer_id":48470345,"question_id":10781135,"body_markdown":"In my case, I had to add the JDK source files to the project as below. \r\n\r\nGo to **Project Structure** -&gt; **SDKs** -&gt; **Sourcepath**\r\n\r\nUse the Plus Sign on the right, and provide the path to your $JAVA_HOME/src.zip file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4L79a.png","title":"View sources of used Java classes in IntelliJ Idea","body":"<p>In my case, I had to add the JDK source files to the project as below. </p>\n\n<p>Go to <strong>Project Structure</strong> -> <strong>SDKs</strong> -> <strong>Sourcepath</strong></p>\n\n<p>Use the Plus Sign on the right, and provide the path to your $JAVA_HOME/src.zip file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4L79a.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4L79a.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646550576,"creation_date":1646550169,"answer_id":71368301,"question_id":10781135,"body_markdown":"**Sources for JAVA API**\r\n\r\nIn Debian, and Ubuntu,\r\n\r\nTo be able to view sources for Java core API classes, you can install:\r\n\r\n```\r\nsudo apt install openjdk-11-jdk openjdk-11-source\r\n```\r\n\r\n`openjdk-*-source` package contains the Java programming language source files\r\n (src.zip) for all classes that make up the Java core API.\r\n\r\nOnce installed, you should be able to find the installed content under:\r\n\r\n```\r\n/usr/lib/jvm/java-11-openjdk-amd64\r\n/usr/lib/jvm/java-11-openjdk-amd64/src.zip\r\n```\r\n[![itellij sdk sourcepath][1]][1]\r\n\r\nThen in IntelliJ, add the JDK, in project settings. If `src.zip` is present within the provided JDK directory, IntelliJ will automatically use it as the sourcepath.\r\n\r\n**Sources for external libraries**\r\n\r\nIf you&#39;re using Maven, you can get source files for external dependencies by clicking on the button `&#39;Download Sources and/or Documentation&#39;` provided in [Maven tool window][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yX9ad.png\r\n  [2]: https://www.jetbrains.com/help/idea/maven-projects-tool-window.html","title":"View sources of used Java classes in IntelliJ Idea","body":"<p><strong>Sources for JAVA API</strong></p>\n<p>In Debian, and Ubuntu,</p>\n<p>To be able to view sources for Java core API classes, you can install:</p>\n<pre><code>sudo apt install openjdk-11-jdk openjdk-11-source\n</code></pre>\n<p><code>openjdk-*-source</code> package contains the Java programming language source files\n(src.zip) for all classes that make up the Java core API.</p>\n<p>Once installed, you should be able to find the installed content under:</p>\n<pre><code>/usr/lib/jvm/java-11-openjdk-amd64\n/usr/lib/jvm/java-11-openjdk-amd64/src.zip\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yX9ad.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yX9ad.png\" alt=\"itellij sdk sourcepath\" /></a></p>\n<p>Then in IntelliJ, add the JDK, in project settings. If <code>src.zip</code> is present within the provided JDK directory, IntelliJ will automatically use it as the sourcepath.</p>\n<p><strong>Sources for external libraries</strong></p>\n<p>If you're using Maven, you can get source files for external dependencies by clicking on the button <code>'Download Sources and/or Documentation'</code> provided in <a href=\"https://www.jetbrains.com/help/idea/maven-projects-tool-window.html\" rel=\"nofollow noreferrer\">Maven tool window</a>.</p>\n"}],"owner":{"account_id":1227104,"reputation":186,"user_id":1192459,"accept_rate":75,"display_name":"Mohamad Ali Honarpisheh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24773,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":10781281,"answer_count":6,"score":16,"last_activity_date":1646550576,"creation_date":1338191531,"question_id":10781135,"body_markdown":"In visual studio development environment when you use a library if you have the related pdb you can dig into their sources during debug. I wonder is there any way to have this feature when you are developing under Java with IntelliJ Idea IDE? \r\nI want to see what hibernate do.","title":"View sources of used Java classes in IntelliJ Idea","body":"<p>In visual studio development environment when you use a library if you have the related pdb you can dig into their sources during debug. I wonder is there any way to have this feature when you are developing under Java with IntelliJ Idea IDE? \nI want to see what hibernate do.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1646549885,"post_id":71368139,"comment_id":126148069,"body_markdown":"If you get an error, include the actual error message in your question.","body":"If you get an error, include the actual error message in your question."}],"answers":[{"tags":[],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646549523,"creation_date":1646548979,"answer_id":71368206,"question_id":71368139,"body_markdown":"Here you **don&#39;t need to use for loops** for just finding the longest word.\r\n\r\nJust remove the for loops and add the following lines below that.\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter Sentence&quot;);\r\n        s = sc.nextLine();\r\n        s = s.trim();\r\n        s = s+&quot; &quot;;\r\n\r\n        String longest = Arrays.stream(s.split(&quot; &quot;)).max(Comparator.comparingInt(String::length)).orElse(null);\r\n    \r\n        System.out.println(longest);\r\n\r\nYOUR FINAL CODE WILL BE:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Program {\r\n        public static void main(String[] args) {\r\n            String s;\r\n            int longestLength = 0;\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter Sentence&quot;);\r\n            s = sc.nextLine();\r\n            s = s.trim();\r\n            \r\n            String longest = Arrays.stream(s.split(&quot; &quot;)).max(Comparator.comparingInt(String::length)).orElse(null);\r\n        \r\n            System.out.println(longest);\r\n        }\r\n    }\r\n\r\nIt will print the longest word. Hope it will be helpful to you.\r\n","title":"Java Program to Enter a sentence and print the longest word","body":"<p>Here you <strong>don't need to use for loops</strong> for just finding the longest word.</p>\n<p>Just remove the for loops and add the following lines below that.</p>\n<pre><code>    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter Sentence&quot;);\n    s = sc.nextLine();\n    s = s.trim();\n    s = s+&quot; &quot;;\n\n    String longest = Arrays.stream(s.split(&quot; &quot;)).max(Comparator.comparingInt(String::length)).orElse(null);\n\n    System.out.println(longest);\n</code></pre>\n<p>YOUR FINAL CODE WILL BE:</p>\n<pre><code>import java.util.*;\n\npublic class Program {\n    public static void main(String[] args) {\n        String s;\n        int longestLength = 0;\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter Sentence&quot;);\n        s = sc.nextLine();\n        s = s.trim();\n        \n        String longest = Arrays.stream(s.split(&quot; &quot;)).max(Comparator.comparingInt(String::length)).orElse(null);\n    \n        System.out.println(longest);\n    }\n}\n</code></pre>\n<p>It will print the longest word. Hope it will be helpful to you.</p>\n"},{"tags":[],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646549157,"creation_date":1646549157,"answer_id":71368216,"question_id":71368139,"body_markdown":"There is an alternate easy method to split sentence using delimter using String.spilt(delimiter) funciton.\r\nBelow code is an working example for your task\r\n\r\n```\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        String s, st;\r\n        int longestLength = 0;\r\n        int i1 = 0;\r\n        int i2;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter Sentence&quot;);\r\n        s = sc.nextLine();\r\n\r\n        String maxString = &quot;&quot;;\r\n        for(String string : s.split(&quot; &quot;)){\r\n            maxString = maxString.length() &gt; string.length() ? maxString : string;\r\n        }\r\n\r\n        System.out.println(&quot;The max lengthed string is : &quot;+maxString);\r\n    }\r\n\r\n}\r\n\r\n```","title":"Java Program to Enter a sentence and print the longest word","body":"<p>There is an alternate easy method to split sentence using delimter using String.spilt(delimiter) funciton.\nBelow code is an working example for your task</p>\n<pre><code>\npublic class Test {\n\n    public static void main(String[] args) {\n        String s, st;\n        int longestLength = 0;\n        int i1 = 0;\n        int i2;\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter Sentence&quot;);\n        s = sc.nextLine();\n\n        String maxString = &quot;&quot;;\n        for(String string : s.split(&quot; &quot;)){\n            maxString = maxString.length() &gt; string.length() ? maxString : string;\n        }\n\n        System.out.println(&quot;The max lengthed string is : &quot;+maxString);\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646549721,"creation_date":1646549721,"answer_id":71368266,"question_id":71368139,"body_markdown":"Your issue is due to i1 has not be resetted to 0 hence the old loop value if i1 is there hence the issue\r\n\r\nThe solution is given below:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        String s, st;\r\n        int longestLength = 0;\r\n        int i1 = 0;\r\n        int i2;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter Sentence&quot;);\r\n        s = sc.nextLine();\r\n        s = s.trim();\r\n        s = s+&quot; &quot;;\r\n\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (Character.isWhitespace(s.charAt(i))) {\r\n                i2 = i;\r\n                st = s.substring(i1, i2);\r\n                if (st.length() &gt; longestLength)\r\n                    longestLength = st.length();\r\n                i1 = i;\r\n            }\r\n        }\r\n\r\n        i1=0;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (Character.isWhitespace(s.charAt(i))) {\r\n                i2 = i;\r\n                st = s.substring(i1, i2);\r\n                if (st.length() == longestLength) {\r\n                    System.out.println(&quot;Longest Word : &quot; + st);\r\n                    break;\r\n                }\r\n                i1=i;\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n```","title":"Java Program to Enter a sentence and print the longest word","body":"<p>Your issue is due to i1 has not be resetted to 0 hence the old loop value if i1 is there hence the issue</p>\n<p>The solution is given below:</p>\n<pre><code>public static void main(String[] args) {\n        String s, st;\n        int longestLength = 0;\n        int i1 = 0;\n        int i2;\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter Sentence&quot;);\n        s = sc.nextLine();\n        s = s.trim();\n        s = s+&quot; &quot;;\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (Character.isWhitespace(s.charAt(i))) {\n                i2 = i;\n                st = s.substring(i1, i2);\n                if (st.length() &gt; longestLength)\n                    longestLength = st.length();\n                i1 = i;\n            }\n        }\n\n        i1=0;\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (Character.isWhitespace(s.charAt(i))) {\n                i2 = i;\n                st = s.substring(i1, i2);\n                if (st.length() == longestLength) {\n                    System.out.println(&quot;Longest Word : &quot; + st);\n                    break;\n                }\n                i1=i;\n            }\n\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":24467031,"reputation":1,"user_id":18387242,"display_name":"Rajeev Mishra"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1306,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1646551554,"answer_count":3,"score":-4,"last_activity_date":1646549721,"creation_date":1646548175,"question_id":71368139,"body_markdown":"This a program to enter a sentence and print the longest word using substring() \r\nHere, I have used the 1st loop to extract each word from the sentence and find the length of the longest word.\r\nIn the 2nd Loop, its purpose is it to extract and print the word that matches the length which was found out in the 1st loop and stored in the &quot;longestLength&quot; variable.\r\n\r\nI am getting an error when i compile the following code:\r\n\r\n```\r\nimport java.util.*;\r\npublic class Program {\r\n    public static void main(String[] args) {\r\n        String s, st;\r\n        int longestLength = 0;\r\n        int i1 = 0;\r\n        int i2;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter Sentence&quot;);\r\n        s = sc.nextLine();\r\n        s = s.trim();\r\n        s = s+&quot; &quot;;\r\n\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (Character.isWhitespace(s.charAt(i))) {\r\n                i2 = i;\r\n                st = s.substring(i1, i2);\r\n                if (st.length() &gt; longestLength)\r\n                    longestLength = st.length();\r\n                i1 = i;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (Character.isWhitespace(s.charAt(i))) {\r\n                i2 = i;\r\n                st = s.substring(i1, i2);\r\n                if (st.length() == longestLength) {\r\n                    System.out.println(&quot;Longest Word : &quot; + st);\r\n                    break;\r\n                }\r\n                i1=i;\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Java Program to Enter a sentence and print the longest word","body":"<p>This a program to enter a sentence and print the longest word using substring()\nHere, I have used the 1st loop to extract each word from the sentence and find the length of the longest word.\nIn the 2nd Loop, its purpose is it to extract and print the word that matches the length which was found out in the 1st loop and stored in the &quot;longestLength&quot; variable.</p>\n<p>I am getting an error when i compile the following code:</p>\n<pre><code>import java.util.*;\npublic class Program {\n    public static void main(String[] args) {\n        String s, st;\n        int longestLength = 0;\n        int i1 = 0;\n        int i2;\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter Sentence&quot;);\n        s = sc.nextLine();\n        s = s.trim();\n        s = s+&quot; &quot;;\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (Character.isWhitespace(s.charAt(i))) {\n                i2 = i;\n                st = s.substring(i1, i2);\n                if (st.length() &gt; longestLength)\n                    longestLength = st.length();\n                i1 = i;\n            }\n        }\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (Character.isWhitespace(s.charAt(i))) {\n                i2 = i;\n                st = s.substring(i1, i2);\n                if (st.length() == longestLength) {\n                    System.out.println(&quot;Longest Word : &quot; + st);\n                    break;\n                }\n                i1=i;\n            }\n\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","memory-management","listener","observer-pattern","weak-references"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":2,"creation_date":1422277902,"post_id":28150711,"comment_id":44672598,"body_markdown":"You need to formulate this as a question / answer.","body":"You need to formulate this as a question / answer."},{"owner":{"account_id":1705,"reputation":177536,"user_id":1902010,"accept_rate":81,"display_name":"ceejayoz"},"score":3,"creation_date":1422277986,"post_id":28150711,"comment_id":44672638,"body_markdown":"StackOverflow isn&#39;t really the spot to write a blog.","body":"StackOverflow isn&#39;t really the spot to write a blog."},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1422278218,"post_id":28150711,"comment_id":44672771,"body_markdown":"http://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/","body":"<a href=\"http://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">blog.stackoverflow.com/2011/07/&hellip;</a>"},{"owner":{"account_id":1705,"reputation":177536,"user_id":1902010,"accept_rate":81,"display_name":"ceejayoz"},"score":1,"creation_date":1422278322,"post_id":28150711,"comment_id":44672827,"body_markdown":"@sp00m Yes, you can answer your own questions. There&#39;s no question here, though.","body":"@sp00m Yes, you can answer your own questions. There&#39;s no question here, though."},{"owner":{"account_id":2187841,"reputation":971,"user_id":1935801,"accept_rate":57,"display_name":"Morten Grum"},"score":0,"creation_date":1422279253,"post_id":28150711,"comment_id":44673412,"body_markdown":"@aioobe is this better?","body":"@aioobe is this better?"},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1422279361,"post_id":28150711,"comment_id":44673470,"body_markdown":"You should post the answer in the answer text box. Not in the question text box.","body":"You should post the answer in the answer text box. Not in the question text box."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1422279395,"post_id":28150711,"comment_id":44673485,"body_markdown":"@MortenGrum The proper way would be to ask the question (first line of your post) in the question section, and place the answer (the rest of the post) in the answer section below. (Not sure why you got downvoted: although the question could be closed in its current form, it is useful and shows a good research effort)","body":"@MortenGrum The proper way would be to ask the question (first line of your post) in the question section, and place the answer (the rest of the post) in the answer section below. (Not sure why you got downvoted: although the question could be closed in its current form, it is useful and shows a good research effort)"},{"owner":{"account_id":2187841,"reputation":971,"user_id":1935801,"accept_rate":57,"display_name":"Morten Grum"},"score":0,"creation_date":1422279476,"post_id":28150711,"comment_id":44673525,"body_markdown":"Ok - think I got it. Will modify. Thanks @aioobe","body":"Ok - think I got it. Will modify. Thanks @aioobe"},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1422280046,"post_id":28150711,"comment_id":44673804,"body_markdown":"@MortenGrum, your question is not very clear. This depends on what memory problems you have. Memory leaks? Memory footprint? GC-overhead? Also, the grammatical errors doesn&#39;t really help.","body":"@MortenGrum, your question is not very clear. This depends on what memory problems you have. Memory leaks? Memory footprint? GC-overhead? Also, the grammatical errors doesn&#39;t really help."}],"answers":[{"tags":[],"owner":{"account_id":2187841,"reputation":971,"user_id":1935801,"accept_rate":57,"display_name":"Morten Grum"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1422279601,"creation_date":1422279601,"answer_id":28151181,"question_id":28150711,"body_markdown":"I&#39;ve done a bit to check it out myself (see below). Do you agree with my conclusions?\r\n\r\n**Intro:**\r\n\r\nHere are 7 different trials demonstrating the use and miss-use of strong and weak references in the context of the observer model (listener model). I know that there are already lots of posts on pros &amp; cons of weak references out there but even after grinding my way through tons of these I still felt I needed to feel-it-with-code. My need-to-know was sparked by encountering heap leaks when scaling a 10-15 year code pool with lost of listeners (non-gui listeners). Thought the results and code might be useful for others wanting to get clear on this topic.\r\n\r\nComments/ammendments/alternatives are welcome!\r\n\r\n----------\r\n**Conclusion:**\r\n\r\nAlways use one of two strategies:\r\n\r\n - Strong references to listeners and then make sure every single one of them is removed before the listeners &quot;owner&quot; (or owners owners ...) is dropped and becomes inaccessible (case C below). This means stringently implementing (and using!) &quot;free()&quot; or &quot;destroy()&quot; methods on practically all your classes.\r\n - Weak references to listeners that are fields on their owner class (i.e. listeners should not be local method variables) (case E below).\r\n\r\nIf you are creating a &lt;b&gt;library&lt;/b&gt; for others to use, &lt;b&gt;weak reference to listeners is probably not an option&lt;/b&gt; because neither at compile time nor runtime does java have any way of checking that a listener registering on a subject has a strong link in the other end. Note that contrary to much discussion around, the issue has nothing to do with whether or not the listener is an anonymous class. It is purely an issue of how the listener is hooked up in &quot;the other end&quot; (the end that is not on the subject side but on the observer side).\r\n\r\n----------\r\n**Here is my console output:**\r\n\r\nAt the end of the day - no surprises, but simply a confirmation of what one would in fact expect. If a listener has a strong references in either end of the observer model then it won&#39;t be garbage collected. If it has only weak references then your objects might be garbage collected before you want it (see for example case G where notifiedCount is 0).\r\n\r\n&lt;pre&gt;&lt;code&gt;    A. WITHOUT connecting listeners\r\n       At start, memory used = 281 KB\r\n       After instantiation 100 observers with a double[1000000] each, memory used = 800288 KB\r\n       After setting list of observes to null, memory used = 282 KB\r\n\r\n    B. STRONG references to FIELD listeners\r\n       At start, memory used = 286 KB\r\n       After instantiation 100 observers with a double[1000000] each, memory used = 800291 KB\r\n       After making change on subject (notifiedCount=100), memory used = 800292 KB\r\n       After setting list of observes to null, memory used = 800292 KB\r\n\r\n    C. STRONG references to FIELD listeners with REMOVE\r\n       At start, memory used = 286 KB\r\n       After instantiation 100 observers with a double[1000000] each, memory used = 800292 KB\r\n       After making change on subject (notifiedCount=100), memory used = 800293 KB\r\n       After removing listeners, memory used = 800292 KB\r\n       After setting list of observes to null, memory used = 286 KB\r\n\r\n    D. STRONG references to LOCAL listeners\r\n       At start, memory used = 286 KB\r\n       After instantiation 100 observers with a double[1000000] each, memory used = 800295 KB\r\n       After making change on subject (notifiedCount=100), memory used = 800295 KB\r\n       After setting list of observes to null, memory used = 800294 KB\r\n\r\n    E. WEAKLY references to FIELD listeners\r\n       At start, memory used = 287 KB\r\n       After instantiation 100 observers with a double[1000000] each, memory used = 800297 KB\r\n       After making change on subject (notifiedCount=100), memory used = 800297 KB\r\n       After setting list of observes to null, memory used = 291 KB\r\n\r\n    F. WEAKLY references to FIELD listeners with REMOVE\r\n       At start, memory used = 287 KB\r\n       After instantiation 100 observers with a double[1000000] each, memory used = 800297 KB\r\n       After making change on subject (notifiedCount=100), memory used = 800297 KB\r\n       After removing listeners, memory used = 800294 KB\r\n       After setting list of observes to null, memory used = 288 KB\r\n\r\n    G. WEAKLY references to LOCAL listeners\r\n       At start, memory used = 287 KB\r\n       After instantiation 100 observers with a double[1000000] each, memory used = 800297 KB\r\n       After making change on subject (notifiedCount=0), memory used = 800297 KB\r\n       After setting list of observes to null, memory used = 291 KB\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n----------\r\n**What I did:**\r\n\r\n&lt;b&gt;STEP 1:&lt;/b&gt; I created two different listener support classes:\r\n\r\n - one with classic strong references to its listeners:\r\n\r\n&lt;pre&gt;&lt;code&gt;public class ListenerSupportWithStrongReferences implements ListenerSupport {\r\n    List&amp;ltPropertyChangeListener&amp;gt strongListeners = new ArrayList&amp;ltPropertyChangeListener&amp;gt;\r\n        \r\n    public void addPropertyChangeListener(\r\n            PropertyChangeListener propertyChangeListener) {\r\n        strongListeners.add(propertyChangeListener);\r\n    }\r\n\r\n    public void removePropertyChangeListener(\r\n            PropertyChangeListener propertyChangeListener) {\r\n        strongListeners.remove(propertyChangeListener);\r\n    }\r\n\r\n    public void firePropertyChangeEvent(PropertyChangeEvent propertyChangeEvent) {\r\n        for(PropertyChangeListener strongListener : strongListeners){\r\n            strongListener.propertyChange(propertyChangeEvent);\r\n        }\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n - and another with weak references to its listeners:\r\n\r\n&lt;pre&gt;&lt;code&gt;public class ListenerSupportWithWeakReferences implements ListenerSupport {\r\n\r\n    List&amp;ltWeakReference&amp;ltPropertyChangeListener&amp;gt&amp;gt weakListeners = \r\n        new ArrayList&amp;ltWeakReference&amp;ltPropertyChangeListener&amp;gt&amp;gt();\r\n\r\n    public void addPropertyChangeListener(\r\n            PropertyChangeListener propertyChangeListener) {\r\n        weakListeners.add(new WeakReference&amp;ltPropertyChangeListener&amp;gt(propertyChangeListener));\r\n    }\r\n\r\n    public void removePropertyChangeListener(\r\n            PropertyChangeListener propertyChangeListener) {\r\n        for(WeakReference&amp;ltPropertyChangeListener&amp;gt weakReference : weakListeners){\r\n            if(weakReference.get()==propertyChangeListener){\r\n                weakListeners.remove(weakReference);\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void firePropertyChangeEvent(PropertyChangeEvent propertyChangeEvent) {\r\n        for(WeakReference&amp;ltPropertyChangeListener&amp;gt weakReference : weakListeners){\r\n            PropertyChangeListener propertyChangeListener = weakReference.get();\r\n            if(propertyChangeListener!=null)\r\n                propertyChangeListener.propertyChange(propertyChangeEvent);\r\n        }\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nboth support classes implement the interface:\r\n\r\n&lt;pre&gt;&lt;code&gt;public interface ListenerSupport extends SubjectInterface {\r\n\r\n    public void firePropertyChangeEvent(PropertyChangeEvent propertyChangeEvent);\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nwhich in turn extends the interface:\r\n\r\n&lt;pre&gt;&lt;code&gt;public interface SubjectInterface {\r\n\r\n    public void addPropertyChangeListener(PropertyChangeListener propertyChangeListener);\r\n    public void removePropertyChangeListener(PropertyChangeListener propertyChangeListener);\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n&lt;b&gt;STEP 2:&lt;/b&gt; I created a concrete subject class allowing me to control the type of listerner support through the constructor and on which I could change a value that would notify listeners using whatever listener support had been instantiated.\r\n\r\n&lt;pre&gt;&lt;code&gt;public class ConcreteSubject implements SubjectInterface {\r\n\r\n    public static final String STRONG_LISTENERS = &quot;STRONG_LISTENERS&quot;;\r\n    public static final String WEAK_LISTENERS = &quot;WEAK_LISTENERS&quot;;\r\n        \r\n    private final ListenerSupport listenerSupport;\r\n    private int myValue;\r\n\r\n    public ConcreteSubject(String typeOfListeners) {\r\n        if(typeOfListeners.equals(STRONG_LISTENERS)){\r\n            listenerSupport = new ListenerSupportWithStrongReferences();\r\n        } else if(typeOfListeners.equals(WEAK_LISTENERS)){\r\n            listenerSupport = new ListenerSupportWithWeakReferences();\r\n        } else {\r\n            throw new RuntimeException(&quot;Unknown type of listeners:&quot;+typeOfListeners);\r\n        }\r\n    }\r\n\r\n    public void addPropertyChangeListener(\r\n            PropertyChangeListener propertyChangeListener) {\r\n        listenerSupport.addPropertyChangeListener(propertyChangeListener);\r\n    }\r\n\r\n    public void removePropertyChangeListener(\r\n            PropertyChangeListener propertyChangeListener) {\r\n        listenerSupport.removePropertyChangeListener(propertyChangeListener);\r\n    }\r\n\r\n    private void fireMyValueHasChange(int oldValue, int newValue){\r\n        PropertyChangeEvent propertyChangeEvent = \r\n            new PropertyChangeEvent(this, &quot;SomeEvent&quot;, new Integer(oldValue), new Integer(newValue));\r\n        listenerSupport.firePropertyChangeEvent(propertyChangeEvent);\r\n    }\r\n\r\n    public int getMyValue() {\r\n        return myValue;\r\n    }\r\n\r\n    public void setMyValue(int myValue) {\r\n        int oldValue = this.myValue;\r\n        this.myValue = myValue;\r\n        fireMyValueHasChange(oldValue, this.myValue);\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n&lt;b&gt;STEP 3:&lt;/b&gt; I created an observing class with a large double array so as to take up a noticable amount of memory. I also gave the observing class the ability to serve two different listeners:\r\n - a field listener created on instantiation of the observer itself (so the observer had a strong reference to its listener) and\r\n - a listener that created within the method returning it (so the observer had no reference to its listener).\r\nI also created a counter to keep track of notifications. \r\n\r\n&lt;pre&gt;&lt;code&gt;public class ObservingObject {\r\n\r\n    public final static int DOUBLE_ARRAY_SIZE = 1000000;\r\n    private double[] myDoubles = new double[DOUBLE_ARRAY_SIZE];\r\n    private int notifiedCount = 0;\r\n\r\n    private PropertyChangeListener fieldListener = new PropertyChangeListener() {\r\n        public void propertyChange(PropertyChangeEvent arg0) {\r\n            notifiedCount++;\r\n        }\r\n    };\r\n\r\n    public PropertyChangeListener getFieldPropertyChangeListener() {\r\n        return fieldListener;\r\n    }\r\n\r\n    public PropertyChangeListener getLocalMethodPropertyChangeListener() {\r\n        PropertyChangeListener localListenerInstance = new PropertyChangeListener() {\r\n            public void propertyChange(PropertyChangeEvent arg0) {\r\n                notifiedCount++;\r\n            }\r\n        };\r\n        return localListenerInstance;\r\n    }\r\n\r\n    public int getNotifiedCount() {\r\n        return notifiedCount;\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n&lt;b&gt;STEP 4:&lt;/b&gt; Finally, I created my main class to try out 7 different &quot;configurations&quot; of:\r\n\r\n - strong/weak references to listeners, \r\n - field/method-local listeners, \r\n - with/without rempoving the listeners.\r\n\r\n The output of this main trials class is listed above. Note that I call the garbage collector before calculating memory used to ensure that what I&#39;m seeing is the memory actually hanging or used.\r\n\r\n&lt;pre&gt;&lt;code&gt;public class WeakReferenceListenerTrials {\r\n\r\n    private static final String LOCAL_LISTENER = &quot;local method listener&quot;;\r\n    private static final String FIELD_LISTENER = &quot;field listener&quot;;\r\n    List&amp;ltObservingObject&amp;gt observers;\r\n\r\n    private void runTials() {\r\n        runTrial(&quot;A. WITHOUT connecting listeners&quot;, null, null, false);\r\n        runTrial(&quot;B. STRONG references to FIELD listeners&quot;, \r\n                new ConcreteSubject(ConcreteSubject.STRONG_LISTENERS), FIELD_LISTENER, false);\r\n        runTrial(&quot;C. STRONG references to FIELD listeners with REMOVE&quot;, \r\n                new ConcreteSubject(ConcreteSubject.STRONG_LISTENERS), FIELD_LISTENER, true);\r\n        runTrial(&quot;D. STRONG references to LOCAL listeners&quot;, \r\n                new ConcreteSubject(ConcreteSubject.STRONG_LISTENERS), LOCAL_LISTENER, false);\r\n        runTrial(&quot;E. WEAKLY references to FIELD listeners&quot;, \r\n                new ConcreteSubject(ConcreteSubject.WEAK_LISTENERS), FIELD_LISTENER, false);\r\n        runTrial(&quot;F. WEAKLY references to FIELD listeners with REMOVE&quot;, \r\n                new ConcreteSubject(ConcreteSubject.WEAK_LISTENERS), FIELD_LISTENER, true);\r\n        runTrial(&quot;G. WEAKLY references to LOCAL listeners&quot;, \r\n                new ConcreteSubject(ConcreteSubject.WEAK_LISTENERS), LOCAL_LISTENER, false);\r\n    }\r\n\r\n    private void runTrial(String titleText, \r\n            ConcreteSubject subject, String localOrFieldListeners, boolean removeListeners) {\r\n        System.out.println(&quot;\\n&quot;+titleText);\r\n        printMem(&quot;   At start&quot;);\r\n\r\n        instantiateObserversAndConnectListenersToSubject(subject, localOrFieldListeners);\r\n        printMem(&quot;   After instantiation 100 observers with a double[&quot;+ObservingObject.DOUBLE_ARRAY_SIZE+&quot;] each&quot;);\r\n\r\n        if(subject!=null){\r\n            subject.setMyValue(1);\r\n            int notifiedCount = 0;\r\n            for(ObservingObject observingObject : observers){\r\n                notifiedCount = notifiedCount + observingObject.getNotifiedCount();\r\n            }\r\n            printMem(&quot;   After making change on subject (notifiedCount=&quot;+notifiedCount+&quot;)&quot;);\r\n        }\r\n\r\n        if(removeListeners){\r\n            removeListeners(subject, localOrFieldListeners);\r\n            printMem(&quot;   After removing listeners&quot;);\r\n        }\r\n\r\n        observers = null;\r\n        printMem(&quot;   After setting list of observes to null&quot;);\r\n    }\r\n\r\n    private void removeListeners(ConcreteSubject subject,\r\n            String localOrFieldListeners) {\r\n        if(localOrFieldListeners.equals(FIELD_LISTENER) &amp;&amp; subject!=null){\r\n            for(ObservingObject observingObject :observers){\r\n                subject.removePropertyChangeListener(observingObject.getFieldPropertyChangeListener());\r\n            }\r\n        }\r\n    }\r\n\r\n    private void instantiateObserversAndConnectListenersToSubject(\r\n            ConcreteSubject subject, String localOrFieldListeners) {\r\n        observers = new ArrayList&amp;ltObservingObject&amp;gt();\r\n        int observerCount = 100;\r\n        for(int i = 0 ; i lt observerCount ; i++){\r\n            ObservingObject observingObject = new ObservingObject();\r\n            observers.add(observingObject);\r\n            if(subject!=null){\r\n                if(localOrFieldListeners.equals(FIELD_LISTENER)){\r\n                    subject.addPropertyChangeListener(observingObject.getFieldPropertyChangeListener());\r\n                } else if(localOrFieldListeners.equals(LOCAL_LISTENER)){\r\n                    subject.addPropertyChangeListener(observingObject.getLocalMethodPropertyChangeListener());\r\n                } else {\r\n                    throw new RuntimeException(&quot;Unknow listener type&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void printMem(String string) {\r\n        System.out.println(string+&quot;, memory used = &quot;+getUsedMemoryInKB()+&quot; KB&quot;);\r\n    }\r\n\r\n    private static int getUsedMemoryInKB() {\r\n        // Start by garbage collect\r\n        Runtime runtime = Runtime.getRuntime();\r\n        runtime.gc();\r\n\r\n        // Calculate &#39;used memory&#39; as difference between total and free\r\n        long totalMemory = runtime.totalMemory();\r\n        long freeMemory = runtime.freeMemory();\r\n        long usedMemory = totalMemory - freeMemory;\r\n        int usedMemoryInKB = (int)(usedMemory/1000);\r\n        return usedMemoryInKB;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new WeakReferenceListenerTrials().runTials();\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThat&#39;s it. Hope its useful to others. It was to me.\r\n","title":"How can I use WeakReferences for Listeners (Observer Pattern) to avoid memory leaks?","body":"<p>I've done a bit to check it out myself (see below). Do you agree with my conclusions?</p>\n\n<p><strong>Intro:</strong></p>\n\n<p>Here are 7 different trials demonstrating the use and miss-use of strong and weak references in the context of the observer model (listener model). I know that there are already lots of posts on pros &amp; cons of weak references out there but even after grinding my way through tons of these I still felt I needed to feel-it-with-code. My need-to-know was sparked by encountering heap leaks when scaling a 10-15 year code pool with lost of listeners (non-gui listeners). Thought the results and code might be useful for others wanting to get clear on this topic.</p>\n\n<p>Comments/ammendments/alternatives are welcome!</p>\n\n<hr>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>Always use one of two strategies:</p>\n\n<ul>\n<li>Strong references to listeners and then make sure every single one of them is removed before the listeners \"owner\" (or owners owners ...) is dropped and becomes inaccessible (case C below). This means stringently implementing (and using!) \"free()\" or \"destroy()\" methods on practically all your classes.</li>\n<li>Weak references to listeners that are fields on their owner class (i.e. listeners should not be local method variables) (case E below).</li>\n</ul>\n\n<p>If you are creating a <b>library</b> for others to use, <b>weak reference to listeners is probably not an option</b> because neither at compile time nor runtime does java have any way of checking that a listener registering on a subject has a strong link in the other end. Note that contrary to much discussion around, the issue has nothing to do with whether or not the listener is an anonymous class. It is purely an issue of how the listener is hooked up in \"the other end\" (the end that is not on the subject side but on the observer side).</p>\n\n<hr>\n\n<p><strong>Here is my console output:</strong></p>\n\n<p>At the end of the day - no surprises, but simply a confirmation of what one would in fact expect. If a listener has a strong references in either end of the observer model then it won't be garbage collected. If it has only weak references then your objects might be garbage collected before you want it (see for example case G where notifiedCount is 0).</p>\n\n<pre><code>    A. WITHOUT connecting listeners\n       At start, memory used = 281 KB\n       After instantiation 100 observers with a double[1000000] each, memory used = 800288 KB\n       After setting list of observes to null, memory used = 282 KB\n\n    B. STRONG references to FIELD listeners\n       At start, memory used = 286 KB\n       After instantiation 100 observers with a double[1000000] each, memory used = 800291 KB\n       After making change on subject (notifiedCount=100), memory used = 800292 KB\n       After setting list of observes to null, memory used = 800292 KB\n\n    C. STRONG references to FIELD listeners with REMOVE\n       At start, memory used = 286 KB\n       After instantiation 100 observers with a double[1000000] each, memory used = 800292 KB\n       After making change on subject (notifiedCount=100), memory used = 800293 KB\n       After removing listeners, memory used = 800292 KB\n       After setting list of observes to null, memory used = 286 KB\n\n    D. STRONG references to LOCAL listeners\n       At start, memory used = 286 KB\n       After instantiation 100 observers with a double[1000000] each, memory used = 800295 KB\n       After making change on subject (notifiedCount=100), memory used = 800295 KB\n       After setting list of observes to null, memory used = 800294 KB\n\n    E. WEAKLY references to FIELD listeners\n       At start, memory used = 287 KB\n       After instantiation 100 observers with a double[1000000] each, memory used = 800297 KB\n       After making change on subject (notifiedCount=100), memory used = 800297 KB\n       After setting list of observes to null, memory used = 291 KB\n\n    F. WEAKLY references to FIELD listeners with REMOVE\n       At start, memory used = 287 KB\n       After instantiation 100 observers with a double[1000000] each, memory used = 800297 KB\n       After making change on subject (notifiedCount=100), memory used = 800297 KB\n       After removing listeners, memory used = 800294 KB\n       After setting list of observes to null, memory used = 288 KB\n\n    G. WEAKLY references to LOCAL listeners\n       At start, memory used = 287 KB\n       After instantiation 100 observers with a double[1000000] each, memory used = 800297 KB\n       After making change on subject (notifiedCount=0), memory used = 800297 KB\n       After setting list of observes to null, memory used = 291 KB\n</code></pre>\n\n<hr>\n\n<p><strong>What I did:</strong></p>\n\n<p><b>STEP 1:</b> I created two different listener support classes:</p>\n\n<ul>\n<li>one with classic strong references to its listeners:</li>\n</ul>\n\n<pre><code>public class ListenerSupportWithStrongReferences implements ListenerSupport {\n    List&ltPropertyChangeListener&gt strongListeners = new ArrayList&ltPropertyChangeListener&gt;\n\n    public void addPropertyChangeListener(\n            PropertyChangeListener propertyChangeListener) {\n        strongListeners.add(propertyChangeListener);\n    }\n\n    public void removePropertyChangeListener(\n            PropertyChangeListener propertyChangeListener) {\n        strongListeners.remove(propertyChangeListener);\n    }\n\n    public void firePropertyChangeEvent(PropertyChangeEvent propertyChangeEvent) {\n        for(PropertyChangeListener strongListener : strongListeners){\n            strongListener.propertyChange(propertyChangeEvent);\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li>and another with weak references to its listeners:</li>\n</ul>\n\n<pre><code>public class ListenerSupportWithWeakReferences implements ListenerSupport {\n\n    List&ltWeakReference&ltPropertyChangeListener&gt&gt weakListeners = \n        new ArrayList&ltWeakReference&ltPropertyChangeListener&gt&gt();\n\n    public void addPropertyChangeListener(\n            PropertyChangeListener propertyChangeListener) {\n        weakListeners.add(new WeakReference&ltPropertyChangeListener&gt(propertyChangeListener));\n    }\n\n    public void removePropertyChangeListener(\n            PropertyChangeListener propertyChangeListener) {\n        for(WeakReference&ltPropertyChangeListener&gt weakReference : weakListeners){\n            if(weakReference.get()==propertyChangeListener){\n                weakListeners.remove(weakReference);\n                break;\n            }\n        }\n\n    }\n\n    public void firePropertyChangeEvent(PropertyChangeEvent propertyChangeEvent) {\n        for(WeakReference&ltPropertyChangeListener&gt weakReference : weakListeners){\n            PropertyChangeListener propertyChangeListener = weakReference.get();\n            if(propertyChangeListener!=null)\n                propertyChangeListener.propertyChange(propertyChangeEvent);\n        }\n    }\n}\n</code></pre>\n\n<p>both support classes implement the interface:</p>\n\n<pre><code>public interface ListenerSupport extends SubjectInterface {\n\n    public void firePropertyChangeEvent(PropertyChangeEvent propertyChangeEvent);\n}\n</code></pre>\n\n<p>which in turn extends the interface:</p>\n\n<pre><code>public interface SubjectInterface {\n\n    public void addPropertyChangeListener(PropertyChangeListener propertyChangeListener);\n    public void removePropertyChangeListener(PropertyChangeListener propertyChangeListener);\n}\n</code></pre>\n\n<p><b>STEP 2:</b> I created a concrete subject class allowing me to control the type of listerner support through the constructor and on which I could change a value that would notify listeners using whatever listener support had been instantiated.</p>\n\n<pre><code>public class ConcreteSubject implements SubjectInterface {\n\n    public static final String STRONG_LISTENERS = \"STRONG_LISTENERS\";\n    public static final String WEAK_LISTENERS = \"WEAK_LISTENERS\";\n\n    private final ListenerSupport listenerSupport;\n    private int myValue;\n\n    public ConcreteSubject(String typeOfListeners) {\n        if(typeOfListeners.equals(STRONG_LISTENERS)){\n            listenerSupport = new ListenerSupportWithStrongReferences();\n        } else if(typeOfListeners.equals(WEAK_LISTENERS)){\n            listenerSupport = new ListenerSupportWithWeakReferences();\n        } else {\n            throw new RuntimeException(\"Unknown type of listeners:\"+typeOfListeners);\n        }\n    }\n\n    public void addPropertyChangeListener(\n            PropertyChangeListener propertyChangeListener) {\n        listenerSupport.addPropertyChangeListener(propertyChangeListener);\n    }\n\n    public void removePropertyChangeListener(\n            PropertyChangeListener propertyChangeListener) {\n        listenerSupport.removePropertyChangeListener(propertyChangeListener);\n    }\n\n    private void fireMyValueHasChange(int oldValue, int newValue){\n        PropertyChangeEvent propertyChangeEvent = \n            new PropertyChangeEvent(this, \"SomeEvent\", new Integer(oldValue), new Integer(newValue));\n        listenerSupport.firePropertyChangeEvent(propertyChangeEvent);\n    }\n\n    public int getMyValue() {\n        return myValue;\n    }\n\n    public void setMyValue(int myValue) {\n        int oldValue = this.myValue;\n        this.myValue = myValue;\n        fireMyValueHasChange(oldValue, this.myValue);\n    }\n}\n</code></pre>\n\n<p><b>STEP 3:</b> I created an observing class with a large double array so as to take up a noticable amount of memory. I also gave the observing class the ability to serve two different listeners:\n - a field listener created on instantiation of the observer itself (so the observer had a strong reference to its listener) and\n - a listener that created within the method returning it (so the observer had no reference to its listener).\nI also created a counter to keep track of notifications. </p>\n\n<pre><code>public class ObservingObject {\n\n    public final static int DOUBLE_ARRAY_SIZE = 1000000;\n    private double[] myDoubles = new double[DOUBLE_ARRAY_SIZE];\n    private int notifiedCount = 0;\n\n    private PropertyChangeListener fieldListener = new PropertyChangeListener() {\n        public void propertyChange(PropertyChangeEvent arg0) {\n            notifiedCount++;\n        }\n    };\n\n    public PropertyChangeListener getFieldPropertyChangeListener() {\n        return fieldListener;\n    }\n\n    public PropertyChangeListener getLocalMethodPropertyChangeListener() {\n        PropertyChangeListener localListenerInstance = new PropertyChangeListener() {\n            public void propertyChange(PropertyChangeEvent arg0) {\n                notifiedCount++;\n            }\n        };\n        return localListenerInstance;\n    }\n\n    public int getNotifiedCount() {\n        return notifiedCount;\n    }\n}\n</code></pre>\n\n<p><b>STEP 4:</b> Finally, I created my main class to try out 7 different \"configurations\" of:</p>\n\n<ul>\n<li>strong/weak references to listeners, </li>\n<li>field/method-local listeners, </li>\n<li><p>with/without rempoving the listeners.</p>\n\n<p>The output of this main trials class is listed above. Note that I call the garbage collector before calculating memory used to ensure that what I'm seeing is the memory actually hanging or used.</p></li>\n</ul>\n\n<pre><code>public class WeakReferenceListenerTrials {\n\n    private static final String LOCAL_LISTENER = \"local method listener\";\n    private static final String FIELD_LISTENER = \"field listener\";\n    List&ltObservingObject&gt observers;\n\n    private void runTials() {\n        runTrial(\"A. WITHOUT connecting listeners\", null, null, false);\n        runTrial(\"B. STRONG references to FIELD listeners\", \n                new ConcreteSubject(ConcreteSubject.STRONG_LISTENERS), FIELD_LISTENER, false);\n        runTrial(\"C. STRONG references to FIELD listeners with REMOVE\", \n                new ConcreteSubject(ConcreteSubject.STRONG_LISTENERS), FIELD_LISTENER, true);\n        runTrial(\"D. STRONG references to LOCAL listeners\", \n                new ConcreteSubject(ConcreteSubject.STRONG_LISTENERS), LOCAL_LISTENER, false);\n        runTrial(\"E. WEAKLY references to FIELD listeners\", \n                new ConcreteSubject(ConcreteSubject.WEAK_LISTENERS), FIELD_LISTENER, false);\n        runTrial(\"F. WEAKLY references to FIELD listeners with REMOVE\", \n                new ConcreteSubject(ConcreteSubject.WEAK_LISTENERS), FIELD_LISTENER, true);\n        runTrial(\"G. WEAKLY references to LOCAL listeners\", \n                new ConcreteSubject(ConcreteSubject.WEAK_LISTENERS), LOCAL_LISTENER, false);\n    }\n\n    private void runTrial(String titleText, \n            ConcreteSubject subject, String localOrFieldListeners, boolean removeListeners) {\n        System.out.println(\"\\n\"+titleText);\n        printMem(\"   At start\");\n\n        instantiateObserversAndConnectListenersToSubject(subject, localOrFieldListeners);\n        printMem(\"   After instantiation 100 observers with a double[\"+ObservingObject.DOUBLE_ARRAY_SIZE+\"] each\");\n\n        if(subject!=null){\n            subject.setMyValue(1);\n            int notifiedCount = 0;\n            for(ObservingObject observingObject : observers){\n                notifiedCount = notifiedCount + observingObject.getNotifiedCount();\n            }\n            printMem(\"   After making change on subject (notifiedCount=\"+notifiedCount+\")\");\n        }\n\n        if(removeListeners){\n            removeListeners(subject, localOrFieldListeners);\n            printMem(\"   After removing listeners\");\n        }\n\n        observers = null;\n        printMem(\"   After setting list of observes to null\");\n    }\n\n    private void removeListeners(ConcreteSubject subject,\n            String localOrFieldListeners) {\n        if(localOrFieldListeners.equals(FIELD_LISTENER) && subject!=null){\n            for(ObservingObject observingObject :observers){\n                subject.removePropertyChangeListener(observingObject.getFieldPropertyChangeListener());\n            }\n        }\n    }\n\n    private void instantiateObserversAndConnectListenersToSubject(\n            ConcreteSubject subject, String localOrFieldListeners) {\n        observers = new ArrayList&ltObservingObject&gt();\n        int observerCount = 100;\n        for(int i = 0 ; i lt observerCount ; i++){\n            ObservingObject observingObject = new ObservingObject();\n            observers.add(observingObject);\n            if(subject!=null){\n                if(localOrFieldListeners.equals(FIELD_LISTENER)){\n                    subject.addPropertyChangeListener(observingObject.getFieldPropertyChangeListener());\n                } else if(localOrFieldListeners.equals(LOCAL_LISTENER)){\n                    subject.addPropertyChangeListener(observingObject.getLocalMethodPropertyChangeListener());\n                } else {\n                    throw new RuntimeException(\"Unknow listener type\");\n                }\n            }\n        }\n    }\n\n    private void printMem(String string) {\n        System.out.println(string+\", memory used = \"+getUsedMemoryInKB()+\" KB\");\n    }\n\n    private static int getUsedMemoryInKB() {\n        // Start by garbage collect\n        Runtime runtime = Runtime.getRuntime();\n        runtime.gc();\n\n        // Calculate 'used memory' as difference between total and free\n        long totalMemory = runtime.totalMemory();\n        long freeMemory = runtime.freeMemory();\n        long usedMemory = totalMemory - freeMemory;\n        int usedMemoryInKB = (int)(usedMemory/1000);\n        return usedMemoryInKB;\n    }\n\n    public static void main(String[] args) {\n        new WeakReferenceListenerTrials().runTials();\n    }\n}\n</code></pre>\n\n<p>That's it. Hope its useful to others. It was to me.</p>\n"}],"owner":{"account_id":2187841,"reputation":971,"user_id":1935801,"accept_rate":57,"display_name":"Morten Grum"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1422298060,"answer_count":1,"score":-3,"last_activity_date":1646549458,"creation_date":1422277782,"question_id":28150711,"body_markdown":"I have a 10-15 year code pool which leaks memory by keeping strong references to objects from the observers. These objects are not garbage collected.\r\n\r\nI am looking for a solution to prevent this by using WeakReferences.","title":"How can I use WeakReferences for Listeners (Observer Pattern) to avoid memory leaks?","body":"<p>I have a 10-15 year code pool which leaks memory by keeping strong references to objects from the observers. These objects are not garbage collected.</p>\n<p>I am looking for a solution to prevent this by using WeakReferences.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1644169373,"post_id":71009738,"comment_id":125528928,"body_markdown":"Generally better to post code as text here, rather than as an image.","body":"Generally better to post code as text here, rather than as an image."},{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1644169868,"post_id":71009738,"comment_id":125529054,"body_markdown":"Please don&#39;t post (just) pictures of code. See [ask].","body":"Please don&#39;t post (just) pictures of code. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":18033465,"reputation":46,"user_id":13107442,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644169641,"creation_date":1644168466,"answer_id":71009780,"question_id":71009738,"body_markdown":"It would be better if you declare `enum Type` out of `Entity` or `Response` class. Then you could use same enum for both classes.\r\n\r\nYou can declare an enum at any of three levels:\r\n\r\n - Separate class\r\n - Nested within a class\r\n - Locally ([in Java 16+][1])\r\n\r\nFor your situation, I suggest you use the first rather than the second.\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/395","title":"Set one kind of enum to another enum kind of enum in java","body":"<p>It would be better if you declare <code>enum Type</code> out of <code>Entity</code> or <code>Response</code> class. Then you could use same enum for both classes.</p>\n<p>You can declare an enum at any of three levels:</p>\n<ul>\n<li>Separate class</li>\n<li>Nested within a class</li>\n<li>Locally (<a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">in Java 16+</a>)</li>\n</ul>\n<p>For your situation, I suggest you use the first rather than the second.</p>\n"}],"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"accepted_answer_id":71009780,"answer_count":1,"score":-4,"last_activity_date":1646549297,"creation_date":1644168167,"question_id":71009738,"body_markdown":"I have identical enums defined in both an entity class as well as in a response class. I want to set the value of an enum property in one of the classes to an enum property from the other class. Below is sample code.  I am very new to Java and the IT industry.\r\n\r\n```lang-java\r\n@Getter\r\n@Setter\r\npublic class ResponseClass{\r\n\tenum Type{\r\n\t\tUSD, CSD, MXN, BRL;\r\n\t};\r\n\t\r\n\tprivate Type type;\r\n}\r\n```\r\n\r\n```lang-java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class EntityClass{\r\n\tenum Type{\r\n\t\tUSD, CSD, MXN, BRL;\r\n\t};\r\n\t\r\n\t@Column(name = &quot;type&quot;)\r\n\tprivate Type type;\r\n}\r\n```\r\n\r\n\r\n```lang-java\r\npublic class Main{\r\n\tpublic static void main(){\r\n\t\tEntityClass entity= new EntityClass();\r\n\t\t\r\n\t\tResponseClass response = ...; //Got value for this variable from REST API\r\n\t\t\r\n\t\tentity.setType(response.getType()); // I want to achive this\r\n\t}\r\n}\r\n```\r\n","title":"Set one kind of enum to another enum kind of enum in java","body":"<p>I have identical enums defined in both an entity class as well as in a response class. I want to set the value of an enum property in one of the classes to an enum property from the other class. Below is sample code.  I am very new to Java and the IT industry.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class ResponseClass{\n    enum Type{\n        USD, CSD, MXN, BRL;\n    };\n    \n    private Type type;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class EntityClass{\n    enum Type{\n        USD, CSD, MXN, BRL;\n    };\n    \n    @Column(name = &quot;type&quot;)\n    private Type type;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main{\n    public static void main(){\n        EntityClass entity= new EntityClass();\n        \n        ResponseClass response = ...; //Got value for this variable from REST API\n        \n        entity.setType(response.getType()); // I want to achive this\n    }\n}\n</code></pre>\n"},{"tags":["java","function","generics","wildcard"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646536218,"post_id":71367299,"comment_id":126146552,"body_markdown":"Why are you not just declaring `Bar` as `Function&lt;InputType,OutputType&gt;`? Please use Java naming conventions, by the way.","body":"Why are you not just declaring <code>Bar</code> as <code>Function&lt;InputType,OutputType&gt;</code>? Please use Java naming conventions, by the way."},{"owner":{"account_id":2747120,"reputation":1354,"user_id":2367317,"accept_rate":69,"display_name":"Novice C"},"score":0,"creation_date":1646536639,"post_id":71367299,"comment_id":126146583,"body_markdown":"By hot swap, I also mean it changes its input and output types. And sorry I started coding Java a month ago, what naming convention am I not adhering to?\n\nIf it&#39;s about using Foo/Bar/Baz, I can go into my exact situation, but this summarizes the core concept I&#39;m lacking.","body":"By hot swap, I also mean it changes its input and output types. And sorry I started coding Java a month ago, what naming convention am I not adhering to?  If it&#39;s about using Foo/Bar/Baz, I can go into my exact situation, but this summarizes the core concept I&#39;m lacking."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646536852,"post_id":71367299,"comment_id":126146604,"body_markdown":"How can the types change? `someMethod()` needs it to return `OutputType`. It isn&#39;t clear from your example where `input` comes from. For naming conventions, see https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","body":"How can the types change? <code>someMethod()</code> needs it to return <code>OutputType</code>. It isn&#39;t clear from your example where <code>input</code> comes from. For naming conventions, see <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646537208,"post_id":71367299,"comment_id":126146645,"body_markdown":"I think you should provide a compileable, runnable example which is closer to your actual needs.","body":"I think you should provide a compileable, runnable example which is closer to your actual needs."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646537568,"creation_date":1646537568,"answer_id":71367505,"question_id":71367299,"body_markdown":"A `Function&lt;?, ?&gt;` is a function that has some unknown type as input parameter, and some other unknown type which it returns.\r\n\r\nFor the &#39;returns&#39; thing, well, it&#39;s java, so at least it&#39;s `Object`. But for the input type thing you&#39;re just hosed, you __cannot call this function, period__ - it might be a function that maps Strings to Integers, in which case you must pass a string. Or it is a function that maps Path objects to Strings, in which case you must pass a Path instance. The compiler won&#39;t let you take a try-and-pray approach on this: It won&#39;t let you write code that is nonsensical, and trying to call a function that turns Paths into Strings, by passing it a String - that is nonsensical.\r\n\r\nThe code you&#39;ve pasted does not show how you can make this code sensical, mostly because it misses details.\r\n\r\nFor example, `Foo` probably needs the T and R type:\r\n\r\n```java\r\n\r\nclass Foo&lt;T, R&gt; {\r\n  private Function&lt;T, R&gt; bar;\r\n\r\n  public void setBar(Function&lt;T, R&gt; baz) {\r\n    this.bar = baz;\r\n  }\r\n  \r\n  public R someMethod(T thingie) {\r\n    return bar.apply(thingie);\r\n  }\r\n}\r\n```\r\n\r\nIf you insist on storing that function in the field, you&#39;re pretty much forced into the above, there&#39;s no other way: You need to &#39;track&#39; that the paramtype and returntype of the function matches when you actually go to use it, and there&#39;s no other way to do that.\r\n\r\nYou can also do it in one go, and pass the function as part of the method invoke:\r\n\r\n```\r\npublic &lt;T, R&gt; R someMethod(Function&lt;T, R&gt; func, T in) {\r\n  return func.apply(in);\r\n}\r\n```\r\n\r\nRemember: Generics __LINK THINGS__ - There is no point to them unless the typevar is used in at least 2 places. `class Foo&lt;T, R&gt;` declares them. So does `public &lt;T, R&gt; foo() {}`. The other places are &#39;usages&#39;, and you want at least 2. Generics are compiled-checked documentation, they do nothing at runtime.\r\n\r\nLet&#39;s say you want to write a method, and you want to say that the return type of it, is the same as its first parameter type, but it can be whatever the user wants. Let&#39;s say a no-op operation that just prints the param and then returns it. Without generics, you __cannot do it__:\r\n\r\n```\r\npublic Object printMe(Object in) {\r\n  System.out.println(in);\r\n  return in;\r\n}\r\n```\r\n\r\nBecause this method &#39;undoes&#39; the typing. You can&#39;t write `printMe(&quot;hello&quot;).toLowerCase()`. The spec of this method does not promise that it returns the parameter - it merely promises that it returns some Object.\r\n\r\nWith generics you can do it, because they link things:\r\n\r\n```\r\n&lt;T&gt; T printMe(T in) {\r\n  System.out.println(in);\r\n  return in;\r\n}\r\n```\r\n\r\nNow you can write `printMe(&quot;hello&quot;).toLowerCase()` just fine.\r\n","title":"Java function field of wildcard generics (wildcard capture error?)","body":"<p>A <code>Function&lt;?, ?&gt;</code> is a function that has some unknown type as input parameter, and some other unknown type which it returns.</p>\n<p>For the 'returns' thing, well, it's java, so at least it's <code>Object</code>. But for the input type thing you're just hosed, you <strong>cannot call this function, period</strong> - it might be a function that maps Strings to Integers, in which case you must pass a string. Or it is a function that maps Path objects to Strings, in which case you must pass a Path instance. The compiler won't let you take a try-and-pray approach on this: It won't let you write code that is nonsensical, and trying to call a function that turns Paths into Strings, by passing it a String - that is nonsensical.</p>\n<p>The code you've pasted does not show how you can make this code sensical, mostly because it misses details.</p>\n<p>For example, <code>Foo</code> probably needs the T and R type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Foo&lt;T, R&gt; {\n  private Function&lt;T, R&gt; bar;\n\n  public void setBar(Function&lt;T, R&gt; baz) {\n    this.bar = baz;\n  }\n  \n  public R someMethod(T thingie) {\n    return bar.apply(thingie);\n  }\n}\n</code></pre>\n<p>If you insist on storing that function in the field, you're pretty much forced into the above, there's no other way: You need to 'track' that the paramtype and returntype of the function matches when you actually go to use it, and there's no other way to do that.</p>\n<p>You can also do it in one go, and pass the function as part of the method invoke:</p>\n<pre><code>public &lt;T, R&gt; R someMethod(Function&lt;T, R&gt; func, T in) {\n  return func.apply(in);\n}\n</code></pre>\n<p>Remember: Generics <strong>LINK THINGS</strong> - There is no point to them unless the typevar is used in at least 2 places. <code>class Foo&lt;T, R&gt;</code> declares them. So does <code>public &lt;T, R&gt; foo() {}</code>. The other places are 'usages', and you want at least 2. Generics are compiled-checked documentation, they do nothing at runtime.</p>\n<p>Let's say you want to write a method, and you want to say that the return type of it, is the same as its first parameter type, but it can be whatever the user wants. Let's say a no-op operation that just prints the param and then returns it. Without generics, you <strong>cannot do it</strong>:</p>\n<pre><code>public Object printMe(Object in) {\n  System.out.println(in);\n  return in;\n}\n</code></pre>\n<p>Because this method 'undoes' the typing. You can't write <code>printMe(&quot;hello&quot;).toLowerCase()</code>. The spec of this method does not promise that it returns the parameter - it merely promises that it returns some Object.</p>\n<p>With generics you can do it, because they link things:</p>\n<pre><code>&lt;T&gt; T printMe(T in) {\n  System.out.println(in);\n  return in;\n}\n</code></pre>\n<p>Now you can write <code>printMe(&quot;hello&quot;).toLowerCase()</code> just fine.</p>\n"},{"tags":[],"owner":{"account_id":2747120,"reputation":1354,"user_id":2367317,"accept_rate":69,"display_name":"Novice C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646549089,"creation_date":1646549089,"answer_id":71368214,"question_id":71367299,"body_markdown":"Thanks to @rzwitserloot for his explanation, and apologies for misleading that `someMethod` needed to have the same return type as the function (although irrelevant).\r\n I have no such requirement, and the solution was to simply make a helper function, with an `Object` input to wrap the `apply` call.\r\n\r\n```java\r\nprivate Function&lt;?, ?&gt; bar;\r\n\r\npublic &lt;T, R&gt; setBar(Function&lt;T, R&gt; baz){\r\n  this.bar = baz;\r\n}\r\n\r\nprivate &lt;T&gt; T executeBar(Object input){\r\n  return ((Function) this.bar).apply(input);\r\n}\r\n```\r\n\r\nNow `someMethod` &quot;works&quot; as desired\r\n\r\n```java\r\npublic void doSomeMethod(){\r\n  // ...\r\n  ​if (this.bar != null) {\r\n    OutputType y = executeBar(input);\r\n  }\r\n  // ...\r\n}\r\n```\r\n\r\nThis has unchecked warnings, but those can be suppressed (I&#39;m a C programmer by tenure, so I prefer the compiler let me do stupid things anyways).\r\n\r\n---\r\n\r\nThese function calls are really just for testing cases, and are only meant to signal extra test, or throw errors. Therefore the return type has zero effect on the method and in reality are consumed by something entirely different than the method indicated. I again apologize if the abstraction distracted from my core question about `Function&lt;?, ?&gt;`.","title":"Java function field of wildcard generics (wildcard capture error?)","body":"<p>Thanks to @rzwitserloot for his explanation, and apologies for misleading that <code>someMethod</code> needed to have the same return type as the function (although irrelevant).\nI have no such requirement, and the solution was to simply make a helper function, with an <code>Object</code> input to wrap the <code>apply</code> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Function&lt;?, ?&gt; bar;\n\npublic &lt;T, R&gt; setBar(Function&lt;T, R&gt; baz){\n  this.bar = baz;\n}\n\nprivate &lt;T&gt; T executeBar(Object input){\n  return ((Function) this.bar).apply(input);\n}\n</code></pre>\n<p>Now <code>someMethod</code> &quot;works&quot; as desired</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doSomeMethod(){\n  // ...\n  ​if (this.bar != null) {\n    OutputType y = executeBar(input);\n  }\n  // ...\n}\n</code></pre>\n<p>This has unchecked warnings, but those can be suppressed (I'm a C programmer by tenure, so I prefer the compiler let me do stupid things anyways).</p>\n<hr />\n<p>These function calls are really just for testing cases, and are only meant to signal extra test, or throw errors. Therefore the return type has zero effect on the method and in reality are consumed by something entirely different than the method indicated. I again apologize if the abstraction distracted from my core question about <code>Function&lt;?, ?&gt;</code>.</p>\n"}],"owner":{"account_id":2747120,"reputation":1354,"user_id":2367317,"accept_rate":69,"display_name":"Novice C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646549089,"creation_date":1646534085,"question_id":71367299,"body_markdown":"I&#39;m trying to use a wildcard function as a field within a class. The idea is that I can hot swap the function from outside the class with a public helper function (e.g., in a test class). Here is the sketch of the field wildcard function:\r\n\r\n``` Java\r\nclass Foo {\r\n  private Function&lt;?, ?&gt; bar;\r\n\r\n  public &lt;T, R&gt; void setBar(Function&lt;T, R&gt; baz) {\r\n    this.bar = baz;\r\n  }\r\n\r\n // ...\r\n}\r\n```\r\n\r\nThe compiler does not complain about any of this code; however, if I were to try and utilize the field function `bar` within `Foo` I get errors of the sort `... capture#1 of ?` (a wildcard capture error). Here is an example of how I would use the field function `bar`:\r\n\r\n``` Java\r\nclass Foo {\r\n  private Function&lt;?, ?&gt; bar;\r\n\r\n  public &lt;T, R&gt; void setBar(Function&lt;T, R&gt; baz) {\r\n    this.bar = baz;\r\n  }\r\n  \r\n  public doSomeMethod() {\r\n    // ...\r\n    if (this.bar != null) {\r\n      // OutputType is hardcoded, as in input&#39;s type.\r\n      // When `setBar` is called, function type must be correct.\r\n      OutputType baz = bar.apply(input);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe outside caller would then be something in line with\r\n\r\n``` Java\r\npublic static void main() {\r\n  Foo foo = new Foo();\r\n  Function&lt;InputType, OutputType&gt; myFunc = x -&gt; x.inputToOutput();\r\n  foo.setBar(myFunc);\r\n  foo.someCalculation();\r\n}\r\n```\r\n\r\n---\r\n\r\nHow would I fix this wildcard capture error, or is there a way to salvage the general idea? The key is to be able to set the function outside of the class (such that it can be tuned in a test class).","title":"Java function field of wildcard generics (wildcard capture error?)","body":"<p>I'm trying to use a wildcard function as a field within a class. The idea is that I can hot swap the function from outside the class with a public helper function (e.g., in a test class). Here is the sketch of the field wildcard function:</p>\n<pre><code>class Foo {\n  private Function&lt;?, ?&gt; bar;\n\n  public &lt;T, R&gt; void setBar(Function&lt;T, R&gt; baz) {\n    this.bar = baz;\n  }\n\n // ...\n}\n</code></pre>\n<p>The compiler does not complain about any of this code; however, if I were to try and utilize the field function <code>bar</code> within <code>Foo</code> I get errors of the sort <code>... capture#1 of ?</code> (a wildcard capture error). Here is an example of how I would use the field function <code>bar</code>:</p>\n<pre><code>class Foo {\n  private Function&lt;?, ?&gt; bar;\n\n  public &lt;T, R&gt; void setBar(Function&lt;T, R&gt; baz) {\n    this.bar = baz;\n  }\n  \n  public doSomeMethod() {\n    // ...\n    if (this.bar != null) {\n      // OutputType is hardcoded, as in input's type.\n      // When `setBar` is called, function type must be correct.\n      OutputType baz = bar.apply(input);\n    }\n  }\n}\n</code></pre>\n<p>The outside caller would then be something in line with</p>\n<pre><code>public static void main() {\n  Foo foo = new Foo();\n  Function&lt;InputType, OutputType&gt; myFunc = x -&gt; x.inputToOutput();\n  foo.setBar(myFunc);\n  foo.someCalculation();\n}\n</code></pre>\n<hr />\n<p>How would I fix this wildcard capture error, or is there a way to salvage the general idea? The key is to be able to set the function outside of the class (such that it can be tuned in a test class).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1646536529,"post_id":71367035,"comment_id":126146572,"body_markdown":"Can any `sources` be `null`?","body":"Can any <code>sources</code> be <code>null</code>?"}],"answers":[{"tags":[],"owner":{"account_id":128874,"reputation":9185,"user_id":327038,"accept_rate":75,"display_name":"asthasr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646530122,"creation_date":1646529486,"answer_id":71367053,"question_id":71367035,"body_markdown":"In Java, `Optional&lt;T&gt;` is usually useful in interfaces; it&#39;d need to be _returned from_ `getExclusion`. In this case, what you really need to do is filter the stream after calling `getExclusion`. You can do so with `Objects::nonNull` from `java.util.Objects`:\r\n\r\n```java\r\nList&lt;Exclusion&gt; exclusions = offer\r\n    .getSources()\r\n    .stream()\r\n    .map(Source::getExclusion)\r\n    .filter(Objects::nonNull)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n(Note that I find your question a little unclear: if the problem is that the _exclusion_ is `null`, then the filter should come after the `map`; if the problem is that the _source_ is `null`, then it should come before. If `null` can come from either, then you can filter both before and after the `map`.)","title":"How is best way to use Java Optional class for this example?","body":"<p>In Java, <code>Optional&lt;T&gt;</code> is usually useful in interfaces; it'd need to be <em>returned from</em> <code>getExclusion</code>. In this case, what you really need to do is filter the stream after calling <code>getExclusion</code>. You can do so with <code>Objects::nonNull</code> from <code>java.util.Objects</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Exclusion&gt; exclusions = offer\n    .getSources()\n    .stream()\n    .map(Source::getExclusion)\n    .filter(Objects::nonNull)\n    .collect(Collectors.toList());\n</code></pre>\n<p>(Note that I find your question a little unclear: if the problem is that the <em>exclusion</em> is <code>null</code>, then the filter should come after the <code>map</code>; if the problem is that the <em>source</em> is <code>null</code>, then it should come before. If <code>null</code> can come from either, then you can filter both before and after the <code>map</code>.)</p>\n"}],"owner":{"account_id":2690474,"reputation":1319,"user_id":2323932,"accept_rate":21,"display_name":"draca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646552406,"accepted_answer_id":71367053,"answer_count":1,"score":0,"last_activity_date":1646547648,"creation_date":1646529128,"question_id":71367035,"body_markdown":"I&#39;m trying to figure out how to best implement the Optional class in this java example, for when there is not an &quot;Exclusion&quot; field present (when it&#39;s null I dont want an exception)\r\n\r\n```java\r\nList&lt;Exclusion&gt; exclusions = offer\r\n    .getSources()\r\n    .stream()\r\n    .map(Source::getExclusion)\r\n    .collect(Collectors.toList());\r\n```\r\nI posted this short example at https://www.online-java.com/Wb4gxPODfI\r\n\r\nAny ideas?\r\n","title":"How is best way to use Java Optional class for this example?","body":"<p>I'm trying to figure out how to best implement the Optional class in this java example, for when there is not an &quot;Exclusion&quot; field present (when it's null I dont want an exception)</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Exclusion&gt; exclusions = offer\n    .getSources()\n    .stream()\n    .map(Source::getExclusion)\n    .collect(Collectors.toList());\n</code></pre>\n<p>I posted this short example at <a href=\"https://www.online-java.com/Wb4gxPODfI\" rel=\"nofollow noreferrer\">https://www.online-java.com/Wb4gxPODfI</a></p>\n<p>Any ideas?</p>\n"},{"tags":["java","apache-spark","apache-spark-mllib","apache-spark-ml"],"comments":[{"owner":{"account_id":4247170,"reputation":2078,"user_id":3475488,"display_name":"kavetiraviteja"},"score":3,"creation_date":1599047605,"post_id":63703994,"comment_id":112651068,"body_markdown":"consider increasing partitions .. so that your tasks are light weighted ..... each task will be not handling less amount of data... check this --&gt; http://mail-archives.us.apache.org/mod_mbox/spark-user/201407.mbox/%3CCAJgQjQ_87xkpACXFpoOn0iuLZ2Q00qwWTLHmZfy9BAhKqDkv0A@mail.gmail.com%3E ..","body":"consider increasing partitions .. so that your tasks are light weighted ..... each task will be not handling less amount of data... check this --&gt; <a href=\"http://mail-archives.us.apache.org/mod_mbox/spark-user/201407.mbox/%3CCAJgQjQ_87xkpACXFpoOn0iuLZ2Q00qwWTLHmZfy9BAhKqDkv0A@mail.gmail.com%3E\" rel=\"nofollow noreferrer\">mail-archives.us.apache.org/mod_mbox/spark-user/201407.mbox/&zwnj;&#8203;&hellip;</a> .."},{"owner":{"account_id":25186741,"reputation":137,"user_id":19027516,"display_name":"gracenz"},"score":0,"creation_date":1658509852,"post_id":63703994,"comment_id":129077583,"body_markdown":"Hi @vittoema96. How did you resolve it at last?","body":"Hi @vittoema96. How did you resolve it at last?"}],"answers":[{"tags":[],"owner":{"account_id":1488160,"reputation":83,"user_id":1395934,"display_name":"Pfunk"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1608536697,"creation_date":1608536697,"answer_id":65389100,"question_id":63703994,"body_markdown":"For timeout issue consider changing the following configuration:\r\n\r\nspark.sql.autoBroadcastJoinThreshold to -1.\r\n\r\nThis will remove this limit of broadcast size which is 10MB. ","title":"Spark v3.0.0 - WARN DAGScheduler: broadcasting large task binary with size xx","body":"<p>For timeout issue consider changing the following configuration:</p>\n<p>spark.sql.autoBroadcastJoinThreshold to -1.</p>\n<p>This will remove this limit of broadcast size which is 10MB.</p>\n"},{"tags":[],"owner":{"account_id":7030800,"reputation":626,"user_id":8329698,"display_name":"Bruno Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621008719,"creation_date":1621008719,"answer_id":67537502,"question_id":63703994,"body_markdown":"Solution that worked for me was:\r\n\r\n**reducing task size =&gt; reduce the data its handling**\r\n\r\n\r\nFirst, check number of partitions in dataframe via `df.rdd.getNumPartitions()`\r\nAfter, increase partitions: `df.repartition(100)`\r\n","title":"Spark v3.0.0 - WARN DAGScheduler: broadcasting large task binary with size xx","body":"<p>Solution that worked for me was:</p>\n<p><strong>reducing task size =&gt; reduce the data its handling</strong></p>\n<p>First, check number of partitions in dataframe via <code>df.rdd.getNumPartitions()</code>\nAfter, increase partitions: <code>df.repartition(100)</code></p>\n"},{"tags":[],"owner":{"account_id":4207656,"reputation":53,"user_id":3446192,"accept_rate":75,"display_name":"Bluelily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646546660,"creation_date":1646546660,"answer_id":71368036,"question_id":63703994,"body_markdown":"I got similar `WARN org.apache.spark.scheduler.DAGScheduler: Broadcasting large task binary with size 5.2 MiB` What worked for me, I increase the Machine Configuration from 2vCPU, 7.5GB RAM, to 4vCPU 15GBRAM (Some parquet file were created but job never complete, hence I increase to 8vCPU 32GB RAM (everything now work). This is on GCP Dataproc","title":"Spark v3.0.0 - WARN DAGScheduler: broadcasting large task binary with size xx","body":"<p>I got similar <code>WARN org.apache.spark.scheduler.DAGScheduler: Broadcasting large task binary with size 5.2 MiB</code> What worked for me, I increase the Machine Configuration from 2vCPU, 7.5GB RAM, to 4vCPU 15GBRAM (Some parquet file were created but job never complete, hence I increase to 8vCPU 32GB RAM (everything now work). This is on GCP Dataproc</p>\n"}],"owner":{"account_id":19426768,"reputation":131,"user_id":14208124,"display_name":"vittoema96"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15890,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1646546660,"creation_date":1599043923,"question_id":63703994,"body_markdown":"I&#39;m new to spark. I&#39;m coding a machine learning algorithm in Spark standalone (v3.0.0) with this configurations set:\r\n\r\n    SparkConf conf = new SparkConf();\r\n    conf.setMaster(&quot;local[*]&quot;);\r\n    conf.set(&quot;spark.driver.memory&quot;, &quot;8g&quot;);\r\n    conf.set(&quot;spark.driver.maxResultSize&quot;, &quot;8g&quot;);\r\n    conf.set(&quot;spark.memory.fraction&quot;, &quot;0.6&quot;);\r\n    conf.set(&quot;spark.memory.storageFraction&quot;, &quot;0.5&quot;);\r\n    conf.set(&quot;spark.sql.shuffle.partitions&quot;, &quot;5&quot;);\r\n    conf.set(&quot;spark.memory.offHeap.enabled&quot;, &quot;false&quot;);\r\n    conf.set(&quot;spark.reducer.maxSizeInFlight&quot;, &quot;96m&quot;);\r\n    conf.set(&quot;spark.shuffle.file.buffer&quot;, &quot;256k&quot;);\r\n    conf.set(&quot;spark.sql.debug.maxToStringFields&quot;, &quot;100&quot;);\r\n\r\nThis is how I create the CrossValidator\r\n\r\n    ParamMap[] paramGrid = new ParamGridBuilder()\r\n                .addGrid(gbt.maxBins(), new int[]{50})\r\n                .addGrid(gbt.maxDepth(), new int[]{2, 5, 10})\r\n                .addGrid(gbt.maxIter(), new int[]{5, 20, 40})\r\n                .addGrid(gbt.minInfoGain(), new double[]{0.0d, .1d, .5d})\r\n                .build();\r\n\r\n        CrossValidator gbcv = new CrossValidator()\r\n                .setEstimator(gbt)\r\n                .setEstimatorParamMaps(paramGrid)\r\n                .setEvaluator(gbevaluator)\r\n                .setNumFolds(5)\r\n                .setParallelism(8)\r\n                .setSeed(session.getArguments().getTrainingRandom());\r\n\r\nThe problem is that when (in paramGrid) maxDepth is just {2, 5} and maxIter {5, 20} all works just fine, but when it is like in the code above it keeps logging:\r\n`WARN DAGScheduler: broadcasting large task binary with size xx`,\r\nwith xx going from 1000 KiB to 2.9 MiB, often leading to a timeout exception \r\nWhich spark parameters should i change to avoid this?","title":"Spark v3.0.0 - WARN DAGScheduler: broadcasting large task binary with size xx","body":"<p>I'm new to spark. I'm coding a machine learning algorithm in Spark standalone (v3.0.0) with this configurations set:</p>\n<pre><code>SparkConf conf = new SparkConf();\nconf.setMaster(&quot;local[*]&quot;);\nconf.set(&quot;spark.driver.memory&quot;, &quot;8g&quot;);\nconf.set(&quot;spark.driver.maxResultSize&quot;, &quot;8g&quot;);\nconf.set(&quot;spark.memory.fraction&quot;, &quot;0.6&quot;);\nconf.set(&quot;spark.memory.storageFraction&quot;, &quot;0.5&quot;);\nconf.set(&quot;spark.sql.shuffle.partitions&quot;, &quot;5&quot;);\nconf.set(&quot;spark.memory.offHeap.enabled&quot;, &quot;false&quot;);\nconf.set(&quot;spark.reducer.maxSizeInFlight&quot;, &quot;96m&quot;);\nconf.set(&quot;spark.shuffle.file.buffer&quot;, &quot;256k&quot;);\nconf.set(&quot;spark.sql.debug.maxToStringFields&quot;, &quot;100&quot;);\n</code></pre>\n<p>This is how I create the CrossValidator</p>\n<pre><code>ParamMap[] paramGrid = new ParamGridBuilder()\n            .addGrid(gbt.maxBins(), new int[]{50})\n            .addGrid(gbt.maxDepth(), new int[]{2, 5, 10})\n            .addGrid(gbt.maxIter(), new int[]{5, 20, 40})\n            .addGrid(gbt.minInfoGain(), new double[]{0.0d, .1d, .5d})\n            .build();\n\n    CrossValidator gbcv = new CrossValidator()\n            .setEstimator(gbt)\n            .setEstimatorParamMaps(paramGrid)\n            .setEvaluator(gbevaluator)\n            .setNumFolds(5)\n            .setParallelism(8)\n            .setSeed(session.getArguments().getTrainingRandom());\n</code></pre>\n<p>The problem is that when (in paramGrid) maxDepth is just {2, 5} and maxIter {5, 20} all works just fine, but when it is like in the code above it keeps logging:\n<code>WARN DAGScheduler: broadcasting large task binary with size xx</code>,\nwith xx going from 1000 KiB to 2.9 MiB, often leading to a timeout exception\nWhich spark parameters should i change to avoid this?</p>\n"},{"tags":["java","android","codeigniter","nfc"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1646756164,"post_id":71367979,"comment_id":126200048,"body_markdown":"I’m voting to close this question because duplicate of https://stackoverflow.com/q/71223794/2373819","body":"I’m voting to close this question because duplicate of <a href=\"https://stackoverflow.com/q/71223794/2373819\">stackoverflow.com/q/71223794/2373819</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1646876991,"post_id":71367979,"comment_id":126234542,"body_markdown":"@Andrew You can use the &quot;duplicate&quot; close reason for these, which will create a link between the two questions.","body":"@Andrew You can use the &quot;duplicate&quot; close reason for these, which will create a link between the two questions."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1646903847,"post_id":71367979,"comment_id":126240240,"body_markdown":"@Ryan M no I cannot use &quot;duplicate&quot; close as the answer I linked is not accepted or up voted as the new user probably has not got the hang of stack overflow yet. This is even though it is the same answer I would give","body":"@Ryan M no I cannot use &quot;duplicate&quot; close as the answer I linked is not accepted or up voted as the new user probably has not got the hang of stack overflow yet. This is even though it is the same answer I would give"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1646904015,"post_id":71367979,"comment_id":126240300,"body_markdown":"@Andrew Oh whoops, my mistake.  You&#39;re correct.","body":"@Andrew Oh whoops, my mistake.  You&#39;re correct."}],"owner":{"account_id":12043816,"reputation":1,"user_id":8809678,"display_name":"Hassan Ali Jahangir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646545781,"creation_date":1646545781,"question_id":71367979,"body_markdown":"I just want that activity should not reopen on each scan, it will stay in the application and when the card is scanned it will simply update the NFC card id in any text view or toast....please help me, i am stuck\r\n\r\nMain activity:\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private NfcAdapter nfcAdapter;\r\n    private String baseUrl = &quot;/api/auth/login&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n         getRFID();\r\n\r\n    }\r\n\r\n       private void getRFID() {\r\n\r\n\r\n        Intent intent = getIntent();\r\n        String action = intent.getAction();\r\n\r\n\r\n        if (nfcAdapter.ACTION_TAG_DISCOVERED.equals(action)) {\r\n            Toast.makeText(this,\r\n                    &quot;Card Found&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n            Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n\r\n            if (tag == null) {\r\n                // startActivity(new Intent(Login.this, HomeFragment.class));\r\n            } else {\r\n                String tagInfo = &quot;&quot;;\r\n                byte[] tagId = tag.getId();\r\n                for (int i = 0; i &lt; tagId.length; i++) {\r\n                    tagInfo += Integer.toHexString(tagId[i] &amp; 0xFF) + &quot;&quot;;\r\n                }\r\n                Toast.makeText(this, &quot; &quot; + tagInfo.toString(), Toast.LENGTH_SHORT).show();\r\n                // etEmail.setText(tagInfo.toString());\r\n            }\r\n        } else {\r\n            //  startActivity(new Intent(Login.this , MainActivity.class));\r\n            // finish();\r\n        }\r\n\r\n\r\n        //  startActivity(new Intent(Login.this, MainActivity.class));\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nManifest:\r\n\r\n\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.nfc.action.TAG_DISCOVERED&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n        &lt;/intent-filter&gt;\r\n\r\n\r\n        &lt;/activity&gt;\r\n","title":"Android Studio: how to stop reopening activity on each NFC card scanning","body":"<p>I just want that activity should not reopen on each scan, it will stay in the application and when the card is scanned it will simply update the NFC card id in any text view or toast....please help me, i am stuck</p>\n<p>Main activity:</p>\n<p>public class MainActivity extends AppCompatActivity {</p>\n<pre><code>private NfcAdapter nfcAdapter;\nprivate String baseUrl = &quot;/api/auth/login&quot;;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n     getRFID();\n\n}\n\n   private void getRFID() {\n\n\n    Intent intent = getIntent();\n    String action = intent.getAction();\n\n\n    if (nfcAdapter.ACTION_TAG_DISCOVERED.equals(action)) {\n        Toast.makeText(this,\n                &quot;Card Found&quot;,\n                Toast.LENGTH_SHORT).show();\n        Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n\n        if (tag == null) {\n            // startActivity(new Intent(Login.this, HomeFragment.class));\n        } else {\n            String tagInfo = &quot;&quot;;\n            byte[] tagId = tag.getId();\n            for (int i = 0; i &lt; tagId.length; i++) {\n                tagInfo += Integer.toHexString(tagId[i] &amp; 0xFF) + &quot;&quot;;\n            }\n            Toast.makeText(this, &quot; &quot; + tagInfo.toString(), Toast.LENGTH_SHORT).show();\n            // etEmail.setText(tagInfo.toString());\n        }\n    } else {\n        //  startActivity(new Intent(Login.this , MainActivity.class));\n        // finish();\n    }\n\n\n    //  startActivity(new Intent(Login.this, MainActivity.class));\n\n\n}\n</code></pre>\n<p>}</p>\n<p>Manifest:</p>\n<pre><code>    &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.nfc.action.TAG_DISCOVERED&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n    &lt;/intent-filter&gt;\n\n\n    &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","generics","parameterized-types"],"answers":[{"tags":[],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433277293,"creation_date":1433277293,"answer_id":30606061,"question_id":30605846,"body_markdown":"Given the constructor in the `Bar` class, in order to instantiate a new `Bar&lt;V&gt;` object, you need an object of type `V`.\r\n\r\nSo, your problem translates into instantiating an object of type `Class&lt;V&gt;`. More specifically, assuming an existing `Foo` object and a `getType()` method in the `Foo` class, you would do something like:\r\n\r\n    Foo foo = ... // Existing Foo object\r\n    Class&lt;V&gt; type = foo.getType();\r\n    V value = instantiate(type); // TODO: Implement instatiate()\r\n    Bar&lt;V&gt; bar = new Bar(value);\r\n    \r\nThe trick then is the implementation of the `instantiate()` method. If `Class&lt;V&gt;` has a no-args constructor, then you can just call\r\n\r\n    V value = type.newInstance();\r\n\r\nNot all classes have a default constructor, though, so there is no generic solution for all cases.\r\n\r\n","title":"Instantiate Parameterized Type class with Class&lt;?&gt; variable","body":"<p>Given the constructor in the <code>Bar</code> class, in order to instantiate a new <code>Bar&lt;V&gt;</code> object, you need an object of type <code>V</code>.</p>\n\n<p>So, your problem translates into instantiating an object of type <code>Class&lt;V&gt;</code>. More specifically, assuming an existing <code>Foo</code> object and a <code>getType()</code> method in the <code>Foo</code> class, you would do something like:</p>\n\n<pre><code>Foo foo = ... // Existing Foo object\nClass&lt;V&gt; type = foo.getType();\nV value = instantiate(type); // TODO: Implement instatiate()\nBar&lt;V&gt; bar = new Bar(value);\n</code></pre>\n\n<p>The trick then is the implementation of the <code>instantiate()</code> method. If <code>Class&lt;V&gt;</code> has a no-args constructor, then you can just call</p>\n\n<pre><code>V value = type.newInstance();\n</code></pre>\n\n<p>Not all classes have a default constructor, though, so there is no generic solution for all cases.</p>\n"}],"owner":{"account_id":3489231,"reputation":1064,"user_id":2919326,"display_name":"aaroncarsonart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646545557,"creation_date":1433276482,"question_id":30605846,"body_markdown":"Consider if I have a class or enum `Foo` where each instance has a `Class&lt;?&gt; type` field:\r\n\r\n    public enum Foo {\r\n        A (Integer.class), B (Double.class), C (String.class);\r\n    \r\n        public final Class&lt;?&gt; type;\r\n    \r\n        Foo(Class&lt;?&gt; type) {\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n\r\nThen I have a generic class `Bar&lt;V&gt;`:\r\n\r\n    public class Bar&lt;V&gt; {\r\n\r\n        private V value;\r\n\r\n        // default constructor\r\n        public Bar() {}\r\n\r\n        // getter\r\n        public V getValue(){\r\n            return value;\r\n        }\r\n\r\n        // setter\r\n        public void setValue(V value){\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\nIs it possible to instantiate an instance of `Bar` with the type from the `Class&lt;?&gt; type` field of a given `Foo` without knowing the specific type of `Foo.type`?  For instance, I would call this in either a static method, or some kind of factory method.\r\n\r\n*Edit:*\r\n\r\nTo specify the function of Bar:  Bar wraps around a value with a simple getter/setter, and has a consistent interface, but an unknown type.  The benefit of my idea would be to create instances of Bar based off of an instance of Foo.  For instance, use value of `Foo.A.type` (which is `Integer.class`) to instantiate a `Bar&lt;Integer&gt;` without knowing ahead of time that `Foo.A.type` has a value of `Integer.class`.","title":"Instantiate Parameterized Type class with Class&lt;?&gt; variable","body":"<p>Consider if I have a class or enum <code>Foo</code> where each instance has a <code>Class&lt;?&gt; type</code> field:</p>\n<pre><code>public enum Foo {\n    A (Integer.class), B (Double.class), C (String.class);\n\n    public final Class&lt;?&gt; type;\n\n    Foo(Class&lt;?&gt; type) {\n        this.type = type;\n    }\n}\n</code></pre>\n<p>Then I have a generic class <code>Bar&lt;V&gt;</code>:</p>\n<pre><code>public class Bar&lt;V&gt; {\n\n    private V value;\n\n    // default constructor\n    public Bar() {}\n\n    // getter\n    public V getValue(){\n        return value;\n    }\n\n    // setter\n    public void setValue(V value){\n        this.value = value;\n    }\n}\n</code></pre>\n<p>Is it possible to instantiate an instance of <code>Bar</code> with the type from the <code>Class&lt;?&gt; type</code> field of a given <code>Foo</code> without knowing the specific type of <code>Foo.type</code>?  For instance, I would call this in either a static method, or some kind of factory method.</p>\n<p><em>Edit:</em></p>\n<p>To specify the function of Bar:  Bar wraps around a value with a simple getter/setter, and has a consistent interface, but an unknown type.  The benefit of my idea would be to create instances of Bar based off of an instance of Foo.  For instance, use value of <code>Foo.A.type</code> (which is <code>Integer.class</code>) to instantiate a <code>Bar&lt;Integer&gt;</code> without knowing ahead of time that <code>Foo.A.type</code> has a value of <code>Integer.class</code>.</p>\n"},{"tags":["java","spring","spring-boot","maven","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646545158,"creation_date":1646545158,"answer_id":71367937,"question_id":71362449,"body_markdown":"removed `&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n`\r\nfrom pom.xml and it worked","title":"Java Springboot + Google Cloud Dependencies Mismatch","body":"<p>removed `</p>\n<pre><code>&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n&lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n</code></pre>\n\n`\nfrom pom.xml and it worked\n"}],"owner":{"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646545158,"creation_date":1646485642,"question_id":71362449,"body_markdown":"I am trying to implement google cloud visions in my springboot project, by following this guide: https://cloud.google.com/vision/docs/adding-spring\r\n\r\nProblem is, when I added this package, I got an error, that I suspect is caused by mismatching version numbers. Here is my POM.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.zer0Day&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ZeroDayBackend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ZeroDayBackend&lt;/name&gt;\r\n\t&lt;description&gt;Backend for phishing plugin&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencyManagement&gt;\r\n\t  &lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n\t      &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n\t      &lt;type&gt;pom&lt;/type&gt;\r\n\t      &lt;scope&gt;import&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t  &lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nI end up getting this error on runtime:\r\n\r\n          .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.6.4)\r\n    \r\n    2022-03-05 04:56:14.434  INFO 12420 --- [           main] c.e.demo.ZeroDayBackendApplication       : Starting ZeroDayBackendApplication using Java 17.0.1 on UNDERGRAD-LAP450 with PID 12420 (C:\\Users\\Undergrad-Students\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\ZeroDayBackend\\target\\classes started by Undergrad-Students in C:\\Users\\Undergrad-Students\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\ZeroDayBackend)\r\n    2022-03-05 04:56:14.442  INFO 12420 --- [           main] c.e.demo.ZeroDayBackendApplication       : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-03-05 04:56:15.545 ERROR 12420 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.defaultViewResolver\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat com.example.demo.ZeroDayBackendApplication.main(ZeroDayBackendApplication.java:10) ~[classes/:na]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@531d72ca]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:238) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:231) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:221) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:169) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:144) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \t... 17 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/web/util/pattern/PathPatternParser\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \t... 35 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.web.util.pattern.PathPatternParser\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 39 common frames omitted\r\n    \r\n    2022-03-05 04:56:15.550  WARN 12420 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n    \r\n    java.lang.IllegalStateException: Failed to introspect Class [org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@531d72ca]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:873) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:861) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:848) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:788) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:313) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat com.example.demo.ZeroDayBackendApplication.main(ZeroDayBackendApplication.java:10) ~[classes/:na]\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/web/util/pattern/PathPatternParser\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \t... 23 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.web.util.pattern.PathPatternParser\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 27 common frames omitted\r\n\r\n\r\nAnyone know the correct version numbers I should edit in my pom.xml to make this work?\r\n\r\nThanks!","title":"Java Springboot + Google Cloud Dependencies Mismatch","body":"<p>I am trying to implement google cloud visions in my springboot project, by following this guide: <a href=\"https://cloud.google.com/vision/docs/adding-spring\" rel=\"nofollow noreferrer\">https://cloud.google.com/vision/docs/adding-spring</a></p>\n<p>Problem is, when I added this package, I got an error, that I suspect is caused by mismatching version numbers. Here is my POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.6.4\n \n\ncom.zer0Day\nZeroDayBackend\n0.0.1-SNAPSHOT\nZeroDayBackend\nBackend for phishing plugin\n\n&lt;java.version&gt;11&lt;/java.version&gt;\n</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I end up getting this error on runtime:</p>\n<pre><code>      .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.4)\n\n2022-03-05 04:56:14.434  INFO 12420 --- [           main] c.e.demo.ZeroDayBackendApplication       : Starting ZeroDayBackendApplication using Java 17.0.1 on UNDERGRAD-LAP450 with PID 12420 (C:\\Users\\Undergrad-Students\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\ZeroDayBackend\\target\\classes started by Undergrad-Students in C:\\Users\\Undergrad-Students\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\ZeroDayBackend)\n2022-03-05 04:56:14.442  INFO 12420 --- [           main] c.e.demo.ZeroDayBackendApplication       : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-05 04:56:15.545 ERROR 12420 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.defaultViewResolver\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.example.demo.ZeroDayBackendApplication.main(ZeroDayBackendApplication.java:10) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@531d72ca]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.16.jar:5.3.16]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:238) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:231) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:221) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:169) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:144) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    ... 17 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/util/pattern/PathPatternParser\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.16.jar:5.3.16]\n    ... 35 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.util.pattern.PathPatternParser\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 39 common frames omitted\n\n2022-03-05 04:56:15.550  WARN 12420 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@531d72ca]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:375) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.16.jar:5.3.16]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:873) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:861) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:848) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:788) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.example.demo.ZeroDayBackendApplication.main(ZeroDayBackendApplication.java:10) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/util/pattern/PathPatternParser\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.16.jar:5.3.16]\n    ... 23 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.util.pattern.PathPatternParser\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 27 common frames omitted\n</code></pre>\n<p>Anyone know the correct version numbers I should edit in my pom.xml to make this work?</p>\n<p>Thanks!</p>\n"},{"tags":["java","loops","optimization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1646545230,"post_id":71367914,"comment_id":126147553,"body_markdown":"If your operation takes 1 nanosecond, performing it on 10^18 numbers will take 31 years.","body":"If your operation takes 1 nanosecond, performing it on 10^18 numbers will take 31 years."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646545242,"post_id":71367914,"comment_id":126147556,"body_markdown":"There is insufficient information in your question to make suggestions that are going to help.  You need an algorithmic optimization ... that means that you don&#39;t have to scan the entire range.  Loop optimization most likely won&#39;t make a noticeable difference.  Using threads would help, but you only get *at most* P-times speed up where P is the number of available processors.  And that isn&#39;t enough to give you a practical solution.","body":"There is insufficient information in your question to make suggestions that are going to help.  You need an algorithmic optimization ... that means that you don&#39;t have to scan the entire range.  Loop optimization most likely won&#39;t make a noticeable difference.  Using threads would help, but you only get <i>at most</i> P-times speed up where P is the number of available processors.  And that isn&#39;t enough to give you a practical solution."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646545509,"post_id":71367914,"comment_id":126147582,"body_markdown":"If you had (exclusive) access to a large HPC system, you might be able to get answers a few tens of thousand times faster.  But I doubt that you do.  (People don&#39;t get to use such expensive systems unless they first demonstrate that they know what they are doing, and that their task is sufficiently important ...)","body":"If you had (exclusive) access to a large HPC system, you might be able to get answers a few tens of thousand times faster.  But I doubt that you do.  (People don&#39;t get to use such expensive systems unless they first demonstrate that they know what they are doing, and that their task is sufficiently important ...)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646546321,"post_id":71367914,"comment_id":126147663,"body_markdown":"There is no way whatsoever that operating over 10^18 values will be doable in a reasonable amount of time.  You have to do something smarter than checking every value, and you haven&#39;t told us enough about the problem for us to help you do that.","body":"There is no way whatsoever that operating over 10^18 values will be doable in a reasonable amount of time.  You have to do something smarter than checking every value, and you haven&#39;t told us enough about the problem for us to help you do that."}],"owner":{"account_id":21439415,"reputation":25,"user_id":15794281,"display_name":"Ananya Nayak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646544711,"creation_date":1646544711,"question_id":71367914,"body_markdown":"I am trying to run a code where the user can input a value as large as 10^18 and I have to scan each value from 1 to 10^18 so as to perform some operations on them. The code is not optimized. I tried loop unrolling but still it won&#39;t work. Can someone tell that what can be the best way to reduce the time complexity of this program?","title":"Loop optimisation while scanning huge exponential values","body":"<p>I am trying to run a code where the user can input a value as large as 10^18 and I have to scan each value from 1 to 10^18 so as to perform some operations on them. The code is not optimized. I tried loop unrolling but still it won't work. Can someone tell that what can be the best way to reduce the time complexity of this program?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646544792,"post_id":71367856,"comment_id":126147497,"body_markdown":"You are also not using `rs.next()`.","body":"You are also not using <code>rs.next()</code>."},{"owner":{"account_id":19931637,"reputation":23,"user_id":14605159,"display_name":"Dhaval Gosai"},"score":0,"creation_date":1646546618,"post_id":71367856,"comment_id":126147698,"body_markdown":"@tgdavies Thanks. i used rs.next() right after query line , and it worked but still i don&#39;t understand why? what i know is we use rs.next() to move to next row while we are using loop.but i am having only single record here. ain&#39;t i pointing to it already? why do i have to move to next?","body":"@tgdavies Thanks. i used rs.next() right after query line , and it worked but still i don&#39;t understand why? what i know is we use rs.next() to move to next row while we are using loop.but i am having only single record here. ain&#39;t i pointing to it already? why do i have to move to next?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1646559811,"post_id":71367856,"comment_id":126149523,"body_markdown":"After `executeQuery` the cursor is still before the first row.","body":"After <code>executeQuery</code> the cursor is still before the first row."}],"owner":{"account_id":19931637,"reputation":23,"user_id":14605159,"display_name":"Dhaval Gosai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646554240,"answer_count":0,"score":0,"last_activity_date":1646543833,"creation_date":1646543833,"question_id":71367856,"body_markdown":"i am creating simple edit page , and getting this error :`java.sql.SQLException: Before start of result set`. i did my research , there are bunch of question with same error , (they were having some problems for not using rs.next() in looping ) .i am not even using loop so couldn&#39;t find anything helpful. \r\n\r\nthere&#39;s not much to explain here&#39;s the code:\r\n \r\n        import java.io.*;\r\n        import javax.servlet.*;\r\n        import javax.servlet.http.*; \r\n        import java.sql.*;\r\n\r\n        public class Edit1 extends HttpServlet {  \r\n            protected void doGet(HttpServletRequest request, HttpServletResponse response)   \r\n                   throws ServletException, IOException {  \r\n                  \r\n                      response.setContentType(&quot;text/html&quot;);  \r\n                      PrintWriter out=response.getWriter();   \r\n\r\n                      String sid=request.getParameter(&quot;id&quot;);  \r\n                      int id=Integer.parseInt(sid); \r\n        \r\n        try {\r\n             Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n             Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/store&quot;, &quot;root&quot;, &quot;&quot;);\r\n             Statement stmt = con.createStatement();\r\n             ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM product WHERE id=&quot;+id);\r\n     \r\n             String name = rs.getString(&quot;name&quot;);  \r\n             double price = rs.getDouble(&quot;price&quot;);\r\n             int quantity = rs.getInt(&quot;quantity&quot;);\r\n                 \r\n                out.print(&quot;&lt;form action=&#39;Edit2&#39; method=&#39;post&#39;&gt;&quot;);  \r\n                out.print(&quot;&lt;table&gt;&quot;);  \r\n                out.print(&quot;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&#39;hidden&#39; name=&#39;id&#39; value=&#39;&quot;+id+&quot;&#39;/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \r\n                out.print(&quot;&lt;tr&gt;&lt;td&gt;Name:&lt;/td&gt;&lt;td&gt;&lt;input type=&#39;text&#39; name=&#39;name&#39; value=&#39;&quot;+name+&quot;&#39;/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \r\n                out.print(&quot;&lt;tr&gt;&lt;td&gt;Price:&lt;/td&gt;&lt;td&gt;&lt;input type=&#39;number&#39; name=&#39;price&#39; value=&#39;&quot;+price+&quot;&#39;/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \r\n                out.print(&quot;&lt;tr&gt;&lt;td&gt;Quantity:&lt;/td&gt;&lt;td&gt;&lt;input type=&#39;number&#39; name=&#39;quantity&#39; value=&#39;&quot;+quantity+&quot;&#39;/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \r\n                out.print(&quot;&lt;tr&gt;&lt;td colspan=&#39;2&#39;&gt;&lt;input type=&#39;submit&#39; value=&#39;Save&#39;/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \r\n                out.print(&quot;&lt;/table&gt;&quot;);  \r\n                out.print(&quot;&lt;/form&gt;&quot;);  \r\n\r\n                out.close(); \r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n            out.println(e);\r\n        }\r\n    }\r\n}  \r\n\r\n\r\nNot even printing stack tracks. ","title":"java.sql.SQLException: Before start of result without while loop","body":"<p>i am creating simple edit page , and getting this error :<code>java.sql.SQLException: Before start of result set</code>. i did my research , there are bunch of question with same error , (they were having some problems for not using rs.next() in looping ) .i am not even using loop so couldn't find anything helpful.</p>\n<p>there's not much to explain here's the code:</p>\n<pre><code>    import java.io.*;\n    import javax.servlet.*;\n    import javax.servlet.http.*; \n    import java.sql.*;\n\n    public class Edit1 extends HttpServlet {  \n        protected void doGet(HttpServletRequest request, HttpServletResponse response)   \n               throws ServletException, IOException {  \n              \n                  response.setContentType(&quot;text/html&quot;);  \n                  PrintWriter out=response.getWriter();   \n\n                  String sid=request.getParameter(&quot;id&quot;);  \n                  int id=Integer.parseInt(sid); \n    \n    try {\n         Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n         Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/store&quot;, &quot;root&quot;, &quot;&quot;);\n         Statement stmt = con.createStatement();\n         ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM product WHERE id=&quot;+id);\n \n         String name = rs.getString(&quot;name&quot;);  \n         double price = rs.getDouble(&quot;price&quot;);\n         int quantity = rs.getInt(&quot;quantity&quot;);\n             \n            out.print(&quot;&lt;form action='Edit2' method='post'&gt;&quot;);  \n            out.print(&quot;&lt;table&gt;&quot;);  \n            out.print(&quot;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;input type='hidden' name='id' value='&quot;+id+&quot;'/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \n            out.print(&quot;&lt;tr&gt;&lt;td&gt;Name:&lt;/td&gt;&lt;td&gt;&lt;input type='text' name='name' value='&quot;+name+&quot;'/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \n            out.print(&quot;&lt;tr&gt;&lt;td&gt;Price:&lt;/td&gt;&lt;td&gt;&lt;input type='number' name='price' value='&quot;+price+&quot;'/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \n            out.print(&quot;&lt;tr&gt;&lt;td&gt;Quantity:&lt;/td&gt;&lt;td&gt;&lt;input type='number' name='quantity' value='&quot;+quantity+&quot;'/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \n            out.print(&quot;&lt;tr&gt;&lt;td colspan='2'&gt;&lt;input type='submit' value='Save'/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);  \n            out.print(&quot;&lt;/table&gt;&quot;);  \n            out.print(&quot;&lt;/form&gt;&quot;);  \n\n            out.close(); \n    }\n    catch (Exception e) {\n        e.printStackTrace();\n        out.println(e);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Not even printing stack tracks.</p>\n"},{"tags":["java","android","timezone"],"comments":[{"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"score":3,"creation_date":1504979628,"post_id":46133466,"comment_id":79229355,"body_markdown":"[TimeZone](https://developer.android.com/reference/java/util/TimeZone.html) is available since API level 1.","body":"<a href=\"https://developer.android.com/reference/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">TimeZone</a> is available since API level 1."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1504983082,"post_id":46133466,"comment_id":79230256,"body_markdown":"I’m not an Android developer, but the way I read https://developer.android.com/reference/java/util/TimeZone.html, `getDefault()` seems to be in API level 1 too.","body":"I’m not an Android developer, but the way I read <a href=\"https://developer.android.com/reference/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/TimeZone.html</a>, <code>getDefault()</code> seems to be in API level 1 too."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1504983558,"post_id":46133466,"comment_id":79230389,"body_markdown":"If you aren’t afraid of an external library, I’d expect that you can use [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) with low API levels too. It’s not something I know. ThreeTenABP will allow `ZoneId.systemDefault()`.","body":"If you aren’t afraid of an external library, I’d expect that you can use <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> with low API levels too. It’s not something I know. ThreeTenABP will allow <code>ZoneId.systemDefault()</code>."}],"answers":[{"tags":[],"owner":{"account_id":8177147,"reputation":440,"user_id":6155559,"accept_rate":67,"display_name":"YektaDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609175355,"creation_date":1505029206,"answer_id":46138399,"question_id":46133466,"body_markdown":"It was just a small mistake. I was importing `android.icu.util.TimeZone` instead of `java.util.TimeZone`.\r\n\r\nCorrect import for `TimeZone` in this case is:\r\n```java\r\nimport java.util.TimeZone;\r\n```","title":"How to get TimeZone in low API levels?","body":"<p>It was just a small mistake. I was importing <code>android.icu.util.TimeZone</code> instead of <code>java.util.TimeZone</code>.</p>\n<p>Correct import for <code>TimeZone</code> in this case is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.TimeZone;\n</code></pre>\n"}],"owner":{"account_id":8177147,"reputation":440,"user_id":6155559,"accept_rate":67,"display_name":"YektaDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":46138399,"answer_count":1,"score":1,"last_activity_date":1646543755,"creation_date":1504979174,"question_id":46133466,"body_markdown":"The goal is to get the device `TimeZone` using `TimeZone.getDefault()`; however, this dependency needs an API level of 24 or above, which is higher than the project minimum SDK version.\r\n\r\nAre there any other solutions to retrieve the device `TimeZone` in lower API levels?","title":"How to get TimeZone in low API levels?","body":"<p>The goal is to get the device <code>TimeZone</code> using <code>TimeZone.getDefault()</code>; however, this dependency needs an API level of 24 or above, which is higher than the project minimum SDK version.</p>\n<p>Are there any other solutions to retrieve the device <code>TimeZone</code> in lower API levels?</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1615048396,"post_id":66507957,"comment_id":117573606,"body_markdown":"Well this looks like the important bit: &quot;Missing required field modid in dependency&quot; - I don&#39;t know anything about Minecraft mods, but I would check all your dependencies and make sure there&#39;s a modid for all of them...","body":"Well this looks like the important bit: &quot;Missing required field modid in dependency&quot; - I don&#39;t know anything about Minecraft mods, but I would check all your dependencies and make sure there&#39;s a modid for all of them..."},{"owner":{"display_name":"user15244370"},"score":1,"creation_date":1615049133,"post_id":66507957,"comment_id":117573855,"body_markdown":"check file `mods.toml` (`src/main/.../META-INF/`) some `dependencies.` entry is missing the `modId` (or incorrect) I think both `&quot;minecraft&quot;` and `&quot;forge&quot;` must be present","body":"check file <code>mods.toml</code> (<code>src&#47;main&#47;...&#47;META-INF&#47;</code>) some <code>dependencies.</code> entry is missing the <code>modId</code> (or incorrect) I think both <code>&quot;minecraft&quot;</code> and <code>&quot;forge&quot;</code> must be present"}],"answers":[{"tags":[],"owner":{"account_id":19759259,"reputation":32,"user_id":14468821,"display_name":"Budschie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615054012,"creation_date":1615054012,"answer_id":66509012,"question_id":66507957,"body_markdown":"I was able to *reproduce* your error easily by removing a modId-Entry in one of the dependency lines. I got the exact same error. &lt;br&gt;&lt;br&gt;*Make sure that you didn&#39;t accidently deleted the modId entry under the [[dependencies.yourmodid]] elements* (as **@user15244370** suggested in the comments). &lt;br&gt;&lt;br&gt;**Also, make sure to always refresh your project** if you modified files outside of Eclipse (by right-clicking your project in the package explorer and clicking on &quot;Refresh&quot;), or else your modifications might not appear (when I was really new in minecraft modding, this was a huge source of problems, and it sometimes still is for me today). ","title":"What do I have to do with Eclipse Uncaught Exception -1","body":"<p>I was able to <em>reproduce</em> your error easily by removing a modId-Entry in one of the dependency lines. I got the exact same error. <br><br><em>Make sure that you didn't accidently deleted the modId entry under the [[dependencies.yourmodid]] elements</em> (as <strong>@user15244370</strong> suggested in the comments). <br><br><strong>Also, make sure to always refresh your project</strong> if you modified files outside of Eclipse (by right-clicking your project in the package explorer and clicking on &quot;Refresh&quot;), or else your modifications might not appear (when I was really new in minecraft modding, this was a huge source of problems, and it sometimes still is for me today).</p>\n"}],"owner":{"account_id":20887203,"reputation":1,"user_id":15343513,"display_name":"ChonkoTheGreat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646543017,"creation_date":1615048054,"question_id":66507957,"body_markdown":"I am currently trying to create a Minecraft Mod for the 1.16.5.\r\nI am using Eclipse. Everytime I try to run my project it doesn&#39;t work and the Console only gives me this wall of text:\r\n```\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: net.minecraftforge.fml.loading.moddiscovery.InvalidModFileException: Missing required field modid in dependency (main)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModInfo$ModVersion.lambda$new$0(ModInfo.java:190)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.Optional.orElseThrow(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModInfo$ModVersion.&lt;init&gt;(ModInfo.java:190)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModInfo.lambda$null$6(ModInfo.java:94)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.copyInto(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.evaluate(Unknown Source)\r\nException in thread &quot;main&quot; [17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReferencePipeline.collect(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModInfo.lambda$new$7(ModInfo.java:95)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.Optional.map(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModInfo.&lt;init&gt;(ModInfo.java:92)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModFileInfo.lambda$new$2(ModFileInfo.java:94)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.copyInto(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.evaluate(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReferencePipeline.collect(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModFileInfo.&lt;init&gt;(ModFileInfo.java:95)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModFileParser.modsTomlParser(ModFileParser.java:62)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModFileParser.readModList(ModFileParser.java:46)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModFile.identifyMods(ModFile.java:113)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.moddiscovery.ModDiscoverer.discoverMods(ModDiscoverer.java:121)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.FMLLoader.beginModScan(FMLLoader.java:216)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.fml.loading.FMLServiceProvider.runScan(FMLServiceProvider.java:107)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat cpw.mods.modlauncher.TransformationServiceDecorator.runScan(TransformationServiceDecorator.java:114)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat cpw.mods.modlauncher.TransformationServicesHandler.lambda$runScanningTransformationServices$8(TransformationServicesHandler.java:115)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReferencePipeline$7$1.accept(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.HashMap$ValueSpliterator.forEachRemaining(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.copyInto(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.AbstractPipeline.evaluate(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat java.util.stream.ReferencePipeline.collect(Unknown Source)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat cpw.mods.modlauncher.TransformationServicesHandler.runScanningTransformationServices(TransformationServicesHandler.java:116)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat cpw.mods.modlauncher.TransformationServicesHandler.initializeTransformationServices(TransformationServicesHandler.java:63)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat cpw.mods.modlauncher.Launcher.run(Launcher.java:76)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\r\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: \tat net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\r\n```\r\n\r\nWhat can I do to fix this?","title":"What do I have to do with Eclipse Uncaught Exception -1","body":"<p>I am currently trying to create a Minecraft Mod for the 1.16.5.\nI am using Eclipse. Everytime I try to run my project it doesn't work and the Console only gives me this wall of text:</p>\n<pre><code>[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]: net.minecraftforge.fml.loading.moddiscovery.InvalidModFileException: Missing required field modid in dependency (main)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModInfo$ModVersion.lambda$new$0(ModInfo.java:190)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.Optional.orElseThrow(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModInfo$ModVersion.&lt;init&gt;(ModInfo.java:190)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModInfo.lambda$null$6(ModInfo.java:94)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.evaluate(Unknown Source)\nException in thread &quot;main&quot; [17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:  at java.util.stream.ReferencePipeline.collect(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModInfo.lambda$new$7(ModInfo.java:95)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.Optional.map(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModInfo.&lt;init&gt;(ModInfo.java:92)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModFileInfo.lambda$new$2(ModFileInfo.java:94)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.evaluate(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReferencePipeline.collect(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModFileInfo.&lt;init&gt;(ModFileInfo.java:95)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModFileParser.modsTomlParser(ModFileParser.java:62)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModFileParser.readModList(ModFileParser.java:46)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModFile.identifyMods(ModFile.java:113)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.moddiscovery.ModDiscoverer.discoverMods(ModDiscoverer.java:121)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.FMLLoader.beginModScan(FMLLoader.java:216)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.fml.loading.FMLServiceProvider.runScan(FMLServiceProvider.java:107)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at cpw.mods.modlauncher.TransformationServiceDecorator.runScan(TransformationServiceDecorator.java:114)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at cpw.mods.modlauncher.TransformationServicesHandler.lambda$runScanningTransformationServices$8(TransformationServicesHandler.java:115)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReferencePipeline$7$1.accept(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.HashMap$ValueSpliterator.forEachRemaining(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.AbstractPipeline.evaluate(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at java.util.stream.ReferencePipeline.collect(Unknown Source)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at cpw.mods.modlauncher.TransformationServicesHandler.runScanningTransformationServices(TransformationServicesHandler.java:116)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at cpw.mods.modlauncher.TransformationServicesHandler.initializeTransformationServices(TransformationServicesHandler.java:63)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at cpw.mods.modlauncher.Launcher.run(Launcher.java:76)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\n[17:12:25] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:-1]:     at net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\n</code></pre>\n<p>What can I do to fix this?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633104171,"creation_date":1633104171,"answer_id":69408860,"question_id":66567489,"body_markdown":"For minecraft forge it&#39;s like that :\r\n\r\n```java\r\n// firstly we set the block as mob spawner\r\nworld.setBlock(xCoord, yCoord, zCoord, Blocks.mob_spawner);\r\n\r\n// creating new mob spawner tile\r\nTileEntityMobSpawner tileMobSpawner = new TileEntityMobSpawner();\r\nworld.setTileEntity(xCoord, yCoord, zCoord, tileMobSpawner); // using new object\r\n// not define this tile with the required object type\r\ntileMobSpawner.func_145881_a().setEntityName(EntityList.classToStringMapping.get(EntityCreeper.class));\r\n```\r\n\r\nFor spigot, it&#39;s like that :\r\n\r\n```java\r\nBlock block = world.getBlockAt(xCoord, yCoord, zCoord); // get block\r\nblock.setType(Material.MOB_SPAWNER); // set as spawner\r\nCreatureSpawner spawner = (CreatureSpawner) block.getState(); // get block state to edit config\r\nspawner.setSpawnedType(EntityType.CREEPER); // set required type\r\n```","title":"Use creeper spawner in structure (Minecaft forge mod 1.7.10)","body":"<p>For minecraft forge it's like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// firstly we set the block as mob spawner\nworld.setBlock(xCoord, yCoord, zCoord, Blocks.mob_spawner);\n\n// creating new mob spawner tile\nTileEntityMobSpawner tileMobSpawner = new TileEntityMobSpawner();\nworld.setTileEntity(xCoord, yCoord, zCoord, tileMobSpawner); // using new object\n// not define this tile with the required object type\ntileMobSpawner.func_145881_a().setEntityName(EntityList.classToStringMapping.get(EntityCreeper.class));\n</code></pre>\n<p>For spigot, it's like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Block block = world.getBlockAt(xCoord, yCoord, zCoord); // get block\nblock.setType(Material.MOB_SPAWNER); // set as spawner\nCreatureSpawner spawner = (CreatureSpawner) block.getState(); // get block state to edit config\nspawner.setSpawnedType(EntityType.CREEPER); // set required type\n</code></pre>\n"}],"owner":{"account_id":20659631,"reputation":1,"user_id":15167876,"display_name":"mem&#232;s land"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646543003,"creation_date":1615388907,"question_id":66567489,"body_markdown":"I tried to make a structure with a creeper spawner inside but I haven&#39;t found anything telling how to do.\r\nI tried to see if I can make spawn the block with the metadata (52:50 for creeper spawner) but I haven&#39;t found anything using block metadata\r\nAnd I also tried with a converter schematic to java but it don&#39;t exist for the 1.7.10 version\r\n\r\nSo could someone help me and tell me how I can do this?\r\n","title":"Use creeper spawner in structure (Minecaft forge mod 1.7.10)","body":"<p>I tried to make a structure with a creeper spawner inside but I haven't found anything telling how to do.\nI tried to see if I can make spawn the block with the metadata (52:50 for creeper spawner) but I haven't found anything using block metadata\nAnd I also tried with a converter schematic to java but it don't exist for the 1.7.10 version</p>\n<p>So could someone help me and tell me how I can do this?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1618432196,"creation_date":1618432196,"answer_id":67098699,"question_id":67098463,"body_markdown":"Java needs to be compiled to bytecode to be ran. You can&#39;t just zip up the source files and expect it to work as a jar. Run `./gradlew build` to do this the right way automatically.","title":"How do I bypass error of Mod not valid mod file?","body":"<p>Java needs to be compiled to bytecode to be ran. You can't just zip up the source files and expect it to work as a jar. Run <code>./gradlew build</code> to do this the right way automatically.</p>\n"}],"owner":{"account_id":15093082,"reputation":67,"user_id":12493452,"display_name":"PythonCoder123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1456,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646618994,"accepted_answer_id":67098699,"answer_count":1,"score":0,"last_activity_date":1646542956,"creation_date":1618431049,"question_id":67098463,"body_markdown":"I am trying to configure a mod on minecraft forge 1.16.4 and I changed the recipe of this mod linked below. I zipped the edited mod folder and renamed it to a jar file. When I booted up Minecraft again, it said it wasn&#39;t a valid mod file. What do I do?\r\n\r\nMod: https://www.curseforge.com/minecraft/mc-mods/morevanillaarmor\r\n\r\nGithub: https://github.com/MelanX/MoreVanillaArmor\r\n","title":"How do I bypass error of Mod not valid mod file?","body":"<p>I am trying to configure a mod on minecraft forge 1.16.4 and I changed the recipe of this mod linked below. I zipped the edited mod folder and renamed it to a jar file. When I booted up Minecraft again, it said it wasn't a valid mod file. What do I do?</p>\n<p>Mod: <a href=\"https://www.curseforge.com/minecraft/mc-mods/morevanillaarmor\" rel=\"nofollow noreferrer\">https://www.curseforge.com/minecraft/mc-mods/morevanillaarmor</a></p>\n<p>Github: <a href=\"https://github.com/MelanX/MoreVanillaArmor\" rel=\"nofollow noreferrer\">https://github.com/MelanX/MoreVanillaArmor</a></p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1621866969,"post_id":67673668,"comment_id":119616655,"body_markdown":"No problem; I wrote a full answer briefly explaining the syntax.","body":"No problem; I wrote a full answer briefly explaining the syntax."}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1621866949,"creation_date":1621866949,"answer_id":67673947,"question_id":67673668,"body_markdown":"Remove the semicolon after the annotation.\r\n\r\nThe error `Identifier or type expected: 18` reflects the fact that an annotation must be applied to a declaration, as would be the case for\r\n\r\n```\r\n@SidedProxy(...)\r\npublic static CommonProxy proxy;\r\n```\r\n\r\nThe stray semicolon splits this into two separate statements. The first is the invalid annotation with an expected (but missing) identifier/type (for the declaration that it would annotate) and the second is a well-formed, but unannotated declaration of a `public static CommonProxy`.","title":"&#39;Annotations are not allowed here&#39;","body":"<p>Remove the semicolon after the annotation.</p>\n<p>The error <code>Identifier or type expected: 18</code> reflects the fact that an annotation must be applied to a declaration, as would be the case for</p>\n<pre><code>@SidedProxy(...)\npublic static CommonProxy proxy;\n</code></pre>\n<p>The stray semicolon splits this into two separate statements. The first is the invalid annotation with an expected (but missing) identifier/type (for the declaration that it would annotate) and the second is a well-formed, but unannotated declaration of a <code>public static CommonProxy</code>.</p>\n"}],"owner":{"account_id":21072992,"reputation":17,"user_id":15488845,"display_name":"NielsGames25"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67673947,"answer_count":1,"score":0,"last_activity_date":1646542943,"creation_date":1621865976,"question_id":67673668,"body_markdown":"Im creating a forge 1.12.2 mod but in my main class when i do \r\n```\r\n@SidedProxy(clientSide = Reference.CLIENT_PROXY_CLASS, serverSide = Reference.COMMON_PROXY_CLASS);\r\n    public static CommonProxy proxy;\r\n```\r\n\r\nIt gives the following error(s):\r\n```\r\nAnnotations are not allowed here: 18\r\nIdentifier or type expected: 18\r\n```\r\n\r\nfor some more information:\r\n```\r\npackage com.pironielsje.furge;\r\n\r\nimport com.pironielsje.furge.proxy.CommonProxy;\r\nimport com.pironielsje.furge.util.Reference;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.Mod.*;\r\nimport net.minecraftforge.fml.common.SidedProxy;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLServerStartingEvent;\r\n\r\n@Mod(modid = Reference.MOD_ID, version = Reference.VERSION, name = Reference.MOD_NAME)\r\npublic class FurgeMod {\r\n    @Instance\r\n    public static FurgeMod instance;\r\n\r\n    @SidedProxy(clientSide = Reference.CLIENT_PROXY_CLASS, serverSide = Reference.COMMON_PROXY_CLASS);\r\n    public static CommonProxy proxy;\r\n\r\n    @EventHandler\r\n    public void Init(FMLInitializationEvent event) {\r\n\r\n    }\r\n\r\n    @EventHandler\r\n    public void postInit(FMLPostInitializationEvent event) {\r\n\r\n    }\r\n\r\n    @EventHandler\r\n    public void preInit(FMLPreInitializationEvent event) {\r\n\r\n    }\r\n\r\n    @EventHandler\r\n    public void serverInit(FMLServerStartingEvent event) {\r\n\r\n    }\r\n}\r\n\r\n```\r\nthis is my main class\r\n\r\n```\r\npackage com.pironielsje.furge.util;\r\n\r\npublic class Reference {\r\n    public static final String MOD_ID = &quot;furge&quot;;\r\n    public static final String VERSION = &quot;0.1&quot;;\r\n    public static final String MC_VERSION = &quot;[1.12.2]&quot;;\r\n    public static final String MOD_NAME = &quot;Furge Mod&quot;;\r\n\r\n    public static final String CLIENT_PROXY_CLASS = &quot;&quot;;\r\n    public static final String COMMON_PROXY_CLASS = &quot;&quot;;\r\n}\r\n```\r\nThis is my Reference class","title":"&#39;Annotations are not allowed here&#39;","body":"<p>Im creating a forge 1.12.2 mod but in my main class when i do</p>\n<pre><code>@SidedProxy(clientSide = Reference.CLIENT_PROXY_CLASS, serverSide = Reference.COMMON_PROXY_CLASS);\n    public static CommonProxy proxy;\n</code></pre>\n<p>It gives the following error(s):</p>\n<pre><code>Annotations are not allowed here: 18\nIdentifier or type expected: 18\n</code></pre>\n<p>for some more information:</p>\n<pre><code>package com.pironielsje.furge;\n\nimport com.pironielsje.furge.proxy.CommonProxy;\nimport com.pironielsje.furge.util.Reference;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.*;\nimport net.minecraftforge.fml.common.SidedProxy;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLServerStartingEvent;\n\n@Mod(modid = Reference.MOD_ID, version = Reference.VERSION, name = Reference.MOD_NAME)\npublic class FurgeMod {\n    @Instance\n    public static FurgeMod instance;\n\n    @SidedProxy(clientSide = Reference.CLIENT_PROXY_CLASS, serverSide = Reference.COMMON_PROXY_CLASS);\n    public static CommonProxy proxy;\n\n    @EventHandler\n    public void Init(FMLInitializationEvent event) {\n\n    }\n\n    @EventHandler\n    public void postInit(FMLPostInitializationEvent event) {\n\n    }\n\n    @EventHandler\n    public void preInit(FMLPreInitializationEvent event) {\n\n    }\n\n    @EventHandler\n    public void serverInit(FMLServerStartingEvent event) {\n\n    }\n}\n\n</code></pre>\n<p>this is my main class</p>\n<pre><code>package com.pironielsje.furge.util;\n\npublic class Reference {\n    public static final String MOD_ID = &quot;furge&quot;;\n    public static final String VERSION = &quot;0.1&quot;;\n    public static final String MC_VERSION = &quot;[1.12.2]&quot;;\n    public static final String MOD_NAME = &quot;Furge Mod&quot;;\n\n    public static final String CLIENT_PROXY_CLASS = &quot;&quot;;\n    public static final String COMMON_PROXY_CLASS = &quot;&quot;;\n}\n</code></pre>\n<p>This is my Reference class</p>\n"},{"tags":["java","minecraft","minecraft-forge","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":23641362,"reputation":97,"user_id":17671554,"display_name":"lol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642388745,"creation_date":1642388745,"answer_id":70736081,"question_id":70643204,"body_markdown":"You need to move the `e instanceof EventKey` if statement outside of the `e instanceof EventRenderGUI` if statement. \r\n\r\nThis should work as long as you have your events hooked correctly:\r\n\r\n    if (e instanceof EventRenderGUI) {\r\n        FontRenderer fr = mc.fontRendererObj;\r\n    \r\n        Gui.drawRect(5, 30.5, 70, 30 + Module.Category.values().length * 16 + 1.5, 0x90000000);\r\n        Gui.drawRect(7, 33 + currentTab * 16, 7 + 61, 33 + currentTab * 16 + 12, 0xff0099ff);\r\n    \r\n        int count = 0;\r\n        for (Category c: Module.Category.values()) {\r\n            fr.drawStringWithShadow(c.name, 11, 35 + count * 16, -1);\r\n    \r\n            count++;\r\n        }\r\n    \r\n        List &lt; Module &gt; modules = Client.getModulesByCategory(Module.Category.values()[currentTab]);\r\n    \r\n        Gui.drawRect(70, 30.5, 70 + 70, 30 + modules.size() * 16 + 4, 0x90000000);\r\n        Gui.drawRect(72, 33 + moduleIndex * 16, 57 + 70, 33 + moduleIndex * 16 + 12, 0xff0099ff);\r\n    \r\n        count = 0;\r\n        for (Module m: modules) {\r\n            fr.drawStringWithShadow(m.name, 73, 36 + count * 16, -1);\r\n    \r\n            count++;\r\n        }\r\n    }\r\n    \r\n    if (e instanceof EventKey) {\r\n        int code = ((EventKey) e).code;\r\n    \r\n        if (code == Keyboard.KEY_UP) {\r\n            if (currentTab &lt;= 0) {\r\n                currentTab = Module.Category.values().length - 1;\r\n            } else currentTab--;\r\n        }\r\n        if (code == Keyboard.KEY_DOWN) {\r\n            if (currentTab &gt;= Module.Category.values().length - 1) {\r\n                currentTab = 0;\r\n            } else\r\n                currentTab++;\r\n        }\r\n    }","title":"my tabgui is not working im pressing up and down but still nothing?","body":"<p>You need to move the <code>e instanceof EventKey</code> if statement outside of the <code>e instanceof EventRenderGUI</code> if statement.</p>\n<p>This should work as long as you have your events hooked correctly:</p>\n<pre><code>if (e instanceof EventRenderGUI) {\n    FontRenderer fr = mc.fontRendererObj;\n\n    Gui.drawRect(5, 30.5, 70, 30 + Module.Category.values().length * 16 + 1.5, 0x90000000);\n    Gui.drawRect(7, 33 + currentTab * 16, 7 + 61, 33 + currentTab * 16 + 12, 0xff0099ff);\n\n    int count = 0;\n    for (Category c: Module.Category.values()) {\n        fr.drawStringWithShadow(c.name, 11, 35 + count * 16, -1);\n\n        count++;\n    }\n\n    List &lt; Module &gt; modules = Client.getModulesByCategory(Module.Category.values()[currentTab]);\n\n    Gui.drawRect(70, 30.5, 70 + 70, 30 + modules.size() * 16 + 4, 0x90000000);\n    Gui.drawRect(72, 33 + moduleIndex * 16, 57 + 70, 33 + moduleIndex * 16 + 12, 0xff0099ff);\n\n    count = 0;\n    for (Module m: modules) {\n        fr.drawStringWithShadow(m.name, 73, 36 + count * 16, -1);\n\n        count++;\n    }\n}\n\nif (e instanceof EventKey) {\n    int code = ((EventKey) e).code;\n\n    if (code == Keyboard.KEY_UP) {\n        if (currentTab &lt;= 0) {\n            currentTab = Module.Category.values().length - 1;\n        } else currentTab--;\n    }\n    if (code == Keyboard.KEY_DOWN) {\n        if (currentTab &gt;= Module.Category.values().length - 1) {\n            currentTab = 0;\n        } else\n            currentTab++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23013928,"reputation":5,"user_id":17136025,"display_name":"Itzzmates"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70736081,"answer_count":1,"score":-1,"last_activity_date":1646542914,"creation_date":1641744903,"question_id":70643204,"body_markdown":"I&#39;m pressing the down key and up key and its not doing anything.\r\n\r\nVideo: https://www.youtube.com/watch?v=8F9KuHkb5_U&amp;t=1384s\r\n\r\nCode:\r\n```\r\npackage sonikhack.render;\r\n\r\npublic class TabGUI extends Module{\r\n\t\r\n\tpublic int currentTab, moduleIndex;\r\n\tpublic boolean expanded;\r\n\t\r\n\tpublic TabGUI() {\r\n\t\tsuper(&quot;TabGUI&quot;, Keyboard.KEY_NONE, Category.RENDER);\r\n\t\ttoggled = true;\r\n\t}\r\n\t\r\n   public void onEvent(Event e) {\r\n\t   if(e instanceof EventRenderGUI) {\r\n\t\t   FontRenderer fr = mc.fontRendererObj;\r\n\t\t   \r\n\t\t   Gui.drawRect(5, 30.5, 70, 30 + Module.Category.values().length * 16 + 1.5, 0x90000000);\r\n\t\t   Gui.drawRect(7, 33 + currentTab * 16, 7 + 61, 33 + currentTab * 16 + 12, 0xff0099ff);\r\n\t\t   \r\n\t\t   int count = 0;\r\n\t\t   for(Category c : Module.Category.values()) {\r\n\t\t\t   fr.drawStringWithShadow(c.name, 11, 35 + count*16, -1);\r\n\t\t\t   \r\n\t\t\t   count++;\r\n\t\t   }\r\n\t\t   \r\n\t\t   List&lt;Module&gt; modules = Client.getModulesByCategory(Module.Category.values()[currentTab]);\r\n\t\t   \r\n\t\t   Gui.drawRect(70, 30.5, 70 + 70, 30 + modules.size() * 16 + 4, 0x90000000);\r\n\t\t   Gui.drawRect(72, 33 + moduleIndex * 16, 57 + 70, 33 + moduleIndex * 16 + 12, 0xff0099ff);\r\n\t\t   \r\n\t\t   count = 0;\r\n\t\t   for(Module m : modules) {\r\n\t\t\t   fr.drawStringWithShadow(m.name, 73, 36 + count*16, -1);\r\n\t\t\t   \r\n\t\t\t   count++;\r\n\t\t   }\r\n\t\t   \r\n\t\t   if(e instanceof EventKey) {\r\n\t\t\t   int code = ((EventKey)e).code;\r\n\t\t\t   \r\n\t\t\t   if(code == Keyboard.KEY_UP) {\r\n\t\t\t\t   if(currentTab &lt;= 0) {\r\n\t\t\t\t\t   currentTab = Module.Category.values().length - 1;\r\n\t\t\t\t   }else\r\n\t\t\t\t\t   currentTab--;\r\n\t\t\t   }\r\n\t\t\t   \r\n\t\t\t   if(code == Keyboard.KEY_DOWN) {\r\n\t\t\t\t if(currentTab &gt;= Module.Category.values().length - 1) {\r\n\t\t\t\t\t   currentTab = 0;\r\n\t\t\t\t   }else\t\t \r\n\t\t\t\t\t   currentTab++;\r\n\t\t\t   }\r\n\t   }\r\n   }\r\n\t\r\n   }\r\n\r\n```\r\n\r\nEventRenderGUI:\r\n```\r\npackage sonikhack.events.listerners;\r\n\r\nimport sonikhack.events.Event;\r\n\r\npublic class EventRenderGUI extends Event&lt;EventRenderGUI&gt; {\r\n\r\n}\r\n```\r\nEventKey:\r\n```\r\npackage sonikhack.events.listerners;\r\n\r\nimport sonikhack.events.Event;\r\n\r\npublic class EventKey extends Event&lt;EventKey&gt; {\r\n\t\r\n\tpublic int code;\r\n\t\r\n\tpublic EventKey(int code) {\r\n\t\tthis.code = code;\r\n\t}\r\n\r\n\tpublic int getCode() {\r\n\t\treturn code;\r\n\t}\r\n\r\n\tpublic void setCode(int code) {\r\n\t\tthis.code = code;\r\n\t}\r\n}\r\n```","title":"my tabgui is not working im pressing up and down but still nothing?","body":"<p>I'm pressing the down key and up key and its not doing anything.</p>\n<p>Video: <a href=\"https://www.youtube.com/watch?v=8F9KuHkb5_U&amp;t=1384s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=8F9KuHkb5_U&amp;t=1384s</a></p>\n<p>Code:</p>\n<pre><code>package sonikhack.render;\n\npublic class TabGUI extends Module{\n    \n    public int currentTab, moduleIndex;\n    public boolean expanded;\n    \n    public TabGUI() {\n        super(&quot;TabGUI&quot;, Keyboard.KEY_NONE, Category.RENDER);\n        toggled = true;\n    }\n    \n   public void onEvent(Event e) {\n       if(e instanceof EventRenderGUI) {\n           FontRenderer fr = mc.fontRendererObj;\n           \n           Gui.drawRect(5, 30.5, 70, 30 + Module.Category.values().length * 16 + 1.5, 0x90000000);\n           Gui.drawRect(7, 33 + currentTab * 16, 7 + 61, 33 + currentTab * 16 + 12, 0xff0099ff);\n           \n           int count = 0;\n           for(Category c : Module.Category.values()) {\n               fr.drawStringWithShadow(c.name, 11, 35 + count*16, -1);\n               \n               count++;\n           }\n           \n           List&lt;Module&gt; modules = Client.getModulesByCategory(Module.Category.values()[currentTab]);\n           \n           Gui.drawRect(70, 30.5, 70 + 70, 30 + modules.size() * 16 + 4, 0x90000000);\n           Gui.drawRect(72, 33 + moduleIndex * 16, 57 + 70, 33 + moduleIndex * 16 + 12, 0xff0099ff);\n           \n           count = 0;\n           for(Module m : modules) {\n               fr.drawStringWithShadow(m.name, 73, 36 + count*16, -1);\n               \n               count++;\n           }\n           \n           if(e instanceof EventKey) {\n               int code = ((EventKey)e).code;\n               \n               if(code == Keyboard.KEY_UP) {\n                   if(currentTab &lt;= 0) {\n                       currentTab = Module.Category.values().length - 1;\n                   }else\n                       currentTab--;\n               }\n               \n               if(code == Keyboard.KEY_DOWN) {\n                 if(currentTab &gt;= Module.Category.values().length - 1) {\n                       currentTab = 0;\n                   }else         \n                       currentTab++;\n               }\n       }\n   }\n    \n   }\n\n</code></pre>\n<p>EventRenderGUI:</p>\n<pre><code>package sonikhack.events.listerners;\n\nimport sonikhack.events.Event;\n\npublic class EventRenderGUI extends Event&lt;EventRenderGUI&gt; {\n\n}\n</code></pre>\n<p>EventKey:</p>\n<pre><code>package sonikhack.events.listerners;\n\nimport sonikhack.events.Event;\n\npublic class EventKey extends Event&lt;EventKey&gt; {\n    \n    public int code;\n    \n    public EventKey(int code) {\n        this.code = code;\n    }\n\n    public int getCode() {\n        return code;\n    }\n\n    public void setCode(int code) {\n        this.code = code;\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft"],"owner":{"account_id":22836335,"reputation":13,"user_id":16984062,"display_name":"Johan Grip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1646542879,"creation_date":1644967449,"question_id":71134645,"body_markdown":"So I am writing a minecraft hacked client for ANARCHY use only. Anyways I am writing a kill aura for it and it works fine until you attack an entity and after that entity is killed it will crash the game for attacking a &quot;Invalid Entity&quot; I know why this is happening, The entity is set to null after it is dead but &#205; do not know how to fix this so could someone please help me, Thanks!\r\n\r\nHere is my code:\r\n```java\r\npublic static void attackEntity(Entity entity)\r\n\t{\r\n\t\tif(!entity.isDead &amp;&amp; entity.isEntityAlive() &amp;&amp; Minecraft.getMinecraft().player.getDistanceToEntity(entity) &lt; 5 &amp;&amp; entity != Minecraft.getMinecraft().player) {\r\n\t\t\tMinecraft.getMinecraft().playerController.attackEntity(Minecraft.getMinecraft().player, entity);\r\n\t\t\tMinecraft.getMinecraft().player.swingArm(EnumHand.MAIN_HAND);\r\n\t\t}\r\n\t}\r\n\t\r\n\tTimer time = new Timer();\r\n\tpublic void onEvent(Event e) {\r\n\t\tif(e instanceof EventUpdate) {\r\n\t\t\tif(e.isPre()) {\r\n\t\t\t\tif(time.hasReached(500)) {\r\n\t\t\t\t\tList&lt;Entity&gt; targets = mc.world.loadedEntityList;\r\n\t\t\t\t\tEntity target = null;\r\n\t\t\t\t\tfloat x=0;\r\n\t\t\t\t\tfor(Entity cC : targets) {\r\n\t\t\t\t\t\tif(mc.player.getDistanceToEntity(cC) &gt; x &amp;&amp; x != 0.0) {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\t\r\n\t\t\t\t\t\t\tx = mc.player.getDistanceToEntity(cC);\r\n\t\t\t\t\t\t\ttarget = cC;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (target != null &amp;&amp; !target.isDead &amp;&amp; mc.player.getDistanceToEntity(target) &lt; 5 &amp;&amp; target.isEntityAlive()) {\r\n\t\t\t\t\t\t//mc.player.attackEntityAsMob(target);\r\n\t\t\t\t\t\tattackEntity(target);\r\n\t\t\t\t\t\ttime.reset();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"My kill aura(Anarchy) is crashing my minecraft 1.12.2 mod","body":"<p>So I am writing a minecraft hacked client for ANARCHY use only. Anyways I am writing a kill aura for it and it works fine until you attack an entity and after that entity is killed it will crash the game for attacking a &quot;Invalid Entity&quot; I know why this is happening, The entity is set to null after it is dead but Í do not know how to fix this so could someone please help me, Thanks!</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void attackEntity(Entity entity)\n    {\n        if(!entity.isDead &amp;&amp; entity.isEntityAlive() &amp;&amp; Minecraft.getMinecraft().player.getDistanceToEntity(entity) &lt; 5 &amp;&amp; entity != Minecraft.getMinecraft().player) {\n            Minecraft.getMinecraft().playerController.attackEntity(Minecraft.getMinecraft().player, entity);\n            Minecraft.getMinecraft().player.swingArm(EnumHand.MAIN_HAND);\n        }\n    }\n    \n    Timer time = new Timer();\n    public void onEvent(Event e) {\n        if(e instanceof EventUpdate) {\n            if(e.isPre()) {\n                if(time.hasReached(500)) {\n                    List&lt;Entity&gt; targets = mc.world.loadedEntityList;\n                    Entity target = null;\n                    float x=0;\n                    for(Entity cC : targets) {\n                        if(mc.player.getDistanceToEntity(cC) &gt; x &amp;&amp; x != 0.0) {\n                        }\n                        else {  \n                            x = mc.player.getDistanceToEntity(cC);\n                            target = cC;\n                        }\n                    }\n                    if (target != null &amp;&amp; !target.isDead &amp;&amp; mc.player.getDistanceToEntity(target) &lt; 5 &amp;&amp; target.isEntityAlive()) {\n                        //mc.player.attackEntityAsMob(target);\n                        attackEntity(target);\n                        time.reset();\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23045947,"reputation":25,"user_id":17163507,"display_name":"John"},"score":0,"creation_date":1646529374,"post_id":71367029,"comment_id":126145947,"body_markdown":"It seems to be happening when a special character is used right before the number","body":"It seems to be happening when a special character is used right before the number"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646533075,"post_id":71367029,"comment_id":126146290,"body_markdown":"Why would `9` convert to `9`?","body":"Why would <code>9</code> convert to <code>9</code>?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646534365,"post_id":71367029,"comment_id":126146390,"body_markdown":"Your maths is off, but it&#39;s probably off because the oddities with the how characters are represented in ASCII.  Any shift over `10` is going to require you to do more work to reduce bring the value back into range (allowed range should be 0-9).  A different approach would be to create a `List` of values from `0` - `9` and then use `Collections.rotate` to rotate the values based on the `rotationFactor % 10` (for the digits)","body":"Your maths is off, but it&#39;s probably off because the oddities with the how characters are represented in ASCII.  Any shift over <code>10</code> is going to require you to do more work to reduce bring the value back into range (allowed range should be 0-9).  A different approach would be to create a <code>List</code> of values from <code>0</code> - <code>9</code> and then use <code>Collections.rotate</code> to rotate the values based on the <code>rotationFactor % 10</code> (for the digits)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646534420,"post_id":71367029,"comment_id":126146395,"body_markdown":"Now assuming you can&#39;t use `Collections` or `List` for a second, you could then look at something like [How to Left or Right rotate an Array in Java?](https://www.geeksforgeeks.org/how-to-left-or-right-rotate-an-array-in-java/#:~:text=To%20rotate%20by%20one%2C%20store%20arr%5BN%5D%20in%20a,temp%20to%20arr%5B1%5D.&amp;text=We%20get%20%5B5%2C%201%2C,%2C%203%5D%20after%20second%20rotation.)","body":"Now assuming you can&#39;t use <code>Collections</code> or <code>List</code> for a second, you could then look at something like <a href=\"https://www.geeksforgeeks.org/how-to-left-or-right-rotate-an-array-in-java/#:~:text=To%20rotate%20by%20one%2C%20store%20arr%5BN%5D%20in%20a,temp%20to%20arr%5B1%5D.&amp;text=We%20get%20%5B5%2C%201%2C,%2C%203%5D%20after%20second%20rotation.\" rel=\"nofollow noreferrer\">How to Left or Right rotate an Array in Java?</a>"},{"owner":{"account_id":23045947,"reputation":25,"user_id":17163507,"display_name":"John"},"score":0,"creation_date":1646539451,"post_id":71367029,"comment_id":126146899,"body_markdown":"I see, I will definitely look into the Collections and List way of doing it. However, right now I am just practicing a &quot;brute&quot; force method.","body":"I see, I will definitely look into the Collections and List way of doing it. However, right now I am just practicing a &quot;brute&quot; force method."},{"owner":{"account_id":23045947,"reputation":25,"user_id":17163507,"display_name":"John"},"score":0,"creation_date":1646539684,"post_id":71367029,"comment_id":126146931,"body_markdown":"Also, if the shift is 200 then it should shift, 2 places forward. so 1.","body":"Also, if the shift is 200 then it should shift, 2 places forward. so 1."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646540933,"creation_date":1646540131,"answer_id":71367634,"question_id":71367029,"body_markdown":"Check your maths\r\n\r\n    200 % 26 = 18 (shift)\r\n    &#39;9&#39; + 18 = 57 + 18 = 75 (&#39;K&#39;)\r\n    75 + &#39;0&#39; = 75 + 48 = 123 (&#39;{&#39;)\r\n    123 - &#39;9&#39; = 123 - 57 = 66 (&#39;B&#39;)\r\n    66 - 1 = 65 (&#39;A&#39;)\r\n\r\nNow, the problem is, between &#39;9&#39; and &#39;A&#39; there are 7 other characters, so `character = (char) (character + (&#39;0&#39; - &#39;9&#39;) - 1);` would have to become `character = (char) (character + (&#39;0&#39; - &#39;9&#39;) - 9);` to shift `9` back to `9`, but that would screw up you other test case\r\n\r\nI don&#39;t think ASCII manipulation is the way to go here, as there are characters in-between the digits and the upper and lower cased characters which are going to mess things up as the rotation increases.\r\n\r\nIn fact, for the digits, you really want to rotate using a `factor % 10` instead.\r\n\r\nA different approach would be to generate a list of characters and apply a shift to those instead.  Now if I was doing this, I&#39;d use `List` and `Collections`, but lets assume you can&#39;t do that for second, instead, we&#39;re going to need to apply a shift to an array, for example...\r\n\r\n    public String[] rotate(String[] original, int offset) {\r\n        if (offset &gt;= 0) {\r\n            return positiveRotate(original, offset);\r\n        }\r\n\r\n        return negativeRotate(original, Math.abs(offset));\r\n    }\r\n\r\n    public String[] positiveRotate(String[] original, int offset) {\r\n        String[] results = new String[original.length];\r\n        int count = original.length - offset;\r\n        System.arraycopy(original, count, results, 0, offset);\r\n        System.arraycopy(original, 0, results, offset, count);\r\n        return results;\r\n    }\r\n\r\n    public String[] negativeRotate(String[] original, int offset) {\r\n        String[] results = new String[original.length];\r\n        System.arraycopy(original, offset, results, 0, original.length - offset);\r\n        System.arraycopy(original, 0, results, original.length - offset, offset);\r\n        return results;\r\n    }\r\n\r\nNow, this has two different methods, one of a &quot;positive&quot; (or &quot;right&quot; shift) and one for a &quot;negative&quot; (or &quot;left&quot; shift).  During testing, I found that the you want to &quot;left shift&quot; the array.\r\n\r\nNext, we need what we want to shift over...\r\n\r\n    private String[] digits = &quot;0123456789&quot;.split(&quot;&quot;);\r\n    private String[] characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.split(&quot;&quot;);\r\n\r\nI&#39;ve cheated here, you may need to create the array by long hand, but I can&#39;t be bothered typing it out.\r\n\r\n----------\r\n\r\n***Please note***\r\n\r\n1. I&#39;m using a `String` array instead of a `char` array, not hard to change, but I&#39;m been lazy\r\n2. You could actually do this on the `String` directly, using things like `contains` and `split` to perform the shifting\r\n\r\n----------\r\n\r\nAnd then the rotational cipher might look something like...\r\n\r\n\r\n    public String rotationalCipher(String input, int rotationFactor) {\r\n        int shift = rotationFactor % 26;\r\n\r\n        String[] shiftedDigits = rotate(digits, -(rotationFactor % 10));\r\n        String[] shiftCharacters = rotate(characters, -(rotationFactor % 26));\r\n\r\n        StringBuilder output = new StringBuilder();\r\n        for (char character : input.toCharArray()) {\r\n\r\n            String value = Character.toString(character);\r\n            int index = 0;\r\n            if ((index = indexOf(value, digits)) &gt; -1) {\r\n                output.append(shiftedDigits[index]);\r\n            } else if ((index = indexOf(value, characters)) &gt; -1) {\r\n                output.append(shiftCharacters[index]);\r\n            } else if ((index = indexOf(value.toUpperCase(), characters)) &gt; -1) {\r\n                output.append(shiftCharacters[index].toLowerCase());\r\n            } else {\r\n                output.append(value);\r\n            }\r\n        }\r\n        return output.toString();\r\n    }\r\n\r\n    protected int indexOf(String value, String[] array) {\r\n        for (int index = 0; index &lt; array.length; index++) {\r\n            if (array[index].equals(value)) {\r\n                return index;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\nThen you could just execute it something like...\r\n\r\n    System.out.println(&quot; --&gt; All-convoYs-9-be:Alert1.&quot;);\r\n    System.out.println(&quot; Got &quot; + rotationalCipher(&quot;All-convoYs-9-be:Alert1.&quot;, 4));\r\n    System.out.println(&quot;Want Epp-gsrzsCw-3-fi:Epivx5.&quot;);\r\n    System.out.println(&quot;&quot;);\r\n    System.out.println(&quot; --&gt; abcdZXYzxy-999.@&quot;);\r\n    System.out.println(&quot; Got &quot; + rotationalCipher(&quot;abcdZXYzxy-999.@&quot;, 200));\r\n    System.out.println(&quot;Want stuvRPQrpq-999.@&quot;);\r\n\r\nWhich outputs\r\n\r\n     --&gt; All-convoYs-9-be:Alert1.\r\n     Got Epp-gsrzsCw-3-fi:Epivx5.\r\n    Want Epp-gsrzsCw-3-fi:Epivx5.\r\n    \r\n     --&gt; abcdZXYzxy-999.@\r\n     Got stuvRPQrpq-999.@\r\n    Want stuvRPQrpq-999.@\r\n\r\n----------\r\n\r\nAs I said above, you could just use a `String` instead of an array, in which case it might look something more like...\r\n\r\n\r\n    private String digits = &quot;0123456789&quot;;\r\n    private String characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\r\n    public String rotationalCipher(String input, int rotationFactor) {\r\n        int shift = rotationFactor % 26;\r\n\r\n        String shiftedDigits = rotate(digits, -(rotationFactor % 10));\r\n        String shiftCharacters = rotate(characters, -(rotationFactor % 26));\r\n\r\n        StringBuilder output = new StringBuilder();\r\n        for (char character : input.toCharArray()) {\r\n\r\n            String value = Character.toString(character);\r\n            int index = 0;\r\n            if ((index = digits.indexOf(value)) &gt; -1) {\r\n                output.append(shiftedDigits.charAt(index));\r\n            } else if ((index = characters.indexOf(value)) &gt; -1) {\r\n                output.append(shiftCharacters.charAt(index));\r\n            } else if ((index = characters.indexOf(value.toUpperCase())) &gt; -1) {\r\n                output.append(Character.toLowerCase(shiftCharacters.charAt(index)));\r\n            } else {\r\n                output.append(value);\r\n            }\r\n        }\r\n        return output.toString();\r\n    }\r\n\r\n    public String rotate(String original, int offset) {\r\n        if (offset &gt;= 0) {\r\n            return positiveRotate(original, offset);\r\n        }\r\n\r\n        return negativeRotate(original, Math.abs(offset));\r\n    }\r\n\r\n    public String positiveRotate(String original, int offset) {\r\n        String prefix = original.substring(original.length() - offset);\r\n        String sufix = original.substring(0, original.length() - offset);\r\n        return prefix + sufix;\r\n    }\r\n\r\n    public String negativeRotate(String original, int offset) {\r\n        String prefix = original.substring(offset);\r\n        String sufix = original.substring(0, offset);\r\n        return prefix + sufix;\r\n    }\r\n","title":"Caesar Cipher Getting Wrong Output from Input Cases","body":"<p>Check your maths</p>\n<pre><code>200 % 26 = 18 (shift)\n'9' + 18 = 57 + 18 = 75 ('K')\n75 + '0' = 75 + 48 = 123 ('{')\n123 - '9' = 123 - 57 = 66 ('B')\n66 - 1 = 65 ('A')\n</code></pre>\n<p>Now, the problem is, between '9' and 'A' there are 7 other characters, so <code>character = (char) (character + ('0' - '9') - 1);</code> would have to become <code>character = (char) (character + ('0' - '9') - 9);</code> to shift <code>9</code> back to <code>9</code>, but that would screw up you other test case</p>\n<p>I don't think ASCII manipulation is the way to go here, as there are characters in-between the digits and the upper and lower cased characters which are going to mess things up as the rotation increases.</p>\n<p>In fact, for the digits, you really want to rotate using a <code>factor % 10</code> instead.</p>\n<p>A different approach would be to generate a list of characters and apply a shift to those instead.  Now if I was doing this, I'd use <code>List</code> and <code>Collections</code>, but lets assume you can't do that for second, instead, we're going to need to apply a shift to an array, for example...</p>\n<pre><code>public String[] rotate(String[] original, int offset) {\n    if (offset &gt;= 0) {\n        return positiveRotate(original, offset);\n    }\n\n    return negativeRotate(original, Math.abs(offset));\n}\n\npublic String[] positiveRotate(String[] original, int offset) {\n    String[] results = new String[original.length];\n    int count = original.length - offset;\n    System.arraycopy(original, count, results, 0, offset);\n    System.arraycopy(original, 0, results, offset, count);\n    return results;\n}\n\npublic String[] negativeRotate(String[] original, int offset) {\n    String[] results = new String[original.length];\n    System.arraycopy(original, offset, results, 0, original.length - offset);\n    System.arraycopy(original, 0, results, original.length - offset, offset);\n    return results;\n}\n</code></pre>\n<p>Now, this has two different methods, one of a &quot;positive&quot; (or &quot;right&quot; shift) and one for a &quot;negative&quot; (or &quot;left&quot; shift).  During testing, I found that the you want to &quot;left shift&quot; the array.</p>\n<p>Next, we need what we want to shift over...</p>\n<pre><code>private String[] digits = &quot;0123456789&quot;.split(&quot;&quot;);\nprivate String[] characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.split(&quot;&quot;);\n</code></pre>\n<p>I've cheated here, you may need to create the array by long hand, but I can't be bothered typing it out.</p>\n<hr />\n<p><em><strong>Please note</strong></em></p>\n<ol>\n<li>I'm using a <code>String</code> array instead of a <code>char</code> array, not hard to change, but I'm been lazy</li>\n<li>You could actually do this on the <code>String</code> directly, using things like <code>contains</code> and <code>split</code> to perform the shifting</li>\n</ol>\n<hr />\n<p>And then the rotational cipher might look something like...</p>\n<pre><code>public String rotationalCipher(String input, int rotationFactor) {\n    int shift = rotationFactor % 26;\n\n    String[] shiftedDigits = rotate(digits, -(rotationFactor % 10));\n    String[] shiftCharacters = rotate(characters, -(rotationFactor % 26));\n\n    StringBuilder output = new StringBuilder();\n    for (char character : input.toCharArray()) {\n\n        String value = Character.toString(character);\n        int index = 0;\n        if ((index = indexOf(value, digits)) &gt; -1) {\n            output.append(shiftedDigits[index]);\n        } else if ((index = indexOf(value, characters)) &gt; -1) {\n            output.append(shiftCharacters[index]);\n        } else if ((index = indexOf(value.toUpperCase(), characters)) &gt; -1) {\n            output.append(shiftCharacters[index].toLowerCase());\n        } else {\n            output.append(value);\n        }\n    }\n    return output.toString();\n}\n\nprotected int indexOf(String value, String[] array) {\n    for (int index = 0; index &lt; array.length; index++) {\n        if (array[index].equals(value)) {\n            return index;\n        }\n    }\n    return -1;\n}\n</code></pre>\n<p>Then you could just execute it something like...</p>\n<pre><code>System.out.println(&quot; --&gt; All-convoYs-9-be:Alert1.&quot;);\nSystem.out.println(&quot; Got &quot; + rotationalCipher(&quot;All-convoYs-9-be:Alert1.&quot;, 4));\nSystem.out.println(&quot;Want Epp-gsrzsCw-3-fi:Epivx5.&quot;);\nSystem.out.println(&quot;&quot;);\nSystem.out.println(&quot; --&gt; abcdZXYzxy-999.@&quot;);\nSystem.out.println(&quot; Got &quot; + rotationalCipher(&quot;abcdZXYzxy-999.@&quot;, 200));\nSystem.out.println(&quot;Want stuvRPQrpq-999.@&quot;);\n</code></pre>\n<p>Which outputs</p>\n<pre><code> --&gt; All-convoYs-9-be:Alert1.\n Got Epp-gsrzsCw-3-fi:Epivx5.\nWant Epp-gsrzsCw-3-fi:Epivx5.\n\n --&gt; abcdZXYzxy-999.@\n Got stuvRPQrpq-999.@\nWant stuvRPQrpq-999.@\n</code></pre>\n<hr />\n<p>As I said above, you could just use a <code>String</code> instead of an array, in which case it might look something more like...</p>\n<pre><code>private String digits = &quot;0123456789&quot;;\nprivate String characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n\npublic String rotationalCipher(String input, int rotationFactor) {\n    int shift = rotationFactor % 26;\n\n    String shiftedDigits = rotate(digits, -(rotationFactor % 10));\n    String shiftCharacters = rotate(characters, -(rotationFactor % 26));\n\n    StringBuilder output = new StringBuilder();\n    for (char character : input.toCharArray()) {\n\n        String value = Character.toString(character);\n        int index = 0;\n        if ((index = digits.indexOf(value)) &gt; -1) {\n            output.append(shiftedDigits.charAt(index));\n        } else if ((index = characters.indexOf(value)) &gt; -1) {\n            output.append(shiftCharacters.charAt(index));\n        } else if ((index = characters.indexOf(value.toUpperCase())) &gt; -1) {\n            output.append(Character.toLowerCase(shiftCharacters.charAt(index)));\n        } else {\n            output.append(value);\n        }\n    }\n    return output.toString();\n}\n\npublic String rotate(String original, int offset) {\n    if (offset &gt;= 0) {\n        return positiveRotate(original, offset);\n    }\n\n    return negativeRotate(original, Math.abs(offset));\n}\n\npublic String positiveRotate(String original, int offset) {\n    String prefix = original.substring(original.length() - offset);\n    String sufix = original.substring(0, original.length() - offset);\n    return prefix + sufix;\n}\n\npublic String negativeRotate(String original, int offset) {\n    String prefix = original.substring(offset);\n    String sufix = original.substring(0, offset);\n    return prefix + sufix;\n}\n</code></pre>\n"}],"owner":{"account_id":23045947,"reputation":25,"user_id":17163507,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71367634,"answer_count":1,"score":0,"last_activity_date":1646540933,"creation_date":1646529014,"question_id":71367029,"body_markdown":"I am using StringBuilder to change a String input and shift it depending on input. This is for the META coding practice website and I am running into an issue with their two Test cases. One is passing and the other is not. \r\n\r\nThe expected output is `stuvRPQrpq-999.@`and the input is `abcdZXYzxy-999.@` with a shift of `200`.\r\n\r\nHere is my code \r\n\r\n    String rotationalCipher(String input, int rotationFactor) {\r\n    // Write your code here\r\n    int shift = rotationFactor % 26;\r\n    StringBuilder output = new StringBuilder();\r\n    for (char character : input.toCharArray()) {\r\n      if (character &gt;= &#39;a&#39; &amp;&amp; character &lt;= &#39;z&#39;) {\r\n        character = (char) (character + shift);\r\n        if (character &gt; &#39;z&#39;) {\r\n          character = (char) (character + &#39;a&#39; - &#39;z&#39; - 1);\r\n        }\r\n        output.append(character);\r\n      } else if (character &gt;= &#39;A&#39; &amp;&amp; character &lt;= &#39;Z&#39;) {\r\n        character = (char) (character + shift);\r\n        if (character &gt; &#39;Z&#39;) {\r\n          character = (char) (character + &#39;A&#39; - &#39;Z&#39; - 1);\r\n        }\r\n        output.append(character);\r\n      } else if (character &gt;= &#39;0&#39; &amp;&amp; character &lt;= &#39;9&#39;) {\r\n        character = (char) (character + shift);\r\n        if (character &gt; &#39;9&#39;) {\r\n          character = (char) (character + &#39;0&#39; - &#39;9&#39; - 1);\r\n        }\r\n        output.append(character);\r\n      } else {\r\n        output.append(character);\r\n      }\r\n    }\r\n    return output.toString();\r\n  }\r\n\r\nMy issue is that I am somehow outputting `AAA` instead of `999` as far as I can tell from tracing my algo seems solid. I looked through JAVA docs StringBuilder page to see if there was any issue with how I was using it. As far as I can tell it should be good to go. \r\n\r\nCould anyone lend me an idea of why my output is the way it is? \r\n\r\nHere is the test cases code: \r\n\r\n    String input_1 = &quot;All-convoYs-9-be:Alert1.&quot;;\r\n    int rotationFactor_1 = 4;\r\n    String expected_1 = &quot;Epp-gsrzsCw-3-fi:Epivx5.&quot;;\r\n    String output_1 = rotationalCipher(input_1, rotationFactor_1);\r\n    check(expected_1, output_1);\r\n\r\n    String input_2 = &quot;abcdZXYzxy-999.@&quot;;\r\n    int rotationFactor_2 = 200;\r\n    String expected_2 = &quot;stuvRPQrpq-999.@&quot;;\r\n    String output_2 = rotationalCipher(input_2, rotationFactor_2);\r\n    check(expected_2, output_2);","title":"Caesar Cipher Getting Wrong Output from Input Cases","body":"<p>I am using StringBuilder to change a String input and shift it depending on input. This is for the META coding practice website and I am running into an issue with their two Test cases. One is passing and the other is not.</p>\n<p>The expected output is <code>stuvRPQrpq-999.@</code>and the input is <code>abcdZXYzxy-999.@</code> with a shift of <code>200</code>.</p>\n<p>Here is my code</p>\n<pre><code>String rotationalCipher(String input, int rotationFactor) {\n// Write your code here\nint shift = rotationFactor % 26;\nStringBuilder output = new StringBuilder();\nfor (char character : input.toCharArray()) {\n  if (character &gt;= 'a' &amp;&amp; character &lt;= 'z') {\n    character = (char) (character + shift);\n    if (character &gt; 'z') {\n      character = (char) (character + 'a' - 'z' - 1);\n    }\n    output.append(character);\n  } else if (character &gt;= 'A' &amp;&amp; character &lt;= 'Z') {\n    character = (char) (character + shift);\n    if (character &gt; 'Z') {\n      character = (char) (character + 'A' - 'Z' - 1);\n    }\n    output.append(character);\n  } else if (character &gt;= '0' &amp;&amp; character &lt;= '9') {\n    character = (char) (character + shift);\n    if (character &gt; '9') {\n      character = (char) (character + '0' - '9' - 1);\n    }\n    output.append(character);\n  } else {\n    output.append(character);\n  }\n}\nreturn output.toString();\n</code></pre>\n<p>}</p>\n<p>My issue is that I am somehow outputting <code>AAA</code> instead of <code>999</code> as far as I can tell from tracing my algo seems solid. I looked through JAVA docs StringBuilder page to see if there was any issue with how I was using it. As far as I can tell it should be good to go.</p>\n<p>Could anyone lend me an idea of why my output is the way it is?</p>\n<p>Here is the test cases code:</p>\n<pre><code>String input_1 = &quot;All-convoYs-9-be:Alert1.&quot;;\nint rotationFactor_1 = 4;\nString expected_1 = &quot;Epp-gsrzsCw-3-fi:Epivx5.&quot;;\nString output_1 = rotationalCipher(input_1, rotationFactor_1);\ncheck(expected_1, output_1);\n\nString input_2 = &quot;abcdZXYzxy-999.@&quot;;\nint rotationFactor_2 = 200;\nString expected_2 = &quot;stuvRPQrpq-999.@&quot;;\nString output_2 = rotationalCipher(input_2, rotationFactor_2);\ncheck(expected_2, output_2);\n</code></pre>\n"},{"tags":["java","string","if-statement","applet","simplify"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1646540960,"post_id":71367644,"comment_id":126147045,"body_markdown":"Do you know how to write a `for` loop? Start there. And then find a way to do what you want without using an Applet because Applets have been unsupported and therefore obsolete for years.","body":"Do you know how to write a <code>for</code> loop? Start there. And then find a way to do what you want without using an Applet because Applets have been unsupported and therefore obsolete for years."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646545618,"post_id":71367644,"comment_id":126147597,"body_markdown":"I don&#39;t know where `mouseDown` is being called from, but if it&#39;s an event handler you shouldn&#39;t be calling `sleep` on that thread.","body":"I don&#39;t know where <code>mouseDown</code> is being called from, but if it&#39;s an event handler you shouldn&#39;t be calling <code>sleep</code> on that thread."}],"owner":{"account_id":24149695,"reputation":9,"user_id":18114738,"display_name":"mobpsycho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646540323,"creation_date":1646540323,"question_id":71367644,"body_markdown":"This line of code is literally just a 10 to 1 countdown using applets in java and I was just wondering if there is a much simpler way to write this instead of writing the same code structure 10 times over. After the text is displayed, a delay is also taken place.\r\n  \r\n       public void mouseDown (int x, int y){\r\n           Graphics g = getScreenBuffer(); \r\n           g.setColor(Color.red);\r\n           g.drawRect(250, 610, 200, 60);\r\n           g.setColor(Color.white);\r\n           String txt = &quot;BLAST OFF&quot;;\r\n           \r\n           if (250&lt;=x &amp;&amp; x&lt;=450 &amp;&amp; 610&lt;=y &amp;&amp; y&lt;=670) {\r\n    \r\n            \r\n           g.drawString(txt, 325, 645);\r\n           String count1 = &quot;10&quot;;\r\n           g.drawString(count1, 50, 50);\r\n           repaint();\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(Exercise43.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            String count2 = &quot;9&quot;;\r\n            g.drawString(count2, 50, 100); \r\n           repaint();\r\n           try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(Exercise43.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            String count3 = &quot;8&quot;;\r\n            g.drawString(count3, 50, 150); \r\n           repaint();\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException ex) {\r\n              \r\n            }\r\n           System.exit(0);\r\n       }\r\n    }\r\n    }\r\n     ","title":"Is there a way to simply this line of code?","body":"<p>This line of code is literally just a 10 to 1 countdown using applets in java and I was just wondering if there is a much simpler way to write this instead of writing the same code structure 10 times over. After the text is displayed, a delay is also taken place.</p>\n<pre><code>   public void mouseDown (int x, int y){\n       Graphics g = getScreenBuffer(); \n       g.setColor(Color.red);\n       g.drawRect(250, 610, 200, 60);\n       g.setColor(Color.white);\n       String txt = &quot;BLAST OFF&quot;;\n       \n       if (250&lt;=x &amp;&amp; x&lt;=450 &amp;&amp; 610&lt;=y &amp;&amp; y&lt;=670) {\n\n        \n       g.drawString(txt, 325, 645);\n       String count1 = &quot;10&quot;;\n       g.drawString(count1, 50, 50);\n       repaint();\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException ex) {\n            Logger.getLogger(Exercise43.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        String count2 = &quot;9&quot;;\n        g.drawString(count2, 50, 100); \n       repaint();\n       try {\n            Thread.sleep(1000);\n        } catch (InterruptedException ex) {\n            Logger.getLogger(Exercise43.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        String count3 = &quot;8&quot;;\n        g.drawString(count3, 50, 150); \n       repaint();\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException ex) {\n          \n        }\n       System.exit(0);\n   }\n}\n}\n \n</code></pre>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1721029,"reputation":2684,"user_id":1576874,"accept_rate":28,"display_name":"mac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454825252,"creation_date":1454825252,"answer_id":35250326,"question_id":35054870,"body_markdown":"I wasn&#39;t able to figure out a solution via config file alone, but I found one that solves the problem programmatically.\r\n\r\nNote that in our specific case, we always log to a &quot;local log&quot; (&quot;splunk local&quot;), but in given cases (controlled by the property), we also want to log the same information to another location (that is not relative) and is periodically read and forwarded to a splunk server (&quot;splunk forwarder&quot;).\r\n\r\nAnd that&#39;s why we can copy most of the properties from one logger to the other.\r\n\r\n    private static final Logger SPLUNK_LOG = getLogger();\r\n\r\n    private static Logger getLogger() {\r\n        if (!BooleanUtils.toBoolean(SystemUtils.getJavaPropertyValue(ENABLE_PROPERTY_NAME, &quot;false&quot;))) {\r\n            return LoggerFactory.getLogger(SPLUNK_LOG_NAME);\r\n        } else {\r\n            LOG.info(&quot;Dynamically adding splunk forwarder appender&quot;);\r\n            try {\r\n                final LoggerContext loggerContext = (LoggerContext) LogManager.getContext();\r\n                final Configuration configuration = loggerContext.getConfiguration();\r\n\r\n                // configure appender based on local splunk appender\r\n                final RollingFileAppender splunkLocal = (RollingFileAppender) configuration.getAppender(LOCAL_LOG_NAME);\r\n                final RollingFileAppender splunkForwarder = RollingFileAppender.createAppender(FORWARDER_FILE_NAME,\r\n                        FORWARDER_FILE_PATTERN, FORWARDER_APPEND, FORWARDER_NAME, null, null, null,\r\n                        splunkLocal.getManager().getTriggeringPolicy(), splunkLocal.getManager().getRolloverStrategy(),\r\n                        splunkLocal.getLayout(), splunkLocal.getFilter(), null, FORWARDER_ADVERTISE, null, null);\r\n                splunkForwarder.start();\r\n\r\n                // add splunk forwarder appender to splunk logger\r\n                final LoggerConfig loggerConfig = configuration.getLoggerConfig(SPLUNK_LOG_NAME);\r\n                loggerConfig.addAppender(splunkForwarder, Level.INFO, null);\r\n\r\n                LOG.info(&quot;Successfully added splunk forwarder appender&quot;);\r\n                return loggerContext.getLogger(SPLUNK_LOG_NAME);\r\n            } catch (Exception ex) {\r\n                throw new IllegalStateException(&quot;Failed to dynamically add splunk forwarder appender&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nIf anyone knows how to do this via config file alone, that would be great.","title":"How do I conditionally add log4j2 appender depending on java system property?","body":"<p>I wasn't able to figure out a solution via config file alone, but I found one that solves the problem programmatically.</p>\n\n<p>Note that in our specific case, we always log to a \"local log\" (\"splunk local\"), but in given cases (controlled by the property), we also want to log the same information to another location (that is not relative) and is periodically read and forwarded to a splunk server (\"splunk forwarder\").</p>\n\n<p>And that's why we can copy most of the properties from one logger to the other.</p>\n\n<pre><code>private static final Logger SPLUNK_LOG = getLogger();\n\nprivate static Logger getLogger() {\n    if (!BooleanUtils.toBoolean(SystemUtils.getJavaPropertyValue(ENABLE_PROPERTY_NAME, \"false\"))) {\n        return LoggerFactory.getLogger(SPLUNK_LOG_NAME);\n    } else {\n        LOG.info(\"Dynamically adding splunk forwarder appender\");\n        try {\n            final LoggerContext loggerContext = (LoggerContext) LogManager.getContext();\n            final Configuration configuration = loggerContext.getConfiguration();\n\n            // configure appender based on local splunk appender\n            final RollingFileAppender splunkLocal = (RollingFileAppender) configuration.getAppender(LOCAL_LOG_NAME);\n            final RollingFileAppender splunkForwarder = RollingFileAppender.createAppender(FORWARDER_FILE_NAME,\n                    FORWARDER_FILE_PATTERN, FORWARDER_APPEND, FORWARDER_NAME, null, null, null,\n                    splunkLocal.getManager().getTriggeringPolicy(), splunkLocal.getManager().getRolloverStrategy(),\n                    splunkLocal.getLayout(), splunkLocal.getFilter(), null, FORWARDER_ADVERTISE, null, null);\n            splunkForwarder.start();\n\n            // add splunk forwarder appender to splunk logger\n            final LoggerConfig loggerConfig = configuration.getLoggerConfig(SPLUNK_LOG_NAME);\n            loggerConfig.addAppender(splunkForwarder, Level.INFO, null);\n\n            LOG.info(\"Successfully added splunk forwarder appender\");\n            return loggerContext.getLogger(SPLUNK_LOG_NAME);\n        } catch (Exception ex) {\n            throw new IllegalStateException(\"Failed to dynamically add splunk forwarder appender\", ex);\n        }\n    }\n}\n</code></pre>\n\n<p>If anyone knows how to do this via config file alone, that would be great.</p>\n"},{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454828205,"creation_date":1454828205,"answer_id":35250670,"question_id":35054870,"body_markdown":"The way this is intended to be handled is by using a filter. In this case you can use a Script filter.\r\n\r\n    &lt;Logger name=&quot;myLogger&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;myAppender1&quot; /&gt;\r\n      &lt;AppenderRef ref=&quot;myAppender2&quot;&gt;\r\n         &lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMisMatch=&quot;DENY&quot;&gt;\r\n          &lt;Script language=&quot;groovy&quot;&gt;&lt;![CDATA[\r\n             return System.getProperty(&quot;enableAppender2&quot;, &quot;false&quot;).equalsIgnoreCase(&quot;true&quot;);\r\n          ]]&gt;&lt;/Script&gt;\r\n        &lt;/ScriptFilter&gt;\r\n      &lt;/AppenderRef&gt;\r\n    &lt;/Logger&gt;","title":"How do I conditionally add log4j2 appender depending on java system property?","body":"<p>The way this is intended to be handled is by using a filter. In this case you can use a Script filter.</p>\n\n<pre><code>&lt;Logger name=\"myLogger\" level=\"info\" additivity=\"false\"&gt;\n  &lt;AppenderRef ref=\"myAppender1\" /&gt;\n  &lt;AppenderRef ref=\"myAppender2\"&gt;\n     &lt;ScriptFilter onMatch=\"ACCEPT\" onMisMatch=\"DENY\"&gt;\n      &lt;Script language=\"groovy\"&gt;&lt;![CDATA[\n         return System.getProperty(\"enableAppender2\", \"false\").equalsIgnoreCase(\"true\");\n      ]]&gt;&lt;/Script&gt;\n    &lt;/ScriptFilter&gt;\n  &lt;/AppenderRef&gt;\n&lt;/Logger&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244708,"reputation":73,"user_id":9466317,"display_name":"R&#243;bert Komorovsk&#253;"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520584650,"creation_date":1520584650,"answer_id":49189612,"question_id":35054870,"body_markdown":"Similar to [rgoers][1] solution but using [tag:nashorn] instead of [tag:groovy]. This solution benefits from fact that Nashorn engine is part of \r\nJava 8 so there is no additional dependencies needed.\r\n\r\n    &lt;Scripts&gt;\r\n      &lt;Script name=&quot;isAppender2Enabled&quot; language=&quot;nashorn&quot;&gt;&lt;![CDATA[\r\n        var System = Java.type(&#39;java.lang.System&#39;),\r\n            Boolean = Java.type(&#39;java.lang.Boolean&#39;);\r\n        Boolean.parseBoolean(System.getProperty(&#39;enableAppender2&#39;, &#39;false&#39;));\r\n      ]]&gt;&lt;/Script&gt;\r\n    &lt;/Scripts&gt;\r\n\r\n    &lt;Loggers&gt;\r\n      &lt;Logger name=&quot;myLogger&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;AppenderRef ref=&quot;myAppender1&quot; /&gt;\r\n        &lt;AppenderRef ref=&quot;myAppender2&quot;&gt;\r\n          &lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMisMatch=&quot;DENY&quot;&gt;\r\n            &lt;ScriptRef ref=&quot;isAppender2Enabled&quot; /&gt;\r\n          &lt;/ScriptFilter&gt;\r\n        &lt;/AppenderRef&gt;\r\n      &lt;/Logger&gt;\r\n    &lt;/Loggers&gt;\r\n\r\nNote that `ScriptFilter` is evaluating the script every time when Log4j event occurs.  Therefore it is possible to enable/disable the appender on the run time (by changing the value of the system property) with immediate effect. On the other hand, script evaluation can have negative impact on logging performance.\r\n\r\n  [1]: https://stackoverflow.com/users/1709216/rgoers","title":"How do I conditionally add log4j2 appender depending on java system property?","body":"<p>Similar to <a href=\"https://stackoverflow.com/users/1709216/rgoers\">rgoers</a> solution but using <a href=\"/questions/tagged/nashorn\" class=\"post-tag\" title=\"show questions tagged &#39;nashorn&#39;\" rel=\"tag\">nashorn</a> instead of <a href=\"/questions/tagged/groovy\" class=\"post-tag\" title=\"show questions tagged &#39;groovy&#39;\" rel=\"tag\">groovy</a>. This solution benefits from fact that Nashorn engine is part of \nJava 8 so there is no additional dependencies needed.</p>\n\n<pre><code>&lt;Scripts&gt;\n  &lt;Script name=\"isAppender2Enabled\" language=\"nashorn\"&gt;&lt;![CDATA[\n    var System = Java.type('java.lang.System'),\n        Boolean = Java.type('java.lang.Boolean');\n    Boolean.parseBoolean(System.getProperty('enableAppender2', 'false'));\n  ]]&gt;&lt;/Script&gt;\n&lt;/Scripts&gt;\n\n&lt;Loggers&gt;\n  &lt;Logger name=\"myLogger\" level=\"info\" additivity=\"false\"&gt;\n    &lt;AppenderRef ref=\"myAppender1\" /&gt;\n    &lt;AppenderRef ref=\"myAppender2\"&gt;\n      &lt;ScriptFilter onMatch=\"ACCEPT\" onMisMatch=\"DENY\"&gt;\n        &lt;ScriptRef ref=\"isAppender2Enabled\" /&gt;\n      &lt;/ScriptFilter&gt;\n    &lt;/AppenderRef&gt;\n  &lt;/Logger&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p>Note that <code>ScriptFilter</code> is evaluating the script every time when Log4j event occurs.  Therefore it is possible to enable/disable the appender on the run time (by changing the value of the system property) with immediate effect. On the other hand, script evaluation can have negative impact on logging performance.</p>\n"},{"tags":[],"owner":{"account_id":484335,"reputation":2897,"user_id":899937,"display_name":"sap1ens"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1563939664,"creation_date":1563939664,"answer_id":57174905,"question_id":35054870,"body_markdown":"Solution without any scripting:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;error&quot; strict=&quot;true&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;appenderToUse&quot;&gt;stdout_${sys:LOG4J_LAYOUT:-plain}&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n\r\n        &lt;Appenders&gt;\r\n            &lt;Appender type=&quot;Console&quot; name=&quot;stdout_plain&quot;&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;%d [%t] %-5p %c - %m%n&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n\r\n            &lt;Appender type=&quot;Console&quot; name=&quot;stdout_json&quot;&gt;\r\n                &lt;Layout type=&quot;JSONLayout&quot; compact=&quot;true&quot; eventEol=&quot;true&quot; stacktraceAsString=&quot;true&quot; properties=&quot;true&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n        &lt;/Appenders&gt;\r\n\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;${appenderToUse}&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;","title":"How do I conditionally add log4j2 appender depending on java system property?","body":"<p>Solution without any scripting:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"error\" strict=\"true\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"appenderToUse\"&gt;stdout_${sys:LOG4J_LAYOUT:-plain}&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;Appender type=\"Console\" name=\"stdout_plain\"&gt;\n            &lt;Layout type=\"PatternLayout\" pattern=\"%d [%t] %-5p %c - %m%n\"/&gt;\n        &lt;/Appender&gt;\n\n        &lt;Appender type=\"Console\" name=\"stdout_json\"&gt;\n            &lt;Layout type=\"JSONLayout\" compact=\"true\" eventEol=\"true\" stacktraceAsString=\"true\" properties=\"true\"/&gt;\n        &lt;/Appender&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=\"info\"&gt;\n            &lt;AppenderRef ref=\"${appenderToUse}\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572136695,"creation_date":1572136695,"answer_id":58575788,"question_id":35054870,"body_markdown":"The solution provided by Robert works, but it is not efficient as the script will be evaluated once per log record.\r\n\r\nA more efficient solution that evaluates the script only once is to use [`ScriptAppenderSelector`](https://logging.apache.org/log4j/2.x/manual/appenders.html#ScriptAppenderSelector) together with the [`NullAppender`](https://logging.apache.org/log4j/2.0/log4j-core/apidocs/org/apache/logging/log4j/core/appender/NullAppender.html):\r\n\r\nAccording to the docs:\r\n\r\n### ScriptAppenderSelector\r\n\r\n&gt; When the configuration is built, the ScriptAppenderSelector appender calls a Script to compute an appender name. Log4j then creates one of the appender named listed under AppenderSet using the name of the ScriptAppenderSelector. After configuration, Log4j ignores the ScriptAppenderSelector.\r\n\r\n### NullAppender\r\n\r\n&gt; An Appender that ignores log events. Use for compatibility with version 1.2 and ***handy for composing a ScriptAppenderSelector***.\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;warn&quot; name=&quot;ScriptAppenderSelectorExample&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;ScriptAppenderSelector name=&quot;SelectConsole&quot;&gt;\r\n            &lt;Script language=&quot;groovy&quot;&gt;&lt;![CDATA[\r\n                if (System.getProperty(&quot;CONSOLE_APPENDER_ENABLED&quot;, &#39;true&#39;).equalsIgnoreCase(&#39;true&#39;)) {\r\n                    return &quot;Console&quot;\r\n                } else {\r\n                    return &quot;Null&quot;\r\n                }\r\n            ]]&gt;&lt;/Script&gt;\r\n            &lt;AppenderSet&gt;\r\n                &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                    &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n                &lt;/Console&gt;\r\n                &lt;Null name=&quot;Null&quot; /&gt;\r\n            &lt;/AppenderSet&gt;\r\n        &lt;/ScriptAppenderSelector&gt;\r\n\r\n        &lt;ScriptAppenderSelector name=&quot;SelectFile&quot;&gt;\r\n            &lt;Script language=&quot;groovy&quot;&gt;&lt;![CDATA[\r\n                if (System.getProperty(&quot;FILE_APPENDER_ENABLED&quot;, &#39;true&#39;).equalsIgnoreCase(&#39;true&#39;)) {\r\n                    return &quot;File&quot;\r\n                } else {\r\n                    return &quot;Null&quot;\r\n                }\r\n            ]]&gt;&lt;/Script&gt;\r\n            &lt;AppenderSet&gt;\r\n                &lt;File name=&quot;File&quot; fileName=&quot;application.log&quot;&gt;\r\n                    &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n                &lt;/File&gt;\r\n                &lt;Null name=&quot;Null&quot; /&gt;\r\n            &lt;/AppenderSet&gt;\r\n        &lt;/ScriptAppenderSelector&gt;\r\n\r\n        &lt;ScriptAppenderSelector name=&quot;SelectSMTP&quot;&gt;\r\n            &lt;Script language=&quot;groovy&quot;&gt;&lt;![CDATA[\r\n                if (System.getProperty(&quot;SMTP_APPENDER_ENABLED&quot;, &#39;true&#39;).equalsIgnoreCase(&#39;true&#39;)) {\r\n                    return &quot;SMTP&quot;\r\n                } else {\r\n                    return &quot;Null&quot;\r\n                }\r\n            ]]&gt;&lt;/Script&gt;\r\n            &lt;AppenderSet&gt;\r\n                &lt;SMTP name=&quot;SMTP&quot;\r\n                      subject=&quot;App: Error&quot;\r\n                      from=&quot;log4j@example.com&quot;\r\n                      to=&quot;support@example.com&quot;\r\n                      smtpHost=&quot;smtp.example.com&quot;\r\n                      smtpPort=&quot;25&quot;\r\n                      bufferSize=&quot;5&quot;&gt;\r\n                &lt;/SMTP&gt;\r\n                &lt;Null name=&quot;Null&quot; /&gt;\r\n            &lt;/AppenderSet&gt;\r\n        &lt;/ScriptAppenderSelector&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;SelectConsole&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;SelectFile&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;SelectSMTP&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n### References\r\n\r\n* [Is there a low overhead way to enable/disable a given appender based on the value of an environment variable or system property?](https://lists.apache.org/thread.html/412070f45b2891b2c2ccb9251f74f737c234a9e2ab79be5f60af684b@%3Clog4j-user.logging.apache.org%3E)","title":"How do I conditionally add log4j2 appender depending on java system property?","body":"<p>The solution provided by Robert works, but it is not efficient as the script will be evaluated once per log record.</p>\n\n<p>A more efficient solution that evaluates the script only once is to use <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#ScriptAppenderSelector\" rel=\"noreferrer\"><code>ScriptAppenderSelector</code></a> together with the <a href=\"https://logging.apache.org/log4j/2.0/log4j-core/apidocs/org/apache/logging/log4j/core/appender/NullAppender.html\" rel=\"noreferrer\"><code>NullAppender</code></a>:</p>\n\n<p>According to the docs:</p>\n\n<h3>ScriptAppenderSelector</h3>\n\n<blockquote>\n  <p>When the configuration is built, the ScriptAppenderSelector appender calls a Script to compute an appender name. Log4j then creates one of the appender named listed under AppenderSet using the name of the ScriptAppenderSelector. After configuration, Log4j ignores the ScriptAppenderSelector.</p>\n</blockquote>\n\n<h3>NullAppender</h3>\n\n<blockquote>\n  <p>An Appender that ignores log events. Use for compatibility with version 1.2 and <strong><em>handy for composing a ScriptAppenderSelector</em></strong>.</p>\n</blockquote>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"warn\" name=\"ScriptAppenderSelectorExample\"&gt;\n    &lt;Appenders&gt;\n        &lt;ScriptAppenderSelector name=\"SelectConsole\"&gt;\n            &lt;Script language=\"groovy\"&gt;&lt;![CDATA[\n                if (System.getProperty(\"CONSOLE_APPENDER_ENABLED\", 'true').equalsIgnoreCase('true')) {\n                    return \"Console\"\n                } else {\n                    return \"Null\"\n                }\n            ]]&gt;&lt;/Script&gt;\n            &lt;AppenderSet&gt;\n                &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n                    &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\"/&gt;\n                &lt;/Console&gt;\n                &lt;Null name=\"Null\" /&gt;\n            &lt;/AppenderSet&gt;\n        &lt;/ScriptAppenderSelector&gt;\n\n        &lt;ScriptAppenderSelector name=\"SelectFile\"&gt;\n            &lt;Script language=\"groovy\"&gt;&lt;![CDATA[\n                if (System.getProperty(\"FILE_APPENDER_ENABLED\", 'true').equalsIgnoreCase('true')) {\n                    return \"File\"\n                } else {\n                    return \"Null\"\n                }\n            ]]&gt;&lt;/Script&gt;\n            &lt;AppenderSet&gt;\n                &lt;File name=\"File\" fileName=\"application.log\"&gt;\n                    &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\" /&gt;\n                &lt;/File&gt;\n                &lt;Null name=\"Null\" /&gt;\n            &lt;/AppenderSet&gt;\n        &lt;/ScriptAppenderSelector&gt;\n\n        &lt;ScriptAppenderSelector name=\"SelectSMTP\"&gt;\n            &lt;Script language=\"groovy\"&gt;&lt;![CDATA[\n                if (System.getProperty(\"SMTP_APPENDER_ENABLED\", 'true').equalsIgnoreCase('true')) {\n                    return \"SMTP\"\n                } else {\n                    return \"Null\"\n                }\n            ]]&gt;&lt;/Script&gt;\n            &lt;AppenderSet&gt;\n                &lt;SMTP name=\"SMTP\"\n                      subject=\"App: Error\"\n                      from=\"log4j@example.com\"\n                      to=\"support@example.com\"\n                      smtpHost=\"smtp.example.com\"\n                      smtpPort=\"25\"\n                      bufferSize=\"5\"&gt;\n                &lt;/SMTP&gt;\n                &lt;Null name=\"Null\" /&gt;\n            &lt;/AppenderSet&gt;\n        &lt;/ScriptAppenderSelector&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"info\"&gt;\n            &lt;AppenderRef ref=\"SelectConsole\"/&gt;\n            &lt;AppenderRef ref=\"SelectFile\"/&gt;\n            &lt;AppenderRef ref=\"SelectSMTP\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"https://lists.apache.org/thread.html/412070f45b2891b2c2ccb9251f74f737c234a9e2ab79be5f60af684b@%3Clog4j-user.logging.apache.org%3E\" rel=\"noreferrer\">Is there a low overhead way to enable/disable a given appender based on the value of an environment variable or system property?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2928702,"reputation":771,"user_id":2509520,"display_name":"Peter Tarlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646540302,"creation_date":1646539416,"answer_id":71367595,"question_id":35054870,"body_markdown":"Building on some of the ideas in this thread, here&#39;s what I did to conditionally log to console.\r\n\r\nExample use-case\r\n----------------\r\n\r\n 1. Always log to a file appender.\r\n 2. Log to Console only in some environments.\r\n\r\nSolution\r\n--------\r\n\r\n - For Console logging, set system property `additional.log.appender=console`\r\n - Or, disable Console logging by omitting this property.\r\n - In the Logger AppenderRef, use `${sys:additional.log.appender:-null}`.\r\n   - Sends logs to the console appender if the system property was set, or defaults to null appender if not set. (null appender ignores logs)\r\n\r\n**System Property**\r\n```lang-bash\r\n# set for console logging\r\nadditional.log.appender=console\r\n```\r\n\r\n**log4j2.xml**\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;file&quot;\r\n            fileName=&quot;my-file.log&quot;\r\n            filePattern=&quot;my-file%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d %5p [%t] %c - %m%n&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n \r\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d %5p [%t] %c - %m%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n \r\n        &lt;Null name=&quot;null&quot; /&gt;\r\n    &lt;/Appenders&gt;\r\n \r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.acme&quot; level=&quot;DEBUG&quot;&gt;\r\n        &lt;/Logger&gt;\r\n \r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;file&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;${sys:additional.log.appender:-null}&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```","title":"How do I conditionally add log4j2 appender depending on java system property?","body":"<p>Building on some of the ideas in this thread, here's what I did to conditionally log to console.</p>\n<h2>Example use-case</h2>\n<ol>\n<li>Always log to a file appender.</li>\n<li>Log to Console only in some environments.</li>\n</ol>\n<h2>Solution</h2>\n<ul>\n<li>For Console logging, set system property <code>additional.log.appender=console</code></li>\n<li>Or, disable Console logging by omitting this property.</li>\n<li>In the Logger AppenderRef, use <code>${sys:additional.log.appender:-null}</code>.\n<ul>\n<li>Sends logs to the console appender if the system property was set, or defaults to null appender if not set. (null appender ignores logs)</li>\n</ul>\n</li>\n</ul>\n<p><strong>System Property</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code># set for console logging\nadditional.log.appender=console\n</code></pre>\n<p><strong>log4j2.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;file&quot;\n            fileName=&quot;my-file.log&quot;\n            filePattern=&quot;my-file%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d %5p [%t] %c - %m%n&quot; /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\n        &lt;/RollingFile&gt;\n \n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d %5p [%t] %c - %m%n&quot; /&gt;\n        &lt;/Console&gt;\n \n        &lt;Null name=&quot;null&quot; /&gt;\n    &lt;/Appenders&gt;\n \n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.acme&quot; level=&quot;DEBUG&quot;&gt;\n        &lt;/Logger&gt;\n \n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;file&quot; /&gt;\n            &lt;AppenderRef ref=&quot;${sys:additional.log.appender:-null}&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1721029,"reputation":2684,"user_id":1576874,"accept_rate":28,"display_name":"mac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13678,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1646540302,"creation_date":1453964814,"question_id":35054870,"body_markdown":"I&#39;m trying to figure out how I can add an appender to a logger dependent on whether a java system property is given / set.\r\n\r\nSo let&#39;s say I have a basic configuration like this:\r\n\r\n    &lt;Logger name=&quot;myLogger&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;myAppender1&quot; /&gt;\r\n      &lt;AppenderRef ref=&quot;myAppender2&quot; /&gt;\r\n    &lt;/Logger&gt;\r\n\r\nSo now I&#39;d like to figure out a way to conditionally only add the 2nd appender if I provide a parameter -PaddAppender2. Something like this:\r\n\r\n    &lt;Logger name=&quot;myLogger&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;myAppender1&quot; /&gt;\r\n      &lt;?if (${sys:enableAppender2:-false) == &quot;true&quot;}&gt;\r\n      &lt;AppenderRef ref=&quot;myAppender2&quot; /&gt;\r\n      &lt;/?if&gt; \r\n    &lt;/Logger&gt;\r\n\r\nHow do I do that?\r\n\r\nI know I can for example make the level dynamic on a given property (&quot;logLevel&quot;) like that (where &quot;info&quot; is the default if the property is not given):\r\n\r\n    &lt;Logger name=&quot;test&quot; level=&quot;${sys:logLevel:-info}&quot; additivity=&quot;false&quot;&gt;\r\n\r\nI looked at the [documentation for filters][1], and I can&#39;t figure it out. That is of course if filters are even the right way to go here.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.0/manual/filters.html","title":"How do I conditionally add log4j2 appender depending on java system property?","body":"<p>I'm trying to figure out how I can add an appender to a logger dependent on whether a java system property is given / set.</p>\n\n<p>So let's say I have a basic configuration like this:</p>\n\n<pre><code>&lt;Logger name=\"myLogger\" level=\"info\" additivity=\"false\"&gt;\n  &lt;AppenderRef ref=\"myAppender1\" /&gt;\n  &lt;AppenderRef ref=\"myAppender2\" /&gt;\n&lt;/Logger&gt;\n</code></pre>\n\n<p>So now I'd like to figure out a way to conditionally only add the 2nd appender if I provide a parameter -PaddAppender2. Something like this:</p>\n\n<pre><code>&lt;Logger name=\"myLogger\" level=\"info\" additivity=\"false\"&gt;\n  &lt;AppenderRef ref=\"myAppender1\" /&gt;\n  &lt;?if (${sys:enableAppender2:-false) == \"true\"}&gt;\n  &lt;AppenderRef ref=\"myAppender2\" /&gt;\n  &lt;/?if&gt; \n&lt;/Logger&gt;\n</code></pre>\n\n<p>How do I do that?</p>\n\n<p>I know I can for example make the level dynamic on a given property (\"logLevel\") like that (where \"info\" is the default if the property is not given):</p>\n\n<pre><code>&lt;Logger name=\"test\" level=\"${sys:logLevel:-info}\" additivity=\"false\"&gt;\n</code></pre>\n\n<p>I looked at the <a href=\"https://logging.apache.org/log4j/2.0/manual/filters.html\" rel=\"noreferrer\">documentation for filters</a>, and I can't figure it out. That is of course if filters are even the right way to go here.</p>\n"},{"tags":["java","arrays","methods","static"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646539948,"creation_date":1646539948,"answer_id":71367625,"question_id":71367611,"body_markdown":"The toString impl of arrays is not what you think it is. Calling `System.out.println(x)` where x is just some object is shorthand for `System.out.println(x.toString())`.\r\n\r\nYou can either write your own, or use `Arrays.toString(x)` instead: `System.out.println(Arrays.toString(getTwoFloats())`.\r\n\r\nIn general arrays are low level constructs with many annoying downsides and few upsides. You shouldn&#39;t use them for this sort of purpose. a `List&lt;Double&gt;` would be a better idea.\r\n\r\nNB: `float` is completely useless. Use `double`.","title":"Returning array to from static method to main method. Array printing gibberish","body":"<p>The toString impl of arrays is not what you think it is. Calling <code>System.out.println(x)</code> where x is just some object is shorthand for <code>System.out.println(x.toString())</code>.</p>\n<p>You can either write your own, or use <code>Arrays.toString(x)</code> instead: <code>System.out.println(Arrays.toString(getTwoFloats())</code>.</p>\n<p>In general arrays are low level constructs with many annoying downsides and few upsides. You shouldn't use them for this sort of purpose. a <code>List&lt;Double&gt;</code> would be a better idea.</p>\n<p>NB: <code>float</code> is completely useless. Use <code>double</code>.</p>\n"}],"owner":{"account_id":24399207,"reputation":1,"user_id":18328160,"display_name":"Amber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646540128,"answer_count":1,"score":-1,"last_activity_date":1646539948,"creation_date":1646539729,"question_id":71367611,"body_markdown":"Hey all I am stuck with this homework assignment and hoping to print numbers in the main that were inputted from a static method.  I have tried two options....this one just prints gibberish \r\n\r\nOption 1:   But this prints gibberish.\r\n\r\npublic class GetNumbers {\r\n\r\n    public static void main(String[] args) {\r\n   \r\n    \t\r\n    \t\r\n    \tSystem.out.println(&quot; Congratulations, you entered two valid floats:&quot; + getTwoFloats());\r\n\t}\r\n    // Return method to obtain two values from user============================================\t\r\n\tprivate static float [] getTwoFloats() {\r\n\t\tfloat [] myResults =new float[2];\r\n\t\tScanner readInput = new Scanner(System.in);\r\n\t\r\n\t\tdo { \r\n\t\t\tSystem.out.print(&quot;\\nEnter two floats separated by a space: &quot;);\r\n\t\t   try { \r\n\t\t    float myFloat1 = readInput.nextFloat(); \r\n\t\t    // waits for user input \r\n\t\t    float myFloat2 = readInput.nextFloat(); \r\n\t\t    // waits for user input if you are here, the floats were good, you \r\n\t\t    // are done, break out from loop \r\n\t\t   } catch (final InputMismatchException e) { \r\n\t\t    System.out.println(&quot;You have entered an invalid input. Try again.&quot;); \r\n\t\t    readInput.nextLine(); \r\n\t\t    // discard non-float input \r\n\t\t    continue; \r\n\t\t    // keep looping until you found right one \r\n\t\t   }\r\n\t\t   return myResults;\r\n\t\t  } while (true); \t\r\n\r\n}\r\n\r\n\r\n\r\n","title":"Returning array to from static method to main method. Array printing gibberish","body":"<p>Hey all I am stuck with this homework assignment and hoping to print numbers in the main that were inputted from a static method.  I have tried two options....this one just prints gibberish</p>\n<p>Option 1:   But this prints gibberish.</p>\n<p>public class GetNumbers {</p>\n<pre><code>public static void main(String[] args) {\n\n    \n    \n    System.out.println(&quot; Congratulations, you entered two valid floats:&quot; + getTwoFloats());\n}\n// Return method to obtain two values from user============================================ \nprivate static float [] getTwoFloats() {\n    float [] myResults =new float[2];\n    Scanner readInput = new Scanner(System.in);\n\n    do { \n        System.out.print(&quot;\\nEnter two floats separated by a space: &quot;);\n       try { \n        float myFloat1 = readInput.nextFloat(); \n        // waits for user input \n        float myFloat2 = readInput.nextFloat(); \n        // waits for user input if you are here, the floats were good, you \n        // are done, break out from loop \n       } catch (final InputMismatchException e) { \n        System.out.println(&quot;You have entered an invalid input. Try again.&quot;); \n        readInput.nextLine(); \n        // discard non-float input \n        continue; \n        // keep looping until you found right one \n       }\n       return myResults;\n      } while (true);   \n</code></pre>\n<p>}</p>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646540178,"post_id":71367614,"comment_id":126146979,"body_markdown":"How about creating a setter and discarding the input?","body":"How about creating a setter and discarding the input?"},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1646540688,"post_id":71367614,"comment_id":126147023,"body_markdown":"You mean something like nullifying the relevant field(s) before calling `convertValue`? If that&#39;s so, wouldn&#39;t it be a very similar approach than removing some elements from the `Map`?","body":"You mean something like nullifying the relevant field(s) before calling <code>convertValue</code>? If that&#39;s so, wouldn&#39;t it be a very similar approach than removing some elements from the <code>Map</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646540938,"post_id":71367614,"comment_id":126147040,"body_markdown":"Oh sorry, I thought you were converting from a Map to a POJO.","body":"Oh sorry, I thought you were converting from a Map to a POJO."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646541002,"post_id":71367614,"comment_id":126147050,"body_markdown":"Have you looked at `@JsonFilter`?","body":"Have you looked at <code>@JsonFilter</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646541118,"post_id":71367614,"comment_id":126147059,"body_markdown":"*or I&#39;m still unable to configure it correctly* - if you&#39;re not sure you&#39;re using it right, try it with ordinary serialization. If that works, you can always go with the (admittedly less efficient) serialize-then-deserialize approach.","body":"<i>or I&#39;m still unable to configure it correctly</i> - if you&#39;re not sure you&#39;re using it right, try it with ordinary serialization. If that works, you can always go with the (admittedly less efficient) serialize-then-deserialize approach."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1646542285,"post_id":71367614,"comment_id":126147208,"body_markdown":"Another thing you can do is have a special subtype that you use just for this serialization that excludes fields (and you can use composition with `lombok.experimental.Delegate` since your class is `final`). That class will override the getters of these two fields and annotate them with `@JsonIgnore`.  Although that&#39;s an extra class, it&#39;s simple.","body":"Another thing you can do is have a special subtype that you use just for this serialization that excludes fields (and you can use composition with <code>lombok.experimental.Delegate</code> since your class is <code>final</code>). That class will override the getters of these two fields and annotate them with <code>@JsonIgnore</code>.  Although that&#39;s an extra class, it&#39;s simple."}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646539751,"creation_date":1646539751,"question_id":71367614,"body_markdown":"I have a rather simple Java object that I would like to convert it into a `Map&lt;String, Object&gt;` using Jackson&#39;s `convertValue(fromValue, toValueTypeRef)` — this is rather trivial.\r\n\r\nAt the same time, there are some fields/members (e.g.: `createdOn` and `modifiedOn`) I would like to remove from the resultant `Map`, but I can&#39;t remove them in all (de)serialization routines. I was wondering if there is a way to tell Jackson to do that, rather than removing them &quot;by hand&quot;. I&#39;ve usually seen `@JsonView` used for such purposes, but I think it doesn&#39;t work with `convertValue` — or I&#39;m still unable to configure it correctly.\r\n\r\nThis is how I&#39;m doing the conversion:\r\n\r\n```java\r\n@NoArgsConstructor\r\npublic final class CustomTypeMapper {\r\n  private static final TypeReference&lt;Map&lt;String, Object&gt;&gt; MAP_TYPE_REFERENCE = new TypeReference&lt;&gt;() { };\r\n\r\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper(); // ...with some customizations\r\n\r\n  public Map&lt;String, Object&gt; convertFrom(final CustomType input) {\r\n    // OBJECT_MAPPER.writerWithView(Views.Public.class);\r\n    return OBJECT_MAPPER.convertValue(input, MAP_TYPE_REFERENCE);\r\n  }\r\n}\r\n```\r\n\r\n`CustomType` looks roughly like this:\r\n\r\n```java\r\n@Getter\r\n@Builder\r\n@Jacksonized\r\npublic final class CustomType {\r\n  @JsonProperty(&quot;id&quot;)\r\n  private String id;\r\n\r\n  @JsonProperty(&quot;user&quot;)\r\n  private User user;\r\n\r\n  ...\r\n\r\n  @Builder.Default\r\n  @JsonProperty(&quot;created_on&quot;) // TODO: Exclude this field/member some times\r\n  @JsonView(Views.Internal.class)\r\n  private final Instant createdOn = Instant.now();\r\n\r\n  @Builder.Default\r\n  @JsonView(Views.Internal.class)\r\n  @JsonProperty(&quot;modified_on&quot;) // TODO: Exclude this field/member some times\r\n  private Instant modifiedOn = Instant.now();\r\n}\r\n```","title":"Remove some keys when converting from custom type into Map using Jackson&#39;s convertValue","body":"<p>I have a rather simple Java object that I would like to convert it into a <code>Map&lt;String, Object&gt;</code> using Jackson's <code>convertValue(fromValue, toValueTypeRef)</code> — this is rather trivial.</p>\n<p>At the same time, there are some fields/members (e.g.: <code>createdOn</code> and <code>modifiedOn</code>) I would like to remove from the resultant <code>Map</code>, but I can't remove them in all (de)serialization routines. I was wondering if there is a way to tell Jackson to do that, rather than removing them &quot;by hand&quot;. I've usually seen <code>@JsonView</code> used for such purposes, but I think it doesn't work with <code>convertValue</code> — or I'm still unable to configure it correctly.</p>\n<p>This is how I'm doing the conversion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\npublic final class CustomTypeMapper {\n  private static final TypeReference&lt;Map&lt;String, Object&gt;&gt; MAP_TYPE_REFERENCE = new TypeReference&lt;&gt;() { };\n\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper(); // ...with some customizations\n\n  public Map&lt;String, Object&gt; convertFrom(final CustomType input) {\n    // OBJECT_MAPPER.writerWithView(Views.Public.class);\n    return OBJECT_MAPPER.convertValue(input, MAP_TYPE_REFERENCE);\n  }\n}\n</code></pre>\n<p><code>CustomType</code> looks roughly like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Builder\n@Jacksonized\npublic final class CustomType {\n  @JsonProperty(&quot;id&quot;)\n  private String id;\n\n  @JsonProperty(&quot;user&quot;)\n  private User user;\n\n  ...\n\n  @Builder.Default\n  @JsonProperty(&quot;created_on&quot;) // TODO: Exclude this field/member some times\n  @JsonView(Views.Internal.class)\n  private final Instant createdOn = Instant.now();\n\n  @Builder.Default\n  @JsonView(Views.Internal.class)\n  @JsonProperty(&quot;modified_on&quot;) // TODO: Exclude this field/member some times\n  private Instant modifiedOn = Instant.now();\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1646539001,"post_id":71367542,"comment_id":126146836,"body_markdown":"There are many things wrong here including: using `frame.getGraphics()` to get a graphics object, drawing with this unstable object, using `Thread.sleep` in a Swing GUI,... You will want to scrap this code and instead, 1) Use a Swing Timer to increment the *state* of your program over time (to change key variables each time its ActionListener is called), 2) draw within a paintComponent method of a class that extends JPanel, 3) use the Graphics object that the JVM gives you inside the paintComponent method 4) Never sleep the Swing event thread...","body":"There are many things wrong here including: using <code>frame.getGraphics()</code> to get a graphics object, drawing with this unstable object, using <code>Thread.sleep</code> in a Swing GUI,... You will want to scrap this code and instead, 1) Use a Swing Timer to increment the <i>state</i> of your program over time (to change key variables each time its ActionListener is called), 2) draw within a paintComponent method of a class that extends JPanel, 3) use the Graphics object that the JVM gives you inside the paintComponent method 4) Never sleep the Swing event thread..."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1646539101,"post_id":71367542,"comment_id":126146852,"body_markdown":"Key links: 1) [Swing Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), 2) [Lesson: Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/), 3) [Lesson: Performing Custom Painting](http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html).","body":"Key links: 1) <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>, 2) <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a>, 3) <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Lesson: Performing Custom Painting</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1646539713,"post_id":71367542,"comment_id":126146933,"body_markdown":"Check out [Bubble Sort Animation](https://stackoverflow.com/questions/64196198/bubble-sort-animation) for a couple of different approaches.","body":"Check out <a href=\"https://stackoverflow.com/questions/64196198/bubble-sort-animation\">Bubble Sort Animation</a> for a couple of different approaches."}],"owner":{"account_id":24466236,"reputation":1,"user_id":18386559,"display_name":"djonemesis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646538839,"answer_count":0,"score":0,"last_activity_date":1646539032,"creation_date":1646538262,"question_id":71367542,"body_markdown":"I&#39;m new to Java GUI.\r\nI&#39;m having a trouble visualizing bubble sort algorithm.\r\nI&#39;m going to have to prompt a user to type an array of numbers, and sort that array using bubble sort. \r\n\r\nI have the code in the link below, consisting of ActionListener class, which is triggered after user finishing to input their arrays. I got the program working, but the thing is, I cannot &quot;View&quot; the ongoing graphics. The graphics should display the ongoing sorting of rectangular bar, but all I see is the sorted result. Could anyone please help me on what I am doing wrong here?\r\n\r\n    `    //The BubbleListener class will implement buttons chosen by player\r\n    private class BubbleListener implements ActionListener{\r\n    \t//Graphics g = frame.getGraphics();\r\n\t    public void actionPerformed(ActionEvent e) {\r\n\t    \tframe = new JFrame(&quot;Sorting Algorithm Visualiser&quot;);\r\n\t\t\tframe.setSize(800, 800);\r\n    \t\t//g = frame.getGraphics();\r\n\t    \tbubbleLabel.setText(&quot;&lt;html&gt;&lt;b&gt;&lt;div style=&#39;text-align: left&#39;&gt;Please input an array of numbers to be bubble-sorted separated by comma: &lt;/b&gt;&lt;/div&gt;&lt;/html&quot;);\r\n\t    \t\r\n\t    \ttextInput = new JTextField(15);\r\n\t    \ttextInput.addActionListener(new ActionListener() {\r\n\t    \t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t   \t        input = textInput.getText();   //receive input from text field\r\n\t\t\t    \tString[] splitArr=input.split(&quot;,&quot;); //\r\n\t\t\t    \tsplitNum=new int[splitArr.length];\r\n\t\t   \t        for (int i=0; i&lt;splitArr.length; i++) {\r\n\t\t   \t        \tSystem.out.print(splitNum[i]=Integer.parseInt(splitArr[i]));\r\n\t\t   \t        \tSystem.out.print(&#39; &#39;);\r\n\t\t   \t        }\r\n\t\t   \t        System.out.println(input);\r\n\t\t   \t        System.out.println(&quot;Testing input&quot;);\r\n\t\t   \t       \r\n\t\t   \t        for(int i = 0;i&lt;splitNum.length-1;i++){\r\n\t\t   \t        \tg = frame.getGraphics();\r\n\t\t                g.setColor(Color.WHITE);\r\n\t\t                g.fillRect(50, 200, 700, 700);\r\n\t\t                \r\n\t\t                //Bubble sort algorithm\r\n\t\t                for(int j = 0;j&lt;splitNum.length-i-1;j++){\r\n\t\t                    if(splitNum[j]&gt;splitNum[j+1]){\r\n\t\t                    \tint temp = splitNum[j];\r\n\t\t                    \tsplitNum[j] = splitNum[j+1];\r\n\t\t                    \tsplitNum[j+1] = temp;\r\n\t\t                        //splitNum[j+1]=(splitNum[j+1]+splitNum[j])-(splitNum[j]=splitNum[j+1]);                   \r\n\t\t                    }\r\n\t\t                }\r\n\t\t                \r\n\t\t                //Printing the array\r\n\t\t                for(int k = 0;k&lt;splitNum.length;k++){\r\n\t\t                    g.setColor(Color.BLACK) ;\r\n\t\t                    g.fillRect(100+50*k,500-splitNum[k]*30,30,splitNum[k]*30);\r\n\t\t                    g.drawString(&quot;&quot;+splitNum[k],100+50 * k,530);\r\n\t\t                }\r\n\t\t                System.out.println(Arrays.toString(splitNum));\r\n\t\t                try { \r\n\t\t                    Thread.sleep(1000);\r\n\t\t                } catch (InterruptedException e1) {\r\n\t\t                    // TODO Auto-generated catch block\r\n\t\t                    e1.printStackTrace();\r\n\t\t                }\r\n\t\t            }\r\n\t    \t\t}\r\n\t    \t});\r\n\t    \t\r\n\t        /*Set form properties*/\r\n\t        FlowLayout fl = new FlowLayout();\r\n\t        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    //Shut down process\r\n\t        frame.setLayout(fl);            //Set up flow layout\r\n\t        frame.setResizable(false);      //Cannot change form size\r\n\t        //frame.pack();\r\n\t        frame.setLocationRelativeTo(null);//Center display\r\n\t    \tbubblePanel.add(bubbleLabel);\r\n\t    \tbubblePanel.add(textInput);\r\n\t    \t\r\n\t    \tbubbleVal = textInput.getText();\r\n\t    \tString [] bubbleSplit = bubbleVal.split(&quot;,&quot;);\r\n\t        \r\n\t    \tframe.getContentPane().add(bubblePanel);\r\n\t    \tframe.setVisible(true);\r\n\t    }\r\n\t} `\r\n\r\n\r\n\r\n","title":"Troubling with showing Graphics in bubble sort visualization in Java","body":"<p>I'm new to Java GUI.\nI'm having a trouble visualizing bubble sort algorithm.\nI'm going to have to prompt a user to type an array of numbers, and sort that array using bubble sort.</p>\n<p>I have the code in the link below, consisting of ActionListener class, which is triggered after user finishing to input their arrays. I got the program working, but the thing is, I cannot &quot;View&quot; the ongoing graphics. The graphics should display the ongoing sorting of rectangular bar, but all I see is the sorted result. Could anyone please help me on what I am doing wrong here?</p>\n<pre><code>`    //The BubbleListener class will implement buttons chosen by player\nprivate class BubbleListener implements ActionListener{\n    //Graphics g = frame.getGraphics();\n    public void actionPerformed(ActionEvent e) {\n        frame = new JFrame(&quot;Sorting Algorithm Visualiser&quot;);\n        frame.setSize(800, 800);\n        //g = frame.getGraphics();\n        bubbleLabel.setText(&quot;&lt;html&gt;&lt;b&gt;&lt;div style='text-align: left'&gt;Please input an array of numbers to be bubble-sorted separated by comma: &lt;/b&gt;&lt;/div&gt;&lt;/html&quot;);\n        \n        textInput = new JTextField(15);\n        textInput.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                input = textInput.getText();   //receive input from text field\n                String[] splitArr=input.split(&quot;,&quot;); //\n                splitNum=new int[splitArr.length];\n                for (int i=0; i&lt;splitArr.length; i++) {\n                    System.out.print(splitNum[i]=Integer.parseInt(splitArr[i]));\n                    System.out.print(' ');\n                }\n                System.out.println(input);\n                System.out.println(&quot;Testing input&quot;);\n               \n                for(int i = 0;i&lt;splitNum.length-1;i++){\n                    g = frame.getGraphics();\n                    g.setColor(Color.WHITE);\n                    g.fillRect(50, 200, 700, 700);\n                    \n                    //Bubble sort algorithm\n                    for(int j = 0;j&lt;splitNum.length-i-1;j++){\n                        if(splitNum[j]&gt;splitNum[j+1]){\n                            int temp = splitNum[j];\n                            splitNum[j] = splitNum[j+1];\n                            splitNum[j+1] = temp;\n                            //splitNum[j+1]=(splitNum[j+1]+splitNum[j])-(splitNum[j]=splitNum[j+1]);                   \n                        }\n                    }\n                    \n                    //Printing the array\n                    for(int k = 0;k&lt;splitNum.length;k++){\n                        g.setColor(Color.BLACK) ;\n                        g.fillRect(100+50*k,500-splitNum[k]*30,30,splitNum[k]*30);\n                        g.drawString(&quot;&quot;+splitNum[k],100+50 * k,530);\n                    }\n                    System.out.println(Arrays.toString(splitNum));\n                    try { \n                        Thread.sleep(1000);\n                    } catch (InterruptedException e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();\n                    }\n                }\n            }\n        });\n        \n        /*Set form properties*/\n        FlowLayout fl = new FlowLayout();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    //Shut down process\n        frame.setLayout(fl);            //Set up flow layout\n        frame.setResizable(false);      //Cannot change form size\n        //frame.pack();\n        frame.setLocationRelativeTo(null);//Center display\n        bubblePanel.add(bubbleLabel);\n        bubblePanel.add(textInput);\n        \n        bubbleVal = textInput.getText();\n        String [] bubbleSplit = bubbleVal.split(&quot;,&quot;);\n        \n        frame.getContentPane().add(bubblePanel);\n        frame.setVisible(true);\n    }\n} `\n</code></pre>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1646537041,"post_id":71367416,"comment_id":126146628,"body_markdown":"See https://docs.oracle.com/javase/tutorial/java/package/usepkgs.html","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/java/package/usepkgs.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/package/usepkgs.html</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646537093,"post_id":71367416,"comment_id":126146630,"body_markdown":"And don&#39;t think of it as importing a &quot;file&quot;. You&#39;re importing a class.","body":"And don&#39;t think of it as importing a &quot;file&quot;. You&#39;re importing a class."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646537121,"creation_date":1646537121,"answer_id":71367478,"question_id":71367416,"body_markdown":"You need the other package to be there during compilation, and also during runtime; these are different things, but they both have the concept of a classpath.\r\n\r\nJava always looks for things by translating type names to dir names; `package a.b; class Foo {}` is looked for in `/a/b/Foo.class`.\r\n\r\nIt scans each entry in the classpath for that. Classpath entries can be either directories, or jar files.\r\n\r\nBuild systems (maven, gradle, etc) and IDEs (eclipse, intellij, etc) - make this easily configurable and in general take care of it for you. You should use these tools; 99% of all java projects are compiled by IDEs and/or build tools.\r\n\r\nOnce you start having multiple packages, `javac` becomes unwieldy.\r\n\r\nBut, if you must use the command line for it:\r\n\r\nYour directory structure:\r\n\r\n```\r\n/Users/Cflowe/workspace/MyAwesomeProject/src/user/code/gui/GuiClass.java\r\n/Users/Cflowe/workspace/MyAwesomeProject/src/user/code/Whatever.java\r\n```\r\n\r\nand so on. To compile:\r\n\r\n```\r\ncd /Users/Cflowe/workspace/MyAwesomeProject\r\nmkdir bin\r\njavac -sourcepath src -d bin src/user/code/Whatever.java src/user/code/gui/GuiClass.java andSpecifyEveryOtherFileByHandHere\r\n\r\njava -cp bin com.foo.Main\r\n```\r\n","title":"How can I import file from outside of package?","body":"<p>You need the other package to be there during compilation, and also during runtime; these are different things, but they both have the concept of a classpath.</p>\n<p>Java always looks for things by translating type names to dir names; <code>package a.b; class Foo {}</code> is looked for in <code>/a/b/Foo.class</code>.</p>\n<p>It scans each entry in the classpath for that. Classpath entries can be either directories, or jar files.</p>\n<p>Build systems (maven, gradle, etc) and IDEs (eclipse, intellij, etc) - make this easily configurable and in general take care of it for you. You should use these tools; 99% of all java projects are compiled by IDEs and/or build tools.</p>\n<p>Once you start having multiple packages, <code>javac</code> becomes unwieldy.</p>\n<p>But, if you must use the command line for it:</p>\n<p>Your directory structure:</p>\n<pre><code>/Users/Cflowe/workspace/MyAwesomeProject/src/user/code/gui/GuiClass.java\n/Users/Cflowe/workspace/MyAwesomeProject/src/user/code/Whatever.java\n</code></pre>\n<p>and so on. To compile:</p>\n<pre><code>cd /Users/Cflowe/workspace/MyAwesomeProject\nmkdir bin\njavac -sourcepath src -d bin src/user/code/Whatever.java src/user/code/gui/GuiClass.java andSpecifyEveryOtherFileByHandHere\n\njava -cp bin com.foo.Main\n</code></pre>\n"}],"owner":{"account_id":24305399,"reputation":341,"user_id":18248235,"display_name":"Cflowe Visit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71367478,"answer_count":1,"score":0,"last_activity_date":1646537121,"creation_date":1646536406,"question_id":71367416,"body_markdown":"How can I import file from outside of package?\r\nexample:\r\n\r\n    // this is a.java\r\n    package user.code.gui;\r\n    void method_a(){\r\n        // do something\r\n    }\r\nand\r\n\r\n    // this is b.java\r\n    package user.code;\r\n    void method_b(){\r\n        // do something\r\n    }\r\n\r\nand\r\n\r\n    // this is c.java\r\n    package user.extensions;\r\n    void method_c(){\r\n        // do something\r\n    }\r\n\r\nIf I use &quot;import c&quot; in file a.java, it can&#39;t find this file because it&#39;s in a different package. The problem is, how can I import file c.java in file a.java? \r\n\r\n\r\n","title":"How can I import file from outside of package?","body":"<p>How can I import file from outside of package?\nexample:</p>\n<pre><code>// this is a.java\npackage user.code.gui;\nvoid method_a(){\n    // do something\n}\n</code></pre>\n<p>and</p>\n<pre><code>// this is b.java\npackage user.code;\nvoid method_b(){\n    // do something\n}\n</code></pre>\n<p>and</p>\n<pre><code>// this is c.java\npackage user.extensions;\nvoid method_c(){\n    // do something\n}\n</code></pre>\n<p>If I use &quot;import c&quot; in file a.java, it can't find this file because it's in a different package. The problem is, how can I import file c.java in file a.java?</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"score":1,"creation_date":1385636461,"post_id":20264227,"comment_id":30227810,"body_markdown":"FYI java is open source, you can check what it does yourself ;)","body":"FYI java is open source, you can check what it does yourself ;)"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1385637493,"post_id":20264227,"comment_id":30228456,"body_markdown":"@RamonBoza Actually OpenJDK is open source. Java is a specification and has no intrinsic source code.","body":"@RamonBoza Actually OpenJDK is open source. Java is a specification and has no intrinsic source code."}],"answers":[{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1524297338,"creation_date":1385636342,"answer_id":20264254,"question_id":20264227,"body_markdown":"It is `O(1)` as the length is already known to `String` instance.\r\n\r\nFrom JDK 1.6 it is visible.\r\n\r\n    public int length() {\r\n        return count;\r\n    }\r\n\r\n\r\n----------\r\nUpdate\r\n\r\nIt is important to understand why they can cache the value of `count` and keep using same value for `count`. The reason lies in a great decision they took when designing `String`, its Immutability.","title":"What is the time complexity of String.length() in Java?","body":"<p>It is <code>O(1)</code> as the length is already known to <code>String</code> instance.</p>\n\n<p>From JDK 1.6 it is visible.</p>\n\n<pre><code>public int length() {\n    return count;\n}\n</code></pre>\n\n<hr>\n\n<p>Update</p>\n\n<p>It is important to understand why they can cache the value of <code>count</code> and keep using same value for <code>count</code>. The reason lies in a great decision they took when designing <code>String</code>, its Immutability.</p>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385636443,"creation_date":1385636443,"answer_id":20264290,"question_id":20264227,"body_markdown":"The complexity is  `O(1)` Since `String` class have the length as a `field`. It&#39;s not O(n^2).","title":"What is the time complexity of String.length() in Java?","body":"<p>The complexity is  <code>O(1)</code> Since <code>String</code> class have the length as a <code>field</code>. It's not O(n^2).</p>\n"},{"tags":[],"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385636570,"creation_date":1385636570,"answer_id":20264350,"question_id":20264227,"body_markdown":"String internally maintains an **array** of characters and **length of the array is a property** of array object hence O(1) as its simple reading of property.","title":"What is the time complexity of String.length() in Java?","body":"<p>String internally maintains an <strong>array</strong> of characters and <strong>length of the array is a property</strong> of array object hence O(1) as its simple reading of property.</p>\n"},{"tags":[],"owner":{"account_id":2724749,"reputation":5612,"user_id":2350145,"accept_rate":67,"display_name":"Anirban Nag &#39;tintinmj&#39;"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1385636662,"creation_date":1385636662,"answer_id":20264382,"question_id":20264227,"body_markdown":"In Java any String is backed up by an `final` array. So it is simple to just return the array length. So it is `O(1)` complexity. And if you think in your code\r\n\r\n    for(int i=0; i&lt;s.length()-1;i++){\r\n        //some code here!\r\n    }\r\n\r\n`s.length()` is called for every iteration then you are not right. Modern compiler optimizes this type of call and changes `s.length()` to constant number(i.e the length of the `String` instance).","title":"What is the time complexity of String.length() in Java?","body":"<p>In Java any String is backed up by an <code>final</code> array. So it is simple to just return the array length. So it is <code>O(1)</code> complexity. And if you think in your code</p>\n\n<pre><code>for(int i=0; i&lt;s.length()-1;i++){\n    //some code here!\n}\n</code></pre>\n\n<p><code>s.length()</code> is called for every iteration then you are not right. Modern compiler optimizes this type of call and changes <code>s.length()</code> to constant number(i.e the length of the <code>String</code> instance).</p>\n"}],"owner":{"account_id":1879420,"reputation":5451,"user_id":1699956,"accept_rate":83,"display_name":"Mangat Rai Modi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11932,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":20264254,"answer_count":4,"score":15,"last_activity_date":1646535207,"creation_date":1385636253,"question_id":20264227,"body_markdown":"Is it O(n) or O(1) (by saving the length in a private variable during string allocation to the object)?\r\n\r\nif it is O(n), does it mean that the complexity of following code is O(n^2)?\r\n\r\n    for(int i=0; i&lt;s.length()-1;i++){\r\n        //some code here!\r\n    }","title":"What is the time complexity of String.length() in Java?","body":"<p>Is it O(n) or O(1) (by saving the length in a private variable during string allocation to the object)?</p>\n<p>if it is O(n), does it mean that the complexity of following code is O(n^2)?</p>\n<pre><code>for(int i=0; i&lt;s.length()-1;i++){\n    //some code here!\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1646529922,"post_id":71367049,"comment_id":126146002,"body_markdown":"When you have `if (something) {...} else {...}` one of those two blocks of code inside the `{ }` will _always_ be executed. Either the `if` part if the condition is `true` or the `else` part if the condition is `false`.","body":"When you have <code>if (something) {...} else {...}</code> one of those two blocks of code inside the <code>{ }</code> will <i>always</i> be executed. Either the <code>if</code> part if the condition is <code>true</code> or the <code>else</code> part if the condition is <code>false</code>."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646532877,"creation_date":1646530390,"answer_id":71367108,"question_id":71367049,"body_markdown":"You have 3 outputs because you have 3 else cases which will always execute, I think you could try this:\r\n\r\n    if (Package == 1) {\r\n        if(Course &lt;= 2){\r\n             System.out.println(&quot;Total cost is &quot; + &quot;$10&quot;);\r\n        }else{\r\n             System.out.println(&quot;Total cost is &quot; + &quot;$&quot; + (10+ (6 * (Course-2))));\r\n        }\r\n    }\r\n    \r\n    \r\n    if (Package == 2 ) {\r\n         if(Course &lt;= 4){\r\n             System.out.println(&quot;Total cost is &quot; + &quot;$12&quot;);\r\n         }else{\r\n             System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(12 + (4 * (Course-4))));\r\n         }\r\n    }\r\n    \r\n    if(Package == 3 ) {\r\n        if(Course &lt;= 6){\r\n            System.out.println(&quot;Total cost is &quot; + &quot;$15&quot;);\r\n        }else{\r\n            System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(15+(3*(Course-6))));\r\n        }\r\n    }\r\n\r\nThe following [switch statement][1] would have the same result, but, as mentioned in the comments, it also handles the case where *Package* != {1,2,3}:\r\n\r\n    switch(Package){\r\n        case 1:\r\n            if(Course &lt;= 2){\r\n                 System.out.println(&quot;Total cost is &quot; + &quot;$10&quot;);\r\n            }else{\r\n                 System.out.println(&quot;Total cost is &quot; + &quot;$&quot; + (10+ (6 * (Course-2))));\r\n            }\r\n            break;\r\n        case 2:\r\n            if(Course &lt;= 4){\r\n                 System.out.println(&quot;Total cost is &quot; + &quot;$12&quot;);\r\n            }else{\r\n                 System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(12 + (4 * (Course-4))));\r\n            }\r\n            break;\r\n        case 3:\r\n            if(Course &lt;= 6){\r\n                 System.out.println(&quot;Total cost is &quot; + &quot;$15&quot;);\r\n            }else{\r\n                 System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(15+(3*(Course-6))));\r\n            }\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Invalid package number&quot;);\r\n     }\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_switch.asp","title":"Need help on If-else statement with keyboard scanner logic","body":"<p>You have 3 outputs because you have 3 else cases which will always execute, I think you could try this:</p>\n<pre><code>if (Package == 1) {\n    if(Course &lt;= 2){\n         System.out.println(&quot;Total cost is &quot; + &quot;$10&quot;);\n    }else{\n         System.out.println(&quot;Total cost is &quot; + &quot;$&quot; + (10+ (6 * (Course-2))));\n    }\n}\n\n\nif (Package == 2 ) {\n     if(Course &lt;= 4){\n         System.out.println(&quot;Total cost is &quot; + &quot;$12&quot;);\n     }else{\n         System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(12 + (4 * (Course-4))));\n     }\n}\n\nif(Package == 3 ) {\n    if(Course &lt;= 6){\n        System.out.println(&quot;Total cost is &quot; + &quot;$15&quot;);\n    }else{\n        System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(15+(3*(Course-6))));\n    }\n}\n</code></pre>\n<p>The following <a href=\"https://www.w3schools.com/java/java_switch.asp\" rel=\"nofollow noreferrer\">switch statement</a> would have the same result, but, as mentioned in the comments, it also handles the case where <em>Package</em> != {1,2,3}:</p>\n<pre><code>switch(Package){\n    case 1:\n        if(Course &lt;= 2){\n             System.out.println(&quot;Total cost is &quot; + &quot;$10&quot;);\n        }else{\n             System.out.println(&quot;Total cost is &quot; + &quot;$&quot; + (10+ (6 * (Course-2))));\n        }\n        break;\n    case 2:\n        if(Course &lt;= 4){\n             System.out.println(&quot;Total cost is &quot; + &quot;$12&quot;);\n        }else{\n             System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(12 + (4 * (Course-4))));\n        }\n        break;\n    case 3:\n        if(Course &lt;= 6){\n             System.out.println(&quot;Total cost is &quot; + &quot;$15&quot;);\n        }else{\n             System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(15+(3*(Course-6))));\n        }\n        break;\n    default:\n        System.out.println(&quot;Invalid package number&quot;);\n }\n</code></pre>\n"}],"owner":{"account_id":24465618,"reputation":11,"user_id":18386036,"display_name":"JohnnyD001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646532877,"creation_date":1646529452,"question_id":71367049,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Section3_Projects {\r\n    public static void main (String[] args){\r\n        Scanner keyboard = new Scanner(System.in);\r\n        int Package;\r\n        int Course;\r\n        int Total;\r\n\r\n        System.out.println(&quot;Which of the packages do you want? \\t &quot;  +&quot;1,2, or 3?&quot;);\r\n        Package = keyboard.nextInt();\r\n\r\n        System.out.println(&quot;How many courses did you enroll in this month?&quot;);\r\n        Course = keyboard.nextInt();\r\n\r\n\r\n\r\n        if (Package == 1 &amp;&amp; Course &lt;= 2) {\r\n            System.out.println(&quot;Total cost is &quot; + &quot;$10&quot;);\r\n        }\r\n            else  {\r\n                System.out.println(&quot;Total cost is &quot; + &quot;$&quot; + (10+ (6 * (Course-2))));\r\n                //If-else 1\r\n            }\r\n\r\n\r\n        if (Package == 2 &amp;&amp; Course &lt;= 4) {\r\n            System.out.println(&quot;Total cost is &quot; + &quot;$12&quot;);\r\n        }\r\n            else {\r\n                System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(12 + (4 * (Course-4))));\r\n            }//If-else 2\r\n\r\n\r\n\r\n        if(Package == 3 &amp;&amp; Course &lt;= 6) {\r\n            System.out.println(&quot;Total cost is &quot; + &quot;$15&quot;);\r\n        }\r\n            else {\r\n                System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(15+(3*(Course-6))));\r\n        }//If-else 3\r\n\r\n\r\n    }//end main\r\n}\r\n```\r\n\r\nHi all, first post on this forum and hoping someone code help me with my a work problem  below.  When I ran this code with the following input, I get three &quot;Total cost&quot; coming out:\r\n\r\nInput/Output\r\n\r\n    Which of the packages do you want? \t 1,2, or 3?\r\n    3\r\n    How many courses did you enroll in this month?\r\n    10\r\n    Total cost is $58\r\n    Total cost is $36\r\n    Total cost is $27\r\n\r\nI think I am missing something so that only one correct &quot;Total cost&quot; should be showing.  Any help is appreciated.  Thanks!\r\n\r\n\r\n","title":"Need help on If-else statement with keyboard scanner logic","body":"<pre><code>import java.util.Scanner;\n\npublic class Section3_Projects {\n    public static void main (String[] args){\n        Scanner keyboard = new Scanner(System.in);\n        int Package;\n        int Course;\n        int Total;\n\n        System.out.println(&quot;Which of the packages do you want? \\t &quot;  +&quot;1,2, or 3?&quot;);\n        Package = keyboard.nextInt();\n\n        System.out.println(&quot;How many courses did you enroll in this month?&quot;);\n        Course = keyboard.nextInt();\n\n\n\n        if (Package == 1 &amp;&amp; Course &lt;= 2) {\n            System.out.println(&quot;Total cost is &quot; + &quot;$10&quot;);\n        }\n            else  {\n                System.out.println(&quot;Total cost is &quot; + &quot;$&quot; + (10+ (6 * (Course-2))));\n                //If-else 1\n            }\n\n\n        if (Package == 2 &amp;&amp; Course &lt;= 4) {\n            System.out.println(&quot;Total cost is &quot; + &quot;$12&quot;);\n        }\n            else {\n                System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(12 + (4 * (Course-4))));\n            }//If-else 2\n\n\n\n        if(Package == 3 &amp;&amp; Course &lt;= 6) {\n            System.out.println(&quot;Total cost is &quot; + &quot;$15&quot;);\n        }\n            else {\n                System.out.println(&quot;Total cost is &quot; + &quot;$&quot; +(15+(3*(Course-6))));\n        }//If-else 3\n\n\n    }//end main\n}\n</code></pre>\n<p>Hi all, first post on this forum and hoping someone code help me with my a work problem  below.  When I ran this code with the following input, I get three &quot;Total cost&quot; coming out:</p>\n<p>Input/Output</p>\n<pre><code>Which of the packages do you want?   1,2, or 3?\n3\nHow many courses did you enroll in this month?\n10\nTotal cost is $58\nTotal cost is $36\nTotal cost is $27\n</code></pre>\n<p>I think I am missing something so that only one correct &quot;Total cost&quot; should be showing.  Any help is appreciated.  Thanks!</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":19548493,"reputation":470,"user_id":14304675,"display_name":"Ali Momeni"},"score":0,"creation_date":1645965754,"post_id":71284785,"comment_id":126003302,"body_markdown":"https://stackoverflow.com/questions/21906749/stream-authenticated-video-with-mediaplayer-on-android","body":"<a href=\"https://stackoverflow.com/questions/21906749/stream-authenticated-video-with-mediaplayer-on-android\" title=\"stream authenticated video with mediaplayer on android\">stackoverflow.com/questions/21906749/&hellip;</a>"},{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1647965269,"post_id":71284785,"comment_id":126501528,"body_markdown":"just now I got the same error with exoplayer I even change wifi but it didn&#39;t work. and it disappeared when I reinstall the app. strange~.","body":"just now I got the same error with exoplayer I even change wifi but it didn&#39;t work. and it disappeared when I reinstall the app. strange~."}],"answers":[{"tags":[],"owner":{"account_id":24393192,"reputation":201,"user_id":18322863,"display_name":"Madray Haven"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646532383,"creation_date":1646029025,"answer_id":71291231,"question_id":71284785,"body_markdown":"I found the related entry, and to sum it up this is [a bug in the TrackedHttpURLConnection implementation](https://issuetracker.google.com/issues/219572925), the fix will be capped around mid-late March.\r\n\r\nUpdate: (Mar 4, 2022 07:09AM)\r\n\r\n```\r\nThank you for your patience while our engineering team worked to resolve this issue. A fix for this issue is now available in:\r\n\r\nAndroid Studio Dolphin Canary 5 (2021.3.1.5)\r\nAndroid Gradle Plugin 7.3.0-alpha05\r\nWe encourage you to try the latest update.\r\n\r\nIf you notice further issues or have questions, please file a new bug report.\r\n\r\nThank you for taking the time to submit feedback — we really appreciate it!\r\n```","title":"How to resolve NullPointerException on HttpURLConnection?","body":"<p>I found the related entry, and to sum it up this is <a href=\"https://issuetracker.google.com/issues/219572925\" rel=\"nofollow noreferrer\">a bug in the TrackedHttpURLConnection implementation</a>, the fix will be capped around mid-late March.</p>\n<p>Update: (Mar 4, 2022 07:09AM)</p>\n<pre><code>Thank you for your patience while our engineering team worked to resolve this issue. A fix for this issue is now available in:\n\nAndroid Studio Dolphin Canary 5 (2021.3.1.5)\nAndroid Gradle Plugin 7.3.0-alpha05\nWe encourage you to try the latest update.\n\nIf you notice further issues or have questions, please file a new bug report.\n\nThank you for taking the time to submit feedback — we really appreciate it!\n</code></pre>\n"}],"owner":{"account_id":24393192,"reputation":201,"user_id":18322863,"display_name":"Madray Haven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1802,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71291231,"answer_count":1,"score":3,"last_activity_date":1646532383,"creation_date":1645965200,"question_id":71284785,"body_markdown":"I am developing an Android application, using ExoPlayer for video playback, Glide for image display, and a download library for file download, and they all have NullPointerException related to HttpURLConnection, I&#39;m sure the link used is available.\r\n\r\nThe magic is, I just follow these library&#39;s The method described in the official documentation loads the data normally, and this error occurs from time to time, and the three libraries may not throw NullPointerException at the same time, and I don&#39;t even know how to reproduce this problem.\r\n\r\nThis is the error thrown by ExoPlayer, which prevents the video from loading:\r\n\r\n```\r\nE/LoadTask: Unexpected exception loading stream\r\n      java.lang.NullPointerException: wrapped.getHeaderField(key) must not be null\r\n        at com.android.tools.appinspection.network.httpurl.TrackedHttpURLConnection.getHeaderField(TrackedHttpURLConnection.kt:317)\r\n        at com.android.tools.appinspection.network.httpurl.HttpsURLConnectionWrapper.getHeaderField(HttpsURLConnectionWrapper.kt:182)\r\n        at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.isCompressed(DefaultHttpDataSource.java:829)\r\n        at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:413)\r\n        at com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:84)\r\n        at com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1009)\r\n        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:412)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\nThe video playback part of the code is as follows:\r\n\r\n```kotlin\r\n            val factory = ProgressiveMediaSource.Factory(\r\n                DefaultHttpDataSource.Factory()\r\n            )\r\n            val mediaSource = arrayListOf&lt;MediaSource&gt;(\r\n                factory.createMediaSource(MediaItem.fromUri(video.base_url)),\r\n                factory.createMediaSource(MediaItem.fromUri(audio.base_url))\r\n            )\r\n            val media = MergingMediaSource(true, *mediaSource.toTypedArray())\r\n            ViewModel.getPlayer()?.let { player -&gt;\r\n                player.setMediaSource(media)\r\n                player.prepare()\r\n            }\r\n```\r\n\r\nAnd this is the error thrown by Aria, which cause software to crash:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: pool-5-thread-2\r\n    Process: io.github.sgpublic.bilidownload, PID: 22400\r\n    java.lang.NullPointerException: wrapped.getRequestProperty(field) must not be null\r\n        at com.android.tools.appinspection.network.httpurl.TrackedHttpURLConnection.getRequestProperty(TrackedHttpURLConnection.kt:235)\r\n        at com.android.tools.appinspection.network.httpurl.HttpsURLConnectionWrapper.getRequestProperty(HttpsURLConnectionWrapper.kt:274)\r\n        at com.arialyy.aria.http.ConnectionHelp.setConnectParam(ConnectionHelp.java:146)\r\n        at com.arialyy.aria.http.download.HttpDFileInfoTask.run(HttpDFileInfoTask.java:82)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\nI have tried Invalidate and Restart, and even uninstalled and reinstalled Android Studio completely, but the problem still cannot be solved, so what is the problem?","title":"How to resolve NullPointerException on HttpURLConnection?","body":"<p>I am developing an Android application, using ExoPlayer for video playback, Glide for image display, and a download library for file download, and they all have NullPointerException related to HttpURLConnection, I'm sure the link used is available.</p>\n<p>The magic is, I just follow these library's The method described in the official documentation loads the data normally, and this error occurs from time to time, and the three libraries may not throw NullPointerException at the same time, and I don't even know how to reproduce this problem.</p>\n<p>This is the error thrown by ExoPlayer, which prevents the video from loading:</p>\n<pre><code>E/LoadTask: Unexpected exception loading stream\n      java.lang.NullPointerException: wrapped.getHeaderField(key) must not be null\n        at com.android.tools.appinspection.network.httpurl.TrackedHttpURLConnection.getHeaderField(TrackedHttpURLConnection.kt:317)\n        at com.android.tools.appinspection.network.httpurl.HttpsURLConnectionWrapper.getHeaderField(HttpsURLConnectionWrapper.kt:182)\n        at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.isCompressed(DefaultHttpDataSource.java:829)\n        at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:413)\n        at com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:84)\n        at com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1009)\n        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:412)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>The video playback part of the code is as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>            val factory = ProgressiveMediaSource.Factory(\n                DefaultHttpDataSource.Factory()\n            )\n            val mediaSource = arrayListOf&lt;MediaSource&gt;(\n                factory.createMediaSource(MediaItem.fromUri(video.base_url)),\n                factory.createMediaSource(MediaItem.fromUri(audio.base_url))\n            )\n            val media = MergingMediaSource(true, *mediaSource.toTypedArray())\n            ViewModel.getPlayer()?.let { player -&gt;\n                player.setMediaSource(media)\n                player.prepare()\n            }\n</code></pre>\n<p>And this is the error thrown by Aria, which cause software to crash:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: pool-5-thread-2\n    Process: io.github.sgpublic.bilidownload, PID: 22400\n    java.lang.NullPointerException: wrapped.getRequestProperty(field) must not be null\n        at com.android.tools.appinspection.network.httpurl.TrackedHttpURLConnection.getRequestProperty(TrackedHttpURLConnection.kt:235)\n        at com.android.tools.appinspection.network.httpurl.HttpsURLConnectionWrapper.getRequestProperty(HttpsURLConnectionWrapper.kt:274)\n        at com.arialyy.aria.http.ConnectionHelp.setConnectParam(ConnectionHelp.java:146)\n        at com.arialyy.aria.http.download.HttpDFileInfoTask.run(HttpDFileInfoTask.java:82)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>I have tried Invalidate and Restart, and even uninstalled and reinstalled Android Studio completely, but the problem still cannot be solved, so what is the problem?</p>\n"},{"tags":["java","html","spring","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522359200,"creation_date":1522359200,"answer_id":49565370,"question_id":49555693,"body_markdown":"There are significant limits on the type of html you can use in an email message, and every mail client will impose different limits.  Generally, these limits aren&#39;t documented, but [this][1] might help you get started.\r\n\r\n\r\n  [1]: https://www.campaignmonitor.com/css/","title":"spring email buttons not working","body":"<p>There are significant limits on the type of html you can use in an email message, and every mail client will impose different limits.  Generally, these limits aren't documented, but <a href=\"https://www.campaignmonitor.com/css/\" rel=\"nofollow noreferrer\">this</a> might help you get started.</p>\n"},{"tags":[],"owner":{"account_id":24465830,"reputation":1,"user_id":18386216,"display_name":"aziz hammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646531927,"creation_date":1646531927,"answer_id":71367205,"question_id":49555693,"body_markdown":"try this:`&quot;&lt;a href= &#39;&quot;+googleLink+&quot;&#39;  &gt;    \\n&quot;+\r\n                &quot;                           &lt;input type=\\&quot;button\\&quot;style=\\&quot;width:10em;height:5em\\&quot; value=\\&quot;Click me to accept\\&quot; /&gt;    \\n&quot; + \r\n                &quot;&lt;/a&gt;\\n&quot;+ ` \r\n ","title":"spring email buttons not working","body":"<p>try this:<code>&quot;&lt;a href= '&quot;+googleLink+&quot;'  &gt;    \\n&quot;+ &quot;                           &lt;input type=\\&quot;button\\&quot;style=\\&quot;width:10em;height:5em\\&quot; value=\\&quot;Click me to accept\\&quot; /&gt;    \\n&quot; +  &quot;&lt;/a&gt;\\n&quot;+ </code></p>\n"}],"owner":{"account_id":9595533,"reputation":307,"user_id":7124778,"display_name":"Jacel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646531927,"creation_date":1522325443,"question_id":49555693,"body_markdown":"I want to send a email message, Will have 1 link to load image from a url.\r\n\r\nThen 2 buttons. one button to re direct to `google.com` and one link to redirect `cnn.com`\r\n\r\n            @Autowired\r\n\t\t\tpublic JavaMailSender emailSender;\t\r\n\t\t\tMimeMessage message = emailSender.createMimeMessage();\r\n\t\t\tMimeMessageHelper helper = new MimeMessageHelper(message, true);\r\n\t\t\thelper.setTo(&quot;ratfat@gmail.com&quot;);\r\n\t\t\thelper.setSubject(&quot;Test subject&quot;);\r\n\t\t\t\r\n\t\t\tString googleLink=&quot;http://google.com&quot;;\r\n\t\t\tString cnnLink=&quot;http://cnn.com&quot;;\r\n\t\t\t\r\n\t\t\tString emailContent=&quot;\\r\\n&quot; + \r\n\t\t\t\t\t&quot;&lt;html&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t   &lt;body&gt; \\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t      &lt;div align=&#39;center&#39;&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t         &lt;div style=&#39;text-align:center;&#39;&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t\t\t\t&lt;IMG src=&#39;https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png&#39; height=&#39;75&#39; width=&#39;150&#39;&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t\t\t&lt;/div&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t         &lt;br/&gt;&lt;br/&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t         Would you like to take it?&lt;br/&gt;&lt;br/&gt;&lt;br/&gt; \\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t         &lt;br/&gt;\t\t\t\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t\t\t&lt;input type=\\&quot;button\\&quot; id=\\&quot;acceptAcct\\&quot; onclick=\\&quot;location.href=&#39;&quot;+googleLink+&quot;&#39;;\\&quot;  style=\\&quot;width:10em;height:5em\\&quot; value=\\&quot;Click to load google\\&quot; /&gt; &#160;&#160;&#160;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t\t\t&lt;input type=\\&quot;button\\&quot; id=\\&quot;rejectAcct\\&quot; onclick=\\&quot;location.href=&#39;&quot;+cnnLink+&quot;&#39;;\\&quot; style=\\&quot;width:10em;height:5em\\&quot; value=\\&quot;Click to load CNN\\&quot; /&gt;\t\t         \\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t      &lt;/div&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t\t\t\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t   &lt;/body&gt;\\n&quot; + \r\n\t\t\t\t\t&quot;\t\t\t\t\t&lt;/html&gt;\\n&quot;;\r\n\t\t\t\r\n\t\t\thelper.setText(emailContent, true);\r\n\t\t\tmessage.setContent(message, &quot;text/html&quot;);\r\n    \t\temailSender.send(message);\r\n    \t\t \r\n\r\nI copy the html printed out to a simple test.html and it works well in my browse.\r\n\r\nBut when the email is recieved, i try clicking the button nothing happens.\r\nIn the email ,when i use chrome debug to see the code, the input buttons are like below.\r\n\r\n    &lt;input type=&quot;submit&quot; id=&quot;m_-5702442034034898245acceptAcct&quot; style=&quot;width:10em;height:5em&quot; value=&quot;Click to load google&quot;&gt;\r\n\r\n    &lt;input type=&quot;submit&quot; id=&quot;m_-5702442034034898245rejectAcct&quot; style=&quot;width:10em;height:5em&quot; value=&quot;Click to load cnn&quot;&gt;\r\n\r\n1). The id is differnt, i dont know where the numbers came from.  \r\n \r\n2.) The `onclick=\\&quot;location.href=&#39;&quot;+googleLink+&quot;&#39;;\\&quot;` are not there as part of input button.","title":"spring email buttons not working","body":"<p>I want to send a email message, Will have 1 link to load image from a url.</p>\n\n<p>Then 2 buttons. one button to re direct to <code>google.com</code> and one link to redirect <code>cnn.com</code></p>\n\n<pre><code>        @Autowired\n        public JavaMailSender emailSender;  \n        MimeMessage message = emailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(message, true);\n        helper.setTo(\"ratfat@gmail.com\");\n        helper.setSubject(\"Test subject\");\n\n        String googleLink=\"http://google.com\";\n        String cnnLink=\"http://cnn.com\";\n\n        String emailContent=\"\\r\\n\" + \n                \"&lt;html&gt;\\n\" + \n                \"                      &lt;body&gt; \\n\" + \n                \"                         &lt;div align='center'&gt;\\n\" + \n                \"                            &lt;div style='text-align:center;'&gt;\\n\" + \n                \"                               &lt;IMG src='https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png' height='75' width='150'&gt;\\n\" + \n                \"                           &lt;/div&gt;\\n\" + \n                \"   \\n\" + \n                \"                            &lt;br/&gt;&lt;br/&gt;\\n\" + \n                \"                            Would you like to take it?&lt;br/&gt;&lt;br/&gt;&lt;br/&gt; \\n\" + \n                \"                            &lt;br/&gt;          \\n\" + \n                \"                           &lt;input type=\\\"button\\\" id=\\\"acceptAcct\\\" onclick=\\\"location.href='\"+googleLink+\"';\\\"  style=\\\"width:10em;height:5em\\\" value=\\\"Click to load google\\\" /&gt;    \\n\" + \n                \"                           &lt;input type=\\\"button\\\" id=\\\"rejectAcct\\\" onclick=\\\"location.href='\"+cnnLink+\"';\\\" style=\\\"width:10em;height:5em\\\" value=\\\"Click to load CNN\\\" /&gt;                 \\n\" + \n                \"                         &lt;/div&gt;\\n\" + \n                \"                           \\n\" + \n                \"                      &lt;/body&gt;\\n\" + \n                \"                   &lt;/html&gt;\\n\";\n\n        helper.setText(emailContent, true);\n        message.setContent(message, \"text/html\");\n        emailSender.send(message);\n</code></pre>\n\n<p>I copy the html printed out to a simple test.html and it works well in my browse.</p>\n\n<p>But when the email is recieved, i try clicking the button nothing happens.\nIn the email ,when i use chrome debug to see the code, the input buttons are like below.</p>\n\n<pre><code>&lt;input type=\"submit\" id=\"m_-5702442034034898245acceptAcct\" style=\"width:10em;height:5em\" value=\"Click to load google\"&gt;\n\n&lt;input type=\"submit\" id=\"m_-5702442034034898245rejectAcct\" style=\"width:10em;height:5em\" value=\"Click to load cnn\"&gt;\n</code></pre>\n\n<p>1). The id is differnt, i dont know where the numbers came from.  </p>\n\n<p>2.) The <code>onclick=\\\"location.href='\"+googleLink+\"';\\\"</code> are not there as part of input button.</p>\n"},{"tags":["java","list","sorting","comparator"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1646494581,"post_id":71363302,"comment_id":126139675,"body_markdown":"`I am missing something trivial` - That&#39;s true. Don&#39;t compare objects like that `!a.get(0) != b.get(0)`. Change it to `!a.get(0).equals(b.get(0)`.","body":"<code>I am missing something trivial</code> - That&#39;s true. Don&#39;t compare objects like that <code>!a.get(0) != b.get(0)</code>. Change it to <code>!a.get(0).equals(b.get(0)</code>."},{"owner":{"account_id":10483180,"reputation":95,"user_id":7727576,"display_name":"CozyPyjama"},"score":0,"creation_date":1646494905,"post_id":71363302,"comment_id":126139744,"body_markdown":"@AlexanderIvanchenko aha you are absolutely right! Can&#39;t believe I didn&#39;t notice this earlier. I kept experimenting with the difference but never thought to update the if condition with compareTo as well. Thank you so much!","body":"@AlexanderIvanchenko aha you are absolutely right! Can&#39;t believe I didn&#39;t notice this earlier. I kept experimenting with the difference but never thought to update the if condition with compareTo as well. Thank you so much!"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1646494911,"post_id":71363302,"comment_id":126139748,"body_markdown":"The `Integer` instances in range `[-128; 127]` are reused, almost like strings. That&#39;s why there were no issues with small values like `9` or `12`","body":"The <code>Integer</code> instances in range <code>[-128; 127]</code> are reused, almost like strings. That&#39;s why there were no issues with small values like <code>9</code> or <code>12</code>"},{"owner":{"account_id":10483180,"reputation":95,"user_id":7727576,"display_name":"CozyPyjama"},"score":0,"creation_date":1646495101,"post_id":71363302,"comment_id":126139797,"body_markdown":"@AlexanderIvanchenko yeah this is what was tripping me that it was failing for larger values like 10001 when smaller points were correctly ordered. Once again thank you. Could you please post your comment as an answer though? I can accept and close this question.","body":"@AlexanderIvanchenko yeah this is what was tripping me that it was failing for larger values like 10001 when smaller points were correctly ordered. Once again thank you. Could you please post your comment as an answer though? I can accept and close this question."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1646497335,"post_id":71363302,"comment_id":126140293,"body_markdown":"On a side note, you could implement this as a `List&lt;Point&gt;` instead of a `List&lt;List&lt;Integer&gt;&gt;`. Using a more meaningful data structure willmake your code more understandable.","body":"On a side note, you could implement this as a <code>List&lt;Point&gt;</code> instead of a <code>List&lt;List&lt;Integer&gt;&gt;</code>. Using a more meaningful data structure willmake your code more understandable."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1646505749,"post_id":71363302,"comment_id":126142142,"body_markdown":"Agree with @Code-Apprentice. With `List&lt;Point&gt; points` your sorting code can be rewritten to IMO more descriptive/readable `points.sort(Comparator.comparing(Point::getX).thenComparing(Point::getY, Comparator.reverseOrder()))` which would also save you from problem you are facing now.","body":"Agree with @Code-Apprentice. With <code>List&lt;Point&gt; points</code> your sorting code can be rewritten to IMO more descriptive/readable <code>points.sort(Comparator.comparing(Point::getX).thenComparing(&zwnj;&#8203;Point::getY, Comparator.reverseOrder()))</code> which would also save you from problem you are facing now."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646524530,"creation_date":1646496159,"answer_id":71363726,"question_id":71363302,"body_markdown":"&gt; I am missing something trivial\r\n\r\nMethod `equals()` should be used for object comparison. Double equals `==` checks whether two references point to the **same object** in memory.\r\n\r\nIf you change the condition inside the comparator to `!a.get(0).equals(b.get(0))` it will work correctly.\r\n\r\n&gt; However, **(10001, -10)** was put before **(10001, -8)**. Even though **-8** is larger than **-10**.\r\n\r\nThe reason for such behavior is that **JVM** caches all the instances of `Integer` (as well as `Byte`, `Short` and `Long`) in the range **`[-128; 127]`**. I.e. these instances are reused, the result of autoboxing of let&#39;s say `int` with a value of `12` will be **always** the same object. \r\n\r\nBecause small values in your example like `3`, `5`, `12` will be represented by a **single object**, they were compared with `==` without issues. But the result of comparison with `==` for two `Integer` instances with a value of `10001` will be **`false`** because in this case there will be **two distinct objects** in the *heap*.\r\n\r\nThe approach of caching frequently used objects is called the [**Flyweight design pattern**](https://en.wikipedia.org/wiki/Flyweight_pattern). It&#39;s very rarely used in **Java** because this pattern can bring benefits when *tons of identical objects* are being *created and destroyed*. Only in such a case caching these objects will pay off with a significant performance improvement. As far as I know, it&#39;s used in game development. \r\n\r\n&lt;h3&gt;Use the power of objects&lt;/h3&gt;\r\n\r\n`Point` must be an object, not a list, as [Code-Apprentice](https://stackoverflow.com/a/71363938/17949945) has pointed out in his answer. Use the **power of objects** and don&#39;t [overuse collections](https://stackoverflow.com/questions/70993311/how-i-can-access-and-add-value-from-the-list-which-is-nested-in-the-hashmap-and/71113033). It brings several *advantages*: \r\n* class provides you a **structure**, it&#39;s easier to organize your code when you are thinking in terms of objects;\r\n* behavior declared inside a class is **reusable** and easier to test;\r\n* with classes, you can use the power of [**polymorphism**](https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html).\r\n\r\n**Caution:** objects could be also misused, one of the possible indicators of that is when a class doesn&#39;t declare any behavior apart from getters and its data is being processed somehow in the code outside this class.\r\n\r\nAlthough the notion of point (*as a geometrical object*) isn&#39;t complicated, there are some useful options with regard to methods. For example, you could make instances of the `Point` class to be able to check to whether they are aligned *horizontally* or *vertically*, or whether two points are within a particular *radius*. And `Point` class can implement `Comparable` interface so that points will be able to compare themselves without a `Comparator`.\r\n\r\n&lt;h3&gt;Sorting&lt;/h3&gt;\r\n\r\nWith **Java 8** method [**`sort()`**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator))\r\n was added to the `List` interface. It expects an instance of `Comparator`, and if element of the list implement comparable, and you want them to be sorted according to the natural order `null` can be passed as an argument.\r\n\r\n&gt; If the specified comparator is null then all elements in this list must implement the Comparable interface and the elements&#39; natural ordering should be used. \r\n\r\nSo instead of using utility class `Collections` you can invoke method `sort()` directly on a list of points (assuming that `Point` implements `Comparable&lt;Point&gt;`):\r\n\r\n    points.sort(null); // the same as   points.sort(Comparator.naturalOrder()); \r\n\r\nAlso, you can create multiple custom comparators by utilizing `default` and `static` methods from the `Comparator` interface like [**comparingInt()**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingInt(java.util.function.ToIntFunction)) and [**thenComparing()**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)).\r\n\r\n(*for more information on how to build comparators with **Java 8** methods take a look at [this tutorial](https://www.baeldung.com/java-8-comparator-comparing)*)","title":"Java sorting list of array vs sorting list of list","body":"<blockquote>\n<p>I am missing something trivial</p>\n</blockquote>\n<p>Method <code>equals()</code> should be used for object comparison. Double equals <code>==</code> checks whether two references point to the <strong>same object</strong> in memory.</p>\n<p>If you change the condition inside the comparator to <code>!a.get(0).equals(b.get(0))</code> it will work correctly.</p>\n<blockquote>\n<p>However, <strong>(10001, -10)</strong> was put before <strong>(10001, -8)</strong>. Even though <strong>-8</strong> is larger than <strong>-10</strong>.</p>\n</blockquote>\n<p>The reason for such behavior is that <strong>JVM</strong> caches all the instances of <code>Integer</code> (as well as <code>Byte</code>, <code>Short</code> and <code>Long</code>) in the range <strong><code>[-128; 127]</code></strong>. I.e. these instances are reused, the result of autoboxing of let's say <code>int</code> with a value of <code>12</code> will be <strong>always</strong> the same object.</p>\n<p>Because small values in your example like <code>3</code>, <code>5</code>, <code>12</code> will be represented by a <strong>single object</strong>, they were compared with <code>==</code> without issues. But the result of comparison with <code>==</code> for two <code>Integer</code> instances with a value of <code>10001</code> will be <strong><code>false</code></strong> because in this case there will be <strong>two distinct objects</strong> in the <em>heap</em>.</p>\n<p>The approach of caching frequently used objects is called the <a href=\"https://en.wikipedia.org/wiki/Flyweight_pattern\" rel=\"nofollow noreferrer\"><strong>Flyweight design pattern</strong></a>. It's very rarely used in <strong>Java</strong> because this pattern can bring benefits when <em>tons of identical objects</em> are being <em>created and destroyed</em>. Only in such a case caching these objects will pay off with a significant performance improvement. As far as I know, it's used in game development.</p>\n<h3>Use the power of objects</h3>\n<p><code>Point</code> must be an object, not a list, as <a href=\"https://stackoverflow.com/a/71363938/17949945\">Code-Apprentice</a> has pointed out in his answer. Use the <strong>power of objects</strong> and don't <a href=\"https://stackoverflow.com/questions/70993311/how-i-can-access-and-add-value-from-the-list-which-is-nested-in-the-hashmap-and/71113033\">overuse collections</a>. It brings several <em>advantages</em>:</p>\n<ul>\n<li>class provides you a <strong>structure</strong>, it's easier to organize your code when you are thinking in terms of objects;</li>\n<li>behavior declared inside a class is <strong>reusable</strong> and easier to test;</li>\n<li>with classes, you can use the power of <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\"><strong>polymorphism</strong></a>.</li>\n</ul>\n<p><strong>Caution:</strong> objects could be also misused, one of the possible indicators of that is when a class doesn't declare any behavior apart from getters and its data is being processed somehow in the code outside this class.</p>\n<p>Although the notion of point (<em>as a geometrical object</em>) isn't complicated, there are some useful options with regard to methods. For example, you could make instances of the <code>Point</code> class to be able to check to whether they are aligned <em>horizontally</em> or <em>vertically</em>, or whether two points are within a particular <em>radius</em>. And <code>Point</code> class can implement <code>Comparable</code> interface so that points will be able to compare themselves without a <code>Comparator</code>.</p>\n<h3>Sorting</h3>\n<p>With <strong>Java 8</strong> method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\"><strong><code>sort()</code></strong></a>\nwas added to the <code>List</code> interface. It expects an instance of <code>Comparator</code>, and if element of the list implement comparable, and you want them to be sorted according to the natural order <code>null</code> can be passed as an argument.</p>\n<blockquote>\n<p>If the specified comparator is null then all elements in this list must implement the Comparable interface and the elements' natural ordering should be used.</p>\n</blockquote>\n<p>So instead of using utility class <code>Collections</code> you can invoke method <code>sort()</code> directly on a list of points (assuming that <code>Point</code> implements <code>Comparable&lt;Point&gt;</code>):</p>\n<pre><code>points.sort(null); // the same as   points.sort(Comparator.naturalOrder()); \n</code></pre>\n<p>Also, you can create multiple custom comparators by utilizing <code>default</code> and <code>static</code> methods from the <code>Comparator</code> interface like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\"><strong>comparingInt()</strong></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)\" rel=\"nofollow noreferrer\"><strong>thenComparing()</strong></a>.</p>\n<p>(<em>for more information on how to build comparators with <strong>Java 8</strong> methods take a look at <a href=\"https://www.baeldung.com/java-8-comparator-comparing\" rel=\"nofollow noreferrer\">this tutorial</a></em>)</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646530978,"creation_date":1646497778,"answer_id":71363938,"question_id":71363302,"body_markdown":"[@Alexander Ivanchenko](https://stackoverflow.com/a/71363726/1440565) explains very well why you are seeing the behavior you do. One solution to the problem is to use `Integer.compareTo()`:\r\n\r\n```\r\nCollections.sort(points, (a, b) -&gt; {\r\n    int xCompare = a[0].compareTo(b[0];\r\n    if (xCompare != 0) {\r\n        return xCompare;\r\n    }\r\n    retirm a[1].compareTo(b[1];\r\n});\r\n```\r\n\r\nBeyond this, I suggest creating a `Point` class:\r\n\r\n```\r\nclass Point {\r\n    public int x;\r\n    public int y;\r\n}\r\n```\r\n\r\nHere I use `public` fields to follow the struct pattern. If you want to add getters and setters and other behavior, feel free to do so. Using a class to represent the structure of your data makes the code more understandable and easier to maintain. In fact, you can easily implement `Comparable` on a `Point` or a `Comparator&lt;Point&gt;` class.","title":"Java sorting list of array vs sorting list of list","body":"<p><a href=\"https://stackoverflow.com/a/71363726/1440565\">@Alexander Ivanchenko</a> explains very well why you are seeing the behavior you do. One solution to the problem is to use <code>Integer.compareTo()</code>:</p>\n<pre><code>Collections.sort(points, (a, b) -&gt; {\n    int xCompare = a[0].compareTo(b[0];\n    if (xCompare != 0) {\n        return xCompare;\n    }\n    retirm a[1].compareTo(b[1];\n});\n</code></pre>\n<p>Beyond this, I suggest creating a <code>Point</code> class:</p>\n<pre><code>class Point {\n    public int x;\n    public int y;\n}\n</code></pre>\n<p>Here I use <code>public</code> fields to follow the struct pattern. If you want to add getters and setters and other behavior, feel free to do so. Using a class to represent the structure of your data makes the code more understandable and easier to maintain. In fact, you can easily implement <code>Comparable</code> on a <code>Point</code> or a <code>Comparator&lt;Point&gt;</code> class.</p>\n"}],"owner":{"account_id":10483180,"reputation":95,"user_id":7727576,"display_name":"CozyPyjama"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71363726,"answer_count":2,"score":7,"last_activity_date":1646530978,"creation_date":1646492614,"question_id":71363302,"body_markdown":"I have a **list of points** where each **point** is a tiny **list** of size `2`. I want to sort the list of points in increasing order of `x` and if `x` values are equal, I break tie by sorting in decreasing order of `y`.\r\n\r\nI wrote a custom comparator to sort the points like this:\r\n```\r\nCollections.sort(points, (a, b) -&gt; {\r\n    if (a.get(0) != b.get(0)) {\r\n        return a.get(0) - b.get(0);\r\n    } return b.get(1) - a.get(1); \r\n});\r\n```\r\nHere&#39;s the **input** before sorting:\r\n```\r\n(2, 1000)\r\n(9, -1000)\r\n(3, 15)\r\n(9, -15)\r\n(5, 12)\r\n(12, -12)\r\n(5, 10)\r\n(10001, -10)\r\n(19, 8)\r\n(10001, -8)\r\n```\r\nHere&#39;s the **result** produced after sorting with the above comparator:\r\n```\r\n(2, 1000)\r\n(3, 15)\r\n(5, 12)\r\n(5, 10)\r\n(9, -15)\r\n(9, -1000)\r\n(12, -12)\r\n(19, 8)\r\n(10001, -10)\r\n(10001, -8)\r\n```\r\n**Observations:**\r\n\r\n 1. The input is sorted in ascending order on `x`.\r\n 2. `(5, 12)` was correctly put before `(5, 10)`.\r\n 3. `(9, -15)` was correctly put before `(9, -1000)`.\r\n 4. However, `(10001, -10)` was put before `(10001, -8)`. Even though `-8` is larger than `-10`.\r\n\r\nFeel like I am missing something trivial. I experimented with a few other ways of writing the comparator like using `Integer.compare(a, b)` or just `a.compareTo(t)`, but got the same result.\r\n\r\nFinally, I changed the representation of point from `List&lt;Integer&gt;` to `int[]` and wrote the same comparator again. See results below:\r\n\r\n```\r\nCollections.sort(points, (a, b) -&gt; {\r\n    if (a[0] != b[0])\r\n        return a[0] - b[0];\r\n    return b[1] - a[1];\r\n});\r\n```\r\n**Input** before sorting:\r\n```\r\n(2, 1000)\r\n(9, -1000)\r\n(3, 15)\r\n(9, -150\r\n(5, 12)\r\n(12, -12)\r\n(5, 10)\r\n(10001, -10)\r\n(19, 8)\r\n(10001, -8)\r\n```\r\n**After sorting:**\r\n```\r\n(2, 1000)\r\n(3, 15)\r\n(5, 12)\r\n(5, 10)\r\n(9, -15)\r\n(9, -1000)\r\n(12, -12)\r\n(19, 8)\r\n(10001, -8)\r\n(10001, -10)\r\n```\r\nSo list of arrays is getting sorted correctly as `(10001, -8)` was correctly put before `(10001, -10)`.\r\n\r\nI am not able to understand why changing the representation of point resolved the issue and hence this question. I can give more details on how I am creating the List of points if required.","title":"Java sorting list of array vs sorting list of list","body":"<p>I have a <strong>list of points</strong> where each <strong>point</strong> is a tiny <strong>list</strong> of size <code>2</code>. I want to sort the list of points in increasing order of <code>x</code> and if <code>x</code> values are equal, I break tie by sorting in decreasing order of <code>y</code>.</p>\n<p>I wrote a custom comparator to sort the points like this:</p>\n<pre><code>Collections.sort(points, (a, b) -&gt; {\n    if (a.get(0) != b.get(0)) {\n        return a.get(0) - b.get(0);\n    } return b.get(1) - a.get(1); \n});\n</code></pre>\n<p>Here's the <strong>input</strong> before sorting:</p>\n<pre><code>(2, 1000)\n(9, -1000)\n(3, 15)\n(9, -15)\n(5, 12)\n(12, -12)\n(5, 10)\n(10001, -10)\n(19, 8)\n(10001, -8)\n</code></pre>\n<p>Here's the <strong>result</strong> produced after sorting with the above comparator:</p>\n<pre><code>(2, 1000)\n(3, 15)\n(5, 12)\n(5, 10)\n(9, -15)\n(9, -1000)\n(12, -12)\n(19, 8)\n(10001, -10)\n(10001, -8)\n</code></pre>\n<p><strong>Observations:</strong></p>\n<ol>\n<li>The input is sorted in ascending order on <code>x</code>.</li>\n<li><code>(5, 12)</code> was correctly put before <code>(5, 10)</code>.</li>\n<li><code>(9, -15)</code> was correctly put before <code>(9, -1000)</code>.</li>\n<li>However, <code>(10001, -10)</code> was put before <code>(10001, -8)</code>. Even though <code>-8</code> is larger than <code>-10</code>.</li>\n</ol>\n<p>Feel like I am missing something trivial. I experimented with a few other ways of writing the comparator like using <code>Integer.compare(a, b)</code> or just <code>a.compareTo(t)</code>, but got the same result.</p>\n<p>Finally, I changed the representation of point from <code>List&lt;Integer&gt;</code> to <code>int[]</code> and wrote the same comparator again. See results below:</p>\n<pre><code>Collections.sort(points, (a, b) -&gt; {\n    if (a[0] != b[0])\n        return a[0] - b[0];\n    return b[1] - a[1];\n});\n</code></pre>\n<p><strong>Input</strong> before sorting:</p>\n<pre><code>(2, 1000)\n(9, -1000)\n(3, 15)\n(9, -150\n(5, 12)\n(12, -12)\n(5, 10)\n(10001, -10)\n(19, 8)\n(10001, -8)\n</code></pre>\n<p><strong>After sorting:</strong></p>\n<pre><code>(2, 1000)\n(3, 15)\n(5, 12)\n(5, 10)\n(9, -15)\n(9, -1000)\n(12, -12)\n(19, 8)\n(10001, -8)\n(10001, -10)\n</code></pre>\n<p>So list of arrays is getting sorted correctly as <code>(10001, -8)</code> was correctly put before <code>(10001, -10)</code>.</p>\n<p>I am not able to understand why changing the representation of point resolved the issue and hence this question. I can give more details on how I am creating the List of points if required.</p>\n"},{"tags":["java","linux","jvm"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646535497,"post_id":71366522,"comment_id":126146484,"body_markdown":"The operating system does it, not Java.","body":"The operating system does it, not Java."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646523892,"creation_date":1646523892,"answer_id":71366744,"question_id":71366522,"body_markdown":"&gt; What does java/SO do in order to reserve this memory without being counted by RSS (linux memory measure) statistics?\r\n\r\nThis kind of &quot;reservation&quot; is based on the concept of [Virtual Memory](https://en.wikipedia.org/wiki/Virtual_memory). The JVM calls [`mmap`](https://man7.org/linux/man-pages/man2/mmap.2.html) to reserve an address space. Initially these addresses are just numbers not backed by physical pages. On the first access to a virtual page, a page fault happens, and the OS handles it by allocating the backing storage (physical RAM or a swap space).\r\n\r\n&gt; Could other process use this memory due that is no physically reserved?\r\n\r\nIn short, yes. A longer answer - depends on the OS settings, specifically, [`vm.overcommit_memory`](https://www.kernel.org/doc/Documentation/vm/overcommit-accounting) and [`vm.overcommit_ratio`](https://www.kernel.org/doc/Documentation/vm/overcommit-accounting) sysctls. The default settings allow overcommitment - i.e. it&#39;s possible to allocate more virtual memory than available physical RAM + swap (because applications often do not use all virtual memory they reserve).","title":"How does java guarateee reserved memory","body":"<blockquote>\n<p>What does java/SO do in order to reserve this memory without being counted by RSS (linux memory measure) statistics?</p>\n</blockquote>\n<p>This kind of &quot;reservation&quot; is based on the concept of <a href=\"https://en.wikipedia.org/wiki/Virtual_memory\" rel=\"nofollow noreferrer\">Virtual Memory</a>. The JVM calls <a href=\"https://man7.org/linux/man-pages/man2/mmap.2.html\" rel=\"nofollow noreferrer\"><code>mmap</code></a> to reserve an address space. Initially these addresses are just numbers not backed by physical pages. On the first access to a virtual page, a page fault happens, and the OS handles it by allocating the backing storage (physical RAM or a swap space).</p>\n<blockquote>\n<p>Could other process use this memory due that is no physically reserved?</p>\n</blockquote>\n<p>In short, yes. A longer answer - depends on the OS settings, specifically, <a href=\"https://www.kernel.org/doc/Documentation/vm/overcommit-accounting\" rel=\"nofollow noreferrer\"><code>vm.overcommit_memory</code></a> and <a href=\"https://www.kernel.org/doc/Documentation/vm/overcommit-accounting\" rel=\"nofollow noreferrer\"><code>vm.overcommit_ratio</code></a> sysctls. The default settings allow overcommitment - i.e. it's possible to allocate more virtual memory than available physical RAM + swap (because applications often do not use all virtual memory they reserve).</p>\n"},{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646530833,"creation_date":1646530833,"answer_id":71367136,"question_id":71366522,"body_markdown":"You need to understand that in any modern operating system, &quot;memory&quot; is virtual.\r\n\r\n&quot;Reserved&quot; memory is actually just address space that is assigned to a particular use.  What this means is mostly just some adjustment of data structures that track address-space use.\r\n\r\n&quot;Committed&quot; memory is a little more wiggly. Mostly it just means that the physical memory that &lt;b&gt;could be&lt;/b&gt; needed is tracked against some notion of the maximum commit that is available.  There&#39;s generally no notion that actual physical RAM is somehow allocated to the process at this point; at best, pagefile space may be reserved.\r\n\r\n(If you want actual for-sure RAM, you need to &quot;pin&quot; committed pages into physical memory).\r\n\r\nActual RAM isn&#39;t assigned until a page is touched; and even after that, it can be taken away again, by the dynamics of paged virtual memory, in part depending on what else is happening on the hardware.\r\n","title":"How does java guarateee reserved memory","body":"<p>You need to understand that in any modern operating system, &quot;memory&quot; is virtual.</p>\n<p>&quot;Reserved&quot; memory is actually just address space that is assigned to a particular use.  What this means is mostly just some adjustment of data structures that track address-space use.</p>\n<p>&quot;Committed&quot; memory is a little more wiggly. Mostly it just means that the physical memory that <b>could be</b> needed is tracked against some notion of the maximum commit that is available.  There's generally no notion that actual physical RAM is somehow allocated to the process at this point; at best, pagefile space may be reserved.</p>\n<p>(If you want actual for-sure RAM, you need to &quot;pin&quot; committed pages into physical memory).</p>\n<p>Actual RAM isn't assigned until a page is touched; and even after that, it can be taken away again, by the dynamics of paged virtual memory, in part depending on what else is happening on the hardware.</p>\n"}],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71366744,"answer_count":2,"score":1,"last_activity_date":1646530833,"creation_date":1646520717,"question_id":71366522,"body_markdown":"Checking for memory usage by **stack** using this command:\r\n\r\n    jcmd $pid VM.native_memory summary\r\n\r\nI can see that reserved memory is different from committed.\r\n\r\n-                    Thread (reserved=18561KB, committed=1085KB)\r\n                            (thread #18)\r\n                            (stack: reserved=18476KB, committed=1000KB)\r\n                            (malloc=63KB #99) \r\n                            (arena=22KB #35)\r\n\r\nReserved is about 1MB (default for stack). Committed in fact is physical reserved. I read that java save memory for stack while is not totally used.\r\n\r\nRunning command like top I can see just committed usage.\r\n\r\nWhat does java/SO do in order to reserve this memory without being counted by RSS (linux memory measure) statistics?\r\n\r\nCould other process use this memory due that is no physically reserved?\r\n\r\n\r\n**Note: jdk11**\r\n**SO Linux**","title":"How does java guarateee reserved memory","body":"<p>Checking for memory usage by <strong>stack</strong> using this command:</p>\n<pre><code>jcmd $pid VM.native_memory summary\n</code></pre>\n<p>I can see that reserved memory is different from committed.</p>\n<ul>\n<li>\n<pre><code>               Thread (reserved=18561KB, committed=1085KB)\n                      (thread #18)\n                      (stack: reserved=18476KB, committed=1000KB)\n                      (malloc=63KB #99) \n                      (arena=22KB #35)\n</code></pre>\n</li>\n</ul>\n<p>Reserved is about 1MB (default for stack). Committed in fact is physical reserved. I read that java save memory for stack while is not totally used.</p>\n<p>Running command like top I can see just committed usage.</p>\n<p>What does java/SO do in order to reserve this memory without being counted by RSS (linux memory measure) statistics?</p>\n<p>Could other process use this memory due that is no physically reserved?</p>\n<p><strong>Note: jdk11</strong>\n<strong>SO Linux</strong></p>\n"},{"tags":["java","automation","appium-android","appium-ios"],"answers":[{"tags":[],"owner":{"account_id":19923575,"reputation":82,"user_id":14598823,"display_name":"Fransiskus Andika Setiawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646530386,"creation_date":1646530386,"answer_id":71367107,"question_id":70007224,"body_markdown":"In my iOS automation testing i create APICall for some scenario, is working properly and can reduce flaky","title":"Is it good idea to write API Call within Appium script for automation","body":"<p>In my iOS automation testing i create APICall for some scenario, is working properly and can reduce flaky</p>\n"}],"owner":{"account_id":8049186,"reputation":75,"user_id":6068366,"display_name":"Hari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646530386,"creation_date":1637163041,"question_id":70007224,"body_markdown":"I am working with Appium with Java for iOS and Android as one repo. My question is is it good idea to make API call within Appium script. \r\nHere is my case\r\nI have different status like accepted, Pending, In_porgress, null etc.\r\nSo for every status I want to execute API call and then verify status on client side. (This API is over Bluetooth and all state cann&#39;t capture from client/mobile side)\r\n\r\nPlease advice if I can make API call within the script? ","title":"Is it good idea to write API Call within Appium script for automation","body":"<p>I am working with Appium with Java for iOS and Android as one repo. My question is is it good idea to make API call within Appium script.\nHere is my case\nI have different status like accepted, Pending, In_porgress, null etc.\nSo for every status I want to execute API call and then verify status on client side. (This API is over Bluetooth and all state cann't capture from client/mobile side)</p>\n<p>Please advice if I can make API call within the script?</p>\n"},{"tags":["java","sendgrid","sendgrid-api-v3"],"comments":[{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1646349655,"post_id":71340575,"comment_id":126107995,"body_markdown":"What is the message from the exception that is thrown?","body":"What is the message from the exception that is thrown?"},{"owner":{"account_id":24442530,"reputation":3,"user_id":18366024,"display_name":"Syed Muhammad Zuqan Farhan"},"score":0,"creation_date":1646501810,"post_id":71340575,"comment_id":126141246,"body_markdown":"@philnash\njava.io.IOException: Request returned status Code 404Body:{&quot;errors&quot;:[{&quot;field&quot;:null,&quot;message&quot;:&quot;resource not found&quot;}]}\n        at com.sendgrid.Client.executeApiCall(Client.java:287)\n        at com.sendgrid.Client.delete(Client.java:277)\n        at com.sendgrid.Client.api(Client.java:316)\njava.lang.Exception: Unable to get Delete Bounce Email Address\n        at com.sibisoft.northstar.sendgrid.gateway.SendGridGateway.deleteInvalidByEmail(SendGridGateway.java:645)\n at com.sibisoft.northstar.campaign.view.UnsubscriptionAction.deleteFromSuppression(UnsubscriptionAction.java:360)","body":"@philnash java.io.IOException: Request returned status Code 404Body:{&quot;errors&quot;:[{&quot;field&quot;:null,&quot;message&quot;:&quot;resource not found&quot;}]}         at com.sendgrid.Client.executeApiCall(Client.java:287)         at com.sendgrid.Client.delete(Client.java:277)         at com.sendgrid.Client.api(Client.java:316) java.lang.Exception: Unable to get Delete Bounce Email Address         at com.sibisoft.northstar.sendgrid.gateway.SendGridGateway.dele&zwnj;&#8203;teInvalidByEmail(Sen&zwnj;&#8203;dGridGateway.java:64&zwnj;&#8203;5)  at com.sibisoft.northstar.campaign.view.UnsubscriptionAction.de&zwnj;&#8203;leteFromSuppression(&zwnj;&#8203;UnsubscriptionAction&zwnj;&#8203;.java:360)"},{"owner":{"account_id":24442530,"reputation":3,"user_id":18366024,"display_name":"Syed Muhammad Zuqan Farhan"},"score":0,"creation_date":1646502102,"post_id":71340575,"comment_id":126141308,"body_markdown":"@philnash \nIts a IOException error but the same code which is written for bounce email doesnt work.\n\nThe line: \n  Response response = sg.api(request);\nis where all the crashing takes place.","body":"@philnash  Its a IOException error but the same code which is written for bounce email doesnt work.  The line:    Response response = sg.api(request); is where all the crashing takes place."}],"answers":[{"tags":[],"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646529734,"creation_date":1646529734,"answer_id":71367065,"question_id":71340575,"body_markdown":"From your comments, it seems that you are getting a 404 error, which tells you that the data you are trying to delete is not present. The error message says &quot;resource not found&quot;.\r\n\r\nSo, the email address you are trying to delete is not an invalid email that is available to delete. Note that [invalid emails are described in the docs as][1]:\r\n\r\n&gt; An invalid email occurs when you attempt to send email to an address that is formatted in a manner that does not meet internet email format standards or the email does not exist at the recipient&#39;s mail server. Examples include addresses without the “@” sign or addresses that include certain special characters and/or spaces. This response can come from our own server or the recipient mail server.\r\n\r\nAre you trying to delete an email that isn&#39;t invalid?\r\n\r\n  [1]: https://docs.sendgrid.com/ui/sending-email/invalid-emails","title":"SendGrid &quot;invalid_email&quot; DELETE api is not deleting the data","body":"<p>From your comments, it seems that you are getting a 404 error, which tells you that the data you are trying to delete is not present. The error message says &quot;resource not found&quot;.</p>\n<p>So, the email address you are trying to delete is not an invalid email that is available to delete. Note that <a href=\"https://docs.sendgrid.com/ui/sending-email/invalid-emails\" rel=\"nofollow noreferrer\">invalid emails are described in the docs as</a>:</p>\n<blockquote>\n<p>An invalid email occurs when you attempt to send email to an address that is formatted in a manner that does not meet internet email format standards or the email does not exist at the recipient's mail server. Examples include addresses without the “@” sign or addresses that include certain special characters and/or spaces. This response can come from our own server or the recipient mail server.</p>\n</blockquote>\n<p>Are you trying to delete an email that isn't invalid?</p>\n"}],"owner":{"account_id":24442530,"reputation":3,"user_id":18366024,"display_name":"Syed Muhammad Zuqan Farhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71367065,"answer_count":1,"score":0,"last_activity_date":1646529734,"creation_date":1646325252,"question_id":71340575,"body_markdown":"So my code looks like this. This is copied from SendGrid&#39;s docs. I have a similar function for deletion of spam emails and bounce emails. But this function throws an error whenever &quot;Response response = sg.api(request);&quot; is executed. Please help.\r\n\r\n      public boolean deleteInvalidByEmail(String email, String apiKey) throws Exception{\r\n\t\t\t\r\n             com.sendgrid.SendGrid sg = new SendGrid(apiKey);\r\n\t\t\t\r\n             Request request = new Request();\r\n             try {\r\n\r\n\t\t\t\tif(email!=null){\r\n\t\t\t\trequest.setMethod(Method.DELETE);\r\n\t\t\t\trequest.setEndpoint(&quot;suppression/invalid_emails/&quot;+email);\r\n\t\t\t\trequest.addQueryParam(&quot;email&quot;, email);\r\n\t\t\t\t\r\n                Response response = sg.api(request);\r\n\t\t\t\tlogger.debug(response.getStatusCode());\r\n\t\t\t\tlogger.debug(response.getBody());\r\n\t\t\t\tlogger.debug(&quot;Mapped Output =========================&quot;);\r\n\t\t\t\tlogger.debug(response.getHeaders());\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tlogger.error(ex.getMessage());\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t\tthrow new Exception(&quot;Unable to get Delete Bounce Email Address&quot;);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}","title":"SendGrid &quot;invalid_email&quot; DELETE api is not deleting the data","body":"<p>So my code looks like this. This is copied from SendGrid's docs. I have a similar function for deletion of spam emails and bounce emails. But this function throws an error whenever &quot;Response response = sg.api(request);&quot; is executed. Please help.</p>\n<pre><code>  public boolean deleteInvalidByEmail(String email, String apiKey) throws Exception{\n        \n         com.sendgrid.SendGrid sg = new SendGrid(apiKey);\n        \n         Request request = new Request();\n         try {\n\n            if(email!=null){\n            request.setMethod(Method.DELETE);\n            request.setEndpoint(&quot;suppression/invalid_emails/&quot;+email);\n            request.addQueryParam(&quot;email&quot;, email);\n            \n            Response response = sg.api(request);\n            logger.debug(response.getStatusCode());\n            logger.debug(response.getBody());\n            logger.debug(&quot;Mapped Output =========================&quot;);\n            logger.debug(response.getHeaders());\n            }\n        } catch (Exception ex) {\n            logger.error(ex.getMessage());\n            ex.printStackTrace();\n            throw new Exception(&quot;Unable to get Delete Bounce Email Address&quot;);\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","recursion","stack-overflow","counting","recursive-backtracking"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646526900,"creation_date":1646362195,"answer_id":71346083,"question_id":71344180,"body_markdown":"There are some issues in your code:\r\n* **Base case** (condition that terminates the recursion) is **incorrect**. Every branch of *recursive calls* spawn new branches when it hits the condition `if (sumNeeded == currentSum)` is meat instead of returning the number of combinations. You created an infinite recursion that inevitably leads to a `StackOverflowError`. You have to place a **return** statement inside the curly braces after the first `if` in your code. And comment out the first recursive call (with `0` sum passed as an argument) you&#39;ll face the *second problem*: for any input, your code will yield `0`.\r\n* Results returned by *recursive calls* of your method `countWaysToClimbHelper()` are omitted. Variable `possibleCombos` isn&#39;t affected by these calls. Each method call allocates its own copy of this variable `possibleCombos` on the **stack** (a memory aria where JVM stores data for each method call), and their values are not related anyhow.\r\n* you actually don&#39;t need to pass the number of combinations as a parameter, instead you have *to return it*.\r\n\r\nBefore moving further, let me recap the basics of recursion.\r\n\r\nEvery recursive method should contain **two parts**:\r\n\r\n * **base case** - that represents a simple edge-case for which the outcome is known in advance. For this problem, there are two edge-cases:   \r\n      * `sumNeeded == currentSum` - the return value is `1`, i.e. one combination was found;   \r\n      * `sumNeeded &gt; currentSum` - the return value is `0`.\r\n* **recursive case** - a part of a solution where recursive calls a made and when the main logic resides. In your *recursive case* you need to accumulate the value of the number of combination, which will be the **sum** of values returned be two branches of execution: take **1 step** or **2 steps**.\r\n\r\nSo the fixed code might look like that:\r\n\r\n    public static int countWaysToClimb(int stairs) {\r\n        return countWaysToClimbHelper(stairs, 0);\r\n    }\r\n\r\n    public static int countWaysToClimbHelper(int sumNeeded, int currentSum) {\r\n        // base - we will reach this base multiple times\r\n        if (sumNeeded == currentSum) {\r\n            return 1;\r\n        } else if (currentSum &gt; sumNeeded) {\r\n            return 0;\r\n        }\r\n        // recurse - add 1 and then add 2\r\n        int possibleCombos = 0;\r\n        possibleCombos += countWaysToClimbHelper(sumNeeded,currentSum + 1);\r\n        possibleCombos += countWaysToClimbHelper(sumNeeded,currentSum + 2);\r\n        return possibleCombos;\r\n    }\r\n\r\n**Note:**\r\n* This code could be enhanced further. The whole logic can be implemented inside the `countWaysToClimb()` without using a helper-method. For that, instead of tracking the `currentSum` you need to subtract the number of steps from the `sumNeeded` when the method is called recursively.","title":"Recursive solution to counting the number of ways you can go up a staircase","body":"<p>There are some issues in your code:</p>\n<ul>\n<li><strong>Base case</strong> (condition that terminates the recursion) is <strong>incorrect</strong>. Every branch of <em>recursive calls</em> spawn new branches when it hits the condition <code>if (sumNeeded == currentSum)</code> is meat instead of returning the number of combinations. You created an infinite recursion that inevitably leads to a <code>StackOverflowError</code>. You have to place a <strong>return</strong> statement inside the curly braces after the first <code>if</code> in your code. And comment out the first recursive call (with <code>0</code> sum passed as an argument) you'll face the <em>second problem</em>: for any input, your code will yield <code>0</code>.</li>\n<li>Results returned by <em>recursive calls</em> of your method <code>countWaysToClimbHelper()</code> are omitted. Variable <code>possibleCombos</code> isn't affected by these calls. Each method call allocates its own copy of this variable <code>possibleCombos</code> on the <strong>stack</strong> (a memory aria where JVM stores data for each method call), and their values are not related anyhow.</li>\n<li>you actually don't need to pass the number of combinations as a parameter, instead you have <em>to return it</em>.</li>\n</ul>\n<p>Before moving further, let me recap the basics of recursion.</p>\n<p>Every recursive method should contain <strong>two parts</strong>:</p>\n<ul>\n<li><strong>base case</strong> - that represents a simple edge-case for which the outcome is known in advance. For this problem, there are two edge-cases:\n<ul>\n<li><code>sumNeeded == currentSum</code> - the return value is <code>1</code>, i.e. one combination was found;</li>\n<li><code>sumNeeded &gt; currentSum</code> - the return value is <code>0</code>.</li>\n</ul>\n</li>\n<li><strong>recursive case</strong> - a part of a solution where recursive calls a made and when the main logic resides. In your <em>recursive case</em> you need to accumulate the value of the number of combination, which will be the <strong>sum</strong> of values returned be two branches of execution: take <strong>1 step</strong> or <strong>2 steps</strong>.</li>\n</ul>\n<p>So the fixed code might look like that:</p>\n<pre><code>public static int countWaysToClimb(int stairs) {\n    return countWaysToClimbHelper(stairs, 0);\n}\n\npublic static int countWaysToClimbHelper(int sumNeeded, int currentSum) {\n    // base - we will reach this base multiple times\n    if (sumNeeded == currentSum) {\n        return 1;\n    } else if (currentSum &gt; sumNeeded) {\n        return 0;\n    }\n    // recurse - add 1 and then add 2\n    int possibleCombos = 0;\n    possibleCombos += countWaysToClimbHelper(sumNeeded,currentSum + 1);\n    possibleCombos += countWaysToClimbHelper(sumNeeded,currentSum + 2);\n    return possibleCombos;\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>This code could be enhanced further. The whole logic can be implemented inside the <code>countWaysToClimb()</code> without using a helper-method. For that, instead of tracking the <code>currentSum</code> you need to subtract the number of steps from the <code>sumNeeded</code> when the method is called recursively.</li>\n</ul>\n"}],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71346083,"answer_count":1,"score":1,"last_activity_date":1646526900,"creation_date":1646344003,"question_id":71344180,"body_markdown":"I&#39;m trying to solve the problem of &quot;count ways to reach the nth step in a staircase&quot; with recursion. When given a number of stairs to climb, I have to calculate the number of ways to climb taking either 1 or 2 steps at a time. For example, if there are 4 stairs, we would return 5 since we would have:\r\n\r\n\t  * 1 1 1 1\r\n\t  * 1 1 2\r\n\t  * 1 2 1\r\n\t  * 2 1 1\r\n\t  * 2 2\r\n\r\nMy code is currently throwing a stack overflow exception:\r\n\r\n\t public static int countWaysToClimb(int stairs) {\r\n\t\t return countWaysToClimbHelper(stairs, 0, 0);\r\n\t }\r\n\t \r\n\t public static int countWaysToClimbHelper(int sumNeeded, int currentSum, int possibleCombos) {\r\n\t\t // base - we will reach this base multiple times\r\n\t\t if (sumNeeded == currentSum) {\r\n\t\t\t possibleCombos++;\r\n\t\t\t // if we already found a combo, we need to reset the sum\r\n\t\t\t countWaysToClimbHelper(sumNeeded,0,possibleCombos);  \r\n\t\t }\r\n\t\t \r\n\t\t else if (currentSum &gt; sumNeeded) {\r\n\t\t\t return 0;\r\n\t\t }\r\n\t\t \r\n\t\t // recurse - add 1 and then add 2\r\n\t\t countWaysToClimbHelper(sumNeeded,currentSum+1,possibleCombos);  \r\n\t\t countWaysToClimbHelper(sumNeeded,currentSum+2,possibleCombos);\r\n\t\t return possibleCombos;   \t\t\t\r\n\t }\r\n\r\nThank you!","title":"Recursive solution to counting the number of ways you can go up a staircase","body":"<p>I'm trying to solve the problem of &quot;count ways to reach the nth step in a staircase&quot; with recursion. When given a number of stairs to climb, I have to calculate the number of ways to climb taking either 1 or 2 steps at a time. For example, if there are 4 stairs, we would return 5 since we would have:</p>\n<pre><code>  * 1 1 1 1\n  * 1 1 2\n  * 1 2 1\n  * 2 1 1\n  * 2 2\n</code></pre>\n<p>My code is currently throwing a stack overflow exception:</p>\n<pre><code> public static int countWaysToClimb(int stairs) {\n     return countWaysToClimbHelper(stairs, 0, 0);\n }\n \n public static int countWaysToClimbHelper(int sumNeeded, int currentSum, int possibleCombos) {\n     // base - we will reach this base multiple times\n     if (sumNeeded == currentSum) {\n         possibleCombos++;\n         // if we already found a combo, we need to reset the sum\n         countWaysToClimbHelper(sumNeeded,0,possibleCombos);  \n     }\n     \n     else if (currentSum &gt; sumNeeded) {\n         return 0;\n     }\n     \n     // recurse - add 1 and then add 2\n     countWaysToClimbHelper(sumNeeded,currentSum+1,possibleCombos);  \n     countWaysToClimbHelper(sumNeeded,currentSum+2,possibleCombos);\n     return possibleCombos;             \n }\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","android","android-studio","android-fragments"],"comments":[{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1646503398,"post_id":71364539,"comment_id":126141596,"body_markdown":"See https://stackoverflow.com/questions/9105932/how-can-i-send-data-to-a-new-activity","body":"See <a href=\"https://stackoverflow.com/questions/9105932/how-can-i-send-data-to-a-new-activity\" title=\"how can i send data to a new activity\">stackoverflow.com/questions/9105932/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24396510,"reputation":11,"user_id":18325819,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646525759,"creation_date":1646525759,"answer_id":71366859,"question_id":71364539,"body_markdown":"You could create an object and save data there, then, in the 2nd fragment, access to this object and collect the data.\r\n\r\nIn Kotlin it would be:\r\n\r\n    object myObj {\r\n        var data = &quot;something&quot;\r\n    }\r\n\r\nTo get it:\r\n\r\n    (ClassName where the Obj is located).myObj.data","title":"Is it possible to pass data between fragments without changing the current fragment I am on?","body":"<p>You could create an object and save data there, then, in the 2nd fragment, access to this object and collect the data.</p>\n<p>In Kotlin it would be:</p>\n<pre><code>object myObj {\n    var data = &quot;something&quot;\n}\n</code></pre>\n<p>To get it:</p>\n<pre><code>(ClassName where the Obj is located).myObj.data\n</code></pre>\n"}],"owner":{"account_id":14373814,"reputation":23,"user_id":10382793,"display_name":"Collin Newman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646525759,"creation_date":1646502569,"question_id":71364539,"body_markdown":"I am currently trying to make an Android Application that connects to a raspberry pi via bluetooth and send data between them. I am able to connect the two devices and send the data, but only on one of the fragments. Is it possible for me to send data from another fragment to my bluetooth one without actually leaving the current fragment I am on? Thank you in advance!","title":"Is it possible to pass data between fragments without changing the current fragment I am on?","body":"<p>I am currently trying to make an Android Application that connects to a raspberry pi via bluetooth and send data between them. I am able to connect the two devices and send the data, but only on one of the fragments. Is it possible for me to send data from another fragment to my bluetooth one without actually leaving the current fragment I am on? Thank you in advance!</p>\n"},{"tags":["java","dst"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646422593,"post_id":71355648,"comment_id":126127615,"body_markdown":"You now have two answers with fairly different approaches - if you could provide more details, e.g. sample data, expected output etc, that would make your question *much* clearer. (A [mcve] would be great - you say &quot;our calculations get wrong&quot; which suggests you&#39;ve already got code - so provide that.)","body":"You now have two answers with fairly different approaches - if you could provide more details, e.g. sample data, expected output etc, that would make your question <i>much</i> clearer. (A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be great - you say &quot;our calculations get wrong&quot; which suggests you&#39;ve already got code - so provide that.)"},{"owner":{"account_id":9098423,"reputation":83,"user_id":6771540,"display_name":"Marco"},"score":0,"creation_date":1646428722,"post_id":71355648,"comment_id":126129228,"body_markdown":"@JonSkeet We are getting Date as simple YYYY-MM-DD format string. This does not provide any TimeZone information. This will make it impossible to know the difference between the two dates right? based on your explanation, I would not know which 1:30, the first or second occurrence. How can I change the solution? Alldates are in the same timezone but it does not include DST info.","body":"@JonSkeet We are getting Date as simple YYYY-MM-DD format string. This does not provide any TimeZone information. This will make it impossible to know the difference between the two dates right? based on your explanation, I would not know which 1:30, the first or second occurrence. How can I change the solution? Alldates are in the same timezone but it does not include DST info."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646464877,"post_id":71355648,"comment_id":126134428,"body_markdown":"@Marco: Right, so that&#39;s just a `LocalDate`. You don&#39;t even *have* a 1:30. Again, please provide *much more information* in your question.","body":"@Marco: Right, so that&#39;s just a <code>LocalDate</code>. You don&#39;t even <i>have</i> a 1:30. Again, please provide <i>much more information</i> in your question."},{"owner":{"account_id":9098423,"reputation":83,"user_id":6771540,"display_name":"Marco"},"score":0,"creation_date":1646510288,"post_id":71355648,"comment_id":126142970,"body_markdown":"&quot;2019-10-07 11:07 AM&quot; is the string we receive","body":"&quot;2019-10-07 11:07 AM&quot; is the string we receive"},{"owner":{"account_id":9098423,"reputation":83,"user_id":6771540,"display_name":"Marco"},"score":0,"creation_date":1646673588,"post_id":71355648,"comment_id":126176909,"body_markdown":"@JonSkeet What is the best way(format) to ask them to send data so that I can handle it on my side? They can only send as String. But I can recommend a format.","body":"@JonSkeet What is the best way(format) to ask them to send data so that I can handle it on my side? They can only send as String. But I can recommend a format."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646677550,"post_id":71355648,"comment_id":126178276,"body_markdown":"That&#39;s really a different question, *definitely* one that shouldn&#39;t be in comments, and would require *much* more context before I could make a recommendation.","body":"That&#39;s really a different question, <i>definitely</i> one that shouldn&#39;t be in comments, and would require <i>much</i> more context before I could make a recommendation."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646677594,"post_id":71355648,"comment_id":126178293,"body_markdown":"Please read https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/ for suggestions on how to ask good questions. Note that &quot;2019-10-07 11:07 AM&quot; isn&#39;t a date, for one thing - it&#39;s a date and time. Precision in this sort of thing really matters.","body":"Please read <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question</a> for suggestions on how to ask good questions. Note that &quot;2019-10-07 11:07 AM&quot; isn&#39;t a date, for one thing - it&#39;s a date and time. Precision in this sort of thing really matters."},{"owner":{"account_id":9098423,"reputation":83,"user_id":6771540,"display_name":"Marco"},"score":0,"creation_date":1646752277,"post_id":71355648,"comment_id":126198387,"body_markdown":"@JonSkeet Added a new question: https://stackoverflow.com/questions/71397254/what-date-time-format-can-be-used-to-handle-dst-in-java","body":"@JonSkeet Added a new question: <a href=\"https://stackoverflow.com/questions/71397254/what-date-time-format-can-be-used-to-handle-dst-in-java\" title=\"what date time format can be used to handle dst in java\">stackoverflow.com/questions/71397254/&hellip;</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646752389,"post_id":71355648,"comment_id":126198441,"body_markdown":"Why did you add a new question rather than just editing this one to clarify it?","body":"Why did you add a new question rather than just editing this one to clarify it?"}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646423136,"creation_date":1646421354,"answer_id":71356239,"question_id":71355648,"body_markdown":"A good way to represent correct points in time that, once constructed, allow calculations independent of any assumed time zone is `ZonedDateTime`. Whats nice about this class is that you can create instances of it easily using your own idea of local time.  You just need to tell it what time zone you&#39;re in, and it will do the right thing for daylight savings time as defined for your time zone.  Once constructed, you can do date/time arithmetic on these objects without concern for time zone or DST state.\r\n\r\nHere are the two simple cases for creating and subtracting two `ZonedDateTime` objects representing an 8 hour timespan, one that spans a DST change, and one that doesn&#39;t.  There is likely a way to do this with Java&#39;s date functions such that you never have to see and deal with the individual numbers.\r\n\r\nCase 1: Worker works 8 hours that don&#39;t cross a DST point:\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.of(\r\n            2022, 1, 13, 1, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n    ZonedDateTime zdt2 = ZonedDateTime.of(\r\n            2022, 1, 13, 9, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n    long hours = ChronoUnit.HOURS.between(zdt, zdt2);\r\n    System.out.println(hours);\r\n\r\nResult:\r\n\r\n    8\r\n\r\nCase 2: Worker works 8 hours that cross a DST point:\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.of(\r\n            2022, 3, 13, 1, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n    ZonedDateTime zdt2 = ZonedDateTime.of(\r\n            2022, 3, 13, 10, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n    long hours = ChronoUnit.HOURS.between(zdt, zdt2);\r\n    System.out.println(hours);\r\n\r\nResult:\r\n\r\n    8\r\n\r\nNotice that if you forgot about DST, you&#39;d think that for the second shift, the worker worked an extra hour.  But given DST, the two shifts were the same number of hours.\r\n\r\nNOTE: I started from numeric representations of date/times because the question does not give examples of or otherwise specify the formats of the input strings involved.  A &quot;correct&quot; example that involved string parsing would need to assume a format that might be different than what the OP is starting with. The primary question here would be if and how time zone is represented in those strings.  Parsing a string to come up with a set of numbers and a time zone is a separate problem that has nothing to do with DST, so I leave that for the OP to figure out.  It is likely that you could use date/time parsing logic in the Java date/time library to directly arrive at a ZonedDateTime, again, dependent on the format of the strings.","title":"Daylight Savings Time DST Finding Difference between two dates","body":"<p>A good way to represent correct points in time that, once constructed, allow calculations independent of any assumed time zone is <code>ZonedDateTime</code>. Whats nice about this class is that you can create instances of it easily using your own idea of local time.  You just need to tell it what time zone you're in, and it will do the right thing for daylight savings time as defined for your time zone.  Once constructed, you can do date/time arithmetic on these objects without concern for time zone or DST state.</p>\n<p>Here are the two simple cases for creating and subtracting two <code>ZonedDateTime</code> objects representing an 8 hour timespan, one that spans a DST change, and one that doesn't.  There is likely a way to do this with Java's date functions such that you never have to see and deal with the individual numbers.</p>\n<p>Case 1: Worker works 8 hours that don't cross a DST point:</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.of(\n        2022, 1, 13, 1, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\nZonedDateTime zdt2 = ZonedDateTime.of(\n        2022, 1, 13, 9, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\nlong hours = ChronoUnit.HOURS.between(zdt, zdt2);\nSystem.out.println(hours);\n</code></pre>\n<p>Result:</p>\n<pre><code>8\n</code></pre>\n<p>Case 2: Worker works 8 hours that cross a DST point:</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.of(\n        2022, 3, 13, 1, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\nZonedDateTime zdt2 = ZonedDateTime.of(\n        2022, 3, 13, 10, 0, 0, 0, ZoneId.of(&quot;America/Los_Angeles&quot;));\nlong hours = ChronoUnit.HOURS.between(zdt, zdt2);\nSystem.out.println(hours);\n</code></pre>\n<p>Result:</p>\n<pre><code>8\n</code></pre>\n<p>Notice that if you forgot about DST, you'd think that for the second shift, the worker worked an extra hour.  But given DST, the two shifts were the same number of hours.</p>\n<p>NOTE: I started from numeric representations of date/times because the question does not give examples of or otherwise specify the formats of the input strings involved.  A &quot;correct&quot; example that involved string parsing would need to assume a format that might be different than what the OP is starting with. The primary question here would be if and how time zone is represented in those strings.  Parsing a string to come up with a set of numbers and a time zone is a separate problem that has nothing to do with DST, so I leave that for the OP to figure out.  It is likely that you could use date/time parsing logic in the Java date/time library to directly arrive at a ZonedDateTime, again, dependent on the format of the strings.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646422948,"creation_date":1646422538,"answer_id":71356431,"question_id":71355648,"body_markdown":"It really depends on what your input data is and precisely what you&#39;re trying to determine.\r\n\r\nIf you&#39;re just receiving the dates, represent them as `LocalDate` values - that&#39;s what `LocalDate` represents; a date without any associated time zone. You can then use `Period.between` to find out the difference between `LocalDate` values, for example.\r\n\r\nHowever, if you want to actually work out an elapsed time between two instants in time, then you *do* need to take time zones into account - in which case you might parse into an `OffsetDateTime` or a `ZonedDateTime` (or perhaps directly `Instant` - it depends on your input data). You can find the elapsed `Duration` between any two `Temporal` values (such as `OffsetDateTime` and `ZonedDateTime`, or `Instant`) using `Duration.between`.\r\n\r\nIt&#39;s worth noting that if your input data specifies a time zone (e.g. Europe/London) and a local date/time, you will need to consider ambiguous local date/time values. For example, suppose the file is something like:\r\n\r\n```text\r\nTime zone: Europe/London\r\nShift 1 start: 2022-10-31T01:30\r\nShift 1 end: 2022-10-31T02:30\r\n```\r\n\r\nShould that be one hour, or two? It could be either, because 1:30am happened twice in the Europe/London time zone on that day, as the clocks went back from 2am to 1am. You could even end up with data that seems implausible at first glance:\r\n\r\n```text\r\nTime zone: Europe/London\r\nShift 1 start: 2022-10-31T01:30\r\nShift 1 end: 2022-10-31T01:15\r\n```\r\n\r\nThat&#39;s entirely valid as a 45 minute shift, if it started at the *first* occurrence of 1:30, and ended at the *second* occurrence of 1:15.","title":"Daylight Savings Time DST Finding Difference between two dates","body":"<p>It really depends on what your input data is and precisely what you're trying to determine.</p>\n<p>If you're just receiving the dates, represent them as <code>LocalDate</code> values - that's what <code>LocalDate</code> represents; a date without any associated time zone. You can then use <code>Period.between</code> to find out the difference between <code>LocalDate</code> values, for example.</p>\n<p>However, if you want to actually work out an elapsed time between two instants in time, then you <em>do</em> need to take time zones into account - in which case you might parse into an <code>OffsetDateTime</code> or a <code>ZonedDateTime</code> (or perhaps directly <code>Instant</code> - it depends on your input data). You can find the elapsed <code>Duration</code> between any two <code>Temporal</code> values (such as <code>OffsetDateTime</code> and <code>ZonedDateTime</code>, or <code>Instant</code>) using <code>Duration.between</code>.</p>\n<p>It's worth noting that if your input data specifies a time zone (e.g. Europe/London) and a local date/time, you will need to consider ambiguous local date/time values. For example, suppose the file is something like:</p>\n<pre><code>Time zone: Europe/London\nShift 1 start: 2022-10-31T01:30\nShift 1 end: 2022-10-31T02:30\n</code></pre>\n<p>Should that be one hour, or two? It could be either, because 1:30am happened twice in the Europe/London time zone on that day, as the clocks went back from 2am to 1am. You could even end up with data that seems implausible at first glance:</p>\n<pre><code>Time zone: Europe/London\nShift 1 start: 2022-10-31T01:30\nShift 1 end: 2022-10-31T01:15\n</code></pre>\n<p>That's entirely valid as a 45 minute shift, if it started at the <em>first</em> occurrence of 1:30, and ended at the <em>second</em> occurrence of 1:15.</p>\n"}],"owner":{"account_id":9098423,"reputation":83,"user_id":6771540,"display_name":"Marco"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647015887,"answer_count":2,"score":0,"last_activity_date":1646525753,"creation_date":1646417776,"question_id":71355648,"body_markdown":"We are sent two dates from an external source as Strings. We then calculate the difference between the dates to see how many hours they worked.\r\n\r\nTwo times a year due to the time change -  Our calculations get wrong. We use Java.\r\nHow do you solve a problem like this?\r\n\r\nThe two dates come in a file as String and have the following format.\r\n&quot;2019-10-07 11:07 AM&quot;","title":"Daylight Savings Time DST Finding Difference between two dates","body":"<p>We are sent two dates from an external source as Strings. We then calculate the difference between the dates to see how many hours they worked.</p>\n<p>Two times a year due to the time change -  Our calculations get wrong. We use Java.\nHow do you solve a problem like this?</p>\n<p>The two dates come in a file as String and have the following format.\n&quot;2019-10-07 11:07 AM&quot;</p>\n"},{"tags":["java","list","arraylist","incomplete-type"],"comments":[{"owner":{"account_id":4435760,"reputation":4170,"user_id":3611648,"accept_rate":80,"display_name":"Mustafa sabir"},"score":0,"creation_date":1405578565,"post_id":24796273,"comment_id":38486078,"body_markdown":"`ArrayList&lt;ArrayList&lt;Integer&gt;&gt; output = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();` is valid","body":"<code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; output = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</code> is valid"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1405578604,"creation_date":1405578604,"answer_id":24796340,"question_id":24796273,"body_markdown":"If you had a `List&lt;List&lt;Integer&gt;&gt;` then you&#39;d be able to add a `LinkedList&lt;Integer&gt;` to it.  But you can&#39;t do this for an `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;`, so the latter can&#39;t possibly be a type of `List&lt;List&lt;Integer&gt;&gt;`.","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<p>If you had a <code>List&lt;List&lt;Integer&gt;&gt;</code> then you'd be able to add a <code>LinkedList&lt;Integer&gt;</code> to it.  But you can't do this for an <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code>, so the latter can't possibly be a type of <code>List&lt;List&lt;Integer&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"down_vote_count":3,"up_vote_count":37,"is_accepted":false,"score":34,"last_activity_date":1405580621,"creation_date":1405578710,"answer_id":24796365,"question_id":24796273,"body_markdown":"### From [Generics, Inheritance, and Subtypes][1]\n\n&gt; This is a common misunderstanding when it comes to programming with\n&gt; generics, but it is an important concept to learn.\n&gt;\n&gt; ![enter image description here][2]\n&gt;\n&gt; `Box&lt;Integer&gt;` is not a subtype of Box&lt;Number&gt; even though Integer is a subtype of Number.\n\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/inheritance.html\n  [2]: http://i.stack.imgur.com/IW0vU.gif","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<h3>From <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/inheritance.html\" rel=\"noreferrer\">Generics, Inheritance, and Subtypes</a></h3>\n<blockquote>\n<p>This is a common misunderstanding when it comes to programming with\ngenerics, but it is an important concept to learn.</p>\n<p><img src=\"https://i.stack.imgur.com/IW0vU.gif\" alt=\"enter image description here\" /></p>\n<p><code>Box&lt;Integer&gt;</code> is not a subtype of Box even though Integer is a subtype of Number.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1405578845,"creation_date":1405578845,"answer_id":24796410,"question_id":24796273,"body_markdown":"It is clearly stated in [Java Doc][1]\r\n\r\n&gt; In general, if Foo is a subtype (subclass or subinterface) of Bar, and\r\n&gt; G is some generic type declaration, **it is not the case that `G&lt;Foo&gt;` is\r\n&gt; a subtype of `G&lt;Bar&gt;`**. This is probably the hardest thing you need to\r\n&gt; learn about generics, because it goes against our deeply held\r\n&gt; intuitions.\r\n\r\nSame thing happens here it&#39;s `Bar = List&lt;Integer&gt;` and `Foo = ArrayList&lt;Integer&gt;` as `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;` is not sub type of `List&lt;List&lt;Integer&gt;&gt;`\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<p>It is clearly stated in <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html\" rel=\"noreferrer\">Java Doc</a></p>\n\n<blockquote>\n  <p>In general, if Foo is a subtype (subclass or subinterface) of Bar, and\n  G is some generic type declaration, <strong>it is not the case that <code>G&lt;Foo&gt;</code> is\n  a subtype of <code>G&lt;Bar&gt;</code></strong>. This is probably the hardest thing you need to\n  learn about generics, because it goes against our deeply held\n  intuitions.</p>\n</blockquote>\n\n<p>Same thing happens here it's <code>Bar = List&lt;Integer&gt;</code> and <code>Foo = ArrayList&lt;Integer&gt;</code> as <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code> is not sub type of <code>List&lt;List&lt;Integer&gt;&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":222406,"reputation":13699,"user_id":480975,"display_name":"lpiepiora"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1405579086,"creation_date":1405579086,"answer_id":24796474,"question_id":24796273,"body_markdown":"The reason is that *generics are not [covariant][1].*\r\n\r\nConsider simpler case:\r\n\r\n    List&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;();\r\n    List&lt;Number&gt; numbers = integers; // cannot do this\r\n    numbers.add(new Float(1337.44));\r\n\r\nNow List&lt;Integer&gt; holds a Float, which is certainly bad.\r\n\r\nSame for your case.\r\n\r\n    List&lt;ArrayList&lt;Integer&gt;&gt; al = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n    List&lt;List&lt;Integer&gt;&gt; ll = al; // cannot do this\r\n    ll.add(new LinkedList&lt;Integer&gt;())\r\n\r\nNow you have a list `ll` which holds `LinkedList`, but the `al` is declared as a List of `ArrayList`s.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\r\n","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<p>The reason is that <em>generics are not <a href=\"http://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\">covariant</a>.</em></p>\n\n<p>Consider simpler case:</p>\n\n<pre><code>List&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;();\nList&lt;Number&gt; numbers = integers; // cannot do this\nnumbers.add(new Float(1337.44));\n</code></pre>\n\n<p>Now List holds a Float, which is certainly bad.</p>\n\n<p>Same for your case.</p>\n\n<pre><code>List&lt;ArrayList&lt;Integer&gt;&gt; al = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\nList&lt;List&lt;Integer&gt;&gt; ll = al; // cannot do this\nll.add(new LinkedList&lt;Integer&gt;())\n</code></pre>\n\n<p>Now you have a list <code>ll</code> which holds <code>LinkedList</code>, but the <code>al</code> is declared as a List of <code>ArrayList</code>s.</p>\n"},{"tags":[],"owner":{"account_id":1489695,"reputation":3132,"user_id":1397100,"accept_rate":88,"display_name":"spiralmoon"},"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1405894239,"creation_date":1405894239,"answer_id":24855404,"question_id":24796273,"body_markdown":"The correct writing should be:\r\n`List&lt;List&lt;Integer&gt;&gt; ret = new ArrayList&lt;List&lt;Integer&gt;&gt;();`\r\nSince in this way, you can add not only `ArrayList` but also `LinkedList` to `ret`\r\n","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<p>The correct writing should be:\n<code>List&lt;List&lt;Integer&gt;&gt; ret = new ArrayList&lt;List&lt;Integer&gt;&gt;();</code>\nSince in this way, you can add not only <code>ArrayList</code> but also <code>LinkedList</code> to <code>ret</code></p>\n"},{"tags":[],"owner":{"account_id":205397,"reputation":6308,"user_id":454137,"accept_rate":60,"display_name":"Pavel Shkleinik"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1530830769,"creation_date":1530830769,"answer_id":51200844,"question_id":24796273,"body_markdown":"Less text more fixes:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;&gt;();\r\n\r\nor\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;List&lt;Integer&gt;&gt;();","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<p>Less text more fixes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24237851,"reputation":11,"user_id":18190695,"display_name":"Zhen Qi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646525018,"creation_date":1646525018,"answer_id":71366817,"question_id":24796273,"body_markdown":"  Before you use generics, you should know 2 principles.\r\n\r\n  **1. The generics parameter should be the same like:** \r\n  \r\n\r\n    LinkedList&lt;String&gt; res = new LinkedList&lt;String&gt;();\r\n\r\n  **2. The parameter should directly inherit from class Object like Integer, Character, and List or Array. (LinkedList is the subclass of List, so cannot be the parameter of generics)**\r\n  \r\nHere is a correct demonstrations:\r\n\r\n    LinkedList&lt;List&lt;Integer&gt;&gt; res = new LinkedList&lt;List&lt;Integer&gt;&gt;(); \r\n\r\n","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<p>Before you use generics, you should know 2 principles.</p>\n<p><strong>1. The generics parameter should be the same like:</strong></p>\n<pre><code>LinkedList&lt;String&gt; res = new LinkedList&lt;String&gt;();\n</code></pre>\n<p><strong>2. The parameter should directly inherit from class Object like Integer, Character, and List or Array. (LinkedList is the subclass of List, so cannot be the parameter of generics)</strong></p>\n<p>Here is a correct demonstrations:</p>\n<pre><code>LinkedList&lt;List&lt;Integer&gt;&gt; res = new LinkedList&lt;List&lt;Integer&gt;&gt;(); \n</code></pre>\n"}],"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56631,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":24796340,"answer_count":7,"score":52,"last_activity_date":1646525018,"creation_date":1405578362,"question_id":24796273,"body_markdown":"The below line gives me error : \r\n\r\n    Incompatible Types.\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; output = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\r\n\r\nWhat is the reason?\r\n\r\n**EDIT**\r\n\r\nI understand if I change my second ArrayList to List, it does not give me error. I want to know the reason of error though. Thanks","title":"Incompatible types List of List and ArrayList of ArrayList","body":"<p>The below line gives me error : </p>\n\n<pre><code>Incompatible Types.\n\nList&lt;List&lt;Integer&gt;&gt; output = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n</code></pre>\n\n<p>What is the reason?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I understand if I change my second ArrayList to List, it does not give me error. I want to know the reason of error though. Thanks</p>\n"},{"tags":["java","fixed-point"],"comments":[{"owner":{"account_id":1585670,"reputation":11607,"user_id":1470092,"accept_rate":96,"display_name":"huseyin tugrul buyukisik"},"score":1,"creation_date":1344708231,"post_id":11916308,"comment_id":15866473,"body_markdown":"%100 precision? This is infinitive digit number","body":"%100 precision? This is infinitive digit number"},{"owner":{"account_id":1585670,"reputation":11607,"user_id":1470092,"accept_rate":96,"display_name":"huseyin tugrul buyukisik"},"score":0,"creation_date":1344708285,"post_id":11916308,"comment_id":15866481,"body_markdown":"whats your needed digit number after the point?","body":"whats your needed digit number after the point?"},{"owner":{"account_id":35684,"reputation":36738,"user_id":101152,"accept_rate":90,"display_name":"Karel B&#237;lek"},"score":0,"creation_date":1344708325,"post_id":11916308,"comment_id":15866485,"body_markdown":"Sorry, 100% was needed figuratively. I will add more info.","body":"Sorry, 100% was needed figuratively. I will add more info."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1456130914,"post_id":11916308,"comment_id":58786768,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/277309/java-floating-point-high-precision-library","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/277309/java-floating-point-high-precision-library\" title=\"java floating point high precision library\">stackoverflow.com/questions/277309/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1344734760,"creation_date":1344708789,"answer_id":11916442,"question_id":11916308,"body_markdown":"Are you _completely_ sure BigDecimal is the performance problem? Did you use a profiler to find out? If yes, two options that could help are:\r\n\r\n1) Use `long` and multiply all values by a factor (for example 100 if you are interested in cents).\r\n\r\n2) Use a specially designed class that implements something similar to `BigDecimal`, but using `long` internally. I don&#39;t know if a good open source library exists (maybe the [Java Math Fixed Point Library][1]?). I wrote one such class myself quite a long time ago (2001 I believe) for J2ME. It&#39;s a bit tricky to get right. Please note `BigDecimal` uses a `long` internally as well except if high precision is needed, so this solution will only help a tiny bit in most cases.\r\n\r\nUsing `double` isn&#39;t a good option in many cases, because of rounding and precision problems.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jmfp/","title":"fixed point arithmetics in java with fast performance","body":"<p>Are you <em>completely</em> sure BigDecimal is the performance problem? Did you use a profiler to find out? If yes, two options that could help are:</p>\n\n<p>1) Use <code>long</code> and multiply all values by a factor (for example 100 if you are interested in cents).</p>\n\n<p>2) Use a specially designed class that implements something similar to <code>BigDecimal</code>, but using <code>long</code> internally. I don't know if a good open source library exists (maybe the <a href=\"http://sourceforge.net/projects/jmfp/\" rel=\"nofollow\">Java Math Fixed Point Library</a>?). I wrote one such class myself quite a long time ago (2001 I believe) for J2ME. It's a bit tricky to get right. Please note <code>BigDecimal</code> uses a <code>long</code> internally as well except if high precision is needed, so this solution will only help a tiny bit in most cases.</p>\n\n<p>Using <code>double</code> isn't a good option in many cases, because of rounding and precision problems.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1344711742,"creation_date":1344711742,"answer_id":11916835,"question_id":11916308,"body_markdown":"Not sure why you need a library for it. \r\n\r\nFor example, say you want to add two longs with the same fixed precision\r\n\r\n    long c = a + b;\r\n\r\nSay you have a fixed precision number you want to multiple by an integer\r\n\r\n    long c = a * i;\r\n\r\nSay you want to divide a number by a integer rounding to zero\r\n\r\n    long c = a / i;\r\n\r\nSay you want to print a fixed precision number with 3 decimal places.\r\n\r\n    System.out.println(c / 1e3);\r\n\r\nPerhaps you are over thinking the problem and assuming you need a library for everything.\r\n\r\nIf you are using `long` or `double` you might want a small number helper methods for rounding, but you don&#39;t need a library as such.\r\n\r\n","title":"fixed point arithmetics in java with fast performance","body":"<p>Not sure why you need a library for it. </p>\n\n<p>For example, say you want to add two longs with the same fixed precision</p>\n\n<pre><code>long c = a + b;\n</code></pre>\n\n<p>Say you have a fixed precision number you want to multiple by an integer</p>\n\n<pre><code>long c = a * i;\n</code></pre>\n\n<p>Say you want to divide a number by a integer rounding to zero</p>\n\n<pre><code>long c = a / i;\n</code></pre>\n\n<p>Say you want to print a fixed precision number with 3 decimal places.</p>\n\n<pre><code>System.out.println(c / 1e3);\n</code></pre>\n\n<p>Perhaps you are over thinking the problem and assuming you need a library for everything.</p>\n\n<p>If you are using <code>long</code> or <code>double</code> you might want a small number helper methods for rounding, but you don't need a library as such.</p>\n"},{"tags":[],"owner":{"account_id":2974733,"reputation":721,"user_id":2526021,"display_name":"marco"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1646524859,"creation_date":1446847219,"answer_id":33576397,"question_id":11916308,"body_markdown":"[decimal4j](http://decimal4j.org) is a Java library for fast fixed precision arithmetic based on longs with support for up to 18 decimal places.\r\n\r\n*Disclosure:* I am involved in the decimal4j project.","title":"fixed point arithmetics in java with fast performance","body":"<p><a href=\"http://decimal4j.org\" rel=\"nofollow noreferrer\">decimal4j</a> is a Java library for fast fixed precision arithmetic based on longs with support for up to 18 decimal places.</p>\n<p><em>Disclosure:</em> I am involved in the decimal4j project.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539560095,"creation_date":1539559652,"answer_id":52807968,"question_id":11916308,"body_markdown":"Although this is not exactly what you are asking about, this can speed up your app without leaving `BigDecimal`:\r\n\r\nSince Java 8, this is solved by `BigDecimal` itself. A [new class `MathContext`](https://docs.oracle.com/javase/8/docs/api/java/math/MathContext.html) was added and limits the precision to which the operations are calculated.\r\n\r\n    var num = new BigDecimal(&quot;1234.56780&quot;, new MathContext(10, RoundingMode.DOWN));\r\n\r\nThe catch is that the precision `10` does not apply to digits after decimal point. It applies to the number of significant digits. For `1234.50`, 6 is needed.  \r\nFor `1_500_000_000.100`, 13 is needed to keep the number as is.   \r\nSo the precision might suffer when you had a precision of 10 and counted billions of Czech Korunas.  \r\nStill, a precision of, say, 1000, is way faster than unlimited precision (which is I think the default).\r\n\r\nThis can also be applied to the individual operations:\r\n\r\n    BigDecimal n = new BigDecimal(&quot;0.12345&quot;);\r\n    n = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\r\n    n = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\r\n    n = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\r\n    n = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\r\n","title":"fixed point arithmetics in java with fast performance","body":"<p>Although this is not exactly what you are asking about, this can speed up your app without leaving <code>BigDecimal</code>:</p>\n\n<p>Since Java 8, this is solved by <code>BigDecimal</code> itself. A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/MathContext.html\" rel=\"nofollow noreferrer\">new class <code>MathContext</code></a> was added and limits the precision to which the operations are calculated.</p>\n\n<pre><code>var num = new BigDecimal(\"1234.56780\", new MathContext(10, RoundingMode.DOWN));\n</code></pre>\n\n<p>The catch is that the precision <code>10</code> does not apply to digits after decimal point. It applies to the number of significant digits. For <code>1234.50</code>, 6 is needed.<br>\nFor <code>1_500_000_000.100</code>, 13 is needed to keep the number as is.<br>\nSo the precision might suffer when you had a precision of 10 and counted billions of Czech Korunas.<br>\nStill, a precision of, say, 1000, is way faster than unlimited precision (which is I think the default).</p>\n\n<p>This can also be applied to the individual operations:</p>\n\n<pre><code>BigDecimal n = new BigDecimal(\"0.12345\");\nn = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\nn = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\nn = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\nn = n.pow(2, new MathContext(1000, RoundingMode.DOWN));\n</code></pre>\n"}],"owner":{"account_id":35684,"reputation":36738,"user_id":101152,"accept_rate":90,"display_name":"Karel B&#237;lek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19686,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11916442,"answer_count":4,"score":6,"last_activity_date":1646524859,"creation_date":1344707693,"question_id":11916308,"body_markdown":"I need to represent some numbers in Java with perfect precision and fixed number of decimal points after decimal point; after that decimal point, I don&#39;t care. (More concretely - money and percentages.)\r\n\r\nI used Java&#39;s own BigDecimal now, but I found out, that it&#39;s ***really*** slow and it starts to show in my application.\r\n\r\nSo I want to solve it with a &quot;regular&quot; integers and a fixed-point arithmetics (long integers have big enough precision for my purposes).\r\n\r\nNow, I would think that I am not the first one who has this kind of problem and there would be already a library for that, that already has multiplication/division implemented - but it seems that it isn&#39;t.\r\n\r\nNow, I very probably can write it myself (and I probably will), but really, am I really the first person that needs this? Isn&#39;t there already some library for that?","title":"fixed point arithmetics in java with fast performance","body":"<p>I need to represent some numbers in Java with perfect precision and fixed number of decimal points after decimal point; after that decimal point, I don't care. (More concretely - money and percentages.)</p>\n\n<p>I used Java's own BigDecimal now, but I found out, that it's <strong><em>really</em></strong> slow and it starts to show in my application.</p>\n\n<p>So I want to solve it with a \"regular\" integers and a fixed-point arithmetics (long integers have big enough precision for my purposes).</p>\n\n<p>Now, I would think that I am not the first one who has this kind of problem and there would be already a library for that, that already has multiplication/division implemented - but it seems that it isn't.</p>\n\n<p>Now, I very probably can write it myself (and I probably will), but really, am I really the first person that needs this? Isn't there already some library for that?</p>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":21554207,"reputation":93,"user_id":15889782,"display_name":"underflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646524766,"creation_date":1646524766,"answer_id":71366804,"question_id":71366590,"body_markdown":"Looks like I found the trick - Guice is rejecting any other attempts to use `MembersInjector` if it&#39;s not used _exactly_  this way.  \r\nThe resulting errors of all other attempts has varied from &quot;recursive load&quot;, &quot;can&#39;t use before Injector is created&quot; and others...  \r\nAttempting to call `getMembersInjector` before creating TranslationImpl also triggers &quot;recursive load&quot; error for a reason I don&#39;t yet understand, but moving it past that makes it work.  \r\n\r\n\r\n\r\n```java\r\n    class TranslationKeyListener implements TypeListener {\r\n        public &lt;T&gt; void hear(TypeLiteral&lt;T&gt; typeLiteral, TypeEncounter&lt;T&gt; typeEncounter) {\r\n            Class&lt;?&gt; clazz = typeLiteral.getRawType();\r\n\r\n            while (clazz != null) {\r\n                for (Field field : clazz.getDeclaredFields()) {\r\n                    Class&lt;?&gt; fieldType = field.getType();\r\n                    if (field.isAnnotationPresent(TranslationKey.class) &amp;&amp;\r\n                            (fieldType == Translation.class)) {\r\n                        TranslationKey key = field.getAnnotation(TranslationKey.class);\r\n\r\n                        String theKey = key.value()\r\n                        TranslationImpl impl = new TranslationImpl(theKey, true);\r\n                        MembersInjector injector =\r\n                                typeEncounter.getMembersInjector(TranslationImpl.class);\r\n\r\n                        typeEncounter.register(new TranslationInjector(field, impl));\r\n                        typeEncounter.register(new MembersInjector&lt;T&gt;() {\r\n                            @Override\r\n                            public void injectMembers(T instance) {\r\n                                injector.injectMembers(impl);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                clazz = clazz.getSuperclass();\r\n            }\r\n        }\r\n    }\r\n```","title":"How to do dependency injection for objects created with TypeListener in Guice?","body":"<p>Looks like I found the trick - Guice is rejecting any other attempts to use <code>MembersInjector</code> if it's not used <em>exactly</em>  this way.<br />\nThe resulting errors of all other attempts has varied from &quot;recursive load&quot;, &quot;can't use before Injector is created&quot; and others...<br />\nAttempting to call <code>getMembersInjector</code> before creating TranslationImpl also triggers &quot;recursive load&quot; error for a reason I don't yet understand, but moving it past that makes it work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class TranslationKeyListener implements TypeListener {\n        public &lt;T&gt; void hear(TypeLiteral&lt;T&gt; typeLiteral, TypeEncounter&lt;T&gt; typeEncounter) {\n            Class&lt;?&gt; clazz = typeLiteral.getRawType();\n\n            while (clazz != null) {\n                for (Field field : clazz.getDeclaredFields()) {\n                    Class&lt;?&gt; fieldType = field.getType();\n                    if (field.isAnnotationPresent(TranslationKey.class) &amp;&amp;\n                            (fieldType == Translation.class)) {\n                        TranslationKey key = field.getAnnotation(TranslationKey.class);\n\n                        String theKey = key.value()\n                        TranslationImpl impl = new TranslationImpl(theKey, true);\n                        MembersInjector injector =\n                                typeEncounter.getMembersInjector(TranslationImpl.class);\n\n                        typeEncounter.register(new TranslationInjector(field, impl));\n                        typeEncounter.register(new MembersInjector&lt;T&gt;() {\n                            @Override\n                            public void injectMembers(T instance) {\n                                injector.injectMembers(impl);\n                            }\n                        });\n                    }\n                }\n                clazz = clazz.getSuperclass();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21554207,"reputation":93,"user_id":15889782,"display_name":"underflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646524766,"creation_date":1646521566,"question_id":71366590,"body_markdown":"Assuming such module configure method:\r\n```java\r\n    @Override\r\n    protected void configure() {\r\n        bindListener(Matchers.any(), new TranslationKeyListener());\r\n    }\r\n\r\n    class TranslationKeyListener implements TypeListener {\r\n        public &lt;T&gt; void hear(TypeLiteral&lt;T&gt; typeLiteral, TypeEncounter&lt;T&gt; typeEncounter) {\r\n            Class&lt;?&gt; clazz = typeLiteral.getRawType();\r\n\r\n            while (clazz != null) {\r\n                for (Field field : clazz.getDeclaredFields()) {\r\n                    Class&lt;?&gt; fieldType = field.getType();\r\n                    if (field.isAnnotationPresent(TranslationKey.class) &amp;&amp;\r\n                            (fieldType == Translation.class)) {\r\n                        TranslationKey key = field.getAnnotation(TranslationKey.class);\r\n\r\n                        String theKey = key.value();\r\n                        typeEncounter.register(new TranslationInjector&lt;T&gt;(field, theKey));\r\n                    }\r\n                }\r\n                clazz = clazz.getSuperclass();\r\n            }\r\n        }\r\n    }\r\n\r\n    class TranslationInjector&lt;T&gt; implements MembersInjector&lt;T&gt; {\r\n        private final Field field;\r\n        private final TranslationImpl translation;\r\n\r\n        TranslationInjector(Field field, String key) {\r\n            this.field = field;\r\n            this.translation = new TranslationImpl(key, true);\r\n            field.setAccessible(true);\r\n        }\r\n\r\n        @SneakyThrows\r\n        public void injectMembers(T t) {\r\n            field.set(t, translation);\r\n        }\r\n   }\r\n\r\n```\r\n\r\nand usage in another class like\r\n\r\n```java\r\n@TranslationKey(&quot;someKey&quot;)\r\nprivate Translation translation; // implemented by TranslationImpl\r\n```\r\n\r\nhow can I make sure that dependcies - class fields - using @Inject inside TranslationImpl will be injected as well?\r\nin the same way that `requestInjection(this)` works within a module, but this is not supported when called outside configure()...","title":"How to do dependency injection for objects created with TypeListener in Guice?","body":"<p>Assuming such module configure method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void configure() {\n        bindListener(Matchers.any(), new TranslationKeyListener());\n    }\n\n    class TranslationKeyListener implements TypeListener {\n        public &lt;T&gt; void hear(TypeLiteral&lt;T&gt; typeLiteral, TypeEncounter&lt;T&gt; typeEncounter) {\n            Class&lt;?&gt; clazz = typeLiteral.getRawType();\n\n            while (clazz != null) {\n                for (Field field : clazz.getDeclaredFields()) {\n                    Class&lt;?&gt; fieldType = field.getType();\n                    if (field.isAnnotationPresent(TranslationKey.class) &amp;&amp;\n                            (fieldType == Translation.class)) {\n                        TranslationKey key = field.getAnnotation(TranslationKey.class);\n\n                        String theKey = key.value();\n                        typeEncounter.register(new TranslationInjector&lt;T&gt;(field, theKey));\n                    }\n                }\n                clazz = clazz.getSuperclass();\n            }\n        }\n    }\n\n    class TranslationInjector&lt;T&gt; implements MembersInjector&lt;T&gt; {\n        private final Field field;\n        private final TranslationImpl translation;\n\n        TranslationInjector(Field field, String key) {\n            this.field = field;\n            this.translation = new TranslationImpl(key, true);\n            field.setAccessible(true);\n        }\n\n        @SneakyThrows\n        public void injectMembers(T t) {\n            field.set(t, translation);\n        }\n   }\n\n</code></pre>\n<p>and usage in another class like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TranslationKey(&quot;someKey&quot;)\nprivate Translation translation; // implemented by TranslationImpl\n</code></pre>\n<p>how can I make sure that dependcies - class fields - using @Inject inside TranslationImpl will be injected as well?\nin the same way that <code>requestInjection(this)</code> works within a module, but this is not supported when called outside configure()...</p>\n"},{"tags":["java","arraylist","while-loop"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1646518698,"post_id":71366310,"comment_id":126144537,"body_markdown":"You only break when the user inputs a space. You should try the condition `country.isEmpty()`. Also your date prompt can just go above your country prompt.","body":"You only break when the user inputs a space. You should try the condition <code>country.isEmpty()</code>. Also your date prompt can just go above your country prompt."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646519875,"creation_date":1646519875,"answer_id":71366435,"question_id":71366310,"body_markdown":"Your checking for `hasNext()` but should be checking for `hasNextLine()`.\r\n\r\nHowever, don’t do either:\r\n\r\n    while (true) {\r\n         String country = input.nextLine();\r\n         \r\n         if (country.isEmpty()){\r\n            break;\r\n         } \r\n             \r\n         char c = country.charAt(0);\r\n         \r\n         if (!Character.isUpperCase(c)){\r\n            System.out.println (&quot;Type with Capital Letter!&quot;);\r\n         } else {\r\n            countries.add(country);         \r\n         } \r\n      }","title":"how do I break a while loop when asking for user input?","body":"<p>Your checking for <code>hasNext()</code> but should be checking for <code>hasNextLine()</code>.</p>\n<p>However, don’t do either:</p>\n<pre><code>while (true) {\n     String country = input.nextLine();\n     \n     if (country.isEmpty()){\n        break;\n     } \n         \n     char c = country.charAt(0);\n     \n     if (!Character.isUpperCase(c)){\n        System.out.println (&quot;Type with Capital Letter!&quot;);\n     } else {\n        countries.add(country);         \n     } \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24455823,"reputation":1,"user_id":18377438,"display_name":"Lexifh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646524742,"creation_date":1646524742,"answer_id":71366800,"question_id":71366310,"body_markdown":"You could also set an empty country string before a do while loop and check for the the country not being empty in the end:\r\n\r\n    public void userInterface()\r\n    {\r\n        // interactive interface\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter the date:&quot;);\r\n        String date = input.nextLine();\r\n\r\n        ArrayList&lt;String&gt; countries = new ArrayList&lt;String&gt; ();\r\n\r\n        System.out.println (&quot;Enter the list of countries (end with an empty line):&quot;);\r\n\r\n        String country = &quot;&quot;;\r\n        do\r\n        {\r\n            country = input.nextLine();\r\n            if(!country.isEmpty()) {\r\n                char c = country.charAt(0);\r\n\r\n                if (Character.isUpperCase(c) == false)\r\n                {\r\n                    System.out.println(&quot;Type with Capital Letter!&quot;);\r\n                }\r\n                else\r\n                {\r\n                    countries.add(country);\r\n                }\r\n            }\r\n        } while(!country.isEmpty());\r\n    }","title":"how do I break a while loop when asking for user input?","body":"<p>You could also set an empty country string before a do while loop and check for the the country not being empty in the end:</p>\n<pre><code>public void userInterface()\n{\n    // interactive interface\n    Scanner input = new Scanner(System.in);\n\n    System.out.println(&quot;Enter the date:&quot;);\n    String date = input.nextLine();\n\n    ArrayList&lt;String&gt; countries = new ArrayList&lt;String&gt; ();\n\n    System.out.println (&quot;Enter the list of countries (end with an empty line):&quot;);\n\n    String country = &quot;&quot;;\n    do\n    {\n        country = input.nextLine();\n        if(!country.isEmpty()) {\n            char c = country.charAt(0);\n\n            if (Character.isUpperCase(c) == false)\n            {\n                System.out.println(&quot;Type with Capital Letter!&quot;);\n            }\n            else\n            {\n                countries.add(country);\n            }\n        }\n    } while(!country.isEmpty());\n}\n</code></pre>\n"}],"owner":{"account_id":21903172,"reputation":11,"user_id":16189495,"display_name":"Joanna Green"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71366435,"answer_count":2,"score":0,"last_activity_date":1646524742,"creation_date":1646518460,"question_id":71366310,"body_markdown":"i need to try to break the while loop when a user enters an empty line instead of countries. Here is the code I have done so far and it does not seem to want to end the loop of asking for countries:\r\n```\r\npublic void userInterface()\r\n    {\r\n    // interactive interface\r\n      Scanner input = new Scanner(System.in);\r\n\r\n      System.out.println(&quot;Enter the date:&quot;);\r\n      String date = input.nextLine();\r\n\r\n      ArrayList&lt;String&gt; countries = new ArrayList&lt;String&gt; ();\r\n      \r\n      System.out.println (&quot;Enter the list of countries (end with an empty line):&quot;);\r\n      \r\n      while (input.hasNext()) {\r\n         String country = input.nextLine();\r\n         \r\n         if (country.isEmpty()){\r\n            break;\r\n         } \r\n             \r\n         char c = country.charAt(0);\r\n         \r\n         if (Character.isUpperCase(c)==false){\r\n            System.out.println (&quot;Type with Capital Letter!&quot;);\r\n         } else {\r\n            countries.add(country);         \r\n         } \r\n      }\r\n    \r\n   \r\n   }\r\n```\r\nthe user input should look as follows:\r\n```\r\nEnter the date:\r\n2022-02-17\r\nEnter the list of countries (end with an empty line):\r\nNorway\r\nSuriname\r\nSouth Namibia\r\n```","title":"how do I break a while loop when asking for user input?","body":"<p>i need to try to break the while loop when a user enters an empty line instead of countries. Here is the code I have done so far and it does not seem to want to end the loop of asking for countries:</p>\n<pre><code>public void userInterface()\n    {\n    // interactive interface\n      Scanner input = new Scanner(System.in);\n\n      System.out.println(&quot;Enter the date:&quot;);\n      String date = input.nextLine();\n\n      ArrayList&lt;String&gt; countries = new ArrayList&lt;String&gt; ();\n      \n      System.out.println (&quot;Enter the list of countries (end with an empty line):&quot;);\n      \n      while (input.hasNext()) {\n         String country = input.nextLine();\n         \n         if (country.isEmpty()){\n            break;\n         } \n             \n         char c = country.charAt(0);\n         \n         if (Character.isUpperCase(c)==false){\n            System.out.println (&quot;Type with Capital Letter!&quot;);\n         } else {\n            countries.add(country);         \n         } \n      }\n    \n   \n   }\n</code></pre>\n<p>the user input should look as follows:</p>\n<pre><code>Enter the date:\n2022-02-17\nEnter the list of countries (end with an empty line):\nNorway\nSuriname\nSouth Namibia\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1646521087,"post_id":71366535,"comment_id":126144883,"body_markdown":"Buffering of `System.in`/Leftover (buffered) input might be the reason for that.","body":"Buffering of <code>System.in</code>/Leftover (buffered) input might be the reason for that."}],"answers":[{"tags":[],"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646522362,"creation_date":1646522362,"answer_id":71366651,"question_id":71366535,"body_markdown":"You&#39;re using an infinite for loop and not telling it when to stop. \r\nAdding break statement is terminating the for loop. Hence, it is working.\r\n\r\n","title":"Why is the following code showing twice the statements inside try block inside the loop?","body":"<p>You're using an infinite for loop and not telling it when to stop.\nAdding break statement is terminating the for loop. Hence, it is working.</p>\n"},{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646523000,"creation_date":1646523000,"answer_id":71366696,"question_id":71366535,"body_markdown":"NoSuchElementException is not actually &quot;intercepting ctrl/C&quot;.  So what&#39;s likely happening is you&#39;re terminating input, the next() call throws an exception because there is no input, you print a message, and loop round to do it again. \r\n\r\nInput is still terminated, so the next() call throws an exception....\r\n\r\nWhat surprises me is thus not that it loops, but that it stops looping after 2 or 3 times.  Maybe some other exception gets thrown that you don&#39;t catch; hard to say without adding a handler to check.\r\n\r\nBut the root issue is: if you want that particular exception to quit the program, you need to write code that quits the program.  You in fact did that when you wrote the &#39;break&#39; out of the loop.\r\n","title":"Why is the following code showing twice the statements inside try block inside the loop?","body":"<p>NoSuchElementException is not actually &quot;intercepting ctrl/C&quot;.  So what's likely happening is you're terminating input, the next() call throws an exception because there is no input, you print a message, and loop round to do it again.</p>\n<p>Input is still terminated, so the next() call throws an exception....</p>\n<p>What surprises me is thus not that it loops, but that it stops looping after 2 or 3 times.  Maybe some other exception gets thrown that you don't catch; hard to say without adding a handler to check.</p>\n<p>But the root issue is: if you want that particular exception to quit the program, you need to write code that quits the program.  You in fact did that when you wrote the 'break' out of the loop.</p>\n"}],"owner":{"account_id":12779071,"reputation":318,"user_id":14105067,"display_name":"imraklr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71366696,"answer_count":2,"score":-2,"last_activity_date":1646523000,"creation_date":1646520841,"question_id":71366535,"body_markdown":"Following is the program for reversing a word using a stack. There is no problem in implementation of stack. It is executing finely. When ctrl-c is pressed, it prints the content of `try-catch` block twice or even thrice. What causes this?\r\n\r\n    import java.util.NoSuchElementException;\r\n    import java.util.Scanner;\r\n    class WordReversal {\r\n        public static void main(String args[]) {\r\n        StackIFace sfWord;  // interface reference\r\n        Stack s = new Stack();\r\n        sfWord = s;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Control-C to stop.&quot;);\r\n        for(;;) {\r\n            String senWord = &quot;&quot;, revWord = &quot;&quot;;\r\n            try {\r\n                    System.out.println(&quot;Enter a word: &quot;);\r\n                    senWord = sc.next();\r\n                    for(int i=0;i&lt;senWord.length();i++)\r\n                    sfWord.push(senWord.charAt(i));\r\n                    for(int i=0;i&lt;senWord.length();i++)\r\n                        revWord+=sfWord.pop();\r\n                    System.out.println(&quot;Original Word::&quot;+senWord+&quot;\\nReversed Word::&quot;+revWord);\r\n                } catch(NoSuchElementException NSEe) {\r\n                System.out.println(&quot;Control-C command accepted.\\nQuitting...&quot;);\r\n                //break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOne thing to notice here is if I put `break` (just remove two forward slashes in above code), the problem is solved but exactly what is causing this? Is `Scanner` causing this or is it a language problem?","title":"Why is the following code showing twice the statements inside try block inside the loop?","body":"<p>Following is the program for reversing a word using a stack. There is no problem in implementation of stack. It is executing finely. When ctrl-c is pressed, it prints the content of <code>try-catch</code> block twice or even thrice. What causes this?</p>\n<pre><code>import java.util.NoSuchElementException;\nimport java.util.Scanner;\nclass WordReversal {\n    public static void main(String args[]) {\n    StackIFace sfWord;  // interface reference\n    Stack s = new Stack();\n    sfWord = s;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Control-C to stop.&quot;);\n    for(;;) {\n        String senWord = &quot;&quot;, revWord = &quot;&quot;;\n        try {\n                System.out.println(&quot;Enter a word: &quot;);\n                senWord = sc.next();\n                for(int i=0;i&lt;senWord.length();i++)\n                sfWord.push(senWord.charAt(i));\n                for(int i=0;i&lt;senWord.length();i++)\n                    revWord+=sfWord.pop();\n                System.out.println(&quot;Original Word::&quot;+senWord+&quot;\\nReversed Word::&quot;+revWord);\n            } catch(NoSuchElementException NSEe) {\n            System.out.println(&quot;Control-C command accepted.\\nQuitting...&quot;);\n            //break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>One thing to notice here is if I put <code>break</code> (just remove two forward slashes in above code), the problem is solved but exactly what is causing this? Is <code>Scanner</code> causing this or is it a language problem?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":7178839,"reputation":166,"user_id":5483654,"display_name":"Ivan Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646521836,"creation_date":1646521836,"answer_id":71366615,"question_id":71365316,"body_markdown":"I&#39;d just check the attribute value, so if its null simply do not put it on JSON and everything will be fine.","title":"Java -- Put NULL value into JSONObject","body":"<p>I'd just check the attribute value, so if its null simply do not put it on JSON and everything will be fine.</p>\n"}],"owner":{"account_id":21695292,"reputation":91,"user_id":16009312,"display_name":"Catherin Zeta Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646521836,"creation_date":1646508063,"question_id":71365316,"body_markdown":"I have an array of array, and each small array containt 3 Strings:\r\n\r\n```\r\nString errorParameters[][] = {\r\n                { &quot;MXL_001&quot;, &quot;insertion error&quot;, &quot;some string&quot; },\r\n                { &quot;DLJ_040&quot;, &quot;some other error&quot;, null },\r\n                { &quot;DLJ_042&quot;, &quot;some other error&quot;, &quot;some other string&quot; }\r\n        };\r\n```\r\nThe last value sometimes can be null, like in the [1] array. \r\nI pass this array to method that constructs some JSONObject and puts it into JSONArray.\r\n\r\n```\r\npublic String myMethod(Object[][] errorParameters) {\r\n        JSONArray errorMessages = new JSONArray();\r\n\r\n        for (int i = 0; i &lt; errorParameters.length; i++) {\r\n            for (int j = 0; j &lt; errorParameters.length; j++) {\r\n                if (errorParameters[i][j] == null) {\r\n                    errorParameters[i][j] =  JSONObject.NULL;\r\n                }\r\n            }\r\n            errorMessages.put(new JSONObject()\r\n                    .put(&quot;attribute1&quot;, errorParameters[i][0])\r\n                    .put(&quot;attribute2&quot;, errorParameters[i][1])\r\n                    .put(&quot;attribute3&quot;, errorParameters[i][2]));\r\n        }\r\n        return errorMessages.toString();\r\n    }\r\n```\r\n\r\nI expect the next JSON to be formed:\r\n```\r\n[\r\n    {&quot;attribute1&quot;:&quot;MXL_001&quot;,\r\n     &quot;attribute2&quot;:&quot;insertion error&quot;,\r\n     &quot;attribute3&quot;:&quot;some string&quot;\r\n    },\r\n    {&quot;attribute1&quot;:&quot;DLJ_040&quot;,\r\n     &quot;attribute2&quot;:&quot;some other error&quot;,\r\n     &quot;attribute3&quot;:null\r\n    },\r\n    {&quot;attribute1&quot;:&quot;DLJ_042&quot;,\r\n     &quot;attribute2&quot;:&quot;some other error&quot;,\r\n     &quot;attribute3&quot;:&quot;some other string&quot;\r\n    },\r\n]\r\n```\r\n\r\nBut I got JSON without attribute which value is null:\r\n```\r\n[\r\n    {&quot;attribute1&quot;:&quot;MXL_001&quot;,\r\n     &quot;attribute2&quot;:&quot;insertion error&quot;,\r\n     &quot;attribute3&quot;:&quot;some string&quot;\r\n    },\r\n    {&quot;attribute1&quot;:&quot;DLJ_040&quot;,\r\n     &quot;attribute2&quot;:&quot;some other error&quot;\r\n    },\r\n    {&quot;attribute1&quot;:&quot;DLJ_042&quot;,\r\n     &quot;attribute2&quot;:&quot;some other error&quot;,\r\n     &quot;attribute3&quot;:&quot;some other string&quot;\r\n    },\r\n]\r\n```\r\n\r\nAne ideas how to put this null value into my JSON?","title":"Java -- Put NULL value into JSONObject","body":"<p>I have an array of array, and each small array containt 3 Strings:</p>\n<pre><code>String errorParameters[][] = {\n                { &quot;MXL_001&quot;, &quot;insertion error&quot;, &quot;some string&quot; },\n                { &quot;DLJ_040&quot;, &quot;some other error&quot;, null },\n                { &quot;DLJ_042&quot;, &quot;some other error&quot;, &quot;some other string&quot; }\n        };\n</code></pre>\n<p>The last value sometimes can be null, like in the [1] array.\nI pass this array to method that constructs some JSONObject and puts it into JSONArray.</p>\n<pre><code>public String myMethod(Object[][] errorParameters) {\n        JSONArray errorMessages = new JSONArray();\n\n        for (int i = 0; i &lt; errorParameters.length; i++) {\n            for (int j = 0; j &lt; errorParameters.length; j++) {\n                if (errorParameters[i][j] == null) {\n                    errorParameters[i][j] =  JSONObject.NULL;\n                }\n            }\n            errorMessages.put(new JSONObject()\n                    .put(&quot;attribute1&quot;, errorParameters[i][0])\n                    .put(&quot;attribute2&quot;, errorParameters[i][1])\n                    .put(&quot;attribute3&quot;, errorParameters[i][2]));\n        }\n        return errorMessages.toString();\n    }\n</code></pre>\n<p>I expect the next JSON to be formed:</p>\n<pre><code>[\n    {&quot;attribute1&quot;:&quot;MXL_001&quot;,\n     &quot;attribute2&quot;:&quot;insertion error&quot;,\n     &quot;attribute3&quot;:&quot;some string&quot;\n    },\n    {&quot;attribute1&quot;:&quot;DLJ_040&quot;,\n     &quot;attribute2&quot;:&quot;some other error&quot;,\n     &quot;attribute3&quot;:null\n    },\n    {&quot;attribute1&quot;:&quot;DLJ_042&quot;,\n     &quot;attribute2&quot;:&quot;some other error&quot;,\n     &quot;attribute3&quot;:&quot;some other string&quot;\n    },\n]\n</code></pre>\n<p>But I got JSON without attribute which value is null:</p>\n<pre><code>[\n    {&quot;attribute1&quot;:&quot;MXL_001&quot;,\n     &quot;attribute2&quot;:&quot;insertion error&quot;,\n     &quot;attribute3&quot;:&quot;some string&quot;\n    },\n    {&quot;attribute1&quot;:&quot;DLJ_040&quot;,\n     &quot;attribute2&quot;:&quot;some other error&quot;\n    },\n    {&quot;attribute1&quot;:&quot;DLJ_042&quot;,\n     &quot;attribute2&quot;:&quot;some other error&quot;,\n     &quot;attribute3&quot;:&quot;some other string&quot;\n    },\n]\n</code></pre>\n<p>Ane ideas how to put this null value into my JSON?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1352183126,"post_id":13245490,"comment_id":18047409,"body_markdown":"Convert it to character array and loop through it checking for matches. Check out [java.util.String](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html)","body":"Convert it to character array and loop through it checking for matches. Check out <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">java.util.String</a>"}],"answers":[{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352183592,"creation_date":1352183268,"answer_id":13245582,"question_id":13245490,"body_markdown":"Use regex `[g]` to find the char and count the findings as below:\r\n\r\n\t\tPattern pattern = Pattern.compile(&quot;[g]&quot;);\r\n\t\tMatcher matcher = pattern.matcher(&quot;engineering&quot;);\r\n\t\tint countCharacter = 0;\r\n\t\twhile(matcher.find()) {\r\n\t\t\tcountCharacter++;\r\n\t    }\r\n\t\tSystem.out.println(countCharacter);\r\n\r\n\r\nIf you want case insensitive count, use regex as `[gG]` in the Pattern.","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>Use regex <code>[g]</code> to find the char and count the findings as below:</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(\"[g]\");\n    Matcher matcher = pattern.matcher(\"engineering\");\n    int countCharacter = 0;\n    while(matcher.find()) {\n        countCharacter++;\n    }\n    System.out.println(countCharacter);\n</code></pre>\n\n<p>If you want case insensitive count, use regex as <code>[gG]</code> in the Pattern.</p>\n"},{"tags":[],"owner":{"account_id":1529623,"reputation":27083,"user_id":1427161,"accept_rate":86,"display_name":"doublesharp"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1352184300,"creation_date":1352183289,"answer_id":13245586,"question_id":13245490,"body_markdown":"I would use a `Pattern` and `Matcher`:\r\n\r\n    String string = &quot;engineering&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;([gG])&quot;); //case insensitive, use [g] for only lower\r\n    Matcher matcher = pattern.matcher(string);\r\n    int count = 0;\r\n    while (matcher.find()) count++;","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>I would use a <code>Pattern</code> and <code>Matcher</code>:</p>\n\n<pre><code>String string = \"engineering\";\nPattern pattern = Pattern.compile(\"([gG])\"); //case insensitive, use [g] for only lower\nMatcher matcher = pattern.matcher(string);\nint count = 0;\nwhile (matcher.find()) count++;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352183952,"creation_date":1352183345,"answer_id":13245597,"question_id":13245490,"body_markdown":"You can try following :\r\n\r\n    String str = &quot;engineering&quot;;\r\n    int letterCount = 0;\r\n    int index = -1;\r\n    while((index = str.indexOf(&#39;g&#39;, index+1)) &gt; 0)\r\n        letterCount++;\r\n    System.out.println(&quot;Letter Count = &quot; + letterCount);","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>You can try following :</p>\n\n<pre><code>String str = \"engineering\";\nint letterCount = 0;\nint index = -1;\nwhile((index = str.indexOf('g', index+1)) &gt; 0)\n    letterCount++;\nSystem.out.println(\"Letter Count = \" + letterCount);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1446470822,"creation_date":1352183388,"answer_id":13245614,"question_id":13245490,"body_markdown":"Try this\r\n\r\n    int count = StringUtils.countMatches(&quot;engineering&quot;, &quot;e&quot;);\r\n\r\nMore about [StringUtils][1] can be learned from the question: [How do I use StringUtils in Java?][2]\r\n\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\r\n[2]: https://stackoverflow.com/questions/8660151/how-do-i-use-stringutils-in-java","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>Try this</p>\n\n<pre><code>int count = StringUtils.countMatches(\"engineering\", \"e\");\n</code></pre>\n\n<p>More about <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\" rel=\"noreferrer\">StringUtils</a> can be learned from the question: <a href=\"https://stackoverflow.com/questions/8660151/how-do-i-use-stringutils-in-java\">How do I use StringUtils in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1352183445,"creation_date":1352183445,"answer_id":13245621,"question_id":13245490,"body_markdown":"Although Regex will work fine, but it is not really required here. You can do it simply using a `for-loop` to maintain a `count` for a character. \r\n\r\nYou would need to convert your string to a char array: -\r\n\r\n        String str = &quot;engineering&quot;;\r\n\t\tchar toCheck = &#39;g&#39;;\r\n\t\tint count = 0;\r\n\t\t\r\n\t\tfor (char ch: str.toCharArray()) { \r\n\t\t    if (ch == toCheck) {\r\n\t\t    \tcount++;\r\n\t\t    }\r\n\t\t}\r\n\t\tSystem.out.println(count);\r\n\r\nor, you can also do it **without converting** to `charArray`: -\r\n\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        if (str.charAt(i) == toCheck) {\r\n            count++;\r\n        }\r\n    }","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>Although Regex will work fine, but it is not really required here. You can do it simply using a <code>for-loop</code> to maintain a <code>count</code> for a character. </p>\n\n<p>You would need to convert your string to a char array: -</p>\n\n<pre><code>    String str = \"engineering\";\n    char toCheck = 'g';\n    int count = 0;\n\n    for (char ch: str.toCharArray()) { \n        if (ch == toCheck) {\n            count++;\n        }\n    }\n    System.out.println(count);\n</code></pre>\n\n<p>or, you can also do it <strong>without converting</strong> to <code>charArray</code>: -</p>\n\n<pre><code>for (int i = 0; i &lt; str.length(); i++) {\n    if (str.charAt(i) == toCheck) {\n        count++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1078271,"reputation":502,"user_id":1075955,"display_name":"adjablon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1352183774,"creation_date":1352183774,"answer_id":13245693,"question_id":13245490,"body_markdown":"    String s = &quot;engineering&quot;;\r\n    char c = &#39;g&#39;;\r\n    s.replaceAll(&quot;[^&quot;+ c +&quot;]&quot;, &quot;&quot;).length();","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<pre><code>String s = \"engineering\";\nchar c = 'g';\ns.replaceAll(\"[^\"+ c +\"]\", \"\").length();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2735045"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416219853,"creation_date":1416217739,"answer_id":26969811,"question_id":13245490,"body_markdown":"You can loop through it and keep a count of the letter you want. \r\n\r\n    public class Program {\r\n        public static int countAChars(String s) {\r\n            int count = 0;\r\n            for(char c : s.toCharArray()) {\r\n                if(&#39;a&#39; == c) {\r\n                   count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    }\r\n\r\n\r\nor you can use StringUtils to get a count. \r\n\r\n    int count = StringUtils.countMatches(&quot;engineering&quot;, &quot;e&quot;);","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>You can loop through it and keep a count of the letter you want. </p>\n\n<pre><code>public class Program {\n    public static int countAChars(String s) {\n        int count = 0;\n        for(char c : s.toCharArray()) {\n            if('a' == c) {\n               count++;\n            }\n        }\n        return count;\n    }\n}\n</code></pre>\n\n<p>or you can use StringUtils to get a count. </p>\n\n<pre><code>int count = StringUtils.countMatches(\"engineering\", \"e\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5652867,"reputation":682,"user_id":4472834,"display_name":"hungariandatabaseprogrammer"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1511289158,"creation_date":1422520145,"answer_id":28210079,"question_id":13245490,"body_markdown":"I know this is and old question, but there is an option that wasn&#39;t answered and it&#39;s pretty simple one-liner:\r\n\r\n    int count = string.length() - string.replaceAll(&quot;g&quot;,&quot;&quot;).length()","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>I know this is and old question, but there is an option that wasn't answered and it's pretty simple one-liner:</p>\n\n<pre><code>int count = string.length() - string.replaceAll(\"g\",\"\").length()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9084697,"reputation":11,"user_id":6763219,"display_name":"abood nasr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646521670,"creation_date":1472406551,"answer_id":39194158,"question_id":13245490,"body_markdown":"this is a very very old question but this might help someone (&quot;_&quot;)\r\n\r\nyou can Just simply use this code\r\n    \r\n    public static void main(String[] args){\r\n        String mainString = &quot;This is and that is he is and she is&quot;;\r\n        //To find The &quot;is&quot; from the mainString\r\n\t\tString whatToFind = &quot;is&quot;;\r\n        int result = countMatches(mainString, whatToFind);\r\n        System.out.println(result);\r\n    }\r\n\r\n    public static int countMatches(String mainString, String whatToFind){\r\n\t\tString tempString = mainString.replaceAll(whatToFind, &quot;&quot;);\r\n\t\t//this even work for on letter\r\n\t\tint times = (mainString.length()-tempString.length())/whatToFind.length();\r\n\t\t\r\n\t\t//times should be 4\r\n        return times;\r\n\t}\r\n\r\n  ","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>this is a very very old question but this might help someone (&quot;_&quot;)</p>\n<p>you can Just simply use this code</p>\n<pre><code>public static void main(String[] args){\n    String mainString = &quot;This is and that is he is and she is&quot;;\n    //To find The &quot;is&quot; from the mainString\n    String whatToFind = &quot;is&quot;;\n    int result = countMatches(mainString, whatToFind);\n    System.out.println(result);\n}\n\npublic static int countMatches(String mainString, String whatToFind){\n    String tempString = mainString.replaceAll(whatToFind, &quot;&quot;);\n    //this even work for on letter\n    int times = (mainString.length()-tempString.length())/whatToFind.length();\n    \n    //times should be 4\n    return times;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8152506,"reputation":71,"user_id":6139070,"display_name":"Vyankatesh Bizkonnect"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487770014,"creation_date":1487770014,"answer_id":42392808,"question_id":13245490,"body_markdown":"use org.apache.commons.lang3 package for use StringUtils class.\r\ndownload jar file and place it into lib folder of your web application.\r\n\r\n    int count = StringUtils.countMatches(&quot;engineering&quot;, &quot;e&quot;);","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>use org.apache.commons.lang3 package for use StringUtils class.\ndownload jar file and place it into lib folder of your web application.</p>\n\n<pre><code>int count = StringUtils.countMatches(\"engineering\", \"e\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16015092,"reputation":121,"user_id":11558050,"display_name":"S.P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559397352,"creation_date":1559397352,"answer_id":56407376,"question_id":13245490,"body_markdown":"You can try Java-8 way. Easy, simple and more readable.\r\n\r\n~~~\r\nlong countOfA = str.chars().filter(ch -&gt; ch == &#39;g&#39;).count();\r\n~~~","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>You can try Java-8 way. Easy, simple and more readable.</p>\n\n<pre><code>long countOfA = str.chars().filter(ch -&gt; ch == 'g').count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7646656,"reputation":51,"user_id":5797080,"display_name":"Ali Farshidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571874880,"creation_date":1571873104,"answer_id":58532170,"question_id":13245490,"body_markdown":"This is an old question and it is in Java but I will answer it in Python.  This might be helpful:\r\n\r\n\r\n\r\n    string = &#39;E75;Z;00001;&#39;\r\n\r\n    a = string.split(&#39;;&#39;)\r\n\r\n    print(len(a)-1)\r\n","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>This is an old question and it is in Java but I will answer it in Python.  This might be helpful:</p>\n\n<pre><code>string = 'E75;Z;00001;'\n\na = string.split(';')\n\nprint(len(a)-1)\n</code></pre>\n"}],"owner":{"account_id":2014550,"reputation":273,"user_id":1802156,"display_name":"user1802156"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103663,"favorite_count":0,"down_vote_count":4,"up_vote_count":28,"answer_count":12,"score":24,"last_activity_date":1646521670,"creation_date":1352182851,"question_id":13245490,"body_markdown":"How we can check any string that contains any character how may time....\r\nexample:\r\n**engineering**  is a string contains how many times **&#39;g&#39;** in complete string","title":"check how many times string contains character &#39;g&#39; in eligible string","body":"<p>How we can check any string that contains any character how may time....\nexample:\n<strong>engineering</strong>  is a string contains how many times <strong>'g'</strong> in complete string</p>\n"},{"tags":["java","inheritance","extends","instanceof"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1646518106,"post_id":71366251,"comment_id":126144433,"body_markdown":"You must be doing something wrong with your tests or class hierarchy because the thing you labelled &#39;2&#39; will not return true. What is the class declaration for the `Horse` and `Bear` class?","body":"You must be doing something wrong with your tests or class hierarchy because the thing you labelled &#39;2&#39; will not return true. What is the class declaration for the <code>Horse</code> and <code>Bear</code> class?"},{"owner":{"account_id":21256278,"reputation":15,"user_id":15637739,"display_name":"Todoroki Attack"},"score":0,"creation_date":1646519749,"post_id":71366251,"comment_id":126144693,"body_markdown":"@BenAnderson \nI have nothing inside my class except this:\n\n`public class Bear extends Animals {\n\n    private String type = &quot;bear&quot;;\n   \n}\n\nI created my list inside another model Class \n\npublic class Cell {\n    private List&lt;Animals&gt; contents = new ArrayList&lt;Anmals&gt;();\n\n    public List&lt;Animals&gt; getCellContents(){\n        return contents;\n    }\n    public boolean hasBear(){\n        for(int i=0; i&lt; contents.size(); ++i){\n            Animals a = contents.get(i);\n            if(a instanceof Bear);\n                return true;\n        }\n        return false;\n    }`","body":"@BenAnderson  I have nothing inside my class except this:  <code>public class Bear extends Animals {      private String type = &quot;bear&quot;;     }  I created my list inside another model Class   public class Cell {     private List&lt;Animals&gt; contents = new ArrayList&lt;Anmals&gt;();      public List&lt;Animals&gt; getCellContents(){         return contents;     }     public boolean hasBear(){         for(int i=0; i&lt; contents.size(); ++i){             Animals a = contents.get(i);             if(a instanceof Bear);                 return true;         }         return false;     }</code>"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1646520872,"post_id":71366251,"comment_id":126144851,"body_markdown":"possible that the fact you have done `++i` instead of `i++` is causing issues","body":"possible that the fact you have done <code>++i</code> instead of <code>i++</code> is causing issues"}],"answers":[{"tags":[],"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646521596,"creation_date":1646521021,"answer_id":71366551,"question_id":71366251,"body_markdown":"The issue is with your if statement.\r\n\r\n    if(a instanceof Bear);\r\n        return true;\r\n\r\nYou have ended your if statement with a semicolon which means its an empty statement and the next line `return true` is always executed. Remove the semicolon after the if statement.\r\n\r\nRead more here: https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement \r\n","title":"JAVA: How to compare child class in a List","body":"<p>The issue is with your if statement.</p>\n<pre><code>if(a instanceof Bear);\n    return true;\n</code></pre>\n<p>You have ended your if statement with a semicolon which means its an empty statement and the next line <code>return true</code> is always executed. Remove the semicolon after the if statement.</p>\n<p>Read more here: <a href=\"https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement\">Semicolon at end of &#39;if&#39; statement</a></p>\n"}],"owner":{"account_id":21256278,"reputation":15,"user_id":15637739,"display_name":"Todoroki Attack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71366551,"answer_count":1,"score":0,"last_activity_date":1646521596,"creation_date":1646517775,"question_id":71366251,"body_markdown":"So I created a parent class : Animals\r\n\r\n    public class Animals {\r\n\r\n       private String type;\r\n\r\n       public String getType(){\r\n           return this.type;\r\n       }\r\n    }\r\n\r\n   And I then created different child class like horse, bear, dog etc that extends Animals.\r\n\r\nI then created a List &lt;  Animals   &gt; list which can contain object which are either from horse class, bear, etc.\r\n\r\nBut I&#39;ve been struggling to create a method that could tell me if yes or no my list contains for i.e any bear (an object from Bear Class).\r\n\r\nI tried so many things. \r\n\r\n1) horse.getClass() returns nothing\r\n2) if i do a \r\n\r\n        Horse h = new Horse();\r\n    System.out.print(h instanceof Bear);\r\n        \r\n    \r\n\r\n---&gt; it returns true which is wrong.\r\n\r\n3) Same thing with equals.\r\n4) I also created a String attribute in each child class so I can compare the string instead but Java doesn&#39;t read them as string somehow.\r\n\r\nI am so lost.\r\n\r\n\r\n\r\n","title":"JAVA: How to compare child class in a List","body":"<p>So I created a parent class : Animals</p>\n<pre><code>public class Animals {\n\n   private String type;\n\n   public String getType(){\n       return this.type;\n   }\n}\n</code></pre>\n<p>And I then created different child class like horse, bear, dog etc that extends Animals.</p>\n<p>I then created a List &lt;  Animals   &gt; list which can contain object which are either from horse class, bear, etc.</p>\n<p>But I've been struggling to create a method that could tell me if yes or no my list contains for i.e any bear (an object from Bear Class).</p>\n<p>I tried so many things.</p>\n<ol>\n<li><p>horse.getClass() returns nothing</p>\n</li>\n<li><p>if i do a</p>\n<pre><code> Horse h = new Horse();\n</code></pre>\n<p>System.out.print(h instanceof Bear);</p>\n</li>\n</ol>\n<p>---&gt; it returns true which is wrong.</p>\n<ol start=\"3\">\n<li>Same thing with equals.</li>\n<li>I also created a String attribute in each child class so I can compare the string instead but Java doesn't read them as string somehow.</li>\n</ol>\n<p>I am so lost.</p>\n"},{"tags":["java","web-services","ssl","ssl-certificate","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":7178839,"reputation":166,"user_id":5483654,"display_name":"Ivan Costa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646519899,"creation_date":1646519899,"answer_id":71366437,"question_id":71365064,"body_markdown":"You need to create a Trust Manager which does not validate certificate chains like the default ones.\r\n\r\nCheck this:\r\n(https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error)","title":"Java Spring WS and SSLHandshakeException","body":"<p>You need to create a Trust Manager which does not validate certificate chains like the default ones.</p>\n<p>Check this:\n(<a href=\"https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error\">How to solve javax.net.ssl.SSLHandshakeException Error?</a>)</p>\n"}],"owner":{"account_id":2898422,"reputation":185,"user_id":2485700,"accept_rate":83,"display_name":"Nbento"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646519899,"creation_date":1646506320,"question_id":71365064,"body_markdown":"I&#39;m trying to call an Italian webservice, but I&#39;m getting an `SSLHandshakeException` exception. I know this is a security trust problem and I should have a certificate to allow me to communicate using SSL. I would like to know if someone can help me to understand what should be the next steps and how can I generate a valid certificate to communicate with the webservice. Security is not my beach :) \r\n\r\nThe Italian webservice has a zip folder with a tool for developers and they have there two certificates, but I don&#39;t know what I should do with them. YOu can see here: https://sistemats1.sanita.finanze.it/portale/spese-sanitarie/documenti-e-specifiche-tecniche-strumenti-per-lo-sviluppo\r\n\r\nLink to the Zip file: (https://sistemats1.sanita.finanze.it/portale/documents/20182/34450/kit730P_ver_20210301.zip/027086e7-385a-6071-ca86-f52077923a85)\r\n\r\n\r\nYou can see my experimental code here: https://github.com/nbentoneves/ws-spring-sts/blob/main/src/main/java/com/github/STSClient.java, feel free to clone and try it.\r\n\r\nNote: In the development kit they have a soap project and I was able to call the webservice without needing anything.\r\n\r\nSTS Test Environment: https://invioSS730pTest.sanita.finanze.it/DocumentoSpesa730pWeb/DocumentoSpesa730pPort\r\n\r\nThanks,\r\n\r\nHave a nice code time :) ","title":"Java Spring WS and SSLHandshakeException","body":"<p>I'm trying to call an Italian webservice, but I'm getting an <code>SSLHandshakeException</code> exception. I know this is a security trust problem and I should have a certificate to allow me to communicate using SSL. I would like to know if someone can help me to understand what should be the next steps and how can I generate a valid certificate to communicate with the webservice. Security is not my beach :)</p>\n<p>The Italian webservice has a zip folder with a tool for developers and they have there two certificates, but I don't know what I should do with them. YOu can see here: <a href=\"https://sistemats1.sanita.finanze.it/portale/spese-sanitarie/documenti-e-specifiche-tecniche-strumenti-per-lo-sviluppo\" rel=\"nofollow noreferrer\">https://sistemats1.sanita.finanze.it/portale/spese-sanitarie/documenti-e-specifiche-tecniche-strumenti-per-lo-sviluppo</a></p>\n<p>Link to the Zip file: (<a href=\"https://sistemats1.sanita.finanze.it/portale/documents/20182/34450/kit730P_ver_20210301.zip/027086e7-385a-6071-ca86-f52077923a85\" rel=\"nofollow noreferrer\">https://sistemats1.sanita.finanze.it/portale/documents/20182/34450/kit730P_ver_20210301.zip/027086e7-385a-6071-ca86-f52077923a85</a>)</p>\n<p>You can see my experimental code here: <a href=\"https://github.com/nbentoneves/ws-spring-sts/blob/main/src/main/java/com/github/STSClient.java\" rel=\"nofollow noreferrer\">https://github.com/nbentoneves/ws-spring-sts/blob/main/src/main/java/com/github/STSClient.java</a>, feel free to clone and try it.</p>\n<p>Note: In the development kit they have a soap project and I was able to call the webservice without needing anything.</p>\n<p>STS Test Environment: <a href=\"https://invioSS730pTest.sanita.finanze.it/DocumentoSpesa730pWeb/DocumentoSpesa730pPort\" rel=\"nofollow noreferrer\">https://invioSS730pTest.sanita.finanze.it/DocumentoSpesa730pWeb/DocumentoSpesa730pPort</a></p>\n<p>Thanks,</p>\n<p>Have a nice code time :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1646519052,"post_id":71366326,"comment_id":126144595,"body_markdown":"You can&#39;t assign the `newPokedex` inside the method like that (Java has no pass by reference). Make the method return an `ArrayList` instead.","body":"You can&#39;t assign the <code>newPokedex</code> inside the method like that (Java has no pass by reference). Make the method return an <code>ArrayList</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":8081408,"reputation":885,"user_id":6090480,"display_name":"vnagy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646519560,"creation_date":1646519560,"answer_id":71366401,"question_id":71366326,"body_markdown":"Your error lies in the way you are using the\r\n\r\n    ArrayList &lt;Pokemon&gt; newPokedex\r\nparameter.\r\n\r\nIn this line:\r\n\r\n    newPokedex = (ArrayList&lt;Pokemon&gt;) readStream.readObject();\r\n\r\nyou are not reading into the list that you provided as a parameter, instead you are overriding the list reference where the parameter is pointing. But that does not change the list reference outside your method. This is a common mistake.\r\n\r\nIf you use this line of code instead of the original, it should work:\r\n\r\n    newPokedex.addAll((ArrayList&lt;Pokemon&gt;) readStream.readObject());\r\n\r\nNow you are actually adding all the items from the list that you read from the file into the list that you have provided as a parameter.","title":"Reading File not reading properly","body":"<p>Your error lies in the way you are using the</p>\n<pre><code>ArrayList &lt;Pokemon&gt; newPokedex\n</code></pre>\n<p>parameter.</p>\n<p>In this line:</p>\n<pre><code>newPokedex = (ArrayList&lt;Pokemon&gt;) readStream.readObject();\n</code></pre>\n<p>you are not reading into the list that you provided as a parameter, instead you are overriding the list reference where the parameter is pointing. But that does not change the list reference outside your method. This is a common mistake.</p>\n<p>If you use this line of code instead of the original, it should work:</p>\n<pre><code>newPokedex.addAll((ArrayList&lt;Pokemon&gt;) readStream.readObject());\n</code></pre>\n<p>Now you are actually adding all the items from the list that you read from the file into the list that you have provided as a parameter.</p>\n"}],"owner":{"account_id":24464916,"reputation":3,"user_id":18385445,"display_name":"WhatToDooo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71366401,"answer_count":1,"score":0,"last_activity_date":1646519560,"creation_date":1646518649,"question_id":71366326,"body_markdown":"I feel like I&#39;m making a dumb mistake because I&#39;ve been able to do this successfully before, I&#39;m trying to read a file to an Object ArrayList, here&#39;s the method.\r\n\r\n    public static void readFile (String fileName, ArrayList &lt;Pokemon&gt; newPokedex) {\r\n        try{\r\n            FileInputStream readData = new FileInputStream(fileName);\r\n            ObjectInputStream readStream = new ObjectInputStream(readData);\r\n            newPokedex = (ArrayList&lt;Pokemon&gt;) readStream.readObject();\r\n            readStream.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\nIt&#39;ll work if I don&#39;t add parameters, but every time I do, it tells me my ArrayList is empty.\r\n\r\n    public static void main (String [] args) {\r\n        Pokemon.readFile(&quot;Pokedex.txt&quot;, Pokemon.Pokedex);\r\n        System.out.println(Pokedex.size());\r\n    }\r\nMy write method works just fine and it&#39;ll also print the correct size when I tell it to print it in the method","title":"Reading File not reading properly","body":"<p>I feel like I'm making a dumb mistake because I've been able to do this successfully before, I'm trying to read a file to an Object ArrayList, here's the method.</p>\n<pre><code>public static void readFile (String fileName, ArrayList &lt;Pokemon&gt; newPokedex) {\n    try{\n        FileInputStream readData = new FileInputStream(fileName);\n        ObjectInputStream readStream = new ObjectInputStream(readData);\n        newPokedex = (ArrayList&lt;Pokemon&gt;) readStream.readObject();\n        readStream.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>It'll work if I don't add parameters, but every time I do, it tells me my ArrayList is empty.</p>\n<pre><code>public static void main (String [] args) {\n    Pokemon.readFile(&quot;Pokedex.txt&quot;, Pokemon.Pokedex);\n    System.out.println(Pokedex.size());\n}\n</code></pre>\n<p>My write method works just fine and it'll also print the correct size when I tell it to print it in the method</p>\n"},{"tags":["java","group-by","hashmap","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646503984,"creation_date":1646479033,"answer_id":71361711,"question_id":71360765,"body_markdown":"Seems like you are getting the concept of **method references** wrong. Not every method call can be replaced by a method reference.\r\n\r\n[**Lambda expressions**](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n) and [**method references**](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html) should conform to a **functional interface**.\r\n\r\nWhich is an **interface** that contains one and only one *abstract method* (and **note:** the signature of this method must not match to one of the methods defined in the `Object` class).\r\n\r\nHence, in order to be able to use method references in the constructor call\r\n\r\n    new StatusDTO(ProductDTO::getProductUuid, ProductDTO::getDisabled)\r\n\r\ntype `ProductDTO` must be a **functional interface**. And since `ProductDTO` is a **class** you can&#39;t do that.\r\n\r\nYou can use method references only when function is expected. Since this constructor doesn&#39;t expect functions, even if you place it inside a collector, it doesn&#39;t mean that now it&#39;s illegible to pass lambdas to it.\r\n\r\nAnother mistake is that `Collectors.toList()` must be a downstream collector of `Collectors.mapping()` but **not** `Collectors.groupingBy()`. So the **overall structure** of your collector will be the following:\r\n\r\n    Collectors.groupingBy(function that extracts a KEY,\r\n                          mapFactory, // &lt;- resulting map (optional argument)\r\n                          Collectors.mapping(function that transforms a VALUE, \r\n                                             Collectors.toList()) // &lt;- downstream collector that defenses how VALUES will be represented in the resulting map\r\n\r\n&gt; Do I need LinkedHashMap as I tried below?\r\n\r\nIf you added only in order to try to make the code compile, the answer is **no**. Use `LinkedHashMap` only if you need to maintain the order in which entries were added. `HashMap` which `groupingBy()` will give you by default should be always preferred over `LinkedHashMap`. If you don&#39;t need it, then just remove the `mapFactory` from your collector.\r\n\r\nAssuming that `LinkedHashMap` is required for your purposes, the collector will look like this:\r\n\r\n    Collectors.groupingBy(ProductDTO::getProductCategoryUuid,\r\n                    LinkedHashMap::new, // &lt;- remove this argument if there&#39;s no such requirement \r\n                    Collectors.mapping(product -&gt; new StatusDTO(product.getProductUuid(),\r\n                                                                product.getDisabled()),\r\n                                       Collectors.toList())","title":"How to group in HashMap via stream","body":"<p>Seems like you are getting the concept of <strong>method references</strong> wrong. Not every method call can be replaced by a method reference.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><strong>Lambda expressions</strong></a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\"><strong>method references</strong></a> should conform to a <strong>functional interface</strong>.</p>\n<p>Which is an <strong>interface</strong> that contains one and only one <em>abstract method</em> (and <strong>note:</strong> the signature of this method must not match to one of the methods defined in the <code>Object</code> class).</p>\n<p>Hence, in order to be able to use method references in the constructor call</p>\n<pre><code>new StatusDTO(ProductDTO::getProductUuid, ProductDTO::getDisabled)\n</code></pre>\n<p>type <code>ProductDTO</code> must be a <strong>functional interface</strong>. And since <code>ProductDTO</code> is a <strong>class</strong> you can't do that.</p>\n<p>You can use method references only when function is expected. Since this constructor doesn't expect functions, even if you place it inside a collector, it doesn't mean that now it's illegible to pass lambdas to it.</p>\n<p>Another mistake is that <code>Collectors.toList()</code> must be a downstream collector of <code>Collectors.mapping()</code> but <strong>not</strong> <code>Collectors.groupingBy()</code>. So the <strong>overall structure</strong> of your collector will be the following:</p>\n<pre><code>Collectors.groupingBy(function that extracts a KEY,\n                      mapFactory, // &lt;- resulting map (optional argument)\n                      Collectors.mapping(function that transforms a VALUE, \n                                         Collectors.toList()) // &lt;- downstream collector that defenses how VALUES will be represented in the resulting map\n</code></pre>\n<blockquote>\n<p>Do I need LinkedHashMap as I tried below?</p>\n</blockquote>\n<p>If you added only in order to try to make the code compile, the answer is <strong>no</strong>. Use <code>LinkedHashMap</code> only if you need to maintain the order in which entries were added. <code>HashMap</code> which <code>groupingBy()</code> will give you by default should be always preferred over <code>LinkedHashMap</code>. If you don't need it, then just remove the <code>mapFactory</code> from your collector.</p>\n<p>Assuming that <code>LinkedHashMap</code> is required for your purposes, the collector will look like this:</p>\n<pre><code>Collectors.groupingBy(ProductDTO::getProductCategoryUuid,\n                LinkedHashMap::new, // &lt;- remove this argument if there's no such requirement \n                Collectors.mapping(product -&gt; new StatusDTO(product.getProductUuid(),\n                                                            product.getDisabled()),\n                                   Collectors.toList())\n</code></pre>\n"}],"owner":{"display_name":"user18085807"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71361711,"answer_count":1,"score":0,"last_activity_date":1646517941,"creation_date":1646470097,"question_id":71360765,"body_markdown":"I have the following DTO and projection interface:\r\n\r\n```\r\n@Data\r\npublic class StatusDTO{\r\n    private UUID productUuid;\r\n    private boolean disabled;\r\n\r\n    // constructors\r\n}\r\n```\r\n\r\nI fill these fields in my repository:\r\n\r\n```\r\npublic interface ProductDTO {\r\n    UUID getProductUuid();\r\n\r\n    UUID getProductCategoryUuid();\r\n\r\n    boolean getDisabled();\r\n}\r\n```\r\n\r\nHowever, when I try to create a mapping by grouping `getProductCategoryUuid` and its corresponding `List&lt;StatusDTO&gt;`, I get error in the `new StatusDTO(...)` part as *&quot;UUID is not a functional interface&quot;* and *&quot;boolean is not a functional interface&quot;*. \r\n\r\nSo, how can I build a map using `ProductDTO::getProductCategoryUuid` - `List&lt;StatusDTO&gt;` pairs? \r\n\r\nDo I need `LinkedHashMap` as I tried below? \r\n\r\n\r\n```\r\nfinal Map&lt;UUID, List&lt;StatusDTO&gt;&gt; map = demoService.findAll().stream()\r\n        .collect(groupingBy(ProductDTO::getProductCategoryUuid, LinkedHashMap::new,\r\n                Collectors.mapping(new StatusDTO(\r\n                                           ProductDTO::getProductUuid, \r\n                                           ProductDTO::getDisabled)\r\n                                  ), Collectors.toList()));\r\n```\r\n\r\n\r\n**Update:** The foolowing approach seems to work, but I am not sure if it is a proper way. I use `LinkedHashMap` to maintain order. Any idea?\r\n\r\n```\r\nfinal Map&lt;UUID, List&lt;StatusDTO&gt;&gt; map = demoService.findAll().stream()\r\n                .collect(groupingBy(\r\n                             ProductDTO::getProductCategoryUuid, LinkedHashMap::new,\r\n                             Collectors.mapping(p -&gt; new StatusDTO(\r\n                                 p.getProductUuid(), \r\n                                 p.getDisabled()), \r\n                 Collectors.toList())));\r\n```","title":"How to group in HashMap via stream","body":"<p>I have the following DTO and projection interface:</p>\n<pre><code>@Data\npublic class StatusDTO{\n    private UUID productUuid;\n    private boolean disabled;\n\n    // constructors\n}\n</code></pre>\n<p>I fill these fields in my repository:</p>\n<pre><code>public interface ProductDTO {\n    UUID getProductUuid();\n\n    UUID getProductCategoryUuid();\n\n    boolean getDisabled();\n}\n</code></pre>\n<p>However, when I try to create a mapping by grouping <code>getProductCategoryUuid</code> and its corresponding <code>List&lt;StatusDTO&gt;</code>, I get error in the <code>new StatusDTO(...)</code> part as <em>&quot;UUID is not a functional interface&quot;</em> and <em>&quot;boolean is not a functional interface&quot;</em>.</p>\n<p>So, how can I build a map using <code>ProductDTO::getProductCategoryUuid</code> - <code>List&lt;StatusDTO&gt;</code> pairs?</p>\n<p>Do I need <code>LinkedHashMap</code> as I tried below?</p>\n<pre><code>final Map&lt;UUID, List&lt;StatusDTO&gt;&gt; map = demoService.findAll().stream()\n        .collect(groupingBy(ProductDTO::getProductCategoryUuid, LinkedHashMap::new,\n                Collectors.mapping(new StatusDTO(\n                                           ProductDTO::getProductUuid, \n                                           ProductDTO::getDisabled)\n                                  ), Collectors.toList()));\n</code></pre>\n<p><strong>Update:</strong> The foolowing approach seems to work, but I am not sure if it is a proper way. I use <code>LinkedHashMap</code> to maintain order. Any idea?</p>\n<pre><code>final Map&lt;UUID, List&lt;StatusDTO&gt;&gt; map = demoService.findAll().stream()\n                .collect(groupingBy(\n                             ProductDTO::getProductCategoryUuid, LinkedHashMap::new,\n                             Collectors.mapping(p -&gt; new StatusDTO(\n                                 p.getProductUuid(), \n                                 p.getDisabled()), \n                 Collectors.toList())));\n</code></pre>\n"},{"tags":["java","apache-camel","integration"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1646411776,"post_id":71350536,"comment_id":126124030,"body_markdown":"If the tables are in the same database, then you can execute a single SQL SELECT statement that joins them.","body":"If the tables are in the same database, then you can execute a single SQL SELECT statement that joins them."}],"answers":[{"tags":[],"owner":{"account_id":15602256,"reputation":66,"user_id":11256054,"display_name":"runstache"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646517681,"creation_date":1646517681,"answer_id":71366244,"question_id":71350536,"body_markdown":"Aggregators are normally used to combine messages coming in from a source. I probably wouldn&#39;t use the aggregators to combine these two sets of items. If you&#39;re looking to pull all the Materials and get the associated packages from the database, you might be better to retrieve the list of packages per Material.\r\n\r\nI would create a Processor that handles retrieving the packages for each of the returned Materials objects and then output the whole thing in a single route.\r\n\r\nYou can define a processor class in Camel like so:\r\n\r\n    public class PackageProcessor implements Processor {\r\n      @Override\r\n      public void process(Exchange exchange) {\r\n        // Transform the input to your message class\r\n        // Retrieve the Packages\r\n        // Transform the results to Packages\r\n        // Add to the Material\r\n        // Set the Out Body\r\n        exchange.getMessage().setBody(material);\r\n      }\r\n    }\r\n\r\nYou can then use the processor in your Route to do this work. That would make the route look something like this then:\r\n\r\n    from(&quot;timer://foo?repeatCount=1&quot;)\r\n      .routeId(&quot;my-material-route&quot;)\r\n      .setBody(constant(&quot;SELECT * FROM materials;&quot;))\r\n      .to(&quot;jdbc:dataSource&quot;)\r\n      .split(body())\r\n      .process(new PackageProcessor())\r\n      .setHeader(Exchange.FILE_NAME, simple(&quot;${exchangeId}.json&quot;))\r\n      .marshal().json(true)\r\n      .to(&quot;file:/somepath&quot;)\r\n      .end();\r\n\r\nThis would output each record to a Json file with the needed information. If you want all of the items to be placed in a single file, this is where an aggregator would come into play. \r\n\r\nYou&#39;ll notice a couple of items in the route outside of your original. The result of the JDBC component is an ArrayList&lt;HashMap&lt;String, Object&gt;&gt;.  We add a Split in the route to send each item separately into the processor instead of the entire result set. The processor should receive a HashMap&lt;String, Object&gt; in the Exchange Body.\r\n\r\nAfter the processor, we set the CamelFileName Header on the exchange to the Exchange Id and this will then output an individual file per record from the Materials table. \r\n\r\nIf you want to have it all in a single file, you can use an Aggregator that will collect the exchanges and build a list. That might be a little more complicated to have it release the exchanges out to a JSON file.  You normally have to set a timeout or some sort of evaluation function to figure out when the &quot;super&quot; exchange should be released.\r\n\r\n","title":"How to combine two messages with data retrieved from the MySQL db in Apache Camel?","body":"<p>Aggregators are normally used to combine messages coming in from a source. I probably wouldn't use the aggregators to combine these two sets of items. If you're looking to pull all the Materials and get the associated packages from the database, you might be better to retrieve the list of packages per Material.</p>\n<p>I would create a Processor that handles retrieving the packages for each of the returned Materials objects and then output the whole thing in a single route.</p>\n<p>You can define a processor class in Camel like so:</p>\n<pre><code>public class PackageProcessor implements Processor {\n  @Override\n  public void process(Exchange exchange) {\n    // Transform the input to your message class\n    // Retrieve the Packages\n    // Transform the results to Packages\n    // Add to the Material\n    // Set the Out Body\n    exchange.getMessage().setBody(material);\n  }\n}\n</code></pre>\n<p>You can then use the processor in your Route to do this work. That would make the route look something like this then:</p>\n<pre><code>from(&quot;timer://foo?repeatCount=1&quot;)\n  .routeId(&quot;my-material-route&quot;)\n  .setBody(constant(&quot;SELECT * FROM materials;&quot;))\n  .to(&quot;jdbc:dataSource&quot;)\n  .split(body())\n  .process(new PackageProcessor())\n  .setHeader(Exchange.FILE_NAME, simple(&quot;${exchangeId}.json&quot;))\n  .marshal().json(true)\n  .to(&quot;file:/somepath&quot;)\n  .end();\n</code></pre>\n<p>This would output each record to a Json file with the needed information. If you want all of the items to be placed in a single file, this is where an aggregator would come into play.</p>\n<p>You'll notice a couple of items in the route outside of your original. The result of the JDBC component is an ArrayList&lt;HashMap&lt;String, Object&gt;&gt;.  We add a Split in the route to send each item separately into the processor instead of the entire result set. The processor should receive a HashMap&lt;String, Object&gt; in the Exchange Body.</p>\n<p>After the processor, we set the CamelFileName Header on the exchange to the Exchange Id and this will then output an individual file per record from the Materials table.</p>\n<p>If you want to have it all in a single file, you can use an Aggregator that will collect the exchanges and build a list. That might be a little more complicated to have it release the exchanges out to a JSON file.  You normally have to set a timeout or some sort of evaluation function to figure out when the &quot;super&quot; exchange should be released.</p>\n"}],"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71366244,"answer_count":1,"score":0,"last_activity_date":1646517681,"creation_date":1646391990,"question_id":71350536,"body_markdown":"I&#39;m currently working on an integration project. I have to get some data from the MySQL database and them combine them using Apache Camel. In the database I&#39;ve got two tables, materials and packages. They are in the one-to-many relation, one material can contain multiple packages. I&#39;ve already figured out how to get data from the database and save them to json file, but I have no idea how to combine those two messages into one. I&#39;ve read about Aggregations but I don&#39;t really get them. This is my first usage of Apache Camel and I don&#39;t really know what sould I do now. The code for those routes looks like this:\r\n\r\n    public class InputAdapter{\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        BasicDataSource dataSource = new BasicDataSource();\r\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/Packages&quot;);\r\n        dataSource.setUsername(&quot;uname&quot;);\r\n        dataSource.setPassword(&quot;passwd&quot;);\r\n        SimpleRegistry registry = new SimpleRegistry();\r\n        registry.bind(&quot;dataSource&quot;, dataSource);\r\n\r\n        CamelContext context = new DefaultCamelContext(registry);\r\n        context.addRoutes(new RouteBuilder() {\r\n            @Override\r\n            public void configure() {\r\n                from(&quot;timer://foo?repeatCount=1&quot;)\r\n                        .setBody(constant(&quot;SELECT * FROM material;&quot;))\r\n                        .to(&quot;jdbc:dataSource&quot;)\r\n                        .marshal().json(true)\r\n                        .to(&quot;file:/some/path/to/file?fileName=materials.json&quot;);\r\n                from(&quot;timer://foo?repeatCount=1&quot;)\r\n                        .setBody(constant(&quot;SELECT * FROM package;&quot;))\r\n                        .to(&quot;jdbc:dataSource&quot;)\r\n                        .marshal().json(true)\r\n                        .to(&quot;file:/some/path/to/file?fileName=packages.json&quot;);\r\n            }\r\n        });\r\n\r\n        context.start();\r\n        Thread.sleep(10000);\r\n        context.stop();\r\n    }\r\n    }\r\n\r\nAnd the model for Material and a Package are just private properties with getters and setters:\r\n\r\n    public class Material {\r\n    private int id;\r\n    private int number;\r\n    private enumType type;\r\n    private String name;\r\n    private String description;\r\n    private boolean is_deleted;\r\n    private List&lt;Package&gt; packageList = new ArrayList&lt;&gt;();\r\n\r\n    public enum enumType {\r\n        A1, A2, A3, B1, B2, B3, Z1, Z2, Z3;\r\n    }\r\n\r\n    public int getId() {\r\n        return this.id;\r\n    }\r\n\r\n    ... some getters\r\n    }\r\n\r\n    public List&lt;Package&gt; getPackageList() {\r\n        return this.packageList;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    ... some setters\r\n\r\n    public void setPackageList(List&lt;Package&gt; packages) {\r\n        this.packageList = packages;\r\n    }\r\n    }\r\n\r\nCan someone give me a hint what sould I do now? Please help me.","title":"How to combine two messages with data retrieved from the MySQL db in Apache Camel?","body":"<p>I'm currently working on an integration project. I have to get some data from the MySQL database and them combine them using Apache Camel. In the database I've got two tables, materials and packages. They are in the one-to-many relation, one material can contain multiple packages. I've already figured out how to get data from the database and save them to json file, but I have no idea how to combine those two messages into one. I've read about Aggregations but I don't really get them. This is my first usage of Apache Camel and I don't really know what sould I do now. The code for those routes looks like this:</p>\n<pre><code>public class InputAdapter{\n\npublic static void main(String[] args) throws Exception {\n\n    BasicDataSource dataSource = new BasicDataSource();\n    dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\n    dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/Packages&quot;);\n    dataSource.setUsername(&quot;uname&quot;);\n    dataSource.setPassword(&quot;passwd&quot;);\n    SimpleRegistry registry = new SimpleRegistry();\n    registry.bind(&quot;dataSource&quot;, dataSource);\n\n    CamelContext context = new DefaultCamelContext(registry);\n    context.addRoutes(new RouteBuilder() {\n        @Override\n        public void configure() {\n            from(&quot;timer://foo?repeatCount=1&quot;)\n                    .setBody(constant(&quot;SELECT * FROM material;&quot;))\n                    .to(&quot;jdbc:dataSource&quot;)\n                    .marshal().json(true)\n                    .to(&quot;file:/some/path/to/file?fileName=materials.json&quot;);\n            from(&quot;timer://foo?repeatCount=1&quot;)\n                    .setBody(constant(&quot;SELECT * FROM package;&quot;))\n                    .to(&quot;jdbc:dataSource&quot;)\n                    .marshal().json(true)\n                    .to(&quot;file:/some/path/to/file?fileName=packages.json&quot;);\n        }\n    });\n\n    context.start();\n    Thread.sleep(10000);\n    context.stop();\n}\n}\n</code></pre>\n<p>And the model for Material and a Package are just private properties with getters and setters:</p>\n<pre><code>public class Material {\nprivate int id;\nprivate int number;\nprivate enumType type;\nprivate String name;\nprivate String description;\nprivate boolean is_deleted;\nprivate List&lt;Package&gt; packageList = new ArrayList&lt;&gt;();\n\npublic enum enumType {\n    A1, A2, A3, B1, B2, B3, Z1, Z2, Z3;\n}\n\npublic int getId() {\n    return this.id;\n}\n\n... some getters\n}\n\npublic List&lt;Package&gt; getPackageList() {\n    return this.packageList;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\n... some setters\n\npublic void setPackageList(List&lt;Package&gt; packages) {\n    this.packageList = packages;\n}\n}\n</code></pre>\n<p>Can someone give me a hint what sould I do now? Please help me.</p>\n"},{"tags":["java","concurrency","microservices","distributed-transactions","optimistic-locking"],"comments":[{"owner":{"account_id":6661882,"reputation":355,"user_id":5140713,"display_name":"Konrad"},"score":0,"creation_date":1533668491,"post_id":51733502,"comment_id":90428124,"body_markdown":"Why do you store the total anount? Why not store the transactions and sum up. Si current balance is 100. Service call 1 adds a new transaction 10 and the second adds 10 too. The balance display sum all transactions and display 120. No need for some global transaction handling.","body":"Why do you store the total anount? Why not store the transactions and sum up. Si current balance is 100. Service call 1 adds a new transaction 10 and the second adds 10 too. The balance display sum all transactions and display 120. No need for some global transaction handling."},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1533669152,"post_id":51733502,"comment_id":90428471,"body_markdown":"It is a classic example where You have to handle optimistic locking. And it has nothing about Micro Services neither distributed transactions.. maybe this will help you as a start... https://www.baeldung.com/jpa-optimistic-locking","body":"It is a classic example where You have to handle optimistic locking. And it has nothing about Micro Services neither distributed transactions.. maybe this will help you as a start... <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">baeldung.com/jpa-optimistic-locking</a>"}],"answers":[{"tags":[],"owner":{"account_id":62617,"reputation":3167,"user_id":185907,"accept_rate":89,"display_name":"skjagini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534385541,"creation_date":1533669187,"answer_id":51733885,"question_id":51733502,"body_markdown":"For such type of requests, you can handle through Optimistic Concurrency where you would have a column on the database (Timestamp) as a reference to the version number. \r\n\r\nEach time when a change is commited it would modify the timestamp value.\r\n\r\nIf two requests try to commit the change at the same time, only one of them will succeed as the version (Timestamp) column will change by then negating other request from comitting its changes. ","title":"Micro Services and Transaction Manager how to handle concurrency Issue","body":"<p>For such type of requests, you can handle through Optimistic Concurrency where you would have a column on the database (Timestamp) as a reference to the version number. </p>\n\n<p>Each time when a change is commited it would modify the timestamp value.</p>\n\n<p>If two requests try to commit the change at the same time, only one of them will succeed as the version (Timestamp) column will change by then negating other request from comitting its changes. </p>\n"},{"tags":[],"owner":{"account_id":119633,"reputation":7453,"user_id":311455,"accept_rate":63,"display_name":"Bhaskar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533674067,"creation_date":1533674067,"answer_id":51734998,"question_id":51733502,"body_markdown":"&gt; does Trasaction maanger have ability to handle concurrency issue in distributed database scenario&#39;s .\r\n\r\nTransactions and concurrency are two independent concepts and though Transactions become most siginificant in context where we also see concurrency , transactions can be important without concurrency. \r\n\r\nTo answer your question : No , Transaction Manager generally does not concern itself with handling issues that arise with concurrent updates. It takes a very naive and simple ( and often most meaningful ) approach : if after the start of a transaction , it detects that the state has become inconsistent ( because of concurrent updates ) it would simply raise it as an exception and Rollback the transaction. If only it can establish that all the conditions of the ACID properties of the transaction are still valid will it commit the transaction.\r\n","title":"Micro Services and Transaction Manager how to handle concurrency Issue","body":"<blockquote>\n  <p>does Trasaction maanger have ability to handle concurrency issue in distributed database scenario's .</p>\n</blockquote>\n\n<p>Transactions and concurrency are two independent concepts and though Transactions become most siginificant in context where we also see concurrency , transactions can be important without concurrency. </p>\n\n<p>To answer your question : No , Transaction Manager generally does not concern itself with handling issues that arise with concurrent updates. It takes a very naive and simple ( and often most meaningful ) approach : if after the start of a transaction , it detects that the state has become inconsistent ( because of concurrent updates ) it would simply raise it as an exception and Rollback the transaction. If only it can establish that all the conditions of the ACID properties of the transaction are still valid will it commit the transaction.</p>\n"},{"tags":[],"owner":{"account_id":63116,"reputation":702,"user_id":187035,"display_name":"chalda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537268527,"creation_date":1537268527,"answer_id":52385105,"question_id":51733502,"body_markdown":"The transaction manager (as implementation of the JTA specification) makes transparent a work above multiple resources. It ensures all the operations happens as a single unit of work. The &quot;work above multiple resources&quot; mean that that the application can insert data to database and meanwhile it sends a message to a JMS broker. Transaction manager guarantees ACID properties to be hold for this two operations. In simplistic form when the transaction finishes successfully the application developer can be sure both operation was processed. When some trouble happens is on the transaction manager to handle it - possibly throw an exception and rollback the data changes. Thus neither operation was processed.\r\nIt makes this transparent for the application developer who does not need to care to update first database and then JMS and checks if all data changes were really processed or a failure happens.\r\n\r\nIn general the JTA specification was not written with microservice architecture in mind. Now it really depends on your system design(!) But if I consider you have two microservices where each one has attached its own transaction manager then the transaction manager can&#39;t help you to sort out your concurrency issue. Transaction managers does not work (usually) in some synchronization. You don&#39;t work with multiple resources from one microservice (what is the usecase for the transaction manager) but with one resource from multiple microservices.\r\n\r\nAs there is the one resource it&#39;s the synchronization point for all you updates. It depends on it how it manages concurrency. Considering it&#39;s a SQL database then it depends on the level of the isolation it uses (ACID - I = isolation, see https://en.wikipedia.org/wiki/ACID_(computer_science)). Your particular example talks about lost update phenomena (https://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/). As both microservices tries to update one record. One solution for the avoiding the issue is using optimistic/pesimistic locking (you can implement it on your own by e.g. timestamps as stated above), the other is to use serializable isolation level in your database, or you can design your application for not reading and updating data based on what is read first time but change the sql query having the update atomic (or there are possibly other strategies how to work with your data model to achieve the desired outcome).\r\n\r\nIn summary - it depends on how your transaction manager is implemented, it can help you in a way but it&#39;s not its purpose. Your goal should be to check how the isolation level is set up at the shared storage and consider if your application needs to handle lost update phenomena at application level or your storage cang manage it for you.","title":"Micro Services and Transaction Manager how to handle concurrency Issue","body":"<p>The transaction manager (as implementation of the JTA specification) makes transparent a work above multiple resources. It ensures all the operations happens as a single unit of work. The \"work above multiple resources\" mean that that the application can insert data to database and meanwhile it sends a message to a JMS broker. Transaction manager guarantees ACID properties to be hold for this two operations. In simplistic form when the transaction finishes successfully the application developer can be sure both operation was processed. When some trouble happens is on the transaction manager to handle it - possibly throw an exception and rollback the data changes. Thus neither operation was processed.\nIt makes this transparent for the application developer who does not need to care to update first database and then JMS and checks if all data changes were really processed or a failure happens.</p>\n\n<p>In general the JTA specification was not written with microservice architecture in mind. Now it really depends on your system design(!) But if I consider you have two microservices where each one has attached its own transaction manager then the transaction manager can't help you to sort out your concurrency issue. Transaction managers does not work (usually) in some synchronization. You don't work with multiple resources from one microservice (what is the usecase for the transaction manager) but with one resource from multiple microservices.</p>\n\n<p>As there is the one resource it's the synchronization point for all you updates. It depends on it how it manages concurrency. Considering it's a SQL database then it depends on the level of the isolation it uses (ACID - I = isolation, see <a href=\"https://en.wikipedia.org/wiki/ACID_(computer_science)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ACID_(computer_science)</a>). Your particular example talks about lost update phenomena (<a href=\"https://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/</a>). As both microservices tries to update one record. One solution for the avoiding the issue is using optimistic/pesimistic locking (you can implement it on your own by e.g. timestamps as stated above), the other is to use serializable isolation level in your database, or you can design your application for not reading and updating data based on what is read first time but change the sql query having the update atomic (or there are possibly other strategies how to work with your data model to achieve the desired outcome).</p>\n\n<p>In summary - it depends on how your transaction manager is implemented, it can help you in a way but it's not its purpose. Your goal should be to check how the isolation level is set up at the shared storage and consider if your application needs to handle lost update phenomena at application level or your storage cang manage it for you.</p>\n"}],"owner":{"account_id":2993127,"reputation":567,"user_id":2540256,"accept_rate":80,"display_name":"Praveen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4020,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1646515841,"creation_date":1533667571,"question_id":51733502,"body_markdown":"I am working on building a microservice which is using transaction manager implemented based on Java Transaction API(JTA).\r\n\r\nMy question is does Trasaction maanger have ability to handle concurrency issue in distributed database scenario&#39;s .\r\n\r\n**Scenario:**\r\n\r\nAssume there are multiple instance of a service running and we get two requests to update balance amount by 10 in an account. Initially an account can have $100 and the first instance gets that and increments it to $10 but has not been commited yet. \r\n\r\nAt the same time the second instance also retreive&#39;s account which is still 100 and increments it by $10 and then commits it updating balance to $110 and then service one updates account again to $110.\r\n\r\nBy this time you must have figured that balance was supposed to be incremented by $20 and not 10. Do I have to write some kind of Optimistic lock exception mechanism to prevent the above scenario or will Transaction Manager based on JTA specification already ensure such a thing will not happen ?","title":"Micro Services and Transaction Manager how to handle concurrency Issue","body":"<p>I am working on building a microservice which is using transaction manager implemented based on Java Transaction API(JTA).</p>\n\n<p>My question is does Trasaction maanger have ability to handle concurrency issue in distributed database scenario's .</p>\n\n<p><strong>Scenario:</strong></p>\n\n<p>Assume there are multiple instance of a service running and we get two requests to update balance amount by 10 in an account. Initially an account can have $100 and the first instance gets that and increments it to $10 but has not been commited yet. </p>\n\n<p>At the same time the second instance also retreive's account which is still 100 and increments it by $10 and then commits it updating balance to $110 and then service one updates account again to $110.</p>\n\n<p>By this time you must have figured that balance was supposed to be incremented by $20 and not 10. Do I have to write some kind of Optimistic lock exception mechanism to prevent the above scenario or will Transaction Manager based on JTA specification already ensure such a thing will not happen ?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646515628,"creation_date":1646505151,"answer_id":71364902,"question_id":71364853,"body_markdown":"No, these do two different things.\r\n\r\nThe first one takes the result of a function and assigns the variable empList to be a reference to that return value.  That means the value of empList changes.  The second one takes the list returned by getEmployees and adds all the items to the existing list empList.  \r\n\r\nA few consequences of this difference:\r\n\r\n* If empList was not assigned a value, the second one would throw a NullPointerException.\r\n* If empList already had items in it, the first would lose those values.  The second would retain them and place the new items after those original items.\r\n\r\nAs for performance-  the first is always going to be higher perf, because its just a reference set whereas the second requires a call to addAll and whatever overhead it has (which may mean walking the list returned by getEmployees).  The real answer for which you should use though is determined by whether you want to keep any data already in empList or not.\r\n\r\nEdit:  The question has since been edited changing it so one of my points is no longer quite true (it added a call to clear).  With a call to clear that wouldn&#39;t cause it to save previous items.  However the difference around unassigned/null would still be an issue.  And the perf of the second would be much worse, as you now have 2 function calls and associated overhead.","title":"which is better in terms of performance?","body":"<p>No, these do two different things.</p>\n<p>The first one takes the result of a function and assigns the variable empList to be a reference to that return value.  That means the value of empList changes.  The second one takes the list returned by getEmployees and adds all the items to the existing list empList.</p>\n<p>A few consequences of this difference:</p>\n<ul>\n<li>If empList was not assigned a value, the second one would throw a NullPointerException.</li>\n<li>If empList already had items in it, the first would lose those values.  The second would retain them and place the new items after those original items.</li>\n</ul>\n<p>As for performance-  the first is always going to be higher perf, because its just a reference set whereas the second requires a call to addAll and whatever overhead it has (which may mean walking the list returned by getEmployees).  The real answer for which you should use though is determined by whether you want to keep any data already in empList or not.</p>\n<p>Edit:  The question has since been edited changing it so one of my points is no longer quite true (it added a call to clear).  With a call to clear that wouldn't cause it to save previous items.  However the difference around unassigned/null would still be an issue.  And the perf of the second would be much worse, as you now have 2 function calls and associated overhead.</p>\n"}],"owner":{"account_id":4741419,"reputation":23,"user_id":3834043,"display_name":"dev123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1646515628,"creation_date":1646504858,"question_id":71364853,"body_markdown":"List &lt;Employee&gt; empList = new ArrayList&lt;&gt;();\r\n\r\n        for(int i=0; i&lt;1000; i++)\r\n    {\r\n    empList = getEmployeeList(empId);\r\n    \r\n    or\r\n    empList.clear();\r\n    empList.addAll(getEmployeeList(empId));\r\n    }\r\n\r\nif they are equal which is better in terms of memory and performance ?","title":"which is better in terms of performance?","body":"<p>List  empList = new ArrayList&lt;&gt;();</p>\n<pre><code>    for(int i=0; i&lt;1000; i++)\n{\nempList = getEmployeeList(empId);\n\nor\nempList.clear();\nempList.addAll(getEmployeeList(empId));\n}\n</code></pre>\n<p>if they are equal which is better in terms of memory and performance ?</p>\n"},{"tags":["java","jvm","containers"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646513631,"creation_date":1646513631,"answer_id":71365877,"question_id":71355694,"body_markdown":"&gt; should I use nonHeap+heap to calculate the total usage by my application.\r\n\r\nNo. Total physical memory used by a Java process includes many things not counted by the JVM.  \r\nSee [this answer](https://stackoverflow.com/a/53624438/3448419) and [this presentation](https://www.youtube.com/watch?v=c755fFv1Rnk) for details.\r\n\r\n&gt; My main doubt is about &quot;freePhysicalMemorySizeMB&quot;, this value variates a lot between containers even when the committed memories (heap+nonHeap) have the same value .\r\n\r\nJust don&#39;t look at `getFreePhysicalMemorySize()`. This value is rarely useful. It does not take into account [page cache](https://en.wikipedia.org/wiki/Page_cache) and various reclaimable OS structures that can be automatically freed when the application requests more memory.\r\n\r\nThe most meaningful measure of the process&#39; memory usage is [RSS](https://www.baeldung.com/linux/resident-set-vs-virtual-memory-size) - the resident size. An easy way to find the application&#39;s own RSS on Linux is to read [`/proc/self/stat`](https://man7.org/linux/man-pages/man5/proc.5.html).\r\n\r\n&gt; Should I reserve more memory beyond the estimate of heap+NonHeap? If yes, is it possible to know how much?\r\n\r\nAn application may [require more memory](https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438) than Heap+NonHeap. It&#39;s not easy to guess the right number statically, so your best bet is to watch the actual [RSS](https://www.baeldung.com/linux/resident-set-vs-virtual-memory-size) and adjust the limits correspondingly.\r\n\r\n&gt; Is it the term &quot;NonHeap&quot; the same as &quot;off-heap&quot;?\r\n\r\nDepends on the context. For example, in `jconsole` and some other tools, `Non-Heap` denotes [certain JVM structures](https://stackoverflow.com/a/39330095/3448419): Metaspace, Compress Class Space, and Code Cache. `Off-heap` is usually a broader term, which basically means everything but Java Heap.","title":"Java memory off heap inside container","body":"<blockquote>\n<p>should I use nonHeap+heap to calculate the total usage by my application.</p>\n</blockquote>\n<p>No. Total physical memory used by a Java process includes many things not counted by the JVM.<br />\nSee <a href=\"https://stackoverflow.com/a/53624438/3448419\">this answer</a> and <a href=\"https://www.youtube.com/watch?v=c755fFv1Rnk\" rel=\"nofollow noreferrer\">this presentation</a> for details.</p>\n<blockquote>\n<p>My main doubt is about &quot;freePhysicalMemorySizeMB&quot;, this value variates a lot between containers even when the committed memories (heap+nonHeap) have the same value .</p>\n</blockquote>\n<p>Just don't look at <code>getFreePhysicalMemorySize()</code>. This value is rarely useful. It does not take into account <a href=\"https://en.wikipedia.org/wiki/Page_cache\" rel=\"nofollow noreferrer\">page cache</a> and various reclaimable OS structures that can be automatically freed when the application requests more memory.</p>\n<p>The most meaningful measure of the process' memory usage is <a href=\"https://www.baeldung.com/linux/resident-set-vs-virtual-memory-size\" rel=\"nofollow noreferrer\">RSS</a> - the resident size. An easy way to find the application's own RSS on Linux is to read <a href=\"https://man7.org/linux/man-pages/man5/proc.5.html\" rel=\"nofollow noreferrer\"><code>/proc/self/stat</code></a>.</p>\n<blockquote>\n<p>Should I reserve more memory beyond the estimate of heap+NonHeap? If yes, is it possible to know how much?</p>\n</blockquote>\n<p>An application may <a href=\"https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438\">require more memory</a> than Heap+NonHeap. It's not easy to guess the right number statically, so your best bet is to watch the actual <a href=\"https://www.baeldung.com/linux/resident-set-vs-virtual-memory-size\" rel=\"nofollow noreferrer\">RSS</a> and adjust the limits correspondingly.</p>\n<blockquote>\n<p>Is it the term &quot;NonHeap&quot; the same as &quot;off-heap&quot;?</p>\n</blockquote>\n<p>Depends on the context. For example, in <code>jconsole</code> and some other tools, <code>Non-Heap</code> denotes <a href=\"https://stackoverflow.com/a/39330095/3448419\">certain JVM structures</a>: Metaspace, Compress Class Space, and Code Cache. <code>Off-heap</code> is usually a broader term, which basically means everything but Java Heap.</p>\n"}],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71365877,"answer_count":1,"score":1,"last_activity_date":1646513631,"creation_date":1646418053,"question_id":71355694,"body_markdown":"I have been studying and reading some questions about memory usage, even with good answers here I would like to try understading some values that I have collected in my analysis.\r\n\r\n\r\nI wrote this below code just to show where I collected the data.\r\nNote: This codes does not compile, it is just to understand.\r\n\r\n           long KB_FACTOR = 1024;\r\n            long MB_FACTOR = 1024 * KB_FACTOR;\r\n\r\n            OperatingSystemMXBean os = (com.sun.management.OperatingSystemMXBean) ManagementFactory.getOperatingSystemMXBean();\r\n            &quot;operationSystem.totalPhysicalMemorySizeMB&quot; = os.getTotalPhysicalMemorySize() / MB_FACTOR);\r\n            &quot;operationSystem.freePhysicalMemorySizeMB&quot;  = os.getFreePhysicalMemorySize() / MB_FACTOR);\r\n\r\n            long freeMemoryBytes = Runtime.getRuntime().freeMemory();\r\n            long totalMemoryBytes = Runtime.getRuntime().totalMemory();\r\n            long maxMemoryBytes = Runtime.getRuntime().maxMemory();\r\n            &quot;memory.maxMB&quot; = (maxMemoryBytes / MB_FACTOR);\r\n            &quot;memory.freeMB&quot; = (freeMemoryBytes / MB_FACTOR);\r\n            &quot;memory.totalMB&quot; = (totalMemoryBytes / MB_FACTOR);\r\n\r\n            MemoryMXBean memoryMXBean = ManagementFactory.getMemoryMXBean();\r\n            MemoryUsage heapMemoryUsage = memoryMXBean.getHeapMemoryUsage();\r\n            &quot;memoryHeap.commitedMB&quot; = (heapMemoryUsage.getCommitted() / MB_FACTOR);\r\n            &quot;memoryHeap.maxMB&quot; = (heapMemoryUsage.getMax() / MB_FACTOR);\r\n\r\n            MemoryUsage nonHeapMemoryUsage = memoryMXBean.getNonHeapMemoryUsage();\r\n           &quot;memoryNonHeap.commitedMB&quot; =  (nonHeapMemoryUsage.getCommitted() / MB_FACTOR);\r\n           &quot;memoryNonHeap.maxMB&quot; = (nonHeapMemoryUsage.getMax() / MB_FACTOR);\r\n\r\n           &quot;memoryHeap+NonHeap.committedMB&quot; = (heapMemoryUsage.getCommitted() / MB_FACTOR) + (nonHeapMemoryUsage.getCommitted() / MB_FACTOR);\r\n\r\n\r\nThis is some data I have collected:\r\nContainer 01\r\n\r\n   \r\n\r\n     {\r\n            &quot;memory&quot;: {\r\n                &quot;freeMB&quot;: 611,\r\n                &quot;maxMB&quot;: 1622,\r\n                &quot;totalMB&quot;: 1336\r\n            },\r\n            &quot;memoryHeap&quot;: {\r\n                &quot;committedMB&quot;: 1336,\r\n                &quot;maxMB&quot;: 1622\r\n            },\r\n            &quot;memoryNonHeap&quot;: {\r\n                &quot;initMB&quot;: 7,\r\n                &quot;usedMB&quot;: 219,\r\n                &quot;committedMB&quot;: 227,\r\n                &quot;maxMB&quot;: 0\r\n            },\r\n            &quot;memoryHeap+NonHeap&quot;: {\r\n                &quot;committedMB&quot;: 1563\r\n            },\r\n            &quot;operationSystem&quot;: {\r\n                &quot;totalPhysicalMemorySizeMB&quot;: 1907,\r\n                &quot;freePhysicalMemorySizeMB&quot;: 390\r\n            }\r\n        }\r\n    \r\nContainer 02:\r\n\r\n    {\r\n        &quot;memory&quot;: {\r\n            &quot;freeMB&quot;: 303,\r\n            &quot;maxMB&quot;: 1622,\r\n            &quot;totalMB&quot;: 1336\r\n        },\r\n        &quot;memoryHeap&quot;: {\r\n            &quot;committedMB&quot;: 1336,\r\n            &quot;maxMB&quot;: 1622\r\n        },\r\n        &quot;memoryNonHeap&quot;: {\r\n            &quot;committedMB&quot;: 244,\r\n            &quot;maxMB&quot;: 0\r\n        },\r\n        &quot;memoryHeap+NonHeap&quot;: {\r\n            &quot;committedMB&quot;: 1580\r\n        },\r\n        &quot;operationSystem&quot;: {\r\n            &quot;totalPhysicalMemorySizeMB&quot;: 1907,\r\n            &quot;freePhysicalMemorySizeMB&quot;: 87\r\n        }\r\n    }\r\n\r\n**I am running with:**\r\n\r\n - alpine openjdk-11 \r\n - Container memory limit: 2GB \r\n - AWS EKS.\r\n - JVM Env: *-Djava.net.preferIPv4Stack=true -XX:InitialRAMPercentage=70.0 -XX:MaxRAMPercentage=85.0 -Dfile.encoding=UTF8*\r\n\r\n\r\nI have noticed that &quot;operationSystem.totalPhysicalMemorySizeMB&quot; is the amount of memory JVM understand as available to use.\r\n\r\nThe parameter &quot;-XX:MaxRAMPercentage=85.0&quot; work as expected. (using 1,907 as reference)\r\n\r\nI know that nonHeap memory is off-heap, then should I use nonHeap+heap to calculate the total usage by my application.\r\n\r\n**Question:**\r\nMy main doubt is about &quot;freePhysicalMemorySizeMB&quot;, this value variates a lot between containers even when the committed memories (heap+nonHeap) have the same value .\r\n\r\nI read that java can use Native Library (JNI) and this also consume memory.\r\n\r\n- Should I reserve more memory beyond the estimate of heap+NonHeap? If yes, is it possible to know how much? Will Garbage Collector clear these others used memory?\r\n\r\n- Is it the term &quot;NonHeap&quot; the same as &quot;off-heap&quot;?\r\n\r\nNote: My pod is just running java application (and alpine itself)","title":"Java memory off heap inside container","body":"<p>I have been studying and reading some questions about memory usage, even with good answers here I would like to try understading some values that I have collected in my analysis.</p>\n<p>I wrote this below code just to show where I collected the data.\nNote: This codes does not compile, it is just to understand.</p>\n<pre><code>       long KB_FACTOR = 1024;\n        long MB_FACTOR = 1024 * KB_FACTOR;\n\n        OperatingSystemMXBean os = (com.sun.management.OperatingSystemMXBean) ManagementFactory.getOperatingSystemMXBean();\n        &quot;operationSystem.totalPhysicalMemorySizeMB&quot; = os.getTotalPhysicalMemorySize() / MB_FACTOR);\n        &quot;operationSystem.freePhysicalMemorySizeMB&quot;  = os.getFreePhysicalMemorySize() / MB_FACTOR);\n\n        long freeMemoryBytes = Runtime.getRuntime().freeMemory();\n        long totalMemoryBytes = Runtime.getRuntime().totalMemory();\n        long maxMemoryBytes = Runtime.getRuntime().maxMemory();\n        &quot;memory.maxMB&quot; = (maxMemoryBytes / MB_FACTOR);\n        &quot;memory.freeMB&quot; = (freeMemoryBytes / MB_FACTOR);\n        &quot;memory.totalMB&quot; = (totalMemoryBytes / MB_FACTOR);\n\n        MemoryMXBean memoryMXBean = ManagementFactory.getMemoryMXBean();\n        MemoryUsage heapMemoryUsage = memoryMXBean.getHeapMemoryUsage();\n        &quot;memoryHeap.commitedMB&quot; = (heapMemoryUsage.getCommitted() / MB_FACTOR);\n        &quot;memoryHeap.maxMB&quot; = (heapMemoryUsage.getMax() / MB_FACTOR);\n\n        MemoryUsage nonHeapMemoryUsage = memoryMXBean.getNonHeapMemoryUsage();\n       &quot;memoryNonHeap.commitedMB&quot; =  (nonHeapMemoryUsage.getCommitted() / MB_FACTOR);\n       &quot;memoryNonHeap.maxMB&quot; = (nonHeapMemoryUsage.getMax() / MB_FACTOR);\n\n       &quot;memoryHeap+NonHeap.committedMB&quot; = (heapMemoryUsage.getCommitted() / MB_FACTOR) + (nonHeapMemoryUsage.getCommitted() / MB_FACTOR);\n</code></pre>\n<p>This is some data I have collected:\nContainer 01</p>\n<pre><code> {\n        &quot;memory&quot;: {\n            &quot;freeMB&quot;: 611,\n            &quot;maxMB&quot;: 1622,\n            &quot;totalMB&quot;: 1336\n        },\n        &quot;memoryHeap&quot;: {\n            &quot;committedMB&quot;: 1336,\n            &quot;maxMB&quot;: 1622\n        },\n        &quot;memoryNonHeap&quot;: {\n            &quot;initMB&quot;: 7,\n            &quot;usedMB&quot;: 219,\n            &quot;committedMB&quot;: 227,\n            &quot;maxMB&quot;: 0\n        },\n        &quot;memoryHeap+NonHeap&quot;: {\n            &quot;committedMB&quot;: 1563\n        },\n        &quot;operationSystem&quot;: {\n            &quot;totalPhysicalMemorySizeMB&quot;: 1907,\n            &quot;freePhysicalMemorySizeMB&quot;: 390\n        }\n    }\n</code></pre>\n<p>Container 02:</p>\n<pre><code>{\n    &quot;memory&quot;: {\n        &quot;freeMB&quot;: 303,\n        &quot;maxMB&quot;: 1622,\n        &quot;totalMB&quot;: 1336\n    },\n    &quot;memoryHeap&quot;: {\n        &quot;committedMB&quot;: 1336,\n        &quot;maxMB&quot;: 1622\n    },\n    &quot;memoryNonHeap&quot;: {\n        &quot;committedMB&quot;: 244,\n        &quot;maxMB&quot;: 0\n    },\n    &quot;memoryHeap+NonHeap&quot;: {\n        &quot;committedMB&quot;: 1580\n    },\n    &quot;operationSystem&quot;: {\n        &quot;totalPhysicalMemorySizeMB&quot;: 1907,\n        &quot;freePhysicalMemorySizeMB&quot;: 87\n    }\n}\n</code></pre>\n<p><strong>I am running with:</strong></p>\n<ul>\n<li>alpine openjdk-11</li>\n<li>Container memory limit: 2GB</li>\n<li>AWS EKS.</li>\n<li>JVM Env: <em>-Djava.net.preferIPv4Stack=true -XX:InitialRAMPercentage=70.0 -XX:MaxRAMPercentage=85.0 -Dfile.encoding=UTF8</em></li>\n</ul>\n<p>I have noticed that &quot;operationSystem.totalPhysicalMemorySizeMB&quot; is the amount of memory JVM understand as available to use.</p>\n<p>The parameter &quot;-XX:MaxRAMPercentage=85.0&quot; work as expected. (using 1,907 as reference)</p>\n<p>I know that nonHeap memory is off-heap, then should I use nonHeap+heap to calculate the total usage by my application.</p>\n<p><strong>Question:</strong>\nMy main doubt is about &quot;freePhysicalMemorySizeMB&quot;, this value variates a lot between containers even when the committed memories (heap+nonHeap) have the same value .</p>\n<p>I read that java can use Native Library (JNI) and this also consume memory.</p>\n<ul>\n<li><p>Should I reserve more memory beyond the estimate of heap+NonHeap? If yes, is it possible to know how much? Will Garbage Collector clear these others used memory?</p>\n</li>\n<li><p>Is it the term &quot;NonHeap&quot; the same as &quot;off-heap&quot;?</p>\n</li>\n</ul>\n<p>Note: My pod is just running java application (and alpine itself)</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646512734,"creation_date":1646512734,"answer_id":71365799,"question_id":71365479,"body_markdown":"You need to create the first (array) argument for each test using `new Double[]`.\r\n\r\nYou have three levels of nested arrays in your code:\r\n* the top level is the entire collection, with one element per test case,\r\n* the next level down contains the two parameters for each test case,\r\n* the innermost level, within the first argument for each test case, contains all of the numbers that you wish to calculate the median on in one test case.\r\n\r\nAfter `new Object[][]`, Java knows that two levels of nested arrays are to be expected. After `new Object[][] {`, it still knows that there is one more level of array to expect, but after `new Object[][] { {`, it&#39;s not expecting any more further levels of nested array. If you want to create an array at this point you must specify the type.\r\n\r\nTry the following instead:\r\n```java\r\n    @Parameterized.Parameters\r\n    public static Collection medianArrays() {\r\n        return Arrays.asList(new Object[][] {\r\n                { new Double[] {-5.0,-4.0,3.0},  -4.0}\r\n        });\r\n    }\r\n```","title":"JUnit parameterized test for median function","body":"<p>You need to create the first (array) argument for each test using <code>new Double[]</code>.</p>\n<p>You have three levels of nested arrays in your code:</p>\n<ul>\n<li>the top level is the entire collection, with one element per test case,</li>\n<li>the next level down contains the two parameters for each test case,</li>\n<li>the innermost level, within the first argument for each test case, contains all of the numbers that you wish to calculate the median on in one test case.</li>\n</ul>\n<p>After <code>new Object[][]</code>, Java knows that two levels of nested arrays are to be expected. After <code>new Object[][] {</code>, it still knows that there is one more level of array to expect, but after <code>new Object[][] { {</code>, it's not expecting any more further levels of nested array. If you want to create an array at this point you must specify the type.</p>\n<p>Try the following instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Parameterized.Parameters\n    public static Collection medianArrays() {\n        return Arrays.asList(new Object[][] {\n                { new Double[] {-5.0,-4.0,3.0},  -4.0}\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":24129396,"reputation":15,"user_id":18097201,"display_name":"pepsilon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71365799,"answer_count":1,"score":0,"last_activity_date":1646512734,"creation_date":1646509556,"question_id":71365479,"body_markdown":"I am trying to write a JUnit test for a function that finds the median for a given array of `double` elements.\r\n\r\nHowever, I am struggling with passing the parameters. My code looks like this:\r\n```\r\n@RunWith(Parameterized.class)\r\npublic class MedianParameterizedTest extends TestCase {\r\n\r\n\r\n    private Double[] numbers;\r\n    private Double expectedMedian;\r\n\r\n    public MedianParameterizedTest(Double[] numbers, double expectedMedian){\r\n        this.numbers = numbers;\r\n        this.expectedMedian = expectedMedian;\r\n    }\r\n\r\n    @Parameterized.Parameters\r\n    public static Collection medianArrays() {\r\n        return Arrays.asList(new Object[][] {\r\n                { {-5.0,-4.0,3.0},  -4.0}\r\n        });\r\n    }\r\n\r\n    @Test\r\n    public void test1() {\r\n        //doing test\r\n    }\r\n}\r\n```\r\n\r\nBut this gives me an  illegal initializer for java.lang.Object error for the medianArrays collection and I can&#39;t find out why.","title":"JUnit parameterized test for median function","body":"<p>I am trying to write a JUnit test for a function that finds the median for a given array of <code>double</code> elements.</p>\n<p>However, I am struggling with passing the parameters. My code looks like this:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class MedianParameterizedTest extends TestCase {\n\n\n    private Double[] numbers;\n    private Double expectedMedian;\n\n    public MedianParameterizedTest(Double[] numbers, double expectedMedian){\n        this.numbers = numbers;\n        this.expectedMedian = expectedMedian;\n    }\n\n    @Parameterized.Parameters\n    public static Collection medianArrays() {\n        return Arrays.asList(new Object[][] {\n                { {-5.0,-4.0,3.0},  -4.0}\n        });\n    }\n\n    @Test\n    public void test1() {\n        //doing test\n    }\n}\n</code></pre>\n<p>But this gives me an  illegal initializer for java.lang.Object error for the medianArrays collection and I can't find out why.</p>\n"},{"tags":["java","php","encryption","aes","cbc-mode"],"answers":[{"tags":[],"owner":{"account_id":10813511,"reputation":892,"user_id":7953365,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535363757,"creation_date":1535096249,"answer_id":51999632,"question_id":51999575,"body_markdown":"Below is the encryption and decryption process for a string using AES algorithm.\r\n   \r\n     private static final String key = &quot;aesEncryptionKey&quot;;\r\n        private static final String initVector = &quot;encryptionIntVec&quot;;\r\n        \r\n        public static String encrypt(String value) {\r\n        \ttry {\r\n        \t\tIvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n        \t\tSecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n        \r\n        \t\tCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n        \t\tcipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n        \r\n        \t\tbyte[] encrypted = cipher.doFinal(value.getBytes());\r\n        \t\treturn Base64.encodeBase64String(encrypted);\r\n        \t} catch (Exception ex) {\r\n        \t\tex.printStackTrace();\r\n        \t}\r\n        \treturn null;\r\n        }\r\n    \r\n    public static String decrypt(String encrypted) {\r\n    \ttry {\r\n    \t\tIvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n    \t\tSecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    \r\n    \t\tCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\r\n    \t\tbyte[] original = cipher.doFinal(Base64.decodeBase64(encrypted));\r\n    \r\n    \t\treturn new String(original);\r\n    \t} catch (Exception ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    \r\n    \treturn null;\r\n    }\r\n\r\nIn case init vector is not known, try using below code segment.\r\n\r\n    public byte[] decrypt(String encryptedString) throws DataLengthException, InvalidCipherTextException {\r\n    \t\r\n    \t\tbyte[] input = encryptedString.getBytes(&quot;UTF-8&quot;);\r\n    \t\tCBCBlockCipher cbcBlockCipher = new CBCBlockCipher(new AESEngine());\r\n    \t\tSecureRandom random = new SecureRandom();;\r\n    \t\tKeyParameter key = new KeyParameter(&quot;$secretHash&quot;.getBytes());// your key string\r\n    \t\tBlockCipherPadding blockCipherPadding = new PKCS7Padding();;\r\n    \t\tPaddedBufferedBlockCipher pbbc = new PaddedBufferedBlockCipher(cbcBlockCipher, blockCipherPadding);\r\n    \t\t\r\n    \t\tint blockSize = cbcBlockCipher.getBlockSize(); // Make sure this block size is same as that used while encrypting the string.\r\n    \t\tint inputOffset = 0;\r\n    \t\tint inputLength = input.length;\r\n    \t\tint outputOffset = 0;\r\n    \r\n    \t\tbyte[] initializationVector = new byte[blockSize];\r\n    \t\t\r\n    \t\tSystem.arraycopy(input, 0, initializationVector, 0, blockSize);\r\n    \t\tinputOffset += blockSize;\r\n    \t\tinputLength -= blockSize;\r\n    \r\n    \t\tpbbc.init(encrypt, new ParametersWithIV(key, initializationVector));\r\n    \t\tbyte[] output = new byte[pbbc.getOutputSize(inputLength) + outputOffset];\r\n    \r\n    \t\tint outputLength = outputOffset + pbbc.processBytes(input, inputOffset, inputLength, output, outputOffset);\r\n    \r\n    \t\toutputLength += pbbc.doFinal(output, outputLength);\r\n    \r\n    \t\treturn Arrays.copyOf(output, outputLength);\r\n    \t}","title":"How to decrypt aes-256-cbc in Java","body":"<p>Below is the encryption and decryption process for a string using AES algorithm.</p>\n\n<pre><code> private static final String key = \"aesEncryptionKey\";\n    private static final String initVector = \"encryptionIntVec\";\n\n    public static String encrypt(String value) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n\n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            return Base64.encodeBase64String(encrypted);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n\npublic static String decrypt(String encrypted) {\n    try {\n        IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\n        SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n\n        Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n        cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\n        byte[] original = cipher.doFinal(Base64.decodeBase64(encrypted));\n\n        return new String(original);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>In case init vector is not known, try using below code segment.</p>\n\n<pre><code>public byte[] decrypt(String encryptedString) throws DataLengthException, InvalidCipherTextException {\n\n        byte[] input = encryptedString.getBytes(\"UTF-8\");\n        CBCBlockCipher cbcBlockCipher = new CBCBlockCipher(new AESEngine());\n        SecureRandom random = new SecureRandom();;\n        KeyParameter key = new KeyParameter(\"$secretHash\".getBytes());// your key string\n        BlockCipherPadding blockCipherPadding = new PKCS7Padding();;\n        PaddedBufferedBlockCipher pbbc = new PaddedBufferedBlockCipher(cbcBlockCipher, blockCipherPadding);\n\n        int blockSize = cbcBlockCipher.getBlockSize(); // Make sure this block size is same as that used while encrypting the string.\n        int inputOffset = 0;\n        int inputLength = input.length;\n        int outputOffset = 0;\n\n        byte[] initializationVector = new byte[blockSize];\n\n        System.arraycopy(input, 0, initializationVector, 0, blockSize);\n        inputOffset += blockSize;\n        inputLength -= blockSize;\n\n        pbbc.init(encrypt, new ParametersWithIV(key, initializationVector));\n        byte[] output = new byte[pbbc.getOutputSize(inputLength) + outputOffset];\n\n        int outputLength = outputOffset + pbbc.processBytes(input, inputOffset, inputLength, output, outputOffset);\n\n        outputLength += pbbc.doFinal(output, outputLength);\n\n        return Arrays.copyOf(output, outputLength);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646512432,"creation_date":1645620384,"answer_id":71237206,"question_id":51999575,"body_markdown":"Just in case it helps someone in the future: encryption with AES/CBC/PKCS5PADDING along with the generation of a dynamic IV that is appended to the final ciphertext in Java can be done through the following code:\r\n\r\n**Encryption (JAVA)**\r\n\r\n    public String encryptPlainText(String plainText) {\r\n          String cipherText = &quot;&quot;;\r\n          try {\r\n               String keyString = &quot;examplesecretkeyexamplesecretkey&quot;;\r\n\r\n               //Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy\r\n               Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\r\n\r\n               Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n               SecretKeySpec keyspec = new SecretKeySpec(keyString.getBytes(), &quot;AES&quot;);\r\n\r\n               byte[] v = new byte[16];\r\n               new SecureRandom().nextBytes(v);\r\n               IvParameterSpec iv = new IvParameterSpec(v);\r\n\r\n               cipher.init(Cipher.ENCRYPT_MODE, keyspec, iv);\r\n               byte[] cipherTextByteArray = cipher.doFinal(plainText.getBytes());\r\n\r\n               //appending iv to ciphertext without any additional libraries to handle the concatenation of the two byte arrays\r\n               byte[] ivWithCipherTextByteArray = new byte[v.length + cipherTextByteArray.length];\r\n               System.arraycopy(v, 0, ivWithCipherTextByteArray, 0, v.length);\r\n               System.arraycopy(cipherTextByteArray, 0, ivWithCipherTextByteArray, v.length, cipherTextByteArray.length);\r\n\r\n               cipherText = new String(Base64.getEncoder().encode(ivWithCipherTextByteArray));\r\n          } catch (Exception e) {\r\n               LOG.info(&quot;Exception&quot;, e);\r\n          }\r\n\r\n          return cipherText;\r\n     }\r\n\r\n\r\nDecryption of the cipherText obtained with the code above can be implemented in the following way:\r\n\r\n**Decryption (JAVA)**\r\n\r\n    public static String decryptCipherText(String cipherText) {\r\n          String plainText=&quot;&quot;;\r\n          try {\r\n               String keyString = &quot;examplesecretkeyexamplesecretkey&quot;;\r\n\r\n               Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\r\n\r\n               Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n               SecretKeySpec keyspec = new SecretKeySpec(keyString.getBytes(), &quot;AES&quot;);\r\n\r\n               byte[] cipherTextByteArray = Base64.getDecoder().decode(cipherText);\r\n\r\n               //initialize the IvParameterSpec with the first 16 bytes of the cipherText\r\n               IvParameterSpec iv = new IvParameterSpec(Arrays.copyOfRange(cipherTextByteArray, 0, 16));\r\n\r\n               //cipherText to decrypt is now the original one with the first 16 bytes removed (the IV used above)\r\n               cipherTextByteArray = Arrays.copyOfRange(cipherTextByteArray, 16, cipherTextByteArray.length);\r\n\r\n               cipher.init(Cipher.DECRYPT_MODE, keyspec, iv);\r\n               plainText = new String(cipher.doFinal(cipherTextByteArray));\r\n          } catch (Exception e) {\r\n               LOG.info(&quot;Exception&quot;, e);\r\n          }\r\n\r\n          return plainText;\r\n     }","title":"How to decrypt aes-256-cbc in Java","body":"<p>Just in case it helps someone in the future: encryption with AES/CBC/PKCS5PADDING along with the generation of a dynamic IV that is appended to the final ciphertext in Java can be done through the following code:</p>\n<p><strong>Encryption (JAVA)</strong></p>\n<pre><code>public String encryptPlainText(String plainText) {\n      String cipherText = &quot;&quot;;\n      try {\n           String keyString = &quot;examplesecretkeyexamplesecretkey&quot;;\n\n           //Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy\n           Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\n\n           Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n           SecretKeySpec keyspec = new SecretKeySpec(keyString.getBytes(), &quot;AES&quot;);\n\n           byte[] v = new byte[16];\n           new SecureRandom().nextBytes(v);\n           IvParameterSpec iv = new IvParameterSpec(v);\n\n           cipher.init(Cipher.ENCRYPT_MODE, keyspec, iv);\n           byte[] cipherTextByteArray = cipher.doFinal(plainText.getBytes());\n\n           //appending iv to ciphertext without any additional libraries to handle the concatenation of the two byte arrays\n           byte[] ivWithCipherTextByteArray = new byte[v.length + cipherTextByteArray.length];\n           System.arraycopy(v, 0, ivWithCipherTextByteArray, 0, v.length);\n           System.arraycopy(cipherTextByteArray, 0, ivWithCipherTextByteArray, v.length, cipherTextByteArray.length);\n\n           cipherText = new String(Base64.getEncoder().encode(ivWithCipherTextByteArray));\n      } catch (Exception e) {\n           LOG.info(&quot;Exception&quot;, e);\n      }\n\n      return cipherText;\n }\n</code></pre>\n<p>Decryption of the cipherText obtained with the code above can be implemented in the following way:</p>\n<p><strong>Decryption (JAVA)</strong></p>\n<pre><code>public static String decryptCipherText(String cipherText) {\n      String plainText=&quot;&quot;;\n      try {\n           String keyString = &quot;examplesecretkeyexamplesecretkey&quot;;\n\n           Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\n\n           Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n           SecretKeySpec keyspec = new SecretKeySpec(keyString.getBytes(), &quot;AES&quot;);\n\n           byte[] cipherTextByteArray = Base64.getDecoder().decode(cipherText);\n\n           //initialize the IvParameterSpec with the first 16 bytes of the cipherText\n           IvParameterSpec iv = new IvParameterSpec(Arrays.copyOfRange(cipherTextByteArray, 0, 16));\n\n           //cipherText to decrypt is now the original one with the first 16 bytes removed (the IV used above)\n           cipherTextByteArray = Arrays.copyOfRange(cipherTextByteArray, 16, cipherTextByteArray.length);\n\n           cipher.init(Cipher.DECRYPT_MODE, keyspec, iv);\n           plainText = new String(cipher.doFinal(cipherTextByteArray));\n      } catch (Exception e) {\n           LOG.info(&quot;Exception&quot;, e);\n      }\n\n      return plainText;\n }\n</code></pre>\n"}],"owner":{"account_id":14213992,"reputation":141,"user_id":10268390,"display_name":"Th Yoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11969,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646512432,"creation_date":1535096019,"question_id":51999575,"body_markdown":"I have encrypted the string in php. Decrypted successfully from php and node.js. In addition, it must be decrypted by java.\r\n\r\nHelp me an example of decrypting from java?\r\n\r\n**PHP Encrypt code**\r\n\r\n    /* encrypt */\r\n    $encryption_method = &#39;aes-256-cbc&#39;;\r\n    $secretHash = &quot;d95acd54c6a821ff32c52825b931c194&quot;;\r\n    $iv_size = openssl_cipher_iv_length($encryption_method);\r\n    $iv = openssl_random_pseudo_bytes($iv_size);\r\n\r\n    //encrypt\r\n    $encryptedMessage = openssl_encrypt($new_token, $encryption_method, $secretHash, 0, $iv);\r\n\r\n    //Concatenate iv with data\r\n    $ciphertext = bin2hex($iv).$encryptedMessage;\r\n\r\n    /* decrypt the cipher */\r\n    $iv_size = openssl_cipher_iv_length($encryptionMethod);\r\n    $iv = hex2bin(substr($encryptedMessageWithIv, 0, $iv_size * 2));\r\n\r\n    $decryptedMessage = openssl_decrypt(substr($encryptedMessageWithIv, $iv_size * 2), $encryptionMethod, $secretHash, 0, $iv);\r\n","title":"How to decrypt aes-256-cbc in Java","body":"<p>I have encrypted the string in php. Decrypted successfully from php and node.js. In addition, it must be decrypted by java.</p>\n\n<p>Help me an example of decrypting from java?</p>\n\n<p><strong>PHP Encrypt code</strong></p>\n\n<pre><code>/* encrypt */\n$encryption_method = 'aes-256-cbc';\n$secretHash = \"d95acd54c6a821ff32c52825b931c194\";\n$iv_size = openssl_cipher_iv_length($encryption_method);\n$iv = openssl_random_pseudo_bytes($iv_size);\n\n//encrypt\n$encryptedMessage = openssl_encrypt($new_token, $encryption_method, $secretHash, 0, $iv);\n\n//Concatenate iv with data\n$ciphertext = bin2hex($iv).$encryptedMessage;\n\n/* decrypt the cipher */\n$iv_size = openssl_cipher_iv_length($encryptionMethod);\n$iv = hex2bin(substr($encryptedMessageWithIv, 0, $iv_size * 2));\n\n$decryptedMessage = openssl_decrypt(substr($encryptedMessageWithIv, $iv_size * 2), $encryptionMethod, $secretHash, 0, $iv);\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646512350,"creation_date":1646512350,"answer_id":71365747,"question_id":71365704,"body_markdown":"The `if` block is not correctly rewiring your list. `tmp = head` will not move a node to become the head. You *lose* whatever `tmp` was referencing. You should *mutate* `tmp` (not assign to it) and indicate that its *successor* will be the current `head`. And then you should promote it as `head`: \r\n\r\n```\r\n    if (tmp.val.equals(x)) {\r\n        // Only change something when the match is not the current head\r\n        if (prev != null) { \r\n            // First(!) re-link the LL\r\n            prev.next = tmp.next;\r\n            // Move the node before the current head\r\n            tmp.next = head;\r\n            // Finally, make it the head\r\n            head = temp;\r\n        }\r\n        return head.val;\r\n    }\r\n``` \r\n","title":"How to move a searched value in a linked list of nodes to the head of the linked list?","body":"<p>The <code>if</code> block is not correctly rewiring your list. <code>tmp = head</code> will not move a node to become the head. You <em>lose</em> whatever <code>tmp</code> was referencing. You should <em>mutate</em> <code>tmp</code> (not assign to it) and indicate that its <em>successor</em> will be the current <code>head</code>. And then you should promote it as <code>head</code>:</p>\n<pre><code>    if (tmp.val.equals(x)) {\n        // Only change something when the match is not the current head\n        if (prev != null) { \n            // First(!) re-link the LL\n            prev.next = tmp.next;\n            // Move the node before the current head\n            tmp.next = head;\n            // Finally, make it the head\n            head = temp;\n        }\n        return head.val;\n    }\n</code></pre>\n"}],"owner":{"account_id":24293103,"reputation":5,"user_id":18237750,"display_name":"surfingpenguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71365747,"answer_count":1,"score":0,"last_activity_date":1646512350,"creation_date":1646511833,"question_id":71365704,"body_markdown":"I am trying to write a `find(Object x)` method in which if a node storing an `Object y.equals(x)` is found, move that node to the front of the linked list (self-organizing list). If found, the method returns the value of the node that was moved to the front. If not found, return null. \r\n\r\nMy node inner-class contains a `Node&lt;T&gt; next` and an `Object val`.\r\n\r\nHere is what I have tried:\r\n\r\n```\r\npublic Object find(Object x) {\r\n\r\n        //cant find an object that doesnt exist\r\n        if (isEmpty()) {\r\n            return null;\r\n        }\r\n\r\n        // store the head\r\n        Node tmp = head;\r\n        //keep track of previous for updating the link if found\r\n        Node prev = null;\r\n\r\n\r\n        //traverse linked list\r\n        while (tmp!=null) {\r\n            //find x\r\n            if (tmp.val.equals(x)) {\r\n                //update node storing x to be the head\r\n                tmp = head;\r\n\r\n                //re-link the LL\r\n                prev.next = tmp.next;\r\n\r\n                return head.val;\r\n            }\r\n            //continue traversing if not found\r\n            prev = tmp;\r\n            tmp = tmp.next;\r\n        }\r\n        //x was not found, return null;\r\n      return null;\r\n    } // end find\r\n```\r\nMy method is not finding objects properly, but at the moment I can&#39;t seem to find what is wrong with the code. Do I need to traverse the linked list in reverse order to do this? ","title":"How to move a searched value in a linked list of nodes to the head of the linked list?","body":"<p>I am trying to write a <code>find(Object x)</code> method in which if a node storing an <code>Object y.equals(x)</code> is found, move that node to the front of the linked list (self-organizing list). If found, the method returns the value of the node that was moved to the front. If not found, return null.</p>\n<p>My node inner-class contains a <code>Node&lt;T&gt; next</code> and an <code>Object val</code>.</p>\n<p>Here is what I have tried:</p>\n<pre><code>public Object find(Object x) {\n\n        //cant find an object that doesnt exist\n        if (isEmpty()) {\n            return null;\n        }\n\n        // store the head\n        Node tmp = head;\n        //keep track of previous for updating the link if found\n        Node prev = null;\n\n\n        //traverse linked list\n        while (tmp!=null) {\n            //find x\n            if (tmp.val.equals(x)) {\n                //update node storing x to be the head\n                tmp = head;\n\n                //re-link the LL\n                prev.next = tmp.next;\n\n                return head.val;\n            }\n            //continue traversing if not found\n            prev = tmp;\n            tmp = tmp.next;\n        }\n        //x was not found, return null;\n      return null;\n    } // end find\n</code></pre>\n<p>My method is not finding objects properly, but at the moment I can't seem to find what is wrong with the code. Do I need to traverse the linked list in reverse order to do this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1646508814,"post_id":71365271,"comment_id":126142711,"body_markdown":"Did you define both activities in AndroidManifest.xml?","body":"Did you define both activities in AndroidManifest.xml?"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646512009,"creation_date":1646512009,"answer_id":71365724,"question_id":71365271,"body_markdown":"You have `setContentView(activity_2)` in your `MainActivity` and `activity_2.xml` does not have a view with id `button`.\r\n\r\nYou should probably have `setContentView(R.layout.activity_main)` in `MainActivity` instead.","title":"ttempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>You have <code>setContentView(activity_2)</code> in your <code>MainActivity</code> and <code>activity_2.xml</code> does not have a view with id <code>button</code>.</p>\n<p>You should probably have <code>setContentView(R.layout.activity_main)</code> in <code>MainActivity</code> instead.</p>\n"}],"owner":{"account_id":24463644,"reputation":1,"user_id":18384371,"display_name":"Nurasyl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646512009,"creation_date":1646507728,"question_id":71365271,"body_markdown":"When I launch programm on emulator, error: project &#39;keeps stoping-comes&#39; out. In logcat-java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.project/com.example.project.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n&lt;br /&gt;\r\n\r\n**logcat error**\r\n```\r\n2022-03-06 00:26:59.113 15272-15272/com.example.project E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.project, PID: 15272\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.project/com.example.project.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.example.project.MainActivity.onCreate(MainActivity.java:20)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n2022-03-06 00:27:00.347 15272-15289/com.example.project W/System: A resource failed to call close. \r\n```\r\n\r\n**MainActivity.java**\r\n\r\n```\r\npackage com.example.project;\r\n\r\nimport static com.example.project.R.layout.activity_2;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Button button;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(activity_2);\r\n\r\n        button = findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openactivity2();\r\n            }\r\n        });\r\n    }\r\n    public void openactivity2(){\r\n        Intent intent = new Intent(this, activity2.class);\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\n**activity2.java**\r\n```\r\npackage com.example.project;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class activity2 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_2);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**activity_main.xml**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/text_name&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;250dp&quot;\r\n        /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/button_name&quot;\r\n        android:layout_below=&quot;@+id/textView&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n\r\n\r\n        /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\n\r\n**activity_2.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/text_name2&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;250dp&quot;\r\n        /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt; \r\n```\r\n","title":"ttempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>When I launch programm on emulator, error: project 'keeps stoping-comes' out. In logcat-java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.project/com.example.project.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n<br /></p>\n<p><strong>logcat error</strong></p>\n<pre><code>2022-03-06 00:26:59.113 15272-15272/com.example.project E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.project, PID: 15272\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.project/com.example.project.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at com.example.project.MainActivity.onCreate(MainActivity.java:20)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7656) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n2022-03-06 00:27:00.347 15272-15289/com.example.project W/System: A resource failed to call close. \n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.project;\n\nimport static com.example.project.R.layout.activity_2;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n    private Button button;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(activity_2);\n\n        button = findViewById(R.id.button);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openactivity2();\n            }\n        });\n    }\n    public void openactivity2(){\n        Intent intent = new Intent(this, activity2.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p><strong>activity2.java</strong></p>\n<pre><code>package com.example.project;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class activity2 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_2);\n    }\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/text_name&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;250dp&quot;\n        /&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/button_name&quot;\n        android:layout_below=&quot;@+id/textView&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n\n\n        /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>activity_2.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/text_name2&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;250dp&quot;\n        /&gt;\n\n\n&lt;/RelativeLayout&gt; \n</code></pre>\n"},{"tags":["java","hibernate","ehcache","hikaricp"],"comments":[{"owner":{"account_id":1617529,"reputation":15129,"user_id":1494802,"accept_rate":100,"display_name":"munyengm"},"score":0,"creation_date":1643145143,"post_id":70855648,"comment_id":125261516,"body_markdown":"Your thread dump shows the thread is RUNNABLE, so it&#39;s not stuck. It&#39;s waiting for data - presumably from the database. Are there any errors in the database logs? Your error handling is suspect, the session does not get closed if an exception is thrown. I&#39;d wrap that statement in try (Session session = this.openSession()) { ... }","body":"Your thread dump shows the thread is RUNNABLE, so it&#39;s not stuck. It&#39;s waiting for data - presumably from the database. Are there any errors in the database logs? Your error handling is suspect, the session does not get closed if an exception is thrown. I&#39;d wrap that statement in try (Session session = this.openSession()) { ... }"},{"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"score":0,"creation_date":1643145788,"post_id":70855648,"comment_id":125261749,"body_markdown":"@munyengm I get no exceptions thrown, and closing the session in a finally block does not address the problem, although I&#39;ve made the change you suggested since that&#39;s desirable. I am getting a ton of `[Warning] Aborted connection # to db: &#39;db&#39; user: &#39;user&#39; host: &#39;localhost&#39; (Got an error reading communication packets)` on my server&#39;s logs.","body":"@munyengm I get no exceptions thrown, and closing the session in a finally block does not address the problem, although I&#39;ve made the change you suggested since that&#39;s desirable. I am getting a ton of <code>[Warning] Aborted connection # to db: &#39;db&#39; user: &#39;user&#39; host: &#39;localhost&#39; (Got an error reading communication packets)</code> on my server&#39;s logs."},{"owner":{"account_id":1617529,"reputation":15129,"user_id":1494802,"accept_rate":100,"display_name":"munyengm"},"score":0,"creation_date":1643147282,"post_id":70855648,"comment_id":125262273,"body_markdown":"There probably is an exception being thrown, leading to connection being aborted prematurely. The exception is probably swallowed and not logged. If you can run the program under an IDE you should enable exception breakpoints to halt the program when ANY exception occurs you can then inspect the cause of the exception.","body":"There probably is an exception being thrown, leading to connection being aborted prematurely. The exception is probably swallowed and not logged. If you can run the program under an IDE you should enable exception breakpoints to halt the program when ANY exception occurs you can then inspect the cause of the exception."},{"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"score":0,"creation_date":1643148619,"post_id":70855648,"comment_id":125262637,"body_markdown":"This is a very barebones project. The main method runs a loop inside a Runnable, and all that loop does is run that `findAll_test` (for simplicity&#39;s sake) and the only exception handling is inside that one method, and there are no exceptions being thrown. It hangs on getResultList, as explained in my post and is visible in the thread dump.","body":"This is a very barebones project. The main method runs a loop inside a Runnable, and all that loop does is run that <code>findAll_test</code> (for simplicity&#39;s sake) and the only exception handling is inside that one method, and there are no exceptions being thrown. It hangs on getResultList, as explained in my post and is visible in the thread dump."}],"answers":[{"tags":[],"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646511645,"creation_date":1646511645,"answer_id":71365688,"question_id":70855648,"body_markdown":"The problem I was encountering stems from how I query the database, and how I was using `hibernate.cache.use_second_level_cache` and `hibernate.cache.use_query_cache` simultaneously.\r\n\r\n**Second Level Cache** (`hibernate.cache.use_second_level_cache`): The second level cache is an application level cache for storing entity data when queried via primary key.\r\n\r\n**Query Cache** (`hibernate.cache.use_query_cache`): The query cache is a separate cache that stores query results only. (My code from in `findAll_test` is accessing this cache)\r\n\r\n**The Problem**\r\n\r\nThe issue lies with overlapping cache entry expiry. If you enable both caches, their cached entity objects overlap and the expiry policy of the Second Level Cache ends will overriding the Query Cache. Setting entities to expire at anything below **never** will decouple the Query Cache from re-caching any entities when it expires, leading to the deadlock condition.\r\n\r\n**The Solution**\r\n\r\nDon&#39;t use both at the same time. This appears to be bug, because you should be able to specify separate cache locations to use both caches simultaneously, but doing so does not prevent the problem from occurring.\r\n\r\nThere may be a way to solve this problem and leave the second level cache enabled, but I did not find it after extensive testing.\r\n\r\nSee [Hibernate Caching][1] for more information.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching","title":"Hibernate ehcache/jcache custom expiry policy hangs after a few hundred select queries","body":"<p>The problem I was encountering stems from how I query the database, and how I was using <code>hibernate.cache.use_second_level_cache</code> and <code>hibernate.cache.use_query_cache</code> simultaneously.</p>\n<p><strong>Second Level Cache</strong> (<code>hibernate.cache.use_second_level_cache</code>): The second level cache is an application level cache for storing entity data when queried via primary key.</p>\n<p><strong>Query Cache</strong> (<code>hibernate.cache.use_query_cache</code>): The query cache is a separate cache that stores query results only. (My code from in <code>findAll_test</code> is accessing this cache)</p>\n<p><strong>The Problem</strong></p>\n<p>The issue lies with overlapping cache entry expiry. If you enable both caches, their cached entity objects overlap and the expiry policy of the Second Level Cache ends will overriding the Query Cache. Setting entities to expire at anything below <strong>never</strong> will decouple the Query Cache from re-caching any entities when it expires, leading to the deadlock condition.</p>\n<p><strong>The Solution</strong></p>\n<p>Don't use both at the same time. This appears to be bug, because you should be able to specify separate cache locations to use both caches simultaneously, but doing so does not prevent the problem from occurring.</p>\n<p>There may be a way to solve this problem and leave the second level cache enabled, but I did not find it after extensive testing.</p>\n<p>See <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching\" rel=\"nofollow noreferrer\">Hibernate Caching</a> for more information.</p>\n"}],"owner":{"account_id":366091,"reputation":13257,"user_id":711416,"accept_rate":86,"display_name":"Nahydrin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71365688,"answer_count":1,"score":0,"last_activity_date":1646511645,"creation_date":1643144643,"question_id":70855648,"body_markdown":"The `getResultList` call in the `findAll_test` method is hanging after many hundreds of requests.\r\n\r\n    public Session openSession() {\r\n        return this.sessionFactory.openSession(); // org.hibernate.SessionFactory\r\n    }\r\n\r\n    public &lt;R&gt; R with(Function&lt;Session, R&gt; function) throws SqlException {\r\n        try {\r\n            Session session = this.openSession();\r\n            R result = function.apply(session);\r\n\r\n            if (session.isDirty())\r\n                session.flush();\r\n\r\n            if (session.isOpen())\r\n                session.close();\r\n\r\n            return result;\r\n        } catch (Exception exception) {\r\n            throw new SqlException(exception); // SqlException extends RuntimeException\r\n        }\r\n    }\r\n\r\n    public final ConcurrentList&lt;T&gt; findAll_test() {\r\n        return this.with(session -&gt; {\r\n            Class&lt;T&gt; tClass = this.getTClass();\r\n            // This is the database model/entity class,\r\n            // it&#39;s passed in the constructor,\r\n            // it&#39;s the class with @Entity, @Table annotations\r\n\r\n            CriteriaBuilder criteriaBuilder = session.getCriteriaBuilder();\r\n            CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(tClass);\r\n            Root&lt;T&gt; rootEntry = criteriaQuery.from(tClass);\r\n            CriteriaQuery&lt;T&gt; all = criteriaQuery.select(rootEntry);\r\n\r\n            // Concurrent.newList is just a thread-safe list,\r\n            // it&#39;s not being used downstream for the purposes of this example,\r\n            return Concurrent.newList(\r\n                session.createQuery(all)\r\n                    .setCacheable(true)\r\n                    .getResultList() // This works ~1245 times, then hangs\r\n            );\r\n        });\r\n    }\r\n\r\nIf I run the above method approximately 1,245 times total, across tens of models/entities, it hangs inside `getResultList`.\r\n\r\nHere are my Hibernate/HikariCP/ehcache properties.\r\n\r\n    Properties properties = new Properties() {{\r\n        // Connection\r\n        put(&quot;hibernate.dialect&quot;, config.getDatabaseDriver().getDialectClass());\r\n        put(&quot;hibernate.connection.driver_class&quot;, config.getDatabaseDriver().getDriverClass());\r\n        put(&quot;hibernate.connection.url&quot;, config.getDatabaseDriver().getConnectionUrl(config.getDatabaseHost(), config.getDatabasePort(), config.getDatabaseSchema()));\r\n        put(&quot;hibernate.connection.username&quot;, config.getDatabaseUser());\r\n        put(&quot;hibernate.connection.password&quot;, config.getDatabasePassword());\r\n        put(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.hikaricp.internal.HikariCPConnectionProvider&quot;);\r\n\r\n        // SQL\r\n        put(&quot;hibernate.generate_statistics&quot;, config.isDatabaseDebugMode());\r\n        put(&quot;hibernate.show_sql&quot;, false);\r\n        put(&quot;hibernate.format_sql&quot;, false); // Log Spam\r\n        put(&quot;hibernate.use_sql_comments&quot;, true);\r\n        put(&quot;hibernate.order_inserts&quot;, true);\r\n        put(&quot;hibernate.order_updates&quot;, true);\r\n        put(&quot;hibernate.globally_quoted_identifiers&quot;, true);\r\n\r\n        // Prepared Statements\r\n        put(&quot;hikari.cachePrepStmts&quot;, true);\r\n        put(&quot;hikari.prepStmtCacheSize&quot;, 256);\r\n        put(&quot;hikari.prepStmtCacheSqlLimit&quot;, 2048);\r\n        put(&quot;hikari.useServerPrepStmts&quot;, true);\r\n\r\n        // Caching\r\n        put(&quot;hibernate.cache.use_second_level_cache&quot;, true);\r\n        put(&quot;hibernate.cache.use_query_cache&quot;, true);\r\n        put(&quot;hibernate.cache.region.factory_class&quot;, &quot;org.hibernate.cache.jcache.JCacheRegionFactory&quot;);\r\n        put(&quot;hibernate.cache.provider_class&quot;, &quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;);\r\n        put(&quot;hibernate.cache.use_structured_entries&quot;, config.isDatabaseDebugMode());\r\n    }};\r\n\r\nHere are two scenarios that &quot;hide&quot; the problem:\r\n- If I remove `hibernate.cache.use_query_cache` (or set it to false), my application gets *significantly* slower, but it no longer encounters this problem.\r\n- If I change the expiry policy from a duration of one minute, to five minutes then it also prolongs how long I can run the above method by a factor of 5.\r\n\r\n**The problem lies with the hibernate query cache. When disabled, this problem does not occur. There appears to be a deadlock when querying the way I do (for all entities) as the cache expires.**\r\n\r\nDependencies:\r\n - Hibernate and HikariCP 5.5.7.Final\r\n - ehcache 3.9.9\r\n - mariadb-java-client 2.7.4\r\n - MariaDB server 10.3.28","title":"Hibernate ehcache/jcache custom expiry policy hangs after a few hundred select queries","body":"<p>The <code>getResultList</code> call in the <code>findAll_test</code> method is hanging after many hundreds of requests.</p>\n<pre><code>public Session openSession() {\n    return this.sessionFactory.openSession(); // org.hibernate.SessionFactory\n}\n\npublic &lt;R&gt; R with(Function&lt;Session, R&gt; function) throws SqlException {\n    try {\n        Session session = this.openSession();\n        R result = function.apply(session);\n\n        if (session.isDirty())\n            session.flush();\n\n        if (session.isOpen())\n            session.close();\n\n        return result;\n    } catch (Exception exception) {\n        throw new SqlException(exception); // SqlException extends RuntimeException\n    }\n}\n\npublic final ConcurrentList&lt;T&gt; findAll_test() {\n    return this.with(session -&gt; {\n        Class&lt;T&gt; tClass = this.getTClass();\n        // This is the database model/entity class,\n        // it's passed in the constructor,\n        // it's the class with @Entity, @Table annotations\n\n        CriteriaBuilder criteriaBuilder = session.getCriteriaBuilder();\n        CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(tClass);\n        Root&lt;T&gt; rootEntry = criteriaQuery.from(tClass);\n        CriteriaQuery&lt;T&gt; all = criteriaQuery.select(rootEntry);\n\n        // Concurrent.newList is just a thread-safe list,\n        // it's not being used downstream for the purposes of this example,\n        return Concurrent.newList(\n            session.createQuery(all)\n                .setCacheable(true)\n                .getResultList() // This works ~1245 times, then hangs\n        );\n    });\n}\n</code></pre>\n<p>If I run the above method approximately 1,245 times total, across tens of models/entities, it hangs inside <code>getResultList</code>.</p>\n<p>Here are my Hibernate/HikariCP/ehcache properties.</p>\n<pre><code>Properties properties = new Properties() {{\n    // Connection\n    put(&quot;hibernate.dialect&quot;, config.getDatabaseDriver().getDialectClass());\n    put(&quot;hibernate.connection.driver_class&quot;, config.getDatabaseDriver().getDriverClass());\n    put(&quot;hibernate.connection.url&quot;, config.getDatabaseDriver().getConnectionUrl(config.getDatabaseHost(), config.getDatabasePort(), config.getDatabaseSchema()));\n    put(&quot;hibernate.connection.username&quot;, config.getDatabaseUser());\n    put(&quot;hibernate.connection.password&quot;, config.getDatabasePassword());\n    put(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.hikaricp.internal.HikariCPConnectionProvider&quot;);\n\n    // SQL\n    put(&quot;hibernate.generate_statistics&quot;, config.isDatabaseDebugMode());\n    put(&quot;hibernate.show_sql&quot;, false);\n    put(&quot;hibernate.format_sql&quot;, false); // Log Spam\n    put(&quot;hibernate.use_sql_comments&quot;, true);\n    put(&quot;hibernate.order_inserts&quot;, true);\n    put(&quot;hibernate.order_updates&quot;, true);\n    put(&quot;hibernate.globally_quoted_identifiers&quot;, true);\n\n    // Prepared Statements\n    put(&quot;hikari.cachePrepStmts&quot;, true);\n    put(&quot;hikari.prepStmtCacheSize&quot;, 256);\n    put(&quot;hikari.prepStmtCacheSqlLimit&quot;, 2048);\n    put(&quot;hikari.useServerPrepStmts&quot;, true);\n\n    // Caching\n    put(&quot;hibernate.cache.use_second_level_cache&quot;, true);\n    put(&quot;hibernate.cache.use_query_cache&quot;, true);\n    put(&quot;hibernate.cache.region.factory_class&quot;, &quot;org.hibernate.cache.jcache.JCacheRegionFactory&quot;);\n    put(&quot;hibernate.cache.provider_class&quot;, &quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;);\n    put(&quot;hibernate.cache.use_structured_entries&quot;, config.isDatabaseDebugMode());\n}};\n</code></pre>\n<p>Here are two scenarios that &quot;hide&quot; the problem:</p>\n<ul>\n<li>If I remove <code>hibernate.cache.use_query_cache</code> (or set it to false), my application gets <em>significantly</em> slower, but it no longer encounters this problem.</li>\n<li>If I change the expiry policy from a duration of one minute, to five minutes then it also prolongs how long I can run the above method by a factor of 5.</li>\n</ul>\n<p><strong>The problem lies with the hibernate query cache. When disabled, this problem does not occur. There appears to be a deadlock when querying the way I do (for all entities) as the cache expires.</strong></p>\n<p>Dependencies:</p>\n<ul>\n<li>Hibernate and HikariCP 5.5.7.Final</li>\n<li>ehcache 3.9.9</li>\n<li>mariadb-java-client 2.7.4</li>\n<li>MariaDB server 10.3.28</li>\n</ul>\n"},{"tags":["java","unit-testing","variables","junit","private"],"comments":[{"owner":{"account_id":426679,"reputation":6089,"user_id":808019,"accept_rate":73,"display_name":"peshkira"},"score":0,"creation_date":1310653620,"post_id":6694715,"comment_id":7922327,"body_markdown":"how about reflection? or adding getter and setter by code weaving within the test?","body":"how about reflection? or adding getter and setter by code weaving within the test?"},{"owner":{"account_id":2936,"reputation":2065,"user_id":4167,"accept_rate":55,"display_name":"Kwebble"},"score":2,"creation_date":1310654771,"post_id":6694715,"comment_id":7922768,"body_markdown":"Isn&#39;t the internal behavior used in the implementation of the public fields and methods? If not, what is its purpose?","body":"Isn&#39;t the internal behavior used in the implementation of the public fields and methods? If not, what is its purpose?"},{"owner":{"account_id":2043298,"reputation":306,"user_id":1823993,"display_name":"Hanif"},"score":0,"creation_date":1570119781,"post_id":6694715,"comment_id":102821824,"body_markdown":"i prefer to execute the flow that causes the private field to change its state. and then execute the new flow. imo, the private field exists to hold some previous behavior which in turn affects the next behavior. so unit-test is still behavior oriented and not implementation oriented, because you infer the behavior from the code which is common when you are not the owner.","body":"i prefer to execute the flow that causes the private field to change its state. and then execute the new flow. imo, the private field exists to hold some previous behavior which in turn affects the next behavior. so unit-test is still behavior oriented and not implementation oriented, because you infer the behavior from the code which is common when you are not the owner."},{"owner":{"account_id":6014928,"reputation":822,"user_id":4724129,"display_name":"Clement Osei Tano"},"score":0,"creation_date":1605791348,"post_id":6694715,"comment_id":114764064,"body_markdown":"@Hanif, what if the private field is also modified only in a callback? How do you solve that. I am facing a similar issue where the private variable is set in a callback and I need the private variable to be set to be able to test some other methods.","body":"@Hanif, what if the private field is also modified only in a callback? How do you solve that. I am facing a similar issue where the private variable is set in a callback and I need the private variable to be set to be able to test some other methods."}],"answers":[{"tags":[],"owner":{"account_id":164164,"reputation":19573,"user_id":386751,"accept_rate":76,"display_name":"Alexander Beletsky"},"down_vote_count":3,"up_vote_count":69,"is_accepted":false,"score":66,"last_activity_date":1541606376,"creation_date":1310653608,"answer_id":6694811,"question_id":6694715,"body_markdown":"First of all, you are in a bad position now - having the task of writing tests for the code you did not originally create and without any changes - nightmare! Talk to your boss and explain, it is not possible to test the code without making it &quot;testable&quot;. To make code testable you usually do some important changes;\r\n\r\nRegarding private variables. You actually never should do that. Aiming to test private variables is the first sign that something wrong with the current design. Private variables are part of the implementation, tests should focus on behavior rather of implementation details.\r\n\r\nSometimes, private field are exposed to public access with some getter. I do that, but try to avoid as much as possible (mark in comments, like &#39;used for testing&#39;).\r\n\r\nSince you have no possibility to change the code, I don&#39;t see possibility (I mean real possibility, not like Reflection hacks etc.) to check private variable.  ","title":"JUnit Testing private variables?","body":"<p>First of all, you are in a bad position now - having the task of writing tests for the code you did not originally create and without any changes - nightmare! Talk to your boss and explain, it is not possible to test the code without making it \"testable\". To make code testable you usually do some important changes;</p>\n\n<p>Regarding private variables. You actually never should do that. Aiming to test private variables is the first sign that something wrong with the current design. Private variables are part of the implementation, tests should focus on behavior rather of implementation details.</p>\n\n<p>Sometimes, private field are exposed to public access with some getter. I do that, but try to avoid as much as possible (mark in comments, like 'used for testing').</p>\n\n<p>Since you have no possibility to change the code, I don't see possibility (I mean real possibility, not like Reflection hacks etc.) to check private variable.  </p>\n"},{"tags":[],"owner":{"account_id":58992,"reputation":15767,"user_id":176569,"accept_rate":70,"display_name":"bpgergo"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1646511012,"creation_date":1310653660,"answer_id":6694824,"question_id":6694715,"body_markdown":"[Reflection][1]\r\ne.g.:\r\n\r\n    public class PrivateObject {\r\n    \r\n      private String privateString = null;\r\n    \r\n      public PrivateObject(String privateString) {\r\n        this.privateString = privateString;\r\n      }\r\n    }\r\n    PrivateObject privateObject = new PrivateObject(&quot;The Private Value&quot;);\r\n    \r\n    Field privateStringField = PrivateObject.class.\r\n                getDeclaredField(&quot;privateString&quot;);\r\n    \r\n    privateStringField.setAccessible(true);\r\n    \r\n    String fieldValue = (String) privateStringField.get(privateObject);\r\n    System.out.println(&quot;fieldValue = &quot; + fieldValue);\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javareflection.html","title":"JUnit Testing private variables?","body":"<p><a href=\"https://www.oracle.com/java/technologies/javareflection.html\" rel=\"nofollow noreferrer\">Reflection</a>\ne.g.:</p>\n<pre><code>public class PrivateObject {\n\n  private String privateString = null;\n\n  public PrivateObject(String privateString) {\n    this.privateString = privateString;\n  }\n}\nPrivateObject privateObject = new PrivateObject(&quot;The Private Value&quot;);\n\nField privateStringField = PrivateObject.class.\n            getDeclaredField(&quot;privateString&quot;);\n\nprivateStringField.setAccessible(true);\n\nString fieldValue = (String) privateStringField.get(privateObject);\nSystem.out.println(&quot;fieldValue = &quot; + fieldValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178757,"reputation":11335,"user_id":410946,"accept_rate":88,"display_name":"Alfredo Osorio"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1310653705,"creation_date":1310653705,"answer_id":6694840,"question_id":6694715,"body_markdown":"Yeah you can use reflections to access private variables. Altough not a good idea.\r\n\r\nCheck this out:\r\n\r\n[http://en.wikibooks.org/wiki/Java_Programming/Reflection/Accessing_Private_Features_with_Reflection][1]\r\n\r\n\r\n  [1]: http://en.wikibooks.org/wiki/Java_Programming/Reflection/Accessing_Private_Features_with_Reflection","title":"JUnit Testing private variables?","body":"<p>Yeah you can use reflections to access private variables. Altough not a good idea.</p>\n\n<p>Check this out:</p>\n\n<p><a href=\"http://en.wikibooks.org/wiki/Java_Programming/Reflection/Accessing_Private_Features_with_Reflection\">http://en.wikibooks.org/wiki/Java_Programming/Reflection/Accessing_Private_Features_with_Reflection</a></p>\n"},{"tags":[],"owner":{"account_id":395688,"reputation":5084,"user_id":758765,"accept_rate":74,"display_name":"ThomasArdal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310665126,"creation_date":1310665126,"answer_id":6697564,"question_id":6694715,"body_markdown":"I can&#39;t tell if you&#39;ve found some special case code which requires you to test against private fields. But in my experience you never have to test something private - always public. Maybe you could give an example of some code where you need to test private?","title":"JUnit Testing private variables?","body":"<p>I can't tell if you've found some special case code which requires you to test against private fields. But in my experience you never have to test something private - always public. Maybe you could give an example of some code where you need to test private?</p>\n"},{"tags":[],"owner":{"account_id":1197156,"reputation":670,"user_id":1168613,"display_name":"MKK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365421668,"creation_date":1365421668,"answer_id":15878276,"question_id":6694715,"body_markdown":"Despite the danger of stating the obvious: With a unit test you want to test the correct behaviour of the object - and this is defined in terms of its public interface. You are not interested in how the object accomplishes this task - this is an implementation detail and not visible to the outside. This is one of the things why OO was invented: That implementation details are hidden. So there is no point in testing private members. You said you need 100% coverage. If there is a piece of code that cannot be tested by using the public interface of the object, then this piece of code is actually never called and hence not testable. Remove it.","title":"JUnit Testing private variables?","body":"<p>Despite the danger of stating the obvious: With a unit test you want to test the correct behaviour of the object - and this is defined in terms of its public interface. You are not interested in how the object accomplishes this task - this is an implementation detail and not visible to the outside. This is one of the things why OO was invented: That implementation details are hidden. So there is no point in testing private members. You said you need 100% coverage. If there is a piece of code that cannot be tested by using the public interface of the object, then this piece of code is actually never called and hence not testable. Remove it.</p>\n"},{"tags":[],"owner":{"account_id":2890530,"reputation":11,"user_id":2479428,"display_name":"Andrew p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371058281,"creation_date":1371058281,"answer_id":17071705,"question_id":6694715,"body_markdown":"If you create your test classes in a seperate folder which you then add to your build path, \r\n\r\nThen you could make the test class an inner class of the class under test by using package correctly to set the namespace. This gives it access to private fields and methods. \r\n\r\nBut dont forget to remove the folder from the build path for your release build.","title":"JUnit Testing private variables?","body":"<p>If you create your test classes in a seperate folder which you then add to your build path, </p>\n\n<p>Then you could make the test class an inner class of the class under test by using package correctly to set the namespace. This gives it access to private fields and methods. </p>\n\n<p>But dont forget to remove the folder from the build path for your release build.</p>\n"}],"owner":{"account_id":305023,"reputation":5914,"user_id":614899,"accept_rate":98,"display_name":"donnyton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155915,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"closed_date":1406891244,"accepted_answer_id":6694840,"answer_count":6,"score":78,"last_activity_date":1646511012,"creation_date":1310653229,"question_id":6694715,"body_markdown":"I have been assigned the task of unit testing a class that I never worked directly on with JUnit, and am strictly forbidden to change the code in the package.  This is usually no issue, since most of our unit testing is just for functionality and input/output consistency, which can be done simply by running routines and checking their return values.\r\n\r\nHowever, occasionally there is a need to check a private variable within the class, or directly edit a private variable to check some internal behavior.  Is there a way to gain access to these, whether through JUnit or any other way, for the purpose of unit testing without actually changing any of the code in the original source package?  And if not, how do programmers handle this issue in the real world where a unit tester may not be the same person as the coder?","title":"JUnit Testing private variables?","body":"<p>I have been assigned the task of unit testing a class that I never worked directly on with JUnit, and am strictly forbidden to change the code in the package.  This is usually no issue, since most of our unit testing is just for functionality and input/output consistency, which can be done simply by running routines and checking their return values.</p>\n\n<p>However, occasionally there is a need to check a private variable within the class, or directly edit a private variable to check some internal behavior.  Is there a way to gain access to these, whether through JUnit or any other way, for the purpose of unit testing without actually changing any of the code in the original source package?  And if not, how do programmers handle this issue in the real world where a unit tester may not be the same person as the coder?</p>\n"},{"tags":["java","file","logging","tinylog"],"answers":[{"tags":[],"owner":{"account_id":7799092,"reputation":578,"user_id":5899171,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646510935,"creation_date":1645219512,"answer_id":71180012,"question_id":71173980,"body_markdown":"You can use standard [policies][1] for starting new log files at defined events. This is the recommended way.\r\n\r\nIf you need more flexibility, you can use the `DynamicPolicy` for starting a new log file programmatically. This policy is part of tinylog 2.5. The first milestone is expected to be released during this month and will include this new policy.\r\n\r\nConfiguration:\r\n\r\n```properties\r\nwriter          = rolling file\r\nwriter.file     = foo.log\r\nwriter.policies = dynamic\r\n```\r\n\r\nStart new log file in Java:\r\n\r\n```java\r\nDynamicPolicy.setReset();\r\n```\r\n\r\n\r\n  [1]: https://tinylog.org/v2/configuration/#rolling-file-writer\r\n  [2]: https://github.com/tinylog-org/tinylog/pull/230/files#diff-ed6aa7eaec84ac0f1ea647ada37a8a49545ba153e57269330af83c781f81f6ec","title":"Tinylog Android, is it possible to clear the file?","body":"<p>You can use standard <a href=\"https://tinylog.org/v2/configuration/#rolling-file-writer\" rel=\"nofollow noreferrer\">policies</a> for starting new log files at defined events. This is the recommended way.</p>\n<p>If you need more flexibility, you can use the <code>DynamicPolicy</code> for starting a new log file programmatically. This policy is part of tinylog 2.5. The first milestone is expected to be released during this month and will include this new policy.</p>\n<p>Configuration:</p>\n<pre><code>writer          = rolling file\nwriter.file     = foo.log\nwriter.policies = dynamic\n</code></pre>\n<p>Start new log file in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DynamicPolicy.setReset();\n</code></pre>\n"}],"owner":{"account_id":16389454,"reputation":5,"user_id":15330370,"display_name":"Gorbachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71180012,"answer_count":1,"score":0,"last_activity_date":1646510935,"creation_date":1645189635,"question_id":71173980,"body_markdown":"I&#39;m using the Tinylog library with the &quot;rolling file&quot; function to write logs to a file. Sometimes I need to clear a file.\r\n\r\nTried to do it with normal Java methods but it breaks the file and makes it hard to read.\r\nIs there a way to clear the log file at any point so it doesn&#39;t break?","title":"Tinylog Android, is it possible to clear the file?","body":"<p>I'm using the Tinylog library with the &quot;rolling file&quot; function to write logs to a file. Sometimes I need to clear a file.</p>\n<p>Tried to do it with normal Java methods but it breaks the file and makes it hard to read.\nIs there a way to clear the log file at any point so it doesn't break?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":229659,"reputation":3535,"user_id":492760,"accept_rate":82,"display_name":"Mike"},"score":0,"creation_date":1330916800,"post_id":3240704,"comment_id":12120230,"body_markdown":"see here http://stackoverflow.com/questions/2969766/process-requires-redirected-input","body":"see here <a href=\"http://stackoverflow.com/questions/2969766/process-requires-redirected-input\" title=\"process requires redirected input\">stackoverflow.com/questions/2969766/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279052571,"creation_date":1279052571,"answer_id":3241195,"question_id":3240704,"body_markdown":"I believe the prompt is going to STDERR, not STDOUT, so you&#39;ll have to open a stream connected to that and read there.  When you try to read from STDOUT your code hangs waiting for output that will never arrive.\r\n\r\nEDIT: I see you have redirected the error stream in the ProcessBuilder.\r\n\r\nOne other possibility is that the BufferedReader is waiting for a newline to finish reading, and the prompt does not end with a newline.","title":"Execute external program using ProcessBuilder and provide input","body":"<p>I believe the prompt is going to STDERR, not STDOUT, so you'll have to open a stream connected to that and read there.  When you try to read from STDOUT your code hangs waiting for output that will never arrive.</p>\n\n<p>EDIT: I see you have redirected the error stream in the ProcessBuilder.</p>\n\n<p>One other possibility is that the BufferedReader is waiting for a newline to finish reading, and the prompt does not end with a newline.</p>\n"},{"tags":[],"owner":{"account_id":1817664,"reputation":3944,"user_id":1652461,"accept_rate":67,"display_name":"remi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434122128,"creation_date":1434122128,"answer_id":30806564,"question_id":3240704,"body_markdown":"Been a long time, but got exactly the same problem. Here is a SSCCE that should work:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Toto\r\n    {\r\n    \t\r\n    \tprivate static Logger logger = LoggerFactory.getLogger(Toto.class);\r\n    \t\r\n    \tstatic class Params \r\n    \t{\r\n    \t\tpublic String getUserName()\t{\r\n    \t\t\treturn &quot;PUT USERNAME HERE&quot;;\r\n    \t\t}\r\n    \t\tpublic String getHost() {\r\n    \t\t\treturn &quot;PUT HOST HERE&quot;;\r\n    \t\t}\r\n    \t\tpublic String getDbName() {\r\n    \t\t\treturn &quot;PUT DBNAME HERE&quot;;\r\n    \t\t}\r\n    \t\tpublic char[] getPassword() {\r\n    \t\t\treturn new char[]{&#39;p&#39;,&#39;a&#39;,&#39;s&#39;,&#39;s&#39;,&#39;w&#39;,&#39;o&#39;,&#39;r&#39;,&#39;d&#39;};\r\n    \t\t}\r\n    \t\tpublic String getSqlFile() {\r\n    \t\t\treturn &quot;PUT SQL COMMAND FILE HERE&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tParams params = new Params();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tfinal String userName \t= params.getUserName();\r\n    \t\t\tfinal String host \t\t= params.getHost();\r\n    \t\t\tfinal String dbName\t\t= params.getDbName();\r\n    \t\t\tfinal char[] pass\t\t= params.getPassword();\r\n    \t\t\tif (userName == null || host == null || dbName == null || pass == null) {\r\n    \t\t\t\tlogger.error(&quot;Missing the following info to execute the SQL command file: {} {} {} {}&quot;\t, userName \t== null ? &quot;username&quot;: &quot;&quot;\r\n    \t\t\t\t\t, host\t\t== null ? &quot;host&quot;\t: &quot;&quot;\r\n    \t\t\t\t\t\t, dbName\t== null ? &quot;database&quot;: &quot;&quot;\r\n    \t\t\t\t\t\t\t, pass\t\t== null ? &quot;password&quot;: &quot;&quot;);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\tList&lt;String&gt; sb = new ArrayList&lt;String&gt;();\r\n    \t\t\tsb.add(&quot;psql&quot;);\r\n    \t\t\tsb.add(&quot;-h&quot;);\r\n    \t\t\tsb.add(host);\r\n    \t\t\tsb.add(&quot;-U&quot;);\r\n    \t\t\tsb.add(userName);\r\n    \t\t\tsb.add(&quot;-d&quot;);\r\n    \t\t\tsb.add(dbName);\r\n    \t\t\tsb.add(&quot;-f&quot;);\r\n    \t\t\tsb.add(params.getSqlFile());\r\n    \t\t\t//\t\t\t\tsb.add(&quot;-W&quot;); // force password prompt\r\n    \t\t\tlogger.debug(&quot;Executing the following command: {}&quot;, sb.toString());\r\n    \t\t\tProcessBuilder pb = new ProcessBuilder(sb);\r\n    \t\t\tfinal Process p = pb.start();\r\n    \t\t\tfinal BufferedReader stdinReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \t\t\tfinal BufferedReader stderrReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n    \t\t\tnew Thread(new Runnable()\r\n    \t\t\t{\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void run()\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttry\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tOutputStreamWriter s = new OutputStreamWriter(p.getOutputStream());\r\n    \t\t\t\t\t\ts.write(pass);\r\n    \t\t\t\t\t\ts.write(System.getProperty(&quot;line.separator&quot;));\r\n    \t\t\t\t\t\ts.flush();\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Pass written&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch(IOException e)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlogger.error(&quot;Exception raised in the thread writting password to psql&quot;, e);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}).start();\r\n    \t\t\t\r\n    \t\t\tnew Thread(new Runnable()\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void run()\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttry\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tString s;\r\n    \t\t\t\t\t\twhile (( s=stdinReader.readLine()) != null) {\r\n    \t\t\t\t\t\t\tlogger.debug(&quot;psql [STDOUT]: {}&quot;, s);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch(IOException e)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlogger.error(&quot;Exception raised in thread displaying stdout of psql&quot;, e);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}).start();\r\n    \t\t\tnew Thread(new Runnable()\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void run()\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttry\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tString s;\r\n    \t\t\t\t\t\twhile (( s=stderrReader.readLine()) != null) {\r\n    \t\t\t\t\t\t\tlogger.error(&quot;psql [STDERR]: {}&quot;, s);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch(IOException e)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlogger.error(&quot;Exception raised in thread displaying stderr of psql&quot;, e);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}).start();\r\n    \t\t\tint returnVal = p.waitFor();\r\n    \t\t\tlogger.debug(&quot;Process ended with return val {} &quot;, returnVal);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tlogger.error(&quot;Exception raised while executing the results on server&quot;, e);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Execute external program using ProcessBuilder and provide input","body":"<p>Been a long time, but got exactly the same problem. Here is a SSCCE that should work:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Toto\n{\n\n    private static Logger logger = LoggerFactory.getLogger(Toto.class);\n\n    static class Params \n    {\n        public String getUserName() {\n            return \"PUT USERNAME HERE\";\n        }\n        public String getHost() {\n            return \"PUT HOST HERE\";\n        }\n        public String getDbName() {\n            return \"PUT DBNAME HERE\";\n        }\n        public char[] getPassword() {\n            return new char[]{'p','a','s','s','w','o','r','d'};\n        }\n        public String getSqlFile() {\n            return \"PUT SQL COMMAND FILE HERE\";\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        Params params = new Params();\n\n        try {\n            final String userName   = params.getUserName();\n            final String host       = params.getHost();\n            final String dbName     = params.getDbName();\n            final char[] pass       = params.getPassword();\n            if (userName == null || host == null || dbName == null || pass == null) {\n                logger.error(\"Missing the following info to execute the SQL command file: {} {} {} {}\"  , userName  == null ? \"username\": \"\"\n                    , host      == null ? \"host\"    : \"\"\n                        , dbName    == null ? \"database\": \"\"\n                            , pass      == null ? \"password\": \"\");\n                return;\n            }\n            List&lt;String&gt; sb = new ArrayList&lt;String&gt;();\n            sb.add(\"psql\");\n            sb.add(\"-h\");\n            sb.add(host);\n            sb.add(\"-U\");\n            sb.add(userName);\n            sb.add(\"-d\");\n            sb.add(dbName);\n            sb.add(\"-f\");\n            sb.add(params.getSqlFile());\n            //              sb.add(\"-W\"); // force password prompt\n            logger.debug(\"Executing the following command: {}\", sb.toString());\n            ProcessBuilder pb = new ProcessBuilder(sb);\n            final Process p = pb.start();\n            final BufferedReader stdinReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            final BufferedReader stderrReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n            new Thread(new Runnable()\n            {\n                @Override\n                public void run()\n                {\n                    try\n                    {\n\n                        OutputStreamWriter s = new OutputStreamWriter(p.getOutputStream());\n                        s.write(pass);\n                        s.write(System.getProperty(\"line.separator\"));\n                        s.flush();\n                        System.out.println(\"Pass written\");\n                    }\n                    catch(IOException e)\n                    {\n                        logger.error(\"Exception raised in the thread writting password to psql\", e);\n                    }\n                }\n            }).start();\n\n            new Thread(new Runnable()\n            {\n\n                @Override\n                public void run()\n                {\n                    try\n                    {\n                        String s;\n                        while (( s=stdinReader.readLine()) != null) {\n                            logger.debug(\"psql [STDOUT]: {}\", s);\n                        }\n                    }\n                    catch(IOException e)\n                    {\n                        logger.error(\"Exception raised in thread displaying stdout of psql\", e);\n                    }\n                }\n            }).start();\n            new Thread(new Runnable()\n            {\n\n                @Override\n                public void run()\n                {\n                    try\n                    {\n                        String s;\n                        while (( s=stderrReader.readLine()) != null) {\n                            logger.error(\"psql [STDERR]: {}\", s);\n                        }\n                    }\n                    catch(IOException e)\n                    {\n                        logger.error(\"Exception raised in thread displaying stderr of psql\", e);\n                    }\n                }\n            }).start();\n            int returnVal = p.waitFor();\n            logger.debug(\"Process ended with return val {} \", returnVal);\n\n        }\n        catch (Exception e) {\n            logger.error(\"Exception raised while executing the results on server\", e);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":166615,"reputation":83,"user_id":390855,"accept_rate":33,"display_name":"Harry Potel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646510650,"creation_date":1279049268,"question_id":3240704,"body_markdown":"I&#39;m trying to execute an external program with Java using `ProcessBuilder`, but it expects input from the user.\r\n\r\nTo be more specific, the program is `PGSQL` (Postgres SQL), when it&#39;s executed the program prompts the user for a password. The only way to bypass that is to save a file in the user home containing the passwords, I&#39;m trying to avoid that, so I want to execute the program from Java and send the password using the process&#39; output stream.\r\n\r\nThe code works fine when the program doesn&#39;t expect any user input, but when I delete the password file from the user home, the program hangs. I see that it&#39;s being executed, but nothing happens. If I debug it, it reaches the while and then nothing happens until I kill the process.\r\n\r\nThis is the code, any help will be greatly appreciated.\r\n\r\n    @Test\r\n    public void testSQLExecution() throws Exception {\r\n\tString path = &quot;C:/tmp&quot;;\r\n\tList&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\r\n\tcommandList.add(&quot;psql&quot;);\r\n\tcommandList.add(&quot;-f&quot;);\r\n\tcommandList.add(&quot;test.sql&quot;);\r\n\tcommandList.add(&quot;-h&quot;);\r\n\tcommandList.add(HOST);\r\n\tcommandList.add(&quot;-p&quot;);\r\n\tcommandList.add(PORT);\r\n\tcommandList.add(&quot;-U&quot;);\r\n\tcommandList.add(DATABASE);\r\n\tcommandList.add(SCHEMA);\r\n\r\n\tProcessBuilder processBuilder = new ProcessBuilder(commandList);\r\n\tprocessBuilder.directory(new File(path));\r\n\tprocessBuilder.redirectErrorStream(true);\r\n\r\n\tProcess p = processBuilder.start();\r\n\r\n\tString line;\r\n\tBufferedReader input = new BufferedReader(new InputStreamReader(p\r\n\t\t.getInputStream()));\r\n\tBufferedWriter out = new BufferedWriter(new OutputStreamWriter(p\r\n\t\t.getOutputStream()));\r\n\r\n\tout.write(&quot;password&quot;);\r\n\tout.newLine();\r\n\tout.flush();\r\n\tout.close();\r\n\r\n        // When this line is reached, the execution halts.\r\n\twhile (input.ready() &amp;&amp; (line = input.readLine()) != null) {\r\n\t    System.out.println(line);\r\n\t}\r\n\r\n\tif (p.waitFor() != 0) {\r\n\t    Assert.fail(&quot;The process did not run succesfully.&quot;);\r\n\t}\r\n\r\n\tinput.close();\r\n    }\r\n\r\nThanks a lot.","title":"Execute external program using ProcessBuilder and provide input","body":"<p>I'm trying to execute an external program with Java using <code>ProcessBuilder</code>, but it expects input from the user.</p>\n\n<p>To be more specific, the program is <code>PGSQL</code> (Postgres SQL), when it's executed the program prompts the user for a password. The only way to bypass that is to save a file in the user home containing the passwords, I'm trying to avoid that, so I want to execute the program from Java and send the password using the process' output stream.</p>\n\n<p>The code works fine when the program doesn't expect any user input, but when I delete the password file from the user home, the program hangs. I see that it's being executed, but nothing happens. If I debug it, it reaches the while and then nothing happens until I kill the process.</p>\n\n<p>This is the code, any help will be greatly appreciated.</p>\n\n<pre><code>@Test\npublic void testSQLExecution() throws Exception {\nString path = \"C:/tmp\";\nList&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\ncommandList.add(\"psql\");\ncommandList.add(\"-f\");\ncommandList.add(\"test.sql\");\ncommandList.add(\"-h\");\ncommandList.add(HOST);\ncommandList.add(\"-p\");\ncommandList.add(PORT);\ncommandList.add(\"-U\");\ncommandList.add(DATABASE);\ncommandList.add(SCHEMA);\n\nProcessBuilder processBuilder = new ProcessBuilder(commandList);\nprocessBuilder.directory(new File(path));\nprocessBuilder.redirectErrorStream(true);\n\nProcess p = processBuilder.start();\n\nString line;\nBufferedReader input = new BufferedReader(new InputStreamReader(p\n    .getInputStream()));\nBufferedWriter out = new BufferedWriter(new OutputStreamWriter(p\n    .getOutputStream()));\n\nout.write(\"password\");\nout.newLine();\nout.flush();\nout.close();\n\n    // When this line is reached, the execution halts.\nwhile (input.ready() &amp;&amp; (line = input.readLine()) != null) {\n    System.out.println(line);\n}\n\nif (p.waitFor() != 0) {\n    Assert.fail(\"The process did not run succesfully.\");\n}\n\ninput.close();\n}\n</code></pre>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","annotations","static-analysis","codeql","semmle-ql"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646510600,"creation_date":1646500639,"answer_id":71364292,"question_id":69232438,"body_markdown":"Unfortunately CodeQL does not provide any predicates for this out of the box (see also this [related issue](https://github.com/github/codeql/issues/6275)). However, you can exploit the fact that default value `Expr` does not seem to have a location in source (i.e. its `getLocation()` has a `.class` file location as result).\r\n\r\nYou could then have a utility predicate, such as the following, to detect whether an annotation has a default value for an element:\r\n```codeql\r\npredicate hasDefaultValue(Annotation annotation, string elementName) {\r\n  // If value file location is not the same as annotation file location, then most likely it\r\n  // is the default value (unless there is a bug with the CodeQL extractor)\r\n  annotation.getValue(elementName).getLocation().getFile() != annotation.getLocation().getFile()\r\n}\r\n```\r\n\r\nBut keep in mind that this behavior is not explicitly defined, and could change in the future, or bugs with the CodeQL extractor could cause false positives here. Additionally this does not work for annotations which occur in dependencies or the JDK, since the annotation itself is then not present in source either.","title":"How to check if a Java annotation has a specific property using CodeQL?","body":"<p>Unfortunately CodeQL does not provide any predicates for this out of the box (see also this <a href=\"https://github.com/github/codeql/issues/6275\" rel=\"nofollow noreferrer\">related issue</a>). However, you can exploit the fact that default value <code>Expr</code> does not seem to have a location in source (i.e. its <code>getLocation()</code> has a <code>.class</code> file location as result).</p>\n<p>You could then have a utility predicate, such as the following, to detect whether an annotation has a default value for an element:</p>\n<pre><code>predicate hasDefaultValue(Annotation annotation, string elementName) {\n  // If value file location is not the same as annotation file location, then most likely it\n  // is the default value (unless there is a bug with the CodeQL extractor)\n  annotation.getValue(elementName).getLocation().getFile() != annotation.getLocation().getFile()\n}\n</code></pre>\n<p>But keep in mind that this behavior is not explicitly defined, and could change in the future, or bugs with the CodeQL extractor could cause false positives here. Additionally this does not work for annotations which occur in dependencies or the JDK, since the annotation itself is then not present in source either.</p>\n"}],"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646510600,"creation_date":1631949014,"question_id":69232438,"body_markdown":"Let&#39;s say we have the following piece of code:\r\n\r\n```java\r\npublic class Demo {\r\n    @ABC(name = &quot;abc&quot;)\r\n    private String field1;\r\n\r\n    @ABC\r\n    private String field2;\r\n}\r\n\r\n@interface ABC {\r\n    String name() default &quot;&quot;;\r\n}\r\n```\r\n\r\nHow can I write a query that selects all the fields annotated with `@ABC` that does not have the `name` property?  \r\n\r\nThere&#39;s `getValue(string)` method in `Annotation` object, but `getValue(&quot;name&quot;)` returns empty string for the annotation on `field2` because it&#39;s the default value. But I am wondering how can I check if that property is even there, mentioned by the author.","title":"How to check if a Java annotation has a specific property using CodeQL?","body":"<p>Let's say we have the following piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo {\n    @ABC(name = &quot;abc&quot;)\n    private String field1;\n\n    @ABC\n    private String field2;\n}\n\n@interface ABC {\n    String name() default &quot;&quot;;\n}\n</code></pre>\n<p>How can I write a query that selects all the fields annotated with <code>@ABC</code> that does not have the <code>name</code> property?</p>\n<p>There's <code>getValue(string)</code> method in <code>Annotation</code> object, but <code>getValue(&quot;name&quot;)</code> returns empty string for the annotation on <code>field2</code> because it's the default value. But I am wondering how can I check if that property is even there, mentioned by the author.</p>\n"},{"tags":["java","linux","jvm","centos7"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1646487758,"post_id":71362634,"comment_id":126138298,"body_markdown":"Thread stacks are not the only thing that lives in non-heap memory. So the values being &quot;different&quot; is not suprising. Are they higher or lower than what you expected?","body":"Thread stacks are not the only thing that lives in non-heap memory. So the values being &quot;different&quot; is not suprising. Are they higher or lower than what you expected?"},{"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"score":0,"creation_date":1646488101,"post_id":71362634,"comment_id":126138351,"body_markdown":"Thank you for answer.\n\nThere are 200 threads, but the memory is about 100mb.\n\nLess memory usage than expected.","body":"Thank you for answer.  There are 200 threads, but the memory is about 100mb.  Less memory usage than expected."},{"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"score":0,"creation_date":1646488443,"post_id":71362634,"comment_id":126138400,"body_markdown":"So, can&#39;t the thread stack memory be checked as non-heap memory?\n\nDo I need to infer thread stack memory by thread number?","body":"So, can&#39;t the thread stack memory be checked as non-heap memory?  Do I need to infer thread stack memory by thread number?"},{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1646488603,"post_id":71362634,"comment_id":126138424,"body_markdown":"memory is not allocated until it is needed","body":"memory is not allocated until it is needed"},{"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"score":0,"creation_date":1646489418,"post_id":71362634,"comment_id":126138593,"body_markdown":"Sorry for frequently asking rudimentary questions.\n\nThank you so much for your kind replies.\n\nSo, when do you need thread stack memory?","body":"Sorry for frequently asking rudimentary questions.  Thank you so much for your kind replies.  So, when do you need thread stack memory?"},{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1646491639,"post_id":71362634,"comment_id":126139036,"body_markdown":"when the stack causes a page fault","body":"when the stack causes a page fault"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646496264,"post_id":71362634,"comment_id":126140074,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646510132,"creation_date":1646510132,"answer_id":71365537,"question_id":71362634,"body_markdown":"[Non-Heap memory](https://stackoverflow.com/questions/39329455/java-non-heap-memory-analyzes), as shown by `jconsole`, includes Metaspace, Compressed Class Space and Code Cache. In other words, it counts memory used by loaded classes and compiled methods. It has nothing to do with threads and stacks.","title":"Why is the number of threads in a java process different from the actual size of non-heap memory?","body":"<p><a href=\"https://stackoverflow.com/questions/39329455/java-non-heap-memory-analyzes\">Non-Heap memory</a>, as shown by <code>jconsole</code>, includes Metaspace, Compressed Class Space and Code Cache. In other words, it counts memory used by loaded classes and compiled methods. It has nothing to do with threads and stacks.</p>\n"}],"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71365537,"answer_count":1,"score":0,"last_activity_date":1646510132,"creation_date":1646487437,"question_id":71362634,"body_markdown":"The sentences may be strange due to my lack of English knowledge\r\nThanks to everyone who reads the question.\r\n\r\n\r\nHello?\r\n\r\nI am running a java process on Centos7 and monitoring it with jconsole, but the number of threads currently created is different in non-heap memory size.\r\n\r\nI know that one thread occupies 1mb by default, but even if 100thread is created, the size of non-heap memory is not 100mb. Why?\r\n\r\n","title":"Why is the number of threads in a java process different from the actual size of non-heap memory?","body":"<p>The sentences may be strange due to my lack of English knowledge\nThanks to everyone who reads the question.</p>\n<p>Hello?</p>\n<p>I am running a java process on Centos7 and monitoring it with jconsole, but the number of threads currently created is different in non-heap memory size.</p>\n<p>I know that one thread occupies 1mb by default, but even if 100thread is created, the size of non-heap memory is not 100mb. Why?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":18942186,"reputation":457,"user_id":13821955,"display_name":"Rashad Nasirli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646510060,"creation_date":1646509708,"answer_id":71365496,"question_id":71363565,"body_markdown":"The answer is definitely not.\r\n\r\nYou can see this by debugging the test script you wrote\r\n[![Code example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/buSI1.png\r\n\r\nIt will take that element&#39;s &#39;By locator&#39; data (In this case it is *By.cssSelector(&quot;a[id=&#39;nav-link-accountList&#39;]&quot;)* ) add pass it to the **moveToElement()** function. \r\n\r\nNote: \r\nJust imagine if &#39;WebElement&#39; being called every time when it is used somewhere the same logical condition would have been true for the driver as well. That means whenever you would use  &#39;driver.findElement&#39; It would go to the first line of code that is &#39;WebDriver driver = new ChromeDriver();&#39; and it would open new browser each time you use &#39;driver.findElement&#39; method\r\n\r\n","title":"Is webElement being called by passing the variable of WebElement into constructor of another &quot;Actions&quot; class?","body":"<p>The answer is definitely not.</p>\n<p>You can see this by debugging the test script you wrote\n<a href=\"https://i.stack.imgur.com/buSI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/buSI1.png\" alt=\"Code example\" /></a></p>\n<p>It will take that element's 'By locator' data (In this case it is <em>By.cssSelector(&quot;a[id='nav-link-accountList']&quot;)</em> ) add pass it to the <strong>moveToElement()</strong> function.</p>\n<p>Note:\nJust imagine if 'WebElement' being called every time when it is used somewhere the same logical condition would have been true for the driver as well. That means whenever you would use  'driver.findElement' It would go to the first line of code that is 'WebDriver driver = new ChromeDriver();' and it would open new browser each time you use 'driver.findElement' method</p>\n"}],"owner":{"account_id":24142176,"reputation":37,"user_id":18108245,"display_name":"Sundar Jakob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71365496,"answer_count":1,"score":0,"last_activity_date":1646510060,"creation_date":1646494908,"question_id":71363565,"body_markdown":"    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\ChromeDriver\\\\chromedriver.exe&quot;);  \r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://www.amazon.com/&quot;);\r\n    Actions a = new Actions(driver);\r\n    WebElement move = driver.findElement(By.cssSelector(&quot;a[id=&#39;nav-link-accountList&#39;]&quot;));\r\n    a.moveToElement(move).build.perform();\r\n\r\nI didn&#39;t understand the last step.","title":"Is webElement being called by passing the variable of WebElement into constructor of another &quot;Actions&quot; class?","body":"<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\ChromeDriver\\\\chromedriver.exe&quot;);  \nWebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.amazon.com/&quot;);\nActions a = new Actions(driver);\nWebElement move = driver.findElement(By.cssSelector(&quot;a[id='nav-link-accountList']&quot;));\na.moveToElement(move).build.perform();\n</code></pre>\n<p>I didn't understand the last step.</p>\n"},{"tags":["java","string","list","sorting","collections"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646421355,"post_id":71356213,"comment_id":126127246,"body_markdown":"Is `a - 11 h - 19 l - 18 d - 19` a single string or are they several strings? Also, what have you tried so far. I don&#39;t see any code. If you don&#39;t post what you have tried, people will come here and vote to close your question.","body":"Is <code>a - 11 h - 19 l - 18 d - 19</code> a single string or are they several strings? Also, what have you tried so far. I don&#39;t see any code. If you don&#39;t post what you have tried, people will come here and vote to close your question."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1646421491,"post_id":71356213,"comment_id":126127282,"body_markdown":"Hi and welcome to Stackoverflow!!  I recommend you take a read of this: https://stackoverflow.com/help/how-to-ask  Cheers!","body":"Hi and welcome to Stackoverflow!!  I recommend you take a read of this: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>  Cheers!"},{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":1,"creation_date":1646421494,"post_id":71356213,"comment_id":126127285,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":24310065,"reputation":21,"user_id":18252225,"display_name":"yurkaishere"},"score":0,"creation_date":1646422279,"post_id":71356213,"comment_id":126127517,"body_markdown":"@hfontanez it a single string and i need to change it to second variant. Double sorting","body":"@hfontanez it a single string and i need to change it to second variant. Double sorting"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646423458,"post_id":71356213,"comment_id":126127861,"body_markdown":"Seems like you need to break the string into substrings that follow a particular pattern. Then, you need to concatenate them back into a single string based in your ordering requirement. For that, you need to write a Comparator. You need to show your work in order to get help in Stack Overflow.","body":"Seems like you need to break the string into substrings that follow a particular pattern. Then, you need to concatenate them back into a single string based in your ordering requirement. For that, you need to write a Comparator. You need to show your work in order to get help in Stack Overflow."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1646425057,"post_id":71356213,"comment_id":126128322,"body_markdown":"According to your example output, the *letters are in ascending order* and the *integer numbers are in descending order*. What is the actual sort order required or is that the desired sort order?","body":"According to your example output, the <i>letters are in ascending order</i> and the <i>integer numbers are in descending order</i>. What is the actual sort order required or is that the desired sort order?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646425901,"post_id":71356213,"comment_id":126128538,"body_markdown":"@DevilsHnd this is the desired sort order `d - 19 h - 19 l - 18 a - 11`","body":"@DevilsHnd this is the desired sort order <code>d - 19 h - 19 l - 18 a - 11</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646428522,"post_id":71356213,"comment_id":126129176,"body_markdown":"@DevilsHnd based on the desired output, the sort order is sort by the numeric portion in descending order then by the alphabetic portion in ascending order.","body":"@DevilsHnd based on the desired output, the sort order is sort by the numeric portion in descending order then by the alphabetic portion in ascending order."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646432442,"post_id":71356213,"comment_id":126130047,"body_markdown":"@yurkaishere I edited your post for clarity. Please confirm that this is exactly what you wanted.","body":"@yurkaishere I edited your post for clarity. Please confirm that this is exactly what you wanted."},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":1,"creation_date":1646737069,"post_id":71356213,"comment_id":126192608,"body_markdown":"If reply helps then you can upvote or mark it as an answer to simplify the future search of other users. Pelase, see [How does accepting an answer work?](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work)","body":"If reply helps then you can upvote or mark it as an answer to simplify the future search of other users. Pelase, see <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">How does accepting an answer work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646427634,"creation_date":1646427634,"answer_id":71357158,"question_id":71356213,"body_markdown":"To solve, the problem must be broken down into subproblems:\r\n\r\n 1. Break down the input string into substrings\r\n 2. Collect each substring into a list\r\n 3. Create a comparator that compares the last (numeric) portion of the (sub)string and sorts them in descending order, and then by the beginning portion in ascending order\r\n 4. Convert the list of substrings back into a string\r\n\r\n## Break down the input string into substrings ##\r\n```\r\nString regex = &quot;\\\\w\\\\s-\\\\s\\\\d+&quot;;\r\nString input = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\r\n\r\nPattern pattern = Pattern.compile(regex);\r\nMatcher matcher = pattern.matcher(input);\r\nmatcher.toMatchResult().groupCount(); // this should return 4 (won&#39;t be used in final code)\r\n```\r\n## Collect each substring into a list ##\r\n```\r\nList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\nwhile (matcher.find()) {\r\n\tstrings.add(matcher.group());\r\n}\r\n```\r\nThe code above will iterate through all of the groups that matched the regex pattern and adds them to a list.\r\n\r\n## Create a comparator ##\r\n```\r\nComparator&lt;String&gt; compareBySubstring = Comparator.comparing((String s) -&gt; s.substring(s.indexOf(&quot; -&quot;)))\r\n\t\t.reversed().thenComparing((String s) -&gt; s.substring(0, s.indexOf(&quot;-&quot;)));\r\nList&lt;String&gt; newList = strings.stream().sorted(compareBySubstring).collect(Collectors.toList());\r\n```\r\nThe comparator I created compares the last portion of the substrings (after the dash) and sorts them in descending order (`reversed()`). Then, the intermediate result is sorted in ascending order from the beginning of the substring up to the dash. Basically it sorts the intermediate result in alphabetical order since the substrings start with a letter.\r\n\r\n## Convert the list of substrings back into a string ##\r\n```\r\n\t\tStringBuilder buffer = new StringBuilder();\r\n\t\tnewList.forEach(item -&gt; {\r\n\t\t\tbuffer.append(item + &quot; &quot;); // done to reinsert the space that separated each substring.\r\n\t\t});\r\n```\r\n\r\nI created a test program to run this:\r\n```\r\npublic class SortBySubstringDemo {\r\n\tpublic static void main(String[] args) {\r\n\t\tString regex = &quot;\\\\w\\\\s-\\\\s\\\\d+&quot;;\r\n\t\tString input = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\r\n\t\tSystem.out.println(&quot;Input:\\n&quot; + input);\r\n\r\n\t\tPattern pattern = Pattern.compile(regex);\r\n\t\tMatcher matcher = pattern.matcher(input);\r\n\t\tList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\t\twhile (matcher.find()) {\r\n\t\t\tstrings.add(matcher.group());\r\n\t\t}\r\n\r\n\t\tComparator&lt;String&gt; compareBySubstring = Comparator.comparing((String s) -&gt; s.substring(s.indexOf(&quot; -&quot;)))\r\n\t\t\t\t.reversed().thenComparing((String s) -&gt; s.substring(0, s.indexOf(&quot;-&quot;)));\r\n\t\tList&lt;String&gt; newList = strings.stream().sorted(compareBySubstring).collect(Collectors.toList());\r\n\r\n\t\tStringBuilder buffer = new StringBuilder();\r\n\t\tnewList.forEach(item -&gt; {\r\n\t\t\tbuffer.append(item + &quot; &quot;);\r\n\t\t});\r\n\t\tString output = buffer.toString().trim();\r\n\t\tSystem.out.println(&quot;Output:\\n&quot; + output);\r\n\t}\r\n}\r\n```\r\nWhich results in the following:\r\n```\r\nInput:\r\na - 11 h - 19 l - 18 d - 19\r\nOutput:\r\nd - 19 h - 19 l - 18 a - 11\r\n```","title":"Rearrange substrings using two criteria","body":"<p>To solve, the problem must be broken down into subproblems:</p>\n<ol>\n<li>Break down the input string into substrings</li>\n<li>Collect each substring into a list</li>\n<li>Create a comparator that compares the last (numeric) portion of the (sub)string and sorts them in descending order, and then by the beginning portion in ascending order</li>\n<li>Convert the list of substrings back into a string</li>\n</ol>\n<h2>Break down the input string into substrings</h2>\n<pre><code>String regex = &quot;\\\\w\\\\s-\\\\s\\\\d+&quot;;\nString input = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(input);\nmatcher.toMatchResult().groupCount(); // this should return 4 (won't be used in final code)\n</code></pre>\n<h2>Collect each substring into a list</h2>\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\nwhile (matcher.find()) {\n    strings.add(matcher.group());\n}\n</code></pre>\n<p>The code above will iterate through all of the groups that matched the regex pattern and adds them to a list.</p>\n<h2>Create a comparator</h2>\n<pre><code>Comparator&lt;String&gt; compareBySubstring = Comparator.comparing((String s) -&gt; s.substring(s.indexOf(&quot; -&quot;)))\n        .reversed().thenComparing((String s) -&gt; s.substring(0, s.indexOf(&quot;-&quot;)));\nList&lt;String&gt; newList = strings.stream().sorted(compareBySubstring).collect(Collectors.toList());\n</code></pre>\n<p>The comparator I created compares the last portion of the substrings (after the dash) and sorts them in descending order (<code>reversed()</code>). Then, the intermediate result is sorted in ascending order from the beginning of the substring up to the dash. Basically it sorts the intermediate result in alphabetical order since the substrings start with a letter.</p>\n<h2>Convert the list of substrings back into a string</h2>\n<pre><code>        StringBuilder buffer = new StringBuilder();\n        newList.forEach(item -&gt; {\n            buffer.append(item + &quot; &quot;); // done to reinsert the space that separated each substring.\n        });\n</code></pre>\n<p>I created a test program to run this:</p>\n<pre><code>public class SortBySubstringDemo {\n    public static void main(String[] args) {\n        String regex = &quot;\\\\w\\\\s-\\\\s\\\\d+&quot;;\n        String input = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\n        System.out.println(&quot;Input:\\n&quot; + input);\n\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(input);\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n        while (matcher.find()) {\n            strings.add(matcher.group());\n        }\n\n        Comparator&lt;String&gt; compareBySubstring = Comparator.comparing((String s) -&gt; s.substring(s.indexOf(&quot; -&quot;)))\n                .reversed().thenComparing((String s) -&gt; s.substring(0, s.indexOf(&quot;-&quot;)));\n        List&lt;String&gt; newList = strings.stream().sorted(compareBySubstring).collect(Collectors.toList());\n\n        StringBuilder buffer = new StringBuilder();\n        newList.forEach(item -&gt; {\n            buffer.append(item + &quot; &quot;);\n        });\n        String output = buffer.toString().trim();\n        System.out.println(&quot;Output:\\n&quot; + output);\n    }\n}\n</code></pre>\n<p>Which results in the following:</p>\n<pre><code>Input:\na - 11 h - 19 l - 18 d - 19\nOutput:\nd - 19 h - 19 l - 18 a - 11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646509221,"creation_date":1646428883,"answer_id":71357330,"question_id":71356213,"body_markdown":"One alternative for your specific example is to use `stream`:\r\n\r\n 1. Replace `&quot; - &quot;` with `&quot; &quot;` to obtain a string with letters and numbers separated by whitespace.\r\n 2. Split using `&quot; &quot;` to obtain an `array` with letters in even indexes and numbers in odd indexes.\r\n 3. Create an `IntStream` with even indexes and map them to a `Map.Entry&lt;String,Integer&gt;` using `array[index]` as key and `array[index + 1]` as value.\r\n 4. Sort the `stream` with a comparator that compares values first and then keys.\r\n 5. Map the entry `stream` to a string with `key + &quot; - &quot; + value`.\r\n 6. Finally, collect the `stream` to a string using `Collectors.joining(&quot; &quot;)` to separate each `&quot;letter - number&quot;` with a whitespace.\r\n\r\nSummarizing all in a method:\r\n\r\n    public static String sort(String str) {\r\n\r\n        String[] arr = str.replaceAll(&quot; - &quot;, &quot; &quot;).split(&quot; &quot;);\r\n    \r\n        Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt; comparator = Comparator\r\n            .comparingInt(Map.Entry&lt;String, Integer&gt;::getValue).reversed()\r\n            .thenComparing(Map.Entry::getKey);\r\n        \r\n        return IntStream.range(0, arr.length).filter(i -&gt; i % 2 == 0)\r\n            .mapToObj(i -&gt; Map.entry(arr[i], Integer.parseInt(arr[i + 1])))\r\n            .sorted(comparator).map(entry -&gt; entry.getKey() + &quot; - &quot; + entry.getValue())\r\n            .collect(Collectors.joining(&quot; &quot;));\r\n    }\r\n\r\nTest:\r\n\r\n    String str = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\r\n\r\n    String strSorted = sort(str);\r\n\r\n    System.out.println(strSorted);\r\n\r\nOutput:\r\n\r\n    d - 19 h - 19 l - 18 a - 11","title":"Rearrange substrings using two criteria","body":"<p>One alternative for your specific example is to use <code>stream</code>:</p>\n<ol>\n<li>Replace <code>&quot; - &quot;</code> with <code>&quot; &quot;</code> to obtain a string with letters and numbers separated by whitespace.</li>\n<li>Split using <code>&quot; &quot;</code> to obtain an <code>array</code> with letters in even indexes and numbers in odd indexes.</li>\n<li>Create an <code>IntStream</code> with even indexes and map them to a <code>Map.Entry&lt;String,Integer&gt;</code> using <code>array[index]</code> as key and <code>array[index + 1]</code> as value.</li>\n<li>Sort the <code>stream</code> with a comparator that compares values first and then keys.</li>\n<li>Map the entry <code>stream</code> to a string with <code>key + &quot; - &quot; + value</code>.</li>\n<li>Finally, collect the <code>stream</code> to a string using <code>Collectors.joining(&quot; &quot;)</code> to separate each <code>&quot;letter - number&quot;</code> with a whitespace.</li>\n</ol>\n<p>Summarizing all in a method:</p>\n<pre><code>public static String sort(String str) {\n\n    String[] arr = str.replaceAll(&quot; - &quot;, &quot; &quot;).split(&quot; &quot;);\n\n    Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt; comparator = Comparator\n        .comparingInt(Map.Entry&lt;String, Integer&gt;::getValue).reversed()\n        .thenComparing(Map.Entry::getKey);\n    \n    return IntStream.range(0, arr.length).filter(i -&gt; i % 2 == 0)\n        .mapToObj(i -&gt; Map.entry(arr[i], Integer.parseInt(arr[i + 1])))\n        .sorted(comparator).map(entry -&gt; entry.getKey() + &quot; - &quot; + entry.getValue())\n        .collect(Collectors.joining(&quot; &quot;));\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>String str = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\n\nString strSorted = sort(str);\n\nSystem.out.println(strSorted);\n</code></pre>\n<p>Output:</p>\n<pre><code>d - 19 h - 19 l - 18 a - 11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646430544,"creation_date":1646430544,"answer_id":71357552,"question_id":71356213,"body_markdown":"```\r\nString s = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\r\n\r\nrecord Pair(String string, int number) { }\r\nSystem.out.println( new Scanner( s ).findAll( &quot;(\\\\w)\\\\s-\\\\s(\\\\d+)&quot; )\r\n                        .map( matchResult -&gt; new Pair( matchResult.group( 1 ), Integer.parseInt( matchResult.group( 2 ) ) ) )\r\n                        .sorted( Comparator.&lt;Pair&gt;comparingInt( Pair::number ).reversed().thenComparing( Pair::string ) )\r\n                        .map( pair -&gt; pair.string() + &quot; - &quot; + pair.number() )\r\n                        .collect( Collectors.joining( &quot; &quot; ) ) );\r\n```","title":"Rearrange substrings using two criteria","body":"<pre><code>String s = &quot;a - 11 h - 19 l - 18 d - 19&quot;;\n\nrecord Pair(String string, int number) { }\nSystem.out.println( new Scanner( s ).findAll( &quot;(\\\\w)\\\\s-\\\\s(\\\\d+)&quot; )\n                        .map( matchResult -&gt; new Pair( matchResult.group( 1 ), Integer.parseInt( matchResult.group( 2 ) ) ) )\n                        .sorted( Comparator.&lt;Pair&gt;comparingInt( Pair::number ).reversed().thenComparing( Pair::string ) )\n                        .map( pair -&gt; pair.string() + &quot; - &quot; + pair.number() )\n                        .collect( Collectors.joining( &quot; &quot; ) ) );\n</code></pre>\n"}],"owner":{"account_id":24310065,"reputation":21,"user_id":18252225,"display_name":"yurkaishere"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646745509,"accepted_answer_id":71357158,"answer_count":3,"score":0,"last_activity_date":1646509221,"creation_date":1646421147,"question_id":71356213,"body_markdown":"Given a String:\r\n\r\n    a - 11 h - 19 l - 18 d - 19\r\n\r\nI need to sort its substrings first by numbers (in descending order) and then by letters, so that the result of the sort has the following form:\r\n\r\n    d - 19 h - 19 l - 18 a - 11","title":"Rearrange substrings using two criteria","body":"<p>Given a String:</p>\n<pre><code>a - 11 h - 19 l - 18 d - 19\n</code></pre>\n<p>I need to sort its substrings first by numbers (in descending order) and then by letters, so that the result of the sort has the following form:</p>\n<pre><code>d - 19 h - 19 l - 18 a - 11\n</code></pre>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646362754,"creation_date":1646362754,"answer_id":71346141,"question_id":71346028,"body_markdown":"The problem is the way that you&#39;re invoking the Lombok builder. \r\n\r\nInstead of\r\n\r\n`NumCheck numCheck = new NumCheck().toBuilder().maxCount(10).build()`;\r\n\r\nyou should use:\r\n\r\n`NumCheck numCheck = NumCheck.builder().maxCount(10).build();`\r\n\r\nThe former creates an instance using the no-arg constructor, then creates a builder from that, and uses the builder to create a second instance, which is thrown away (not assigned to a variable).\r\n\r\nThe latter just creates one instance via the builder, and assigns it to the variable.\r\n\r\n","title":"Predicates of a class are not able to use the instance variable if the class is initialised via Lombok","body":"<p>The problem is the way that you're invoking the Lombok builder.</p>\n<p>Instead of</p>\n<p><code>NumCheck numCheck = new NumCheck().toBuilder().maxCount(10).build()</code>;</p>\n<p>you should use:</p>\n<p><code>NumCheck numCheck = NumCheck.builder().maxCount(10).build();</code></p>\n<p>The former creates an instance using the no-arg constructor, then creates a builder from that, and uses the builder to create a second instance, which is thrown away (not assigned to a variable).</p>\n<p>The latter just creates one instance via the builder, and assigns it to the variable.</p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646508949,"creation_date":1646475043,"answer_id":71361268,"question_id":71346028,"body_markdown":"You should ask yourself whether the `isLessThanMax` should really be settable via the builder. It seems to me more like a constant definition. If that is the case, you should make it `final`. Lombok ignores `final` fields with an initializer when generating the builder.\r\n(You also don&#39;t need `@Builder.Default` in this case. However, there is nothing wrong with `@Builder.Default` on fields. There is exactly zero performance or memory impact.)\r\n\r\nIf you are interested why your code behaves so strange, here&#39;s the explanation.\r\nWhen instantiating using the no-args constructor, `isLessThanMax` is initialized using a reference to the field `maxCount` of this instance. `maxCount` is defaulted to `0`. Then you call `toBuilder()`, which simply copies all values of the instance to the builder. Finally you call `maxCount(10).build()` on that builder. The resulting second instance will have `maxCount = 10`, but exactly the same `isLessThanMax` value than the first instance. That means that the predicate of the second instance still references the field of the first instance, which is `0`. So even though you set `maxCount = 10` for the second instance, the `Predicate` still compares using the `maxCount = 0` value from the first instance.\r\n\r\n*tl;dr*: Don&#39;t use method references that reference instance fields in combination with `toBuilder()`.","title":"Predicates of a class are not able to use the instance variable if the class is initialised via Lombok","body":"<p>You should ask yourself whether the <code>isLessThanMax</code> should really be settable via the builder. It seems to me more like a constant definition. If that is the case, you should make it <code>final</code>. Lombok ignores <code>final</code> fields with an initializer when generating the builder.\n(You also don't need <code>@Builder.Default</code> in this case. However, there is nothing wrong with <code>@Builder.Default</code> on fields. There is exactly zero performance or memory impact.)</p>\n<p>If you are interested why your code behaves so strange, here's the explanation.\nWhen instantiating using the no-args constructor, <code>isLessThanMax</code> is initialized using a reference to the field <code>maxCount</code> of this instance. <code>maxCount</code> is defaulted to <code>0</code>. Then you call <code>toBuilder()</code>, which simply copies all values of the instance to the builder. Finally you call <code>maxCount(10).build()</code> on that builder. The resulting second instance will have <code>maxCount = 10</code>, but exactly the same <code>isLessThanMax</code> value than the first instance. That means that the predicate of the second instance still references the field of the first instance, which is <code>0</code>. So even though you set <code>maxCount = 10</code> for the second instance, the <code>Predicate</code> still compares using the <code>maxCount = 0</code> value from the first instance.</p>\n<p><em>tl;dr</em>: Don't use method references that reference instance fields in combination with <code>toBuilder()</code>.</p>\n"}],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71361268,"answer_count":2,"score":1,"last_activity_date":1646508949,"creation_date":1646361498,"question_id":71346028,"body_markdown":"I am initializing a class via Lombok Builder. Through which I am initializing a variable. But that&#39;s variable&#39;s value is not available when I use that in a Predicate definition.\r\n\r\nMy code looks this:\r\n\r\n    @Builder(toBuilder = true)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    class NumCheck {\r\n        int maxCount;\r\n        Predicate&lt;Integer&gt; isLessThanMax = num -&gt; maxCount &lt; num;\r\n    }\r\n    \r\n    public class PredicateInstance {\r\n        public static void main(String[] args) {\r\n            int a = 5, b=11;\r\n            NumCheck numCheck = new NumCheck().toBuilder().maxCount(10).build();\r\n            Stream.of(2,5,6,7,10,11,20,32).filter(numCheck.isLessThanMax).forEach(System.out::println);\r\n        }\r\n    }\r\n\r\nWhile debugging, the value of maxCount was not getting initialized to 10. It remained 0.&lt;br/&gt;&lt;br/&gt;\r\n[![enter image description here][1]][1]\r\n&lt;br/&gt;\r\nIf I remove the Lombok builders and do it in normal way, this is working fine:\r\n\r\n    class NumCheck {\r\n        int maxCount;\r\n        Predicate&lt;Integer&gt; isLessThanMax = num -&gt; maxCount &lt; num;\r\n    }\r\n    \r\n    public class PredicateInstance {\r\n        public static void main(String[] args) {\r\n            int a = 5, b=11;\r\n            NumCheck numCheck = new NumCheck();\r\n            numCheck.maxCount = 10;\r\n            Stream.of(2,5,6,7,10,11,20,32).filter(numCheck.isLessThanMax).forEach(System.out::println);\r\n        }\r\n    }\r\n\r\nIs it a known limitation of Lombok or am I doing anything wrong here?\r\n\r\n**Workarounds that worked but not applicable for my scenario:**\r\n1. Declaring the maxCount as static.\r\n2. Declare BiPredicate and send maxCount along with num parameter.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5zcbJ.png","title":"Predicates of a class are not able to use the instance variable if the class is initialised via Lombok","body":"<p>I am initializing a class via Lombok Builder. Through which I am initializing a variable. But that's variable's value is not available when I use that in a Predicate definition.</p>\n<p>My code looks this:</p>\n<pre><code>@Builder(toBuilder = true)\n@NoArgsConstructor\n@AllArgsConstructor\nclass NumCheck {\n    int maxCount;\n    Predicate&lt;Integer&gt; isLessThanMax = num -&gt; maxCount &lt; num;\n}\n\npublic class PredicateInstance {\n    public static void main(String[] args) {\n        int a = 5, b=11;\n        NumCheck numCheck = new NumCheck().toBuilder().maxCount(10).build();\n        Stream.of(2,5,6,7,10,11,20,32).filter(numCheck.isLessThanMax).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>While debugging, the value of maxCount was not getting initialized to 10. It remained 0.<br/><br/>\n<a href=\"https://i.stack.imgur.com/5zcbJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5zcbJ.png\" alt=\"enter image description here\" /></a>\n<br/>\nIf I remove the Lombok builders and do it in normal way, this is working fine:</p>\n<pre><code>class NumCheck {\n    int maxCount;\n    Predicate&lt;Integer&gt; isLessThanMax = num -&gt; maxCount &lt; num;\n}\n\npublic class PredicateInstance {\n    public static void main(String[] args) {\n        int a = 5, b=11;\n        NumCheck numCheck = new NumCheck();\n        numCheck.maxCount = 10;\n        Stream.of(2,5,6,7,10,11,20,32).filter(numCheck.isLessThanMax).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Is it a known limitation of Lombok or am I doing anything wrong here?</p>\n<p><strong>Workarounds that worked but not applicable for my scenario:</strong></p>\n<ol>\n<li>Declaring the maxCount as static.</li>\n<li>Declare BiPredicate and send maxCount along with num parameter.</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8452,"page":1540,"page_size":100}
