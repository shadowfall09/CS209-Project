{"items":[{"tags":["java","android","google-oauth","google-signin"],"owner":{"account_id":12244530,"reputation":2176,"user_id":8936551,"accept_rate":20,"display_name":"sejn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699279351,"creation_date":1699279351,"question_id":77431678,"body_markdown":"I can&#39;t able to login my app suddenly with google after the target sdk version updates. I am getting Could not sign-in to google, make sure to call onStart/onStop methods to initialize GoogleApiClient properly.\r\n\r\n","title":"Unable to sign in with google with compileSDK 34","body":"<p>I can't able to login my app suddenly with google after the target sdk version updates. I am getting Could not sign-in to google, make sure to call onStart/onStop methods to initialize GoogleApiClient properly.</p>\n"},{"tags":["java","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699279323,"creation_date":1699279323,"answer_id":77431673,"question_id":77430643,"body_markdown":"You need to use a `UserCredentialsConnectionFactoryAdaptor`, e.g. as follows:\r\n\r\n```java\r\nActiveMQComponent amqComponent = new ActiveMQComponent();\r\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot; jms.watchTopicAdvisories=false&quot;);\r\n       \r\nUserCredentialsConnectionFactoryAdapter uca = new UserCredentialsConnectionFactoryAdapter();\r\nuca.setUsername(amqUser);\r\nuca.setPassword(amqPassword);\r\nuca.setTargetConnectionFactory(cf);\r\n            \r\nCachingConnectionFactory ccf = new CachingConnectionFactory(uca);\r\nccf.setClientId(amqClientID);\r\n            \r\namqComponent.setConnectionFactory(ccf);\r\namqComponent.setMaxConcurrentConsumers(1);\r\n            \r\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\r\n```","title":"org.springframework.jms.connection.CachingConnectionFactory provide username and password","body":"<p>You need to use a <code>UserCredentialsConnectionFactoryAdaptor</code>, e.g. as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent amqComponent = new ActiveMQComponent();\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot; jms.watchTopicAdvisories=false&quot;);\n       \nUserCredentialsConnectionFactoryAdapter uca = new UserCredentialsConnectionFactoryAdapter();\nuca.setUsername(amqUser);\nuca.setPassword(amqPassword);\nuca.setTargetConnectionFactory(cf);\n            \nCachingConnectionFactory ccf = new CachingConnectionFactory(uca);\nccf.setClientId(amqClientID);\n            \namqComponent.setConnectionFactory(ccf);\namqComponent.setMaxConcurrentConsumers(1);\n            \ncontext.addComponent(&quot;activemq&quot;, amqComponent);\n</code></pre>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77431673,"answer_count":1,"score":0,"last_activity_date":1699279323,"creation_date":1699269124,"question_id":77430643,"body_markdown":"How do I provide a username and password into a `org.springframework.jms.connection.CachingConnectionFactory`? (NOT the rabbit one).\r\n\r\nUsing Apache Camel, I&#39;m trying the following:\r\n\r\n```java\r\nActiveMQComponent amqComponent = new ActiveMQComponent();\r\n//amqComponent.setUsername(amqUser);\r\n//amqComponent.setPassword(amqPassword);\r\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot;?jms.watchTopicAdvisories=false&quot;);\r\n\r\nCachingConnectionFactory ccf = new CachingConnectionFactory(cf);\r\nccf.setClientId(&quot;clientID&quot;);\r\namqComponent.setConnectionFactory(ccf);\r\n\r\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\r\n```\r\n\r\nIf I uncomment the `.setUsername` and `.setPassword` calls, I get an error:\r\n\r\n&gt; &quot;SingleConnectionFactory does not support custom username and password&quot;\r\n\r\n(because `SingleConnectionFactory` is the parent class for this `CachingConnectionFactory`).\r\n\r\nClearly if I leave the lines commented, I get an authentication error because I&#39;m not providing a user/password.\r\n\r\nHow can I pass the ActiveMQ credentials when using a `CachingConnectionFactory`?\r\n\r\n(as an aside, https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq discusses why I am trying to use a CCF as opposed to just using the ActiveMQConnectionFactory - &quot;with each poll, it creates a new connection to the Broker - flooding my broker with hundreds of connections&quot;)","title":"org.springframework.jms.connection.CachingConnectionFactory provide username and password","body":"<p>How do I provide a username and password into a <code>org.springframework.jms.connection.CachingConnectionFactory</code>? (NOT the rabbit one).</p>\n<p>Using Apache Camel, I'm trying the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent amqComponent = new ActiveMQComponent();\n//amqComponent.setUsername(amqUser);\n//amqComponent.setPassword(amqPassword);\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot;?jms.watchTopicAdvisories=false&quot;);\n\nCachingConnectionFactory ccf = new CachingConnectionFactory(cf);\nccf.setClientId(&quot;clientID&quot;);\namqComponent.setConnectionFactory(ccf);\n\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\n</code></pre>\n<p>If I uncomment the <code>.setUsername</code> and <code>.setPassword</code> calls, I get an error:</p>\n<blockquote>\n<p>&quot;SingleConnectionFactory does not support custom username and password&quot;</p>\n</blockquote>\n<p>(because <code>SingleConnectionFactory</code> is the parent class for this <code>CachingConnectionFactory</code>).</p>\n<p>Clearly if I leave the lines commented, I get an authentication error because I'm not providing a user/password.</p>\n<p>How can I pass the ActiveMQ credentials when using a <code>CachingConnectionFactory</code>?</p>\n<p>(as an aside, <a href=\"https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq\">Spring Integration: How to use SingleConnectionFactory with ActiveMQ?</a> discusses why I am trying to use a CCF as opposed to just using the ActiveMQConnectionFactory - &quot;with each poll, it creates a new connection to the Broker - flooding my broker with hundreds of connections&quot;)</p>\n"},{"tags":["java","apache-spark","spark-streaming","nats.io","nats-streaming-server"],"answers":[{"tags":[],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699278828,"creation_date":1699278828,"answer_id":77431611,"question_id":77396073,"body_markdown":"Found out a solution for this scenario ! Messages were getting duplicated in every batches because there was no acknowledgment to NATS for the messages after consuming it. Had to use a durable consumer and pass the consumer name as an option in the spark code.\r\n\r\nInstructions to create a durable consumer : https://docs.nats.io/nats-concepts/jetstream/js_walkthrough#3.-creating-a-consumer\r\n\r\nInfo related to durable consumer : https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced\r\n\r\n*&quot;nats.durable.name&quot; Durable subscriptions allow clients to assign a durable name to a subscription when it is created. Doing this causes the NATS Streaming server to track the last acknowledged message for that clientID + durable name, so that only messages since the last acknowledged message will be delivered to the client. Obligatory configuration.*\r\n\r\nPass this consumer name as an option by using key &quot;**nats.durable.name**&quot;:\r\n\r\n    Dataset&lt;Row&gt; df = spark.readStream()\r\n                    .format(&quot;nats&quot;)\r\n                    .option(&quot;nats.host&quot;, &quot;localhost&quot;)\r\n                    .option(&quot;nats.port&quot;, 4222)\r\n                    .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\r\n                    .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\r\n                    // wait 90 seconds for an ack before resending a message\r\n                    .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\r\n                    //.option(&quot;nats.num.listeners&quot;, 2)\r\n                    // Each listener will fetch 10 messages at a time\r\n                   // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\r\n                      .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\r\n                    .load();\r\n\r\nThis will make sure that only messages since the last acknowledged message will be delivered to the client.","title":"Spark Streaming output mode to process only new messages","body":"<p>Found out a solution for this scenario ! Messages were getting duplicated in every batches because there was no acknowledgment to NATS for the messages after consuming it. Had to use a durable consumer and pass the consumer name as an option in the spark code.</p>\n<p>Instructions to create a durable consumer : <a href=\"https://docs.nats.io/nats-concepts/jetstream/js_walkthrough#3.-creating-a-consumer\" rel=\"nofollow noreferrer\">https://docs.nats.io/nats-concepts/jetstream/js_walkthrough#3.-creating-a-consumer</a></p>\n<p>Info related to durable consumer : <a href=\"https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced\" rel=\"nofollow noreferrer\">https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced</a></p>\n<p><em>&quot;nats.durable.name&quot; Durable subscriptions allow clients to assign a durable name to a subscription when it is created. Doing this causes the NATS Streaming server to track the last acknowledged message for that clientID + durable name, so that only messages since the last acknowledged message will be delivered to the client. Obligatory configuration.</em></p>\n<p>Pass this consumer name as an option by using key &quot;<strong>nats.durable.name</strong>&quot;:</p>\n<pre><code>Dataset&lt;Row&gt; df = spark.readStream()\n                .format(&quot;nats&quot;)\n                .option(&quot;nats.host&quot;, &quot;localhost&quot;)\n                .option(&quot;nats.port&quot;, 4222)\n                .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\n                .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\n                // wait 90 seconds for an ack before resending a message\n                .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\n                //.option(&quot;nats.num.listeners&quot;, 2)\n                // Each listener will fetch 10 messages at a time\n               // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\n                  .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\n                .load();\n</code></pre>\n<p>This will make sure that only messages since the last acknowledged message will be delivered to the client.</p>\n"}],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77431611,"answer_count":1,"score":1,"last_activity_date":1699278828,"creation_date":1698756807,"question_id":77396073,"body_markdown":"\r\nI&#39;m using nats-spark-connector ( https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced ) to connect to NATS Jetstream and consume the message and process using Spark Java code. Below is the code snippet\r\n\r\n    private static void sparkNatsTester() {\r\n            SparkSession spark = SparkSession.builder()\r\n                    .appName(&quot;spark-with-nats&quot;)\r\n                    .master(&quot;local&quot;)\r\n    //              .config(&quot;spark.logConf&quot;, &quot;false&quot;)\r\n                      .config(&quot;spark.jars&quot;,\r\n                      &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\r\n                      )\r\n    //                .config(&quot;spark.executor.instances&quot;, &quot;2&quot;)\r\n    //                .config(&quot;spark.cores.max&quot;, &quot;4&quot;)\r\n    //                .config(&quot;spark.executor.memory&quot;, &quot;2g&quot;)\r\n                      .getOrCreate();\r\n            System.out.println(&quot;sparkSession : &quot;+ spark);\r\n            Dataset&lt;Row&gt; df = spark.readStream()\r\n                    .format(&quot;nats&quot;)\r\n                    .option(&quot;nats.host&quot;, &quot;localhost&quot;)\r\n                    .option(&quot;nats.port&quot;, 4222)\r\n                    .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\r\n                    .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\r\n                    // wait 90 seconds for an ack before resending a message\r\n                    .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\r\n                    //.option(&quot;nats.num.listeners&quot;, 2)\r\n                    // Each listener will fetch 10 messages at a time\r\n                   // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\r\n                    .load();\r\n            System.out.println(&quot;Successfully read nats stream !&quot;);\r\n            \r\n            StreamingQuery query;\r\n            try {\r\n                query = df.writeStream()\r\n                          .outputMode(&quot;append&quot;)\r\n                          .format(&quot;console&quot;)\r\n                          .option(&quot;truncate&quot;, false)\r\n                          .start();\r\n                query.awaitTermination();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n        }\r\n\r\nAs per nats-io jetstream guide ( https://docs.nats.io/nats-concepts/jetstream/js_walkthrough) using below command to publish messages to the stream (subject name : mysub3)\r\n\r\n    nats pub foo --count=1000 --sleep 1s &quot;publication #{{Count}} @ {{TimeStamp}}&quot; \r\n\r\nAfter publishing the messages to nats stream, output of the code is :\r\n\r\n    Successfully read nats stream !\r\n    Status change nats: connection opened\r\n    -------------------------------------------\r\n    Batch: 0\r\n    -------------------------------------------\r\n    +-------+--------+-------+\r\n    |subject|dateTime|content|\r\n    +-------+--------+-------+\r\n    +-------+--------+-------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 1\r\n    -------------------------------------------\r\n    +-------+--------+-------+\r\n    |subject|dateTime|content|\r\n    +-------+--------+-------+\r\n    +-------+--------+-------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 2\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 3\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 4\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 5\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n    \r\n    -------------------------------------------\r\n    Batch: 6\r\n    -------------------------------------------\r\n    +-------+---------------------------+------------------------------------------+\r\n    |subject|dateTime                   |content                                   |\r\n    +-------+---------------------------+------------------------------------------+\r\n    |mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:36 +0530|publication #6 @ 2023-10-31T18:04:36+05:30|\r\n    |mysub3 |10/31/2023 - 18:04:37 +0530|publication #7 @ 2023-10-31T18:04:37+05:30|\r\n    +-------+---------------------------+------------------------------------------+\r\n\r\nAnd it continues to print the same set of messages for every batch. Since I&#39;m using `outputMode(&quot;append&quot;)` I was expecting only newly published messages should get printed for every batch. But all messages including messages which got printed in previous batch is included in the subsequent batches . I tried with `outputMode(&quot;update&quot;)` as well. It&#39;s giving same output as append. \r\nCan you please help me how to make sure each batch prints/receives only newly pushed messages ?","title":"Spark Streaming output mode to process only new messages","body":"<p>I'm using nats-spark-connector ( <a href=\"https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced\" rel=\"nofollow noreferrer\">https://github.com/nats-io/nats-spark-connector/tree/main/load_balanced</a> ) to connect to NATS Jetstream and consume the message and process using Spark Java code. Below is the code snippet</p>\n<pre><code>private static void sparkNatsTester() {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;spark-with-nats&quot;)\n                .master(&quot;local&quot;)\n//              .config(&quot;spark.logConf&quot;, &quot;false&quot;)\n                  .config(&quot;spark.jars&quot;,\n                  &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\n                  )\n//                .config(&quot;spark.executor.instances&quot;, &quot;2&quot;)\n//                .config(&quot;spark.cores.max&quot;, &quot;4&quot;)\n//                .config(&quot;spark.executor.memory&quot;, &quot;2g&quot;)\n                  .getOrCreate();\n        System.out.println(&quot;sparkSession : &quot;+ spark);\n        Dataset&lt;Row&gt; df = spark.readStream()\n                .format(&quot;nats&quot;)\n                .option(&quot;nats.host&quot;, &quot;localhost&quot;)\n                .option(&quot;nats.port&quot;, 4222)\n                .option(&quot;nats.stream.name&quot;, &quot;my_stream3&quot;)\n                .option(&quot;nats.stream.subjects&quot;, &quot;mysub3&quot;)\n                // wait 90 seconds for an ack before resending a message\n                .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\n                //.option(&quot;nats.num.listeners&quot;, 2)\n                // Each listener will fetch 10 messages at a time\n               // .option(&quot;nats.msg.fetch.batch.size&quot;, 10)\n                .load();\n        System.out.println(&quot;Successfully read nats stream !&quot;);\n        \n        StreamingQuery query;\n        try {\n            query = df.writeStream()\n                      .outputMode(&quot;append&quot;)\n                      .format(&quot;console&quot;)\n                      .option(&quot;truncate&quot;, false)\n                      .start();\n            query.awaitTermination();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    }\n</code></pre>\n<p>As per nats-io jetstream guide ( <a href=\"https://docs.nats.io/nats-concepts/jetstream/js_walkthrough\" rel=\"nofollow noreferrer\">https://docs.nats.io/nats-concepts/jetstream/js_walkthrough</a>) using below command to publish messages to the stream (subject name : mysub3)</p>\n<pre><code>nats pub foo --count=1000 --sleep 1s &quot;publication #{{Count}} @ {{TimeStamp}}&quot; \n</code></pre>\n<p>After publishing the messages to nats stream, output of the code is :</p>\n<pre><code>Successfully read nats stream !\nStatus change nats: connection opened\n-------------------------------------------\nBatch: 0\n-------------------------------------------\n+-------+--------+-------+\n|subject|dateTime|content|\n+-------+--------+-------+\n+-------+--------+-------+\n\n-------------------------------------------\nBatch: 1\n-------------------------------------------\n+-------+--------+-------+\n|subject|dateTime|content|\n+-------+--------+-------+\n+-------+--------+-------+\n\n-------------------------------------------\nBatch: 2\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 3\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 4\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n|mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 5\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n|mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\n|mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\n+-------+---------------------------+------------------------------------------+\n\n-------------------------------------------\nBatch: 6\n-------------------------------------------\n+-------+---------------------------+------------------------------------------+\n|subject|dateTime                   |content                                   |\n+-------+---------------------------+------------------------------------------+\n|mysub3 |10/31/2023 - 18:04:31 +0530|publication #1 @ 2023-10-31T18:04:31+05:30|\n|mysub3 |10/31/2023 - 18:04:32 +0530|publication #2 @ 2023-10-31T18:04:32+05:30|\n|mysub3 |10/31/2023 - 18:04:33 +0530|publication #3 @ 2023-10-31T18:04:33+05:30|\n|mysub3 |10/31/2023 - 18:04:34 +0530|publication #4 @ 2023-10-31T18:04:34+05:30|\n|mysub3 |10/31/2023 - 18:04:35 +0530|publication #5 @ 2023-10-31T18:04:35+05:30|\n|mysub3 |10/31/2023 - 18:04:36 +0530|publication #6 @ 2023-10-31T18:04:36+05:30|\n|mysub3 |10/31/2023 - 18:04:37 +0530|publication #7 @ 2023-10-31T18:04:37+05:30|\n+-------+---------------------------+------------------------------------------+\n</code></pre>\n<p>And it continues to print the same set of messages for every batch. Since I'm using <code>outputMode(&quot;append&quot;)</code> I was expecting only newly published messages should get printed for every batch. But all messages including messages which got printed in previous batch is included in the subsequent batches . I tried with <code>outputMode(&quot;update&quot;)</code> as well. It's giving same output as append.\nCan you please help me how to make sure each batch prints/receives only newly pushed messages ?</p>\n"},{"tags":["python","java","coap","dtls","californium"],"comments":[{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699357311,"post_id":77431606,"comment_id":136518880,"body_markdown":"Maybe you start with PSK authentication? Name: Client_identity, secret secretPSK.","body":"Maybe you start with PSK authentication? Name: Client_identity, secret secretPSK."},{"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"score":0,"creation_date":1699359720,"post_id":77431606,"comment_id":136519288,"body_markdown":"@AchimKraus I&#39;ve tried but I couldn&#39;t figure out where to store those credentials using pydtls","body":"@AchimKraus I&#39;ve tried but I couldn&#39;t figure out where to store those credentials using pydtls"},{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699510544,"post_id":77431606,"comment_id":136541637,"body_markdown":"I&#39;m common with Californium, but unfortunately not with pydtls. Do you know, how to load a client certificate into pydtls? And how to set the trusted CA certificates in pydtls?","body":"I&#39;m common with Californium, but unfortunately not with pydtls. Do you know, how to load a client certificate into pydtls? And how to set the trusted CA certificates in pydtls?"},{"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"score":0,"creation_date":1699537517,"post_id":77431606,"comment_id":136546464,"body_markdown":"@AchimKraus When using the wrap_client() function, there&#39;s a parameter named &quot;ca_certs&quot; that I is meant to receive ca certificates and then there are 2 others named &quot;certfile&quot; and &quot;keyfile&quot;","body":"@AchimKraus When using the wrap_client() function, there&#39;s a parameter named &quot;ca_certs&quot; that I is meant to receive ca certificates and then there are 2 others named &quot;certfile&quot; and &quot;keyfile&quot;"},{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699540334,"post_id":77431606,"comment_id":136547084,"body_markdown":"Not sure, if that really works with pydtls. Please try &quot;ca_certs&quot; = &quot;caTrustStore.pem&quot;, &quot;certfile&quot; = &quot;client.pem&quot; and &quot;keyfile&quot; = &quot;clientPrivateKey.pem&quot;.","body":"Not sure, if that really works with pydtls. Please try &quot;ca_certs&quot; = &quot;caTrustStore.pem&quot;, &quot;certfile&quot; = &quot;client.pem&quot; and &quot;keyfile&quot; = &quot;clientPrivateKey.pem&quot;."},{"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"score":0,"creation_date":1699619619,"post_id":77431606,"comment_id":136557991,"body_markdown":"@AchimKraus Still no connection. Is specifying the cipher needed to establish a connection? I think I&#39;m giving up on using a Python client. I thought Having another option other than Californium&#39;s client would be a good idea. I appreciate your help anyway","body":"@AchimKraus Still no connection. Is specifying the cipher needed to establish a connection? I think I&#39;m giving up on using a Python client. I thought Having another option other than Californium&#39;s client would be a good idea. I appreciate your help anyway"},{"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"score":0,"creation_date":1699639741,"post_id":77431606,"comment_id":136561643,"body_markdown":"Check https://coap.space/impls.html for a list if implementations. And usually asking the projects on github may also have a chance, if you haven&#39;t done it so far. Unfortunately CoAPThon seems not to be very alive.","body":"Check <a href=\"https://coap.space/impls.html\" rel=\"nofollow noreferrer\">coap.space/impls.html</a> for a list if implementations. And usually asking the projects on github may also have a chance, if you haven&#39;t done it so far. Unfortunately CoAPThon seems not to be very alive."}],"owner":{"account_id":13205819,"reputation":39,"user_id":9537602,"display_name":"iGod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278809,"creation_date":1699278809,"question_id":77431606,"body_markdown":"I&#39;m trying to connect a CoAP + DTLS client using Python&#39;s CoAPthon library to the CoAP Secure Server from one of the Eclipse Californium examples. Heres the server code:\r\n\r\n        /*******************************************************************************\r\n     * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\r\n     * \r\n     * All rights reserved. This program and the accompanying materials\r\n     * are made available under the terms of the Eclipse Public License v2.0\r\n     * and Eclipse Distribution License v1.0 which accompany this distribution.\r\n     * \r\n     * The Eclipse Public License is available at\r\n     *    http://www.eclipse.org/legal/epl-v20.html\r\n     * and the Eclipse Distribution License is available at\r\n     *    http://www.eclipse.org/org/documents/edl-v10.html.\r\n     * \r\n     * Contributors:\r\n     *    Matthias Kovatsch - creator and main architect\r\n     *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\r\n     *                                                    DtlsConnectorConfig.Builder.\r\n     *    Bosch Software Innovations GmbH - migrate to SLF4J\r\n     ******************************************************************************/\r\n    package org.eclipse.californium.examples;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.security.GeneralSecurityException;\r\n    import java.security.cert.Certificate;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.eclipse.californium.core.CoapResource;\r\n    import org.eclipse.californium.core.CoapServer;\r\n    import org.eclipse.californium.core.coap.CoAP.ResponseCode;\r\n    import org.eclipse.californium.core.config.CoapConfig;\r\n    import org.eclipse.californium.core.network.CoapEndpoint;\r\n    import org.eclipse.californium.core.network.Endpoint;\r\n    import org.eclipse.californium.core.network.interceptors.MessageTracer;\r\n    import org.eclipse.californium.core.server.resources.CoapExchange;\r\n    import org.eclipse.californium.elements.config.Configuration;\r\n    import org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\r\n    import org.eclipse.californium.elements.util.SslContextUtil;\r\n    import org.eclipse.californium.examples.CredentialsUtil.Mode;\r\n    import org.eclipse.californium.scandium.DTLSConnector;\r\n    import org.eclipse.californium.scandium.MdcConnectionListener;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConnectorConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\r\n    import org.eclipse.californium.scandium.dtls.CertificateType;\r\n    import org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\r\n    import org.eclipse.californium.scandium.dtls.x509.SingleCertificateProvider;\r\n    import org.eclipse.californium.scandium.dtls.x509.StaticNewAdvancedCertificateVerifier;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class SecureServer2 {\r\n    \tprivate static final char[] KEY_STORE_PASSWORD = &quot;endPass&quot;.toCharArray();\r\n    \tprivate static final String KEY_STORE_LOCATION = &quot;certs/keyStore.jks&quot;;\r\n    \tprivate static final char[] TRUST_STORE_PASSWORD = &quot;rootPass&quot;.toCharArray();\r\n    \tprivate static final String TRUST_STORE_LOCATION = &quot;certs/trustStore.jks&quot;;\r\n    \tprivate static final File CONFIG_FILE = new File(&quot;Californium3SecureServer.properties&quot;);\r\n    \tprivate static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Server&quot;;\r\n    \tprivate static final int DEFAULT_PORT = 5684;\r\n    \tprivate static final Logger LOG = LoggerFactory\r\n    \t\t\t.getLogger(SecureServer2.class.getName());\r\n    \tstatic {\r\n    \t\tCoapConfig.register();\r\n    \t\tDtlsConfig.register();\r\n    \t}\r\n    \r\n    \tprivate static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void applyDefinitions(Configuration config) {\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_ROLE, DtlsRole.SERVER_ONLY);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\r\n    \t\t\tMode.WANT_AUTH, Mode.NO_AUTH);\r\n    \r\n    \tpublic static void main(String[] args) throws IOException, GeneralSecurityException {\r\n    \r\n    \t\tSystem.out.println(&quot;Usage: java -jar ... [PSK] [ECDHE_PSK] [RPK] [X509] [WANT_AUTH|NO_AUTH]&quot;);\r\n    \t\tSystem.out.println(&quot;Default :            [PSK] [ECDHE_PSK] [RPK] [X509]&quot;);\r\n    \r\n    \t\tConfiguration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\r\n    \t\tConfiguration.setStandard(configuration);\r\n    \t\tint dtlsPort = configuration.get(CoapConfig.COAP_SECURE_PORT);\r\n    \r\n    \t\tCoapServer server = new CoapServer();\r\n    \t\tserver.add(new CoapResource(&quot;secure&quot;) {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleGET(CoapExchange exchange) {\r\n    \t\t\t\texchange.respond(ResponseCode.CONTENT, &quot;hello security23&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\r\n    \t\t\t// load the key store\r\n    \t\t\tSslContextUtil.Credentials serverCredentials = SslContextUtil.loadCredentials(\r\n    \t\t\t\t\tSslContextUtil.CLASSPATH_SCHEME + KEY_STORE_LOCATION, &quot;server&quot;, KEY_STORE_PASSWORD,\r\n    \t\t\t\t\tKEY_STORE_PASSWORD);\r\n    \t\t\t\r\n    \t\t\tCertificate[] trustedCertificates = SslContextUtil.loadTrustedCertificates(\r\n    \t\t\t\t\tSslContextUtil.CLASSPATH_SCHEME + TRUST_STORE_LOCATION, &quot;root&quot;, TRUST_STORE_PASSWORD);\r\n    \r\n    \t\t\tDtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration)\r\n    \t\t\t\t\t.setAddress(new InetSocketAddress(&quot;127.0.0.1&quot;,dtlsPort))\r\n    \t\t\t\t\t.setCertificateIdentityProvider(\r\n    \t\t\t\t\t\t\tnew SingleCertificateProvider(serverCredentials.getPrivateKey(), serverCredentials.getCertificateChain(), CertificateType.RAW_PUBLIC_KEY, CertificateType.X_509))\r\n    \t\t\t\t\t.setAdvancedCertificateVerifier(StaticNewAdvancedCertificateVerifier.builder()\r\n    \t\t\t\t\t\t\t.setTrustedCertificates(trustedCertificates).setTrustAllRPKs().build());\r\n    \r\n    \t\t\t\r\n    \r\n    \t\r\n    \t\tDTLSConnector connector = new DTLSConnector(builder.build());\r\n    \t\tCoapEndpoint.Builder coapBuilder = new CoapEndpoint.Builder()\r\n    \t\t\t\t.setConfiguration(configuration)\r\n    \t\t\t\t.setConnector(connector);\r\n    \t\t\r\n    \t\tserver.addEndpoint(coapBuilder.build());\r\n    \t\tserver.start();\r\n    \r\n    \t\t// add special interceptor for message traces\r\n    \t\tfor (Endpoint ep : server.getEndpoints()) {\r\n    \t\t\tep.addInterceptor(new MessageTracer());\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Secure CoAP server powered by Scandium (Sc) is listening on port &quot; + dtlsPort);\r\n    \t}\r\n    \r\n    }\r\nHere&#39;s the correspondent Client on java that is able to connect to this server:\r\n\r\n    /*******************************************************************************\r\n     * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\r\n     * \r\n     * All rights reserved. This program and the accompanying materials\r\n     * are made available under the terms of the Eclipse Public License v2.0\r\n     * and Eclipse Distribution License v1.0 which accompany this distribution.\r\n     * \r\n     * The Eclipse Public License is available at\r\n     *    http://www.eclipse.org/legal/epl-v20.html\r\n     * and the Eclipse Distribution License is available at\r\n     *    http://www.eclipse.org/org/documents/edl-v10.html.\r\n     * \r\n     * Contributors:\r\n     *    Matthias Kovatsch - creator and main architect\r\n     *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\r\n     *                                                    DtlsConnectorConfig.Builder.\r\n     *    Bosch Software Innovations GmbH - migrate to SLF4J\r\n     ******************************************************************************/\r\n    package org.eclipse.californium.examples;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.Principal;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.eclipse.californium.core.CoapClient;\r\n    import org.eclipse.californium.core.CoapResponse;\r\n    import org.eclipse.californium.core.Utils;\r\n    import org.eclipse.californium.core.config.CoapConfig;\r\n    import org.eclipse.californium.core.network.CoapEndpoint;\r\n    import org.eclipse.californium.elements.DtlsEndpointContext;\r\n    import org.eclipse.californium.elements.EndpointContext;\r\n    import org.eclipse.californium.elements.config.Configuration;\r\n    import org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\r\n    import org.eclipse.californium.elements.exception.ConnectorException;\r\n    import org.eclipse.californium.examples.CredentialsUtil.Mode;\r\n    import org.eclipse.californium.scandium.DTLSConnector;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConnectorConfig;\r\n    import org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\r\n    import org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\r\n    import org.eclipse.californium.scandium.dtls.pskstore.AdvancedSinglePskStore;\r\n    \r\n    public class SecureClient2 {\r\n    \tprivate static final File CONFIG_FILE = new File(&quot;Californium3SecureClient.properties&quot;);\r\n    \tprivate static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Client&quot;;\r\n    \r\n    \tstatic {\r\n    \t\tCoapConfig.register();\r\n    \t\tDtlsConfig.register();\r\n    \t}\r\n    \r\n    \tprivate static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void applyDefinitions(Configuration config) {\r\n    \t\t\tconfig.set(CoapConfig.MAX_ACTIVE_PEERS, 10);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_ROLE, DtlsRole.CLIENT_ONLY);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_USE_SERVER_NAME_INDICATION, false);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\r\n    \t\t\tconfig.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\r\n    \t\t\tconfig.setTransient(DtlsConfig.DTLS_CIPHER_SUITES);\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\r\n    \t\t\tMode.RPK_TRUST, Mode.X509_TRUST);\r\n    \tprivate static final String SERVER_URI = &quot;coaps://192.168.1.14:5684/secure&quot;;\r\n    \r\n    \tprivate final DTLSConnector dtlsConnector;\r\n    \tprivate final Configuration configuration;\r\n    \r\n    \tpublic SecureClient2(DTLSConnector dtlsConnector, Configuration configuration) {\r\n    \t\tthis.dtlsConnector = dtlsConnector;\r\n    \t\tthis.configuration = configuration;\r\n    \t}\r\n    \r\n    \tpublic void test() {\r\n    \t\tCoapResponse response = null;\r\n    \t\ttry {\r\n    \t\t\tURI uri = new URI(SERVER_URI);\r\n    \t\t\tCoapClient client = new CoapClient(uri);\r\n    \t\t\tCoapEndpoint.Builder builder = new CoapEndpoint.Builder()\r\n    \t\t\t\t\t.setConfiguration(configuration)\r\n    \t\t\t\t\t.setConnector(dtlsConnector);\r\n    \r\n    \t\t\tclient.setEndpoint(builder.build());\r\n    \t\t\tresponse = client.get();\r\n    \t\t\tclient.shutdown();\r\n    \t\t} catch (URISyntaxException e) {\r\n    \t\t\tSystem.err.println(&quot;Invalid URI: &quot; + e.getMessage());\r\n    \t\t\tSystem.exit(-1);\r\n    \t\t} catch (ConnectorException | IOException e) {\r\n    \t\t\tSystem.err.println(&quot;Error occurred while sending request: &quot; + e);\r\n    \t\t\tSystem.exit(-1);\r\n    \t\t}\r\n    \r\n    \t\tif (response != null) {\r\n    \r\n    \t\t\tSystem.out.println(response.getCode() + &quot; - &quot; + response.getCode().name());\r\n    \t\t\tSystem.out.println(response.getOptions());\r\n    \t\t\tSystem.out.println(response.getResponseText());\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.println(&quot;ADVANCED:&quot;);\r\n    \t\t\tEndpointContext context = response.advanced().getSourceContext();\r\n    \t\t\tPrincipal identity = context.getPeerIdentity();\r\n    \t\t\tif (identity != null) { \r\n    \t\t\t\tSystem.out.println(context.getPeerIdentity());\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;anonymous&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;CIPHER - &quot; + context.get(DtlsEndpointContext.KEY_CIPHER));\r\n    \t\t\tSystem.out.println(Utils.prettyPrint(response));\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;No response received.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tSystem.out.println(&quot;Usage: java -cp ... org.eclipse.californium.examples.SecureClient [PSK|ECDHE_PSK] [RPK|RPK_TRUST] [X509|X509_TRUST]&quot;);\r\n    \t\tSystem.out.println(&quot;Default:            [PSK] [RPK] [X509]&quot;);\r\n    \r\n    \t\tConfiguration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\r\n    \t\tConfiguration.setStandard(configuration);\r\n    \r\n    \t\tDtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration);\r\n    \t\tCredentialsUtil.setupCid(args, builder);\r\n    \t\tList&lt;Mode&gt; modes = CredentialsUtil.parse(args, CredentialsUtil.DEFAULT_CLIENT_MODES, SUPPORTED_MODES);\r\n    //\t\tif (modes.contains(CredentialsUtil.Mode.PSK) || modes.contains(CredentialsUtil.Mode.ECDHE_PSK)) {\r\n    //\t\t\tbuilder.setAdvancedPskStore(new AdvancedSinglePskStore(CredentialsUtil.OPEN_PSK_IDENTITY, CredentialsUtil.OPEN_PSK_SECRET));\r\n    //\t\t}\r\n    \t\tSystem.out.println(&quot;pass- &quot; +  CredentialsUtil.OPEN_PSK_IDENTITY + &quot; - &quot; + new String(CredentialsUtil.OPEN_PSK_SECRET, StandardCharsets.UTF_8));\r\n    \r\n    \t\tCredentialsUtil.setupCredentials(builder, CredentialsUtil.CLIENT_NAME, modes);\r\n    \t\t// uncomment next line to load pem file for the example\r\n    \t\t// CredentialsUtil.loadCredentials(builder, &quot;client.pem&quot;);\r\n    \t\tDTLSConnector dtlsConnector = new DTLSConnector(builder.build());\r\n    \r\n    \t\tSecureClient2 client = new SecureClient2(dtlsConnector, configuration);\r\n    \t\tclient.test();\r\n    \t}\r\n    }\r\n\r\nNow I&#39;m trying to connect to the server using this Python code that is based on CoAPton&#39;s [test_secure.py][1], more specifically the *test_ok_with_handshake_on_connect()* function:\r\n\r\n    #setup a client side DTLS socket\r\n    _sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\r\n    _sock.setsockopt(socket.SOL SOCKET, socket.so REUSEADDR, 1)\r\n    _sock.wrap_client( sock,cert_reqs=ssl.CERT_REQUIRED, ca_certs=&quot;./certificate.pem&quot;,do_handshake_on_connect=True,ciphers=&quot;SHA256&quot;)\r\n    client = HelperCIient(server=(host, port), sock=_sock)\r\n    request = Request()\r\n    request.destination = (host, port)\r\n    request.code = defines. Codes.GET.number\r\n    request.uri path = path\r\n    response = client. request)\r\n    response = client.get(path)\r\n    print(response.pretty_print())\r\n    client.stop()\r\nI generated the .pem file used on the python script from a keystone file provided on the Eclipse Californium repository ([demo_certs][2])\r\n\r\nI&#39;m rather new to this, I only need the python client and the eclipse server to share a certificate so that the connection is secure. When I run the Python code I get this info on the server side (13:11:51.704 INFO [] [ServerHandshaker]: Start certificate identity.) but nothing else. Can you help me? Thanks in advance.\r\n\r\n  [1]: https://github.com/Tanganelli/CoAPthon/blob/master/test_secure.py\r\n  [2]: https://github.com/eclipse-californium/californium/tree/main/demo-certs","title":"How to connect Python COAP + DTLS client to a Eclipse Californium&#39;s CoAP Secure Server?","body":"<p>I'm trying to connect a CoAP + DTLS client using Python's CoAPthon library to the CoAP Secure Server from one of the Eclipse Californium examples. Heres the server code:</p>\n<pre><code>    /*******************************************************************************\n * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\n * \n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v2.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n * \n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v20.html\n * and the Eclipse Distribution License is available at\n *    http://www.eclipse.org/org/documents/edl-v10.html.\n * \n * Contributors:\n *    Matthias Kovatsch - creator and main architect\n *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\n *                                                    DtlsConnectorConfig.Builder.\n *    Bosch Software Innovations GmbH - migrate to SLF4J\n ******************************************************************************/\npackage org.eclipse.californium.examples;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.security.GeneralSecurityException;\nimport java.security.cert.Certificate;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.eclipse.californium.core.CoapResource;\nimport org.eclipse.californium.core.CoapServer;\nimport org.eclipse.californium.core.coap.CoAP.ResponseCode;\nimport org.eclipse.californium.core.config.CoapConfig;\nimport org.eclipse.californium.core.network.CoapEndpoint;\nimport org.eclipse.californium.core.network.Endpoint;\nimport org.eclipse.californium.core.network.interceptors.MessageTracer;\nimport org.eclipse.californium.core.server.resources.CoapExchange;\nimport org.eclipse.californium.elements.config.Configuration;\nimport org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\nimport org.eclipse.californium.elements.util.SslContextUtil;\nimport org.eclipse.californium.examples.CredentialsUtil.Mode;\nimport org.eclipse.californium.scandium.DTLSConnector;\nimport org.eclipse.californium.scandium.MdcConnectionListener;\nimport org.eclipse.californium.scandium.config.DtlsConfig;\nimport org.eclipse.californium.scandium.config.DtlsConnectorConfig;\nimport org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\nimport org.eclipse.californium.scandium.dtls.CertificateType;\nimport org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\nimport org.eclipse.californium.scandium.dtls.x509.SingleCertificateProvider;\nimport org.eclipse.californium.scandium.dtls.x509.StaticNewAdvancedCertificateVerifier;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class SecureServer2 {\n    private static final char[] KEY_STORE_PASSWORD = &quot;endPass&quot;.toCharArray();\n    private static final String KEY_STORE_LOCATION = &quot;certs/keyStore.jks&quot;;\n    private static final char[] TRUST_STORE_PASSWORD = &quot;rootPass&quot;.toCharArray();\n    private static final String TRUST_STORE_LOCATION = &quot;certs/trustStore.jks&quot;;\n    private static final File CONFIG_FILE = new File(&quot;Californium3SecureServer.properties&quot;);\n    private static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Server&quot;;\n    private static final int DEFAULT_PORT = 5684;\n    private static final Logger LOG = LoggerFactory\n            .getLogger(SecureServer2.class.getName());\n    static {\n        CoapConfig.register();\n        DtlsConfig.register();\n    }\n\n    private static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\n\n        @Override\n        public void applyDefinitions(Configuration config) {\n            config.set(DtlsConfig.DTLS_ROLE, DtlsRole.SERVER_ONLY);\n            config.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\n            config.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\n        }\n    };\n\n    public static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\n            Mode.WANT_AUTH, Mode.NO_AUTH);\n\n    public static void main(String[] args) throws IOException, GeneralSecurityException {\n\n        System.out.println(&quot;Usage: java -jar ... [PSK] [ECDHE_PSK] [RPK] [X509] [WANT_AUTH|NO_AUTH]&quot;);\n        System.out.println(&quot;Default :            [PSK] [ECDHE_PSK] [RPK] [X509]&quot;);\n\n        Configuration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\n        Configuration.setStandard(configuration);\n        int dtlsPort = configuration.get(CoapConfig.COAP_SECURE_PORT);\n\n        CoapServer server = new CoapServer();\n        server.add(new CoapResource(&quot;secure&quot;) {\n\n            @Override\n            public void handleGET(CoapExchange exchange) {\n                exchange.respond(ResponseCode.CONTENT, &quot;hello security23&quot;);\n            }\n        });\n    \n            // load the key store\n            SslContextUtil.Credentials serverCredentials = SslContextUtil.loadCredentials(\n                    SslContextUtil.CLASSPATH_SCHEME + KEY_STORE_LOCATION, &quot;server&quot;, KEY_STORE_PASSWORD,\n                    KEY_STORE_PASSWORD);\n            \n            Certificate[] trustedCertificates = SslContextUtil.loadTrustedCertificates(\n                    SslContextUtil.CLASSPATH_SCHEME + TRUST_STORE_LOCATION, &quot;root&quot;, TRUST_STORE_PASSWORD);\n\n            DtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration)\n                    .setAddress(new InetSocketAddress(&quot;127.0.0.1&quot;,dtlsPort))\n                    .setCertificateIdentityProvider(\n                            new SingleCertificateProvider(serverCredentials.getPrivateKey(), serverCredentials.getCertificateChain(), CertificateType.RAW_PUBLIC_KEY, CertificateType.X_509))\n                    .setAdvancedCertificateVerifier(StaticNewAdvancedCertificateVerifier.builder()\n                            .setTrustedCertificates(trustedCertificates).setTrustAllRPKs().build());\n\n            \n\n    \n        DTLSConnector connector = new DTLSConnector(builder.build());\n        CoapEndpoint.Builder coapBuilder = new CoapEndpoint.Builder()\n                .setConfiguration(configuration)\n                .setConnector(connector);\n        \n        server.addEndpoint(coapBuilder.build());\n        server.start();\n\n        // add special interceptor for message traces\n        for (Endpoint ep : server.getEndpoints()) {\n            ep.addInterceptor(new MessageTracer());\n        }\n\n        System.out.println(&quot;Secure CoAP server powered by Scandium (Sc) is listening on port &quot; + dtlsPort);\n    }\n\n}\n</code></pre>\n<p>Here's the correspondent Client on java that is able to connect to this server:</p>\n<pre><code>/*******************************************************************************\n * Copyright (c) 2015, 2017 Institute for Pervasive Computing, ETH Zurich and others.\n * \n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v2.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n * \n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v20.html\n * and the Eclipse Distribution License is available at\n *    http://www.eclipse.org/org/documents/edl-v10.html.\n * \n * Contributors:\n *    Matthias Kovatsch - creator and main architect\n *    Achim Kraus (Bosch Software Innovations GmbH) - use credentials util to setup\n *                                                    DtlsConnectorConfig.Builder.\n *    Bosch Software Innovations GmbH - migrate to SLF4J\n ******************************************************************************/\npackage org.eclipse.californium.examples;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.Principal;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.eclipse.californium.core.CoapClient;\nimport org.eclipse.californium.core.CoapResponse;\nimport org.eclipse.californium.core.Utils;\nimport org.eclipse.californium.core.config.CoapConfig;\nimport org.eclipse.californium.core.network.CoapEndpoint;\nimport org.eclipse.californium.elements.DtlsEndpointContext;\nimport org.eclipse.californium.elements.EndpointContext;\nimport org.eclipse.californium.elements.config.Configuration;\nimport org.eclipse.californium.elements.config.Configuration.DefinitionsProvider;\nimport org.eclipse.californium.elements.exception.ConnectorException;\nimport org.eclipse.californium.examples.CredentialsUtil.Mode;\nimport org.eclipse.californium.scandium.DTLSConnector;\nimport org.eclipse.californium.scandium.config.DtlsConfig;\nimport org.eclipse.californium.scandium.config.DtlsConnectorConfig;\nimport org.eclipse.californium.scandium.config.DtlsConfig.DtlsRole;\nimport org.eclipse.californium.scandium.dtls.cipher.CipherSuite;\nimport org.eclipse.californium.scandium.dtls.pskstore.AdvancedSinglePskStore;\n\npublic class SecureClient2 {\n    private static final File CONFIG_FILE = new File(&quot;Californium3SecureClient.properties&quot;);\n    private static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for Secure Client&quot;;\n\n    static {\n        CoapConfig.register();\n        DtlsConfig.register();\n    }\n\n    private static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\n\n        @Override\n        public void applyDefinitions(Configuration config) {\n            config.set(CoapConfig.MAX_ACTIVE_PEERS, 10);\n            config.set(DtlsConfig.DTLS_ROLE, DtlsRole.CLIENT_ONLY);\n            config.set(DtlsConfig.DTLS_USE_SERVER_NAME_INDICATION, false);\n            config.set(DtlsConfig.DTLS_RECOMMENDED_CIPHER_SUITES_ONLY, false);\n            config.set(DtlsConfig.DTLS_PRESELECTED_CIPHER_SUITES, CipherSuite.STRONG_ENCRYPTION_PREFERENCE);\n            config.setTransient(DtlsConfig.DTLS_CIPHER_SUITES);\n        }\n    };\n\n    public static final List&lt;Mode&gt; SUPPORTED_MODES = Arrays.asList(Mode.PSK, Mode.ECDHE_PSK, Mode.RPK, Mode.X509,\n            Mode.RPK_TRUST, Mode.X509_TRUST);\n    private static final String SERVER_URI = &quot;coaps://192.168.1.14:5684/secure&quot;;\n\n    private final DTLSConnector dtlsConnector;\n    private final Configuration configuration;\n\n    public SecureClient2(DTLSConnector dtlsConnector, Configuration configuration) {\n        this.dtlsConnector = dtlsConnector;\n        this.configuration = configuration;\n    }\n\n    public void test() {\n        CoapResponse response = null;\n        try {\n            URI uri = new URI(SERVER_URI);\n            CoapClient client = new CoapClient(uri);\n            CoapEndpoint.Builder builder = new CoapEndpoint.Builder()\n                    .setConfiguration(configuration)\n                    .setConnector(dtlsConnector);\n\n            client.setEndpoint(builder.build());\n            response = client.get();\n            client.shutdown();\n        } catch (URISyntaxException e) {\n            System.err.println(&quot;Invalid URI: &quot; + e.getMessage());\n            System.exit(-1);\n        } catch (ConnectorException | IOException e) {\n            System.err.println(&quot;Error occurred while sending request: &quot; + e);\n            System.exit(-1);\n        }\n\n        if (response != null) {\n\n            System.out.println(response.getCode() + &quot; - &quot; + response.getCode().name());\n            System.out.println(response.getOptions());\n            System.out.println(response.getResponseText());\n            System.out.println();\n            System.out.println(&quot;ADVANCED:&quot;);\n            EndpointContext context = response.advanced().getSourceContext();\n            Principal identity = context.getPeerIdentity();\n            if (identity != null) { \n                System.out.println(context.getPeerIdentity());\n            } else {\n                System.out.println(&quot;anonymous&quot;);\n            }\n            System.out.println(&quot;CIPHER - &quot; + context.get(DtlsEndpointContext.KEY_CIPHER));\n            System.out.println(Utils.prettyPrint(response));\n        } else {\n            System.out.println(&quot;No response received.&quot;);\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(&quot;Usage: java -cp ... org.eclipse.californium.examples.SecureClient [PSK|ECDHE_PSK] [RPK|RPK_TRUST] [X509|X509_TRUST]&quot;);\n        System.out.println(&quot;Default:            [PSK] [RPK] [X509]&quot;);\n\n        Configuration configuration = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\n        Configuration.setStandard(configuration);\n\n        DtlsConnectorConfig.Builder builder = DtlsConnectorConfig.builder(configuration);\n        CredentialsUtil.setupCid(args, builder);\n        List&lt;Mode&gt; modes = CredentialsUtil.parse(args, CredentialsUtil.DEFAULT_CLIENT_MODES, SUPPORTED_MODES);\n//      if (modes.contains(CredentialsUtil.Mode.PSK) || modes.contains(CredentialsUtil.Mode.ECDHE_PSK)) {\n//          builder.setAdvancedPskStore(new AdvancedSinglePskStore(CredentialsUtil.OPEN_PSK_IDENTITY, CredentialsUtil.OPEN_PSK_SECRET));\n//      }\n        System.out.println(&quot;pass- &quot; +  CredentialsUtil.OPEN_PSK_IDENTITY + &quot; - &quot; + new String(CredentialsUtil.OPEN_PSK_SECRET, StandardCharsets.UTF_8));\n\n        CredentialsUtil.setupCredentials(builder, CredentialsUtil.CLIENT_NAME, modes);\n        // uncomment next line to load pem file for the example\n        // CredentialsUtil.loadCredentials(builder, &quot;client.pem&quot;);\n        DTLSConnector dtlsConnector = new DTLSConnector(builder.build());\n\n        SecureClient2 client = new SecureClient2(dtlsConnector, configuration);\n        client.test();\n    }\n}\n</code></pre>\n<p>Now I'm trying to connect to the server using this Python code that is based on CoAPton's <a href=\"https://github.com/Tanganelli/CoAPthon/blob/master/test_secure.py\" rel=\"nofollow noreferrer\">test_secure.py</a>, more specifically the <em>test_ok_with_handshake_on_connect()</em> function:</p>\n<pre><code>#setup a client side DTLS socket\n_sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\n_sock.setsockopt(socket.SOL SOCKET, socket.so REUSEADDR, 1)\n_sock.wrap_client( sock,cert_reqs=ssl.CERT_REQUIRED, ca_certs=&quot;./certificate.pem&quot;,do_handshake_on_connect=True,ciphers=&quot;SHA256&quot;)\nclient = HelperCIient(server=(host, port), sock=_sock)\nrequest = Request()\nrequest.destination = (host, port)\nrequest.code = defines. Codes.GET.number\nrequest.uri path = path\nresponse = client. request)\nresponse = client.get(path)\nprint(response.pretty_print())\nclient.stop()\n</code></pre>\n<p>I generated the .pem file used on the python script from a keystone file provided on the Eclipse Californium repository (<a href=\"https://github.com/eclipse-californium/californium/tree/main/demo-certs\" rel=\"nofollow noreferrer\">demo_certs</a>)</p>\n<p>I'm rather new to this, I only need the python client and the eclipse server to share a certificate so that the connection is secure. When I run the Python code I get this info on the server side (13:11:51.704 INFO [] [ServerHandshaker]: Start certificate identity.) but nothing else. Can you help me? Thanks in advance.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":12766164,"reputation":467,"user_id":10789874,"display_name":"Shivam Papat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825494,"creation_date":1648825494,"answer_id":71709046,"question_id":71708679,"body_markdown":"Yes there is.\r\nWhen you compile your java file with\r\n\r\n    javac file.java\r\n\r\nThis  default stores *.class* of that file in same folder.\r\n\r\nTo store *.class* in different folder use -d paramter with javac as:\r\n\r\n    javac file.java -d &quot;Path&quot;\r\n\r\nFor ex:\r\n\r\n    javac file.java -d &quot;D:/Classes&quot;\r\n\r\nThen while running the files you have to set classpath so that JVM will search class files in that folder:\r\n\r\n    java -classpath &quot;D:/Classes&quot; file\r\n\r\nFYI:\r\nIf your file name is say **Test.java** and when you run javac, **Test.class** gets created at the path mentioned.","title":"How to separate the .java and .class file in Vs Code?","body":"<p>Yes there is.\nWhen you compile your java file with</p>\n<pre><code>javac file.java\n</code></pre>\n<p>This  default stores <em>.class</em> of that file in same folder.</p>\n<p>To store <em>.class</em> in different folder use -d paramter with javac as:</p>\n<pre><code>javac file.java -d &quot;Path&quot;\n</code></pre>\n<p>For ex:</p>\n<pre><code>javac file.java -d &quot;D:/Classes&quot;\n</code></pre>\n<p>Then while running the files you have to set classpath so that JVM will search class files in that folder:</p>\n<pre><code>java -classpath &quot;D:/Classes&quot; file\n</code></pre>\n<p>FYI:\nIf your file name is say <strong>Test.java</strong> and when you run javac, <strong>Test.class</strong> gets created at the path mentioned.</p>\n"},{"tags":[],"owner":{"account_id":24341266,"reputation":1,"user_id":18278654,"display_name":"lNoelia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825526,"creation_date":1648825526,"answer_id":71709056,"question_id":71708679,"body_markdown":"You can change the path where your .class is created following the next steps:\r\n\r\n * File -&gt; Preferences -&gt;Settings \r\n * Write java.output on the search bar and it should show you &quot;Java &gt; Project : Output Path.\r\n * Click on edit in setting.json and write the new path where you want your .class to be generated.","title":"How to separate the .java and .class file in Vs Code?","body":"<p>You can change the path where your .class is created following the next steps:</p>\n<ul>\n<li>File -&gt; Preferences -&gt;Settings</li>\n<li>Write java.output on the search bar and it should show you &quot;Java &gt; Project : Output Path.</li>\n<li>Click on edit in setting.json and write the new path where you want your .class to be generated.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24762165,"reputation":31,"user_id":18646425,"display_name":"neozero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825602,"creation_date":1648825602,"answer_id":71709073,"question_id":71708679,"body_markdown":"Do you compile manually with command line javac ?\r\nIf so you can make a bash script (if you are on linux) that move all class file to another directory after compilation.\r\n\r\nSomething like:\r\n\r\n    mv *.class destination/\r\n\r\nI think you have similar command on windows.\r\n\r\nIn vscode you can can then configure your launch.json to execute that command as well as the compilation one.","title":"How to separate the .java and .class file in Vs Code?","body":"<p>Do you compile manually with command line javac ?\nIf so you can make a bash script (if you are on linux) that move all class file to another directory after compilation.</p>\n<p>Something like:</p>\n<pre><code>mv *.class destination/\n</code></pre>\n<p>I think you have similar command on windows.</p>\n<p>In vscode you can can then configure your launch.json to execute that command as well as the compilation one.</p>\n"},{"tags":[],"owner":{"account_id":29130530,"reputation":1,"user_id":22315911,"display_name":"DIVYANSH KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699278711,"creation_date":1699278711,"answer_id":77431591,"question_id":71708679,"body_markdown":"1. Create a project folder. eg. Test-Project\r\n2. Create src file in Test-Project. (You can name in what ever you want.)\r\n3. Create .vscode/settings.json in Test-project\r\n4. Write this in settings.json\r\n\t- `{\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;\r\n}`\r\n\r\n\r\n**Note**: Remember to use Run java instead of Run Code when compiling and running.\r\nThis will automatically create bin folder and put the .class files inside it for every new class.\r\n\r\n\r\n----------\r\n\r\n\r\nI did a lot of digging on the internet and finally came up with this solution:)\r\nThank you.\r\n\r\n","title":"How to separate the .java and .class file in Vs Code?","body":"<ol>\n<li>Create a project folder. eg. Test-Project</li>\n<li>Create src file in Test-Project. (You can name in what ever you want.)</li>\n<li>Create .vscode/settings.json in Test-project</li>\n<li>Write this in settings.json\n<ul>\n<li><code>{ &quot;java.project.outputPath&quot;: &quot;bin&quot; }</code></li>\n</ul>\n</li>\n</ol>\n<p><strong>Note</strong>: Remember to use Run java instead of Run Code when compiling and running.\nThis will automatically create bin folder and put the .class files inside it for every new class.</p>\n<hr />\n<p>I did a lot of digging on the internet and finally came up with this solution:)\nThank you.</p>\n"}],"owner":{"account_id":23326638,"reputation":1,"user_id":17403718,"display_name":"Jyoti Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1699278711,"creation_date":1648823917,"question_id":71708679,"body_markdown":"# \r\n\r\n**When we compile a java code the .class file is created in the same place where the source code is .  Is there a way like when we compile a java code the .class file file will be formed in a different folder**\r\n\r\nI tried creating projects and then writing the code but it didn&#39;t work\r\n\r\n\r\n***\r\n\r\n***Edit: The problem is solved. I created a java project in VS Code then the source code is in src folder and the .class file is in bin folder. Thank You everyone....***\r\n\r\n***","title":"How to separate the .java and .class file in Vs Code?","body":"<h1></h1>\n<p><strong>When we compile a java code the .class file is created in the same place where the source code is .  Is there a way like when we compile a java code the .class file file will be formed in a different folder</strong></p>\n<p>I tried creating projects and then writing the code but it didn't work</p>\n<hr />\n<p><em><strong>Edit: The problem is solved. I created a java project in VS Code then the source code is in src folder and the .class file is in bin folder. Thank You everyone....</strong></em></p>\n<hr />\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1699279119,"post_id":77431566,"comment_id":136507826,"body_markdown":"Other than testing the mapping from one type to the other, how else would the custom matcher be used?  At a glance, it doesn&#39;t appear the custom matcher is needed.  In the mapping test, have a **separate** test for each mapped field.","body":"Other than testing the mapping from one type to the other, how else would the custom matcher be used?  At a glance, it doesn&#39;t appear the custom matcher is needed.  In the mapping test, have a <b>separate</b> test for each mapped field."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1699282496,"post_id":77431566,"comment_id":136508631,"body_markdown":"@AndrewS In the integration tests, I test the REST API endpoints which always return a DTO. In the unit tests I test mainly the service layer that converts the domain model returned by the command pattern operations (commands return domain models) into DTOs. I suppose that extensive and precise unit testing of the command pattern (it&#39;s responsible for business logic) and testing just the conversion in the service layer would be okay for the unit tests? What about integration tests when I get a `ResponseEntity&lt;ExampleDTO&gt;` as a response? Do I convert that to domain model and use the matcher?","body":"@AndrewS In the integration tests, I test the REST API endpoints which always return a DTO. In the unit tests I test mainly the service layer that converts the domain model returned by the command pattern operations (commands return domain models) into DTOs. I suppose that extensive and precise unit testing of the command pattern (it&#39;s responsible for business logic) and testing just the conversion in the service layer would be okay for the unit tests? What about integration tests when I get a <code>ResponseEntity&lt;ExampleDTO&gt;</code> as a response? Do I convert that to domain model and use the matcher?"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278494,"creation_date":1699278494,"question_id":77431566,"body_markdown":"I have 2 custom matchers (extending AssertJ&#39;s `AbstractAssert`) for a model, and for its DTO object. I wonder if there&#39;s a better way to do that.\r\n\r\nThere&#39;s a domain model class `Example`:\r\n```\r\npublic class Example {\r\n\r\n    private Long id;\r\n    private String value;\r\n}\r\n```\r\n\r\nAnd there&#39;s its DTO class that is returned as a response in REST requests:\r\n```\r\npublic class ExampleDTO {\r\n\r\n    private String value;\r\n}\r\n```\r\n\r\nI&#39;ve created custom matchers for these classes to facilitate testing. But I have trouble with code duplication. Here&#39;s a custom matcher for `Example` class:\r\n```\r\npublic class ExampleAssert extends AbstractAssert&lt;ExampleAssert, Example&gt; {\r\n    \r\n    // some boilerplate code\r\n\r\n    public ExampleAssert hasValue(String expected) {\r\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\r\n        return this;\r\n    }\r\n}\r\n```\r\nYou will notice that the custom matcher class for the DTO is pretty much the duplication of the above.\r\n```\r\npublic class ExampleDTOAssert extends AbstractAssert&lt;ExampleDTOAssert, ExampleDTO&gt; {\r\n    \r\n    // some boilerplate code\r\n\r\n    public ExampleDTOAssert hasValue(String expected) {\r\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\r\n        return this;\r\n    }\r\n}\r\n```\r\nI could really use your help to simplify it. Two things that come into my mind:\r\n* inheritence (feels like a code smell though)\r\n* converting one model to the other and use one of the matchers (still a code smell!)","title":"Separate custom matchers: one for DTO, one for domain model","body":"<p>I have 2 custom matchers (extending AssertJ's <code>AbstractAssert</code>) for a model, and for its DTO object. I wonder if there's a better way to do that.</p>\n<p>There's a domain model class <code>Example</code>:</p>\n<pre><code>public class Example {\n\n    private Long id;\n    private String value;\n}\n</code></pre>\n<p>And there's its DTO class that is returned as a response in REST requests:</p>\n<pre><code>public class ExampleDTO {\n\n    private String value;\n}\n</code></pre>\n<p>I've created custom matchers for these classes to facilitate testing. But I have trouble with code duplication. Here's a custom matcher for <code>Example</code> class:</p>\n<pre><code>public class ExampleAssert extends AbstractAssert&lt;ExampleAssert, Example&gt; {\n    \n    // some boilerplate code\n\n    public ExampleAssert hasValue(String expected) {\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\n        return this;\n    }\n}\n</code></pre>\n<p>You will notice that the custom matcher class for the DTO is pretty much the duplication of the above.</p>\n<pre><code>public class ExampleDTOAssert extends AbstractAssert&lt;ExampleDTOAssert, ExampleDTO&gt; {\n    \n    // some boilerplate code\n\n    public ExampleDTOAssert hasValue(String expected) {\n        Assertions.assertThat(actual.getValue).isEqualTo(expected);\n        return this;\n    }\n}\n</code></pre>\n<p>I could really use your help to simplify it. Two things that come into my mind:</p>\n<ul>\n<li>inheritence (feels like a code smell though)</li>\n<li>converting one model to the other and use one of the matchers (still a code smell!)</li>\n</ul>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":29838336,"reputation":1,"user_id":22867220,"display_name":"deepparmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278478,"creation_date":1699278478,"question_id":77431563,"body_markdown":"here are my mysql table named employee definition\r\n```\r\n\r\nCREATE TABLE `employee` (\r\n  `EmployeeId` int NOT NULL,\r\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `ReportsTo` int DEFAULT NULL,\r\n  `BirthDate` datetime DEFAULT NULL,\r\n  `HireDate` datetime DEFAULT NULL,\r\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  PRIMARY KEY (`EmployeeId`),\r\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\r\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\r\n```\r\n\r\n\r\nhere is my model class\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\n@Data\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Employee_Model {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;EmployeeId&quot;)\r\n    Integer id;\r\n\r\n    @Column(name = &quot;FirstName&quot;)\r\n    String FirstName;\r\n\r\n    @Column(name = &quot;LastName&quot;)\r\n    String LastName;\r\n\r\n    @Column(name = &quot;Title&quot;)\r\n    String Title;\r\n\r\n    @Column(name = &quot;ReportsTo&quot;)\r\n    Integer ReportsTo;\r\n\r\n    @Column(name = &quot;BirthDate&quot;)\r\n    LocalDateTime BirthDate;\r\n\r\n    @Column(name = &quot;HireDate&quot;)\r\n    LocalDateTime HireDate;\r\n\r\n    @Column(name = &quot;Address&quot;)\r\n    String Address;\r\n\r\n    @Column(name = &quot;City&quot;)\r\n    String City;\r\n    @Column(name = &quot;State&quot;)\r\n    String State;\r\n    @Column(name = &quot;Country&quot;)\r\n    String Country;\r\n\r\n    @Column(name = &quot;PostalCode&quot;)\r\n    String PostalCode;\r\n    @Column(name = &quot;Phone&quot;)\r\n    String Phone;\r\n    @Column(name = &quot;Fax&quot;)\r\n    String Fax;\r\n    @Column(name = &quot;Email&quot;)\r\n    String Email;\r\n}\r\n```\r\n\r\nwhen i hit endpoint it gives me below output \r\n\r\n```\r\n {\r\n        &quot;id&quot;: 0,\r\n        &quot;state&quot;: &quot;AB&quot;,\r\n        &quot;address&quot;: &quot;11120 Jasper Ave NW&quot;,\r\n        &quot;country&quot;: &quot;Canada&quot;,\r\n        &quot;lastName&quot;: null,\r\n        &quot;firstName&quot;: null,\r\n        &quot;city&quot;: &quot;Edmonton&quot;,\r\n        &quot;postalCode&quot;: null,\r\n        &quot;phone&quot;: &quot;+1 (780) 428-9482&quot;,\r\n        &quot;fax&quot;: &quot;+1 (780) 428-3457&quot;,\r\n        &quot;email&quot;: &quot;andrew@chinookcorp.com&quot;,\r\n        &quot;reportsTo&quot;: null,\r\n        &quot;title&quot;: &quot;General Manager&quot;,\r\n        &quot;birthDate&quot;: null,\r\n        &quot;hireDate&quot;: null\r\n    }\r\n```\r\n\r\nI could not understand why it gives me null in certain fields although data is avallible in database and also change databse table structure like below\r\n\r\n```\r\nCREATE TABLE `employee` (\r\n  `EmployeeId` int NOT NULL,\r\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\r\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `ReportsTo` int DEFAULT NULL,\r\n  `BirthDate` datetime DEFAULT NULL,\r\n  `HireDate` datetime DEFAULT NULL,\r\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\r\n  `employee_id` int NOT NULL,\r\n  `birth_date` datetime DEFAULT NULL,\r\n  `first_name` varchar(255) DEFAULT NULL,\r\n  `hire_date` datetime DEFAULT NULL,\r\n  `last_name` varchar(255) DEFAULT NULL,\r\n  `postal_code` varchar(255) DEFAULT NULL,\r\n  `reports_to` int DEFAULT NULL,\r\n  `id` int NOT NULL,\r\n  PRIMARY KEY (`EmployeeId`),\r\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\r\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci \r\n```\r\n\r\n\r\nbut when i change the value of name attribute of @Column annotation of the fields that gives me null to the lowercase letter it is working fine like this\r\n\r\n@Column(name = &quot;birthdate&quot;)\r\nLocalDateTime BirthDate;\r\n\r\n@Column(name = &quot;FirstName&quot;)\r\nString FirstName;\r\n\r\ncan you explain me how it is working?\r\n\r\n**how hibernte naming strategie working ?**\r\n**why it is giving me null values in certin fields?**\r\n**if i change those column name to lower case why it is working fine?**","title":"Mapping issue Spring Model class automatic generating column and returned null as column value","body":"<p>here are my mysql table named employee definition</p>\n<pre><code>\nCREATE TABLE `employee` (\n  `EmployeeId` int NOT NULL,\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `ReportsTo` int DEFAULT NULL,\n  `BirthDate` datetime DEFAULT NULL,\n  `HireDate` datetime DEFAULT NULL,\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  PRIMARY KEY (`EmployeeId`),\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n</code></pre>\n<p>here is my model class</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = &quot;employee&quot;)\n@Data\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Employee_Model {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;EmployeeId&quot;)\n    Integer id;\n\n    @Column(name = &quot;FirstName&quot;)\n    String FirstName;\n\n    @Column(name = &quot;LastName&quot;)\n    String LastName;\n\n    @Column(name = &quot;Title&quot;)\n    String Title;\n\n    @Column(name = &quot;ReportsTo&quot;)\n    Integer ReportsTo;\n\n    @Column(name = &quot;BirthDate&quot;)\n    LocalDateTime BirthDate;\n\n    @Column(name = &quot;HireDate&quot;)\n    LocalDateTime HireDate;\n\n    @Column(name = &quot;Address&quot;)\n    String Address;\n\n    @Column(name = &quot;City&quot;)\n    String City;\n    @Column(name = &quot;State&quot;)\n    String State;\n    @Column(name = &quot;Country&quot;)\n    String Country;\n\n    @Column(name = &quot;PostalCode&quot;)\n    String PostalCode;\n    @Column(name = &quot;Phone&quot;)\n    String Phone;\n    @Column(name = &quot;Fax&quot;)\n    String Fax;\n    @Column(name = &quot;Email&quot;)\n    String Email;\n}\n</code></pre>\n<p>when i hit endpoint it gives me below output</p>\n<pre><code> {\n        &quot;id&quot;: 0,\n        &quot;state&quot;: &quot;AB&quot;,\n        &quot;address&quot;: &quot;11120 Jasper Ave NW&quot;,\n        &quot;country&quot;: &quot;Canada&quot;,\n        &quot;lastName&quot;: null,\n        &quot;firstName&quot;: null,\n        &quot;city&quot;: &quot;Edmonton&quot;,\n        &quot;postalCode&quot;: null,\n        &quot;phone&quot;: &quot;+1 (780) 428-9482&quot;,\n        &quot;fax&quot;: &quot;+1 (780) 428-3457&quot;,\n        &quot;email&quot;: &quot;andrew@chinookcorp.com&quot;,\n        &quot;reportsTo&quot;: null,\n        &quot;title&quot;: &quot;General Manager&quot;,\n        &quot;birthDate&quot;: null,\n        &quot;hireDate&quot;: null\n    }\n</code></pre>\n<p>I could not understand why it gives me null in certain fields although data is avallible in database and also change databse table structure like below</p>\n<pre><code>CREATE TABLE `employee` (\n  `EmployeeId` int NOT NULL,\n  `LastName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `FirstName` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,\n  `Title` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `ReportsTo` int DEFAULT NULL,\n  `BirthDate` datetime DEFAULT NULL,\n  `HireDate` datetime DEFAULT NULL,\n  `Address` varchar(70) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `City` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `State` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Country` varchar(40) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `PostalCode` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Phone` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Fax` varchar(24) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `Email` varchar(60) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL,\n  `employee_id` int NOT NULL,\n  `birth_date` datetime DEFAULT NULL,\n  `first_name` varchar(255) DEFAULT NULL,\n  `hire_date` datetime DEFAULT NULL,\n  `last_name` varchar(255) DEFAULT NULL,\n  `postal_code` varchar(255) DEFAULT NULL,\n  `reports_to` int DEFAULT NULL,\n  `id` int NOT NULL,\n  PRIMARY KEY (`EmployeeId`),\n  KEY `IFK_EmployeeReportsTo` (`ReportsTo`),\n  CONSTRAINT `FK_EmployeeReportsTo` FOREIGN KEY (`ReportsTo`) REFERENCES `employee` (`EmployeeId`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci \n</code></pre>\n<p>but when i change the value of name attribute of @Column annotation of the fields that gives me null to the lowercase letter it is working fine like this</p>\n<p>@Column(name = &quot;birthdate&quot;)\nLocalDateTime BirthDate;</p>\n<p>@Column(name = &quot;FirstName&quot;)\nString FirstName;</p>\n<p>can you explain me how it is working?</p>\n<p><strong>how hibernte naming strategie working ?</strong>\n<strong>why it is giving me null values in certin fields?</strong>\n<strong>if i change those column name to lower case why it is working fine?</strong></p>\n"},{"tags":["java","multithreading","apache-camel"],"owner":{"account_id":16640921,"reputation":1,"user_id":12026478,"display_name":"pearowaty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699278392,"creation_date":1699278392,"question_id":77431550,"body_markdown":"I created new apache camel route scheduler and I want to be invoked by multiple threads on an interval. want to execute x number of threads. I am unsure how to go about it\r\n\r\n    public class TestRoute extends RouteBuilder {\r\n\r\n    private TestProperties properties;\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;scheduler://testScheduler&quot; +\r\n            &quot;?delay=5000&quot; +\r\n            &quot;&amp;poolSize=3&quot;)\r\n            .routeId(&quot;testRoute&quot;)\r\n            .startupOrder(1)\r\n            .process(this::printLog);\r\n    }\r\n\r\n    private void printLog(Exchange exchange) throws InterruptedException {\r\n        Thread.sleep(10000);\r\n        log.info(&quot;Start route&quot;);\r\n    }\r\n}\r\n\r\nI used now apache camel 4.0.2\r\n\r\n    implementation &quot;org.apache.camel.springboot:camel-spring-boot:4.0.2&quot;\r\n    implementation &quot;org.apache.camel.springboot:camel-spring-boot-starter:4.0.2&quot;\r\n\r\nIn application logs\r\n```\r\n2023-11-06 14:21:29,639 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\r\n2023-11-06 14:21:39,655 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\r\n2023-11-06 14:21:49,663 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\r\n```\r\n\r\n\r\nIn older version 2.25.4 multi-threading works fine","title":"Execute apache camel route scheduler with multiple threads","body":"<p>I created new apache camel route scheduler and I want to be invoked by multiple threads on an interval. want to execute x number of threads. I am unsure how to go about it</p>\n<pre><code>public class TestRoute extends RouteBuilder {\n\nprivate TestProperties properties;\n\n@Override\npublic void configure() throws Exception {\n    from(&quot;scheduler://testScheduler&quot; +\n        &quot;?delay=5000&quot; +\n        &quot;&amp;poolSize=3&quot;)\n        .routeId(&quot;testRoute&quot;)\n        .startupOrder(1)\n        .process(this::printLog);\n}\n\nprivate void printLog(Exchange exchange) throws InterruptedException {\n    Thread.sleep(10000);\n    log.info(&quot;Start route&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>I used now apache camel 4.0.2</p>\n<pre><code>implementation &quot;org.apache.camel.springboot:camel-spring-boot:4.0.2&quot;\nimplementation &quot;org.apache.camel.springboot:camel-spring-boot-starter:4.0.2&quot;\n</code></pre>\n<p>In application logs</p>\n<pre><code>2023-11-06 14:21:29,639 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\n2023-11-06 14:21:39,655 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\n2023-11-06 14:21:49,663 INFO com.test.routes.TestRoute [Camel (camel-1) thread #1 - scheduler://testScheduler] [] [Test,,,] Start route\n</code></pre>\n<p>In older version 2.25.4 multi-threading works fine</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699277599,"post_id":77431419,"comment_id":136507429,"body_markdown":"Look at the `compareTo()` method in your `Node` class: `public int compareTo(){  }`; it does not declare any parameters, hence, you can not pass any parameters. Besides that, it’s empty and does not return any value, so it won’t pass the compiler anyway. As a side note: you should not declare the type parameter `T` but declare `implements BinaryTreeInterface&lt;LinkedBinaryTree.Node&lt;E&gt;&gt;` It’s problematic that the `Node` class is not `public` but allowing the code using your class to substitute it (via type parameter `T`) with arbitrary other types will cause even more problems.","body":"Look at the <code>compareTo()</code> method in your <code>Node</code> class: <code>public int compareTo(){  }</code>; it does not declare any parameters, hence, you can not pass any parameters. Besides that, it’s empty and does not return any value, so it won’t pass the compiler anyway. As a side note: you should not declare the type parameter <code>T</code> but declare <code>implements BinaryTreeInterface&lt;LinkedBinaryTree.Node&lt;E&gt;&gt;</code> It’s problematic that the <code>Node</code> class is not <code>public</code> but allowing the code using your class to substitute it (via type parameter <code>T</code>) with arbitrary other types will cause even more problems."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699277752,"post_id":77431419,"comment_id":136507463,"body_markdown":"To hide the node class as an implementation detail, you should declare `implements BinaryTreeInterface&lt;E&gt;` but then, you have to change all implementations to not assume that the parameter is a node but rather search for the right node in every operation.","body":"To hide the node class as an implementation detail, you should declare <code>implements BinaryTreeInterface&lt;E&gt;</code> but then, you have to change all implementations to not assume that the parameter is a node but rather search for the right node in every operation."}],"owner":{"account_id":29838340,"reputation":1,"user_id":22867223,"display_name":"Tiến Dũng Đỗ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699277933,"creation_date":1699276932,"question_id":77431419,"body_markdown":"i was building a binary tree by myself but this error occured:\r\nLinkedBinaryTree.java:111: error: method compareTo in class Node&lt;E#2&gt; cannot be applied to given types;\r\n                if(leftNode.compareTo(currentNode) == 0){\r\n                           ^\r\n  required: no arguments\r\n  found:    Node&lt;E#1&gt;\r\n  reason: actual and formal argument lists differ in length\r\n  where E#1,E#2 are type-variables:\r\n    E#1 extends Object declared in class LinkedBinaryTree\r\n    E#2 extends Object declared in class Node\r\n\r\nThis is my code:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic class LinkedBinaryTree&lt;E,T&gt; implements BinaryTreeInterface&lt;T&gt; {\r\n\t\r\n\tprotected static class Node&lt;E&gt;{\r\n\t\tprivate E element;\t// an element stored at this node\r\n\t\tprivate Node &lt;E&gt; parent ; // a reference to the parent node (if any)\r\n\t\tprivate Node &lt;E&gt; left ; // a reference to the left child\r\n\t\tprivate Node &lt;E&gt; right ; // a reference to the right child\r\n\t\t\r\n\t\t// Constructs a node with the given element and neighbors .\r\n\t\tpublic Node ( E e , Node &lt;E &gt; above , Node &lt;E &gt; leftChild , Node &lt;E &gt; rightChild ) {\r\n\t\t\t// To do\r\n\t\t\telement = e;\r\n\t\t\tparent = above;\r\n\t\t\tleft = leftChild;\r\n\t\t\tright = rightChild;\r\n\t\t}\r\n\t}\r\n\t\r\n\tNode&lt;E&gt; root = null;\r\n\tint n = 0;\r\n\t\r\n\t// update methods\r\n\tpublic Node &lt;E&gt; addRoot ( E element ) {\r\n\t\t// Add element to root of an empty tree\r\n\t\tif(!isEmpty()){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\troot.element = element;\r\n\t\troot.parent = null;\r\n\t\troot.left = null;\r\n\t\troot.right = null;\r\n\t\tn++;\r\n\t\treturn root;\r\n\t}\r\n\t\r\n\tpublic Node &lt;E&gt; addLeft ( Node p , E element ) {\r\n\t\t// Add element to left child node of p if empty\r\n\t\tif(p.left.element != null){\r\n\t\t\treturn p.left;\r\n\t\t}\r\n\t\tNode&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\r\n\t\tp.left = new_node;\r\n\t\tn++;\r\n\t\treturn new_node;\r\n\t}\r\n\t\r\n\tpublic Node &lt;E &gt; addRight ( Node p , E element ) {\r\n\t\t// Add element to right child node of p if empty\r\n\t\tif(p.right.element != null){\r\n\t\t\treturn p.right;\r\n\t\t}\r\n\t\tNode&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\r\n\t\tp.right = new_node;\r\n\t\tn++;\r\n\t\treturn new_node;\r\n\t}\r\n\t\r\n\tpublic void set ( Node p , E element ) {\r\n\t\t// set element to node p\r\n\t\tp.element = element;\r\n\t}\r\n\t\r\n\tpublic T root(){\r\n\t\treturn (T) root;\r\n\t}\r\n\t\r\n\tpublic int size(){\r\n\t\treturn n;\r\n\t}\r\n\t\r\n\tpublic boolean isEmpty(){\r\n\t\treturn root == null;\r\n\t}\r\n\t\r\n\tpublic int numChildren (T p){\r\n\t\tint count = 0;\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\tif(currentNode.left != null){\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tif(currentNode.right != null){\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\t\r\n\tpublic T parent(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\treturn (T) currentNode.parent;\r\n\t}\r\n\t\r\n\tpublic T left(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\treturn (T) currentNode.left;\r\n\t}\r\n\t\r\n\tpublic T right(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\treturn (T) currentNode.right;\r\n\t}\r\n\t\r\n\tpublic T sibling(T p){\r\n\t\tNode&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\r\n\t\tNode&lt;E&gt; parentNode = currentNode.parent;\r\n\t\tNode&lt;E&gt; leftNode = (Node&lt;E&gt;) parentNode.left;\r\n\t\tif(leftNode.compareTo(currentNode) == 0){\r\n\t\t\treturn (T) parentNode.right;\r\n\t\t}\r\n\t\treturn (T) parentNode.left;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\npublic interface BinaryTreeInterface&lt;T&gt; {\r\n\tT root();\r\n\tint size(); // number of node in tree\r\n\tboolean isEmpty();\r\n\tint numChildren (T p) ; // nmber of children of element p;\r\n\t\r\n\tT parent(T p) ; // return parent of p\r\n\tT left(T p) ; // return left child of p\r\n\tT right(T p) ; // return right child of p\r\n\tT sibling(T p) ; // return sibling of p\r\n}\r\n```\r\n\r\n\r\nCan you describe the error detailedly for me and how to solve this error","title":"method compareTo in class Node&lt;E#2&gt; cannot be applied to given types","body":"<p>i was building a binary tree by myself but this error occured:\nLinkedBinaryTree.java:111: error: method compareTo in class Node&lt;E#2&gt; cannot be applied to given types;\nif(leftNode.compareTo(currentNode) == 0){\n^\nrequired: no arguments\nfound:    Node&lt;E#1&gt;\nreason: actual and formal argument lists differ in length\nwhere E#1,E#2 are type-variables:\nE#1 extends Object declared in class LinkedBinaryTree\nE#2 extends Object declared in class Node</p>\n<p>This is my code:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic class LinkedBinaryTree&lt;E,T&gt; implements BinaryTreeInterface&lt;T&gt; {\n    \n    protected static class Node&lt;E&gt;{\n        private E element;  // an element stored at this node\n        private Node &lt;E&gt; parent ; // a reference to the parent node (if any)\n        private Node &lt;E&gt; left ; // a reference to the left child\n        private Node &lt;E&gt; right ; // a reference to the right child\n        \n        // Constructs a node with the given element and neighbors .\n        public Node ( E e , Node &lt;E &gt; above , Node &lt;E &gt; leftChild , Node &lt;E &gt; rightChild ) {\n            // To do\n            element = e;\n            parent = above;\n            left = leftChild;\n            right = rightChild;\n        }\n    }\n    \n    Node&lt;E&gt; root = null;\n    int n = 0;\n    \n    // update methods\n    public Node &lt;E&gt; addRoot ( E element ) {\n        // Add element to root of an empty tree\n        if(!isEmpty()){\n            return null;\n        }\n        root.element = element;\n        root.parent = null;\n        root.left = null;\n        root.right = null;\n        n++;\n        return root;\n    }\n    \n    public Node &lt;E&gt; addLeft ( Node p , E element ) {\n        // Add element to left child node of p if empty\n        if(p.left.element != null){\n            return p.left;\n        }\n        Node&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\n        p.left = new_node;\n        n++;\n        return new_node;\n    }\n    \n    public Node &lt;E &gt; addRight ( Node p , E element ) {\n        // Add element to right child node of p if empty\n        if(p.right.element != null){\n            return p.right;\n        }\n        Node&lt;E&gt; new_node = new Node&lt;&gt;(element, p, null, null);\n        p.right = new_node;\n        n++;\n        return new_node;\n    }\n    \n    public void set ( Node p , E element ) {\n        // set element to node p\n        p.element = element;\n    }\n    \n    public T root(){\n        return (T) root;\n    }\n    \n    public int size(){\n        return n;\n    }\n    \n    public boolean isEmpty(){\n        return root == null;\n    }\n    \n    public int numChildren (T p){\n        int count = 0;\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        if(currentNode.left != null){\n            count++;\n        }\n        if(currentNode.right != null){\n            count++;\n        }\n        return count;\n    }\n    \n    public T parent(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        return (T) currentNode.parent;\n    }\n    \n    public T left(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        return (T) currentNode.left;\n    }\n    \n    public T right(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        return (T) currentNode.right;\n    }\n    \n    public T sibling(T p){\n        Node&lt;E&gt; currentNode = (Node&lt;E&gt;) p;\n        Node&lt;E&gt; parentNode = currentNode.parent;\n        Node&lt;E&gt; leftNode = (Node&lt;E&gt;) parentNode.left;\n        if(leftNode.compareTo(currentNode) == 0){\n            return (T) parentNode.right;\n        }\n        return (T) parentNode.left;\n    }\n}\n</code></pre>\n<pre><code>public interface BinaryTreeInterface&lt;T&gt; {\n    T root();\n    int size(); // number of node in tree\n    boolean isEmpty();\n    int numChildren (T p) ; // nmber of children of element p;\n    \n    T parent(T p) ; // return parent of p\n    T left(T p) ; // return left child of p\n    T right(T p) ; // return right child of p\n    T sibling(T p) ; // return sibling of p\n}\n</code></pre>\n<p>Can you describe the error detailedly for me and how to solve this error</p>\n"},{"tags":["java","multithreading","vert.x","vertx-eventbus"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699277122,"creation_date":1699277122,"answer_id":77431430,"question_id":77307423,"body_markdown":"&gt;It doesn&#39;t matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.\r\n\r\nWhile the event loop is blocked waiting for the future to complete, it cannot handle the event that completes the future.\r\n\r\n&gt;Now, if I change the handler to blockingHandler in 1st line, the whole thing starts to work just as expected\r\n\r\nIn this case, it&#39;s one of the worker pool threads which is blocked waiting for the future to complete, and then the future is completed by the event loop thread.","title":"Vert.x async to sync blocks event-loop-thread","body":"<blockquote>\n<p>It doesn't matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.</p>\n</blockquote>\n<p>While the event loop is blocked waiting for the future to complete, it cannot handle the event that completes the future.</p>\n<blockquote>\n<p>Now, if I change the handler to blockingHandler in 1st line, the whole thing starts to work just as expected</p>\n</blockquote>\n<p>In this case, it's one of the worker pool threads which is blocked waiting for the future to complete, and then the future is completed by the event loop thread.</p>\n"}],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77431430,"answer_count":1,"score":0,"last_activity_date":1699277122,"creation_date":1697532306,"question_id":77307423,"body_markdown":"In my router-handler I need to `await` for the event-bus request to make it synchronous.\r\n\r\nThe code looks like so:\r\n\r\n```\r\nrouter.patch &#39;/api/check&#39; handler this::validateField\r\n\r\nvoid validateField( RoutingContext rc ) {\r\n  log.info &#39;validate start&#39;\r\n\r\n  CountDownLatch countDownLatch = new CountDownLatch( 1 )\r\n    \r\n  Future&lt;Message&gt; fut = vertx.eventBus().request( &#39;validate&#39;, &#39;msg&#39; ).onComplete{ countDownLatch.countDown() }\r\n    \r\n  boolean done = countDownLatch.await 4, TimeUnit.SECONDS\r\n\r\n  if( !done )\r\n    rc.json &#39;service.failure&#39;\r\n  else if( fut.failed() ){\r\n    ReplyException cause = (ReplyException)fut.cause()\r\n    rc.json ReplyFailure.RECIPIENT_FAILURE == cause?.failureType ? cause.message : &#39;service.failure&#39;\r\n  }else\r\n    rc.json &#39;ok&#39;\r\n}\r\n```\r\n\r\nThe code above produces the following log output:\r\n```\r\n[vert.x-eventloop-thread-2] 10:11:03.940 INFO  my.Klass - validate start\r\n[vertx-blocked-thread-checker] 10:11:06.297 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 2357 ms, time limit is 2000 ms\r\n[vertx-blocked-thread-checker] 10:11:07.298 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 3357 ms, time limit is 2000 ms\r\n```\r\nAs you can see, the `countDownLatch` blocks the event-loop-thread for 4 seconds before it&#39;s timeout occurs and completes unconditionally. \r\n\r\nIt doesn&#39;t matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.\r\n\r\nThe same behavior occurs with java&#39;s `CompletableFuture`.\r\n\r\nNow, if I change the `handler` to `blockingHandler` in 1st line, the whole thing starts to work just as expected:\r\n\r\n```\r\nrouter.patch &#39;/api/check&#39; blockingHandler this::validateField\r\n```\r\nThe code reacts properly on `NO_HANDLERS` and on valid consumer requests and is waiting as long as needed.\r\n\r\nWhy does it behave like that?","title":"Vert.x async to sync blocks event-loop-thread","body":"<p>In my router-handler I need to <code>await</code> for the event-bus request to make it synchronous.</p>\n<p>The code looks like so:</p>\n<pre><code>router.patch '/api/check' handler this::validateField\n\nvoid validateField( RoutingContext rc ) {\n  log.info 'validate start'\n\n  CountDownLatch countDownLatch = new CountDownLatch( 1 )\n    \n  Future&lt;Message&gt; fut = vertx.eventBus().request( 'validate', 'msg' ).onComplete{ countDownLatch.countDown() }\n    \n  boolean done = countDownLatch.await 4, TimeUnit.SECONDS\n\n  if( !done )\n    rc.json 'service.failure'\n  else if( fut.failed() ){\n    ReplyException cause = (ReplyException)fut.cause()\n    rc.json ReplyFailure.RECIPIENT_FAILURE == cause?.failureType ? cause.message : 'service.failure'\n  }else\n    rc.json 'ok'\n}\n</code></pre>\n<p>The code above produces the following log output:</p>\n<pre><code>[vert.x-eventloop-thread-2] 10:11:03.940 INFO  my.Klass - validate start\n[vertx-blocked-thread-checker] 10:11:06.297 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 2357 ms, time limit is 2000 ms\n[vertx-blocked-thread-checker] 10:11:07.298 WARN  i.v.core.impl.BlockedThreadChecker - Thread Thread[vert.x-eventloop-thread-2,5,main] has been blocked for 3357 ms, time limit is 2000 ms\n</code></pre>\n<p>As you can see, the <code>countDownLatch</code> blocks the event-loop-thread for 4 seconds before it's timeout occurs and completes unconditionally.</p>\n<p>It doesn't matter if the EB-consumer is reachable and what it responses. The thread simply gets blocked.</p>\n<p>The same behavior occurs with java's <code>CompletableFuture</code>.</p>\n<p>Now, if I change the <code>handler</code> to <code>blockingHandler</code> in 1st line, the whole thing starts to work just as expected:</p>\n<pre><code>router.patch '/api/check' blockingHandler this::validateField\n</code></pre>\n<p>The code reacts properly on <code>NO_HANDLERS</code> and on valid consumer requests and is waiting as long as needed.</p>\n<p>Why does it behave like that?</p>\n"},{"tags":["java","swing","user-interface","event-handling","observer-pattern"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1699275899,"post_id":77431257,"comment_id":136507101,"body_markdown":"The [model-view-controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (MVC) pattern is useful when creating a Swing GUI.  Create an application model that keeps track of the cars and their position on a logical representation of the map using plain Java getter/setter classes.  The view (Swing UI) will draw the representation of the logical model.  Period.  Nothing else.  Your simulation loop will update the model and repaint the view.","body":"The <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern is useful when creating a Swing GUI.  Create an application model that keeps track of the cars and their position on a logical representation of the map using plain Java getter/setter classes.  The view (Swing UI) will draw the representation of the logical model.  Period.  Nothing else.  Your simulation loop will update the model and repaint the view."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1699275988,"post_id":77431257,"comment_id":136507119,"body_markdown":"I would use SwingPropertyChangeSupport along with PropertyChangeListeners to help implement MVC as @GilbertLeBlanc suggests above, which can reduce coupling.","body":"I would use SwingPropertyChangeSupport along with PropertyChangeListeners to help implement MVC as @GilbertLeBlanc suggests above, which can reduce coupling."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699276006,"post_id":77431257,"comment_id":136507124,"body_markdown":"Note that best if you post real code, not kind-of/sort-of code.","body":"Note that best if you post real code, not kind-of/sort-of code."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699276111,"post_id":77431257,"comment_id":136507144,"body_markdown":"You should explain your problem with details, add a [minimal reproducible example](https://stackoverflow.com/help/mcve), and don&#39;t ask many questions at once.","body":"You should explain your problem with details, add a <a href=\"https://stackoverflow.com/help/mcve\">minimal reproducible example</a>, and don&#39;t ask many questions at once."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699276548,"creation_date":1699276548,"answer_id":77431382,"question_id":77431257,"body_markdown":"One way to add &quot;events&quot; to any code is to use a listener framework, and a clean one to use is the java.beans Property Change Listener framework. You would add to the model classes a support object and methods that allow addition or removal of property change listener objects. This will allow outside code to be notified of what changes occur and when. For example:\r\n\r\n```\r\nimport java.beans.PropertyChangeListener;\r\nimport javax.swing.event.SwingPropertyChangeSupport;\r\n\r\npublic class Car {\r\n    public static final String POSITION = &quot;position&quot;;\r\n    public static final String IMAGE = &quot;image&quot;;\r\n    private SwingPropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\r\n    private CarPosition carPosition;\r\n    private TypeOfImage carImage;\r\n\r\n    public void setPosition(int x, int y) {\r\n        CarPosition oldPosition = carPosition;\r\n        this.carPosition = new CarPosition(x, y);\r\n        pcSupport.firePropertyChange(POSITION, oldPosition, carPosition);\r\n    }\r\n\r\n    public void setImage(TypeOfImage typeOfImage) {\r\n        TypeOfImage oldImage = typeOfImage;\r\n        this.carImage = typeOfImage;\r\n        pcSupport.firePropertyChange(IMAGE, oldImage, typeOfImage);\r\n    }\r\n\r\n    public int getX() {\r\n        return carPosition.x();\r\n    }\r\n\r\n    public int getY() {\r\n        return carPosition.y();\r\n    }\r\n\r\n    public CarPosition getCarPosition() {\r\n        return carPosition;\r\n    }\r\n\r\n    public TypeOfImage getImage() {\r\n        return carImage;\r\n    }\r\n\r\n    public void addPropertyChangeListener(PropertyChangeListener listener) {\r\n        pcSupport.addPropertyChangeListener(listener);\r\n    }\r\n\r\n    public void removePropertyChangeListener(PropertyChangeListener listener) {\r\n        pcSupport.removePropertyChangeListener(listener);\r\n    }\r\n}\r\n```\r\n\r\nAssuming a simple enum\r\n```\r\nenum TypeOfImage {\r\n    RED_CAR, BLUE_CAR, GREEN_CAR\r\n}\r\n```\r\n\r\nBest to have the listener return a single object, and so if changing position in one method, have a record to allow this to be returned\r\n```\r\nrecord CarPosition(int x, int y) {\r\n}\r\n```\r\n\r\nThen this can be used in the view as follows\r\n```\r\nclass CarView extends JPanel {\r\n    private Car car;\r\n\r\n    public CarView(Car car) {\r\n        this.car = car;\r\n        car.addPropertyChangeListener(e -&gt; {\r\n            if (e.getPropertyName().equals(Car.POSITION)) {\r\n                repaint();\r\n            }\r\n        });\r\n        car.addPropertyChangeListener(e -&gt; {\r\n            if (e.getPropertyName().equals(Car.IMAGE)) {\r\n                repaint();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.drawImage(car.getImage().getSprite(), car.getX(), car.getY(), null);\r\n    }\r\n}\r\n```","title":"Create and integrate custom events in a Java Swing App","body":"<p>One way to add &quot;events&quot; to any code is to use a listener framework, and a clean one to use is the java.beans Property Change Listener framework. You would add to the model classes a support object and methods that allow addition or removal of property change listener objects. This will allow outside code to be notified of what changes occur and when. For example:</p>\n<pre><code>import java.beans.PropertyChangeListener;\nimport javax.swing.event.SwingPropertyChangeSupport;\n\npublic class Car {\n    public static final String POSITION = &quot;position&quot;;\n    public static final String IMAGE = &quot;image&quot;;\n    private SwingPropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\n    private CarPosition carPosition;\n    private TypeOfImage carImage;\n\n    public void setPosition(int x, int y) {\n        CarPosition oldPosition = carPosition;\n        this.carPosition = new CarPosition(x, y);\n        pcSupport.firePropertyChange(POSITION, oldPosition, carPosition);\n    }\n\n    public void setImage(TypeOfImage typeOfImage) {\n        TypeOfImage oldImage = typeOfImage;\n        this.carImage = typeOfImage;\n        pcSupport.firePropertyChange(IMAGE, oldImage, typeOfImage);\n    }\n\n    public int getX() {\n        return carPosition.x();\n    }\n\n    public int getY() {\n        return carPosition.y();\n    }\n\n    public CarPosition getCarPosition() {\n        return carPosition;\n    }\n\n    public TypeOfImage getImage() {\n        return carImage;\n    }\n\n    public void addPropertyChangeListener(PropertyChangeListener listener) {\n        pcSupport.addPropertyChangeListener(listener);\n    }\n\n    public void removePropertyChangeListener(PropertyChangeListener listener) {\n        pcSupport.removePropertyChangeListener(listener);\n    }\n}\n</code></pre>\n<p>Assuming a simple enum</p>\n<pre><code>enum TypeOfImage {\n    RED_CAR, BLUE_CAR, GREEN_CAR\n}\n</code></pre>\n<p>Best to have the listener return a single object, and so if changing position in one method, have a record to allow this to be returned</p>\n<pre><code>record CarPosition(int x, int y) {\n}\n</code></pre>\n<p>Then this can be used in the view as follows</p>\n<pre><code>class CarView extends JPanel {\n    private Car car;\n\n    public CarView(Car car) {\n        this.car = car;\n        car.addPropertyChangeListener(e -&gt; {\n            if (e.getPropertyName().equals(Car.POSITION)) {\n                repaint();\n            }\n        });\n        car.addPropertyChangeListener(e -&gt; {\n            if (e.getPropertyName().equals(Car.IMAGE)) {\n                repaint();\n            }\n        });\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawImage(car.getImage().getSprite(), car.getX(), car.getY(), null);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16872775,"reputation":3,"user_id":12200930,"display_name":"Cesar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77431382,"answer_count":1,"score":0,"last_activity_date":1699276548,"creation_date":1699275395,"question_id":77431257,"body_markdown":"I&#39;ve been creating a Java Swing app which tracks the position of dummy cars and plots them on a map. I&#39;m afraid that the app is getting bigger and I need a sort of split between UI and app logic. \r\n\r\nIs it possible to implement an event/listener architecture with different types of events to update the UI when necessary? How? \r\n\r\nAt present, I manage to update car position in this way:\r\n\r\n```\r\nclass car {\r\n    setPosition(int x, int y) {\r\n        _x = x; _y = y;\r\n        carImage.setPosition(x,y);\r\n    }\r\n    changeImage(enum typeOfImage) {\r\n        carImage.changeImage(typeOfImage);\r\n    }\r\n}\r\n```\r\nAs you can see I need a UI object inside my logic app, and this breaks the split between UI and logic. In addition, I would like to change the logo of the car whenever the car&#39;s state changes and hide or show the image at my convenience. So I think that an observer pattern should be suitable in this scenario.\r\n\r\n\r\nThank you","title":"Create and integrate custom events in a Java Swing App","body":"<p>I've been creating a Java Swing app which tracks the position of dummy cars and plots them on a map. I'm afraid that the app is getting bigger and I need a sort of split between UI and app logic.</p>\n<p>Is it possible to implement an event/listener architecture with different types of events to update the UI when necessary? How?</p>\n<p>At present, I manage to update car position in this way:</p>\n<pre><code>class car {\n    setPosition(int x, int y) {\n        _x = x; _y = y;\n        carImage.setPosition(x,y);\n    }\n    changeImage(enum typeOfImage) {\n        carImage.changeImage(typeOfImage);\n    }\n}\n</code></pre>\n<p>As you can see I need a UI object inside my logic app, and this breaks the split between UI and logic. In addition, I would like to change the logo of the car whenever the car's state changes and hide or show the image at my convenience. So I think that an observer pattern should be suitable in this scenario.</p>\n<p>Thank you</p>\n"},{"tags":["java","webview","ui-automation","android-espresso"],"owner":{"account_id":27260842,"reputation":1,"user_id":20783685,"display_name":"Siddurevan Ss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699276377,"creation_date":1699276216,"question_id":77431347,"body_markdown":"```java\r\nonWebView(Matchers.allOf(isDisplayed(), isJavascriptEnabled())).withTimeout(5, TimeUnit.SECONDS)\r\n                .withElement(findElement(Locator.XPATH, &quot;//div[@class=&#39;story-metadata-card__title-and-author&#39;]&quot;));\r\n```\r\n\r\ni running this but its not waiting for 5 sec until view get displayed, even i put 10 sec it will fail without waiting 10 sec, \r\nhow to fix and how to use waits as implicitly and explicitly like in selenium \r\n\r\ni tried with adding more time i.e 10sec but waiting less than 1sec and failing cases","title":"How to add wait in espresso web view cases","body":"<pre class=\"lang-java prettyprint-override\"><code>onWebView(Matchers.allOf(isDisplayed(), isJavascriptEnabled())).withTimeout(5, TimeUnit.SECONDS)\n                .withElement(findElement(Locator.XPATH, &quot;//div[@class='story-metadata-card__title-and-author']&quot;));\n</code></pre>\n<p>i running this but its not waiting for 5 sec until view get displayed, even i put 10 sec it will fail without waiting 10 sec,\nhow to fix and how to use waits as implicitly and explicitly like in selenium</p>\n<p>i tried with adding more time i.e 10sec but waiting less than 1sec and failing cases</p>\n"},{"tags":["java","soap","jboss","wildfly","jax-ws"],"owner":{"account_id":2069003,"reputation":35,"user_id":1843878,"display_name":"mcs130"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699276206,"creation_date":1699236602,"question_id":77428395,"body_markdown":"I recently posted a question which is now resolved by upgrading from WildFly 23 to 27, where the simple JAX-WS endpoint deploys, you see the startup in the logs and the WSDL URL responds w/ the WSDL expected.  [Original post w/ deployment issue][1]\r\n\r\nNow after getting past the deployment issue, I used POSTMAN to import the WSDL from the WildFly-hosted endpoint. It loaded ok and the 2 operations were shown correctly. \r\n\r\nThe SOAP message is sent from POSTMAN TO the server \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;soap:Body&gt;\r\n    &lt;getEmployee xmlns=&quot;http://ws.jaxws.example.com/&quot;&gt;\r\n      &lt;arg0&gt;100&lt;/arg0&gt;\r\n    &lt;/getEmployee&gt;\r\n  &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nand I get back the following response w/ an Error:\r\n\r\n```\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;soap:Fault&gt;\r\n            &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\r\n            &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://ws.jaxws.example.com/&quot;, local:&quot;arg0&quot;). Expected elements are &amp;lt;{}arg0&gt; &lt;/faultstring&gt;\r\n        &lt;/soap:Fault&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n``` \r\nWSDL: (from the deployed service) \r\n```\r\n\r\n&lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/soap/http&quot; name=&quot;EmployeeService&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot;&gt;\r\n&lt;wsdl:types&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; elementFormDefault=&quot;unqualified&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot; version=&quot;1.0&quot;&gt;\r\n&lt;xs:element name=&quot;Employee&quot; type=&quot;tns:employee&quot;/&gt;\r\n&lt;xs:element name=&quot;addEmployee&quot; type=&quot;tns:addEmployee&quot;/&gt;\r\n&lt;xs:element name=&quot;addEmployeeResponse&quot; type=&quot;tns:addEmployeeResponse&quot;/&gt;\r\n&lt;xs:element name=&quot;getEmployee&quot; type=&quot;tns:getEmployee&quot;/&gt;\r\n&lt;xs:element name=&quot;getEmployeeResponse&quot; type=&quot;tns:getEmployeeResponse&quot;/&gt;\r\n&lt;xs:complexType name=&quot;addEmployee&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;arg0&quot; type=&quot;xs:int&quot;/&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;arg1&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;addEmployeeResponse&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;employee&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;getEmployee&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element form=&quot;qualified&quot; name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;xs:complexType name=&quot;getEmployeeResponse&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n&lt;/wsdl:types&gt;\r\n&lt;wsdl:message name=&quot;addEmployee&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:addEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:message name=&quot;getEmployeeResponse&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:getEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:message name=&quot;addEmployeeResponse&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:addEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:message name=&quot;getEmployee&quot;&gt;\r\n&lt;wsdl:part element=&quot;tns:getEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n&lt;/wsdl:message&gt;\r\n&lt;wsdl:portType name=&quot;EmployeeService&quot;&gt;\r\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\r\n&lt;wsdl:input message=&quot;tns:addEmployee&quot; name=&quot;addEmployee&quot;&gt; &lt;/wsdl:input&gt;\r\n&lt;wsdl:output message=&quot;tns:addEmployeeResponse&quot; name=&quot;addEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\r\n&lt;wsdl:input message=&quot;tns:getEmployee&quot; name=&quot;getEmployee&quot;&gt; &lt;/wsdl:input&gt;\r\n&lt;wsdl:output message=&quot;tns:getEmployeeResponse&quot; name=&quot;getEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;/wsdl:portType&gt;\r\n&lt;wsdl:binding name=&quot;EmployeeServiceSoapBinding&quot; type=&quot;tns:EmployeeService&quot;&gt;\r\n&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\r\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\r\n&lt;wsdl:input name=&quot;addEmployee&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:input&gt;\r\n&lt;wsdl:output name=&quot;addEmployeeResponse&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\r\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\r\n&lt;wsdl:input name=&quot;getEmployee&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:input&gt;\r\n&lt;wsdl:output name=&quot;getEmployeeResponse&quot;&gt;\r\n&lt;soap:body use=&quot;literal&quot;/&gt;\r\n&lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n&lt;/wsdl:binding&gt;\r\n&lt;wsdl:service name=&quot;EmployeeService&quot;&gt;\r\n&lt;wsdl:port binding=&quot;tns:EmployeeServiceSoapBinding&quot; name=&quot;EmployeeServiceImplPort&quot;&gt;\r\n&lt;soap:address location=&quot;http://localhost:8080/employee-service/EmployeeService&quot;/&gt;\r\n&lt;/wsdl:port&gt;\r\n&lt;/wsdl:service&gt;\r\n&lt;/wsdl:definitions&gt;\r\n\r\n```\r\n\r\nThe JAXB annotated class for the &quot;Employee&quot; looks like this:\r\n\r\n```\r\npackage com.example.jaxws.ws;\r\n\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\n\r\n@XmlRootElement(name = &quot;Employee&quot;)\r\n@XmlType()\r\npublic class Employee {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    private int id;\r\n\r\n    private String name;\r\n\r\n    public Employee() {\r\n    }\r\n\r\n    public Employee(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\nThe service implementation and interface look like this:\r\n\r\n```\r\npackage com.example.jaxws.ws;\r\n\r\nimport jakarta.jws.WebMethod;\r\nimport jakarta.jws.WebParam;\r\nimport jakarta.jws.WebResult;\r\nimport jakarta.jws.WebService;\r\nimport jakarta.jws.soap.SOAPBinding;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.ThreadContext;\r\n\r\nimport java.util.UUID;\r\n\r\n@WebService(serviceName = &quot;EmployeeService&quot;, endpointInterface = &quot;com.example.jaxws.ws.EmployeeService&quot;)\r\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n    private static final Logger logger = LogManager.getLogger(EmployeeServiceImpl.class);\r\n\r\n    @WebMethod\r\n    @WebResult(name = &quot;Employee&quot;)\r\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id) {\r\n\r\n        String txid = UUID.randomUUID().toString();\r\n        ThreadContext.put(&quot;txid&quot;, txid);\r\n        Employee employee = new Employee(id, &quot;Smith&quot;);\r\n        logger.info(&quot;Employee: [] returned&quot;, employee.toString());\r\n        return null;\r\n\r\n    }\r\n\r\n    @WebMethod\r\n    public Employee addEmployee(int id, String name) {\r\n        return new Employee(id, name);\r\n    }\r\n}\r\n\r\n\r\n```\r\nInterface:\r\n```\r\npackage com.example.jaxws.ws;\r\n\r\nimport jakarta.jws.WebMethod;\r\nimport jakarta.jws.WebParam;\r\nimport jakarta.jws.WebService;\r\nimport jakarta.jws.soap.SOAPBinding;\r\n\r\n@WebService\r\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\r\npublic interface EmployeeService {\r\n\r\n    @WebMethod\r\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id);\r\n    @WebMethod\r\n    Employee addEmployee(int id, String name);\r\n}\r\n```\r\n\r\nThe WSDL was generated. I have run wsconsume to see what classes it would generate for a client side call (but I ended up using POSTMAN for now just to do a basic test call on the service end).  \r\n\r\nNo errors were seen during the code generation and I got a folder full of code:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI’m trying to understand why a Fault is returned. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77400299/wildfly-23-server-simple-jax-ws-deployment-all-attempts-to-access-the-wsdl-a\r\n  [2]: https://i.stack.imgur.com/mOQ9r.png","title":"Wildfly 27 Server - Simple JAX-WS deployment - Deployment/Startup works - SOAP call results in Fault &quot;unmarshall error&quot;","body":"<p>I recently posted a question which is now resolved by upgrading from WildFly 23 to 27, where the simple JAX-WS endpoint deploys, you see the startup in the logs and the WSDL URL responds w/ the WSDL expected.  <a href=\"https://stackoverflow.com/questions/77400299/wildfly-23-server-simple-jax-ws-deployment-all-attempts-to-access-the-wsdl-a\">Original post w/ deployment issue</a></p>\n<p>Now after getting past the deployment issue, I used POSTMAN to import the WSDL from the WildFly-hosted endpoint. It loaded ok and the 2 operations were shown correctly.</p>\n<p>The SOAP message is sent from POSTMAN TO the server</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soap:Body&gt;\n    &lt;getEmployee xmlns=&quot;http://ws.jaxws.example.com/&quot;&gt;\n      &lt;arg0&gt;100&lt;/arg0&gt;\n    &lt;/getEmployee&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>and I get back the following response w/ an Error:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;soap:Fault&gt;\n            &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n            &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://ws.jaxws.example.com/&quot;, local:&quot;arg0&quot;). Expected elements are &amp;lt;{}arg0&gt; &lt;/faultstring&gt;\n        &lt;/soap:Fault&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>WSDL: (from the deployed service)</p>\n<pre><code>\n&lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/soap/http&quot; name=&quot;EmployeeService&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot;&gt;\n&lt;wsdl:types&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://ws.jaxws.example.com/&quot; elementFormDefault=&quot;unqualified&quot; targetNamespace=&quot;http://ws.jaxws.example.com/&quot; version=&quot;1.0&quot;&gt;\n&lt;xs:element name=&quot;Employee&quot; type=&quot;tns:employee&quot;/&gt;\n&lt;xs:element name=&quot;addEmployee&quot; type=&quot;tns:addEmployee&quot;/&gt;\n&lt;xs:element name=&quot;addEmployeeResponse&quot; type=&quot;tns:addEmployeeResponse&quot;/&gt;\n&lt;xs:element name=&quot;getEmployee&quot; type=&quot;tns:getEmployee&quot;/&gt;\n&lt;xs:element name=&quot;getEmployeeResponse&quot; type=&quot;tns:getEmployeeResponse&quot;/&gt;\n&lt;xs:complexType name=&quot;addEmployee&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;arg0&quot; type=&quot;xs:int&quot;/&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;arg1&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;addEmployeeResponse&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;employee&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;getEmployee&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element form=&quot;qualified&quot; name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;getEmployeeResponse&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;return&quot; type=&quot;tns:employee&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n&lt;/wsdl:types&gt;\n&lt;wsdl:message name=&quot;addEmployee&quot;&gt;\n&lt;wsdl:part element=&quot;tns:addEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;getEmployeeResponse&quot;&gt;\n&lt;wsdl:part element=&quot;tns:getEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;addEmployeeResponse&quot;&gt;\n&lt;wsdl:part element=&quot;tns:addEmployeeResponse&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;getEmployee&quot;&gt;\n&lt;wsdl:part element=&quot;tns:getEmployee&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:portType name=&quot;EmployeeService&quot;&gt;\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\n&lt;wsdl:input message=&quot;tns:addEmployee&quot; name=&quot;addEmployee&quot;&gt; &lt;/wsdl:input&gt;\n&lt;wsdl:output message=&quot;tns:addEmployeeResponse&quot; name=&quot;addEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\n&lt;wsdl:input message=&quot;tns:getEmployee&quot; name=&quot;getEmployee&quot;&gt; &lt;/wsdl:input&gt;\n&lt;wsdl:output message=&quot;tns:getEmployeeResponse&quot; name=&quot;getEmployeeResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:portType&gt;\n&lt;wsdl:binding name=&quot;EmployeeServiceSoapBinding&quot; type=&quot;tns:EmployeeService&quot;&gt;\n&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n&lt;wsdl:operation name=&quot;addEmployee&quot;&gt;\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\n&lt;wsdl:input name=&quot;addEmployee&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=&quot;addEmployeeResponse&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;wsdl:operation name=&quot;getEmployee&quot;&gt;\n&lt;soap:operation soapAction=&quot;&quot; style=&quot;document&quot;/&gt;\n&lt;wsdl:input name=&quot;getEmployee&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=&quot;getEmployeeResponse&quot;&gt;\n&lt;soap:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:binding&gt;\n&lt;wsdl:service name=&quot;EmployeeService&quot;&gt;\n&lt;wsdl:port binding=&quot;tns:EmployeeServiceSoapBinding&quot; name=&quot;EmployeeServiceImplPort&quot;&gt;\n&lt;soap:address location=&quot;http://localhost:8080/employee-service/EmployeeService&quot;/&gt;\n&lt;/wsdl:port&gt;\n&lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n\n</code></pre>\n<p>The JAXB annotated class for the &quot;Employee&quot; looks like this:</p>\n<pre><code>package com.example.jaxws.ws;\n\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlType;\n\n@XmlRootElement(name = &quot;Employee&quot;)\n@XmlType()\npublic class Employee {\n\n    private static final long serialVersionUID = 1L;\n    private int id;\n\n    private String name;\n\n    public Employee() {\n    }\n\n    public Employee(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n\n}\n\n\n</code></pre>\n<p>The service implementation and interface look like this:</p>\n<pre><code>package com.example.jaxws.ws;\n\nimport jakarta.jws.WebMethod;\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebResult;\nimport jakarta.jws.WebService;\nimport jakarta.jws.soap.SOAPBinding;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.ThreadContext;\n\nimport java.util.UUID;\n\n@WebService(serviceName = &quot;EmployeeService&quot;, endpointInterface = &quot;com.example.jaxws.ws.EmployeeService&quot;)\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    private static final Logger logger = LogManager.getLogger(EmployeeServiceImpl.class);\n\n    @WebMethod\n    @WebResult(name = &quot;Employee&quot;)\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id) {\n\n        String txid = UUID.randomUUID().toString();\n        ThreadContext.put(&quot;txid&quot;, txid);\n        Employee employee = new Employee(id, &quot;Smith&quot;);\n        logger.info(&quot;Employee: [] returned&quot;, employee.toString());\n        return null;\n\n    }\n\n    @WebMethod\n    public Employee addEmployee(int id, String name) {\n        return new Employee(id, name);\n    }\n}\n\n\n</code></pre>\n<p>Interface:</p>\n<pre><code>package com.example.jaxws.ws;\n\nimport jakarta.jws.WebMethod;\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebService;\nimport jakarta.jws.soap.SOAPBinding;\n\n@WebService\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\npublic interface EmployeeService {\n\n    @WebMethod\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id);\n    @WebMethod\n    Employee addEmployee(int id, String name);\n}\n</code></pre>\n<p>The WSDL was generated. I have run wsconsume to see what classes it would generate for a client side call (but I ended up using POSTMAN for now just to do a basic test call on the service end).</p>\n<p>No errors were seen during the code generation and I got a folder full of code:</p>\n<p><a href=\"https://i.stack.imgur.com/mOQ9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mOQ9r.png\" alt=\"enter image description here\" /></a></p>\n<p>I’m trying to understand why a Fault is returned.</p>\n"},{"tags":["javascript","java","primefaces"],"answers":[{"tags":[],"owner":{"account_id":27983350,"reputation":2079,"user_id":21370707,"display_name":"Keyboard Corporation"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699275984,"creation_date":1699275984,"answer_id":77431318,"question_id":77431228,"body_markdown":"Use the ```minDate``` and ```maxDate``` attributes of the ```p:datePicker``` component. Since you want to limit the time (hours, minutes, seconds), you can set the ```minDate``` and ```maxDate``` to the same date, but with different times.\r\n\r\n\r\nFirst, you need to create a ```java.util.Date``` object with the maximum time you want to allow. You can do this by creating a ```java.util.Calendar``` object, setting the hours, minutes, and seconds, and then getting the ```java.util.Date``` object.\r\n\r\nExample;\r\n```\r\nCalendar calendar = Calendar.getInstance();\r\ncalendar.set(Calendar.HOUR_OF_DAY, maxHour);\r\ncalendar.set(Calendar.MINUTE, maxMinute);\r\ncalendar.set(Calendar.SECOND, maxSecond);\r\nDate maxTime = calendar.getTime();\r\n```\r\nThen, you set this ```Date``` object to the ```maxDate``` attribute of the ```p:datePicker``` component.\r\n\r\nIn the above code, ```traineeDashboard.minDate``` and ```traineeDashboard.maxTime``` are the ```Date``` objects that you created in your managed bean.\r\n\r\nThis way, the user will not be able to select a time that is outside the range you specified.\r\n\r\nRemember to set the ```minDate``` and ```maxDate``` attributes to the same date, but with different times. For example, if you want to allow a time range from 00:00:00 to 01:30:00, you can set the ```minDate``` to 00:00:00 and the ```maxDate``` to 01:30:00.\r\n\r\nAlso, note that the ```minDate``` and ```maxDate``` attributes accept ```java.util.Date``` objects, not ```java.time.LocalDateTime``` or ```java.time.LocalTime``` objects. If you&#39;re using ```java.time``` classes, you can convert them to ```java.util.Date``` objects using the ```java.sql.Timestamp``` class or the ```java.time.Instant``` class.","title":"Limit the Primefaces datePicker hour, minutes and seconds to given values","body":"<p>Use the <code>minDate</code> and <code>maxDate</code> attributes of the <code>p:datePicker</code> component. Since you want to limit the time (hours, minutes, seconds), you can set the <code>minDate</code> and <code>maxDate</code> to the same date, but with different times.</p>\n<p>First, you need to create a <code>java.util.Date</code> object with the maximum time you want to allow. You can do this by creating a <code>java.util.Calendar</code> object, setting the hours, minutes, and seconds, and then getting the <code>java.util.Date</code> object.</p>\n<p>Example;</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.set(Calendar.HOUR_OF_DAY, maxHour);\ncalendar.set(Calendar.MINUTE, maxMinute);\ncalendar.set(Calendar.SECOND, maxSecond);\nDate maxTime = calendar.getTime();\n</code></pre>\n<p>Then, you set this <code>Date</code> object to the <code>maxDate</code> attribute of the <code>p:datePicker</code> component.</p>\n<p>In the above code, <code>traineeDashboard.minDate</code> and <code>traineeDashboard.maxTime</code> are the <code>Date</code> objects that you created in your managed bean.</p>\n<p>This way, the user will not be able to select a time that is outside the range you specified.</p>\n<p>Remember to set the <code>minDate</code> and <code>maxDate</code> attributes to the same date, but with different times. For example, if you want to allow a time range from 00:00:00 to 01:30:00, you can set the <code>minDate</code> to 00:00:00 and the <code>maxDate</code> to 01:30:00.</p>\n<p>Also, note that the <code>minDate</code> and <code>maxDate</code> attributes accept <code>java.util.Date</code> objects, not <code>java.time.LocalDateTime</code> or <code>java.time.LocalTime</code> objects. If you're using <code>java.time</code> classes, you can convert them to <code>java.util.Date</code> objects using the <code>java.sql.Timestamp</code> class or the <code>java.time.Instant</code> class.</p>\n"}],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77431318,"answer_count":1,"score":1,"last_activity_date":1699275984,"creation_date":1699275164,"question_id":77431228,"body_markdown":"I am using a datePicker Primefaces element in order to allow the user to select a value for the hours, minutes and seconds. Currently, the hour has values between 0 and 24, the minutes are between 0 and 60 and same for the seconds.\r\n\r\nI want to limit this possibility of choice to some static values, obtained from getting the length of a video posted on the page. \r\n\r\nSo, for example, if the video has 1 minute and 30 seconds, I want the hours part not to allow the user to press the arrow up or down, the minutes to be maximum 30 and the minutes 1. \r\nI tried the below code, but it does not work - I manage to see the max length of the video when I enter the page, but if I move the arrows from the datePicker element, I can select anything.\r\n\r\n\r\nWhat can I do?\r\n\r\nThe UI datePicker element:\r\n``` \r\n&lt;p:outputPanel styleClass=&quot;input-group timestamp-input&quot;&gt;\r\n                                &lt;p:datePicker id=&quot;timeDatePicker&quot;\r\n                                              widgetVar=&quot;widgetVarOfDatePicker&quot;\r\n                                              value=&quot;#{traineeDashboard.newIncidentTimestamp}&quot;\r\n                                              timeOnly=&quot;true&quot;\r\n                                              showSeconds=&quot;true&quot;\r\n                                              appendTo=&quot;@this&quot;&gt;\r\n                                    &lt;f:converter converterId=&quot;timeConverter&quot;/&gt;\r\n                                &lt;/p:datePicker&gt;\r\n```\r\n\r\nJS Code:\r\n\r\n``` \r\n\r\nfunction setMaxTimeForDatePicker(hours, minutes, seconds) {\r\n    var timePicker = PF(&#39;widgetVarOfDatePicker&#39;); \r\n    var hoursDropdown = $(&#39;div.ui-hour-picker span:eq(1)&#39;);\r\n    var minutesDropdown = $(&#39;div.ui-minute-picker span:eq(1)&#39;);\r\n    var secondsDropdown = $(&#39;div.ui-second-picker span:eq(1)&#39;);\r\n\r\n    hoursDropdown.text(hours);\r\n    minutesDropdown.text(minutes);\r\n    secondsDropdown.text(seconds);\r\n\r\n    hoursDropdown.trigger(&#39;change&#39;);\r\n    minutesDropdown.trigger(&#39;change&#39;);\r\n    secondsDropdown.trigger(&#39;change&#39;);\r\n}\r\n\r\n$(function() {\r\n    var timePicker = PF(&#39;widgetVarOfDatePicker&#39;); // Replace with your actual widgetVar\r\n\r\n    // Override the behaviors for incrementing and decrementing hours, minutes, and seconds\r\n    timePicker.cfg.onHourChange = function(newHour) {\r\n        let maxHour = 2;\r\n        let minHour = 0;\r\n        if (newHour &lt; minHour || newHour &gt; maxHour) {\r\n            // Set the hour back to the minimum or maximum as appropriate\r\n            this.setTime(minHour, this.currentMinute, this.currentSecond);\r\n        }\r\n    };\r\n\r\n    timePicker.cfg.onMinuteChange = function(newMinute) {\r\n        if (newMinute &lt; minMinute || newMinute &gt; maxMinute) {\r\n            // Set the minute back to the minimum or maximum as appropriate\r\n            this.setTime(this.currentHour, minMinute, this.currentSecond);\r\n        }\r\n    };\r\n\r\n    timePicker.cfg.onSecondChange = function(newSecond) {\r\n        if (newSecond &lt; minSecond || newSecond &gt; maxSecond) {\r\n            // Set the second back to the minimum or maximum as appropriate\r\n            this.setTime(this.currentHour, this.currentMinute, minSecond);\r\n        }\r\n    };\r\n});\r\n\r\n```\r\n","title":"Limit the Primefaces datePicker hour, minutes and seconds to given values","body":"<p>I am using a datePicker Primefaces element in order to allow the user to select a value for the hours, minutes and seconds. Currently, the hour has values between 0 and 24, the minutes are between 0 and 60 and same for the seconds.</p>\n<p>I want to limit this possibility of choice to some static values, obtained from getting the length of a video posted on the page.</p>\n<p>So, for example, if the video has 1 minute and 30 seconds, I want the hours part not to allow the user to press the arrow up or down, the minutes to be maximum 30 and the minutes 1.\nI tried the below code, but it does not work - I manage to see the max length of the video when I enter the page, but if I move the arrows from the datePicker element, I can select anything.</p>\n<p>What can I do?</p>\n<p>The UI datePicker element:</p>\n<pre><code>&lt;p:outputPanel styleClass=&quot;input-group timestamp-input&quot;&gt;\n                                &lt;p:datePicker id=&quot;timeDatePicker&quot;\n                                              widgetVar=&quot;widgetVarOfDatePicker&quot;\n                                              value=&quot;#{traineeDashboard.newIncidentTimestamp}&quot;\n                                              timeOnly=&quot;true&quot;\n                                              showSeconds=&quot;true&quot;\n                                              appendTo=&quot;@this&quot;&gt;\n                                    &lt;f:converter converterId=&quot;timeConverter&quot;/&gt;\n                                &lt;/p:datePicker&gt;\n</code></pre>\n<p>JS Code:</p>\n<pre><code>\nfunction setMaxTimeForDatePicker(hours, minutes, seconds) {\n    var timePicker = PF('widgetVarOfDatePicker'); \n    var hoursDropdown = $('div.ui-hour-picker span:eq(1)');\n    var minutesDropdown = $('div.ui-minute-picker span:eq(1)');\n    var secondsDropdown = $('div.ui-second-picker span:eq(1)');\n\n    hoursDropdown.text(hours);\n    minutesDropdown.text(minutes);\n    secondsDropdown.text(seconds);\n\n    hoursDropdown.trigger('change');\n    minutesDropdown.trigger('change');\n    secondsDropdown.trigger('change');\n}\n\n$(function() {\n    var timePicker = PF('widgetVarOfDatePicker'); // Replace with your actual widgetVar\n\n    // Override the behaviors for incrementing and decrementing hours, minutes, and seconds\n    timePicker.cfg.onHourChange = function(newHour) {\n        let maxHour = 2;\n        let minHour = 0;\n        if (newHour &lt; minHour || newHour &gt; maxHour) {\n            // Set the hour back to the minimum or maximum as appropriate\n            this.setTime(minHour, this.currentMinute, this.currentSecond);\n        }\n    };\n\n    timePicker.cfg.onMinuteChange = function(newMinute) {\n        if (newMinute &lt; minMinute || newMinute &gt; maxMinute) {\n            // Set the minute back to the minimum or maximum as appropriate\n            this.setTime(this.currentHour, minMinute, this.currentSecond);\n        }\n    };\n\n    timePicker.cfg.onSecondChange = function(newSecond) {\n        if (newSecond &lt; minSecond || newSecond &gt; maxSecond) {\n            // Set the second back to the minimum or maximum as appropriate\n            this.setTime(this.currentHour, this.currentMinute, minSecond);\n        }\n    };\n});\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching","spring-cache"],"owner":{"account_id":29086655,"reputation":1,"user_id":22281435,"display_name":"Akshaya Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699275801,"creation_date":1698650484,"question_id":77386812,"body_markdown":"**Right now, my app is organized like this:**\r\n\r\n- Controller Layer: Handles user requests.\r\n- Business Service Layer: Manages data, including caching.\r\n- Repository Layer: Deals with data storage.\r\n\r\n    \r\n\r\n**Code Example:**\r\n\r\n```\r\n// Controller Layer\r\n@RestController\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public User getUserById(@PathVariable Long id) {\r\n        return userService.getUserById(id);\r\n    }\r\n}\r\n\r\n// Business Service Layer\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Cacheable(value = &quot;users&quot;, key = &quot;#id&quot;)\r\n    public User getUserById(Long id) {\r\n\r\n        // some business checks\r\n        return userRepository.findById(id).orElse(null);\r\n    }\r\n}\r\n\r\n// Repository Layer\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\n    \r\n\r\n\r\n\r\n\r\n\r\n**I want to introduce application level caching :**\r\n\r\n- Controller Layer: No change.\r\n- Business Service Layer: Still handles data but now using cache manager.\r\n- Cached Service Layer: New layer for handling cached data.\r\n- Repository Layer: Remains the same.\r\n\r\n**Code Example:**\r\n\r\n```\r\n// Controller Layer\r\n@RestController\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public User getUserById(@PathVariable Long id) {\r\n        return userService.getUserById(id);\r\n    }\r\n}\r\n\r\n// Business Service Layer\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private CachedUserService cachedUserService;\r\n\r\n    public User getUserById(Long id) {\r\n            // some Business Logic\r\n        return cachedUserService.getUserById(id);\r\n    }\r\n}\r\n\r\n// Cached Service Layer\r\n@Service\r\npublic class CachedUserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n\r\n    public User getUserById(Long id) {\r\n        Cache cache = cacheManager.getCache(&quot;users&quot;);\r\n        ValueWrapper result = cache.get(id);\r\n\r\n        if (result != null) {\r\n            return (User) result.get();\r\n        } else {\r\n            User user = userRepository.findById(id).orElse(null);\r\n            cache.put(id, user);\r\n            return user;\r\n        }\r\n    }\r\n}\r\n\r\n// Repository Layer\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\nIs this a good way to update my app&#39;s structure, or are there any potential problems or better approaches I should consider? Your advice would be really helpful. Thanks!","title":"Best Practices for Implementing Spring Caching?","body":"<p><strong>Right now, my app is organized like this:</strong></p>\n<ul>\n<li>Controller Layer: Handles user requests.</li>\n<li>Business Service Layer: Manages data, including caching.</li>\n<li>Repository Layer: Deals with data storage.</li>\n</ul>\n<p><strong>Code Example:</strong></p>\n<pre><code>// Controller Layer\n@RestController\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users/{id}&quot;)\n    public User getUserById(@PathVariable Long id) {\n        return userService.getUserById(id);\n    }\n}\n\n// Business Service Layer\n@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Cacheable(value = &quot;users&quot;, key = &quot;#id&quot;)\n    public User getUserById(Long id) {\n\n        // some business checks\n        return userRepository.findById(id).orElse(null);\n    }\n}\n\n// Repository Layer\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n<p><strong>I want to introduce application level caching :</strong></p>\n<ul>\n<li>Controller Layer: No change.</li>\n<li>Business Service Layer: Still handles data but now using cache manager.</li>\n<li>Cached Service Layer: New layer for handling cached data.</li>\n<li>Repository Layer: Remains the same.</li>\n</ul>\n<p><strong>Code Example:</strong></p>\n<pre><code>// Controller Layer\n@RestController\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users/{id}&quot;)\n    public User getUserById(@PathVariable Long id) {\n        return userService.getUserById(id);\n    }\n}\n\n// Business Service Layer\n@Service\npublic class UserService {\n    @Autowired\n    private CachedUserService cachedUserService;\n\n    public User getUserById(Long id) {\n            // some Business Logic\n        return cachedUserService.getUserById(id);\n    }\n}\n\n// Cached Service Layer\n@Service\npublic class CachedUserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private CacheManager cacheManager;\n\n    public User getUserById(Long id) {\n        Cache cache = cacheManager.getCache(&quot;users&quot;);\n        ValueWrapper result = cache.get(id);\n\n        if (result != null) {\n            return (User) result.get();\n        } else {\n            User user = userRepository.findById(id).orElse(null);\n            cache.put(id, user);\n            return user;\n        }\n    }\n}\n\n// Repository Layer\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n<p>Is this a good way to update my app's structure, or are there any potential problems or better approaches I should consider? Your advice would be really helpful. Thanks!</p>\n"},{"tags":["java","file","path","fortify"],"comments":[{"owner":{"account_id":15804504,"reputation":63,"user_id":11403344,"display_name":"RaVin"},"score":0,"creation_date":1556101609,"post_id":55823435,"comment_id":98320390,"body_markdown":"I tried new File(path.normalize().toString()) but this also does not work .Infact it raised 1 more flag for vulnerability","body":"I tried new File(path.normalize().toString()) but this also does not work .Infact it raised 1 more flag for vulnerability"}],"answers":[{"tags":[],"owner":{"account_id":10674291,"reputation":88,"user_id":10067428,"display_name":"Raphael Hagi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556283247,"creation_date":1556283247,"answer_id":55868097,"question_id":55823435,"body_markdown":"This &quot;sUnsanitized&quot; variable comes from user input? Maybe this is your real problem.\r\n\r\nNever trust in user input its a number one rule to develpment.","title":"How to fix Fortify Path Manipulation ( Input Validation and Representation , Data Flow ) vulnerability","body":"<p>This \"sUnsanitized\" variable comes from user input? Maybe this is your real problem.</p>\n\n<p>Never trust in user input its a number one rule to develpment.</p>\n"}],"owner":{"account_id":15804504,"reputation":63,"user_id":11403344,"display_name":"RaVin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699275635,"creation_date":1556086310,"question_id":55823435,"body_markdown":"I am getting fortify path manipulation vulnerability for creating a file with new keyword \r\n\r\nI have tried to sanitize the path before passing it to File object, but the problem persists.\r\nTried this link also:\r\nhttps://www.securecoding.cert.org/confluence/display/java/FIO00-J.+Do+not+operate+on+files+in+shared+directories\r\n\r\n```\r\npublic static String sanitizePath(String sUnsanitized) throws URISyntaxException, EncodingException {\r\n\r\n   String sSanitized = SAPI.encoder().canonicalize(sUnsanitized);\r\n   return sSanitized;\r\n\r\n}\r\n\r\n\r\n//// the main method code snippet /////\r\n\r\nString sSanitizedPath = Utils.sanitizePath(file.getOriginalFilename());\r\n\r\n-- fortify scan detects problem here ..in below line --\r\n\r\nFile filePath = new File(AppInitializer.UPLOAD_LOCATION, sSanitizedPath);\r\n\r\nString canonicalPath = filePath.getCanonicalPath();\r\nFileOutputStream fileOutputStream = new FileOutputStream(canonicalPath);\r\n```\r\nAfter the santizePath , I thought the scan will be not pick ,vulnerabilit but , it did.","title":"How to fix Fortify Path Manipulation ( Input Validation and Representation , Data Flow ) vulnerability","body":"<p>I am getting fortify path manipulation vulnerability for creating a file with new keyword </p>\n\n<p>I have tried to sanitize the path before passing it to File object, but the problem persists.\nTried this link also:\n<a href=\"https://www.securecoding.cert.org/confluence/display/java/FIO00-J.+Do+not+operate+on+files+in+shared+directories\" rel=\"nofollow noreferrer\">https://www.securecoding.cert.org/confluence/display/java/FIO00-J.+Do+not+operate+on+files+in+shared+directories</a></p>\n\n<pre><code>public static String sanitizePath(String sUnsanitized) throws URISyntaxException, EncodingException {\n\n   String sSanitized = SAPI.encoder().canonicalize(sUnsanitized);\n   return sSanitized;\n\n}\n\n\n//// the main method code snippet /////\n\nString sSanitizedPath = Utils.sanitizePath(file.getOriginalFilename());\n\n-- fortify scan detects problem here ..in below line --\n\nFile filePath = new File(AppInitializer.UPLOAD_LOCATION, sSanitizedPath);\n\nString canonicalPath = filePath.getCanonicalPath();\nFileOutputStream fileOutputStream = new FileOutputStream(canonicalPath);\n</code></pre>\n\n<p>After the santizePath , I thought the scan will be not pick ,vulnerabilit but , it did.</p>\n"},{"tags":["java","spring","https","exception"],"comments":[{"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"score":0,"creation_date":1490851230,"post_id":43109014,"comment_id":73298575,"body_markdown":"@FarazDurrani Thank you!, I will attempt that tomorrow when I get on my programming computer.","body":"@FarazDurrani Thank you!, I will attempt that tomorrow when I get on my programming computer."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1490851309,"post_id":43109014,"comment_id":73298605,"body_markdown":"forget about it. That solution is not correct. Instead, take a look at this: http://springinpractice.com/2013/10/07/handling-json-error-object-responses-with-springs-resttemplate","body":"forget about it. That solution is not correct. Instead, take a look at this: <a href=\"http://springinpractice.com/2013/10/07/handling-json-error-object-responses-with-springs-resttemplate\" rel=\"nofollow noreferrer\">springinpractice.com/2013/10/07/&hellip;</a>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1490851535,"post_id":43109014,"comment_id":73298694,"body_markdown":"Sorry, this is not the way StackOverflow works.  Questions of the form _&quot;I want to do X, please give me tips and/or sample code&quot;_ are considered off-topic.  Please visit the [help] and read [ask], and especially read [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"Sorry, this is not the way StackOverflow works.  Questions of the form <i>&quot;I want to do X, please give me tips and/or sample code&quot;</i> are considered off-topic.  Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and especially read <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"score":0,"creation_date":1490853273,"post_id":43109014,"comment_id":73299427,"body_markdown":"@JimGarrison The problem is clear, and the OP needs help accomplishing the tasks. I do not need no code samples just a hint would help answer my question.","body":"@JimGarrison The problem is clear, and the OP needs help accomplishing the tasks. I do not need no code samples just a hint would help answer my question."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1490853416,"post_id":43109014,"comment_id":73299493,"body_markdown":"Without seeing your code nobody can possibly help. The question is off-topic.","body":"Without seeing your code nobody can possibly help. The question is off-topic."},{"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"score":0,"creation_date":1490896229,"post_id":43109014,"comment_id":73329034,"body_markdown":"@JimGarrison Revised.","body":"@JimGarrison Revised."}],"answers":[{"tags":[],"owner":{"account_id":4747025,"reputation":528,"user_id":3838083,"display_name":"Cyphrags"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490851236,"creation_date":1490851236,"answer_id":43109146,"question_id":43109014,"body_markdown":"I don&#39;t know if this applies to your problem (as you did not provide your code yet) but this might help: \r\n\r\n    @ResponseStatus(value=HttpStatus.NOT_FOUND, reason=&quot;No such Order&quot;)  // 404\r\n     public class OrderNotFoundException extends RuntimeException {\r\n         // ...\r\n     }\r\n\r\nYou can basically add the @ResponseStatus to a function inside your class, set the value to the appropriate one (in your case INTERNAL_SERVER_ERROR as shown [here][1]).\r\n\r\nI hope this helps! If not, please provide your code.\r\n\r\nMaybe this link about Exception-Handling in spring might help: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#INTERNAL_SERVER_ERROR","title":"How to handle HttpServerErrorException?","body":"<p>I don't know if this applies to your problem (as you did not provide your code yet) but this might help: </p>\n\n<pre><code>@ResponseStatus(value=HttpStatus.NOT_FOUND, reason=\"No such Order\")  // 404\n public class OrderNotFoundException extends RuntimeException {\n     // ...\n }\n</code></pre>\n\n<p>You can basically add the @ResponseStatus to a function inside your class, set the value to the appropriate one (in your case INTERNAL_SERVER_ERROR as shown <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#INTERNAL_SERVER_ERROR\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>I hope this helps! If not, please provide your code.</p>\n\n<p>Maybe this link about Exception-Handling in spring might help: <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a></p>\n"}],"owner":{"account_id":9457510,"reputation":348,"user_id":7032335,"accept_rate":55,"display_name":"Mike.Chun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13549,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699275635,"creation_date":1490850551,"question_id":43109014,"body_markdown":"I am currently using java and spring boot to get authorized in a API. It depends on the value that users inserts to see weather the api is valid or not.If it&#39;s valid it would basically display data.\r\n\r\n**Main Problem**\r\n\r\nWhen user enters wrong value in the end of the api. I get error 500 &quot;internal server error&quot; and it stops my spring application. I want to create an exception where it would catch this error and spits out that there&#39;s an error 500 rather than stopping my application. Even with wrong value I want my application to continue running. \r\n\r\n**Error**\r\n\r\nWhen users enter the wrong params I receive an error below\r\n\r\n     org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error \r\n\r\nHow can I override it, so that even if user enter wrong data, Don&#39;t break my application and continue running. Just display Null for data.\r\n\r\n**Attempt to handle**\r\n\r\nI was able to allow my application to continue running with following code below\r\n\r\n    try {  //OauthRestTemplate exhanges credentials for api access\r\n     } catch (HttpServerErrorException e ) {    \t    \t\r\n       e.getStatusCode();\r\n       logger.info(e + &quot;Server bypass, Continue running application&quot;);\r\n     \t//allow application to continue running but does not display the actual message that would be on the api.\r\n    \t    }\r\n      //output\r\n       org.springframework.web.client.HttpServerErrorException: 500 Internal Server ErrorServer bypass, Continue running application\r\n      \r\n\r\nBut I want it to by pass the status 500 and display the actual message when I am on the api with wrong parameters. I should receive the same values that are printed on the api. Example Below\r\n\r\n    {&quot;message&quot;:&quot;Physical resource does not exist for mac address: D&quot;,&quot;code&quot;:&quot;APRO-2001&quot;,&quot;timestamp&quot;:1490895756655,&quot;type&quot;:&quot;com.server.camp.framework.exception.ErrorResponse&quot;,&quot;status&quot;:&quot;INTERNAL_SERVER_ERROR&quot;}\r\n    ","title":"How to handle HttpServerErrorException?","body":"<p>I am currently using java and spring boot to get authorized in a API. It depends on the value that users inserts to see weather the api is valid or not.If it's valid it would basically display data.</p>\n\n<p><strong>Main Problem</strong></p>\n\n<p>When user enters wrong value in the end of the api. I get error 500 \"internal server error\" and it stops my spring application. I want to create an exception where it would catch this error and spits out that there's an error 500 rather than stopping my application. Even with wrong value I want my application to continue running. </p>\n\n<p><strong>Error</strong></p>\n\n<p>When users enter the wrong params I receive an error below</p>\n\n<pre><code> org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error \n</code></pre>\n\n<p>How can I override it, so that even if user enter wrong data, Don't break my application and continue running. Just display Null for data.</p>\n\n<p><strong>Attempt to handle</strong></p>\n\n<p>I was able to allow my application to continue running with following code below</p>\n\n<pre><code>try {  //OauthRestTemplate exhanges credentials for api access\n } catch (HttpServerErrorException e ) {                \n   e.getStatusCode();\n   logger.info(e + \"Server bypass, Continue running application\");\n    //allow application to continue running but does not display the actual message that would be on the api.\n        }\n  //output\n   org.springframework.web.client.HttpServerErrorException: 500 Internal Server ErrorServer bypass, Continue running application\n</code></pre>\n\n<p>But I want it to by pass the status 500 and display the actual message when I am on the api with wrong parameters. I should receive the same values that are printed on the api. Example Below</p>\n\n<pre><code>{\"message\":\"Physical resource does not exist for mac address: D\",\"code\":\"APRO-2001\",\"timestamp\":1490895756655,\"type\":\"com.server.camp.framework.exception.ErrorResponse\",\"status\":\"INTERNAL_SERVER_ERROR\"}\n</code></pre>\n"},{"tags":["java","reflection","terminology"],"comments":[{"owner":{"account_id":3292987,"reputation":11366,"user_id":2770850,"accept_rate":85,"display_name":"Nabin"},"score":16,"creation_date":1478149337,"post_id":37628,"comment_id":68039313,"body_markdown":"For me it is a way of getting class names at runtime and creating objects of that class.","body":"For me it is a way of getting class names at runtime and creating objects of that class."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":106,"creation_date":1491342345,"post_id":37628,"comment_id":73507666,"body_markdown":"because this is a popular question I&#39;d like to point out that reflection (Without annotations) should be the very last tool you go to when solving a problem.  I use it and love it, but it cancels out all the advantages of Java&#39;s static typing.  If you do need it, isolate it to as small an area as possible (One method or one class).  It&#39;s more acceptable to use it in tests than production code.   With annotations it should be fine--The main point is not to specify class or method names as &quot;Strings&quot; if you can possibly avoid it.","body":"because this is a popular question I&#39;d like to point out that reflection (Without annotations) should be the very last tool you go to when solving a problem.  I use it and love it, but it cancels out all the advantages of Java&#39;s static typing.  If you do need it, isolate it to as small an area as possible (One method or one class).  It&#39;s more acceptable to use it in tests than production code.   With annotations it should be fine--The main point is not to specify class or method names as &quot;Strings&quot; if you can possibly avoid it."},{"owner":{"account_id":5013,"reputation":14613,"user_id":7852,"accept_rate":74,"display_name":"givanse"},"score":2,"creation_date":1524263686,"post_id":37628,"comment_id":86917776,"body_markdown":"see also: https://softwareengineering.stackexchange.com/questions/123956/why-should-i-use-reflection","body":"see also: <a href=\"https://softwareengineering.stackexchange.com/questions/123956/why-should-i-use-reflection\" title=\"why should i use reflection\">softwareengineering.stackexchange.com/questions/123956/&hellip;</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":9,"creation_date":1542891776,"post_id":37628,"comment_id":93737016,"body_markdown":"In addition to @BillK&#39;s comment: Reflection is very powerful, I&#39;d call it magic. With great power comes great responsibility. Use it only if you know what you&#39;re doing.","body":"In addition to @BillK&#39;s comment: Reflection is very powerful, I&#39;d call it magic. With great power comes great responsibility. Use it only if you know what you&#39;re doing."},{"owner":{"account_id":5006,"reputation":12120,"user_id":7839,"accept_rate":96,"display_name":"Trap"},"score":0,"creation_date":1591839694,"post_id":37628,"comment_id":110211449,"body_markdown":"@BillK Why would someone use reflection over static typing if it wasn&#39;t for a good reason?","body":"@BillK Why would someone use reflection over static typing if it wasn&#39;t for a good reason?"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":3,"creation_date":1591995824,"post_id":37628,"comment_id":110276211,"body_markdown":"@Trap I don’t know, that’s why I was recommending against it—it’s really annoying when I run into reflection when there were other solutions available, or reflection that isn’t isolated to a very small, constrained and clearly documented area of the code.  But asking why programmers do what they do is beyond my ability to answer.","body":"@Trap I don’t know, that’s why I was recommending against it—it’s really annoying when I run into reflection when there were other solutions available, or reflection that isn’t isolated to a very small, constrained and clearly documented area of the code.  But asking why programmers do what they do is beyond my ability to answer."}],"answers":[{"tags":[],"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"down_vote_count":3,"up_vote_count":2012,"is_accepted":true,"score":2009,"last_activity_date":1583622532,"creation_date":1220258698,"answer_id":37632,"question_id":37628,"body_markdown":"The name reflection is used to describe code which is able to inspect other code in the same system (or itself).\r\n\r\nFor example, say you have an object of an unknown type in Java, and you would like to call a &#39;doSomething&#39; method on it if one exists. Java&#39;s static typing system isn&#39;t really designed to support this unless the object conforms to a known interface, but using reflection, your code can look at the object and find out if it has a method called &#39;doSomething&#39; and then call it if you want to.\r\n\r\nSo, to give you a code example of this in Java (imagine the object in question is foo) :\r\n\r\n    Method method = foo.getClass().getMethod(&quot;doSomething&quot;, null);\r\n    method.invoke(foo, null);\r\n\r\nOne very common use case in Java is the usage with annotations. JUnit 4, for example, will use reflection to look through your classes for methods tagged with the @Test annotation, and will then call them when running the unit test.\r\n\r\nThere are some good reflection examples to get you started at http://docs.oracle.com/javase/tutorial/reflect/index.html\r\n\r\nAnd finally, yes, the concepts are pretty much similar in other statically typed languages which support reflection (like C#). In dynamically typed languages, the use case described above is less necessary (since the compiler will allow any method to be called on any object, failing at runtime if it does not exist), but the second case of looking for methods which are marked or work in a certain way is still common.\r\n\r\n**Update from a comment:**\r\n\r\n&gt; The ability to inspect the code in the system and see object types is\r\n&gt; not reflection, but rather Type Introspection. Reflection is then the\r\n&gt; ability to make modifications at runtime by making use of\r\n&gt; introspection. The distinction is necessary here as some languages\r\n&gt; support introspection, but do not support reflection. One such example\r\n&gt; is C++\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/index.html","title":"What is reflection and why is it useful?","body":"<p>The name reflection is used to describe code which is able to inspect other code in the same system (or itself).</p>\n\n<p>For example, say you have an object of an unknown type in Java, and you would like to call a 'doSomething' method on it if one exists. Java's static typing system isn't really designed to support this unless the object conforms to a known interface, but using reflection, your code can look at the object and find out if it has a method called 'doSomething' and then call it if you want to.</p>\n\n<p>So, to give you a code example of this in Java (imagine the object in question is foo) :</p>\n\n<pre><code>Method method = foo.getClass().getMethod(\"doSomething\", null);\nmethod.invoke(foo, null);\n</code></pre>\n\n<p>One very common use case in Java is the usage with annotations. JUnit 4, for example, will use reflection to look through your classes for methods tagged with the @Test annotation, and will then call them when running the unit test.</p>\n\n<p>There are some good reflection examples to get you started at <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/reflect/index.html</a></p>\n\n<p>And finally, yes, the concepts are pretty much similar in other statically typed languages which support reflection (like C#). In dynamically typed languages, the use case described above is less necessary (since the compiler will allow any method to be called on any object, failing at runtime if it does not exist), but the second case of looking for methods which are marked or work in a certain way is still common.</p>\n\n<p><strong>Update from a comment:</strong></p>\n\n<blockquote>\n  <p>The ability to inspect the code in the system and see object types is\n  not reflection, but rather Type Introspection. Reflection is then the\n  ability to make modifications at runtime by making use of\n  introspection. The distinction is necessary here as some languages\n  support introspection, but do not support reflection. One such example\n  is C++</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1958,"reputation":51303,"user_id":2695,"accept_rate":85,"display_name":"Jorge C&#243;rdoba"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1585341443,"creation_date":1220259052,"answer_id":37634,"question_id":37628,"body_markdown":"Reflection is a set of functions which allows you to access the runtime information of your program and modify it behavior (with some limitations).\r\n\r\nIt&#39;s useful because it allows you to change the runtime behavior depending on the meta information of your program, that is, you can check the return type of a function and change the way you handle the situation.\r\n\r\nIn C# for example you can load an assembly (a .dll) in runtime an examine it, navigating through the classes and taking actions according to what you found. It also let you create an instance of a class on runtime, invoke its method, etc.\r\n\r\nWhere can it be useful? Is not useful every time but for concrete situations. For example you can use it to get the name of the class for logging purposes, to dynamically create handlers for events according to what&#39;s specified on a configuration file and so on...","title":"What is reflection and why is it useful?","body":"<p>Reflection is a set of functions which allows you to access the runtime information of your program and modify it behavior (with some limitations).</p>\n\n<p>It's useful because it allows you to change the runtime behavior depending on the meta information of your program, that is, you can check the return type of a function and change the way you handle the situation.</p>\n\n<p>In C# for example you can load an assembly (a .dll) in runtime an examine it, navigating through the classes and taking actions according to what you found. It also let you create an instance of a class on runtime, invoke its method, etc.</p>\n\n<p>Where can it be useful? Is not useful every time but for concrete situations. For example you can use it to get the name of the class for logging purposes, to dynamically create handlers for events according to what's specified on a configuration file and so on...</p>\n"},{"tags":[],"owner":{"account_id":2391,"reputation":36935,"user_id":3320,"accept_rate":100,"display_name":"Mendelt"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1602215614,"creation_date":1220259057,"answer_id":37635,"question_id":37628,"body_markdown":"Not every language supports reflection, but the principles are usually the same in languages that support it.\r\n\r\nReflection is the ability to &quot;reflect&quot; on the structure of your program. Or more concrete. To look at the objects and classes you have and programmatically get back information on the methods, fields, and interfaces they implement. You can also look at things like annotations.\r\n\r\nIt&#39;s useful in a lot of situations. Everywhere you want to be able to dynamically plug in classes into your code. Lots of object relational mappers use reflection to be able to instantiate objects from databases without knowing in advance what objects they&#39;re going to use. Plug-in architectures is another place where reflection is useful. Being able to dynamically load code and determine if there are types there that implement the right interface to use as a plugin is important in those situations.","title":"What is reflection and why is it useful?","body":"<p>Not every language supports reflection, but the principles are usually the same in languages that support it.</p>\n<p>Reflection is the ability to &quot;reflect&quot; on the structure of your program. Or more concrete. To look at the objects and classes you have and programmatically get back information on the methods, fields, and interfaces they implement. You can also look at things like annotations.</p>\n<p>It's useful in a lot of situations. Everywhere you want to be able to dynamically plug in classes into your code. Lots of object relational mappers use reflection to be able to instantiate objects from databases without knowing in advance what objects they're going to use. Plug-in architectures is another place where reflection is useful. Being able to dynamically load code and determine if there are types there that implement the right interface to use as a plugin is important in those situations.</p>\n"},{"tags":[],"owner":{"account_id":678,"reputation":10109,"user_id":890,"accept_rate":75,"display_name":"Liedman"},"down_vote_count":0,"up_vote_count":298,"is_accepted":false,"score":298,"last_activity_date":1453595815,"creation_date":1220259149,"answer_id":37638,"question_id":37628,"body_markdown":"&gt; **Reflection** is a language&#39;s ability to inspect and dynamically call classes, methods, attributes, etc. at runtime.\r\n\r\nFor example, all objects in Java have the method `getClass()`, which lets you determine the object&#39;s class even if you don&#39;t know it at compile time (e.g. if you declared it as an `Object`) - this might seem trivial, but such reflection is not possible in less dynamic languages such as `C++`. More advanced uses lets you list and call methods, constructors, etc.\r\n\r\nReflection is important since it lets you write programs that do not have to &quot;know&quot; everything at compile time, making them more dynamic, since they can be tied together at runtime. The code can be written against known interfaces, but the actual classes to be used can be instantiated using reflection from configuration files.\r\n\r\nLots of modern frameworks use reflection extensively for this very reason. Most other modern languages use reflection as well, and in scripting languages (such as Python) they are even more tightly integrated, since it feels more natural within the general programming model of those languages.","title":"What is reflection and why is it useful?","body":"<blockquote>\n  <p><strong>Reflection</strong> is a language's ability to inspect and dynamically call classes, methods, attributes, etc. at runtime.</p>\n</blockquote>\n\n<p>For example, all objects in Java have the method <code>getClass()</code>, which lets you determine the object's class even if you don't know it at compile time (e.g. if you declared it as an <code>Object</code>) - this might seem trivial, but such reflection is not possible in less dynamic languages such as <code>C++</code>. More advanced uses lets you list and call methods, constructors, etc.</p>\n\n<p>Reflection is important since it lets you write programs that do not have to \"know\" everything at compile time, making them more dynamic, since they can be tied together at runtime. The code can be written against known interfaces, but the actual classes to be used can be instantiated using reflection from configuration files.</p>\n\n<p>Lots of modern frameworks use reflection extensively for this very reason. Most other modern languages use reflection as well, and in scripting languages (such as Python) they are even more tightly integrated, since it feels more natural within the general programming model of those languages.</p>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1220261455,"creation_date":1220261455,"answer_id":37659,"question_id":37628,"body_markdown":"Reflection is a key mechanism to allow an application or framework to work with code that might not have even been written yet!\r\n\r\nTake for example your typical web.xml file. This will contain a list of servlet elements, which contain nested servlet-class elements. The servlet container will process the web.xml file, and create new a new instance of each servlet class through reflection.\r\n\r\nAnother example would be the Java API for XML Parsing [(JAXP)](http://en.wikipedia.org/wiki/Java_API_for_XML_Processing). Where an XML parser provider is &#39;plugged-in&#39; via well-known system properties, which are used to construct new instances through reflection.\r\n\r\nAnd finally, the most comprehensive example is [Spring](http://www.springframework.org/) which uses reflection to create its beans, and for its heavy use of proxies","title":"What is reflection and why is it useful?","body":"<p>Reflection is a key mechanism to allow an application or framework to work with code that might not have even been written yet!</p>\n\n<p>Take for example your typical web.xml file. This will contain a list of servlet elements, which contain nested servlet-class elements. The servlet container will process the web.xml file, and create new a new instance of each servlet class through reflection.</p>\n\n<p>Another example would be the Java API for XML Parsing <a href=\"http://en.wikipedia.org/wiki/Java_API_for_XML_Processing\" rel=\"noreferrer\">(JAXP)</a>. Where an XML parser provider is 'plugged-in' via well-known system properties, which are used to construct new instances through reflection.</p>\n\n<p>And finally, the most comprehensive example is <a href=\"http://www.springframework.org/\" rel=\"noreferrer\">Spring</a> which uses reflection to create its beans, and for its heavy use of proxies</p>\n"},{"tags":[],"owner":{"account_id":1787,"reputation":2297,"user_id":2453,"accept_rate":80,"display_name":"Ben Williams"},"down_vote_count":3,"up_vote_count":130,"is_accepted":false,"score":127,"last_activity_date":1548720502,"creation_date":1220372128,"answer_id":39918,"question_id":37628,"body_markdown":"One of my favorite uses of reflection is the below Java dump method. It takes any object as a parameter and uses the Java reflection API to print out every field name and value.\r\n\r\n    import java.lang.reflect.Array;\r\n    import java.lang.reflect.Field;\r\n    \r\n    public static String dump(Object o, int callCount) {\r\n        callCount++;\r\n        StringBuffer tabs = new StringBuffer();\r\n        for (int k = 0; k &lt; callCount; k++) {\r\n            tabs.append(&quot;\\t&quot;);\r\n        }\r\n        StringBuffer buffer = new StringBuffer();\r\n        Class oClass = o.getClass();\r\n        if (oClass.isArray()) {\r\n            buffer.append(&quot;\\n&quot;);\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;[&quot;);\r\n            for (int i = 0; i &lt; Array.getLength(o); i++) {\r\n                if (i &lt; 0)\r\n                    buffer.append(&quot;,&quot;);\r\n                Object value = Array.get(o, i);\r\n                if (value.getClass().isPrimitive() ||\r\n                        value.getClass() == java.lang.Long.class ||\r\n                        value.getClass() == java.lang.String.class ||\r\n                        value.getClass() == java.lang.Integer.class ||\r\n                        value.getClass() == java.lang.Boolean.class\r\n                        ) {\r\n                    buffer.append(value);\r\n                } else {\r\n                    buffer.append(dump(value, callCount));\r\n                }\r\n            }\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;]\\n&quot;);\r\n        } else {\r\n            buffer.append(&quot;\\n&quot;);\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;{\\n&quot;);\r\n            while (oClass != null) {\r\n                Field[] fields = oClass.getDeclaredFields();\r\n                for (int i = 0; i &lt; fields.length; i++) {\r\n                    buffer.append(tabs.toString());\r\n                    fields[i].setAccessible(true);\r\n                    buffer.append(fields[i].getName());\r\n                    buffer.append(&quot;=&quot;);\r\n                    try {\r\n                        Object value = fields[i].get(o);\r\n                        if (value != null) {\r\n                            if (value.getClass().isPrimitive() ||\r\n                                    value.getClass() == java.lang.Long.class ||\r\n                                    value.getClass() == java.lang.String.class ||\r\n                                    value.getClass() == java.lang.Integer.class ||\r\n                                    value.getClass() == java.lang.Boolean.class\r\n                                    ) {\r\n                                buffer.append(value);\r\n                            } else {\r\n                                buffer.append(dump(value, callCount));\r\n                            }\r\n                        }\r\n                    } catch (IllegalAccessException e) {\r\n                        buffer.append(e.getMessage());\r\n                    }\r\n                    buffer.append(&quot;\\n&quot;);\r\n                }\r\n                oClass = oClass.getSuperclass();\r\n            }\r\n            buffer.append(tabs.toString());\r\n            buffer.append(&quot;}\\n&quot;);\r\n        }\r\n        return buffer.toString();\r\n    }","title":"What is reflection and why is it useful?","body":"<p>One of my favorite uses of reflection is the below Java dump method. It takes any object as a parameter and uses the Java reflection API to print out every field name and value.</p>\n\n<pre><code>import java.lang.reflect.Array;\nimport java.lang.reflect.Field;\n\npublic static String dump(Object o, int callCount) {\n    callCount++;\n    StringBuffer tabs = new StringBuffer();\n    for (int k = 0; k &lt; callCount; k++) {\n        tabs.append(\"\\t\");\n    }\n    StringBuffer buffer = new StringBuffer();\n    Class oClass = o.getClass();\n    if (oClass.isArray()) {\n        buffer.append(\"\\n\");\n        buffer.append(tabs.toString());\n        buffer.append(\"[\");\n        for (int i = 0; i &lt; Array.getLength(o); i++) {\n            if (i &lt; 0)\n                buffer.append(\",\");\n            Object value = Array.get(o, i);\n            if (value.getClass().isPrimitive() ||\n                    value.getClass() == java.lang.Long.class ||\n                    value.getClass() == java.lang.String.class ||\n                    value.getClass() == java.lang.Integer.class ||\n                    value.getClass() == java.lang.Boolean.class\n                    ) {\n                buffer.append(value);\n            } else {\n                buffer.append(dump(value, callCount));\n            }\n        }\n        buffer.append(tabs.toString());\n        buffer.append(\"]\\n\");\n    } else {\n        buffer.append(\"\\n\");\n        buffer.append(tabs.toString());\n        buffer.append(\"{\\n\");\n        while (oClass != null) {\n            Field[] fields = oClass.getDeclaredFields();\n            for (int i = 0; i &lt; fields.length; i++) {\n                buffer.append(tabs.toString());\n                fields[i].setAccessible(true);\n                buffer.append(fields[i].getName());\n                buffer.append(\"=\");\n                try {\n                    Object value = fields[i].get(o);\n                    if (value != null) {\n                        if (value.getClass().isPrimitive() ||\n                                value.getClass() == java.lang.Long.class ||\n                                value.getClass() == java.lang.String.class ||\n                                value.getClass() == java.lang.Integer.class ||\n                                value.getClass() == java.lang.Boolean.class\n                                ) {\n                            buffer.append(value);\n                        } else {\n                            buffer.append(dump(value, callCount));\n                        }\n                    }\n                } catch (IllegalAccessException e) {\n                    buffer.append(e.getMessage());\n                }\n                buffer.append(\"\\n\");\n            }\n            oClass = oClass.getSuperclass();\n        }\n        buffer.append(tabs.toString());\n        buffer.append(\"}\\n\");\n    }\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1226118,"reputation":191,"user_id":1191613,"display_name":"pramod"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1364920206,"creation_date":1328506645,"answer_id":9155976,"question_id":37628,"body_markdown":"As per my understanding:\r\n\r\nReflection allows programmer to access entities in program dynamically. i.e. while coding an application if programmer is unaware about a class or its methods, he can make use of such class dynamically (at run time) by using reflection.\r\n\r\n\r\nIt is frequently used in scenarios where a class name changes frequently. If such a situation arises, then it is complicated for the programmer to rewrite the application and change the name of the class again and again.\r\n\r\nInstead, by using reflection, there is need to worry about a possibly changing class name.","title":"What is reflection and why is it useful?","body":"<p>As per my understanding:</p>\n\n<p>Reflection allows programmer to access entities in program dynamically. i.e. while coding an application if programmer is unaware about a class or its methods, he can make use of such class dynamically (at run time) by using reflection.</p>\n\n<p>It is frequently used in scenarios where a class name changes frequently. If such a situation arises, then it is complicated for the programmer to rewrite the application and change the name of the class again and again.</p>\n\n<p>Instead, by using reflection, there is need to worry about a possibly changing class name.</p>\n"},{"tags":[],"owner":{"account_id":1235179,"reputation":1372,"user_id":1198898,"display_name":"human.js"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1565794543,"creation_date":1340379355,"answer_id":11159447,"question_id":37628,"body_markdown":"**Example:**\r\n\r\nTake for example a remote application which gives your application an object which you obtain using their API Methods . Now based on the object you might need to perform some sort of computation . \r\n\r\nThe provider guarantees that object can be of 3 types and we need to perform computation based on what type of object .\r\n\r\nSo we might implement in 3 classes each containing a different logic .Obviously the object  information is available in runtime so you cannot statically code to perform computation hence reflection is used to instantiate the object of the class that you require to perform the computation based on the object received from the provider .","title":"What is reflection and why is it useful?","body":"<p><strong>Example:</strong></p>\n\n<p>Take for example a remote application which gives your application an object which you obtain using their API Methods . Now based on the object you might need to perform some sort of computation . </p>\n\n<p>The provider guarantees that object can be of 3 types and we need to perform computation based on what type of object .</p>\n\n<p>So we might implement in 3 classes each containing a different logic .Obviously the object  information is available in runtime so you cannot statically code to perform computation hence reflection is used to instantiate the object of the class that you require to perform the computation based on the object received from the provider .</p>\n"},{"tags":[],"owner":{"account_id":2619138,"reputation":598,"user_id":2267583,"accept_rate":100,"display_name":"Ess Kay"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1435038439,"creation_date":1367871388,"answer_id":16406534,"question_id":37628,"body_markdown":"`Reflection` has many **uses**. The one I am more familiar with, is to be able to create code on the fly. \r\n\r\n&gt; IE: dynamic classes, functions, constructors - based on any data\r\n&gt; (xml/array/sql results/hardcoded/etc..)","title":"What is reflection and why is it useful?","body":"<p><code>Reflection</code> has many <strong>uses</strong>. The one I am more familiar with, is to be able to create code on the fly. </p>\n\n<blockquote>\n  <p>IE: dynamic classes, functions, constructors - based on any data\n  (xml/array/sql results/hardcoded/etc..)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1974413,"reputation":546,"user_id":1772534,"display_name":"Nikhil Shekhar"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1373307933,"creation_date":1373299924,"answer_id":17531269,"question_id":37628,"body_markdown":"Reflection allows instantiation of new objects, invocation of methods, and get/set operations on class variables dynamically at run time without having prior knowledge of its implementation.\r\n\r\n\r\n    Class myObjectClass = MyObject.class;\r\n    Method[] method = myObjectClass.getMethods();\r\n    \r\n    //Here the method takes a string parameter if there is no param, put null.\r\n    Method method = aClass.getMethod(&quot;method_name&quot;, String.class); \r\n    \r\n    Object returnValue = method.invoke(null, &quot;parameter-value1&quot;);\r\n\r\nIn above example the null parameter is the object you want to invoke the method on. If the method is static you supply null. If the method is not static, then while invoking you need to supply a valid MyObject instance instead of null.\r\n\r\nReflection also allows you to access private member/methods of a class:\r\n\r\n\r\n    public class A{\r\n\r\n      private String str= null;\r\n\r\n      public A(String str) {\r\n      this.str= str;\r\n      }\r\n    }\r\n\r\n.\r\n\r\n    A obj= new A(&quot;Some value&quot;);\r\n\r\n    Field privateStringField = A.class.getDeclaredField(&quot;privateString&quot;);\r\n\r\n    //Turn off access check for this field\r\n    privateStringField.setAccessible(true);\r\n\r\n    String fieldValue = (String) privateStringField.get(obj);\r\n    System.out.println(&quot;fieldValue = &quot; + fieldValue);\r\n\r\n\r\n\r\n* For inspection of classes (also know as introspection) you don&#39;t need to import the reflection package (`java.lang.reflect`). Class metadata can be accessed through `java.lang.Class`.\r\n\r\nReflection is a very powerful API but it may slow down the application if used in excess, as it resolves all the types at runtime.","title":"What is reflection and why is it useful?","body":"<p>Reflection allows instantiation of new objects, invocation of methods, and get/set operations on class variables dynamically at run time without having prior knowledge of its implementation.</p>\n\n<pre><code>Class myObjectClass = MyObject.class;\nMethod[] method = myObjectClass.getMethods();\n\n//Here the method takes a string parameter if there is no param, put null.\nMethod method = aClass.getMethod(\"method_name\", String.class); \n\nObject returnValue = method.invoke(null, \"parameter-value1\");\n</code></pre>\n\n<p>In above example the null parameter is the object you want to invoke the method on. If the method is static you supply null. If the method is not static, then while invoking you need to supply a valid MyObject instance instead of null.</p>\n\n<p>Reflection also allows you to access private member/methods of a class:</p>\n\n<pre><code>public class A{\n\n  private String str= null;\n\n  public A(String str) {\n  this.str= str;\n  }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>A obj= new A(\"Some value\");\n\nField privateStringField = A.class.getDeclaredField(\"privateString\");\n\n//Turn off access check for this field\nprivateStringField.setAccessible(true);\n\nString fieldValue = (String) privateStringField.get(obj);\nSystem.out.println(\"fieldValue = \" + fieldValue);\n</code></pre>\n\n<ul>\n<li>For inspection of classes (also know as introspection) you don't need to import the reflection package (<code>java.lang.reflect</code>). Class metadata can be accessed through <code>java.lang.Class</code>.</li>\n</ul>\n\n<p>Reflection is a very powerful API but it may slow down the application if used in excess, as it resolves all the types at runtime.</p>\n"},{"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1440571084,"creation_date":1410169202,"answer_id":25721335,"question_id":37628,"body_markdown":"Java Reflection is quite powerful and can be very useful.\r\nJava Reflection makes it possible **to inspect classes, interfaces, fields and methods at runtime,** without knowing the names of the classes, methods etc. at compile time.\r\nIt is also possible to **instantiate new objects, invoke methods and get/set field values using reflection.**\r\n\r\n**A quick Java Reflection example to show you what using reflection looks like:**\r\n    \r\n    Method[] methods = MyObject.class.getMethods();\r\n        \r\n        for(Method method : methods){\r\n            System.out.println(&quot;method = &quot; + method.getName());\r\n        }\r\n\r\nThis example obtains the Class object from the class called MyObject. Using the class object the example gets a list of the methods in that class, iterates the methods and print out their names.\r\n\r\n[Exactly how all this works is explained here][1]\r\n\r\n**Edit**: After almost 1 year I am editing this answer as while reading about reflection I got few more uses of Reflection.\r\n\r\n - Spring uses bean configuration such as:\r\n\r\n&lt;br&gt;\r\n\r\n    &lt;bean id=&quot;someID&quot; class=&quot;com.example.Foo&quot;&gt;\r\n        &lt;property name=&quot;someField&quot; value=&quot;someValue&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen the Spring context processes this &lt; bean &gt; element, it will use Class.forName(String) with the argument &quot;com.example.Foo&quot; to instantiate that Class. \r\n\r\nIt will then again use reflection to get the appropriate setter for the &lt; property &gt; element and set its value to the specified value.\r\n\r\n - Junit uses Reflection especially for testing Private/Protected methods.\r\n\r\n\r\nFor Private methods,\r\n\r\n    Method method = targetClass.getDeclaredMethod(methodName, argClasses);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, argObjects);\r\n\r\nFor private fields,\r\n\r\n    Field field = targetClass.getDeclaredField(fieldName);\r\n    field.setAccessible(true);\r\n    field.set(object, value);\r\n\r\n  [1]: http://tutorials.jenkov.com/java-reflection/classes.html","title":"What is reflection and why is it useful?","body":"<p>Java Reflection is quite powerful and can be very useful.\nJava Reflection makes it possible <strong>to inspect classes, interfaces, fields and methods at runtime,</strong> without knowing the names of the classes, methods etc. at compile time.\nIt is also possible to <strong>instantiate new objects, invoke methods and get/set field values using reflection.</strong></p>\n\n<p><strong>A quick Java Reflection example to show you what using reflection looks like:</strong></p>\n\n<pre><code>Method[] methods = MyObject.class.getMethods();\n\n    for(Method method : methods){\n        System.out.println(\"method = \" + method.getName());\n    }\n</code></pre>\n\n<p>This example obtains the Class object from the class called MyObject. Using the class object the example gets a list of the methods in that class, iterates the methods and print out their names.</p>\n\n<p><a href=\"http://tutorials.jenkov.com/java-reflection/classes.html\" rel=\"noreferrer\">Exactly how all this works is explained here</a></p>\n\n<p><strong>Edit</strong>: After almost 1 year I am editing this answer as while reading about reflection I got few more uses of Reflection.</p>\n\n<ul>\n<li>Spring uses bean configuration such as:</li>\n</ul>\n\n<p><br></p>\n\n<pre><code>&lt;bean id=\"someID\" class=\"com.example.Foo\"&gt;\n    &lt;property name=\"someField\" value=\"someValue\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>When the Spring context processes this &lt; bean > element, it will use Class.forName(String) with the argument \"com.example.Foo\" to instantiate that Class. </p>\n\n<p>It will then again use reflection to get the appropriate setter for the &lt; property > element and set its value to the specified value.</p>\n\n<ul>\n<li>Junit uses Reflection especially for testing Private/Protected methods.</li>\n</ul>\n\n<p>For Private methods,</p>\n\n<pre><code>Method method = targetClass.getDeclaredMethod(methodName, argClasses);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, argObjects);\n</code></pre>\n\n<p>For private fields,</p>\n\n<pre><code>Field field = targetClass.getDeclaredField(fieldName);\nfield.setAccessible(true);\nfield.set(object, value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1657995606,"creation_date":1411251723,"answer_id":25953852,"question_id":37628,"body_markdown":"I just want to add some points to all that was listed.\r\n\r\nWith **Reflection API** you can write a universal `toString()` method for any object.\r\n\r\nIt could be useful for debugging.\r\n\r\nHere is some example:\r\n\r\n    class ObjectAnalyzer {\r\n\r\n       private ArrayList&lt;Object&gt; visited = new ArrayList&lt;Object&gt;();\r\n\r\n       /**\r\n        * Converts an object to a string representation that lists all fields.\r\n        * @param obj an object\r\n        * @return a string with the object&#39;s class name and all field names and\r\n        * values\r\n        */\r\n       public String toString(Object obj) {\r\n          if (obj == null) return &quot;null&quot;;\r\n          if (visited.contains(obj)) return &quot;...&quot;;\r\n          visited.add(obj);\r\n          Class cl = obj.getClass();\r\n          if (cl == String.class) return (String) obj;\r\n          if (cl.isArray()) {\r\n             String r = cl.getComponentType() + &quot;[]{&quot;;\r\n             for (int i = 0; i &lt; Array.getLength(obj); i++) {\r\n                if (i &gt; 0) r += &quot;,&quot;;\r\n                Object val = Array.get(obj, i);\r\n                if (cl.getComponentType().isPrimitive()) r += val;\r\n                else r += toString(val);\r\n             }\r\n             return r + &quot;}&quot;;\r\n          }\r\n    \r\n          String r = cl.getName();\r\n          // inspect the fields of this class and all superclasses\r\n          do {\r\n             r += &quot;[&quot;;\r\n             Field[] fields = cl.getDeclaredFields();\r\n             AccessibleObject.setAccessible(fields, true);\r\n             // get the names and values of all fields\r\n             for (Field f : fields) {\r\n                if (!Modifier.isStatic(f.getModifiers())) {\r\n                   if (!r.endsWith(&quot;[&quot;)) r += &quot;,&quot;;\r\n                   r += f.getName() + &quot;=&quot;;\r\n                   try {\r\n                      Class t = f.getType();\r\n                      Object val = f.get(obj);\r\n                      if (t.isPrimitive()) r += val;\r\n                      else r += toString(val);\r\n                   } catch (Exception e) {\r\n                      e.printStackTrace();\r\n                   }\r\n                }\r\n             }\r\n             r += &quot;]&quot;;\r\n             cl = cl.getSuperclass();\r\n          } while (cl != null);\r\n    \r\n          return r;\r\n       }    \r\n    }","title":"What is reflection and why is it useful?","body":"<p>I just want to add some points to all that was listed.</p>\n<p>With <strong>Reflection API</strong> you can write a universal <code>toString()</code> method for any object.</p>\n<p>It could be useful for debugging.</p>\n<p>Here is some example:</p>\n<pre><code>class ObjectAnalyzer {\n\n   private ArrayList&lt;Object&gt; visited = new ArrayList&lt;Object&gt;();\n\n   /**\n    * Converts an object to a string representation that lists all fields.\n    * @param obj an object\n    * @return a string with the object's class name and all field names and\n    * values\n    */\n   public String toString(Object obj) {\n      if (obj == null) return &quot;null&quot;;\n      if (visited.contains(obj)) return &quot;...&quot;;\n      visited.add(obj);\n      Class cl = obj.getClass();\n      if (cl == String.class) return (String) obj;\n      if (cl.isArray()) {\n         String r = cl.getComponentType() + &quot;[]{&quot;;\n         for (int i = 0; i &lt; Array.getLength(obj); i++) {\n            if (i &gt; 0) r += &quot;,&quot;;\n            Object val = Array.get(obj, i);\n            if (cl.getComponentType().isPrimitive()) r += val;\n            else r += toString(val);\n         }\n         return r + &quot;}&quot;;\n      }\n\n      String r = cl.getName();\n      // inspect the fields of this class and all superclasses\n      do {\n         r += &quot;[&quot;;\n         Field[] fields = cl.getDeclaredFields();\n         AccessibleObject.setAccessible(fields, true);\n         // get the names and values of all fields\n         for (Field f : fields) {\n            if (!Modifier.isStatic(f.getModifiers())) {\n               if (!r.endsWith(&quot;[&quot;)) r += &quot;,&quot;;\n               r += f.getName() + &quot;=&quot;;\n               try {\n                  Class t = f.getType();\n                  Object val = f.get(obj);\n                  if (t.isPrimitive()) r += val;\n                  else r += toString(val);\n               } catch (Exception e) {\n                  e.printStackTrace();\n               }\n            }\n         }\n         r += &quot;]&quot;;\n         cl = cl.getSuperclass();\n      } while (cl != null);\n\n      return r;\n   }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2422470,"reputation":1197,"user_id":2115148,"accept_rate":38,"display_name":"Desmond Smith"},"down_vote_count":1,"up_vote_count":101,"is_accepted":false,"score":100,"last_activity_date":1532452841,"creation_date":1413547173,"answer_id":26424561,"question_id":37628,"body_markdown":"**Uses of Reflection**\r\n\r\nReflection is commonly used by programs which require the ability to examine or modify the runtime behavior of applications running in the Java virtual machine. This is a relatively advanced feature and should be used only by developers who have a strong grasp of the fundamentals of the language. With that caveat in mind, reflection is a powerful technique and can enable applications to perform operations which would otherwise be impossible.\r\n\r\n**Extensibility Features**\r\n\r\nAn application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.\r\nClass Browsers and Visual Development Environments\r\nA class browser needs to be able to enumerate the members of classes. Visual development environments can benefit from making use of type information available in reflection to aid the developer in writing correct code.\r\nDebuggers and Test Tools\r\nDebuggers need to be able to examine private members in classes. Test harnesses can make use of reflection to systematically call a discoverable set APIs defined on a class, to ensure a high level of code coverage in a test suite.\r\n\r\n**Drawbacks of Reflection**\r\n\r\nReflection is powerful, but should not be used indiscriminately. If it is possible to perform an operation without using reflection, then it is preferable to avoid using it. The following concerns should be kept in mind when accessing code via reflection.\r\n\r\n - **Performance Overhead**\r\n\r\nBecause reflection involves types that are dynamically resolved, certain Java virtual machine optimizations cannot be performed. Consequently, reflective operations have slower performance than their non-reflective counterparts and should be avoided in sections of code which are called frequently in performance-sensitive applications.\r\n\r\n - **Security Restrictions**\r\n\r\n\r\nReflection requires a runtime permission which may not be present when running under a security manager. This is in an important consideration for code which has to run in a restricted security context, such as in an Applet.\r\n\r\n - **Exposure of Internals**\r\n\r\nSince reflection allows code to perform operations that would be illegal in non-reflective code, such as accessing private fields and methods, the use of reflection can result in unexpected side-effects, which may render code dysfunctional and may destroy portability. Reflective code breaks abstractions and therefore may change behavior with upgrades of the platform.\r\n\r\nsource: [The Reflection API][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/reflect/","title":"What is reflection and why is it useful?","body":"<p><strong>Uses of Reflection</strong></p>\n\n<p>Reflection is commonly used by programs which require the ability to examine or modify the runtime behavior of applications running in the Java virtual machine. This is a relatively advanced feature and should be used only by developers who have a strong grasp of the fundamentals of the language. With that caveat in mind, reflection is a powerful technique and can enable applications to perform operations which would otherwise be impossible.</p>\n\n<p><strong>Extensibility Features</strong></p>\n\n<p>An application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.\nClass Browsers and Visual Development Environments\nA class browser needs to be able to enumerate the members of classes. Visual development environments can benefit from making use of type information available in reflection to aid the developer in writing correct code.\nDebuggers and Test Tools\nDebuggers need to be able to examine private members in classes. Test harnesses can make use of reflection to systematically call a discoverable set APIs defined on a class, to ensure a high level of code coverage in a test suite.</p>\n\n<p><strong>Drawbacks of Reflection</strong></p>\n\n<p>Reflection is powerful, but should not be used indiscriminately. If it is possible to perform an operation without using reflection, then it is preferable to avoid using it. The following concerns should be kept in mind when accessing code via reflection.</p>\n\n<ul>\n<li><strong>Performance Overhead</strong></li>\n</ul>\n\n<p>Because reflection involves types that are dynamically resolved, certain Java virtual machine optimizations cannot be performed. Consequently, reflective operations have slower performance than their non-reflective counterparts and should be avoided in sections of code which are called frequently in performance-sensitive applications.</p>\n\n<ul>\n<li><strong>Security Restrictions</strong></li>\n</ul>\n\n<p>Reflection requires a runtime permission which may not be present when running under a security manager. This is in an important consideration for code which has to run in a restricted security context, such as in an Applet.</p>\n\n<ul>\n<li><strong>Exposure of Internals</strong></li>\n</ul>\n\n<p>Since reflection allows code to perform operations that would be illegal in non-reflective code, such as accessing private fields and methods, the use of reflection can result in unexpected side-effects, which may render code dysfunctional and may destroy portability. Reflective code breaks abstractions and therefore may change behavior with upgrades of the platform.</p>\n\n<p>source: <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">The Reflection API</a></p>\n"},{"tags":[],"owner":{"account_id":5281880,"reputation":318,"user_id":4216954,"display_name":"Isuru Jayakantha"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1565794585,"creation_date":1415248951,"answer_id":26771874,"question_id":37628,"body_markdown":"Simple example for reflection.\r\nIn a chess game, you do not know what will be moved by the user at run time. reflection can be used to call methods which are already implemented at run time:\r\n\r\n    public class Test {\r\n\r\n    \tpublic void firstMoveChoice(){\r\n    \t\tSystem.out.println(&quot;First Move&quot;);\r\n    \t} \r\n    \tpublic void secondMOveChoice(){\r\n    \t\tSystem.out.println(&quot;Second Move&quot;);\r\n    \t}\r\n    \tpublic void thirdMoveChoice(){\r\n    \t\tSystem.out.println(&quot;Third Move&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException { \r\n    \t\tTest test = new Test();\r\n    \t\tMethod[] method = test.getClass().getMethods();\r\n    \t\t//firstMoveChoice\r\n    \t\tmethod[0].invoke(test, null);\r\n    \t\t//secondMoveChoice\r\n    \t\tmethod[1].invoke(test, null);\r\n    \t\t//thirdMoveChoice\r\n    \t\tmethod[2].invoke(test, null);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"What is reflection and why is it useful?","body":"<p>Simple example for reflection.\nIn a chess game, you do not know what will be moved by the user at run time. reflection can be used to call methods which are already implemented at run time:</p>\n\n<pre><code>public class Test {\n\n    public void firstMoveChoice(){\n        System.out.println(\"First Move\");\n    } \n    public void secondMOveChoice(){\n        System.out.println(\"Second Move\");\n    }\n    public void thirdMoveChoice(){\n        System.out.println(\"Third Move\");\n    }\n\n    public static void main(String[] args) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException { \n        Test test = new Test();\n        Method[] method = test.getClass().getMethods();\n        //firstMoveChoice\n        method[0].invoke(test, null);\n        //secondMoveChoice\n        method[1].invoke(test, null);\n        //thirdMoveChoice\n        method[2].invoke(test, null);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2646261,"reputation":6033,"user_id":2288882,"accept_rate":52,"display_name":"Marcus Thornton"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1532452936,"creation_date":1449558139,"answer_id":34149864,"question_id":37628,"body_markdown":"Reflection is to let object to see their appearance. This argument seems nothing to do with reflection. In fact, this is the &quot;self-identify&quot; ability.\r\n\r\nReflection itself is a word for such languages that lack the capability of self-knowledge and self-sensing as Java and C#. Because they do not have the capability of self-knowledge, when we want to observe how it looks like, we must have another thing to reflect on how it looks like. Excellent dynamic languages such as Ruby and Python can perceive the reflection of their own without the help of other individuals. We can say that the object of Java cannot perceive how it looks like without a mirror, which is an object of the reflection class, but an object in Python can perceive it without a mirror. So that&#39;s why we need reflection in Java.\r\n","title":"What is reflection and why is it useful?","body":"<p>Reflection is to let object to see their appearance. This argument seems nothing to do with reflection. In fact, this is the \"self-identify\" ability.</p>\n\n<p>Reflection itself is a word for such languages that lack the capability of self-knowledge and self-sensing as Java and C#. Because they do not have the capability of self-knowledge, when we want to observe how it looks like, we must have another thing to reflect on how it looks like. Excellent dynamic languages such as Ruby and Python can perceive the reflection of their own without the help of other individuals. We can say that the object of Java cannot perceive how it looks like without a mirror, which is an object of the reflection class, but an object in Python can perceive it without a mirror. So that's why we need reflection in Java.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1457302964,"creation_date":1455366825,"answer_id":35379881,"question_id":37628,"body_markdown":"From java documentation [page][1]\r\n\r\n&gt;`java.lang.reflect` package provides classes and interfaces for obtaining reflective information about classes and objects. Reflection allows programmatic access to information about the fields, methods and constructors of loaded classes, and the use of reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.\r\n\r\n`AccessibleObject` allows suppression of access checks if the necessary `ReflectPermission` is available.\r\n\r\nClasses in this package, along with `java.lang.Class` accommodate applications such as debuggers, interpreters, object inspectors, class browsers, and services such as `Object Serialization` and `JavaBeans` that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class\r\n\r\nIt includes following functionality.\r\n\r\n1. Obtaining Class objects,\r\n2. Examining properties of a class (fields, methods, constructors),\r\n3. Setting and getting field values,\r\n4. Invoking methods,\r\n5. Creating new instances of objects.\r\n\r\nHave a look at this [documentation][2] link for the methods exposed by ***`Class`*** class.\r\n\r\nFrom this [article][3] (by Dennis Sosnoski, President, Sosnoski Software Solutions, Inc)  and this [article][4] (security-explorations pdf):\r\n\r\nI can see considerable drawbacks than uses of using Reflection\r\n\r\n***User of Reflection:***\r\n\r\n1. It provides very versatile way of dynamically linking program components\r\n2. It is useful for creating libraries that work with objects in very general ways\r\n\r\n***Drawbacks of Reflection:***\r\n\r\n1. Reflection is much slower than direct code when used for field and method access.\r\n2. It can obscure what&#39;s actually going on inside your code\r\n3. It bypasses the source code can create maintenance problems\r\n4. Reflection code is also more complex than the corresponding direct code\r\n5. It  allows violation of key Java security constraints such\r\nas data access protection and type safety\r\n\r\n\r\n***General abuses:***\r\n\r\n1. Loading of restricted classes,\r\n2. Obtaining references to constructors, methods or fields of a restricted class,\r\n3. Creation of new object instances, methods invocation, getting or setting field values of a restricted class.\r\n\r\nHave a look at this SE question regarding abuse of reflection feature:\r\n\r\nhttps://stackoverflow.com/questions/1196192/how-do-i-read-a-private-field-in-java\r\n\r\n\r\n**Summary:**\r\n\r\n*Insecure use of its functions conducted from within a system code can also easily lead to the compromise of a Java security mode*l. ***So use this feature sparingly***\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\r\n  [3]: http://www.ibm.com/developerworks/library/j-dyn0603/\r\n  [4]: http://www.security-explorations.com/materials/se-2012-01-report.pdf","title":"What is reflection and why is it useful?","body":"<p>From java documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html\" rel=\"noreferrer\">page</a></p>\n\n<blockquote>\n  <p><code>java.lang.reflect</code> package provides classes and interfaces for obtaining reflective information about classes and objects. Reflection allows programmatic access to information about the fields, methods and constructors of loaded classes, and the use of reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.</p>\n</blockquote>\n\n<p><code>AccessibleObject</code> allows suppression of access checks if the necessary <code>ReflectPermission</code> is available.</p>\n\n<p>Classes in this package, along with <code>java.lang.Class</code> accommodate applications such as debuggers, interpreters, object inspectors, class browsers, and services such as <code>Object Serialization</code> and <code>JavaBeans</code> that need access to either the public members of a target object (based on its runtime class) or the members declared by a given class</p>\n\n<p>It includes following functionality.</p>\n\n<ol>\n<li>Obtaining Class objects,</li>\n<li>Examining properties of a class (fields, methods, constructors),</li>\n<li>Setting and getting field values,</li>\n<li>Invoking methods,</li>\n<li>Creating new instances of objects.</li>\n</ol>\n\n<p>Have a look at this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"noreferrer\">documentation</a> link for the methods exposed by <strong><em><code>Class</code></em></strong> class.</p>\n\n<p>From this <a href=\"http://www.ibm.com/developerworks/library/j-dyn0603/\" rel=\"noreferrer\">article</a> (by Dennis Sosnoski, President, Sosnoski Software Solutions, Inc)  and this <a href=\"http://www.security-explorations.com/materials/se-2012-01-report.pdf\" rel=\"noreferrer\">article</a> (security-explorations pdf):</p>\n\n<p>I can see considerable drawbacks than uses of using Reflection</p>\n\n<p><strong><em>User of Reflection:</em></strong></p>\n\n<ol>\n<li>It provides very versatile way of dynamically linking program components</li>\n<li>It is useful for creating libraries that work with objects in very general ways</li>\n</ol>\n\n<p><strong><em>Drawbacks of Reflection:</em></strong></p>\n\n<ol>\n<li>Reflection is much slower than direct code when used for field and method access.</li>\n<li>It can obscure what's actually going on inside your code</li>\n<li>It bypasses the source code can create maintenance problems</li>\n<li>Reflection code is also more complex than the corresponding direct code</li>\n<li>It  allows violation of key Java security constraints such\nas data access protection and type safety</li>\n</ol>\n\n<p><strong><em>General abuses:</em></strong></p>\n\n<ol>\n<li>Loading of restricted classes,</li>\n<li>Obtaining references to constructors, methods or fields of a restricted class,</li>\n<li>Creation of new object instances, methods invocation, getting or setting field values of a restricted class.</li>\n</ol>\n\n<p>Have a look at this SE question regarding abuse of reflection feature:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1196192/how-do-i-read-a-private-field-in-java\">How do I read a private field in Java?</a></p>\n\n<p><strong>Summary:</strong></p>\n\n<p><em>Insecure use of its functions conducted from within a system code can also easily lead to the compromise of a Java security mode</em>l. <strong><em>So use this feature sparingly</em></strong></p>\n"},{"tags":[],"owner":{"account_id":3297520,"reputation":167,"user_id":2774441,"display_name":"saumik gupta"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1532452929,"creation_date":1461711289,"answer_id":36877237,"question_id":37628,"body_markdown":"Reflection gives you the ability to write more generic code. It allows you to create an object at runtime and call its method at runtime. Hence the program can be made highly parameterized. It also allows introspecting the object and class to detect its variables and method exposed to the outer world.","title":"What is reflection and why is it useful?","body":"<p>Reflection gives you the ability to write more generic code. It allows you to create an object at runtime and call its method at runtime. Hence the program can be made highly parameterized. It also allows introspecting the object and class to detect its variables and method exposed to the outer world.</p>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1490167628,"creation_date":1490167628,"answer_id":42945244,"question_id":37628,"body_markdown":"**Reflection** is an API which is used to examine or modify the behaviour of *methods, classes, interfaces* at runtime.\r\n\r\n 1. The required classes for reflection are provided under `java.lang.reflect package`.\r\n 2. Reflection gives us information about the class to which an object belongs and also the methods of that class which can be executed by using the object.\r\n 3. Through reflection we can invoke methods at runtime irrespective of the access specifier used with them.\r\n\r\nThe `java.lang` and `java.lang.reflect` packages provide classes for java reflection.\r\n\r\n**Reflection** can be used to get information about –\r\n\r\n 1. **Class** The `getClass()` method is used to get the name of the class to which an object belongs.\r\n\r\n 2. **Constructors** The `getConstructors()` method is used to get the public constructors of the class to which an object belongs.\r\n\r\n 3. **Methods** The `getMethods()` method is used to get the public methods of the class to which an objects belongs.\r\n\r\nThe **Reflection API** is mainly used in:\r\n\r\nIDE (Integrated Development Environment) e.g. Eclipse, MyEclipse, NetBeans etc.&lt;br&gt;\r\nDebugger and Test Tools etc.\r\n\r\n[![][1]][1]\r\n\r\n**Advantages of Using Reflection:**\r\n\r\n*Extensibility Features:* An application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.\r\n\r\n*Debugging and testing tools:* Debuggers use the property of reflection to examine private members on classes.\r\n \r\n\r\n**Drawbacks:**\r\n\r\n*Performance Overhead:* Reflective operations have slower performance than their non-reflective counterparts, and should be avoided in sections of code which are called frequently in performance-sensitive applications.\r\n\r\n*Exposure of Internals:* Reflective code breaks abstractions and therefore may change behaviour with upgrades of the platform.\r\n\r\n\r\nRef: [Java Reflection][2]  [javarevisited.blogspot.in][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zEXW5.png\r\n  [2]: http://www.geeksforgeeks.org/reflection-in-java/\r\n  [3]: http://javarevisited.blogspot.in/2012/05/how-to-access-private-field-and-method.html","title":"What is reflection and why is it useful?","body":"<p><strong>Reflection</strong> is an API which is used to examine or modify the behaviour of <em>methods, classes, interfaces</em> at runtime.</p>\n\n<ol>\n<li>The required classes for reflection are provided under <code>java.lang.reflect package</code>.</li>\n<li>Reflection gives us information about the class to which an object belongs and also the methods of that class which can be executed by using the object.</li>\n<li>Through reflection we can invoke methods at runtime irrespective of the access specifier used with them.</li>\n</ol>\n\n<p>The <code>java.lang</code> and <code>java.lang.reflect</code> packages provide classes for java reflection.</p>\n\n<p><strong>Reflection</strong> can be used to get information about –</p>\n\n<ol>\n<li><p><strong>Class</strong> The <code>getClass()</code> method is used to get the name of the class to which an object belongs.</p></li>\n<li><p><strong>Constructors</strong> The <code>getConstructors()</code> method is used to get the public constructors of the class to which an object belongs.</p></li>\n<li><p><strong>Methods</strong> The <code>getMethods()</code> method is used to get the public methods of the class to which an objects belongs.</p></li>\n</ol>\n\n<p>The <strong>Reflection API</strong> is mainly used in:</p>\n\n<p>IDE (Integrated Development Environment) e.g. Eclipse, MyEclipse, NetBeans etc.<br>\nDebugger and Test Tools etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zEXW5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zEXW5.png\" alt=\"\"></a></p>\n\n<p><strong>Advantages of Using Reflection:</strong></p>\n\n<p><em>Extensibility Features:</em> An application may make use of external, user-defined classes by creating instances of extensibility objects using their fully-qualified names.</p>\n\n<p><em>Debugging and testing tools:</em> Debuggers use the property of reflection to examine private members on classes.</p>\n\n<p><strong>Drawbacks:</strong></p>\n\n<p><em>Performance Overhead:</em> Reflective operations have slower performance than their non-reflective counterparts, and should be avoided in sections of code which are called frequently in performance-sensitive applications.</p>\n\n<p><em>Exposure of Internals:</em> Reflective code breaks abstractions and therefore may change behaviour with upgrades of the platform.</p>\n\n<p>Ref: <a href=\"http://www.geeksforgeeks.org/reflection-in-java/\" rel=\"noreferrer\">Java Reflection</a>  <a href=\"http://javarevisited.blogspot.in/2012/05/how-to-access-private-field-and-method.html\" rel=\"noreferrer\">javarevisited.blogspot.in</a></p>\n"},{"tags":[],"owner":{"account_id":5910752,"reputation":460,"user_id":4651104,"display_name":"Mohammed Sarfaraz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491704974,"creation_date":1491704974,"answer_id":43302409,"question_id":37628,"body_markdown":"As name itself suggest it reflects what it holds for example class method,etc apart from providing feature to invoke method creating instance dynamically at runtime.\n\nIt is used by many frameworks and application under the wood to invoke services without actually knowing the code. \n\n","title":"What is reflection and why is it useful?","body":"<p>As name itself suggest it reflects what it holds for example class method,etc apart from providing feature to invoke method creating instance dynamically at runtime.</p>\n\n<p>It is used by many frameworks and application under the wood to invoke services without actually knowing the code. </p>\n"},{"tags":[],"owner":{"account_id":4463542,"reputation":2889,"user_id":3631743,"accept_rate":81,"display_name":"BSeitkazin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543991757,"creation_date":1543991757,"answer_id":53626477,"question_id":37628,"body_markdown":"I want to answer this question by example. First of all `Hibernate` project uses `Reflection API` to generate `CRUD` statements to bridge the chasm between the running application and the persistence store. When things change in the domain, the `Hibernate` has to know about them to persist them to the data store and vice versa.\r\n\r\nAlternatively works `Lombok Project`. It just injects code at compile time, result in code being inserted into your domain classes. (I think it is OK for getters and setters)\r\n\r\n`Hibernate` chose `reflection` because it has minimal impact on the build process for an application.\r\n\r\nAnd from Java 7 we have `MethodHandles`, which works as `Reflection API`. In projects, to work with loggers we just copy-paste the next code:\r\n\r\n    Logger LOGGER = Logger.getLogger(MethodHandles.lookup().lookupClass().getName());\r\n\r\nBecause it is hard to make typo-error in this case. ","title":"What is reflection and why is it useful?","body":"<p>I want to answer this question by example. First of all <code>Hibernate</code> project uses <code>Reflection API</code> to generate <code>CRUD</code> statements to bridge the chasm between the running application and the persistence store. When things change in the domain, the <code>Hibernate</code> has to know about them to persist them to the data store and vice versa.</p>\n\n<p>Alternatively works <code>Lombok Project</code>. It just injects code at compile time, result in code being inserted into your domain classes. (I think it is OK for getters and setters)</p>\n\n<p><code>Hibernate</code> chose <code>reflection</code> because it has minimal impact on the build process for an application.</p>\n\n<p>And from Java 7 we have <code>MethodHandles</code>, which works as <code>Reflection API</code>. In projects, to work with loggers we just copy-paste the next code:</p>\n\n<pre><code>Logger LOGGER = Logger.getLogger(MethodHandles.lookup().lookupClass().getName());\n</code></pre>\n\n<p>Because it is hard to make typo-error in this case. </p>\n"},{"tags":[],"owner":{"account_id":1423626,"reputation":1591,"user_id":1347707,"accept_rate":100,"display_name":"cprn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561380711,"creation_date":1556271275,"answer_id":55864747,"question_id":37628,"body_markdown":"As I find it best to explain by example and none of the answers seem to do that...\r\n\r\nA practical example of using reflections would be a Java Language Server written in Java or a PHP Language Server written in PHP, etc. Language Server gives your IDE abilities like autocomplete, jump to definition, context help, hinting types and more. In order to have all tag names (words that can be autocompleted) to show all the possible matches as you type the Language Server has to inspect everything about the class including doc blocks and private members. For that it needs a reflection of said class.\r\n\r\nA different example would be a unit-test of a private method. One way to do so is to create a reflection and change the method&#39;s scope to public in the test&#39;s set-up phase. Of course one can argue private methods shouldn&#39;t be tested directly but that&#39;s not the point.","title":"What is reflection and why is it useful?","body":"<p>As I find it best to explain by example and none of the answers seem to do that...</p>\n\n<p>A practical example of using reflections would be a Java Language Server written in Java or a PHP Language Server written in PHP, etc. Language Server gives your IDE abilities like autocomplete, jump to definition, context help, hinting types and more. In order to have all tag names (words that can be autocompleted) to show all the possible matches as you type the Language Server has to inspect everything about the class including doc blocks and private members. For that it needs a reflection of said class.</p>\n\n<p>A different example would be a unit-test of a private method. One way to do so is to create a reflection and change the method's scope to public in the test's set-up phase. Of course one can argue private methods shouldn't be tested directly but that's not the point.</p>\n"},{"tags":[],"owner":{"account_id":5987036,"reputation":394,"user_id":4704305,"display_name":"RSG"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1637048911,"creation_date":1606172512,"answer_id":64977871,"question_id":37628,"body_markdown":"**IMPORTANT**\r\n\r\nStarting from Java 9 you can no longer use reflection, unless the package-info.java **opens** the module to reflection access.\r\n\r\nBy default, &quot;reflection&quot; access is denied to all packages in the module.\r\n\r\n\r\nSee [Understanding Java 9 Modules][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"What is reflection and why is it useful?","body":"<p><strong>IMPORTANT</strong></p>\n<p>Starting from Java 9 you can no longer use reflection, unless the package-info.java <strong>opens</strong> the module to reflection access.</p>\n<p>By default, &quot;reflection&quot; access is denied to all packages in the module.</p>\n<p>See <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules</a></p>\n"},{"tags":[],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640602325,"creation_date":1640602325,"answer_id":70494517,"question_id":37628,"body_markdown":"I am using reflection to create an object based on class name(class name in String) and call the method of that class \r\n\r\n    Object obj = Class.forName(config.getClassPath())\r\n\t\t\t\t\t\t.getDeclaredConstructor()\r\n\t\t\t\t\t\t.newInstance();\r\n\tMethod method = obj.getClass().getMethod(&quot;getCustomer&quot;, SearchObject.class, ObjectConfig.class,\r\n\t\t\t\t\tHttpServletRequest.class);\r\n    method.invoke(obj, searchObject, config, request);\r\n\r\nBut one major problem is that if you Autowired something on that class that will **re-initialized to null**","title":"What is reflection and why is it useful?","body":"<p>I am using reflection to create an object based on class name(class name in String) and call the method of that class</p>\n<pre><code>Object obj = Class.forName(config.getClassPath())\n                    .getDeclaredConstructor()\n                    .newInstance();\nMethod method = obj.getClass().getMethod(&quot;getCustomer&quot;, SearchObject.class, ObjectConfig.class,\n                HttpServletRequest.class);\nmethod.invoke(obj, searchObject, config, request);\n</code></pre>\n<p>But one major problem is that if you Autowired something on that class that will <strong>re-initialized to null</strong></p>\n"},{"tags":[],"owner":{"account_id":10852683,"reputation":159,"user_id":7979984,"display_name":"mucomoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686148817,"creation_date":1686148817,"answer_id":76424520,"question_id":37628,"body_markdown":"Reflection is when you need to get value from a variable but you don&#39;t know the type of the variable. How can you not know the type? For example, I have this method in one solution and I call it from another solution and those two solutions don&#39;t know the types between each other (but they can be referenced and used from each other, it can happen). When I say types I mean my own custom classes here. I can&#39;t pass an argument of certain class to that method in another solution because there I have no knowledge of the type (class). So, what do I do? I will use reflection! I will define a parameter of generic type T and use specific methods intended for it to get the values from the unknown type (class) at runtime.","title":"What is reflection and why is it useful?","body":"<p>Reflection is when you need to get value from a variable but you don't know the type of the variable. How can you not know the type? For example, I have this method in one solution and I call it from another solution and those two solutions don't know the types between each other (but they can be referenced and used from each other, it can happen). When I say types I mean my own custom classes here. I can't pass an argument of certain class to that method in another solution because there I have no knowledge of the type (class). So, what do I do? I will use reflection! I will define a parameter of generic type T and use specific methods intended for it to get the values from the unknown type (class) at runtime.</p>\n"},{"tags":[],"owner":{"account_id":28780885,"reputation":11,"user_id":22042536,"display_name":"parad0X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699274902,"creation_date":1699274902,"answer_id":77431205,"question_id":37628,"body_markdown":"If you want to have a sneek peek of the values in an Object, here&#39;s a fun implementation\r\n\r\n```java\r\n        Class&lt;?&gt; classes = exampleObject.getClass();\r\n        Field[] fields = classes.getDeclaredFields();\r\n        for (Field field: fields){\r\n            field.setAccessible(true);\r\n            Object value;\r\n            try {\r\n                value = field.get(exampleObject);\r\n            } catch (IllegalAccessException e){\r\n                throw new RuntimeException(e);\r\n            }\r\n            logger.info(&quot;exampleObject: &quot;+field.getName() + &quot; value: &quot;+value);\r\n        }\r\n```\r\nDon&#39;t forget to import this ```import java.lang.reflect.Field;``` package.","title":"What is reflection and why is it useful?","body":"<p>If you want to have a sneek peek of the values in an Object, here's a fun implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Class&lt;?&gt; classes = exampleObject.getClass();\n        Field[] fields = classes.getDeclaredFields();\n        for (Field field: fields){\n            field.setAccessible(true);\n            Object value;\n            try {\n                value = field.get(exampleObject);\n            } catch (IllegalAccessException e){\n                throw new RuntimeException(e);\n            }\n            logger.info(&quot;exampleObject: &quot;+field.getName() + &quot; value: &quot;+value);\n        }\n</code></pre>\n<p>Don't forget to import this <code>import java.lang.reflect.Field;</code> package.</p>\n"}],"owner":{"account_id":114,"reputation":47848,"user_id":142,"accept_rate":97,"display_name":"Lehane"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029351,"favorite_count":0,"down_vote_count":11,"up_vote_count":2548,"accepted_answer_id":37632,"answer_count":25,"score":2537,"last_activity_date":1699274902,"creation_date":1220258361,"question_id":37628,"body_markdown":"What is reflection, and why is it useful?\r\n\r\nI&#39;m particularly interested in Java, but I assume the principles are the same in any language.","title":"What is reflection and why is it useful?","body":"<p>What is reflection, and why is it useful?</p>\n<p>I'm particularly interested in Java, but I assume the principles are the same in any language.</p>\n"},{"tags":["java","wsdl","cxf","wsdl2java"],"owner":{"account_id":7968779,"reputation":43,"user_id":6014205,"display_name":"Bj&#246;rn Bause-Engel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699274787,"creation_date":1699274787,"question_id":77431190,"body_markdown":"I am trying to generate a client from a wsdl with apache cxf. But it fails with the message:\r\n\r\n```\r\nPart &lt;request&gt; in Message &lt;{[...]/wsdl}[...]auftrag&gt; referenced Type &lt;{http://www.w3.org/2001/XMLSchema}any&gt; can not be found in the schemas\r\n```\r\n\r\nFrom the wsdl:\r\n\r\n```\r\n    &lt;wsdl:operation name=&quot;[...]&quot;&gt;\r\n      &lt;wsdl:input message=&quot;nass:[...]auftrag&quot;/&gt;\r\n      &lt;wsdl:output message=&quot;nass:[...]ergebnis&quot;/&gt;\r\n      &lt;wsdl:fault name=&quot;exception&quot; message=&quot;xs:any&quot;/&gt;\r\n    &lt;/wsdl:operation&gt;\r\n```\r\n\r\nI tried to change the message type to something else, but it doesn&#39;t work.\r\n\r\nI am using apache cxf 3.6.2.","title":"CXF-Client generation fails with referenced Type can not be found in the schemas","body":"<p>I am trying to generate a client from a wsdl with apache cxf. But it fails with the message:</p>\n<pre><code>Part &lt;request&gt; in Message &lt;{[...]/wsdl}[...]auftrag&gt; referenced Type &lt;{http://www.w3.org/2001/XMLSchema}any&gt; can not be found in the schemas\n</code></pre>\n<p>From the wsdl:</p>\n<pre><code>    &lt;wsdl:operation name=&quot;[...]&quot;&gt;\n      &lt;wsdl:input message=&quot;nass:[...]auftrag&quot;/&gt;\n      &lt;wsdl:output message=&quot;nass:[...]ergebnis&quot;/&gt;\n      &lt;wsdl:fault name=&quot;exception&quot; message=&quot;xs:any&quot;/&gt;\n    &lt;/wsdl:operation&gt;\n</code></pre>\n<p>I tried to change the message type to something else, but it doesn't work.</p>\n<p>I am using apache cxf 3.6.2.</p>\n"},{"tags":["java","openapi","springdoc-openapi-ui","springdoc-openui"],"comments":[{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1669811503,"post_id":70789190,"comment_id":131727057,"body_markdown":"Is there a way to achieve something similar using the Quarkus-based rest application? I tried to achieve something similar for my quarkus-based application but could not get anything. Please find my question here: https://stackoverflow.com/q/74627820/7584240","body":"Is there a way to achieve something similar using the Quarkus-based rest application? I tried to achieve something similar for my quarkus-based application but could not get anything. Please find my question here: <a href=\"https://stackoverflow.com/q/74627820/7584240\">stackoverflow.com/q/74627820/7584240</a>"}],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1642768677,"creation_date":1642768677,"answer_id":70801397,"question_id":70789190,"body_markdown":"try either:\r\n\r\n```\r\nspringdoc.swagger-ui.tagsSorter: alpha\r\n```\r\n\r\n```\r\nspringdoc.writer-with-order-by-keys: true\r\n```\r\n\r\nhttps://springdoc.org/properties.html","title":"How do I control tag order in Springdoc OpenAPI 3.0?","body":"<p>try either:</p>\n<pre><code>springdoc.swagger-ui.tagsSorter: alpha\n</code></pre>\n<pre><code>springdoc.writer-with-order-by-keys: true\n</code></pre>\n<p><a href=\"https://springdoc.org/properties.html\" rel=\"noreferrer\">https://springdoc.org/properties.html</a></p>\n"},{"tags":[],"owner":{"account_id":3092852,"reputation":113,"user_id":2618629,"display_name":"Xogaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699274536,"creation_date":1699273356,"answer_id":77431064,"question_id":70789190,"body_markdown":"If you want to control the order programmatically, you can also try the following (rather crude, but effective) approach:\r\n\r\n````java\r\n@Configuration\r\n@OpenAPIDefinition\r\npublic class OpenApiConfiguration {\r\n\r\n  @Bean\r\n  public GroupedOpenApi.Builder myAPIBuilder() {\r\n      return GroupedOpenApi.builder()\r\n              .group(&quot;My Group&quot;)\r\n              .addOpenApiCustomizer(openApi -&gt; {\r\n\r\n                  // change order of tags\r\n                  Tag[] reordered = new Tag[10];\r\n                  openApi.getTags().forEach(tg -&gt; {\r\n                      if(tg.getName().equalsIgnoreCase(&quot;Paginated Endpoints&quot;)) reordered[0] = tg;\r\n                      if(tg.getName().equalsIgnoreCase(&quot;User Access&quot;)) reordered[1] = tg;\r\n                      if(tg.getName().equalsIgnoreCase(&quot;Tagging&quot;)) reordered[2] = tg;\r\n                      // and so on\r\n                  });\r\n                  openApi.tags(Arrays.asList(reordered));\r\n              })\r\n              .pathsToMatch(&quot;/api/**&quot;);\r\n  }\r\n} \r\n````","title":"How do I control tag order in Springdoc OpenAPI 3.0?","body":"<p>If you want to control the order programmatically, you can also try the following (rather crude, but effective) approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@OpenAPIDefinition\npublic class OpenApiConfiguration {\n\n  @Bean\n  public GroupedOpenApi.Builder myAPIBuilder() {\n      return GroupedOpenApi.builder()\n              .group(&quot;My Group&quot;)\n              .addOpenApiCustomizer(openApi -&gt; {\n\n                  // change order of tags\n                  Tag[] reordered = new Tag[10];\n                  openApi.getTags().forEach(tg -&gt; {\n                      if(tg.getName().equalsIgnoreCase(&quot;Paginated Endpoints&quot;)) reordered[0] = tg;\n                      if(tg.getName().equalsIgnoreCase(&quot;User Access&quot;)) reordered[1] = tg;\n                      if(tg.getName().equalsIgnoreCase(&quot;Tagging&quot;)) reordered[2] = tg;\n                      // and so on\n                  });\n                  openApi.tags(Arrays.asList(reordered));\n              })\n              .pathsToMatch(&quot;/api/**&quot;);\n  }\n} \n</code></pre>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7619,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70801397,"answer_count":2,"score":5,"last_activity_date":1699274536,"creation_date":1642693351,"question_id":70789190,"body_markdown":"I&#39;m switching from Springfox 3.0 to OpenAPI 3.0 + Springdoc-openapi.  \r\nIn Springfox the tag order is alphabetical, but in Springdoc&#39;s Swagger UI, the order appears to be random.\r\n\r\nHow do I control the Tag order on the UI?\r\nI&#39;d prefer an ordering of my choosing, but would be OK with ordering alphabetically by tag name.\r\n\r\n```java\r\n@Tag(name = MY_CONTROLLER_TAG_NAME, description = MY_CONTROLLER_TAG_DESC)\r\npublic class MyController {\r\n```\r\n\r\n### Desired Order:\r\n* Paginated Endpoints\r\n* User Access\r\n* Tagging\r\n* Tagging - Admin\r\n* User Management\r\n* User Management - Admin\r\n\r\n### Actual Order:\r\n* User Access\r\n* Tagging\r\n* Paginated Endpoints\r\n* Tagging - Admin\r\n* User Management - Admin\r\n* User Management\r\n\r\n### POM Dependencies:\r\n```xml\r\n\t\t&lt;springdoc-openapi.version&gt;1.6.4&lt;/springdoc-openapi.version&gt;\r\n...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n### Application.yml:\r\n```yaml\r\nspringdoc:\r\n  show-actuator: ${SWAGGER_ENABLED:true}\r\n  swagger-ui:\r\n    doc-expansion: none\r\n  api-docs:\r\n    enabled: ${SWAGGER_ENABLED:true}\r\n  model-converters:\r\n    pageable-converter:\r\n      enabled: true\r\n```","title":"How do I control tag order in Springdoc OpenAPI 3.0?","body":"<p>I'm switching from Springfox 3.0 to OpenAPI 3.0 + Springdoc-openapi.<br />\nIn Springfox the tag order is alphabetical, but in Springdoc's Swagger UI, the order appears to be random.</p>\n<p>How do I control the Tag order on the UI?\nI'd prefer an ordering of my choosing, but would be OK with ordering alphabetically by tag name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Tag(name = MY_CONTROLLER_TAG_NAME, description = MY_CONTROLLER_TAG_DESC)\npublic class MyController {\n</code></pre>\n<h3>Desired Order:</h3>\n<ul>\n<li>Paginated Endpoints</li>\n<li>User Access</li>\n<li>Tagging</li>\n<li>Tagging - Admin</li>\n<li>User Management</li>\n<li>User Management - Admin</li>\n</ul>\n<h3>Actual Order:</h3>\n<ul>\n<li>User Access</li>\n<li>Tagging</li>\n<li>Paginated Endpoints</li>\n<li>Tagging - Admin</li>\n<li>User Management - Admin</li>\n<li>User Management</li>\n</ul>\n<h3>POM Dependencies:</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;springdoc-openapi.version&gt;1.6.4&lt;/springdoc-openapi.version&gt;\n...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc-openapi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<h3>Application.yml:</h3>\n<pre class=\"lang-yaml prettyprint-override\"><code>springdoc:\n  show-actuator: ${SWAGGER_ENABLED:true}\n  swagger-ui:\n    doc-expansion: none\n  api-docs:\n    enabled: ${SWAGGER_ENABLED:true}\n  model-converters:\n    pageable-converter:\n      enabled: true\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":2,"creation_date":1699040528,"post_id":77419251,"comment_id":136485998,"body_markdown":"It seems like that the method that is testing your code is expecting a certain format in your output. You should share the test method too.","body":"It seems like that the method that is testing your code is expecting a certain format in your output. You should share the test method too."},{"owner":{"account_id":16621987,"reputation":217,"user_id":12012015,"display_name":"ADSquared"},"score":2,"creation_date":1699040696,"post_id":77419251,"comment_id":136486032,"body_markdown":"Your ouput format is wrong. The program is expecting a certain format and type it seems. You are passing in strings &quot;0g Mehl, 0g Zucker, 0 Ei(er)&quot; and it&#39;s expecting 0. Either grams are unessary or you are doing something wrong but without the testing code there is nothing we can help you with.","body":"Your ouput format is wrong. The program is expecting a certain format and type it seems. You are passing in strings &quot;0g Mehl, 0g Zucker, 0 Ei(er)&quot; and it&#39;s expecting 0. Either grams are unessary or you are doing something wrong but without the testing code there is nothing we can help you with."},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699041483,"post_id":77419251,"comment_id":136486170,"body_markdown":"@ADSquared I have no access to the testing code - I don&#39;t know it. Only the information in my post is available to me. The output should show how many cakes can be baked with the quantity available to the user. In addition, the remaining amount per ingredient should be displayed (as in the example in the post).","body":"@ADSquared I have no access to the testing code - I don&#39;t know it. Only the information in my post is available to me. The output should show how many cakes can be baked with the quantity available to the user. In addition, the remaining amount per ingredient should be displayed (as in the example in the post)."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1699042678,"post_id":77419251,"comment_id":136486342,"body_markdown":"The best solution for this is using matrices and linear algebra.","body":"The best solution for this is using matrices and linear algebra."},{"owner":{"account_id":7098080,"reputation":930,"user_id":5430811,"accept_rate":83,"display_name":"Semaphor"},"score":0,"creation_date":1699042786,"post_id":77419251,"comment_id":136486360,"body_markdown":"For me it seems, that the english output is coming from the test code. How do you execute the test? Without knowing anything from the test code its impossible to say whats happening here.","body":"For me it seems, that the english output is coming from the test code. How do you execute the test? Without knowing anything from the test code its impossible to say whats happening here."},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699043796,"post_id":77419251,"comment_id":136486498,"body_markdown":"@Semaphor: The test will be executed by the online program in which I have to program this (I am working on the introduction to java) - with the given information it should be possible to write a program as simple as mine, which fulfils the test. I don&#39;t know what I&#39;m doing wrong and the test only gives me information about the error message.  (In my opinion, the output in my programme is the same as in the given example)","body":"@Semaphor: The test will be executed by the online program in which I have to program this (I am working on the introduction to java) - with the given information it should be possible to write a program as simple as mine, which fulfils the test. I don&#39;t know what I&#39;m doing wrong and the test only gives me information about the error message.  (In my opinion, the output in my programme is the same as in the given example)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699045657,"post_id":77419251,"comment_id":136486786,"body_markdown":"But, I agree with the first two comments. The automated judge is expecting your output in a certain format, and your output format doesn&#39;t comply. It looks like the test case actually used 3 zeroes for input. Do you have documentation on the expected output?","body":"But, I agree with the first two comments. The automated judge is expecting your output in a certain format, and your output format doesn&#39;t comply. It looks like the test case actually used 3 zeroes for input. Do you have documentation on the expected output?"},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699046380,"post_id":77419251,"comment_id":136486885,"body_markdown":"@OldDogProgrammer The output should be how many cakes you can bake and how much flour, sugar and eggs are left over (I think based on the given example and the task!!).\n\nThis is the second programme I&#39;ve written and the test drove me crazy with the first one too, because you don&#39;t really know what you&#39;re doing wrong when no more syntax errors occur.","body":"@OldDogProgrammer The output should be how many cakes you can bake and how much flour, sugar and eggs are left over (I think based on the given example and the task!!).  This is the second programme I&#39;ve written and the test drove me crazy with the first one too, because you don&#39;t really know what you&#39;re doing wrong when no more syntax errors occur."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699047008,"post_id":77419251,"comment_id":136486956,"body_markdown":"the problem description (at least as posted here) is also very confusing - starting in English, switching to German. The posted code apparently is doing exactly as required by the **posted**, but edited, description... it would be *wise* to have the original text posted, specially regarding the output format (including line breaks and indentation)","body":"the problem description (at least as posted here) is also very confusing - starting in English, switching to German. The posted code apparently is doing exactly as required by the <b>posted</b>, but edited, description... it would be <i>wise</i> to have the original text posted, specially regarding the output format (including line breaks and indentation)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699047412,"post_id":77419251,"comment_id":136486995,"body_markdown":"Also not sure if it is expected to output a prompt for each input value... as shown in the Example, but missing in code","body":"Also not sure if it is expected to output a prompt for each input value... as shown in the Example, but missing in code"},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699048095,"post_id":77419251,"comment_id":136487061,"body_markdown":"@user85421 This is the original problem description. To output a prompt for each unput value I have already tried - it does not change the error message!","body":"@user85421 This is the original problem description. To output a prompt for each unput value I have already tried - it does not change the error message!"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699048729,"post_id":77419251,"comment_id":136487124,"body_markdown":"But, *how* is the output to be presented? i.e.,  *in what format* ? The automated judge might what the output to be like this:  &quot;0 0 0 0&quot;. Or like this: &quot;Cakes: 0. Leftovers: Flour: 0. Sugar: 0. Eggs: 0&quot; Or like this: &quot;0 Cakes, with 0 Flour, 0 Sugar, 0 Eggs leftover.&quot; To solve this, you have to know the requirements of the automated judge.  An automated judge can be thrown off by something small, like using a `,` instead of a `.`.","body":"But, <i>how</i> is the output to be presented? i.e.,  <i>in what format</i> ? The automated judge might what the output to be like this:  &quot;0 0 0 0&quot;. Or like this: &quot;Cakes: 0. Leftovers: Flour: 0. Sugar: 0. Eggs: 0&quot; Or like this: &quot;0 Cakes, with 0 Flour, 0 Sugar, 0 Eggs leftover.&quot; To solve this, you have to know the requirements of the automated judge.  An automated judge can be thrown off by something small, like using a <code>,</code> instead of a <code>.</code>."},{"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"score":0,"creation_date":1699049047,"post_id":77419251,"comment_id":136487148,"body_markdown":"@OldDogProgrammer: &quot;(Anzahl der Kuchen =) Amount of Cakes:&quot; and &quot;Rest: ...g flour, ...g sugar, ...eggs&quot; - depending on user input (I interpret from the example)","body":"@OldDogProgrammer: &quot;(Anzahl der Kuchen =) Amount of Cakes:&quot; and &quot;Rest: ...g flour, ...g sugar, ...eggs&quot; - depending on user input (I interpret from the example)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699049469,"post_id":77419251,"comment_id":136487187,"body_markdown":"I see at least one edit changing posted text - the numbers of your result are correct (I mean with ZERO input, output must be all ZERO) , so the problem must be formatting - probably including language! In other words, I suspect the output must be the exact same text as expected by the program that is testing it (no intelligence involved, just a string compare - every bit counts)","body":"I see at least one edit changing posted text - the numbers of your result are correct (I mean with ZERO input, output must be all ZERO) , so the problem must be formatting - probably including language! In other words, I suspect the output must be the exact same text as expected by the program that is testing it (no intelligence involved, just a string compare - every bit counts)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699049547,"post_id":77419251,"comment_id":136487191,"body_markdown":"What example? The example shown comes from your code, which fails to pass the automated judge. Show us output from an example that passed, possibly from another student, or a page describing the assignment. Or, check with your professor / teacher as to how the output should be formatted.","body":"What example? The example shown comes from your code, which fails to pass the automated judge. Show us output from an example that passed, possibly from another student, or a page describing the assignment. Or, check with your professor / teacher as to how the output should be formatted."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699049724,"post_id":77419251,"comment_id":136487205,"body_markdown":"Off-Topic: Avoiding problems like this is one reason programming practice / challenge sites often require users to code a method that returns an array, list, or other data structure.","body":"Off-Topic: Avoiding problems like this is one reason programming practice / challenge sites often require users to code a method that returns an array, list, or other data structure."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699049896,"post_id":77419251,"comment_id":136487226,"body_markdown":"quoting the test result: &quot;Output does not match the **expected format**&quot; (emphasis added) - unfortunately it does not tell what output format is expected","body":"quoting the test result: &quot;Output does not match the <b>expected format</b>&quot; (emphasis added) - unfortunately it does not tell what output format is expected"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1699043614,"creation_date":1699043614,"answer_id":77419560,"question_id":77419251,"body_markdown":"Deduct _200_, _100_, and _2_, from your input-values, until one is _lesser-than_, or _equal-to_, _0_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nint a = in.nextInt(), b = in.nextInt(), c = in.nextInt(), x = 0;\r\nwhile (a &gt;= 200 &amp;&amp; b &gt;= 100 &amp;&amp; c &gt;= 2) {\r\n    x++;\r\n    a -= 200;\r\n    b -= 100;\r\n    c -= 2;\r\n}\r\n```","title":"How many cakes can be baked with the given ingredients (java)","body":"<p>Deduct <em>200</em>, <em>100</em>, and <em>2</em>, from your input-values, until one is <em>lesser-than</em>, or <em>equal-to</em>, <em>0</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nint a = in.nextInt(), b = in.nextInt(), c = in.nextInt(), x = 0;\nwhile (a &gt;= 200 &amp;&amp; b &gt;= 100 &amp;&amp; c &gt;= 2) {\n    x++;\n    a -= 200;\n    b -= 100;\n    c -= 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699274531,"creation_date":1699124714,"answer_id":77423462,"question_id":77419251,"body_markdown":"  I have now solved my problem with the following code (by a lot of trial and error):\r\n\r\n    package einfprog;\r\n\r\n    public class Bsp02 {\r\n    public static void main(String[] args) {\r\n        // TODO: Implement.\r\n        SavitchIn in = new SavitchIn();\r\n        \r\n        // Zutatenmengen pro Kuchen\r\n        int mehlProKuchen = 200;\r\n        int zuckerProKuchen = 100;\r\n        int eierProKuchen = 2;\r\n\r\n        System.out.print(&quot;? Mehl: &quot;);\r\n        int verfuegbaresMehl = in.readInt();\r\n        System.out.print(&quot;? Zucker: &quot;);\r\n        int verfuegbarerZucker = in.readInt();\r\n        System.out.print(&quot;? Eier: &quot;);\r\n        int verfuegbareEier = in.readInt();\r\n\r\n        // Anzahl der Kuchen\r\n        int anzahlKuchen = Math.min(\r\n            verfuegbaresMehl / mehlProKuchen,\r\n            Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\r\n        );\r\n\r\n        // Rest\r\n        int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\r\n        int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\r\n        int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\r\n\r\n        System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\r\n        System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\r\n    }\r\n}\r\n\r\nSo the error was that it is expected to output a prompt for each input value, which I solved with\r\n\r\n    System.out.print(&quot;? Mehl: &quot;);\r\n    int verfuegbaresMehl = in.readInt();\r\n    System.out.print(&quot;? Zucker: &quot;);\r\n    int verfuegbarerZucker = in.readInt();\r\n    System.out.print(&quot;? Eier: &quot;);\r\n    int verfuegbareEier = in.readInt();\r\n\r\nThanks for the helpful comments","title":"How many cakes can be baked with the given ingredients (java)","body":"<p>I have now solved my problem with the following code (by a lot of trial and error):</p>\n<pre><code>package einfprog;\n\npublic class Bsp02 {\npublic static void main(String[] args) {\n    // TODO: Implement.\n    SavitchIn in = new SavitchIn();\n    \n    // Zutatenmengen pro Kuchen\n    int mehlProKuchen = 200;\n    int zuckerProKuchen = 100;\n    int eierProKuchen = 2;\n\n    System.out.print(&quot;? Mehl: &quot;);\n    int verfuegbaresMehl = in.readInt();\n    System.out.print(&quot;? Zucker: &quot;);\n    int verfuegbarerZucker = in.readInt();\n    System.out.print(&quot;? Eier: &quot;);\n    int verfuegbareEier = in.readInt();\n\n    // Anzahl der Kuchen\n    int anzahlKuchen = Math.min(\n        verfuegbaresMehl / mehlProKuchen,\n        Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\n    );\n\n    // Rest\n    int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\n    int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\n    int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\n\n    System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\n    System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>So the error was that it is expected to output a prompt for each input value, which I solved with</p>\n<pre><code>System.out.print(&quot;? Mehl: &quot;);\nint verfuegbaresMehl = in.readInt();\nSystem.out.print(&quot;? Zucker: &quot;);\nint verfuegbarerZucker = in.readInt();\nSystem.out.print(&quot;? Eier: &quot;);\nint verfuegbareEier = in.readInt();\n</code></pre>\n<p>Thanks for the helpful comments</p>\n"}],"owner":{"account_id":29672475,"reputation":5,"user_id":22787452,"display_name":"Euler007"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1699274531,"creation_date":1699039646,"question_id":77419251,"body_markdown":"&gt;Write a programme that calculates how many cakes can be baked with a given amount of ingredients. For the sake of simplicity, we will use the following basic recipe:\r\n&gt;\r\n&gt;Required ingredient quantities per cake:\r\n&gt;\r\n&gt;Flour (in g): 200  \r\n&gt;Sugar (in g): 100  \r\nEggs (pieces): 2  \r\nThe user is asked to enter the available quantity of the respective ingredients (in whole numbers). The system should then display how many cakes can be baked with this quantity. In addition, the remaining amount per ingredient should be displayed.\r\n&gt;\r\n&gt;Example:\r\n&gt;\r\n&gt;? Mehl: 1000  \r\n&gt;? Zucker: 400  \r\n&gt;? Eier: 7  \r\n&gt; Anzahl der Kuchen: 3  \r\n&gt; Rest: 400g Mehl, 100g Zucker, 1 Ei(er)  \r\n\r\nI have now written the following programme:\r\n\r\nflour=Mehl; sugar=Zucker; eggs=Eier\r\n\r\n    \r\n```\r\npackage einfprog;\r\n\r\npublic class Bsp02 {\r\n    public static void main(String[] args) {\r\n        // TODO: Implement.\r\n        SavitchIn in = new SavitchIn();\r\n        \r\n        // Zutatenmengen pro Kuchen\r\n        int mehlProKuchen = 200;\r\n        int zuckerProKuchen = 100;\r\n        int eierProKuchen = 2;\r\n\r\n        int verfuegbaresMehl = in.readInt();\r\n        int verfuegbarerZucker = in.readInt();\r\n        int verfuegbareEier = in.readInt();\r\n\r\n        // Anzahl der Kuchen\r\n        int anzahlKuchen = Math.min(\r\n            verfuegbaresMehl / mehlProKuchen,\r\n            Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\r\n        );\r\n\r\n        // Rest\r\n        int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\r\n        int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\r\n        int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\r\n\r\n        System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\r\n        System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, I am doing something wrong with the output and get the following error message:\r\n\r\n\r\n```\r\nPart 1 -- 0/1 tests passed:\r\n    ❌ main(): Failed: Output does not match the expected format for part 1:\r\n      Input: flour=0, sugar=0, eggs=0\r\n      Your output:\r\nAnzahl der Kuchen: 0\r\nRest: 0g Mehl, 0g Zucker, 0 Ei(er)\r\n```\r\n\r\nUnfortunately, I can&#39;t work out what I&#39;m doing wrong (or rather, I don&#39;t understand where the English terms flour, sugar and eggs in the Input come from).\r\nIf someone could give me a tip, I would be very grateful.\r\n","title":"How many cakes can be baked with the given ingredients (java)","body":"<blockquote>\n<p>Write a programme that calculates how many cakes can be baked with a given amount of ingredients. For the sake of simplicity, we will use the following basic recipe:</p>\n<p>Required ingredient quantities per cake:</p>\n<p>Flour (in g): 200<br />\nSugar (in g): 100<br />\nEggs (pieces): 2<br />\nThe user is asked to enter the available quantity of the respective ingredients (in whole numbers). The system should then display how many cakes can be baked with this quantity. In addition, the remaining amount per ingredient should be displayed.</p>\n<p>Example:</p>\n<p>? Mehl: 1000<br />\n? Zucker: 400<br />\n? Eier: 7<br />\nAnzahl der Kuchen: 3<br />\nRest: 400g Mehl, 100g Zucker, 1 Ei(er)</p>\n</blockquote>\n<p>I have now written the following programme:</p>\n<p>flour=Mehl; sugar=Zucker; eggs=Eier</p>\n<pre><code>package einfprog;\n\npublic class Bsp02 {\n    public static void main(String[] args) {\n        // TODO: Implement.\n        SavitchIn in = new SavitchIn();\n        \n        // Zutatenmengen pro Kuchen\n        int mehlProKuchen = 200;\n        int zuckerProKuchen = 100;\n        int eierProKuchen = 2;\n\n        int verfuegbaresMehl = in.readInt();\n        int verfuegbarerZucker = in.readInt();\n        int verfuegbareEier = in.readInt();\n\n        // Anzahl der Kuchen\n        int anzahlKuchen = Math.min(\n            verfuegbaresMehl / mehlProKuchen,\n            Math.min(verfuegbarerZucker / zuckerProKuchen, verfuegbareEier / eierProKuchen)\n        );\n\n        // Rest\n        int restMehl = verfuegbaresMehl - anzahlKuchen * mehlProKuchen;\n        int restZucker = verfuegbarerZucker - anzahlKuchen * zuckerProKuchen;\n        int restEier = verfuegbareEier - anzahlKuchen * eierProKuchen;\n\n        System.out.println(&quot;Anzahl der Kuchen: &quot; + anzahlKuchen);\n        System.out.println(&quot;Rest: &quot; + restMehl + &quot;g Mehl, &quot; + restZucker + &quot;g Zucker, &quot; + restEier + &quot; Ei(er)&quot;);\n    }\n}\n</code></pre>\n<p>However, I am doing something wrong with the output and get the following error message:</p>\n<pre><code>Part 1 -- 0/1 tests passed:\n    ❌ main(): Failed: Output does not match the expected format for part 1:\n      Input: flour=0, sugar=0, eggs=0\n      Your output:\nAnzahl der Kuchen: 0\nRest: 0g Mehl, 0g Zucker, 0 Ei(er)\n</code></pre>\n<p>Unfortunately, I can't work out what I'm doing wrong (or rather, I don't understand where the English terms flour, sugar and eggs in the Input come from).\nIf someone could give me a tip, I would be very grateful.</p>\n"},{"tags":["javascript","java","c#","windows","electron"],"comments":[{"owner":{"account_id":4166657,"reputation":543,"user_id":3415496,"display_name":"Elvis Adomnica"},"score":1,"creation_date":1699273574,"post_id":77431057,"comment_id":136506703,"body_markdown":"Hm that &quot;Silent Install Builder&quot; doesn&#39;t seem to be very well documented. Basically what you need is to execute something &quot;post install&quot;. Some other solutions like electron-builder allow you to add a postInstall hook. You can check it out here: https://www.electron.build/index.html Also, keep in mind that Electron team maintain their own packager solution: https://github.com/electron/electron-packager","body":"Hm that &quot;Silent Install Builder&quot; doesn&#39;t seem to be very well documented. Basically what you need is to execute something &quot;post install&quot;. Some other solutions like electron-builder allow you to add a postInstall hook. You can check it out here: <a href=\"https://www.electron.build/index.html\" rel=\"nofollow noreferrer\">electron.build/index.html</a> Also, keep in mind that Electron team maintain their own packager solution: <a href=\"https://github.com/electron/electron-packager\" rel=\"nofollow noreferrer\">github.com/electron/electron-packager</a>"}],"owner":{"account_id":20832228,"reputation":568,"user_id":15301266,"display_name":"Alija Fajic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699273890,"creation_date":1699273264,"question_id":77431057,"body_markdown":"When my app finishes installing the app is automatically started, before this installer is closed with the &quot;Finish&quot; button. Is there a way to not start it, or to start it when this &quot;Finish&quot; button is clicked? \r\nI am using Silent Install Builder, https://www.silentinstall.org/\r\nand electron-rebuild https://github.com/electron/rebuild\r\n\r\nI am attaching a screenshot so you can see what is happening.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3mjZ.png","title":"How not to start Windows(Electron.js) app when installation is finished?","body":"<p>When my app finishes installing the app is automatically started, before this installer is closed with the &quot;Finish&quot; button. Is there a way to not start it, or to start it when this &quot;Finish&quot; button is clicked?\nI am using Silent Install Builder, <a href=\"https://www.silentinstall.org/\" rel=\"nofollow noreferrer\">https://www.silentinstall.org/</a>\nand electron-rebuild <a href=\"https://github.com/electron/rebuild\" rel=\"nofollow noreferrer\">https://github.com/electron/rebuild</a></p>\n<p>I am attaching a screenshot so you can see what is happening.</p>\n<p><a href=\"https://i.stack.imgur.com/F3mjZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3mjZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":14769499,"reputation":108,"user_id":10666418,"display_name":"Anton Kozub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699259629,"creation_date":1699259629,"answer_id":77429746,"question_id":77410237,"body_markdown":"What do you expect to see in the `parent` attribute of your `test` object? You have two children which refers to the same id.\r\n\r\nIf a few children can have the same `test_id` you must use `@ManyToOne` relationship.","title":"SpringBoot Hibernate Inheritance @OneToOne does&#39;t work","body":"<p>What do you expect to see in the <code>parent</code> attribute of your <code>test</code> object? You have two children which refers to the same id.</p>\n<p>If a few children can have the same <code>test_id</code> you must use <code>@ManyToOne</code> relationship.</p>\n"}],"owner":{"account_id":29751947,"reputation":1,"user_id":22801657,"display_name":"Mamut2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699273858,"creation_date":1698933731,"question_id":77410237,"body_markdown":"I have been trying to solve this problem for 6 hours and I am dissapointed :(.\r\nThe problem is with @OneToOne because entities **ChildA** and **ChildB** might have the same **Test** record although I use @OneToOne(mappedBy).\r\n\r\n\r\n```\r\n@Entity\r\npublic class Test  {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n\r\n    @OneToOne(mappedBy = &quot;test&quot;)\r\n    private Parent parent;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n\r\nand below is an inheritance:\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic abstract class Parent {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;test_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Test test;\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class ChildA extends Parent {\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class ChildB extends Parent {\r\n\r\n}\r\n```\r\n\r\n\r\nand I created a record Test: `INSERT INTO Test (id) VALUES (1);`\r\nthen I created a record ChildA: `INSERT INTO ChildA (id, test_id) VALUES (1, 1);`\r\nand finally: ChildB: `INSERT INTO ChildB (id, test_id) VALUES (1, 1);` and booom both use the same **test_id**. The **Test** record should be unique in parent class, and in all child classes but it is not unique.\r\n\r\nCould you please help me out with that?","title":"SpringBoot Hibernate Inheritance @OneToOne does&#39;t work","body":"<p>I have been trying to solve this problem for 6 hours and I am dissapointed :(.\nThe problem is with @OneToOne because entities <strong>ChildA</strong> and <strong>ChildB</strong> might have the same <strong>Test</strong> record although I use @OneToOne(mappedBy).</p>\n<pre><code>@Entity\npublic class Test  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n\n    @OneToOne(mappedBy = &quot;test&quot;)\n    private Parent parent;\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<p>and below is an inheritance:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @OneToOne\n    @JoinColumn(name = &quot;test_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Test test;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<pre><code>@Entity\npublic class ChildA extends Parent {\n\n}\n</code></pre>\n<pre><code>@Entity\npublic class ChildB extends Parent {\n\n}\n</code></pre>\n<p>and I created a record Test: <code>INSERT INTO Test (id) VALUES (1);</code>\nthen I created a record ChildA: <code>INSERT INTO ChildA (id, test_id) VALUES (1, 1);</code>\nand finally: ChildB: <code>INSERT INTO ChildB (id, test_id) VALUES (1, 1);</code> and booom both use the same <strong>test_id</strong>. The <strong>Test</strong> record should be unique in parent class, and in all child classes but it is not unique.</p>\n<p>Could you please help me out with that?</p>\n"},{"tags":["java","spring","spring-boot","exception","exceptionhandler"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699015582,"post_id":77416611,"comment_id":136480813,"body_markdown":"Do you have a link to the tutorials?","body":"Do you have a link to the tutorials?"},{"owner":{"account_id":29813499,"reputation":1,"user_id":22848333,"display_name":"Ioannis Zisis"},"score":0,"creation_date":1699017550,"post_id":77416611,"comment_id":136481221,"body_markdown":"@RomanC Sure, here it is, https://www.udemy.com/course/restful-web-services-with-spring-framework-a-quick-start/","body":"@RomanC Sure, here it is, <a href=\"https://www.udemy.com/course/restful-web-services-with-spring-framework-a-quick-start/\" rel=\"nofollow noreferrer\">udemy.com/course/&hellip;</a>"},{"owner":{"account_id":7783967,"reputation":360,"user_id":5889494,"display_name":"Arpit"},"score":0,"creation_date":1699019723,"post_id":77416611,"comment_id":136481685,"body_markdown":"Try doing some basic cleanup like remove the class files, recompile, and re run. Nothing wrong with the code in my opinion.","body":"Try doing some basic cleanup like remove the class files, recompile, and re run. Nothing wrong with the code in my opinion."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699020152,"post_id":77416611,"comment_id":136481776,"body_markdown":"You should also post building details.","body":"You should also post building details."},{"owner":{"account_id":29813499,"reputation":1,"user_id":22848333,"display_name":"Ioannis Zisis"},"score":0,"creation_date":1699023466,"post_id":77416611,"comment_id":136482547,"body_markdown":"@Arpit I did and still nothing worked. I also did a clean install of Maven in case i hadn&#39;t done something but nothing still.","body":"@Arpit I did and still nothing worked. I also did a clean install of Maven in case i hadn&#39;t done something but nothing still."}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699019423,"creation_date":1699019423,"answer_id":77417161,"question_id":77416611,"body_markdown":"I&#39;ve tried the same environment as yours and it works.\r\nthis may seem silly but try rerunning your application :)","title":"@ExceptionHandler not working as it was supposed to","body":"<p>I've tried the same environment as yours and it works.\nthis may seem silly but try rerunning your application :)</p>\n"}],"owner":{"account_id":29813499,"reputation":1,"user_id":22848333,"display_name":"Ioannis Zisis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699273504,"creation_date":1699013768,"question_id":77416611,"body_markdown":"I am watching a tutorial about RESTful web services and I&#39;m creating a basic API. At some point it introduced me to exception handling so to test it I made this class:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class AppExceptionsHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(value = {Exception.class})\r\n    public ResponseEntity&lt;CustomErrorMessage&gt; handleAnyException(Exception ex, WebRequest request) {\r\n\r\n        String customErrorMessageDescription = ex.getLocalizedMessage();\r\n        if (customErrorMessageDescription == null)\r\n            customErrorMessageDescription = ex.toString();\r\n\r\n        CustomErrorMessage customErrorMessage = new CustomErrorMessage(new Date(), customErrorMessageDescription);\r\n\r\n        return new ResponseEntity&lt;CustomErrorMessage&gt;(customErrorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n}\r\n```\r\n\r\nAnd a simple test I was shown was to catch a NullPointerException with the intended error inside the getUser method which is implemented in the UserController class:\r\n\r\n\r\n```\r\n@GetMapping(path = &quot;/{userId}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE })\r\n    public ResponseEntity&lt;UserRest&gt; getUser(@PathVariable String userId) {\r\n\r\n        String firstName = null;\r\n\r\n        int length = firstName.length();\r\n\r\n        if (users.containsKey(userId)) {\r\n            return new ResponseEntity&lt;UserRest&gt;(users.get(userId), HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;UserRest&gt;(HttpStatus.NO_CONTENT);\r\n        }\r\n    }\r\n```\r\nIn the tutorial it shows that when running the code and sending a GET request through Postman you receive the corresponding body and information you requested in the handler with no backtrace in the console, but instead I get a NullPointerException error with backtrace in my console and in Postman I get the default structure of the data which is like this: \r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: 1699010452939,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/users/bb3bd1f5-ab81-40f0-a025-d009e8e30ada&quot;\r\n}\r\n```\r\nAnd the backtrace I get is this:\r\n\r\n```\r\n2023-11-03T13:20:52.933+02:00 ERROR 21760 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null\r\n\tat com.appsdeveloperblog.app.ws.mobileappws.ui.controller.UserController.getUser(UserController.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\n```\r\n\r\nIn case someone wants to see the CustomErrorMessage class:\r\n\r\n```\r\npublic class CustomErrorMessage {\r\n    private Date timestamp;\r\n    private String message;\r\n\r\n    public CustomErrorMessage() {\r\n    }\r\n\r\n    public CustomErrorMessage(Date timestamp, String message) {\r\n        this.timestamp = timestamp;\r\n        this.message = message;\r\n    }\r\n\r\n    public Date getTimestamp() {\r\n        return timestamp;\r\n    }\r\n\r\n    public void setTimestamp(Date timestamp) {\r\n        this.timestamp = timestamp;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI also placed a breakpoint inside the handler but it never gets used from the application. Do I have to add something else to invoke it? \r\nI also changed the `Exception.class` in the `@ExceptionHandler` annotation to `NullPointerException.class` in case it would catch the error but nothing changed. I&#39;m a beginner in Spring Boot so I ran out of ideas pretty quickly.\r\nIt is really frustrating because I did exactly what it showed in the tutorial but mine isn&#39;t working.\r\n\r\n**EDIT**\r\n\r\n**I made it work. It seems that the package that included my handler was not initially scanned by Spring so it couldn&#39;t use the annotations I had. With the `@ComponentScan(&quot;Name of the package&quot;)` annotation in the main class of the application everything worked correctly.**","title":"@ExceptionHandler not working as it was supposed to","body":"<p>I am watching a tutorial about RESTful web services and I'm creating a basic API. At some point it introduced me to exception handling so to test it I made this class:</p>\n<pre><code>@ControllerAdvice\npublic class AppExceptionsHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(value = {Exception.class})\n    public ResponseEntity&lt;CustomErrorMessage&gt; handleAnyException(Exception ex, WebRequest request) {\n\n        String customErrorMessageDescription = ex.getLocalizedMessage();\n        if (customErrorMessageDescription == null)\n            customErrorMessageDescription = ex.toString();\n\n        CustomErrorMessage customErrorMessage = new CustomErrorMessage(new Date(), customErrorMessageDescription);\n\n        return new ResponseEntity&lt;CustomErrorMessage&gt;(customErrorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p>And a simple test I was shown was to catch a NullPointerException with the intended error inside the getUser method which is implemented in the UserController class:</p>\n<pre><code>@GetMapping(path = &quot;/{userId}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE })\n    public ResponseEntity&lt;UserRest&gt; getUser(@PathVariable String userId) {\n\n        String firstName = null;\n\n        int length = firstName.length();\n\n        if (users.containsKey(userId)) {\n            return new ResponseEntity&lt;UserRest&gt;(users.get(userId), HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;UserRest&gt;(HttpStatus.NO_CONTENT);\n        }\n    }\n</code></pre>\n<p>In the tutorial it shows that when running the code and sending a GET request through Postman you receive the corresponding body and information you requested in the handler with no backtrace in the console, but instead I get a NullPointerException error with backtrace in my console and in Postman I get the default structure of the data which is like this:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1699010452939,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/users/bb3bd1f5-ab81-40f0-a025-d009e8e30ada&quot;\n}\n</code></pre>\n<p>And the backtrace I get is this:</p>\n<pre><code>2023-11-03T13:20:52.933+02:00 ERROR 21760 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;firstName&quot; is null\n    at com.appsdeveloperblog.app.ws.mobileappws.ui.controller.UserController.getUser(UserController.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-RC2.jar:6.1.0-RC2]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.0-RC2.jar:6.1.0-RC2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\n</code></pre>\n<p>In case someone wants to see the CustomErrorMessage class:</p>\n<pre><code>public class CustomErrorMessage {\n    private Date timestamp;\n    private String message;\n\n    public CustomErrorMessage() {\n    }\n\n    public CustomErrorMessage(Date timestamp, String message) {\n        this.timestamp = timestamp;\n        this.message = message;\n    }\n\n    public Date getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(Date timestamp) {\n        this.timestamp = timestamp;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n}\n</code></pre>\n<p>I also placed a breakpoint inside the handler but it never gets used from the application. Do I have to add something else to invoke it?\nI also changed the <code>Exception.class</code> in the <code>@ExceptionHandler</code> annotation to <code>NullPointerException.class</code> in case it would catch the error but nothing changed. I'm a beginner in Spring Boot so I ran out of ideas pretty quickly.\nIt is really frustrating because I did exactly what it showed in the tutorial but mine isn't working.</p>\n<p><strong>EDIT</strong></p>\n<p><strong>I made it work. It seems that the package that included my handler was not initially scanned by Spring so it couldn't use the annotations I had. With the <code>@ComponentScan(&quot;Name of the package&quot;)</code> annotation in the main class of the application everything worked correctly.</strong></p>\n"},{"tags":["java","database","oracle"],"comments":[{"owner":{"account_id":1635690,"reputation":150022,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1699259643,"post_id":77429471,"comment_id":136504293,"body_markdown":"Did you `COMMIT` your data?","body":"Did you <code>COMMIT</code> your data?"},{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1699261873,"post_id":77429471,"comment_id":136504680,"body_markdown":"Select the condition columns too. Remove one condition at the time and see what happens. https://en.wikipedia.org/wiki/Divide-and-conquer_algorithm","body":"Select the condition columns too. Remove one condition at the time and see what happens. <a href=\"https://en.wikipedia.org/wiki/Divide-and-conquer_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Divide-and-conquer_algorithm</a>"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699262287,"post_id":77429471,"comment_id":136504748,"body_markdown":"@MT0 data already exist in database.","body":"@MT0 data already exist in database."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699262389,"post_id":77429471,"comment_id":136504768,"body_markdown":"thx @user85421, It was also tested with &lt;&gt; and the response from the database is still wrong","body":"thx @user85421, It was also tested with &lt;&gt; and the response from the database is still wrong"},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1699263405,"post_id":77429471,"comment_id":136504929,"body_markdown":"are any of the bind variables NULL or empty  ?","body":"are any of the bind variables NULL or empty  ?"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699265192,"post_id":77429471,"comment_id":136505213,"body_markdown":"@KoenLostrie\nNo, they have a value and are not empty\nThe question description was edited","body":"@KoenLostrie No, they have a value and are not empty The question description was edited"},{"owner":{"account_id":1635690,"reputation":150022,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1699265202,"post_id":77429471,"comment_id":136505214,"body_markdown":"Have you tried `setInt()` rather than `setByte()`? If should not make a difference but different drivers may have slightly different implementations.","body":"Have you tried <code>setInt()</code> rather than <code>setByte()</code>? If should not make a difference but different drivers may have slightly different implementations."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699267224,"post_id":77429471,"comment_id":136505605,"body_markdown":"@MT0 Tested with `setInt()` and still the problem is there :(","body":"@MT0 Tested with <code>setInt()</code> and still the problem is there :("},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699273655,"post_id":77429471,"comment_id":136506717,"body_markdown":"@user85421\nThat&#39;s right, the code was extracted from debug mode and needed a little modification, `==` repalced with `=`.","body":"@user85421 That&#39;s right, the code was extracted from debug mode and needed a little modification, <code>==</code> repalced with <code>=</code>."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1699274177,"post_id":77429471,"comment_id":136506804,"body_markdown":"This is going to be a client programming issue with how to properly set up binds. This will not be due to anything the Oracle database is doing. You may want to enable a 10046 trace at level 4 or higher so you can capture the exact SQL cursor that was parsed on the database side and the bind values used. That can help determine what your client is doing incorrectly.","body":"This is going to be a client programming issue with how to properly set up binds. This will not be due to anything the Oracle database is doing. You may want to enable a 10046 trace at level 4 or higher so you can capture the exact SQL cursor that was parsed on the database side and the bind values used. That can help determine what your client is doing incorrectly."},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1699275312,"post_id":77429471,"comment_id":136506994,"body_markdown":"what is the datatype of those 2 columns ? They seem to be NUMBER. Have you tried using setInt instead of setByte in your calling code ?","body":"what is the datatype of those 2 columns ? They seem to be NUMBER. Have you tried using setInt instead of setByte in your calling code ?"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699278831,"post_id":77429471,"comment_id":136507757,"body_markdown":"@KoenLostrie\nthe data type of type and status is `NUMBER(2,0)`","body":"@KoenLostrie the data type of type and status is <code>NUMBER(2,0)</code>"},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699278982,"post_id":77429471,"comment_id":136507786,"body_markdown":"@PaulW\nthx paul, we capture sql query with tcpdump and in oracle trace logs, everything is ok, both sql query and biding values :(","body":"@PaulW thx paul, we capture sql query with tcpdump and in oracle trace logs, everything is ok, both sql query and biding values :("},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1699279111,"post_id":77429471,"comment_id":136507824,"body_markdown":"@Rajin I asked 2 questions, you only answered the first one....","body":"@Rajin I asked 2 questions, you only answered the first one...."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699281312,"post_id":77429471,"comment_id":136508343,"body_markdown":"@KoenLostrie\nTested with setInt() and still the problem is there.\n\n\n`@MT0` asked this question earlier :D.","body":"@KoenLostrie Tested with setInt() and still the problem is there.   <code>@MT0</code> asked this question earlier :D."},{"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"score":0,"creation_date":1699281441,"post_id":77429471,"comment_id":136508381,"body_markdown":"@jarlh\nThe problem is solved by changing the binding value (`?`) with its fixed value in the inequality condition (`TB_MODEL.STATUS &lt;&gt; ?` -&gt; `TB_MODEL.STATUS &lt;&gt; 3`).","body":"@jarlh The problem is solved by changing the binding value (<code>?</code>) with its fixed value in the inequality condition (<code>TB_MODEL.STATUS &lt;&gt; ?</code> -&gt; <code>TB_MODEL.STATUS &lt;&gt; 3</code>)."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1699283306,"post_id":77429471,"comment_id":136508813,"body_markdown":"@Rajin, can you please share the SQL cursor parse in and bind section of the 10046 trace in your post?","body":"@Rajin, can you please share the SQL cursor parse in and bind section of the 10046 trace in your post?"},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1699326268,"post_id":77429471,"comment_id":136514806,"body_markdown":"Please post the DDL for TB_MODEL.","body":"Please post the DDL for TB_MODEL."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150022,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699262635,"creation_date":1699262635,"answer_id":77429992,"question_id":77429471,"body_markdown":"Un`COMMIT`ted data is only visible within the session that created it (and will `ROLLBACK` at the end of the session if it has not been `COMMIT`ted). If you can&#39;t see the data from another session (i.e. in C#) then make sure you have issued a `COMMIT` command in the SQL client where you `INSERT`ed the data (i.e. SQL Developer).\r\n\r\n*Note: even if you connect as the same user, this will create a separate session and you will not be able to see the uncommitted data in the other session.*\r\n\r\nFrom the [`COMMIT` documentation](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2):\r\n\r\n&gt; Until you commit a transaction:\r\n&gt;\r\n&gt; - You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users&#39; statements that execute after the commit.\r\n&gt; - You can roll back (undo) any changes made during the transaction with the `ROLLBACK` statement (see `ROLLBACK`).\r\n\r\nTherefore, even if you say:\r\n\r\n&gt;  data already exist in database.\r\n\r\nThat does not matter if it was created in another session and has not been `COMMIT`ted as it will not be visible to any other session. You need to ensure that you `COMMIT` your data.\r\n","title":"Wrong result when executing select query with != condition in Oracle database 21","body":"<p>Un<code>COMMIT</code>ted data is only visible within the session that created it (and will <code>ROLLBACK</code> at the end of the session if it has not been <code>COMMIT</code>ted). If you can't see the data from another session (i.e. in C#) then make sure you have issued a <code>COMMIT</code> command in the SQL client where you <code>INSERT</code>ed the data (i.e. SQL Developer).</p>\n<p><em>Note: even if you connect as the same user, this will create a separate session and you will not be able to see the uncommitted data in the other session.</em></p>\n<p>From the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2\" rel=\"nofollow noreferrer\"><code>COMMIT</code> documentation</a>:</p>\n<blockquote>\n<p>Until you commit a transaction:</p>\n<ul>\n<li>You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users' statements that execute after the commit.</li>\n<li>You can roll back (undo) any changes made during the transaction with the <code>ROLLBACK</code> statement (see <code>ROLLBACK</code>).</li>\n</ul>\n</blockquote>\n<p>Therefore, even if you say:</p>\n<blockquote>\n<p>data already exist in database.</p>\n</blockquote>\n<p>That does not matter if it was created in another session and has not been <code>COMMIT</code>ted as it will not be visible to any other session. You need to ensure that you <code>COMMIT</code> your data.</p>\n"}],"owner":{"account_id":29835970,"reputation":1,"user_id":22865315,"display_name":"Rajin"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699273464,"creation_date":1699256505,"question_id":77429471,"body_markdown":"After the execution of a query in Oracle, the results are shown incorrectly. It seems like some data are cached and as a result, the outcome is not correct. By changing some conditions in where clauses (especially the conditions that are related to “not equal”), the results are shown accurately. This happens in many queries, but the first occurrence was in Queries with high execution count. \r\n \r\nQuery Example:\r\n\r\n```lang-sql\r\nSELECT TB_MODEL.ID\r\nFROM TB_MODEL\r\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL\r\n```\r\n\r\n \r\nResult:\r\nEMPTY (I am sure there is data in the database with the desired conditions)\r\n\r\n \r\nSometimes, but not always, with resetting the Oracle database, this problem dissolves. \r\n\r\nOracle RAC Version: 21.3.0.0.0\r\n\r\nJDBC Driver: 23.3.0.23.09\r\n\r\n\r\n\r\n**update 1:**\r\n\r\nthis sample code reurn 0:\r\n\r\n```lang-java\r\nString query = &quot;SELECT TB_MODEL.ID\r\nFROM TB_MODEL\r\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\r\n\r\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\r\nPreparedStatement statement = connection.prepareStatement(query);\r\nstatement.setByte(1, (byte) 3);\r\nstatement.setByte(2, (byte) 5);\r\n\r\nResultSet resultSet = statement.executeQuery();\r\nint count = 0;\r\nwhile (resultSet.next()) {\r\n    count++;\r\n}\r\nreturn count;\r\n```\r\n\r\nthis sample code reurn 0:\r\n\r\nand this one return 313!\r\n```lang-java\r\nString query = &quot;SELECT TB_MODEL.ID\r\nFROM TB_MODEL\r\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; 5 AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\r\n\r\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\r\nPreparedStatement statement = connection.prepareStatement(query);\r\nstatement.setByte(1, (byte) 3);\r\n\r\nResultSet resultSet = statement.executeQuery();\r\nint count = 0;\r\nwhile (resultSet.next()) {\r\n    count++;\r\n}\r\nreturn count;\r\n```\r\n\r\n**update 2:**\r\n\r\n 1. This problem happens for queries that have an inequality condition (`&lt;&gt;`)\r\n 2. The problem is solved by changing the binding value (`?`) with its fixed value in the inequality condition (`TB_MODEL.STATUS &lt;&gt; ?` -&gt; `TB_MODEL.STATUS &lt;&gt; 3`).","title":"Wrong result when executing select query with != condition in Oracle database 21","body":"<p>After the execution of a query in Oracle, the results are shown incorrectly. It seems like some data are cached and as a result, the outcome is not correct. By changing some conditions in where clauses (especially the conditions that are related to “not equal”), the results are shown accurately. This happens in many queries, but the first occurrence was in Queries with high execution count.</p>\n<p>Query Example:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT TB_MODEL.ID\nFROM TB_MODEL\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL\n</code></pre>\n<p>Result:\nEMPTY (I am sure there is data in the database with the desired conditions)</p>\n<p>Sometimes, but not always, with resetting the Oracle database, this problem dissolves.</p>\n<p>Oracle RAC Version: 21.3.0.0.0</p>\n<p>JDBC Driver: 23.3.0.23.09</p>\n<p><strong>update 1:</strong></p>\n<p>this sample code reurn 0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT TB_MODEL.ID\nFROM TB_MODEL\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; ? AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\n\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\nPreparedStatement statement = connection.prepareStatement(query);\nstatement.setByte(1, (byte) 3);\nstatement.setByte(2, (byte) 5);\n\nResultSet resultSet = statement.executeQuery();\nint count = 0;\nwhile (resultSet.next()) {\n    count++;\n}\nreturn count;\n</code></pre>\n<p>this sample code reurn 0:</p>\n<p>and this one return 313!</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT TB_MODEL.ID\nFROM TB_MODEL\nWHERE TB_MODEL.SUBJECT = ? AND TB_MODEL.STATUS &lt;&gt; 5 AND TB_MODEL.PARENT_ID IS NOT NULL&quot;;\n\nConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@//192.168.1.10:1521/dbk&quot;, &quot;dbk&quot;, &quot;dbk&quot;);\nPreparedStatement statement = connection.prepareStatement(query);\nstatement.setByte(1, (byte) 3);\n\nResultSet resultSet = statement.executeQuery();\nint count = 0;\nwhile (resultSet.next()) {\n    count++;\n}\nreturn count;\n</code></pre>\n<p><strong>update 2:</strong></p>\n<ol>\n<li>This problem happens for queries that have an inequality condition (<code>&lt;&gt;</code>)</li>\n<li>The problem is solved by changing the binding value (<code>?</code>) with its fixed value in the inequality condition (<code>TB_MODEL.STATUS &lt;&gt; ?</code> -&gt; <code>TB_MODEL.STATUS &lt;&gt; 3</code>).</li>\n</ol>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-rc","chrome-devtools-protocol"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699289753,"post_id":77431031,"comment_id":136510154,"body_markdown":"I believe you have to type it first to HasDevTools interface: ((HasDevTools) driver).getDevTools();","body":"I believe you have to type it first to HasDevTools interface: ((HasDevTools) driver).getDevTools();"},{"owner":{"account_id":1106482,"reputation":709,"user_id":1097774,"accept_rate":94,"display_name":"Quick learner"},"score":0,"creation_date":1699337514,"post_id":77431031,"comment_id":136515644,"body_markdown":"I have used &quot;DevTools devTools = ((HasDevTools) driver).getDevTools();&quot; but getting parse error &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.openqa.selenium.chrome.ChromeDriver cannot be cast to org.openqa.selenium.devtools.HasDevTools&quot;","body":"I have used &quot;DevTools devTools = ((HasDevTools) driver).getDevTools();&quot; but getting parse error &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.openqa.selenium.chrome.ChromeDriver cannot be cast to org.openqa.selenium.devtools.HasDevTools&quot;"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699380728,"post_id":77431031,"comment_id":136523541,"body_markdown":"you don&#39;t show the type of driver here, but be sure the type is WebDriver.","body":"you don&#39;t show the type of driver here, but be sure the type is WebDriver."}],"owner":{"account_id":1106482,"reputation":709,"user_id":1097774,"accept_rate":94,"display_name":"Quick learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699273025,"creation_date":1699273025,"question_id":77431031,"body_markdown":"Hello i am new to selenium, can someone help me in fetching the request, response and console logs using selenium?\r\n\r\nI have used the below code, but giving error that `&quot;The method getDevTools() is undefined for the type ChromeDriver&quot;`\r\n\r\n    public void seleniumTest() {\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tDevTools devTools = driver.getDevTools(); \r\n    \t\tdevTools.createSession();\r\n    \t\tdevTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\r\n    \t\tdevTools.addListener(Network.requestWillBeSent(), requestConsumer -&gt;{\r\n    \t\t\tRequest request = requestConsumer.getRequest();\r\n    \t\t\tSystem.out.println(request.getUrl());\r\n    \t\t});\r\n    \t\t\r\n    \t\tfinal RequestId[] requestId = new RequestId[1];\r\n    \t\t\r\n    \t\tdevTools.addListener(Network.responseReceived(), responseConsumer -&gt; {\r\n    \t\t\tResponse response = responseConsumer.getResponse();\r\n    \t\t\trequestId[0] = responseConsumer.getRequestId();\t\r\n    \t\t\tif( response.getUrl().contains(&quot;ws_api.php?&quot;)) {\r\n    \t\t\t\tSystem.out.println(response.getStatus() + &quot; &quot;+ response.getUrl());\r\n    \t\t\t\tAssert.assertEquals(response.getStatus() , 200);\r\n    \t\t\t\tString responseBody = devTools.send(Network.getResponseBody(requestId[0] )).getBody();\r\n    \t\t\t\tSystem.err.println(responseBody);\r\n    \t\t\t}\t\r\n    \t\t\t\r\n    \t\t});\r\n    \t    driver.get(&quot;https://weatherstack.com/&quot;);\r\n    \t \r\n    \t}","title":"How to read request, response and console logs using selenium","body":"<p>Hello i am new to selenium, can someone help me in fetching the request, response and console logs using selenium?</p>\n<p>I have used the below code, but giving error that <code>&quot;The method getDevTools() is undefined for the type ChromeDriver&quot;</code></p>\n<pre><code>public void seleniumTest() {\n        driver = new ChromeDriver();\n        DevTools devTools = driver.getDevTools(); \n        devTools.createSession();\n        devTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\n        devTools.addListener(Network.requestWillBeSent(), requestConsumer -&gt;{\n            Request request = requestConsumer.getRequest();\n            System.out.println(request.getUrl());\n        });\n        \n        final RequestId[] requestId = new RequestId[1];\n        \n        devTools.addListener(Network.responseReceived(), responseConsumer -&gt; {\n            Response response = responseConsumer.getResponse();\n            requestId[0] = responseConsumer.getRequestId(); \n            if( response.getUrl().contains(&quot;ws_api.php?&quot;)) {\n                System.out.println(response.getStatus() + &quot; &quot;+ response.getUrl());\n                Assert.assertEquals(response.getStatus() , 200);\n                String responseBody = devTools.send(Network.getResponseBody(requestId[0] )).getBody();\n                System.err.println(responseBody);\n            }   \n            \n        });\n        driver.get(&quot;https://weatherstack.com/&quot;);\n     \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","serialization","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":4376365,"reputation":1903,"user_id":9080066,"display_name":"Dean"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1531923664,"creation_date":1531923664,"answer_id":51404455,"question_id":51403962,"body_markdown":"Jackson uses Getter and Setters to set values. So you need to modify your class:\r\n\r\n\r\n    class MyClass {\r\n\r\n        String name;\r\n\r\n        MyClass(String name) {\r\n          this.name = name;\r\n       }\r\n\r\n       MyClass(){}\r\n\r\n       public void setName(String name) {\r\n         this.name = name;\r\n       }\r\n\r\n      public String getName(String name) {\r\n         return this.name;\r\n      }\r\n    }","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>Jackson uses Getter and Setters to set values. So you need to modify your class:</p>\n\n<pre><code>class MyClass {\n\n    String name;\n\n    MyClass(String name) {\n      this.name = name;\n   }\n\n   MyClass(){}\n\n   public void setName(String name) {\n     this.name = name;\n   }\n\n  public String getName(String name) {\n     return this.name;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156901,"reputation":1816,"user_id":374480,"accept_rate":50,"display_name":"steve"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1540319254,"creation_date":1540319254,"answer_id":52955614,"question_id":51403962,"body_markdown":"The proper way to solve this without a default constructor is to add JsonCreator and JsonProperty annotations to your class constructor.\r\n\r\n    class MyClass {\r\n\r\n        String name;\r\n\r\n        @JsonCreator\r\n        MyClass(@JsonProperty(&quot;name&quot;) String name) {\r\n            this.name = name;\r\n        }\r\n        ...\r\n    }","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>The proper way to solve this without a default constructor is to add JsonCreator and JsonProperty annotations to your class constructor.</p>\n\n<pre><code>class MyClass {\n\n    String name;\n\n    @JsonCreator\n    MyClass(@JsonProperty(\"name\") String name) {\n        this.name = name;\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10386184,"reputation":181,"user_id":7695590,"display_name":"user7695590"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1565623771,"creation_date":1565623771,"answer_id":57464094,"question_id":51403962,"body_markdown":"if you are using loombok remove the @Builder annotation of the class,  was my problem","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>if you are using loombok remove the @Builder annotation of the class,  was my problem</p>\n"},{"tags":[],"owner":{"account_id":16054653,"reputation":21,"user_id":11587490,"display_name":"Arjun Ravi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632975295,"creation_date":1632975295,"answer_id":69386056,"question_id":51403962,"body_markdown":"mine was to remove @Builder(Lombok) annotation from class and add @AllArgsConstructor and @NoArgsConstructor annotations, it worked","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>mine was to remove @Builder(Lombok) annotation from class and add @AllArgsConstructor and @NoArgsConstructor annotations, it worked</p>\n"},{"tags":[],"owner":{"account_id":16940347,"reputation":1,"user_id":12252346,"display_name":"Wagner Salvador"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699272178,"creation_date":1699272162,"answer_id":77430943,"question_id":51403962,"body_markdown":"I remove the @Builder(Lombok), it&#39;s worked, because @Builder create a private constructor.","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>I remove the @Builder(Lombok), it's worked, because @Builder create a private constructor.</p>\n"}],"owner":{"account_id":2382241,"reputation":1666,"user_id":2084022,"accept_rate":81,"display_name":"pafede2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23247,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51404455,"answer_count":5,"score":9,"last_activity_date":1699272178,"creation_date":1531922271,"question_id":51403962,"body_markdown":"Using the com.fasterxml.jackson.databind.ObjectMapper class(com.fasterxml.jackson.core:jackson-databind:2.9.5) I am trying to deserialize an object of the following class:\r\n\r\n    class MyClass {\r\n\r\n\t    String name;\r\n\r\n\t    MyClass(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n    }\r\n\r\nThe code I am currently executing is the following:\r\n\r\n\t\tMyClass myClass = new MyClass(&quot;test&quot;);\r\n\t\tobjectMapper.registerModule(new ParameterNamesModule())\r\n\t\t\t.registerModule(new Jdk8Module())\r\n\t\t\t.registerModule(new JavaTimeModule())\r\n\t\t\t.configure(FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n\t\t\t.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\n\t\tString text = objectMapper.writeValueAsString(myClass);\r\n\t\tobjectMapper.readValue(text, MyClass.class);\r\n\r\nwhich fails on the last line throwing the exception:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.pckge.MyClass` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (String)&quot;{&quot;name&quot;:&quot;test&quot;}&quot;; line: 1, column: 2]\r\n\r\nMy goal would be to configure the object mapper so to successfully deserialize the object without using annotations such as JsonCreator or JsonProperties on the constructor of MyClass:\r\n\r\n - Is this doable?  \r\n - Which configuration I am missing?\r\n\r\nThanks a lot!\r\n\r\nEDIT 1: Reply by @Dean solves the issue. However I would like to avoid to have the default constructor also.\r\n","title":"Jackson deserialization fails after serializing an object using writeValueAsString","body":"<p>Using the com.fasterxml.jackson.databind.ObjectMapper class(com.fasterxml.jackson.core:jackson-databind:2.9.5) I am trying to deserialize an object of the following class:</p>\n\n<pre><code>class MyClass {\n\n    String name;\n\n    MyClass(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>The code I am currently executing is the following:</p>\n\n<pre><code>    MyClass myClass = new MyClass(\"test\");\n    objectMapper.registerModule(new ParameterNamesModule())\n        .registerModule(new Jdk8Module())\n        .registerModule(new JavaTimeModule())\n        .configure(FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n\n    String text = objectMapper.writeValueAsString(myClass);\n    objectMapper.readValue(text, MyClass.class);\n</code></pre>\n\n<p>which fails on the last line throwing the exception:</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.pckge.MyClass</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\n   at [Source: (String)\"{\"name\":\"test\"}\"; line: 1, column: 2]</p>\n</blockquote>\n\n<p>My goal would be to configure the object mapper so to successfully deserialize the object without using annotations such as JsonCreator or JsonProperties on the constructor of MyClass:</p>\n\n<ul>\n<li>Is this doable?  </li>\n<li>Which configuration I am missing?</li>\n</ul>\n\n<p>Thanks a lot!</p>\n\n<p>EDIT 1: Reply by @Dean solves the issue. However I would like to avoid to have the default constructor also.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1698853577,"post_id":77403830,"comment_id":136458178,"body_markdown":"So you want everything to be in &quot;Europe/Berlin&quot; timezone ? Why not just translate each datetime into that timezone, although I always question making code-bases time-zone-aware","body":"So you want everything to be in &quot;Europe/Berlin&quot; timezone ? Why not just translate each datetime into that timezone, although I always question making code-bases time-zone-aware"},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1698854929,"post_id":77403830,"comment_id":136458457,"body_markdown":"Your question is unclear. On nov 1st, `Europe/Berlin` is +1 hour, so why are you saying &quot;if I posted an incident at &quot;2023-11-01T14&quot; it will be saved as &quot;2023-11-01T12&quot;? That makes no sense. It is correct that `2023-11-01T12 UTC` is turned into `2023-11-01T13 Berlin`. So, given that this is all correct, it&#39;s not clear what your question is.","body":"Your question is unclear. On nov 1st, <code>Europe&#47;Berlin</code> is +1 hour, so why are you saying &quot;if I posted an incident at &quot;2023-11-01T14&quot; it will be saved as &quot;2023-11-01T12&quot;? That makes no sense. It is correct that <code>2023-11-01T12 UTC</code> is turned into <code>2023-11-01T13 Berlin</code>. So, given that this is all correct, it&#39;s not clear what your question is."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698855547,"post_id":77403830,"comment_id":136458574,"body_markdown":"Do you understand that the `Z` on the end of `2023-11-01T13:00:02.038Z` means an offset from UTC of zero hours-minutes-seconds (“Zulu” time)?","body":"Do you understand that the <code>Z</code> on the end of <code>2023-11-01T13:00:02.038Z</code> means an offset from UTC of zero hours-minutes-seconds (“Zulu” time)?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698855594,"post_id":77403830,"comment_id":136458583,"body_markdown":"What database engine? What is data type of your column?","body":"What database engine? What is data type of your column?"},{"owner":{"account_id":24428609,"reputation":1,"user_id":18353857,"display_name":"Siyamcela Nxuseka"},"score":0,"creation_date":1698857588,"post_id":77403830,"comment_id":136458954,"body_markdown":"@BasilBourque it is PostgreSQL and the data type is timestamp\n\n`created timestamp(6) without time zone,`","body":"@BasilBourque it is PostgreSQL and the data type is timestamp  <code>created timestamp(6) without time zone,</code>"},{"owner":{"account_id":24428609,"reputation":1,"user_id":18353857,"display_name":"Siyamcela Nxuseka"},"score":0,"creation_date":1698857843,"post_id":77403830,"comment_id":136459007,"body_markdown":"@rzwitserloot, maybe you missed a point if I save an incident with this time `2023-11-01T14` it will be saved with minus 2 hours in the database since I am applying `UTC` for the timezone which means in the DB I will capture   `2023-11-01T12`.","body":"@rzwitserloot, maybe you missed a point if I save an incident with this time <code>2023-11-01T14</code> it will be saved with minus 2 hours in the database since I am applying <code>UTC</code> for the timezone which means in the DB I will capture   <code>2023-11-01T12</code>."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698858171,"post_id":77403830,"comment_id":136459065,"body_markdown":"Such details need to be posted as edits to your Question, not as Comments.","body":"Such details need to be posted as edits to your Question, not as Comments."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698858665,"post_id":77403830,"comment_id":136459154,"body_markdown":"@SiyamcelaNxuseka That is the wrong data type to store a moment, a specific point on the timeline. You need to change to a column of type `TIMESTAMP WITH TIME ZONE`.","body":"@SiyamcelaNxuseka That is the wrong data type to store a moment, a specific point on the timeline. You need to change to a column of type <code>TIMESTAMP WITH TIME ZONE</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1698875608,"post_id":77403830,"comment_id":136461756,"body_markdown":"Why are you converting it to LocalDateTime if you want it to represent a time in a particular time zone? It should be ZonedDateTime, or maybe Instant.","body":"Why are you converting it to LocalDateTime if you want it to represent a time in a particular time zone? It should be ZonedDateTime, or maybe Instant."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698859404,"creation_date":1698854439,"answer_id":77403987,"question_id":77403830,"body_markdown":"# tl;dr\r\n\r\nYou are trying to record specific points on the timeline. But you are using the wrong data types for such work: \r\n\r\n - `TIMESTAMP WITHOUT TIME ZONE` in Postgres database\r\n - `LocalDateTime` in Java\r\n\r\nIt is no wonder that you are experiencing such a confusing mess.\r\n\r\nTo handle moments, you should instead be using:\r\n\r\n - `TIMESTAMP WITH TIME ZONE` in Postgres database\r\n - In Java:\r\n   - `OffsetDateTime` for JDBC\r\n   - `Instant` for converting to/from legacy class `java.util.Date`\r\n   - `ZonedDateTime` for adjusting into a time zone for presentation to the user.\r\n\r\nI suggest you start by studying [the date-time tutorial][1] provided by Oracle free-of-cost.\r\n\r\n# Details\r\n\r\n&gt; TimeZone.setDefault\r\n\r\nAvoid setting, or even using, the JVM’s current default time zone. Doing so immediately affects all other code in all other threads of all apps running within that JVM. \r\n\r\n\r\n&gt; String timezone = &quot;UTC&quot;;\r\n\r\nUse the constant `ZoneOffset.UTC` provided to you in *java.time* framework. \r\n\r\n&gt; log.info(&quot;Timezone {} is setup as default&quot;, timezone);\r\n\r\nBe aware that a split second later any other code in any other thread of any other app running within that JVM can change that default. So your logging that value is not necessarily helpful. \r\n\r\n\r\n&gt; As expected Date is saved with - 2 hours in the database\r\n\r\nReally? Are you certain? What database engine? Do you understand that database access tools may lie to you, dynamically applying a default time zone as a well-intentioned but misguided anti-feature?\r\n\r\nSome database engines such as Postgres use the zone or offset of an input to adjust to UTC (an offset from UTC of zero hours-minutes-seconds). \r\n\r\nLater, in a comment, you confirmed that you are using Postgres with a column of type `TIMESTAMP WITHOUT TIME ZONE`. That is the wrong data type for your column. When recording a moment, a specific point on the timeline, your table column must be of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE` (*not* `WITHOUT`). \r\n\r\n&gt; public static LocalDateTime convertInTimeZone\r\n\r\nIncorrect type there. A `LocaDateTime` lacks the concept of time zone or offset-from-UTC. So this type cannot be used to represent a moment, cannot be a specific point on the timeline. \r\n\r\nIn contrast, the legacy class `java.util.Date` does represent a moment. It represents a date with time-of-day as seen with an offset of zero. \r\n\r\nAvoid using the terribly flawed legacy date-time classes such as `java.util.Date`. These were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nWhen handed a `java.util.Date` object, immediately convert to a `java.time.Instant` object. Use new conversion methods added to the old classes. \r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;\r\n\r\nTo store in a database via JDBC 4.2+, convert to an `OffsetDateTime`. \r\n\r\n    OffsetDateTime odt = instant.atOffset(ZoneOffset.UTC ) ;\r\n\r\nWrite to database:\r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nTo present this moment to the user in a specific time zone, apply a `ZoneId` to get a `ZonedDateTime` object.\r\n\r\n    ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdtTokyo = odt.atZoneSameInstant( zTokyo ) ;\r\n\r\nUse `DateTimeFormatter.ofLocalizedDateTime` to generate localized text representing the value held in `ZonedDateTime` object. \r\n\r\nConvert to `java.util.Date` only if absolutely required to interoperate with old code not yet updated for *java.time*. \r\n\r\n    java.util.Date d = java.util.Date.from( odt.toInstant() ) ;\r\n\r\n&gt; `.toLocalDateTime()`\r\n\r\nIn calling that method you **discard vital information**: the time zone or offset-from-UTC. And you get **no benefit in return**. All you get is an inherently ambiguous date with time-of-day. \r\n\r\nWhen tracking specific points on the timeline, there should be no use of `LocalDateTime`. \r\n\r\nFor example, I cannot imagine a scenario where calling `LocalDateTime.now()` would be wise. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html","title":"Java Convert UTC to Local time","body":"<h1>tl;dr</h1>\n<p>You are trying to record specific points on the timeline. But you are using the wrong data types for such work:</p>\n<ul>\n<li><code>TIMESTAMP WITHOUT TIME ZONE</code> in Postgres database</li>\n<li><code>LocalDateTime</code> in Java</li>\n</ul>\n<p>It is no wonder that you are experiencing such a confusing mess.</p>\n<p>To handle moments, you should instead be using:</p>\n<ul>\n<li><code>TIMESTAMP WITH TIME ZONE</code> in Postgres database</li>\n<li>In Java:\n<ul>\n<li><code>OffsetDateTime</code> for JDBC</li>\n<li><code>Instant</code> for converting to/from legacy class <code>java.util.Date</code></li>\n<li><code>ZonedDateTime</code> for adjusting into a time zone for presentation to the user.</li>\n</ul>\n</li>\n</ul>\n<p>I suggest you start by studying <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">the date-time tutorial</a> provided by Oracle free-of-cost.</p>\n<h1>Details</h1>\n<blockquote>\n<p>TimeZone.setDefault</p>\n</blockquote>\n<p>Avoid setting, or even using, the JVM’s current default time zone. Doing so immediately affects all other code in all other threads of all apps running within that JVM.</p>\n<blockquote>\n<p>String timezone = &quot;UTC&quot;;</p>\n</blockquote>\n<p>Use the constant <code>ZoneOffset.UTC</code> provided to you in <em>java.time</em> framework.</p>\n<blockquote>\n<p>log.info(&quot;Timezone {} is setup as default&quot;, timezone);</p>\n</blockquote>\n<p>Be aware that a split second later any other code in any other thread of any other app running within that JVM can change that default. So your logging that value is not necessarily helpful.</p>\n<blockquote>\n<p>As expected Date is saved with - 2 hours in the database</p>\n</blockquote>\n<p>Really? Are you certain? What database engine? Do you understand that database access tools may lie to you, dynamically applying a default time zone as a well-intentioned but misguided anti-feature?</p>\n<p>Some database engines such as Postgres use the zone or offset of an input to adjust to UTC (an offset from UTC of zero hours-minutes-seconds).</p>\n<p>Later, in a comment, you confirmed that you are using Postgres with a column of type <code>TIMESTAMP WITHOUT TIME ZONE</code>. That is the wrong data type for your column. When recording a moment, a specific point on the timeline, your table column must be of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> (<em>not</em> <code>WITHOUT</code>).</p>\n<blockquote>\n<p>public static LocalDateTime convertInTimeZone</p>\n</blockquote>\n<p>Incorrect type there. A <code>LocaDateTime</code> lacks the concept of time zone or offset-from-UTC. So this type cannot be used to represent a moment, cannot be a specific point on the timeline.</p>\n<p>In contrast, the legacy class <code>java.util.Date</code> does represent a moment. It represents a date with time-of-day as seen with an offset of zero.</p>\n<p>Avoid using the terribly flawed legacy date-time classes such as <code>java.util.Date</code>. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>When handed a <code>java.util.Date</code> object, immediately convert to a <code>java.time.Instant</code> object. Use new conversion methods added to the old classes.</p>\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;\n</code></pre>\n<p>To store in a database via JDBC 4.2+, convert to an <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset(ZoneOffset.UTC ) ;\n</code></pre>\n<p>Write to database:</p>\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieval:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>To present this moment to the user in a specific time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdtTokyo = odt.atZoneSameInstant( zTokyo ) ;\n</code></pre>\n<p>Use <code>DateTimeFormatter.ofLocalizedDateTime</code> to generate localized text representing the value held in <code>ZonedDateTime</code> object.</p>\n<p>Convert to <code>java.util.Date</code> only if absolutely required to interoperate with old code not yet updated for <em>java.time</em>.</p>\n<pre><code>java.util.Date d = java.util.Date.from( odt.toInstant() ) ;\n</code></pre>\n<blockquote>\n<p><code>.toLocalDateTime()</code></p>\n</blockquote>\n<p>In calling that method you <strong>discard vital information</strong>: the time zone or offset-from-UTC. And you get <strong>no benefit in return</strong>. All you get is an inherently ambiguous date with time-of-day.</p>\n<p>When tracking specific points on the timeline, there should be no use of <code>LocalDateTime</code>.</p>\n<p>For example, I cannot imagine a scenario where calling <code>LocalDateTime.now()</code> would be wise.</p>\n"}],"owner":{"account_id":24428609,"reputation":1,"user_id":18353857,"display_name":"Siyamcela Nxuseka"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699271784,"creation_date":1698853118,"question_id":77403830,"body_markdown":"I am saving Date using UTC time in the database below is sample code.\r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@Slf4j\r\npublic class Application {\r\n\r\n\t@PostConstruct\r\n\tvoid started() {\r\n\t\tString timezone = &quot;UTC&quot;;\r\n\t\tTimeZone.setDefault(TimeZone.getTimeZone(timezone));\r\n\t\tlog.info(&quot;Timezone {} is setup as default&quot;, timezone);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DmDexApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAs expected Date is saved with - 2 hours in the database but now the issue is when I retrieve the date and try to convert it to local time I am getting challenges on this implementation \r\n\r\n\r\nI have added the below implementation where I am using my timezone which is &quot;Europe/Berlin&quot; and it&#39;s +1 hours which means if I posted an incident at &quot;*2023-11-01T14:00:02.038Z*&quot; it will be saved in the database as &quot;2023-11-01T12:00:02.038Z&quot;. I am sending an email and since my current time zone is +1 hour Date is &quot;*2023-11-01T13:00:02.038Z*&quot; instead of *2023-11-01T14:00:02.038Z* below is my code I added\r\n\r\n\r\n```\r\npublic static LocalDateTime convertInTimeZone(Date date, ZoneId timezone) {\r\n        if (timezone == null) {\r\n            return date.toInstant().atZone(TimeZone.getDefault().toZoneId()).toLocalDateTime();\r\n        }\r\n        return date.toInstant().atZone(timezone).toLocalDateTime();\r\n    }\r\n```\r\n\r\ntimezone is &quot;Europe/Berlin&quot;\r\n","title":"Java Convert UTC to Local time","body":"<p>I am saving Date using UTC time in the database below is sample code.</p>\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class Application {\n\n    @PostConstruct\n    void started() {\n        String timezone = &quot;UTC&quot;;\n        TimeZone.setDefault(TimeZone.getTimeZone(timezone));\n        log.info(&quot;Timezone {} is setup as default&quot;, timezone);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(DmDexApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>As expected Date is saved with - 2 hours in the database but now the issue is when I retrieve the date and try to convert it to local time I am getting challenges on this implementation</p>\n<p>I have added the below implementation where I am using my timezone which is &quot;Europe/Berlin&quot; and it's +1 hours which means if I posted an incident at &quot;<em>2023-11-01T14:00:02.038Z</em>&quot; it will be saved in the database as &quot;2023-11-01T12:00:02.038Z&quot;. I am sending an email and since my current time zone is +1 hour Date is &quot;<em>2023-11-01T13:00:02.038Z</em>&quot; instead of <em>2023-11-01T14:00:02.038Z</em> below is my code I added</p>\n<pre><code>public static LocalDateTime convertInTimeZone(Date date, ZoneId timezone) {\n        if (timezone == null) {\n            return date.toInstant().atZone(TimeZone.getDefault().toZoneId()).toLocalDateTime();\n        }\n        return date.toInstant().atZone(timezone).toLocalDateTime();\n    }\n</code></pre>\n<p>timezone is &quot;Europe/Berlin&quot;</p>\n"},{"tags":["java","android","android-tv"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1699271274,"post_id":77430511,"comment_id":136506300,"body_markdown":"It sounds like you need to control the hardware, installing an Android build that behaves in the way that you want.","body":"It sounds like you need to control the hardware, installing an Android build that behaves in the way that you want."},{"owner":{"account_id":29835744,"reputation":1,"user_id":22865140,"display_name":"Oleksii Kovalchuk"},"score":0,"creation_date":1699271544,"post_id":77430511,"comment_id":136506344,"body_markdown":"So you&#39;re saying it&#39;s impossible with device out of the box?","body":"So you&#39;re saying it&#39;s impossible with device out of the box?"},{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1699271623,"post_id":77430511,"comment_id":136506355,"body_markdown":"I am saying that you are at the mercy of the device manufacturer.","body":"I am saying that you are at the mercy of the device manufacturer."}],"owner":{"account_id":29835744,"reputation":1,"user_id":22865140,"display_name":"Oleksii Kovalchuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699271600,"creation_date":1699267873,"question_id":77430511,"body_markdown":"I&#39;m trying to create a kind of interactive dashboard app for Android TV.\r\nThe app mainly targets Android 11 and Android 9 (but not critical).\r\nThe idea is to have an app that runs 24/7 on Xiaomi Android TV device as long as it stays foreground.\r\nThe problem I faced so far is that operating system at Xiaomi Android TV after some period of time unpredictably kills my app, returns to the home screen and launches screensaver. After numerous experiments I could prolong my app&#39;s life from 5-6 hours to 2-3 days, but the problem persists.\r\nAnd what&#39;s important here is that when the app goes to background - it&#39;s fine, Android can do whatever it needs to do with it, however when it&#39;s in foreground mode - DON&#39;T TOUCH IT.\r\nAnd one more thing, I don&#39;t need to publish my app to Play Market - I just install APK from USB stick, so that I can ask for any permission I need to run my app.\r\n\r\nFirst thing I did was:\r\n```\r\ngetWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n```\r\nThe app worked 5-6 hours before getting terminated by the OS.\r\nThen I tried to dig further and added wake lock and enabled sustained performance mode:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n...\r\nPowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\r\nWakeLock wakeLock = powerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK,\r\n        &quot;MyApp::MyWakelockTag&quot;);\r\nwakeLock.acquire();\r\n...\r\ngetWindow().setSustainedPerformanceMode(true);\r\n```\r\nThe code above prolonged my app&#39;s life up to 2-3 days, which is better than it was before but still not a 24/7 I need. Just like I said, Xiaomi TV with Android 11 still terminates my app, goes to home screen, and then displays screen saver after 5 minutes of idle.\r\nWhat else did I try.. ah &quot;Ignore Battery Optimization&quot; feature. I know that it&#39;s primarily for background services to keep them alive but decided to give it a try:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\r\n...\r\nIntent intent = new Intent();\r\nString packageName = getPackageName();\r\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\nif (pm != null &amp;&amp; !pm.isIgnoringBatteryOptimizations(packageName)) {\r\n    intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\r\n    intent.setData(Uri.parse(&quot;package:&quot; + packageName));\r\n    startActivity(intent);\r\n}\r\n```\r\nbut the screen for disabling battery optimization for my app does not appear on both Android TV 11 emulator and real Xiaomi TV device. In fact, nothing happens when I call `startActivity`. Nevertheless I wen to system settings and disabled battery optimization for my app manually. And guess what - that didn&#39;t help either.\r\nTried to write sticky background service to restart my app by launching it&#39;s main activity every 10 seconds, but when I terminate my app, service&#39;s `startActivity` does nothing as well.\r\nI&#39;m kinda stuck and wondering if that&#39;s really possible on Android?","title":"Android TV - app that runs 24/7 in foreground mode","body":"<p>I'm trying to create a kind of interactive dashboard app for Android TV.\nThe app mainly targets Android 11 and Android 9 (but not critical).\nThe idea is to have an app that runs 24/7 on Xiaomi Android TV device as long as it stays foreground.\nThe problem I faced so far is that operating system at Xiaomi Android TV after some period of time unpredictably kills my app, returns to the home screen and launches screensaver. After numerous experiments I could prolong my app's life from 5-6 hours to 2-3 days, but the problem persists.\nAnd what's important here is that when the app goes to background - it's fine, Android can do whatever it needs to do with it, however when it's in foreground mode - DON'T TOUCH IT.\nAnd one more thing, I don't need to publish my app to Play Market - I just install APK from USB stick, so that I can ask for any permission I need to run my app.</p>\n<p>First thing I did was:</p>\n<pre><code>getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n</code></pre>\n<p>The app worked 5-6 hours before getting terminated by the OS.\nThen I tried to dig further and added wake lock and enabled sustained performance mode:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n...\nPowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\nWakeLock wakeLock = powerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK,\n        &quot;MyApp::MyWakelockTag&quot;);\nwakeLock.acquire();\n...\ngetWindow().setSustainedPerformanceMode(true);\n</code></pre>\n<p>The code above prolonged my app's life up to 2-3 days, which is better than it was before but still not a 24/7 I need. Just like I said, Xiaomi TV with Android 11 still terminates my app, goes to home screen, and then displays screen saver after 5 minutes of idle.\nWhat else did I try.. ah &quot;Ignore Battery Optimization&quot; feature. I know that it's primarily for background services to keep them alive but decided to give it a try:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\n...\nIntent intent = new Intent();\nString packageName = getPackageName();\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nif (pm != null &amp;&amp; !pm.isIgnoringBatteryOptimizations(packageName)) {\n    intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\n    intent.setData(Uri.parse(&quot;package:&quot; + packageName));\n    startActivity(intent);\n}\n</code></pre>\n<p>but the screen for disabling battery optimization for my app does not appear on both Android TV 11 emulator and real Xiaomi TV device. In fact, nothing happens when I call <code>startActivity</code>. Nevertheless I wen to system settings and disabled battery optimization for my app manually. And guess what - that didn't help either.\nTried to write sticky background service to restart my app by launching it's main activity every 10 seconds, but when I terminate my app, service's <code>startActivity</code> does nothing as well.\nI'm kinda stuck and wondering if that's really possible on Android?</p>\n"},{"tags":["java","mocking","okhttp","android-testing","mockwebserver"],"owner":{"account_id":1179053,"reputation":2329,"user_id":1154390,"accept_rate":31,"display_name":"user1154390"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699271454,"creation_date":1699271454,"question_id":77430877,"body_markdown":"I&#39;m using OkHttp&#39;s MockWebServer for API mocking in my Android instrumentation tests. It&#39;s been effective so far, but I&#39;ve encountered an issue where making a second call to the same endpoint within the same test case consistently results in a `java.net.SocketTimeoutException: timeout` error.\r\n\r\nIn more detail, I need to load a fragment with the web mock server&#39;s response. This part is working as expected. However, in the second part of my test, I aim to verify that the displayed data matches the API response. To do this, I need to make a second call to the repository.\r\n\r\nI&#39;ve prepared a simplified test case to illustrate the problem.\r\n\r\n\r\n    @Before\r\n        fun setUp() {\r\n            hiltRule.inject()\r\n            mockWebServer.start()\r\n            val response = SharedUtil.searchAPIMockWebServerResponseWith200()\r\n            mockWebServer.enqueue(response)\r\n        }\r\n    \r\n    @Test\r\n        fun testCalls() {\r\n            runBlocking {\r\n                val firstFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\r\n                val secondFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\r\n    \r\n                // This call works fine\r\n                firstFlow.collectLatest { outcome -&gt;\r\n                    if (outcome is Outcome.Success) {\r\n                        println(&quot;output one $outcome&quot;)\r\n                    }\r\n\r\n\r\n                delay(1000) // to complete the first request\r\n                    // this call always throw exception java.net.SocketTimeoutException: timeout\r\n                    secondFlow.collectLatest { outcome -&gt;\r\n                        if (outcome is Outcome.Success) {\r\n                            println(&quot;output one $outcome &quot;)\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n     fun tearDown() {\r\n            mockWebServer.shutdown()\r\n        }\r\n\r\njava.net.SocketTimeoutException: timeout\r\n\r\n[![Stacktrace ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hcTme.png\r\n\r\nThanks in advance","title":"OkHttp MockWebServer throws java.net.SocketTimeoutException: timeout - exception","body":"<p>I'm using OkHttp's MockWebServer for API mocking in my Android instrumentation tests. It's been effective so far, but I've encountered an issue where making a second call to the same endpoint within the same test case consistently results in a <code>java.net.SocketTimeoutException: timeout</code> error.</p>\n<p>In more detail, I need to load a fragment with the web mock server's response. This part is working as expected. However, in the second part of my test, I aim to verify that the displayed data matches the API response. To do this, I need to make a second call to the repository.</p>\n<p>I've prepared a simplified test case to illustrate the problem.</p>\n<pre><code>@Before\n    fun setUp() {\n        hiltRule.inject()\n        mockWebServer.start()\n        val response = SharedUtil.searchAPIMockWebServerResponseWith200()\n        mockWebServer.enqueue(response)\n    }\n\n@Test\n    fun testCalls() {\n        runBlocking {\n            val firstFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\n            val secondFlow = productRepo.getMatchedProducts(&quot;Search&quot;)\n\n            // This call works fine\n            firstFlow.collectLatest { outcome -&gt;\n                if (outcome is Outcome.Success) {\n                    println(&quot;output one $outcome&quot;)\n                }\n\n\n            delay(1000) // to complete the first request\n                // this call always throw exception java.net.SocketTimeoutException: timeout\n                secondFlow.collectLatest { outcome -&gt;\n                    if (outcome is Outcome.Success) {\n                        println(&quot;output one $outcome &quot;)\n                    }\n                }\n\n            }\n        }\n    }\n\n fun tearDown() {\n        mockWebServer.shutdown()\n    }\n</code></pre>\n<p>java.net.SocketTimeoutException: timeout</p>\n<p><a href=\"https://i.stack.imgur.com/hcTme.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hcTme.png\" alt=\"Stacktrace \" /></a></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","httpurlconnection","persistent"],"answers":[{"tags":[],"owner":{"account_id":16614,"reputation":1490,"user_id":36397,"accept_rate":62,"display_name":"yclian"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1699270769,"creation_date":1279748427,"answer_id":3304107,"question_id":3304006,"body_markdown":"According to the [documentation here][1], HTTP persistence is being handled transparently in Java, although it gives you the options to control it too via `http.keepAlive` and `http.maxConnections` system properties.\r\n\r\nHowever,\r\n\r\n&gt; The current implementation doesn&#39;t\r\n&gt; buffer the response body. Which means\r\n&gt; that the application has to finish\r\n&gt; reading the response body or call\r\n&gt; close() to abandon the rest of the\r\n&gt; response body, in order for that\r\n&gt; connection to be reused. Furthermore,\r\n&gt; current implementation will not try\r\n&gt; block-reading when cleaning up the\r\n&gt; connection, meaning if the whole\r\n&gt; response body is not available, the\r\n&gt; connection will not be reused.\r\n\r\nTake a look at the link and see if it really helps you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html\r\n","title":"Persistent HttpURLConnection in Java","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html\" rel=\"nofollow noreferrer\">documentation here</a>, HTTP persistence is being handled transparently in Java, although it gives you the options to control it too via <code>http.keepAlive</code> and <code>http.maxConnections</code> system properties.</p>\n<p>However,</p>\n<blockquote>\n<p>The current implementation doesn't\nbuffer the response body. Which means\nthat the application has to finish\nreading the response body or call\nclose() to abandon the rest of the\nresponse body, in order for that\nconnection to be reused. Furthermore,\ncurrent implementation will not try\nblock-reading when cleaning up the\nconnection, meaning if the whole\nresponse body is not available, the\nconnection will not be reused.</p>\n</blockquote>\n<p>Take a look at the link and see if it really helps you.</p>\n"},{"tags":[],"owner":{"account_id":9619283,"reputation":51,"user_id":7141043,"display_name":"allen zhang"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1699270922,"creation_date":1487215681,"answer_id":42264305,"question_id":3304006,"body_markdown":"According to this link http://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html, HTTP connection reuse is enabled by default, you can use Wireshark to check the interactions between your client and server. The first request contains TCP and SSL handshakes(if your request is https), the subsequent requests fired in the keep-alive time, contains no TCP and SSL handshakes, just application data transfers.","title":"Persistent HttpURLConnection in Java","body":"<p>According to this link <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/net/http-keepalive.html</a>, HTTP connection reuse is enabled by default, you can use Wireshark to check the interactions between your client and server. The first request contains TCP and SSL handshakes(if your request is https), the subsequent requests fired in the keep-alive time, contains no TCP and SSL handshakes, just application data transfers.</p>\n"},{"tags":[],"owner":{"account_id":1121028,"reputation":353,"user_id":1115256,"accept_rate":57,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615552345,"creation_date":1615552345,"answer_id":66600001,"question_id":3304006,"body_markdown":"Even though HttpURLConnection enable keep-alive by default, it is not guaranteed that HttpURLConnection uses same TCP connection for multiple HTTP requests. I faced same kind of issue when writing HTTPS client application. Solved this issue by using single instance of SSLContext, SSLSocketFactory and HttpsURLConnection.\r\n\r\n```\r\npublic class MyHTTPClient {\r\n    private SSLContext mSSLContext = null;\r\n    private SSLSocketFactory mSSLSocketFactory = null;\r\n    private HttpsURLConnection mConnection = null;\r\n\r\n    public void init() {\r\n        //Setup SSL context and Socket factory here\r\n    }\r\n\r\n    pubblic void sendRequest() {\r\n        URL url = new URL(&quot;https://example.com/request_receiver&quot;);\r\n        mConnection = (HttpsURLConnection) url.openConnection();\r\n        mConnection.setSSLSocketFactory(mSSLSocketFactory);\r\n\r\n        // Setup request property and send request\r\n        // Open input stream to read response\r\n        // Close output, input streams\r\n        \r\n        mConnection.disconnect();\r\n    }\r\n}\r\n```","title":"Persistent HttpURLConnection in Java","body":"<p>Even though HttpURLConnection enable keep-alive by default, it is not guaranteed that HttpURLConnection uses same TCP connection for multiple HTTP requests. I faced same kind of issue when writing HTTPS client application. Solved this issue by using single instance of SSLContext, SSLSocketFactory and HttpsURLConnection.</p>\n<pre><code>public class MyHTTPClient {\n    private SSLContext mSSLContext = null;\n    private SSLSocketFactory mSSLSocketFactory = null;\n    private HttpsURLConnection mConnection = null;\n\n    public void init() {\n        //Setup SSL context and Socket factory here\n    }\n\n    pubblic void sendRequest() {\n        URL url = new URL(&quot;https://example.com/request_receiver&quot;);\n        mConnection = (HttpsURLConnection) url.openConnection();\n        mConnection.setSSLSocketFactory(mSSLSocketFactory);\n\n        // Setup request property and send request\n        // Open input stream to read response\n        // Close output, input streams\n        \n        mConnection.disconnect();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":171216,"reputation":213,"user_id":398485,"display_name":"Githaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31330,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":3304107,"answer_count":3,"score":21,"last_activity_date":1699270922,"creation_date":1279747685,"question_id":3304006,"body_markdown":"I am trying to write a java program that will automatically download and name some of my favorite web comics. Since I will be requesting multiple objects from the same domain, I wanted to have a persistent http connection that I could keep open until all the comics have been downloaded. Below is my work-in-progress. How do I make another request from the same domain but different path without opening a new http connection?\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class ComicDownloader\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            URL url = null;\r\n            HttpURLConnection httpc = null;\r\n            BufferedReader input = null;\r\n            \r\n            try\r\n            {\r\n                url = new URL(&quot;http://www.cad-comic.com/cad/archive/2002&quot;);\r\n                httpc = (HttpURLConnection) url.openConnection();\r\n                input = new BufferedReader(new InputStreamReader(httpc.getInputStream()));\r\n                String inputLine;\r\n                \r\n                while ((inputLine = input.readLine()) != null)\r\n                {\r\n                    System.out.println(inputLine);\r\n                }\r\n    \r\n                input.close();\r\n                httpc.disconnect();\r\n            }\r\n            catch (IOException ex)\r\n            {\r\n                System.out.println(ex);\r\n            }\r\n        }\r\n    }","title":"Persistent HttpURLConnection in Java","body":"<p>I am trying to write a java program that will automatically download and name some of my favorite web comics. Since I will be requesting multiple objects from the same domain, I wanted to have a persistent http connection that I could keep open until all the comics have been downloaded. Below is my work-in-progress. How do I make another request from the same domain but different path without opening a new http connection?</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class ComicDownloader\n{\n    public static void main(String[] args)\n    {\n        URL url = null;\n        HttpURLConnection httpc = null;\n        BufferedReader input = null;\n\n        try\n        {\n            url = new URL(\"http://www.cad-comic.com/cad/archive/2002\");\n            httpc = (HttpURLConnection) url.openConnection();\n            input = new BufferedReader(new InputStreamReader(httpc.getInputStream()));\n            String inputLine;\n\n            while ((inputLine = input.readLine()) != null)\n            {\n                System.out.println(inputLine);\n            }\n\n            input.close();\n            httpc.disconnect();\n        }\n        catch (IOException ex)\n        {\n            System.out.println(ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","jpa"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1699182684,"post_id":77425559,"comment_id":136496962,"body_markdown":"How does your test class look alike?","body":"How does your test class look alike?"}],"answers":[{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699220675,"creation_date":1699220675,"answer_id":77427778,"question_id":77425559,"body_markdown":"The answer was in the [Spring Boot guide](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.user-configuration-and-slicing): I have to remove such annotations from the main class of the application.\r\n\r\nMy main class is now &quot;clean&quot; :\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nI then have a bunch of &quot;@Configuration&quot; files, one for each area of the application. For example I have one for Jackson, one for JPA, one for Swagger, etc. This separation of the config makes it easier to perform targeted testing with Spring Boot&#39;s [`@...Test` annotations](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-tests), like the `@JsonTest` annotation.\r\n\r\nFor example, my configuration file for JPA stuff looks like this:\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\n@EnableJpaRepositories(considerNestedRepositories = true)\r\npublic class JpaConfig {\r\n}\r\n```\r\n(yes, it is empty, but I might have something to put in there some day, the main point was to have a place to put the `@EnableJpaRepositories` annotation.)\r\n\r\nThe tests using test slicing (like `@JsonTest`) do not pick up all my &quot;@Configuration&quot; files, it only auto-detects the application&#39;s main class. So in in such tests I therefore have to explicitly pull in (import) the appropriate config, like this:\r\n\r\n```java\r\n@JsonTest()\r\n@Import({JacksonConfig.class,JacksonTest.JacksonTestConfig.class})\r\npublic class MyJacksonTest {\r\n...\r\n}\r\n```\r\nHere I pull in the application&#39;s general Jackson config (the `JacksonConfig` class). In addition I pull in some additional config, `JacksonTest.JacksonTestConfig`, which lives in the test tree. All in all, using this technique I can &quot;compose&quot; what config I want to have added to my test.\r\n\r\nThe morale is: Keep your main class free of config-related annotations, in particular if they apply to an area that you may not want to have applied with sliced testing. The unfortunate thing is that the Internet is full of recommendations where people will say: &quot;just add this annotation to your main class&quot; ... but this is not always a good idea.\r\n\r\n","title":"Spring Boot @JsonTest pulls in JPA","body":"<p>The answer was in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.user-configuration-and-slicing\" rel=\"nofollow noreferrer\">Spring Boot guide</a>: I have to remove such annotations from the main class of the application.</p>\n<p>My main class is now &quot;clean&quot; :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>I then have a bunch of &quot;@Configuration&quot; files, one for each area of the application. For example I have one for Jackson, one for JPA, one for Swagger, etc. This separation of the config makes it easier to perform targeted testing with Spring Boot's <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-tests\" rel=\"nofollow noreferrer\"><code>@...Test</code> annotations</a>, like the <code>@JsonTest</code> annotation.</p>\n<p>For example, my configuration file for JPA stuff looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\n@EnableJpaRepositories(considerNestedRepositories = true)\npublic class JpaConfig {\n}\n</code></pre>\n<p>(yes, it is empty, but I might have something to put in there some day, the main point was to have a place to put the <code>@EnableJpaRepositories</code> annotation.)</p>\n<p>The tests using test slicing (like <code>@JsonTest</code>) do not pick up all my &quot;@Configuration&quot; files, it only auto-detects the application's main class. So in in such tests I therefore have to explicitly pull in (import) the appropriate config, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTest()\n@Import({JacksonConfig.class,JacksonTest.JacksonTestConfig.class})\npublic class MyJacksonTest {\n...\n}\n</code></pre>\n<p>Here I pull in the application's general Jackson config (the <code>JacksonConfig</code> class). In addition I pull in some additional config, <code>JacksonTest.JacksonTestConfig</code>, which lives in the test tree. All in all, using this technique I can &quot;compose&quot; what config I want to have added to my test.</p>\n<p>The morale is: Keep your main class free of config-related annotations, in particular if they apply to an area that you may not want to have applied with sliced testing. The unfortunate thing is that the Internet is full of recommendations where people will say: &quot;just add this annotation to your main class&quot; ... but this is not always a good idea.</p>\n"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77427778,"answer_count":1,"score":0,"last_activity_date":1699270785,"creation_date":1699180182,"question_id":77425559,"body_markdown":"Spring Boot 3.1\r\n\r\nOn a test class annotated with `@JsonTest` I should supposedly only get wired the minimal stuff necessary for JSON serialization/de-serialization testing. Not so.\r\n\r\nI have my main application class annotated as follows:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableJpaRepositories(considerNestedRepositories = true)\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nThe `@EnableJpaRepositories` annotation causes the JsonTest to attempt to start all of the JPA stuff, even if that is not the intention. This is documented [here](https://github.com/spring-projects/spring-boot/issues/5776). There is also [this ticket](https://github.com/spring-projects/spring-boot/issues/6015) which is closed without further comments.\r\n\r\nWhat are my options? I need the `@EnableJpaRepositories` annotation because I need the `considerNestedRepositories` setting. So I cannot just leave it out.\r\n","title":"Spring Boot @JsonTest pulls in JPA","body":"<p>Spring Boot 3.1</p>\n<p>On a test class annotated with <code>@JsonTest</code> I should supposedly only get wired the minimal stuff necessary for JSON serialization/de-serialization testing. Not so.</p>\n<p>I have my main application class annotated as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableJpaRepositories(considerNestedRepositories = true)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>The <code>@EnableJpaRepositories</code> annotation causes the JsonTest to attempt to start all of the JPA stuff, even if that is not the intention. This is documented <a href=\"https://github.com/spring-projects/spring-boot/issues/5776\" rel=\"nofollow noreferrer\">here</a>. There is also <a href=\"https://github.com/spring-projects/spring-boot/issues/6015\" rel=\"nofollow noreferrer\">this ticket</a> which is closed without further comments.</p>\n<p>What are my options? I need the <code>@EnableJpaRepositories</code> annotation because I need the <code>considerNestedRepositories</code> setting. So I cannot just leave it out.</p>\n"},{"tags":["java","mongodb","gradle","dependencies","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":27933686,"reputation":1,"user_id":21331113,"display_name":"Kiart Tantasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270622,"creation_date":1699270622,"answer_id":77430791,"question_id":76464193,"body_markdown":"In my case, I have to add package `mongodb-driver-core` along\r\n\r\nit would be like\r\n```\r\ndependencies {\r\n\t// https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core\r\n\timplementation &#39;org.mongodb:mongodb-driver-core:4.11.0&#39;\r\n\t// https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync\r\n\timplementation &#39;org.mongodb:mongodb-driver-sync:4.11.0&#39;\r\n}\r\n```\r\n\r\nI am not sure why [official documentation](https://www.mongodb.com/docs/drivers/java/sync/current/quick-start/#add-mongodb-as-a-dependency) does not say about this. If they just forgot, I would be very upset since I spent 2 days solving this issue.\r\n\r\nI think a lot of developers are still using legacy [mongo-java-driver](https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver) because of this issue. sad","title":"Using mongodb-driver-sync from build.gradle","body":"<p>In my case, I have to add package <code>mongodb-driver-core</code> along</p>\n<p>it would be like</p>\n<pre><code>dependencies {\n    // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core\n    implementation 'org.mongodb:mongodb-driver-core:4.11.0'\n    // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync\n    implementation 'org.mongodb:mongodb-driver-sync:4.11.0'\n}\n</code></pre>\n<p>I am not sure why <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/quick-start/#add-mongodb-as-a-dependency\" rel=\"nofollow noreferrer\">official documentation</a> does not say about this. If they just forgot, I would be very upset since I spent 2 days solving this issue.</p>\n<p>I think a lot of developers are still using legacy <a href=\"https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver\" rel=\"nofollow noreferrer\">mongo-java-driver</a> because of this issue. sad</p>\n"}],"owner":{"account_id":20169331,"reputation":21,"user_id":14792496,"display_name":"Ritvik Aryan Kalra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699270622,"creation_date":1686653781,"question_id":76464193,"body_markdown":"I have a task in which I have to use Gradle&#39;s test listener to log data about Junit Tests and dump them in a mongo database. I had installed the mongodb-driver-sync library and included it in the dependencies block of the build.gradle. The build.gradle looks as follows:\r\n\r\n```\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoDatabase;\r\n\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\ntasks.regsister(&quot;connectToMongoDB&quot;) {\r\n    doLast {\r\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;mydb&quot;);\r\n        println(database.getName())\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.mongodb:mongodb-driver-sync:4.9.0&#39;\r\n    testImplementation platform(&#39;org.junit:junit-bom:5.9.2&#39;)\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.2&#39;\r\n}\r\n```\r\n\r\nBut this throws me the error `unable to resolve class com.mongodb.client.MongoClients`. \r\n\r\nI also have run `./gradlew clean` `./gradlew build`, reloaded all the gradle projects in IntelliJ IDEA. \r\n\r\nI want to know whether this is even possible or not? If it is then how or should I look form some different approach.\r\n","title":"Using mongodb-driver-sync from build.gradle","body":"<p>I have a task in which I have to use Gradle's test listener to log data about Junit Tests and dump them in a mongo database. I had installed the mongodb-driver-sync library and included it in the dependencies block of the build.gradle. The build.gradle looks as follows:</p>\n<pre><code>import com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoDatabase;\n\nplugins {\n    id 'java-library'\n}\n\ntasks.regsister(&quot;connectToMongoDB&quot;) {\n    doLast {\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n        MongoDatabase database = mongoClient.getDatabase(&quot;mydb&quot;);\n        println(database.getName())\n    }\n}\n\ndependencies {\n    implementation 'org.mongodb:mongodb-driver-sync:4.9.0'\n    testImplementation platform('org.junit:junit-bom:5.9.2')\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.2'\n}\n</code></pre>\n<p>But this throws me the error <code>unable to resolve class com.mongodb.client.MongoClients</code>.</p>\n<p>I also have run <code>./gradlew clean</code> <code>./gradlew build</code>, reloaded all the gradle projects in IntelliJ IDEA.</p>\n<p>I want to know whether this is even possible or not? If it is then how or should I look form some different approach.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699269048,"post_id":77430607,"comment_id":136505952,"body_markdown":"Please include the relevant code in the question, do not simply link it in!","body":"Please include the relevant code in the question, do not simply link it in!"}],"answers":[{"tags":[],"owner":{"account_id":29837370,"reputation":11,"user_id":22866468,"display_name":"naveen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699268981,"creation_date":1699268981,"answer_id":77430628,"question_id":77430607,"body_markdown":"change this from &quot;spring.jpa.hibernate.ddl-auto=create-drop&quot; to &quot;spring.jpa.hibernate.ddl-auto=update&quot;","title":"Table is not creating in MySQL server from Spring JPA","body":"<p>change this from &quot;spring.jpa.hibernate.ddl-auto=create-drop&quot; to &quot;spring.jpa.hibernate.ddl-auto=update&quot;</p>\n"},{"tags":[],"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270600,"creation_date":1699269051,"answer_id":77430636,"question_id":77430607,"body_markdown":"Entity scan is incorrect @EntityScan(basePackages = {&quot;com.springboot.Model&quot;}) . it should be \r\n\r\n    @EntityScan(basePackages = {&quot;in.suvam.learn&quot;})\r\n\r\n\r\ncreate-drop – The Hibernate will drop the database after all operations are completed. As per naveen&#39;s comment, pls use update","title":"Table is not creating in MySQL server from Spring JPA","body":"<p>Entity scan is incorrect @EntityScan(basePackages = {&quot;com.springboot.Model&quot;}) . it should be</p>\n<pre><code>@EntityScan(basePackages = {&quot;in.suvam.learn&quot;})\n</code></pre>\n<p>create-drop – The Hibernate will drop the database after all operations are completed. As per naveen's comment, pls use update</p>\n"}],"owner":{"account_id":29815486,"reputation":11,"user_id":22849856,"display_name":"Suvam Naskar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1699271546,"answer_count":2,"score":-1,"last_activity_date":1699270600,"creation_date":1699268734,"question_id":77430607,"body_markdown":"I have written the code. It goes like -\r\n\r\n**Here is my GitHub Repo - https://github.com/SuvamNaskar/spring-learn.git**\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:2023/student?createDatabaseIfNotExist=true&amp;useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=system32\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.data.jpa.repositories.enabled=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.thymeleaf.check-template-location=false\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.defer-datasource-initialization= true\r\nspring.jpa.open-in-view=false\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```\r\nThis is my `application.properties` file. I have tried every single thing I knew.\r\n\r\n[There is no error in the terminal](https://i.stack.imgur.com/qMp9P.png) &lt;= Click here to view image\r\n\r\n[But no table is created. This is in MySQL WorkBench](https://i.stack.imgur.com/NLwUv.png) &lt;= Click here to view image\r\n\r\nI have tried to create the table from Spring JPA into MySQL\r\n\r\nMy expectation is, when I run the program if the table is not present then it should create the table.","title":"Table is not creating in MySQL server from Spring JPA","body":"<p>I have written the code. It goes like -</p>\n<p><strong>Here is my GitHub Repo - <a href=\"https://github.com/SuvamNaskar/spring-learn.git\" rel=\"nofollow noreferrer\">https://github.com/SuvamNaskar/spring-learn.git</a></strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:2023/student?createDatabaseIfNotExist=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=system32\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.data.jpa.repositories.enabled=true\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.thymeleaf.check-template-location=false\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.defer-datasource-initialization= true\nspring.jpa.open-in-view=false\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>This is my <code>application.properties</code> file. I have tried every single thing I knew.</p>\n<p><a href=\"https://i.stack.imgur.com/qMp9P.png\" rel=\"nofollow noreferrer\">There is no error in the terminal</a> &lt;= Click here to view image</p>\n<p><a href=\"https://i.stack.imgur.com/NLwUv.png\" rel=\"nofollow noreferrer\">But no table is created. This is in MySQL WorkBench</a> &lt;= Click here to view image</p>\n<p>I have tried to create the table from Spring JPA into MySQL</p>\n<p>My expectation is, when I run the program if the table is not present then it should create the table.</p>\n"},{"tags":["java","spring","spring-boot","jdbc","hikaricp"],"comments":[{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1617372007,"post_id":66920429,"comment_id":118291677,"body_markdown":"Do you get a stacktrace with that error?","body":"Do you get a stacktrace with that error?"},{"owner":{"account_id":12170986,"reputation":43,"user_id":8885678,"display_name":"EMRE BİNNAZ"},"score":0,"creation_date":1617372332,"post_id":66920429,"comment_id":118291796,"body_markdown":"I added the stacktrace","body":"I added the stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":1332279,"reputation":337,"user_id":1275904,"display_name":"forrestg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618396521,"creation_date":1618396521,"answer_id":67090062,"question_id":66920429,"body_markdown":"based on your description, one possible reason is your data connection exceed max pool size(which set to 10). Root cause of this could be connection leak in your code. Do you close the connection properly? Either close it explicitly as:\r\n \r\n\r\n    statement.close();\r\n    connection.close();\r\nor\r\n\r\n    try (Connection connection = ***;\r\n    PreparedStatement statement = *** )\r\n    catch (SQLException ex) {***}\r\n\r\nYou could enable Hikari log to inspect if this is the case. logback.xml\r\n\r\n    &lt;logger name=&quot;com.zaxxer.hikari&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n    &lt;/logger&gt;","title":"Hikari Pool Connection is not available Error","body":"<p>based on your description, one possible reason is your data connection exceed max pool size(which set to 10). Root cause of this could be connection leak in your code. Do you close the connection properly? Either close it explicitly as:</p>\n<pre><code>statement.close();\nconnection.close();\n</code></pre>\n<p>or</p>\n<pre><code>try (Connection connection = ***;\nPreparedStatement statement = *** )\ncatch (SQLException ex) {***}\n</code></pre>\n<p>You could enable Hikari log to inspect if this is the case. logback.xml</p>\n<pre><code>&lt;logger name=&quot;com.zaxxer.hikari&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12796047,"reputation":1,"user_id":9258990,"display_name":"Drewno90"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270461,"creation_date":1699270461,"answer_id":77430778,"question_id":66920429,"body_markdown":"I had similar issue when using HikariCP with AzureSQL.\r\nSetting up socketTimeout property value at JDBC level (in connection string) has solved problem.\r\n\r\nSimilar issue described here:\r\nhttps://github.com/brettwooldridge/HikariCP/issues/1056\r\n\r\nYou can find more details here:\r\nhttps://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery\r\n","title":"Hikari Pool Connection is not available Error","body":"<p>I had similar issue when using HikariCP with AzureSQL.\nSetting up socketTimeout property value at JDBC level (in connection string) has solved problem.</p>\n<p>Similar issue described here:\n<a href=\"https://github.com/brettwooldridge/HikariCP/issues/1056\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/issues/1056</a></p>\n<p>You can find more details here:\n<a href=\"https://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery</a></p>\n"}],"owner":{"account_id":12170986,"reputation":43,"user_id":8885678,"display_name":"EMRE BİNNAZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699270461,"creation_date":1617371879,"question_id":66920429,"body_markdown":"I have a Spring Boot project at my server. I sometimes face &quot;Hikari pool connection is not available&quot; error. I cannot figure out its reason. I looked many problem like this. Some people suggested that some @Transactions should be closed. However, in my app I have not used any @Transactional annotation. Here is my Hikari pool configs:\r\n\r\n```\r\n# hikari settings\r\nspring.datasource.hikari.connectionTimeout=30000\r\nspring.datasource.hikari.idleTimeout=600000\r\nspring.datasource.hikari.maxLifetime=1800000\r\nspring.datasource.hikari.maximumPoolSize=10\r\n# hikari log\r\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\r\nlogging.level.com.zaxxer.hikari=TRACE\r\n\r\n```\r\nWhen I check my catalina.out log file, I notice active connections count increase sometimes. For example, yesterday there was no active connections. All connections were idle status. Right now there are 2 active connections at the pool. Am I getting this error because the connection pool is populated by all active connections?\r\n\r\nBy the way, I use a MySQL database. Should I set maxLifeTime one or two seconds less than mysql wait_timeout? I am asking this question because according to https://github.com/brettwooldridge/HikariCP,  maxLifeTime should be several seconds shorter than any database or infrastructure imposed connection time limit. Do you think maxLifeTime related with wait_timeout? \r\n\r\nHere is stacktrace of error:\r\n\r\n```\r\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48)\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)\r\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:50)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2082)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990)\r\n        at org.hibernate.loader.Loader.doQuery(Loader.java:949)\r\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2787)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2770)\r\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604)\r\n        at org.hibernate.loader.Loader.list(Loader.java:2599)\r\n        at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n        at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069)\r\n        at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506)\r\n        ... 116 more\r\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.\r\n        at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676)\r\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190)\r\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155)\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n```","title":"Hikari Pool Connection is not available Error","body":"<p>I have a Spring Boot project at my server. I sometimes face &quot;Hikari pool connection is not available&quot; error. I cannot figure out its reason. I looked many problem like this. Some people suggested that some @Transactions should be closed. However, in my app I have not used any @Transactional annotation. Here is my Hikari pool configs:</p>\n<pre><code># hikari settings\nspring.datasource.hikari.connectionTimeout=30000\nspring.datasource.hikari.idleTimeout=600000\nspring.datasource.hikari.maxLifetime=1800000\nspring.datasource.hikari.maximumPoolSize=10\n# hikari log\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\nlogging.level.com.zaxxer.hikari=TRACE\n\n</code></pre>\n<p>When I check my catalina.out log file, I notice active connections count increase sometimes. For example, yesterday there was no active connections. All connections were idle status. Right now there are 2 active connections at the pool. Am I getting this error because the connection pool is populated by all active connections?</p>\n<p>By the way, I use a MySQL database. Should I set maxLifeTime one or two seconds less than mysql wait_timeout? I am asking this question because according to <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP</a>,  maxLifeTime should be several seconds shorter than any database or infrastructure imposed connection time limit. Do you think maxLifeTime related with wait_timeout?</p>\n<p>Here is stacktrace of error:</p>\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:50)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2082)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:949)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351)\n        at org.hibernate.loader.Loader.doList(Loader.java:2787)\n        at org.hibernate.loader.Loader.doList(Loader.java:2770)\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604)\n        at org.hibernate.loader.Loader.list(Loader.java:2599)\n        at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\n        at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254)\n        at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069)\n        at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506)\n        ... 116 more\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.\n        at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676)\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190)\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155)\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1403148774,"post_id":24298077,"comment_id":37549607,"body_markdown":"You may want to look at PowerMock.","body":"You may want to look at PowerMock."}],"answers":[{"tags":[],"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1403146898,"creation_date":1403146898,"answer_id":24298099,"question_id":24298077,"body_markdown":"With standard Mockito, you can&#39;t mock static methods -- and I would question your reasons for doing so.\r\n\r\nWhat do you seek to test by mocking the `newInputStream` method? You are merely creating a tautology -- that your method returns what you told it to return. And `instanceof InputStream` is a tautology as well.\r\n\r\nIt would make more sense to mock `JavaFileInput` to test another class that depends on it (perhaps by using a `ByteArrayInputStream` with sample data).","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>With standard Mockito, you can't mock static methods -- and I would question your reasons for doing so.</p>\n\n<p>What do you seek to test by mocking the <code>newInputStream</code> method? You are merely creating a tautology -- that your method returns what you told it to return. And <code>instanceof InputStream</code> is a tautology as well.</p>\n\n<p>It would make more sense to mock <code>JavaFileInput</code> to test another class that depends on it (perhaps by using a <code>ByteArrayInputStream</code> with sample data).</p>\n"},{"tags":[],"owner":{"account_id":162885,"reputation":1922,"user_id":384646,"accept_rate":75,"display_name":"Romski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1403154148,"creation_date":1403154148,"answer_id":24299101,"question_id":24298077,"body_markdown":"I&#39;m not clear what value your `JavaFileInput` provides. However, to test static methods you can look at [PowerMock][1].\r\n\r\n\r\n  [1]: https://code.google.com/p/powermock/wiki/MockStatic","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>I'm not clear what value your <code>JavaFileInput</code> provides. However, to test static methods you can look at <a href=\"https://code.google.com/p/powermock/wiki/MockStatic\" rel=\"nofollow\">PowerMock</a>.</p>\n"},{"tags":[],"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594773822,"creation_date":1594773822,"answer_id":62905942,"question_id":24298077,"body_markdown":"I came across the same problem: I have (own) code which modifies symlinks using nio.Files.\r\n\r\nFor testing my code without having to prepare and access the file system, I had to write an own mockable wrapper class around these functions.\r\n\r\nNot so nice though that the nio JSR didn&#39;t consider this use case by defining an official interface and providing a non-static (=injectable) way for accessing `Files`. Mockito was known long before this..","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>I came across the same problem: I have (own) code which modifies symlinks using nio.Files.</p>\n<p>For testing my code without having to prepare and access the file system, I had to write an own mockable wrapper class around these functions.</p>\n<p>Not so nice though that the nio JSR didn't consider this use case by defining an official interface and providing a non-static (=injectable) way for accessing <code>Files</code>. Mockito was known long before this..</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594775164,"creation_date":1594775164,"answer_id":62906102,"question_id":24298077,"body_markdown":"Instead of using Mockito or PowerMock, you may also use a NIO2 implementation that work in memory:\r\n\r\n- [memoryfilesystem](https://github.com/glhez/memoryfilesystem)\r\n- [jimfs](https://github.com/google/jimfs)\r\n\r\nWhile this won&#39;t solve all case (or let say it, it won&#39;t answer your attempt at mocking a static method) or allow you to create flawed `InputStream` (for example, one that would return an error when reading N bytes), this may suit your use case.\r\n\r\nAlso you ask if your case make any sense:\r\n\r\n    //Setup\r\n    Mockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\r\n    \r\n    //Test\r\n    InputStream outputValue = javaFile_MockedPath.getInputStream();\r\n    \r\n    //Validate\r\n    assertTrue(outputValue instanceof InputStream);\r\n\r\nYou are testing that `outputValue` is indeed an instance of `InputStream`, which the compiler already does for you: `outputValue` is already an instance of `InputStream`, therefore asserting it is an instance of `InputStream` will never fails and your test is not checking what you want to check.\r\n\r\nYou&#39;d best to test that `outputValue` is exactly the same instance as one returned, using a mock rather than `new InputStream` for example:\r\n\r\n    InputStream is = mock(InputStream.class);\r\n    Mockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(is);\r\n    InputStream outputValue = javaFile_MockedPath.getInputStream();\r\n    assertTrue(outputValue == is);\r\n    ","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>Instead of using Mockito or PowerMock, you may also use a NIO2 implementation that work in memory:</p>\n<ul>\n<li><a href=\"https://github.com/glhez/memoryfilesystem\" rel=\"nofollow noreferrer\">memoryfilesystem</a></li>\n<li><a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">jimfs</a></li>\n</ul>\n<p>While this won't solve all case (or let say it, it won't answer your attempt at mocking a static method) or allow you to create flawed <code>InputStream</code> (for example, one that would return an error when reading N bytes), this may suit your use case.</p>\n<p>Also you ask if your case make any sense:</p>\n<pre><code>//Setup\nMockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\n\n//Test\nInputStream outputValue = javaFile_MockedPath.getInputStream();\n\n//Validate\nassertTrue(outputValue instanceof InputStream);\n</code></pre>\n<p>You are testing that <code>outputValue</code> is indeed an instance of <code>InputStream</code>, which the compiler already does for you: <code>outputValue</code> is already an instance of <code>InputStream</code>, therefore asserting it is an instance of <code>InputStream</code> will never fails and your test is not checking what you want to check.</p>\n<p>You'd best to test that <code>outputValue</code> is exactly the same instance as one returned, using a mock rather than <code>new InputStream</code> for example:</p>\n<pre><code>InputStream is = mock(InputStream.class);\nMockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(is);\nInputStream outputValue = javaFile_MockedPath.getInputStream();\nassertTrue(outputValue == is);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539162,"reputation":554,"user_id":6399834,"display_name":"Fidel Gonzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699270428,"creation_date":1699270428,"answer_id":77430772,"question_id":24298077,"body_markdown":"You can mock using Mockito:\r\n\r\n    mockStatic(Files.class);\r\n    when(Files.size(any())).thenReturn(5000L);","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>You can mock using Mockito:</p>\n<pre><code>mockStatic(Files.class);\nwhen(Files.size(any())).thenReturn(5000L);\n</code></pre>\n"}],"owner":{"account_id":3840193,"reputation":643,"user_id":3183532,"accept_rate":57,"display_name":"Chiefwarpaint"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11549,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24299101,"answer_count":5,"score":4,"last_activity_date":1699270428,"creation_date":1403146717,"question_id":24298077,"body_markdown":"I&#39;m trying to understand how you can mock static methods, specifically from the static Files.class.\r\n\r\nBasically, whenever this line executes:\r\n\r\n     Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\r\n\r\nI want it to just return an object that is an instance of an InputStream.\r\n\r\nThe is my class with the static method I&#39;m trying to mock.\r\n\r\n    public class JavaFileInput{\r\n\t\r\n\tprivate Path path;\r\n\t\r\n\tpublic JavaFileInput(Path path){\r\n\t\tthis.path = path;\r\n\t}\r\n\t\r\n\tpublic InputStream getInputStream() throws IOException {\r\n\t\treturn Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\r\n\t}\r\n\t\r\n\tpublic Path getPathObj() {\r\n\t\treturn this.path;\r\n\t}\r\n\t\r\n\t}\r\n\r\n\r\nThis is some &quot;psuedo-ish&quot; unit test code that obviously doesn&#39;t work, but I hope it portrays the idea of what I&#39;m trying to accomplish.\r\n\r\n\t@Mock(name=&quot;path&quot;)\r\n\tprivate Path mockedPath = Mockito.mock(Path.class);\r\n\r\n    @InjectMocks\r\n\tprivate JavaFileInput javaFile_MockedPath;\r\n\r\n    @Before\r\n\tpublic void testSetup(){\r\n      javaFile_MockedPath = new JavaFileInput(mockedPath);\r\n      MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n\tpublic void getNewInputStreamTest(){\r\n\t\t//Setup\r\n\t\tMockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\r\n\t\t\r\n\t\t//Test\r\n\t\tInputStream outputValue = javaFile_MockedPath.getInputStream();\r\n\t\t\r\n\t\t//Validate\r\n\t\tassertTrue(outputValue instanceof InputStream);\r\n\t\t\r\n\t}\r\n\r\n\r\nDoes this make any sense?  Has anyone ever had to do something similar?  Any help would be greatly appreciated.\r\n\r\nThanks for your time!","title":"Use Mockito to mock java.nio.file.Files static methods","body":"<p>I'm trying to understand how you can mock static methods, specifically from the static Files.class.</p>\n\n<p>Basically, whenever this line executes:</p>\n\n<pre><code> Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\n</code></pre>\n\n<p>I want it to just return an object that is an instance of an InputStream.</p>\n\n<p>The is my class with the static method I'm trying to mock.</p>\n\n<pre><code>public class JavaFileInput{\n\nprivate Path path;\n\npublic JavaFileInput(Path path){\n    this.path = path;\n}\n\npublic InputStream getInputStream() throws IOException {\n    return Files.newInputStream(this.getPathObj(), StandardOpenOption.READ);\n}\n\npublic Path getPathObj() {\n    return this.path;\n}\n\n}\n</code></pre>\n\n<p>This is some \"psuedo-ish\" unit test code that obviously doesn't work, but I hope it portrays the idea of what I'm trying to accomplish.</p>\n\n<pre><code>@Mock(name=\"path\")\nprivate Path mockedPath = Mockito.mock(Path.class);\n\n@InjectMocks\nprivate JavaFileInput javaFile_MockedPath;\n\n@Before\npublic void testSetup(){\n  javaFile_MockedPath = new JavaFileInput(mockedPath);\n  MockitoAnnotations.initMocks(this);\n}\n\n@Test\npublic void getNewInputStreamTest(){\n    //Setup\n    Mockito.when(Files.newInputStream(mockedPathObj, StandardOpenOption.Read)).thenReturn(new InputStream());\n\n    //Test\n    InputStream outputValue = javaFile_MockedPath.getInputStream();\n\n    //Validate\n    assertTrue(outputValue instanceof InputStream);\n\n}\n</code></pre>\n\n<p>Does this make any sense?  Has anyone ever had to do something similar?  Any help would be greatly appreciated.</p>\n\n<p>Thanks for your time!</p>\n"},{"tags":["java","filter","google-cloud-bigtable","bigtable"],"owner":{"account_id":2364995,"reputation":87,"user_id":2070842,"display_name":"ashwaniKumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699269798,"creation_date":1699269798,"question_id":77430711,"body_markdown":"We have a scenario where from UI, the user can send multiple filters in request payload &amp; on the backend data should be read from bigtable adhering to passed filters.\r\nConsidering the same example from documentation page :\r\nhttps://cloud.google.com/bigtable/docs/using-filters#composing-filters \r\n\r\n[![enter image description here](https://i.stack.imgur.com/beorR.png)](https://i.stack.imgur.com/beorR.png)\r\n\r\nHow can I get all rows with (with all columns or at least some of them mentioned as part of the query object) where &quot;data_plan_05gb = true AND connected_wifi = 1 AND connected_cell = 0 &quot; ?\r\nSo far, I have not found even a single example anywhere with multiple filters \r\nPlease help me with the above code.\r\nThank you in advance\r\n\r\ni tried with condition :\r\n```\r\n    Filter filter =\r\n        FILTERS\r\n            .condition(\r\n                FILTERS\r\n                    .chain()\r\n                    .filter(FILTERS.qualifier().exactMatch(&quot;data_plan_05gb&quot;))\r\n                    .filter(FILTERS.value().exactMatch(&quot;true&quot;)))\r\n            .then(FILTERS.label(&quot;passed-filter&quot;))\r\n            .otherwise(FILTERS.label(&quot;filtered-out&quot;));\r\n```\r\nBut how can i add further AND conditions like : connected_wifi = 1 AND connected_cell = 0&quot;, its not clear ","title":"In BigTable , Whats the best way to read rows with multiple filters (more than two) using condition in JAVA?","body":"<p>We have a scenario where from UI, the user can send multiple filters in request payload &amp; on the backend data should be read from bigtable adhering to passed filters.\nConsidering the same example from documentation page :\n<a href=\"https://cloud.google.com/bigtable/docs/using-filters#composing-filters\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigtable/docs/using-filters#composing-filters</a></p>\n<p><a href=\"https://i.stack.imgur.com/beorR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/beorR.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I get all rows with (with all columns or at least some of them mentioned as part of the query object) where &quot;data_plan_05gb = true AND connected_wifi = 1 AND connected_cell = 0 &quot; ?\nSo far, I have not found even a single example anywhere with multiple filters\nPlease help me with the above code.\nThank you in advance</p>\n<p>i tried with condition :</p>\n<pre><code>    Filter filter =\n        FILTERS\n            .condition(\n                FILTERS\n                    .chain()\n                    .filter(FILTERS.qualifier().exactMatch(&quot;data_plan_05gb&quot;))\n                    .filter(FILTERS.value().exactMatch(&quot;true&quot;)))\n            .then(FILTERS.label(&quot;passed-filter&quot;))\n            .otherwise(FILTERS.label(&quot;filtered-out&quot;));\n</code></pre>\n<p>But how can i add further AND conditions like : connected_wifi = 1 AND connected_cell = 0&quot;, its not clear</p>\n"},{"tags":["java","node.js","amazon-s3","url","download"],"comments":[{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699198415,"post_id":77426535,"comment_id":136498631,"body_markdown":"The bottleneck simply isn&#39;t VM execution speed. Hence, that wouldn&#39;t explain it. failure to use buffers can, but you generally get a bigger difference than an 8x factor, and you&#39;ve tried wrapping stuff in buffers. From your node code it&#39;s not clear where the data is going. Step 1 is to eliminate elements. Eliminate your disk; instead of saving the content to disk, hash it (this ensures the data cannot be optimized away, though I doubt that&#39;s an issue here, and eliminates disk access).","body":"The bottleneck simply isn&#39;t VM execution speed. Hence, that wouldn&#39;t explain it. failure to use buffers can, but you generally get a bigger difference than an 8x factor, and you&#39;ve tried wrapping stuff in buffers. From your node code it&#39;s not clear where the data is going. Step 1 is to eliminate elements. Eliminate your disk; instead of saving the content to disk, hash it (this ensures the data cannot be optimized away, though I doubt that&#39;s an issue here, and eliminates disk access)."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1699198431,"post_id":77426535,"comment_id":136498634,"body_markdown":"I would give `try (final InputStream inputStream = new BufferedInputStream(urlConnection.getInputStream(), 8 * 1024 * 1024);\n     final OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file), 8 * 1024 * 1024)) {` a try.","body":"I would give <code>try (final InputStream inputStream = new BufferedInputStream(urlConnection.getInputStream(), 8 * 1024 * 1024);      final OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file), 8 * 1024 * 1024)) {</code> a try."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699198443,"post_id":77426535,"comment_id":136498636,"body_markdown":"For example, if you&#39;ve been wrapping your __input__ stream in a buffer, but not the output, that can definitely introduce slowdowns that are trivially eliminated by wrapping the `FileOutputStream` into a buffer.","body":"For example, if you&#39;ve been wrapping your <b>input</b> stream in a buffer, but not the output, that can definitely introduce slowdowns that are trivially eliminated by wrapping the <code>FileOutputStream</code> into a buffer."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699201630,"post_id":77426535,"comment_id":136498983,"body_markdown":"@rzwitserloot Thanks! I eliminated the disk, by loading the entire file into memory using `inputStream.readAllBytes();` and I was writing nothing to the disk at all. The lambda has 5 GB of memory configured.\n\nThe download still took 40 seconds.","body":"@rzwitserloot Thanks! I eliminated the disk, by loading the entire file into memory using <code>inputStream.readAllBytes();</code> and I was writing nothing to the disk at all. The lambda has 5 GB of memory configured.  The download still took 40 seconds."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699201860,"post_id":77426535,"comment_id":136499012,"body_markdown":"@ElliottFrisch thanks for the suggestion! The only issue with that is, that the BufferdOutputStream class does not provide any method for getting the channel, so I cannot use the NIO library. \n\nNevertheless, I tried writing to the BufferdOutputStream &quot;manually&quot;, but it did not help in speed. The download was around 45 seconds. I believe NIO&#39;s implementation is actually quicker.","body":"@ElliottFrisch thanks for the suggestion! The only issue with that is, that the BufferdOutputStream class does not provide any method for getting the channel, so I cannot use the NIO library.   Nevertheless, I tried writing to the BufferdOutputStream &quot;manually&quot;, but it did not help in speed. The download was around 45 seconds. I believe NIO&#39;s implementation is actually quicker."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1699206486,"post_id":77426535,"comment_id":136499601,"body_markdown":"I don&#39;t think this is the problem, but according to the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileChannel.html#transferFrom-java.nio.channels.ReadableByteChannel-long-long-) for `transferFrom` doing a single transfer of `Long.MAX_VALUE` does not guarantee to transfer all of the bytes.  What you should do (strictly speaking) is test the result of `transferFrom` and handle it as you would a regular `InputStream.read(byte[])` call.","body":"I don&#39;t think this is the problem, but according to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileChannel.html#transferFrom-java.nio.channels.ReadableByteChannel-long-long-\" rel=\"nofollow noreferrer\">javadoc</a> for <code>transferFrom</code> doing a single transfer of <code>Long.MAX_VALUE</code> does not guarantee to transfer all of the bytes.  What you should do (strictly speaking) is test the result of <code>transferFrom</code> and handle it as you would a regular <code>InputStream.read(byte[])</code> call."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699206655,"post_id":77426535,"comment_id":136499626,"body_markdown":"You haven&#39;t mentioned what platform (OS and Java version) your client is running on.  Among other things, the performance of `transferFrom` depends on the underlying OS ... and its ability to do direct transfers.","body":"You haven&#39;t mentioned what platform (OS and Java version) your client is running on.  Among other things, the performance of <code>transferFrom</code> depends on the underlying OS ... and its ability to do direct transfers."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699208686,"post_id":77426535,"comment_id":136499844,"body_markdown":"You may also want to try `HttpClient.newHttpClient().send(HttpRequest.newBuilder(url.toURI()).GET().build(), HttpResponse.BodyHandlers.ofFile(file.toPath()));`.  See [the package docs](https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/java/net/http/package-summary.html) and [the module docs](https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/module-summary.html) for details.","body":"You may also want to try <code>HttpClient.newHttpClient().send(HttpRequest.newBuilder(url.t&zwnj;&#8203;oURI()).GET().build(&zwnj;&#8203;), HttpResponse.BodyHandlers.ofFile(file.toPath()));</code>.  See <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/java/net/http/package-summary.html\" rel=\"nofollow noreferrer\">the package docs</a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/module-summary.html\" rel=\"nofollow noreferrer\">the module docs</a> for details."},{"owner":{"account_id":1692034,"reputation":3198,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1699212310,"post_id":77426535,"comment_id":136500183,"body_markdown":"Perhaps a silly question, but what kind of URL do  you use? Is it `https://…`? If so, then you compare apples and pears. And you should check the comment from @VGR!","body":"Perhaps a silly question, but what kind of URL do  you use? Is it <code>https:&#47;&#47;…</code>? If so, then you compare apples and pears. And you should check the comment from @VGR!"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699212607,"post_id":77426535,"comment_id":136500210,"body_markdown":"Perhaps try a one-liner using *Java HTTP Client*, as shown in [this Answer](https://stackoverflow.com/a/76050505/642706)","body":"Perhaps try a one-liner using <i>Java HTTP Client</i>, as shown in <a href=\"https://stackoverflow.com/a/76050505/642706\">this Answer</a>"},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699214730,"post_id":77426535,"comment_id":136500427,"body_markdown":"@StephenC this is a really great callout and likely related to another issue I am seeing. (Cutoff downloads). Thank you!\n\nAlso I have added the Java version of the lambda to the question (17). I don&#39;t control the OS, since Lambda is a managed service.","body":"@StephenC this is a really great callout and likely related to another issue I am seeing. (Cutoff downloads). Thank you!  Also I have added the Java version of the lambda to the question (17). I don&#39;t control the OS, since Lambda is a managed service."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699214761,"post_id":77426535,"comment_id":136500431,"body_markdown":"@VGR I tried this exactly thank you! The download however still took 45 seconds.","body":"@VGR I tried this exactly thank you! The download however still took 45 seconds."},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699214817,"post_id":77426535,"comment_id":136500435,"body_markdown":"@tquadrat The URL is always `https://`. Could this explain something?","body":"@tquadrat The URL is always <code>https:&#47;&#47;</code>. Could this explain something?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699221879,"post_id":77426535,"comment_id":136501118,"body_markdown":"What is your approximate bandwidth?  Is it possible node.js is using a cache?  (Actually, I’m surprised Java isn’t using a cache.)","body":"What is your approximate bandwidth?  Is it possible node.js is using a cache?  (Actually, I’m surprised Java isn’t using a cache.)"},{"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"score":0,"creation_date":1699230283,"post_id":77426535,"comment_id":136501693,"body_markdown":"@VGR I‘m not sure exactly of the bandwidth in Lambda, since that is once again abstracted away for you. I would be surprised if the bandwidth was the issue. \n\nNot sure about the cache, what would it cache? If I give both of them a never-before-seen presigned URL of 700MB size, the performance is identical. (java takes very long while Nodejs is quick)","body":"@VGR I‘m not sure exactly of the bandwidth in Lambda, since that is once again abstracted away for you. I would be surprised if the bandwidth was the issue.   Not sure about the cache, what would it cache? If I give both of them a never-before-seen presigned URL of 700MB size, the performance is identical. (java takes very long while Nodejs is quick)"},{"owner":{"account_id":1692034,"reputation":3198,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1699268151,"post_id":77426535,"comment_id":136505781,"body_markdown":"If the protocol is HTTP(S), you should also check the behaviour of the WebServer on the other side. It may respond differently to the clients that connect to it. Also the different protocol settings that are sent (or not sent) to that server can have a significant impact on the performance. The node.js approach clearly is a http connection (that can be/is configured properly), but the standard URL connection is using some defaults that should work for every case. Therefore you should look for the suggestion from @VGR again and see if it does not have some nut and bolts  for optimisation.","body":"If the protocol is HTTP(S), you should also check the behaviour of the WebServer on the other side. It may respond differently to the clients that connect to it. Also the different protocol settings that are sent (or not sent) to that server can have a significant impact on the performance. The node.js approach clearly is a http connection (that can be/is configured properly), but the standard URL connection is using some defaults that should work for every case. Therefore you should look for the suggestion from @VGR again and see if it does not have some nut and bolts  for optimisation."},{"owner":{"account_id":1692034,"reputation":3198,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1699268369,"post_id":77426535,"comment_id":136505841,"body_markdown":"And perhaps you should change the experiment to store to your local disc, so that you can use a network sniffer on your side. Seeing what happens on the wire may help to understand what&#39;s going on.","body":"And perhaps you should change the experiment to store to your local disc, so that you can use a network sniffer on your side. Seeing what happens on the wire may help to understand what&#39;s going on."}],"owner":{"account_id":14009739,"reputation":43,"user_id":13936909,"display_name":"Luca01"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699269564,"creation_date":1699198154,"question_id":77426535,"body_markdown":"I have a Java application, in which I need to download the content of an S3 presigned URL to a file to disk.\r\n\r\nHowever, I have experienced **slow download speeds** when downloading from the URL. \r\n\r\n### Experiment\r\n\r\nI created an experiment, where I put my Java code and a comparable Node.JS code on an AWS Lambda. Both Lambdas were configured equally in terms of memory, region and ephemeral storage size. This was done to eliminate other environment variables such as disk I/O and networking.\r\n\r\n**Lambda Runtime:** Java 17 / NodeJS 18\r\n\r\n**Lambda Architecture:** x86_64\r\n\r\n**Lambda OS:** Amazon Linux 2\r\n\r\n### Java Code\r\nTo download from the URL, I am using the java non-blocking NIO library. In a nutshell, this is what my download looks like:\r\n\r\n```Java\r\nURL url = new URL(&quot;MY_S3_PRESIGNED_URL&quot;);\r\nURLConnection urlConnection = url.openConnection();\r\ntry (final InputStream is = new InputStream(urlConnection.getInputStream());\r\n     final FileOutputStream os = new FileOutputStream(file)) {\r\n    os.getChannel().transferFrom(Channels.newChannel(is), 0, Long.MAX_VALUE);\r\n}\r\n```\r\n\r\n### NodeJS Code\r\nThis is what my Node.js code looks like:\r\n\r\n```Javascript\r\nasync function getObject() {\r\n    let url = &quot;MY_S3_PRESIGNED_URL&quot;\r\n    \r\n    return new Promise(async (resolve, reject) =&gt; {\r\n        let responseDataChunks = [];\r\n        \r\n        https.get(url, response =&gt; {\r\n            \r\n            response.once(&#39;error&#39;, err =&gt; reject(err));\r\n\r\n            response.on(&#39;data&#39;, chunk =&gt; responseDataChunks.push(chunk));\r\n            \r\n            response.once(&#39;end&#39;, () =&gt; resolve(&#39;done&#39;));\r\n        }) \r\n    })\r\n}\r\n```\r\n\r\n### Experiment Results\r\n\r\nI invoked both lambdas with an S3 presigned URL to a 700MB file. These were my average download speed results:\r\n\r\n**Java**: 36 seconds\r\n\r\n**NodeJS**: 8 seconds\r\n\r\n\r\n### Question\r\n**How can I improve the download speed in Java?** I followed the suggestion in the baeldung article for downloading from a URL in Java. ([Ref](https://www.baeldung.com/java-download-file))\r\n\r\nThe article suggests using Apache Commons IO or NIO library. However, neither of these approaches helped my download speed. \r\n\r\nI would appreciate any suggestions, thank you!\r\n\r\n### What I&#39;ve Tried\r\n\r\nWhy is the NodeJS download so much quicker? I have tried multiple things in Java trying to speed up the download, such as\r\n-  Using **ranged gets** ([Ref](https://docs.aws.amazon.com/whitepapers/latest/s3-optimizing-performance-best-practices/use-byte-range-fetches.html)).\r\n- Using `FileUtils.copyURLToFile` from Apache Commons IO.\r\n- Using a **BufferedInputStream** instead of the InputStream currently shown in the Java Code. I tried different buffer sizes.\r\n\r\nNone of the actions listed improved my download by any significant margin.","title":"Why is the download of a URL in Java so slow?","body":"<p>I have a Java application, in which I need to download the content of an S3 presigned URL to a file to disk.</p>\n<p>However, I have experienced <strong>slow download speeds</strong> when downloading from the URL.</p>\n<h3>Experiment</h3>\n<p>I created an experiment, where I put my Java code and a comparable Node.JS code on an AWS Lambda. Both Lambdas were configured equally in terms of memory, region and ephemeral storage size. This was done to eliminate other environment variables such as disk I/O and networking.</p>\n<p><strong>Lambda Runtime:</strong> Java 17 / NodeJS 18</p>\n<p><strong>Lambda Architecture:</strong> x86_64</p>\n<p><strong>Lambda OS:</strong> Amazon Linux 2</p>\n<h3>Java Code</h3>\n<p>To download from the URL, I am using the java non-blocking NIO library. In a nutshell, this is what my download looks like:</p>\n<pre><code>URL url = new URL(&quot;MY_S3_PRESIGNED_URL&quot;);\nURLConnection urlConnection = url.openConnection();\ntry (final InputStream is = new InputStream(urlConnection.getInputStream());\n     final FileOutputStream os = new FileOutputStream(file)) {\n    os.getChannel().transferFrom(Channels.newChannel(is), 0, Long.MAX_VALUE);\n}\n</code></pre>\n<h3>NodeJS Code</h3>\n<p>This is what my Node.js code looks like:</p>\n<pre><code>async function getObject() {\n    let url = &quot;MY_S3_PRESIGNED_URL&quot;\n    \n    return new Promise(async (resolve, reject) =&gt; {\n        let responseDataChunks = [];\n        \n        https.get(url, response =&gt; {\n            \n            response.once('error', err =&gt; reject(err));\n\n            response.on('data', chunk =&gt; responseDataChunks.push(chunk));\n            \n            response.once('end', () =&gt; resolve('done'));\n        }) \n    })\n}\n</code></pre>\n<h3>Experiment Results</h3>\n<p>I invoked both lambdas with an S3 presigned URL to a 700MB file. These were my average download speed results:</p>\n<p><strong>Java</strong>: 36 seconds</p>\n<p><strong>NodeJS</strong>: 8 seconds</p>\n<h3>Question</h3>\n<p><strong>How can I improve the download speed in Java?</strong> I followed the suggestion in the baeldung article for downloading from a URL in Java. (<a href=\"https://www.baeldung.com/java-download-file\" rel=\"nofollow noreferrer\">Ref</a>)</p>\n<p>The article suggests using Apache Commons IO or NIO library. However, neither of these approaches helped my download speed.</p>\n<p>I would appreciate any suggestions, thank you!</p>\n<h3>What I've Tried</h3>\n<p>Why is the NodeJS download so much quicker? I have tried multiple things in Java trying to speed up the download, such as</p>\n<ul>\n<li>Using <strong>ranged gets</strong> (<a href=\"https://docs.aws.amazon.com/whitepapers/latest/s3-optimizing-performance-best-practices/use-byte-range-fetches.html\" rel=\"nofollow noreferrer\">Ref</a>).</li>\n<li>Using <code>FileUtils.copyURLToFile</code> from Apache Commons IO.</li>\n<li>Using a <strong>BufferedInputStream</strong> instead of the InputStream currently shown in the Java Code. I tried different buffer sizes.</li>\n</ul>\n<p>None of the actions listed improved my download by any significant margin.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1588751864,"post_id":61629104,"comment_id":109015581,"body_markdown":"Is the *Navigator* view present in your Eclipse installation? Can you see it is the view list if you navigate to *Window &gt; Show View &gt; Other...*?","body":"Is the <i>Navigator</i> view present in your Eclipse installation? Can you see it is the view list if you navigate to <i>Window &gt; Show View &gt; Other...</i>?"},{"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"score":0,"creation_date":1588760065,"post_id":61629104,"comment_id":109020027,"body_markdown":"Yes. Window &gt; Show View &gt; Navigator exists. Just Show in &gt; Navigator doesn&#39;t exist","body":"Yes. Window &gt; Show View &gt; Navigator exists. Just Show in &gt; Navigator doesn&#39;t exist"}],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1588834856,"creation_date":1588834856,"answer_id":61651698,"question_id":61629104,"body_markdown":"I noticed that the contents of the *Show In* sub-menu is different in different perspectives.\r\n\r\nTry to switch to the *Java* perspective, *Window &gt;  Perspective &gt; Open Perspective &gt; Java*.\r\n\r\nIn my copy of Eclipse 2020-3 I have the *Navigator* entry in the *Show In* sub-menu when the Java perspective is active:\r\n\r\n![](https://i.stack.imgur.com/iRn36.png)\r\n\r\n---\r\n\r\nI noticed in the following Eclipse bug ticket that the *Navigator* view is to be removed eventually:\r\n\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=550379\r\n\r\n---\r\n\r\nThe *Navigator* view gives a &quot;raw&quot;, unmodified view of the file system. The *Project Explorer* view can be used in a similar way by changing the following view preferences:\r\n\r\n * *Filters preferences &gt; Content &gt; Java Elements &gt;* Uncheck\r\n * *Filters preferences &gt; Pre-set filters &gt;* Deselect all\r\n * *View preferences &gt; Project Presentation &gt; Hierarchical*\r\n\r\nFilter preferences button:\r\n\r\n![Filter preferences button](https://i.stack.imgur.com/p4gIt.png)\r\n\r\n---\r\n\r\n*Navigator* view is deprecated because it duplicates the *Project Explorer*, and the latter is more customizable for users and developers, and is also part of the [Common Navigator Framework](https://wiki.eclipse.org/Common_Navigator_Framework).","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>I noticed that the contents of the <em>Show In</em> sub-menu is different in different perspectives.</p>\n\n<p>Try to switch to the <em>Java</em> perspective, <em>Window >  Perspective > Open Perspective > Java</em>.</p>\n\n<p>In my copy of Eclipse 2020-3 I have the <em>Navigator</em> entry in the <em>Show In</em> sub-menu when the Java perspective is active:</p>\n\n<p><img src=\"https://i.stack.imgur.com/iRn36.png\" alt=\"\"></p>\n\n<hr>\n\n<p>I noticed in the following Eclipse bug ticket that the <em>Navigator</em> view is to be removed eventually:</p>\n\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=550379\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=550379</a></p>\n\n<hr>\n\n<p>The <em>Navigator</em> view gives a \"raw\", unmodified view of the file system. The <em>Project Explorer</em> view can be used in a similar way by changing the following view preferences:</p>\n\n<ul>\n<li><em>Filters preferences > Content > Java Elements ></em> Uncheck</li>\n<li><em>Filters preferences > Pre-set filters ></em> Deselect all</li>\n<li><em>View preferences > Project Presentation > Hierarchical</em></li>\n</ul>\n\n<p>Filter preferences button:</p>\n\n<p><img src=\"https://i.stack.imgur.com/p4gIt.png\" alt=\"Filter preferences button\"></p>\n\n<hr>\n\n<p><em>Navigator</em> view is deprecated because it duplicates the <em>Project Explorer</em>, and the latter is more customizable for users and developers, and is also part of the <a href=\"https://wiki.eclipse.org/Common_Navigator_Framework\" rel=\"nofollow noreferrer\">Common Navigator Framework</a>.</p>\n"},{"tags":[],"owner":{"account_id":19231547,"reputation":385,"user_id":14053303,"display_name":"Abhishek Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687870604,"creation_date":1687870604,"answer_id":76565101,"question_id":61629104,"body_markdown":"Windows -&gt; show view -&gt; navigator ( if not showing in list ,go to others and search )\r\n\r\nworked for me.","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>Windows -&gt; show view -&gt; navigator ( if not showing in list ,go to others and search )</p>\n<p>worked for me.</p>\n"},{"tags":[],"owner":{"account_id":952025,"reputation":593,"user_id":977959,"display_name":"danipenaperez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699268712,"creation_date":1699268712,"answer_id":77430605,"question_id":61629104,"body_markdown":"Yes , has been deprecated. \r\nThe most similiar that I found is Project Explorer &gt; Package Presentation (click on the three dots menu)&gt; Hierarchical.\r\n\r\nAnd the same Hierarchical option for Project Presentation menu option.\r\n\r\nYou will see a &quot;tree view&quot; of projects, packages similar to older Navigator View\r\n(I am using Eclipse IDE 2023-09 (4.29.0)) \r\n\r\nHope Helps.","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>Yes , has been deprecated.\nThe most similiar that I found is Project Explorer &gt; Package Presentation (click on the three dots menu)&gt; Hierarchical.</p>\n<p>And the same Hierarchical option for Project Presentation menu option.</p>\n<p>You will see a &quot;tree view&quot; of projects, packages similar to older Navigator View\n(I am using Eclipse IDE 2023-09 (4.29.0))</p>\n<p>Hope Helps.</p>\n"}],"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61651698,"answer_count":3,"score":3,"last_activity_date":1699268712,"creation_date":1588748047,"question_id":61629104,"body_markdown":"I prefer to see things in Navigator view although it is being deprecated. (For reasons I&#39;m not aware.)\r\n\r\nIn the latest 2020-03 update when I right click on a Java class and try to *Show In &gt; Navigator*, it&#39;s not present any more. I feel package explorer is more Java centered and prefer Navigator. Is there still a way to enable this view in the latest update?\r\n\r\n\r\n[![navigator missing in show in][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bKaku.png","title":"&quot;Show in Navigator&quot; missing in 2020-03 update","body":"<p>I prefer to see things in Navigator view although it is being deprecated. (For reasons I'm not aware.)</p>\n\n<p>In the latest 2020-03 update when I right click on a Java class and try to <em>Show In > Navigator</em>, it's not present any more. I feel package explorer is more Java centered and prefer Navigator. Is there still a way to enable this view in the latest update?</p>\n\n<p><a href=\"https://i.stack.imgur.com/bKaku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bKaku.png\" alt=\"navigator missing in show in\"></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1699270013,"post_id":77430603,"comment_id":136506083,"body_markdown":"You can&#39;t be sure that this is the issue because you are masking the error message. Remove the `try catch` or at least print the actual error message.","body":"You can&#39;t be sure that this is the issue because you are masking the error message. Remove the <code>try catch</code> or at least print the actual error message."},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1699271219,"post_id":77430603,"comment_id":136506294,"body_markdown":"labas :)  whats the actual exception?","body":"labas :)  whats the actual exception?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699290427,"post_id":77430603,"comment_id":136510293,"body_markdown":"I think you want: WebElement element = wait.until(ExpectedConditions.elementToBeClickable(locator)); and then just use element.click(); method.","body":"I think you want: WebElement element = wait.until(ExpectedConditions.elementToBeClickable(locator))&zwnj;&#8203;; and then just use element.click(); method."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699291124,"post_id":77430603,"comment_id":136510433,"body_markdown":"in your catch use System.err.println(&quot;Error clicking the element: &quot;+ e.toString();); So you can include the exception in your post.","body":"in your catch use System.err.println(&quot;Error clicking the element: &quot;+ e.toString();); So you can include the exception in your post."}],"owner":{"account_id":29662298,"reputation":1,"user_id":22733603,"display_name":"Jonas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699268688,"creation_date":1699268688,"question_id":77430603,"body_markdown":"I have a test where for loop click on each submenu items, but webdriver doesn&#39;t wait element and throws exception and tries to click next submenu item and so on.\r\n\r\nHere is ElementFetch class:\r\n```\r\npublic class ElementFetch {\r\n\t\r\n\tpublic Actions action;\r\n\t\r\n\tprivate WebDriver driver;\r\n\tprivate WebDriverWait wait;\r\n\t\r\n\tpublic ElementFetch(WebDriver driver, WebDriverWait wait) {\r\n        this.driver = driver;\r\n        this.wait = wait;\r\n        this.action = new Actions(driver);\r\n    }\r\n\t\r\n\tpublic void click(By locator) {\r\n\t    try {\r\n\t        WebElement element = wait.withTimeout(Duration.ofSeconds(3)).until(ExpectedConditions.elementToBeClickable(locator));\r\n\t        action.moveToElement(element).click().build().perform();\r\n\t    } catch (Exception e) {\r\n\t        System.err.println(&quot;Error clicking the element: &quot; + locator);\r\n\t    }\r\n\t}...\r\n```\r\n\r\n\r\nHere is BaseTest class that my tests extend:\r\n```\r\npublic class BaseTest {\r\n\tpublic WebDriver driver;\r\n\tpublic WebDriverWait wait;\r\n\tpublic Properties testConfig;\r\n\tpublic ElementFetch elementFetch;\r\n\tpublic Authentication authentication;\r\n\tpublic ModalChecker modalChecker;\r\n\t\r\n\t\r\n\tprivate final String configPath = &quot;src\\\\test\\\\resources\\\\config\\\\config.properties&quot;;\r\n\t\r\n\t@BeforeClass\r\n\tpublic void setUp() throws IOException {\r\n\t\tdriver = DriverManager.initializeDriver();\r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        driver.manage().window().maximize();\r\n        \r\n        testConfig = ConfigurationLoader.loadTestConfig(configPath);\r\n        \r\n        elementFetch = new ElementFetch(driver, wait);\r\n```\r\n\r\nHere is subMenu test that fails in MenuTest class:\r\n```\r\npublic class MenuTest extends BaseTest {\r\n\t\r\n\tprivate String path = &quot;&quot;;\r\n\t\r\n\t@Test(dataProvider = &quot;dataProviderMainMenu&quot;, dataProviderClass = DataProviderClass.class)\r\n\tpublic void testMainMenu(JsonObject menuItem) throws InterruptedException {\r\n\r\n\t\telementFetch.click(By.id(menuItem.get(&quot;id&quot;).getAsString().replace(&quot;\\&quot;&quot;, &quot;&quot;)));\r\n\t\t\r\n\t\tif (menuItem.has(&quot;subMenu&quot;)) {\r\n            JsonArray subMenuItems = menuItem.getAsJsonArray(&quot;subMenu&quot;);\r\n            testSubMenu(subMenuItems);\r\n        }\r\n\t}\r\n\t\r\n\tpublic void testSubMenu(JsonArray subMenuItems) throws InterruptedException {\r\n\t\tfor(JsonElement subMenuItem : subMenuItems) {\r\n\t\t\tJsonObject subMenuItemObject = subMenuItem.getAsJsonObject();\r\n\r\n            elementFetch.click(By.id(subMenuItemObject.get(&quot;id&quot;).getAsString()));\r\n            wait.until(driver -&gt; ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n            \r\n            if (subMenuItemObject.has(&quot;menu&quot;)) {\r\n                JsonArray submenu = subMenuItemObject.get(&quot;menu&quot;).getAsJsonArray();\r\n                String originalPath = path;\r\n                testSubMenu(submenu);\r\n                path = originalPath;\r\n            }\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI&#39;m expecting webdriver to wait for element to be clickable and click it, but it doesn&#39;t wait and looks for another button","title":"Selenium WebDriverWait doesn&#39;t wait elementToBeClickable","body":"<p>I have a test where for loop click on each submenu items, but webdriver doesn't wait element and throws exception and tries to click next submenu item and so on.</p>\n<p>Here is ElementFetch class:</p>\n<pre><code>public class ElementFetch {\n    \n    public Actions action;\n    \n    private WebDriver driver;\n    private WebDriverWait wait;\n    \n    public ElementFetch(WebDriver driver, WebDriverWait wait) {\n        this.driver = driver;\n        this.wait = wait;\n        this.action = new Actions(driver);\n    }\n    \n    public void click(By locator) {\n        try {\n            WebElement element = wait.withTimeout(Duration.ofSeconds(3)).until(ExpectedConditions.elementToBeClickable(locator));\n            action.moveToElement(element).click().build().perform();\n        } catch (Exception e) {\n            System.err.println(&quot;Error clicking the element: &quot; + locator);\n        }\n    }...\n</code></pre>\n<p>Here is BaseTest class that my tests extend:</p>\n<pre><code>public class BaseTest {\n    public WebDriver driver;\n    public WebDriverWait wait;\n    public Properties testConfig;\n    public ElementFetch elementFetch;\n    public Authentication authentication;\n    public ModalChecker modalChecker;\n    \n    \n    private final String configPath = &quot;src\\\\test\\\\resources\\\\config\\\\config.properties&quot;;\n    \n    @BeforeClass\n    public void setUp() throws IOException {\n        driver = DriverManager.initializeDriver();\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        driver.manage().window().maximize();\n        \n        testConfig = ConfigurationLoader.loadTestConfig(configPath);\n        \n        elementFetch = new ElementFetch(driver, wait);\n</code></pre>\n<p>Here is subMenu test that fails in MenuTest class:</p>\n<pre><code>public class MenuTest extends BaseTest {\n    \n    private String path = &quot;&quot;;\n    \n    @Test(dataProvider = &quot;dataProviderMainMenu&quot;, dataProviderClass = DataProviderClass.class)\n    public void testMainMenu(JsonObject menuItem) throws InterruptedException {\n\n        elementFetch.click(By.id(menuItem.get(&quot;id&quot;).getAsString().replace(&quot;\\&quot;&quot;, &quot;&quot;)));\n        \n        if (menuItem.has(&quot;subMenu&quot;)) {\n            JsonArray subMenuItems = menuItem.getAsJsonArray(&quot;subMenu&quot;);\n            testSubMenu(subMenuItems);\n        }\n    }\n    \n    public void testSubMenu(JsonArray subMenuItems) throws InterruptedException {\n        for(JsonElement subMenuItem : subMenuItems) {\n            JsonObject subMenuItemObject = subMenuItem.getAsJsonObject();\n\n            elementFetch.click(By.id(subMenuItemObject.get(&quot;id&quot;).getAsString()));\n            wait.until(driver -&gt; ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\n            \n            if (subMenuItemObject.has(&quot;menu&quot;)) {\n                JsonArray submenu = subMenuItemObject.get(&quot;menu&quot;).getAsJsonArray();\n                String originalPath = path;\n                testSubMenu(submenu);\n                path = originalPath;\n            }\n        }\n    }\n</code></pre>\n<p>I'm expecting webdriver to wait for element to be clickable and click it, but it doesn't wait and looks for another button</p>\n"},{"tags":["java","spring","spring-remoting"],"comments":[{"owner":{"account_id":138128,"reputation":294226,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1314874068,"post_id":7268151,"comment_id":8749604,"body_markdown":"Relevant reading: http://blog.springsource.com/2011/08/10/beyond-the-factorybean","body":"Relevant reading: <a href=\"http://blog.springsource.com/2011/08/10/beyond-the-factorybean\" rel=\"nofollow noreferrer\">blog.springsource.com/2011/08/10/beyond-the-factorybean</a>"}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294226,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1314950080,"creation_date":1314874355,"answer_id":7269287,"question_id":7268151,"body_markdown":"Actually, the correct (and equivalent) version would be the even more awkward:\r\n\r\n    public @Bean HttpInvokerProxyFactoryBean httpInvokerProxy() {\r\n        HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n        proxy.setServiceInterface(AccountService.class);\r\n        proxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\r\n        return proxy;\r\n    }\r\n\r\n(After all you usually want the FactoryBean to be managed by Spring, not the Bean it returns)\r\n\r\nSee this recent article for reference:\r\n\r\n&gt; [What&#39;s a FactoryBean?][1]\r\n\r\n\r\n  [1]: http://blog.springsource.com/2011/08/09/whats-a-factorybean/","title":"Spring HttpRemoting client as a Java Configuration Bean","body":"<p>Actually, the correct (and equivalent) version would be the even more awkward:</p>\n\n<pre><code>public @Bean HttpInvokerProxyFactoryBean httpInvokerProxy() {\n    HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n    proxy.setServiceInterface(AccountService.class);\n    proxy.setServiceUrl(\"http://remotehost:8080/remoting/AccountService\");\n    return proxy;\n}\n</code></pre>\n\n<p>(After all you usually want the FactoryBean to be managed by Spring, not the Bean it returns)</p>\n\n<p>See this recent article for reference:</p>\n\n<blockquote>\n  <p><a href=\"http://blog.springsource.com/2011/08/09/whats-a-factorybean/\" rel=\"noreferrer\">What's a FactoryBean?</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11156931,"reputation":11,"user_id":8188371,"display_name":"Dipak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699268631,"creation_date":1699268462,"answer_id":77430584,"question_id":7268151,"body_markdown":"Setup up an HttpInvoker client for AccountService without the need for XML. The httpInvokerClient() method creates the client, configuring it with the service interface and URL.\r\n\r\nThe accountService() method retrieves the actual AccountService proxy object from the HttpInvokerProxyFactoryBean. This way, you can use the AccountService bean throughout your application.\r\n\r\nBy using this configuration, you can easily inject and use the AccountService in your code without XML-based setup. Feel free to ask if you have any further questions!\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n        @Bean\r\n        public HttpInvokerProxyFactoryBean httpInvokerClient() {\r\n            HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n            proxy.setServiceInterface(AccountService.class);\r\n            proxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\r\n            proxy.afterPropertiesSet();\r\n            return proxy;\r\n        }\r\n    \r\n        @Bean\r\n        public AccountService accountService() {\r\n            return (AccountService) httpInvokerClient().getObject();\r\n        }\r\n    }","title":"Spring HttpRemoting client as a Java Configuration Bean","body":"<p>Setup up an HttpInvoker client for AccountService without the need for XML. The httpInvokerClient() method creates the client, configuring it with the service interface and URL.</p>\n<p>The accountService() method retrieves the actual AccountService proxy object from the HttpInvokerProxyFactoryBean. This way, you can use the AccountService bean throughout your application.</p>\n<p>By using this configuration, you can easily inject and use the AccountService in your code without XML-based setup. Feel free to ask if you have any further questions!</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public HttpInvokerProxyFactoryBean httpInvokerClient() {\n        HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n        proxy.setServiceInterface(AccountService.class);\n        proxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\n        proxy.afterPropertiesSet();\n        return proxy;\n    }\n\n    @Bean\n    public AccountService accountService() {\n        return (AccountService) httpInvokerClient().getObject();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13424,"reputation":8306,"user_id":26943,"accept_rate":76,"display_name":"Mike Minicki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3839,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7269287,"answer_count":2,"score":8,"last_activity_date":1699268631,"creation_date":1314867749,"question_id":7268151,"body_markdown":"I&#39;m trying to migrate Spring from `XmlApplicationContext` to `AnnotationConfigApplicationContext` (more info: [Java-based container configuration][1]).\r\n\r\nEverything works perfectly but I don&#39;t know how to create a HttpInvoker client. The XML configuration is as follows:\r\n\r\n\r\n    &lt;bean id=&quot;httpInvokerProxy&quot; class=&quot;org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;serviceUrl&quot; value=&quot;http://remotehost:8080/remoting/AccountService&quot;/&gt;\r\n        &lt;property name=&quot;serviceInterface&quot; value=&quot;example.AccountService&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nHow should the Java Configuration look? Do I still need this Factory Bean? I think one should be able to instantiate the client without this wrapper with this configuration method.\r\n\r\nThis (somehow) feels bad to me:\r\n\r\n\tpublic @Bean AccountService httpInvokerProxy() {\r\n\t\tHttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n\t\tproxy.setServiceInterface(AccountService.class);\r\n\t\tproxy.setServiceUrl(&quot;http://remotehost:8080/remoting/AccountService&quot;);\r\n\t\tproxy.afterPropertiesSet();\r\n\t\treturn (AccountService) proxy.getObject();\r\n\t}\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-java\r\n","title":"Spring HttpRemoting client as a Java Configuration Bean","body":"<p>I'm trying to migrate Spring from <code>XmlApplicationContext</code> to <code>AnnotationConfigApplicationContext</code> (more info: <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-java\" rel=\"noreferrer\">Java-based container configuration</a>).</p>\n\n<p>Everything works perfectly but I don't know how to create a HttpInvoker client. The XML configuration is as follows:</p>\n\n<pre><code>&lt;bean id=\"httpInvokerProxy\" class=\"org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean\"&gt;\n    &lt;property name=\"serviceUrl\" value=\"http://remotehost:8080/remoting/AccountService\"/&gt;\n    &lt;property name=\"serviceInterface\" value=\"example.AccountService\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>How should the Java Configuration look? Do I still need this Factory Bean? I think one should be able to instantiate the client without this wrapper with this configuration method.</p>\n\n<p>This (somehow) feels bad to me:</p>\n\n<pre><code>public @Bean AccountService httpInvokerProxy() {\n    HttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n    proxy.setServiceInterface(AccountService.class);\n    proxy.setServiceUrl(\"http://remotehost:8080/remoting/AccountService\");\n    proxy.afterPropertiesSet();\n    return (AccountService) proxy.getObject();\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699262563,"post_id":77429976,"comment_id":136504799,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699266424,"post_id":77429976,"comment_id":136505466,"body_markdown":"Just added the jason file. any help will be appreciated :)","body":"Just added the jason file. any help will be appreciated :)"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699266893,"post_id":77429976,"comment_id":136505533,"body_markdown":"What is the exact line of code that produces this output `Data retrieved: 0`?","body":"What is the exact line of code that produces this output <code>Data retrieved: 0</code>?"},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699267093,"post_id":77429976,"comment_id":136505583,"body_markdown":"@AlexMamo I added it after the loop to check if anything is being retrieved, i am simply checking the arraylist size \n\n` Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;); `\nthis is the line","body":"@AlexMamo I added it after the loop to check if anything is being retrieved, i am simply checking the arraylist size   ` Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;); ` this is the line"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699267297,"post_id":77429976,"comment_id":136505616,"body_markdown":"If you try to log the value of `snapshot.getChildrenCount()`, what is the output?","body":"If you try to log the value of <code>snapshot.getChildrenCount()</code>, what is the output?"},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699267563,"post_id":77429976,"comment_id":136505662,"body_markdown":"when i manually insert a new element in the array list by using any random url and sample title it works just fine so i think adapter class(RecycleContentAdapter) shouldnt have any issues","body":"when i manually insert a new element in the array list by using any random url and sample title it works just fine so i think adapter class(RecycleContentAdapter) shouldnt have any issues"},{"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"score":0,"creation_date":1699267970,"post_id":77429976,"comment_id":136505734,"body_markdown":"@AlexMamo Children retrieved: 0 items\n` Log.d(&quot;getChildren&quot;, &quot;Children retrieved: &quot; + snapshot.getChildrenCount() + &quot; items&quot;);`\nused this right after the loop","body":"@AlexMamo Children retrieved: 0 items ` Log.d(&quot;getChildren&quot;, &quot;Children retrieved: &quot; + snapshot.getChildrenCount() + &quot; items&quot;);` used this right after the loop"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699268391,"creation_date":1699268391,"answer_id":77430578,"question_id":77429976,"body_markdown":"Looking closer at your code and database schema, I saw that the problem comes from the following line of code:\r\n\r\n    database.getReference().child(&quot;Event List&quot;).addValueEventListener(/* ... /*);\r\n\r\nWhy? Because the node in the database is called &quot;Events List&quot; and not &quot;Event List&quot;. See there is an `s` missing. So to solve this, please use the correct reference:\r\n\r\n    database.getReference().child(&quot;Events List&quot;).addValueEventListener(/* ... /*);\r\n    //                                 &#128070;","title":"Unable to Retrieve data from Firebase in my java android app","body":"<p>Looking closer at your code and database schema, I saw that the problem comes from the following line of code:</p>\n<pre><code>database.getReference().child(&quot;Event List&quot;).addValueEventListener(/* ... /*);\n</code></pre>\n<p>Why? Because the node in the database is called &quot;Events List&quot; and not &quot;Event List&quot;. See there is an <code>s</code> missing. So to solve this, please use the correct reference:</p>\n<pre><code>database.getReference().child(&quot;Events List&quot;).addValueEventListener(/* ... /*);\n//                                 👆\n</code></pre>\n"}],"owner":{"account_id":29836512,"reputation":3,"user_id":22865759,"display_name":"Ayushman Gupta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77430578,"answer_count":1,"score":0,"last_activity_date":1699268434,"creation_date":1699262385,"question_id":77429976,"body_markdown":"Home.java class\r\n```\r\npackage com.example.rsvpea;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.View.OnClickListener;\r\nimport android.widget.ImageButton;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.rsvpea.Models.UploadEventModel;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Home extends AppCompatActivity {\r\n    public static ImageButton home;\r\n    public static ImageButton bookings;\r\n    public static ImageButton profile;\r\n    FirebaseDatabase database;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        home = findViewById(R.id.home);\r\n        bookings = findViewById(R.id.myBookings);\r\n        profile = findViewById(R.id.myProfile);\r\n        BottomNavBar buttonClickListenerHome = new BottomNavBar(home);\r\n        BottomNavBar buttonClickListenerBookings = new BottomNavBar(bookings);\r\n        BottomNavBar buttonClickListenerProfile = new BottomNavBar(profile);\r\n\r\n        ArrayList&lt;TimelineCardContent&gt; timelineCardContents = new ArrayList&lt;&gt;();\r\n\r\n        RecyclerView timeline = findViewById(R.id.timelineRecyclerView);\r\n        timeline.setLayoutManager(new LinearLayoutManager(this));\r\n        database=FirebaseDatabase.getInstance();\r\n        database.getReference().child(&quot;Event List&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot itemSnapshot : snapshot.getChildren()){\r\n                    //String img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\r\n                    //String eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\r\n                    UploadEventModel temp = itemSnapshot.getValue(UploadEventModel.class);\r\n                    timelineCardContents.add(new TimelineCardContent(temp.getImage(), temp.getEventTitle()));\r\n                }\r\n                Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(Home.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        RecycleContentAdapter adapter = new RecycleContentAdapter(this, timelineCardContents);\r\n        System.out.println(timelineCardContents);\r\n        timeline.setAdapter(adapter);\r\n        home.setOnClickListener(buttonClickListenerHome);\r\n        profile.setOnClickListener(buttonClickListenerProfile);\r\n        bookings.setOnClickListener(buttonClickListenerBookings);\r\n        findViewById(R.id.uploadnewevent).setOnClickListener(view -&gt; {\r\n            Intent intent = new Intent(Home.this, UploadActivity.class);\r\n            Home.this.startActivity(intent);\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nadapter class\r\n\r\n```\r\npackage com.example.rsvpea;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecycleContentAdapter extends RecyclerView.Adapter&lt;RecycleContentAdapter.ViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;TimelineCardContent&gt; arrContent;\r\n    RecycleContentAdapter(Context context, ArrayList&lt;TimelineCardContent&gt; arrContent){\r\n        this.context=context;\r\n        this.arrContent=arrContent;\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n       View v= LayoutInflater.from(context).inflate(R.layout.timeline_item, parent, false);\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        TimelineCardContent content = arrContent.get(position);\r\n        //holder.img.setImageResource(arrContent.get(position).img);\r\n        Picasso.get()\r\n                .load(content.img)\r\n                .into(holder.img);\r\n        holder.title.setText(arrContent.get(position).title);\r\n        holder.moreDetailsButton.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(v.getContext(), MoreDetails.class);\r\n            v.getContext().startActivity(intent);\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return arrContent.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n        TextView title;\r\n        ImageView img;\r\n        Button moreDetailsButton;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            this.title=itemView.findViewById(R.id.title);\r\n            this.img=itemView.findViewById(R.id.img);\r\n            moreDetailsButton = itemView.findViewById(R.id.moreDetails);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nHere&#39;s my event model class\r\n```\r\npackage com.example.rsvpea.Models;\r\n\r\npublic class UploadEventModel {\r\n    private String eventTitle, Desc, date, venue, image;\r\n\r\n    public UploadEventModel(String eventTitle, String desc, String date, String venue, String image) {\r\n        this.eventTitle = eventTitle;\r\n        this.Desc = desc;\r\n        this.date = date;\r\n        this.venue = venue;\r\n        this.image = image;\r\n    }\r\n    public UploadEventModel(){}\r\n\r\n    public String getEventTitle() {\r\n        return eventTitle;\r\n    }\r\n\r\n    public void setEventTitle(String eventTitle) {\r\n        this.eventTitle = eventTitle;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return Desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        Desc = desc;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getVenue() {\r\n        return venue;\r\n    }\r\n\r\n    public void setVenue(String venue) {\r\n        this.venue = venue;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nin my logcat it shows ArrayList is empty\r\n&gt; 2023-11-06 14:27:36.006 23637-23637 FirebaseData            com.example.rsvpea                   D  Data retrieved: 0\r\n\r\nhere&#39;s the JSON file:\r\n```\r\n{\r\n  &quot;Events List&quot;: {\r\n    &quot;5 Nov 2023 20:43:57&quot;: {\r\n      &quot;date&quot;: &quot;29 feb 2024&quot;,\r\n      &quot;desc&quot;: &quot;birthday party for a batak&quot;,\r\n      &quot;eventTitle&quot;: &quot;Batak Bday&quot;,\r\n      &quot;image&quot;: &quot;url&quot;,\r\n      &quot;venue&quot;: &quot;TMA Pai&quot;\r\n    },\r\n    &quot;5 Nov 2023 23:12:29&quot;: {\r\n      &quot;date&quot;: &quot;40 feb 2024 &quot;,\r\n      &quot;desc&quot;: &quot;event description sample&quot;,\r\n      &quot;eventTitle&quot;: &quot;new event&quot;,\r\n      &quot;image&quot;: &quot;url&quot;,\r\n      &quot;venue&quot;: &quot;tma pai&quot;\r\n    },\r\n    &quot;6 Nov 2023 00:28:28&quot;: {\r\n      &quot;date&quot;: &quot;hhhs&quot;,\r\n      &quot;desc&quot;: &quot;hshsh&quot;,\r\n      &quot;eventTitle&quot;: &quot;hsha&quot;,\r\n      &quot;image&quot;: &quot;url&quot;\r\n    }\r\n  },\r\n  &quot;Users&quot;: {\r\n    &quot;cN0Z4YQEeoXPQKYH0lYxQegpfFE2&quot;: {\r\n      &quot;mail&quot;: &quot;ayu@awsm.ayu&quot;,\r\n      &quot;password&quot;: &quot;hello123&quot;,\r\n      &quot;userName&quot;: &quot;ayu&quot;\r\n    }\r\n  }\r\n}\r\n```\r\napp runs without giving any error but shows empty recycler view.\r\nany help?\r\n\r\n\r\nInstead of using model i tried doing it manually like this but that didnt work either\r\n\r\n```\r\nString img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\r\nString eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\r\n```\r\n\r\nhere are my database rules\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,  // 2023-12-4\r\n    &quot;.write&quot;: true,  // 2023-12-4\r\n  }\r\n}\r\n```\r\n","title":"Unable to Retrieve data from Firebase in my java android app","body":"<p>Home.java class</p>\n<pre><code>package com.example.rsvpea;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.ImageButton;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.rsvpea.Models.UploadEventModel;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class Home extends AppCompatActivity {\n    public static ImageButton home;\n    public static ImageButton bookings;\n    public static ImageButton profile;\n    FirebaseDatabase database;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        home = findViewById(R.id.home);\n        bookings = findViewById(R.id.myBookings);\n        profile = findViewById(R.id.myProfile);\n        BottomNavBar buttonClickListenerHome = new BottomNavBar(home);\n        BottomNavBar buttonClickListenerBookings = new BottomNavBar(bookings);\n        BottomNavBar buttonClickListenerProfile = new BottomNavBar(profile);\n\n        ArrayList&lt;TimelineCardContent&gt; timelineCardContents = new ArrayList&lt;&gt;();\n\n        RecyclerView timeline = findViewById(R.id.timelineRecyclerView);\n        timeline.setLayoutManager(new LinearLayoutManager(this));\n        database=FirebaseDatabase.getInstance();\n        database.getReference().child(&quot;Event List&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot itemSnapshot : snapshot.getChildren()){\n                    //String img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\n                    //String eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\n                    UploadEventModel temp = itemSnapshot.getValue(UploadEventModel.class);\n                    timelineCardContents.add(new TimelineCardContent(temp.getImage(), temp.getEventTitle()));\n                }\n                Log.d(&quot;FirebaseData&quot;, &quot;Data retrieved: &quot; + timelineCardContents.size() + &quot; items&quot;);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(Home.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        RecycleContentAdapter adapter = new RecycleContentAdapter(this, timelineCardContents);\n        System.out.println(timelineCardContents);\n        timeline.setAdapter(adapter);\n        home.setOnClickListener(buttonClickListenerHome);\n        profile.setOnClickListener(buttonClickListenerProfile);\n        bookings.setOnClickListener(buttonClickListenerBookings);\n        findViewById(R.id.uploadnewevent).setOnClickListener(view -&gt; {\n            Intent intent = new Intent(Home.this, UploadActivity.class);\n            Home.this.startActivity(intent);\n        });\n\n\n    }\n}\n\n</code></pre>\n<p>adapter class</p>\n<pre><code>package com.example.rsvpea;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.squareup.picasso.Picasso;\n\nimport java.util.ArrayList;\n\npublic class RecycleContentAdapter extends RecyclerView.Adapter&lt;RecycleContentAdapter.ViewHolder&gt; {\n    Context context;\n    ArrayList&lt;TimelineCardContent&gt; arrContent;\n    RecycleContentAdapter(Context context, ArrayList&lt;TimelineCardContent&gt; arrContent){\n        this.context=context;\n        this.arrContent=arrContent;\n    }\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       View v= LayoutInflater.from(context).inflate(R.layout.timeline_item, parent, false);\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        TimelineCardContent content = arrContent.get(position);\n        //holder.img.setImageResource(arrContent.get(position).img);\n        Picasso.get()\n                .load(content.img)\n                .into(holder.img);\n        holder.title.setText(arrContent.get(position).title);\n        holder.moreDetailsButton.setOnClickListener(v -&gt; {\n            Intent intent = new Intent(v.getContext(), MoreDetails.class);\n            v.getContext().startActivity(intent);\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return arrContent.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n        TextView title;\n        ImageView img;\n        Button moreDetailsButton;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            this.title=itemView.findViewById(R.id.title);\n            this.img=itemView.findViewById(R.id.img);\n            moreDetailsButton = itemView.findViewById(R.id.moreDetails);\n\n        }\n    }\n}\n\n</code></pre>\n<p>Here's my event model class</p>\n<pre><code>package com.example.rsvpea.Models;\n\npublic class UploadEventModel {\n    private String eventTitle, Desc, date, venue, image;\n\n    public UploadEventModel(String eventTitle, String desc, String date, String venue, String image) {\n        this.eventTitle = eventTitle;\n        this.Desc = desc;\n        this.date = date;\n        this.venue = venue;\n        this.image = image;\n    }\n    public UploadEventModel(){}\n\n    public String getEventTitle() {\n        return eventTitle;\n    }\n\n    public void setEventTitle(String eventTitle) {\n        this.eventTitle = eventTitle;\n    }\n\n    public String getDesc() {\n        return Desc;\n    }\n\n    public void setDesc(String desc) {\n        Desc = desc;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getVenue() {\n        return venue;\n    }\n\n    public void setVenue(String venue) {\n        this.venue = venue;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n}\n\n</code></pre>\n<p>in my logcat it shows ArrayList is empty</p>\n<blockquote>\n<p>2023-11-06 14:27:36.006 23637-23637 FirebaseData            com.example.rsvpea                   D  Data retrieved: 0</p>\n</blockquote>\n<p>here's the JSON file:</p>\n<pre><code>{\n  &quot;Events List&quot;: {\n    &quot;5 Nov 2023 20:43:57&quot;: {\n      &quot;date&quot;: &quot;29 feb 2024&quot;,\n      &quot;desc&quot;: &quot;birthday party for a batak&quot;,\n      &quot;eventTitle&quot;: &quot;Batak Bday&quot;,\n      &quot;image&quot;: &quot;url&quot;,\n      &quot;venue&quot;: &quot;TMA Pai&quot;\n    },\n    &quot;5 Nov 2023 23:12:29&quot;: {\n      &quot;date&quot;: &quot;40 feb 2024 &quot;,\n      &quot;desc&quot;: &quot;event description sample&quot;,\n      &quot;eventTitle&quot;: &quot;new event&quot;,\n      &quot;image&quot;: &quot;url&quot;,\n      &quot;venue&quot;: &quot;tma pai&quot;\n    },\n    &quot;6 Nov 2023 00:28:28&quot;: {\n      &quot;date&quot;: &quot;hhhs&quot;,\n      &quot;desc&quot;: &quot;hshsh&quot;,\n      &quot;eventTitle&quot;: &quot;hsha&quot;,\n      &quot;image&quot;: &quot;url&quot;\n    }\n  },\n  &quot;Users&quot;: {\n    &quot;cN0Z4YQEeoXPQKYH0lYxQegpfFE2&quot;: {\n      &quot;mail&quot;: &quot;ayu@awsm.ayu&quot;,\n      &quot;password&quot;: &quot;hello123&quot;,\n      &quot;userName&quot;: &quot;ayu&quot;\n    }\n  }\n}\n</code></pre>\n<p>app runs without giving any error but shows empty recycler view.\nany help?</p>\n<p>Instead of using model i tried doing it manually like this but that didnt work either</p>\n<pre><code>String img = itemSnapshot.child(&quot;image&quot;).getValue(String.class);\nString eventTitle = itemSnapshot.child(&quot;eventTitle&quot;).getValue(String.class);\n</code></pre>\n<p>here are my database rules</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,  // 2023-12-4\n    &quot;.write&quot;: true,  // 2023-12-4\n  }\n}\n</code></pre>\n"},{"tags":["java","ssl","javafx","https","sslhandshakeexception"],"answers":[{"tags":[],"owner":{"account_id":2733112,"reputation":125,"user_id":2356409,"display_name":"Janou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559727797,"creation_date":1559727797,"answer_id":56458003,"question_id":39507348,"body_markdown":"I had the same issue. I had to downgrade to Java 1.6 in order for the ASDM-IDM connector to work.","title":"How to resolve SSLHandshakeException on a trusted certificate?","body":"<p>I had the same issue. I had to downgrade to Java 1.6 in order for the ASDM-IDM connector to work.</p>\n"},{"tags":[],"owner":{"account_id":24913285,"reputation":11,"user_id":18782561,"display_name":"Kunalpagariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699268045,"creation_date":1699268045,"answer_id":77430532,"question_id":39507348,"body_markdown":"This issue was fixed in java 8 update 60+\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8065082","title":"How to resolve SSLHandshakeException on a trusted certificate?","body":"<p>This issue was fixed in java 8 update 60+</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8065082\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8065082</a></p>\n"}],"owner":{"account_id":3965207,"reputation":1481,"user_id":3271380,"accept_rate":80,"display_name":"ulrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2038,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1699268045,"creation_date":1473931197,"question_id":39507348,"body_markdown":"We have a JavaFX application calling our backend on an https-secured resource. The application does several hundreds of requests in a row to the same url, to obtain data from the server.\r\n\r\nThis works without a problem usually, but now we have a customer reporting an `SSLHandshakeException` problem when connecting to the resource. He can do several hundreds of requests just fine and with the next one, the client fails with:\r\n\r\n    javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Java couldn&#39;t trust Server \r\n    \tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.access$200(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.AccessController.doPrivileged(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    \tat java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.b(ProGuard:339)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:227)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:56)\r\n    \tat com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:387)\r\n    \tat com.project.projects.map.client.manager.GeomanagerWorker.readGeocodingChunk(ProGuard:5640)\r\n    \tat com.project.projects.map.client.manager.n.readGeocodingChunk(ProGuard:4337)\r\n    \tat com.project.projects.map.client.manager.modules.fx.imports.b.nF(ProGuard:199)\r\n    \tat com.project.projects.map.client.manager.modules.fx.imports.b.call(ProGuard:174)\r\n    \tat javafx.concurrent.Task$TaskCallable.call(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.security.cert.CertificateException: Java couldn&#39;t trust Server \r\n    \tat com.sun.deploy.security.X509TrustManagerDelegate.checkTrusted(Unknown Source)\r\n    \tat com.sun.deploy.security.X509Extended7DeployTrustManagerDelegate.checkServerTrusted(Unknown Source)\r\n    \tat com.sun.deploy.security.X509Extended7DeployTrustManager.checkServerTrusted(Unknown Source)\r\n    \t... 30 more\r\n\r\nOur SSL Certificate is signed by GeoTrust SSL CA - G3 and valid until December 13, 2016.\r\nThe customer client uses Java 1.8.0_40\r\n\r\nI have researched different articles. [This][1] one says, it might be related to a bug with case sensitivity of the certificate domain name. But we use all lower case on both, the certificate and the request, so should be no problem.\r\n\r\n[This][2] article shows, the problem might be related to the Java Version, because &quot;maybe the new Java version is more strictly enforcing SSL CAs&quot;.\r\nAlso it says, upgrading to newest java version might solve the problem. I didn&#39;t yet check this option, because its not always possible for a customer to just upgrade a java version due to company&#39;s IT constraints.\r\n\r\nEven more, we require Java Version 1.8 to run, so would be bad, if it doesn&#39;t work with the 1.8.0_40 version.\r\n\r\nDoes anyone know, if there is a precise reason for this problem?\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8065082\r\n  [2]: https://sourceforge.net/p/webadmin/bugs/4547/","title":"How to resolve SSLHandshakeException on a trusted certificate?","body":"<p>We have a JavaFX application calling our backend on an https-secured resource. The application does several hundreds of requests in a row to the same url, to obtain data from the server.</p>\n\n<p>This works without a problem usually, but now we have a customer reporting an <code>SSLHandshakeException</code> problem when connecting to the resource. He can do several hundreds of requests just fine and with the next one, the client fails with:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Java couldn't trust Server \n    at sun.security.ssl.Alerts.getSSLException(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n    at sun.security.ssl.Handshaker.processLoop(Unknown Source)\n    at sun.security.ssl.Handshaker.process_record(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.access$200(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection$9.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.AccessController.doPrivileged(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.b(ProGuard:339)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:227)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:56)\n    at com.project.common.ws.client.HttpUrlConnectionRestClient.a(ProGuard:387)\n    at com.project.projects.map.client.manager.GeomanagerWorker.readGeocodingChunk(ProGuard:5640)\n    at com.project.projects.map.client.manager.n.readGeocodingChunk(ProGuard:4337)\n    at com.project.projects.map.client.manager.modules.fx.imports.b.nF(ProGuard:199)\n    at com.project.projects.map.client.manager.modules.fx.imports.b.call(ProGuard:174)\n    at javafx.concurrent.Task$TaskCallable.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.security.cert.CertificateException: Java couldn't trust Server \n    at com.sun.deploy.security.X509TrustManagerDelegate.checkTrusted(Unknown Source)\n    at com.sun.deploy.security.X509Extended7DeployTrustManagerDelegate.checkServerTrusted(Unknown Source)\n    at com.sun.deploy.security.X509Extended7DeployTrustManager.checkServerTrusted(Unknown Source)\n    ... 30 more\n</code></pre>\n\n<p>Our SSL Certificate is signed by GeoTrust SSL CA - G3 and valid until December 13, 2016.\nThe customer client uses Java 1.8.0_40</p>\n\n<p>I have researched different articles. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8065082\" rel=\"nofollow\">This</a> one says, it might be related to a bug with case sensitivity of the certificate domain name. But we use all lower case on both, the certificate and the request, so should be no problem.</p>\n\n<p><a href=\"https://sourceforge.net/p/webadmin/bugs/4547/\" rel=\"nofollow\">This</a> article shows, the problem might be related to the Java Version, because \"maybe the new Java version is more strictly enforcing SSL CAs\".\nAlso it says, upgrading to newest java version might solve the problem. I didn't yet check this option, because its not always possible for a customer to just upgrade a java version due to company's IT constraints.</p>\n\n<p>Even more, we require Java Version 1.8 to run, so would be bad, if it doesn't work with the 1.8.0_40 version.</p>\n\n<p>Does anyone know, if there is a precise reason for this problem?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":28368661,"reputation":86,"user_id":21697614,"display_name":"Nandish Chauhan "},"score":0,"creation_date":1687246639,"post_id":76039248,"comment_id":134905728,"body_markdown":"Did you get your answer ?","body":"Did you get your answer ?"}],"answers":[{"tags":[],"owner":{"account_id":308156,"reputation":13672,"user_id":619860,"accept_rate":80,"display_name":"Hoa Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699267863,"creation_date":1699266540,"answer_id":77430380,"question_id":76039248,"body_markdown":"From the [jpa reference guide][1], `record` should be used for Class-based Projections (DTOs) (Check their example with NamesOnly - note that **`record` is a valid keyword since java 14**). As a result, you can redefine your DTO as below:\r\n\r\n    public record IndividualDTO (\r\n    \t// variable 1\r\n    \t// variable 2\r\n    ) {}\r\n\r\nThen, the below query will work:\r\n\r\n    individualDtoResponse = \r\n    \tindividualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos","title":"Upgrading from Spring Boot 2.6.7 to 3.0.5 Spring Data JPA Dynamic Projection errors at Runtime","body":"<p>From the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos\" rel=\"nofollow noreferrer\">jpa reference guide</a>, <code>record</code> should be used for Class-based Projections (DTOs) (Check their example with NamesOnly - note that <strong><code>record</code> is a valid keyword since java 14</strong>). As a result, you can redefine your DTO as below:</p>\n<pre><code>public record IndividualDTO (\n    // variable 1\n    // variable 2\n) {}\n</code></pre>\n<p>Then, the below query will work:</p>\n<pre><code>individualDtoResponse = \n    individualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\n</code></pre>\n"}],"owner":{"account_id":7402987,"reputation":49,"user_id":5632784,"display_name":"03T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699267863,"creation_date":1681765083,"question_id":76039248,"body_markdown":"In trying to upgrade from Spring Boot 2.6.7 to 3.0.5, my Dynamic Projection code that has been working for quite some time now fails with errors at runtime.  It doesn&#39;t matter if it&#39;s just a JPA Query Method or an @Query annotated method.  The reference docs still show examples of doing this for JPA, though I do see the [Note](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos) in this section that seems to indicate Dynamic Projections no longer work with @Query.  Is that correct?  Is this called out and explained anywhere other than in this Note?\r\n\r\n```\r\n// WAS - this is what has worked, and I would like to keep\r\n// individualDtoResponse = individualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\r\n\r\n// NOW - a workaround hack thats ugly!\r\nIndividual temp = individualRepository.findById(existingIndividual.getId(), Individual.class);\r\nindividualDtoResponse = new IndividualDTO(temp);\r\n```\r\n\r\n```\r\n// Repo / Query Method\r\n@Repository\r\npublic interface IndividualRepository extends JpaRepositoryRep&lt;Individual, Integer&gt;\r\n{\r\n    &lt;T&gt; T findById(Integer id, Class&lt;T&gt; projection);\r\n\r\n```\r\n\r\n```\r\norg.springframework.orm.jpa.JpaSystemException: Specified result type [...IndividualDTO] did not match Query selection type [...Individual] - multiple selections: use Tuple or array\r\n```\r\n\r\nAll I&#39;ve found using my Google fu is [this question](https://stackoverflow.com/questions/75169414/hibernate-6-regression-with-generics) that sounds related, but I&#39;m using Spring Data JPA not CriteraBuilder.\r\n\r\nCan you help me identify the problem and how do I fix it?  Is there a doc or guide I&#39;m just not finding?","title":"Upgrading from Spring Boot 2.6.7 to 3.0.5 Spring Data JPA Dynamic Projection errors at Runtime","body":"<p>In trying to upgrade from Spring Boot 2.6.7 to 3.0.5, my Dynamic Projection code that has been working for quite some time now fails with errors at runtime.  It doesn't matter if it's just a JPA Query Method or an @Query annotated method.  The reference docs still show examples of doing this for JPA, though I do see the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos\" rel=\"nofollow noreferrer\">Note</a> in this section that seems to indicate Dynamic Projections no longer work with @Query.  Is that correct?  Is this called out and explained anywhere other than in this Note?</p>\n<pre><code>// WAS - this is what has worked, and I would like to keep\n// individualDtoResponse = individualRepository.findById(existingIndividual.getId(), IndividualDTO.class);\n\n// NOW - a workaround hack thats ugly!\nIndividual temp = individualRepository.findById(existingIndividual.getId(), Individual.class);\nindividualDtoResponse = new IndividualDTO(temp);\n</code></pre>\n<pre><code>// Repo / Query Method\n@Repository\npublic interface IndividualRepository extends JpaRepositoryRep&lt;Individual, Integer&gt;\n{\n    &lt;T&gt; T findById(Integer id, Class&lt;T&gt; projection);\n\n</code></pre>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Specified result type [...IndividualDTO] did not match Query selection type [...Individual] - multiple selections: use Tuple or array\n</code></pre>\n<p>All I've found using my Google fu is <a href=\"https://stackoverflow.com/questions/75169414/hibernate-6-regression-with-generics\">this question</a> that sounds related, but I'm using Spring Data JPA not CriteraBuilder.</p>\n<p>Can you help me identify the problem and how do I fix it?  Is there a doc or guide I'm just not finding?</p>\n"},{"tags":["java","reactjs","spring","spring-boot","okta-api"],"comments":[{"owner":{"account_id":25538,"reputation":8268,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1699282943,"post_id":77430198,"comment_id":136508736,"body_markdown":"Can you upgrade to okta-spring-boot-starter v3.0.5 and see if that helps? v2.1.6 doesn&#39;t support Spring Boot 3. You can see what&#39;s changed between releases at https://github.com/okta/okta-spring-boot/releases.","body":"Can you upgrade to okta-spring-boot-starter v3.0.5 and see if that helps? v2.1.6 doesn&#39;t support Spring Boot 3. You can see what&#39;s changed between releases at <a href=\"https://github.com/okta/okta-spring-boot/releases\" rel=\"nofollow noreferrer\">github.com/okta/okta-spring-boot/releases</a>."}],"owner":{"account_id":14545713,"reputation":129,"user_id":10506005,"display_name":"Kalamazoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1699267623,"creation_date":1699264812,"question_id":77430198,"body_markdown":"I am working on a react and springboot application and am getting 401 error whenever I make a call to this endpoint [![enter image description here][1]][1] Other endpoints are working fine. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mDeZ2.png\r\n\r\nI&#39;m not too sure what&#39;s causing the issue. \r\n\r\nI have 2 configuration files as follows: \r\n\r\nDataRestConfig.java\r\n```\r\npackage com.luv2code.springbootlibrary.config;\r\n\r\nimport com.luv2code.springbootlibrary.entity.Book;\r\nimport com.luv2code.springbootlibrary.entity.Review;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n\r\n@Configuration\r\npublic class MyDataRestConfig implements RepositoryRestConfigurer {\r\n    private String theAllowedOrigins = &quot;http://localhost:3000&quot;;\r\n    @Override\r\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\r\n        HttpMethod[] theUnsupportedActions = {HttpMethod.POST,HttpMethod.PATCH,HttpMethod.DELETE,HttpMethod.PUT };\r\n        config.exposeIdsFor(Book.class);\r\n        config.exposeIdsFor(Review.class);\r\n        disableHttpMethods(Book.class, config, theUnsupportedActions);\r\n        disableHttpMethods(Review.class, config, theUnsupportedActions);\r\n\r\n//        Configure CORS Mapping\r\n        cors.addMapping(config.getBasePath() + &quot;/**&quot;)\r\n                .allowedOrigins(theAllowedOrigins);\r\n    }\r\n\r\n    private void disableHttpMethods(Class theClass, RepositoryRestConfiguration config, HttpMethod[] theUnsupportedActions) {\r\n        config.getExposureConfiguration()\r\n                .forDomainType(theClass)\r\n                .withItemExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions))\r\n                .withCollectionExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nSecurityConfiguration.java\r\n\r\n```\r\npackage com.luv2code.springbootlibrary.config;\r\n\r\nimport com.okta.spring.boot.oauth.Okta;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.web.accept.ContentNegotiationStrategy;\r\nimport org.springframework.web.accept.HeaderContentNegotiationStrategy;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\n\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        // Disable cross site request forgery\r\n        http.csrf(csrf -&gt; csrf.disable())\r\n\r\n                .cors(cors -&gt; {\r\n                    cors.configurationSource(corsConfigurationSource());\r\n                })\r\n\r\n                // Protect endpoints at /api/&lt;type&gt;/secure\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/books/secure/**&quot;).authenticated())\r\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n                        .jwt(Customizer.withDefaults())\r\n                )\r\n\r\n                // Add content negotiation strategy\r\n                .setSharedObject(ContentNegotiationStrategy.class,\r\n                        new HeaderContentNegotiationStrategy());\r\n        return http.build(); \r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new\r\n                UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI am using okta-spring-boot-starter v2.1.6 and spring-boot-starter-parent v3.1.4.\r\n\r\nBookRepository.java\r\n```\r\npackage com.luv2code.springbootlibrary.dao;\r\n\r\nimport com.luv2code.springbootlibrary.entity.Book;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n\r\n\r\n\r\npublic interface BookRepository extends JpaRepository&lt;Book,Long&gt; {\r\n    Page&lt;Book&gt; findByTitleContaining(@RequestParam(&quot;title&quot;) String title, Pageable pageable);\r\n\r\n    Page&lt;Book&gt; findByCategory(@RequestParam(&quot;category&quot;) String category, Pageable pageable);\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nBookController.java\r\n```\r\npackage com.luv2code.springbootlibrary.controller;\r\n\r\nimport com.luv2code.springbootlibrary.entity.Book;\r\nimport com.luv2code.springbootlibrary.service.BookService;\r\nimport com.luv2code.springbootlibrary.utils.ExtractJWT;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@CrossOrigin(&quot;http://localhost:3000&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/books&quot;)\r\npublic class BookController {\r\n\r\n    private BookService bookService;\r\n\r\n    @Autowired //allows you to create Bean without using new keyword\r\n    public BookController(BookService bookService) {\r\n        this.bookService = bookService;\r\n    }\r\n\r\n    @GetMapping(&quot;/secure/currentloans/count&quot;)\r\n    public int currentLoansCount(@RequestHeader(value=&quot;Authorization&quot;) String token) {\r\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\r\n        return bookService.currentLoansCount(userEmail);\r\n    }\r\n\r\n    @GetMapping(&quot;/secure/ischeckedout/byuser&quot;)\r\n    public Boolean checkoutBookByUser(@RequestHeader(value=&quot;Authorization&quot;) String token,\r\n    @RequestParam Long bookId) {\r\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\r\n//        System.out.println(&quot;user &quot; + userEmail);\r\n        return bookService.checkoutBookByUser(userEmail, bookId);\r\n    }\r\n\r\n    @PutMapping(&quot;/secure/checkout&quot;)\r\n    public Book checkoutBook(@RequestHeader(value=&quot;Authorization&quot;) String token,\r\n    @RequestParam Long bookId) throws Exception {\r\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\r\n        return bookService.checkoutBook(userEmail, bookId);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAppreciate my help or ideas, thanks!","title":"springboot x react - Okta OAuth2 (401 error API)","body":"<p>I am working on a react and springboot application and am getting 401 error whenever I make a call to this endpoint <a href=\"https://i.stack.imgur.com/mDeZ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mDeZ2.png\" alt=\"enter image description here\" /></a> Other endpoints are working fine.</p>\n<p>I'm not too sure what's causing the issue.</p>\n<p>I have 2 configuration files as follows:</p>\n<p>DataRestConfig.java</p>\n<pre><code>package com.luv2code.springbootlibrary.config;\n\nimport com.luv2code.springbootlibrary.entity.Book;\nimport com.luv2code.springbootlibrary.entity.Review;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n@Configuration\npublic class MyDataRestConfig implements RepositoryRestConfigurer {\n    private String theAllowedOrigins = &quot;http://localhost:3000&quot;;\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\n        HttpMethod[] theUnsupportedActions = {HttpMethod.POST,HttpMethod.PATCH,HttpMethod.DELETE,HttpMethod.PUT };\n        config.exposeIdsFor(Book.class);\n        config.exposeIdsFor(Review.class);\n        disableHttpMethods(Book.class, config, theUnsupportedActions);\n        disableHttpMethods(Review.class, config, theUnsupportedActions);\n\n//        Configure CORS Mapping\n        cors.addMapping(config.getBasePath() + &quot;/**&quot;)\n                .allowedOrigins(theAllowedOrigins);\n    }\n\n    private void disableHttpMethods(Class theClass, RepositoryRestConfiguration config, HttpMethod[] theUnsupportedActions) {\n        config.getExposureConfiguration()\n                .forDomainType(theClass)\n                .withItemExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions))\n                .withCollectionExposure((metadata, httpMethods) -&gt; httpMethods.disable(theUnsupportedActions));\n    }\n\n}\n\n</code></pre>\n<p>SecurityConfiguration.java</p>\n<pre><code>package com.luv2code.springbootlibrary.config;\n\nimport com.okta.spring.boot.oauth.Okta;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.web.accept.ContentNegotiationStrategy;\nimport org.springframework.web.accept.HeaderContentNegotiationStrategy;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\n\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        // Disable cross site request forgery\n        http.csrf(csrf -&gt; csrf.disable())\n\n                .cors(cors -&gt; {\n                    cors.configurationSource(corsConfigurationSource());\n                })\n\n                // Protect endpoints at /api/&lt;type&gt;/secure\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/books/secure/**&quot;).authenticated())\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\n                        .jwt(Customizer.withDefaults())\n                )\n\n                // Add content negotiation strategy\n                .setSharedObject(ContentNegotiationStrategy.class,\n                        new HeaderContentNegotiationStrategy());\n        return http.build(); \n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new\n                UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n\n}\n</code></pre>\n<p>I am using okta-spring-boot-starter v2.1.6 and spring-boot-starter-parent v3.1.4.</p>\n<p>BookRepository.java</p>\n<pre><code>package com.luv2code.springbootlibrary.dao;\n\nimport com.luv2code.springbootlibrary.entity.Book;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n\n\n\npublic interface BookRepository extends JpaRepository&lt;Book,Long&gt; {\n    Page&lt;Book&gt; findByTitleContaining(@RequestParam(&quot;title&quot;) String title, Pageable pageable);\n\n    Page&lt;Book&gt; findByCategory(@RequestParam(&quot;category&quot;) String category, Pageable pageable);\n\n\n}\n\n</code></pre>\n<p>BookController.java</p>\n<pre><code>package com.luv2code.springbootlibrary.controller;\n\nimport com.luv2code.springbootlibrary.entity.Book;\nimport com.luv2code.springbootlibrary.service.BookService;\nimport com.luv2code.springbootlibrary.utils.ExtractJWT;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\n@CrossOrigin(&quot;http://localhost:3000&quot;)\n@RestController\n@RequestMapping(&quot;/api/books&quot;)\npublic class BookController {\n\n    private BookService bookService;\n\n    @Autowired //allows you to create Bean without using new keyword\n    public BookController(BookService bookService) {\n        this.bookService = bookService;\n    }\n\n    @GetMapping(&quot;/secure/currentloans/count&quot;)\n    public int currentLoansCount(@RequestHeader(value=&quot;Authorization&quot;) String token) {\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\n        return bookService.currentLoansCount(userEmail);\n    }\n\n    @GetMapping(&quot;/secure/ischeckedout/byuser&quot;)\n    public Boolean checkoutBookByUser(@RequestHeader(value=&quot;Authorization&quot;) String token,\n    @RequestParam Long bookId) {\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\n//        System.out.println(&quot;user &quot; + userEmail);\n        return bookService.checkoutBookByUser(userEmail, bookId);\n    }\n\n    @PutMapping(&quot;/secure/checkout&quot;)\n    public Book checkoutBook(@RequestHeader(value=&quot;Authorization&quot;) String token,\n    @RequestParam Long bookId) throws Exception {\n        String userEmail = ExtractJWT.payloadJWTExtract(token, &quot;\\&quot;sub\\&quot;&quot;);\n        return bookService.checkoutBook(userEmail, bookId);\n    }\n\n}\n</code></pre>\n<p>Appreciate my help or ideas, thanks!</p>\n"},{"tags":["java","itext","itext7"],"answers":[{"tags":[],"owner":{"account_id":8178327,"reputation":1669,"user_id":6156384,"display_name":"Samuel Huylebroeck"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1556793815,"creation_date":1484209093,"answer_id":41608146,"question_id":41607891,"body_markdown":"The table itself is by default not responsible for borders in iText7, the cells are. You need to set every cell to be borderless if you want a borderless table (or set the outer cells to have no border on the edge if you still want inside borders).\r\n\r\n    Cell cell = new Cell();\r\n    cell.add(&quot;contents go here&quot;);\r\n    cell.setBorder(Border.NO_BORDER);\r\n    table.addCell(cell);\r\n\r\n","title":"iText 7 borderless table (no border)","body":"<p>The table itself is by default not responsible for borders in iText7, the cells are. You need to set every cell to be borderless if you want a borderless table (or set the outer cells to have no border on the edge if you still want inside borders).</p>\n\n<pre><code>Cell cell = new Cell();\ncell.add(\"contents go here\");\ncell.setBorder(Border.NO_BORDER);\ntable.addCell(cell);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2166956,"reputation":111,"user_id":1919880,"display_name":"Netzmensch"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1581101938,"creation_date":1581101938,"answer_id":60119530,"question_id":41607891,"body_markdown":"You could write a method which runs though all children of a Table and sets NO_BORDER.\r\n\r\n    private static void RemoveBorder(Table table)\r\n    {\r\n        for (IElement iElement : table.getChildren()) {\r\n            ((Cell)iElement).setBorder(Border.NO_BORDER);\r\n        }\r\n    }\r\n\r\nThis gives you the advantage that you can still use \r\n\r\n    table.add(&quot;whatever&quot;);\r\n    table.add(&quot;whatever&quot;);\r\n    RemoveBorder(table);\r\n\r\ninstead of changing it on all cells manual.","title":"iText 7 borderless table (no border)","body":"<p>You could write a method which runs though all children of a Table and sets NO_BORDER.</p>\n\n<pre><code>private static void RemoveBorder(Table table)\n{\n    for (IElement iElement : table.getChildren()) {\n        ((Cell)iElement).setBorder(Border.NO_BORDER);\n    }\n}\n</code></pre>\n\n<p>This gives you the advantage that you can still use </p>\n\n<pre><code>table.add(\"whatever\");\ntable.add(\"whatever\");\nRemoveBorder(table);\n</code></pre>\n\n<p>instead of changing it on all cells manual.</p>\n"},{"tags":[],"owner":{"account_id":13873126,"reputation":66,"user_id":10015628,"display_name":"Guust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699267346,"creation_date":1699267346,"answer_id":77430457,"question_id":41607891,"body_markdown":"An utility function I define in my java code bases is the following:\r\n\r\n\r\n    private static void setInnerCellBorder(Table table, Border border) {\r\n        for (IElement child : table.getChildren()) {\r\n            if (child instanceof Cell) {\r\n                ((Cell) child).setBorder(border);\r\n            }\r\n        }\r\n    }\r\n\r\nThen if you want no borders you can call the function as follows: \r\n\r\n    setInnerCellBorder(table, Border.NO_BORDER);\r\n    // or if you want a different color size you can do \r\n    setInnerCellBorder(Table, new SolidBorder(ColorConstants.RED, 2));\r\n","title":"iText 7 borderless table (no border)","body":"<p>An utility function I define in my java code bases is the following:</p>\n<pre><code>private static void setInnerCellBorder(Table table, Border border) {\n    for (IElement child : table.getChildren()) {\n        if (child instanceof Cell) {\n            ((Cell) child).setBorder(border);\n        }\n    }\n}\n</code></pre>\n<p>Then if you want no borders you can call the function as follows:</p>\n<pre><code>setInnerCellBorder(table, Border.NO_BORDER);\n// or if you want a different color size you can do \nsetInnerCellBorder(Table, new SolidBorder(ColorConstants.RED, 2));\n</code></pre>\n"}],"owner":{"account_id":8025269,"reputation":151,"user_id":6052501,"accept_rate":50,"display_name":"The Newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14652,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":41608146,"answer_count":3,"score":9,"last_activity_date":1699267346,"creation_date":1484208074,"question_id":41607891,"body_markdown":"This code below does not work.     \r\n\r\n```lang-java\r\nTable table = new Table(2); \r\ntable.setBorder(Border.NO_BORDER);\r\n```\r\n\r\nI am new to iText 7 and all I wanted is to have my table borderless.\r\nLike how to do it?","title":"iText 7 borderless table (no border)","body":"<p>This code below does not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Table table = new Table(2); \ntable.setBorder(Border.NO_BORDER);\n</code></pre>\n<p>I am new to iText 7 and all I wanted is to have my table borderless.\nLike how to do it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4187371,"reputation":4956,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":0,"creation_date":1473951799,"post_id":39514267,"comment_id":66344668,"body_markdown":"http://stackoverflow.com/questions/632204/java-string-replace-using-regular-expressions","body":"<a href=\"http://stackoverflow.com/questions/632204/java-string-replace-using-regular-expressions\" title=\"java string replace using regular expressions\">stackoverflow.com/questions/632204/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4963389,"reputation":72151,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1473952031,"creation_date":1473951753,"answer_id":39514400,"question_id":39514267,"body_markdown":"Using `replaceAll()` works well. Just pick what you want to keep ( the part in brackets `()` ), and replace by using `$1`\r\n\r\n    String f = s.replaceAll(&quot;[dx]([A-Z][a-zA-Z]+)&quot;, &quot;$1&quot;);\r\n    \r\nOutput\r\n\r\n    DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\r\n\r\n","title":"Replace all regex matches in String with substring of match","body":"<p>Using <code>replaceAll()</code> works well. Just pick what you want to keep ( the part in brackets <code>()</code> ), and replace by using <code>$1</code></p>\n\n<pre><code>String f = s.replaceAll(\"[dx]([A-Z][a-zA-Z]+)\", \"$1\");\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6354004,"reputation":1106,"user_id":4932012,"accept_rate":100,"display_name":"Matti VM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699267059,"creation_date":1699266679,"answer_id":77430396,"question_id":39514267,"body_markdown":"Since Java 9 [Matcher.replaceAll(Function)][1] is available on the [Matcher class][2]. If you want to do some extra transformation on the matched groups, then you can do something like this:\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Playground {\r\n\r\n        public static void main(String[] args) {\r\n            String input = &quot;xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse&quot;;\r\n            String output = Pattern.compile(&quot;[dx]([A-Z][a-zA-Z]+)&quot;).matcher(input).replaceAll(m -&gt; transformation(m.group(1)));\r\n            System.out.println(output);\r\n        }\r\n\r\n        public static String transformation(String input) {\r\n            return input.concat(&quot;-extra&quot;);\r\n        }\r\n    }\r\n\r\nThis will print:\r\n\r\n    DLMContent-extra &lt;matches&gt; something &lt;and&gt; SecurityGroup-extra &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField-extra &lt;matches&gt; anothersomethingelse\r\n\r\nSome more info:\r\n- `m.group()` gives you the whole matched value: `[dx]([A-Z][a-zA-Z]+)` for example `xDLMContent` \r\n- `m.group(1)` gives you the first group of the matched value: `([A-Z][a-zA-Z]+)` for example `DLMContent`\r\n\r\nIf you don&#39;t need the additional transformation, then you can just do: \r\n\r\n    .replaceAll(m -&gt; m.group(1))\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html","title":"Replace all regex matches in String with substring of match","body":"<p>Since Java 9 <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\">Matcher.replaceAll(Function)</a> is available on the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher class</a>. If you want to do some extra transformation on the matched groups, then you can do something like this:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Playground {\n\n    public static void main(String[] args) {\n        String input = &quot;xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse&quot;;\n        String output = Pattern.compile(&quot;[dx]([A-Z][a-zA-Z]+)&quot;).matcher(input).replaceAll(m -&gt; transformation(m.group(1)));\n        System.out.println(output);\n    }\n\n    public static String transformation(String input) {\n        return input.concat(&quot;-extra&quot;);\n    }\n}\n</code></pre>\n<p>This will print:</p>\n<pre><code>DLMContent-extra &lt;matches&gt; something &lt;and&gt; SecurityGroup-extra &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField-extra &lt;matches&gt; anothersomethingelse\n</code></pre>\n<p>Some more info:</p>\n<ul>\n<li><code>m.group()</code> gives you the whole matched value: <code>[dx]([A-Z][a-zA-Z]+)</code> for example <code>xDLMContent</code></li>\n<li><code>m.group(1)</code> gives you the first group of the matched value: <code>([A-Z][a-zA-Z]+)</code> for example <code>DLMContent</code></li>\n</ul>\n<p>If you don't need the additional transformation, then you can just do:</p>\n<pre><code>.replaceAll(m -&gt; m.group(1))\n</code></pre>\n"}],"owner":{"account_id":272779,"reputation":5565,"user_id":564045,"accept_rate":78,"display_name":"PDStat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39514400,"answer_count":2,"score":1,"last_activity_date":1699267059,"creation_date":1473951361,"question_id":39514267,"body_markdown":"Just wondering if there&#39;s a nicer solution to this given a String such as\r\n\r\n    xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\r\n\r\nIt needs to be replaced with\r\n\r\n    DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\r\n\r\nRule being metadata fields begin with x or d followed by uppercase letter and then 1 or more mixed case alpha characters.\r\n\r\nHere&#39;s my solution but I&#39;m wondering if there&#39;s something better\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;[dx][A-Z][a-zA-Z]+&quot;);\r\n        Matcher matcher = pattern.match(s);\r\n        while (matcher.find()) {\r\n            String orig = s.substring(matcher.start(), matcher.end());\r\n            String rep = s.substring(matcher.start() + 1, matcher.end());\r\n            s = s.replaceAll(orig, rep);\r\n            matcher = pattern.match(s);\r\n        }\r\n\r\n        System.out.println(s);\r\n    }\r\n","title":"Replace all regex matches in String with substring of match","body":"<p>Just wondering if there's a nicer solution to this given a String such as</p>\n\n<pre><code>xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\n</code></pre>\n\n<p>It needs to be replaced with</p>\n\n<pre><code>DLMContent &lt;matches&gt; something &lt;and&gt; SecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; DLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\n</code></pre>\n\n<p>Rule being metadata fields begin with x or d followed by uppercase letter and then 1 or more mixed case alpha characters.</p>\n\n<p>Here's my solution but I'm wondering if there's something better</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"xDLMContent &lt;matches&gt; something &lt;and&gt; dSecurityGroup &lt;contains&gt; somethingelse &lt;and&gt; xDLMSomeOtherMetaDataField &lt;matches&gt; anothersomethingelse\";\n    Pattern pattern = Pattern.compile(\"[dx][A-Z][a-zA-Z]+\");\n    Matcher matcher = pattern.match(s);\n    while (matcher.find()) {\n        String orig = s.substring(matcher.start(), matcher.end());\n        String rep = s.substring(matcher.start() + 1, matcher.end());\n        s = s.replaceAll(orig, rep);\n        matcher = pattern.match(s);\n    }\n\n    System.out.println(s);\n}\n</code></pre>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1699266990,"post_id":77430382,"comment_id":136505559,"body_markdown":"If you explain what is the issue, maybe someone will be able to actually help.","body":"If you explain what is the issue, maybe someone will be able to actually help."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699266997,"post_id":77430382,"comment_id":136505561,"body_markdown":"It depends on the site you&#39;re loading. If it supports plain `http` (which it shouldn&#39;t, it&#39;s 2023), then it will just load over http. If it doesn&#39;t, then it&#39;ll probably forward you to the `https` variant (which is the correct thing to do).","body":"It depends on the site you&#39;re loading. If it supports plain <code>http</code> (which it shouldn&#39;t, it&#39;s 2023), then it will just load over http. If it doesn&#39;t, then it&#39;ll probably forward you to the <code>https</code> variant (which is the correct thing to do)."},{"owner":{"account_id":9584826,"reputation":7,"user_id":7118018,"display_name":"HelloCH"},"score":0,"creation_date":1699270150,"post_id":77430382,"comment_id":136506109,"body_markdown":"thank you for the reply . I get this error &quot;net::ERR_CLEARTEXT_NOT_PERMITTED&quot;","body":"thank you for the reply . I get this error &quot;net::ERR_CLEARTEXT_NOT_PERMITTED&quot;"}],"owner":{"account_id":9584826,"reputation":7,"user_id":7118018,"display_name":"HelloCH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699271445,"answer_count":0,"score":0,"last_activity_date":1699266761,"creation_date":1699266554,"question_id":77430382,"body_markdown":"This Java code is a part of my Android Studio project, where I&#39;m facing a specific challenge. I need to load a website using the &quot;http&quot; protocol, rather than the more secure &quot;https&quot; protocol. To accomplish this, I&#39;ve utilized the Android WebView component, which allows embedding web content within the application. However, I&#39;ve encountered issues with this task. please help me \r\n\r\n\r\n\r\n    package com.example.chatgpt;\r\n    import android.os.Bundle;\r\n    import android.webkit.SslErrorHandler;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.net.http.SslError;\r\n    import android.os.Build;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private WebView webView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            webView = findViewById(R.id.webView);\r\n            webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n            String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;;\r\n            webView.getSettings().setUserAgentString(userAgent);\r\n    \r\n            webView.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\r\n                    handler.proceed();\r\n                }\r\n            });\r\n    \r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true); // Enable JavaScript support if needed\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n            }\r\n    \r\n            // Load the URL of the website you want to display\r\n            webView.loadUrl(&quot;http://weburl.com/&quot;);\r\n        }\r\n    \r\n        // Override onBackPressed to handle WebView navigation\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }","title":"how to run my web link with &quot;http&quot; , not with &quot;https&quot; . could someone please help me to do this ?. my source code is added below","body":"<p>This Java code is a part of my Android Studio project, where I'm facing a specific challenge. I need to load a website using the &quot;http&quot; protocol, rather than the more secure &quot;https&quot; protocol. To accomplish this, I've utilized the Android WebView component, which allows embedding web content within the application. However, I've encountered issues with this task. please help me</p>\n<pre><code>package com.example.chatgpt;\nimport android.os.Bundle;\nimport android.webkit.SslErrorHandler;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.net.http.SslError;\nimport android.os.Build;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webView);\n        webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;;\n        webView.getSettings().setUserAgentString(userAgent);\n\n        webView.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\n                handler.proceed();\n            }\n        });\n\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true); // Enable JavaScript support if needed\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n        }\n\n        // Load the URL of the website you want to display\n        webView.loadUrl(&quot;http://weburl.com/&quot;);\n    }\n\n    // Override onBackPressed to handle WebView navigation\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","remoting","httpinvoker"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1624471119,"post_id":68104810,"comment_id":120371085,"body_markdown":"There isn&#39;t (as apparent from the deprecation notice in the Javadoc). This is basically RPC over HTTP and RPC isn&#39;t really the best thing to use anymore. Use a REST or SOAP based approach instead.","body":"There isn&#39;t (as apparent from the deprecation notice in the Javadoc). This is basically RPC over HTTP and RPC isn&#39;t really the best thing to use anymore. Use a REST or SOAP based approach instead."},{"owner":{"account_id":8406098,"reputation":81,"user_id":6309546,"display_name":"gowridev"},"score":0,"creation_date":1624472066,"post_id":68104810,"comment_id":120371488,"body_markdown":"deprecation remoting technologies [discussion](https://github.com/spring-projects/spring-framework/issues/25379)","body":"deprecation remoting technologies <a href=\"https://github.com/spring-projects/spring-framework/issues/25379\" rel=\"nofollow noreferrer\">discussion</a>"},{"owner":{"account_id":13343490,"reputation":53,"user_id":9631002,"display_name":"lee"},"score":0,"creation_date":1624557744,"post_id":68104810,"comment_id":120398447,"body_markdown":"According to the doc, the spring will remove those at 5.3, I try to use 5.2.15.release, but still tell me those class not found","body":"According to the doc, the spring will remove those at 5.3, I try to use 5.2.15.release, but still tell me those class not found"}],"answers":[{"tags":[],"owner":{"account_id":11156931,"reputation":11,"user_id":8188371,"display_name":"Dipak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699266546,"creation_date":1699266546,"answer_id":77430381,"question_id":68104810,"body_markdown":"    All the classes under org.springframework.remoting.httpinvoker are deprecated when I am trying to migrate recently .But you can write some custom classes as similar to the below implementation .\r\n\r\n        import java.io.*;\r\n        import java.net.HttpURLConnection;\r\n        import java.net.URL;\r\n        \r\n        public class CustomHttpInvokerClient {\r\n            private String serviceUrl;\r\n        \r\n            public CustomHttpInvokerClient(String serviceUrl) {\r\n                this.serviceUrl = serviceUrl;\r\n            }\r\n        \r\n            public int add(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;add&quot;, a, b);\r\n            }\r\n        \r\n            public int subtract(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;subtract&quot;, a, b);\r\n            }\r\n        \r\n            public int multiply(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;multiply&quot;, a, b);\r\n            }\r\n        \r\n            public int divide(int a, int b) throws IOException {\r\n                return (int) invokeRemoteMethod(&quot;divide&quot;, a, b);\r\n            }\r\n        \r\n            private Object invokeRemoteMethod(String methodName, Object... arguments) throws IOException {\r\n                URL url = new URL(serviceUrl);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setDoOutput(true);\r\n               \r\n              System.out.println(&quot;No error till now&quot;);\r\n              \r\n              BufferedReader br = null;\r\n              if (connection.getResponseCode() == 200) {\r\n                  br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                  String strCurrentLine;\r\n                      while ((strCurrentLine = br.readLine()) != null) {\r\n                             System.out.println(strCurrentLine);\r\n                      }\r\n              } else {\r\n                  br = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\r\n                  String strCurrentLine;\r\n                      while ((strCurrentLine = br.readLine()) != null) {\r\n                             System.out.println(strCurrentLine);\r\n                      }\r\n              }\r\n              \r\n              \r\n        \r\n                try (ObjectOutputStream oos = new ObjectOutputStream(connection.getOutputStream())) {\r\n                    oos.writeObject(methodName);\r\n                    oos.writeObject(arguments);\r\n                }\r\n        \r\n                try (ObjectInputStream ois = new ObjectInputStream(connection.getInputStream())) {\r\n                    return ois.readObject();\r\n                } catch (ClassNotFoundException e) {\r\n                    throw new RuntimeException(&quot;Error deserializing response.&quot;, e);\r\n                } finally {\r\n                    connection.disconnect();\r\n                }\r\n            }\r\n        }\r\n        \r\n        import java.io.IOException;\r\n        \r\n        public class MainApplication {\r\n            public static void main(String[] args) {\r\n                // Replace with the actual URL of your server-side application\r\n                String serviceUrl = &quot;http://localhost:9011/{your service name}/CalculatorService&quot;;\r\n        \r\n                CustomHttpInvokerClient customHttpInvokerClient = new CustomHttpInvokerClient(serviceUrl);\r\n        \r\n                try {\r\n                    int resultAdd = customHttpInvokerClient.add(10, 5);\r\n                    int resultSubtract = customHttpInvokerClient.subtract(10, 5);\r\n                    int resultMultiply = customHttpInvokerClient.multiply(10, 5);\r\n                    int resultDivide = customHttpInvokerClient.divide(10, 5);\r\n        \r\n                    System.out.println(&quot;Add: &quot; + resultAdd);\r\n                    System.out.println(&quot;Subtract: &quot; + resultSubtract);\r\n                    System.out.println(&quot;Multiply: &quot; + resultMultiply);\r\n                    System.out.println(&quot;Divide: &quot; + resultDivide);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @Service\r\n    public class CalculatorServiceImpl implements CalculatorService {\r\n    \r\n        @Override\r\n        public int add(int a, int b) throws IOException {\r\n            return a + b;\r\n        }\r\n    \r\n        @Override\r\n        public int subtract(int a, int b) throws IOException {\r\n            return a - b;\r\n        }\r\n    \r\n        @Override\r\n        public int multiply(int a, int b) throws IOException {\r\n            return a * b;\r\n        }\r\n    \r\n        @Override\r\n        public int divide(int a, int b) throws IOException {\r\n            if (b == 0) {\r\n                throw new ArithmeticException(&quot;Division by zero&quot;);\r\n            }\r\n            return a / b;\r\n        }\r\n    }\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public interface CalculatorService {\r\n        int add(int a, int b) throws IOException;\r\n        int subtract(int a, int b) throws IOException;\r\n        int multiply(int a, int b) throws IOException;\r\n        int divide(int a, int b) throws IOException;\r\n    }\r\n\r\n","title":"Java springframework remoting httpinvoker replacement","body":"<pre><code>All the classes under org.springframework.remoting.httpinvoker are deprecated when I am trying to migrate recently .But you can write some custom classes as similar to the below implementation .\n\n    import java.io.*;\n    import java.net.HttpURLConnection;\n    import java.net.URL;\n    \n    public class CustomHttpInvokerClient {\n        private String serviceUrl;\n    \n        public CustomHttpInvokerClient(String serviceUrl) {\n            this.serviceUrl = serviceUrl;\n        }\n    \n        public int add(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;add&quot;, a, b);\n        }\n    \n        public int subtract(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;subtract&quot;, a, b);\n        }\n    \n        public int multiply(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;multiply&quot;, a, b);\n        }\n    \n        public int divide(int a, int b) throws IOException {\n            return (int) invokeRemoteMethod(&quot;divide&quot;, a, b);\n        }\n    \n        private Object invokeRemoteMethod(String methodName, Object... arguments) throws IOException {\n            URL url = new URL(serviceUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setDoOutput(true);\n           \n          System.out.println(&quot;No error till now&quot;);\n          \n          BufferedReader br = null;\n          if (connection.getResponseCode() == 200) {\n              br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n              String strCurrentLine;\n                  while ((strCurrentLine = br.readLine()) != null) {\n                         System.out.println(strCurrentLine);\n                  }\n          } else {\n              br = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\n              String strCurrentLine;\n                  while ((strCurrentLine = br.readLine()) != null) {\n                         System.out.println(strCurrentLine);\n                  }\n          }\n          \n          \n    \n            try (ObjectOutputStream oos = new ObjectOutputStream(connection.getOutputStream())) {\n                oos.writeObject(methodName);\n                oos.writeObject(arguments);\n            }\n    \n            try (ObjectInputStream ois = new ObjectInputStream(connection.getInputStream())) {\n                return ois.readObject();\n            } catch (ClassNotFoundException e) {\n                throw new RuntimeException(&quot;Error deserializing response.&quot;, e);\n            } finally {\n                connection.disconnect();\n            }\n        }\n    }\n    \n    import java.io.IOException;\n    \n    public class MainApplication {\n        public static void main(String[] args) {\n            // Replace with the actual URL of your server-side application\n            String serviceUrl = &quot;http://localhost:9011/{your service name}/CalculatorService&quot;;\n    \n            CustomHttpInvokerClient customHttpInvokerClient = new CustomHttpInvokerClient(serviceUrl);\n    \n            try {\n                int resultAdd = customHttpInvokerClient.add(10, 5);\n                int resultSubtract = customHttpInvokerClient.subtract(10, 5);\n                int resultMultiply = customHttpInvokerClient.multiply(10, 5);\n                int resultDivide = customHttpInvokerClient.divide(10, 5);\n    \n                System.out.println(&quot;Add: &quot; + resultAdd);\n                System.out.println(&quot;Subtract: &quot; + resultSubtract);\n                System.out.println(&quot;Multiply: &quot; + resultMultiply);\n                System.out.println(&quot;Divide: &quot; + resultDivide);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\nimport org.springframework.stereotype.Service;\n\nimport java.io.IOException;\n\n@Service\npublic class CalculatorServiceImpl implements CalculatorService {\n\n    @Override\n    public int add(int a, int b) throws IOException {\n        return a + b;\n    }\n\n    @Override\n    public int subtract(int a, int b) throws IOException {\n        return a - b;\n    }\n\n    @Override\n    public int multiply(int a, int b) throws IOException {\n        return a * b;\n    }\n\n    @Override\n    public int divide(int a, int b) throws IOException {\n        if (b == 0) {\n            throw new ArithmeticException(&quot;Division by zero&quot;);\n        }\n        return a / b;\n    }\n}\n\nimport java.io.IOException;\n\npublic interface CalculatorService {\n    int add(int a, int b) throws IOException;\n    int subtract(int a, int b) throws IOException;\n    int multiply(int a, int b) throws IOException;\n    int divide(int a, int b) throws IOException;\n}\n</code></pre>\n"}],"owner":{"account_id":13343490,"reputation":53,"user_id":9631002,"display_name":"lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3671,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699266546,"creation_date":1624470320,"question_id":68104810,"body_markdown":"The spring framework in 5.3 and higher deprecated `org.springframework.remoting.httpinvoker`\r\n\r\nwhen we upgrade Spring to 5.3\r\n\r\nwondering what is the replacement\r\n\r\nour existing code base have:\r\n```java\r\nimport org.springframework.remoting.httpinvoker.HttpComponentsHttpInvokerRequestExecutor;\r\n\r\nimport org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean;\r\n\r\nHttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\r\n\r\nHttpComponentsHttpInvokerRequestExecutor re = new HttpComponentsHttpInvokerRequestExecutor();\r\n```\r\nwhat I could use to replace the class","title":"Java springframework remoting httpinvoker replacement","body":"<p>The spring framework in 5.3 and higher deprecated <code>org.springframework.remoting.httpinvoker</code></p>\n<p>when we upgrade Spring to 5.3</p>\n<p>wondering what is the replacement</p>\n<p>our existing code base have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.remoting.httpinvoker.HttpComponentsHttpInvokerRequestExecutor;\n\nimport org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean;\n\nHttpInvokerProxyFactoryBean proxy = new HttpInvokerProxyFactoryBean();\n\nHttpComponentsHttpInvokerRequestExecutor re = new HttpComponentsHttpInvokerRequestExecutor();\n</code></pre>\n<p>what I could use to replace the class</p>\n"},{"tags":["java","android","kotlin","android-fragments","fragment"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1699289923,"post_id":77430373,"comment_id":136510188,"body_markdown":"If your operation lives beyond when the Fragment reaches `onDestroy`, you already have a memory leak. Where are you cancelling your work?","body":"If your operation lives beyond when the Fragment reaches <code>onDestroy</code>, you already have a memory leak. Where are you cancelling your work?"}],"owner":{"account_id":17543042,"reputation":73,"user_id":12724871,"display_name":"theoyuncu8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699266493,"creation_date":1699266493,"question_id":77430373,"body_markdown":"when I use the requireContext() method in the fragment, sometimes long operations occur. This error occurs when the user suddenly closes the application or moves to another page. What solution should I do? I don&#39;t want to check with isAdded wherever there is requireContext. There must be a solution for this.\r\n\r\nExample Code Block:\r\n```\r\ndailyBinding.headertext.animateText(SharedPreferencesReceiver.getName(requireContext()));\r\nif (SharedPreferencesReceiver.getTopProVisibility(requireContext())) {\r\n    UIHandler.post(() -&gt; {\r\n        if (SharedPreferencesReceiver.getNoticeActivity(requireContext())) {\r\n            dailyBinding.adss.setText(&quot;TEST&quot;);\r\n        } else {\r\n            dailyBinding.adss.setText(&quot;TEST 22&quot;);\r\n        }\r\n        dailyBinding.mainprocv.setOnClickListener(view1 -&gt; {\r\n            dailyBinding.adss.setText(&quot;TEST&quot;);\r\n            startActivity(new Intent(requireActivity(), NoticeActivity.class));\r\n        });\r\n        dailyBinding.mainprocv.setOnLongClickListener(v -&gt; {\r\n            dailyBinding.mainprocv.setVisibility(View.GONE);\r\n            SharedPreferencesReceiver.setTopProVisibility(requireContext(), false);\r\n            SharedPreferencesReceiver.setProRemoveText(requireContext(), false);\r\n            return true;\r\n        });\r\n    });\r\n} else {\r\n    dailyBinding.mainprocv.setVisibility(View.GONE);\r\n}\r\n```","title":"Fragment not attached to a context issues","body":"<p>when I use the requireContext() method in the fragment, sometimes long operations occur. This error occurs when the user suddenly closes the application or moves to another page. What solution should I do? I don't want to check with isAdded wherever there is requireContext. There must be a solution for this.</p>\n<p>Example Code Block:</p>\n<pre><code>dailyBinding.headertext.animateText(SharedPreferencesReceiver.getName(requireContext()));\nif (SharedPreferencesReceiver.getTopProVisibility(requireContext())) {\n    UIHandler.post(() -&gt; {\n        if (SharedPreferencesReceiver.getNoticeActivity(requireContext())) {\n            dailyBinding.adss.setText(&quot;TEST&quot;);\n        } else {\n            dailyBinding.adss.setText(&quot;TEST 22&quot;);\n        }\n        dailyBinding.mainprocv.setOnClickListener(view1 -&gt; {\n            dailyBinding.adss.setText(&quot;TEST&quot;);\n            startActivity(new Intent(requireActivity(), NoticeActivity.class));\n        });\n        dailyBinding.mainprocv.setOnLongClickListener(v -&gt; {\n            dailyBinding.mainprocv.setVisibility(View.GONE);\n            SharedPreferencesReceiver.setTopProVisibility(requireContext(), false);\n            SharedPreferencesReceiver.setProRemoveText(requireContext(), false);\n            return true;\n        });\n    });\n} else {\n    dailyBinding.mainprocv.setVisibility(View.GONE);\n}\n</code></pre>\n"},{"tags":["java","maven","jdbc","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":21485254,"reputation":762,"user_id":15831977,"display_name":"Krish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639577517,"creation_date":1639577517,"answer_id":70365166,"question_id":70362159,"body_markdown":"Simba JDBC connector for BigQuery does not have a Maven repository. The jar files need to be downloaded manually right now.There is an ongoing [feature request](https://issuetracker.google.com/180413368) that is being worked on. However, we cannot provide an exact ETA on when that feature will be available.","title":"maven repository with BigQuery Simba JDBC Connector","body":"<p>Simba JDBC connector for BigQuery does not have a Maven repository. The jar files need to be downloaded manually right now.There is an ongoing <a href=\"https://issuetracker.google.com/180413368\" rel=\"nofollow noreferrer\">feature request</a> that is being worked on. However, we cannot provide an exact ETA on when that feature will be available.</p>\n"},{"tags":[],"owner":{"account_id":13518894,"reputation":21,"user_id":9752722,"display_name":"Jose Soto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655407651,"creation_date":1655407651,"answer_id":72650976,"question_id":70362159,"body_markdown":"If this helps I built a gradle project that produces a shaded jar with the bigquery dependencies and publish it to a private maven repo: https://github.com/josecsotomorales/bigquery-jdbc-maven-publish","title":"maven repository with BigQuery Simba JDBC Connector","body":"<p>If this helps I built a gradle project that produces a shaded jar with the bigquery dependencies and publish it to a private maven repo: <a href=\"https://github.com/josecsotomorales/bigquery-jdbc-maven-publish\" rel=\"nofollow noreferrer\">https://github.com/josecsotomorales/bigquery-jdbc-maven-publish</a></p>\n"}],"owner":{"account_id":4039834,"reputation":390,"user_id":3323033,"accept_rate":17,"display_name":"Hejwo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70365166,"answer_count":2,"score":1,"last_activity_date":1699266267,"creation_date":1639564427,"question_id":70362159,"body_markdown":"I&#39;m starting new backend application that will operate on BigQuery.  \r\nWould love to check Simba JDBC Connector, but my main blocker is no Maven repository with it. It complicates startup significantly.  \r\nDoes it always have to be downloaded installed manually or are there any active repositories with it?  \r\n\r\nPs. I&#39;m aware that I cloud run my own nexus repository and deploy it there, but want to avoid it :)","title":"maven repository with BigQuery Simba JDBC Connector","body":"<p>I'm starting new backend application that will operate on BigQuery.<br />\nWould love to check Simba JDBC Connector, but my main blocker is no Maven repository with it. It complicates startup significantly.<br />\nDoes it always have to be downloaded installed manually or are there any active repositories with it?</p>\n<p>Ps. I'm aware that I cloud run my own nexus repository and deploy it there, but want to avoid it :)</p>\n"},{"tags":["java","selenium-webdriver","testing","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1699291688,"post_id":77430251,"comment_id":136510540,"body_markdown":"where do you initialize the webdriver?  (new Chromedriver(ChromeT);?)","body":"where do you initialize the webdriver?  (new Chromedriver(ChromeT);?)"}],"answers":[{"tags":[],"owner":{"account_id":29817589,"reputation":1,"user_id":22851580,"display_name":"Louis Callahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699265375,"creation_date":1699265375,"answer_id":77430260,"question_id":77430251,"body_markdown":"There are a few possible reasons why your Selenium browser is loading slowly:\r\n\r\nYour computer or network may be slow. Selenium is a resource-intensive application, so it needs a fast computer and network connection to run smoothly.\r\nYour Selenium script may be inefficient. If your script is too complex or uses inefficient locators, it will take longer to run.\r\nThe website you are testing may be slow. If the website is complex or has a lot of traffic, it will take longer to load.\r\nHere are some tips for speeding up your Selenium scripts:\r\n\r\nUse efficient locators. CSS selectors are generally faster than XPath selectors.\r\nAvoid unnecessary interactions with the browser. For example, if you only need to read the text of an element, don&#39;t click on it first.\r\nUse implicit waits instead of explicit waits. Implicit waits are more efficient, especially for scripts that interact with multiple elements on a page.\r\nUse a headless browser. Headless browsers run without a GUI, which can improve performance.\r\nUse a Selenium Grid. A Selenium Grid allows you to distribute your tests across multiple machines, which can significantly improve performance.\r\nHere are some specific things you can check in your sample code:\r\n\r\nMake sure you are using the latest version of the ChromeDriver. Older versions of the ChromeDriver may be slower.\r\nTry disabling extensions in your Chrome browser. Some extensions can slow down the browser.\r\nTry using a headless browser. You can do this by setting the headless option to true in your ChromeOptions object.\r\nTry using a Selenium Grid. This is more complex to set up, but it can significantly improve performance","title":"Automation script acting very slow on browser","body":"<p>There are a few possible reasons why your Selenium browser is loading slowly:</p>\n<p>Your computer or network may be slow. Selenium is a resource-intensive application, so it needs a fast computer and network connection to run smoothly.\nYour Selenium script may be inefficient. If your script is too complex or uses inefficient locators, it will take longer to run.\nThe website you are testing may be slow. If the website is complex or has a lot of traffic, it will take longer to load.\nHere are some tips for speeding up your Selenium scripts:</p>\n<p>Use efficient locators. CSS selectors are generally faster than XPath selectors.\nAvoid unnecessary interactions with the browser. For example, if you only need to read the text of an element, don't click on it first.\nUse implicit waits instead of explicit waits. Implicit waits are more efficient, especially for scripts that interact with multiple elements on a page.\nUse a headless browser. Headless browsers run without a GUI, which can improve performance.\nUse a Selenium Grid. A Selenium Grid allows you to distribute your tests across multiple machines, which can significantly improve performance.\nHere are some specific things you can check in your sample code:</p>\n<p>Make sure you are using the latest version of the ChromeDriver. Older versions of the ChromeDriver may be slower.\nTry disabling extensions in your Chrome browser. Some extensions can slow down the browser.\nTry using a headless browser. You can do this by setting the headless option to true in your ChromeOptions object.\nTry using a Selenium Grid. This is more complex to set up, but it can significantly improve performance</p>\n"}],"owner":{"account_id":19509170,"reputation":1,"user_id":14273460,"display_name":"Arunima M S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699266260,"creation_date":1699265315,"question_id":77430251,"body_markdown":"I&#39;m new in learning Java Selenium. Whenever I try to run a script, the browser loads for a long time and then gives displays the site which I&#39;m testing. I&#39;m seeing this recently only. Writing more scripts make even more slower. \r\n\r\nHere is the sample code I just worked on. If someone knows the issue, please help.\r\n````\r\nSystem.setProperty(&quot;webriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\r\nChromeOptions ChromeT = new ChromeOptions();\r\nChromeT.setBinary(&quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chrome-win64\\\\chrome.exe&quot;);\r\ndriver.get(&quot;http://qaclickacademy.com/practice.php&quot;);\r\nWebElement footer = driver.findElement(By.id(&quot;gf-BIG&quot;));\r\nWebElement footerSub = footer.findElement(By.xpath(&quot;//div/table/tbody/tr/td[1]/ul&quot;));\r\nSystem.out.println(footerSub.findElements(By.tagName(&quot;a&quot;)).size());\r\n````","title":"Automation script acting very slow on browser","body":"<p>I'm new in learning Java Selenium. Whenever I try to run a script, the browser loads for a long time and then gives displays the site which I'm testing. I'm seeing this recently only. Writing more scripts make even more slower.</p>\n<p>Here is the sample code I just worked on. If someone knows the issue, please help.</p>\n<pre><code>System.setProperty(&quot;webriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\nChromeOptions ChromeT = new ChromeOptions();\nChromeT.setBinary(&quot;C:\\\\Users\\\\AM00773329\\\\Desktop\\\\TestDriver\\\\chrome-win64\\\\chrome.exe&quot;);\ndriver.get(&quot;http://qaclickacademy.com/practice.php&quot;);\nWebElement footer = driver.findElement(By.id(&quot;gf-BIG&quot;));\nWebElement footerSub = footer.findElement(By.xpath(&quot;//div/table/tbody/tr/td[1]/ul&quot;));\nSystem.out.println(footerSub.findElements(By.tagName(&quot;a&quot;)).size());\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","ibm-mq","spring-jms"],"owner":{"account_id":3376062,"reputation":51,"user_id":2834167,"display_name":"jacomus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699265765,"creation_date":1699113599,"question_id":77422789,"body_markdown":"I&#39;m using IBM MQ and want to have messages pushed into my application&#39;s Webflux code, so I can process a message \r\nI&#39;ve defined an IntegrationFlow @Bean\r\n\r\n\r\n```\r\n@Configuration\r\npublic class ReactiveMQConfig {\r\n\r\n  @Value(&quot;${ibm.mq.inQueueName}&quot;)\r\n  private String inQueueName;\r\n\r\n  @Value(&quot;${ibm.mq.channel}&quot;)\r\n  private String channel;\r\n\r\n  @Bean\r\n  public Publisher&lt;Message&lt;String&gt;&gt; mqMessageFlow(ConnectionFactory connectionFactory) {\r\n    return IntegrationFlow.from(\r\n            Jms.messageDrivenChannelAdapter(connectionFactory)\r\n                .configureListenerContainer(x -&gt;\r\n                    x.backOff(new FixedBackOff(1000, 1000000))\r\n                    .concurrentConsumers(1)\r\n                    .maxConcurrentConsumers(1)\r\n                    .sessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE)\r\n                )\r\n                .destination(inQueueName))\r\n        .channel(channel)\r\n        .log()\r\n        .toReactivePublisher();\r\n  }\r\n\r\n}\r\n```\r\nThis allows me to get messages via the messageDrivenChannelAdapter into Webflux.\r\nAnd I perform operations on the messages by autowiring the flow as a bean into my service like this: \r\n\r\n```\r\n\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MQListener {\r\n\r\n    @Autowired\r\n    Publisher&lt;Message&lt;String&gt;&gt; mqIntegrationFlow;\r\n\r\n    @PostConstruct\r\n    public void listen() {\r\n        Flux.from(mqIntegrationFlow).flatMap(m -&gt; this.handleMessage(m.getPayload())).subscribe();\r\n    }\r\n            \r\n    public Flux&lt;SenderResult&lt;Void&gt;&gt; handleMessage(String incomingMessage) {\r\n        return Flux.just(incomingMessage)\r\n          .flatMap(myclass1::someOperation1)\r\n          .flatMap(myclass2::lastOperation1)\r\n          .doOnComplete(() -&gt; System.out.println(&quot;Everything works&quot;))\r\n          .doOnError(throwable -&gt; { log.error(&quot;OUTPUT: &quot;+throwable.getMessage()); throwable.printStackTrace(); Mono.just(throwable).log(&quot;OUTPUT&quot;+throwable.getMessage(), Level.SEVERE); });\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe problem I&#39;m having is I don&#39;t have a clue how to **MANUALLY** acknowledge a message.\r\n\r\nThe interface for the Message I&#39;m receiving is GenericMessage and that doesn&#39;t have an acknowledge() method on it as I&#39;ve seen with Kafka.\r\n\r\nI&#39;ve seen AMQ and Kafka use headers from the message and utilise something like AMQHeaders.ACKNOWLEDGE such as...\r\n``` \r\nAcknowledgment acknowledgment = m.getHeaders().get(MQHeader)\r\n```\r\n\r\nCan someone help me out as to how I can manually acknowledge or not depending on success / fail of the message processing?\r\n\r\nThanks all.","title":"Spring IntegrationFlow IBM MQ Webflux - How to manually acknowledge message","body":"<p>I'm using IBM MQ and want to have messages pushed into my application's Webflux code, so I can process a message\nI've defined an IntegrationFlow @Bean</p>\n<pre><code>@Configuration\npublic class ReactiveMQConfig {\n\n  @Value(&quot;${ibm.mq.inQueueName}&quot;)\n  private String inQueueName;\n\n  @Value(&quot;${ibm.mq.channel}&quot;)\n  private String channel;\n\n  @Bean\n  public Publisher&lt;Message&lt;String&gt;&gt; mqMessageFlow(ConnectionFactory connectionFactory) {\n    return IntegrationFlow.from(\n            Jms.messageDrivenChannelAdapter(connectionFactory)\n                .configureListenerContainer(x -&gt;\n                    x.backOff(new FixedBackOff(1000, 1000000))\n                    .concurrentConsumers(1)\n                    .maxConcurrentConsumers(1)\n                    .sessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE)\n                )\n                .destination(inQueueName))\n        .channel(channel)\n        .log()\n        .toReactivePublisher();\n  }\n\n}\n</code></pre>\n<p>This allows me to get messages via the messageDrivenChannelAdapter into Webflux.\nAnd I perform operations on the messages by autowiring the flow as a bean into my service like this:</p>\n<pre><code>\n@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class MQListener {\n\n    @Autowired\n    Publisher&lt;Message&lt;String&gt;&gt; mqIntegrationFlow;\n\n    @PostConstruct\n    public void listen() {\n        Flux.from(mqIntegrationFlow).flatMap(m -&gt; this.handleMessage(m.getPayload())).subscribe();\n    }\n            \n    public Flux&lt;SenderResult&lt;Void&gt;&gt; handleMessage(String incomingMessage) {\n        return Flux.just(incomingMessage)\n          .flatMap(myclass1::someOperation1)\n          .flatMap(myclass2::lastOperation1)\n          .doOnComplete(() -&gt; System.out.println(&quot;Everything works&quot;))\n          .doOnError(throwable -&gt; { log.error(&quot;OUTPUT: &quot;+throwable.getMessage()); throwable.printStackTrace(); Mono.just(throwable).log(&quot;OUTPUT&quot;+throwable.getMessage(), Level.SEVERE); });\n    }\n\n}\n\n</code></pre>\n<p>The problem I'm having is I don't have a clue how to <strong>MANUALLY</strong> acknowledge a message.</p>\n<p>The interface for the Message I'm receiving is GenericMessage and that doesn't have an acknowledge() method on it as I've seen with Kafka.</p>\n<p>I've seen AMQ and Kafka use headers from the message and utilise something like AMQHeaders.ACKNOWLEDGE such as...</p>\n<pre><code>Acknowledgment acknowledgment = m.getHeaders().get(MQHeader)\n</code></pre>\n<p>Can someone help me out as to how I can manually acknowledge or not depending on success / fail of the message processing?</p>\n<p>Thanks all.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1605292168,"creation_date":1605292168,"answer_id":64826189,"question_id":33825693,"body_markdown":"I don&#39;t think there is any elegant way to access it.\r\n\r\nOf course you may use Java reflection to access the private field `Throwable.detailMessage` but this far from being elegant :)\r\n\r\nI work in Spring where exceptions often inherit `org.springframework.core.NestedRuntimeException` which creates its message like\r\n\r\n    detailedMessage + &quot;; nested exception is &quot; + cause.detailedMessage \r\n        ... + &quot;; nested exception is &quot; + cause.detailedMessage \r\n\r\nI created a simple method\r\n\r\n    private String extractDetailedMessage(Throwable e) {\r\n        final String message = e.getMessage();\r\n        if (message == null) {\r\n            return &quot;&quot;;\r\n        }\r\n        final int tailIndex = StringUtils.indexOf(message, &quot;; nested exception is&quot;);\r\n        if (tailIndex == -1) {\r\n            return message;\r\n        }\r\n        return StringUtils.left(message, tailIndex);\r\n    }\r\n\r\nYou can easily modify it for your case :) I&#39;m afraid you do not have anything nicer...\r\n","title":"Java Exception: get detailMessage only","body":"<p>I don't think there is any elegant way to access it.</p>\n<p>Of course you may use Java reflection to access the private field <code>Throwable.detailMessage</code> but this far from being elegant :)</p>\n<p>I work in Spring where exceptions often inherit <code>org.springframework.core.NestedRuntimeException</code> which creates its message like</p>\n<pre><code>detailedMessage + &quot;; nested exception is &quot; + cause.detailedMessage \n    ... + &quot;; nested exception is &quot; + cause.detailedMessage \n</code></pre>\n<p>I created a simple method</p>\n<pre><code>private String extractDetailedMessage(Throwable e) {\n    final String message = e.getMessage();\n    if (message == null) {\n        return &quot;&quot;;\n    }\n    final int tailIndex = StringUtils.indexOf(message, &quot;; nested exception is&quot;);\n    if (tailIndex == -1) {\n        return message;\n    }\n    return StringUtils.left(message, tailIndex);\n}\n</code></pre>\n<p>You can easily modify it for your case :) I'm afraid you do not have anything nicer...</p>\n"},{"tags":[],"owner":{"account_id":2713,"reputation":5677,"user_id":3812,"accept_rate":83,"display_name":"Bahadır Yağan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615986504,"creation_date":1615986504,"answer_id":66673735,"question_id":33825693,"body_markdown":"Here is a nice little Kotlin extension function for the same code shared by Honza Zidek\r\n\r\n```\r\nfun NestedRuntimeException.detailMessage(): String \r\n    = this.message.orEmpty().substringBefore(&quot;; nested exception is&quot;)\r\n```","title":"Java Exception: get detailMessage only","body":"<p>Here is a nice little Kotlin extension function for the same code shared by Honza Zidek</p>\n<pre><code>fun NestedRuntimeException.detailMessage(): String \n    = this.message.orEmpty().substringBefore(&quot;; nested exception is&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3077713,"reputation":393,"user_id":2606671,"display_name":"Mister Vanderbilt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617706600,"creation_date":1617706600,"answer_id":66967313,"question_id":33825693,"body_markdown":"You can use [Apache commons][1] as well:\r\n\r\n    String detailMessage = StringUtils.substringBefore(e.getMessage(), &quot;; nested exception is&quot;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"Java Exception: get detailMessage only","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache commons</a> as well:</p>\n<pre><code>String detailMessage = StringUtils.substringBefore(e.getMessage(), &quot;; nested exception is&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284455,"reputation":2413,"user_id":1237832,"accept_rate":77,"display_name":"zhfkt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699265742,"creation_date":1699265742,"answer_id":77430297,"question_id":33825693,"body_markdown":"Use reflection to read `Throwable.detailMessage` from `NestedRuntimeException`\r\n\r\n```java\r\nString detailMessage = (String) FieldUtils.getDeclaredField( Throwable.class, &quot;detailMessage&quot;, true ).get(e);\r\n```\r\n\r\n\r\n`FieldUtils` refers to `org.apache.commons.lang3.reflect.FieldUtils` from Apache Common Lang3","title":"Java Exception: get detailMessage only","body":"<p>Use reflection to read <code>Throwable.detailMessage</code> from <code>NestedRuntimeException</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String detailMessage = (String) FieldUtils.getDeclaredField( Throwable.class, &quot;detailMessage&quot;, true ).get(e);\n</code></pre>\n<p><code>FieldUtils</code> refers to <code>org.apache.commons.lang3.reflect.FieldUtils</code> from Apache Common Lang3</p>\n"}],"owner":{"account_id":4830746,"reputation":359,"user_id":3898998,"accept_rate":10,"display_name":"Anton_Selenium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10094,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":64826189,"answer_count":4,"score":12,"last_activity_date":1699265742,"creation_date":1448019118,"question_id":33825693,"body_markdown":"I am trying to get only `detailMessage` from an Exception:\r\n\r\n    } catch (Exception e) {\r\n        logger.error(failed  + e.getCause().getMessage()); }\r\n\r\nThe log file contains\r\n\r\n&gt; &quot;Unable to find element with name == filter:P_ClearButtonDFI (WARNING:\r\n&gt; The server did not provide any stacktrace information) Command\r\n&gt; duration or timeout: 30.24 seconds For documentation on this error,\r\n&gt; please visit: http://seleniumhq.org/exceptions/no_such_element.html\r\n&gt; Build info: version: &#39;2.47.1&#39;, revision: &#39;411b314&#39;, time: &#39;2015-07-30\r\n&gt; 03:03:16&#39; System info: host: &#39;OACVWMAX10006&#39;, ip: &#39;10.29.19.64&#39;,\r\n&gt; os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;,\r\n&gt; java.version: &#39;1.7.0_79&#39;\r\n&gt; *** Element info: {Using=name, value=filter:P_ClearButtonDFI} Session ID: 5149a0b8-475e-4d89-a9d6-e5115e773da8 Driver info:\r\n&gt; org.openqa.selenium.ie.InternetExplorerDriver Capabilities\r\n&gt; [{platform=WINDOWS, javascriptEnabled=true, elementScrollBehavior=0,\r\n&gt; ignoreZoomSetting=false, enablePersistentHover=true,\r\n&gt; ie.ensureCleanSession=false, browserName=internet explorer,\r\n&gt; enableElementCacheCleanup=true, unexpectedAlertBehaviour=dismiss,\r\n&gt; version=9, ie.usePerProcessProxy=false,\r\n&gt; ignoreProtectedModeSettings=false, cssSelectorsEnabled=true,\r\n&gt; requireWindowFocus=false, initialBrowserUrl=http://localhost:21733/,\r\n&gt; handlesAlerts=true, ie.forceCreateProcessApi=false, nativeEvents=true,\r\n&gt; browserAttachTimeout=0, ie.browserCommandLineSwitches=,\r\n&gt; takesScreenshot=true}]&quot;\r\n\r\n\r\nbut I only want\r\n\r\n&gt; Unable to find element with name == filter:P_ClearButtonDFI","title":"Java Exception: get detailMessage only","body":"<p>I am trying to get only <code>detailMessage</code> from an Exception:</p>\n\n<pre><code>} catch (Exception e) {\n    logger.error(failed  + e.getCause().getMessage()); }\n</code></pre>\n\n<p>The log file contains</p>\n\n<blockquote>\n  <p>\"Unable to find element with name == filter:P_ClearButtonDFI (WARNING:\n  The server did not provide any stacktrace information) Command\n  duration or timeout: 30.24 seconds For documentation on this error,\n  please visit: <a href=\"http://seleniumhq.org/exceptions/no_such_element.html\" rel=\"noreferrer\">http://seleniumhq.org/exceptions/no_such_element.html</a>\n  Build info: version: '2.47.1', revision: '411b314', time: '2015-07-30\n  03:03:16' System info: host: 'OACVWMAX10006', ip: '10.29.19.64',\n  os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1',\n  java.version: '1.7.0_79'\n  *** Element info: {Using=name, value=filter:P_ClearButtonDFI} Session ID: 5149a0b8-475e-4d89-a9d6-e5115e773da8 Driver info:\n  org.openqa.selenium.ie.InternetExplorerDriver Capabilities\n  [{platform=WINDOWS, javascriptEnabled=true, elementScrollBehavior=0,\n  ignoreZoomSetting=false, enablePersistentHover=true,\n  ie.ensureCleanSession=false, browserName=internet explorer,\n  enableElementCacheCleanup=true, unexpectedAlertBehaviour=dismiss,\n  version=9, ie.usePerProcessProxy=false,\n  ignoreProtectedModeSettings=false, cssSelectorsEnabled=true,\n  requireWindowFocus=false, initialBrowserUrl=<a href=\"http://localhost:21733/\" rel=\"noreferrer\">http://localhost:21733/</a>,\n  handlesAlerts=true, ie.forceCreateProcessApi=false, nativeEvents=true,\n  browserAttachTimeout=0, ie.browserCommandLineSwitches=,\n  takesScreenshot=true}]\"</p>\n</blockquote>\n\n<p>but I only want</p>\n\n<blockquote>\n  <p>Unable to find element with name == filter:P_ClearButtonDFI</p>\n</blockquote>\n"},{"tags":["java","xml","spring","soap","spring-ws"],"comments":[{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1517847436,"post_id":48626824,"comment_id":84250505,"body_markdown":"do you create a fat jar, ie. are dependencies getting packaged along with the jar?","body":"do you create a fat jar, ie. are dependencies getting packaged along with the jar?"},{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1517847443,"post_id":48626824,"comment_id":84250508,"body_markdown":"There is a class file that doesn&#39;t exist in your project. You probably didn&#39;t package your jar dependencies correctly. This error will come up if there is a missing class file.","body":"There is a class file that doesn&#39;t exist in your project. You probably didn&#39;t package your jar dependencies correctly. This error will come up if there is a missing class file."}],"answers":[{"tags":[],"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1524870791,"creation_date":1524869176,"answer_id":50071159,"question_id":48626824,"body_markdown":"JavaSE 8 includes package `java.xml.soap`.  \r\nJavaSE 9 moved package `javax.xml.soap` to the module `java.xml.ws`.  \r\nModules shared with JEE (like `java.xml.ws`) are included in JavaSE 9, but are  \r\n- [deprecated](http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html) for removal from a future version of JavaSE, and  \r\n- [not on the default module path](https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F640FA9D-FB66-4D85-AD2B-D931174C09A3).\r\n\r\nA quick workaround is to either  \r\n- run the jar with JRE 8: `$MY_JRE8_HOME/bin/java -jar my.jar`, or  \r\n- add a module for JRE 9: `java --add-modules java.xml.ws -jar my.jar`\r\n\r\nLonger term, JavaSE projects that use modules like `java.xml.ws` must explicitly include the module like other libraries.\r\n\r\nSee https://stackoverflow.com/a/46359097  \r\nSee [JDK 9 Migration Guide: Modules Shared with JEE Not Resolved by Default](https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-954372A5-5954-4075-A1AF-6A9168371246)\r\n\r\n(Reproduced NoClassDefError and workarounds with zipped SOAP web service project at https://spring.io/guides/gs/producing-web-service/)\r\n","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>JavaSE 8 includes package <code>java.xml.soap</code>.<br>\nJavaSE 9 moved package <code>javax.xml.soap</code> to the module <code>java.xml.ws</code>.<br>\nModules shared with JEE (like <code>java.xml.ws</code>) are included in JavaSE 9, but are<br>\n- <a href=\"http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html\" rel=\"noreferrer\">deprecated</a> for removal from a future version of JavaSE, and<br>\n- <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F640FA9D-FB66-4D85-AD2B-D931174C09A3\" rel=\"noreferrer\">not on the default module path</a>.</p>\n\n<p>A quick workaround is to either<br>\n- run the jar with JRE 8: <code>$MY_JRE8_HOME/bin/java -jar my.jar</code>, or<br>\n- add a module for JRE 9: <code>java --add-modules java.xml.ws -jar my.jar</code></p>\n\n<p>Longer term, JavaSE projects that use modules like <code>java.xml.ws</code> must explicitly include the module like other libraries.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/46359097\">https://stackoverflow.com/a/46359097</a><br>\nSee <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-954372A5-5954-4075-A1AF-6A9168371246\" rel=\"noreferrer\">JDK 9 Migration Guide: Modules Shared with JEE Not Resolved by Default</a></p>\n\n<p>(Reproduced NoClassDefError and workarounds with zipped SOAP web service project at <a href=\"https://spring.io/guides/gs/producing-web-service/\" rel=\"noreferrer\">https://spring.io/guides/gs/producing-web-service/</a>)</p>\n"},{"tags":[],"owner":{"account_id":3352292,"reputation":780,"user_id":2816092,"accept_rate":67,"display_name":"McCoy"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1537393360,"creation_date":1537393360,"answer_id":52414570,"question_id":48626824,"body_markdown":"I imported this one to sort out the issue: https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api/1.4.0","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>I imported this one to sort out the issue: <a href=\"https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api/1.4.0\" rel=\"noreferrer\">https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api/1.4.0</a></p>\n"},{"tags":[],"owner":{"account_id":3244972,"reputation":1535,"user_id":2736818,"accept_rate":86,"display_name":"Jithin U. Ahmed"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1546156693,"creation_date":1546156693,"answer_id":53976056,"question_id":48626824,"body_markdown":"Adding the following in pom file solved the issue\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Adding the following in pom file solved the issue</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16110813,"reputation":161,"user_id":11629069,"display_name":"Rish"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1561657718,"creation_date":1561657718,"answer_id":56796302,"question_id":48626824,"body_markdown":"Add the following dependencies, it should work then\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nRefer the following links for a running piece of code (SpringBootSOAPWS + Java10) \r\n[Github- SpringBoot Soap Server][1]\r\n[Github- SpringBoot Soap Client][2]\r\n\r\n\r\n  [1]: https://github.com/coderish/Springboot-SOAPServer\r\n  [2]: https://github.com/coderish/Springboot-SOAPClient","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Add the following dependencies, it should work then</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Refer the following links for a running piece of code (SpringBootSOAPWS + Java10) \n<a href=\"https://github.com/coderish/Springboot-SOAPServer\" rel=\"noreferrer\">Github- SpringBoot Soap Server</a>\n<a href=\"https://github.com/coderish/Springboot-SOAPClient\" rel=\"noreferrer\">Github- SpringBoot Soap Client</a></p>\n"},{"tags":[],"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1578602760,"creation_date":1578602760,"answer_id":59671849,"question_id":48626824,"body_markdown":"Adding this dependency will solve the issue.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Adding this dependency will solve the issue.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18271816,"reputation":537,"user_id":13302453,"display_name":"Harisudha"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1587142644,"creation_date":1587142644,"answer_id":61276799,"question_id":48626824,"body_markdown":"Yes, In Java 11 java.xml.soap was completely removed.\r\n*java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException* can be removed by adding the \r\nfollowing dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-RC3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut later, you will encounter , *javax.xml.soap.SOAPException: Unable to create SAAJ meta-factory: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found*.\r\nThis can be solved by adding the following dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHope, it helps!","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>Yes, In Java 11 java.xml.soap was completely removed.\n<em>java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException</em> can be removed by adding the \nfollowing dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-RC3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But later, you will encounter , <em>javax.xml.soap.SOAPException: Unable to create SAAJ meta-factory: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found</em>.\nThis can be solved by adding the following dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Hope, it helps!</p>\n"},{"tags":[],"owner":{"account_id":15705724,"reputation":41,"user_id":11332516,"display_name":"Sabina Lazareanu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617969703,"creation_date":1617969703,"answer_id":67020774,"question_id":48626824,"body_markdown":"The JAX-WS dependency library “jaxws-api.jar” is missing.\r\nTry:\r\n\r\n - `compile group: &#39;javax.xml.ws&#39;, name: &#39;jaxws-api&#39;, version: &#39;2.3.1&#39;` - for gradle or: \r\n\r\n   \r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n           &lt;version&gt;2.3.1&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>The JAX-WS dependency library “jaxws-api.jar” is missing.\nTry:</p>\n<ul>\n<li><p><code>compile group: 'javax.xml.ws', name: 'jaxws-api', version: '2.3.1'</code> - for gradle or:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17192809,"reputation":21,"user_id":12446286,"display_name":"Manish Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664370337,"creation_date":1664370337,"answer_id":73881964,"question_id":48626824,"body_markdown":"I know this is already closed for all above people but I am still facing this issue even though I have added\r\njakarta-xml.soap-api and saaj jars in classpath.\r\n\r\nAnything that I am missing to make it work.Tried out using javax-.xml-soap-api as well instead of jakarta jar but still same error.Somehow its not able to identify the jar.","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>I know this is already closed for all above people but I am still facing this issue even though I have added\njakarta-xml.soap-api and saaj jars in classpath.</p>\n<p>Anything that I am missing to make it work.Tried out using javax-.xml-soap-api as well instead of jakarta jar but still same error.Somehow its not able to identify the jar.</p>\n"}],"owner":{"account_id":11291518,"reputation":511,"user_id":8280416,"display_name":"grangos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101997,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":8,"score":50,"last_activity_date":1699265413,"creation_date":1517847288,"question_id":48626824,"body_markdown":"I have created a Web Service using Spring. It works fine when running it on my embedded tomcat server. However when I package it as a JAR file and run it with `java -jar` command, I am receiving this exception.\r\n\r\nMy service sends a simple soap request and the server response is:\r\n\r\n  \r\n\r\n     &quot;exception&quot;: &quot;java.lang.NoClassDefFoundError&quot;,\r\n        &quot;message&quot;: &quot;javax/xml/soap/SOAPException&quot;,\r\n\r\nThat&#39;s the response I get in Postman.\r\n\r\nAny ideas where I can look for the problem.\r\n\r\n","title":"java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException","body":"<p>I have created a Web Service using Spring. It works fine when running it on my embedded tomcat server. However when I package it as a JAR file and run it with <code>java -jar</code> command, I am receiving this exception.</p>\n\n<p>My service sends a simple soap request and the server response is:</p>\n\n<pre><code> \"exception\": \"java.lang.NoClassDefFoundError\",\n    \"message\": \"javax/xml/soap/SOAPException\",\n</code></pre>\n\n<p>That's the response I get in Postman.</p>\n\n<p>Any ideas where I can look for the problem.</p>\n"},{"tags":["java","mongodb","mongorepository"],"owner":{"account_id":2917205,"reputation":733,"user_id":2500149,"accept_rate":62,"display_name":"Marcin K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699265023,"creation_date":1699265023,"question_id":77430225,"body_markdown":"I have 2 services. One writes data to MongoDB database and the other reads these data. I have a shared dependency that contains definitions of the database objects so they are consistent between projects. However the project that WRITES to the database for some reasons is delivered with a few weeks delay. The entity in question needs to get a new field - an int. I want the reading service code to be able to read the new entity, but also to be able to read the old entity and assign a default hardcoded value to the new field, until the new entity definition reaches the writing service and therefor the database. I am using MongoRepository class to read the data from the database. I am the owner of both projects and the dependency. So far I had 2 ideas:\r\n\r\n 1. Temporarily create an extra constructor for the entity that would take 1 less argument and hope that MongoRepository will try to use it. However I got &quot;constructor cannot be applied to given types&quot; exception here.\r\n 2. Use Integer instead of int as the entity field, so I get null value in my constructor instead of exception. I then check for null and put default value in such case. This seems to work but I am worried that it can cause problems after I change the entity&#39;s field back to &quot;int&quot;, as maybe data written as &quot;Integer&quot; is stored differently than &quot;int&quot;.\r\n\r\nWhat is the best way to achieve my goal? Will there be a problem with solution #2?","title":"How to make MongoRepository read both old and new version of database entity after adding new field","body":"<p>I have 2 services. One writes data to MongoDB database and the other reads these data. I have a shared dependency that contains definitions of the database objects so they are consistent between projects. However the project that WRITES to the database for some reasons is delivered with a few weeks delay. The entity in question needs to get a new field - an int. I want the reading service code to be able to read the new entity, but also to be able to read the old entity and assign a default hardcoded value to the new field, until the new entity definition reaches the writing service and therefor the database. I am using MongoRepository class to read the data from the database. I am the owner of both projects and the dependency. So far I had 2 ideas:</p>\n<ol>\n<li>Temporarily create an extra constructor for the entity that would take 1 less argument and hope that MongoRepository will try to use it. However I got &quot;constructor cannot be applied to given types&quot; exception here.</li>\n<li>Use Integer instead of int as the entity field, so I get null value in my constructor instead of exception. I then check for null and put default value in such case. This seems to work but I am worried that it can cause problems after I change the entity's field back to &quot;int&quot;, as maybe data written as &quot;Integer&quot; is stored differently than &quot;int&quot;.</li>\n</ol>\n<p>What is the best way to achieve my goal? Will there be a problem with solution #2?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":2,"creation_date":1481236769,"post_id":41050029,"comment_id":69307751,"body_markdown":"did you check out http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class ? it says it maybe related to your java vm version","body":"did you check out <a href=\"http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class\" title=\"mockito object is not an instance of declaring class\">stackoverflow.com/questions/37527038/&hellip;</a> ? it says it maybe related to your java vm version"},{"owner":{"account_id":2348279,"reputation":3367,"user_id":2057867,"accept_rate":27,"display_name":"Jacob Clark"},"score":0,"creation_date":1481237270,"post_id":41050029,"comment_id":69307916,"body_markdown":"I did update, but no luck.","body":"I did update, but no luck."},{"owner":{"account_id":1529248,"reputation":92137,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1481254476,"post_id":41050029,"comment_id":69312693,"body_markdown":"This is a very interesting problem. Are you doing anything interesting with your classes or tests, like loading dynamically from a JAR? (Or any other reason that you&#39;d have two distinct classloaders operating in the same test?)","body":"This is a very interesting problem. Are you doing anything interesting with your classes or tests, like loading dynamically from a JAR? (Or any other reason that you&#39;d have two distinct classloaders operating in the same test?)"},{"owner":{"account_id":29885,"reputation":41593,"user_id":81071,"accept_rate":77,"display_name":"Koraktor"},"score":0,"creation_date":1488318370,"post_id":41050029,"comment_id":72175550,"body_markdown":"Possible duplicate of [Mockito object is not an instance of declaring class](http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/37527038/mockito-object-is-not-an-instance-of-declaring-class\">Mockito object is not an instance of declaring class</a>"}],"answers":[{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498042217,"creation_date":1498042217,"answer_id":44674013,"question_id":41050029,"body_markdown":"Had same issue. When I updated my Java JDK version to 1.8.0_131 the error disappeared.","title":"Mockito cannot mock this class","body":"<p>Had same issue. When I updated my Java JDK version to 1.8.0_131 the error disappeared.</p>\n"},{"tags":[],"owner":{"account_id":8549769,"reputation":233,"user_id":6407070,"display_name":"nkadu1"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554298633,"creation_date":1554242453,"answer_id":55484174,"question_id":41050029,"body_markdown":"I had the same issue.\r\nI tried everything that is listed on stack overflow i.e\r\n\r\n - updated JDK version\r\n - updated Maven\r\n - Made ByteBuddy and Mockito to use compatible versions.\r\n - cleared cache\r\n - use latest mockito versions etc\r\n\r\nand this : https://github.com/mockito/mockito/issues/1606.\r\n\r\nBut nothing worked for me.\r\n\r\nI cleared all the cache and then reinstalled Android studio\r\nwhich fixed the issue.\r\n\r\nProbably just clearing all the caches that Android Studio uses could have solved it too.","title":"Mockito cannot mock this class","body":"<p>I had the same issue.\nI tried everything that is listed on stack overflow i.e</p>\n\n<ul>\n<li>updated JDK version</li>\n<li>updated Maven</li>\n<li>Made ByteBuddy and Mockito to use compatible versions.</li>\n<li>cleared cache</li>\n<li>use latest mockito versions etc</li>\n</ul>\n\n<p>and this : <a href=\"https://github.com/mockito/mockito/issues/1606\" rel=\"noreferrer\">https://github.com/mockito/mockito/issues/1606</a>.</p>\n\n<p>But nothing worked for me.</p>\n\n<p>I cleared all the cache and then reinstalled Android studio\nwhich fixed the issue.</p>\n\n<p>Probably just clearing all the caches that Android Studio uses could have solved it too.</p>\n"},{"tags":[],"owner":{"account_id":6813468,"reputation":11,"user_id":5242915,"display_name":"Aji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564760521,"creation_date":1564757718,"answer_id":57328954,"question_id":41050029,"body_markdown":"I had the same issue after I update to new java version with OpenJ9 JVM, now I am using HotSpot JVM. I don&#39;t have this issue anymore\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>I had the same issue after I update to new java version with OpenJ9 JVM, now I am using HotSpot JVM. I don't have this issue anymore</p>\n"},{"tags":[],"owner":{"account_id":12730279,"reputation":1162,"user_id":9247203,"display_name":"JoschJava"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1571668045,"creation_date":1571668045,"answer_id":58488444,"question_id":41050029,"body_markdown":"Even though it&#39;s not specifically answering the question (question is Java 8), I came here via Google. Using Java 11, I solved this issue by including the following dependency in `build.gradle`: \r\n\r\n`compile group: &#39;org.mockito&#39;, name: &#39;mockito-core&#39;, version: &#39;2.22.0&#39;`\r\n\r\nas discussed [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52537324/9247203","title":"Mockito cannot mock this class","body":"<p>Even though it's not specifically answering the question (question is Java 8), I came here via Google. Using Java 11, I solved this issue by including the following dependency in <code>build.gradle</code>: </p>\n\n<p><code>compile group: 'org.mockito', name: 'mockito-core', version: '2.22.0'</code></p>\n\n<p>as discussed <a href=\"https://stackoverflow.com/a/52537324/9247203\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1316844,"reputation":2459,"user_id":1301891,"accept_rate":86,"display_name":"Jason Hartley"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1575330675,"creation_date":1575330675,"answer_id":59148334,"question_id":41050029,"body_markdown":"File -&gt; Invalidate Caches / Restart\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXsG0.png\r\n\r\nMy class was public and non-final. This did the trick.","title":"Mockito cannot mock this class","body":"<p>File -> Invalidate Caches / Restart</p>\n\n<p><a href=\"https://i.stack.imgur.com/sXsG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXsG0.png\" alt=\"enter image description here\"></a></p>\n\n<p>My class was public and non-final. This did the trick.</p>\n"},{"tags":[],"owner":{"account_id":17263363,"reputation":11,"user_id":12500725,"display_name":"Lily Mo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575821952,"creation_date":1575820809,"answer_id":59237224,"question_id":41050029,"body_markdown":"Update JDK, the error fixed when I&#39;ve changed JDk 1.8 to 11, also I added this \r\n \r\n\r\n    @Rule\r\n     public MockitoRule rule = MockitoJUnit.rule();\r\n\r\n It&#39;s about &#39;Tells Mockito to create the mocks based on the @Mock annotation&#39;","title":"Mockito cannot mock this class","body":"<p>Update JDK, the error fixed when I've changed JDk 1.8 to 11, also I added this </p>\n\n<pre><code>@Rule\n public MockitoRule rule = MockitoJUnit.rule();\n</code></pre>\n\n<p>It's about 'Tells Mockito to create the mocks based on the @Mock annotation'</p>\n"},{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575984223,"creation_date":1575984223,"answer_id":59268246,"question_id":41050029,"body_markdown":"I had the same issue when I downgrade from JDK 13 to 1.8 error disappears. I think Mockito versions is not compatible with version 13.","title":"Mockito cannot mock this class","body":"<p>I had the same issue when I downgrade from JDK 13 to 1.8 error disappears. I think Mockito versions is not compatible with version 13.</p>\n"},{"tags":[],"owner":{"account_id":5221763,"reputation":6678,"user_id":4174993,"display_name":"papigee"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1579822817,"creation_date":1579822817,"answer_id":59888581,"question_id":41050029,"body_markdown":"It is because of Java/Mockito compatibility. For example, if you are using Java 11 with Mockito 2.17.0, it will throw the same error (Upgrading to Mockito 2.22.0 or later will solve it). Aside from digging into their [release artifact on Github][1], I am yet to see a comprehensive document that spells out the compatibility matrix. Here is a helpful compatibility Matrix (based on quick test)\r\n\r\n* Mockito * - 2.17.0 =&gt; Java 8 \r\n\r\n&gt; (footnote: * - dont know how far back)\r\n\r\n* Mockito 2.18.0 - 3.2.4 =&gt; Java 11\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/releases","title":"Mockito cannot mock this class","body":"<p>It is because of Java/Mockito compatibility. For example, if you are using Java 11 with Mockito 2.17.0, it will throw the same error (Upgrading to Mockito 2.22.0 or later will solve it). Aside from digging into their <a href=\"https://github.com/mockito/mockito/releases\" rel=\"noreferrer\">release artifact on Github</a>, I am yet to see a comprehensive document that spells out the compatibility matrix. Here is a helpful compatibility Matrix (based on quick test)</p>\n\n<ul>\n<li>Mockito * - 2.17.0 => Java 8 </li>\n</ul>\n\n<blockquote>\n  <p>(footnote: * - dont know how far back)</p>\n</blockquote>\n\n<ul>\n<li>Mockito 2.18.0 - 3.2.4 => Java 11</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7666965,"reputation":374,"user_id":5810423,"display_name":"Adrian Redgers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581605028,"creation_date":1581605028,"answer_id":60210414,"question_id":41050029,"body_markdown":"When I examined my Java-8 project&#39;s dependency tree I found that spring-boot-starter-test was using Mockito 2.15.0. Fixed by excluding that transitive Mockito dependency and re-adding it explicitly with version 2.23.4 (and re-build if not done automatically). Snippet of my maven POM:\r\n\r\n    &lt;dependencies&gt;\r\n    ...\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.23.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nIf using gradle it will look something like:\r\n\r\n\r\n    dependencies {\r\n        ...\r\n        def withoutMockito = {\r\n            exclude group: &#39;org.mockito&#39;, module: &#39;mockito-core&#39;\r\n        }\r\n        testImplementation &quot;org.springframework.boot:spring-boot-starter-test:2.0.2-RELEASE&quot;, withoutMockito\r\n        testImplementation &quot;org.mockito:mockito-core:2.23.4&quot;\r\n     }\r\n\r\n\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>When I examined my Java-8 project's dependency tree I found that spring-boot-starter-test was using Mockito 2.15.0. Fixed by excluding that transitive Mockito dependency and re-adding it explicitly with version 2.23.4 (and re-build if not done automatically). Snippet of my maven POM:</p>\n\n<pre><code>&lt;dependencies&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;2.23.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>If using gradle it will look something like:</p>\n\n<pre><code>dependencies {\n    ...\n    def withoutMockito = {\n        exclude group: 'org.mockito', module: 'mockito-core'\n    }\n    testImplementation \"org.springframework.boot:spring-boot-starter-test:2.0.2-RELEASE\", withoutMockito\n    testImplementation \"org.mockito:mockito-core:2.23.4\"\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1499204,"reputation":5419,"user_id":1404407,"accept_rate":100,"display_name":"Cory Roy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583957265,"creation_date":1583957265,"answer_id":60643749,"question_id":41050029,"body_markdown":"For me the issue was that the classes needed to be `open`.\r\n\r\nI am using the: \r\n\r\n`@Mock lateinit var mock: ClassUnderTest`\r\n\r\nmethod of mocking.\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>For me the issue was that the classes needed to be <code>open</code>.</p>\n\n<p>I am using the: </p>\n\n<p><code>@Mock lateinit var mock: ClassUnderTest</code></p>\n\n<p>method of mocking.</p>\n"},{"tags":[],"owner":{"account_id":18768166,"reputation":41,"user_id":13685554,"display_name":"wuxinshui"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591341864,"creation_date":1591341864,"answer_id":62210158,"question_id":41050029,"body_markdown":"I had the same issue.\r\n\r\nmy jdk version is `11.0.4+10-LTS`.\r\n\r\nI use `org.springframework.boot:spring-boot-starter-parent:2.0.7.RELEASE`\r\n\r\nI upgrade Mockito to `3.3.0`\r\n\r\nThe exception still happen.\r\n\r\nThen I did this:\r\n\r\n1. exclusion mockito-core from  spring-boot-starter-test\r\n\r\n2. add below to pom file \r\n\r\n```\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Mockito cannot mock this class","body":"<p>I had the same issue.</p>\n\n<p>my jdk version is <code>11.0.4+10-LTS</code>.</p>\n\n<p>I use <code>org.springframework.boot:spring-boot-starter-parent:2.0.7.RELEASE</code></p>\n\n<p>I upgrade Mockito to <code>3.3.0</code></p>\n\n<p>The exception still happen.</p>\n\n<p>Then I did this:</p>\n\n<ol>\n<li><p>exclusion mockito-core from  spring-boot-starter-test</p></li>\n<li><p>add below to pom file </p></li>\n</ol>\n\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n                    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n                    &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n            &lt;version&gt;1.10.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n            &lt;version&gt;1.10.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11532078,"reputation":33,"user_id":8450736,"display_name":"Developer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623597002,"creation_date":1611844020,"answer_id":65939092,"question_id":41050029,"body_markdown":"For me, adding this dependency fixed the issue \r\n\r\n    androidTestImplementation &quot;org.mockito:mockito-android:${versions.mockito}&quot;","title":"Mockito cannot mock this class","body":"<p>For me, adding this dependency fixed the issue</p>\n<pre><code>androidTestImplementation &quot;org.mockito:mockito-android:${versions.mockito}&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4616373,"reputation":109,"user_id":3742749,"display_name":"Leelavathi Ravindran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614857392,"creation_date":1614857392,"answer_id":66474128,"question_id":41050029,"body_markdown":"Make sure jdk version is selected correctly while running junit via Run As -&gt; Run Configuration -&gt; JRE tab. ","title":"Mockito cannot mock this class","body":"<p>Make sure jdk version is selected correctly while running junit via Run As -&gt; Run Configuration -&gt; JRE tab.</p>\n"},{"tags":[],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625150475,"creation_date":1625150475,"answer_id":68212238,"question_id":41050029,"body_markdown":"in android studio i got this error and i cleaned the project and restarted the IDE to fix it. ","title":"Mockito cannot mock this class","body":"<p>in android studio i got this error and i cleaned the project and restarted the IDE to fix it.</p>\n"},{"tags":[],"owner":{"account_id":6697492,"reputation":1213,"user_id":5165107,"display_name":"CodeWithVikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625574263,"creation_date":1625574263,"answer_id":68270497,"question_id":41050029,"body_markdown":"I was facing same issue in my Android Studio.\r\n\r\nJust upgrading of `org.mockito:mockito-core` from `2.18.3`  to `2.19.0` ( Latest as of now) solved my issue.","title":"Mockito cannot mock this class","body":"<p>I was facing same issue in my Android Studio.</p>\n<p>Just upgrading of <code>org.mockito:mockito-core</code> from <code>2.18.3</code>  to <code>2.19.0</code> ( Latest as of now) solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":2879831,"reputation":1009,"user_id":2470992,"accept_rate":76,"display_name":"Gleb Belyaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644475683,"creation_date":1644475683,"answer_id":71060841,"question_id":41050029,"body_markdown":"I had the same issues.   \r\nMy dependencies:   \r\n- `spring-boot-parent:2.0.5.RELEASE`\r\n- `org.testcontainers:1.16.3`\r\n\r\nI needed to start the app on Apple M1 with JVM 11\r\n\r\nMy tests failed with some issue.\r\n\r\nI found in logs what used `~[mockito-core-2.15.0.jar:na]`\r\n\r\nAfter read the topic, I added one lib for fix my issue\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.18.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAnd for start `testcontainers` on Apple M1 is used fresh JNA\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Mockito cannot mock this class","body":"<p>I had the same issues.<br />\nMy dependencies:</p>\n<ul>\n<li><code>spring-boot-parent:2.0.5.RELEASE</code></li>\n<li><code>org.testcontainers:1.16.3</code></li>\n</ul>\n<p>I needed to start the app on Apple M1 with JVM 11</p>\n<p>My tests failed with some issue.</p>\n<p>I found in logs what used <code>~[mockito-core-2.15.0.jar:na]</code></p>\n<p>After read the topic, I added one lib for fix my issue</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And for start <code>testcontainers</code> on Apple M1 is used fresh JNA</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16606813,"reputation":29,"user_id":12001041,"display_name":"Oleksandr Savchenko"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1666217157,"creation_date":1666164729,"answer_id":74121454,"question_id":41050029,"body_markdown":"I solved the problem by changing the Java version from 18 to 11\r\n\r\n    File -&gt; Project Structure -&gt; Project -&gt; SDK 11\r\n\r\nWindows:\r\n\r\n - Install Java 11 on your computer by default\r\n - And Environment Variables -&gt; System variables -&gt; `JAVA_HOME\r\n   C:\\Program Files\\Java\\jdk-11.0.16.1\\`\r\n - Restart IntelliJ IDEA\r\n\r\nMac OS:\r\n\r\n - [Install Java 11 on your computer by default][1]\r\n\r\n - I remove other version Java from `/Library/Java/JavaVirtualMachines/`\r\n- Use \r\n\r\n&gt; &lt;!-- language: lang-java --&gt;\r\n&gt; \r\n&gt;     export JAVA_HOME=`/usr/libexec/java_home -v 11`\r\n&gt; \r\n&gt; &lt;!-- end snippet --&gt;\r\n- And restart IntelliJ IDEA\r\n\r\n    \r\nMy version dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-2FE451B0-9572-4E38-A1A5-568B77B146DE","title":"Mockito cannot mock this class","body":"<p>I solved the problem by changing the Java version from 18 to 11</p>\n<pre><code>File -&gt; Project Structure -&gt; Project -&gt; SDK 11\n</code></pre>\n<p>Windows:</p>\n<ul>\n<li>Install Java 11 on your computer by default</li>\n<li>And Environment Variables -&gt; System variables -&gt; <code>JAVA_HOME C:\\Program Files\\Java\\jdk-11.0.16.1\\</code></li>\n<li>Restart IntelliJ IDEA</li>\n</ul>\n<p>Mac OS:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-2FE451B0-9572-4E38-A1A5-568B77B146DE\" rel=\"nofollow noreferrer\">Install Java 11 on your computer by default</a></p>\n</li>\n<li><p>I remove other version Java from <code>/Library/Java/JavaVirtualMachines/</code></p>\n</li>\n<li><p>Use</p>\n</li>\n</ul>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>export JAVA_HOME=`/usr/libexec/java_home -v 11`\n</code></pre>\n\n</blockquote>\n<ul>\n<li>And restart IntelliJ IDEA</li>\n</ul>\n<p>My version dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667415187,"creation_date":1667415187,"answer_id":74294332,"question_id":41050029,"body_markdown":"I was getting a similar error. I cleaned the caches by:\r\nFile -&gt; Invalidate Caches\r\nand when I got Lombok error, I changed the jdk version to 11 by:\r\nFile -&gt; Project Structure","title":"Mockito cannot mock this class","body":"<p>I was getting a similar error. I cleaned the caches by:\nFile -&gt; Invalidate Caches\nand when I got Lombok error, I changed the jdk version to 11 by:\nFile -&gt; Project Structure</p>\n"},{"tags":[],"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695995094,"creation_date":1695995094,"answer_id":77202453,"question_id":41050029,"body_markdown":"Had the same issue.  After wasting 2 hours updating the latest mockito-android, checking the JDK, deleting the .gradle directory, I was still faced with this issue.  \r\n\r\nFinally I wiped my device (the emulator) and cold booted.  Voila!  All the tests ran.  ","title":"Mockito cannot mock this class","body":"<p>Had the same issue.  After wasting 2 hours updating the latest mockito-android, checking the JDK, deleting the .gradle directory, I was still faced with this issue.</p>\n<p>Finally I wiped my device (the emulator) and cold booted.  Voila!  All the tests ran.</p>\n"},{"tags":[],"owner":{"account_id":3970533,"reputation":5671,"user_id":3275253,"accept_rate":17,"display_name":"voghDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699264799,"creation_date":1699264799,"answer_id":77430197,"question_id":41050029,"body_markdown":"I was having the same issue, and the root cause was that we were mocking a Sealed class. Such practice is not recommended, and I had to substitute these mocks with valid instances of `object`s instead of sealed class mocks.\r\nThat was the only way to solve the issue for me","title":"Mockito cannot mock this class","body":"<p>I was having the same issue, and the root cause was that we were mocking a Sealed class. Such practice is not recommended, and I had to substitute these mocks with valid instances of <code>object</code>s instead of sealed class mocks.\nThat was the only way to solve the issue for me</p>\n"}],"owner":{"account_id":2348279,"reputation":3367,"user_id":2057867,"accept_rate":27,"display_name":"Jacob Clark"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143601,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":20,"score":77,"last_activity_date":1699264799,"creation_date":1481236375,"question_id":41050029,"body_markdown":"I am attempting to mock a public class, however when doing so, Mockito throws an `Mockito cannot mock this class` exception.\r\n\r\nClass I wish to mock: https://github.com/scribejava/scribejava/blob/master/scribejava-core/src/main/java/com/github/scribejava/core/builder/ServiceBuilder.java\r\n\r\nTest code:\r\n\r\n    package xyz.jacobclark.adapter;\r\n    \r\n    import com.github.scribejava.apis.TwitterApi;\r\n    import com.github.scribejava.core.builder.ServiceBuilder;\r\n    import com.github.scribejava.core.model.OAuth1RequestToken;\r\n    import com.github.scribejava.core.oauth.OAuth10aService;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.hamcrest.core.IsInstanceOf.any;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class TwitterOAuthAdapterTest {\r\n        @Mock\r\n        ServiceBuilder serviceBuilder;\r\n    \r\n        @Test\r\n        public void getRequestTokenShouldReturnAValidRequestToken() throws IOException {\r\n            class TwitterOAuthAdapter {\r\n                private final OAuth10aService service;\r\n    \r\n                public TwitterOAuthAdapter(ServiceBuilder serviceBuilder){\r\n                    this.service = serviceBuilder\r\n                        .apiKey(&quot;&quot;)\r\n                        .apiSecret(&quot;&quot;)\r\n                        .build(TwitterApi.instance());\r\n                }\r\n    \r\n                public OAuth1RequestToken getRequestToken() throws IOException {\r\n                    return this.service.getRequestToken();\r\n                }\r\n            }\r\n    \r\n            TwitterOAuthAdapter oAuthAdapter = new TwitterOAuthAdapter(serviceBuilder);\r\n            Assert.assertThat(oAuthAdapter.getRequestToken(), is(any(OAuth1RequestToken.class)));\r\n        }\r\n    }\r\n\r\n\r\nFull stacktrace:\r\n\r\n    xyz.jacobclark.adapter.TwitterOAuthAdapterTest\r\n    \r\n    org.mockito.exceptions.base.MockitoException: \r\n    Mockito cannot mock this class: class com.github.scribejava.core.builder.ServiceBuilder.\r\n    \r\n    Mockito can only mock non-private &amp; non-final classes.\r\n    If you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n    \r\n    \r\n    Java               : 1.8\r\n    JVM vendor name    : Oracle Corporation\r\n    JVM vendor version : 25.0-b70\r\n    JVM name           : Java HotSpot(TM) 64-Bit Server VM\r\n    JVM version        : 1.8.0-b132\r\n    JVM info           : mixed mode\r\n    OS name            : Mac OS X\r\n    OS version         : 10.11.3\r\n    \r\n    \r\n    Underlying exception : java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n    \r\n    \tat org.mockito.internal.runners.SilentJUnitRunner$1.withBefores(SilentJUnitRunner.java:29)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.SilentJUnitRunner.run(SilentJUnitRunner.java:39)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:103)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    Caused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3843)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$Chained.resolve(TypeDescription.java:3468)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3803)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3439)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:4748)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:680)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:663)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType.accept(TypeDescription.java:4656)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:691)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:663)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:4998)\r\n    \tat net.bytebuddy.description.type.TypeList$Generic$AbstractBase.accept(TypeList.java:249)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing$RetainedTypeVariable.getUpperBounds(TypeDescription.java:832)\r\n    \tat net.bytebuddy.description.type.TypeDescription$Generic$OfTypeVariable.asErasure(TypeDescription.java:5373)\r\n    \tat net.bytebuddy.description.method.MethodDescription$AbstractBase.asTypeToken(MethodDescription.java:701)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Harmonized.of(MethodGraph.java:881)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Store.registerTopLevel(MethodGraph.java:1074)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:588)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyze(MethodGraph.java:548)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyzeNullable(MethodGraph.java:567)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:581)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.compile(MethodGraph.java:521)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$AbstractBase.compile(MethodGraph.java:442)\r\n    \tat net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:480)\r\n    \tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:160)\r\n    \tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:153)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2568)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2670)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:84)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$CachedBytecodeGenerator.getOrGenerateMockClass(TypeCachingBytecodeGenerator.java:91)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:38)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:67)\r\n    \tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:38)\r\n    \tat org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:26)\r\n    \tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1637)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:39)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:63)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:59)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:43)\r\n    \tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:67)\r\n    \t... 23 more\r\n    \r\n    \r\n    Test ignored.\r\n    Process finished with exit code 255\r\n\r\n","title":"Mockito cannot mock this class","body":"<p>I am attempting to mock a public class, however when doing so, Mockito throws an <code>Mockito cannot mock this class</code> exception.</p>\n\n<p>Class I wish to mock: <a href=\"https://github.com/scribejava/scribejava/blob/master/scribejava-core/src/main/java/com/github/scribejava/core/builder/ServiceBuilder.java\" rel=\"noreferrer\">https://github.com/scribejava/scribejava/blob/master/scribejava-core/src/main/java/com/github/scribejava/core/builder/ServiceBuilder.java</a></p>\n\n<p>Test code:</p>\n\n<pre><code>package xyz.jacobclark.adapter;\n\nimport com.github.scribejava.apis.TwitterApi;\nimport com.github.scribejava.core.builder.ServiceBuilder;\nimport com.github.scribejava.core.model.OAuth1RequestToken;\nimport com.github.scribejava.core.oauth.OAuth10aService;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport java.io.IOException;\n\nimport static org.hamcrest.Matchers.is;\nimport static org.hamcrest.core.IsInstanceOf.any;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class TwitterOAuthAdapterTest {\n    @Mock\n    ServiceBuilder serviceBuilder;\n\n    @Test\n    public void getRequestTokenShouldReturnAValidRequestToken() throws IOException {\n        class TwitterOAuthAdapter {\n            private final OAuth10aService service;\n\n            public TwitterOAuthAdapter(ServiceBuilder serviceBuilder){\n                this.service = serviceBuilder\n                    .apiKey(\"\")\n                    .apiSecret(\"\")\n                    .build(TwitterApi.instance());\n            }\n\n            public OAuth1RequestToken getRequestToken() throws IOException {\n                return this.service.getRequestToken();\n            }\n        }\n\n        TwitterOAuthAdapter oAuthAdapter = new TwitterOAuthAdapter(serviceBuilder);\n        Assert.assertThat(oAuthAdapter.getRequestToken(), is(any(OAuth1RequestToken.class)));\n    }\n}\n</code></pre>\n\n<p>Full stacktrace:</p>\n\n<pre><code>xyz.jacobclark.adapter.TwitterOAuthAdapterTest\n\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com.github.scribejava.core.builder.ServiceBuilder.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 25.0-b70\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\nJVM version        : 1.8.0-b132\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.11.3\n\n\nUnderlying exception : java.lang.IllegalArgumentException: object is not an instance of declaring class\n\n    at org.mockito.internal.runners.SilentJUnitRunner$1.withBefores(SilentJUnitRunner.java:29)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.SilentJUnitRunner.run(SilentJUnitRunner.java:39)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:103)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\nCaused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3843)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator$Chained.resolve(TypeDescription.java:3468)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$ForTypeArgument.resolve(TypeDescription.java:3803)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3439)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:4748)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:680)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onWildcard(TypeDescription.java:663)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfWildcardType.accept(TypeDescription.java:4656)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:691)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing.onParameterizedType(TypeDescription.java:663)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:4998)\n    at net.bytebuddy.description.type.TypeList$Generic$AbstractBase.accept(TypeList.java:249)\n    at net.bytebuddy.description.type.TypeDescription$Generic$Visitor$TypeVariableErasing$RetainedTypeVariable.getUpperBounds(TypeDescription.java:832)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfTypeVariable.asErasure(TypeDescription.java:5373)\n    at net.bytebuddy.description.method.MethodDescription$AbstractBase.asTypeToken(MethodDescription.java:701)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Harmonized.of(MethodGraph.java:881)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default$Key$Store.registerTopLevel(MethodGraph.java:1074)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:588)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyze(MethodGraph.java:548)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.analyzeNullable(MethodGraph.java:567)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.doAnalyze(MethodGraph.java:581)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$Default.compile(MethodGraph.java:521)\n    at net.bytebuddy.dynamic.scaffold.MethodGraph$Compiler$AbstractBase.compile(MethodGraph.java:442)\n    at net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:480)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:160)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:153)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2568)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2670)\n    at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:84)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$CachedBytecodeGenerator.getOrGenerateMockClass(TypeCachingBytecodeGenerator.java:91)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:38)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:67)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:38)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:26)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\n    at org.mockito.Mockito.mock(Mockito.java:1637)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:39)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:63)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:59)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:43)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:67)\n    ... 23 more\n\n\nTest ignored.\nProcess finished with exit code 255\n</code></pre>\n"},{"tags":["java","android","bigdecimal","icu"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1537862744,"post_id":52493345,"comment_id":91927329,"body_markdown":"Read https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal","body":"Read <a href=\"https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal\" rel=\"nofollow noreferrer\">developer.android.com/reference/kotlin/android/icu/math/&hellip;</a>"},{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":1,"creation_date":1537863056,"post_id":52493345,"comment_id":91927497,"body_markdown":"@IntelliJAmiya It doesn&#39;t mention anything about the difference","body":"@IntelliJAmiya It doesn&#39;t mention anything about the difference"}],"answers":[{"tags":[],"owner":{"account_id":9295288,"reputation":454,"user_id":6902410,"display_name":"IsaiahJ"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1537862927,"creation_date":1537862927,"answer_id":52493456,"question_id":52493345,"body_markdown":"I think the TLDR difference is just that `java.math.BigDecimal` is for Java and \r\n`android.icu.math.BigDecimal` is for Kotlin.\r\n\r\nYou could read up on their documentation for more detailed differences.\r\n&gt; https://developer.android.com/reference/java/math/BigDecimal\r\n&gt; https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal","title":"Java BigDecimal vs Android BigDecimal","body":"<p>I think the TLDR difference is just that <code>java.math.BigDecimal</code> is for Java and \n<code>android.icu.math.BigDecimal</code> is for Kotlin.</p>\n\n<p>You could read up on their documentation for more detailed differences.</p>\n\n<blockquote>\n  <p><a href=\"https://developer.android.com/reference/java/math/BigDecimal\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/math/BigDecimal</a>\n  <a href=\"https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/android/icu/math/BigDecimal</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537866815,"creation_date":1537864029,"answer_id":52493735,"question_id":52493345,"body_markdown":"Either use `java.math.BigDecimal` or `android.icu.math.BigDecimal`, there will not be performance difference between both. Because these are basic class, Android `BigDecimal` was re-created with reference of Java `BigDecimal`. \r\n\r\nIf you ask difference between both, then \r\n\r\n - by purpose both are same.\r\n - by code they may differ, can have some less or more methods. So you should read all methods in both classes to find out difference.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\nhttps://developer.android.com/reference/java/math/BigDecimal\r\n\r\nAndroid re-create classes to add some feature to existing classes.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Oracle_America,_Inc._v._Google,_Inc.","title":"Java BigDecimal vs Android BigDecimal","body":"<p>Either use <code>java.math.BigDecimal</code> or <code>android.icu.math.BigDecimal</code>, there will not be performance difference between both. Because these are basic class, Android <code>BigDecimal</code> was re-created with reference of Java <code>BigDecimal</code>. </p>\n\n<p>If you ask difference between both, then </p>\n\n<ul>\n<li>by purpose both are same.</li>\n<li>by code they may differ, can have some less or more methods. So you should read all methods in both classes to find out difference.</li>\n</ul>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html</a>\n<a href=\"https://developer.android.com/reference/java/math/BigDecimal\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/math/BigDecimal</a></p>\n\n<p>Android re-create classes to add some feature to existing classes.</p>\n"},{"tags":[],"owner":{"account_id":2458629,"reputation":1611,"user_id":2143225,"display_name":"Markus Penguin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1537864956,"creation_date":1537864956,"answer_id":52493977,"question_id":52493345,"body_markdown":"`android.icu.math.BigDecimal` is part of the [ICU library](http://site.icu-project.org/) (International Components for Unicode). Since API 24 the Android framework exposes some of the ICU4J classes for you to use. The [Android documentation on Unicode and I18N support](https://developer.android.com/guide/topics/resources/internationalization) states:\r\n\r\n&gt; Some classes in the `java` and `android` packages have equivalents to those\r\n&gt; found in ICU4J. However, ICU4J often provides broader support for\r\n&gt; standards and languages.\r\n\r\nDon&#39;t be confused by the above quote because ICU classes do reside in the `android` package. They were moved to `android.icu` from `com.ibm.icu` in order to avoid conflicts.\r\n\r\nRegarding `BigDecimal` in particular: [I found a discussion on the internet](https://sourceforge.net/p/icu/mailman/message/21284480/) which concludes that `BigDecimal` was available in ICU before it was available in Java and is kept in the library for compatibility purposes.\r\n\r\nBottom line: use whatever implementation you like, but `java.math.BigDecimal` is less likely to be deprecated in the future.","title":"Java BigDecimal vs Android BigDecimal","body":"<p><code>android.icu.math.BigDecimal</code> is part of the <a href=\"http://site.icu-project.org/\" rel=\"noreferrer\">ICU library</a> (International Components for Unicode). Since API 24 the Android framework exposes some of the ICU4J classes for you to use. The <a href=\"https://developer.android.com/guide/topics/resources/internationalization\" rel=\"noreferrer\">Android documentation on Unicode and I18N support</a> states:</p>\n\n<blockquote>\n  <p>Some classes in the <code>java</code> and <code>android</code> packages have equivalents to those\n  found in ICU4J. However, ICU4J often provides broader support for\n  standards and languages.</p>\n</blockquote>\n\n<p>Don't be confused by the above quote because ICU classes do reside in the <code>android</code> package. They were moved to <code>android.icu</code> from <code>com.ibm.icu</code> in order to avoid conflicts.</p>\n\n<p>Regarding <code>BigDecimal</code> in particular: <a href=\"https://sourceforge.net/p/icu/mailman/message/21284480/\" rel=\"noreferrer\">I found a discussion on the internet</a> which concludes that <code>BigDecimal</code> was available in ICU before it was available in Java and is kept in the library for compatibility purposes.</p>\n\n<p>Bottom line: use whatever implementation you like, but <code>java.math.BigDecimal</code> is less likely to be deprecated in the future.</p>\n"}],"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1990,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":52493977,"answer_count":3,"score":10,"last_activity_date":1699263797,"creation_date":1537862493,"question_id":52493345,"body_markdown":"I&#39;ve faced `java.math.BigDecimal` and `android.icu.math.BigDecimal` as I require to use `BigDecimal` in the project. \r\n\r\nI&#39;ve realized that the Android `BigDecimal` requires API level 24\r\n\r\nWhat is the different between these two classes? I wonder if there is any performance optimization in Android implementation?","title":"Java BigDecimal vs Android BigDecimal","body":"<p>I've faced <code>java.math.BigDecimal</code> and <code>android.icu.math.BigDecimal</code> as I require to use <code>BigDecimal</code> in the project. </p>\n\n<p>I've realized that the Android <code>BigDecimal</code> requires API level 24</p>\n\n<p>What is the different between these two classes? I wonder if there is any performance optimization in Android implementation?</p>\n"},{"tags":["java","fork-join"],"answers":[{"tags":[],"owner":{"account_id":1154709,"reputation":4851,"user_id":1135629,"accept_rate":78,"display_name":"Alex DiCarlo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1358066193,"creation_date":1358066193,"answer_id":14301916,"question_id":14301780,"body_markdown":"Essentially, the parallelism setting tells the `ForkJoinPool` how many worker threads to use. \r\n\r\nThe default setting is typically optimal, however let&#39;s say you have a worker thread separate from the `ForkJoinPool`, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors. In general, the only way to increase the speed and efficiency in a specific program is to profile with different settings.","title":"What is level of parallelism in the Java ForkJoinPool?","body":"<p>Essentially, the parallelism setting tells the <code>ForkJoinPool</code> how many worker threads to use. </p>\n\n<p>The default setting is typically optimal, however let's say you have a worker thread separate from the <code>ForkJoinPool</code>, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors. In general, the only way to increase the speed and efficiency in a specific program is to profile with different settings.</p>\n"},{"tags":[],"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699263662,"creation_date":1699263662,"answer_id":77430080,"question_id":14301780,"body_markdown":"The answer is, that it is used for &quot;Sizing Thread Pools&quot;.\r\nSo let&#39;s see what Java platform creators are saying.\r\n\r\nCiting Brian Goetz&#39;s book &quot;Concurrency in Practice&quot;, chapter 8, 8.2. Sizing Thread Pools\r\n\r\n&quot;The ideal size for a thread pool depends on the types of tasks that will be submitted and the characteristics of the deployment system. Thread pool sizes should rarely be hard-coded; instead, pool sizes should be provided by a configuration mechanism or computed dynamically by consulting Runtime.availableProcessors.\r\n\r\nSizing thread pools is not an exact science, but fortunately you need only avoid the extremes of “too big” and “too small”. If a thread pool is too big, then threads compete for scarce CPU and memory resources, resulting in higher memory usage and possible resource exhaustion. If it is too small, throughput suffers as processors go unused despite available work.\r\n\r\nTo size a thread pool properly, you need to understand your computing environment, your resource budget, and the nature of your tasks. How many processors does the deployment system have? How much memory? Do tasks perform mostly computation, I/O, or some combination? Do they require a scarce resource, such as a JDBC connection? If you have different categories of tasks with very different behaviors, consider using multiple thread pools so each can be tuned according to its workload.\r\n\r\nFor compute-intensive tasks, an Ncpu-processor system usually achieves optimum utilization with a thread pool of Ncpu +1 threads. (Even compute-intensive threads occasionally take a page fault or pause for some other reason, so an “extra” runnable thread prevents CPU cycles from going unused when this happens.) For tasks that also include I/O or other blocking operations, you want a larger pool, since not all of the threads will be schedulable at all times. In order to size the pool properly, you must estimate the ratio of waiting time to compute time for your tasks; this estimate need not be precise and can be obtained through pro-filing or instrumentation. Alternatively, the size of the thread pool can be tuned by running the application using several different pool sizes under a benchmark load and observing the level of CPU utilization.\r\n\r\nGiven these definitions:\r\n\r\n[![image][1]][1]\r\n\r\nThe optimal pool size for keeping the processors at the desired utilization is:\r\n\r\n[![image][2]][2]\r\n\r\nYou can determine the number of CPUs using Runtime:\r\n\r\nint N_CPUS = Runtime.getRuntime().availableProcessors();\r\n\r\nOf course, CPU cycles are not the only resource you might want to manage using thread pools. Other resources that can contribute to sizing constraints are memory, file handles, socket handles, and database connections. Calculating pool size constraints for these types of resources is easier: just add up how much of that resource each task requires and divide that into the total quantity available. The result will be an upper bound on the pool size.\r\n\r\nWhen tasks require a pooled resource such as database connections, thread pool size and resource pool size affect each other. If each task requires a connection, the effective size of the thread pool is limited by the connection pool size. Similarly, when the only consumers of connections are pool tasks, the effective size of the connection pool is limited by the thread pool size.&quot;\r\n\r\nSummary\r\n 1. so as you know from the documentation the default value of it is  Runtime.availableProcessors()\r\n 2. I am not agree with Alex&#39;s answer saying that &quot;you have a worker thread separate from the ForkJoinPool, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors&quot;, in the book Brian Goetz says opposite.\r\n 3. as you see from the book content it is necessary to not jump in too small or too large values and keep it somewhere near of the available processors\r\n 4. another important aspect is to understand the nature of your tasks to use that value effectively\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qjwkk.png\r\n  [2]: https://i.stack.imgur.com/oV77x.png","title":"What is level of parallelism in the Java ForkJoinPool?","body":"<p>The answer is, that it is used for &quot;Sizing Thread Pools&quot;.\nSo let's see what Java platform creators are saying.</p>\n<p>Citing Brian Goetz's book &quot;Concurrency in Practice&quot;, chapter 8, 8.2. Sizing Thread Pools</p>\n<p>&quot;The ideal size for a thread pool depends on the types of tasks that will be submitted and the characteristics of the deployment system. Thread pool sizes should rarely be hard-coded; instead, pool sizes should be provided by a configuration mechanism or computed dynamically by consulting Runtime.availableProcessors.</p>\n<p>Sizing thread pools is not an exact science, but fortunately you need only avoid the extremes of “too big” and “too small”. If a thread pool is too big, then threads compete for scarce CPU and memory resources, resulting in higher memory usage and possible resource exhaustion. If it is too small, throughput suffers as processors go unused despite available work.</p>\n<p>To size a thread pool properly, you need to understand your computing environment, your resource budget, and the nature of your tasks. How many processors does the deployment system have? How much memory? Do tasks perform mostly computation, I/O, or some combination? Do they require a scarce resource, such as a JDBC connection? If you have different categories of tasks with very different behaviors, consider using multiple thread pools so each can be tuned according to its workload.</p>\n<p>For compute-intensive tasks, an Ncpu-processor system usually achieves optimum utilization with a thread pool of Ncpu +1 threads. (Even compute-intensive threads occasionally take a page fault or pause for some other reason, so an “extra” runnable thread prevents CPU cycles from going unused when this happens.) For tasks that also include I/O or other blocking operations, you want a larger pool, since not all of the threads will be schedulable at all times. In order to size the pool properly, you must estimate the ratio of waiting time to compute time for your tasks; this estimate need not be precise and can be obtained through pro-filing or instrumentation. Alternatively, the size of the thread pool can be tuned by running the application using several different pool sizes under a benchmark load and observing the level of CPU utilization.</p>\n<p>Given these definitions:</p>\n<p><a href=\"https://i.stack.imgur.com/qjwkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qjwkk.png\" alt=\"image\" /></a></p>\n<p>The optimal pool size for keeping the processors at the desired utilization is:</p>\n<p><a href=\"https://i.stack.imgur.com/oV77x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oV77x.png\" alt=\"image\" /></a></p>\n<p>You can determine the number of CPUs using Runtime:</p>\n<p>int N_CPUS = Runtime.getRuntime().availableProcessors();</p>\n<p>Of course, CPU cycles are not the only resource you might want to manage using thread pools. Other resources that can contribute to sizing constraints are memory, file handles, socket handles, and database connections. Calculating pool size constraints for these types of resources is easier: just add up how much of that resource each task requires and divide that into the total quantity available. The result will be an upper bound on the pool size.</p>\n<p>When tasks require a pooled resource such as database connections, thread pool size and resource pool size affect each other. If each task requires a connection, the effective size of the thread pool is limited by the connection pool size. Similarly, when the only consumers of connections are pool tasks, the effective size of the connection pool is limited by the thread pool size.&quot;</p>\n<p>Summary</p>\n<ol>\n<li>so as you know from the documentation the default value of it is  Runtime.availableProcessors()</li>\n<li>I am not agree with Alex's answer saying that &quot;you have a worker thread separate from the ForkJoinPool, then you might find setting the number of worker threads to number of processors - 1 is better than using all of the processors&quot;, in the book Brian Goetz says opposite.</li>\n<li>as you see from the book content it is necessary to not jump in too small or too large values and keep it somewhere near of the available processors</li>\n<li>another important aspect is to understand the nature of your tasks to use that value effectively</li>\n</ol>\n"}],"owner":{"account_id":2032619,"reputation":2017,"user_id":1815873,"accept_rate":50,"display_name":"JavaNewbie_M107"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10269,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1699263662,"creation_date":1358064917,"question_id":14301780,"body_markdown":"I was studying the oracle docs about the Fork/Join framework when i came across this constructor of `ForkJoinPool` : `ForkJoinPool(int parallelism)`. The docs said that this was *the level of parallelism, which is by default equal to the number of processors available*. Can anyone tell me how I can use it to increase the speed and efficiency of my program?","title":"What is level of parallelism in the Java ForkJoinPool?","body":"<p>I was studying the oracle docs about the Fork/Join framework when i came across this constructor of <code>ForkJoinPool</code> : <code>ForkJoinPool(int parallelism)</code>. The docs said that this was <em>the level of parallelism, which is by default equal to the number of processors available</em>. Can anyone tell me how I can use it to increase the speed and efficiency of my program?</p>\n"},{"tags":["java","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1699077025,"post_id":77413619,"comment_id":136488796,"body_markdown":"What is the expected URL? Why can&#39;t you just assert vs that? Also, please post the contents of the method `.NavigateToItemDescriptionPage()`? You really should be handling the URL transition in that method instead of `.getCurrentPageUrl()`.","body":"What is the expected URL? Why can&#39;t you just assert vs that? Also, please post the contents of the method <code>.NavigateToItemDescriptionPage()</code>? You really should be handling the URL transition in that method instead of <code>.getCurrentPageUrl()</code>."}],"answers":[{"tags":[],"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699263658,"creation_date":1699263658,"answer_id":77430079,"question_id":77413619,"body_markdown":"For a web page, a title is a unique thing. If you navigate to a different page then the previous and current web page titles should be different.\r\n  \r\n Method inside Sort Class:\r\n\r\n     public boolean sortItems() {\r\n           String currentWebPageTitle= driver.getTitle();\r\n           By priceSortOption = By.cssSelector(&quot;add your locator here&quot;);\r\n\r\n           wait.until(ExpectedConditions.visibilityOfElementLocated(priceSortOption));\r\n           driver.findElement(priceSortOption).click();\r\n           String webPageTitleAfterSorting = driver.getTitle();\r\n           boolean isReloaded = currentWebPageTitle.equals(webPageTitleAfterSorting);\r\n           return isReloaded;\r\n        }\r\n\r\n TestCase:\r\n\r\n    @Test(priority = 1)\r\n        public void sortItemsTest(){\r\n            StorePage storePage=new StorePage(driver);\r\n            Assert.assertFalse(storePage.sortItems(), &quot;Sorting by price resulted in a page reload.&quot;);\r\n        }","title":"Selenium Test Automation Issue: Unable to Verify Price Range Sorting in Shopping Cart (Problem in reloading same page)","body":"<p>For a web page, a title is a unique thing. If you navigate to a different page then the previous and current web page titles should be different.</p>\n<p>Method inside Sort Class:</p>\n<pre><code> public boolean sortItems() {\n       String currentWebPageTitle= driver.getTitle();\n       By priceSortOption = By.cssSelector(&quot;add your locator here&quot;);\n\n       wait.until(ExpectedConditions.visibilityOfElementLocated(priceSortOption));\n       driver.findElement(priceSortOption).click();\n       String webPageTitleAfterSorting = driver.getTitle();\n       boolean isReloaded = currentWebPageTitle.equals(webPageTitleAfterSorting);\n       return isReloaded;\n    }\n</code></pre>\n<p>TestCase:</p>\n<pre><code>@Test(priority = 1)\n    public void sortItemsTest(){\n        StorePage storePage=new StorePage(driver);\n        Assert.assertFalse(storePage.sortItems(), &quot;Sorting by price resulted in a page reload.&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":22689437,"reputation":33,"user_id":16858573,"display_name":"Samathi kisalka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699263658,"creation_date":1698972455,"question_id":77413619,"body_markdown":"I&#39;m doing a test automation project using selenium and this is my first time using it. Here I have to capture this bug. &quot;When I click a link to sort a shopping cart by price range it does not load the relevant page instead reload the current page&quot; . this is my Test.\r\n\r\n```\r\n   @Test(priority = 2 , groups = {&quot;smoke&quot;})\r\n    public void verifyFilterByPrice(){\r\n        ProductDetailPage productdetailpage = new ProductDetailPage(driver);\r\n        productdetailpage.NavigateToItemDescriptionPage();\r\n        String urlBefore = productdetailpage.getCurrentPageUrl();\r\n        productdetailpage.clickPriceRange();\r\n        String urlAfter = productdetailpage.getCurrentPageUrl();\r\n        Assert.assertNotEquals(urlBefore, urlAfter, &quot;Page URL didn&#39;t change after clicking Price Range.&quot;);\r\n\r\n    }\r\n```\r\nand these are the methods used in the code.\r\n\r\n```\r\n public String getCurrentPageUrl(){\r\n        try {\r\n            Thread.sleep(Duration.ofSeconds(5));\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n        String currentPageUrl = driver.getCurrentUrl();\r\n        System.out.println(&quot;the curent url you capture is &quot; + currentPageUrl);\r\n        return currentPageUrl;\r\n\r\n    }\r\n\r\n```\r\n\r\nbut when I log both urls they are like  follow. and they are not same to I cant assert as equal. Is ther is another way I could use to assert such senarios?\r\n\r\n```\r\n\r\nURL befor = https://xxxx/s/zzz/\r\nURL after = is https://xxxx/s/zzz/?perpage=25&amp;pricepoint=2\r\n```","title":"Selenium Test Automation Issue: Unable to Verify Price Range Sorting in Shopping Cart (Problem in reloading same page)","body":"<p>I'm doing a test automation project using selenium and this is my first time using it. Here I have to capture this bug. &quot;When I click a link to sort a shopping cart by price range it does not load the relevant page instead reload the current page&quot; . this is my Test.</p>\n<pre><code>   @Test(priority = 2 , groups = {&quot;smoke&quot;})\n    public void verifyFilterByPrice(){\n        ProductDetailPage productdetailpage = new ProductDetailPage(driver);\n        productdetailpage.NavigateToItemDescriptionPage();\n        String urlBefore = productdetailpage.getCurrentPageUrl();\n        productdetailpage.clickPriceRange();\n        String urlAfter = productdetailpage.getCurrentPageUrl();\n        Assert.assertNotEquals(urlBefore, urlAfter, &quot;Page URL didn't change after clicking Price Range.&quot;);\n\n    }\n</code></pre>\n<p>and these are the methods used in the code.</p>\n<pre><code> public String getCurrentPageUrl(){\n        try {\n            Thread.sleep(Duration.ofSeconds(5));\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        String currentPageUrl = driver.getCurrentUrl();\n        System.out.println(&quot;the curent url you capture is &quot; + currentPageUrl);\n        return currentPageUrl;\n\n    }\n\n</code></pre>\n<p>but when I log both urls they are like  follow. and they are not same to I cant assert as equal. Is ther is another way I could use to assert such senarios?</p>\n<pre><code>\nURL befor = https://xxxx/s/zzz/\nURL after = is https://xxxx/s/zzz/?perpage=25&amp;pricepoint=2\n</code></pre>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639059469,"creation_date":1638215254,"answer_id":70160501,"question_id":70057968,"body_markdown":"Did you add the jar to the hadoop&#39;s classpath?\r\n\r\n&gt; Add the connector jar to Hadoop&#39;s classpath\r\nPlacing the connector jar in the HADOOP_COMMON_LIB_JARS_DIR directory should be sufficient to have Hadoop load the jar. Alternatively, to be certain that the jar is loaded, you can add HADOOP_CLASSPATH=$HADOOP_CLASSPATH:&lt;/path/to/gcs-connector.jar&gt; to hadoop-env.sh in the Hadoop configuration directory.\r\n\r\nThis needs to be done to DisctCp conf(in your code `this.conf`) before this line of code:\r\n\r\n\r\n    this.conf.set(&quot;HADOOP_CLASSPATH&quot;,&quot;$HADOOP_CLASSPATH:/tmp/gcs-connector-latest-hadoop2.jar&quot;)\r\n    DistCp distCp = new DistCp(this.conf, options);\r\n\r\nIf it helps there is a [troubleshooting section][1] for this.\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudDataproc/hadoop-connectors/blob/master/gcs/INSTALL.md","title":"hadoop distcp via java resulting in NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem","body":"<p>Did you add the jar to the hadoop's classpath?</p>\n<blockquote>\n<p>Add the connector jar to Hadoop's classpath\nPlacing the connector jar in the HADOOP_COMMON_LIB_JARS_DIR directory should be sufficient to have Hadoop load the jar. Alternatively, to be certain that the jar is loaded, you can add HADOOP_CLASSPATH=$HADOOP_CLASSPATH:&lt;/path/to/gcs-connector.jar&gt; to hadoop-env.sh in the Hadoop configuration directory.</p>\n</blockquote>\n<p>This needs to be done to DisctCp conf(in your code <code>this.conf</code>) before this line of code:</p>\n<pre><code>this.conf.set(&quot;HADOOP_CLASSPATH&quot;,&quot;$HADOOP_CLASSPATH:/tmp/gcs-connector-latest-hadoop2.jar&quot;)\nDistCp distCp = new DistCp(this.conf, options);\n</code></pre>\n<p>If it helps there is a <a href=\"https://github.com/GoogleCloudDataproc/hadoop-connectors/blob/master/gcs/INSTALL.md\" rel=\"nofollow noreferrer\">troubleshooting section</a> for this.</p>\n"}],"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2379,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699263155,"creation_date":1637523478,"question_id":70057968,"body_markdown":"I am trying to run a `distcp` command on my hadoop cluster using the Hadoop Java Library to move content from the HDFS to a Google Cloud Bucket. I am getting the error `NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem`\r\n\r\nBelow is my java code:\r\n\r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonElement;\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.FileSystem;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.mapreduce.Job;\r\n    import org.apache.hadoop.tools.DistCp;\r\n    import org.apache.hadoop.tools.DistCpOptions;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class HadoopHelper {\r\n\r\n        private static Logger logger = LoggerFactory.getLogger(HadoopHelper.class);\r\n\r\n        private static final String FS_DEFAULT_FS = &quot;fs.defaultFS&quot;;\r\n\r\n        private final Configuration conf;\r\n\r\n        public HadoopHelper(String hadoopUrl) {\r\n            conf = new Configuration();\r\n            conf.set(FS_DEFAULT_FS, &quot;hdfs://&quot; + hadoopUrl);\r\n        }\r\n\r\n        public void distCP(JsonArray files, String target) {\r\n\r\n            try {\r\n                List&lt;Path&gt; srcPaths = new ArrayList&lt;&gt;();\r\n\r\n                for (JsonElement file : files) {\r\n                    String srcPath = file.getAsString();\r\n                    srcPaths.add(new Path(srcPath));\r\n                }\r\n\r\n                DistCpOptions options = new DistCpOptions.Builder(\r\n                        srcPaths,\r\n                        new Path(&quot;gs://&quot; + target)\r\n                ).build();\r\n\r\n                logger.info(&quot;Using distcp to copy {} to gs://{}&quot;, files, target);\r\n\r\n                this.conf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\r\n                this.conf.set(&quot;fs.gs.auth.service.account.email&quot;, &quot;my-svc-account@my-gcp-project.iam.gserviceaccount.com&quot;);\r\n                this.conf.set(&quot;fs.gs.auth.service.account.keyfile&quot;, &quot;config/my-svc-account-keyfile.p12&quot;);\r\n                this.conf.set(&quot;fs.gs.project.id&quot;, &quot;my-gcp-project&quot;);\r\n\r\n\r\n                DistCp distCp = new DistCp(this.conf, options);\r\n                Job job = distCp.execute();\r\n\r\n                job.waitForCompletion(true);\r\n\r\n                logger.info(&quot;Distcp operation success. Exiting&quot;);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error while trying to execute distcp&quot;, e);\r\n                logger.error(&quot;Distcp operation failed. Exiting&quot;);\r\n                throw new IllegalArgumentException(&quot;Distcp failed&quot;);\r\n            }\r\n        }\r\n\r\n        public void createDirectory() throws IOException {\r\n            FileSystem fileSystem = FileSystem.get(this.conf);\r\n            fileSystem.mkdirs(new Path(&quot;/user/newfolder&quot;));\r\n            logger.info(&quot;Done&quot;);\r\n        }\r\n    }\r\n\r\nI have added the below dependencies in the `pom.xml`:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-distcp&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;util&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIf I run the distcp command on the cluster itself like so: `hadoop distcp /user gs://my_bucket_name/`\r\n\r\nThe distcp operation works and the content is copied onto the Cloud Bucket.","title":"hadoop distcp via java resulting in NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem","body":"<p>I am trying to run a <code>distcp</code> command on my hadoop cluster using the Hadoop Java Library to move content from the HDFS to a Google Cloud Bucket. I am getting the error <code>NoClassDefFoundError: Could not initialize class com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem</code></p>\n<p>Below is my java code:</p>\n<pre><code>import com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.tools.DistCp;\nimport org.apache.hadoop.tools.DistCpOptions;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class HadoopHelper {\n\n    private static Logger logger = LoggerFactory.getLogger(HadoopHelper.class);\n\n    private static final String FS_DEFAULT_FS = &quot;fs.defaultFS&quot;;\n\n    private final Configuration conf;\n\n    public HadoopHelper(String hadoopUrl) {\n        conf = new Configuration();\n        conf.set(FS_DEFAULT_FS, &quot;hdfs://&quot; + hadoopUrl);\n    }\n\n    public void distCP(JsonArray files, String target) {\n\n        try {\n            List&lt;Path&gt; srcPaths = new ArrayList&lt;&gt;();\n\n            for (JsonElement file : files) {\n                String srcPath = file.getAsString();\n                srcPaths.add(new Path(srcPath));\n            }\n\n            DistCpOptions options = new DistCpOptions.Builder(\n                    srcPaths,\n                    new Path(&quot;gs://&quot; + target)\n            ).build();\n\n            logger.info(&quot;Using distcp to copy {} to gs://{}&quot;, files, target);\n\n            this.conf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\n            this.conf.set(&quot;fs.gs.auth.service.account.email&quot;, &quot;my-svc-account@my-gcp-project.iam.gserviceaccount.com&quot;);\n            this.conf.set(&quot;fs.gs.auth.service.account.keyfile&quot;, &quot;config/my-svc-account-keyfile.p12&quot;);\n            this.conf.set(&quot;fs.gs.project.id&quot;, &quot;my-gcp-project&quot;);\n\n\n            DistCp distCp = new DistCp(this.conf, options);\n            Job job = distCp.execute();\n\n            job.waitForCompletion(true);\n\n            logger.info(&quot;Distcp operation success. Exiting&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;Error while trying to execute distcp&quot;, e);\n            logger.error(&quot;Distcp operation failed. Exiting&quot;);\n            throw new IllegalArgumentException(&quot;Distcp failed&quot;);\n        }\n    }\n\n    public void createDirectory() throws IOException {\n        FileSystem fileSystem = FileSystem.get(this.conf);\n        fileSystem.mkdirs(new Path(&quot;/user/newfolder&quot;));\n        logger.info(&quot;Done&quot;);\n    }\n}\n</code></pre>\n<p>I have added the below dependencies in the <code>pom.xml</code>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-distcp&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\n        &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\n        &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\n        &lt;artifactId&gt;util&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If I run the distcp command on the cluster itself like so: <code>hadoop distcp /user gs://my_bucket_name/</code></p>\n<p>The distcp operation works and the content is copied onto the Cloud Bucket.</p>\n"},{"tags":["java","spring","testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699179107,"post_id":77425421,"comment_id":136496637,"body_markdown":"You haven&#39;t asked a question.","body":"You haven&#39;t asked a question."},{"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"score":0,"creation_date":1699190040,"post_id":77425421,"comment_id":136497632,"body_markdown":"@tgdavies the question is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?","body":"@tgdavies the question is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699263077,"creation_date":1699261741,"answer_id":77429926,"question_id":77425421,"body_markdown":"`@SpringBootTest` is annotated with:\r\n```lang-java\r\n@ExtendWith({SpringExtension.class})\r\npublic @interface SpringBootTest\r\n```\r\nthus has all functionality of `SpringExtension`\r\n\r\nAmong others, it initializes all test execution listeners specified in file \r\n`URL [jar:file:PATH/org/springframework/boot/spring-boot-test/SPRING_BOOT_VERSION/spring-boot-test-SPRING_BOOT_VERSION.jar!/META-INF/spring.factories]`:\r\n```lang-java\r\n# Test Execution Listeners\r\norg.springframework.test.context.TestExecutionListener=\\\r\norg.springframework.boot.test.mock.mockito.MockitoTestExecutionListener,\\\r\norg.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener\r\n```\r\n\r\n`MockitoTestExecutionListener` is the one initializing fields annotated with `@Mock`:\r\n```lang-java\r\npublic void prepareTestInstance(TestContext testContext) throws Exception {\r\n    this.initMocks(testContext);\r\n    this.injectFields(testContext);\r\n}\r\n```\r\n\r\nThis behaviour is also documented in `MockitoTestExecutionListener` javadoc (emphasis mine):\r\n&gt; TestExecutionListener to enable @MockBean and @SpyBean support. **Also triggers MockitoAnnotations.openMocks(Object) when any Mockito annotations used**, primarily to allow @Captor annotations.\r\nTo use the automatic reset support of @MockBean and @SpyBean, configure ResetMocksTestExecutionListener as well.","title":"Spring framework has Mockito behaviour when using Mockitio annotation","body":"<p><code>@SpringBootTest</code> is annotated with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith({SpringExtension.class})\npublic @interface SpringBootTest\n</code></pre>\n<p>thus has all functionality of <code>SpringExtension</code></p>\n<p>Among others, it initializes all test execution listeners specified in file\n<code>URL [jar:file:PATH/org/springframework/boot/spring-boot-test/SPRING_BOOT_VERSION/spring-boot-test-SPRING_BOOT_VERSION.jar!/META-INF/spring.factories]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code># Test Execution Listeners\norg.springframework.test.context.TestExecutionListener=\\\norg.springframework.boot.test.mock.mockito.MockitoTestExecutionListener,\\\norg.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener\n</code></pre>\n<p><code>MockitoTestExecutionListener</code> is the one initializing fields annotated with <code>@Mock</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void prepareTestInstance(TestContext testContext) throws Exception {\n    this.initMocks(testContext);\n    this.injectFields(testContext);\n}\n</code></pre>\n<p>This behaviour is also documented in <code>MockitoTestExecutionListener</code> javadoc (emphasis mine):</p>\n<blockquote>\n<p>TestExecutionListener to enable @MockBean and @SpyBean support. <strong>Also triggers MockitoAnnotations.openMocks(Object) when any Mockito annotations used</strong>, primarily to allow @Captor annotations.\nTo use the automatic reset support of @MockBean and @SpyBean, configure ResetMocksTestExecutionListener as well.</p>\n</blockquote>\n"}],"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77429926,"answer_count":1,"score":0,"last_activity_date":1699263077,"creation_date":1699177286,"question_id":77425421,"body_markdown":"i have a code snipet, looking like : \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class Testing {\r\n\r\n      @Mock\r\n      MyObject sp1;\r\n\r\n      @Test\r\n      public void test1() {\r\n        assertNotNull(sp1);\r\n      }\r\n    }\r\n\r\nIt is really strange the Spring gives me an instance (not null) of my object (reference sp1), as it is not a @Resource annotation, nor a @Autowired annotation.\r\nIn fact, i dit not put the annotation \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\r\nso, the object sp1 should not be instanciated.\r\nBut it seeems that Spring has a Mockito behaviour, when \r\nannotation \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\r\nis replaced by annotation \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\nit is not a big deal, but.. surprising, isn&#39;t it ?\r\n\r\nquestion is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?\r\n\r\n\r\n\r\n\r\n","title":"Spring framework has Mockito behaviour when using Mockitio annotation","body":"<p>i have a code snipet, looking like :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class Testing {\n\n  @Mock\n  MyObject sp1;\n\n  @Test\n  public void test1() {\n    assertNotNull(sp1);\n  }\n}\n</code></pre>\n<p>It is really strange the Spring gives me an instance (not null) of my object (reference sp1), as it is not a @Resource annotation, nor a @Autowired annotation.\nIn fact, i dit not put the annotation</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>so, the object sp1 should not be instanciated.\nBut it seeems that Spring has a Mockito behaviour, when\nannotation</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>is replaced by annotation</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>it is not a big deal, but.. surprising, isn't it ?</p>\n<p>question is : why Mock seems to work, as we only have Spring annotations and no Mockitio annotations ?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config"],"comments":[{"owner":{"account_id":2844819,"reputation":374,"user_id":2443525,"accept_rate":50,"display_name":"Lodewijck"},"score":0,"creation_date":1699190965,"post_id":77425913,"comment_id":136497727,"body_markdown":"Have you tried putting a hardcoded absolute location in the search-locations property?","body":"Have you tried putting a hardcoded absolute location in the search-locations property?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1699263002,"post_id":77425913,"comment_id":136504866,"body_markdown":"@Lodewijck hardcoded absolute location was not the solution, also because this means that it will be able to work only on my computer.","body":"@Lodewijck hardcoded absolute location was not the solution, also because this means that it will be able to work only on my computer."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699209671,"creation_date":1699209671,"answer_id":77427205,"question_id":77425913,"body_markdown":"project-config-provider pom.xml :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.project&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;relativePath&gt;../&lt;/relativePath&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\r\n      &lt;name&gt;Project Config Provider&lt;/name&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t \r\n    \t&lt;!-- spring cloud config --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n        &lt;!-- spring security --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \t\r\n    &lt;/project&gt;\r\n\r\napplication_config-provider--native.yaml :\r\n\r\n    spring:\r\n       application:\r\n          name: config-provider\r\n       profiles:\r\n          active: native\r\n       cloud:\r\n          config:\r\n             server:\r\n                native:\r\n                   search-locations: cloud_config\r\n                prefix: /config\r\n                bootstrap: true\r\n    \r\n    server.port: 8888\r\n\r\nNow I&#39;m able to see the properties on:\r\n\r\nhttp://localhost:8888/config/application-config_storage/env_local\r\n","title":"How to configure spring cloud config server to read properties from File System?","body":"<p>project-config-provider pom.xml :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;relativePath&gt;../&lt;/relativePath&gt;\n  &lt;/parent&gt;\n  \n  &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\n  &lt;name&gt;Project Config Provider&lt;/name&gt;\n  \n  &lt;dependencies&gt;\n     \n    &lt;!-- spring cloud config --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- spring security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>application_config-provider--native.yaml :</p>\n<pre><code>spring:\n   application:\n      name: config-provider\n   profiles:\n      active: native\n   cloud:\n      config:\n         server:\n            native:\n               search-locations: cloud_config\n            prefix: /config\n            bootstrap: true\n\nserver.port: 8888\n</code></pre>\n<p>Now I'm able to see the properties on:</p>\n<p>http://localhost:8888/config/application-config_storage/env_local</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77427205,"answer_count":1,"score":0,"last_activity_date":1699262874,"creation_date":1699187347,"question_id":77425913,"body_markdown":"I&#39;m learning how to centralize configurations using Spring Cloud Config Server File System Backend : [docs.spring.io][1]\r\n\r\nI have a multi maven project\r\n\r\n    project:\r\n    ├── pom.xml\r\n    │\r\n    ├── project-config-provider\r\n    │   ├── pom.xml\r\n    │   ├── src\r\n    │   │   └── main\r\n    │   │       └── java\r\n    │   │           └── com\r\n    │   │               └── company\r\n    │   │                   └── project\r\n    │   │                       └── config_provider\r\n    │   │                           └── Application.java\r\n    │   ├── config\r\n    │   │   ├── application_config-provider--native.yaml\r\n    │   │   └── application_config-provider--aws.yaml\r\n    │   │\r\n    │   └── cloud_config\r\n    │       ├── application-config_main.yaml\r\n    │       ├── application-config_storage.yaml\r\n    │       ├── application-config_swagger.yaml\r\n    │       └── application-env_local.yaml\r\n    │\r\n    │\r\n    └── project-abc\r\n        ├── pom.xml\r\n        ├── src\r\n        │   └── main\r\n        │       └── java\r\n        │           └── com\r\n        │               └── company\r\n        │                   └── project\r\n        │                       └── abc\r\n        │                           └── AbcApplication.java\r\n        └── config\r\n            └── application_abc.yaml\r\n\r\n___\r\n\r\n\r\nThe module `project-config-provider` will have to be the spring cloud config server,\r\nand the module `projcet-abc` will use some of the configs from project-config-provider.\r\n\r\n\r\neach module has a config folder: \r\n- the project-config-provider contains multiple yaml files, one for each environment (application_config-provider--native.yaml for local test, application_config-provider--aws.yaml for aws test with secretmanager an S3)\r\n\r\napplication_config-provider--native.yaml :\r\n\r\n    spring:\r\n       application:\r\n          name: config-provider\r\n       profile:\r\n          active: native\r\n       cloud:\r\n          config:\r\n             server:\r\n                native:\r\n                   search-location: cloud_config\r\n                prefix: /config\r\n                bootstrap: true\r\n    \r\n    server.port: 8888\r\n\r\n- all the other modules has only one yaml file\r\n\r\n application_abc.yaml : \r\n\r\n    spring:\r\n       application:\r\n          name: maps\r\n          version: 1.0.0\r\n       profiles:\r\n          #inlcude configurations from cloud_config of config-provider \r\n          include: config_main, config_storage, config_swagger\r\n       config:\r\n          import: configserver:http://${CONFIG_PROVIDER_HOST:localhost}:${CONFIG_PROVIDER_PORT:8888}/config\r\n\r\n___\r\n\r\nproject-abc application:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({ &quot;com.project*&quot; })\r\n    @EntityScan(&quot;com.project*&quot;)\r\n    @EnableJpaRepositories(&quot;com.project*&quot;)\r\n    public class AbcApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AbcApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\non project-abc pom.xml, I have added:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n___\r\n\r\nproject-config-provider application:\r\n\r\n    @EnableConfigServer\r\n    @ComponentScan(basePackages = { &quot;com.project&quot; } )\r\n    @SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\r\n    public class Application {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \t\r\n    \t@Configuration\r\n    \tpublic static class SecurityPermitAllConfig {\r\n    \t\t\r\n    \t\t@Bean\r\n    \t\tpublic SecurityFilterChain filterChain(final HttpSecurity httpSecurity) throws Exception {\r\n    \t\t\thttpSecurity.authorizeRequests().anyRequest().permitAll().and().csrf().disable();\r\n    \t\t\treturn httpSecurity.build();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nproject-config-provider pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.project&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;relativePath&gt;../&lt;/relativePath&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\r\n      &lt;name&gt;Project Config Provider&lt;/name&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t \r\n    \t&lt;!-- cloud config server --&gt;    \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- custom configuration in application-*.yaml --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\t\r\n    \t\r\n    &lt;/project&gt;\r\n\r\n___\r\n\r\nthe Spring Boot Application project-config-provider is runned using \r\n\r\n    --spring.config.import=config/application-config-provider--native.yaml\r\n\r\nas program arguments, but as soon as it starts, it fails:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Invalid config server configuration.\r\n    \r\n    Action:\r\n    \r\n    If you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\r\n\r\nI&#39;m not using git.. but I have set bootstrap=true,&lt;br&gt; \r\nI have also tried using composite on application_config-provider--native.yaml :\r\n\r\n    spring:\r\n       application:\r\n          name: config-provider\r\n       profile:\r\n          active: composite\r\n       cloud:\r\n          config:\r\n             server:\r\n                composite:\r\n                 - type: native\r\n                   search-locations: cloud_config\r\n                prefix: /config\r\n                bootstrap: true\r\n    \r\n    server.port: 8888\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-config/reference/server/environment-repository/file-system-backend.html","title":"How to configure spring cloud config server to read properties from File System?","body":"<p>I'm learning how to centralize configurations using Spring Cloud Config Server File System Backend : <a href=\"https://docs.spring.io/spring-cloud-config/reference/server/environment-repository/file-system-backend.html\" rel=\"nofollow noreferrer\">docs.spring.io</a></p>\n<p>I have a multi maven project</p>\n<pre><code>project:\n├── pom.xml\n│\n├── project-config-provider\n│   ├── pom.xml\n│   ├── src\n│   │   └── main\n│   │       └── java\n│   │           └── com\n│   │               └── company\n│   │                   └── project\n│   │                       └── config_provider\n│   │                           └── Application.java\n│   ├── config\n│   │   ├── application_config-provider--native.yaml\n│   │   └── application_config-provider--aws.yaml\n│   │\n│   └── cloud_config\n│       ├── application-config_main.yaml\n│       ├── application-config_storage.yaml\n│       ├── application-config_swagger.yaml\n│       └── application-env_local.yaml\n│\n│\n└── project-abc\n    ├── pom.xml\n    ├── src\n    │   └── main\n    │       └── java\n    │           └── com\n    │               └── company\n    │                   └── project\n    │                       └── abc\n    │                           └── AbcApplication.java\n    └── config\n        └── application_abc.yaml\n</code></pre>\n<hr />\n<p>The module <code>project-config-provider</code> will have to be the spring cloud config server,\nand the module <code>projcet-abc</code> will use some of the configs from project-config-provider.</p>\n<p>each module has a config folder:</p>\n<ul>\n<li>the project-config-provider contains multiple yaml files, one for each environment (application_config-provider--native.yaml for local test, application_config-provider--aws.yaml for aws test with secretmanager an S3)</li>\n</ul>\n<p>application_config-provider--native.yaml :</p>\n<pre><code>spring:\n   application:\n      name: config-provider\n   profile:\n      active: native\n   cloud:\n      config:\n         server:\n            native:\n               search-location: cloud_config\n            prefix: /config\n            bootstrap: true\n\nserver.port: 8888\n</code></pre>\n<ul>\n<li>all the other modules has only one yaml file</li>\n</ul>\n<p>application_abc.yaml :</p>\n<pre><code>spring:\n   application:\n      name: maps\n      version: 1.0.0\n   profiles:\n      #inlcude configurations from cloud_config of config-provider \n      include: config_main, config_storage, config_swagger\n   config:\n      import: configserver:http://${CONFIG_PROVIDER_HOST:localhost}:${CONFIG_PROVIDER_PORT:8888}/config\n</code></pre>\n<hr />\n<p>project-abc application:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({ &quot;com.project*&quot; })\n@EntityScan(&quot;com.project*&quot;)\n@EnableJpaRepositories(&quot;com.project*&quot;)\npublic class AbcApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AbcApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>on project-abc pom.xml, I have added:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>project-config-provider application:</p>\n<pre><code>@EnableConfigServer\n@ComponentScan(basePackages = { &quot;com.project&quot; } )\n@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\npublic class Application {\n\n    public static void main(final String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n    \n    @Configuration\n    public static class SecurityPermitAllConfig {\n        \n        @Bean\n        public SecurityFilterChain filterChain(final HttpSecurity httpSecurity) throws Exception {\n            httpSecurity.authorizeRequests().anyRequest().permitAll().and().csrf().disable();\n            return httpSecurity.build();\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>project-config-provider pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;relativePath&gt;../&lt;/relativePath&gt;\n  &lt;/parent&gt;\n  \n  &lt;artifactId&gt;project-config-provider&lt;/artifactId&gt;\n  &lt;name&gt;Project Config Provider&lt;/name&gt;\n  \n  &lt;dependencies&gt;\n     \n    &lt;!-- cloud config server --&gt;        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- custom configuration in application-*.yaml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;   \n    \n&lt;/project&gt;\n</code></pre>\n<hr />\n<p>the Spring Boot Application project-config-provider is runned using</p>\n<pre><code>--spring.config.import=config/application-config-provider--native.yaml\n</code></pre>\n<p>as program arguments, but as soon as it starts, it fails:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nInvalid config server configuration.\n\nAction:\n\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\n</code></pre>\n<p>I'm not using git.. but I have set bootstrap=true,<br>\nI have also tried using composite on application_config-provider--native.yaml :</p>\n<pre><code>spring:\n   application:\n      name: config-provider\n   profile:\n      active: composite\n   cloud:\n      config:\n         server:\n            composite:\n             - type: native\n               search-locations: cloud_config\n            prefix: /config\n            bootstrap: true\n\nserver.port: 8888\n</code></pre>\n"},{"tags":["java","spring","eclipse","tomcat","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":4,"creation_date":1490514883,"post_id":43026358,"comment_id":73139121,"body_markdown":"Are you stopping the application before you try to start it the second time? If so, how are you doing that? It sounds like the first instance of the application is still running.","body":"Are you stopping the application before you try to start it the second time? If so, how are you doing that? It sounds like the first instance of the application is still running."},{"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"score":0,"creation_date":1490543704,"post_id":43026358,"comment_id":73147478,"body_markdown":"No, I&#39;m not. I actually thought the framework would perform this operations behind the scenes.","body":"No, I&#39;m not. I actually thought the framework would perform this operations behind the scenes."},{"owner":{"account_id":4966455,"reputation":1122,"user_id":3995603,"accept_rate":77,"display_name":"codingbash"},"score":4,"creation_date":1490548358,"post_id":43026358,"comment_id":73149312,"body_markdown":"For a temporary workaround, you can set the port to `server.port=0` which will find a random open port to use. Although I suggest you find out a way to stop your application properly.","body":"For a temporary workaround, you can set the port to <code>server.port=0</code> which will find a random open port to use. Although I suggest you find out a way to stop your application properly."},{"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"score":0,"creation_date":1490582719,"post_id":43026358,"comment_id":73159532,"body_markdown":"It&#39;s working fine applying the solution you gave me. Thank you for finding the time to ask this question.","body":"It&#39;s working fine applying the solution you gave me. Thank you for finding the time to ask this question."},{"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"score":0,"creation_date":1523889940,"post_id":43026358,"comment_id":86735193,"body_markdown":"Hi @codingbash, Lyk yu mentioned, i made my port number as 0 in the properties file. Still, I&#39;m getting the same error.\n\n\n&quot;The Tomcat connector configured to listen on port 0 failed to start. The port may already be in use or the connector may be misconfigured.\n&quot;\n\nany guess on my issue??","body":"Hi @codingbash, Lyk yu mentioned, i made my port number as 0 in the properties file. Still, I&#39;m getting the same error.   &quot;The Tomcat connector configured to listen on port 0 failed to start. The port may already be in use or the connector may be misconfigured. &quot;  any guess on my issue??"}],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1605804948,"creation_date":1490548172,"answer_id":43031906,"question_id":43026358,"body_markdown":"**Issue**: It&#39;s because either you are not stopping your application or the application is already somehow running on the same port somehow.\r\n\r\n**Solution**, Before starting it another time, the earlier application needs to be killed and the port needs to be freed up.\r\n\r\n\r\nDepending on your platform you can run the below commands to stop the application,\r\n\r\n**on windows**\r\n \r\n\r\n&gt; netstat -anp | find &quot;your application port number&quot;` --&gt; find PID\r\n&gt; \r\n&gt; taskkill /F /PID &lt;pid from previous command&gt; \r\n\r\n**on Linux,** \r\n\r\n&gt; netstat -ntpl | grep &quot;your application port number&quot;\r\n&gt; \r\n&gt; kill pid // pid you will get from previous command\r\n\r\n**on Mac OS** \r\n\r\n&gt; lsof -n -iTCP:&quot;port number&quot;\r\n&gt; \r\n&gt; kill pid //pid you will get from previous command\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><strong>Issue</strong>: It's because either you are not stopping your application or the application is already somehow running on the same port somehow.</p>\n<p><strong>Solution</strong>, Before starting it another time, the earlier application needs to be killed and the port needs to be freed up.</p>\n<p>Depending on your platform you can run the below commands to stop the application,</p>\n<p><strong>on windows</strong></p>\n<blockquote>\n<p>netstat -anp | find &quot;your application port number&quot;` --&gt; find PID</p>\n<p>taskkill /F /PID </p>\n</blockquote>\n<p><strong>on Linux,</strong></p>\n<blockquote>\n<p>netstat -ntpl | grep &quot;your application port number&quot;</p>\n<p>kill pid // pid you will get from previous command</p>\n</blockquote>\n<p><strong>on Mac OS</strong></p>\n<blockquote>\n<p>lsof -n -iTCP:&quot;port number&quot;</p>\n<p>kill pid //pid you will get from previous command</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9996900,"reputation":559,"user_id":7394219,"display_name":"edge"},"down_vote_count":3,"up_vote_count":45,"is_accepted":true,"score":42,"last_activity_date":1699262574,"creation_date":1496141199,"answer_id":44260095,"question_id":43026358,"body_markdown":"On the console, looking at the topmost right side of the dialog you should see a red button kinda like a buzzer. To stop the spring boot application properly you just ran, go ahead and hit this button and your problem is solved. Hope this helps!","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>On the console, looking at the topmost right side of the dialog you should see a red button kinda like a buzzer. To stop the spring boot application properly you just ran, go ahead and hit this button and your problem is solved. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":8709840,"reputation":1285,"user_id":6516391,"accept_rate":67,"display_name":"DvixExtract"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1507554726,"creation_date":1507554726,"answer_id":46647351,"question_id":43026358,"body_markdown":"Another easy way of solving this error is right clicking in the console and click on Terminate/Disconnect All. Afterwards run the application it should work fine.\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>Another easy way of solving this error is right clicking in the console and click on Terminate/Disconnect All. Afterwards run the application it should work fine.</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10945,"user_id":2057089,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1530806882,"creation_date":1509595742,"answer_id":47067463,"question_id":43026358,"body_markdown":"Find the process and terminate it. \r\nOn Windows do a Control+Alt+Delete and then find the &quot;Java(TM) Platform SE Binary&quot; process under the Processes Tab. For example: \r\n[![enter image description here][1]][1]\r\n \r\nOn Ubuntu, you can use &quot;ps aux | grep java&quot; to find the process and &quot;kill -9 PID_NUMBER&quot; to kill the process. \r\n\r\nOR \r\n\r\nIf you&#39;re using a Spring boot application, go to application.properties and add this: \r\n\r\n    server.port = 8081\r\n\r\n  [1]: https://i.stack.imgur.com/YkNeI.png","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>Find the process and terminate it. \nOn Windows do a Control+Alt+Delete and then find the \"Java(TM) Platform SE Binary\" process under the Processes Tab. For example: \n<a href=\"https://i.stack.imgur.com/YkNeI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YkNeI.png\" alt=\"enter image description here\"></a></p>\n\n<p>On Ubuntu, you can use \"ps aux | grep java\" to find the process and \"kill -9 PID_NUMBER\" to kill the process. </p>\n\n<p>OR </p>\n\n<p>If you're using a Spring boot application, go to application.properties and add this: </p>\n\n<pre><code>server.port = 8081\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510478505,"creation_date":1510478505,"answer_id":47247206,"question_id":43026358,"body_markdown":"1. check the port which is busy: netstat -ntlp \r\n2. kill that port : kill -9 xxxx","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<ol>\n<li>check the port which is busy: netstat -ntlp </li>\n<li>kill that port : kill -9 xxxx</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2840168,"reputation":1654,"user_id":2439949,"accept_rate":33,"display_name":"sy456"},"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1543847418,"creation_date":1521546657,"answer_id":49383499,"question_id":43026358,"body_markdown":"1. Find the process ID (PID) for the port (e.g.: **8080**)\r\n\r\n    On Windows:\r\n    \r\n        netstat -ao | find &quot;8080&quot;\r\n\r\n   Other Platforms other than windows :\r\n\r\n        lsof -i:8080\r\n\r\n\r\n2. Kill the process ID you found (e.g.: 20712)\r\n\r\n    On Windows:\r\n\r\n        Taskkill /PID  20712 /F\r\n\r\n    Other Platforms other than windows :\r\n\r\n        kill -9 20712   or kill 20712","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<ol>\n<li><p>Find the process ID (PID) for the port (e.g.: <strong>8080</strong>)</p>\n\n<p>On Windows:</p>\n\n<pre><code>netstat -ao | find \"8080\"\n</code></pre>\n\n<p>Other Platforms other than windows :</p>\n\n<pre><code>lsof -i:8080\n</code></pre></li>\n<li><p>Kill the process ID you found (e.g.: 20712)</p>\n\n<p>On Windows:</p>\n\n<pre><code>Taskkill /PID  20712 /F\n</code></pre>\n\n<p>Other Platforms other than windows :</p>\n\n<pre><code>kill -9 20712   or kill 20712\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3963157,"reputation":52,"user_id":3269800,"display_name":"Prasad Sonawane"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1540531535,"creation_date":1540531535,"answer_id":53001985,"question_id":43026358,"body_markdown":"[![right click on console and stop ][1]][1]\r\n\r\n\r\nright click on your console and terminate. or click on stop \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDXbm.png\r\n  [2]: https://i.stack.imgur.com/Glcaf.png","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><a href=\"https://i.stack.imgur.com/gDXbm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDXbm.png\" alt=\"right click on console and stop \"></a></p>\n\n<p>right click on your console and terminate. or click on stop </p>\n\n<p><a href=\"https://i.stack.imgur.com/Glcaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Glcaf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10194929,"reputation":11,"user_id":7527035,"display_name":"Ashish Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594824881,"creation_date":1553148355,"answer_id":55274621,"question_id":43026358,"body_markdown":"**There are two options to handle/avoid this situation.**\r\n\r\n1. Before re-running the application just terminate the previous connection.\r\n  \r\n - `Open the console --&gt; right click --&gt; terminate all.`\r\n\r\n2. If you forgot to perform action mention on step 1 then\r\n  \r\n - Figure out the port used by your application, you could see it the stack trace \r\n       in the console window\r\n - Figure out the process id associated to port by executing **netstat -aon** command in cmd\r\n - Kill that process and re-run the application.","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><strong>There are two options to handle/avoid this situation.</strong></p>\n<ol>\n<li>Before re-running the application just terminate the previous connection.</li>\n</ol>\n<ul>\n<li><code>Open the console --&gt; right click --&gt; terminate all.</code></li>\n</ul>\n<ol start=\"2\">\n<li>If you forgot to perform action mention on step 1 then</li>\n</ol>\n<ul>\n<li>Figure out the port used by your application, you could see it the stack trace\nin the console window</li>\n<li>Figure out the process id associated to port by executing <strong>netstat -aon</strong> command in cmd</li>\n<li>Kill that process and re-run the application.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1496451,"reputation":1500,"user_id":1402270,"accept_rate":67,"display_name":"Devender Goyal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555921242,"creation_date":1555921242,"answer_id":55791324,"question_id":43026358,"body_markdown":"**On Windows:**\r\n\r\nTo get started, open the command prompt by clicking on Start and then typing cmd. In the command window, go ahead and type in the following command:\r\n\r\n&gt; netstat -a -n -o\r\n\r\nIn the command above, the -o parameter is what will add the PID to the end of the table. Press enter and you should see something like this:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\nNow to see the name of the process that is using that port, go to Task Manager by pressing CTRL + SHIFT + ESC and then click on the Process tab. In Windows 10, you should click on the Details tab.\r\n\r\nBy default, the task manager does not display the process ID, so you have to click on View and then Select Columns. \r\n\r\nYou might also need to look into services running in background. To do that right-click and select open services as shown below: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8hFSh.jpg\r\n  [2]: https://i.stack.imgur.com/6IKQR.jpg\r\n\r\nHope it helps :)","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p><strong>On Windows:</strong></p>\n\n<p>To get started, open the command prompt by clicking on Start and then typing cmd. In the command window, go ahead and type in the following command:</p>\n\n<blockquote>\n  <p>netstat -a -n -o</p>\n</blockquote>\n\n<p>In the command above, the -o parameter is what will add the PID to the end of the table. Press enter and you should see something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8hFSh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8hFSh.jpg\" alt=\"enter image description here\"></a> </p>\n\n<p>Now to see the name of the process that is using that port, go to Task Manager by pressing CTRL + SHIFT + ESC and then click on the Process tab. In Windows 10, you should click on the Details tab.</p>\n\n<p>By default, the task manager does not display the process ID, so you have to click on View and then Select Columns. </p>\n\n<p>You might also need to look into services running in background. To do that right-click and select open services as shown below: </p>\n\n<p><a href=\"https://i.stack.imgur.com/6IKQR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6IKQR.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":2070360,"reputation":2274,"user_id":1844996,"accept_rate":56,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1560441791,"creation_date":1560441791,"answer_id":56584497,"question_id":43026358,"body_markdown":"In case your app is run on httpS, make sure you put right values under the following properties:\r\n\r\n    server.ssl.key-store-password=\r\n    server.ssl.key-alias=\r\n\r\nI got the same error when I put the wrong values here\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>In case your app is run on httpS, make sure you put right values under the following properties:</p>\n\n<pre><code>server.ssl.key-store-password=\nserver.ssl.key-alias=\n</code></pre>\n\n<p>I got the same error when I put the wrong values here</p>\n"},{"tags":[],"owner":{"account_id":6566070,"reputation":657,"user_id":5075658,"display_name":"Sumit Jadiya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568026740,"creation_date":1568026740,"answer_id":57852640,"question_id":43026358,"body_markdown":"this issue can be resolved using 2 ways:\r\n\r\n1. Kill application running on 8080\r\n\r\n    \r\n\r\n&gt;     netstat -ao | find &quot;8080&quot;\r\n\r\n&gt;     Taskkill /PID 1342 /F\r\n\r\n2. change spring server port in **application.properties** file\r\n\r\n&gt;    server.port=8081\r\n\r\n\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>this issue can be resolved using 2 ways:</p>\n\n<ol>\n<li>Kill application running on 8080</li>\n</ol>\n\n<blockquote>\n<pre><code>netstat -ao | find \"8080\"\n\nTaskkill /PID 1342 /F\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>change spring server port in <strong>application.properties</strong> file</li>\n</ol>\n\n<blockquote>\n  <p>server.port=8081</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13575533,"reputation":41,"user_id":9792998,"display_name":"jacker_wei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568686055,"creation_date":1568686055,"answer_id":57966448,"question_id":43026358,"body_markdown":" if it&#39;s convenient for you, and you don&#39;t want to use the command line, you can **reboot** your computer, it helps!","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>if it's convenient for you, and you don't want to use the command line, you can <strong>reboot</strong> your computer, it helps!</p>\n"},{"tags":[],"owner":{"account_id":11850538,"reputation":17,"user_id":8671959,"display_name":"Ruben Es"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570554376,"creation_date":1570554376,"answer_id":58290973,"question_id":43026358,"body_markdown":"The easier way to solve this is changing the port on the ***application.properties*** file;\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7sNO2.png\r\n\r\n\r\nserver.port=8081","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>The easier way to solve this is changing the port on the <strong><em>application.properties</em></strong> file;</p>\n\n<p><a href=\"https://i.stack.imgur.com/7sNO2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>server.port=8081</p>\n"},{"tags":[],"owner":{"account_id":1257847,"reputation":1816,"user_id":7676742,"display_name":"yılmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594819725,"creation_date":1594819725,"answer_id":62916004,"question_id":43026358,"body_markdown":"For those who are experiencing same problem after controlling there is no suspicious java process which allocate the port, there is no red square on eclipse to terminate any process and also there is no change even you try different port for your spring boot application.\r\n\r\nmight sound stupid but; restarting eclipse works. :)","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>For those who are experiencing same problem after controlling there is no suspicious java process which allocate the port, there is no red square on eclipse to terminate any process and also there is no change even you try different port for your spring boot application.</p>\n<p>might sound stupid but; restarting eclipse works. :)</p>\n"},{"tags":[],"owner":{"account_id":12683337,"reputation":61,"user_id":9216164,"display_name":"Pravin Nikure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597660159,"creation_date":1597660159,"answer_id":63449034,"question_id":43026358,"body_markdown":"In your windows os follow the following steps:\r\n\r\n\r\n----------\r\n\r\n\r\n1)search services\r\n 2)Find Apache tomcat \r\n3)Right-click on it and select end\r\n 4)Run your spring boot application again it will work\r\n------------------------------------------------------------------------","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>In your windows os follow the following steps:</p>\n<hr />\n<h2>1)search services\n2)Find Apache tomcat\n3)Right-click on it and select end\n4)Run your spring boot application again it will work</h2>\n"},{"tags":[],"owner":{"account_id":197273,"reputation":1,"user_id":441261,"display_name":"MbahSaptoJr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601961465,"creation_date":1601957152,"answer_id":64219209,"question_id":43026358,"body_markdown":"We have had the same issue in eclipse or intellij. After trying many alternative solutions, I found simple solution - add this config to your application.properties:\r\n`spring.main.web-application-type=none`\r\n ","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>We have had the same issue in eclipse or intellij. After trying many alternative solutions, I found simple solution - add this config to your application.properties:\n<code>spring.main.web-application-type=none</code></p>\n"},{"tags":[],"owner":{"account_id":1869972,"reputation":297,"user_id":1692449,"display_name":"K D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610000284,"creation_date":1610000284,"answer_id":65607514,"question_id":43026358,"body_markdown":"If you have devtools like auto build dependency remove it. It is automatically build your project and run it. When you build manually it show port in use.","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>If you have devtools like auto build dependency remove it. It is automatically build your project and run it. When you build manually it show port in use.</p>\n"},{"tags":[],"owner":{"account_id":4788755,"reputation":395,"user_id":3868511,"display_name":"steveen zoleko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634158190,"creation_date":1634158190,"answer_id":69562156,"question_id":43026358,"body_markdown":"If none of the solutions above worked and you are using IntelliJ Idea (I&#39;m using version 2020.3) you can go on your services tab and try to right click on your running configuration then click on clear content. \r\n\r\n[![running server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hceuC.png","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>If none of the solutions above worked and you are using IntelliJ Idea (I'm using version 2020.3) you can go on your services tab and try to right click on your running configuration then click on clear content.</p>\n<p><a href=\"https://i.stack.imgur.com/hceuC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hceuC.png\" alt=\"running server\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23489918,"reputation":1,"user_id":17541067,"display_name":"Rishabh Varshney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658507201,"creation_date":1658195957,"answer_id":73030327,"question_id":43026358,"body_markdown":"OS assigns a special number known as Process Identifier (PID) which is unique for every process and running port. And killing the process which running on your preferred port will clear the blockage to deploy your application on that port.\r\n\r\n - **Step 1:**\r\nFind the process ID (PID) for the port (e.g.: 8080)\r\n\r\nOn Windows:\r\n\r\n    netstat -ao | find &quot;8080&quot;\r\n\r\n\r\n - **Step 2:**\r\nKill the process ID you found (e.g.: 20712)\r\n\r\nOn Windows in cmd right click and open  run as administrator:\r\n[enter image description here][1]\r\n\r\n    Taskkill /PID  20712 /F\r\n\r\n  [1]: https://i.stack.imgur.com/FNwLZ.png\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>OS assigns a special number known as Process Identifier (PID) which is unique for every process and running port. And killing the process which running on your preferred port will clear the blockage to deploy your application on that port.</p>\n<ul>\n<li><strong>Step 1:</strong>\nFind the process ID (PID) for the port (e.g.: 8080)</li>\n</ul>\n<p>On Windows:</p>\n<pre><code>netstat -ao | find &quot;8080&quot;\n</code></pre>\n<ul>\n<li><strong>Step 2:</strong>\nKill the process ID you found (e.g.: 20712)</li>\n</ul>\n<p>On Windows in cmd right click and open  run as administrator:\n<a href=\"https://i.stack.imgur.com/FNwLZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>Taskkill /PID  20712 /F\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669200846,"creation_date":1669200846,"answer_id":74545643,"question_id":43026358,"body_markdown":"For Spring Boot 2 and later version add the property to your application configuration file(application.properties or application.yaml):\r\n\r\n    spring.main.web-application-type=SERVLET \r\n\r\nThe WebApplicationType can be one of:\r\n - NONE - The application should not run as a web application and should\r\n   not start an embedded web server.\r\n - REACTIVE - The application should run as a reactive web application and should start an embedded reactive web server.\r\n - SERVLET - The application should run as a servlet-based web application and should start an embedded servlet web server.\r\n\r\n","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>For Spring Boot 2 and later version add the property to your application configuration file(application.properties or application.yaml):</p>\n<pre><code>spring.main.web-application-type=SERVLET \n</code></pre>\n<p>The WebApplicationType can be one of:</p>\n<ul>\n<li>NONE - The application should not run as a web application and should\nnot start an embedded web server.</li>\n<li>REACTIVE - The application should run as a reactive web application and should start an embedded reactive web server.</li>\n<li>SERVLET - The application should run as a servlet-based web application and should start an embedded servlet web server.</li>\n</ul>\n"}],"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236517,"favorite_count":0,"down_vote_count":3,"up_vote_count":52,"accepted_answer_id":44260095,"answer_count":20,"score":49,"last_activity_date":1699262574,"creation_date":1490514521,"question_id":43026358,"body_markdown":"I&#39;m developing a REST API using Spring Framework.\r\n\r\nFirst I wasn&#39;t able to run my application because of the same problem. The port 8080 on my computer is busy. \r\nThen I found out that one alternative to solve this problem is creating an `application.properties` file under `src/main/resources` folder. \r\nThat&#39;s what I made, and set up the server to listen on port 8090. This worked but only for the first time, now I&#39;m getting the same exception whenever I try to run the application for the second time.\r\n\r\n    Description:\r\n    \r\n    The Tomcat connector configured to listen on port 8090 failed to start. The port may already be in use or the connector may be misconfigured.\r\n    \r\n    Action:\r\n    \r\n    Verify the connector&#39;s configuration, identify and stop any process that&#39;s listening on port 8090, or configure this application to listen on another port.\r\n\r\n\r\n\r\nAs far as I know, this framework makes use of an embedded instance of apache tomcat to deploy every application. \r\n\r\nMy guess is, the server is not getting restarted the second time I try to run the app, that&#39;s why the output says &quot; The port may already be in use or the connector may be misconfigured&quot;\r\n\r\nSo, a more specific question would be, how can I manage the embedded instance of apache tomcat either manually or programmatically? \r\n\r\nI&#39;ve also modified the port in the `application.properties` file twice. It works fine, but again, only for the first time. As you can imagine I cannot do the same each time the app is going to be executed.","title":"Spring Boot application in eclipse, the Tomcat connector configured to listen on port XXXX failed to start","body":"<p>I'm developing a REST API using Spring Framework.</p>\n\n<p>First I wasn't able to run my application because of the same problem. The port 8080 on my computer is busy. \nThen I found out that one alternative to solve this problem is creating an <code>application.properties</code> file under <code>src/main/resources</code> folder. \nThat's what I made, and set up the server to listen on port 8090. This worked but only for the first time, now I'm getting the same exception whenever I try to run the application for the second time.</p>\n\n<pre><code>Description:\n\nThe Tomcat connector configured to listen on port 8090 failed to start. The port may already be in use or the connector may be misconfigured.\n\nAction:\n\nVerify the connector's configuration, identify and stop any process that's listening on port 8090, or configure this application to listen on another port.\n</code></pre>\n\n<p>As far as I know, this framework makes use of an embedded instance of apache tomcat to deploy every application. </p>\n\n<p>My guess is, the server is not getting restarted the second time I try to run the app, that's why the output says \" The port may already be in use or the connector may be misconfigured\"</p>\n\n<p>So, a more specific question would be, how can I manage the embedded instance of apache tomcat either manually or programmatically? </p>\n\n<p>I've also modified the port in the <code>application.properties</code> file twice. It works fine, but again, only for the first time. As you can imagine I cannot do the same each time the app is going to be executed.</p>\n"},{"tags":["java","android","google-maps","mobile"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699263419,"post_id":77429981,"comment_id":136504933,"body_markdown":"&quot;Google Play services&quot; are an system app on the phone you have to update. Usually this happens automatically via Play Store but you can also manually update it. https://support.google.com/googleplay/answer/9037938?hl=en","body":"&quot;Google Play services&quot; are an system app on the phone you have to update. Usually this happens automatically via Play Store but you can also manually update it. <a href=\"https://support.google.com/googleplay/answer/9037938?hl=en\" rel=\"nofollow noreferrer\">support.google.com/googleplay/answer/9037938?hl=en</a>"},{"owner":{"account_id":25095661,"reputation":1,"user_id":18946866,"display_name":"Programmer"},"score":0,"creation_date":1699267557,"post_id":77429981,"comment_id":136505660,"body_markdown":"I am creating a program on Android Studio, so it&#39;s not on my phone, but I have tried to update it manually from the emulator and it&#39;s not working","body":"I am creating a program on Android Studio, so it&#39;s not on my phone, but I have tried to update it manually from the emulator and it&#39;s not working"},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699271011,"post_id":77429981,"comment_id":136506256,"body_markdown":"Android Studio does not execute Andrid apps. For running an app you need a phone - it can be a physical phone or an virtual phone (emulator) but you need a phone.","body":"Android Studio does not execute Andrid apps. For running an app you need a phone - it can be a physical phone or an virtual phone (emulator) but you need a phone."},{"owner":{"account_id":25095661,"reputation":1,"user_id":18946866,"display_name":"Programmer"},"score":0,"creation_date":1699272741,"post_id":77429981,"comment_id":136506577,"body_markdown":"Sure, I have tried to manually update it using the link but that still did not fix my issue.","body":"Sure, I have tried to manually update it using the link but that still did not fix my issue."},{"owner":{"account_id":24508188,"reputation":1914,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1699573713,"post_id":77429981,"comment_id":136552744,"body_markdown":"It could be that the device you used is still on Nougat. Or because the emulator you ran did not have a Google Play Service. Please make sure that you run an emulator with one.","body":"It could be that the device you used is still on Nougat. Or because the emulator you ran did not have a Google Play Service. Please make sure that you run an emulator with one."},{"owner":{"account_id":24508188,"reputation":1914,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1699575730,"post_id":77429981,"comment_id":136552944,"body_markdown":"Do you have any reason why you need the lowest version of Android or Android 7 on your emulator??","body":"Do you have any reason why you need the lowest version of Android or Android 7 on your emulator??"}],"owner":{"account_id":25095661,"reputation":1,"user_id":18946866,"display_name":"Programmer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699262488,"creation_date":1699262488,"question_id":77429981,"body_markdown":"I am trying to create a basic Google Maps in my Android (Java) project, but every time I try to run it, I go to the log statements and it says \r\n```\r\n&quot;Google Play services out of date for com.example.findaseat.  Requires 13400000 but found 11743470&quot;\r\n```\r\n\r\nJust some information about what is running:\r\n1. Android Studio Giraffe | 2022.3.1 Patch 1\r\nBuild #AI-223.8836.35.2231.10671973, built on August 16, 2023\r\n\r\n2. Pixel 2 Nougat API Level: 24 ABI: x86 Target: Android 7.0 (Google Play Services) \r\n\r\n[This is what shows on my emulator when I try to run the program](https://i.stack.imgur.com/oZrx7.png)\r\n\r\n3. These are my SDK Tools \r\n\r\n[SDK Tools](https://i.stack.imgur.com/FXacj.png)\r\n\r\n4. Google Map related code: \r\n\r\n```\r\ndependencies {\r\n\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n    implementation (&quot;com.google.android.gms:play-services-maps:18.1.0&quot;)\r\n\r\n}\r\n```\r\n\r\nAndroidManifest: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.FindASeat&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;@string/my_map_api_key&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI followed all the steps in this video for the rest of my code: [Google Maps Setup](https://www.youtube.com/watch?v=pOKPQ8rYe6g)\r\n\r\n\r\nI have tried to click on the update button on the emulator, and it asks me to sign into my google account, which I do, but everytime it gives me a server error. \r\n\r\n[Server Error](https://i.stack.imgur.com/hkO36.png)\r\n\r\nI try to go to my emulator settings, but I get a loading screen on the play services update. \r\n\r\n[Emulator Settings](https://i.stack.imgur.com/MSFL2.png)\r\n\r\nI have also tried using other Emulators (Nexus, etc.) but I keep getting the same issue. I am also not sure what version to demote my google maps API version to in my build file, I have tried a bunch of numbers, and if I go too low sometimes I get errors in my MainActivity.java ","title":"Android app is saying Google Play services out of date","body":"<p>I am trying to create a basic Google Maps in my Android (Java) project, but every time I try to run it, I go to the log statements and it says</p>\n<pre><code>&quot;Google Play services out of date for com.example.findaseat.  Requires 13400000 but found 11743470&quot;\n</code></pre>\n<p>Just some information about what is running:</p>\n<ol>\n<li><p>Android Studio Giraffe | 2022.3.1 Patch 1\nBuild #AI-223.8836.35.2231.10671973, built on August 16, 2023</p>\n</li>\n<li><p>Pixel 2 Nougat API Level: 24 ABI: x86 Target: Android 7.0 (Google Play Services)</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/oZrx7.png\" rel=\"nofollow noreferrer\">This is what shows on my emulator when I try to run the program</a></p>\n<ol start=\"3\">\n<li>These are my SDK Tools</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/FXacj.png\" rel=\"nofollow noreferrer\">SDK Tools</a></p>\n<ol start=\"4\">\n<li>Google Map related code:</li>\n</ol>\n<pre><code>dependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n    implementation (&quot;com.google.android.gms:play-services-maps:18.1.0&quot;)\n\n}\n</code></pre>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.FindASeat&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;@string/my_map_api_key&quot; /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I followed all the steps in this video for the rest of my code: <a href=\"https://www.youtube.com/watch?v=pOKPQ8rYe6g\" rel=\"nofollow noreferrer\">Google Maps Setup</a></p>\n<p>I have tried to click on the update button on the emulator, and it asks me to sign into my google account, which I do, but everytime it gives me a server error.</p>\n<p><a href=\"https://i.stack.imgur.com/hkO36.png\" rel=\"nofollow noreferrer\">Server Error</a></p>\n<p>I try to go to my emulator settings, but I get a loading screen on the play services update.</p>\n<p><a href=\"https://i.stack.imgur.com/MSFL2.png\" rel=\"nofollow noreferrer\">Emulator Settings</a></p>\n<p>I have also tried using other Emulators (Nexus, etc.) but I keep getting the same issue. I am also not sure what version to demote my google maps API version to in my build file, I have tried a bunch of numbers, and if I go too low sometimes I get errors in my MainActivity.java</p>\n"},{"tags":["java","selenium-webdriver","cucumber","winapp"],"owner":{"account_id":29663843,"reputation":1,"user_id":22734844,"display_name":"Dinesh Lavate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699262322,"creation_date":1697198707,"question_id":77287574,"body_markdown":"While automating a desktop application we have multiple popup windows. i have tried  all Winapp methods to switch the focus to that popup but unable to get the focus ,and unable to locate the elements which are available in that popup window \r\n\r\nis there a way to handle such type of popup window using Winapp driver \r\n","title":"How to handle popup window by using WinAppDriver?","body":"<p>While automating a desktop application we have multiple popup windows. i have tried  all Winapp methods to switch the focus to that popup but unable to get the focus ,and unable to locate the elements which are available in that popup window</p>\n<p>is there a way to handle such type of popup window using Winapp driver</p>\n"},{"tags":["java","testing","extentreports"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1697392628,"post_id":77297133,"comment_id":136271392,"body_markdown":"Very likely to be a path issue of where you templates are located.  Update your question with a tree structure of your project indicating where the templates are located.  Should probably be in `src/main/resources/...`","body":"Very likely to be a path issue of where you templates are located.  Update your question with a tree structure of your project indicating where the templates are located.  Should probably be in <code>src&#47;main&#47;resources&#47;...</code>"},{"owner":{"account_id":29673000,"reputation":1,"user_id":22741720,"display_name":"testuser25"},"score":0,"creation_date":1697440747,"post_id":77297133,"comment_id":136275382,"body_markdown":"There are no templates, in all the things I watch and read, no one I see uses any templates, at least in the beginning. and they can create html reports. They do not specify any path. Install dependencies, write 3 or 4 lines of code and voila, reporting. If what you mean is something different, could you please explain in detail? thanks for your comment. @AndrewL","body":"There are no templates, in all the things I watch and read, no one I see uses any templates, at least in the beginning. and they can create html reports. They do not specify any path. Install dependencies, write 3 or 4 lines of code and voila, reporting. If what you mean is something different, could you please explain in detail? thanks for your comment. @AndrewL"},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1697504003,"post_id":77297133,"comment_id":136285389,"body_markdown":"OK, I see now - this ExtentReports library must be using Freemarker, rather than your code directly.  You need to go back to those authors for help on how to configure their library.  I would have expected that they *bundle* the report templates in the Library, but since you are getting this error perhaps they do not bundle with the Jar to allow template customisation.","body":"OK, I see now - this ExtentReports library must be using Freemarker, rather than your code directly.  You need to go back to those authors for help on how to configure their library.  I would have expected that they <i>bundle</i> the report templates in the Library, but since you are getting this error perhaps they do not bundle with the Jar to allow template customisation."},{"owner":{"account_id":29673000,"reputation":1,"user_id":22741720,"display_name":"testuser25"},"score":0,"creation_date":1697526425,"post_id":77297133,"comment_id":136287364,"body_markdown":"Thank you for the answer. So what exactly do I need to do? Can you guide me? @AndrewL","body":"Thank you for the answer. So what exactly do I need to do? Can you guide me? @AndrewL"}],"owner":{"account_id":29673000,"reputation":1,"user_id":22741720,"display_name":"testuser25"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699262237,"creation_date":1697381016,"question_id":77297133,"body_markdown":"```\r\n\r\n\r\n\r\nSEVERE: Error executing FreeMarker template\r\nFreeMarker template error:\r\nTemplate inclusion failed (for parameter value &quot;partials/exceptıon.ftl&quot;):\r\nTemplate not found for name &quot;spark/partials/exceptıon.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\r\n----\r\nFTL stack trace (&quot;~&quot; means nesting-related):\r\n\t- Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\r\n\tat freemarker.core.Include.accept(Include.java:164)\r\n\tat freemarker.core.Environment.visit(Environment.java:371)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\r\n\tat freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\r\n\tat freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\r\n\tat freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\r\n\tat freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\r\n\tat freemarker.core.Environment.visit(Environment.java:335)\r\n\tat freemarker.core.Environment.visit(Environment.java:341)\r\n\tat freemarker.core.Environment.process(Environment.java:314)\r\n\tat freemarker.template.Template.process(Template.java:383)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\r\n\tat com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\r\n\tat com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\r\n\tat com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\r\n\tat com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\r\n\tat com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\r\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/exceptıon.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\tat freemarker.template.Configuration.getTemplate(Configuration.java:2957)\r\n\tat freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\r\n\tat freemarker.core.Include.accept(Include.java:162)\r\n\t... 24 more\r\n\r\nEki 14, 2023 10:57:24 &#214;S com.aventstack.extentreports.reporter.ExtentSparkReporter flush\r\nSEVERE: An exception occurred\r\nFreeMarker template error:\r\nTemplate inclusion failed (for parameter value &quot;partials/exceptıon.ftl&quot;):\r\nTemplate not found for name &quot;spark/partials/exceptıon.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\r\n----\r\nFTL stack trace (&quot;~&quot; means nesting-related):\r\n\t- Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\r\n----\r\n\r\nJava stack trace (for programmers):\r\n----\r\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\r\n\tat freemarker.core.Include.accept(Include.java:164)\r\n\tat freemarker.core.Environment.visit(Environment.java:371)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\r\n\tat freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\r\n\tat freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\r\n\tat freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\r\n\tat freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\r\n\tat freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\r\n\tat freemarker.core.Environment.visit(Environment.java:335)\r\n\tat freemarker.core.Environment.visit(Environment.java:341)\r\n\tat freemarker.core.Environment.process(Environment.java:314)\r\n\tat freemarker.template.Template.process(Template.java:383)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\r\n\tat com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\r\n\tat com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\r\n\tat com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\r\n\tat com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\r\n\tat com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\r\n\tat com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\r\n\tat com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\r\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/exceptıon.ftl&quot;.\r\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\r\n\tat freemarker.template.Configuration.getTemplate(Configuration.java:2957)\r\n\tat freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\r\n\tat freemarker.core.Include.accept(Include.java:162)\r\n\t... 24 more\r\n```\r\n\r\n```\r\n\r\n\r\n\r\n\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\npublic static void main(String[] args) {\r\n        ExtentReports extent = new ExtentReports();\r\n        ExtentSparkReporter spark = new ExtentSparkReporter(&quot;target/Spark.html&quot;);\r\n        extent.attachReporter(spark);\r\n        extent.createTest(&quot;MyFirstTest&quot;)\r\n                .log(Status.PASS, &quot;This is a logging event for MyFirstTest, and it passed!&quot;);\r\n        extent.flush();\r\n    }\r\n\r\n\r\n```\r\n\r\nI watched all the extentreport installation videos, but I did not see anyone with such a problem. The strange thing is that when I install a friend&#39;s smoothly running ExtentReport project on my own computer, I get the same error. So I think the problem is not project-related, but you can&#39;t tell. \r\n\r\n```\r\nI added extentreports adjustments to my project in different ways, both simple and complex, but the result did not change. I created new projects, but the result did not change. I deleted everything, Java, Intellij, Maven, and reinstalled it, but the result was the same. I watched the videos exactly from start to finish and still got the same result. I saw that no one is using the &quot;exception.ftl&quot; file, which was stated to be missing in the error I received.\r\n```\r\n\r\n Please help me.s","title":"ExtentReports - Java ExtentReports FreeMarker Template Error: freemarker.core._MiscTemplateException","body":"<pre><code>\n\n\nSEVERE: Error executing FreeMarker template\nFreeMarker template error:\nTemplate inclusion failed (for parameter value &quot;partials/exceptıon.ftl&quot;):\nTemplate not found for name &quot;spark/partials/exceptıon.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n\n----\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\n----\n\nJava stack trace (for programmers):\n----\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\n    at freemarker.core.Include.accept(Include.java:164)\n    at freemarker.core.Environment.visit(Environment.java:371)\n    at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\n    at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\n    at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\n    at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\n    at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\n    at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\n    at freemarker.core.Environment.visit(Environment.java:335)\n    at freemarker.core.Environment.visit(Environment.java:341)\n    at freemarker.core.Environment.process(Environment.java:314)\n    at freemarker.template.Template.process(Template.java:383)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\n    at com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\n    at io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\n    at io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\n    at com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\n    at com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\n    at com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\n    at com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/exceptıon.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n    at freemarker.template.Configuration.getTemplate(Configuration.java:2957)\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\n    at freemarker.core.Include.accept(Include.java:162)\n    ... 24 more\n\nEki 14, 2023 10:57:24 ÖS com.aventstack.extentreports.reporter.ExtentSparkReporter flush\nSEVERE: An exception occurred\nFreeMarker template error:\nTemplate inclusion failed (for parameter value &quot;partials/exceptıon.ftl&quot;):\nTemplate not found for name &quot;spark/partials/exceptıon.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n\n----\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: #include &quot;partials/${view.toString()}...  [in template &quot;spark/spark.spa.ftl&quot; at line 27, column 36]\n----\n\nJava stack trace (for programmers):\n----\nfreemarker.core._MiscTemplateException: [... Exception message was already printed; see it above ...]\n    at freemarker.core.Include.accept(Include.java:164)\n    at freemarker.core.Environment.visit(Environment.java:371)\n    at freemarker.core.IteratorBlock$IterationContext.executedNestedContentForCollOrSeqListing(IteratorBlock.java:321)\n    at freemarker.core.IteratorBlock$IterationContext.executeNestedContent(IteratorBlock.java:271)\n    at freemarker.core.IteratorBlock$IterationContext.accept(IteratorBlock.java:244)\n    at freemarker.core.Environment.visitIteratorBlock(Environment.java:645)\n    at freemarker.core.IteratorBlock.acceptWithResult(IteratorBlock.java:108)\n    at freemarker.core.IteratorBlock.accept(IteratorBlock.java:94)\n    at freemarker.core.Environment.visit(Environment.java:335)\n    at freemarker.core.Environment.visit(Environment.java:341)\n    at freemarker.core.Environment.process(Environment.java:314)\n    at freemarker.template.Template.process(Template.java:383)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.processTemplate(FreemarkerTemplate.java:52)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.getSource(FreemarkerTemplate.java:39)\n    at com.aventstack.extentreports.templating.FreemarkerTemplate.writeTemplate(FreemarkerTemplate.java:45)\n    at com.aventstack.extentreports.reporter.AbstractFileReporter.processTemplate(AbstractFileReporter.java:74)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter.flush(ExtentSparkReporter.java:149)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:121)\n    at com.aventstack.extentreports.reporter.ExtentSparkReporter$1.onNext(ExtentSparkReporter.java:113)\n    at io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\n    at io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\n    at com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\n    at com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:96)\n    at com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:279)\n    at com.hyr.extentreports.Deneme2.main(Deneme2.java:11)\nCaused by: freemarker.template.TemplateNotFoundException: Template not found for name &quot;spark/partials/exceptıon.ftl&quot;.\nThe name was interpreted by this TemplateLoader: ClassTemplateLoader(resourceLoaderClass=com.aventstack.extentreports.ExtentReports, basePackagePath=&quot;templates/&quot; /* relatively to resourceLoaderClass pkg */).\n    at freemarker.template.Configuration.getTemplate(Configuration.java:2957)\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:3062)\n    at freemarker.core.Include.accept(Include.java:162)\n    ... 24 more\n</code></pre>\n<pre><code>\n\n\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\npublic static void main(String[] args) {\n        ExtentReports extent = new ExtentReports();\n        ExtentSparkReporter spark = new ExtentSparkReporter(&quot;target/Spark.html&quot;);\n        extent.attachReporter(spark);\n        extent.createTest(&quot;MyFirstTest&quot;)\n                .log(Status.PASS, &quot;This is a logging event for MyFirstTest, and it passed!&quot;);\n        extent.flush();\n    }\n\n\n</code></pre>\n<p>I watched all the extentreport installation videos, but I did not see anyone with such a problem. The strange thing is that when I install a friend's smoothly running ExtentReport project on my own computer, I get the same error. So I think the problem is not project-related, but you can't tell.</p>\n<pre><code>I added extentreports adjustments to my project in different ways, both simple and complex, but the result did not change. I created new projects, but the result did not change. I deleted everything, Java, Intellij, Maven, and reinstalled it, but the result was the same. I watched the videos exactly from start to finish and still got the same result. I saw that no one is using the &quot;exception.ftl&quot; file, which was stated to be missing in the error I received.\n</code></pre>\n<p>Please help me.s</p>\n"},{"tags":["java","android","gettype"],"answers":[{"tags":[],"owner":{"account_id":152855,"reputation":13408,"user_id":367677,"accept_rate":73,"display_name":"Asahi"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1289140842,"creation_date":1289140842,"answer_id":4118190,"question_id":4118062,"body_markdown":"You can use tag for that purpose:see set/getTag methods at http://developer.android.com/reference/android/view/View.html","title":"Android get type of a view","body":"<p>You can use tag for that purpose:see set/getTag methods at <a href=\"http://developer.android.com/reference/android/view/View.html\" rel=\"noreferrer\">http://developer.android.com/reference/android/view/View.html</a></p>\n"},{"tags":[],"owner":{"account_id":60544,"reputation":88712,"user_id":180784,"accept_rate":95,"display_name":"Felix"},"down_vote_count":0,"up_vote_count":159,"is_accepted":true,"score":159,"last_activity_date":1289141015,"creation_date":1289141015,"answer_id":4118205,"question_id":4118062,"body_markdown":"If, for some strange reason, you can&#39;t use **Asahi**&#39;s suggestion (using tags), my proposition would be the following:\r\n\r\n    if (view instanceof ImageView) {\r\n        ImageView imageView = (ImageView) view;\r\n        // do what you want with imageView\r\n    }\r\n    else if (view instanceof TextView) {\r\n        TextView textView = (TextView) view;\r\n        // do what you want with textView\r\n    }\r\n    else if ...","title":"Android get type of a view","body":"<p>If, for some strange reason, you can't use <strong>Asahi</strong>'s suggestion (using tags), my proposition would be the following:</p>\n\n<pre><code>if (view instanceof ImageView) {\n    ImageView imageView = (ImageView) view;\n    // do what you want with imageView\n}\nelse if (view instanceof TextView) {\n    TextView textView = (TextView) view;\n    // do what you want with textView\n}\nelse if ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431802,"reputation":1495,"user_id":816109,"accept_rate":78,"display_name":"realjin"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1699261979,"creation_date":1309090038,"answer_id":6483782,"question_id":4118062,"body_markdown":"I tried the following and it worked:\r\n\r\n\r\n    View view = FLall.getChildAt(i);\r\n    Log.i(&quot;ViewName&quot;, view.getClass().getName());\r\n\r\nFor Kotlin, the equivalent code is\r\n\r\n    val view: View = FLall.getChildAt(i);\r\n    Log.i(&quot;ViewName&quot;, view.javaClass.name);","title":"Android get type of a view","body":"<p>I tried the following and it worked:</p>\n<pre><code>View view = FLall.getChildAt(i);\nLog.i(&quot;ViewName&quot;, view.getClass().getName());\n</code></pre>\n<p>For Kotlin, the equivalent code is</p>\n<pre><code>val view: View = FLall.getChildAt(i);\nLog.i(&quot;ViewName&quot;, view.javaClass.name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":172998,"reputation":3013,"user_id":401403,"accept_rate":91,"display_name":"Arash"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1395738501,"creation_date":1395738501,"answer_id":22629807,"question_id":4118062,"body_markdown":"For Others who check this Question,in some cases `instanceof` does not work(I do not know why!),for example if your want to check if view type is `ImageView` or `ImageButton`(i tested this situation) , it get them the same, so you scan use this way :\r\n\r\n\r\n    //v is your View\r\n\t\tif (v.getClass().getName().equalsIgnoreCase(&quot;android.widget.ImageView&quot;)) {\r\n\t\t\tLog.e(&quot;imgview&quot;, v.toString());\r\n\t\t\timgview = (ImageView) v;\r\n\t\t} else if (v.getClass().getName().equalsIgnoreCase(&quot;android.widget.ImageButton&quot;)) {\r\n\t\t\tLog.e(&quot;imgbtn&quot;, v.toString());\r\n\t\t\timgbtn = (ImageButton) v; \r\n        }","title":"Android get type of a view","body":"<p>For Others who check this Question,in some cases <code>instanceof</code> does not work(I do not know why!),for example if your want to check if view type is <code>ImageView</code> or <code>ImageButton</code>(i tested this situation) , it get them the same, so you scan use this way :</p>\n\n<pre><code>//v is your View\n    if (v.getClass().getName().equalsIgnoreCase(\"android.widget.ImageView\")) {\n        Log.e(\"imgview\", v.toString());\n        imgview = (ImageView) v;\n    } else if (v.getClass().getName().equalsIgnoreCase(\"android.widget.ImageButton\")) {\n        Log.e(\"imgbtn\", v.toString());\n        imgbtn = (ImageButton) v; \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17040381,"reputation":1,"user_id":12328427,"display_name":"Mic Ramos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590650959,"creation_date":1590650400,"answer_id":62059078,"question_id":4118062,"body_markdown":"I am using this solution for KOTLIN code, so going off of **Arash&#39;s** solution:\r\n\r\n    if(v.javaClass.name.equals(&quot;android.widget.ImageView&quot;, ignoreCase = true)) ...\r\n\r\nusing this didn&#39;t work for me, but tweaking it to:\r\n\r\n    if(v.javaClass.name.contains(&quot;ImageView&quot;, ignoreCase = true)) ...\r\n\r\nworked for me!","title":"Android get type of a view","body":"<p>I am using this solution for KOTLIN code, so going off of <strong>Arash's</strong> solution:</p>\n\n<pre><code>if(v.javaClass.name.equals(\"android.widget.ImageView\", ignoreCase = true)) ...\n</code></pre>\n\n<p>using this didn't work for me, but tweaking it to:</p>\n\n<pre><code>if(v.javaClass.name.contains(\"ImageView\", ignoreCase = true)) ...\n</code></pre>\n\n<p>worked for me!</p>\n"},{"tags":[],"owner":{"account_id":7162613,"reputation":291,"user_id":5472879,"display_name":"Tob237"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630062716,"creation_date":1630062716,"answer_id":68952439,"question_id":4118062,"body_markdown":"In Kotlin you can check this by using &quot;is&quot;:\r\n\r\n    val view = findViewById&lt;View&gt;(R.id.a_view)\r\n\r\n    if (view is ImageView) {\r\n        print(&quot;This is a ImageView&quot;)\r\n    } else {\r\n        print(&quot;This is not a ImageView&quot;)\r\n    }","title":"Android get type of a view","body":"<p>In Kotlin you can check this by using &quot;is&quot;:</p>\n<pre><code>val view = findViewById&lt;View&gt;(R.id.a_view)\n\nif (view is ImageView) {\n    print(&quot;This is a ImageView&quot;)\n} else {\n    print(&quot;This is not a ImageView&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6676835,"reputation":324,"user_id":5151198,"display_name":"Dilanka Fernando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642346446,"creation_date":1642346446,"answer_id":70731440,"question_id":4118062,"body_markdown":"In Android Xamarin, This is how Android get type of a view and compare with controller type.\r\n\r\n   \r\n\r\n    var view = FindViewById&lt;TextView&gt;(Resource.Id.emailText);\r\n    \r\n    if (typeof(TextView).IsInstanceOfType(view))\r\n    {\r\n        var textView = (TextView)view;\r\n    }","title":"Android get type of a view","body":"<p>In Android Xamarin, This is how Android get type of a view and compare with controller type.</p>\n<pre><code>var view = FindViewById&lt;TextView&gt;(Resource.Id.emailText);\n\nif (typeof(TextView).IsInstanceOfType(view))\n{\n    var textView = (TextView)view;\n}\n</code></pre>\n"}],"owner":{"account_id":216976,"reputation":13968,"user_id":472537,"accept_rate":84,"display_name":"lacas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62307,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":4118205,"answer_count":7,"score":67,"last_activity_date":1699261979,"creation_date":1289138881,"question_id":4118062,"body_markdown":"How can i do this?\r\n\r\nsomething:\r\n\r\n    final View view=FLall.getChildAt(i);\r\n    \r\n    if (view.getType()==ImageView) {\r\n    ...\r\n    }\r\n\r\n","title":"Android get type of a view","body":"<p>How can i do this?</p>\n\n<p>something:</p>\n\n<pre><code>final View view=FLall.getChildAt(i);\n\nif (view.getType()==ImageView) {\n...\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1511284918,"post_id":47418955,"comment_id":81792115,"body_markdown":"A `Task` basically assumes the FX Application Thread is already running anyway. For example, it is going to schedule changes to its `state` property on the FX Application thread when it is scheduled and starts running, etc. You probably need to write code (even in your unit tests) that ensures the platform is running before starting a task.","body":"A <code>Task</code> basically assumes the FX Application Thread is already running anyway. For example, it is going to schedule changes to its <code>state</code> property on the FX Application thread when it is scheduled and starts running, etc. You probably need to write code (even in your unit tests) that ensures the platform is running before starting a task."},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511285001,"post_id":47418955,"comment_id":81792163,"body_markdown":"I usually just call `task.call()` for testing purposes. This does not alter the state of the task and should be save to do even without a running platform. (If I do not call the methods mentioned above in the `call()` method.)","body":"I usually just call <code>task.call()</code> for testing purposes. This does not alter the state of the task and should be save to do even without a running platform. (If I do not call the methods mentioned above in the <code>call()</code> method.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1511285257,"post_id":47418955,"comment_id":81792330,"body_markdown":"OK, but the assumption is still made; especially if you are calling `updateXXX(...)` methods in `call(...)`. You&#39;re basically proposing modifying (or at least introducing guards) in your code solely to handle the test environment. If you want to test `Task.call()`, you need the FX platform running. If you want to test functionality that is invoked in the `call()` method, refactor that functionality into another class and unit test that class.","body":"OK, but the assumption is still made; especially if you are calling <code>updateXXX(...)</code> methods in <code>call(...)</code>. You&#39;re basically proposing modifying (or at least introducing guards) in your code solely to handle the test environment. If you want to test <code>Task.call()</code>, you need the FX platform running. If you want to test functionality that is invoked in the <code>call()</code> method, refactor that functionality into another class and unit test that class."},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511285535,"post_id":47418955,"comment_id":81792514,"body_markdown":"You are right. The reason why I did not do such refactorings so far is that I want to notify about progress (status messages, progress-done information). I would need some kind of ProgressMonitor (e.g. `org.eclipse.core.runtime.IProgressMonitor`) to propagate such information from my `Callable` to the `Task`. Unfortunately, such thing is difficult to implement when using `Task`, since here progress monitoring is done via protected methods instead of a separate progress monitor object.","body":"You are right. The reason why I did not do such refactorings so far is that I want to notify about progress (status messages, progress-done information). I would need some kind of ProgressMonitor (e.g. <code>org.eclipse.core.runtime.IProgressMonitor</code>) to propagate such information from my <code>Callable</code> to the <code>Task</code>. Unfortunately, such thing is difficult to implement when using <code>Task</code>, since here progress monitoring is done via protected methods instead of a separate progress monitor object."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1511285718,"post_id":47418955,"comment_id":81792626,"body_markdown":"If I need to monitor progress in an external (JavaFX-agnostic) class implementing some process, I usually just define a `DoubleConsumer progressUpdate;` field in that class. Then if I use it from a `Task`, all I need is `myProcess.setProgressUpdate(p -&gt; updateProgress(p, 1.0));`","body":"If I need to monitor progress in an external (JavaFX-agnostic) class implementing some process, I usually just define a <code>DoubleConsumer progressUpdate;</code> field in that class. Then if I use it from a <code>Task</code>, all I need is <code>myProcess.setProgressUpdate(p -&gt; updateProgress(p, 1.0));</code>"},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511285758,"post_id":47418955,"comment_id":81792652,"body_markdown":"Could you give an example?","body":"Could you give an example?"},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511286619,"post_id":47418955,"comment_id":81793174,"body_markdown":"I tried it using a StringConsumer for updating the progress message. I will refactor further to use a DoubleConsumer for the progress. Very nice solution, thanks a lot! You can make an answer from your comment, I will upvote.","body":"I tried it using a StringConsumer for updating the progress message. I will refactor further to use a DoubleConsumer for the progress. Very nice solution, thanks a lot! You can make an answer from your comment, I will upvote."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1511286971,"post_id":47418955,"comment_id":81793390,"body_markdown":"Probably you should rewrite the question so that it is about refactoring a task so that the process you are wrapping is not dependent on JavaFX (which I think is what you&#39;re really asking).","body":"Probably you should rewrite the question so that it is about refactoring a task so that the process you are wrapping is not dependent on JavaFX (which I think is what you&#39;re really asking)."},{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1511288090,"post_id":47418955,"comment_id":81794058,"body_markdown":"I think this question here is still valid, so I opened a new one about the task refactoring https://stackoverflow.com/questions/47419949/propagate-progress-information-from-callable-to-task","body":"I think this question here is still valid, so I opened a new one about the task refactoring <a href=\"https://stackoverflow.com/questions/47419949/propagate-progress-information-from-callable-to-task\" title=\"propagate progress information from callable to task\">stackoverflow.com/questions/47419949/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261780,"creation_date":1699261780,"answer_id":77429929,"question_id":47418955,"body_markdown":"**Preface:** \r\n\r\nToo late for the party, but this library of mine eliminates exactly this issued.\r\n\r\nhttps://github.com/davidweber411/SimpleJavaFxApplicationBase\r\n\r\nFor more information, like documentation, check out the homepage https://wedasoft.com/projects/simple-java-fx-application-base/.\r\n\r\n**Solution:**\r\n\r\nTake a look at the class `SimpleJavaXTestBase`.\r\n\r\nhttps://github.com/davidweber411/SimpleJavaFxApplicationBase/blob/master/src/main/java/com/wedasoft/simpleJavaFxApplicationBase/testBase/SimpleJavaFxTestBase.java\r\n\r\nEither use my library from Maven Central or copy the needed classes into your needed project:\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\r\n        &lt;artifactId&gt;simplejavafxapplicationbase&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nGradle:\r\n\r\n    implementation(&quot;com.wedasoft:simplejavafxapplicationbase:1.7.0&quot;)\r\n\r\n**Documentation:**\r\n\r\nhttps://wedasoft.com/projects/simple-java-fx-application-base/sjfxab-version-1-7-0/#testing-suite","title":"Check if JavaFX Platform is running","body":"<p><strong>Preface:</strong></p>\n<p>Too late for the party, but this library of mine eliminates exactly this issued.</p>\n<p><a href=\"https://github.com/davidweber411/SimpleJavaFxApplicationBase\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/SimpleJavaFxApplicationBase</a></p>\n<p>For more information, like documentation, check out the homepage <a href=\"https://wedasoft.com/projects/simple-java-fx-application-base/\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/simple-java-fx-application-base/</a>.</p>\n<p><strong>Solution:</strong></p>\n<p>Take a look at the class <code>SimpleJavaXTestBase</code>.</p>\n<p><a href=\"https://github.com/davidweber411/SimpleJavaFxApplicationBase/blob/master/src/main/java/com/wedasoft/simpleJavaFxApplicationBase/testBase/SimpleJavaFxTestBase.java\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/SimpleJavaFxApplicationBase/blob/master/src/main/java/com/wedasoft/simpleJavaFxApplicationBase/testBase/SimpleJavaFxTestBase.java</a></p>\n<p>Either use my library from Maven Central or copy the needed classes into your needed project:</p>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.wedasoft&lt;/groupId&gt;\n    &lt;artifactId&gt;simplejavafxapplicationbase&lt;/artifactId&gt;\n    &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Gradle:</p>\n<pre><code>implementation(&quot;com.wedasoft:simplejavafxapplicationbase:1.7.0&quot;)\n</code></pre>\n<p><strong>Documentation:</strong></p>\n<p><a href=\"https://wedasoft.com/projects/simple-java-fx-application-base/sjfxab-version-1-7-0/#testing-suite\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/simple-java-fx-application-base/sjfxab-version-1-7-0/#testing-suite</a></p>\n"}],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1455,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1699261780,"creation_date":1511284658,"question_id":47418955,"body_markdown":"There is no method such as `javafx.application.Platform.isRunning()`.\r\n\r\nCan I check somehow else if the platform has been started?\r\n\r\nI would like to modify my `javafx.util.concurrent.Task` classes to call `updateMessage()`, etc. only if the Platform is actually running.\r\n\r\nThat would be useful in a test setup.\r\n\r\nIf I test, I run into `java.lang.IllegalStateException: Toolkit not initialized`\r\n\r\nI think this could be easily avoided by something like\r\n\r\n    if(Platform.isRunning()){\r\n        updateMessage(&quot;Doing work&quot;);\r\n    }\r\n\r\n","title":"Check if JavaFX Platform is running","body":"<p>There is no method such as <code>javafx.application.Platform.isRunning()</code>.</p>\n\n<p>Can I check somehow else if the platform has been started?</p>\n\n<p>I would like to modify my <code>javafx.util.concurrent.Task</code> classes to call <code>updateMessage()</code>, etc. only if the Platform is actually running.</p>\n\n<p>That would be useful in a test setup.</p>\n\n<p>If I test, I run into <code>java.lang.IllegalStateException: Toolkit not initialized</code></p>\n\n<p>I think this could be easily avoided by something like</p>\n\n<pre><code>if(Platform.isRunning()){\n    updateMessage(\"Doing work\");\n}\n</code></pre>\n"},{"tags":["java","swing","jtree","treenode","treecellrenderer"],"answers":[{"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1509293080,"creation_date":1387490053,"answer_id":20692430,"question_id":20691946,"body_markdown":"You can change default UI values for icons of `JTree` nodes without any custom renderer:\r\n\r\n    URL resource = logaff.class.getResource(IMAGE);\r\n\tIcon icon = new ImageIcon(resource);\r\n\t\t\r\n\tUIManager.put(&quot;Tree.closedIcon&quot;, icon);\r\n\tUIManager.put(&quot;Tree.openIcon&quot;, icon);\r\n\tUIManager.put(&quot;Tree.leafIcon&quot;, icon);\r\n\r\nor use something like next:  \r\n\r\n    @Override\r\n    public Component getTreeCellRendererComponent(JTree tree,\r\n    \tObject value, boolean selected, boolean expanded,\r\n   \t\tboolean leaf, int row, boolean hasFocus) {\r\n    \t\tsuper.getTreeCellRendererComponent(tree, value, selected,expanded, leaf, row, hasFocus);\r\n    \t\tDefaultMutableTreeNode nodo = (DefaultMutableTreeNode) value;\r\n    \t\tif (tree.getModel().getRoot().equals(nodo)) {\r\n    \t\t\tsetIcon(root);\r\n    \t\t} else if (nodo.getChildCount() &gt; 0) {\r\n    \t\t\tsetIcon(parent);\r\n    \t\t} else {\r\n    \t\t\tsetIcon(leaf);\r\n    \t\t}\r\n    \t\treturn this;\r\n    }\r\n\r\nAlso read about [rendering mechanism][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13672980/difficulties-understanding-the-renderers-mechanism-of-swings-jtable-and-jtree","title":"Set icon to each node in Jtree","body":"<p>You can change default UI values for icons of <code>JTree</code> nodes without any custom renderer:</p>\n\n<pre><code>URL resource = logaff.class.getResource(IMAGE);\nIcon icon = new ImageIcon(resource);\n\nUIManager.put(\"Tree.closedIcon\", icon);\nUIManager.put(\"Tree.openIcon\", icon);\nUIManager.put(\"Tree.leafIcon\", icon);\n</code></pre>\n\n<p>or use something like next:  </p>\n\n<pre><code>@Override\npublic Component getTreeCellRendererComponent(JTree tree,\n    Object value, boolean selected, boolean expanded,\n    boolean leaf, int row, boolean hasFocus) {\n        super.getTreeCellRendererComponent(tree, value, selected,expanded, leaf, row, hasFocus);\n        DefaultMutableTreeNode nodo = (DefaultMutableTreeNode) value;\n        if (tree.getModel().getRoot().equals(nodo)) {\n            setIcon(root);\n        } else if (nodo.getChildCount() &gt; 0) {\n            setIcon(parent);\n        } else {\n            setIcon(leaf);\n        }\n        return this;\n}\n</code></pre>\n\n<p>Also read about <a href=\"https://stackoverflow.com/questions/13672980/difficulties-understanding-the-renderers-mechanism-of-swings-jtable-and-jtree\">rendering mechanism</a>.</p>\n"},{"tags":[],"owner":{"account_id":3129007,"reputation":1821,"user_id":2647294,"accept_rate":86,"display_name":"mesutpiskin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1487101741,"creation_date":1487101741,"answer_id":42234955,"question_id":20691946,"body_markdown":"You can use it, a shorter way. &quot;tree&quot; is my JTree component.\r\n\r\n    DefaultTreeCellRenderer renderer = (DefaultTreeCellRenderer) tree.getCellRenderer();\r\n    Icon closedIcon = new ImageIcon(&quot;closed.png&quot;);\r\n    Icon openIcon = new ImageIcon(&quot;open.png&quot;);\r\n    Icon leafIcon = new ImageIcon(&quot;leaf.png&quot;);\r\n    renderer.setClosedIcon(closedIcon);\r\n    renderer.setOpenIcon(openIcon);\r\n    renderer.setLeafIcon(leafIcon);    \r\n\r\n        \r\n\r\n","title":"Set icon to each node in Jtree","body":"<p>You can use it, a shorter way. \"tree\" is my JTree component.</p>\n\n<pre><code>DefaultTreeCellRenderer renderer = (DefaultTreeCellRenderer) tree.getCellRenderer();\nIcon closedIcon = new ImageIcon(\"closed.png\");\nIcon openIcon = new ImageIcon(\"open.png\");\nIcon leafIcon = new ImageIcon(\"leaf.png\");\nrenderer.setClosedIcon(closedIcon);\nrenderer.setOpenIcon(openIcon);\nrenderer.setLeafIcon(leafIcon);    \n</code></pre>\n"}],"owner":{"account_id":3743697,"reputation":310,"user_id":3112896,"accept_rate":89,"display_name":"Vlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28755,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":20692430,"answer_count":2,"score":14,"last_activity_date":1699261711,"creation_date":1387488170,"question_id":20691946,"body_markdown":"I want to set a different icon for each node in my JTree component. I&#39;m loading each node from a database using a `while` loop. I set each icon like a root, leaf, or parent. I set them as follows:\r\n\r\nAll my declarations are global:\r\n\r\n    private ResultSet myResultSet;\r\n    protected DefaultTreeModel treeModel;\r\n    private DefaultMutableTreeNode rootNode,childNode,parent1,parent2;\r\n\r\nThis is how I set my nodes:\r\n\r\n    myResultSet=rtnNodes(); /*Method that returns a RS with my nodes*/\r\n    while(myResultSet.next()){\r\n      switch(myResultSet.getInt(1)){  /*The first column is the type of node: root, parent, leaf...*/\r\n        case 0: treeModel = new DefaultTreeModel((rootNode=new DefaultMutableTreeNode(myResultSet.getString(2)))); break;  /*root node*/\r\n        case 1: case 4: parent1 = parent2 = makeNode(rootNode); break;  /*parent node*/\r\n        case 2: makeNode(parent2); break;  /*leaf node*/\r\n        case 3: parent2 = makeNode(parent1); break;  /*sub patern node*/\r\n      } /*makeNode is the method where I create the nodes*/\r\n    }\r\n\r\nThe `makeNode` method is this:\r\n\r\n    public DefaultMutableTreeNode makeNode(DefaultMutableTreeNode parent){\r\n      //The second column in the RS is the name of the node\r\n      treeModel.insertNodeInto((childNode=new DefaultMutableTreeNode(myResultSet.getString(2))),parent,parent.getChildCount());\r\n      return childNode;\r\n    }\r\n\r\nAfter filling the `treemodel` with my nodes, I set the model to my JTree:\r\n\r\n    myJTree.setModel(treeModel);\r\n    myJTree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);\r\n\r\nBut the problem comes when I try to set the icons. I create a subclass called MyTreeRenderer, and I use this:\r\n\r\n    myJTree.setCellRenderer(new MyTreeRenderer());\r\n\r\nBut it doesn&#39;t set the icons as I want, the subclass is:\r\n\r\n    private ImageIcon root,parent,leaf;\r\n    \r\n    public MyTreeRenderer() {\r\n       root=setIcons(2);  /*setIcons is a method that I dont publish in this post, that helps me to set the path of the icons*/\r\n       parent=setIcons(3);\r\n       leaf=setIcons(4);\r\n    }\r\n    \r\n    @Override\r\n    public Component getTreeCellRendererComponent(JTree tree,Object value,boolean selected,boolean expanded,boolean leaf,int row,boolean hasFocus){               \r\n       super.getTreeCellRendererComponent(tree,value,selected,expanded,leaf,row,hasFocus);\r\n       DefaultMutableTreeNode nodo = (DefaultMutableTreeNode)value;\r\n       TreeNode t = nodo.getParent();\r\n       if(t!=null){\r\n          setIcon(root);\r\n       }\r\n       return this;\r\n    }\r\n\r\nHow can I set the icon for each node without using his name? The code of the subclass, as is, set all the nodes with the same icon, and each time I select a node in the jtree, the `getTreeCellRendererComponent` runs, I don&#180;t want this.","title":"Set icon to each node in Jtree","body":"<p>I want to set a different icon for each node in my JTree component. I'm loading each node from a database using a <code>while</code> loop. I set each icon like a root, leaf, or parent. I set them as follows:</p>\n<p>All my declarations are global:</p>\n<pre><code>private ResultSet myResultSet;\nprotected DefaultTreeModel treeModel;\nprivate DefaultMutableTreeNode rootNode,childNode,parent1,parent2;\n</code></pre>\n<p>This is how I set my nodes:</p>\n<pre><code>myResultSet=rtnNodes(); /*Method that returns a RS with my nodes*/\nwhile(myResultSet.next()){\n  switch(myResultSet.getInt(1)){  /*The first column is the type of node: root, parent, leaf...*/\n    case 0: treeModel = new DefaultTreeModel((rootNode=new DefaultMutableTreeNode(myResultSet.getString(2)))); break;  /*root node*/\n    case 1: case 4: parent1 = parent2 = makeNode(rootNode); break;  /*parent node*/\n    case 2: makeNode(parent2); break;  /*leaf node*/\n    case 3: parent2 = makeNode(parent1); break;  /*sub patern node*/\n  } /*makeNode is the method where I create the nodes*/\n}\n</code></pre>\n<p>The <code>makeNode</code> method is this:</p>\n<pre><code>public DefaultMutableTreeNode makeNode(DefaultMutableTreeNode parent){\n  //The second column in the RS is the name of the node\n  treeModel.insertNodeInto((childNode=new DefaultMutableTreeNode(myResultSet.getString(2))),parent,parent.getChildCount());\n  return childNode;\n}\n</code></pre>\n<p>After filling the <code>treemodel</code> with my nodes, I set the model to my JTree:</p>\n<pre><code>myJTree.setModel(treeModel);\nmyJTree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);\n</code></pre>\n<p>But the problem comes when I try to set the icons. I create a subclass called MyTreeRenderer, and I use this:</p>\n<pre><code>myJTree.setCellRenderer(new MyTreeRenderer());\n</code></pre>\n<p>But it doesn't set the icons as I want, the subclass is:</p>\n<pre><code>private ImageIcon root,parent,leaf;\n\npublic MyTreeRenderer() {\n   root=setIcons(2);  /*setIcons is a method that I dont publish in this post, that helps me to set the path of the icons*/\n   parent=setIcons(3);\n   leaf=setIcons(4);\n}\n\n@Override\npublic Component getTreeCellRendererComponent(JTree tree,Object value,boolean selected,boolean expanded,boolean leaf,int row,boolean hasFocus){               \n   super.getTreeCellRendererComponent(tree,value,selected,expanded,leaf,row,hasFocus);\n   DefaultMutableTreeNode nodo = (DefaultMutableTreeNode)value;\n   TreeNode t = nodo.getParent();\n   if(t!=null){\n      setIcon(root);\n   }\n   return this;\n}\n</code></pre>\n<p>How can I set the icon for each node without using his name? The code of the subclass, as is, set all the nodes with the same icon, and each time I select a node in the jtree, the <code>getTreeCellRendererComponent</code> runs, I don´t want this.</p>\n"},{"tags":["java","testing","junit","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1639768015,"post_id":70394658,"comment_id":124441587,"body_markdown":"Mockito 1.10.19 is ancient - it comes from Dec 31, 2014.\nCan you try running with 4.x or 3.x?","body":"Mockito 1.10.19 is ancient - it comes from Dec 31, 2014. Can you try running with 4.x or 3.x?"},{"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"score":0,"creation_date":1639817299,"post_id":70394658,"comment_id":124449252,"body_markdown":"Perfect, tried 4.x at least now it compiles and gives me the green bar. Thanks","body":"Perfect, tried 4.x at least now it compiles and gives me the green bar. Thanks"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1639839131,"post_id":70394658,"comment_id":124453282,"body_markdown":"On StackOverflow it is perfectly ok to answer your own question, but please do it in answers section, instead of editing the question.","body":"On StackOverflow it is perfectly ok to answer your own question, but please do it in answers section, instead of editing the question."}],"answers":[{"tags":[],"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1639908840,"creation_date":1639908840,"answer_id":70410510,"question_id":70394658,"body_markdown":"**Solved**\r\n\r\nFor the guys facing my problem, the solution is to use only this maven dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.2.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Mockito ExceptionInInitializer error with simple DAO","body":"<p><strong>Solved</strong></p>\n<p>For the guys facing my problem, the solution is to use only this maven dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18817211,"reputation":37,"user_id":13724035,"display_name":"Md Shah Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261657,"creation_date":1699261657,"answer_id":77429915,"question_id":70394658,"body_markdown":"Issue in Android Studio after JDK migration\r\n\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n\tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n\r\n\r\n\r\nI also face this issue in Android Studio after Migrating Java JDK 17, Just \r\nAdd below line inside app&gt;build.gradle\r\n\r\n    tasks.withType(Test) {\r\n        jvmArgs(&#39;--add-opens=java.base/java.lang=ALL-UNNAMED&#39;)\r\n    }\r\n\r\n\r\nGradle Reference \r\n[https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests][1]\r\n\r\n\r\n  [1]: https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests","title":"Mockito ExceptionInInitializer error with simple DAO","body":"<p>Issue in Android Studio after JDK migration</p>\n<p>java.lang.ExceptionInInitializerError\nat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\nat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\nat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\nat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)</p>\n<p>I also face this issue in Android Studio after Migrating Java JDK 17, Just\nAdd below line inside app&gt;build.gradle</p>\n<pre><code>tasks.withType(Test) {\n    jvmArgs('--add-opens=java.base/java.lang=ALL-UNNAMED')\n}\n</code></pre>\n<p>Gradle Reference\n<a href=\"https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\" rel=\"nofollow noreferrer\">https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests</a></p>\n"}],"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699261657,"creation_date":1639751265,"question_id":70394658,"body_markdown":"I&#39;m starting to use Mockito with Junit 4.12, Java EE, i need to test this service method in a CQRS program, i want to Mock the UserDAO (We are dealing with users) and then assert some properties.\r\n\r\nThis is what i made so far:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class UserCommandServiceTest {\r\n    \r\n    \t@InjectMocks\r\n    \tprivate UserCommandService userCommandService;\r\n    \r\n    \t@Mock\r\n    \tprivate UserDAO userDAO;\r\n    \r\n    \t@Before\r\n    \tpublic void init() {\r\n    \r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testCreation() throws Exception {\r\n    \t\tUser test = new User();\r\n    \t\ttest.setUsername(&quot;test_username&quot;);\r\n    \t\tMockito.when(userDAO.findById(Mockito.anyInt())).thenReturn(test);\r\n    \t\tassertEquals(0, 0);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThe problem is not the test itself (as you can see there is an AssertEquals(0,0)), it is the fact that it just not run, it gives me `ExceptionInInitializer` when i mock the DAO, I don&#39;t know if it useful to post the DAO code, but it is just a simple CRUD class with JPA annotations.\r\n\r\nHere i post the full trace:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n    \tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n    \tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n    \tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\r\n    \tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\r\n    \tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\r\n    \tat org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\r\n    \tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\r\n    \tat org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\r\n    \tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1285)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\r\n    \tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\r\n    \tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\r\n    \tat org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @224edc67\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\r\n    \tat org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\r\n    \t... 40 more\r\n\r\nI&#39;m working with mockito 1.10.19.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Mockito ExceptionInInitializer error with simple DAO","body":"<p>I'm starting to use Mockito with Junit 4.12, Java EE, i need to test this service method in a CQRS program, i want to Mock the UserDAO (We are dealing with users) and then assert some properties.</p>\n<p>This is what i made so far:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class UserCommandServiceTest {\n\n    @InjectMocks\n    private UserCommandService userCommandService;\n\n    @Mock\n    private UserDAO userDAO;\n\n    @Before\n    public void init() {\n\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testCreation() throws Exception {\n        User test = new User();\n        test.setUsername(&quot;test_username&quot;);\n        Mockito.when(userDAO.findById(Mockito.anyInt())).thenReturn(test);\n        assertEquals(0, 0);\n\n    }\n\n}\n</code></pre>\n<p>The problem is not the test itself (as you can see there is an AssertEquals(0,0)), it is the fact that it just not run, it gives me <code>ExceptionInInitializer</code> when i mock the DAO, I don't know if it useful to post the DAO code, but it is just a simple CRUD class with JPA annotations.</p>\n<p>Here i post the full trace:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\n    at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\n    at org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\n    at org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\n    at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1285)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\n    at org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @224edc67\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\n    at org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\n    ... 40 more\n</code></pre>\n<p>I'm working with mockito 1.10.19.</p>\n"},{"tags":["java","android","kotlin","nfc","ndef"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261607,"creation_date":1699135382,"answer_id":77423974,"question_id":77422040,"body_markdown":"Don&#39;t use Ndef Text record format as this adds the language encoding to the record.\r\n\r\nUse a MimeType record instead with [createMime][1]\r\n\r\ne.g.\r\n\r\n```\r\n// Create Record\r\nval textRecord1 = NdefRecord.createMime(\r\n                &quot;text/plain&quot; // a standard mimeType\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;.toByteArray()\r\n            )\r\n\r\n// Get String\r\nval payloadString = inNdefRecords[0].payload.toString()\r\n\r\n```\r\n\r\nYou can use a standard Mime Type like `text/plain` or custom one like `yourapp/text`\r\n\r\nThought you should probably do some checking of the payload.\r\n\r\ne.g. check the that `getTnf()` is `NdefRecord.TNF_MIME_MEDIA`\r\n\r\nand\r\n\r\n`inNdefRecords[0].toMimeType()` is the mime type you chose to use\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/nfc/NdefRecord#createMime(java.lang.String,%20byte[])","title":"Write NDEF RECORDS to NDEF TAG KOTLIN","body":"<p>Don't use Ndef Text record format as this adds the language encoding to the record.</p>\n<p>Use a MimeType record instead with <a href=\"https://developer.android.com/reference/android/nfc/NdefRecord#createMime(java.lang.String,%20byte%5B%5D)\" rel=\"nofollow noreferrer\">createMime</a></p>\n<p>e.g.</p>\n<pre><code>// Create Record\nval textRecord1 = NdefRecord.createMime(\n                &quot;text/plain&quot; // a standard mimeType\n                &quot;00000111111222222333333444444555555AABBEF&quot;.toByteArray()\n            )\n\n// Get String\nval payloadString = inNdefRecords[0].payload.toString()\n\n</code></pre>\n<p>You can use a standard Mime Type like <code>text/plain</code> or custom one like <code>yourapp/text</code></p>\n<p>Thought you should probably do some checking of the payload.</p>\n<p>e.g. check the that <code>getTnf()</code> is <code>NdefRecord.TNF_MIME_MEDIA</code></p>\n<p>and</p>\n<p><code>inNdefRecords[0].toMimeType()</code> is the mime type you chose to use</p>\n"}],"owner":{"account_id":27598972,"reputation":1,"user_id":21064602,"display_name":"Tural Sufan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699261607,"creation_date":1699101868,"question_id":77422040,"body_markdown":"I should prepare an demo application, which should read Ndef records and overrite them to card.\r\nI have 3 main functions: readNdef, writeNdef and readTag. readNdef and readTag are working properly. But when I try write new Ndef Records its not working properly. \r\nIt write Records but change them something.I use `NdefRecord.createTextRecord` method. This method do some converting. I want to write tokens without any changes.\r\n\r\n```\r\nprivate fun readNdef(tag: Tag?) {\r\n        val ndef = Ndef.get(tag)\r\n        try {\r\n            ndef.connect()\r\n            val inNdef = ndef.ndefMessage\r\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdef.toString())\r\n            val inNdefRecords = ndef.ndefMessage.records\r\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdefRecords.toString())\r\n            // convert the payload to string and drop 3 characters to get\r\n            // rid of the &quot; en&quot; prefix\r\n            val payload = inNdefRecords[0].payload\r\n            Log.d(&quot;fdsfsdfsdf&quot;, payload.toString())\r\n\r\n            // figure out if we need to take out the &quot; en&quot; at the beginning\r\n            val textEncoding = if (payload[0] and 128.toByte() == 0.toByte()) &quot;UTF-8&quot; else &quot;UTF-16&quot;\r\n            val langCodeLength = payload[0] and 63.toByte()\r\n\r\n            // create a string starting by skipping the first 3 characters\r\n            // based on the language code length\r\n            var inMessage = String(\r\n                payload,\r\n                langCodeLength + 1,\r\n                payload.count() - langCodeLength - 1,\r\n                charset(textEncoding)\r\n            )\r\n\r\n            // try to convert the message to json\r\n            try {\r\n                val json = inMessage\r\n                Log.d(&quot;fdsfsdfsdf&quot;, json)\r\n                //val json = JsonParser().parse(inMessage)\r\n\r\n                // ... use json or whatever here\r\n            } catch (error: Exception) {\r\n                Log.d(\r\n                    &quot;fdsfsdfsdf&quot;,\r\n                    &quot;NFC tag data seems to invalid:\\n\\n$inMessage\\n\\n${error.localizedMessage}&quot;\r\n                )\r\n            }\r\n\r\n            // ... do whatever\r\n        } catch (error: Exception) {\r\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error attempting to pull tag info: ${error.localizedMessage}&quot;)\r\n        } finally {\r\n            ndef.close()\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nfun readTag(tag: Tag?) {\r\n        Coroutines.default(this@MainViewModel) {\r\n            readNdef(tag)\r\n            Log.d(TAG, &quot;readTag(${tag} ${tag?.techList})&quot;)\r\n            postNFCStatus(NFCStatus.Process)\r\n            val stringBuilder: StringBuilder = StringBuilder()\r\n            val id: ByteArray? = tag?.id\r\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;$id&quot;)\r\n            stringBuilder.append(&quot;Tag ID (hex): ${bytesToHex(id!!)} \\n&quot;)\r\n            stringBuilder.append(&quot;Tag ID (dec): ${getDec(id)} \\n&quot;)\r\n            stringBuilder.append(&quot;Tag ID (reversed): ${getReversed(id)} \\n&quot;)\r\n            stringBuilder.append(&quot;Technologies: &quot;)\r\n            tag.techList.forEach { tech -&gt;\r\n                stringBuilder.append(tech.substring(prefix.length))\r\n                stringBuilder.append(&quot;, &quot;)\r\n            }\r\n            stringBuilder.delete(stringBuilder.length - 2, stringBuilder.length)\r\n            tag.techList.forEach { tech -&gt;\r\n                if (tech.equals(MifareClassic::class.java.name)) {\r\n                    stringBuilder.append(&#39;\\n&#39;)\r\n                    val mifareTag: MifareClassic = MifareClassic.get(tag)\r\n                    val type: String\r\n                    if (mifareTag.type == MifareClassic.TYPE_CLASSIC) type = &quot;Classic&quot;\r\n                    else if (mifareTag.type == MifareClassic.TYPE_PLUS) type = &quot;Plus&quot;\r\n                    else if (mifareTag.type == MifareClassic.TYPE_PRO) type = &quot;Pro&quot;\r\n                    else type = &quot;Unknown&quot;\r\n                    stringBuilder.append(&quot;Mifare Classic type: $type \\n&quot;)\r\n                    stringBuilder.append(&quot;Mifare size: ${mifareTag.size} bytes \\n&quot;)\r\n                    stringBuilder.append(&quot;Mifare sectors: ${mifareTag.sectorCount} \\n&quot;)\r\n                    stringBuilder.append(&quot;Mifare blocks: ${mifareTag.blockCount}&quot;)\r\n                }\r\n                if (tech.equals(MifareUltralight::class.java.name)) {\r\n                    stringBuilder.append(&#39;\\n&#39;);\r\n                    val mifareUlTag: MifareUltralight = MifareUltralight.get(tag);\r\n                    val type: String\r\n                    if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT) type =\r\n                        &quot;Ultralight&quot;\r\n                    else if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT_C) type =\r\n                        &quot;Ultralight C&quot;\r\n                    else type = &quot;Unkown&quot;\r\n                    stringBuilder.append(&quot;Mifare Ultralight type: &quot;);\r\n                    stringBuilder.append(type)\r\n                }\r\n            }\r\n            Log.d(TAG, &quot;Datum: $stringBuilder&quot;)\r\n            Log.d(ContentValues.TAG, &quot;dumpTagData Return \\n $stringBuilder&quot;)\r\n            postNFCStatus(NFCStatus.Read)\r\n            liveTag.emit(&quot;${getDateTimeNow()} \\n $stringBuilder&quot;)\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nfun writeNdef(tag: Tag?, context: Context) {\r\n        val ndef = Ndef.get(tag)\r\n        try {\r\n            ndef.connect()\r\n            val textRecord1 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                      //  context.getString(R.string.ndef_rcrd1) // text to send\r\n            )\r\n            val textRecord2 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                      //  context.getString(R.string.ndef_rcrd2) // text to send\r\n            )\r\n            val textRecord3 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                       // context.getString(R.string.ndef_rcrd3) // text to send\r\n            )\r\n            val textRecord4 = NdefRecord.createTextRecord(\r\n                &quot;en&quot;,  // language code (ISO 639-1)\r\n                &quot;00000111111222222333333444444555555AABBEF&quot;\r\n                        //context.getString(R.string.ndef_rcrd4) // text to send\r\n            )\r\n            val ndefMessage = NdefMessage(textRecord1, textRecord2, textRecord3, textRecord4)\r\n            ndef.writeNdefMessage(ndefMessage)\r\n            Coroutines.default(this@MainViewModel){\r\n                postNFCStatus(NFCStatus.Write)\r\n            }\r\n            Log.d(&quot;fdsfsdfsdf&quot;,&quot;Edited: ${ndef.ndefMessage}&quot;)\r\n        } catch (e: Exception) {\r\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error write: ${e.localizedMessage}&quot;)\r\n        } finally {\r\n            ndef.close()\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI want to write new REcords without any converting.","title":"Write NDEF RECORDS to NDEF TAG KOTLIN","body":"<p>I should prepare an demo application, which should read Ndef records and overrite them to card.\nI have 3 main functions: readNdef, writeNdef and readTag. readNdef and readTag are working properly. But when I try write new Ndef Records its not working properly.\nIt write Records but change them something.I use <code>NdefRecord.createTextRecord</code> method. This method do some converting. I want to write tokens without any changes.</p>\n<pre><code>private fun readNdef(tag: Tag?) {\n        val ndef = Ndef.get(tag)\n        try {\n            ndef.connect()\n            val inNdef = ndef.ndefMessage\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdef.toString())\n            val inNdefRecords = ndef.ndefMessage.records\n            Log.d(&quot;fdsfsdfsdf&quot;, inNdefRecords.toString())\n            // convert the payload to string and drop 3 characters to get\n            // rid of the &quot; en&quot; prefix\n            val payload = inNdefRecords[0].payload\n            Log.d(&quot;fdsfsdfsdf&quot;, payload.toString())\n\n            // figure out if we need to take out the &quot; en&quot; at the beginning\n            val textEncoding = if (payload[0] and 128.toByte() == 0.toByte()) &quot;UTF-8&quot; else &quot;UTF-16&quot;\n            val langCodeLength = payload[0] and 63.toByte()\n\n            // create a string starting by skipping the first 3 characters\n            // based on the language code length\n            var inMessage = String(\n                payload,\n                langCodeLength + 1,\n                payload.count() - langCodeLength - 1,\n                charset(textEncoding)\n            )\n\n            // try to convert the message to json\n            try {\n                val json = inMessage\n                Log.d(&quot;fdsfsdfsdf&quot;, json)\n                //val json = JsonParser().parse(inMessage)\n\n                // ... use json or whatever here\n            } catch (error: Exception) {\n                Log.d(\n                    &quot;fdsfsdfsdf&quot;,\n                    &quot;NFC tag data seems to invalid:\\n\\n$inMessage\\n\\n${error.localizedMessage}&quot;\n                )\n            }\n\n            // ... do whatever\n        } catch (error: Exception) {\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error attempting to pull tag info: ${error.localizedMessage}&quot;)\n        } finally {\n            ndef.close()\n        }\n    }\n</code></pre>\n<pre><code>fun readTag(tag: Tag?) {\n        Coroutines.default(this@MainViewModel) {\n            readNdef(tag)\n            Log.d(TAG, &quot;readTag(${tag} ${tag?.techList})&quot;)\n            postNFCStatus(NFCStatus.Process)\n            val stringBuilder: StringBuilder = StringBuilder()\n            val id: ByteArray? = tag?.id\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;$id&quot;)\n            stringBuilder.append(&quot;Tag ID (hex): ${bytesToHex(id!!)} \\n&quot;)\n            stringBuilder.append(&quot;Tag ID (dec): ${getDec(id)} \\n&quot;)\n            stringBuilder.append(&quot;Tag ID (reversed): ${getReversed(id)} \\n&quot;)\n            stringBuilder.append(&quot;Technologies: &quot;)\n            tag.techList.forEach { tech -&gt;\n                stringBuilder.append(tech.substring(prefix.length))\n                stringBuilder.append(&quot;, &quot;)\n            }\n            stringBuilder.delete(stringBuilder.length - 2, stringBuilder.length)\n            tag.techList.forEach { tech -&gt;\n                if (tech.equals(MifareClassic::class.java.name)) {\n                    stringBuilder.append('\\n')\n                    val mifareTag: MifareClassic = MifareClassic.get(tag)\n                    val type: String\n                    if (mifareTag.type == MifareClassic.TYPE_CLASSIC) type = &quot;Classic&quot;\n                    else if (mifareTag.type == MifareClassic.TYPE_PLUS) type = &quot;Plus&quot;\n                    else if (mifareTag.type == MifareClassic.TYPE_PRO) type = &quot;Pro&quot;\n                    else type = &quot;Unknown&quot;\n                    stringBuilder.append(&quot;Mifare Classic type: $type \\n&quot;)\n                    stringBuilder.append(&quot;Mifare size: ${mifareTag.size} bytes \\n&quot;)\n                    stringBuilder.append(&quot;Mifare sectors: ${mifareTag.sectorCount} \\n&quot;)\n                    stringBuilder.append(&quot;Mifare blocks: ${mifareTag.blockCount}&quot;)\n                }\n                if (tech.equals(MifareUltralight::class.java.name)) {\n                    stringBuilder.append('\\n');\n                    val mifareUlTag: MifareUltralight = MifareUltralight.get(tag);\n                    val type: String\n                    if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT) type =\n                        &quot;Ultralight&quot;\n                    else if (mifareUlTag.type == MifareUltralight.TYPE_ULTRALIGHT_C) type =\n                        &quot;Ultralight C&quot;\n                    else type = &quot;Unkown&quot;\n                    stringBuilder.append(&quot;Mifare Ultralight type: &quot;);\n                    stringBuilder.append(type)\n                }\n            }\n            Log.d(TAG, &quot;Datum: $stringBuilder&quot;)\n            Log.d(ContentValues.TAG, &quot;dumpTagData Return \\n $stringBuilder&quot;)\n            postNFCStatus(NFCStatus.Read)\n            liveTag.emit(&quot;${getDateTimeNow()} \\n $stringBuilder&quot;)\n        }\n    }\n</code></pre>\n<pre><code>fun writeNdef(tag: Tag?, context: Context) {\n        val ndef = Ndef.get(tag)\n        try {\n            ndef.connect()\n            val textRecord1 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                      //  context.getString(R.string.ndef_rcrd1) // text to send\n            )\n            val textRecord2 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                      //  context.getString(R.string.ndef_rcrd2) // text to send\n            )\n            val textRecord3 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                       // context.getString(R.string.ndef_rcrd3) // text to send\n            )\n            val textRecord4 = NdefRecord.createTextRecord(\n                &quot;en&quot;,  // language code (ISO 639-1)\n                &quot;00000111111222222333333444444555555AABBEF&quot;\n                        //context.getString(R.string.ndef_rcrd4) // text to send\n            )\n            val ndefMessage = NdefMessage(textRecord1, textRecord2, textRecord3, textRecord4)\n            ndef.writeNdefMessage(ndefMessage)\n            Coroutines.default(this@MainViewModel){\n                postNFCStatus(NFCStatus.Write)\n            }\n            Log.d(&quot;fdsfsdfsdf&quot;,&quot;Edited: ${ndef.ndefMessage}&quot;)\n        } catch (e: Exception) {\n            Log.d(&quot;fdsfsdfsdf&quot;, &quot;Error write: ${e.localizedMessage}&quot;)\n        } finally {\n            ndef.close()\n        }\n    }\n</code></pre>\n<p>I want to write new REcords without any converting.</p>\n"},{"tags":["java","spring","easymock"],"answers":[{"tags":[],"owner":{"account_id":181847,"reputation":2865,"user_id":416135,"display_name":"Dubas"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1699261554,"creation_date":1533708376,"answer_id":51739615,"question_id":51739333,"body_markdown":"Using **spring-test** dependency you could use the class `MockHttpServletResponse`\r\n\r\nThis class contains methods to fetch the content of the resulting stream like;\r\n\r\n - byte[] \tgetContentAsByteArray() \r\n - String \tgetContentAsString() \r\n\r\nAnd also there are methods to inspect the headers.\r\n\r\nFor mor information about the class you could visit:\r\n\r\n - [MockHttpServletResponse JavaDoc Spring 4.2][1]\r\n - [MockHttpServletResponse JavaDoc Spring 5.x][2]\r\n\r\nIn [Spring Test documentation ][3] there is some interesting info about Servlet API for testing. Also this documentation recommends to use the Spring test components before others like EasyMock to test Spring classes\r\n\r\n&gt; These mock objects are targeted at usage with Spring’s Web MVC\r\n&gt; framework and are generally more convenient to use than dynamic mock\r\n&gt; objects such as EasyMock or alternative Servlet API mock objects such\r\n&gt; as MockObjects.\r\n\r\nIs preferible to use the EasyMock to test your classes and services without Spring and use the Spring test Runner and spring test framework utilities to test Spring components like Spring MVC, Spring Security,...\r\n\r\n\r\n**Example Code:**\r\n\r\n    MockHttpServletRequest request = new MockHttpServletRequest();\r\n    MockHttpServletResponse response = new MockHttpServletResponse();\r\n\r\n  [1]: https://docs.spring.io/spring/docs/4.2.4.RELEASE/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\r\n  [3]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>Using <strong>spring-test</strong> dependency you could use the class <code>MockHttpServletResponse</code></p>\n<p>This class contains methods to fetch the content of the resulting stream like;</p>\n<ul>\n<li>byte[]   getContentAsByteArray()</li>\n<li>String   getContentAsString()</li>\n</ul>\n<p>And also there are methods to inspect the headers.</p>\n<p>For mor information about the class you could visit:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/4.2.4.RELEASE/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\" rel=\"nofollow noreferrer\">MockHttpServletResponse JavaDoc Spring 4.2</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html\" rel=\"nofollow noreferrer\">MockHttpServletResponse JavaDoc Spring 5.x</a></li>\n</ul>\n<p>In <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html\" rel=\"nofollow noreferrer\">Spring Test documentation </a> there is some interesting info about Servlet API for testing. Also this documentation recommends to use the Spring test components before others like EasyMock to test Spring classes</p>\n<blockquote>\n<p>These mock objects are targeted at usage with Spring’s Web MVC\nframework and are generally more convenient to use than dynamic mock\nobjects such as EasyMock or alternative Servlet API mock objects such\nas MockObjects.</p>\n</blockquote>\n<p>Is preferible to use the EasyMock to test your classes and services without Spring and use the Spring test Runner and spring test framework utilities to test Spring components like Spring MVC, Spring Security,...</p>\n<p><strong>Example Code:</strong></p>\n<pre><code>MockHttpServletRequest request = new MockHttpServletRequest();\nMockHttpServletResponse response = new MockHttpServletResponse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1625750,"reputation":5617,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1533709654,"creation_date":1533709654,"answer_id":51739897,"question_id":51739333,"body_markdown":"Below way by using EasyMock\r\n\r\n     HttpServletRequest mockRequest = EasyMock.createMock(HttpServletRequest.class);\r\n     HttpServletResponse mockResponse = EasyMock.createMock(HttpServletResponse.class);\r\n\t\r\nUsing spring mock class\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n    import  org.springframework.mock.web.MockHttpServletResponse;\r\n    import  org.springframework.mock.web.MockHttpServletRequest;\r\n\r\n    HttpServletRequest httpServletRequest = new MockHttpServletRequest();\r\n    HttpServletResponse httpServletResponse = new MockHttpServletResponse();","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>Below way by using EasyMock</p>\n\n<pre><code> HttpServletRequest mockRequest = EasyMock.createMock(HttpServletRequest.class);\n HttpServletResponse mockResponse = EasyMock.createMock(HttpServletResponse.class);\n</code></pre>\n\n<p>Using spring mock class     </p>\n\n<pre><code>import  org.springframework.mock.web.MockHttpServletResponse;\nimport  org.springframework.mock.web.MockHttpServletRequest;\n\nHttpServletRequest httpServletRequest = new MockHttpServletRequest();\nHttpServletResponse httpServletResponse = new MockHttpServletResponse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4296414,"reputation":61,"user_id":3511379,"display_name":"prax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589352792,"creation_date":1589352339,"answer_id":61768011,"question_id":51739333,"body_markdown":"With powermock-api-mockito, HttpServletResponse could be mocked and response headers verified.\r\n\r\nJava code snippet from the servlet method:\r\n\r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;max-age=123456789&quot;);\r\n    response.setHeader(&quot;Content-Type&quot;, &quot;video/mp4&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;inline&quot;);\r\n    response.setHeader(&quot;Accept-Ranges&quot;,&quot;bytes&quot;);\r\n\r\n\r\nUnit Test:\r\n\r\n    import static org.mockito.Mockito.mock\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    final HttpServletResponse response = mock(HttpServletResponse.class);\r\n\tfinal HttpServletRequest request = mock(HttpServletRequest.class);\r\n    servlet.doGet();\r\n    verify(response).setHeader(&quot;Cache-Control&quot;, &quot;max-age=123456789&quot;);\r\n    verify(response).setHeader(&quot;Content-Type&quot;, &quot;video/mp4&quot;);\r\n    verify(response).setHeader(&quot;Content-Disposition&quot;, &quot;inline&quot;);\r\n    verify(response).setHeader(&quot;Accept-Ranges&quot;,&quot;bytes&quot;);\r\n    \t\t\r\n    verify(response).setHeader(&quot;Content-Length&quot;,&quot;421854&quot;);    \t\r\n    verify(response, times(1)).setHeader(&quot;Accept-Ranges&quot;,&quot;bytes&quot;);\r\n    \r\n\r\nFor stubbing OutputStream, you could use\r\nwhen(response.getOutputStream()).thenReturn(mock(ServletOutputStream.class));\r\n\r\n\r\nThere is more useful information in this answer\r\nhttps://stackoverflow.com/a/24593642/3511379\r\n","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>With powermock-api-mockito, HttpServletResponse could be mocked and response headers verified.</p>\n\n<p>Java code snippet from the servlet method:</p>\n\n<pre><code>response.setHeader(\"Cache-Control\", \"max-age=123456789\");\nresponse.setHeader(\"Content-Type\", \"video/mp4\");\nresponse.setHeader(\"Content-Disposition\", \"inline\");\nresponse.setHeader(\"Accept-Ranges\",\"bytes\");\n</code></pre>\n\n<p>Unit Test:</p>\n\n<pre><code>import static org.mockito.Mockito.mock\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nfinal HttpServletResponse response = mock(HttpServletResponse.class);\nfinal HttpServletRequest request = mock(HttpServletRequest.class);\nservlet.doGet();\nverify(response).setHeader(\"Cache-Control\", \"max-age=123456789\");\nverify(response).setHeader(\"Content-Type\", \"video/mp4\");\nverify(response).setHeader(\"Content-Disposition\", \"inline\");\nverify(response).setHeader(\"Accept-Ranges\",\"bytes\");\n\nverify(response).setHeader(\"Content-Length\",\"421854\");      \nverify(response, times(1)).setHeader(\"Accept-Ranges\",\"bytes\");\n</code></pre>\n\n<p>For stubbing OutputStream, you could use\nwhen(response.getOutputStream()).thenReturn(mock(ServletOutputStream.class));</p>\n\n<p>There is more useful information in this answer\n<a href=\"https://stackoverflow.com/a/24593642/3511379\">https://stackoverflow.com/a/24593642/3511379</a></p>\n"}],"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19020,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":51739615,"answer_count":3,"score":16,"last_activity_date":1699261554,"creation_date":1533707025,"question_id":51739333,"body_markdown":"How to create `HttpServletResponse` for unit tests, where I can write output stream and headers(not `MockHttpServletResponse`)?\r\nIn assert block I expect to compare `OutputStream` and headers with etalon `httpServletResponse`.\r\n\r\n\r\nI used `Spring4`, `java8` and `EasyMock` lib.","title":"How to create HttpServletResponse for unit tests in Spring?","body":"<p>How to create <code>HttpServletResponse</code> for unit tests, where I can write output stream and headers(not <code>MockHttpServletResponse</code>)?\nIn assert block I expect to compare <code>OutputStream</code> and headers with etalon <code>httpServletResponse</code>.</p>\n\n<p>I used <code>Spring4</code>, <code>java8</code> and <code>EasyMock</code> lib.</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-types"],"comments":[{"owner":{"account_id":7685529,"reputation":33,"user_id":5823486,"display_name":"Divya"},"score":0,"creation_date":1699286050,"post_id":77429819,"comment_id":136509390,"body_markdown":"Issue was with the query - had updated to :#{#status.name()} instead of status = :status\n\nhttps://stackoverflow.com/questions/76145055/cannot-invoke-getjdbcvaluebinder-because-jdbcmapping-is-null","body":"Issue was with the query - had updated to :#{#status.name()} instead of status = :status  <a href=\"https://stackoverflow.com/questions/76145055/cannot-invoke-getjdbcvaluebinder-because-jdbcmapping-is-null\" title=\"cannot invoke getjdbcvaluebinder because jdbcmapping is null\">stackoverflow.com/questions/76145055/&hellip;</a>"}],"owner":{"account_id":7685529,"reputation":33,"user_id":5823486,"display_name":"Divya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1699260827,"answer_count":0,"score":0,"last_activity_date":1699261526,"creation_date":1699260491,"question_id":77429819,"body_markdown":"Have updated hibernate-types &amp; hypersistence libraries as per other docs- \r\n\r\n    implementation &#39;com.vladmihalcea:hibernate-types-60:2.21.1&#39;\r\n    implementation &#39;io.hypersistence:hypersistence-utils-hibernate-60:3.5.1&#39;\r\n\r\nand excluded  - `spring.jpa.properties.hypersistence.utils.enable_types_contributor=false` \r\nso that types doesn&#39;t get registered automatically.\r\n\r\nAttribute in the entity: \r\n\r\n     @Column(name = &quot;status&quot;)\r\n     private Status status;\r\n     @Enumerated(EnumType.STRING)\r\n\r\nBut getting error - \r\n&gt; Cannot\r\n&gt; invoke &quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null]\r\n&gt; with root cause java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null\tat\r\n&gt; org.hibernate.type.EnumType.verifyConfigured(EnumType.java:386)\tat\r\n&gt; org.hibernate.type.EnumType.nullSafeSet(EnumType.java:392)\tat\r\n&gt; com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:70)\tat\r\n&gt; com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:29)\tat\r\n&gt; com.vladmihalcea.hibernate.type.ImmutableType.nullSafeSet(ImmutableType.java:105)\r\n\r\n\r\n","title":"Error after migrating spring boot to 3 in update query containing enum field","body":"<p>Have updated hibernate-types &amp; hypersistence libraries as per other docs-</p>\n<pre><code>implementation 'com.vladmihalcea:hibernate-types-60:2.21.1'\nimplementation 'io.hypersistence:hypersistence-utils-hibernate-60:3.5.1'\n</code></pre>\n<p>and excluded  - <code>spring.jpa.properties.hypersistence.utils.enable_types_contributor=false</code>\nso that types doesn't get registered automatically.</p>\n<p>Attribute in the entity:</p>\n<pre><code> @Column(name = &quot;status&quot;)\n private Status status;\n @Enumerated(EnumType.STRING)\n</code></pre>\n<p>But getting error -</p>\n<blockquote>\n<p>Cannot\ninvoke &quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null]\nwith root cause java.lang.NullPointerException: Cannot invoke\n&quot;java.lang.Class.getName()&quot; because &quot;this.enumClass&quot; is null  at\norg.hibernate.type.EnumType.verifyConfigured(EnumType.java:386)   at\norg.hibernate.type.EnumType.nullSafeSet(EnumType.java:392)    at\ncom.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:70)  at\ncom.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.set(PostgreSQLEnumType.java:29)  at\ncom.vladmihalcea.hibernate.type.ImmutableType.nullSafeSet(ImmutableType.java:105)</p>\n</blockquote>\n"},{"tags":["java","decimalformat"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1527056981,"post_id":50481218,"comment_id":87975553,"body_markdown":"First question: What is the value of `System.getProperty(&quot;user.country.format&quot;)` ?","body":"First question: What is the value of <code>System.getProperty(&quot;user.country.format&quot;)</code> ?"},{"owner":{"account_id":13630270,"reputation":51,"user_id":9832468,"display_name":"ashish sharma"},"score":0,"creation_date":1527057073,"post_id":50481218,"comment_id":87975606,"body_markdown":"value of System.getProperty(&quot;user.country.format&quot;) is &quot;br&quot;","body":"value of System.getProperty(&quot;user.country.format&quot;) is &quot;br&quot;"},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1527114654,"post_id":50481218,"comment_id":88009601,"body_markdown":"Why is this tagged `bigdecimal`?","body":"Why is this tagged <code>bigdecimal</code>?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699262314,"post_id":50481218,"comment_id":136504754,"body_markdown":"BTW the first parameter of the `Locale` constructor is the language (&#39;pt&#39;), not the country (&#39;BR&#39;); BTW-2 the constructors of `Locale` are *now* deprecated since Java 19","body":"BTW the first parameter of the <code>Locale</code> constructor is the language (&#39;pt&#39;), not the country (&#39;BR&#39;); BTW-2 the constructors of <code>Locale</code> are <i>now</i> deprecated since Java 19"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1699264769,"post_id":50481218,"comment_id":136505147,"body_markdown":"... and [_language_ &#39;br&#39; is Breton](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes#br) (@user85421)","body":"... and <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes#br\" rel=\"nofollow noreferrer\"><i>language</i> &#39;br&#39; is Breton</a> (@user85421)"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527064583,"creation_date":1527057427,"answer_id":50481375,"question_id":50481218,"body_markdown":"I was able to get your expected decimal separator `,` using the `pt` locale (Portugal):\r\n\r\n    final Locale locale = new Locale(&quot;pt&quot;);\r\n    final NumberFormat nf = NumberFormat.getNumberInstance(locale);\r\n    DecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\r\n    System.out.println(&quot;Decimal Symbol&quot;+ decSymbols.getDecimalSeparator() + &quot;&quot;);\r\n\r\nI did not see any `br` locale returned from a call to `DateFormat.getAvailableLocales()`, so either it doesn&#39;t exist at all (at least in my JRE) or it is using decimal point as the decimal separator.  Note that the `pt_BR` locale is what I think you should be using, but that assumes that your JRE supports it.  If not, then maybe your code would just use the default locale.","title":"Getting wrong locale for Portuguese (Brazil)","body":"<p>I was able to get your expected decimal separator <code>,</code> using the <code>pt</code> locale (Portugal):</p>\n\n<pre><code>final Locale locale = new Locale(\"pt\");\nfinal NumberFormat nf = NumberFormat.getNumberInstance(locale);\nDecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\nSystem.out.println(\"Decimal Symbol\"+ decSymbols.getDecimalSeparator() + \"\");\n</code></pre>\n\n<p>I did not see any <code>br</code> locale returned from a call to <code>DateFormat.getAvailableLocales()</code>, so either it doesn't exist at all (at least in my JRE) or it is using decimal point as the decimal separator.  Note that the <code>pt_BR</code> locale is what I think you should be using, but that assumes that your JRE supports it.  If not, then maybe your code would just use the default locale.</p>\n"}],"owner":{"account_id":13630270,"reputation":51,"user_id":9832468,"display_name":"ashish sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2926,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1699261350,"creation_date":1527056822,"question_id":50481218,"body_markdown":"I am trying to get system locale for Portuguese (Brazil), but it is giving the decimal separator as `.` instead of `,` Can anyone please help on that? I am using Java 8.\r\n\r\nBelow is the code I am using:\r\n\r\n```java\r\npublic static void main(String[] args) \r\n{\r\n    final Locale locale = new Locale(System.getProperty(&quot;user.country.format&quot;));\r\n    \r\n    final NumberFormat nf = NumberFormat.getNumberInstance(locale);\r\n     \r\n    DecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\r\n    System.out.println(&quot;Decimal Symbol&quot;+ decSymbols.getDecimalSeparator() + &quot;&quot;);\r\n}\r\n```\r\n\r\nGetting decimal separator as `.` instead of `,`.","title":"Getting wrong locale for Portuguese (Brazil)","body":"<p>I am trying to get system locale for Portuguese (Brazil), but it is giving the decimal separator as <code>.</code> instead of <code>,</code> Can anyone please help on that? I am using Java 8.</p>\n<p>Below is the code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) \n{\n    final Locale locale = new Locale(System.getProperty(&quot;user.country.format&quot;));\n    \n    final NumberFormat nf = NumberFormat.getNumberInstance(locale);\n     \n    DecimalFormatSymbols decSymbols = new DecimalFormatSymbols(locale);\n    System.out.println(&quot;Decimal Symbol&quot;+ decSymbols.getDecimalSeparator() + &quot;&quot;);\n}\n</code></pre>\n<p>Getting decimal separator as <code>.</code> instead of <code>,</code>.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1882348,"reputation":1653,"user_id":1702242,"accept_rate":56,"display_name":"pmverma"},"score":0,"creation_date":1419330347,"post_id":27614301,"comment_id":43657845,"body_markdown":"Does your code works well with both database run separately?","body":"Does your code works well with both database run separately?"},{"owner":{"account_id":1008608,"reputation":1262,"user_id":1021681,"accept_rate":69,"display_name":"euclid135"},"score":0,"creation_date":1419382059,"post_id":27614301,"comment_id":43680738,"body_markdown":"yes, if mysql is running alone, it works","body":"yes, if mysql is running alone, it works"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1452085977,"post_id":27614301,"comment_id":57012962,"body_markdown":"I found this, but it was literally written yesterday http://scattercode.co.uk/2016/01/05/multiple-databases-with-spring-boot-and-spring-data-jpa/","body":"I found this, but it was literally written yesterday <a href=\"http://scattercode.co.uk/2016/01/05/multiple-databases-with-spring-boot-and-spring-data-jpa/\" rel=\"nofollow noreferrer\">scattercode.co.uk/2016/01/05/&hellip;</a>"},{"owner":{"account_id":2826656,"reputation":13236,"user_id":2429176,"accept_rate":80,"display_name":"dustin.schultz"},"score":0,"creation_date":1513531925,"post_id":27614301,"comment_id":82679718,"body_markdown":"Possible duplicate of [Spring Boot Configure and Use Two DataSources](https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\">Spring Boot Configure and Use Two DataSources</a>"}],"answers":[{"tags":[],"owner":{"account_id":1658164,"reputation":3247,"user_id":1527103,"accept_rate":89,"display_name":"Gokhan Oner"},"down_vote_count":2,"up_vote_count":57,"is_accepted":false,"score":55,"last_activity_date":1490728265,"creation_date":1419795933,"answer_id":27679997,"question_id":27614301,"body_markdown":"I think you can find it usefull\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources\r\n\r\nIt shows how to define multiple datasources &amp; assign one of them as primary.\r\n\r\nHere is a rather full example, also contains distributes transactions - if you need it.\r\n\r\nhttp://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/\r\n\r\n\r\nWhat you need is to create 2 configuration classes, separate the model/repository packages etc to make the config easy.\r\n\r\nAlso, in above example, it creates the data sources manually. You can avoid this using the method on spring doc, with @ConfigurationProperties annotation. Here is an example of this:\r\n\r\nhttp://xantorohara.blogspot.com.tr/2013/11/spring-boot-jdbc-with-multiple.html\r\n\r\nHope these helps.\r\n","title":"Spring Boot Multiple Datasource","body":"<p>I think you can find it usefull</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources</a></p>\n\n<p>It shows how to define multiple datasources &amp; assign one of them as primary.</p>\n\n<p>Here is a rather full example, also contains distributes transactions - if you need it.</p>\n\n<p><a href=\"http://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/\" rel=\"noreferrer\">http://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/</a></p>\n\n<p>What you need is to create 2 configuration classes, separate the model/repository packages etc to make the config easy.</p>\n\n<p>Also, in above example, it creates the data sources manually. You can avoid this using the method on spring doc, with @ConfigurationProperties annotation. Here is an example of this:</p>\n\n<p><a href=\"http://xantorohara.blogspot.com.tr/2013/11/spring-boot-jdbc-with-multiple.html\" rel=\"noreferrer\">http://xantorohara.blogspot.com.tr/2013/11/spring-boot-jdbc-with-multiple.html</a></p>\n\n<p>Hope these helps.</p>\n"},{"tags":[],"owner":{"account_id":5035030,"reputation":281,"user_id":5342852,"display_name":"Shankar Saran Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446014534,"creation_date":1444749491,"answer_id":33106442,"question_id":27614301,"body_markdown":"I solved the problem (How to connect multiple database using spring and Hibernate) in this way, I hope it will help :)\r\n    \r\n    \r\n    \r\nNOTE: I have added the relevant code, kindly make the dao with the help of impl I used in the below mentioned code.\r\n    \r\n**web.xml**\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n        id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n        &lt;display-name&gt;MultipleDatabaseConnectivityInSpring&lt;/display-name&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n         &lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n             &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n         &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt; \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                /WEB-INF/dispatcher-servlet.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n    \r\n    \r\n**persistence.xml**\r\n    \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;1.0&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;localPersistenceUnitOne&quot;\r\n            transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n            &lt;class&gt;in.india.entities.CustomerDetails&lt;/class&gt;\r\n            &lt;exclude-unlisted-classes /&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;0&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/shankar?sslmode=require&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;username&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;password&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n        &lt;persistence-unit name=&quot;localPersistenceUnitTwo&quot;\r\n            transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n            &lt;class&gt;in.india.entities.CompanyDetails&lt;/class&gt;\r\n            &lt;exclude-unlisted-classes /&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;0&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/shankarTwo?sslmode=require&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;username&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;password&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n    \r\n    \r\n**dispatcher-servlet**\r\n    \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:task=&quot;http://www.springframework.org/schema/task&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n        xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n        default-autowire=&quot;byName&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \r\n          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd  \r\n          http://www.springframework.org/schema/aop  http://www.springframework.org/schema/aop/spring-aop-3.0.xsd \r\n          http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\r\n          http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/mvc \r\n          http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n        &lt;!-- Configure messageSource --&gt;\r\n    \r\n        &lt;mvc:annotation-driven /&gt;\r\n        &lt;context:component-scan base-package=&quot;in.india.*&quot; /&gt;\r\n        &lt;bean id=&quot;messageResource&quot;\r\n            class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;\r\n            autowire=&quot;byName&quot;&gt;\r\n            &lt;property name=&quot;basename&quot; value=&quot;messageResource&quot;&gt;&lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean\r\n            class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;prefix&quot;&gt;\r\n                &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;suffix&quot;&gt;\r\n                &lt;value&gt;.jsp&lt;/value&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n    \r\n        &lt;bean id=&quot;entityManagerFactoryOne&quot;\r\n            class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n            autowire=&quot;constructor&quot;&gt;\r\n            &lt;property name=&quot;persistenceUnitName&quot; value=&quot;localPersistenceUnitOne&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;messageSource&quot;\r\n            class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;\r\n            autowire=&quot;byName&quot;&gt;\r\n            &lt;property name=&quot;basename&quot; value=&quot;messageResource&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;entityManagerFactoryTwo&quot;\r\n            class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n            autowire=&quot;constructor&quot;&gt;\r\n            &lt;property name=&quot;persistenceUnitName&quot; value=&quot;localPersistenceUnitTwo&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;manager1&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactoryOne&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;manager2&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactoryTwo&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;tx:annotation-driven transaction-manager=&quot;manager1&quot; /&gt;\r\n        &lt;tx:annotation-driven transaction-manager=&quot;manager2&quot; /&gt;\r\n    \r\n        &lt;!-- declare dependies here --&gt;\r\n    \r\n        &lt;bean class=&quot;in.india.service.dao.impl.CustomerServiceImpl&quot; /&gt;\r\n        &lt;bean class=&quot;in.india.service.dao.impl.CompanyServiceImpl&quot; /&gt;\r\n    \r\n        &lt;!-- Configure MVC annotations --&gt;\r\n        &lt;bean\r\n            class=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot; /&gt;\r\n        &lt;bean\r\n            class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot; /&gt;\r\n        &lt;bean\r\n            class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot; /&gt;\r\n    &lt;/beans&gt;\r\n    \r\n    \r\n    \r\n**java class to persist into one database**\r\n    \r\n    \r\n    package in.india.service.dao.impl;\r\n    \r\n    import in.india.entities.CompanyDetails;\r\n    import in.india.service.CompanyService;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    public class CompanyServiceImpl implements CompanyService {\r\n    \r\n        @PersistenceContext(unitName = &quot;entityManagerFactoryTwo&quot;)\r\n        EntityManager entityManager;\r\n    \r\n        @Transactional(&quot;manager2&quot;)\r\n        @Override\r\n        public boolean companyService(CompanyDetails companyDetails) {\r\n    \r\n            boolean flag = false;\r\n            try \r\n            {\r\n                entityManager.persist(companyDetails);\r\n                flag = true;\r\n            } \r\n            catch (Exception e)\r\n            {\r\n                flag = false;\r\n            }\r\n    \r\n            return flag;\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n**java class to persist in another database** \r\n    \r\n    package in.india.service.dao.impl;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import in.india.entities.CustomerDetails;\r\n    import in.india.service.CustomerService;\r\n    \r\n    public class CustomerServiceImpl implements CustomerService {\r\n    \r\n        @PersistenceContext(unitName = &quot;localPersistenceUnitOne&quot;)\r\n        EntityManager entityManager;\r\n    \r\n        @Override\r\n        @Transactional(value = &quot;manager1&quot;)\r\n        public boolean customerService(CustomerDetails companyData) {\r\n    \r\n            boolean flag = false;\r\n            entityManager.persist(companyData);\r\n            return flag;\r\n        }\r\n    }\r\n    \r\n    \r\n**customer.jsp**\r\n    \r\n    &lt;%@page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;center&gt;\r\n            &lt;h1&gt;SpringWithMultipleDatabase&#39;s&lt;/h1&gt;\r\n        &lt;/center&gt;\r\n        &lt;form:form method=&quot;GET&quot; action=&quot;addCustomer.htm&quot;  modelAttribute=&quot;customerBean&quot; &gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;firstName&quot;&gt;First Name&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;firstName&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;lastName&quot;&gt;Last Name&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;lastName&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;emailId&quot;&gt;Email Id&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;emailId&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;profession&quot;&gt;Profession&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;profession&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;address&quot;&gt;Address&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;address&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;age&quot;&gt;Age&lt;/form:label&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;form:input path=&quot;age&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/td&gt;\r\n                 &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    \r\n**company.jsp**\r\n    \r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;ScheduleJobs&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n     &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase&#39;s&lt;/h1&gt;&lt;/center&gt;\r\n     &lt;form:form method=&quot;GET&quot; action=&quot;addCompany.htm&quot;  modelAttribute=&quot;companyBean&quot; &gt;\r\n     &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;companyName&quot;&gt;Company Name&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;companyName&quot; /&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;companyStrength&quot;&gt;Company Strength&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;companyStrength&quot; /&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;companyLocation&quot;&gt;Company Location&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;companyLocation&quot; /&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n     &lt;/table&gt;\r\n     &lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n**index.jsp**\r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Home&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n     &lt;center&gt;&lt;h1&gt;Multiple Database Connectivity In Spring sdfsdsd&lt;/h1&gt;&lt;/center&gt;\r\n    \r\n    &lt;a href=&#39;customerRequest.htm&#39;&gt;Click here to go on Customer page&lt;/a&gt;\r\n    &lt;br&gt;\r\n    &lt;a href=&#39;companyRequest.htm&#39;&gt;Click here to go on Company page&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n**success.jsp**\r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;ScheduleJobs&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n     &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase&lt;/h1&gt;&lt;/center&gt;\r\n        &lt;b&gt;Successfully Saved&lt;/b&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n**CompanyController**\r\n    \r\n    package in.india.controller;\r\n    \r\n    import in.india.bean.CompanyBean;\r\n    import in.india.entities.CompanyDetails;\r\n    import in.india.service.CompanyService;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class CompanyController {\r\n    \r\n        @Autowired\r\n        CompanyService companyService;\r\n    \r\n        @RequestMapping(value = &quot;/companyRequest.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView addStudent(ModelMap model) {\r\n            CompanyBean companyBean = new CompanyBean();\r\n            model.addAttribute(companyBean);\r\n            return new ModelAndView(&quot;company&quot;);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/addCompany.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView companyController(@ModelAttribute(&quot;companyBean&quot;) CompanyBean companyBean, Model model) {\r\n            CompanyDetails  companyDetails = new CompanyDetails();\r\n            companyDetails.setCompanyLocation(companyBean.getCompanyLocation());\r\n            companyDetails.setCompanyName(companyBean.getCompanyName());\r\n            companyDetails.setCompanyStrength(companyBean.getCompanyStrength());\r\n            companyService.companyService(companyDetails);\r\n            return new ModelAndView(&quot;success&quot;);\r\n    \r\n        }\r\n    }\r\n    \r\n**CustomerController**\r\n    \r\n    \r\n    package in.india.controller;\r\n    \r\n    import in.india.bean.CustomerBean;\r\n    import in.india.entities.CustomerDetails;\r\n    import in.india.service.CustomerService;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class CustomerController {\r\n    \r\n        @Autowired\r\n        CustomerService customerService;\r\n    \r\n        @RequestMapping(value = &quot;/customerRequest.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView addStudent(ModelMap model) {\r\n            CustomerBean customerBean = new CustomerBean();\r\n            model.addAttribute(customerBean);\r\n            return new ModelAndView(&quot;customer&quot;);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/addCustomer.htm&quot;, method = RequestMethod.GET)\r\n        public ModelAndView customerController(@ModelAttribute(&quot;customerBean&quot;) CustomerBean customer, Model model) {\r\n            CustomerDetails customerDetails = new CustomerDetails();\r\n            customerDetails.setAddress(customer.getAddress());\r\n            customerDetails.setAge(customer.getAge());\r\n            customerDetails.setEmailId(customer.getEmailId());\r\n            customerDetails.setFirstName(customer.getFirstName());\r\n            customerDetails.setLastName(customer.getLastName());\r\n            customerDetails.setProfession(customer.getProfession());\r\n            customerService.customerService(customerDetails);\r\n            return new ModelAndView(&quot;success&quot;);\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n**CompanyDetails Entity**\r\n    \r\n    \r\n    package in.india.entities;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;company_details&quot;)\r\n    public class CompanyDetails {\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;company_details_seq&quot;, sequenceName = &quot;company_details_seq&quot;, initialValue = 1, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;company_details_seq&quot;)\r\n        @Column(name = &quot;company_details_id&quot;)\r\n        private Long companyDetailsId;\r\n        @Column(name = &quot;company_name&quot;)\r\n        private String companyName;\r\n        @Column(name = &quot;company_strength&quot;)\r\n        private Long companyStrength;\r\n        @Column(name = &quot;company_location&quot;)\r\n        private String companyLocation;\r\n    \r\n        public Long getCompanyDetailsId() {\r\n            return companyDetailsId;\r\n        }\r\n    \r\n        public void setCompanyDetailsId(Long companyDetailsId) {\r\n            this.companyDetailsId = companyDetailsId;\r\n        }\r\n    \r\n        public String getCompanyName() {\r\n            return companyName;\r\n        }\r\n    \r\n        public void setCompanyName(String companyName) {\r\n            this.companyName = companyName;\r\n        }\r\n    \r\n        public Long getCompanyStrength() {\r\n            return companyStrength;\r\n        }\r\n    \r\n        public void setCompanyStrength(Long companyStrength) {\r\n            this.companyStrength = companyStrength;\r\n        }\r\n    \r\n        public String getCompanyLocation() {\r\n            return companyLocation;\r\n        }\r\n    \r\n        public void setCompanyLocation(String companyLocation) {\r\n            this.companyLocation = companyLocation;\r\n        }\r\n    }\r\n    \r\n    \r\n**CustomerDetails Entity**\r\n    \r\n    package in.india.entities;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;customer_details&quot;)\r\n    public class CustomerDetails {\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;customer_details_seq&quot;, sequenceName = &quot;customer_details_seq&quot;, initialValue = 1, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;customer_details_seq&quot;)\r\n        @Column(name = &quot;customer_details_id&quot;)\r\n        private Long customerDetailsId;\r\n        @Column(name = &quot;first_name &quot;)\r\n        private String firstName;\r\n        @Column(name = &quot;last_name &quot;)\r\n        private String lastName;\r\n        @Column(name = &quot;email_id&quot;)\r\n        private String emailId;\r\n        @Column(name = &quot;profession&quot;)\r\n        private String profession;\r\n        @Column(name = &quot;address&quot;)\r\n        private String address;\r\n        @Column(name = &quot;age&quot;)\r\n        private int age;\r\n        public Long getCustomerDetailsId() {\r\n            return customerDetailsId;\r\n        }\r\n    \r\n        public void setCustomerDetailsId(Long customerDetailsId) {\r\n            this.customerDetailsId = customerDetailsId;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getEmailId() {\r\n            return emailId;\r\n        }\r\n    \r\n        public void setEmailId(String emailId) {\r\n            this.emailId = emailId;\r\n        }\r\n    \r\n        public String getProfession() {\r\n            return profession;\r\n        }\r\n    \r\n        public void setProfession(String profession) {\r\n            this.profession = profession;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }","title":"Spring Boot Multiple Datasource","body":"<p>I solved the problem (How to connect multiple database using spring and Hibernate) in this way, I hope it will help :)</p>\n\n<p>NOTE: I have added the relevant code, kindly make the dao with the help of impl I used in the below mentioned code.</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    id=\"WebApp_ID\" version=\"3.0\"&gt;\n    &lt;display-name&gt;MultipleDatabaseConnectivityInSpring&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n     &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n         &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n     &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt; \n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/dispatcher-servlet.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p><strong>persistence.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"1.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd\"&gt;\n    &lt;persistence-unit name=\"localPersistenceUnitOne\"\n        transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;class&gt;in.india.entities.CustomerDetails&lt;/class&gt;\n        &lt;exclude-unlisted-classes /&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" /&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"org.postgresql.Driver\" /&gt;\n            &lt;property name=\"hibernate.jdbc.batch_size\" value=\"0\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"false\" /&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:postgresql://localhost:5432/shankar?sslmode=require\" /&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"username\" /&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"password\" /&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    &lt;persistence-unit name=\"localPersistenceUnitTwo\"\n        transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;class&gt;in.india.entities.CompanyDetails&lt;/class&gt;\n        &lt;exclude-unlisted-classes /&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" /&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"org.postgresql.Driver\" /&gt;\n            &lt;property name=\"hibernate.jdbc.batch_size\" value=\"0\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"false\" /&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:postgresql://localhost:5432/shankarTwo?sslmode=require\" /&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"username\" /&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"password\" /&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><strong>dispatcher-servlet</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:task=\"http://www.springframework.org/schema/task\" xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:util=\"http://www.springframework.org/schema/util\"\n    default-autowire=\"byName\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \n      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd  \n      http://www.springframework.org/schema/aop  http://www.springframework.org/schema/aop/spring-aop-3.0.xsd \n      http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\n      http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/mvc \n      http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n    &lt;!-- Configure messageSource --&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=\"in.india.*\" /&gt;\n    &lt;bean id=\"messageResource\"\n        class=\"org.springframework.context.support.ResourceBundleMessageSource\"\n        autowire=\"byName\"&gt;\n        &lt;property name=\"basename\" value=\"messageResource\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\"&gt;\n            &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"suffix\"&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n\n    &lt;bean id=\"entityManagerFactoryOne\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"\n        autowire=\"constructor\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"localPersistenceUnitOne\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"messageSource\"\n        class=\"org.springframework.context.support.ResourceBundleMessageSource\"\n        autowire=\"byName\"&gt;\n        &lt;property name=\"basename\" value=\"messageResource\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"entityManagerFactoryTwo\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"\n        autowire=\"constructor\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"localPersistenceUnitTwo\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"manager1\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactoryOne\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"manager2\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactoryTwo\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven transaction-manager=\"manager1\" /&gt;\n    &lt;tx:annotation-driven transaction-manager=\"manager2\" /&gt;\n\n    &lt;!-- declare dependies here --&gt;\n\n    &lt;bean class=\"in.india.service.dao.impl.CustomerServiceImpl\" /&gt;\n    &lt;bean class=\"in.india.service.dao.impl.CompanyServiceImpl\" /&gt;\n\n    &lt;!-- Configure MVC annotations --&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\" /&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\" /&gt;\n    &lt;bean\n        class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\" /&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>java class to persist into one database</strong></p>\n\n<pre><code>package in.india.service.dao.impl;\n\nimport in.india.entities.CompanyDetails;\nimport in.india.service.CompanyService;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\nimport org.springframework.transaction.annotation.Transactional;\n\npublic class CompanyServiceImpl implements CompanyService {\n\n    @PersistenceContext(unitName = \"entityManagerFactoryTwo\")\n    EntityManager entityManager;\n\n    @Transactional(\"manager2\")\n    @Override\n    public boolean companyService(CompanyDetails companyDetails) {\n\n        boolean flag = false;\n        try \n        {\n            entityManager.persist(companyDetails);\n            flag = true;\n        } \n        catch (Exception e)\n        {\n            flag = false;\n        }\n\n        return flag;\n    }\n\n}\n</code></pre>\n\n<p><strong>java class to persist in another database</strong> </p>\n\n<pre><code>package in.india.service.dao.impl;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\nimport org.springframework.transaction.annotation.Transactional;\n\nimport in.india.entities.CustomerDetails;\nimport in.india.service.CustomerService;\n\npublic class CustomerServiceImpl implements CustomerService {\n\n    @PersistenceContext(unitName = \"localPersistenceUnitOne\")\n    EntityManager entityManager;\n\n    @Override\n    @Transactional(value = \"manager1\")\n    public boolean customerService(CustomerDetails companyData) {\n\n        boolean flag = false;\n        entityManager.persist(companyData);\n        return flag;\n    }\n}\n</code></pre>\n\n<p><strong>customer.jsp</strong></p>\n\n<pre><code>&lt;%@page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;%@taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;h1&gt;SpringWithMultipleDatabase's&lt;/h1&gt;\n    &lt;/center&gt;\n    &lt;form:form method=\"GET\" action=\"addCustomer.htm\"  modelAttribute=\"customerBean\" &gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"firstName\"&gt;First Name&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"firstName\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"lastName\"&gt;Last Name&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"lastName\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"emailId\"&gt;Email Id&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"emailId\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"profession\"&gt;Profession&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"profession\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"address\"&gt;Address&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"address\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"age\"&gt;Age&lt;/form:label&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;form:input path=\"age\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;input type=\"submit\" value=\"Submit\"/&gt;&lt;/td&gt;\n             &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>company.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;%@taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;ScheduleJobs&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase's&lt;/h1&gt;&lt;/center&gt;\n &lt;form:form method=\"GET\" action=\"addCompany.htm\"  modelAttribute=\"companyBean\" &gt;\n &lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=\"companyName\"&gt;Company Name&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=\"companyName\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=\"companyStrength\"&gt;Company Strength&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=\"companyStrength\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=\"companyLocation\"&gt;Company Location&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=\"companyLocation\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;\n            &lt;input type=\"submit\" value=\"Submit\"/&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n &lt;/table&gt;\n &lt;/form:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>index.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Home&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;center&gt;&lt;h1&gt;Multiple Database Connectivity In Spring sdfsdsd&lt;/h1&gt;&lt;/center&gt;\n\n&lt;a href='customerRequest.htm'&gt;Click here to go on Customer page&lt;/a&gt;\n&lt;br&gt;\n&lt;a href='companyRequest.htm'&gt;Click here to go on Company page&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>success.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;ScheduleJobs&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;center&gt;&lt;h1&gt;SpringWithMultipleDatabase&lt;/h1&gt;&lt;/center&gt;\n    &lt;b&gt;Successfully Saved&lt;/b&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>CompanyController</strong></p>\n\n<pre><code>package in.india.controller;\n\nimport in.india.bean.CompanyBean;\nimport in.india.entities.CompanyDetails;\nimport in.india.service.CompanyService;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class CompanyController {\n\n    @Autowired\n    CompanyService companyService;\n\n    @RequestMapping(value = \"/companyRequest.htm\", method = RequestMethod.GET)\n    public ModelAndView addStudent(ModelMap model) {\n        CompanyBean companyBean = new CompanyBean();\n        model.addAttribute(companyBean);\n        return new ModelAndView(\"company\");\n    }\n\n    @RequestMapping(value = \"/addCompany.htm\", method = RequestMethod.GET)\n    public ModelAndView companyController(@ModelAttribute(\"companyBean\") CompanyBean companyBean, Model model) {\n        CompanyDetails  companyDetails = new CompanyDetails();\n        companyDetails.setCompanyLocation(companyBean.getCompanyLocation());\n        companyDetails.setCompanyName(companyBean.getCompanyName());\n        companyDetails.setCompanyStrength(companyBean.getCompanyStrength());\n        companyService.companyService(companyDetails);\n        return new ModelAndView(\"success\");\n\n    }\n}\n</code></pre>\n\n<p><strong>CustomerController</strong></p>\n\n<pre><code>package in.india.controller;\n\nimport in.india.bean.CustomerBean;\nimport in.india.entities.CustomerDetails;\nimport in.india.service.CustomerService;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class CustomerController {\n\n    @Autowired\n    CustomerService customerService;\n\n    @RequestMapping(value = \"/customerRequest.htm\", method = RequestMethod.GET)\n    public ModelAndView addStudent(ModelMap model) {\n        CustomerBean customerBean = new CustomerBean();\n        model.addAttribute(customerBean);\n        return new ModelAndView(\"customer\");\n    }\n\n    @RequestMapping(value = \"/addCustomer.htm\", method = RequestMethod.GET)\n    public ModelAndView customerController(@ModelAttribute(\"customerBean\") CustomerBean customer, Model model) {\n        CustomerDetails customerDetails = new CustomerDetails();\n        customerDetails.setAddress(customer.getAddress());\n        customerDetails.setAge(customer.getAge());\n        customerDetails.setEmailId(customer.getEmailId());\n        customerDetails.setFirstName(customer.getFirstName());\n        customerDetails.setLastName(customer.getLastName());\n        customerDetails.setProfession(customer.getProfession());\n        customerService.customerService(customerDetails);\n        return new ModelAndView(\"success\");\n\n    }\n}\n</code></pre>\n\n<p><strong>CompanyDetails Entity</strong></p>\n\n<pre><code>package in.india.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"company_details\")\npublic class CompanyDetails {\n\n    @Id\n    @SequenceGenerator(name = \"company_details_seq\", sequenceName = \"company_details_seq\", initialValue = 1, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"company_details_seq\")\n    @Column(name = \"company_details_id\")\n    private Long companyDetailsId;\n    @Column(name = \"company_name\")\n    private String companyName;\n    @Column(name = \"company_strength\")\n    private Long companyStrength;\n    @Column(name = \"company_location\")\n    private String companyLocation;\n\n    public Long getCompanyDetailsId() {\n        return companyDetailsId;\n    }\n\n    public void setCompanyDetailsId(Long companyDetailsId) {\n        this.companyDetailsId = companyDetailsId;\n    }\n\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    public Long getCompanyStrength() {\n        return companyStrength;\n    }\n\n    public void setCompanyStrength(Long companyStrength) {\n        this.companyStrength = companyStrength;\n    }\n\n    public String getCompanyLocation() {\n        return companyLocation;\n    }\n\n    public void setCompanyLocation(String companyLocation) {\n        this.companyLocation = companyLocation;\n    }\n}\n</code></pre>\n\n<p><strong>CustomerDetails Entity</strong></p>\n\n<pre><code>package in.india.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"customer_details\")\npublic class CustomerDetails {\n\n    @Id\n    @SequenceGenerator(name = \"customer_details_seq\", sequenceName = \"customer_details_seq\", initialValue = 1, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"customer_details_seq\")\n    @Column(name = \"customer_details_id\")\n    private Long customerDetailsId;\n    @Column(name = \"first_name \")\n    private String firstName;\n    @Column(name = \"last_name \")\n    private String lastName;\n    @Column(name = \"email_id\")\n    private String emailId;\n    @Column(name = \"profession\")\n    private String profession;\n    @Column(name = \"address\")\n    private String address;\n    @Column(name = \"age\")\n    private int age;\n    public Long getCustomerDetailsId() {\n        return customerDetailsId;\n    }\n\n    public void setCustomerDetailsId(Long customerDetailsId) {\n        this.customerDetailsId = customerDetailsId;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmailId() {\n        return emailId;\n    }\n\n    public void setEmailId(String emailId) {\n        this.emailId = emailId;\n    }\n\n    public String getProfession() {\n        return profession;\n    }\n\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145107,"reputation":1394,"user_id":1902897,"accept_rate":86,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469021426,"creation_date":1469021426,"answer_id":38482733,"question_id":27614301,"body_markdown":"I faced same issue few days back, I followed the link mentioned below and I could able to overcome the problem\r\n\r\nhttp://www.baeldung.com/spring-data-jpa-multiple-databases","title":"Spring Boot Multiple Datasource","body":"<p>I faced same issue few days back, I followed the link mentioned below and I could able to overcome the problem</p>\n\n<p><a href=\"http://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"noreferrer\">http://www.baeldung.com/spring-data-jpa-multiple-databases</a></p>\n"},{"tags":[],"owner":{"account_id":5474062,"reputation":11,"user_id":4352533,"display_name":"jc mx"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1477555082,"creation_date":1477548865,"answer_id":40277402,"question_id":27614301,"body_markdown":"Use multiple datasource or realizing the separation of reading &amp; writing.\r\nyou must have a knowledge of Class `AbstractRoutingDataSource` which support dynamic datasource choose.\r\n\r\nHere is my `datasource.yaml` and I figure out how to resolve this case. You can refer to this project [spring-boot + quartz](https://github.com/lvhao/schedule-job). Hope this will help you.\r\n\r\n    dbServer:\r\n      default: localhost:3306\r\n      read: localhost:3306\r\n      write: localhost:3306\r\n    datasource:\r\n      default:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        pool-name: default\r\n        continue-on-error: false\r\n        jdbc-url: jdbc:mysql://${dbServer.default}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\r\n        username: root\r\n        password: lh1234\r\n        connection-timeout: 30000\r\n        connection-test-query: SELECT 1\r\n        maximum-pool-size: 5\r\n        minimum-idle: 2\r\n        idle-timeout: 600000\r\n        destroy-method: shutdown\r\n        auto-commit: false\r\n      read:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        pool-name: read\r\n        continue-on-error: false\r\n        jdbc-url: jdbc:mysql://${dbServer.read}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\r\n        username: root\r\n        password: lh1234\r\n        connection-timeout: 30000\r\n        connection-test-query: SELECT 1\r\n        maximum-pool-size: 5\r\n        minimum-idle: 2\r\n        idle-timeout: 600000\r\n        destroy-method: shutdown\r\n        auto-commit: false\r\n      write:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        pool-name: write\r\n        continue-on-error: false\r\n        jdbc-url: jdbc:mysql://${dbServer.write}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\r\n        username: root\r\n        password: lh1234\r\n        connection-timeout: 30000\r\n        connection-test-query: SELECT 1\r\n        maximum-pool-size: 5\r\n        minimum-idle: 2\r\n        idle-timeout: 600000\r\n        destroy-method: shutdown\r\n        auto-commit: false","title":"Spring Boot Multiple Datasource","body":"<p>Use multiple datasource or realizing the separation of reading &amp; writing.\nyou must have a knowledge of Class <code>AbstractRoutingDataSource</code> which support dynamic datasource choose.</p>\n\n<p>Here is my <code>datasource.yaml</code> and I figure out how to resolve this case. You can refer to this project <a href=\"https://github.com/lvhao/schedule-job\" rel=\"nofollow\">spring-boot + quartz</a>. Hope this will help you.</p>\n\n<pre><code>dbServer:\n  default: localhost:3306\n  read: localhost:3306\n  write: localhost:3306\ndatasource:\n  default:\n    type: com.zaxxer.hikari.HikariDataSource\n    pool-name: default\n    continue-on-error: false\n    jdbc-url: jdbc:mysql://${dbServer.default}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\n    username: root\n    password: lh1234\n    connection-timeout: 30000\n    connection-test-query: SELECT 1\n    maximum-pool-size: 5\n    minimum-idle: 2\n    idle-timeout: 600000\n    destroy-method: shutdown\n    auto-commit: false\n  read:\n    type: com.zaxxer.hikari.HikariDataSource\n    pool-name: read\n    continue-on-error: false\n    jdbc-url: jdbc:mysql://${dbServer.read}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\n    username: root\n    password: lh1234\n    connection-timeout: 30000\n    connection-test-query: SELECT 1\n    maximum-pool-size: 5\n    minimum-idle: 2\n    idle-timeout: 600000\n    destroy-method: shutdown\n    auto-commit: false\n  write:\n    type: com.zaxxer.hikari.HikariDataSource\n    pool-name: write\n    continue-on-error: false\n    jdbc-url: jdbc:mysql://${dbServer.write}/schedule_job?useSSL=true&amp;verifyServerCertificate=false&amp;useUnicode=true&amp;characterEncoding=utf8\n    username: root\n    password: lh1234\n    connection-timeout: 30000\n    connection-test-query: SELECT 1\n    maximum-pool-size: 5\n    minimum-idle: 2\n    idle-timeout: 600000\n    destroy-method: shutdown\n    auto-commit: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487951599,"creation_date":1487951599,"answer_id":42442920,"question_id":27614301,"body_markdown":"Using two datasources you need their own transaction managers.\r\n\r\n    @Configuration\r\n    public class MySqlDBConfig {\r\n        @Bean\r\n        @Primary\r\n        @ConfigurationProperties(prefix=&quot;datasource.test.mysql&quot;)\r\n        public DataSource mysqlDataSource(){\r\n             return DataSourceBuilder\r\n                     .create()\r\n                     .build();\r\n        }\r\n\r\n        @Bean(&quot;mysqlTx&quot;)\r\n        public DataSourceTransactionManager mysqlTx() {\r\n            return new DataSourceTransactionManager(mysqlDataSource());\r\n        }\r\n\r\n        // same for another DS\r\n    }\r\n\r\nAnd then use it accordingly within @Transaction\r\n\r\n    @Transactional(&quot;mysqlTx&quot;)\r\n    @Repository\r\n    public interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\r\n        public UserMysql findByName(String name);\r\n    }\r\n","title":"Spring Boot Multiple Datasource","body":"<p>Using two datasources you need their own transaction managers.</p>\n\n<pre><code>@Configuration\npublic class MySqlDBConfig {\n    @Bean\n    @Primary\n    @ConfigurationProperties(prefix=\"datasource.test.mysql\")\n    public DataSource mysqlDataSource(){\n         return DataSourceBuilder\n                 .create()\n                 .build();\n    }\n\n    @Bean(\"mysqlTx\")\n    public DataSourceTransactionManager mysqlTx() {\n        return new DataSourceTransactionManager(mysqlDataSource());\n    }\n\n    // same for another DS\n}\n</code></pre>\n\n<p>And then use it accordingly within @Transaction</p>\n\n<pre><code>@Transactional(\"mysqlTx\")\n@Repository\npublic interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\n    public UserMysql findByName(String name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2805485,"reputation":10437,"user_id":2412816,"accept_rate":63,"display_name":"dsharew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490970674,"creation_date":1490970674,"answer_id":43143254,"question_id":27614301,"body_markdown":"Thanks all for your help but it is not complicated as it seems; **almost everything is handled internally by SpringBoot.**  \r\n\r\nIn my case *I want to use Mysql and Mongodb* and the solution was to use `EnableMongoRepositories` and `EnableJpaRepositories` annotations on to my application class. \r\n\r\n    @SpringBootApplication\r\n    @EnableTransactionManagement\r\n    @EnableMongoRepositories(includeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\r\n    @EnableJpaRepositories(excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\r\n    class TestApplication { ...\r\n\r\n**NB:** All mysql entities have to extend `JpaRepository` and mongo enities have to extend `MongoRepository`. \r\n\r\nThe datasource configs are straight forward as presented by spring documentation: \r\n\r\n    //mysql db config\r\n    spring.datasource.url= jdbc:mysql://localhost:3306/tangio\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n    \r\n    #mongodb config\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=tangio\r\n    spring.data.mongodb.username=tangio\r\n    spring.data.mongodb.password=tangio\r\n    spring.data.mongodb.repositories.enabled=true\r\n\r\n","title":"Spring Boot Multiple Datasource","body":"<p>Thanks all for your help but it is not complicated as it seems; <strong>almost everything is handled internally by SpringBoot.</strong>  </p>\n\n<p>In my case <em>I want to use Mysql and Mongodb</em> and the solution was to use <code>EnableMongoRepositories</code> and <code>EnableJpaRepositories</code> annotations on to my application class. </p>\n\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement\n@EnableMongoRepositories(includeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\n@EnableJpaRepositories(excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = MongoRepository))\nclass TestApplication { ...\n</code></pre>\n\n<p><strong>NB:</strong> All mysql entities have to extend <code>JpaRepository</code> and mongo enities have to extend <code>MongoRepository</code>. </p>\n\n<p>The datasource configs are straight forward as presented by spring documentation: </p>\n\n<pre><code>//mysql db config\nspring.datasource.url= jdbc:mysql://localhost:3306/tangio\nspring.datasource.username=test\nspring.datasource.password=test\n\n#mongodb config\nspring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=tangio\nspring.data.mongodb.username=tangio\nspring.data.mongodb.password=tangio\nspring.data.mongodb.repositories.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153291,"reputation":1547,"user_id":368440,"accept_rate":72,"display_name":"yoav.str"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491346003,"creation_date":1491346003,"answer_id":43218966,"question_id":27614301,"body_markdown":"once you start work with jpa and some driver is in your class path spring boot right away puts it inside as your data source (e.g h2 )\r\nfor using the defult data source therefore u will need only to define \r\n\r\n    spring.datasource.url= jdbc:mysql://localhost:3306/\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n if we go one step farther and u want to use two \r\n    I would reccomend to use two data sources such as explained here : \r\n    https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\r\n\r\n","title":"Spring Boot Multiple Datasource","body":"<p>once you start work with jpa and some driver is in your class path spring boot right away puts it inside as your data source (e.g h2 )\nfor using the defult data source therefore u will need only to define </p>\n\n<pre><code>spring.datasource.url= jdbc:mysql://localhost:3306/\nspring.datasource.username=test\nspring.datasource.password=test\n</code></pre>\n\n<p>if we go one step farther and u want to use two \n    I would reccomend to use two data sources such as explained here : \n    <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\">Spring Boot Configure and Use Two DataSources</a></p>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515855015,"creation_date":1515855015,"answer_id":48240987,"question_id":27614301,"body_markdown":"**Update 2018-01-07 with Spring Boot 1.5.8.RELEASE**\r\n\r\nIf you want to know how to config it, how to use it, and how to control transaction. I may have answers for you.\r\n\r\nYou can see the runnable example and some explanation in https://www.surasint.com/spring-boot-with-multiple-databases-example/\r\n\r\nI copied some code here.\r\n\r\nFirst you have to set application.properties like this\r\n\r\n    #Database\r\n    database1.datasource.url=jdbc:mysql://localhost/testdb\r\n    database1.datasource.username=root\r\n    database1.datasource.password=root\r\n    database1.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    database2.datasource.url=jdbc:mysql://localhost/testdb2\r\n    database2.datasource.username=root\r\n    database2.datasource.password=root\r\n    database2.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nThen define them as providers (@Bean) like this:\r\n\r\n    @Bean(name = &quot;datasource1&quot;)\r\n    @ConfigurationProperties(&quot;database1.datasource&quot;)\r\n    @Primary\r\n    public DataSource dataSource(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;datasource2&quot;)\r\n    @ConfigurationProperties(&quot;database2.datasource&quot;)\r\n    public DataSource dataSource2(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\nNote that I have @Bean(name=&quot;datasource1&quot;) and @Bean(name=&quot;datasource2&quot;), then you can use it when we need datasource as @Qualifier(&quot;datasource1&quot;) and @Qualifier(&quot;datasource2&quot;) , for example \r\n\r\n    @Qualifier(&quot;datasource1&quot;)\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\nIf you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:\r\n\r\n    @Bean(name=&quot;tm1&quot;)\r\n    @Autowired\r\n    @Primary\r\n    DataSourceTransactionManager tm1(@Qualifier (&quot;datasource1&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\n    @Bean(name=&quot;tm2&quot;)\r\n    @Autowired\r\n    DataSourceTransactionManager tm2(@Qualifier (&quot;datasource2&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\nThen you can use it like\r\n\r\n    @Transactional //this will use the first datasource because it is @primary\r\n\r\nor\r\n\r\n    @Transactional(&quot;tm2&quot;)\r\n\r\n\r\nThis should be enough. See example and detail in the link above.","title":"Spring Boot Multiple Datasource","body":"<p><strong>Update 2018-01-07 with Spring Boot 1.5.8.RELEASE</strong></p>\n\n<p>If you want to know how to config it, how to use it, and how to control transaction. I may have answers for you.</p>\n\n<p>You can see the runnable example and some explanation in <a href=\"https://www.surasint.com/spring-boot-with-multiple-databases-example/\" rel=\"nofollow noreferrer\">https://www.surasint.com/spring-boot-with-multiple-databases-example/</a></p>\n\n<p>I copied some code here.</p>\n\n<p>First you have to set application.properties like this</p>\n\n<pre><code>#Database\ndatabase1.datasource.url=jdbc:mysql://localhost/testdb\ndatabase1.datasource.username=root\ndatabase1.datasource.password=root\ndatabase1.datasource.driver-class-name=com.mysql.jdbc.Driver\n\ndatabase2.datasource.url=jdbc:mysql://localhost/testdb2\ndatabase2.datasource.username=root\ndatabase2.datasource.password=root\ndatabase2.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>Then define them as providers (@Bean) like this:</p>\n\n<pre><code>@Bean(name = \"datasource1\")\n@ConfigurationProperties(\"database1.datasource\")\n@Primary\npublic DataSource dataSource(){\n    return DataSourceBuilder.create().build();\n}\n\n@Bean(name = \"datasource2\")\n@ConfigurationProperties(\"database2.datasource\")\npublic DataSource dataSource2(){\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n\n<p>Note that I have @Bean(name=\"datasource1\") and @Bean(name=\"datasource2\"), then you can use it when we need datasource as @Qualifier(\"datasource1\") and @Qualifier(\"datasource2\") , for example </p>\n\n<pre><code>@Qualifier(\"datasource1\")\n@Autowired\nprivate DataSource dataSource;\n</code></pre>\n\n<p>If you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:</p>\n\n<pre><code>@Bean(name=\"tm1\")\n@Autowired\n@Primary\nDataSourceTransactionManager tm1(@Qualifier (\"datasource1\") DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n\n@Bean(name=\"tm2\")\n@Autowired\nDataSourceTransactionManager tm2(@Qualifier (\"datasource2\") DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n</code></pre>\n\n<p>Then you can use it like</p>\n\n<pre><code>@Transactional //this will use the first datasource because it is @primary\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Transactional(\"tm2\")\n</code></pre>\n\n<p>This should be enough. See example and detail in the link above.</p>\n"},{"tags":[],"owner":{"account_id":14115752,"reputation":21,"user_id":10197565,"display_name":"M. Wajdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535465364,"creation_date":1535465364,"answer_id":52059918,"question_id":27614301,"body_markdown":"MySqlBDConfig.java\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;PACKAGE OF YOUR CRUDS USING MYSQL DATABASE&quot;,entityManagerFactoryRef = &quot;mysqlEmFactory&quot; ,transactionManagerRef = &quot;mysqlTransactionManager&quot;)\r\n    public class MySqlBDConfig{\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t\r\n\t@Bean(name=&quot;mysqlProperities&quot;)\r\n\t@ConfigurationProperties(prefix=&quot;spring.mysql&quot;)\r\n\tpublic DataSourceProperties mysqlProperities(){\r\n\t\treturn new  DataSourceProperties();\r\n\t}\r\n\t\r\n\t\r\n\t@Bean(name=&quot;mysqlDataSource&quot;)\r\n\tpublic DataSource interfaceDS(@Qualifier(&quot;mysqlProperities&quot;)DataSourceProperties dataSourceProperties){\r\n\t\treturn dataSourceProperties.initializeDataSourceBuilder().build();\r\n\t\t\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name=&quot;mysqlEmFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean mysqlEmFactory(@Qualifier(&quot;mysqlDataSource&quot;)DataSource mysqlDataSource,EntityManagerFactoryBuilder builder){\r\n\t\treturn builder.dataSource(mysqlDataSource).packages(&quot;PACKAGE OF YOUR MODELS&quot;).build();\r\n\t}\r\n\t\r\n\t\r\n\t@Bean(name=&quot;mysqlTransactionManager&quot;)\r\n\tpublic PlatformTransactionManager mysqlTransactionManager(@Qualifier(&quot;mysqlEmFactory&quot;)EntityManagerFactory factory){\r\n\t\treturn new JpaTransactionManager(factory);\r\n\t}\r\n    }\r\n\r\nH2DBConfig.java\r\n   \r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;PACKAGE OF YOUR CRUDS USING MYSQL DATABASE&quot;,entityManagerFactoryRef = &quot;dsEmFactory&quot; ,transactionManagerRef = &quot;dsTransactionManager&quot;)\r\n    public class H2DBConfig{\r\n    \r\n        \t@Autowired\r\n        \tprivate Environment env;\r\n        \t\r\n        \t@Bean(name=&quot;dsProperities&quot;)\r\n        \t@ConfigurationProperties(prefix=&quot;spring.h2&quot;)\r\n        \tpublic DataSourceProperties dsProperities(){\r\n        \t\treturn new  DataSourceProperties();\r\n        \t}\r\n        \t\r\n        \t\r\n    \t@Bean(name=&quot;dsDataSource&quot;)\r\n    \tpublic DataSource dsDataSource(@Qualifier(&quot;dsProperities&quot;)DataSourceProperties dataSourceProperties){\r\n    \t\treturn dataSourceProperties.initializeDataSourceBuilder().build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;dsEmFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean dsEmFactory(@Qualifier(&quot;dsDataSource&quot;)DataSource dsDataSource,EntityManagerFactoryBuilder builder){\r\n    \t\tLocalContainerEntityManagerFactoryBean em =  builder.dataSource(dsDataSource).packages(&quot;PACKAGE OF YOUR MODELS&quot;).build();\r\n    \t\tHibernateJpaVendorAdapter ven = new HibernateJpaVendorAdapter();\r\n    \t\tem.setJpaVendorAdapter(ven);\r\n    \t\tHashMap&lt;String, Object&gt; prop = new HashMap&lt;&gt;();\r\n    \t\tprop.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.jpa.properties.hibernate.dialect&quot;));\r\n    \t\tprop.put(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;spring.jpa.show-sql&quot;));\r\n    \t\t\r\n    \t\tem.setJpaPropertyMap(prop);\r\n    \t\tem.afterPropertiesSet();\r\n    \t\treturn em;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean(name=&quot;dsTransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager dsTransactionManager(@Qualifier(&quot;dsEmFactory&quot;)EntityManagerFactory factory){\r\n    \t\treturn new JpaTransactionManager(factory);\r\n    \t}\r\n    }\r\n\r\napplication.properties\r\n\r\n    #---mysql DATASOURCE---\r\n    spring.mysql.driverClassName = com.mysql.jdbc.Driver\r\n    spring.mysql.url = jdbc:mysql://127.0.0.1:3306/test\r\n    spring.mysql.username = root\r\n    spring.mysql.password = root\r\n    #----------------------\r\n    \r\n    #---H2 DATASOURCE----\r\n    spring.h2.driverClassName = org.h2.Driver\r\n    spring.h2.url = jdbc:h2:file:~/test\r\n    spring.h2.username = root\r\n    spring.h2.password = root\r\n    #---------------------------\r\n    \r\n    #------JPA----- \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args)   {\r\n    \t\tApplicationContext ac=SpringApplication.run(KeopsSageInvoiceApplication.class, args);\r\n    \t\tUserMysqlDao userRepository = ac.getBean(UserMysqlDao.class)\r\n            //for exemple save a new user using your repository \r\n            userRepository.save(new UserMysql());\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Spring Boot Multiple Datasource","body":"<p>MySqlBDConfig.java</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = \"PACKAGE OF YOUR CRUDS USING MYSQL DATABASE\",entityManagerFactoryRef = \"mysqlEmFactory\" ,transactionManagerRef = \"mysqlTransactionManager\")\npublic class MySqlBDConfig{\n\n@Autowired\nprivate Environment env;\n\n@Bean(name=\"mysqlProperities\")\n@ConfigurationProperties(prefix=\"spring.mysql\")\npublic DataSourceProperties mysqlProperities(){\n    return new  DataSourceProperties();\n}\n\n\n@Bean(name=\"mysqlDataSource\")\npublic DataSource interfaceDS(@Qualifier(\"mysqlProperities\")DataSourceProperties dataSourceProperties){\n    return dataSourceProperties.initializeDataSourceBuilder().build();\n\n}\n\n@Primary\n@Bean(name=\"mysqlEmFactory\")\npublic LocalContainerEntityManagerFactoryBean mysqlEmFactory(@Qualifier(\"mysqlDataSource\")DataSource mysqlDataSource,EntityManagerFactoryBuilder builder){\n    return builder.dataSource(mysqlDataSource).packages(\"PACKAGE OF YOUR MODELS\").build();\n}\n\n\n@Bean(name=\"mysqlTransactionManager\")\npublic PlatformTransactionManager mysqlTransactionManager(@Qualifier(\"mysqlEmFactory\")EntityManagerFactory factory){\n    return new JpaTransactionManager(factory);\n}\n}\n</code></pre>\n\n<p>H2DBConfig.java</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = \"PACKAGE OF YOUR CRUDS USING MYSQL DATABASE\",entityManagerFactoryRef = \"dsEmFactory\" ,transactionManagerRef = \"dsTransactionManager\")\npublic class H2DBConfig{\n\n        @Autowired\n        private Environment env;\n\n        @Bean(name=\"dsProperities\")\n        @ConfigurationProperties(prefix=\"spring.h2\")\n        public DataSourceProperties dsProperities(){\n            return new  DataSourceProperties();\n        }\n\n\n    @Bean(name=\"dsDataSource\")\n    public DataSource dsDataSource(@Qualifier(\"dsProperities\")DataSourceProperties dataSourceProperties){\n        return dataSourceProperties.initializeDataSourceBuilder().build();\n\n    }\n\n    @Bean(name=\"dsEmFactory\")\n    public LocalContainerEntityManagerFactoryBean dsEmFactory(@Qualifier(\"dsDataSource\")DataSource dsDataSource,EntityManagerFactoryBuilder builder){\n        LocalContainerEntityManagerFactoryBean em =  builder.dataSource(dsDataSource).packages(\"PACKAGE OF YOUR MODELS\").build();\n        HibernateJpaVendorAdapter ven = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(ven);\n        HashMap&lt;String, Object&gt; prop = new HashMap&lt;&gt;();\n        prop.put(\"hibernate.dialect\", env.getProperty(\"spring.jpa.properties.hibernate.dialect\"));\n        prop.put(\"hibernate.show_sql\", env.getProperty(\"spring.jpa.show-sql\"));\n\n        em.setJpaPropertyMap(prop);\n        em.afterPropertiesSet();\n        return em;\n    }\n\n\n    @Bean(name=\"dsTransactionManager\")\n    public PlatformTransactionManager dsTransactionManager(@Qualifier(\"dsEmFactory\")EntityManagerFactory factory){\n        return new JpaTransactionManager(factory);\n    }\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>#---mysql DATASOURCE---\nspring.mysql.driverClassName = com.mysql.jdbc.Driver\nspring.mysql.url = jdbc:mysql://127.0.0.1:3306/test\nspring.mysql.username = root\nspring.mysql.password = root\n#----------------------\n\n#---H2 DATASOURCE----\nspring.h2.driverClassName = org.h2.Driver\nspring.h2.url = jdbc:h2:file:~/test\nspring.h2.username = root\nspring.h2.password = root\n#---------------------------\n\n#------JPA----- \nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n</code></pre>\n\n<p>Application.java</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n\n    public static void main(String[] args)   {\n        ApplicationContext ac=SpringApplication.run(KeopsSageInvoiceApplication.class, args);\n        UserMysqlDao userRepository = ac.getBean(UserMysqlDao.class)\n        //for exemple save a new user using your repository \n        userRepository.save(new UserMysql());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28780885,"reputation":11,"user_id":22042536,"display_name":"parad0X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699261332,"creation_date":1699261332,"answer_id":77429897,"question_id":27614301,"body_markdown":"Here&#39;s an updated solution for MongoDB type No-SQL databases.\r\n\r\n```java\r\npackage com.eg.config;\r\n\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.MongoCredential;\r\nimport com.mongodb.ServerAddress;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.mongo.MongoProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.mongodb.MongoDatabaseFactory;\r\nimport org.springframework.data.mongodb.core.MongoTemplate;\r\nimport org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@Configuration\r\n@EnableMongoRepositories(basePackages = {&quot;com.example.eg.model&quot;,&quot;com.example.eg.repo&quot;},\r\n        mongoTemplateRef = &quot;egMongoTemplate&quot;)\r\n@EnableConfigurationProperties\r\npublic class EgMongoDBConfig {\r\n\r\n    @Value(&quot;${connect-timeout}&quot;)\r\n    private Integer connectTimeout;\r\n\r\n    @Value(&quot;${local-threshold}&quot;)\r\n    private Integer localThreshold;\r\n\r\n    @Value(&quot;${ssl-enabled}&quot;)\r\n    private Boolean sslEnabled;\r\n\r\n    @Value(&quot;${ssl-invalid-host-name-allowed}&quot;)\r\n    private Boolean sslInvalidHostNameAllowed;\r\n\r\n    @Value(&quot;${max-wait-time}&quot;)\r\n    private Integer maxWaitTime;\r\n\r\n    @Value(&quot;${max-connection-idle-time}&quot;)\r\n    private Integer maxConnectionIdleTime;\r\n\r\n    @Value(&quot;${max-connection-life-time}&quot;)\r\n    private Integer maxConnectionLifeTime;\r\n\r\n    @Value(&quot;${server-selection-timeout}&quot;)\r\n    private Integer serverSelectionTimeout;\r\n\r\n    @Value(&quot;${min-heartbeat-frequency}&quot;)\r\n    private Integer minHeartbeatFrequency;\r\n\r\n    @Value(&quot;${heartbeat-frequency}&quot;)\r\n    private Integer heartbeatFrequency;\r\n\r\n    @Bean(name = &quot;egProperties&quot;)\r\n    @ConfigurationProperties(prefix = &quot;mongo.eg&quot;)\r\n    public MongoProperties egProperties(){\r\n        return new MongoProperties();\r\n    }\r\n\r\n    @Bean(name = &quot;egMongoClient&quot;)\r\n    public MongoClient mongoClient(@Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\r\n        List&lt;ServerAddress&gt; serverAddresses = new ArrayList&lt;&gt;();\r\n        String[] addressList = mongoProperties.getHost().split(&quot;,&quot;);\r\n        for (String address: addressList){\r\n            String[] hostAndPort = address.split(&quot;:&quot;);\r\n            String host = hostAndPort[0];\r\n            int port = Integer.parseInt(hostAndPort[1]);\r\n            ServerAddress serverAddress = new ServerAddress(host,port);\r\n            serverAddresses.add(serverAddress);\r\n        }\r\n\r\n        MongoCredential credential = MongoCredential.createCredential(mongoProperties.getUsername(),\r\n                        mongoProperties.getAuthenticationDatabase(),\r\n                        mongoProperties.getPassword());\r\n\r\n        return MongoClients.create(MongoClientSettings.builder()\r\n                .applyToClusterSettings(builder -&gt; builder\r\n                        .hosts(serverAddresses)\r\n                        .requiredReplicaSetName(mongoProperties.getReplicaSetName())\r\n                        .localThreshold(localThreshold, TimeUnit.MILLISECONDS)\r\n                        .serverSelectionTimeout(serverSelectionTimeout,TimeUnit.MILLISECONDS))\r\n                .applyToSocketSettings(builder -&gt; builder\r\n                        .connectTimeout(connectTimeout,TimeUnit.MILLISECONDS))\r\n                .applyToSslSettings(builder -&gt; builder\r\n                        .enabled(sslEnabled)\r\n                        .invalidHostNameAllowed(sslInvalidHostNameAllowed))\r\n                .applyToConnectionPoolSettings(builder -&gt; builder\r\n                        .maxConnectionIdleTime(maxConnectionIdleTime,TimeUnit.MILLISECONDS)\r\n                        .maxConnectionLifeTime(maxConnectionLifeTime,TimeUnit.MILLISECONDS)\r\n                        .maxWaitTime(maxWaitTime,TimeUnit.MILLISECONDS))\r\n                .applyToServerSettings(builder -&gt; builder\r\n                        .minHeartbeatFrequency(minHeartbeatFrequency,TimeUnit.MILLISECONDS)\r\n                        .heartbeatFrequency(heartbeatFrequency,TimeUnit.MILLISECONDS))\r\n                .credential(credential)\r\n                .build());\r\n    }\r\n\r\n    @Bean(name = &quot;egMongoDBFactory&quot;)\r\n    public MongoDatabaseFactory mongoDatabaseFactory(\r\n            @Qualifier(&quot;egMongoClient&quot;) MongoClient mongoClient,\r\n            @Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\r\n        return new SimpleMongoClientDatabaseFactory(mongoClient,mongoProperties.getDatabase());\r\n    }\r\n\r\n    @Bean(name = &quot;egMongoTemplate&quot;)\r\n    public MongoTemplate mongoTemplate(@Qualifier(&quot;egMongoDBFactory&quot;) MongoDatabaseFactory mongoDatabaseFactory){\r\n        return new MongoTemplate(mongoDatabaseFactory);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAdded a sample ```application.properties``` for reference\r\n\r\n```application.properties\r\nconnect-timeout=10000\r\nlocal-threshold=15\r\nssl-enabled=false\r\nssl-invalid-host-name-allowed=false\r\nmax-wait-time=120000\r\nmax-connection-idle-time=0\r\nmax-connection-life-time=0\r\nserver-selection-timeout=30000\r\nmin-heartbeat-frequency=500\r\nheartbeat-frequency=10000\r\n\r\nmongodb.eg.replica-set=rd0\r\nmongodb.eg.host=egw1634.bs.com:57054,egw1635.bs.com:57054,egw1636.bs.com:57054\r\nmongodb.eg.port=57054\r\nmongodb.eg.database=EG_DEV\r\nmongodb.eg.username=admin\r\nmongodb.eg.password=password\r\nmongodb.eg.authentication-database=admin\r\n```\r\n\r\nYou can add multiple databases as required with the above template.","title":"Spring Boot Multiple Datasource","body":"<p>Here's an updated solution for MongoDB type No-SQL databases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eg.config;\n\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.MongoCredential;\nimport com.mongodb.ServerAddress;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.mongo.MongoProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.mongodb.MongoDatabaseFactory;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\n@Configuration\n@EnableMongoRepositories(basePackages = {&quot;com.example.eg.model&quot;,&quot;com.example.eg.repo&quot;},\n        mongoTemplateRef = &quot;egMongoTemplate&quot;)\n@EnableConfigurationProperties\npublic class EgMongoDBConfig {\n\n    @Value(&quot;${connect-timeout}&quot;)\n    private Integer connectTimeout;\n\n    @Value(&quot;${local-threshold}&quot;)\n    private Integer localThreshold;\n\n    @Value(&quot;${ssl-enabled}&quot;)\n    private Boolean sslEnabled;\n\n    @Value(&quot;${ssl-invalid-host-name-allowed}&quot;)\n    private Boolean sslInvalidHostNameAllowed;\n\n    @Value(&quot;${max-wait-time}&quot;)\n    private Integer maxWaitTime;\n\n    @Value(&quot;${max-connection-idle-time}&quot;)\n    private Integer maxConnectionIdleTime;\n\n    @Value(&quot;${max-connection-life-time}&quot;)\n    private Integer maxConnectionLifeTime;\n\n    @Value(&quot;${server-selection-timeout}&quot;)\n    private Integer serverSelectionTimeout;\n\n    @Value(&quot;${min-heartbeat-frequency}&quot;)\n    private Integer minHeartbeatFrequency;\n\n    @Value(&quot;${heartbeat-frequency}&quot;)\n    private Integer heartbeatFrequency;\n\n    @Bean(name = &quot;egProperties&quot;)\n    @ConfigurationProperties(prefix = &quot;mongo.eg&quot;)\n    public MongoProperties egProperties(){\n        return new MongoProperties();\n    }\n\n    @Bean(name = &quot;egMongoClient&quot;)\n    public MongoClient mongoClient(@Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\n        List&lt;ServerAddress&gt; serverAddresses = new ArrayList&lt;&gt;();\n        String[] addressList = mongoProperties.getHost().split(&quot;,&quot;);\n        for (String address: addressList){\n            String[] hostAndPort = address.split(&quot;:&quot;);\n            String host = hostAndPort[0];\n            int port = Integer.parseInt(hostAndPort[1]);\n            ServerAddress serverAddress = new ServerAddress(host,port);\n            serverAddresses.add(serverAddress);\n        }\n\n        MongoCredential credential = MongoCredential.createCredential(mongoProperties.getUsername(),\n                        mongoProperties.getAuthenticationDatabase(),\n                        mongoProperties.getPassword());\n\n        return MongoClients.create(MongoClientSettings.builder()\n                .applyToClusterSettings(builder -&gt; builder\n                        .hosts(serverAddresses)\n                        .requiredReplicaSetName(mongoProperties.getReplicaSetName())\n                        .localThreshold(localThreshold, TimeUnit.MILLISECONDS)\n                        .serverSelectionTimeout(serverSelectionTimeout,TimeUnit.MILLISECONDS))\n                .applyToSocketSettings(builder -&gt; builder\n                        .connectTimeout(connectTimeout,TimeUnit.MILLISECONDS))\n                .applyToSslSettings(builder -&gt; builder\n                        .enabled(sslEnabled)\n                        .invalidHostNameAllowed(sslInvalidHostNameAllowed))\n                .applyToConnectionPoolSettings(builder -&gt; builder\n                        .maxConnectionIdleTime(maxConnectionIdleTime,TimeUnit.MILLISECONDS)\n                        .maxConnectionLifeTime(maxConnectionLifeTime,TimeUnit.MILLISECONDS)\n                        .maxWaitTime(maxWaitTime,TimeUnit.MILLISECONDS))\n                .applyToServerSettings(builder -&gt; builder\n                        .minHeartbeatFrequency(minHeartbeatFrequency,TimeUnit.MILLISECONDS)\n                        .heartbeatFrequency(heartbeatFrequency,TimeUnit.MILLISECONDS))\n                .credential(credential)\n                .build());\n    }\n\n    @Bean(name = &quot;egMongoDBFactory&quot;)\n    public MongoDatabaseFactory mongoDatabaseFactory(\n            @Qualifier(&quot;egMongoClient&quot;) MongoClient mongoClient,\n            @Qualifier(&quot;egProperties&quot;) MongoProperties mongoProperties){\n        return new SimpleMongoClientDatabaseFactory(mongoClient,mongoProperties.getDatabase());\n    }\n\n    @Bean(name = &quot;egMongoTemplate&quot;)\n    public MongoTemplate mongoTemplate(@Qualifier(&quot;egMongoDBFactory&quot;) MongoDatabaseFactory mongoDatabaseFactory){\n        return new MongoTemplate(mongoDatabaseFactory);\n    }\n\n}\n</code></pre>\n<p>Added a sample <code>application.properties</code> for reference</p>\n<pre><code>connect-timeout=10000\nlocal-threshold=15\nssl-enabled=false\nssl-invalid-host-name-allowed=false\nmax-wait-time=120000\nmax-connection-idle-time=0\nmax-connection-life-time=0\nserver-selection-timeout=30000\nmin-heartbeat-frequency=500\nheartbeat-frequency=10000\n\nmongodb.eg.replica-set=rd0\nmongodb.eg.host=egw1634.bs.com:57054,egw1635.bs.com:57054,egw1636.bs.com:57054\nmongodb.eg.port=57054\nmongodb.eg.database=EG_DEV\nmongodb.eg.username=admin\nmongodb.eg.password=password\nmongodb.eg.authentication-database=admin\n</code></pre>\n<p>You can add multiple databases as required with the above template.</p>\n"}],"owner":{"account_id":1008608,"reputation":1262,"user_id":1021681,"accept_rate":69,"display_name":"euclid135"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166270,"favorite_count":0,"down_vote_count":2,"up_vote_count":75,"answer_count":10,"score":73,"last_activity_date":1699261332,"creation_date":1419310601,"question_id":27614301,"body_markdown":"I&#39;m quite new to spring boot and I&#39;d like to create a multiple datasource for my project.\r\nHere is my current case. I have two packages for entity for multiple database. Let&#39;s say\r\n\r\n    com.test.entity.db.mysql ; for entities that belong to MySql\r\n    com.test.entity.db.h2 ; for entities that belong to H2 Databases\r\n\r\nSo, currently I have two entities class\r\n\r\nUserMySql.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;usermysql&quot;)\r\n    public class UserMysql{\r\n\t\r\n\t    @Id\r\n    \t@GeneratedValue\r\n\t    public int id;\r\n\t\r\n    \tpublic String name;\r\n\t\r\n    }\r\n\r\nUserH2.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;userh2&quot;)\r\n    public class Userh2 {\r\n\r\n    \t@Id\r\n\t    @GeneratedValue\r\n    \tpublic int id;\r\n\t\r\n\t    public String name;\r\n    }\r\n\r\nI&#39;d like to achieve a configuration where if I create user from UserMySql, it will be saved to MySql Database, and if I create user from Userh2 it will be saved to H2 Databases. So, I also have two DBConfig, let&#39;s say MySqlDbConfig and H2DbConfig. \r\n\r\n(com.test.model is package where I&#39;ll put my Repositories class. It will be defined below)\r\n\r\nMySqlDbConfig.java\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n\t\tbasePackages=&quot;com.test.model&quot;,\r\n\t\tentityManagerFactoryRef = &quot;mysqlEntityManager&quot;)\r\n    public class MySqlDBConfig {\r\n\t\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(prefix=&quot;datasource.test.mysql&quot;)\r\n\tpublic DataSource mysqlDataSource(){\r\n\t\treturn DataSourceBuilder\r\n\t\t\t\t.create()\r\n\t\t\t\t.build();\r\n\t}\r\n\t\r\n\t@Bean(name=&quot;mysqlEntityManager&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean mySqlEntityManagerFactory(\r\n\t\t\tEntityManagerFactoryBuilder builder){\t\t\r\n\t\treturn builder.dataSource(mysqlDataSource())\t\t\t\t\r\n\t\t\t\t.packages(&quot;com.test.entity.db.mysql&quot;)\r\n\t\t\t\t.build();\r\n\t}\t\r\n\r\n    }\r\n\r\nH2DbConfig.java\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n\t\tentityManagerFactoryRef = &quot;h2EntityManager&quot;)\r\n    public class H2DbConfig {\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(prefix=&quot;datasource.test.h2&quot;)\r\n\tpublic DataSource h2DataSource(){\r\n\t\treturn DataSourceBuilder\r\n\t\t\t\t.create()\r\n\t\t\t\t.driverClassName(&quot;org.h2.Driver&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n\t\r\n\t@Bean(name=&quot;h2EntityManager&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean h2EntityManagerFactory(\r\n\t\t\tEntityManagerFactoryBuilder builder){\r\n\t\treturn builder.dataSource(h2DataSource())\r\n\t\t\t\t.packages(&quot;com.test.entity.db.h2&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n    }\r\n\r\nMy application.properties file\r\n\r\n    #DataSource settings for mysql\r\n    datasource.test.mysql.jdbcUrl = jdbc:mysql://127.0.0.1:3306/test\r\n    datasource.test.mysql.username = root\r\n    datasource.test.mysql.password = root\r\n    datasource.test.mysql.driverClassName = com.mysql.jdbc.Driver\r\n\r\n    #DataSource settings for H2\r\n    datasource.test.h2.jdbcUrl = jdbc:h2:~/test\r\n    datasource.test.h2.username = sa\r\n\r\n    # DataSource settings: set here configurations for the database connection\r\n    spring.datasource.url = jdbc:mysql://127.0.0.1:3306/test\r\n    spring.datasource.username = root\r\n    spring.datasource.password = root\r\n    spring.datasource.driverClassName = com.mysql.jdbc.Driver\r\n    spring.datasource.validation-query=SELECT 1\r\n\r\n\r\n    # Specify the DBMS\r\n    spring.jpa.database = MYSQL\r\n\r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql = true\r\n\r\n    # Hibernate settings are prefixed with spring.jpa.hibernate.*\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n    spring.jpa.hibernate.show_sql = true\r\n    spring.jpa.hibernate.format_sql = true\r\n\r\n    server.port=8080\r\n    endpoints.shutdown.enabled=false\r\n\r\n\r\nAnd then for crud I have UserMySqlDao and UserH2Dao\r\n\r\nUserMySqlDao.java\r\n\r\n    @Transactional \r\n    @Repository\r\n    public interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\r\n\r\n\t    public UserMysql findByName(String name);\r\n    }\r\n\r\nUserH2Dao.java\r\n\r\n    @Transactional\r\n    @Repositories\r\n    public interface UserH2Dao extends CrudRepository&lt;Userh2, Integer&gt;{\r\n\r\n\t    public Userh2 findByName(String name);\r\n    }\r\n\r\nAnd for last, I have an UserController as endpoint to access my service\r\n\r\nUserController.java\r\n\r\n    @Controller \r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController {\r\n\r\n\r\n\t@Autowired\r\n\tprivate UserMysqlDao userMysqlDao;\r\n\t\r\n\t@Autowired\r\n\tprivate UserH2Dao userH2Dao;\r\n\t\r\n\t@RequestMapping(&quot;/createM&quot;)\r\n\t@ResponseBody\r\n\tpublic String createUserMySql(String name){\r\n\t\tUserMysql user = new UserMysql();\r\n\t\ttry{\t\t\t\r\n\t\t\tuser.name = name;\r\n\t\t\tuserMysqlDao.save(user);\r\n\t\t\treturn &quot;Success creating user with Id: &quot;+user.id;\r\n\t\t}catch(Exception ex){\r\n\t\t\treturn &quot;Error creating the user: &quot; + ex.toString();\r\n\t\t}\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/createH&quot;)\r\n\t@ResponseBody\r\n\tpublic String createUserH2(String name){\r\n\t\tUserh2 user = new Userh2();\r\n\t\ttry{\r\n\t\t\tuser.name = name;\r\n\t\t\tuserH2Dao.save(user);\r\n\t\t\treturn &quot;Success creating user with Id: &quot;+user.id;\r\n\t\t}catch(Exception ex){\r\n\t\t\treturn &quot;Error creating the user: &quot; + ex.toString();\r\n\t\t}\r\n\t}\t\r\n    }\r\n\r\n\r\nApplication.java\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\n    @EntityScan(basePackages=&quot;com.test.entity.db&quot;)\r\n    @ComponentScan\r\n    public class Application {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Entering spring boot&quot;);\r\n        ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n       \r\n        System.out.println(&quot;Let&#39;s inspect the beans provided by Spring Boot:&quot;);\r\n        String[] beanNames = ctx.getBeanDefinitionNames();\r\n        Arrays.sort(beanNames);\r\n        for (String beanName : beanNames) {\r\n            System.out.print(beanName);\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n    }\r\n\r\n\r\nWith this configuration my Spring boot run well, but when I access \r\n\r\n    http://localhost/user/createM?name=myname it writes an exception\r\n\r\n    Error creating the user: org.springframework.dao.InvalidDataAccessResourceUsageException:   could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\r\nI&#39;ve googling around and haven&#39;t got a solution yet. Any ideas why this exception occurs? And is this the best way to implement multiple datasource to implement my case above? I&#39;m open to full refactor if needed.\r\n\r\nThanks","title":"Spring Boot Multiple Datasource","body":"<p>I'm quite new to spring boot and I'd like to create a multiple datasource for my project.\nHere is my current case. I have two packages for entity for multiple database. Let's say</p>\n\n<pre><code>com.test.entity.db.mysql ; for entities that belong to MySql\ncom.test.entity.db.h2 ; for entities that belong to H2 Databases\n</code></pre>\n\n<p>So, currently I have two entities class</p>\n\n<p>UserMySql.java</p>\n\n<pre><code>@Entity\n@Table(name=\"usermysql\")\npublic class UserMysql{\n\n    @Id\n    @GeneratedValue\n    public int id;\n\n    public String name;\n\n}\n</code></pre>\n\n<p>UserH2.java</p>\n\n<pre><code>@Entity\n@Table(name=\"userh2\")\npublic class Userh2 {\n\n    @Id\n    @GeneratedValue\n    public int id;\n\n    public String name;\n}\n</code></pre>\n\n<p>I'd like to achieve a configuration where if I create user from UserMySql, it will be saved to MySql Database, and if I create user from Userh2 it will be saved to H2 Databases. So, I also have two DBConfig, let's say MySqlDbConfig and H2DbConfig. </p>\n\n<p>(com.test.model is package where I'll put my Repositories class. It will be defined below)</p>\n\n<p>MySqlDbConfig.java</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    basePackages=\"com.test.model\",\n    entityManagerFactoryRef = \"mysqlEntityManager\")\npublic class MySqlDBConfig {\n\n@Bean\n@Primary\n@ConfigurationProperties(prefix=\"datasource.test.mysql\")\npublic DataSource mysqlDataSource(){\n    return DataSourceBuilder\n            .create()\n            .build();\n}\n\n@Bean(name=\"mysqlEntityManager\")\npublic LocalContainerEntityManagerFactoryBean mySqlEntityManagerFactory(\n        EntityManagerFactoryBuilder builder){       \n    return builder.dataSource(mysqlDataSource())                \n            .packages(\"com.test.entity.db.mysql\")\n            .build();\n}   \n\n}\n</code></pre>\n\n<p>H2DbConfig.java</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    entityManagerFactoryRef = \"h2EntityManager\")\npublic class H2DbConfig {\n\n@Bean\n@ConfigurationProperties(prefix=\"datasource.test.h2\")\npublic DataSource h2DataSource(){\n    return DataSourceBuilder\n            .create()\n            .driverClassName(\"org.h2.Driver\")\n            .build();\n}\n\n@Bean(name=\"h2EntityManager\")\npublic LocalContainerEntityManagerFactoryBean h2EntityManagerFactory(\n        EntityManagerFactoryBuilder builder){\n    return builder.dataSource(h2DataSource())\n            .packages(\"com.test.entity.db.h2\")\n            .build();\n}\n}\n</code></pre>\n\n<p>My application.properties file</p>\n\n<pre><code>#DataSource settings for mysql\ndatasource.test.mysql.jdbcUrl = jdbc:mysql://127.0.0.1:3306/test\ndatasource.test.mysql.username = root\ndatasource.test.mysql.password = root\ndatasource.test.mysql.driverClassName = com.mysql.jdbc.Driver\n\n#DataSource settings for H2\ndatasource.test.h2.jdbcUrl = jdbc:h2:~/test\ndatasource.test.h2.username = sa\n\n# DataSource settings: set here configurations for the database connection\nspring.datasource.url = jdbc:mysql://127.0.0.1:3306/test\nspring.datasource.username = root\nspring.datasource.password = root\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\nspring.datasource.validation-query=SELECT 1\n\n\n# Specify the DBMS\nspring.jpa.database = MYSQL\n\n# Show or not log for each sql query\nspring.jpa.show-sql = true\n\n# Hibernate settings are prefixed with spring.jpa.hibernate.*\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.hibernate.show_sql = true\nspring.jpa.hibernate.format_sql = true\n\nserver.port=8080\nendpoints.shutdown.enabled=false\n</code></pre>\n\n<p>And then for crud I have UserMySqlDao and UserH2Dao</p>\n\n<p>UserMySqlDao.java</p>\n\n<pre><code>@Transactional \n@Repository\npublic interface UserMysqlDao extends CrudRepository&lt;UserMysql, Integer&gt;{\n\n    public UserMysql findByName(String name);\n}\n</code></pre>\n\n<p>UserH2Dao.java</p>\n\n<pre><code>@Transactional\n@Repositories\npublic interface UserH2Dao extends CrudRepository&lt;Userh2, Integer&gt;{\n\n    public Userh2 findByName(String name);\n}\n</code></pre>\n\n<p>And for last, I have an UserController as endpoint to access my service</p>\n\n<p>UserController.java</p>\n\n<pre><code>@Controller \n@RequestMapping(\"/user\")\npublic class UserController {\n\n\n@Autowired\nprivate UserMysqlDao userMysqlDao;\n\n@Autowired\nprivate UserH2Dao userH2Dao;\n\n@RequestMapping(\"/createM\")\n@ResponseBody\npublic String createUserMySql(String name){\n    UserMysql user = new UserMysql();\n    try{            \n        user.name = name;\n        userMysqlDao.save(user);\n        return \"Success creating user with Id: \"+user.id;\n    }catch(Exception ex){\n        return \"Error creating the user: \" + ex.toString();\n    }\n}\n\n@RequestMapping(\"/createH\")\n@ResponseBody\npublic String createUserH2(String name){\n    Userh2 user = new Userh2();\n    try{\n        user.name = name;\n        userH2Dao.save(user);\n        return \"Success creating user with Id: \"+user.id;\n    }catch(Exception ex){\n        return \"Error creating the user: \" + ex.toString();\n    }\n}   \n}\n</code></pre>\n\n<p>Application.java</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\n@EntityScan(basePackages=\"com.test.entity.db\")\n@ComponentScan\npublic class Application {\n\npublic static void main(String[] args) {\n    System.out.println(\"Entering spring boot\");\n    ApplicationContext ctx = SpringApplication.run(Application.class, args);\n\n    System.out.println(\"Let's inspect the beans provided by Spring Boot:\");\n    String[] beanNames = ctx.getBeanDefinitionNames();\n    Arrays.sort(beanNames);\n    for (String beanName : beanNames) {\n        System.out.print(beanName);\n        System.out.print(\" \");\n    }\n\n    System.out.println(\"\");\n}\n\n}\n</code></pre>\n\n<p>With this configuration my Spring boot run well, but when I access </p>\n\n<pre><code>http://localhost/user/createM?name=myname it writes an exception\n\nError creating the user: org.springframework.dao.InvalidDataAccessResourceUsageException:   could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n</code></pre>\n\n<p>I've googling around and haven't got a solution yet. Any ideas why this exception occurs? And is this the best way to implement multiple datasource to implement my case above? I'm open to full refactor if needed.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium","testng"],"answers":[{"tags":[],"owner":{"account_id":4841238,"reputation":3588,"user_id":3906213,"accept_rate":60,"display_name":"peetya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427894289,"creation_date":1427894289,"answer_id":29391904,"question_id":29264755,"body_markdown":"Your example code is JUnit but you mentioned that you are using TestNG. In that case you can use @Parameters to pass different parameters to your tests. Doc: http://testng.org/doc/documentation-main.html#parameters\r\n\r\nExample:\r\n\r\ntestng.xml\r\n\r\n    &lt;suite&gt;\r\n        &lt;test name=&quot;firstTest&quot;&gt;\r\n            &lt;parameter name=&quot;username&quot; value=&quot;username1&quot;/&gt;\r\n            &lt;parameter name=&quot;password&quot; value=&quot;password1&quot;/&gt;\r\n            ....\r\n        &lt;/test&gt;\r\n            &lt;test name=&quot;secondTest&quot;&gt;\r\n            &lt;parameter name=&quot;username&quot; value=&quot;username2&quot;/&gt;\r\n            &lt;parameter name=&quot;password&quot; value=&quot;password2&quot;/&gt;\r\n            ....\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nYour class:\r\n\r\n      @Parameters({&quot;username&quot;, &quot;password&quot;})\r\n      @BeforeTest\r\n      public void beforeTest(String username, String password) {\r\n        this.getDriver().get(&quot;http://mypage.com&quot;);\r\n        this.getDriver().findElement(By.id(&quot;usernameInputField&quot;)).sendKeys(username);\r\n        this.getDriver().findElement(By.id(&quot;passwordInputField&quot;)).sendKeys(password);\r\n        ...\r\n      }","title":"Selenium - Multi browser and multi user log in","body":"<p>Your example code is JUnit but you mentioned that you are using TestNG. In that case you can use @Parameters to pass different parameters to your tests. Doc: <a href=\"http://testng.org/doc/documentation-main.html#parameters\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#parameters</a></p>\n\n<p>Example:</p>\n\n<p>testng.xml</p>\n\n<pre><code>&lt;suite&gt;\n    &lt;test name=\"firstTest\"&gt;\n        &lt;parameter name=\"username\" value=\"username1\"/&gt;\n        &lt;parameter name=\"password\" value=\"password1\"/&gt;\n        ....\n    &lt;/test&gt;\n        &lt;test name=\"secondTest\"&gt;\n        &lt;parameter name=\"username\" value=\"username2\"/&gt;\n        &lt;parameter name=\"password\" value=\"password2\"/&gt;\n        ....\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>Your class:</p>\n\n<pre><code>  @Parameters({\"username\", \"password\"})\n  @BeforeTest\n  public void beforeTest(String username, String password) {\n    this.getDriver().get(\"http://mypage.com\");\n    this.getDriver().findElement(By.id(\"usernameInputField\")).sendKeys(username);\n    this.getDriver().findElement(By.id(\"passwordInputField\")).sendKeys(password);\n    ...\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7723857,"reputation":470,"user_id":5849170,"accept_rate":57,"display_name":"Neagu V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536589685,"creation_date":1536589685,"answer_id":52260041,"question_id":29264755,"body_markdown":"Create your own annotation e.g.\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface TestCaseAuthentication {\r\n    \tString userID();\r\n    \r\n    \tString password();\r\n    }\r\n\r\nCall it on each test entering user/password:\r\n\r\n\t\t@TestCaseAuthentication(password = &quot;testtest&quot;, userID = &quot;test&quot;)\r\n\r\nGet the values from tests\r\n\r\n    if (method.isAnnotationPresent(TestCaseAuthentication.class)) {\r\n    \t\t\tTestCaseAuthentication userPassword = method.getAnnotation(TestCaseAuthentication.class);\r\n    \t\t\tif (userPassword != null) {\r\n    \t\t\t\t\tvalueUserID = userPassword.userID();\r\n    \t\t\t\t\tvaluePassword = userPassword.password();\r\n    \t\t\t\t} else {\r\n    \t\t\t\tfail(&quot;Invalid UserID or Password&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nUse the values in your login method.\r\n\r\nLet me know if you need more details!\r\n","title":"Selenium - Multi browser and multi user log in","body":"<p>Create your own annotation e.g.</p>\n\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface TestCaseAuthentication {\n    String userID();\n\n    String password();\n}\n</code></pre>\n\n<p>Call it on each test entering user/password:</p>\n\n<pre><code>    @TestCaseAuthentication(password = \"testtest\", userID = \"test\")\n</code></pre>\n\n<p>Get the values from tests</p>\n\n<pre><code>if (method.isAnnotationPresent(TestCaseAuthentication.class)) {\n            TestCaseAuthentication userPassword = method.getAnnotation(TestCaseAuthentication.class);\n            if (userPassword != null) {\n                    valueUserID = userPassword.userID();\n                    valuePassword = userPassword.password();\n                } else {\n                fail(\"Invalid UserID or Password\");\n            }\n        }\n</code></pre>\n\n<p>Use the values in your login method.</p>\n\n<p>Let me know if you need more details!</p>\n"}],"owner":{"account_id":4518693,"reputation":41,"user_id":3672693,"display_name":"user3672693"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699261295,"creation_date":1427311521,"question_id":29264755,"body_markdown":"We are trying to start implementing automation for regression testing on our transaction based website. I successfully setup testng xml to open firefox, IE, and Chrome. And it will run the transaction class. In the setUP method with parameters it checks for browser and opens the correct browser for that thread. Then it is directed to the main() method test which starts up the Login class before coming back to the transaction class to actually do the transaction test. The reason for this is to have an organized structure that only has one test in each class for debugging purposes. \r\n\r\nWhen I run this test using a single user credential it runs fine and completes both tests. The problem is that our system allows a user to enter a transaction once every 10 seconds (just one of our security features to avoid refreshing or multiple transaction submissions). Any way, what is the best way to go about using multiple user credentials? I have tried multiple logic that I came up with but every time Firefox will use Username1 and both IE and Chrome will use either Username 2 or 3. \r\n\r\nIn other words\r\n\r\n - Firefox = Username1\r\n - Chrome = Username2\r\n - IE = Username2\r\n\r\nor \r\n\r\n - Firefox = Username1\r\n - Chrome = Username3\r\n - IE = Username3\r\n\r\n\r\nI came up with a couple successful solutions but I had to duplicate classes or code.\r\n\r\nSo one solution was to create separate Login classes for each browser as well as separate Transaction classes for each browser. And in the testng I ran the proper classes for each browser. I think this is a bad solution although it works.\r\n\r\nAnother solution I came up with was taking the login test method and putting it into each if() statement in the parameters method of the Transaction class when it checks for each browser. Then each if statement would have its proper username. \r\n\r\nBut I don&#39;t like this solution either because I would have to add this same code to all the future test classes that I will create if I am running a single test to check new code for a function being developed. Its just repeated code that I think should be in its own class. \r\n\r\nHere is the Login and Transaction classes before converting to testng. Also, I have made an Environment class that contains the static variables like username and url.\r\n\r\nP.S. I removed a bunch of test code not needed for this question.\r\n\r\nEx:\r\n\r\n    static {\r\n    \t\t\tURL = &quot;https://website.com&quot;;\r\n    \t\t\tDEFAULT_WAIT_TIME = 60;\r\n    \t\t\tSYSTEM_ID = &quot;IDnumber&quot;;\r\n    \t\t\tUSERNAME = &quot;Username1&quot;;\r\n    \t\t\tPASSWORD = &quot;Password1&quot;;\r\n    \t}\r\n\r\n_________________________________\r\n\r\n\r\n    import static org.junit.Assert.fail;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class Login {\r\n    \tprivate WebDriver driver;\r\n    \tprivate String baseURL;\r\n    \tprivate StringBuffer verificationErrors = new StringBuffer();\r\n    \t\t\r\n    \t\t@Before\r\n    \t\tpublic void setUp() throws Exception {\r\n    \t\t\t//driver = new FirefoxDriver();\r\n    \t\t\t//baseURL = Environment.URL;\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic static void doLogin(WebDriver driver, String baseURL) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\r\n    \t\t\tSystem.out.println(&quot;Log in to trunk...&quot;);\r\n    \t\t\tdriver.get(baseURL);\r\n    \r\n    \t\t\twait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;company_id&quot;)));\r\n    \t\t\tif (driver.findElement(By.xpath(&quot;//div[span=&#39;Log In&#39;]/span&quot;)).isEnabled()) {\r\n    \t\t\t\tSystem.out.println(&quot;\t1 - &#39;Login&#39; page is opened&quot;);\r\n    \t\t\t}\telse {\r\n    \t\t\t\t\tSystem.out.println(&quot;\t!ERROR! - Can NOT open &#39;Login&#39; page&quot;);\r\n    \t\t\t\t\tdriver.findElement(By.id(&quot;This is to throw exception if Can NOT open &#39;Login&#39; page&quot;));\r\n    \t\t\t\t}\r\n    \t\t\tdriver.findElement(By.id(&quot;company_id&quot;)).clear();\r\n    \t\t\tdriver.findElement(By.id(&quot;company_id&quot;)).sendKeys(Environment.SYSTEM_ID);\r\n    \t\t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;username&#39;]&quot;)).clear();\r\n    \t\t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;username&#39;]&quot;)).sendKeys(Environment.USERNAME);\r\n    \t\t\tdriver.findElement(By.id(&quot;c_password&quot;)).clear();\r\n    \t\t\tdriver.findElement(By.id(&quot;c_password&quot;)).sendKeys(Environment.PASSWORD);\r\n    \t\t\tSystem.out.println(&quot;\t2 - Info filled&quot;);\r\n\r\n                //I removed the rest of the code that finishes the login because          \r\n                //I don&#39;t think it is needed for demonstration\r\n\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Test\r\n    \t\tpublic void main() {\r\n    \t\t\tdoLogin(driver, baseURL);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@After\r\n    \t\tpublic void tearDown() throws Exception {\r\n    \t\t\t\tdriver.quit();\r\n    \t\t\t\t\tString verificationErrorString = verificationErrors.toString();\r\n    \t\t\t\t\t\tif (!&quot;&quot;.equals(verificationErrorString)) {\r\n    \t\t\t\t\t\tfail(verificationErrorString);\r\n    \t\t\t\t\t\t}\r\n    \t\t}\r\n    }\r\n\r\n__________________\r\n\r\n    import static org.junit.Assert.fail;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class Transaction {\r\n    \tprivate WebDriver driver;\r\n    \tprivate String baseURL;\r\n    \tprivate StringBuffer verificationErrors = new StringBuffer();\r\n    \t\r\n    \tpublic static String country = &quot;22&quot;;\r\n    \tpublic static String ammount = &quot;500&quot;;\r\n    \t\t\r\n    \t\t@Before\r\n    \t\tpublic void setUp() throws Exception {\r\n    //\t\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, &quot;../IEDriverServer.exe&quot;);\r\n    //\t\t\tdriver = new InternetExplorerDriver();\r\n    \t\t\tdriver = new FirefoxDriver();\r\n    \t\t\tbaseURL = Environment.URL;\r\n    \t\t\t\t\t\t\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic static void doTransaction(WebDriver driver) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\r\n    \t\t\tSystem.out.println(&quot;Performing transaction...&quot;);\r\n    \t\t\t\r\n\r\n    \t\t// This is where the transaction code is ......\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\t@Test\r\n    \t\tpublic void transaction() {\r\n    \t\t//Login first\t\r\n    \t\t\tLogin.doLogin(driver, baseURL);\r\n    \t\t\t\t\t\t\r\n    \t\t// Transaction\t\r\n    \t\t\tdoTransaction(driver);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@After\r\n    \t\tpublic void tearDown() throws Exception {\r\n    \t\t\t\tdriver.quit();\r\n    \t\t\t\t\tString verificationErrorString = verificationErrors.toString();\r\n    \t\t\t\t\t\tif (!&quot;&quot;.equals(verificationErrorString)) {\r\n    \t\t\t\t\t\tfail(verificationErrorString);\r\n    \t\t\t\t\t\t}\r\n    \t\t}\r\n    }","title":"Selenium - Multi browser and multi user log in","body":"<p>We are trying to start implementing automation for regression testing on our transaction based website. I successfully setup testng xml to open firefox, IE, and Chrome. And it will run the transaction class. In the setUP method with parameters it checks for browser and opens the correct browser for that thread. Then it is directed to the main() method test which starts up the Login class before coming back to the transaction class to actually do the transaction test. The reason for this is to have an organized structure that only has one test in each class for debugging purposes. </p>\n\n<p>When I run this test using a single user credential it runs fine and completes both tests. The problem is that our system allows a user to enter a transaction once every 10 seconds (just one of our security features to avoid refreshing or multiple transaction submissions). Any way, what is the best way to go about using multiple user credentials? I have tried multiple logic that I came up with but every time Firefox will use Username1 and both IE and Chrome will use either Username 2 or 3. </p>\n\n<p>In other words</p>\n\n<ul>\n<li>Firefox = Username1</li>\n<li>Chrome = Username2</li>\n<li>IE = Username2</li>\n</ul>\n\n<p>or </p>\n\n<ul>\n<li>Firefox = Username1</li>\n<li>Chrome = Username3</li>\n<li>IE = Username3</li>\n</ul>\n\n<p>I came up with a couple successful solutions but I had to duplicate classes or code.</p>\n\n<p>So one solution was to create separate Login classes for each browser as well as separate Transaction classes for each browser. And in the testng I ran the proper classes for each browser. I think this is a bad solution although it works.</p>\n\n<p>Another solution I came up with was taking the login test method and putting it into each if() statement in the parameters method of the Transaction class when it checks for each browser. Then each if statement would have its proper username. </p>\n\n<p>But I don't like this solution either because I would have to add this same code to all the future test classes that I will create if I am running a single test to check new code for a function being developed. Its just repeated code that I think should be in its own class. </p>\n\n<p>Here is the Login and Transaction classes before converting to testng. Also, I have made an Environment class that contains the static variables like username and url.</p>\n\n<p>P.S. I removed a bunch of test code not needed for this question.</p>\n\n<p>Ex:</p>\n\n<pre><code>static {\n            URL = \"https://website.com\";\n            DEFAULT_WAIT_TIME = 60;\n            SYSTEM_ID = \"IDnumber\";\n            USERNAME = \"Username1\";\n            PASSWORD = \"Password1\";\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>import static org.junit.Assert.fail;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Login {\n    private WebDriver driver;\n    private String baseURL;\n    private StringBuffer verificationErrors = new StringBuffer();\n\n        @Before\n        public void setUp() throws Exception {\n            //driver = new FirefoxDriver();\n            //baseURL = Environment.URL;\n            driver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\n        }\n\n        public static void doLogin(WebDriver driver, String baseURL) {\n            WebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\n            System.out.println(\"Log in to trunk...\");\n            driver.get(baseURL);\n\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.id(\"company_id\")));\n            if (driver.findElement(By.xpath(\"//div[span='Log In']/span\")).isEnabled()) {\n                System.out.println(\"    1 - 'Login' page is opened\");\n            }   else {\n                    System.out.println(\"    !ERROR! - Can NOT open 'Login' page\");\n                    driver.findElement(By.id(\"This is to throw exception if Can NOT open 'Login' page\"));\n                }\n            driver.findElement(By.id(\"company_id\")).clear();\n            driver.findElement(By.id(\"company_id\")).sendKeys(Environment.SYSTEM_ID);\n            driver.findElement(By.xpath(\"//input[@name='username']\")).clear();\n            driver.findElement(By.xpath(\"//input[@name='username']\")).sendKeys(Environment.USERNAME);\n            driver.findElement(By.id(\"c_password\")).clear();\n            driver.findElement(By.id(\"c_password\")).sendKeys(Environment.PASSWORD);\n            System.out.println(\"    2 - Info filled\");\n\n            //I removed the rest of the code that finishes the login because          \n            //I don't think it is needed for demonstration\n\n        }\n\n        @Test\n        public void main() {\n            doLogin(driver, baseURL);\n        }\n\n        @After\n        public void tearDown() throws Exception {\n                driver.quit();\n                    String verificationErrorString = verificationErrors.toString();\n                        if (!\"\".equals(verificationErrorString)) {\n                        fail(verificationErrorString);\n                        }\n        }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import static org.junit.Assert.fail;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Transaction {\n    private WebDriver driver;\n    private String baseURL;\n    private StringBuffer verificationErrors = new StringBuffer();\n\n    public static String country = \"22\";\n    public static String ammount = \"500\";\n\n        @Before\n        public void setUp() throws Exception {\n//          System.setProperty(\"webdriver.ie.driver\", \"../IEDriverServer.exe\");\n//          driver = new InternetExplorerDriver();\n            driver = new FirefoxDriver();\n            baseURL = Environment.URL;\n\n            driver.manage().timeouts().implicitlyWait(Environment.DEFAULT_WAIT_TIME, TimeUnit.SECONDS);\n        }\n\n        public static void doTransaction(WebDriver driver) {\n            WebDriverWait wait = new WebDriverWait(driver, Environment.DEFAULT_WAIT_TIME);\n            System.out.println(\"Performing transaction...\");\n\n\n        // This is where the transaction code is ......\n\n        }\n\n        @Test\n        public void transaction() {\n        //Login first   \n            Login.doLogin(driver, baseURL);\n\n        // Transaction  \n            doTransaction(driver);\n        }\n\n        @After\n        public void tearDown() throws Exception {\n                driver.quit();\n                    String verificationErrorString = verificationErrors.toString();\n                        if (!\"\".equals(verificationErrorString)) {\n                        fail(verificationErrorString);\n                        }\n        }\n}\n</code></pre>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1699254098,"post_id":77411319,"comment_id":136503520,"body_markdown":"@M.Deinum Please, don&#39;t extrapolate your way of thinking and acting on other people. If you&#39;re assuming that other people &quot;think [they] are the only one who are right&quot; and &quot;want to offend people&quot; just because they disagree with you or point out the flaws in your statements, you&#39;re failing the litmus test of assumption of goodwill on your side. Also, you&#39;re going ad personam here. That aside - I&#39;m not &quot;throwing `@Primary` in the mix&quot;, it was always there. Check the source code if you don&#39;t believe me and go back to this discussion then, otherwise please just stop spreading misinformation.","body":"@M.Deinum Please, don&#39;t extrapolate your way of thinking and acting on other people. If you&#39;re assuming that other people &quot;think [they] are the only one who are right&quot; and &quot;want to offend people&quot; just because they disagree with you or point out the flaws in your statements, you&#39;re failing the litmus test of assumption of goodwill on your side. Also, you&#39;re going ad personam here. That aside - I&#39;m not &quot;throwing <code>@Primary</code> in the mix&quot;, it was always there. Check the source code if you don&#39;t believe me and go back to this discussion then, otherwise please just stop spreading misinformation."}],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699261143,"creation_date":1698942422,"question_id":77411319,"body_markdown":"Current documentation states:\r\n\r\n(AnnotationAwareOrderComparator)\r\n\r\n&gt;This implementation retrieves an `@javax.annotation.Priority` value, allowing for additional semantics over the regular `@Order` annotation: typically, selecting one object over another in case of multiple matches but only one object to be returned.\r\n\r\n&gt;`java.util.Comparator` implementation that checks Spring&#39;s `org.springframework.core.Ordered` interface as well as the `@Order` annotation and the `javax.annotation.Priority` annotation\r\n\r\n(Ordered)\r\n\r\n&gt;Since Spring 4.1, the standard `javax.annotation.Priority` annotation can be used as a drop-in replacement for this annotation.\r\n\r\n - related commits are https://github.com/spring-projects/spring-framework/commit/1ff3af6da37896e229e54fc8592673918f9203f4#diff-0ae6f1c11a501e20ca54f02b5287234555640da5f5b23863bd7b92756a3b4f4fR35 &amp; https://github.com/spring-projects/spring-framework/commit/c6d29f1a314c600c6b2d1cdfc3a21ba66523b037#diff-7647ef528e5ffcfdb8ce8b88d189a906a1e7b46778323bc92cb9783a4991d5abR1225 by @jhoeller &amp; @sbrannen\r\n\r\nImplementation seems to agree with that, using those terms in tandem, e.g.:\r\n\r\n\tprotected Integer getPriority(Object beanInstance) {\r\n\t\tComparator&lt;Object&gt; comparator = getDependencyComparator();\r\n\t\tif (comparator instanceof OrderComparator orderComparator) {\r\n\t\t\treturn orderComparator.getPriority(beanInstance);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\netc.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html#value() clearly uses the term &quot;drop-in replacement&quot;, i.e.\r\n\r\n&gt;The value is optional and represents an order value as defined in the `Ordered` interface. Lower values have higher priority. The default value is `Ordered.LOWEST_PRECEDENCE`, indicating lowest priority (losing to any other specified order value). (...) Since Spring 4.1, the standard `Priority` annotation can be used as a drop-in replacement for this annotation in ordering scenarios.\r\n\r\nA &quot;drop-in replacement&quot; by [definition](https://en.wikipedia.org/wiki/Drop-in_replacement) is when a &quot;component [can be replaced] with another one without any other code or configuration changes being required and resulting in no negative impacts.&quot;, which implies that the value are also intended to be both functionally and semantically compatible between the two, at least as per this doc.\r\n\r\nHowever, **snicoll** clearly states in https://github.com/spring-projects/spring-framework/issues/31544 that they are &quot;separate concepts&quot; because &quot;That&#39;s just an internal detail of how this is implemented&quot;, and that &quot;[value of] LOWEST_PRECEDENCE is a concept of `@Order` and has nothing to do with JakartaEE&#39;s priority.&quot;\r\n\r\nWhat is the case here then?","title":"are @Order/Ordered and @Priority separate concepts?","body":"<p>Current documentation states:</p>\n<p>(AnnotationAwareOrderComparator)</p>\n<blockquote>\n<p>This implementation retrieves an <code>@javax.annotation.Priority</code> value, allowing for additional semantics over the regular <code>@Order</code> annotation: typically, selecting one object over another in case of multiple matches but only one object to be returned.</p>\n</blockquote>\n<blockquote>\n<p><code>java.util.Comparator</code> implementation that checks Spring's <code>org.springframework.core.Ordered</code> interface as well as the <code>@Order</code> annotation and the <code>javax.annotation.Priority</code> annotation</p>\n</blockquote>\n<p>(Ordered)</p>\n<blockquote>\n<p>Since Spring 4.1, the standard <code>javax.annotation.Priority</code> annotation can be used as a drop-in replacement for this annotation.</p>\n</blockquote>\n<ul>\n<li>related commits are <a href=\"https://github.com/spring-projects/spring-framework/commit/1ff3af6da37896e229e54fc8592673918f9203f4#diff-0ae6f1c11a501e20ca54f02b5287234555640da5f5b23863bd7b92756a3b4f4fR35\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/1ff3af6da37896e229e54fc8592673918f9203f4#diff-0ae6f1c11a501e20ca54f02b5287234555640da5f5b23863bd7b92756a3b4f4fR35</a> &amp; <a href=\"https://github.com/spring-projects/spring-framework/commit/c6d29f1a314c600c6b2d1cdfc3a21ba66523b037#diff-7647ef528e5ffcfdb8ce8b88d189a906a1e7b46778323bc92cb9783a4991d5abR1225\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/c6d29f1a314c600c6b2d1cdfc3a21ba66523b037#diff-7647ef528e5ffcfdb8ce8b88d189a906a1e7b46778323bc92cb9783a4991d5abR1225</a> by @jhoeller &amp; @sbrannen</li>\n</ul>\n<p>Implementation seems to agree with that, using those terms in tandem, e.g.:</p>\n<pre><code>protected Integer getPriority(Object beanInstance) {\n    Comparator&lt;Object&gt; comparator = getDependencyComparator();\n    if (comparator instanceof OrderComparator orderComparator) {\n        return orderComparator.getPriority(beanInstance);\n    }\n    return null;\n}\n</code></pre>\n<p>etc.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html#value()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html#value()</a> clearly uses the term &quot;drop-in replacement&quot;, i.e.</p>\n<blockquote>\n<p>The value is optional and represents an order value as defined in the <code>Ordered</code> interface. Lower values have higher priority. The default value is <code>Ordered.LOWEST_PRECEDENCE</code>, indicating lowest priority (losing to any other specified order value). (...) Since Spring 4.1, the standard <code>Priority</code> annotation can be used as a drop-in replacement for this annotation in ordering scenarios.</p>\n</blockquote>\n<p>A &quot;drop-in replacement&quot; by <a href=\"https://en.wikipedia.org/wiki/Drop-in_replacement\" rel=\"nofollow noreferrer\">definition</a> is when a &quot;component [can be replaced] with another one without any other code or configuration changes being required and resulting in no negative impacts.&quot;, which implies that the value are also intended to be both functionally and semantically compatible between the two, at least as per this doc.</p>\n<p>However, <strong>snicoll</strong> clearly states in <a href=\"https://github.com/spring-projects/spring-framework/issues/31544\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/31544</a> that they are &quot;separate concepts&quot; because &quot;That's just an internal detail of how this is implemented&quot;, and that &quot;[value of] LOWEST_PRECEDENCE is a concept of <code>@Order</code> and has nothing to do with JakartaEE's priority.&quot;</p>\n<p>What is the case here then?</p>\n"},{"tags":["java","asynchronous","ignite"],"comments":[{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1698927296,"post_id":77392390,"comment_id":136467816,"body_markdown":"Is your cache ATOMIC or TRANSACTIONAL? If it&#39;s TRANSACTIONAL is it one enclosing transaction? Does keyA and keyB reside in the same partition?","body":"Is your cache ATOMIC or TRANSACTIONAL? If it&#39;s TRANSACTIONAL is it one enclosing transaction? Does keyA and keyB reside in the same partition?"},{"owner":{"account_id":2331995,"reputation":503,"user_id":2045179,"display_name":"Mikha"},"score":0,"creation_date":1702078838,"post_id":77392390,"comment_id":136857430,"body_markdown":"Thanks @VladimirPligin - it&#39;s ATOMIC, and the same partition","body":"Thanks @VladimirPligin - it&#39;s ATOMIC, and the same partition"}],"answers":[{"tags":[],"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699261098,"creation_date":1699261098,"answer_id":77429873,"question_id":77392390,"body_markdown":"The order is guaranteed for the keys within the same partition (see [Data Partitioning](https://ignite.apache.org/docs/latest/data-modeling/data-partitioning)). \r\n\r\nThere is no guarantee when the keys belong to different partitions.","title":"putAsync and the order of updates on the client","body":"<p>The order is guaranteed for the keys within the same partition (see <a href=\"https://ignite.apache.org/docs/latest/data-modeling/data-partitioning\" rel=\"nofollow noreferrer\">Data Partitioning</a>).</p>\n<p>There is no guarantee when the keys belong to different partitions.</p>\n"}],"owner":{"account_id":2331995,"reputation":503,"user_id":2045179,"display_name":"Mikha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77429873,"answer_count":1,"score":0,"last_activity_date":1699261098,"creation_date":1698708399,"question_id":77392390,"body_markdown":"I didn&#39;t find it in the doco, so hope someone can answer.\r\n\r\nSay `putAsync` is called multiple times from the same thread:\r\n```\r\ncache.putAsync(keyA, valA1);\r\ncache.putAsync(keyA, valA2); // Notice it&#39;s the same key, different value\r\ncache.putAsync(keyB, valB);  // Different key now\r\n// ...more calls with either same or different keys, still from the same thread\r\n```\r\n\r\nIs there a guarantee that the values will arrive in the same order to the continuous query listeners set up on the clients?\r\n\r\nIf not, is there such guarantee in a more restricted case - when those `putAsync`&#39;s above are called from within an Ignite service, for a partitioned cache, on the node where the data is (or will be) stored by the partitioning?\r\n\r\nThanks!","title":"putAsync and the order of updates on the client","body":"<p>I didn't find it in the doco, so hope someone can answer.</p>\n<p>Say <code>putAsync</code> is called multiple times from the same thread:</p>\n<pre><code>cache.putAsync(keyA, valA1);\ncache.putAsync(keyA, valA2); // Notice it's the same key, different value\ncache.putAsync(keyB, valB);  // Different key now\n// ...more calls with either same or different keys, still from the same thread\n</code></pre>\n<p>Is there a guarantee that the values will arrive in the same order to the continuous query listeners set up on the clients?</p>\n<p>If not, is there such guarantee in a more restricted case - when those <code>putAsync</code>'s above are called from within an Ignite service, for a partitioned cache, on the node where the data is (or will be) stored by the partitioning?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562336892,"creation_date":1562336892,"answer_id":56904991,"question_id":56904532,"body_markdown":"You can declare your own exceptions for any cases and set ExceptionHandler in controller to return correct http-status.\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler({SameHeaderException.class})\r\n    public Object onSameHeaderException(SameHeaderException e) {\r\n        return ImmutableMap.of(&quot;reason&quot;, e.getMessage());\r\n    }\r\n\r\nSo you can throw this exception if header is absent:\r\n\r\n    if (someHeaderValue == null) { throw new SameHeaderException(); }","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>You can declare your own exceptions for any cases and set ExceptionHandler in controller to return correct http-status.</p>\n\n<pre><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\n@ExceptionHandler({SameHeaderException.class})\npublic Object onSameHeaderException(SameHeaderException e) {\n    return ImmutableMap.of(\"reason\", e.getMessage());\n}\n</code></pre>\n\n<p>So you can throw this exception if header is absent:</p>\n\n<pre><code>if (someHeaderValue == null) { throw new SameHeaderException(); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562337816,"creation_date":1562337260,"answer_id":56905092,"question_id":56904532,"body_markdown":"If you see the implementation of `RequestHeaderMethodArgumentResolver` which is used for `@RequestHeader`, you&#39;ll see an overridden implementation of `handleMissingValue` method of `AbstractNamedValueMethodArgumentResolver` abstract class as below:\r\n\r\n    @Override\r\n    protected void handleMissingValue(String name, MethodParameter parameter) throws ServletRequestBindingException {\r\n    \t\tthrow new ServletRequestBindingException(&quot;Missing request header &#39;&quot; + name +\r\n    \t\t\t\t&quot;&#39; for method parameter of type &quot; + parameter.getNestedParameterType().getSimpleName());\r\n    }\r\n\r\nThis `handleMissingValue` method is used in the `resolveArgument` method of `AbstractNamedValueMethodArgumentResolver`, which `RequestHeaderMethodArgumentResolver` extends, based on some conditions. So when the header is absent and the `ServletRequestBindingException` is thrown, Spring&#39;s `DefaultHandlerExceptionResolver` would handle that and send a **400** response.\r\n\r\n So that is how the validation works in case of `@RequestHeader`. So you can implement something similar in the `resolveArgument` method of your `SomeHeaderArgumentResolver` class as below:\r\n\r\n    public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterAnnotation(SomeHeader.class) != null;\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter,\r\n                                      ModelAndViewContainer mavContainer,\r\n                                      NativeWebRequest webRequest,\r\n                                      WebDataBinderFactory binderFactory) {\r\n            HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\r\n            final String headerValue = request.getHeader(&quot;Some-Header&quot;);\r\n            if(headerValue != null){\r\n               return headerValue.replace(&quot;XXX &quot;, &quot;&quot;);\r\n            } else {\r\n               //handle scenario if header absent with ServletRequestBindingException\r\n            }\r\n           }\r\n        }\r\n\r\n","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>If you see the implementation of <code>RequestHeaderMethodArgumentResolver</code> which is used for <code>@RequestHeader</code>, you'll see an overridden implementation of <code>handleMissingValue</code> method of <code>AbstractNamedValueMethodArgumentResolver</code> abstract class as below:</p>\n\n<pre><code>@Override\nprotected void handleMissingValue(String name, MethodParameter parameter) throws ServletRequestBindingException {\n        throw new ServletRequestBindingException(\"Missing request header '\" + name +\n                \"' for method parameter of type \" + parameter.getNestedParameterType().getSimpleName());\n}\n</code></pre>\n\n<p>This <code>handleMissingValue</code> method is used in the <code>resolveArgument</code> method of <code>AbstractNamedValueMethodArgumentResolver</code>, which <code>RequestHeaderMethodArgumentResolver</code> extends, based on some conditions. So when the header is absent and the <code>ServletRequestBindingException</code> is thrown, Spring's <code>DefaultHandlerExceptionResolver</code> would handle that and send a <strong>400</strong> response.</p>\n\n<p>So that is how the validation works in case of <code>@RequestHeader</code>. So you can implement something similar in the <code>resolveArgument</code> method of your <code>SomeHeaderArgumentResolver</code> class as below:</p>\n\n<pre><code>public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterAnnotation(SomeHeader.class) != null;\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter,\n                                  ModelAndViewContainer mavContainer,\n                                  NativeWebRequest webRequest,\n                                  WebDataBinderFactory binderFactory) {\n        HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\n        final String headerValue = request.getHeader(\"Some-Header\");\n        if(headerValue != null){\n           return headerValue.replace(\"XXX \", \"\");\n        } else {\n           //handle scenario if header absent with ServletRequestBindingException\n        }\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1203571,"reputation":8031,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1562339729,"creation_date":1562339729,"answer_id":56905659,"question_id":56904532,"body_markdown":"Thanks to the suggestion given by @madhu-bhat, I understand which is the correct class to extend to let Spring doing the magic.\r\n\r\nThe class `RequestHeaderMethodArgumentResolver`, used by Spring to resolve HTTP headers values inside Java object, extends the abstract class `AbstractNamedValueMethodArgumentResolver`. This class let you specify if the header value has some default value, using the `createNamedValueInfo` method.\r\n\r\nSo, it follows the code.\r\n\r\n    public class SomeHeaderArgumentResolver extends AbstractNamedValueMethodArgumentResolver {\r\n        @Override\r\n        protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\r\n            // The second parameter specifies if the value is required, \r\n            // and the third if there is some default value.\r\n            return new NamedValueInfo(&quot;&quot;, true, null);\r\n        }\r\n    \r\n        @Override\r\n        protected Object resolveName(String name, \r\n                                     MethodParameter parameter, \r\n                                     NativeWebRequest request) {\r\n            final String headerValue = request.getHeader(&quot;Some-Value&quot;);\r\n            if (StringUtils.isEmpty(headerValue)) {\r\n                // Returning null tells Spring that there is no value for the parameter\r\n                return null;\r\n            }\r\n            return headerValue.replace(&quot;XXX &quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return (parameter.hasParameterAnnotation(SomeHeader.class) &amp;&amp;\r\n                    !Map.class.isAssignableFrom(\r\n                        parameter.nestedIfOptional().getNestedParameterType()));\r\n        }\r\n    }\r\n\r\nThe only thing I don&#39;t like is that I am using structures developed to handle _named values_, but I don&#39;t have a _named value_.\r\n\r\nHope it helps.","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>Thanks to the suggestion given by @madhu-bhat, I understand which is the correct class to extend to let Spring doing the magic.</p>\n\n<p>The class <code>RequestHeaderMethodArgumentResolver</code>, used by Spring to resolve HTTP headers values inside Java object, extends the abstract class <code>AbstractNamedValueMethodArgumentResolver</code>. This class let you specify if the header value has some default value, using the <code>createNamedValueInfo</code> method.</p>\n\n<p>So, it follows the code.</p>\n\n<pre><code>public class SomeHeaderArgumentResolver extends AbstractNamedValueMethodArgumentResolver {\n    @Override\n    protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\n        // The second parameter specifies if the value is required, \n        // and the third if there is some default value.\n        return new NamedValueInfo(\"\", true, null);\n    }\n\n    @Override\n    protected Object resolveName(String name, \n                                 MethodParameter parameter, \n                                 NativeWebRequest request) {\n        final String headerValue = request.getHeader(\"Some-Value\");\n        if (StringUtils.isEmpty(headerValue)) {\n            // Returning null tells Spring that there is no value for the parameter\n            return null;\n        }\n        return headerValue.replace(\"XXX \", \"\");\n    }\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return (parameter.hasParameterAnnotation(SomeHeader.class) &amp;&amp;\n                !Map.class.isAssignableFrom(\n                    parameter.nestedIfOptional().getNestedParameterType()));\n    }\n}\n</code></pre>\n\n<p>The only thing I don't like is that I am using structures developed to handle <em>named values</em>, but I don't have a <em>named value</em>.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":18538236,"reputation":990,"user_id":13793329,"display_name":"PeterB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699260977,"creation_date":1699017918,"answer_id":77417001,"question_id":56904532,"body_markdown":"I created a Spring boot 2.7.17 example based on the ideas here.\r\nThe example uses a **@RequestHeaderEmail** custom parameter anotation. When this annotation appears, it puts the &quot;X-EMAIL&quot; request header&#39;s value in it.\r\nIf there is no such header or it is null or empty, the REST method will return with Bad Request.\r\n\r\nUsage:\r\n\r\n    @RestController\r\n    public class RqController {\r\n       @GetMapping\r\n       String displayEmailHeader(@RequestHeaderEmail String email) {\r\n         return email;\r\n       }\r\n    }\r\n\r\nAnnotation:\r\n\r\n       @Target(ElementType.PARAMETER)\r\n       @Retention(RetentionPolicy.RUNTIME)\r\n       @Documented\r\n       public @interface RequestHeaderEmail {}\r\n\r\nResolver:\r\n\r\n    public class RequestHeaderEmailResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return String.class.equals(parameter.getParameter().getType()) &amp;&amp; parameter.hasParameterAnnotation(RequestHeaderEmail.class);\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n            String email = webRequest.getHeader(&quot;X-EMAIL&quot;);\r\n            if (email == null || email.isEmpty()) throw new ServletRequestBindingException(&quot;X-EMAIL header should not be null or empty&quot;);\r\n    \r\n            return email;\r\n        }\r\n    }\r\n\r\nSet up:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class AnnotationConfiguration implements WebMvcConfigurer {\r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new RequestHeaderEmailResolver());\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is a github repo with unit tests:\r\nhttps://github.com/peterborkuti/request_param_custom_annotation/tree/main\r\n\r\n","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>I created a Spring boot 2.7.17 example based on the ideas here.\nThe example uses a <strong>@RequestHeaderEmail</strong> custom parameter anotation. When this annotation appears, it puts the &quot;X-EMAIL&quot; request header's value in it.\nIf there is no such header or it is null or empty, the REST method will return with Bad Request.</p>\n<p>Usage:</p>\n<pre><code>@RestController\npublic class RqController {\n   @GetMapping\n   String displayEmailHeader(@RequestHeaderEmail String email) {\n     return email;\n   }\n}\n</code></pre>\n<p>Annotation:</p>\n<pre><code>   @Target(ElementType.PARAMETER)\n   @Retention(RetentionPolicy.RUNTIME)\n   @Documented\n   public @interface RequestHeaderEmail {}\n</code></pre>\n<p>Resolver:</p>\n<pre><code>public class RequestHeaderEmailResolver implements HandlerMethodArgumentResolver {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return String.class.equals(parameter.getParameter().getType()) &amp;&amp; parameter.hasParameterAnnotation(RequestHeaderEmail.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\n        String email = webRequest.getHeader(&quot;X-EMAIL&quot;);\n        if (email == null || email.isEmpty()) throw new ServletRequestBindingException(&quot;X-EMAIL header should not be null or empty&quot;);\n\n        return email;\n    }\n}\n</code></pre>\n<p>Set up:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class AnnotationConfiguration implements WebMvcConfigurer {\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new RequestHeaderEmailResolver());\n    }\n\n}\n</code></pre>\n<p>Here is a github repo with unit tests:\n<a href=\"https://github.com/peterborkuti/request_param_custom_annotation/tree/main\" rel=\"nofollow noreferrer\">https://github.com/peterborkuti/request_param_custom_annotation/tree/main</a></p>\n"}],"owner":{"account_id":1203571,"reputation":8031,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56905659,"answer_count":4,"score":1,"last_activity_date":1699260977,"creation_date":1562335264,"question_id":56904532,"body_markdown":"I am developing a REST API using **Spring Boot 1.5.15**. I have implemented a customer `HandlerMethodArgumentResolver` to map an HTTP header. In details, I assign the value of the HTTP header `Some-Header`, removing the prefix &quot;XXX &quot;.\r\n\r\nFirst of all, I defined a custom annotation.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.PARAMETER)\r\n    public @interface SomeHeader {\r\n    }\r\n\r\nThen, I implemented a custom resolver.\r\n\r\n    public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterAnnotation(SomeHeader.class) != null;\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter,\r\n                                      ModelAndViewContainer mavContainer,\r\n                                      NativeWebRequest webRequest,\r\n                                      WebDataBinderFactory binderFactory) {\r\n            HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\r\n            final String headerValue = request.getHeader(&quot;Some-Header&quot;);\r\n         \r\n            return headerValue.replace(&quot;XXX &quot;, &quot;&quot;);\r\n        }\r\n    }\r\n\r\nAnd finally, I made Spring aware of the resolver in a configuration class.\r\n\r\n    @Configuration\r\n    public class WebMvcConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new SomeHeaderArgumentResolver());\r\n        }\r\n    }\r\n\r\nNow, I can use the following mapping in any controller I need.\r\n\r\n    @PostMapping(&quot;/some/paath&quot;)\r\n    public void someMethod(@SomeHeader String someHeaderValue) {\r\n       // Method body...\r\n    }\r\n\r\nHowever, `Some-Header` information is mandatory for me. I want that if it is not present, Spring returns a 400 Bad Request response to the caller. It is the same behaviour I can obtain using the `@RequestHeader(&quot;Some-Header&quot;)` annotation.\r\n\r\nCan I replicate the same behaviour? Possibly, I don&#39;t want to use a dedicated _controller advice_.","title":"Return HTTP Status BAD_REQUEST using a custom resolver in Spring","body":"<p>I am developing a REST API using <strong>Spring Boot 1.5.15</strong>. I have implemented a customer <code>HandlerMethodArgumentResolver</code> to map an HTTP header. In details, I assign the value of the HTTP header <code>Some-Header</code>, removing the prefix \"XXX \".</p>\n\n<p>First of all, I defined a custom annotation.</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\npublic @interface SomeHeader {\n}\n</code></pre>\n\n<p>Then, I implemented a custom resolver.</p>\n\n<pre><code>public class SomeHeaderArgumentResolver implements HandlerMethodArgumentResolver {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterAnnotation(SomeHeader.class) != null;\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter,\n                                  ModelAndViewContainer mavContainer,\n                                  NativeWebRequest webRequest,\n                                  WebDataBinderFactory binderFactory) {\n        HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\n        final String headerValue = request.getHeader(\"Some-Header\");\n\n        return headerValue.replace(\"XXX \", \"\");\n    }\n}\n</code></pre>\n\n<p>And finally, I made Spring aware of the resolver in a configuration class.</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new SomeHeaderArgumentResolver());\n    }\n}\n</code></pre>\n\n<p>Now, I can use the following mapping in any controller I need.</p>\n\n<pre><code>@PostMapping(\"/some/paath\")\npublic void someMethod(@SomeHeader String someHeaderValue) {\n   // Method body...\n}\n</code></pre>\n\n<p>However, <code>Some-Header</code> information is mandatory for me. I want that if it is not present, Spring returns a 400 Bad Request response to the caller. It is the same behaviour I can obtain using the <code>@RequestHeader(\"Some-Header\")</code> annotation.</p>\n\n<p>Can I replicate the same behaviour? Possibly, I don't want to use a dedicated <em>controller advice</em>.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1699028945,"post_id":77417942,"comment_id":136483938,"body_markdown":"Why iterate over all columns?  The column of interest should be a fixed value for whichever column to sum, and only need to iterate over the rows.  (Along with checking the length of the current row does not exceed the column of interest.)  [This](https://stackoverflow.com/questions/11641985/which-comes-first-in-a-2d-array-rows-or-columns) might help.","body":"Why iterate over all columns?  The column of interest should be a fixed value for whichever column to sum, and only need to iterate over the rows.  (Along with checking the length of the current row does not exceed the column of interest.)  <a href=\"https://stackoverflow.com/questions/11641985/which-comes-first-in-a-2d-array-rows-or-columns\">This</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":15029463,"reputation":332,"user_id":10848072,"display_name":"saurabh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699030059,"creation_date":1699030059,"answer_id":77418416,"question_id":77417942,"body_markdown":"The bug is in your logic of skipping rows which have fewer columns then the current column number.\r\n\r\nIn the 5th iteration when `col = 4` the row skip is working like this\r\n\r\n``` \r\nIteration for the inner for loop when col 4\r\nnum goes from 0 .. 3\r\n\r\nIteration 1 (num = 0)\r\n[row = 0]\r\nRow 0 : Size [3] Skip by doing row++\r\n[row = 1]\r\nDo logic of adding number from Row 1 into total, row++\r\n[row = 2]\r\n\r\nIteration 2 (num = 1)\r\n[row = 2]\r\nRow 2 : Size [4] Skip by doing row++\r\n[row = 3]\r\nDo logic of adding number from Row 3 into total, row++\r\n[row = 4]\r\nLogic to reset row and total get triggered resetting both to 0\r\n\r\n```\r\n\r\nAs you can see that you tick rest happens in the second iteration itself and the inner loop then runs 2 more times adding back wrong values into your total.\r\n\r\nA better way to do this would be to maintain an output array which holds the column wise sums\r\n\r\n```java\r\npublic class Main {\r\n\r\n  public static void main(String[] args)\r\n      throws Exception {\r\n    int[][] data = { {3, 2, 5},\r\n                     {1, 4, 4, 8, 13},\r\n                     {9, 1, 0, 2},\r\n                     {0, 2, 6, 3, -1, -8} };\r\n\r\n    ArrayList&lt;Integer&gt; columnWiseSum = new ArrayList&lt;&gt;();\r\n\r\n    for (int rowIndex = 0; rowIndex &lt; data.length; rowIndex++) {\r\n      int[] row = data[rowIndex];\r\n      for (int colIndex = 0; colIndex &lt; row.length; colIndex++) {\r\n        // Insert a column into the output list if it does not exist\r\n        if (columnWiseSum.size() - 1 &lt; colIndex) {\r\n          columnWiseSum.add(0);\r\n        }\r\n\r\n        int cellValue = data[rowIndex][colIndex];\r\n        \r\n        // Add the value of this cell into the output\r\n        columnWiseSum.set(colIndex, columnWiseSum.get(colIndex) + cellValue);\r\n      }\r\n    }\r\n\r\n    System.out.println(columnWiseSum);\r\n  }\r\n}\r\n```","title":"How to add all elements in a column of a two-dimensional array?","body":"<p>The bug is in your logic of skipping rows which have fewer columns then the current column number.</p>\n<p>In the 5th iteration when <code>col = 4</code> the row skip is working like this</p>\n<pre><code>Iteration for the inner for loop when col 4\nnum goes from 0 .. 3\n\nIteration 1 (num = 0)\n[row = 0]\nRow 0 : Size [3] Skip by doing row++\n[row = 1]\nDo logic of adding number from Row 1 into total, row++\n[row = 2]\n\nIteration 2 (num = 1)\n[row = 2]\nRow 2 : Size [4] Skip by doing row++\n[row = 3]\nDo logic of adding number from Row 3 into total, row++\n[row = 4]\nLogic to reset row and total get triggered resetting both to 0\n\n</code></pre>\n<p>As you can see that you tick rest happens in the second iteration itself and the inner loop then runs 2 more times adding back wrong values into your total.</p>\n<p>A better way to do this would be to maintain an output array which holds the column wise sums</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n  public static void main(String[] args)\n      throws Exception {\n    int[][] data = { {3, 2, 5},\n                     {1, 4, 4, 8, 13},\n                     {9, 1, 0, 2},\n                     {0, 2, 6, 3, -1, -8} };\n\n    ArrayList&lt;Integer&gt; columnWiseSum = new ArrayList&lt;&gt;();\n\n    for (int rowIndex = 0; rowIndex &lt; data.length; rowIndex++) {\n      int[] row = data[rowIndex];\n      for (int colIndex = 0; colIndex &lt; row.length; colIndex++) {\n        // Insert a column into the output list if it does not exist\n        if (columnWiseSum.size() - 1 &lt; colIndex) {\n          columnWiseSum.add(0);\n        }\n\n        int cellValue = data[rowIndex][colIndex];\n        \n        // Add the value of this cell into the output\n        columnWiseSum.set(colIndex, columnWiseSum.get(colIndex) + cellValue);\n      }\n    }\n\n    System.out.println(columnWiseSum);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25464435,"reputation":1,"user_id":19263705,"display_name":"Lironz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699260961,"creation_date":1699034985,"answer_id":77418873,"question_id":77417942,"body_markdown":"The outer loop had the condition `col != 5`, which meant that the outer loop would run as long as col isn&#39;t equal to `5`. This condition assumed that there were always `5` columns in the two-dimensional array, which may not be the case when subarrays have different lengths.","title":"How to add all elements in a column of a two-dimensional array?","body":"<p>The outer loop had the condition <code>col != 5</code>, which meant that the outer loop would run as long as col isn't equal to <code>5</code>. This condition assumed that there were always <code>5</code> columns in the two-dimensional array, which may not be the case when subarrays have different lengths.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699036482,"creation_date":1699036482,"answer_id":77418977,"question_id":77417942,"body_markdown":"&gt; _&quot;... I&#39;m looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. ...&quot;_\r\n\r\nThis type of _array_ is commonly referred to as a, _&quot;[jagged array](https://en.wikipedia.org/wiki/Jagged_array)&quot;_.\r\n\r\nHere is an example.\\\r\nIterate on _data_, checking each _sub-array_ for an _n&lt;sup&gt;th&lt;/sup&gt;_ element, and increment _x_ when applicable.\r\n\r\nThis will return _&amp;minus;8_, when _n_ is _5_, and _12_, when _n_ is _4_.\r\n\r\n```java\r\nint columnSum(int n, int[][] data) {\r\n    int x = 0;\r\n    for (int[] a : data) if (n &lt; a.length) x += a[n];\r\n    return x;\r\n}\r\n```\r\n\r\nOr, use a _[stream](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_.\r\n\r\n```java\r\nint columnSum(int n, int[][] data) {\r\n    return Stream.of(data)\r\n                 .filter(x -&gt; n &lt; x.length)\r\n                 .mapToInt(x -&gt; x[n])\r\n                 .sum();\r\n}\r\n```\r\n\r\n&gt; _&quot;... I&#39;m almost there, but I can&#39;t figure out why the program is suddenly doing things seemingly against what the code is directing. ...&quot;_\r\n\r\nThe effort is valid, typically a _double loop_ is used to traverse _2-dimensional arrays_.\\\r\nAlthough, in this situation you&#39;re only accessing a single dimension, technically, so use a single _loop_.","title":"How to add all elements in a column of a two-dimensional array?","body":"<blockquote>\n<p><em>&quot;... I'm looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. ...&quot;</em></p>\n</blockquote>\n<p>This type of <em>array</em> is commonly referred to as a, <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Jagged_array\" rel=\"nofollow noreferrer\">jagged array</a>&quot;</em>.</p>\n<p>Here is an example.<br />\nIterate on <em>data</em>, checking each <em>sub-array</em> for an <em>n<sup>th</sup></em> element, and increment <em>x</em> when applicable.</p>\n<p>This will return <em>−8</em>, when <em>n</em> is <em>5</em>, and <em>12</em>, when <em>n</em> is <em>4</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int columnSum(int n, int[][] data) {\n    int x = 0;\n    for (int[] a : data) if (n &lt; a.length) x += a[n];\n    return x;\n}\n</code></pre>\n<p>Or, use a <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">stream</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int columnSum(int n, int[][] data) {\n    return Stream.of(data)\n                 .filter(x -&gt; n &lt; x.length)\n                 .mapToInt(x -&gt; x[n])\n                 .sum();\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I'm almost there, but I can't figure out why the program is suddenly doing things seemingly against what the code is directing. ...&quot;</em></p>\n</blockquote>\n<p>The effort is valid, typically a <em>double loop</em> is used to traverse <em>2-dimensional arrays</em>.<br />\nAlthough, in this situation you're only accessing a single dimension, technically, so use a single <em>loop</em>.</p>\n"}],"owner":{"account_id":29483114,"reputation":1,"user_id":22593605,"display_name":"andrewc2023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1699260961,"creation_date":1699025610,"question_id":77417942,"body_markdown":"I&#39;m looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. I&#39;m almost there, but I can&#39;t figure out why the program is suddenly doing things seemingly against what the code is directing. Obviously it&#39;s only doing what the code tells it to, but I can&#39;t discern exactly what and why. Help is appreciated.\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tint[][] data = { {3, 2, 5},\r\n\t\t                 {1, 4, 4, 8, 13},\r\n\t\t                 {9, 1, 0, 2},\r\n\t\t                 {0, 2, 6, 3, -1, -8} };\r\n    \t\r\n    \tint total = 0;\r\n    \tint tick = 4;\r\n    \tint row = 0;\r\n    \t\r\n    \tfor (int col = 0; col != 5; col++) {\r\n    \t\tfor (int num = 0; num &lt; data.length; num++) {\r\n    \t\t\tif (col != 0 &amp;&amp; data[row].length&lt;col+1){\r\n\t    \t\t\trow++; //checks to see whether or not the column\r\n                           // num is in range of the subarray\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\ttotal += data[row][col];\r\n\t    \t\t\r\n\t    \t\tif (row == tick-1) {\r\n\t    \t\t\tSystem.out.println(total);\r\n\t    \t\t}\r\n\t    \t\trow++;\r\n\t    \t\t\r\n\t    \t\tif (row == tick) { //stops row from going over max\r\n\t\t    \t\trow = 0;\r\n\t\t    \t\ttotal = 0;\r\n\t\t    \t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n}\r\n```","title":"How to add all elements in a column of a two-dimensional array?","body":"<p>I'm looking for a way to add all the elements in a column of a two-dimensional array with differently-lengthed arrays. I'm almost there, but I can't figure out why the program is suddenly doing things seemingly against what the code is directing. Obviously it's only doing what the code tells it to, but I can't discern exactly what and why. Help is appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        \n        int[][] data = { {3, 2, 5},\n                         {1, 4, 4, 8, 13},\n                         {9, 1, 0, 2},\n                         {0, 2, 6, 3, -1, -8} };\n        \n        int total = 0;\n        int tick = 4;\n        int row = 0;\n        \n        for (int col = 0; col != 5; col++) {\n            for (int num = 0; num &lt; data.length; num++) {\n                if (col != 0 &amp;&amp; data[row].length&lt;col+1){\n                    row++; //checks to see whether or not the column\n                           // num is in range of the subarray\n                }\n                \n                total += data[row][col];\n                \n                if (row == tick-1) {\n                    System.out.println(total);\n                }\n                row++;\n                \n                if (row == tick) { //stops row from going over max\n                    row = 0;\n                    total = 0;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699265580,"post_id":77428779,"comment_id":136505296,"body_markdown":"That is not how it works. You are now passing an array of arguments to a single message. That is not how it works or will work. How should Spring (or rather the resourcebundles) know that you at 1 time have 1 message with multiple placeholders and another 1 message with 1 placeholder and want have multiple messages. What for a combination of these two?","body":"That is not how it works. You are now passing an array of arguments to a single message. That is not how it works or will work. How should Spring (or rather the resourcebundles) know that you at 1 time have 1 message with multiple placeholders and another 1 message with 1 placeholder and want have multiple messages. What for a combination of these two?"},{"owner":{"account_id":28038733,"reputation":1,"user_id":21416637,"display_name":"F1yPs"},"score":0,"creation_date":1699274294,"post_id":77428779,"comment_id":136506817,"body_markdown":"Hi, I saw an array in the rejectValue parameters and thought that for one error code, you can immediately pass a lot of values in this array so that in Thymeleaf (as indicated in the example) you can output via th:each\n \nCollect the 4 lines specified in the Spring BindingResult example in one line and then output them through a loop in Thymeleaf","body":"Hi, I saw an array in the rejectValue parameters and thought that for one error code, you can immediately pass a lot of values in this array so that in Thymeleaf (as indicated in the example) you can output via th:each   Collect the 4 lines specified in the Spring BindingResult example in one line and then output them through a loop in Thymeleaf"},{"owner":{"account_id":28038733,"reputation":1,"user_id":21416637,"display_name":"F1yPs"},"score":0,"creation_date":1699274434,"post_id":77428779,"comment_id":136506841,"body_markdown":"Or tell me. I didn&#39;t find in the documentation. how to use Object[] from BindingResult in Thymeleaf and Spring","body":"Or tell me. I didn&#39;t find in the documentation. how to use Object[] from BindingResult in Thymeleaf and Spring"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699274892,"post_id":77428779,"comment_id":136506920,"body_markdown":"You don&#39;t, thymeleaf integrates with spring and the messages are converted before displaying in thymeleaf.","body":"You don&#39;t, thymeleaf integrates with spring and the messages are converted before displaying in thymeleaf."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1699368193,"post_id":77428779,"comment_id":136521080,"body_markdown":"Maybe explain why you are asking this question? What do you want to do that you think this would solve?","body":"Maybe explain why you are asking this question? What do you want to do that you think this would solve?"}],"owner":{"account_id":28038733,"reputation":1,"user_id":21416637,"display_name":"F1yPs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699260828,"creation_date":1699245816,"question_id":77428779,"body_markdown":"How can I solve this method with the Object[] errorArgs parameter?\r\n\r\n\r\n\r\n\r\nWorking option Spring Controller:\r\n```\r\nbindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;123&quot;);\r\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;345&quot;);\r\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;678&quot;);\r\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;910&quot;);\r\n```\r\n\r\nThymeleaf:\r\n```\r\n &lt;div class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot;&gt;\r\n                        &lt;div th:each=&quot;err : ${#fields.errors(&#39;password&#39;)}&quot;&gt;\r\n                            &lt;li class=&quot;small&quot; th:text=&quot;${err}&quot;&gt;&lt;/li&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n```\r\n\r\nWhat would I like:\r\n```\r\nbindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, new String[] {&quot;123&quot;, &quot;345&quot;, &quot;678&quot;, &quot;910&quot;}, &quot;&quot;);\r\n```\r\nwith the same Thymeleaf.","title":"How does BindingResult.rejectValue(...) work with Object[] errorArgs?","body":"<p>How can I solve this method with the Object[] errorArgs parameter?</p>\n<p>Working option Spring Controller:</p>\n<pre><code>bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;123&quot;);\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;345&quot;);\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;678&quot;);\n            bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, &quot;910&quot;);\n</code></pre>\n<p>Thymeleaf:</p>\n<pre><code> &lt;div class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors('password')}&quot;&gt;\n                        &lt;div th:each=&quot;err : ${#fields.errors('password')}&quot;&gt;\n                            &lt;li class=&quot;small&quot; th:text=&quot;${err}&quot;&gt;&lt;/li&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n</code></pre>\n<p>What would I like:</p>\n<pre><code>bindingResult.rejectValue(&quot;password&quot;,&quot;error.password&quot;, new String[] {&quot;123&quot;, &quot;345&quot;, &quot;678&quot;, &quot;910&quot;}, &quot;&quot;);\n</code></pre>\n<p>with the same Thymeleaf.</p>\n"},{"tags":["java","pentaho-report-designer"],"owner":{"account_id":10212087,"reputation":1,"user_id":7538872,"display_name":"luzhk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699260717,"creation_date":1699167660,"question_id":77425019,"body_markdown":"Here is a requirement: If a group records number is less than 3，this group should not be visible. I am using pentaho report designer group tools，below is the report configuration:\r\n\r\n[![\\[Image\\](https://i.stack.imgur.com/51T4y.png)][1]][1]\r\n\r\n\r\nHow could I make the group invisible when the group records number is less than 3?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7AIbA.png","title":"pentaho-report-designer group records visible","body":"<p>Here is a requirement: If a group records number is less than 3，this group should not be visible. I am using pentaho report designer group tools，below is the report configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/7AIbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AIbA.png\" alt=\"[Image](https://i.stack.imgur.com/51T4y.png)\" /></a></p>\n<p>How could I make the group invisible when the group records number is less than 3?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","partitioning"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1690364509,"post_id":76768766,"comment_id":135341960,"body_markdown":"Not a solution by any means, perhaps a temporary bypass: if you give `hibernate.hbm2ddl.auto` the value `none`, it skips the schema validation and then it works.","body":"Not a solution by any means, perhaps a temporary bypass: if you give <code>hibernate.hbm2ddl.auto</code> the value <code>none</code>, it skips the schema validation and then it works."},{"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"score":0,"creation_date":1690375621,"post_id":76768766,"comment_id":135344472,"body_markdown":"It turns out, when using partitioning, I cannot create an entity on the main table, I can only create it on the partitioned tables. It seems the main table is considered as an abstract table, so technically it doesn&#39;t exist physically per se. My alternative would be to use inheritance partitioning.\nIt seems my options are either make do with the partitioned table entities only, or I have to switch to inheritance partitioning to create an entity for the main table as well.","body":"It turns out, when using partitioning, I cannot create an entity on the main table, I can only create it on the partitioned tables. It seems the main table is considered as an abstract table, so technically it doesn&#39;t exist physically per se. My alternative would be to use inheritance partitioning. It seems my options are either make do with the partitioned table entities only, or I have to switch to inheritance partitioning to create an entity for the main table as well."}],"answers":[{"tags":[],"owner":{"account_id":2065797,"reputation":1,"user_id":1841325,"display_name":"Wolfgang Schwach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699260166,"creation_date":1699260166,"answer_id":77429789,"question_id":76768766,"body_markdown":"The actual solution would be to set the hibernate parameter `hibernate.hbm2ddl.extra_physical_table_types` to `PARTITIONED TABLE`. With this Hibernate will not only accept tables and views as Entity `@Table` values.\r\n\r\nSee also https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#settings-schema","title":"JPA Hibernate Mapping Partitioned Table to an Entity","body":"<p>The actual solution would be to set the hibernate parameter <code>hibernate.hbm2ddl.extra_physical_table_types</code> to <code>PARTITIONED TABLE</code>. With this Hibernate will not only accept tables and views as Entity <code>@Table</code> values.</p>\n<p>See also <a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#settings-schema\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#settings-schema</a></p>\n"}],"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699260166,"creation_date":1690355173,"question_id":76768766,"body_markdown":"I have a Spring Boot application where I connect to a PostgreSQL database. I have a table that I created with two columns that act as a primary key (`id` and `active_flag`) and the table is partitioned on one of them. When I map the tables to Java entities, I always get an error on the main table that it is missing, but the partitioned tables I can map them normally without any errors.\r\nIs this the normal behaviour? Can we not map the main partitioned table?\r\n\r\nBelow is my table and class mapping\r\n\r\n```\r\ncreate table test_kc (\r\n    test_id integer not null,\r\n    name text not null,\r\n    active_flag boolean not null default true,\r\n    created_at timestamp not null default now(),\r\n\r\n    constraint test_kc_pk primary key (test_id, active_flag)\r\n) partition by list (active_flag);\r\n\r\ncreate table test_kc_active partition of test_kc for values in (true);\r\ncreate table test_kc_inactive partition of test_kc for values in (false);\r\n```\r\n\r\nEntityId.java\r\n```\r\n@Data\r\npublic class EntityId implements Serializable {\r\n    private Integer id;\r\n    private Boolean activeFlag;\r\n}\r\n```\r\n\r\nTestKcEntity.java\r\n```\r\n@Entity\r\n@Table(name = &quot;test_kc&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\n@IdClass(EntityId.class)\r\npublic final class TestKcEntity {\r\n    @Id\r\n    @Column(name = &quot;test_id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Id\r\n    @Column(name = &quot;active_flag&quot;, nullable = false)\r\n    private Boolean activeFlag;\r\n\r\n    @Column(name = &quot;created_at&quot;, nullable = false)\r\n    private OffsetDateTime createdAt;\r\n}\r\n```\r\n\r\nAs can be seen in the code above, when table name is `test_kc`, I get the below error when I run my application: `Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [test_kc]`.\r\n\r\nWhen I replace the table name to `test_kc_active`, it works fine and the application runs normally.","title":"JPA Hibernate Mapping Partitioned Table to an Entity","body":"<p>I have a Spring Boot application where I connect to a PostgreSQL database. I have a table that I created with two columns that act as a primary key (<code>id</code> and <code>active_flag</code>) and the table is partitioned on one of them. When I map the tables to Java entities, I always get an error on the main table that it is missing, but the partitioned tables I can map them normally without any errors.\nIs this the normal behaviour? Can we not map the main partitioned table?</p>\n<p>Below is my table and class mapping</p>\n<pre><code>create table test_kc (\n    test_id integer not null,\n    name text not null,\n    active_flag boolean not null default true,\n    created_at timestamp not null default now(),\n\n    constraint test_kc_pk primary key (test_id, active_flag)\n) partition by list (active_flag);\n\ncreate table test_kc_active partition of test_kc for values in (true);\ncreate table test_kc_inactive partition of test_kc for values in (false);\n</code></pre>\n<p>EntityId.java</p>\n<pre><code>@Data\npublic class EntityId implements Serializable {\n    private Integer id;\n    private Boolean activeFlag;\n}\n</code></pre>\n<p>TestKcEntity.java</p>\n<pre><code>@Entity\n@Table(name = &quot;test_kc&quot;)\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@IdClass(EntityId.class)\npublic final class TestKcEntity {\n    @Id\n    @Column(name = &quot;test_id&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Id\n    @Column(name = &quot;active_flag&quot;, nullable = false)\n    private Boolean activeFlag;\n\n    @Column(name = &quot;created_at&quot;, nullable = false)\n    private OffsetDateTime createdAt;\n}\n</code></pre>\n<p>As can be seen in the code above, when table name is <code>test_kc</code>, I get the below error when I run my application: <code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [test_kc]</code>.</p>\n<p>When I replace the table name to <code>test_kc_active</code>, it works fine and the application runs normally.</p>\n"},{"tags":["java","spring-boot","maven","xsd","wsdl"],"answers":[{"tags":[],"owner":{"account_id":357783,"reputation":5010,"user_id":698168,"display_name":"Julien Kronegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699259947,"creation_date":1699259947,"answer_id":77429771,"question_id":75817904,"body_markdown":"I&#39;m using the following:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;xjbSources&gt;\r\n                        &lt;xjbSource&gt;${basedir}/src/main/resources/mybinding.xjb&lt;/xjbSource&gt;\r\n                    &lt;/xjbSources&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;${basedir}/src/main/resources/myxsd.xsd&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/src/main/generated-sources/&lt;/outputDirectory&gt;\r\n                    &lt;clearOutputDir&gt;true&lt;/clearOutputDir&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThis plugin was last updated in april 2022, but it produces me source code which contains the `jakarta` package names. I tested some generators, but this one is the first which worked properly.","title":"How to generate Java from xsd/wsdl with spring boot 3.x.x in 2023","body":"<p>I'm using the following:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;${basedir}/src/main/resources/mybinding.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;${basedir}/src/main/resources/myxsd.xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;outputDirectory&gt;${basedir}/src/main/generated-sources/&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;true&lt;/clearOutputDir&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>This plugin was last updated in april 2022, but it produces me source code which contains the <code>jakarta</code> package names. I tested some generators, but this one is the first which worked properly.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699259947,"creation_date":1679525365,"question_id":75817904,"body_markdown":"There are couple of projects 1:\r\n\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n2:\r\n\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n\r\n3:\r\n\r\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\r\nwhen I compare it plugin from apache is the most &#39;live&#39; according to mvnrepository but it is not used in projects. First one seems the most recommended but there were 3 years pause according to mvnrepository. And the last one from jvnet which we are currently using with spring boot 2 use some older dependencies. (I don&#39;t try it with spring boot 3 )\r\n","title":"How to generate Java from xsd/wsdl with spring boot 3.x.x in 2023","body":"<p>There are couple of projects 1:</p>\n<pre><code>    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>2:</p>\n<pre><code>    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>3:</p>\n<pre><code>    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>when I compare it plugin from apache is the most 'live' according to mvnrepository but it is not used in projects. First one seems the most recommended but there were 3 years pause according to mvnrepository. And the last one from jvnet which we are currently using with spring boot 2 use some older dependencies. (I don't try it with spring boot 3 )</p>\n"},{"tags":["java","json","json-simple"],"comments":[{"owner":{"account_id":3803680,"reputation":1169,"user_id":3156636,"display_name":"Ashok_Pradhan"},"score":0,"creation_date":1402218373,"post_id":24104279,"comment_id":37182960,"body_markdown":"Refer this tutorial parsing JSON using gson library\n\nhttp://www.journaldev.com/2321/google-gson-api-for-json-processing-example-tutorial","body":"Refer this tutorial parsing JSON using gson library  <a href=\"http://www.journaldev.com/2321/google-gson-api-for-json-processing-example-tutorial\" rel=\"nofollow noreferrer\">journaldev.com/2321/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402216674,"creation_date":1402216674,"answer_id":24104388,"question_id":24104279,"body_markdown":"Without going into the details, check the package [javax.json][1]. There you can find the Json class to create a parser and then access the data in a similar way as with a map.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html","title":"Read data from json array","body":"<p>Without going into the details, check the package <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html\" rel=\"nofollow\">javax.json</a>. There you can find the Json class to create a parser and then access the data in a similar way as with a map.</p>\n"},{"tags":[],"owner":{"account_id":1010774,"reputation":151,"user_id":1023392,"accept_rate":9,"display_name":"Hovav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402217685,"creation_date":1402217516,"answer_id":24104501,"question_id":24104279,"body_markdown":"in addition to what others have wrote - I would recommend to you on Jackson:\r\n\r\n    List&lt;?&gt; list = new org.codehaus.jackson.map.ObjectMapper().readValue(FileUtils.read(file), List.class);\r\n    for(Object obj: list){\r\n        Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\r\n        //do your stuff here\r\n    }\r\n","title":"Read data from json array","body":"<p>in addition to what others have wrote - I would recommend to you on Jackson:</p>\n\n<pre><code>List&lt;?&gt; list = new org.codehaus.jackson.map.ObjectMapper().readValue(FileUtils.read(file), List.class);\nfor(Object obj: list){\n    Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\n    //do your stuff here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402217892,"creation_date":1402217534,"answer_id":24104504,"question_id":24104279,"body_markdown":"Simply use [JSONObject](http://www.json.org/javadoc/org/json/JSONObject.html) constructor.\r\n\r\n&gt; A JSONObject constructor can be used to convert an external form JSON text into an internal form whose values can be retrieved with the get and opt methods, or to convert values into a JSON text using the put and `toString` methods.  \r\n\r\nSample code: (Do in the same way for other values)\r\n\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n\r\n    JSONObject mh = jsonObject.getJSONObject(&quot;MH&quot;);\r\n    int acc=mh.getJSONObject(&quot;data&quot;).getInt(&quot;ACC&quot;); // output 4\r\n\r\n\r\nNote: Just remove enclosing [] before doing this.","title":"Read data from json array","body":"<p>Simply use <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\" rel=\"nofollow\">JSONObject</a> constructor.</p>\n\n<blockquote>\n  <p>A JSONObject constructor can be used to convert an external form JSON text into an internal form whose values can be retrieved with the get and opt methods, or to convert values into a JSON text using the put and <code>toString</code> methods.  </p>\n</blockquote>\n\n<p>Sample code: (Do in the same way for other values)</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(jsonString);\n\nJSONObject mh = jsonObject.getJSONObject(\"MH\");\nint acc=mh.getJSONObject(\"data\").getInt(\"ACC\"); // output 4\n</code></pre>\n\n<p>Note: Just remove enclosing [] before doing this.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402218287,"creation_date":1402217609,"answer_id":24104519,"question_id":24104279,"body_markdown":"You need to parse JSON from string. Using [JSON.simple][1] API you can use a parser.\r\n\r\n    JSONParser parser = new JSONParser();\r\n    try {\r\n        Object obj = parser.parse(string);\r\n        JSONArray arr = (JSONArray) obj; \r\n        Iterator&lt;Object&gt; iterator = arr.iterator();\r\n        while (iterator.hasNext()) {\r\n          JSONObject m = (JSONObject)iterator.next();\r\n          JSONObject data = (JSONObject) m.get(&quot;data&quot;);\r\n          Integer acc = (Integer)data.get(&quot;ACC&quot;);\r\n          ...  \r\n        }\t\r\n    } catch (ParseException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://code.google.com/p/json-simple/","title":"Read data from json array","body":"<p>You need to parse JSON from string. Using <a href=\"https://code.google.com/p/json-simple/\" rel=\"nofollow\">JSON.simple</a> API you can use a parser.</p>\n\n<pre><code>JSONParser parser = new JSONParser();\ntry {\n    Object obj = parser.parse(string);\n    JSONArray arr = (JSONArray) obj; \n    Iterator&lt;Object&gt; iterator = arr.iterator();\n    while (iterator.hasNext()) {\n      JSONObject m = (JSONObject)iterator.next();\n      JSONObject data = (JSONObject) m.get(\"data\");\n      Integer acc = (Integer)data.get(\"ACC\");\n      ...  \n    }   \n} catch (ParseException e) {\n  e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":4583920,"reputation":11,"user_id":3719245,"display_name":"user3719245"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1411077087,"answer_count":4,"score":0,"last_activity_date":1699259629,"creation_date":1402215675,"question_id":24104279,"body_markdown":"I have created one json array in view; it has dynamic data I am sending that array as hidden input field to the spring controller. \r\n\r\nI am getting that array as:\r\n\r\n    String string=request.getParameter(&quot;jsonStateCompanyOnSubmit&quot;);\r\n    logger.info(&quot;jsong format is:&quot;+string);\r\n\r\nThe JSON data is:\r\n\r\n    [\r\n    {\r\n      &quot;MH&quot;:{\r\n         &quot;data&quot;:{\r\n            &quot;ACC&quot;:4,\r\n            &quot;SHREE&quot;:2\r\n         },\r\n         &quot;name&quot;:&quot;MH&quot;\r\n      },\r\n      &quot;MP&quot;:{\r\n         &quot;data&quot;:{\r\n            &quot;ACC&quot;:9,\r\n            &quot;SHREE&quot;:6\r\n         },\r\n         &quot;name&quot;:&quot;MP&quot;\r\n      }\r\n    }\r\n    ] \r\n\r\n\r\nHow can I extract:\r\n\r\n    MH,ACC,4\r\n    MH,SHREE,2  \r\n    MP,ACC,9\r\n    MP,SHREE,6\r\n\r\n","title":"Read data from json array","body":"<p>I have created one json array in view; it has dynamic data I am sending that array as hidden input field to the spring controller.</p>\n<p>I am getting that array as:</p>\n<pre><code>String string=request.getParameter(&quot;jsonStateCompanyOnSubmit&quot;);\nlogger.info(&quot;jsong format is:&quot;+string);\n</code></pre>\n<p>The JSON data is:</p>\n<pre><code>[\n{\n  &quot;MH&quot;:{\n     &quot;data&quot;:{\n        &quot;ACC&quot;:4,\n        &quot;SHREE&quot;:2\n     },\n     &quot;name&quot;:&quot;MH&quot;\n  },\n  &quot;MP&quot;:{\n     &quot;data&quot;:{\n        &quot;ACC&quot;:9,\n        &quot;SHREE&quot;:6\n     },\n     &quot;name&quot;:&quot;MP&quot;\n  }\n}\n] \n</code></pre>\n<p>How can I extract:</p>\n<pre><code>MH,ACC,4\nMH,SHREE,2  \nMP,ACC,9\nMP,SHREE,6\n</code></pre>\n"},{"tags":["java","c#","iterable","enumerable"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1665739015,"post_id":74066784,"comment_id":130773277,"body_markdown":"&quot;I am NOT interested in actually creating an `Iterable&lt;&gt;` from an element&quot; So what *are* you interested in? &quot;if Java can handle enumerables/iterables as powerfully as C#&quot; is unclear.","body":"&quot;I am NOT interested in actually creating an <code>Iterable&lt;&gt;</code> from an element&quot; So what <i>are</i> you interested in? &quot;if Java can handle enumerables/iterables as powerfully as C#&quot; is unclear."},{"owner":{"account_id":6950583,"reputation":2574,"user_id":5333340,"accept_rate":77,"display_name":"Kjara"},"score":0,"creation_date":1665752731,"post_id":74066784,"comment_id":130777541,"body_markdown":"@Sweeper The C# code I wrote does not create an `IEnumerable&lt;&gt;` object; it merely transforms it lazily (it creates a &quot;recipe&quot; for how to get entries when needed). I want to know if Java has an equivalent.","body":"@Sweeper The C# code I wrote does not create an <code>IEnumerable&lt;&gt;</code> object; it merely transforms it lazily (it creates a &quot;recipe&quot; for how to get entries when needed). I want to know if Java has an equivalent."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699258994,"creation_date":1665739233,"answer_id":74067079,"question_id":74066784,"body_markdown":"The easiest way is to use [`Collections.singleton()`][1] or [`Collections.singletonList()`][2].\r\n```\r\nCollections.singleton(1);\r\nCollections.singletonList(&quot;&quot;);\r\n```\r\nReturned collections are immutable in both cases, they are being backed only by the actual element. They are **not** real collections, in the sense, that they only allow iteration and other non modifying operations.\r\n\r\nOr you can make the implementations of `Iterator` and `Iterable` yourself, although that would be reimplementing the above to some extent (jdk already provides similar/same functionality).\r\n```\r\npublic class SingleElementIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\r\n  private final T element;\r\n  private boolean hasNext;\r\n\r\n  public SingleElementIterator(T element) {\r\n    this.element = element;\r\n    this.hasNext = true;\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    return this.hasNext;\r\n  }\r\n\r\n  @Override\r\n  public T next() {\r\n    if (this.hasNext) {\r\n      this.hasNext = false;\r\n      return this.element;\r\n    }\r\n    throw new NoSuchElementException();\r\n  }\r\n}\r\n```\r\n```\r\npublic class SingleElementIterable&lt;T&gt; implements Iterable&lt;T&gt; {\r\n\r\n  private final T element;\r\n\r\n  public SingleElementIterable(T element) {\r\n    this.element = element;\r\n  }\r\n\r\n  @Override\r\n  public Iterator&lt;T&gt; iterator() {\r\n    return new SingleElementIterator&lt;&gt;(this.element);\r\n  }\r\n}\r\n```\r\nExample:\r\n```\r\npublic class Temp {\r\n\r\n  public static void main(String[] args) {\r\n    Iterable&lt;String&gt; iterable = new SingleElementIterable&lt;&gt;(&quot;abc&quot;);\r\n    for (String string : iterable) {\r\n      System.out.println(string);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singletonList-T-","title":"transform single element to Iterable in Java","body":"<p>The easiest way is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-\" rel=\"nofollow noreferrer\"><code>Collections.singleton()</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singletonList-T-\" rel=\"nofollow noreferrer\"><code>Collections.singletonList()</code></a>.</p>\n<pre><code>Collections.singleton(1);\nCollections.singletonList(&quot;&quot;);\n</code></pre>\n<p>Returned collections are immutable in both cases, they are being backed only by the actual element. They are <strong>not</strong> real collections, in the sense, that they only allow iteration and other non modifying operations.</p>\n<p>Or you can make the implementations of <code>Iterator</code> and <code>Iterable</code> yourself, although that would be reimplementing the above to some extent (jdk already provides similar/same functionality).</p>\n<pre><code>public class SingleElementIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n  private final T element;\n  private boolean hasNext;\n\n  public SingleElementIterator(T element) {\n    this.element = element;\n    this.hasNext = true;\n  }\n\n  @Override\n  public boolean hasNext() {\n    return this.hasNext;\n  }\n\n  @Override\n  public T next() {\n    if (this.hasNext) {\n      this.hasNext = false;\n      return this.element;\n    }\n    throw new NoSuchElementException();\n  }\n}\n</code></pre>\n<pre><code>public class SingleElementIterable&lt;T&gt; implements Iterable&lt;T&gt; {\n\n  private final T element;\n\n  public SingleElementIterable(T element) {\n    this.element = element;\n  }\n\n  @Override\n  public Iterator&lt;T&gt; iterator() {\n    return new SingleElementIterator&lt;&gt;(this.element);\n  }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>public class Temp {\n\n  public static void main(String[] args) {\n    Iterable&lt;String&gt; iterable = new SingleElementIterable&lt;&gt;(&quot;abc&quot;);\n    for (String string : iterable) {\n      System.out.println(string);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6950583,"reputation":2574,"user_id":5333340,"accept_rate":77,"display_name":"Kjara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74067079,"answer_count":1,"score":-2,"last_activity_date":1699258994,"creation_date":1665737872,"question_id":74066784,"body_markdown":"In C#, I can transform a single element to an `IEnumerable&lt;&gt;` like this (using an extension method here):\r\n\r\n    static class Extensions\r\n    {\r\n        static IEnumerable&lt;T&gt; Yield&lt;T&gt;(this T t)\r\n        {\r\n            yield return t;\r\n        }\r\n    }\r\n\r\nI use this when I need to input an `IEnumerable&lt;&gt;` somewhere but only have a single element, like here:\r\n\r\n    var myList = new List&lt;string&gt;(&quot;foo&quot;.Yield());\r\n\r\n\r\n**Is there some equivalent way to do this in Java?**\r\n\r\nI am NOT interested in actually creating an `Iterable&lt;&gt;` on the heap from an element like\r\n\r\n    List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;();\r\n    myIterable.add(&quot;foo&quot;);\r\n\r\nbecause I already know that kind of solution; I want to know if Java can handle enumerables/iterables as powerfully as C# (C# has Linq and yield return, Java has Streams) and lazily.","title":"transform single element to Iterable in Java","body":"<p>In C#, I can transform a single element to an <code>IEnumerable&lt;&gt;</code> like this (using an extension method here):</p>\n<pre><code>static class Extensions\n{\n    static IEnumerable&lt;T&gt; Yield&lt;T&gt;(this T t)\n    {\n        yield return t;\n    }\n}\n</code></pre>\n<p>I use this when I need to input an <code>IEnumerable&lt;&gt;</code> somewhere but only have a single element, like here:</p>\n<pre><code>var myList = new List&lt;string&gt;(&quot;foo&quot;.Yield());\n</code></pre>\n<p><strong>Is there some equivalent way to do this in Java?</strong></p>\n<p>I am NOT interested in actually creating an <code>Iterable&lt;&gt;</code> on the heap from an element like</p>\n<pre><code>List&lt;String&gt; myIterable = new ArrayList&lt;String&gt;();\nmyIterable.add(&quot;foo&quot;);\n</code></pre>\n<p>because I already know that kind of solution; I want to know if Java can handle enumerables/iterables as powerfully as C# (C# has Linq and yield return, Java has Streams) and lazily.</p>\n"},{"tags":["java","postgresql","hibernate","jsonb"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698918855,"creation_date":1698918855,"answer_id":77408569,"question_id":77408206,"body_markdown":"It seems like you&#39;re using `@Embedded` to handle a `jsonb` column parser. \r\n\r\n&gt; The JPA annotation @Embedded is used to embed a type into another entity.\r\n\r\nEmbedding entity columns and mapping of to a single database table. You can refer to this [doc](https://www.baeldung.com/jpa-embedded-embeddable) for more info.\r\n\r\n\r\nYour case if you&#39;re using Hibernate 6, this is the only thing you need.\r\n```\r\npublic class MyClassEntity {\r\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    private SubClass content;\r\n}\r\n```\r\n\r\nFor Hibernate 4 and 5, you need to implement `UserType` for it\r\n```\r\npublic class SubClassType implements UserType&lt;SubClass&gt; {\r\n \r\n    public static final ObjectMapper MAPPER = new ObjectMapper();\r\n     \r\n    @Override\r\n    public int getSqlType() {\r\n        return SqlTypes.JSON;\r\n    }\r\n \r\n    @Override\r\n    public Class&lt;SubClass&gt; returnedClass() {\r\n        return SubClass.class;\r\n    }\r\n \r\n    // implementations of nullSafeGet, deepCopy...\r\n}\r\n```\r\nAlso, declare it as `Custom type` on class level. This is the [documentation](https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/). I hope it helps.\r\n","title":"Converting subclass to jsonb","body":"<p>It seems like you're using <code>@Embedded</code> to handle a <code>jsonb</code> column parser.</p>\n<blockquote>\n<p>The JPA annotation @Embedded is used to embed a type into another entity.</p>\n</blockquote>\n<p>Embedding entity columns and mapping of to a single database table. You can refer to this <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">doc</a> for more info.</p>\n<p>Your case if you're using Hibernate 6, this is the only thing you need.</p>\n<pre><code>public class MyClassEntity {\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\n    @JdbcTypeCode(SqlTypes.JSON)\n    private SubClass content;\n}\n</code></pre>\n<p>For Hibernate 4 and 5, you need to implement <code>UserType</code> for it</p>\n<pre><code>public class SubClassType implements UserType&lt;SubClass&gt; {\n \n    public static final ObjectMapper MAPPER = new ObjectMapper();\n     \n    @Override\n    public int getSqlType() {\n        return SqlTypes.JSON;\n    }\n \n    @Override\n    public Class&lt;SubClass&gt; returnedClass() {\n        return SubClass.class;\n    }\n \n    // implementations of nullSafeGet, deepCopy...\n}\n</code></pre>\n<p>Also, declare it as <code>Custom type</code> on class level. This is the <a href=\"https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/\" rel=\"nofollow noreferrer\">documentation</a>. I hope it helps.</p>\n"}],"owner":{"account_id":1844563,"reputation":1681,"user_id":1673206,"accept_rate":36,"display_name":"user1673206"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699258878,"creation_date":1698915835,"question_id":77408206,"body_markdown":"Im new with Java, hibernate, postgres.\r\n\r\nIm trying to write to a table with (not so much) complex data and Im keep getting exceptions. ill be happy for some guidance.\r\n\r\nThis is the table:\r\n\r\n    CREATE TABLE IF NOT exists public.my_table (\r\n     id             uuid primary key default uuid_generate_v4(),\r\n     description     text,\r\n     content         jsonb\r\n    );\r\n\r\nThe main issue is with the `content` field and converting it to `jsonb` type.\r\n\r\n\r\nThis is the entity:\r\n\r\n```JAVA\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyClassEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private UUID id;\r\n\r\n    @Type(type = &quot;text&quot;)\r\n    @Column(name = &quot;description&quot;, nullable = false)\r\n    private String description;\r\n\r\n    @Embedded\r\n    @Convert(converter = SubClassConverter.class)\r\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private SubClass content;\r\n\r\n    public void setId (UUID id) {\r\n        this.id = id;\r\n    }\r\n    public UUID getId () {\r\n        return this.id;\r\n    }\r\n    public void setDesctiption (String description) {\r\n        this.description = description;\r\n    }\r\n    public String getDescription () {\r\n        return this.description;\r\n    }\r\n    public void setContent SubClass content) {\r\n        this.content = content;\r\n    }\r\n    public SubClass getContent () {\r\n        return this.content;\r\n    }\r\n    }\r\n```\r\n\r\nThis is the `SubClass`:\r\n\r\n\r\n```JAVA\r\n    @Embeddable\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class SubClass {\r\n\r\n    @JsonProperty(&quot;param_a&quot;)\r\n    private String param_a;\r\n\r\n    @JsonProperty(&quot;param_b&quot;)\r\n    private String param_b;\r\n\r\n    @JsonProperty(&quot;regex&quot;)\r\n    private boolean regex;\r\n\r\n    public SubClass(){}\r\n\r\n    public SubClass(String param_a, String param_b, boolean regex){\r\n        this.param_a = param_a;\r\n        this.param_b = param_b;\r\n        this.regex = regex;\r\n    }\r\n\r\n    public SubClass(SubClass subClass) {\r\n        this(\r\n                subClass.getParamA(),\r\n                subClass.getParamB(),\r\n                subClass.getRegex()\r\n        );\r\n    }\r\n\r\n    //getters + setters\r\n    }\r\n```\r\n\r\nThis is the converter:\r\n\r\n\r\n```\r\n    public class SubClassConverter implements AttributeConverter&lt;SubClass, String&gt;  {\r\n   \r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    public SubClassConverter() {\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    }\r\n\r\n    @Override\r\n    public String convertToDatabaseColumnSubClassConverter (SubClass in) {\r\n        try {\r\n            return objectMapper.writeValueAsString(in);\r\n        }\r\n        catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to convert&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public SubClass convertToEntityAttribute(String joined) {\r\n        \r\n        if (StringUtils.isEmpty(joined)) {\r\n            return null;\r\n        }\r\n        try {\r\n            SubClass metadata = objectMapper.readValue(joined, SubClass.class);\r\n            if (metadata == null) return null;\r\n            return metadata;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n    }\r\n```\r\n\r\nthis is the repository:\r\n\r\n```JAVA\r\n    @Repository\r\n    public interface MyClassRepository extends CrudRepository&lt;MyClassEntity, UUID&gt; {\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(value = &quot;insert into my_table (description, content) &quot; +\r\n            &quot;values (:description, cast(:content as jsonb))&quot;, nativeQuery = true)\r\n    void insertMyClass(@Param(&quot;description&quot;) String description,\r\n                       @Param(&quot;content&quot;) SubClass content);\r\n\r\n    }\r\n```\r\n\r\nThis is the exception I get:\r\n\r\n&gt; 8480 SEVERE [main] --- org.springframework.boot.SpringApplication: Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName\r\n&gt; \r\n&gt; 8480 SEVERE [main] --- org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73ee04c8] to prepare test instance [com.gms.model.services.MyClassServiceTest@39695803]\r\n&gt; \r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName\r\n\r\n\r\nI must say that I tried to google it and fix it. but each &quot;fix&quot; gave me the same or other error.\r\n\r\nIm kind of stuck now and ill be happy for help","title":"Converting subclass to jsonb","body":"<p>Im new with Java, hibernate, postgres.</p>\n<p>Im trying to write to a table with (not so much) complex data and Im keep getting exceptions. ill be happy for some guidance.</p>\n<p>This is the table:</p>\n<pre><code>CREATE TABLE IF NOT exists public.my_table (\n id             uuid primary key default uuid_generate_v4(),\n description     text,\n content         jsonb\n);\n</code></pre>\n<p>The main issue is with the <code>content</code> field and converting it to <code>jsonb</code> type.</p>\n<p>This is the entity:</p>\n<pre><code>    @Entity\n    @Table(name = &quot;my_table&quot;)\n    public class MyClassEntity {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @Type(type = &quot;text&quot;)\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Embedded\n    @Convert(converter = SubClassConverter.class)\n    @Column(name = &quot;content&quot;, columnDefinition = &quot;jsonb&quot;)\n    private SubClass content;\n\n    public void setId (UUID id) {\n        this.id = id;\n    }\n    public UUID getId () {\n        return this.id;\n    }\n    public void setDesctiption (String description) {\n        this.description = description;\n    }\n    public String getDescription () {\n        return this.description;\n    }\n    public void setContent SubClass content) {\n        this.content = content;\n    }\n    public SubClass getContent () {\n        return this.content;\n    }\n    }\n</code></pre>\n<p>This is the <code>SubClass</code>:</p>\n<pre><code>    @Embeddable\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public class SubClass {\n\n    @JsonProperty(&quot;param_a&quot;)\n    private String param_a;\n\n    @JsonProperty(&quot;param_b&quot;)\n    private String param_b;\n\n    @JsonProperty(&quot;regex&quot;)\n    private boolean regex;\n\n    public SubClass(){}\n\n    public SubClass(String param_a, String param_b, boolean regex){\n        this.param_a = param_a;\n        this.param_b = param_b;\n        this.regex = regex;\n    }\n\n    public SubClass(SubClass subClass) {\n        this(\n                subClass.getParamA(),\n                subClass.getParamB(),\n                subClass.getRegex()\n        );\n    }\n\n    //getters + setters\n    }\n</code></pre>\n<p>This is the converter:</p>\n<pre><code>    public class SubClassConverter implements AttributeConverter&lt;SubClass, String&gt;  {\n   \n    private ObjectMapper objectMapper = new ObjectMapper();\n\n    public SubClassConverter() {\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    }\n\n    @Override\n    public String convertToDatabaseColumnSubClassConverter (SubClass in) {\n        try {\n            return objectMapper.writeValueAsString(in);\n        }\n        catch (Exception e) {\n            throw new RuntimeException(&quot;Failed to convert&quot;, e);\n        }\n    }\n\n    @Override\n    public SubClass convertToEntityAttribute(String joined) {\n        \n        if (StringUtils.isEmpty(joined)) {\n            return null;\n        }\n        try {\n            SubClass metadata = objectMapper.readValue(joined, SubClass.class);\n            if (metadata == null) return null;\n            return metadata;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n    }\n</code></pre>\n<p>this is the repository:</p>\n<pre><code>    @Repository\n    public interface MyClassRepository extends CrudRepository&lt;MyClassEntity, UUID&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;insert into my_table (description, content) &quot; +\n            &quot;values (:description, cast(:content as jsonb))&quot;, nativeQuery = true)\n    void insertMyClass(@Param(&quot;description&quot;) String description,\n                       @Param(&quot;content&quot;) SubClass content);\n\n    }\n</code></pre>\n<p>This is the exception I get:</p>\n<blockquote>\n<p>8480 SEVERE [main] --- org.springframework.boot.SpringApplication: Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName</p>\n<p>8480 SEVERE [main] --- org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73ee04c8] to prepare test instance [com.gms.model.services.MyClassServiceTest@39695803]</p>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Convert placed on Embedded attribute must define (sub)attributeName</p>\n</blockquote>\n<p>I must say that I tried to google it and fix it. but each &quot;fix&quot; gave me the same or other error.</p>\n<p>Im kind of stuck now and ill be happy for help</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699258160,"post_id":77420932,"comment_id":136504110,"body_markdown":"not clear: &quot;the output should be ... order 58 textbooks for a total cost of $244.76&quot; and &quot;my output for the textbooks and cost at last is 58 and 244.76&quot; - what is wrong with that? (despite the additional backslashes in `main(String\\[\\] args)`)","body":"not clear: &quot;the output should be ... order 58 textbooks for a total cost of $244.76&quot; and &quot;my output for the textbooks and cost at last is 58 and 244.76&quot; - what is wrong with that? (despite the additional backslashes in <code>main(String\\[\\] args)</code>)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699259184,"post_id":77420932,"comment_id":136504241,"body_markdown":"and are you sure the &quot;percentage of late textbook&quot; is just 0.15 and not 15 ? 0.15% of 58 is 0.09, and not 9 (`67-58`) - Based on that, I suppose that when you wrote &quot;*cost at last*&quot; you meant the last output, the &quot;late textbook requests&quot; - so the error in posted example is the input of `0.15` instead of `15`","body":"and are you sure the &quot;percentage of late textbook&quot; is just 0.15 and not 15 ? 0.15% of 58 is 0.09, and not 9 (<code>67-58</code>) - Based on that, I suppose that when you wrote &quot;<i>cost at last</i>&quot; you meant the last output, the &quot;late textbook requests&quot; - so the error in posted example is the input of <code>0.15</code> instead of <code>15</code>"}],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699258630,"creation_date":1699078545,"answer_id":77420961,"question_id":77420932,"body_markdown":"In calculation for `textbooksToOrder` you divide the `totalTextbooks` by 12 and then rounds up which seems wrong - books are not sold in dozens. Then, for late requests, you multiply `textbooksToOrder` by the late request multiplier, but this doesn&#39;t consider the original number of textbooks (`totalTextbooks`). Also, the code uses both `Math.round()` and `Math.ceil()` which is redundant. Since you want to make sure you have enough textbooks, using  `Math.ceil()` only makes more sense. \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ProgramSummary {\r\n  public static void main(String[] args) {\r\n    Scanner scnr = new Scanner(System.in);\r\n\r\n    int totalStudents = scnr.nextInt();\r\n    int textbooksPerStudent = scnr.nextInt();\r\n    double costPerTextbook = scnr.nextDouble();\r\n    double lateRequestPercentage = scnr.nextDouble();\r\n\r\n    int totalTextbooks = totalStudents * textbooksPerStudent;\r\n\r\n    double totalCost = totalTextbooks * costPerTextbook;\r\n\r\n    System.out.println(&quot;This order will support &quot; + totalStudents\r\n       + &quot; students, each needing &quot; + textbooksPerStudent \r\n       + &quot; textbooks.&quot;);\r\n    System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\r\n    System.out.println(&quot;You will need to order &quot; + totalTextbooks \r\n       + &quot; textbooks for a total cost of $&quot; \r\n       + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\r\n\r\n    double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\r\n    double lateRequestTextbooks = totalTextbooks * lateRequestMultiplier;\r\n    int roundedLateRequestTextbooks = (int) Math.ceil(lateRequestTextbooks);\r\n    double lateRequestCost = roundedLateRequestTextbooks * costPerTextbook;\r\n\r\n    System.out.println(\r\n      String.format(&quot;Allowing for late textbook requests, you should &quot; +\r\n        &quot;order: %d textbooks for a cost of $%.2f.&quot;, \r\n        roundedLateRequestTextbooks, lateRequestCost)\r\n      );\r\n  }\r\n}\r\n```","title":"Where is the mistake in my math logic? (Java)","body":"<p>In calculation for <code>textbooksToOrder</code> you divide the <code>totalTextbooks</code> by 12 and then rounds up which seems wrong - books are not sold in dozens. Then, for late requests, you multiply <code>textbooksToOrder</code> by the late request multiplier, but this doesn't consider the original number of textbooks (<code>totalTextbooks</code>). Also, the code uses both <code>Math.round()</code> and <code>Math.ceil()</code> which is redundant. Since you want to make sure you have enough textbooks, using  <code>Math.ceil()</code> only makes more sense.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ProgramSummary {\n  public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n\n    int totalStudents = scnr.nextInt();\n    int textbooksPerStudent = scnr.nextInt();\n    double costPerTextbook = scnr.nextDouble();\n    double lateRequestPercentage = scnr.nextDouble();\n\n    int totalTextbooks = totalStudents * textbooksPerStudent;\n\n    double totalCost = totalTextbooks * costPerTextbook;\n\n    System.out.println(&quot;This order will support &quot; + totalStudents\n       + &quot; students, each needing &quot; + textbooksPerStudent \n       + &quot; textbooks.&quot;);\n    System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\n    System.out.println(&quot;You will need to order &quot; + totalTextbooks \n       + &quot; textbooks for a total cost of $&quot; \n       + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\n\n    double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\n    double lateRequestTextbooks = totalTextbooks * lateRequestMultiplier;\n    int roundedLateRequestTextbooks = (int) Math.ceil(lateRequestTextbooks);\n    double lateRequestCost = roundedLateRequestTextbooks * costPerTextbook;\n\n    System.out.println(\n      String.format(&quot;Allowing for late textbook requests, you should &quot; +\n        &quot;order: %d textbooks for a cost of $%.2f.&quot;, \n        roundedLateRequestTextbooks, lateRequestCost)\n      );\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699230135,"creation_date":1699230135,"answer_id":77428147,"question_id":77420932,"body_markdown":"Here is step 1.\r\n\r\n```java\r\nimport static java.lang.String.valueOf;\r\nimport static java.math.RoundingMode.HALF_EVEN;\r\n```\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\n// The total number of students that the educational program will need to support.\r\n// The number of textbooks needed per student.\r\nint a = in.nextInt(), b = in.nextInt();\r\n// The cost of one textbook.\r\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\r\n// The expected percentage of late textbook requests (not used in this step).\r\ndouble d = in.nextDouble();\r\n\r\n// Calculate the number of textbooks required based on the number of students.\r\nint x = a * b;\r\n// Calculate the total cost to the organization for ordering the textbooks.\r\nBigDecimal y = c.multiply(new BigDecimal(x));\r\n\r\n// Display a summary report, including the input values and the calculated cost.\r\nSystem.out.println(&quot;a = &quot; + a);\r\nSystem.out.println(&quot;b = &quot; + b);\r\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\r\nSystem.out.println(&quot;d = &quot; + d);\r\nSystem.out.println(&quot;x = &quot; + x);\r\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n231 3 4.22 .15\r\na = 231\r\nb = 3\r\nc = $4.22\r\nd = 0.15\r\nx = 693\r\ny = $2924.46\r\n```\r\n\r\nAnd, here is step 2.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\n// The total number of students that the educational program will need to support.\r\n// The number of textbooks needed per student.\r\nint a = in.nextInt(), b = in.nextInt();\r\n// The cost of one textbook.\r\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\r\n// The expected percentage of late textbook requests.\r\ndouble d = in.nextDouble();\r\n\r\n// Calculate the number of textbooks required.\r\nint x = a * b;\r\n// Calculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\r\nBigDecimal y = c.multiply(new BigDecimal(x));\r\n// Calculate the additional costs to account for late textbook requests.\r\n// The percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\r\nBigDecimal z = new BigDecimal(valueOf(x));\r\nz = z.multiply(new BigDecimal(valueOf(d)));\r\nz = z.multiply(c).setScale(2, HALF_EVEN);\r\n\r\n// Display a summary of the inputs and an itemized list of the costs.\r\nSystem.out.println(&quot;a = &quot; + a);\r\nSystem.out.println(&quot;b = &quot; + b);\r\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\r\nSystem.out.println(&quot;d = &quot; + d);\r\nSystem.out.println(&quot;x = &quot; + x);\r\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\r\nSystem.out.println(&quot;z = $&quot; + z.toPlainString());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n231 3 4.22 .15\r\na = 231\r\nb = 3\r\nc = $4.22\r\nd = 0.15\r\nx = 693\r\ny = $2924.46\r\nz = $438.67\r\n```","title":"Where is the mistake in my math logic? (Java)","body":"<p>Here is step 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.String.valueOf;\nimport static java.math.RoundingMode.HALF_EVEN;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\n// The total number of students that the educational program will need to support.\n// The number of textbooks needed per student.\nint a = in.nextInt(), b = in.nextInt();\n// The cost of one textbook.\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\n// The expected percentage of late textbook requests (not used in this step).\ndouble d = in.nextDouble();\n\n// Calculate the number of textbooks required based on the number of students.\nint x = a * b;\n// Calculate the total cost to the organization for ordering the textbooks.\nBigDecimal y = c.multiply(new BigDecimal(x));\n\n// Display a summary report, including the input values and the calculated cost.\nSystem.out.println(&quot;a = &quot; + a);\nSystem.out.println(&quot;b = &quot; + b);\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\nSystem.out.println(&quot;d = &quot; + d);\nSystem.out.println(&quot;x = &quot; + x);\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>231 3 4.22 .15\na = 231\nb = 3\nc = $4.22\nd = 0.15\nx = 693\ny = $2924.46\n</code></pre>\n<p>And, here is step 2.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\n// The total number of students that the educational program will need to support.\n// The number of textbooks needed per student.\nint a = in.nextInt(), b = in.nextInt();\n// The cost of one textbook.\nBigDecimal c = in.nextBigDecimal().setScale(2, HALF_EVEN);\n// The expected percentage of late textbook requests.\ndouble d = in.nextDouble();\n\n// Calculate the number of textbooks required.\nint x = a * b;\n// Calculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\nBigDecimal y = c.multiply(new BigDecimal(x));\n// Calculate the additional costs to account for late textbook requests.\n// The percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\nBigDecimal z = new BigDecimal(valueOf(x));\nz = z.multiply(new BigDecimal(valueOf(d)));\nz = z.multiply(c).setScale(2, HALF_EVEN);\n\n// Display a summary of the inputs and an itemized list of the costs.\nSystem.out.println(&quot;a = &quot; + a);\nSystem.out.println(&quot;b = &quot; + b);\nSystem.out.println(&quot;c = $&quot; + c.toPlainString());\nSystem.out.println(&quot;d = &quot; + d);\nSystem.out.println(&quot;x = &quot; + x);\nSystem.out.println(&quot;y = $&quot; + y.toPlainString());\nSystem.out.println(&quot;z = $&quot; + z.toPlainString());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>231 3 4.22 .15\na = 231\nb = 3\nc = $4.22\nd = 0.15\nx = 693\ny = $2924.46\nz = $438.67\n</code></pre>\n"}],"owner":{"account_id":29823259,"reputation":11,"user_id":22855919,"display_name":"Simon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699258630,"creation_date":1699077804,"question_id":77420932,"body_markdown":"Subject: A charity organization that supports their clients with educational materials needs to order enough textbooks to support the learning needs of their clients and to calculate the total cost of purchasing the textbooks.\r\n\r\nStep 1:\r\n\r\nInput:\r\nThe total number of students that the educational program will need to support.\r\nThe number of textbooks needed per student.\r\nThe cost of one textbook.\r\nThe expected percentage of late textbook requests (not used in this step).\r\nCalculation:\r\nCalculate the number of textbooks required based on the number of students.\r\nCalculate the total cost to the organization for ordering the textbooks.\r\nOutput:\r\nDisplay a summary report, including the input values and the calculated cost.\r\n\r\nStep 2:\r\n\r\nInput:\r\nThe total number of students that the educational program will need to support.\r\nThe number of textbooks needed per student.\r\nThe cost of one textbook.\r\nThe expected percentage of late textbook requests.\r\nCalculation:\r\nCalculate the number of textbooks required.\r\nCalculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\r\nCalculate the additional costs to account for late textbook requests.\r\nThe percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\r\nOutput:\r\nDisplay a summary of the inputs and an itemized list of the costs.\r\n\r\nHere is my code:\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class ProgramSummary {\r\npublic static void main(String\\[\\] args) {\r\nScanner scnr = new Scanner(System.in);\r\n\r\n        // Input\r\n        int totalStudents = scnr.nextInt(); // Total number of students\r\n        int textbooksPerStudent = scnr.nextInt(); // Number of textbooks needed per student\r\n        double costPerTextbook = scnr.nextDouble(); // Cost of one textbook\r\n        double lateRequestPercentage = scnr.nextDouble(); // Expected percentage of late textbook requests\r\n    \r\n        // Calculate number of textbooks required\r\n        int totalTextbooks = totalStudents * textbooksPerStudent;\r\n        int textbooksToOrder = (int) Math.ceil((double) totalTextbooks / 12);\r\n    \r\n        // Calculate total cost\r\n        double totalCost = textbooksToOrder * costPerTextbook;\r\n    \r\n        // Output\r\n        System.out.println(&quot;Total number of students:&quot;);\r\n        System.out.println(&quot;Number of textbooks needed per student:&quot;);\r\n        System.out.println(&quot;Cost per textbook:&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;This order will support &quot; + totalStudents + &quot; students, each needing &quot; + textbooksPerStudent + &quot; textbooks.&quot;);\r\n        System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\r\n        System.out.println(&quot;You will need to order &quot; + textbooksToOrder + &quot; textbooks for a total cost of $&quot; + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\r\n```\r\n    \r\n        \r\n```\r\n// Input for late requests\r\n        System.out.println();\r\n        System.out.println(&quot;Please input the expected percentage of late textbook requests:&quot;);\r\n        System.out.println();\r\n        double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\r\n        double lateRequestTextbooks = (textbooksToOrder * lateRequestMultiplier);\r\n        int roundedLateRequestTextbooks = (int) Math.round(lateRequestTextbooks);\r\n    \r\n        double lateRequestCost = (double) roundedLateRequestTextbooks * costPerTextbook;\r\n    \r\n        // Modified output to match expected format\r\n        System.out.print(&quot;Allowing for late textbook requests, you should order: &quot; + (int) Math.ceil(roundedLateRequestTextbooks) + &quot; textbooks for a cost of $&quot; + String.format(&quot;%.2f&quot;, lateRequestCost) + &quot;.&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf the input is\r\n\r\n231\r\n\r\n3\r\n\r\n4.22\r\n\r\n0.15\r\n\r\nThen the output should be\r\n\r\nThis order will support 231 students, each needing 3 textbooks.\r\nTotal textbooks needed: 693\r\nYou will need to order 58 textbooks for a total cost of $244.76.\r\n\r\nAllowing for late textbook requests, you should order: 67 textbooks for a cost of $282.74.\r\n\r\nBut for some reasons my output for the textbooks and cost at  last is 58 and 244.76\r\n\r\nI tried to change or add more values in to round it up but it still wrong.","title":"Where is the mistake in my math logic? (Java)","body":"<p>Subject: A charity organization that supports their clients with educational materials needs to order enough textbooks to support the learning needs of their clients and to calculate the total cost of purchasing the textbooks.</p>\n<p>Step 1:</p>\n<p>Input:\nThe total number of students that the educational program will need to support.\nThe number of textbooks needed per student.\nThe cost of one textbook.\nThe expected percentage of late textbook requests (not used in this step).\nCalculation:\nCalculate the number of textbooks required based on the number of students.\nCalculate the total cost to the organization for ordering the textbooks.\nOutput:\nDisplay a summary report, including the input values and the calculated cost.</p>\n<p>Step 2:</p>\n<p>Input:\nThe total number of students that the educational program will need to support.\nThe number of textbooks needed per student.\nThe cost of one textbook.\nThe expected percentage of late textbook requests.\nCalculation:\nCalculate the number of textbooks required.\nCalculate the total cost to the organization of acquiring and delivering the textbooks to its clients.\nCalculate the additional costs to account for late textbook requests.\nThe percentage of late textbook requests is based on the number of students supported by the educational program, not by the number of clients making requests.\nOutput:\nDisplay a summary of the inputs and an itemized list of the costs.</p>\n<p>Here is my code:</p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class ProgramSummary {\npublic static void main(String\\[\\] args) {\nScanner scnr = new Scanner(System.in);\n\n        // Input\n        int totalStudents = scnr.nextInt(); // Total number of students\n        int textbooksPerStudent = scnr.nextInt(); // Number of textbooks needed per student\n        double costPerTextbook = scnr.nextDouble(); // Cost of one textbook\n        double lateRequestPercentage = scnr.nextDouble(); // Expected percentage of late textbook requests\n    \n        // Calculate number of textbooks required\n        int totalTextbooks = totalStudents * textbooksPerStudent;\n        int textbooksToOrder = (int) Math.ceil((double) totalTextbooks / 12);\n    \n        // Calculate total cost\n        double totalCost = textbooksToOrder * costPerTextbook;\n    \n        // Output\n        System.out.println(&quot;Total number of students:&quot;);\n        System.out.println(&quot;Number of textbooks needed per student:&quot;);\n        System.out.println(&quot;Cost per textbook:&quot;);\n        System.out.println();\n        System.out.println(&quot;This order will support &quot; + totalStudents + &quot; students, each needing &quot; + textbooksPerStudent + &quot; textbooks.&quot;);\n        System.out.println(&quot;Total textbooks needed: &quot; + totalTextbooks);\n        System.out.println(&quot;You will need to order &quot; + textbooksToOrder + &quot; textbooks for a total cost of $&quot; + String.format(&quot;%.2f&quot;, totalCost) + &quot;.&quot;);\n</code></pre>\n<pre><code>// Input for late requests\n        System.out.println();\n        System.out.println(&quot;Please input the expected percentage of late textbook requests:&quot;);\n        System.out.println();\n        double lateRequestMultiplier = 1.0 + (lateRequestPercentage / 100.0);\n        double lateRequestTextbooks = (textbooksToOrder * lateRequestMultiplier);\n        int roundedLateRequestTextbooks = (int) Math.round(lateRequestTextbooks);\n    \n        double lateRequestCost = (double) roundedLateRequestTextbooks * costPerTextbook;\n    \n        // Modified output to match expected format\n        System.out.print(&quot;Allowing for late textbook requests, you should order: &quot; + (int) Math.ceil(roundedLateRequestTextbooks) + &quot; textbooks for a cost of $&quot; + String.format(&quot;%.2f&quot;, lateRequestCost) + &quot;.&quot;);\n    }\n\n}\n</code></pre>\n<p>If the input is</p>\n<p>231</p>\n<p>3</p>\n<p>4.22</p>\n<p>0.15</p>\n<p>Then the output should be</p>\n<p>This order will support 231 students, each needing 3 textbooks.\nTotal textbooks needed: 693\nYou will need to order 58 textbooks for a total cost of $244.76.</p>\n<p>Allowing for late textbook requests, you should order: 67 textbooks for a cost of $282.74.</p>\n<p>But for some reasons my output for the textbooks and cost at  last is 58 and 244.76</p>\n<p>I tried to change or add more values in to round it up but it still wrong.</p>\n"},{"tags":["java","spring-boot","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":25084600,"reputation":41,"user_id":18936965,"display_name":"jiangjianbo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650882330,"creation_date":1650872659,"answer_id":71996061,"question_id":71989222,"body_markdown":"Upgrade you pom.xml \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>Upgrade you pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n    &lt;version&gt;3.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2493303,"reputation":145,"user_id":2170369,"display_name":"Antonio Lopez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655846241,"creation_date":1655846241,"answer_id":72707206,"question_id":71989222,"body_markdown":"The method that can&#39;t be found is in the class MonoSink (in reactor-core project): https://github.com/reactor/reactor-core/blob/main/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java\r\n\r\nSince this was an exception you got after upgrading from spring boot version 2.6.6, I guess that the class that can&#39;t find it is HttpClientConnect (in project reactor-netty-http). It would be good to have the whole stack exception though.\r\n\r\n@jiangjianbo is not wrong saying that you need to update reactor-core to solve this but not to version 3.4.3. It should be at least the version 3.4.17 (That said I would take latest one, which at the time of writing this is 3.4.19). As you can see in version 3.4.16 contextView() was not yet created: https://github.com/reactor/reactor-core/blob/v3.4.16/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>The method that can't be found is in the class MonoSink (in reactor-core project): <a href=\"https://github.com/reactor/reactor-core/blob/main/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java\" rel=\"noreferrer\">https://github.com/reactor/reactor-core/blob/main/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java</a></p>\n<p>Since this was an exception you got after upgrading from spring boot version 2.6.6, I guess that the class that can't find it is HttpClientConnect (in project reactor-netty-http). It would be good to have the whole stack exception though.</p>\n<p>@jiangjianbo is not wrong saying that you need to update reactor-core to solve this but not to version 3.4.3. It should be at least the version 3.4.17 (That said I would take latest one, which at the time of writing this is 3.4.19). As you can see in version 3.4.16 contextView() was not yet created: <a href=\"https://github.com/reactor/reactor-core/blob/v3.4.16/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java\" rel=\"noreferrer\">https://github.com/reactor/reactor-core/blob/v3.4.16/reactor-core/src/main/java/reactor/core/publisher/MonoSink.java</a></p>\n"},{"tags":[],"owner":{"account_id":11523422,"reputation":41,"user_id":8444571,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677751922,"creation_date":1677751922,"answer_id":75613989,"question_id":71989222,"body_markdown":"Upgrade pom.xml\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.5.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>Upgrade pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n    &lt;version&gt;3.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23628494,"reputation":21,"user_id":17660617,"display_name":"Omar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678313993,"creation_date":1678313993,"answer_id":75678766,"question_id":71989222,"body_markdown":"You&#39;ve reload Maven project. \r\n\r\nRight click on Maven -&gt; Reload project. After that rerun your app.","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>You've reload Maven project.</p>\n<p>Right click on Maven -&gt; Reload project. After that rerun your app.</p>\n"},{"tags":[],"owner":{"account_id":11628511,"reputation":11,"user_id":8517552,"display_name":"sunny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699258329,"creation_date":1699255779,"answer_id":77429400,"question_id":71989222,"body_markdown":"After upgrading spring boot 3.1.4 version, i need to exclude reactor core and add again with downgraded version 3.4.9. Here is the pom: \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4.19&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>After upgrading spring boot 3.1.4 version, i need to exclude reactor core and add again with downgraded version 3.4.9. Here is the pom:\n\ncom.azure.spring\nspring-cloud-azure-starter\n4.0.0\n</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.19&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13401,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1699258329,"creation_date":1650809469,"question_id":71989222,"body_markdown":"After upgrade Spring Boot version from 2.6.6 to 2.6.7, I&#39;m getting below error while executing web client rest calls. Any idea?\r\n\r\nSample code\r\n```\r\npublic void execute(BiConsumer&lt;ResponseEntity&lt;JsonNode&gt;, Throwable&gt; responseConsumer) {\r\n    WebClient.RequestBodyUriSpec uriSpec = getUriSpec();\r\n    Mono&lt;ResponseEntity&lt;JsonNode&gt;&gt; responseEntityMono = uriSpec\r\n            .uri(this::buildUri)//&quot;localhost:1234&quot;)//\r\n            .headers(this::setHeaders)\r\n            .body(insertBody())\r\n            .retrieve().onRawStatus(i -&gt; i == 599,\r\n            response -&gt; response.bodyToMono(String.class)\r\n                .map(body -&gt; new ExternalException(599, body)))\r\n            .toEntity(JsonNode.class);\r\n    CompletableFuture&lt;ResponseEntity&lt;JsonNode&gt;&gt; completableFuture = responseEntityMono.toFuture();\r\n    completableFuture.whenCompleteAsync(responseConsumer);\r\n}\r\n```\r\n","title":"java.lang.NoSuchMethodError: &#39;reactor.util.context.ContextView reactor.core.publisher.MonoSink.contextView()&#39;","body":"<p>After upgrade Spring Boot version from 2.6.6 to 2.6.7, I'm getting below error while executing web client rest calls. Any idea?</p>\n<p>Sample code</p>\n<pre><code>public void execute(BiConsumer&lt;ResponseEntity&lt;JsonNode&gt;, Throwable&gt; responseConsumer) {\n    WebClient.RequestBodyUriSpec uriSpec = getUriSpec();\n    Mono&lt;ResponseEntity&lt;JsonNode&gt;&gt; responseEntityMono = uriSpec\n            .uri(this::buildUri)//&quot;localhost:1234&quot;)//\n            .headers(this::setHeaders)\n            .body(insertBody())\n            .retrieve().onRawStatus(i -&gt; i == 599,\n            response -&gt; response.bodyToMono(String.class)\n                .map(body -&gt; new ExternalException(599, body)))\n            .toEntity(JsonNode.class);\n    CompletableFuture&lt;ResponseEntity&lt;JsonNode&gt;&gt; completableFuture = responseEntityMono.toFuture();\n    completableFuture.whenCompleteAsync(responseConsumer);\n}\n</code></pre>\n"},{"tags":["java","android","spring","flutter","gradle"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1699258298,"post_id":77429100,"comment_id":136504127,"body_markdown":"Just upgrade the gradle wrapper to the version mentioned in the error message: https://stackoverflow.com/a/36385128/150978","body":"Just upgrade the gradle wrapper to the version mentioned in the error message: <a href=\"https://stackoverflow.com/a/36385128/150978\">stackoverflow.com/a/36385128/150978</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699271773,"post_id":77429100,"comment_id":136506390,"body_markdown":"Have you tried following the advice in the error message? It seems pretty clear.","body":"Have you tried following the advice in the error message? It seems pretty clear."}],"owner":{"account_id":18421292,"reputation":153,"user_id":13418864,"display_name":"Sumit Banwakade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699258223,"creation_date":1699251810,"question_id":77429100,"body_markdown":"\r\nI primarily work with Flutter, and I recently configured my system for the Spring framework in Java. However, I&#39;ve been encountering an issue in every Flutter project I work on. Despite the fact that the projects build and run successfully, there&#39;s a persistent warning that&#39;s been bothering me.\r\n\r\nThe warning message I receive is as follows:\r\n[![enter image description here][1]][1]\r\n\r\n&gt; The supplied phased action failed with an exception. A problem occurred configuring the root project &#39;android&#39;. A problem occurred when evaluating the root project &#39;android&#39;. A problem occurred configuring the project &#39;:app&#39;. A problem occurred when evaluating the project &#39;:app&#39;. It failed to apply the &#39;com.android.internal.version-check&#39; plugin, stating that the minimum supported Gradle version is 7.5, while the current version is 7.4.2. If you are using the Gradle wrapper, you might want to consider editing the &#39;distributionUrl&#39; in the &#39;gradle-wrapper.properties&#39; file located at &#39;E:\\APPFLOWY\\1\\AppFlowy\\frontend\\appflowy_flutter\\android\\gradle\\wrapper\\gradle-wrapper.properties&#39; to &#39;gradle-7.5-all.zip&#39;.&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awQVX.png","title":"The supplied phased action failed with an exception : minimum supported Gradle version is 7.5. Current version is 7.4.2","body":"<p>I primarily work with Flutter, and I recently configured my system for the Spring framework in Java. However, I've been encountering an issue in every Flutter project I work on. Despite the fact that the projects build and run successfully, there's a persistent warning that's been bothering me.</p>\n<p>The warning message I receive is as follows:\n<a href=\"https://i.stack.imgur.com/awQVX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awQVX.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>The supplied phased action failed with an exception. A problem occurred configuring the root project 'android'. A problem occurred when evaluating the root project 'android'. A problem occurred configuring the project ':app'. A problem occurred when evaluating the project ':app'. It failed to apply the 'com.android.internal.version-check' plugin, stating that the minimum supported Gradle version is 7.5, while the current version is 7.4.2. If you are using the Gradle wrapper, you might want to consider editing the 'distributionUrl' in the 'gradle-wrapper.properties' file located at 'E:\\APPFLOWY\\1\\AppFlowy\\frontend\\appflowy_flutter\\android\\gradle\\wrapper\\gradle-wrapper.properties' to 'gradle-7.5-all.zip'.&quot;</p>\n</blockquote>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":12621038,"reputation":433,"user_id":9176523,"display_name":"Dheeraj Gupta"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1622528467,"creation_date":1622528467,"answer_id":67783607,"question_id":67782975,"body_markdown":"Check if JDK is installed or not configure your SDK also and try again\r\nyou can download JDKfrom [Java SE][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-downloads.html","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Check if JDK is installed or not configure your SDK also and try again\nyou can download JDKfrom <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">Java SE</a></p>\n"},{"tags":[],"owner":{"account_id":19379872,"reputation":539,"user_id":14171381,"display_name":"Meraj"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1625501458,"creation_date":1625501458,"answer_id":68259155,"question_id":67782975,"body_markdown":"**I think I found the solution.**\r\n\r\nIf you are importing an old project you are likely to face this error.\r\n\r\nBasically you made your old project with lower JDK versions and now you have higher JDK versions installed currently in your system.\r\n\r\nYou should avoid higher JDK versions for building older projects.\r\n\r\n1. Basically Download JDK 8 (1.8) and install it.\r\n2. change environment variable (write JDK 8 path to environment variable)\r\n3. Then change your project structure and write JDK 8 path to JDK location.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8KEEM.png\r\n\r\n4. invalidate caches and restart android studio.\r\n5. build your project and it should work.\r\n\r\n\r\n______________________________________________________________\r\n\r\nIf you got the following error:\r\n\r\n    Error:Cannot fit requested classes in a single dex file.Try supplying a main-dex list. # methods: 72477 &gt; 65536\r\n\r\n\r\nThen add the following dependency in your app.gradle file:\r\n\r\n     // multidex\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n\r\nthen you need to enable multidex in your app.gradle file.\r\n\r\n    \r\n    android {\r\n    compileSdkVersion 30\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.convenient.easymeasure&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n   ","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>I think I found the solution.</strong></p>\n<p>If you are importing an old project you are likely to face this error.</p>\n<p>Basically you made your old project with lower JDK versions and now you have higher JDK versions installed currently in your system.</p>\n<p>You should avoid higher JDK versions for building older projects.</p>\n<ol>\n<li>Basically Download JDK 8 (1.8) and install it.</li>\n<li>change environment variable (write JDK 8 path to environment variable)</li>\n<li>Then change your project structure and write JDK 8 path to JDK location.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8KEEM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8KEEM.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>invalidate caches and restart android studio.</li>\n<li>build your project and it should work.</li>\n</ol>\n<hr />\n<p>If you got the following error:</p>\n<pre><code>Error:Cannot fit requested classes in a single dex file.Try supplying a main-dex list. # methods: 72477 &gt; 65536\n</code></pre>\n<p>Then add the following dependency in your app.gradle file:</p>\n<pre><code> // multidex\nimplementation 'com.android.support:multidex:1.0.3'\n</code></pre>\n<p>then you need to enable multidex in your app.gradle file.</p>\n<pre><code>android {\ncompileSdkVersion 30\n\ndefaultConfig {\n    applicationId &quot;com.convenient.easymeasure&quot;\n    minSdkVersion 19\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n    multiDexEnabled true\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5784890,"reputation":2332,"user_id":4564450,"accept_rate":62,"display_name":"Andrey Solera"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1630379397,"creation_date":1630379397,"answer_id":68992409,"question_id":67782975,"body_markdown":"Run ```Flutter doctor```, if there&#180;s an error indicating that the java bundled can&#180;t be found (specially if you have Android Studio version **Artic Fox**), run this commands if using Mac:\r\n\r\n1) cd /Applications/Android\\ Studio.app/Contents/jre\r\n2) ln -s ../jre jdk\r\n3) ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Run <code>Flutter doctor</code>, if there´s an error indicating that the java bundled can´t be found (specially if you have Android Studio version <strong>Artic Fox</strong>), run this commands if using Mac:</p>\n<ol>\n<li>cd /Applications/Android\\ Studio.app/Contents/jre</li>\n<li>ln -s ../jre jdk</li>\n<li>ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12527587,"reputation":330,"user_id":9116821,"display_name":"tread khuram"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1631208499,"creation_date":1631208499,"answer_id":69122473,"question_id":67782975,"body_markdown":"You must be using JDK-16, use the version below JDK-16, in my case, I downgrade to JDK-11 and it worked for me.\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>You must be using JDK-16, use the version below JDK-16, in my case, I downgrade to JDK-11 and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":378544,"reputation":3315,"user_id":731329,"display_name":"lortschi"},"down_vote_count":3,"up_vote_count":272,"is_accepted":false,"score":269,"last_activity_date":1666654200,"creation_date":1631631006,"answer_id":69179997,"question_id":67782975,"body_markdown":"The solution from [GitHub][1] has worked for me. It was no need to downgrade Java JDK. Just changed gradle version in gradle-wrapper properties to 7.1.1 (6.x does not support java 16), and adding the following line in gradle.properties:\r\n\r\n    org.gradle.jvmargs=-Xmx1536M \\\r\n    --add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \\\r\n    --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\n\r\n  [1]: https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>The solution from <a href=\"https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\" rel=\"noreferrer\">GitHub</a> has worked for me. It was no need to downgrade Java JDK. Just changed gradle version in gradle-wrapper properties to 7.1.1 (6.x does not support java 16), and adding the following line in gradle.properties:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M \\\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9253553,"reputation":321,"user_id":6893324,"display_name":"Tama Asrory Ridhana"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1639964043,"creation_date":1639964043,"answer_id":70416610,"question_id":67782975,"body_markdown":"has worked for me in Macbook Air M1 Apple Silicon. you no need to downgrade or uninstall Java JDK. \r\n\r\nin my case Just changed gradle version in gradle-wrapper.properties to 7.2\r\nlike this :\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip \r\n\r\nand adding the following line in gradle.properties:\r\n\r\n    org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\nrelated solution on [github][1]\r\n\r\n\r\n  [1]: https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>has worked for me in Macbook Air M1 Apple Silicon. you no need to downgrade or uninstall Java JDK.</p>\n<p>in my case Just changed gradle version in gradle-wrapper.properties to 7.2\nlike this :</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip \n</code></pre>\n<p>and adding the following line in gradle.properties:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n<p>related solution on <a href=\"https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\" rel=\"noreferrer\">github</a></p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640444309,"creation_date":1640444309,"answer_id":70480813,"question_id":67782975,"body_markdown":"I downloaded 2 JDK [jdk-17.0.1][1] and [jdk-11.0.13][2] and add below line on gradle.properties\r\n\r\n    org.gradle.java.home=C\\:\\\\Program Files (x86)\\\\Java\\\\jdk-11.0.13\r\n\r\n  [1]: https://jdk.java.net/17/\r\n  [2]: https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\r\n\r\nAlso go to Android Studio (Arctic Fox)-&gt; Project Structure -&gt; Gradle setting and choose JDK version","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I downloaded 2 JDK <a href=\"https://jdk.java.net/17/\" rel=\"nofollow noreferrer\">jdk-17.0.1</a> and <a href=\"https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">jdk-11.0.13</a> and add below line on gradle.properties</p>\n<pre><code>org.gradle.java.home=C\\:\\\\Program Files (x86)\\\\Java\\\\jdk-11.0.13\n</code></pre>\n<p>Also go to Android Studio (Arctic Fox)-&gt; Project Structure -&gt; Gradle setting and choose JDK version</p>\n"},{"tags":[],"owner":{"account_id":16286242,"reputation":1719,"user_id":11760942,"display_name":"usamayaseen"},"down_vote_count":0,"up_vote_count":170,"is_accepted":false,"score":170,"last_activity_date":1675157306,"creation_date":1642799296,"answer_id":70807648,"question_id":67782975,"body_markdown":"You must be using a JDK version that is not supported by the Gradle Version.\r\n( There is no need to downgrade )\r\n\r\n1-Check your JDK Version from *C:\\Program Files\\Java*. In My Case, It&#39;s JDK-17.0.2 \r\n\r\n2-Check The Respective Gradle version for your JDK\r\nhttps://docs.gradle.org/current/userguide/compatibility.html\r\n\r\n3-Open **gradle-wrapper.properties** from *.\\android\\gradle\\wrapper\\\\*\r\n[![Screen Shot for gradle-wrapper.properties file][1]][1] and change the **distributionUrl** to your required gradle version\r\n\r\n**e.g.** for JDK 17\r\n\r\n    distributionUrl = https\\://services.gradle.org/distributions/gradle-7.3-all.zip\r\n\r\n4-Open **build.gradle** from *.\\android\\build.gradle*\r\n[![classpath in build.gradle file][2]][2]\r\nand change the plugin in the class path to the one according to your gradle version \r\n\r\n**e.g.**\r\n\r\n    classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;) for Gradle 6.7.1+\r\n    classpath(&quot;com.android.tools.build:gradle:7.0.0&quot;) for Gradle 7+\r\n\r\nCheck the Compatible Plugin for your Gradle version at \r\nhttps://developer.android.com/studio/releases/gradle-plugin#updating-gradle\r\n\r\n5-run `npx react-native run-android`\r\n\r\n  [1]: https://i.stack.imgur.com/djBfQ.png\r\n  [2]: https://i.stack.imgur.com/PMBGZ.png\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>You must be using a JDK version that is not supported by the Gradle Version.\n( There is no need to downgrade )</p>\n<p>1-Check your JDK Version from <em>C:\\Program Files\\Java</em>. In My Case, It's JDK-17.0.2</p>\n<p>2-Check The Respective Gradle version for your JDK\n<a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n<p>3-Open <strong>gradle-wrapper.properties</strong> from <em>.\\android\\gradle\\wrapper\\</em>\n<a href=\"https://i.stack.imgur.com/djBfQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/djBfQ.png\" alt=\"Screen Shot for gradle-wrapper.properties file\" /></a> and change the <strong>distributionUrl</strong> to your required gradle version</p>\n<p><strong>e.g.</strong> for JDK 17</p>\n<pre><code>distributionUrl = https\\://services.gradle.org/distributions/gradle-7.3-all.zip\n</code></pre>\n<p>4-Open <strong>build.gradle</strong> from <em>.\\android\\build.gradle</em>\n<a href=\"https://i.stack.imgur.com/PMBGZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PMBGZ.png\" alt=\"classpath in build.gradle file\" /></a>\nand change the plugin in the class path to the one according to your gradle version</p>\n<p><strong>e.g.</strong></p>\n<pre><code>classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;) for Gradle 6.7.1+\nclasspath(&quot;com.android.tools.build:gradle:7.0.0&quot;) for Gradle 7+\n</code></pre>\n<p>Check the Compatible Plugin for your Gradle version at\n<a href=\"https://developer.android.com/studio/releases/gradle-plugin#updating-gradle\" rel=\"noreferrer\">https://developer.android.com/studio/releases/gradle-plugin#updating-gradle</a></p>\n<p>5-run <code>npx react-native run-android</code></p>\n"},{"tags":[],"owner":{"account_id":11445837,"reputation":1171,"user_id":8407719,"display_name":"Kewal Shah"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643517561,"creation_date":1643517561,"answer_id":70911889,"question_id":67782975,"body_markdown":"I was able to fix it by upgrading grade project settings using Android Studio which replaced\r\n`classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;)` with         `classpath(&#39;com.android.tools.build:gradle:7.0.3&#39;)` in `android/build.gradle`\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I was able to fix it by upgrading grade project settings using Android Studio which replaced\n<code>classpath(&quot;com.android.tools.build:gradle:4.2.2&quot;)</code> with         <code>classpath('com.android.tools.build:gradle:7.0.3')</code> in <code>android/build.gradle</code></p>\n"},{"tags":[],"owner":{"account_id":10743500,"reputation":19,"user_id":7905709,"display_name":"darimuhittin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1647512182,"creation_date":1647512182,"answer_id":71510598,"question_id":67782975,"body_markdown":"Installing JDK 1.8.0 and setting JAVA_HOME path to JDK 1.8.0&#39;s folder in environment variables worked for me.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Installing JDK 1.8.0 and setting JAVA_HOME path to JDK 1.8.0's folder in environment variables worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11774677,"reputation":147,"user_id":8970265,"display_name":"Jean G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647593384,"creation_date":1647593384,"answer_id":71524451,"question_id":67782975,"body_markdown":"Had same problem with Flutter.\r\nI uninstalled Android Studio and Android SDK and reinstalled everything and upgraded Flutter, without success.\r\n\r\nThen I created a new Flutter project and copied the sources from the old one, and this time it worked.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Had same problem with Flutter.\nI uninstalled Android Studio and Android SDK and reinstalled everything and upgraded Flutter, without success.</p>\n<p>Then I created a new Flutter project and copied the sources from the old one, and this time it worked.</p>\n"},{"tags":[],"owner":{"account_id":13254053,"reputation":4146,"user_id":9570734,"display_name":"Engr.Aftab Ufaq"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1698316628,"creation_date":1653203659,"answer_id":72335532,"question_id":67782975,"body_markdown":"**Note**: this is basically a solution for old project to run is successfully. \r\n\r\nAfter I updated **`jdk to 18`** then I got the error mentioned in the question. So I downgraded to jdk11, and this fixed my issue\r\n\r\nTo install jdk11 please run this command in windows 10:   `choco install openjdk11`. Hope this will fix your problem.\r\n\r\nTo run the above command you might have to install `chocolatey` and add it to path environment variable. Chocolatey is a dependency manager for windows 10. \r\n\r\nHere is link to a guide:\r\n\r\nhttps://community.chocolatey.org/packages/openjdk11","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>Note</strong>: this is basically a solution for old project to run is successfully.</p>\n<p>After I updated <strong><code>jdk to 18</code></strong> then I got the error mentioned in the question. So I downgraded to jdk11, and this fixed my issue</p>\n<p>To install jdk11 please run this command in windows 10:   <code>choco install openjdk11</code>. Hope this will fix your problem.</p>\n<p>To run the above command you might have to install <code>chocolatey</code> and add it to path environment variable. Chocolatey is a dependency manager for windows 10.</p>\n<p>Here is link to a guide:</p>\n<p><a href=\"https://community.chocolatey.org/packages/openjdk11\" rel=\"nofollow noreferrer\">https://community.chocolatey.org/packages/openjdk11</a></p>\n"},{"tags":[],"owner":{"account_id":391778,"reputation":6933,"user_id":752630,"accept_rate":69,"display_name":"mbonnin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654268585,"creation_date":1654268585,"answer_id":72491564,"question_id":67782975,"body_markdown":"This is a [known issue when using Gson and reflection for parsing Json](https://github.com/google/gson/issues/1979). Updating your Android Gradle Plugin version to 7.0.0+ and the error should go away. ","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>This is a <a href=\"https://github.com/google/gson/issues/1979\" rel=\"nofollow noreferrer\">known issue when using Gson and reflection for parsing Json</a>. Updating your Android Gradle Plugin version to 7.0.0+ and the error should go away.</p>\n"},{"tags":[],"owner":{"account_id":18156187,"reputation":353,"user_id":13208166,"display_name":"Tri yulianto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662347570,"creation_date":1662347570,"answer_id":73604237,"question_id":67782975,"body_markdown":"Just added from another solution\r\n\r\nIf you have later version installed, and your project is using older version. Don&#39;t forget to check in terminal which jdk is used. \r\n\r\nIn my case my project using JDK 15. And terminal using 18. So i uninstall the other version and leaving the proper version (in my mac, just delete another jdk directory in `/Libray/Java/JavaVirtualMachine`)","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Just added from another solution</p>\n<p>If you have later version installed, and your project is using older version. Don't forget to check in terminal which jdk is used.</p>\n<p>In my case my project using JDK 15. And terminal using 18. So i uninstall the other version and leaving the proper version (in my mac, just delete another jdk directory in <code>/Libray/Java/JavaVirtualMachine</code>)</p>\n"},{"tags":[],"owner":{"account_id":1674530,"reputation":11354,"user_id":1540350,"accept_rate":69,"display_name":"Martin Braun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673822713,"creation_date":1673822713,"answer_id":75128920,"question_id":67782975,"body_markdown":"I had the same issue with a Flutter 2 project after updating Android Studio to electric eel. I was still able to build the android project, but `flutter run` on the Flutter project would cause this issue. [lortschi&#39;s answer](https://stackoverflow.com/a/69179997/1540350) was the key, but it was missing one more entry to make it work, so my final gradle.properties looks like this now: \r\n\r\n```properties\r\norg.gradle.jvmargs=-Xmx1536M \\\r\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\r\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\r\n--add-opens=java.base/java.io=ALL-UNNAMED \\\r\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \\\r\n--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```\r\n\r\nI was very skeptical, but it worked.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I had the same issue with a Flutter 2 project after updating Android Studio to electric eel. I was still able to build the android project, but <code>flutter run</code> on the Flutter project would cause this issue. <a href=\"https://stackoverflow.com/a/69179997/1540350\">lortschi's answer</a> was the key, but it was missing one more entry to make it work, so my final gradle.properties looks like this now:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M \\\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \\\n--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>I was very skeptical, but it worked.</p>\n"},{"tags":[],"owner":{"account_id":6136606,"reputation":3364,"user_id":8371825,"display_name":"jon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674492748,"creation_date":1674492748,"answer_id":75212624,"question_id":67782975,"body_markdown":"For those having these issues with the latest Android Studio - Electric Eel version, and other canaries and preview releases, note that the bundled `jre` directory in the Android Studio installation folder is now renamed to `jbr`\r\n\r\n(This answer came from [eja](https://stackoverflow.com/users/1258130/eja)&#39;s [answer](https://stackoverflow.com/a/75119315/8371825) on [this question](https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter).)\r\n\r\nTo resolve this, just create a sym link `jre` -&gt; `jbr` and Flutter won&#39;t complain.\r\n\r\nOn Linux\r\n```\r\ncd ~/android-studio/ &amp;&amp; ln -s jbr jre\r\n```\r\n\r\nWindows (check installation folder)\r\n```\r\ncd C:\\Program Files\\Android\\Android Studio\r\nmklink /D &quot;jre&quot; &quot;jbr&quot;\r\n```\r\n\r\nor \r\n```\r\nNew-Item -ItemType SymbolicLink -Path .\\jre -Target .\\jbr\r\n```\r\n\r\nMac OS\r\n```\r\ncd /Applications/Android\\ Studio.app/Contents\r\nln -s jbr jre\r\n```\r\n\r\n---\r\n\r\nNote that if you are running a preview release, the default installation directory might be different, e.g. on Linux it would be \r\n```\r\n~/android-studio-preview/\r\n```","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>For those having these issues with the latest Android Studio - Electric Eel version, and other canaries and preview releases, note that the bundled <code>jre</code> directory in the Android Studio installation folder is now renamed to <code>jbr</code></p>\n<p>(This answer came from <a href=\"https://stackoverflow.com/users/1258130/eja\">eja</a>'s <a href=\"https://stackoverflow.com/a/75119315/8371825\">answer</a> on <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\">this question</a>.)</p>\n<p>To resolve this, just create a sym link <code>jre</code> -&gt; <code>jbr</code> and Flutter won't complain.</p>\n<p>On Linux</p>\n<pre><code>cd ~/android-studio/ &amp;&amp; ln -s jbr jre\n</code></pre>\n<p>Windows (check installation folder)</p>\n<pre><code>cd C:\\Program Files\\Android\\Android Studio\nmklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n<p>or</p>\n<pre><code>New-Item -ItemType SymbolicLink -Path .\\jre -Target .\\jbr\n</code></pre>\n<p>Mac OS</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents\nln -s jbr jre\n</code></pre>\n<hr />\n<p>Note that if you are running a preview release, the default installation directory might be different, e.g. on Linux it would be</p>\n<pre><code>~/android-studio-preview/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22747735,"reputation":101,"user_id":16908294,"display_name":"ganesh parajuli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675092893,"creation_date":1675092893,"answer_id":75286634,"question_id":67782975,"body_markdown":"**Windows user:**\r\n\r\nGo to C:\\Users\\arpan.gradle\\caches and delete all the gradle cache.\r\n\r\nthen,\r\n\r\nGo to &quot;C:\\Program Files\\Android\\Android Studio&quot; there you will see jbr and jre folder then copy the content of jbr and paste the content into jre folder. \r\nss:\r\n[![enter image description here][1]][1]\r\nand run flutter doctor again and run your App.\r\n\r\n  [1]: https://i.stack.imgur.com/oafsI.png","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>Windows user:</strong></p>\n<p>Go to C:\\Users\\arpan.gradle\\caches and delete all the gradle cache.</p>\n<p>then,</p>\n<p>Go to &quot;C:\\Program Files\\Android\\Android Studio&quot; there you will see jbr and jre folder then copy the content of jbr and paste the content into jre folder.\nss:\n<a href=\"https://i.stack.imgur.com/oafsI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oafsI.png\" alt=\"enter image description here\" /></a>\nand run flutter doctor again and run your App.</p>\n"},{"tags":[],"owner":{"account_id":17505587,"reputation":1,"user_id":12694880,"display_name":"medis adido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678987900,"creation_date":1678987900,"answer_id":75759703,"question_id":67782975,"body_markdown":"run\r\n\r\n    sudo update-alternatives --config \r\n\r\n\r\njava and select a minor version of java .","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>run</p>\n<pre><code>sudo update-alternatives --config \n</code></pre>\n<p>java and select a minor version of java .</p>\n"},{"tags":[],"owner":{"account_id":9687425,"reputation":691,"user_id":7186671,"display_name":"Abdallah Mahmoud"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1681900612,"creation_date":1681900612,"answer_id":76053527,"question_id":67782975,"body_markdown":"# Steps To Solve\r\n## 1. Gradle.properties\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\n```\r\n## 2. Java version \r\nchoose java version 17 or any compatiable\r\n\r\n## 3. Gradle Project\r\n\r\nchoose kotlin version and gradle miniume version\r\n\r\n```\r\n\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.7.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n```\r\n ","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<h1>Steps To Solve</h1>\n<h2>1. Gradle.properties</h2>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\n</code></pre>\n<h2>2. Java version</h2>\n<p>choose java version 17 or any compatiable</p>\n<h2>3. Gradle Project</h2>\n<p>choose kotlin version and gradle miniume version</p>\n<pre><code>\nbuildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13909596,"reputation":71,"user_id":21931483,"display_name":"Justice"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1687131839,"creation_date":1686929535,"answer_id":76491643,"question_id":67782975,"body_markdown":"In my case the following steps did the trick:\r\n\r\n1. Changing the gradle verion in gradle-wrapper.properties to:\r\n    ```\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip\r\n    ```\r\n2. Changing build gradle and google services classpath version in build.gradle to:\r\n    ```\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n    }\r\n    ```","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>In my case the following steps did the trick:</p>\n<ol>\n<li>Changing the gradle verion in gradle-wrapper.properties to:\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip\n</code></pre>\n</li>\n<li>Changing build gradle and google services classpath version in build.gradle to:\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:7.2.1'\n    classpath 'com.google.gms:google-services:4.3.5'\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28597906,"reputation":31,"user_id":21895547,"display_name":"darkbits"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687785459,"creation_date":1687785459,"answer_id":76557073,"question_id":67782975,"body_markdown":"If you are importing an old project you may get this error\r\n1. Download JDK 8 (1.8) and install it.\r\n2. Change your project structure and write JDK 8 path to the JDK location.\r\n\r\n\r\nsome screenshots for reference (Android Studio Flaming version)\r\n(sorry, couldn&#39;t em images)\r\n\r\n[file -&gt; project structure][1]\r\n  \r\n[SDK location -&gt; Gradle Settings][2]\r\n\r\n[Gradle JDK  choose download JDK][3]\r\n\r\n\r\n[Choose version 1.8 ][4]\r\n\r\n\r\n[After download choose gradle jdk to 1.8 ][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qGfJ5.png\r\n  [2]: https://i.stack.imgur.com/sLY3s.png\r\n  [3]: https://i.stack.imgur.com/9sJcr.png\r\n  [4]: https://i.stack.imgur.com/Y1yTj.png\r\n  [5]: https://i.stack.imgur.com/zdqif.png","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>If you are importing an old project you may get this error</p>\n<ol>\n<li>Download JDK 8 (1.8) and install it.</li>\n<li>Change your project structure and write JDK 8 path to the JDK location.</li>\n</ol>\n<p>some screenshots for reference (Android Studio Flaming version)\n(sorry, couldn't em images)</p>\n<p><a href=\"https://i.stack.imgur.com/qGfJ5.png\" rel=\"nofollow noreferrer\">file -&gt; project structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/sLY3s.png\" rel=\"nofollow noreferrer\">SDK location -&gt; Gradle Settings</a></p>\n<p><a href=\"https://i.stack.imgur.com/9sJcr.png\" rel=\"nofollow noreferrer\">Gradle JDK  choose download JDK</a></p>\n<p><a href=\"https://i.stack.imgur.com/Y1yTj.png\" rel=\"nofollow noreferrer\">Choose version 1.8 </a></p>\n<p><a href=\"https://i.stack.imgur.com/zdqif.png\" rel=\"nofollow noreferrer\">After download choose gradle jdk to 1.8 </a></p>\n"},{"tags":[],"owner":{"account_id":76269,"reputation":38001,"user_id":218473,"accept_rate":84,"display_name":"Maragues"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690531286,"creation_date":1690531286,"answer_id":76785879,"question_id":67782975,"body_markdown":"This is a known issue by Gradle when running tests with Java 17 with Test Distribution enabled\r\n\r\nAdd this to your build.gradle (.kts version available at the link below)\r\n\r\n```groovy\r\ntasks.named(&#39;test&#39;, Test) {\r\n    jvmArgs(\r\n    \t&#39;--add-opens&#39;, &#39;java.base/java.lang=ALL-UNNAMED&#39;,\r\n    \t&#39;--add-opens&#39;, &#39;java.base/java.util=ALL-UNNAMED&#39;\r\n  \t)\r\n}\r\n```\r\n\r\nSee https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\r\n\r\nSee original github issue https://github.com/gradle/gradle/issues/18647","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>This is a known issue by Gradle when running tests with Java 17 with Test Distribution enabled</p>\n<p>Add this to your build.gradle (.kts version available at the link below)</p>\n<pre><code>tasks.named('test', Test) {\n    jvmArgs(\n        '--add-opens', 'java.base/java.lang=ALL-UNNAMED',\n        '--add-opens', 'java.base/java.util=ALL-UNNAMED'\n    )\n}\n</code></pre>\n<p>See <a href=\"https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\" rel=\"nofollow noreferrer\">https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests</a></p>\n<p>See original github issue <a href=\"https://github.com/gradle/gradle/issues/18647\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/18647</a></p>\n"},{"tags":[],"owner":{"account_id":24145568,"reputation":101,"user_id":18111225,"display_name":"Rickyslash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1691247430,"creation_date":1691247430,"answer_id":76842209,"question_id":67782975,"body_markdown":"In my case, my **error was happened when I&#39;m using**:\r\n\r\n`Gradle version = 6.5` &amp; `Gradle JDK version = 17.0.6` in `Android Studio Giraffe (Stable)`\r\n\r\nYou could check the Gradle version in the `gradle-wrapper.properties` file, on this line:\r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-bin.zip`\r\n\r\nAnd check JDK version on: \r\n\r\n`File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK`\r\n\r\n**To fix this error, you need to pick JDK version that is compatible with your Gradle Version**. You could check the compatibility in here:\r\n\r\nhttps://developer.android.com/build/releases/gradle-plugin#updating-gradle\r\n\r\n&gt; I pick `JDK 11.0.18` for `Gradle version 6.5` (a lower JDK version compared to my current JDK)\r\n\r\nIn summary, choosing the compatible JDK version is the answer for this error.","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>In my case, my <strong>error was happened when I'm using</strong>:</p>\n<p><code>Gradle version = 6.5</code> &amp; <code>Gradle JDK version = 17.0.6</code> in <code>Android Studio Giraffe (Stable)</code></p>\n<p>You could check the Gradle version in the <code>gradle-wrapper.properties</code> file, on this line:</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-bin.zip</code></p>\n<p>And check JDK version on:</p>\n<p><code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK</code></p>\n<p><strong>To fix this error, you need to pick JDK version that is compatible with your Gradle Version</strong>. You could check the compatibility in here:</p>\n<p><a href=\"https://developer.android.com/build/releases/gradle-plugin#updating-gradle\" rel=\"noreferrer\">https://developer.android.com/build/releases/gradle-plugin#updating-gradle</a></p>\n<blockquote>\n<p>I pick <code>JDK 11.0.18</code> for <code>Gradle version 6.5</code> (a lower JDK version compared to my current JDK)</p>\n</blockquote>\n<p>In summary, choosing the compatible JDK version is the answer for this error.</p>\n"},{"tags":[],"owner":{"account_id":15134967,"reputation":355,"user_id":10921732,"display_name":"Tariq Mahmood"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1692947232,"creation_date":1692947232,"answer_id":76974981,"question_id":67782975,"body_markdown":"Add this line in your gradle.properties file.\r\n\r\n    org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>Add this line in your gradle.properties file.</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14331406,"reputation":356,"user_id":10799613,"display_name":"Allansrc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695407688,"creation_date":1695407688,"answer_id":77159978,"question_id":67782975,"body_markdown":"To Flutters, just by deleting Android folder and running flutter create . on the project root fix it as well","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>To Flutters, just by deleting Android folder and running flutter create . on the project root fix it as well</p>\n"},{"tags":[],"owner":{"account_id":29515723,"reputation":11,"user_id":22619716,"display_name":"Astha Saraswat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695466918,"creation_date":1695466918,"answer_id":77162739,"question_id":67782975,"body_markdown":" \r\n 1.ext.kotlin_version = &#39;**1.8.0**&#39;\r\n\r\n 2.replace this classpath &#39;**com.android.tools.build:gradle:7.4.2**&#39; with your    build gradle version in dependencies.\r\n\r\n3.replace distributionUrl=**https\\://services.gradle.org/distributions/gradle-7.5-all.zip** in gradle wrapper properties.\r\n\r\n\r\n\r\n\r\n","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>1.ext.kotlin_version = '<strong>1.8.0</strong>'</p>\n<p>2.replace this classpath '<strong>com.android.tools.build:gradle:7.4.2</strong>' with your    build gradle version in dependencies.</p>\n<p>3.replace distributionUrl=<strong>https://services.gradle.org/distributions/gradle-7.5-all.zip</strong> in gradle wrapper properties.</p>\n"},{"tags":[],"owner":{"account_id":18817211,"reputation":37,"user_id":13724035,"display_name":"Md Shah Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699257942,"creation_date":1699257942,"answer_id":77429611,"question_id":67782975,"body_markdown":"I also face this issue in Android Studio after Migrating Java JDK 17\r\n\r\n    tasks.withType(Test) {\r\n        jvmArgs(&#39;--add-opens=java.base/java.lang=ALL-UNNAMED&#39;)\r\n    }\r\n\r\nhttps://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p>I also face this issue in Android Studio after Migrating Java JDK 17</p>\n<pre><code>tasks.withType(Test) {\n    jvmArgs('--add-opens=java.base/java.lang=ALL-UNNAMED')\n}\n</code></pre>\n<p><a href=\"https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests\" rel=\"nofollow noreferrer\">https://docs.gradle.com/enterprise/test-distribution/#accessing_jdk_internal_classes_from_your_tests</a></p>\n"}],"owner":{"account_id":19951244,"reputation":2880,"user_id":14620854,"display_name":"Ashkanxy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371333,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"answer_count":27,"score":220,"last_activity_date":1699257942,"creation_date":1622523804,"question_id":67782975,"body_markdown":"**Background**\r\n\r\n 1. I started my first project in android studio to get familiar with Android programming. \r\n 2. I am following this [tutorial][1], in which \r\n\r\n- I created a new project Empty Activity, without any change\r\n- It is supposed to simulate a simple app that shows &quot;Hello World&quot; message\r\n\r\n**Problem Description**\r\nBut every time I try to run and build (I want to emulator as of now), I get the following error message.\r\n\r\n\r\n\r\n    Unable to make field private final java.lang.String java.io.File.path accessible:\r\n    Unable to make field private final java.lang.String java.io.File.path\r\n    accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @42760a00\r\n\r\n***Here is my config set-up***:\r\n\r\n 1. Android Gradle plugin version: 4.2.1\r\n 2. Gradle Version: 7.0.1 (changed to fix another issue I had while syncing the Gradle (&quot;Gradle sync failed: Unsupported class file major version 60&quot;) and based discussion on this [forum][2] as quoted below)\r\n\r\n&gt; Andrey Dernov commented 14 Apr 2021 00:18 Please use Gradle 7.0 or JDK\r\n&gt; less than 16 version for importgin and building the project (Settings\r\n&gt; (Preferences on macOS) | Build, Execution, Deployment | Build Tools |\r\n&gt; Gradle | Gradle JVM option).\r\n\r\n 3. JDK: 16.0.1\r\n\r\nAny suggestion or idea?\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/firstapp/creating-project\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-266799","title":"How to fix the &#39;&#39;module java.base does not &quot;opens java.io&quot; to unnamed module &#39;&#39; error in Android Studio?","body":"<p><strong>Background</strong></p>\n<ol>\n<li>I started my first project in android studio to get familiar with Android programming.</li>\n<li>I am following this <a href=\"https://developer.android.com/training/basics/firstapp/creating-project\" rel=\"noreferrer\">tutorial</a>, in which</li>\n</ol>\n<ul>\n<li>I created a new project Empty Activity, without any change</li>\n<li>It is supposed to simulate a simple app that shows &quot;Hello World&quot; message</li>\n</ul>\n<p><strong>Problem Description</strong>\nBut every time I try to run and build (I want to emulator as of now), I get the following error message.</p>\n<pre><code>Unable to make field private final java.lang.String java.io.File.path accessible:\nUnable to make field private final java.lang.String java.io.File.path\naccessible: module java.base does not &quot;opens java.io&quot; to unnamed module @42760a00\n</code></pre>\n<p><em><strong>Here is my config set-up</strong></em>:</p>\n<ol>\n<li>Android Gradle plugin version: 4.2.1</li>\n<li>Gradle Version: 7.0.1 (changed to fix another issue I had while syncing the Gradle (&quot;Gradle sync failed: Unsupported class file major version 60&quot;) and based discussion on this <a href=\"https://youtrack.jetbrains.com/issue/IDEA-266799\" rel=\"noreferrer\">forum</a> as quoted below)</li>\n</ol>\n<blockquote>\n<p>Andrey Dernov commented 14 Apr 2021 00:18 Please use Gradle 7.0 or JDK\nless than 16 version for importgin and building the project (Settings\n(Preferences on macOS) | Build, Execution, Deployment | Build Tools |\nGradle | Gradle JVM option).</p>\n</blockquote>\n<ol start=\"3\">\n<li>JDK: 16.0.1</li>\n</ol>\n<p>Any suggestion or idea?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth","jwt"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1699122771,"post_id":77414723,"comment_id":136492747,"body_markdown":"If you login with any client you are logged in to your application. So the user could select the client on your app&#39;s login page. You don&#39;t need any URL with tenant. If want some URLs only for one tenant, you could use different roles or check user in your controller method.","body":"If you login with any client you are logged in to your application. So the user could select the client on your app&#39;s login page. You don&#39;t need any URL with tenant. If want some URLs only for one tenant, you could use different roles or check user in your controller method."}],"answers":[{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699257390,"creation_date":1699257390,"answer_id":77429569,"question_id":77414723,"body_markdown":"You should make sure that a `tenant` claim is put into the JWT access token. When you then validate the request, you can verify whether the `tenant` claim equals the `tenant` from the path parameter.\r\n\r\nYou can put any claims in your access token and then use them for proper authorization decisions.","title":"Spring security for multi tenants","body":"<p>You should make sure that a <code>tenant</code> claim is put into the JWT access token. When you then validate the request, you can verify whether the <code>tenant</code> claim equals the <code>tenant</code> from the path parameter.</p>\n<p>You can put any claims in your access token and then use them for proper authorization decisions.</p>\n"}],"owner":{"account_id":29816463,"reputation":1,"user_id":22850640,"display_name":"Karan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699257390,"creation_date":1698994927,"question_id":77414723,"body_markdown":"I&#39;ve below properties in my properties file of auth server for oauth spring security to generate jwt token.\r\n\r\n    clientcredential:\r\n      clients:\r\n        - tenant: tenant1\r\n          clientdetails:\r\n            - name : service1\r\n              scope : service1.read\r\n              clientId: tenant1-service1-client\r\n              clientSecret: tenant1-service1-secret\r\n            - name : service2\r\n                scope : service2.read\r\n                clientId: tenant1-service2-client\r\n                clientSecret: tenant1-service2-secret\r\n            - name : service3\r\n                scope : service3.read\r\n                clientId: tenant1-service3-client\r\n                clientSecret: tenant1-service3-secret\r\n            - name : service4\r\n                scope : service4.read\r\n                clientId: tenant1-service4-client\r\n                clientSecret: tenant1-service4-secret\r\n        - tenant: tenant2\r\n          clientdetails:\r\n            - name : service1\r\n                scope : service1.read\r\n                clientId: tenant2-service1-client\r\n                clientSecret: tenant2-service1-secret\r\n            - name : service2\r\n                scope : service2.read\r\n                clientId: tenant2-service2-client\r\n                clientSecret: tenant2-service2-secret\r\n            - name : service3\r\n                scope : service3.read\r\n                clientId: tenant2-service3-client\r\n                clientSecret: tenant2-service3-secret\r\n\r\nI would like to validate the jwt token such that the token of one tenant should not work with another tenant. \r\nI have request endpoint as https://domain/api/v1/save/{tenant}\r\nwhere tennant is passed in path variable for each request.\r\nWe don&#39;t have any UI or such configuration for user configuration it&#39;s just an spring boot REST API project.\r\n\r\n\r\nWe are using inmemory client registered repository to store client details.\r\n","title":"Spring security for multi tenants","body":"<p>I've below properties in my properties file of auth server for oauth spring security to generate jwt token.</p>\n<pre><code>clientcredential:\n  clients:\n    - tenant: tenant1\n      clientdetails:\n        - name : service1\n          scope : service1.read\n          clientId: tenant1-service1-client\n          clientSecret: tenant1-service1-secret\n        - name : service2\n            scope : service2.read\n            clientId: tenant1-service2-client\n            clientSecret: tenant1-service2-secret\n        - name : service3\n            scope : service3.read\n            clientId: tenant1-service3-client\n            clientSecret: tenant1-service3-secret\n        - name : service4\n            scope : service4.read\n            clientId: tenant1-service4-client\n            clientSecret: tenant1-service4-secret\n    - tenant: tenant2\n      clientdetails:\n        - name : service1\n            scope : service1.read\n            clientId: tenant2-service1-client\n            clientSecret: tenant2-service1-secret\n        - name : service2\n            scope : service2.read\n            clientId: tenant2-service2-client\n            clientSecret: tenant2-service2-secret\n        - name : service3\n            scope : service3.read\n            clientId: tenant2-service3-client\n            clientSecret: tenant2-service3-secret\n</code></pre>\n<p>I would like to validate the jwt token such that the token of one tenant should not work with another tenant.\nI have request endpoint as https://domain/api/v1/save/{tenant}\nwhere tennant is passed in path variable for each request.\nWe don't have any UI or such configuration for user configuration it's just an spring boot REST API project.</p>\n<p>We are using inmemory client registered repository to store client details.</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699270507,"post_id":77429560,"comment_id":136506183,"body_markdown":"Whether you chain method invocations or not, is irrelevant. You can write `CompletableFuture&lt;String&gt; firstFuture =  CompletableFuture.supplyAsync(() -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; }); CompletableFuture&lt;String&gt; completableFuture = firstFuture.handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);` instead. It makes no difference. The `supplyAsync` does not pass anything to `handle` as the `supplyAsync` method does not invoke `handle`. It’s *not* different to `new StringBuilder().append(x).append(y)`.","body":"Whether you chain method invocations or not, is irrelevant. You can write <code>CompletableFuture&lt;String&gt; firstFuture =  CompletableFuture.supplyAsync(() -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; }); CompletableFuture&lt;String&gt; completableFuture = firstFuture.handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);</code> instead. It makes no difference. The <code>supplyAsync</code> does not pass anything to <code>handle</code> as the <code>supplyAsync</code> method does not invoke <code>handle</code>. It’s <i>not</i> different to <code>new StringBuilder().append(x).append(y)</code>."},{"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"score":0,"creation_date":1699345335,"post_id":77429560,"comment_id":136516625,"body_markdown":"Thanks, now its bit more clear. As supplyAsync() is async, what will happen after supplyAsync execution -  will Java wait till supplyAsync() is complete and only then move to handle() or handle() will be executed while supplyAsync() is still processing?","body":"Thanks, now its bit more clear. As supplyAsync() is async, what will happen after supplyAsync execution -  will Java wait till supplyAsync() is complete and only then move to handle() or handle() will be executed while supplyAsync() is still processing?"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699347389,"post_id":77429560,"comment_id":136516942,"body_markdown":"Don’t mix the method invocations with the evaluation of the lambda expression bodies. The methods `supplyAsync` and `handle` are executed one after the other as with any other chained method invocation. The `Supplier` is evaluated asynchronously, i.e. in a worker thread. Its completion may trigger the evaluation of the `BiFunction`, within the same worker thread or a different worker thread. It’s even possible that the `BiFunction` will be evaluated within the `handle` method if the previous stage has been completed already.","body":"Don’t mix the method invocations with the evaluation of the lambda expression bodies. The methods <code>supplyAsync</code> and <code>handle</code> are executed one after the other as with any other chained method invocation. The <code>Supplier</code> is evaluated asynchronously, i.e. in a worker thread. Its completion may trigger the evaluation of the <code>BiFunction</code>, within the same worker thread or a different worker thread. It’s even possible that the <code>BiFunction</code> will be evaluated within the <code>handle</code> method if the previous stage has been completed already."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699347419,"post_id":77429560,"comment_id":136516947,"body_markdown":"Keep in mind that you also can write your code as `Supplier&lt;String&gt; supplier = () -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; };\nBiFunction&lt;? super String, Throwable, ? extends String&gt; biFunction = (s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;;\nCompletableFuture&lt;String&gt; firstStage = CompletableFuture.supplyAsync(supplier);\nCompletableFuture&lt;String&gt; completableFuture = firstStage.handle(biFunction);`","body":"Keep in mind that you also can write your code as <code>Supplier&lt;String&gt; supplier = () -&gt; { if (name == null) { throw new RuntimeException(&quot;Computation error!&quot;); } return &quot;Hello, &quot; + name; }; BiFunction&lt;? super String, Throwable, ? extends String&gt; biFunction = (s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;; CompletableFuture&lt;String&gt; firstStage = CompletableFuture.supplyAsync(supplier); CompletableFuture&lt;String&gt; completableFuture = firstStage.handle(biFunction);</code>"},{"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"score":0,"creation_date":1699361327,"post_id":77429560,"comment_id":136519562,"body_markdown":"Hmm interesting, but it seems that I missing knowledge how async threads works and how they trigger evaluation of functions. Can you recommend any link where I can read about it? Thanks again!","body":"Hmm interesting, but it seems that I missing knowledge how async threads works and how they trigger evaluation of functions. Can you recommend any link where I can read about it? Thanks again!"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699372866,"post_id":77429560,"comment_id":136522092,"body_markdown":"It’s not clear where we would have to start. Do you understand the following example, `Runnable r = () -&gt; System.out.println(&quot;hello from &quot; + Thread.currentThread().getName()); new Thread(r).start();`? Letting aside that we use a function here to create the `Runnable`, this example works the same way as in Java&#160;1.0. The `CompletableFuture` uses a thread pool behind the scenes but that’s not important. You can use `CompletableFuture.supplyAsync(() -&gt; &quot;Hello&quot;, r -&gt; new Thread(r).start()).thenAccept(System.out::println);` to create a background thread the same way as in the first example.","body":"It’s not clear where we would have to start. Do you understand the following example, <code>Runnable r = () -&gt; System.out.println(&quot;hello from &quot; + Thread.currentThread().getName()); new Thread(r).start();</code>? Letting aside that we use a function here to create the <code>Runnable</code>, this example works the same way as in Java 1.0. The <code>CompletableFuture</code> uses a thread pool behind the scenes but that’s not important. You can use <code>CompletableFuture.supplyAsync(() -&gt; &quot;Hello&quot;, r -&gt; new Thread(r).start()).thenAccept(System.out::println);</code> to create a background thread the same way as in the first example."},{"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"score":0,"creation_date":1699541093,"post_id":77429560,"comment_id":136547280,"body_markdown":"Thanks again, now more understandable, but I think I need to take some full course about async to be able to write something similar on my own. Lots of abstraction going on inside the supplyAsync method, but in general I got the idea.","body":"Thanks again, now more understandable, but I think I need to take some full course about async to be able to write something similar on my own. Lots of abstraction going on inside the supplyAsync method, but in general I got the idea."}],"owner":{"account_id":23306570,"reputation":3,"user_id":17386471,"display_name":"Rivo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699257334,"creation_date":1699257334,"question_id":77429560,"body_markdown":"here is example of error handling in completableFuture  \r\nhttps://www.baeldung.com/java-completablefuture\r\n```\r\nCompletableFuture&lt;String&gt; completableFuture  \r\n  =  CompletableFuture.supplyAsync(() -&gt; {\r\n      if (name == null) {\r\n          throw new RuntimeException(&quot;Computation error!&quot;);\r\n      }\r\n      return &quot;Hello, &quot; + name;\r\n  }).handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);\r\n```\r\n\r\nAs handle() method will take BiFunction as paremeter, my question is how supplyAsync is passing that parameter to handle(). I tried to look into the source code but didnt manage to find.\r\n\r\nAnd would it be to possible to demonstrate it with some simple example how function is passed from one method to another when method are chained with dot\r\n\r\nfirstMehtod(..).secondMethod(Fuction&lt;?,?&gt;);","title":"How CompletableFuture supplyAsyncmethod() works in Java","body":"<p>here is example of error handling in completableFuture<br />\n<a href=\"https://www.baeldung.com/java-completablefuture\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-completablefuture</a></p>\n<pre><code>CompletableFuture&lt;String&gt; completableFuture  \n  =  CompletableFuture.supplyAsync(() -&gt; {\n      if (name == null) {\n          throw new RuntimeException(&quot;Computation error!&quot;);\n      }\n      return &quot;Hello, &quot; + name;\n  }).handle((s, t) -&gt; s != null ? s : &quot;Hello, Stranger!&quot;);\n</code></pre>\n<p>As handle() method will take BiFunction as paremeter, my question is how supplyAsync is passing that parameter to handle(). I tried to look into the source code but didnt manage to find.</p>\n<p>And would it be to possible to demonstrate it with some simple example how function is passed from one method to another when method are chained with dot</p>\n<p>firstMehtod(..).secondMethod(Fuction);</p>\n"},{"tags":["java","spring-boot","analytics","data-analysis"],"comments":[{"owner":{"account_id":17370497,"reputation":68,"user_id":12584735,"display_name":"Behtash"},"score":0,"creation_date":1699256986,"post_id":77429270,"comment_id":136503923,"body_markdown":"For data science, you can use python. If you can use api which communicate with python and create module using matplotlib and pandas(These are libraries in python) and work with them and at the end you can get export image of charts and data in raw.","body":"For data science, you can use python. If you can use api which communicate with python and create module using matplotlib and pandas(These are libraries in python) and work with them and at the end you can get export image of charts and data in raw."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268155,"post_id":77429270,"comment_id":136505782,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18837528,"reputation":1,"user_id":13739830,"display_name":"vivek kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699256772,"creation_date":1699254195,"question_id":77429270,"body_markdown":"I want to use a analytics tool to integrate in my spring boot application where I will be uploading an Excel sheet and the tool will determine the columns to create reports or charts. Which tool will be best for it?\r\n\r\nI tried to find tools but got confused after reading their API documentation.","title":"Analytics tool for Excel data analysis","body":"<p>I want to use a analytics tool to integrate in my spring boot application where I will be uploading an Excel sheet and the tool will determine the columns to create reports or charts. Which tool will be best for it?</p>\n<p>I tried to find tools but got confused after reading their API documentation.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699256449,"creation_date":1699256449,"answer_id":77429467,"question_id":77403571,"body_markdown":"After some research, I found that I can use for this specific test case the class and method `org.springframework.test.util.TestSocketUtils.findAvailableTcpPort()` which [was introduced after][1] the `SocketUtils` has been removed.\r\n\r\nWith that I&#39;ve implemented a `RandomPortInitializer` like that:\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class AbstractIntegrationTest {\r\n\r\n  // This value will be set later by the RandomPortInitializer\r\n  @Value(&quot;${server.internalPort}&quot;)\r\n  int internalPort;\r\n\r\n  ...\r\n\r\n  public static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n      @Override\r\n      public void initialize(ConfigurableApplicationContext applicationContext) {\r\n        int randomPort = TestSocketUtils.findAvailableTcpPort();\r\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(applicationContext,\r\n              &quot;server.internalPort=&quot; + randomPort);\r\n      }\r\n    }\r\n  ...\r\n}\r\n```\r\n\r\nI use that initializer on my concrete test class where I can access the `internalPort` value.\r\n\r\n```java\r\n@DisplayName(&quot;Do some tests&quot;)\r\n@ContextConfiguration(initializers = {RandomPortInitializer.class})\r\nclass MyIntegrationTest extends AbstractIntegrationTest {\r\n...\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/28052#issuecomment-1074160853","title":"How to use WebEnvironment.RANDOM_PORT to get a second random port?","body":"<p>After some research, I found that I can use for this specific test case the class and method <code>org.springframework.test.util.TestSocketUtils.findAvailableTcpPort()</code> which <a href=\"https://github.com/spring-projects/spring-framework/issues/28052#issuecomment-1074160853\" rel=\"nofollow noreferrer\">was introduced after</a> the <code>SocketUtils</code> has been removed.</p>\n<p>With that I've implemented a <code>RandomPortInitializer</code> like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class AbstractIntegrationTest {\n\n  // This value will be set later by the RandomPortInitializer\n  @Value(&quot;${server.internalPort}&quot;)\n  int internalPort;\n\n  ...\n\n  public static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n      @Override\n      public void initialize(ConfigurableApplicationContext applicationContext) {\n        int randomPort = TestSocketUtils.findAvailableTcpPort();\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(applicationContext,\n              &quot;server.internalPort=&quot; + randomPort);\n      }\n    }\n  ...\n}\n</code></pre>\n<p>I use that initializer on my concrete test class where I can access the <code>internalPort</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DisplayName(&quot;Do some tests&quot;)\n@ContextConfiguration(initializers = {RandomPortInitializer.class})\nclass MyIntegrationTest extends AbstractIntegrationTest {\n...\n</code></pre>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77429467,"answer_count":1,"score":1,"last_activity_date":1699256449,"creation_date":1698850754,"question_id":77403571,"body_markdown":"I have a Spring Boot application which I start with the standard port mechanism, i.e. setting the property value `server.port` to a fixed number, e.g. 8081. I managed to expose a second/separate port in that Spring Boot application on which some other (read: internal) REST endpoints are available. Therefore, I have introduced the property `server.internalPort`.\r\n\r\nWhen running a `@SpringBootTest` integration test, I can easily randomize the `server.port` value via `webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT`. But I need to randomize the value for the property `server.internalPort` somehow, too.\r\n\r\nIs there an easy way to register a property value for randomization at test start up? E.g., my test looks something like this:\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n...\r\npublic abstract class AbstractSomethingIntegrationTest {\r\n\r\n  @LocalServerPort\r\n  private int port;\r\n\r\n  @Value(&quot;${server.internalPort}&quot;)\r\n  private int internalPort;\r\n```\r\n\r\nThe variable `port` gets a randomized value but `internalPort` not. It gets the value I have used in the `integrationtest/resources/application.yml` file.","title":"How to use WebEnvironment.RANDOM_PORT to get a second random port?","body":"<p>I have a Spring Boot application which I start with the standard port mechanism, i.e. setting the property value <code>server.port</code> to a fixed number, e.g. 8081. I managed to expose a second/separate port in that Spring Boot application on which some other (read: internal) REST endpoints are available. Therefore, I have introduced the property <code>server.internalPort</code>.</p>\n<p>When running a <code>@SpringBootTest</code> integration test, I can easily randomize the <code>server.port</code> value via <code>webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT</code>. But I need to randomize the value for the property <code>server.internalPort</code> somehow, too.</p>\n<p>Is there an easy way to register a property value for randomization at test start up? E.g., my test looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n...\npublic abstract class AbstractSomethingIntegrationTest {\n\n  @LocalServerPort\n  private int port;\n\n  @Value(&quot;${server.internalPort}&quot;)\n  private int internalPort;\n</code></pre>\n<p>The variable <code>port</code> gets a randomized value but <code>internalPort</code> not. It gets the value I have used in the <code>integrationtest/resources/application.yml</code> file.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8269,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638755615,"creation_date":1638755615,"answer_id":70240144,"question_id":70231573,"body_markdown":"You&#39;ve added jDK11 to PATH, discard this configuration then **add jdk17 to PATH**.\r\n\r\nThen turn to VS Code, open `User Settings.json` and add \r\n\r\n    &quot;java.home&quot;: &quot;&lt;path to jdk17&gt;&quot;,\r\n\r\nThen reload window to make this change effective.","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>You've added jDK11 to PATH, discard this configuration then <strong>add jdk17 to PATH</strong>.</p>\n<p>Then turn to VS Code, open <code>User Settings.json</code> and add</p>\n<pre><code>&quot;java.home&quot;: &quot;&lt;path to jdk17&gt;&quot;,\n</code></pre>\n<p>Then reload window to make this change effective.</p>\n"},{"tags":[],"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638801858,"creation_date":1638801858,"answer_id":70247304,"question_id":70231573,"body_markdown":"I did the following steps to fix the issue(I use Debian based Linux OS):\r\n   1. Went to my software manager, searched for JDK 11.\r\n   2. Deleted JDK 11 and installed JDK 17 from the software manager\r\n   3. Went to VSC and installed an extension &quot;java run&quot;.\r\n   4. Ran the code and it worked just fine.\r\n","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>I did the following steps to fix the issue(I use Debian based Linux OS):</p>\n<ol>\n<li>Went to my software manager, searched for JDK 11.</li>\n<li>Deleted JDK 11 and installed JDK 17 from the software manager</li>\n<li>Went to VSC and installed an extension &quot;java run&quot;.</li>\n<li>Ran the code and it worked just fine.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16772840,"reputation":63,"user_id":13023390,"display_name":"Osolemio44"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699256127,"creation_date":1699256127,"answer_id":77429433,"question_id":70231573,"body_markdown":"In youre `settings.json` you can configure all youre jdk and use `default:true` with the one you prefer to use.\r\nExample:\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    {\r\n      &quot;javadoc&quot;: &quot;https://docs.oracle.com/javase/8/docs/api&quot;,\r\n      &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n      &quot;path&quot;: &quot;C:/libs/jdk8u332&quot;,\r\n      &quot;sources&quot;: &quot;C:/libs/jdk8u332/src.zip&quot;\r\n    },\r\n    {\r\n      &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n      &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n      &quot;path&quot;: &quot;C:/libs/jdk-11.0.15&quot;,\r\n      &quot;sources&quot;: &quot;C:/libs/jdk-11.0.15/lib/src.zip&quot;\r\n    },\r\n    {\r\n      &quot;default&quot;: true,\r\n      &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/17/docs/api&quot;,\r\n      &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n      &quot;path&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,\r\n      &quot;sources&quot;: &quot;C:/libs/jdk-17.0.7+7/lib/src.zip&quot;\r\n    }\r\n  ],\r\n\r\nBut some specific extension need their own configuration. For example, sonar lint need this configuration:\r\n\r\n    &quot;sonarlint.ls.javaHome&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>In youre <code>settings.json</code> you can configure all youre jdk and use <code>default:true</code> with the one you prefer to use.\nExample:</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n{\n  &quot;javadoc&quot;: &quot;https://docs.oracle.com/javase/8/docs/api&quot;,\n  &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n  &quot;path&quot;: &quot;C:/libs/jdk8u332&quot;,\n  &quot;sources&quot;: &quot;C:/libs/jdk8u332/src.zip&quot;\n},\n{\n  &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n  &quot;name&quot;: &quot;JavaSE-11&quot;,\n  &quot;path&quot;: &quot;C:/libs/jdk-11.0.15&quot;,\n  &quot;sources&quot;: &quot;C:/libs/jdk-11.0.15/lib/src.zip&quot;\n},\n{\n  &quot;default&quot;: true,\n  &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/17/docs/api&quot;,\n  &quot;name&quot;: &quot;JavaSE-17&quot;,\n  &quot;path&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,\n  &quot;sources&quot;: &quot;C:/libs/jdk-17.0.7+7/lib/src.zip&quot;\n}\n</code></pre>\n<p>],</p>\n<p>But some specific extension need their own configuration. For example, sonar lint need this configuration:</p>\n<pre><code>&quot;sonarlint.ls.javaHome&quot;: &quot;C:/libs/jdk-17.0.7+7&quot;,\n</code></pre>\n"}],"owner":{"account_id":23147667,"reputation":98,"user_id":17250198,"display_name":"Command_Blocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7071,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699256127,"creation_date":1638680204,"question_id":70231573,"body_markdown":"So I recently installed OpenJDK 17 for Linux and it came to me as a tar.gz file. I installed it after clicking a link I got on vs code after installing a java extension pack (I had Java 11 installed by default, but I decided to get the latest version), under the adoptium&#39;s temurin tab of installing Java from vsc. So after doing so I reloaded the screen, but still no change. Vs code is still not detecting java 17 or 11 is installed. Also when I type `java --version` in the terminal, I get :\r\n\r\n```\r\nOpenJDK 11.0.11 2021-04-20\r\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n```\r\n\r\nHow do I make Java 17 the default version for VSC?\r\n","title":"Visual Studio Code not detecting java 17 installed even though java 17 was installed via a link gotten from vsc","body":"<p>So I recently installed OpenJDK 17 for Linux and it came to me as a tar.gz file. I installed it after clicking a link I got on vs code after installing a java extension pack (I had Java 11 installed by default, but I decided to get the latest version), under the adoptium's temurin tab of installing Java from vsc. So after doing so I reloaded the screen, but still no change. Vs code is still not detecting java 17 or 11 is installed. Also when I type <code>java --version</code> in the terminal, I get :</p>\n<pre><code>OpenJDK 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n<p>How do I make Java 17 the default version for VSC?</p>\n"},{"tags":["java","if-statement","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29615,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699193035,"creation_date":1699193035,"answer_id":77426208,"question_id":77420268,"body_markdown":"One simple way is to use early returns.\r\n\r\nE.g.\r\n\r\n    if(foo) {\r\n     return &quot;foo&quot;;\r\n    }\r\n    \r\n    if(bar) {\r\n     return &quot;bar&quot;;\r\n    }\r\n    \r\n    etc...","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>One simple way is to use early returns.</p>\n<p>E.g.</p>\n<pre><code>if(foo) {\n return &quot;foo&quot;;\n}\n\nif(bar) {\n return &quot;bar&quot;;\n}\n\netc...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699222911,"creation_date":1699222911,"answer_id":77427877,"question_id":77420268,"body_markdown":"Streams and predicates are not a silver bullet, and there&#39;s nothing wrong with plain `if`s.\r\n\r\nA small refactoring, mainly removing redundant conditions, yields:\r\n\r\n```\r\nif (eventList.size() &gt; 1) { //SOP Special Event\r\n    if (results.getAcknowledgeUid().isEmpty()) {\r\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                .findFirst().orElse(null);\r\n    } else {\r\n        if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) { // SOP Acnknowledge Event\r\n            event = eventList.stream().filter(isAcknowledgeEvent)\r\n                    .findFirst().orElse(null);\r\n        } else { // Non SOP Acnknowledge Event\r\n            event = eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid)\r\n                    .stream().filter(isAcnknowledgeEvent)\r\n                    .findFirst().orElse(null);\r\n    }\r\n} else { // Single Event\r\n    event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n}\r\n```\r\n\r\nwhich has good readability. ","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>Streams and predicates are not a silver bullet, and there's nothing wrong with plain <code>if</code>s.</p>\n<p>A small refactoring, mainly removing redundant conditions, yields:</p>\n<pre><code>if (eventList.size() &gt; 1) { //SOP Special Event\n    if (results.getAcknowledgeUid().isEmpty()) {\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                .findFirst().orElse(null);\n    } else {\n        if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) { // SOP Acnknowledge Event\n            event = eventList.stream().filter(isAcknowledgeEvent)\n                    .findFirst().orElse(null);\n        } else { // Non SOP Acnknowledge Event\n            event = eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid)\n                    .stream().filter(isAcnknowledgeEvent)\n                    .findFirst().orElse(null);\n    }\n} else { // Single Event\n    event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>which has good readability.</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699256034,"creation_date":1699256034,"answer_id":77429423,"question_id":77420268,"body_markdown":"At least that block is wrong:\r\n\r\n       // SOP Acnknowledge Event\r\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       }\r\n       // Non SOP Acnknowledge Event\r\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n\r\nthere is a (probably) missing else, isn&#39;t it?\r\n\r\n       // SOP Acnknowledge Event\r\n       if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       } else {\r\n           // Non SOP Acnknowledge Event\r\n           List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n           event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n       }\r\n\r\n\r\n\r\nThe ifs are;\r\n\r\n    if (n&gt;1 &amp;&amp; cond)\r\n    else if (n&gt;1 &amp;&amp; !cond)\r\n    else if (n&gt;0)\r\n\r\nat least testing `cond` twice is redundant. You may write it:\r\n\r\n    if (n&gt;1)\r\n        if (cond)\r\n        else\r\n    else if (n&gt;0)\r\n\r\nand if `n` is always 1, 2 or 3 then the last test may be removed:\r\n\r\n    if (n&gt;1)\r\n        if (cond)\r\n        else\r\n    else\r\n\r\n\r\nwhich gives:\r\n\r\n    if (eventList.size()&gt;1) {\r\n        if (results.getAcknowledgeUid().isEmpty()) {\r\n            event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                                     .findFirst().orElse(null);\r\n        } else { \r\n           // SOP Acnknowledge Event\r\n           if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n               event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                         .findFirst().orElse(null);\r\n           } else {\r\n           // Non SOP Acnknowledge Event\r\n               List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n               event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                           .findFirst().orElse(null);\r\n           }\r\n    else {\r\n           event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n    }\r\n\r\nYou may also factorize the calls to findFirst.orElse and filters:\r\n\r\n    Stream&lt;SOMETYPE&gt; s = null;\r\n    Predicate&lt;SOMETYPE&gt; f = null\r\n    if (eventList.size()&gt;1) {\r\n        if (results.getAcknowledgeUid().isEmpty()) {\r\n            s = eventList.stream();\r\n            f = isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent);\r\n        } else { \r\n           if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n               s = eventList.stream()\r\n           } else {\r\n               s = repository.findEventByUid(results.getAcnknowledgeUid).stream()\r\n           }\r\n           f = filter(isAcnknowledgeEvent);\r\n    else {\r\n           s =  eventList.stream();\r\n           f = isOriginalEvent;\r\n    }\r\n    event = s.filter(f).findFirst().orElse(null);\r\n\r\n\r\n","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>At least that block is wrong:</p>\n<pre><code>   // SOP Acnknowledge Event\n   if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n       event = eventList.stream().filter(isAcknowledgeEvent)\n                                 .findFirst().orElse(null);\n   }\n   // Non SOP Acnknowledge Event\n   List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n   event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                   .findFirst().orElse(null);\n</code></pre>\n<p>there is a (probably) missing else, isn't it?</p>\n<pre><code>   // SOP Acnknowledge Event\n   if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n       event = eventList.stream().filter(isAcknowledgeEvent)\n                                 .findFirst().orElse(null);\n   } else {\n       // Non SOP Acnknowledge Event\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                   .findFirst().orElse(null);\n   }\n</code></pre>\n<p>The ifs are;</p>\n<pre><code>if (n&gt;1 &amp;&amp; cond)\nelse if (n&gt;1 &amp;&amp; !cond)\nelse if (n&gt;0)\n</code></pre>\n<p>at least testing <code>cond</code> twice is redundant. You may write it:</p>\n<pre><code>if (n&gt;1)\n    if (cond)\n    else\nelse if (n&gt;0)\n</code></pre>\n<p>and if <code>n</code> is always 1, 2 or 3 then the last test may be removed:</p>\n<pre><code>if (n&gt;1)\n    if (cond)\n    else\nelse\n</code></pre>\n<p>which gives:</p>\n<pre><code>if (eventList.size()&gt;1) {\n    if (results.getAcknowledgeUid().isEmpty()) {\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                                 .findFirst().orElse(null);\n    } else { \n       // SOP Acnknowledge Event\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           event = eventList.stream().filter(isAcknowledgeEvent)\n                                     .findFirst().orElse(null);\n       } else {\n       // Non SOP Acnknowledge Event\n           List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n           event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                       .findFirst().orElse(null);\n       }\nelse {\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>You may also factorize the calls to findFirst.orElse and filters:</p>\n<pre><code>Stream&lt;SOMETYPE&gt; s = null;\nPredicate&lt;SOMETYPE&gt; f = null\nif (eventList.size()&gt;1) {\n    if (results.getAcknowledgeUid().isEmpty()) {\n        s = eventList.stream();\n        f = isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent);\n    } else { \n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           s = eventList.stream()\n       } else {\n           s = repository.findEventByUid(results.getAcnknowledgeUid).stream()\n       }\n       f = filter(isAcnknowledgeEvent);\nelse {\n       s =  eventList.stream();\n       f = isOriginalEvent;\n}\nevent = s.filter(f).findFirst().orElse(null);\n</code></pre>\n"}],"owner":{"account_id":4357423,"reputation":17,"user_id":3555555,"display_name":"turing23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77429423,"answer_count":3,"score":0,"last_activity_date":1699256034,"creation_date":1699056067,"question_id":77420268,"body_markdown":"I got a review comment from my peers that i need to reduce the use of multiple If-else blocks in my code and instead use imperative programming techniques to achieve the same functionality\r\n\r\n**Background**\r\nI have a List of Events and i need to return an event object based on few conditions.For an SOP Event and SOP Acknowledge Event the size of the list could be 2 or 3, for a Non-Sop Acknowledge event the size is 2 but event type is different, finally there is a single event where the size is 1.\r\n\r\n```\r\n//All Required Predicates\r\n\r\n//SOP Special Event\r\nif(eventList.size() &gt;1 &amp;&amp; results.getAcknowledgeUid().isEmpty()){\r\n       event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                                 .findFirst().orElse(null);\r\n} \r\nelse if (eventList.size() &gt;1 &amp;&amp; !results.getAcknowledgeUid().isEmpty()) {\r\n       // SOP Acnknowledge Event\r\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       }\r\n       // Non SOP Acnknowledge Event\r\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n}\r\n// Single Event\r\nelse if (eventList.size() &gt;0) {\r\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n}\r\n```\r\n\r\nI moved all my conditions within in the if else blocks to predicates and it&#39;s looking compact right now. But i&#39;m still unable to reduce the if-else chain. I considered using ternary operator to merge the second and third blocks, but the code is looking clumsy if i did that. \r\ni&#39;m unable to do the following as well.\r\n\r\n```\r\nPredicate&lt;List&lt;Event&gt;&gt; isMoreThanTwoEvents = event -&gt; eventList.size() &gt; 1;\r\n\r\n event = eventList.stream().filter(isAcknowledgeEvent.and(isSOPEvent).and(isMoreThanTwoEvents))\r\n                                 .findFirst().orElse(null);\r\n```\r\nwhich gives me an error in the IDE \r\n\r\n&gt; Required type Predicate &lt;? super Event&gt;\r\n&gt; Provided Predicate &lt;List&lt;Event&gt;&gt;\r\n\r\n1. How do i reduce the If-Else Chaining?\r\n2. How do i filter data in Streams within a Collection that are outside the scope of that collection?\r\n3. Is there a better or elegant solution to this problem?","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>I got a review comment from my peers that i need to reduce the use of multiple If-else blocks in my code and instead use imperative programming techniques to achieve the same functionality</p>\n<p><strong>Background</strong>\nI have a List of Events and i need to return an event object based on few conditions.For an SOP Event and SOP Acknowledge Event the size of the list could be 2 or 3, for a Non-Sop Acknowledge event the size is 2 but event type is different, finally there is a single event where the size is 1.</p>\n<pre><code>//All Required Predicates\n\n//SOP Special Event\nif(eventList.size() &gt;1 &amp;&amp; results.getAcknowledgeUid().isEmpty()){\n       event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                                 .findFirst().orElse(null);\n} \nelse if (eventList.size() &gt;1 &amp;&amp; !results.getAcknowledgeUid().isEmpty()) {\n       // SOP Acnknowledge Event\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           event = eventList.stream().filter(isAcknowledgeEvent)\n                                     .findFirst().orElse(null);\n       }\n       // Non SOP Acnknowledge Event\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                       .findFirst().orElse(null);\n}\n// Single Event\nelse if (eventList.size() &gt;0) {\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>I moved all my conditions within in the if else blocks to predicates and it's looking compact right now. But i'm still unable to reduce the if-else chain. I considered using ternary operator to merge the second and third blocks, but the code is looking clumsy if i did that.\ni'm unable to do the following as well.</p>\n<pre><code>Predicate&lt;List&lt;Event&gt;&gt; isMoreThanTwoEvents = event -&gt; eventList.size() &gt; 1;\n\n event = eventList.stream().filter(isAcknowledgeEvent.and(isSOPEvent).and(isMoreThanTwoEvents))\n                                 .findFirst().orElse(null);\n</code></pre>\n<p>which gives me an error in the IDE</p>\n<blockquote>\n<p>Required type Predicate &lt;? super Event&gt;\nProvided Predicate &lt;List&gt;</p>\n</blockquote>\n<ol>\n<li>How do i reduce the If-Else Chaining?</li>\n<li>How do i filter data in Streams within a Collection that are outside the scope of that collection?</li>\n<li>Is there a better or elegant solution to this problem?</li>\n</ol>\n"},{"tags":["java","file","binary","compare"],"answers":[{"tags":[],"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1242345001,"creation_date":1242343086,"answer_id":866348,"question_id":866346,"body_markdown":"Maybe... compare MD5 digests of each file? I&#39;m sure there are a lot of ways to do it. You could just open both files and compare each byte.\r\n\r\nEDIT: James stated how the XLS format might have differences in the metadata. Perhaps you should use the same interface you used to generate the xls files to open them and compare the values from cell to cell?","title":"Easiest way to compare two Excel files in Java?","body":"<p>Maybe... compare MD5 digests of each file? I'm sure there are a lot of ways to do it. You could just open both files and compare each byte.</p>\n\n<p>EDIT: James stated how the XLS format might have differences in the metadata. Perhaps you should use the same interface you used to generate the xls files to open them and compare the values from cell to cell?</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1242343572,"creation_date":1242343572,"answer_id":866372,"question_id":866346,"body_markdown":"You could use javaxdelta to check whether the two files are the same.  It&#39;s available from here:\r\n\r\n[http://javaxdelta.sourceforge.net/][1]\r\n\r\n\r\n  [1]: http://javaxdelta.sourceforge.net/","title":"Easiest way to compare two Excel files in Java?","body":"<p>You could use javaxdelta to check whether the two files are the same.  It's available from here:</p>\n\n<p><a href=\"http://javaxdelta.sourceforge.net/\" rel=\"nofollow noreferrer\">http://javaxdelta.sourceforge.net/</a></p>\n"},{"tags":[],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1242344929,"creation_date":1242344929,"answer_id":866432,"question_id":866346,"body_markdown":"Just found out there&#39;s something in commons-io&#39;s [FileUtils][1]. Thanks for the other answers.\r\n\r\n\r\n  [1]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,%20java.io.File)","title":"Easiest way to compare two Excel files in Java?","body":"<p>Just found out there's something in commons-io's <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,%20java.io.File)\" rel=\"nofollow noreferrer\">FileUtils</a>. Thanks for the other answers.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242345112,"creation_date":1242345112,"answer_id":866443,"question_id":866346,"body_markdown":"A simple file comparison can easily be done using some checksumming (like MD5) or just reading both files.\r\n\r\nHowever, as Excel files contain loads of metadata, the files will probably never be identical byte-for-byte, as James Burgess pointed out.\r\nSo you&#39;ll need another kind of comparison for your test.\r\n\r\nI&#39;d recommend somehow generating a &quot;canonical&quot; form from the Excel file, i.e. reading the generated Excel file and converting it to a simpler format (CSV or something similar), which will only retain the information you want to check. Then you can use the &quot;canonical form&quot; to compare with your expected result (also in canonical form, of course).\r\n\r\n[Apache POI][1] might be useful for reading the file.\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n\r\nBTW: Reading a whole file to check its correctnes would generally not be considere a Unit test. That&#39;s an integration test...","title":"Easiest way to compare two Excel files in Java?","body":"<p>A simple file comparison can easily be done using some checksumming (like MD5) or just reading both files.</p>\n\n<p>However, as Excel files contain loads of metadata, the files will probably never be identical byte-for-byte, as James Burgess pointed out.\nSo you'll need another kind of comparison for your test.</p>\n\n<p>I'd recommend somehow generating a \"canonical\" form from the Excel file, i.e. reading the generated Excel file and converting it to a simpler format (CSV or something similar), which will only retain the information you want to check. Then you can use the \"canonical form\" to compare with your expected result (also in canonical form, of course).</p>\n\n<p><a href=\"http://poi.apache.org/\" rel=\"noreferrer\">Apache POI</a> might be useful for reading the file.</p>\n\n<p>BTW: Reading a whole file to check its correctnes would generally not be considere a Unit test. That's an integration test...</p>\n"},{"tags":[],"owner":{"account_id":37571,"reputation":507,"user_id":107430,"accept_rate":86,"display_name":"Tiger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1242352861,"creation_date":1242352861,"answer_id":866707,"question_id":866346,"body_markdown":"Please, take a look at [the site][1] to compare the binary files, http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\r\n\r\n\r\nTiger\r\n\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>Please, take a look at <a href=\"http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\" rel=\"nofollow noreferrer\">the site</a> to compare the binary files, <a href=\"http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\" rel=\"nofollow noreferrer\">http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html</a></p>\n\n<p>Tiger</p>\n"},{"tags":[],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1242372373,"creation_date":1242372373,"answer_id":867390,"question_id":866346,"body_markdown":"Here&#39;s what I ended up doing (with the heavy lifting being done by [DBUnit][1]):\r\n\r\n    /**\r\n     * Compares the data in the two Excel files represented by the given input\r\n     * streams, closing them on completion\r\n     * \r\n     * @param expected can&#39;t be &lt;code&gt;null&lt;/code&gt;\r\n     * @param actual can&#39;t be &lt;code&gt;null&lt;/code&gt;\r\n     * @throws Exception\r\n     */\r\n    private void compareExcelFiles(InputStream expected, InputStream actual)\r\n      throws Exception\r\n    {\r\n      try {\r\n        Assertion.assertEquals(new XlsDataSet(expected), new XlsDataSet(actual));\r\n      }\r\n      finally {\r\n        IOUtils.closeQuietly(expected);\r\n        IOUtils.closeQuietly(actual);\r\n      }\r\n    }\r\n\r\nThis compares the data in the two files, with no risk of false negatives from any irrelevant metadata that might be different. Hope this helps someone.\r\n\r\n\r\n  [1]: http://dbunit.sourceforge.net/","title":"Easiest way to compare two Excel files in Java?","body":"<p>Here's what I ended up doing (with the heavy lifting being done by <a href=\"http://dbunit.sourceforge.net/\" rel=\"noreferrer\">DBUnit</a>):</p>\n\n<pre><code>/**\n * Compares the data in the two Excel files represented by the given input\n * streams, closing them on completion\n * \n * @param expected can't be &lt;code&gt;null&lt;/code&gt;\n * @param actual can't be &lt;code&gt;null&lt;/code&gt;\n * @throws Exception\n */\nprivate void compareExcelFiles(InputStream expected, InputStream actual)\n  throws Exception\n{\n  try {\n    Assertion.assertEquals(new XlsDataSet(expected), new XlsDataSet(actual));\n  }\n  finally {\n    IOUtils.closeQuietly(expected);\n    IOUtils.closeQuietly(actual);\n  }\n}\n</code></pre>\n\n<p>This compares the data in the two files, with no risk of false negatives from any irrelevant metadata that might be different. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":56048,"reputation":36440,"user_id":167897,"accept_rate":72,"display_name":"Wernight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272283521,"creation_date":1272283521,"answer_id":2713240,"question_id":866346,"body_markdown":"You may use [Beyond Compare 3][1] which can be started from command-line and supports different ways to compare Excel files, including:\r\n\r\n - Comparing Excel sheets as database tables\r\n - Checking all textual content\r\n - Checking textual content with some formating\r\n\r\n  [1]: http://www.scootersoftware.com/","title":"Easiest way to compare two Excel files in Java?","body":"<p>You may use <a href=\"http://www.scootersoftware.com/\" rel=\"nofollow noreferrer\">Beyond Compare 3</a> which can be started from command-line and supports different ways to compare Excel files, including:</p>\n\n<ul>\n<li>Comparing Excel sheets as database tables</li>\n<li>Checking all textual content</li>\n<li>Checking textual content with some formating</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1359041443,"creation_date":1347261691,"answer_id":12346967,"question_id":866346,"body_markdown":"You might consider using my project [simple-excel](https://github.com/tobyweston/simple-excel/) which provides a bunch of Hamcrest Matchers to do the job.\r\n\r\nWhen you do something like the following, \r\n\r\n    assertThat(actual, WorkbookMatcher.sameWorkbook(expected));\r\n\r\n\r\nYou&#39;d see, for example, \r\n\r\n    java.lang.AssertionError:\r\n    Expected: entire workbook to be equal\r\n         but: cell at &quot;C14&quot; contained &lt;&quot;bananas&quot;&gt; expected &lt;nothing&gt;,\r\n              cell at &quot;C15&quot; contained &lt;&quot;1,850,000 EUR&quot;&gt; expected &lt;&quot;1,850,000.00 EUR&quot;&gt;,\r\n              cell at &quot;D16&quot; contained &lt;nothing&gt; expected &lt;&quot;Tue Sep 04 06:30:00&quot;&gt;\r\n        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n\r\n\r\nThat way, you can run it from your automatted tests and get meaningful feedback whilst you&#39;re developing.\r\n\r\nYou can read more about it at [this article on my site](http://baddotrobot.com/blog/2012/09/14/diff-excel-with-java-and-hamcrest/)","title":"Easiest way to compare two Excel files in Java?","body":"<p>You might consider using my project <a href=\"https://github.com/tobyweston/simple-excel/\" rel=\"noreferrer\">simple-excel</a> which provides a bunch of Hamcrest Matchers to do the job.</p>\n\n<p>When you do something like the following, </p>\n\n<pre><code>assertThat(actual, WorkbookMatcher.sameWorkbook(expected));\n</code></pre>\n\n<p>You'd see, for example, </p>\n\n<pre><code>java.lang.AssertionError:\nExpected: entire workbook to be equal\n     but: cell at \"C14\" contained &lt;\"bananas\"&gt; expected &lt;nothing&gt;,\n          cell at \"C15\" contained &lt;\"1,850,000 EUR\"&gt; expected &lt;\"1,850,000.00 EUR\"&gt;,\n          cell at \"D16\" contained &lt;nothing&gt; expected &lt;\"Tue Sep 04 06:30:00\"&gt;\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n</code></pre>\n\n<p>That way, you can run it from your automatted tests and get meaningful feedback whilst you're developing.</p>\n\n<p>You can read more about it at <a href=\"http://baddotrobot.com/blog/2012/09/14/diff-excel-with-java-and-hamcrest/\" rel=\"noreferrer\">this article on my site</a></p>\n"},{"tags":[],"owner":{"account_id":267143,"reputation":702,"user_id":555139,"display_name":"joshden"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438801656,"creation_date":1438801656,"answer_id":31840860,"question_id":866346,"body_markdown":"I needed to do something similar and was already using the [Apache POI library](https://poi.apache.org/index.html) in my project to create Excel files. So I opted to use the included [ExcelExtractor](https://poi.apache.org/apidocs/org/apache/poi/ss/extractor/ExcelExtractor.html) interface to export both workbooks as a string of text and asserted that the strings were equal. There are implementations for both [HSSF for .xls](https://poi.apache.org/apidocs/org/apache/poi/hssf/extractor/ExcelExtractor.html) as well as [XSSF for .xlsx](https://poi.apache.org/apidocs/org/apache/poi/xssf/extractor/XSSFExcelExtractor.html).\r\n\r\nDump to string:\r\n\r\n    XSSFWorkbook xssfWorkbookA = ...;\r\n    String workbookA = new XSSFExcelExtractor(xssfWorkbookA).getText();\r\n    \r\nExcelExtractor has some options for what all should be included in the string dump. I found it to have useful defaults of including sheet names. In addition it includes the text contents of the cells.\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>I needed to do something similar and was already using the <a href=\"https://poi.apache.org/index.html\" rel=\"noreferrer\">Apache POI library</a> in my project to create Excel files. So I opted to use the included <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/extractor/ExcelExtractor.html\" rel=\"noreferrer\">ExcelExtractor</a> interface to export both workbooks as a string of text and asserted that the strings were equal. There are implementations for both <a href=\"https://poi.apache.org/apidocs/org/apache/poi/hssf/extractor/ExcelExtractor.html\" rel=\"noreferrer\">HSSF for .xls</a> as well as <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/extractor/XSSFExcelExtractor.html\" rel=\"noreferrer\">XSSF for .xlsx</a>.</p>\n\n<p>Dump to string:</p>\n\n<pre><code>XSSFWorkbook xssfWorkbookA = ...;\nString workbookA = new XSSFExcelExtractor(xssfWorkbookA).getText();\n</code></pre>\n\n<p>ExcelExtractor has some options for what all should be included in the string dump. I found it to have useful defaults of including sheet names. In addition it includes the text contents of the cells.</p>\n"},{"tags":[],"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463750155,"creation_date":1463750155,"answer_id":37347712,"question_id":866346,"body_markdown":"The easiest way I find is to use Tika.\r\nI use it like this:\r\n\r\n\tprivate void compareXlsx(File expected, File result) throws IOException, TikaException {\r\n\t\t Tika tika = new Tika();\r\n         String expectedText = tika.parseToString(expected);\r\n         String resultText = tika.parseToString(result);\r\n\t     assertEquals(expectedText, resultText);\r\n\t}\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.13&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>The easiest way I find is to use Tika.\nI use it like this:</p>\n\n<pre><code>private void compareXlsx(File expected, File result) throws IOException, TikaException {\n     Tika tika = new Tika();\n     String expectedText = tika.parseToString(expected);\n     String resultText = tika.parseToString(result);\n     assertEquals(expectedText, resultText);\n}\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.13&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7938112,"reputation":3993,"user_id":5993278,"accept_rate":39,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559319976,"creation_date":1559319976,"answer_id":56398703,"question_id":866346,"body_markdown":"To test only content of the first sheets in Kotlin (easily can be converted to java).\r\n\r\n\r\n    private fun checkEqualityExcelDocs(doc : XSSFWorkbook, doc1 : XSSFWorkbook) : Boolean{\r\n            val mapOfCellDoc = doc.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\r\n            val mapOfCellDoc1 = doc1.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\r\n            if(mapOfCellDoc.size == mapOfCellDoc1.size){\r\n                return mapOfCellDoc.entries.all { mapOfCellDoc1.containsKey(it.key) &amp;&amp; mapOfCellDoc[it.key] == mapOfCellDoc1[it.key]}\r\n            }\r\n            return false\r\n        }\r\n\r\n    data class IndexInThePivotTable(val row: Int, val col: Int)\r\n\r\n\r\nand in your code add assert\r\n\r\n        assertTrue(checkEqualityExcelDocs(expected, actual), &quot;Docs aren&#39;t equal!&quot;)\r\n\r\nas you can see `doc.toList().first()` will take only the first sheet of document, if you need to compare each sheet respectively change code a little. \r\n\r\nAlso it is quite good idea to not take into account &quot;&quot; empty strings cells, I didn&#39;t need this functionality (As well, simply add this part, if you need). \r\n\r\n---------\r\nalso it can be useful information\r\n\r\n    //first doc I&#39;ve got from outputstream such way\r\n    val out = ByteArrayOutputStream()\r\n    //some method which writes excel to outputstream\r\n    val firstDoc = XSSFWorkbook(ByteArrayInputStream(out.toByteArray()))\r\n\r\nand second doc from file to compare with \r\n\r\n    val secondDoc = XSSFWorkbook(Test::class.java.getClassLoader().getResource(&quot;yourfile.xlsx&quot;).path)\r\n\r\n\r\n\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>To test only content of the first sheets in Kotlin (easily can be converted to java).</p>\n\n<pre><code>private fun checkEqualityExcelDocs(doc : XSSFWorkbook, doc1 : XSSFWorkbook) : Boolean{\n        val mapOfCellDoc = doc.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\n        val mapOfCellDoc1 = doc1.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\n        if(mapOfCellDoc.size == mapOfCellDoc1.size){\n            return mapOfCellDoc.entries.all { mapOfCellDoc1.containsKey(it.key) &amp;&amp; mapOfCellDoc[it.key] == mapOfCellDoc1[it.key]}\n        }\n        return false\n    }\n\ndata class IndexInThePivotTable(val row: Int, val col: Int)\n</code></pre>\n\n<p>and in your code add assert</p>\n\n<pre><code>    assertTrue(checkEqualityExcelDocs(expected, actual), \"Docs aren't equal!\")\n</code></pre>\n\n<p>as you can see <code>doc.toList().first()</code> will take only the first sheet of document, if you need to compare each sheet respectively change code a little. </p>\n\n<p>Also it is quite good idea to not take into account \"\" empty strings cells, I didn't need this functionality (As well, simply add this part, if you need). </p>\n\n<hr>\n\n<p>also it can be useful information</p>\n\n<pre><code>//first doc I've got from outputstream such way\nval out = ByteArrayOutputStream()\n//some method which writes excel to outputstream\nval firstDoc = XSSFWorkbook(ByteArrayInputStream(out.toByteArray()))\n</code></pre>\n\n<p>and second doc from file to compare with </p>\n\n<pre><code>val secondDoc = XSSFWorkbook(Test::class.java.getClassLoader().getResource(\"yourfile.xlsx\").path)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29835916,"reputation":1,"user_id":22865277,"display_name":"Ico Kostov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699255814,"creation_date":1699255814,"answer_id":77429402,"question_id":866346,"body_markdown":"Best way for me after a long research:\r\nUsing Apachi POI as external library\r\nUsing XSSF for xlsx files. \r\nIf you want to compare xls files have to use HSSF\r\n\r\nGood luck\r\n\r\n    public static void compareTwoExcellFiles04(String file01, String file02) throws IOException {\r\n        try\r\n        {\r\n            File file1 = new File(file01);\r\n            File file2 = new File(file02);\r\n            FileInputStream fis1 = new FileInputStream(file1);\r\n            FileInputStream fis2 = new FileInputStream(file2);\r\n            XSSFWorkbook wb1 = new XSSFWorkbook(fis1);\r\n            XSSFWorkbook wb2 = new XSSFWorkbook(fis2);\r\n            XSSFSheet sheet1 = wb1.getSheetAt(0);\r\n            XSSFSheet sheet2 = wb2.getSheetAt(0);\r\n            ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n            for (Row row1 : sheet1) {\r\n                Iterator&lt;Cell&gt; cellIterator = row1.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell1 = cellIterator.next();\r\n                    arrayList1.add(cell1.getStringCellValue());\r\n                    }\r\n                }\r\n            for (Row row2 : sheet2) {\r\n                Iterator&lt;Cell&gt; cellIterator = row2.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell2 = cellIterator.next();\r\n                    arrayList2.add(cell2.getStringCellValue());\r\n                }\r\n            }\r\n        if (arrayList1.equals(arrayList2)){\r\n            System.out.println(&quot;the files are equal&quot;);\r\n        }else{\r\n            System.out.println(&quot;NOT EQUAL&quot;);\r\n        }\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Easiest way to compare two Excel files in Java?","body":"<p>Best way for me after a long research:\nUsing Apachi POI as external library\nUsing XSSF for xlsx files.\nIf you want to compare xls files have to use HSSF</p>\n<p>Good luck</p>\n<pre><code>public static void compareTwoExcellFiles04(String file01, String file02) throws IOException {\n    try\n    {\n        File file1 = new File(file01);\n        File file2 = new File(file02);\n        FileInputStream fis1 = new FileInputStream(file1);\n        FileInputStream fis2 = new FileInputStream(file2);\n        XSSFWorkbook wb1 = new XSSFWorkbook(fis1);\n        XSSFWorkbook wb2 = new XSSFWorkbook(fis2);\n        XSSFSheet sheet1 = wb1.getSheetAt(0);\n        XSSFSheet sheet2 = wb2.getSheetAt(0);\n        ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\n        for (Row row1 : sheet1) {\n            Iterator&lt;Cell&gt; cellIterator = row1.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell1 = cellIterator.next();\n                arrayList1.add(cell1.getStringCellValue());\n                }\n            }\n        for (Row row2 : sheet2) {\n            Iterator&lt;Cell&gt; cellIterator = row2.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell2 = cellIterator.next();\n                arrayList2.add(cell2.getStringCellValue());\n            }\n        }\n    if (arrayList1.equals(arrayList2)){\n        System.out.println(&quot;the files are equal&quot;);\n    }else{\n        System.out.println(&quot;NOT EQUAL&quot;);\n    }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64912,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":867390,"answer_count":12,"score":20,"last_activity_date":1699255814,"creation_date":1242342978,"question_id":866346,"body_markdown":"I&#39;m writing a JUnit test for some code that produces an Excel file (which is binary). I have another Excel file that contains my expected output. What&#39;s the easiest way to compare the actual file to the expected file?\r\n\r\nSure I could write the code myself, but I was wondering if there&#39;s an existing method in a trusted third-party library (e.g. Spring or Apache Commons) that already does this.","title":"Easiest way to compare two Excel files in Java?","body":"<p>I'm writing a JUnit test for some code that produces an Excel file (which is binary). I have another Excel file that contains my expected output. What's the easiest way to compare the actual file to the expected file?</p>\n\n<p>Sure I could write the code myself, but I was wondering if there's an existing method in a trusted third-party library (e.g. Spring or Apache Commons) that already does this.</p>\n"},{"tags":["java","spring","spring-boot","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699255209,"creation_date":1681701573,"answer_id":76031503,"question_id":76031419,"body_markdown":"There are three things you can check or do:\r\n\r\n1. Check the version of Spring Boot. For example, Spring Boot 3.X baseline requires Java 17.\r\n2. Specify explicitly the required Java version in the parent `pom.xml` (and apply it to all modules as well).\r\n   ```xml\r\n   &lt;properties&gt;\r\n       &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   ```\r\n3. In case you use `maven-compiler-plugin`, you also want to check the version in its properties:\r\n   ```xml\r\n   &lt;properties&gt;\r\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n   &lt;/properties&gt;\r\n   ```\r\n   Alternatively, specify it inside the plugin configuration itself:\r\n   ```xml\r\n   &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n   &lt;/plugin&gt;\r\n   ```\r\n\r\nYou can also refer to `${java.version}` across the `pom.xml` files.","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>There are three things you can check or do:</p>\n<ol>\n<li>Check the version of Spring Boot. For example, Spring Boot 3.X baseline requires Java 17.</li>\n<li>Specify explicitly the required Java version in the parent <code>pom.xml</code> (and apply it to all modules as well).\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n</li>\n<li>In case you use <code>maven-compiler-plugin</code>, you also want to check the version in its properties:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\nAlternatively, specify it inside the plugin configuration itself:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;source&gt;1.8&lt;/source&gt;\n         &lt;target&gt;1.8&lt;/target&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n</li>\n</ol>\n<p>You can also refer to <code>${java.version}</code> across the <code>pom.xml</code> files.</p>\n"},{"tags":[],"owner":{"account_id":20087529,"reputation":1,"user_id":15739237,"display_name":"Aliaksei Halkin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687519931,"creation_date":1687519616,"answer_id":76539648,"question_id":76031419,"body_markdown":"If you are using JDK &gt;17 and up-to-date libraries like Spring 6, use version 5.1.0 (Release Notes). If you are on older JDK or library, use version 4.44.0 (documentation).\r\n[Look on it][1]\r\n \r\nIt seems to me that ypu should use 4.44.0\r\nIt  worked for me when I corrected with problem\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/ShedLock#jdbctemplate","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>If you are using JDK &gt;17 and up-to-date libraries like Spring 6, use version 5.1.0 (Release Notes). If you are on older JDK or library, use version 4.44.0 (documentation).\n<a href=\"https://github.com/lukas-krecan/ShedLock#jdbctemplate\" rel=\"nofollow noreferrer\">Look on it</a></p>\n<p>It seems to me that ypu should use 4.44.0\nIt  worked for me when I corrected with problem</p>\n"}],"owner":{"account_id":23148453,"reputation":27,"user_id":17250890,"display_name":"Ege Pancaroğlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76031503,"answer_count":2,"score":1,"last_activity_date":1699255209,"creation_date":1681700020,"question_id":76031419,"body_markdown":"I want to create a Spring Boot project on Intellij Idea and i choose Java 8 and Java 1.8 sdk but when i open the pom.xml i saw my java version is 17 !? how can it possible ? \r\n\r\nWhen i run my project i see this message below and how can my jars version 6.0.7 ?;\r\n\r\n    java: cannot access org.springframework.http.HttpStatus\r\n      bad class file: /C:/Users/eegee/.m2/repository/org/springframework/spring-web/6.0.7/spring-web-6.0.7.jar!/org/springframework/http/HttpStatus.class\r\n        class file has wrong version 61.0, should be 52.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\n","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>I want to create a Spring Boot project on Intellij Idea and i choose Java 8 and Java 1.8 sdk but when i open the pom.xml i saw my java version is 17 !? how can it possible ?</p>\n<p>When i run my project i see this message below and how can my jars version 6.0.7 ?;</p>\n<pre><code>java: cannot access org.springframework.http.HttpStatus\n  bad class file: /C:/Users/eegee/.m2/repository/org/springframework/spring-web/6.0.7/spring-web-6.0.7.jar!/org/springframework/http/HttpStatus.class\n    class file has wrong version 61.0, should be 52.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9779,"page":78,"page_size":100}
