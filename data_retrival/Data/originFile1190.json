{"items":[{"tags":["java","android","android-studio","camera","filechooser"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1657713444,"post_id":72965812,"comment_id":128874768,"body_markdown":"File choosers have no camera option. Its unclear what you have in mind.","body":"File choosers have no camera option. Its unclear what you have in mind."},{"owner":{"account_id":24660428,"reputation":11,"user_id":18556704,"display_name":"Suraj D"},"score":0,"creation_date":1657776417,"post_id":72965812,"comment_id":128891775,"body_markdown":"@blackaps i want two options in  popup 1-Camera option &amp; 2- File","body":"@blackaps i want two options in  popup 1-Camera option &amp; 2- File"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1657776520,"post_id":72965812,"comment_id":128891788,"body_markdown":"You can use a double intent for that. Or build your own &#39;popup&#39;. What is the problem exactly?","body":"You can use a double intent for that. Or build your own &#39;popup&#39;. What is the problem exactly?"},{"owner":{"account_id":7833039,"reputation":469,"user_id":5922263,"display_name":"Ajowi"},"score":0,"creation_date":1663500712,"post_id":72965812,"comment_id":130250135,"body_markdown":"Pure File-chooser does not invoke camera. It is a bit complicated but you will need to sandwich a camera intent inside.","body":"Pure File-chooser does not invoke camera. It is a bit complicated but you will need to sandwich a camera intent inside."}],"owner":{"account_id":24660428,"reputation":11,"user_id":18556704,"display_name":"Suraj D"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657713115,"creation_date":1657713115,"question_id":72965812,"body_markdown":"I want to implement file chooser with camera option.When we select `Camera` images should be captured and the path of captured image should displayed on textview.and file chooser should be with `pdf`,`word`,`png` and `jpeg` validation. I tired fileChhoser only but I dont Understand how to implement camera option in that.\r\n\r\nThe code i have used \r\n\r\n      ActivityResultLauncher&lt;Intent&gt; sActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @SuppressLint(&quot;Range&quot;)\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode()== Activity.RESULT_OK){\r\n                        Intent data = result.getData();\r\n                        Intent data1 = result.getData();\r\n                        Uri uri = data.getData();\r\n                        Uri uri1 = data1.getData();\r\n                        String uriString = uri.toString();\r\n                        String uriString1 = uri1.toString();\r\n                        File myFile = new File(uriString1);\r\n                        String path = myFile.getAbsolutePath();\r\n                        String displayName = null;\r\n                        String displayName1= null;\r\n                        if (uriString.startsWith(&quot;content://&quot;)) {\r\n                            Cursor cursor = null;\r\n                            try {\r\n                                cursor = getApplicationContext().getContentResolver().query(uri, null, null, null, null);\r\n                                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                                    displayName = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\r\n                                    //   displayName1 = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\r\n                                    Log.i(&quot;displayname&quot;,&quot;&quot;+displayName);\r\n                                    fileidname.setText(displayName);\r\n                                }\r\n                            } finally {\r\n                                cursor.close();\r\n                            }\r\n                        } else if (uriString.startsWith(&quot;file://&quot;)) {\r\n                            displayName = myFile.getName();\r\n                            //  displayName1= myFile.getName();\r\n                            Log.i(&quot;displayname1&quot;,&quot;&quot;+displayName);\r\n                            fileidname.setText(displayName);\r\n                        }\r\n                        \r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; sActivityResultLauncher1 = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @SuppressLint(&quot;Range&quot;)\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode()== Activity.RESULT_OK){\r\n                        //Intent data = result.getData();\r\n                        Intent data1 = result.getData();\r\n                        // Uri uri = data.getData();\r\n                        Uri uri1 = data1.getData();\r\n                        // String uriString = uri.toString();\r\n                        String uriString1 = uri1.toString();\r\n                        File myFile = new File(uriString1);\r\n                        String path = myFile.getAbsolutePath();\r\n                        String displayName = null;\r\n                        String displayName1= null;\r\n\r\n                        if (uriString1.startsWith(&quot;content://&quot;)) {\r\n                            Cursor cursor = null;\r\n                            try {\r\n                                cursor = getApplicationContext().getContentResolver().query(uri1, null, null, null, null);\r\n                                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                                    // displayName = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\r\n                                    displayName1 = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\r\n                                    Log.i(&quot;displayname&quot;,&quot;&quot;+displayName);\r\n                                    fileidname1.setText(displayName1);\r\n                                }\r\n                            } finally {\r\n                                cursor.close();\r\n                            }\r\n                        } else if (uriString1.startsWith(&quot;file://&quot;)) {\r\n                            //displayName = myFile.getName();\r\n                            displayName1= myFile.getName();\r\n                            Log.i(&quot;displayname1&quot;,&quot;&quot;+displayName);\r\n                            fileidname1.setText(displayName1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    );\r\n    public void OpenfileDialog(View view) {\r\n\r\n        Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        data.setType(&quot;*/*&quot;);\r\n        String[] mimeTypes = {&quot;image/*&quot;,&quot;application/pdf&quot;};\r\n        data.putExtra(Intent.EXTRA_MIME_TYPES,mimeTypes);\r\n        data = Intent.createChooser(data,&quot;Choose a file&quot;);\r\n        sActivityResultLauncher.launch(data);\r\n    }\r\n\r\n    public void OpenfileDialog1(View view) {\r\n\r\n        Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        data.setType(&quot;*/*&quot;);\r\n        String[] mimeTypes = {&quot;image/*&quot;,&quot;application/pdf&quot;};\r\n        data.putExtra(Intent.EXTRA_MIME_TYPES,mimeTypes);\r\n        data = Intent.createChooser(data,&quot;Choose a file&quot;);\r\n        sActivityResultLauncher1.launch(data);\r\n    }","title":"How to create file chooser with camera option in android Studio?","body":"<p>I want to implement file chooser with camera option.When we select <code>Camera</code> images should be captured and the path of captured image should displayed on textview.and file chooser should be with <code>pdf</code>,<code>word</code>,<code>png</code> and <code>jpeg</code> validation. I tired fileChhoser only but I dont Understand how to implement camera option in that.</p>\n<p>The code i have used</p>\n<pre><code>  ActivityResultLauncher&lt;Intent&gt; sActivityResultLauncher = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @SuppressLint(&quot;Range&quot;)\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode()== Activity.RESULT_OK){\n                    Intent data = result.getData();\n                    Intent data1 = result.getData();\n                    Uri uri = data.getData();\n                    Uri uri1 = data1.getData();\n                    String uriString = uri.toString();\n                    String uriString1 = uri1.toString();\n                    File myFile = new File(uriString1);\n                    String path = myFile.getAbsolutePath();\n                    String displayName = null;\n                    String displayName1= null;\n                    if (uriString.startsWith(&quot;content://&quot;)) {\n                        Cursor cursor = null;\n                        try {\n                            cursor = getApplicationContext().getContentResolver().query(uri, null, null, null, null);\n                            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                                displayName = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\n                                //   displayName1 = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\n                                Log.i(&quot;displayname&quot;,&quot;&quot;+displayName);\n                                fileidname.setText(displayName);\n                            }\n                        } finally {\n                            cursor.close();\n                        }\n                    } else if (uriString.startsWith(&quot;file://&quot;)) {\n                        displayName = myFile.getName();\n                        //  displayName1= myFile.getName();\n                        Log.i(&quot;displayname1&quot;,&quot;&quot;+displayName);\n                        fileidname.setText(displayName);\n                    }\n                    \n                }\n            }\n        }\n);\n\n\nActivityResultLauncher&lt;Intent&gt; sActivityResultLauncher1 = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @SuppressLint(&quot;Range&quot;)\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode()== Activity.RESULT_OK){\n                    //Intent data = result.getData();\n                    Intent data1 = result.getData();\n                    // Uri uri = data.getData();\n                    Uri uri1 = data1.getData();\n                    // String uriString = uri.toString();\n                    String uriString1 = uri1.toString();\n                    File myFile = new File(uriString1);\n                    String path = myFile.getAbsolutePath();\n                    String displayName = null;\n                    String displayName1= null;\n\n                    if (uriString1.startsWith(&quot;content://&quot;)) {\n                        Cursor cursor = null;\n                        try {\n                            cursor = getApplicationContext().getContentResolver().query(uri1, null, null, null, null);\n                            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                                // displayName = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\n                                displayName1 = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\n                                Log.i(&quot;displayname&quot;,&quot;&quot;+displayName);\n                                fileidname1.setText(displayName1);\n                            }\n                        } finally {\n                            cursor.close();\n                        }\n                    } else if (uriString1.startsWith(&quot;file://&quot;)) {\n                        //displayName = myFile.getName();\n                        displayName1= myFile.getName();\n                        Log.i(&quot;displayname1&quot;,&quot;&quot;+displayName);\n                        fileidname1.setText(displayName1);\n                    }\n                }\n            }\n        }\n);\npublic void OpenfileDialog(View view) {\n\n    Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n    data.setType(&quot;*/*&quot;);\n    String[] mimeTypes = {&quot;image/*&quot;,&quot;application/pdf&quot;};\n    data.putExtra(Intent.EXTRA_MIME_TYPES,mimeTypes);\n    data = Intent.createChooser(data,&quot;Choose a file&quot;);\n    sActivityResultLauncher.launch(data);\n}\n\npublic void OpenfileDialog1(View view) {\n\n    Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n    data.setType(&quot;*/*&quot;);\n    String[] mimeTypes = {&quot;image/*&quot;,&quot;application/pdf&quot;};\n    data.putExtra(Intent.EXTRA_MIME_TYPES,mimeTypes);\n    data = Intent.createChooser(data,&quot;Choose a file&quot;);\n    sActivityResultLauncher1.launch(data);\n}\n</code></pre>\n"},{"tags":["java","logging","naming-conventions","slf4j"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1369217476,"post_id":16689009,"comment_id":24017392,"body_markdown":"`log` is half as long, that&#39;s a killer argument for me. Anyway, definitely not a contructive question.","body":"<code>log</code> is half as long, that&#39;s a killer argument for me. Anyway, definitely not a contructive question."},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":1,"creation_date":1369217970,"post_id":16689009,"comment_id":24017648,"body_markdown":"Not a constructive question.","body":"Not a constructive question."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1369219225,"post_id":16689009,"comment_id":24018319,"body_markdown":"Actually I think it&#39;s a fair question, about coding style. My opinion: use `log` of, if static, `LOG`.","body":"Actually I think it&#39;s a fair question, about coding style. My opinion: use <code>log</code> of, if static, <code>LOG</code>."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":3,"creation_date":1369220144,"post_id":16689009,"comment_id":24018812,"body_markdown":"It&#39;s a good question about coding style.","body":"It&#39;s a good question about coding style."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1369220517,"post_id":16689009,"comment_id":24019010,"body_markdown":"@vikingsteve You see, you said &quot;my opinion&quot; =&gt; *not constructive*.","body":"@vikingsteve You see, you said &quot;my opinion&quot; =&gt; <i>not constructive</i>."},{"owner":{"account_id":446975,"reputation":2666,"user_id":840333,"accept_rate":67,"display_name":"Joel Westberg"},"score":4,"creation_date":1372441239,"post_id":16689009,"comment_id":25211818,"body_markdown":"The Logger is usually the most ubiquitous object in any mature Java project, and as such, I believe it&#39;s reasonable to consider it&#39;s impact from a code style point of view. Or are coding style questions always out of bounds on SO? I was not under that impression.","body":"The Logger is usually the most ubiquitous object in any mature Java project, and as such, I believe it&#39;s reasonable to consider it&#39;s impact from a code style point of view. Or are coding style questions always out of bounds on SO? I was not under that impression."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1657700093,"post_id":16689009,"comment_id":128870126,"body_markdown":"Naming conventions are important and must be consistent across a project. The most important is to not mix &quot;log&quot; &quot;logger&quot; or even &quot;LOG&quot;. I&#39;ve got 10000 classes to maintain and the last thing I wan&#39;t to ask to myself when editing a class is &quot;how is it named here?&quot;. It&#39;s not opinion, it&#39;s clean code.","body":"Naming conventions are important and must be consistent across a project. The most important is to not mix &quot;log&quot; &quot;logger&quot; or even &quot;LOG&quot;. I&#39;ve got 10000 classes to maintain and the last thing I wan&#39;t to ask to myself when editing a class is &quot;how is it named here?&quot;. It&#39;s not opinion, it&#39;s clean code."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1657713113,"creation_date":1369217566,"answer_id":16689132,"question_id":16689009,"body_markdown":"&gt; Is there perhaps even a third option for naming that pesky Logger? \r\n\r\nYou can call it anything you like.  Even `lumberjack`, if it makes you feel happy&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n&gt; What do you use in your projects, and why?\r\n\r\nI use the class name as given by the logging framework that I&#39;m currently using.  These days, I tend the SLF4J logging facade library so that people who might reuse my code are not hampered by my choice of logging.\r\n\r\nI tend to use `log` as the name of the instance variable, or `LOG` if it is a `static final`.  Why?  Because 1) it is conventional and 2) it is fewer characters.  Either way, the reader will quickly learn the convention I use in my code.\r\n\r\nI do agree that it is important to be consistent across each codebase that you work on.  But I don&#39;t think that your boss is going to approve your overtime to fix inconsistent naming of your loggers across 10,000 files.  Nor do I think your co-workers would appreciate having to code-review the changes. It is not *that* important.\r\n\r\n---------------------\r\n\r\n&lt;sub&gt;1 - and that just about sums up my opinion of this question ...&lt;/sub&gt;","title":"Java logging: is it log or logger?","body":"<blockquote>\n<p>Is there perhaps even a third option for naming that pesky Logger?</p>\n</blockquote>\n<p>You can call it anything you like.  Even <code>lumberjack</code>, if it makes you feel happy<sup>1</sup>.</p>\n<blockquote>\n<p>What do you use in your projects, and why?</p>\n</blockquote>\n<p>I use the class name as given by the logging framework that I'm currently using.  These days, I tend the SLF4J logging facade library so that people who might reuse my code are not hampered by my choice of logging.</p>\n<p>I tend to use <code>log</code> as the name of the instance variable, or <code>LOG</code> if it is a <code>static final</code>.  Why?  Because 1) it is conventional and 2) it is fewer characters.  Either way, the reader will quickly learn the convention I use in my code.</p>\n<p>I do agree that it is important to be consistent across each codebase that you work on.  But I don't think that your boss is going to approve your overtime to fix inconsistent naming of your loggers across 10,000 files.  Nor do I think your co-workers would appreciate having to code-review the changes. It is not <em>that</em> important.</p>\n<hr />\n<p><sub>1 - and that just about sums up my opinion of this question ...</sub></p>\n"}],"owner":{"account_id":446975,"reputation":2666,"user_id":840333,"accept_rate":67,"display_name":"Joel Westberg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"closed_date":1369228280,"answer_count":1,"score":2,"last_activity_date":1657713113,"creation_date":1369217116,"question_id":16689009,"body_markdown":"Every now and then I run across code that looks like this:\r\n\r\n    private final Logger log = LoggerFactory.getLogger(MyClass.class);\r\n\r\nLet&#39;s assume this is an [`slf4j`][1] logger object. If one uses [Apache Commons Logging][2] even the class will be called `Log` rather than `Logger`. \r\n\r\nI&#39;ve been contemplating this issue a little and have listed a few pros/cons with the two options below:\r\n\r\n**Reasons for using `logger` instead of `log`**\r\n\r\n 1. **Purpose**: It is a writer of logs, not the log itself.\r\n 2. **Misleading**: `log` is an inherently misleading name, since the log cannot be read from.\r\n \r\n**Reasons for using `log` instead of `logger`**\r\n\r\n 1. **Method invocation readability**: The methods available on a Logger are typically named `info()`, `error()` et cetera. As such, `log.error()` becomes something akin to a command spoken out loud as in &quot;log this error&quot;, whereas `logger.error()` looks more like it would be reporting an error on the logger itself, not to mention what `logger.debug()` sounds like.\r\n\r\nSo, now the question. Is there perhaps even a third option for naming that pesky Logger? What do you use in your projects, and why?\r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://commons.apache.org/logging/%E2%80%8E","title":"Java logging: is it log or logger?","body":"<p>Every now and then I run across code that looks like this:</p>\n\n<pre><code>private final Logger log = LoggerFactory.getLogger(MyClass.class);\n</code></pre>\n\n<p>Let's assume this is an <a href=\"http://www.slf4j.org/\" rel=\"nofollow\"><code>slf4j</code></a> logger object. If one uses <a href=\"http://commons.apache.org/logging/%E2%80%8E\" rel=\"nofollow\">Apache Commons Logging</a> even the class will be called <code>Log</code> rather than <code>Logger</code>. </p>\n\n<p>I've been contemplating this issue a little and have listed a few pros/cons with the two options below:</p>\n\n<p><strong>Reasons for using <code>logger</code> instead of <code>log</code></strong></p>\n\n<ol>\n<li><strong>Purpose</strong>: It is a writer of logs, not the log itself.</li>\n<li><strong>Misleading</strong>: <code>log</code> is an inherently misleading name, since the log cannot be read from.</li>\n</ol>\n\n<p><strong>Reasons for using <code>log</code> instead of <code>logger</code></strong></p>\n\n<ol>\n<li><strong>Method invocation readability</strong>: The methods available on a Logger are typically named <code>info()</code>, <code>error()</code> et cetera. As such, <code>log.error()</code> becomes something akin to a command spoken out loud as in \"log this error\", whereas <code>logger.error()</code> looks more like it would be reporting an error on the logger itself, not to mention what <code>logger.debug()</code> sounds like.</li>\n</ol>\n\n<p>So, now the question. Is there perhaps even a third option for naming that pesky Logger? What do you use in your projects, and why?</p>\n"},{"tags":["java","android","android-studio","mobile","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":12954227,"reputation":3,"user_id":9365602,"display_name":"Nandatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657713085,"creation_date":1657713085,"answer_id":72965800,"question_id":72961587,"body_markdown":"I&#39;ve fixed this. So I just learned that there&#39;s a thing called Thread in developing Android Mobile App. What I&#39;m trying to do is making the app show toast from the thread. I&#39;ve fixed this problem by following answer from this. [https://stackoverflow.com/questions/3875184/cant-create-handler-inside-thread-that-has-not-called-looper-prepare][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3875184/cant-create-handler-inside-thread-that-has-not-called-looper-prepare","title":"How to toast when I&#39;ve done 5 push ups in MLKit Pose Classification","body":"<p>I've fixed this. So I just learned that there's a thing called Thread in developing Android Mobile App. What I'm trying to do is making the app show toast from the thread. I've fixed this problem by following answer from this. <a href=\"https://stackoverflow.com/questions/3875184/cant-create-handler-inside-thread-that-has-not-called-looper-prepare\">Can&#39;t create handler inside thread that has not called Looper.prepare()</a></p>\n"}],"owner":{"account_id":12954227,"reputation":3,"user_id":9365602,"display_name":"Nandatto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657713085,"creation_date":1657692132,"question_id":72961587,"body_markdown":"so my problem is I&#39;ve been trying to make the app toast when I&#39;ve done 5 push ups but I can&#39;t make it work. I&#39;ve been trying to write the toast code using the repsAfter value in the PoseClassifierProcessor, there&#39;s error because the class doesnt extend AppCompactActivity. After that I write the the toast code in another activity and use the value repsAfter value from PoseClassifierProcessor and I still can&#39;t make it work. ","title":"How to toast when I&#39;ve done 5 push ups in MLKit Pose Classification","body":"<p>so my problem is I've been trying to make the app toast when I've done 5 push ups but I can't make it work. I've been trying to write the toast code using the repsAfter value in the PoseClassifierProcessor, there's error because the class doesnt extend AppCompactActivity. After that I write the the toast code in another activity and use the value repsAfter value from PoseClassifierProcessor and I still can't make it work.</p>\n"},{"tags":["java","linux","spring","file"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1657712950,"post_id":72965753,"comment_id":128874593,"body_markdown":"`Would a timeout help in this case before checking the file` haven&#39;t you yet tried?","body":"<code>Would a timeout help in this case before checking the file</code> haven&#39;t you yet tried?"},{"owner":{"account_id":16290924,"reputation":70,"user_id":11764419,"display_name":"Łukasz Karasiński"},"score":1,"creation_date":1657713118,"post_id":72965753,"comment_id":128874653,"body_markdown":"I had similar issue, in my case adding few milliseconds of timeout helped","body":"I had similar issue, in my case adding few milliseconds of timeout helped"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1657713299,"post_id":72965753,"comment_id":128874715,"body_markdown":"I would recommend using the newer `java.nio.file.Files` instead of the older java.io facilities. Anyway, how are you creating the file? If it&#39;s through an OutputStream, try calling `flush()` before checking it. Also, be aware that checking existence with the `exists()` call does not guarantee the file will still exist when you try to use it. It only means the file existed at the time the `exists` method itself had checked it. By the time the `exists()` method returns, the file may have been deleted by some other thread or process.","body":"I would recommend using the newer <code>java.nio.file.Files</code> instead of the older java.io facilities. Anyway, how are you creating the file? If it&#39;s through an OutputStream, try calling <code>flush()</code> before checking it. Also, be aware that checking existence with the <code>exists()</code> call does not guarantee the file will still exist when you try to use it. It only means the file existed at the time the <code>exists</code> method itself had checked it. By the time the <code>exists()</code> method returns, the file may have been deleted by some other thread or process."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1657713417,"post_id":72965753,"comment_id":128874754,"body_markdown":"How do you know the &quot;time file existence was checked&quot;?","body":"How do you know the &quot;time file existence was checked&quot;?"},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1657713549,"post_id":72965753,"comment_id":128874808,"body_markdown":"@Olivier I knew it thru the logs in the same server, the logger is org.slf4j.Logger object.","body":"@Olivier I knew it thru the logs in the same server, the logger is org.slf4j.Logger object."},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1657713565,"post_id":72965753,"comment_id":128874816,"body_markdown":"@Alexey not yet because it&#39;s an issue in production and I haven&#39;t touched any codes yet, was just wondering about the possibility of this as just a timing issue.\n\nThanks everyone, the comments very insightful!","body":"@Alexey not yet because it&#39;s an issue in production and I haven&#39;t touched any codes yet, was just wondering about the possibility of this as just a timing issue.  Thanks everyone, the comments very insightful!"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1657713753,"post_id":72965753,"comment_id":128874888,"body_markdown":"Then it&#39;s the time of the log. The time of the file check is a bit earlier, and nothing proves that, when you checked for the file existence, it already existed.","body":"Then it&#39;s the time of the log. The time of the file check is a bit earlier, and nothing proves that, when you checked for the file existence, it already existed."},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1657714272,"post_id":72965753,"comment_id":128875084,"body_markdown":"@Olivier that&#39;s a good point but I believe the creation process triggered the process which checks the file. I will take a look more! thank you!","body":"@Olivier that&#39;s a good point but I believe the creation process triggered the process which checks the file. I will take a look more! thank you!"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1657723654,"post_id":72965753,"comment_id":128879192,"body_markdown":"You never specified who creates the file before your application checks its existence (another process or the app itself - in the same thread that does the check or in another one)","body":"You never specified who creates the file before your application checks its existence (another process or the app itself - in the same thread that does the check or in another one)"},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1659718424,"post_id":72965753,"comment_id":129369236,"body_markdown":"@dekkard the process which creates the file can be in another machine, after that an event is sent and another process checks its existence in another machine. The file is in an nfs directory mounted to those machines. Also, an update, I tried adding a retry mechanism with exponential backoff in that process and it now retries 10 times up to a minute and still wouldn&#39;t find the file. I&#39;m really stuck atm. It&#39;s very hard to reproduce the error as well, it happens intermittently.","body":"@dekkard the process which creates the file can be in another machine, after that an event is sent and another process checks its existence in another machine. The file is in an nfs directory mounted to those machines. Also, an update, I tried adding a retry mechanism with exponential backoff in that process and it now retries 10 times up to a minute and still wouldn&#39;t find the file. I&#39;m really stuck atm. It&#39;s very hard to reproduce the error as well, it happens intermittently."}],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657712870,"creation_date":1657712870,"question_id":72965753,"body_markdown":"I&#39;m investigating an issue when a Java application fails to find the file \r\n\r\n```\r\nif (!event.getCurrentPath().toFile().exists()) {\r\n            logger.info(&quot;File in {} does not exist.&quot;, event.getCurrentPath());\r\n```\r\n\r\nIt uses toFile method from Path.java in package java.io.File.\r\n\r\nThe process runs on the same machine and if I check the time the file was created using the command:\r\n\r\n```\r\nls -alh /dir/file --time-style=full-iso\r\n```\r\n\r\nI see that the file is being created before it&#39;s being checked.\r\n\r\n```\r\n10:00:29.493211000 time file created/updated\r\n10:00:29.538       time file existence was checked\r\n```\r\n\r\nWould a timeout help in this case before checking the file? Has this ever happened to anyone? Any advice would be appreciated!","title":"Is it possible for file check to fail if it happened few milliseconds after the file was created?","body":"<p>I'm investigating an issue when a Java application fails to find the file</p>\n<pre><code>if (!event.getCurrentPath().toFile().exists()) {\n            logger.info(&quot;File in {} does not exist.&quot;, event.getCurrentPath());\n</code></pre>\n<p>It uses toFile method from Path.java in package java.io.File.</p>\n<p>The process runs on the same machine and if I check the time the file was created using the command:</p>\n<pre><code>ls -alh /dir/file --time-style=full-iso\n</code></pre>\n<p>I see that the file is being created before it's being checked.</p>\n<pre><code>10:00:29.493211000 time file created/updated\n10:00:29.538       time file existence was checked\n</code></pre>\n<p>Would a timeout help in this case before checking the file? Has this ever happened to anyone? Any advice would be appreciated!</p>\n"},{"tags":["java","rest","jaxb","persistence","jpa-2.0"],"answers":[{"tags":[],"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338452782,"creation_date":1338452782,"answer_id":10829928,"question_id":10552609,"body_markdown":"I think your question is not about &quot;yes, serialise it, but don&#39;t deserialize it&quot;, but rather: transport the data client --&gt; server, but not server --&gt; client. You *do* want your server to deserialize the incoming `byte[]` data, right? You just don&#39;t want to (always?) sent it out when returning the entity.\r\n\r\nIf that is the case, you can simply set it to null before you send out the entity. In your REST resource, do something like this:\r\n\r\n    @PersistenceContext(unitName = &quot;myPersistenceUnit&quot;)\r\n    privat EntityManager em;\r\n\r\n    @Path(&quot;/upload&quot;)\r\n    @POST\r\n    public Response storeAttachment(JAXBElement&lt;Attachment&gt; jaxbAttachment) {\r\n      Attachment attachment = jaxbAttachment.getValue();\r\n\r\n      // store it in the DB\r\n      em.persist(attachment);\r\n      \r\n      // detach it, so that modifications are no longer reflected in the database\r\n      em.detach(attachment);\r\n\r\n      // modify your guts out, it&#39;ll only affect this instance\r\n      attachment.setDataPart(null);   // &lt;-- NPE if you don&#39;t get rid of .clone() in your entity\r\n\r\n      URI newUri = ...\r\n      return Response.created(newUri).entity(attachment).build();\r\n    }","title":"@XmlTransient for serialization but not for deserialisation?","body":"<p>I think your question is not about \"yes, serialise it, but don't deserialize it\", but rather: transport the data client --> server, but not server --> client. You <em>do</em> want your server to deserialize the incoming <code>byte[]</code> data, right? You just don't want to (always?) sent it out when returning the entity.</p>\n\n<p>If that is the case, you can simply set it to null before you send out the entity. In your REST resource, do something like this:</p>\n\n<pre><code>@PersistenceContext(unitName = \"myPersistenceUnit\")\nprivat EntityManager em;\n\n@Path(\"/upload\")\n@POST\npublic Response storeAttachment(JAXBElement&lt;Attachment&gt; jaxbAttachment) {\n  Attachment attachment = jaxbAttachment.getValue();\n\n  // store it in the DB\n  em.persist(attachment);\n\n  // detach it, so that modifications are no longer reflected in the database\n  em.detach(attachment);\n\n  // modify your guts out, it'll only affect this instance\n  attachment.setDataPart(null);   // &lt;-- NPE if you don't get rid of .clone() in your entity\n\n  URI newUri = ...\n  return Response.created(newUri).entity(attachment).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338453237,"creation_date":1338453237,"answer_id":10830022,"question_id":10552609,"body_markdown":"Just in case you *do* want to only serialize something, but never deserialize it, use `@XmlAccessorType(XmlAccessType.FIELD)` and only provide an `@XmlElement` annotated getter.\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Something {\r\n\r\n      public Integer foo;\r\n\r\n      public Integer getFoo() {\r\n        return foo;\r\n      }\r\n\r\n      public void setFoo(Integer foo) {\r\n        this.foo = foo;\r\n      }\r\n\r\n      @XmlElement\r\n      public Integer getBar() {\r\n        return 42;\r\n      }\r\n    }\r\n\r\n(Assuming `foo` is set to 17), this will marshall into\r\n\r\n    &lt;something&gt;\r\n      &lt;foo&gt;17&lt;/foo&gt;\r\n      &lt;bar&gt;42&lt;/bar&gt;\r\n    &lt;/something&gt;\r\n\r\nIf you deserialize that (with the same class definition), `bar` will not be set by the unmarshaller (since it cannot find a setter).","title":"@XmlTransient for serialization but not for deserialisation?","body":"<p>Just in case you <em>do</em> want to only serialize something, but never deserialize it, use <code>@XmlAccessorType(XmlAccessType.FIELD)</code> and only provide an <code>@XmlElement</code> annotated getter.</p>\n\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Something {\n\n  public Integer foo;\n\n  public Integer getFoo() {\n    return foo;\n  }\n\n  public void setFoo(Integer foo) {\n    this.foo = foo;\n  }\n\n  @XmlElement\n  public Integer getBar() {\n    return 42;\n  }\n}\n</code></pre>\n\n<p>(Assuming <code>foo</code> is set to 17), this will marshall into</p>\n\n<pre><code>&lt;something&gt;\n  &lt;foo&gt;17&lt;/foo&gt;\n  &lt;bar&gt;42&lt;/bar&gt;\n&lt;/something&gt;\n</code></pre>\n\n<p>If you deserialize that (with the same class definition), <code>bar</code> will not be set by the unmarshaller (since it cannot find a setter).</p>\n"},{"tags":[],"owner":{"account_id":340908,"reputation":980,"user_id":671187,"accept_rate":68,"display_name":"martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1338543219,"creation_date":1338543219,"answer_id":10847815,"question_id":10552609,"body_markdown":"I have to answer the question myself =)\r\nI solved this by using a custom XmlAdapter that will tranlsate the binary data only in one direction. This is still a hack and we are not using this any more. Reasons below.\r\n\r\n\r\nHere is the adapter:\r\n\r\n    public class DuplexBase64MarshallAdapter extends XmlAdapter&lt;String, byte[]&gt; {\r\n\r\n            /**\r\n             * running the adapter in half duplex mode means, the incoming data is marshaled but the\r\n             * outgoing data not.\r\n             */\r\n            public static final boolean HALF_DUPLEX = false;\r\n\r\n            /**\r\n             * Running the adapter in full duplex means, the incoming and outgoing data is marshalled.\r\n             */\r\n            public static final boolean FULL_DUPLEX = true;\r\n\r\n            private boolean isFullDuplexMode;\r\n\r\n            public DuplexBase64MarshallAdapter() {\r\n                this.isFullDuplexMode = HALF_DUPLEX;\r\n            }\r\n\r\n            /**\r\n             * Constructor\r\n             * \r\n             * @param fullDuplex\r\n             *            use {@link #HALF_DUPLEX} or {@link #FULL_DUPLEX}\r\n             */\r\n            public DuplexBase64MarshallAdapter( boolean fullDuplex ) {\r\n                this.isFullDuplexMode = fullDuplex;\r\n            }\r\n\r\n            @Override\r\n            public byte[] unmarshal( String v ) throws Exception {\r\n                return Base64.decode( v );\r\n            }\r\n\r\n            /**\r\n             * Return always an empty string. We do not want to deliver binary content here.\r\n             */\r\n            @Override\r\n            public String marshal( byte[] v ) throws Exception {\r\n                if( isFullDuplexMode ) {\r\n                    return Base64.encodeBytes( v );\r\n                }\r\n                return &quot;&quot;;\r\n            }\r\n\r\n        }\r\n\r\nThe entity needs to be annotated with this adapter:\r\n\r\n    @Entity\r\n    @XmlRootElement\r\n    public class Attachment {\r\n\r\n        private String name;\r\n\r\n        private String mimeType;\r\n\r\n        private byte[] dataPart;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName( String name ) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getMimeType() {\r\n            return mimeType;\r\n        }\r\n\r\n        public void setMimeType( String mimeType ) {\r\n            this.mimeType = mimeType;\r\n        }\r\n\r\n        @XmlJavaTypeAdapter( DuplexBase64MarshallAdapter.class )\r\n        public byte[] getDataPart() {\r\n\r\n            return dataPart.clone();\r\n        }\r\n\r\n        public void setDataPart( byte[] dataPart ) {\r\n            this.dataPart = dataPart.clone();\r\n        }\r\n    }\r\n\r\n\r\nThis solution works as exepcted. But there is a drawback: One of the intentions was to not let hibernate load the binary data while processing/loading attachment data. But thats not how it works. The binary data is loaded by hibernate in this case because it is send to the XMLAdapter but not translated into base64 :(\r\n","title":"@XmlTransient for serialization but not for deserialisation?","body":"<p>I have to answer the question myself =)\nI solved this by using a custom XmlAdapter that will tranlsate the binary data only in one direction. This is still a hack and we are not using this any more. Reasons below.</p>\n\n<p>Here is the adapter:</p>\n\n<pre><code>public class DuplexBase64MarshallAdapter extends XmlAdapter&lt;String, byte[]&gt; {\n\n        /**\n         * running the adapter in half duplex mode means, the incoming data is marshaled but the\n         * outgoing data not.\n         */\n        public static final boolean HALF_DUPLEX = false;\n\n        /**\n         * Running the adapter in full duplex means, the incoming and outgoing data is marshalled.\n         */\n        public static final boolean FULL_DUPLEX = true;\n\n        private boolean isFullDuplexMode;\n\n        public DuplexBase64MarshallAdapter() {\n            this.isFullDuplexMode = HALF_DUPLEX;\n        }\n\n        /**\n         * Constructor\n         * \n         * @param fullDuplex\n         *            use {@link #HALF_DUPLEX} or {@link #FULL_DUPLEX}\n         */\n        public DuplexBase64MarshallAdapter( boolean fullDuplex ) {\n            this.isFullDuplexMode = fullDuplex;\n        }\n\n        @Override\n        public byte[] unmarshal( String v ) throws Exception {\n            return Base64.decode( v );\n        }\n\n        /**\n         * Return always an empty string. We do not want to deliver binary content here.\n         */\n        @Override\n        public String marshal( byte[] v ) throws Exception {\n            if( isFullDuplexMode ) {\n                return Base64.encodeBytes( v );\n            }\n            return \"\";\n        }\n\n    }\n</code></pre>\n\n<p>The entity needs to be annotated with this adapter:</p>\n\n<pre><code>@Entity\n@XmlRootElement\npublic class Attachment {\n\n    private String name;\n\n    private String mimeType;\n\n    private byte[] dataPart;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName( String name ) {\n        this.name = name;\n    }\n\n    public String getMimeType() {\n        return mimeType;\n    }\n\n    public void setMimeType( String mimeType ) {\n        this.mimeType = mimeType;\n    }\n\n    @XmlJavaTypeAdapter( DuplexBase64MarshallAdapter.class )\n    public byte[] getDataPart() {\n\n        return dataPart.clone();\n    }\n\n    public void setDataPart( byte[] dataPart ) {\n        this.dataPart = dataPart.clone();\n    }\n}\n</code></pre>\n\n<p>This solution works as exepcted. But there is a drawback: One of the intentions was to not let hibernate load the binary data while processing/loading attachment data. But thats not how it works. The binary data is loaded by hibernate in this case because it is send to the XMLAdapter but not translated into base64 :(</p>\n"},{"tags":[],"owner":{"account_id":3002120,"reputation":1,"user_id":2547418,"display_name":"codigoalvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657712782,"creation_date":1450904421,"answer_id":34443642,"question_id":10552609,"body_markdown":"I had same problem. Your answer kind of put me in the right way.\r\nIf the problem is only the serialization, this does the trick:\r\n\r\n    \r\n    public class HalfDuplexXmlAdapter extends XmlAdapter&lt;String, String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String unmarshal(String value) throws Exception {\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String marshal(String value) throws Exception {\r\n    \t\t//ignore marshall so you have half duplex\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\n\r\nand then use it this way:\r\n    \r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class User {\r\n\r\n        String login;\r\n        \r\n        @XmlJavaTypeAdapter(HalfDuplexXmlAdapter.class)\r\n        String password;\r\n\r\n        // getters and setters\r\n    }\r\n\r\nSo this way, password send from client to server is serialized and deserialized, but when User is sent from server to client password is not serialized and/or deserialized, and so not sent (null).","title":"@XmlTransient for serialization but not for deserialisation?","body":"<p>I had same problem. Your answer kind of put me in the right way.\nIf the problem is only the serialization, this does the trick:</p>\n<pre><code>public class HalfDuplexXmlAdapter extends XmlAdapter&lt;String, String&gt; {\n\n    @Override\n    public String unmarshal(String value) throws Exception {\n        return value;\n    }\n\n    @Override\n    public String marshal(String value) throws Exception {\n        //ignore marshall so you have half duplex\n        return null;\n    }\n\n}\n</code></pre>\n<p>and then use it this way:</p>\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class User {\n\n    String login;\n    \n    @XmlJavaTypeAdapter(HalfDuplexXmlAdapter.class)\n    String password;\n\n    // getters and setters\n}\n</code></pre>\n<p>So this way, password send from client to server is serialized and deserialized, but when User is sent from server to client password is not serialized and/or deserialized, and so not sent (null).</p>\n"}],"owner":{"account_id":340908,"reputation":980,"user_id":671187,"accept_rate":68,"display_name":"martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3389,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10847815,"answer_count":4,"score":3,"last_activity_date":1657712782,"creation_date":1336743919,"question_id":10552609,"body_markdown":"Is there a way to configure the @XmlTransient JPA2.0 annotation that it will only block the JAXB mechanism when a Java-Object is serialized to xml and not when the incoming XML is transformed to a java object?\r\n\r\nBackground: I have a REST api which speaks XML. There is an endpoint to create a new Attachment object. As we speak of attachment there is a byte[] field in this class. In further listings of attachments i don&#39;t want to deliver the byte[] content of each attachment.\r\n\r\n\r\n    @Entity\r\n    @XmlRootElement\r\n    public class Attachment {\r\n\r\n    private String name;\r\n\r\n    private String mimeType;\r\n\r\n    private byte[] dataPart;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName( String name ) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getMimeType() {\r\n        return mimeType;\r\n    }\r\n\r\n    public void setMimeType( String mimeType ) {\r\n        this.mimeType = mimeType;\r\n    }\r\n\r\n    public byte[] getDataPart() {\r\n\r\n        return dataPart.clone();\r\n    }\r\n\r\n    public void setDataPart( byte[] dataPart ) {\r\n        this.dataPart = dataPart.clone();\r\n    }\r\n    }\r\n\r\n\r\nSo, when i mark the getDataPart() with XmlTransient, the data of the incoming byte[] is ignored and set to null -&gt; it&#39;s lost.\r\nAnyone an idea how to specifify the direction of the XmlTransient?\r\n ","title":"@XmlTransient for serialization but not for deserialisation?","body":"<p>Is there a way to configure the @XmlTransient JPA2.0 annotation that it will only block the JAXB mechanism when a Java-Object is serialized to xml and not when the incoming XML is transformed to a java object?</p>\n\n<p>Background: I have a REST api which speaks XML. There is an endpoint to create a new Attachment object. As we speak of attachment there is a byte[] field in this class. In further listings of attachments i don't want to deliver the byte[] content of each attachment.</p>\n\n<pre><code>@Entity\n@XmlRootElement\npublic class Attachment {\n\nprivate String name;\n\nprivate String mimeType;\n\nprivate byte[] dataPart;\n\npublic String getName() {\n    return name;\n}\n\npublic void setName( String name ) {\n    this.name = name;\n}\n\npublic String getMimeType() {\n    return mimeType;\n}\n\npublic void setMimeType( String mimeType ) {\n    this.mimeType = mimeType;\n}\n\npublic byte[] getDataPart() {\n\n    return dataPart.clone();\n}\n\npublic void setDataPart( byte[] dataPart ) {\n    this.dataPart = dataPart.clone();\n}\n}\n</code></pre>\n\n<p>So, when i mark the getDataPart() with XmlTransient, the data of the incoming byte[] is ignored and set to null -> it's lost.\nAnyone an idea how to specifify the direction of the XmlTransient?</p>\n"},{"tags":["java","session","jakarta-ee"],"comments":[{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":0,"creation_date":1330342169,"post_id":9464166,"comment_id":11974252,"body_markdown":"What class does your question refer to?","body":"What class does your question refer to?"},{"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"score":0,"creation_date":1330342276,"post_id":9464166,"comment_id":11974272,"body_markdown":"@ Andrew Logvinov see the edit","body":"@ Andrew Logvinov see the edit"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1330342637,"post_id":9464166,"comment_id":11974370,"body_markdown":"Read this to understand how sessions work: http://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-session-variables-and-multithreading","body":"Read this to understand how sessions work: <a href=\"http://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-session-variables-and-multithreading\" title=\"how do servlets work instantiation session variables and multithreading\">stackoverflow.com/questions/3106452/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1657712606,"creation_date":1330342396,"answer_id":9464312,"question_id":9464166,"body_markdown":"&gt; I read that isNew() returns true if the client has not yet responded with the session ID. But what does it mean ?\r\n\r\nConsider that the server is currently processing a request.  There are two scenarios with respect to session handling.\r\n\r\n  - In the new session scenario, a new session is being created for the user / client by the server.  (The client may have supplied no session id in the request, or it may have supplied a session id that the server thinks is invalid.) The application code of the servlet decides a session is required (e.g. because it has some information it wants to store there), and attempts to fetch it with the &quot;create if not present&quot; flag.  The servlet infrastructure realises that there is no current session, creates a new one with a new session id, and saves it in the session store.  At the completion of the request, the session id is returned to the client; e.g. as a cookie, or as a URL with session id attached.\r\n\r\n  - In the existing session scenario, the client has included a session id in the request; e.g. as a session cookie, or as a session id in the request URL.  The servlet infrastructure recognizes this id, looks it up in its session store and (if necessary) recreates the `HttpSession` object containing the session state retrieved from the session store.  When the application code of the servlet attempts to access the session, it gets this `HttpSession` object, not a new one.  The session state can then be used and updated by the servlet as it processes the request.\r\n\r\nIn the first scenario, calling `isNew()` on the session object will return `true` because this is a new session.\r\n\r\nIn the second scenario, calling `isNew()` on the session object will return `false` because this is NOT a new session.\r\n\r\n&gt; How does calling isNew() on the session object,check if the session is a new one or is already in use ?\r\n\r\nThe servlet infrastructure knows which of the two scenarios occurred because it did the session creation or session lookup.  The most obvious implementation of `isNew()` is to include a `private boolean` field in the `HttpSession` object, and return the value of that field as the result of `isNew()`.  The field would be initialized by the servlet infrastructure according to how it obtained the session object.  \r\n\r\nIf it would help, https://stackoverflow.com/questions/3106452 explains the larger context in which this all occurs.\r\n","title":"How does isNew() tell if the session is a new one or is already in use?","body":"<blockquote>\n<p>I read that isNew() returns true if the client has not yet responded with the session ID. But what does it mean ?</p>\n</blockquote>\n<p>Consider that the server is currently processing a request.  There are two scenarios with respect to session handling.</p>\n<ul>\n<li><p>In the new session scenario, a new session is being created for the user / client by the server.  (The client may have supplied no session id in the request, or it may have supplied a session id that the server thinks is invalid.) The application code of the servlet decides a session is required (e.g. because it has some information it wants to store there), and attempts to fetch it with the &quot;create if not present&quot; flag.  The servlet infrastructure realises that there is no current session, creates a new one with a new session id, and saves it in the session store.  At the completion of the request, the session id is returned to the client; e.g. as a cookie, or as a URL with session id attached.</p>\n</li>\n<li><p>In the existing session scenario, the client has included a session id in the request; e.g. as a session cookie, or as a session id in the request URL.  The servlet infrastructure recognizes this id, looks it up in its session store and (if necessary) recreates the <code>HttpSession</code> object containing the session state retrieved from the session store.  When the application code of the servlet attempts to access the session, it gets this <code>HttpSession</code> object, not a new one.  The session state can then be used and updated by the servlet as it processes the request.</p>\n</li>\n</ul>\n<p>In the first scenario, calling <code>isNew()</code> on the session object will return <code>true</code> because this is a new session.</p>\n<p>In the second scenario, calling <code>isNew()</code> on the session object will return <code>false</code> because this is NOT a new session.</p>\n<blockquote>\n<p>How does calling isNew() on the session object,check if the session is a new one or is already in use ?</p>\n</blockquote>\n<p>The servlet infrastructure knows which of the two scenarios occurred because it did the session creation or session lookup.  The most obvious implementation of <code>isNew()</code> is to include a <code>private boolean</code> field in the <code>HttpSession</code> object, and return the value of that field as the result of <code>isNew()</code>.  The field would be initialized by the servlet infrastructure according to how it obtained the session object.</p>\n<p>If it would help, <a href=\"https://stackoverflow.com/questions/3106452\">How do servlets work? Instantiation, sessions, shared variables and multithreading</a> explains the larger context in which this all occurs.</p>\n"}],"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30756,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":9464312,"answer_count":1,"score":11,"last_activity_date":1657712606,"creation_date":1330341704,"question_id":9464166,"body_markdown":"How does calling [`isNew()`][1] on the session object,check if the session is a new one or is already in use ?\r\n\r\nI read that `isNew()` returns true if the client has not yet responded with the session ID. But what does it mean ? Please explain\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpSession.html#isNew%28%29","title":"How does isNew() tell if the session is a new one or is already in use?","body":"<p>How does calling <a href=\"http://docs.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpSession.html#isNew%28%29\" rel=\"noreferrer\"><code>isNew()</code></a> on the session object,check if the session is a new one or is already in use ?</p>\n\n<p>I read that <code>isNew()</code> returns true if the client has not yet responded with the session ID. But what does it mean ? Please explain</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":24779243,"reputation":17,"user_id":18662733,"display_name":"Jaydeep"},"score":0,"creation_date":1657646358,"post_id":72956115,"comment_id":128858380,"body_markdown":"without use list.of method if used arraylist instead there is no issue","body":"without use list.of method if used arraylist instead there is no issue"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657646644,"creation_date":1657646644,"answer_id":72956175,"question_id":72956115,"body_markdown":"`List.of` is introduced starting from Java 9. So that you have to upgrade your Java to make use of one.","title":"List.of() method not found in spring boot application error","body":"<p><code>List.of</code> is introduced starting from Java 9. So that you have to upgrade your Java to make use of one.</p>\n"},{"tags":[],"owner":{"account_id":8690137,"reputation":13,"user_id":6503250,"display_name":"VISHNU PRAVEEN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657646903,"creation_date":1657646903,"answer_id":72956221,"question_id":72956115,"body_markdown":"You need atleast Java 9 for using List.of() function\r\nhttps://docs.oracle.com/javase/9/docs/api/java/util/List.html#immutable","title":"List.of() method not found in spring boot application error","body":"<p>You need atleast Java 9 for using List.of() function\n<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#immutable\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/List.html#immutable</a></p>\n"},{"tags":[],"owner":{"account_id":3202007,"reputation":467,"user_id":4349983,"accept_rate":80,"display_name":"Tracholar Zuo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657712496,"creation_date":1657712496,"answer_id":72965655,"question_id":72956115,"body_markdown":"You should upgrade to Java9 to use `List.of` function, or use `Arrays.asList` instead. \r\n","title":"List.of() method not found in spring boot application error","body":"<p>You should upgrade to Java9 to use <code>List.of</code> function, or use <code>Arrays.asList</code> instead.</p>\n"}],"owner":{"account_id":24779243,"reputation":17,"user_id":18662733,"display_name":"Jaydeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72965655,"answer_count":3,"score":0,"last_activity_date":1657712496,"creation_date":1657646268,"question_id":72956115,"body_markdown":"  \r\n1. I checked all imports they are correct the only error I am getting is while calling the `List.of()` method.\r\n\r\n```java\r\nUserDao user1 = new UserDao();\r\nuser1.setName(&quot;j&quot;);\r\nuser1.setUser_name(&quot;k&quot;);\r\nuser1.setPassword(&quot;l&quot;);\r\nuser1.setPhone(&quot;86632&quot;);\r\n    \r\nUserDao user2 = new UserDao();\r\nuser1.setName(&quot;j&quot;);\r\nuser1.setUser_name(&quot;k&quot;);\r\nuser1.setPassword(&quot;l&quot;);\r\nuser1.setPhone(&quot;86632&quot;);\r\n``` \r\n2. Here the `of` method is not found in spring tool suite I am on `jre1.8`\r\n    \r\n```\r\nList&lt;UserDao&gt; users = List.of(user1, user2);\r\nIterable&lt;UserDao&gt; itrb = userRepo.saveAll(users);\r\n```","title":"List.of() method not found in spring boot application error","body":"<ol>\n<li>I checked all imports they are correct the only error I am getting is while calling the <code>List.of()</code> method.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>UserDao user1 = new UserDao();\nuser1.setName(&quot;j&quot;);\nuser1.setUser_name(&quot;k&quot;);\nuser1.setPassword(&quot;l&quot;);\nuser1.setPhone(&quot;86632&quot;);\n    \nUserDao user2 = new UserDao();\nuser1.setName(&quot;j&quot;);\nuser1.setUser_name(&quot;k&quot;);\nuser1.setPassword(&quot;l&quot;);\nuser1.setPhone(&quot;86632&quot;);\n</code></pre>\n<ol start=\"2\">\n<li>Here the <code>of</code> method is not found in spring tool suite I am on <code>jre1.8</code></li>\n</ol>\n<pre><code>List&lt;UserDao&gt; users = List.of(user1, user2);\nIterable&lt;UserDao&gt; itrb = userRepo.saveAll(users);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1631113202,"post_id":69105319,"comment_id":122137293,"body_markdown":"Does this answer your question? [Spring Security 5 populating authorities based on JWT claims](https://stackoverflow.com/questions/59379645/spring-security-5-populating-authorities-based-on-jwt-claims)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59379645/spring-security-5-populating-authorities-based-on-jwt-claims\">Spring Security 5 populating authorities based on JWT claims</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1631115679,"post_id":69105319,"comment_id":122138423,"body_markdown":"Why are you using this custom `authorities` instead of scopes?","body":"Why are you using this custom <code>authorities</code> instead of scopes?"},{"owner":{"account_id":22670045,"reputation":11,"user_id":16841923,"display_name":"nenad.arbutina"},"score":0,"creation_date":1631115824,"post_id":69105319,"comment_id":122138490,"body_markdown":"@chrylis-cautiouslyoptimistic- I just followed a guide I found on the net, I have no experience on the subject","body":"@chrylis-cautiouslyoptimistic- I just followed a guide I found on the net, I have no experience on the subject"},{"owner":{"account_id":10711397,"reputation":126,"user_id":7883514,"display_name":"Satyam Singh"},"score":0,"creation_date":1631121089,"post_id":69105319,"comment_id":122140562,"body_markdown":"seems like error while decoding jwt token. Can you put some of your code logic where you are decoding JWT token ? It should be there in SecurityConfig class","body":"seems like error while decoding jwt token. Can you put some of your code logic where you are decoding JWT token ? It should be there in SecurityConfig class"},{"owner":{"account_id":22670045,"reputation":11,"user_id":16841923,"display_name":"nenad.arbutina"},"score":0,"creation_date":1631126531,"post_id":69105319,"comment_id":122142563,"body_markdown":"@SatyamSingh I added to original post the update of code, you are correct, something is off but I can&#39;t figure it out","body":"@SatyamSingh I added to original post the update of code, you are correct, something is off but I can&#39;t figure it out"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1631131642,"post_id":69105319,"comment_id":122144202,"body_markdown":"and what does your spring security debug logs look like. Please enable debug logging and post your logs here. 403 is most likely a CORS issue.","body":"and what does your spring security debug logs look like. Please enable debug logging and post your logs here. 403 is most likely a CORS issue."}],"owner":{"account_id":22670045,"reputation":11,"user_id":16841923,"display_name":"nenad.arbutina"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657711684,"creation_date":1631112771,"question_id":69105319,"body_markdown":"I have implemented SpringSecurity with JWT, all working nicely except one thing\r\n\r\n`@PreAuthorize(&quot;hasAuthority(&#39;admin:read&#39;)&quot;)` isnt working, it gives \r\n\r\n&gt; 403 FORBIDDEN error\r\n\r\nI will share parts of important codes. The token return all authorities properly which I added as SimpleGrantedAuthority\r\n\r\nSecurityConfig\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n...logic\r\n}\r\n```\r\nAccountController\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class AccountController {\r\n\r\n    //this works\r\n    @RequestMapping(value = &quot;/accounts&quot;, method = RequestMethod.GET)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;?&gt; loadAll() {\r\n        List&lt;AccountDTO&gt; res = accountService.loadAll();\r\n        return new ResponseEntity(new ResponseWrapper(res), HttpStatus.OK);\r\n    }\r\n\r\n    //this doesn&#39;t work\r\n    @RequestMapping(value = &quot;/accounts/{uid}&quot;, method = RequestMethod.GET)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;admin:read&#39;)&quot;)\r\n    ResponseEntity&lt;?&gt; findByUId(@PathVariable String uid) throws Exception {\r\n        AccountDTO dto = this.accountService.findByUid(uid);\r\n        return new ResponseEntity&lt;&gt;(new ResponseWrapper(dto), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\nToken\r\n```\r\n{\r\n  &quot;sub&quot;: &quot;nenad.arbutina&quot;,\r\n  &quot;authorities&quot;: [\r\n    {\r\n      &quot;authority&quot;: &quot;ROLE_ADMIN&quot;\r\n    },\r\n    {\r\n      &quot;authority&quot;: &quot;admin:read&quot;\r\n    },\r\n    {\r\n      &quot;authority&quot;: &quot;admin:create&quot;\r\n    },\r\n    {\r\n      &quot;authority&quot;: &quot;admin:update&quot;\r\n    },\r\n    {\r\n      &quot;authority&quot;: &quot;admin:delete&quot;\r\n    }\r\n  ],\r\n  &quot;iat&quot;: 1631111042,\r\n  &quot;exp&quot;: 1632261600\r\n}\r\n```\r\nupdate on code. When debugged I am getting only ROLE_ADMIN, so I am confused\r\n\r\nSecurityConfig\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final MyUserDetailService myUserDetailService;\r\n    private final SecretKey secretKey;\r\n    private final JwtConfig jwtConfig;\r\n\r\n    @Autowired\r\n    public SecurityConfig(\r\n                          MyUserDetailService myUserDetailService,\r\n                          SecretKey secretKey,\r\n                          JwtConfig jwtConfig) {\r\n\r\n        this.myUserDetailService = myUserDetailService;\r\n        this.secretKey = secretKey;\r\n        this.jwtConfig = jwtConfig;\r\n    }\r\n    @Bean\r\n    PasswordEncoder getEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\r\n                .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig), JwtUsernameAndPasswordAuthenticationFilter.class)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;index&quot;,&quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new \r\n        DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(getEncoder());\r\n        provider.setUserDetailsService(myUserDetailService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\nJwtTokenVerifier\r\n```\r\npublic class JwtTokenVerifier extends OncePerRequestFilter {\r\n\r\n    private final SecretKey secretKey;\r\n    private final JwtConfig jwtConfig;\r\n\r\n    public JwtTokenVerifier(SecretKey secretKey,\r\n                            JwtConfig jwtConfig) {\r\n        this.secretKey = secretKey;\r\n        this.jwtConfig = jwtConfig;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        String authorizationHeader = request.getHeader(jwtConfig.getAuthorizationHeader());\r\n\r\n        if (Strings.isNullOrEmpty(authorizationHeader) || !authorizationHeader.startsWith(jwtConfig.getTokenPrefix())) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        String token = authorizationHeader.replace(jwtConfig.getTokenPrefix(), &quot;&quot;);\r\n        try {\r\n\r\n\r\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser()\r\n                    .setSigningKey(secretKey)\r\n                    .parseClaimsJws(token);\r\n            Claims body = claimsJws.getBody();\r\n            String username = body.getSubject();\r\n\r\n            List&lt;Map&lt;String, String&gt;&gt; authorities = (List&lt;Map&lt;String, String&gt;&gt;) body.get(&quot;authorities&quot;);\r\n\r\n            Set&lt;SimpleGrantedAuthority&gt; simpleGrantedAuthorities = authorities.stream()\r\n                    .map(m -&gt; new SimpleGrantedAuthority(m.get(&quot;authority&quot;)))\r\n                    .collect(Collectors.toSet());\r\n\r\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\r\n                    username,\r\n                    null,\r\n                    simpleGrantedAuthorities\r\n            );\r\n\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            filterChain.doFilter(request, response);\r\n\r\n        } catch (JwtException e ){\r\n            throw new IllegalStateException(String.format(&quot;Token %s is not to be trusted&quot;, token));\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot @PreAuthorize hasAuthority not working","body":"<p>I have implemented SpringSecurity with JWT, all working nicely except one thing</p>\n<p><code>@PreAuthorize(&quot;hasAuthority('admin:read')&quot;)</code> isnt working, it gives</p>\n<blockquote>\n<p>403 FORBIDDEN error</p>\n</blockquote>\n<p>I will share parts of important codes. The token return all authorities properly which I added as SimpleGrantedAuthority</p>\n<p>SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n...logic\n}\n</code></pre>\n<p>AccountController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class AccountController {\n\n    //this works\n    @RequestMapping(value = &quot;/accounts&quot;, method = RequestMethod.GET)\n    @PreAuthorize(&quot;hasAnyRole('ROLE_ADMIN')&quot;)\n    public ResponseEntity&lt;?&gt; loadAll() {\n        List&lt;AccountDTO&gt; res = accountService.loadAll();\n        return new ResponseEntity(new ResponseWrapper(res), HttpStatus.OK);\n    }\n\n    //this doesn't work\n    @RequestMapping(value = &quot;/accounts/{uid}&quot;, method = RequestMethod.GET)\n    @PreAuthorize(&quot;hasAuthority('admin:read')&quot;)\n    ResponseEntity&lt;?&gt; findByUId(@PathVariable String uid) throws Exception {\n        AccountDTO dto = this.accountService.findByUid(uid);\n        return new ResponseEntity&lt;&gt;(new ResponseWrapper(dto), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Token</p>\n<pre><code>{\n  &quot;sub&quot;: &quot;nenad.arbutina&quot;,\n  &quot;authorities&quot;: [\n    {\n      &quot;authority&quot;: &quot;ROLE_ADMIN&quot;\n    },\n    {\n      &quot;authority&quot;: &quot;admin:read&quot;\n    },\n    {\n      &quot;authority&quot;: &quot;admin:create&quot;\n    },\n    {\n      &quot;authority&quot;: &quot;admin:update&quot;\n    },\n    {\n      &quot;authority&quot;: &quot;admin:delete&quot;\n    }\n  ],\n  &quot;iat&quot;: 1631111042,\n  &quot;exp&quot;: 1632261600\n}\n</code></pre>\n<p>update on code. When debugged I am getting only ROLE_ADMIN, so I am confused</p>\n<p>SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final MyUserDetailService myUserDetailService;\n    private final SecretKey secretKey;\n    private final JwtConfig jwtConfig;\n\n    @Autowired\n    public SecurityConfig(\n                          MyUserDetailService myUserDetailService,\n                          SecretKey secretKey,\n                          JwtConfig jwtConfig) {\n\n        this.myUserDetailService = myUserDetailService;\n        this.secretKey = secretKey;\n        this.jwtConfig = jwtConfig;\n    }\n    @Bean\n    PasswordEncoder getEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager(), jwtConfig, secretKey))\n                .addFilterAfter(new JwtTokenVerifier(secretKey, jwtConfig), JwtUsernameAndPasswordAuthenticationFilter.class)\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;, &quot;index&quot;,&quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new \n        DaoAuthenticationProvider();\n        provider.setPasswordEncoder(getEncoder());\n        provider.setUserDetailsService(myUserDetailService);\n        return provider;\n    }\n}\n</code></pre>\n<p>JwtTokenVerifier</p>\n<pre><code>public class JwtTokenVerifier extends OncePerRequestFilter {\n\n    private final SecretKey secretKey;\n    private final JwtConfig jwtConfig;\n\n    public JwtTokenVerifier(SecretKey secretKey,\n                            JwtConfig jwtConfig) {\n        this.secretKey = secretKey;\n        this.jwtConfig = jwtConfig;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        String authorizationHeader = request.getHeader(jwtConfig.getAuthorizationHeader());\n\n        if (Strings.isNullOrEmpty(authorizationHeader) || !authorizationHeader.startsWith(jwtConfig.getTokenPrefix())) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        String token = authorizationHeader.replace(jwtConfig.getTokenPrefix(), &quot;&quot;);\n        try {\n\n\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser()\n                    .setSigningKey(secretKey)\n                    .parseClaimsJws(token);\n            Claims body = claimsJws.getBody();\n            String username = body.getSubject();\n\n            List&lt;Map&lt;String, String&gt;&gt; authorities = (List&lt;Map&lt;String, String&gt;&gt;) body.get(&quot;authorities&quot;);\n\n            Set&lt;SimpleGrantedAuthority&gt; simpleGrantedAuthorities = authorities.stream()\n                    .map(m -&gt; new SimpleGrantedAuthority(m.get(&quot;authority&quot;)))\n                    .collect(Collectors.toSet());\n\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\n                    username,\n                    null,\n                    simpleGrantedAuthorities\n            );\n\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            filterChain.doFilter(request, response);\n\n        } catch (JwtException e ){\n            throw new IllegalStateException(String.format(&quot;Token %s is not to be trusted&quot;, token));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","entitygraph"],"answers":[{"tags":[],"owner":{"account_id":8742180,"reputation":11,"user_id":6538892,"display_name":"OBelin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657710880,"creation_date":1657710880,"answer_id":72965336,"question_id":71304331,"body_markdown":"I faced the same issue. I fixed it by adding factory to Jpa Repositories:\r\n\r\n    @EnableJpaRepositories(repositoryFactoryBeanClass = EntityGraphJpaRepositoryFactoryBean.class)","title":"No property found for type after adding EntityGraphJpaSpecificationExecutor to repository","body":"<p>I faced the same issue. I fixed it by adding factory to Jpa Repositories:</p>\n<pre><code>@EnableJpaRepositories(repositoryFactoryBeanClass = EntityGraphJpaRepositoryFactoryBean.class)\n</code></pre>\n"}],"owner":{"account_id":16076125,"reputation":162,"user_id":11603305,"display_name":"Nora Na"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657711633,"creation_date":1646114541,"question_id":71304331,"body_markdown":"I have an entity with a relation to another one:\r\n```\r\npublic class MyEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;deleted&quot;, nullable = false)\r\n    private Boolean deleted = false;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;feature_assignment&quot;, \r\n            joinColumns = @JoinColumn(name = &quot;my_entity_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;feature_id&quot;))\r\n    private List&lt;MyEntityFeature&gt; myEntityFeatures;\r\n```\r\nand I have a perfectly working repository:\r\n```\r\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, UUID&gt;,\r\n        JpaSpecificationExecutor&lt;MyEntity&gt; {\r\nOptional&lt;MyEntity&gt; findByIdAndDeletedIsFalse(UUID id);\r\n}\r\n```\r\nBut when I extend EntityGraphJpaSpecificationExecutor&lt;MyEntity&gt; in my repository, it seems like it can&#39;t recognize former repository methods without entity graphs, even though the repository is still implementing the findById method. I get the following exception:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.Optional com.cosium.spring.data.jpa.entity.graph.repository.EntityGraphJpaSpecificationExecutor.findOne(org.springframework.data.jpa.domain.Specification,com.cosium.spring.data.jpa.entity.graph.domain.EntityGraph)! No property findOne found for type MyEntity!\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\t... 57 common frames omitted\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property findOne found for type MyEntity!\r\n\tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:92) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n\t... 61 common frames omitted\r\n```\r\nMy pom.xml contains the following dependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cosium.spring.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa-entity-graph&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nCan anyone explain why this is happening? And how can I fix this error? Is it mandatory to override the findOne method after implementing EntityGraphJpaSpecificationExecutor?","title":"No property found for type after adding EntityGraphJpaSpecificationExecutor to repository","body":"<p>I have an entity with a relation to another one:</p>\n<pre><code>public class MyEntity {\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @Column(name = &quot;deleted&quot;, nullable = false)\n    private Boolean deleted = false;\n\n    @ManyToMany\n    @JoinTable(name = &quot;feature_assignment&quot;, \n            joinColumns = @JoinColumn(name = &quot;my_entity_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;feature_id&quot;))\n    private List&lt;MyEntityFeature&gt; myEntityFeatures;\n</code></pre>\n<p>and I have a perfectly working repository:</p>\n<pre><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, UUID&gt;,\n        JpaSpecificationExecutor&lt;MyEntity&gt; {\nOptional&lt;MyEntity&gt; findByIdAndDeletedIsFalse(UUID id);\n}\n</code></pre>\n<p>But when I extend EntityGraphJpaSpecificationExecutor in my repository, it seems like it can't recognize former repository methods without entity graphs, even though the repository is still implementing the findById method. I get the following exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.Optional com.cosium.spring.data.jpa.entity.graph.repository.EntityGraphJpaSpecificationExecutor.findOne(org.springframework.data.jpa.domain.Specification,com.cosium.spring.data.jpa.entity.graph.domain.EntityGraph)! No property findOne found for type MyEntity!\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    ... 57 common frames omitted\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property findOne found for type MyEntity!\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:92) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    ... 61 common frames omitted\n</code></pre>\n<p>My pom.xml contains the following dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.cosium.spring.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa-entity-graph&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Can anyone explain why this is happening? And how can I fix this error? Is it mandatory to override the findOne method after implementing EntityGraphJpaSpecificationExecutor?</p>\n"},{"tags":["java","json","api","rest"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657710580,"creation_date":1657710580,"answer_id":72965279,"question_id":72965070,"body_markdown":"Just use generic `get` of `JsonPath` in your case like:\r\n\r\n```java\r\npublic static void main(String[] args) throws URISyntaxException {\r\n    String baseURI = RestAssured.baseURI = &quot;https://reqres.in&quot;;\r\n\r\n    RequestSpecification rs = given().header(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n    Response response = rs.when().get(&quot;/api/unknown&quot;);\r\n    List&lt;Map&gt; result = response.jsonPath().get(&quot;data&quot;);\r\n    for(Map map: result){\r\n        System.out.println(map);\r\n    }\r\n}\r\n```\r\n","title":"API Json response to format of List of maps","body":"<p>Just use generic <code>get</code> of <code>JsonPath</code> in your case like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws URISyntaxException {\n    String baseURI = RestAssured.baseURI = &quot;https://reqres.in&quot;;\n\n    RequestSpecification rs = given().header(&quot;Content-Type&quot;,&quot;application/json&quot;);\n    Response response = rs.when().get(&quot;/api/unknown&quot;);\n    List&lt;Map&gt; result = response.jsonPath().get(&quot;data&quot;);\n    for(Map map: result){\n        System.out.println(map);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8470319,"reputation":23,"user_id":18730109,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72965279,"answer_count":1,"score":0,"last_activity_date":1657711410,"creation_date":1657709515,"question_id":72965070,"body_markdown":"I am struggling a little bit to get a JSON response from the API server in a readable format.\r\n\r\nSo here is the page I am currently using for exercises:\r\n&lt;https://reqres.in/&gt; Position 4, GET LIST Resource \r\n\r\nI am able to retrieve the data from the server in the JSON format which looks like:\r\n\r\n```json\r\n{\r\n    &quot;page&quot;: 1,\r\n    &quot;per_page&quot;: 6,\r\n    &quot;total&quot;: 12,\r\n    &quot;total_pages&quot;: 2,\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;cerulean&quot;,\r\n            &quot;year&quot;: 2000,\r\n            &quot;color&quot;: &quot;#98B2D1&quot;,\r\n            &quot;pantone_value&quot;: &quot;15-4020&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;fuchsia rose&quot;,\r\n            &quot;year&quot;: 2001,\r\n            &quot;color&quot;: &quot;#C74375&quot;,\r\n            &quot;pantone_value&quot;: &quot;17-2031&quot;\r\n        },\r\n```\r\n\r\nand so on. I am able to retrieve one object in the form of String:\r\n\r\n    [id:1, name:cerulean, year:2000, color:#98B2D1, pantone_value:15-4020]\r\n\r\nI have 6 objects like that in an array, I am looping through the JSON response using:\r\n\r\n```java\r\nSystem.out.println(&quot;Json Array count: &quot; + count);\r\n\r\nfor (int i = 0; i&lt;count; i++){\r\n    String books = js.getString(&quot;data[&quot;+i+&quot;]&quot;);\r\n    System.out.println(books);\r\n}\r\n```\r\n\r\nIs there an easy way to transcribe this data to the list of maps? I.e\r\nK: id, V: 1 and K: name, V: cerulean etc\r\n\r\nI am a freshman if it comes for coding.\r\n\r\nHere is my whole class:\r\n\r\n```java\r\nString baseURI = RestAssured.baseURI = &quot;https://reqres.in&quot;;\r\n\r\nRequestSpecification rs = given().header(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\nResponse response = rs.when().get(&quot;/api/unknown&quot;);\r\n\r\nSystem.out.println(response.getStatusCode());\r\nresponse.then().statusCode(200);\r\nAssert.assertEquals(200, response.getStatusCode());\r\n\r\nString resource = response.prettyPrint();\r\n\r\nJsonPath js = new JsonPath(resource);\r\nint count = js.getInt(&quot;data.size()&quot;);\r\n\r\nSystem.out.println(&quot;Json Array count: &quot; + count);\r\n\r\nfor (int i = 0; i&lt;count; i++){\r\n    String books = js.getString(&quot;data[&quot;+i+&quot;]&quot;);\r\n    System.out.println(books);\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"API Json response to format of List of maps","body":"<p>I am struggling a little bit to get a JSON response from the API server in a readable format.</p>\n<p>So here is the page I am currently using for exercises:\n<a href=\"https://reqres.in/\" rel=\"nofollow noreferrer\">https://reqres.in/</a> Position 4, GET LIST Resource</p>\n<p>I am able to retrieve the data from the server in the JSON format which looks like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;page&quot;: 1,\n    &quot;per_page&quot;: 6,\n    &quot;total&quot;: 12,\n    &quot;total_pages&quot;: 2,\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;cerulean&quot;,\n            &quot;year&quot;: 2000,\n            &quot;color&quot;: &quot;#98B2D1&quot;,\n            &quot;pantone_value&quot;: &quot;15-4020&quot;\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;fuchsia rose&quot;,\n            &quot;year&quot;: 2001,\n            &quot;color&quot;: &quot;#C74375&quot;,\n            &quot;pantone_value&quot;: &quot;17-2031&quot;\n        },\n</code></pre>\n<p>and so on. I am able to retrieve one object in the form of String:</p>\n<pre><code>[id:1, name:cerulean, year:2000, color:#98B2D1, pantone_value:15-4020]\n</code></pre>\n<p>I have 6 objects like that in an array, I am looping through the JSON response using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Json Array count: &quot; + count);\n\nfor (int i = 0; i&lt;count; i++){\n    String books = js.getString(&quot;data[&quot;+i+&quot;]&quot;);\n    System.out.println(books);\n}\n</code></pre>\n<p>Is there an easy way to transcribe this data to the list of maps? I.e\nK: id, V: 1 and K: name, V: cerulean etc</p>\n<p>I am a freshman if it comes for coding.</p>\n<p>Here is my whole class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String baseURI = RestAssured.baseURI = &quot;https://reqres.in&quot;;\n\nRequestSpecification rs = given().header(&quot;Content-Type&quot;,&quot;application/json&quot;);\nResponse response = rs.when().get(&quot;/api/unknown&quot;);\n\nSystem.out.println(response.getStatusCode());\nresponse.then().statusCode(200);\nAssert.assertEquals(200, response.getStatusCode());\n\nString resource = response.prettyPrint();\n\nJsonPath js = new JsonPath(resource);\nint count = js.getInt(&quot;data.size()&quot;);\n\nSystem.out.println(&quot;Json Array count: &quot; + count);\n\nfor (int i = 0; i&lt;count; i++){\n    String books = js.getString(&quot;data[&quot;+i+&quot;]&quot;);\n    System.out.println(books);\n}\n</code></pre>\n"},{"tags":["java","lib"],"comments":[{"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"score":0,"creation_date":1657702410,"post_id":72963272,"comment_id":128870933,"body_markdown":"Add `import myLibrary;`, to the top of your project, I believe","body":"Add <code>import myLibrary;</code>, to the top of your project, I believe"},{"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"score":0,"creation_date":1657702794,"post_id":72963272,"comment_id":128871059,"body_markdown":"Not working , it is not seeing my library(","body":"Not working , it is not seeing my library("},{"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"score":0,"creation_date":1657702881,"post_id":72963272,"comment_id":128871087,"body_markdown":"In any case, why is  your library class named  Main, and has a main(string[] args) function? That is unnecessary. Second.","body":"In any case, why is  your library class named  Main, and has a main(string[] args) function? That is unnecessary. Second."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1657702940,"post_id":72963272,"comment_id":128871115,"body_markdown":"There&#39;s lots of things potentially wrong: I&#39;m not quite sure if your mylibrary.jar actually contains the `class` files (which would be correct) or just the `.java` files, because it also contains project-related files that should *not* be in a jar file (the `.iml`). Additionally it seems that both your library *and* your code that tries to use the library have a class called `Main` in the unnamed package. That&#39;s not going to work! Only one of those will be loaded if they are both on the classpath. Generally speaking as soon as your code spans more than one file your code should be in packages.","body":"There&#39;s lots of things potentially wrong: I&#39;m not quite sure if your mylibrary.jar actually contains the <code>class</code> files (which would be correct) or just the <code>.java</code> files, because it also contains project-related files that should <i>not</i> be in a jar file (the <code>.iml</code>). Additionally it seems that both your library <i>and</i> your code that tries to use the library have a class called <code>Main</code> in the unnamed package. That&#39;s not going to work! Only one of those will be loaded if they are both on the classpath. Generally speaking as soon as your code spans more than one file your code should be in packages."},{"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"score":1,"creation_date":1657703306,"post_id":72963272,"comment_id":128871251,"body_markdown":"A library is essentially an  extension to your codebase. Any classes that you add to it would be accessible in the rest of the project, where it was imported.\n\nSimply, Create your class, as you normally would in your main file, then just copy it over to your library file. Name the class the same as the file, to simplify matters. No need to overcomplicate things at this juncture in your learning path.","body":"A library is essentially an  extension to your codebase. Any classes that you add to it would be accessible in the rest of the project, where it was imported.  Simply, Create your class, as you normally would in your main file, then just copy it over to your library file. Name the class the same as the file, to simplify matters. No need to overcomplicate things at this juncture in your learning path."},{"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"score":0,"creation_date":1657703668,"post_id":72963272,"comment_id":128871383,"body_markdown":"@RoeyMichaeli\ncould you please show me how to do a simple library of what i am doing. Cause i made it from tutorials from youtube (","body":"@RoeyMichaeli could you please show me how to do a simple library of what i am doing. Cause i made it from tutorials from youtube ("},{"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"score":0,"creation_date":1657703683,"post_id":72963272,"comment_id":128871390,"body_markdown":"Just a second..","body":"Just a second.."},{"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"score":0,"creation_date":1657703699,"post_id":72963272,"comment_id":128871396,"body_markdown":"@JoachimSauer but how can i make it without main method , could you please show me","body":"@JoachimSauer but how can i make it without main method , could you please show me"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1657703895,"post_id":72963272,"comment_id":128871467,"body_markdown":"@ProgramCOder: a library almost never has a main method (that would only make sense when it has a dual-purpose of also being a stand-alone executable). And the very first step is to make sure that your class names are different in your library and where you use it and also to put every class into some package.","body":"@ProgramCOder: a library almost never has a main method (that would only make sense when it has a dual-purpose of also being a stand-alone executable). And the very first step is to make sure that your class names are different in your library and where you use it and also to put every class into some package."},{"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"score":0,"creation_date":1657704363,"post_id":72963272,"comment_id":128871624,"body_markdown":"I do not know who you are listening to, I would suggest you learn from this gentleman.\nhttps://www.youtube.com/watch?v=6WYJLkd3R9M&amp;list=PLkeaG1zpPTHiMjczpmZ6ALd46VjjiQJ_8\nI trust he will guide you properly. If you followed the course, and you got this, Change your course.","body":"I do not know who you are listening to, I would suggest you learn from this gentleman. <a href=\"https://www.youtube.com/watch?v=6WYJLkd3R9M&amp;list=PLkeaG1zpPTHiMjczpmZ6ALd46VjjiQJ_8\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a> I trust he will guide you properly. If you followed the course, and you got this, Change your course."}],"answers":[{"tags":[],"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657711364,"creation_date":1657704214,"answer_id":72963862,"question_id":72963272,"body_markdown":"A library is essentially an extension to your codebase. Any classes that you add to it would be accessible in the rest of the project, where it was imported. \r\n\r\nSimply, Create your class, as you normally would in your main file, then just copy it over to your library file. Name the class the same as the file, to simplify matters. \r\n\r\nNo need to overcomplicate things at this juncture in your learning path. I believe this should work. I have not tested this, however the fundamentals are correct.\r\n\r\nThis is not a static library, thus, in order to be used, it must be instantiated, like so:\r\n\r\n    MyLibrary myLibrary = new MyLibrary();\r\n\r\n\r\nThen, since the functions inside the class are public, you would be able to call them like this:\r\n\r\n    myLibrary.addElements1(1, &quot;ESPS&quot;);\r\n\r\nThis method of coding is called Object Oriented Programming. There&#39;s a thousand and one mistakes here, but it would work.\r\n\r\n\r\n    class MyLibrary {\r\n        public Map&lt;Integer, String&gt; boombom;\r\n    \r\n        public void myLibrary() {\r\n            boombom = new HashMap();\r\n        }\r\n    \r\n        public void printElements() {\r\n            System.out.println(boombom);\r\n        }\r\n    \r\n        public void addElements1(int i, String s) {\r\n            boombom.put(i, s);\r\n        }\r\n    }","title":"How do I properly create a Library in Java?","body":"<p>A library is essentially an extension to your codebase. Any classes that you add to it would be accessible in the rest of the project, where it was imported.</p>\n<p>Simply, Create your class, as you normally would in your main file, then just copy it over to your library file. Name the class the same as the file, to simplify matters.</p>\n<p>No need to overcomplicate things at this juncture in your learning path. I believe this should work. I have not tested this, however the fundamentals are correct.</p>\n<p>This is not a static library, thus, in order to be used, it must be instantiated, like so:</p>\n<pre><code>MyLibrary myLibrary = new MyLibrary();\n</code></pre>\n<p>Then, since the functions inside the class are public, you would be able to call them like this:</p>\n<pre><code>myLibrary.addElements1(1, &quot;ESPS&quot;);\n</code></pre>\n<p>This method of coding is called Object Oriented Programming. There's a thousand and one mistakes here, but it would work.</p>\n<pre><code>class MyLibrary {\n    public Map&lt;Integer, String&gt; boombom;\n\n    public void myLibrary() {\n        boombom = new HashMap();\n    }\n\n    public void printElements() {\n        System.out.println(boombom);\n    }\n\n    public void addElements1(int i, String s) {\n        boombom.put(i, s);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72963862,"answer_count":1,"score":-1,"last_activity_date":1657711364,"creation_date":1657701663,"question_id":72963272,"body_markdown":"I have just created a library that will store and add elements into Hashmap.\r\nI have generated a jar file , and placed it  into the Desktop. How can i use my library and work with it , i have already placed it into library folder , but what next, how can i work with it ? \r\nany help pls\r\n[Here is my library that i wan to use it i my project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HqNxN.png\r\n\r\n```\r\n//here is my Library code\r\n\r\npublic class Main {\r\n    public Main() {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;Integer, String&gt; boombom = new HashMap();\r\n        addElements1(boombom, 1, &quot;XML serv.&quot;);\r\n        printElements(boombom);\r\n    }\r\n\r\n    private static void printElements(Map&lt;Integer, String&gt; boombom) {\r\n        System.out.println(boombom);\r\n    }\r\n\r\n    private static void addElements1(Map&lt;Integer, String&gt; boombom, int i, String s) {\r\n        boombom.put(i, s);\r\n    }\r\n}\r\n\r\n```","title":"How do I properly create a Library in Java?","body":"<p>I have just created a library that will store and add elements into Hashmap.\nI have generated a jar file , and placed it  into the Desktop. How can i use my library and work with it , i have already placed it into library folder , but what next, how can i work with it ?\nany help pls\n<a href=\"https://i.stack.imgur.com/HqNxN.png\" rel=\"nofollow noreferrer\">Here is my library that i wan to use it i my project</a></p>\n<pre><code>//here is my Library code\n\npublic class Main {\n    public Main() {\n    }\n\n    public static void main(String[] args) {\n        Map&lt;Integer, String&gt; boombom = new HashMap();\n        addElements1(boombom, 1, &quot;XML serv.&quot;);\n        printElements(boombom);\n    }\n\n    private static void printElements(Map&lt;Integer, String&gt; boombom) {\n        System.out.println(boombom);\n    }\n\n    private static void addElements1(Map&lt;Integer, String&gt; boombom, int i, String s) {\n        boombom.put(i, s);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":4,"creation_date":1657711293,"post_id":72964779,"comment_id":128873958,"body_markdown":"how can you get a field from a String object? list entries are in memory, they are not fields. sounds like an XY problem https://xyproblem.info/","body":"how can you get a field from a String object? list entries are in memory, they are not fields. sounds like an XY problem <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657710746,"creation_date":1657710353,"answer_id":72965236,"question_id":72964779,"body_markdown":"Annotations:\r\n-\r\n1) This is dangerous, because reflection is heavily implementation dependent.\r\n2) This does not make much sense as a real-world solution. Java&#39;s big advantage is static compile-time checks, and this completely circumvents it. (Checks on container classes and variable types)\r\n3) Also, it is slower and cumbersome.\r\n\r\nSolution:\r\n-\r\nLook at http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/LinkedList.java\r\n\r\nWe see that the Nodes are contained as such:\r\n\r\n    transient Node&lt;E&gt; first;\r\n    transient Node&lt;E&gt; last;\r\n\r\nAnd the Node class is defined (see link above) as:\r\n\r\n\r\n    private static class Node&lt;E&gt; {\r\n        E item;\r\n        Node&lt;E&gt; next;\r\n        Node&lt;E&gt; prev;\r\n\r\n        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {\r\n            this.item = element;\r\n            this.next = next;\r\n            this.prev = prev;\r\n        }\r\n    }\r\n\r\nSo first we need a node, then its *item* value.\r\n\r\nTo iterate over elements, we will need to access the *next* variable.\r\n\r\n\r\nFull Code:\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.util.LinkedList;\r\n    \r\n    public class LinkedListAccesReflection {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {\r\n    \t\tfinal LinkedList&lt;String&gt; theList = new LinkedList&lt;&gt;();\r\n    \t\ttheList.add(&quot;Item 1&quot;);\r\n    \t\ttheList.add(&quot;Item 2&quot;);\r\n    \t\ttheList.add(&quot;Item 3&quot;);\r\n    \r\n    \t\t// we have to base all on Object, instead of on LinkedList$Node, because we cannot address inner static private class\r\n    \t\t// we could use runtime variable type checks, see comment below\r\n    \r\n    \t\t{ // show first value\r\n    \t\t\tfinal Object nodeFirst = getValueFromObject(theList, &quot;first&quot;);\r\n    \t\t\tfinal Object value = getValueFromObject(nodeFirst, &quot;item&quot;);\r\n    \t\t\tSystem.out.println(&quot;Access Value: &quot; + value);\r\n    \t\t}\r\n    \r\n    \t\tinterateOverElements(theList);\r\n    \r\n    \t\t{ // manipulate value 1\r\n    \t\t\tfinal Object nodeFirst = getValueFromObject(theList, &quot;first&quot;);\r\n    \t\t\tsetValueOfObject(nodeFirst, &quot;item&quot;, &quot;Bad cheated value&quot;);\r\n    \t\t\tSystem.out.println(&quot;Manipulated the list.&quot;);\r\n    \t\t}\r\n    \r\n    \t\tinterateOverElements(theList);\r\n    \r\n    \r\n    \t\t// if you wanna do some runtime class checks, you can use that code\r\n    \t\t//\t\t\tfinal Class&lt;?&gt; listClass = theList.getClass();\r\n    \t\t//\t\t\tfinal String innerNodeClassName = listClass.getName() + &quot;$Node&quot;;\r\n    \t\t//\t\t\tfinal Class&lt;?&gt; innerNodeClass = Class.forName(innerNodeClassName);\r\n    \t}\r\n    \r\n    \tprivate static void interateOverElements(final LinkedList&lt;String&gt; pTheList) throws IllegalArgumentException, IllegalAccessException, NoSuchFieldException, SecurityException {\r\n    \t\tSystem.out.println(&quot;Iterate Nodes:&quot;);\r\n    \t\tObject current = getValueFromObject(pTheList, &quot;first&quot;);\r\n    \t\twhile (current != null) {\r\n    \t\t\tfinal Object value = getValueFromObject(current, &quot;item&quot;);\r\n    \t\t\tSystem.out.println(&quot;\\t&quot; + value);\r\n    \r\n    \t\t\tfinal Object nextNode = getValueFromObject(current, &quot;next&quot;);\r\n    \t\t\tcurrent = nextNode;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic public Object getValueFromObject(final Object pTheObject, final String pVarName) throws IllegalArgumentException, IllegalAccessException, NoSuchFieldException, SecurityException {\r\n    \t\tfinal Field listField = pTheObject.getClass().getDeclaredField(pVarName);\r\n    \t\tlistField.setAccessible(true);\r\n    \t\tfinal Object nodeObject = listField.get(pTheObject);\r\n    \t\treturn nodeObject;\r\n    \t}\r\n    \tstatic public void setValueOfObject(final Object pTheObject, final String pVarName, final Object pValue) throws IllegalArgumentException, IllegalAccessException, NoSuchFieldException, SecurityException {\r\n    \t\tfinal Field listField = pTheObject.getClass().getDeclaredField(pVarName);\r\n    \t\tlistField.setAccessible(true);\r\n    \t\tlistField.set(pTheObject, pValue);\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"Use reflection to get entries from a list","body":"<h2>Annotations:</h2>\n<ol>\n<li>This is dangerous, because reflection is heavily implementation dependent.</li>\n<li>This does not make much sense as a real-world solution. Java's big advantage is static compile-time checks, and this completely circumvents it. (Checks on container classes and variable types)</li>\n<li>Also, it is slower and cumbersome.</li>\n</ol>\n<h2>Solution:</h2>\n<p>Look at <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/LinkedList.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/LinkedList.java</a></p>\n<p>We see that the Nodes are contained as such:</p>\n<pre><code>transient Node&lt;E&gt; first;\ntransient Node&lt;E&gt; last;\n</code></pre>\n<p>And the Node class is defined (see link above) as:</p>\n<pre><code>private static class Node&lt;E&gt; {\n    E item;\n    Node&lt;E&gt; next;\n    Node&lt;E&gt; prev;\n\n    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {\n        this.item = element;\n        this.next = next;\n        this.prev = prev;\n    }\n}\n</code></pre>\n<p>So first we need a node, then its <em>item</em> value.</p>\n<p>To iterate over elements, we will need to access the <em>next</em> variable.</p>\n<p>Full Code:</p>\n<pre><code>package stackoverflow;\n\nimport java.lang.reflect.Field;\nimport java.util.LinkedList;\n\npublic class LinkedListAccesReflection {\n\n\n\n    public static void main(final String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {\n        final LinkedList&lt;String&gt; theList = new LinkedList&lt;&gt;();\n        theList.add(&quot;Item 1&quot;);\n        theList.add(&quot;Item 2&quot;);\n        theList.add(&quot;Item 3&quot;);\n\n        // we have to base all on Object, instead of on LinkedList$Node, because we cannot address inner static private class\n        // we could use runtime variable type checks, see comment below\n\n        { // show first value\n            final Object nodeFirst = getValueFromObject(theList, &quot;first&quot;);\n            final Object value = getValueFromObject(nodeFirst, &quot;item&quot;);\n            System.out.println(&quot;Access Value: &quot; + value);\n        }\n\n        interateOverElements(theList);\n\n        { // manipulate value 1\n            final Object nodeFirst = getValueFromObject(theList, &quot;first&quot;);\n            setValueOfObject(nodeFirst, &quot;item&quot;, &quot;Bad cheated value&quot;);\n            System.out.println(&quot;Manipulated the list.&quot;);\n        }\n\n        interateOverElements(theList);\n\n\n        // if you wanna do some runtime class checks, you can use that code\n        //          final Class&lt;?&gt; listClass = theList.getClass();\n        //          final String innerNodeClassName = listClass.getName() + &quot;$Node&quot;;\n        //          final Class&lt;?&gt; innerNodeClass = Class.forName(innerNodeClassName);\n    }\n\n    private static void interateOverElements(final LinkedList&lt;String&gt; pTheList) throws IllegalArgumentException, IllegalAccessException, NoSuchFieldException, SecurityException {\n        System.out.println(&quot;Iterate Nodes:&quot;);\n        Object current = getValueFromObject(pTheList, &quot;first&quot;);\n        while (current != null) {\n            final Object value = getValueFromObject(current, &quot;item&quot;);\n            System.out.println(&quot;\\t&quot; + value);\n\n            final Object nextNode = getValueFromObject(current, &quot;next&quot;);\n            current = nextNode;\n        }\n    }\n\n    static public Object getValueFromObject(final Object pTheObject, final String pVarName) throws IllegalArgumentException, IllegalAccessException, NoSuchFieldException, SecurityException {\n        final Field listField = pTheObject.getClass().getDeclaredField(pVarName);\n        listField.setAccessible(true);\n        final Object nodeObject = listField.get(pTheObject);\n        return nodeObject;\n    }\n    static public void setValueOfObject(final Object pTheObject, final String pVarName, final Object pValue) throws IllegalArgumentException, IllegalAccessException, NoSuchFieldException, SecurityException {\n        final Field listField = pTheObject.getClass().getDeclaredField(pVarName);\n        listField.setAccessible(true);\n        listField.set(pTheObject, pValue);\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72965236,"answer_count":1,"score":-2,"last_activity_date":1657710746,"creation_date":1657708225,"question_id":72964779,"body_markdown":"I have a LinkedList of Strings\r\n\r\n```\r\nList&lt;String&gt; list = new LinkedList();\r\nlist.add(&quot;&quot;);\r\n```\r\n\r\nUsing **Reflection**, how would I be able to get the **Field** object of list.get(0) and then set the field object with a value such as &quot;Hello&quot;?\r\n\r\nSomething like this:\r\n\r\n```\r\nField field = //the field entry of list.get(0)\r\nfield.set() // set field with a string &quot;Hello&quot;\r\n``` ","title":"Use reflection to get entries from a list","body":"<p>I have a LinkedList of Strings</p>\n<pre><code>List&lt;String&gt; list = new LinkedList();\nlist.add(&quot;&quot;);\n</code></pre>\n<p>Using <strong>Reflection</strong>, how would I be able to get the <strong>Field</strong> object of list.get(0) and then set the field object with a value such as &quot;Hello&quot;?</p>\n<p>Something like this:</p>\n<pre><code>Field field = //the field entry of list.get(0)\nfield.set() // set field with a string &quot;Hello&quot;\n</code></pre>\n"},{"tags":["java","response","resttemplate","spring-resttemplate"],"comments":[{"owner":{"account_id":317824,"reputation":699,"user_id":634705,"accept_rate":62,"display_name":"Rick"},"score":0,"creation_date":1687309837,"post_id":70826749,"comment_id":134917481,"body_markdown":"Did you find a solution to this?","body":"Did you find a solution to this?"}],"owner":{"account_id":6357991,"reputation":197,"user_id":4934548,"accept_rate":0,"display_name":"giovandrea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657710548,"creation_date":1642973389,"question_id":70826749,"body_markdown":"I am having some troubles using restTemplates.\r\n\r\nI am posting some JSON and I expect some plain text as a response.\r\n\r\nI wrote some code to do so, but the response I am getting is not readable (栀琀琀瀀猀㨀⼀⼀愀眀猀甀愀琀　㄀⸀ as an example.)\r\n\r\nWhen I use PostMan with the following setup:\r\n\r\n[![PostMan1][1]][1]\r\n\r\n\r\nand passing my JSON I get the text I am expecting with the following response:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ngAK5.png\r\n  [2]: https://i.stack.imgur.com/6YsnE.png\r\n\r\nThe below is my code:\r\n\r\n    RestTemplate restTemplate = getRestTemplate();\r\n    HttpHeaders headers = getHeaders(token);\r\n    \t\t\t\r\n    JSONObject json = new JSONObject();\r\n    json.put(&quot;test&quot;, test);\r\n    \t\t\t\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(json.toString(), headers);\r\n    try\r\n    {\r\n    \tResponseEntity&lt;String&gt; response = restTemplate.postForEntity(URI, entity, String.class);\r\n    }\r\n    catch (Exception e)\r\n    {\r\n    \t//Error handling\r\n    }\r\n\r\nWhere the headers are:\r\n\r\n    return new HttpHeaders() \r\n    {\r\n    \t{\r\n    \t\tString authHeader = &quot;Bearer &quot; + token;\r\n    \t\tsetContentType(MediaType.APPLICATION_JSON);\r\n    \t\tsetAcceptCharset(Arrays.asList(StandardCharsets.UTF_8));\r\n    \t\tsetAccept(Arrays.asList(MediaType.ALL));\r\n    \t\tadd( &quot;Authorization&quot;, authHeader );\r\n    \t}\r\n    };\r\n\r\nBy using the above I do get a 200 response code but with a non readable body. Looking at my logs I can see that the actual request was done with:\r\n\r\n    URI         : MyURI\r\n    Method      : POST\r\n    Headers     : {Accept=[*/*], Content-Type=[application/json], Accept-Charset=[big5, big5-hkscs, cesu-8, euc-jp, euc-kr, gb18030, gb2312, gbk, ibm-thai, ibm00858, ibm01140, ibm01141, ibm01142, ibm01143, ibm01144, ibm01145, ibm01146, ibm01147, ibm01148, ibm01149, ibm037, ibm1026, ibm1047, ibm273, ibm277, ibm278, ibm280, ibm284, ibm285, ibm290, ibm297, ibm420, ibm424, ibm437, ibm500, ibm775, ibm850, ibm852, ibm855, ibm857, ibm860, ibm861, ibm862, ibm863, ibm864, ibm865, ibm866, ibm868, ibm869, ibm870, ibm871, ibm918, iso-2022-cn, iso-2022-jp, iso-2022-jp-2, iso-2022-kr, iso-8859-1, iso-8859-13, iso-8859-15, iso-8859-2, iso-8859-3, iso-8859-4, iso-8859-5, iso-8859-6, iso-8859-7, iso-8859-8, iso-8859-9, jis_x0201, jis_x0212-1990, koi8-r, koi8-u, shift_jis, tis-620, us-ascii, utf-16, utf-16be, utf-16le, utf-32, utf-32be, utf-32le, utf-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-big5-hkscs-2001, x-big5-solaris, x-euc-jp-linux, x-euc-tw, x-eucjp-open, x-ibm1006, x-ibm1025, x-ibm1046, x-ibm1097, x-ibm1098, x-ibm1112, x-ibm1122, x-ibm1123, x-ibm1124, x-ibm1166, x-ibm1364, x-ibm1381, x-ibm1383, x-ibm300, x-ibm33722, x-ibm737, x-ibm833, x-ibm834, x-ibm856, x-ibm874, x-ibm875, x-ibm921, x-ibm922, x-ibm930, x-ibm933, x-ibm935, x-ibm937, x-ibm939, x-ibm942, x-ibm942c, x-ibm943, x-ibm943c, x-ibm948, x-ibm949, x-ibm949c, x-ibm950, x-ibm964, x-ibm970, x-iscii91, x-iso-2022-cn-cns, x-iso-2022-cn-gb, x-iso-8859-11, x-jis0208, x-jisautodetect, x-johab, x-macarabic, x-maccentraleurope, x-maccroatian, x-maccyrillic, x-macdingbat, x-macgreek, x-machebrew, x-maciceland, x-macroman, x-macromania, x-macsymbol, x-macthai, x-macturkish, x-macukraine, x-ms932_0213, x-ms950-hkscs, x-ms950-hkscs-xp, x-mswin-936, x-pck, x-sjis_0213, x-utf-16le-bom, x-utf-32be-bom, x-utf-32le-bom, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp], Authorization=[Bearer Bearer], Content-Length=[X]}\r\n    Request body: {&quot;test&quot;:&quot;test&quot;}\r\n\r\nIt seems that even though I am explicit asking for a response in UTF-8, the request itself is asking for a response with all the possible Charsets and I am keen to believe this is why I cannot read the response.\r\n\r\nFurthermore I can see that the response I am getting is in UTF-16:\r\n\r\nStatus code  : 200\r\nStatus text  : OK\r\nHeaders      : {Date=[Sun, 23 Jan 2022 21:03:49 GMT], Content-Type=[text/plain; charset=utf-16], Transfer-Encoding=[chunked], Connection=[keep-alive]}\r\n\r\n\r\nAny help on this?\r\n\r\n","title":"Java restTemplate and response charset","body":"<p>I am having some troubles using restTemplates.</p>\n<p>I am posting some JSON and I expect some plain text as a response.</p>\n<p>I wrote some code to do so, but the response I am getting is not readable (栀琀琀瀀猀㨀⼀⼀愀眀猀甀愀琀　㄀⸀ as an example.)</p>\n<p>When I use PostMan with the following setup:</p>\n<p><a href=\"https://i.stack.imgur.com/ngAK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ngAK5.png\" alt=\"PostMan1\" /></a></p>\n<p>and passing my JSON I get the text I am expecting with the following response:</p>\n<p><a href=\"https://i.stack.imgur.com/6YsnE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6YsnE.png\" alt=\"enter image description here\" /></a></p>\n<p>The below is my code:</p>\n<pre><code>RestTemplate restTemplate = getRestTemplate();\nHttpHeaders headers = getHeaders(token);\n            \nJSONObject json = new JSONObject();\njson.put(&quot;test&quot;, test);\n            \nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(json.toString(), headers);\ntry\n{\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(URI, entity, String.class);\n}\ncatch (Exception e)\n{\n    //Error handling\n}\n</code></pre>\n<p>Where the headers are:</p>\n<pre><code>return new HttpHeaders() \n{\n    {\n        String authHeader = &quot;Bearer &quot; + token;\n        setContentType(MediaType.APPLICATION_JSON);\n        setAcceptCharset(Arrays.asList(StandardCharsets.UTF_8));\n        setAccept(Arrays.asList(MediaType.ALL));\n        add( &quot;Authorization&quot;, authHeader );\n    }\n};\n</code></pre>\n<p>By using the above I do get a 200 response code but with a non readable body. Looking at my logs I can see that the actual request was done with:</p>\n<pre><code>URI         : MyURI\nMethod      : POST\nHeaders     : {Accept=[*/*], Content-Type=[application/json], Accept-Charset=[big5, big5-hkscs, cesu-8, euc-jp, euc-kr, gb18030, gb2312, gbk, ibm-thai, ibm00858, ibm01140, ibm01141, ibm01142, ibm01143, ibm01144, ibm01145, ibm01146, ibm01147, ibm01148, ibm01149, ibm037, ibm1026, ibm1047, ibm273, ibm277, ibm278, ibm280, ibm284, ibm285, ibm290, ibm297, ibm420, ibm424, ibm437, ibm500, ibm775, ibm850, ibm852, ibm855, ibm857, ibm860, ibm861, ibm862, ibm863, ibm864, ibm865, ibm866, ibm868, ibm869, ibm870, ibm871, ibm918, iso-2022-cn, iso-2022-jp, iso-2022-jp-2, iso-2022-kr, iso-8859-1, iso-8859-13, iso-8859-15, iso-8859-2, iso-8859-3, iso-8859-4, iso-8859-5, iso-8859-6, iso-8859-7, iso-8859-8, iso-8859-9, jis_x0201, jis_x0212-1990, koi8-r, koi8-u, shift_jis, tis-620, us-ascii, utf-16, utf-16be, utf-16le, utf-32, utf-32be, utf-32le, utf-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-big5-hkscs-2001, x-big5-solaris, x-euc-jp-linux, x-euc-tw, x-eucjp-open, x-ibm1006, x-ibm1025, x-ibm1046, x-ibm1097, x-ibm1098, x-ibm1112, x-ibm1122, x-ibm1123, x-ibm1124, x-ibm1166, x-ibm1364, x-ibm1381, x-ibm1383, x-ibm300, x-ibm33722, x-ibm737, x-ibm833, x-ibm834, x-ibm856, x-ibm874, x-ibm875, x-ibm921, x-ibm922, x-ibm930, x-ibm933, x-ibm935, x-ibm937, x-ibm939, x-ibm942, x-ibm942c, x-ibm943, x-ibm943c, x-ibm948, x-ibm949, x-ibm949c, x-ibm950, x-ibm964, x-ibm970, x-iscii91, x-iso-2022-cn-cns, x-iso-2022-cn-gb, x-iso-8859-11, x-jis0208, x-jisautodetect, x-johab, x-macarabic, x-maccentraleurope, x-maccroatian, x-maccyrillic, x-macdingbat, x-macgreek, x-machebrew, x-maciceland, x-macroman, x-macromania, x-macsymbol, x-macthai, x-macturkish, x-macukraine, x-ms932_0213, x-ms950-hkscs, x-ms950-hkscs-xp, x-mswin-936, x-pck, x-sjis_0213, x-utf-16le-bom, x-utf-32be-bom, x-utf-32le-bom, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp], Authorization=[Bearer Bearer], Content-Length=[X]}\nRequest body: {&quot;test&quot;:&quot;test&quot;}\n</code></pre>\n<p>It seems that even though I am explicit asking for a response in UTF-8, the request itself is asking for a response with all the possible Charsets and I am keen to believe this is why I cannot read the response.</p>\n<p>Furthermore I can see that the response I am getting is in UTF-16:</p>\n<p>Status code  : 200\nStatus text  : OK\nHeaders      : {Date=[Sun, 23 Jan 2022 21:03:49 GMT], Content-Type=[text/plain; charset=utf-16], Transfer-Encoding=[chunked], Connection=[keep-alive]}</p>\n<p>Any help on this?</p>\n"},{"tags":["java","arrays","ascii"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1657708997,"post_id":72964931,"comment_id":128873143,"body_markdown":"what do you expect ? what don&#39;t you understand ?","body":"what do you expect ? what don&#39;t you understand ?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1657709029,"post_id":72964931,"comment_id":128873153,"body_markdown":"What *other* output did you expect? Why?","body":"What <i>other</i> output did you expect? Why?"},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1657709188,"post_id":72964931,"comment_id":128873212,"body_markdown":"The ASCII code for uppercase &#39;A&#39; is 65 (0x41), and the ASCII code for lowercase &#39;a&#39; is 97 (0x61). Your lowercase letters match `a[i]&gt;=&#39;A&#39;`, and therefore will be modified by your script.","body":"The ASCII code for uppercase &#39;A&#39; is 65 (0x41), and the ASCII code for lowercase &#39;a&#39; is 97 (0x61). Your lowercase letters match <code>a[i]&gt;=&#39;A&#39;</code>, and therefore will be modified by your script."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1657709325,"post_id":72964931,"comment_id":128873274,"body_markdown":"Also, do you need to handle characters such as `&#39;&lt;&#39;` `&#39;=&#39;` `&#39;&gt;&#39;` `&#39;^&#39;`?","body":"Also, do you need to handle characters such as <code>&#39;&lt;&#39;</code> <code>&#39;=&#39;</code> <code>&#39;&gt;&#39;</code> <code>&#39;^&#39;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657709905,"creation_date":1657709212,"answer_id":72965005,"question_id":72964931,"body_markdown":"&#39;a&#39; is bigger &#39;A&#39;. Note that *index/position* in [Unicode Table][1] of &#39;a&#39; is [97][2] (or 0x61 if yo prefer hexadecimal system) while &#39;A&#39; is [65][3] (0x41 in hexadecimal). \r\n\r\nSo if we compare `&#39;a&#39; &gt; &#39;A&#39;` it is same as comparing `97 &gt; 65`.\r\n\r\nExample:\r\n```\r\nSystem.out.println((int)&#39;a&#39;); //97\r\nSystem.out.println((int)&#39;A&#39;); //65\r\nSystem.out.println(&#39;a&#39;&gt;&#39;A&#39;);  //true\r\n```\r\n\r\nThis means that our condition `if(a[i] &gt;= &#39;A&#39;)` also includes all lowercase characters like `&#39;a&#39;` `&#39;b&#39;`.\r\n\r\nTo handle only uppercase characters either \r\n- change `&gt;=&#39;A&#39;` into `&lt; &#39;a&#39;` \r\n- OR add second condition for &quot;maximal&quot; accepted character, like `if (a[i]&gt;=&#39;A&#39; &amp;&amp; a[i]&lt;=&#39;Z&#39;)`\r\n\r\n```\r\nString s = new String(&quot;ndkcnNKDNKCNnknd&quot;);\r\nchar[] a = s.toCharArray();\r\n//char c;\r\n//System.out.println(a[2]);\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n    if (a[i] &lt; &#39;a&#39;) {\r\n        a[i] = (char) (a[i] - &#39;A&#39; + &#39;a&#39;);\r\n    }\r\n}\r\ns = String.copyValueOf(a);\r\nSystem.out.println(s);\r\n```\r\n\r\n\r\n  [1]: https://unicode-table.com/en/\r\n  [2]: https://unicode-table.com/en/0061/\r\n  [3]: https://unicode-table.com/en/0041/","title":"element in character array is replaced by &#39;?&#39;","body":"<p>'a' is bigger 'A'. Note that <em>index/position</em> in <a href=\"https://unicode-table.com/en/\" rel=\"nofollow noreferrer\">Unicode Table</a> of 'a' is <a href=\"https://unicode-table.com/en/0061/\" rel=\"nofollow noreferrer\">97</a> (or 0x61 if yo prefer hexadecimal system) while 'A' is <a href=\"https://unicode-table.com/en/0041/\" rel=\"nofollow noreferrer\">65</a> (0x41 in hexadecimal).</p>\n<p>So if we compare <code>'a' &gt; 'A'</code> it is same as comparing <code>97 &gt; 65</code>.</p>\n<p>Example:</p>\n<pre><code>System.out.println((int)'a'); //97\nSystem.out.println((int)'A'); //65\nSystem.out.println('a'&gt;'A');  //true\n</code></pre>\n<p>This means that our condition <code>if(a[i] &gt;= 'A')</code> also includes all lowercase characters like <code>'a'</code> <code>'b'</code>.</p>\n<p>To handle only uppercase characters either</p>\n<ul>\n<li>change <code>&gt;='A'</code> into <code>&lt; 'a'</code></li>\n<li>OR add second condition for &quot;maximal&quot; accepted character, like <code>if (a[i]&gt;='A' &amp;&amp; a[i]&lt;='Z')</code></li>\n</ul>\n<pre><code>String s = new String(&quot;ndkcnNKDNKCNnknd&quot;);\nchar[] a = s.toCharArray();\n//char c;\n//System.out.println(a[2]);\nfor (int i = 0; i &lt; a.length; i++) {\n    if (a[i] &lt; 'a') {\n        a[i] = (char) (a[i] - 'A' + 'a');\n    }\n}\ns = String.copyValueOf(a);\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657710509,"creation_date":1657710509,"answer_id":72965264,"question_id":72964931,"body_markdown":"When string is comprised from lower case and upper case English letters condition `a[i] &gt;= &#39;A&#39;` is always `true`. Hence you&#39;re altering both lower case and upper case letter in the array.\r\n\r\nYou can fix the code and make it more expressive by using `Character.isUpperCase` and `Character.toLowerCase`.\r\n\r\n```\r\nString source = &quot;ndkcnNKDNKCNnknd&quot;;\r\nchar[] characters = source.toCharArray();\r\n        \r\nfor (int i = 0; i &lt; characters.length; i++) {\r\n    if (Character.isUpperCase(characters[i])) {\r\n        characters[i] = Character.toLowerCase(characters[i]);\r\n    }\r\n}\r\n    \r\nSystem.out.println(Arrays.toString(characters));\r\n```","title":"element in character array is replaced by &#39;?&#39;","body":"<p>When string is comprised from lower case and upper case English letters condition <code>a[i] &gt;= 'A'</code> is always <code>true</code>. Hence you're altering both lower case and upper case letter in the array.</p>\n<p>You can fix the code and make it more expressive by using <code>Character.isUpperCase</code> and <code>Character.toLowerCase</code>.</p>\n<pre><code>String source = &quot;ndkcnNKDNKCNnknd&quot;;\nchar[] characters = source.toCharArray();\n        \nfor (int i = 0; i &lt; characters.length; i++) {\n    if (Character.isUpperCase(characters[i])) {\n        characters[i] = Character.toLowerCase(characters[i]);\n    }\n}\n    \nSystem.out.println(Arrays.toString(characters));\n</code></pre>\n"}],"owner":{"account_id":24489969,"reputation":51,"user_id":18407165,"display_name":"No Name"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657710509,"creation_date":1657708884,"question_id":72964931,"body_markdown":"I am modifying array like this. But the lower case characters are replaced by &#39;?&#39;. This could be a very basic mistake but I am not able to get it.\r\n\r\n    String s = new String(&quot;ndkcnNKDNKCNnknd&quot;);\r\n    char[] a = s.toCharArray();\r\n    char c;\r\n    System.out.println(a[2]);\r\n    for (int i=0; i&lt;a.length; i++){\r\n        if(a[i] &gt;= &#39;A&#39;){\r\n            a[i] = (char)(a[i]-&#39;A&#39;+&#39;a&#39;);\r\n        }\r\n    }\r\n\r\n    s = String.copyValueOf(a);\r\n    System.out.println(s);\r\n\r\n\r\n\r\nOutput: \r\n\r\n    k  \r\n    ?????nkdnkcn????","title":"element in character array is replaced by &#39;?&#39;","body":"<p>I am modifying array like this. But the lower case characters are replaced by '?'. This could be a very basic mistake but I am not able to get it.</p>\n<pre><code>String s = new String(&quot;ndkcnNKDNKCNnknd&quot;);\nchar[] a = s.toCharArray();\nchar c;\nSystem.out.println(a[2]);\nfor (int i=0; i&lt;a.length; i++){\n    if(a[i] &gt;= 'A'){\n        a[i] = (char)(a[i]-'A'+'a');\n    }\n}\n\ns = String.copyValueOf(a);\nSystem.out.println(s);\n</code></pre>\n<p>Output:</p>\n<pre><code>k  \n?????nkdnkcn????\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657626904,"creation_date":1657626904,"answer_id":72951893,"question_id":72950936,"body_markdown":"It looks like you are not returning json from `get` operation.\r\n\r\nCan you use `accept` method &amp; see if your test able to evaluate jsonpath?\r\n\r\n    MvcResult mvcResult = this.mockMvc.perform(get(&quot;/api/v1/user/{userId}/notifications/count&quot;,100))\r\n\t\t\t\t .accept(MediaType.APPLICATION_JSON).... //call other methods","title":"java.lang.AssertionError: No value at JSON path &quot;$.data.count&quot; Caused by: java.lang.IllegalArgumentException: json can not be null or empty","body":"<p>It looks like you are not returning json from <code>get</code> operation.</p>\n<p>Can you use <code>accept</code> method &amp; see if your test able to evaluate jsonpath?</p>\n<pre><code>MvcResult mvcResult = this.mockMvc.perform(get(&quot;/api/v1/user/{userId}/notifications/count&quot;,100))\n             .accept(MediaType.APPLICATION_JSON).... //call other methods\n</code></pre>\n"}],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1657710289,"creation_date":1657622147,"question_id":72950936,"body_markdown":"   \r\n**Exception**\r\n \r\n    java.lang.AssertionError: No value at JSON path &quot;$.data.count&quot;\r\n        \tat org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:295)\r\n        \tat org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:98)\r\n        \tat org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)\r\n        \tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:196)\r\n        \tat com.amway.elearning.notification.AmwayNotificationElearningApplicationTests.testCountEndPoint(AmwayNotificationElearningApplicationTests.java:267)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n        \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n        \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n        \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n        \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n        \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n        \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n        \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n        \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n        \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n        \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n        \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n        \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n        \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n        \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n        \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n        \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n        \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n        \tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n        \tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n        \tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n        \tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n        \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n        \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n        \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n        \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n        \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n        \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n        \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n        \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n        \tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n        \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n        \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n        \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n        \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n        \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n        Caused by: java.lang.IllegalArgumentException: json can not be null or empty\r\n        \tat com.jayway.jsonpath.internal.Utils.notEmpty(Utils.java:386)\r\n        \tat com.jayway.jsonpath.JsonPath.read(JsonPath.java:342)\r\n        \tat com.jayway.jsonpath.JsonPath.read(JsonPath.java:329)\r\n        \tat org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:292)\r\n        \t... 45 more\r\n\r\n\r\n\r\n**Code** \r\n\r\n\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.autoconfigure.ImportAutoConfiguration;\r\n    import org.springframework.cloud.autoconfigure.RefreshAutoConfiguration;\r\n    import org.springframework.context.annotation.EnableAspectJAutoProxy;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.MvcResult;\r\n    import org.springframework.test.web.servlet.RequestBuilder;\r\n    import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n    \r\n    import com.amway.elearning.notification.controller.InAppNotificationController;\r\n    import com.amway.elearning.notification.model.response.CountVO;\r\n    import com.amway.elearning.notification.repository.InAppNotificationRepository;\r\n    import com.amway.elearning.notification.service.InAppNotificationService;\r\n    import com.amway.elearning.notification.service.impl.InAppNotificationServiceImpl;\r\n    import com.amway.elearning.notification.util.TracerUtil;\r\n    \r\n    \r\n    @ImportAutoConfiguration(RefreshAutoConfiguration.class)\r\n    @EnableAspectJAutoProxy\r\n    @ContextConfiguration(classes = {})\r\n    @TestPropertySource(locations = { &quot;classpath:application-messages.properties&quot;, &quot;classpath:application.properties&quot;,\r\n                                      &quot;classpath:application-sonar-project.properties&quot; })\r\n    public class AmwayNotificationElearningApplicationTests {\r\n    \r\n      \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(AmwayNotificationElearningApplicationTests.class);\r\n        private MockMvc mockMvc;\r\n    \r\n        @Mock\r\n        private InAppNotificationRepository inAppNotificationRepository;\r\n    \r\n        @Mock\r\n        TracerUtil&lt;CountVO&gt; countNotificationUtil;\r\n        \r\n        private InAppNotificationService inAppNotificationService; \r\n    \r\n        private InAppNotificationController inAppNotificationController;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n           inAppNotificationController = new InAppNotificationController();\r\n            inAppNotificationService = new InAppNotificationServiceImpl(inAppNotificationRepository);\r\n            ReflectionTestUtils.setField(inAppNotificationController, &quot;inAppNotificationService&quot;, inAppNotificationService);\r\n            ReflectionTestUtils.setField(inAppNotificationController, &quot;countNotificationUtil&quot;, countNotificationUtil);\r\n            ReflectionTestUtils.setField(inAppNotificationService, &quot;inAppNotificationRepository&quot;, inAppNotificationRepository);\r\n            mockMvc = MockMvcBuilders.standaloneSetup(inAppNotificationController).build();\r\n        }\r\n        \r\n        @Test\r\n        public void testCountEndPoint() throws Exception {\r\n          when(inAppNotificationRepository.countByUserIdAndIsReadFalse(&quot;100&quot;)).thenReturn(5L);\r\n        \r\n          MvcResult mvcResult = this.mockMvc.perform(get(&quot;/api/v1/user/{userId}/notifications/count&quot;,100))\r\n             \r\n              .andDo(print()).andExpect(status().isOk())\r\n              .andExpect(jsonPath(&quot;$.data.count&quot;).value(5L))\r\n              .andReturn();\r\n        }\r\n\r\n\r\n**Logs**\r\n\r\n    MockHttpServletRequest:\r\n          HTTP Method = GET\r\n          Request URI = /api/v1/user/100/notifications/count\r\n           Parameters = {}\r\n              Headers = []\r\n                 Body = null\r\n        Session Attrs = {}\r\n    \r\n    Handler:\r\n                 Type = com.amway.elearning.notification.controller.InAppNotificationController\r\n               Method = com.amway.elearning.notification.controller.InAppNotificationController#getCount(String)\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = null\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = []\r\n         Content type = null\r\n                 Body = \r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n\r\n\r\n","title":"java.lang.AssertionError: No value at JSON path &quot;$.data.count&quot; Caused by: java.lang.IllegalArgumentException: json can not be null or empty","body":"<p><strong>Exception</strong></p>\n<pre><code>java.lang.AssertionError: No value at JSON path &quot;$.data.count&quot;\n        at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:295)\n        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:98)\n        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)\n        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:196)\n        at com.amway.elearning.notification.AmwayNotificationElearningApplicationTests.testCountEndPoint(AmwayNotificationElearningApplicationTests.java:267)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n        at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n        at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n        at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n        at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n        at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n        at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n        at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n    Caused by: java.lang.IllegalArgumentException: json can not be null or empty\n        at com.jayway.jsonpath.internal.Utils.notEmpty(Utils.java:386)\n        at com.jayway.jsonpath.JsonPath.read(JsonPath.java:342)\n        at com.jayway.jsonpath.JsonPath.read(JsonPath.java:329)\n        at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:292)\n        ... 45 more\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\nimport org.springframework.cloud.autoconfigure.RefreshAutoConfiguration;\nimport org.springframework.context.annotation.EnableAspectJAutoProxy;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.util.ReflectionTestUtils;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\nimport com.amway.elearning.notification.controller.InAppNotificationController;\nimport com.amway.elearning.notification.model.response.CountVO;\nimport com.amway.elearning.notification.repository.InAppNotificationRepository;\nimport com.amway.elearning.notification.service.InAppNotificationService;\nimport com.amway.elearning.notification.service.impl.InAppNotificationServiceImpl;\nimport com.amway.elearning.notification.util.TracerUtil;\n\n\n@ImportAutoConfiguration(RefreshAutoConfiguration.class)\n@EnableAspectJAutoProxy\n@ContextConfiguration(classes = {})\n@TestPropertySource(locations = { &quot;classpath:application-messages.properties&quot;, &quot;classpath:application.properties&quot;,\n                                  &quot;classpath:application-sonar-project.properties&quot; })\npublic class AmwayNotificationElearningApplicationTests {\n\n  \n    private static final Logger LOGGER = LoggerFactory.getLogger(AmwayNotificationElearningApplicationTests.class);\n    private MockMvc mockMvc;\n\n    @Mock\n    private InAppNotificationRepository inAppNotificationRepository;\n\n    @Mock\n    TracerUtil&lt;CountVO&gt; countNotificationUtil;\n    \n    private InAppNotificationService inAppNotificationService; \n\n    private InAppNotificationController inAppNotificationController;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n       inAppNotificationController = new InAppNotificationController();\n        inAppNotificationService = new InAppNotificationServiceImpl(inAppNotificationRepository);\n        ReflectionTestUtils.setField(inAppNotificationController, &quot;inAppNotificationService&quot;, inAppNotificationService);\n        ReflectionTestUtils.setField(inAppNotificationController, &quot;countNotificationUtil&quot;, countNotificationUtil);\n        ReflectionTestUtils.setField(inAppNotificationService, &quot;inAppNotificationRepository&quot;, inAppNotificationRepository);\n        mockMvc = MockMvcBuilders.standaloneSetup(inAppNotificationController).build();\n    }\n    \n    @Test\n    public void testCountEndPoint() throws Exception {\n      when(inAppNotificationRepository.countByUserIdAndIsReadFalse(&quot;100&quot;)).thenReturn(5L);\n    \n      MvcResult mvcResult = this.mockMvc.perform(get(&quot;/api/v1/user/{userId}/notifications/count&quot;,100))\n         \n          .andDo(print()).andExpect(status().isOk())\n          .andExpect(jsonPath(&quot;$.data.count&quot;).value(5L))\n          .andReturn();\n    }\n</code></pre>\n<p><strong>Logs</strong></p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /api/v1/user/100/notifications/count\n       Parameters = {}\n          Headers = []\n             Body = null\n    Session Attrs = {}\n\nHandler:\n             Type = com.amway.elearning.notification.controller.InAppNotificationController\n           Method = com.amway.elearning.notification.controller.InAppNotificationController#getCount(String)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n"},{"tags":["java","multithreading","hibernate"],"comments":[{"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"score":0,"creation_date":1334776834,"post_id":9989293,"comment_id":13122393,"body_markdown":"Are you using SessionFactory.getCurrentSession() or .openSession() to obtain your Session objects?  If getCurrentSession, what CurrentSessionContext are you using?  I&#39;m guessing ThreadLocalSessionContext, but you&#39;re referring to it as a &#39;pattern&#39; as opposed to a class.","body":"Are you using SessionFactory.getCurrentSession() or .openSession() to obtain your Session objects?  If getCurrentSession, what CurrentSessionContext are you using?  I&#39;m guessing ThreadLocalSessionContext, but you&#39;re referring to it as a &#39;pattern&#39; as opposed to a class."},{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":0,"creation_date":1334836306,"post_id":9989293,"comment_id":13139184,"body_markdown":"Thanks for looking into this.. I updated the question with more detail.","body":"Thanks for looking into this.. I updated the question with more detail."}],"answers":[{"tags":[],"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1657710071,"creation_date":1334868310,"answer_id":10236458,"question_id":9989293,"body_markdown":"Using `ThreadLocalSessionContext` could be problematic for you, but it depends on what your tasks are doing.  \r\n\r\nA `ForkJoinPool` ([javadocs][1]) is meant for use in cases where tasks spawn other tasks (the fork), and wait for them to complete (the join).  While waiting, the Thread that was executing the parent task may be re-used to execute a child task.  According to the javadocs for [ThreadLocalSessionContext][2], the `Session` gets closed when you commit a transaction you get from it (ie there&#39;s only ever one transaction per `Session`).\r\n\r\nSo, if you have a &#39;parent&#39; task that calls `sessionFactory.getCurrentSession()`, and does some stuff, then calls commit(), the Session gets closed and there&#39;s no danger of inappropriate interaction.\r\n\r\nHowever, if you spawn children tasks AFTER calling `.getCurrentSession()` and BEFORE calling `.commit()`, you may run in to issues because other tasks may execute on this Thread, and `.getCurrentSession()` would return the session used by the parent task.  This is almost certainly not what you want, because the children tasks should presumably be doing the same thing as each other, and you wouldn&#39;t want one arbitrarily sharing `Session` state with the parent while others don&#39;t.\r\n\r\nSo in summary, you should:\r\n\r\n - Not call `session.close()` if you get the `Session` from `.getCurrentSession()`, because it&#39;s the responsibility of the `CurrentSessionContext` to deal with that.\r\n - Be in a committed relationship before having children....  I mean, call `.commit()` before spawning children tasks.\r\n\r\nAs a footnote, I found [this wiki page][3] to be a helpful read on the subject as well.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/context/internal/ThreadLocalSessionContext.html\r\n  [3]: https://developer.jboss.org/docs/DOC-13951#jive_content_id_Implementing_long_Conversations","title":"Hibernate ThreadLocal Session management compatible with ForkJoinPool?","body":"<p>Using <code>ThreadLocalSessionContext</code> could be problematic for you, but it depends on what your tasks are doing.</p>\n<p>A <code>ForkJoinPool</code> (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">javadocs</a>) is meant for use in cases where tasks spawn other tasks (the fork), and wait for them to complete (the join).  While waiting, the Thread that was executing the parent task may be re-used to execute a child task.  According to the javadocs for <a href=\"https://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/context/internal/ThreadLocalSessionContext.html\" rel=\"nofollow noreferrer\">ThreadLocalSessionContext</a>, the <code>Session</code> gets closed when you commit a transaction you get from it (ie there's only ever one transaction per <code>Session</code>).</p>\n<p>So, if you have a 'parent' task that calls <code>sessionFactory.getCurrentSession()</code>, and does some stuff, then calls commit(), the Session gets closed and there's no danger of inappropriate interaction.</p>\n<p>However, if you spawn children tasks AFTER calling <code>.getCurrentSession()</code> and BEFORE calling <code>.commit()</code>, you may run in to issues because other tasks may execute on this Thread, and <code>.getCurrentSession()</code> would return the session used by the parent task.  This is almost certainly not what you want, because the children tasks should presumably be doing the same thing as each other, and you wouldn't want one arbitrarily sharing <code>Session</code> state with the parent while others don't.</p>\n<p>So in summary, you should:</p>\n<ul>\n<li>Not call <code>session.close()</code> if you get the <code>Session</code> from <code>.getCurrentSession()</code>, because it's the responsibility of the <code>CurrentSessionContext</code> to deal with that.</li>\n<li>Be in a committed relationship before having children....  I mean, call <code>.commit()</code> before spawning children tasks.</li>\n</ul>\n<p>As a footnote, I found <a href=\"https://developer.jboss.org/docs/DOC-13951#jive_content_id_Implementing_long_Conversations\" rel=\"nofollow noreferrer\">this wiki page</a> to be a helpful read on the subject as well.</p>\n"}],"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8596,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":10236458,"answer_count":1,"score":9,"last_activity_date":1657710071,"creation_date":1333439818,"question_id":9989293,"body_markdown":"I usually use the Hibernate ThreadLocal session management pattern in Java web projects:\r\n\r\n&gt; The Thread Local Session pattern makes use of the\r\n&gt; java.lang.ThreadLocal class to create a Session that is accessible\r\n&gt; from a single application thread. This is particularly convenient in\r\n&gt; multithreaded applications, such as web applications.\r\n\r\nIn projects I implement this with\r\n\r\n    &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\nin the `hibernate.xml` and using `SessionFactory.getCurrentSession()` to get a session whenever I need one.\r\n\r\nNow I have a program that is **not** a Servlet, but does heavy parallel computing and database interaction. \r\n\r\nI want to implement this with a ForkJoinPool. Now I wonder whether it is a mistake to use Hibernate ThreadLocal session management in this scenario. As far as I understand, a ForkJoinPool uses a smaller number of threads and shares them among running tasks while other tasks are sleeping. (Motivated by stalling/annoying &quot;&lt;IDLE&gt; task in transaction&#39; connections,) I want to close() every Hibernate Session after a unit of work.\r\n\r\nSo.. when I call HibernateSessionFactory.getThreadLocalSession().close() at the end of my Task - and the Task is run in a ForkJoinPool - will troubles arise? Should I drop the ThreadLocal pattern for heavy parallel calculations and manage the Sessions myself?\r\n\r\nThanks in advance for any answers.","title":"Hibernate ThreadLocal Session management compatible with ForkJoinPool?","body":"<p>I usually use the Hibernate ThreadLocal session management pattern in Java web projects:</p>\n\n<blockquote>\n  <p>The Thread Local Session pattern makes use of the\n  java.lang.ThreadLocal class to create a Session that is accessible\n  from a single application thread. This is particularly convenient in\n  multithreaded applications, such as web applications.</p>\n</blockquote>\n\n<p>In projects I implement this with</p>\n\n<pre><code>&lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n</code></pre>\n\n<p>in the <code>hibernate.xml</code> and using <code>SessionFactory.getCurrentSession()</code> to get a session whenever I need one.</p>\n\n<p>Now I have a program that is <strong>not</strong> a Servlet, but does heavy parallel computing and database interaction. </p>\n\n<p>I want to implement this with a ForkJoinPool. Now I wonder whether it is a mistake to use Hibernate ThreadLocal session management in this scenario. As far as I understand, a ForkJoinPool uses a smaller number of threads and shares them among running tasks while other tasks are sleeping. (Motivated by stalling/annoying \" task in transaction' connections,) I want to close() every Hibernate Session after a unit of work.</p>\n\n<p>So.. when I call HibernateSessionFactory.getThreadLocalSession().close() at the end of my Task - and the Task is run in a ForkJoinPool - will troubles arise? Should I drop the ThreadLocal pattern for heavy parallel calculations and manage the Sessions myself?</p>\n\n<p>Thanks in advance for any answers.</p>\n"},{"tags":["java","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":9831735,"reputation":207,"user_id":7283182,"display_name":"Shubhasish Bhunia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657709668,"creation_date":1657709668,"answer_id":72965107,"question_id":72957616,"body_markdown":"After lot of searching I didn&#39;t find any answer which is solving the issue only using **thymeleaf**.\r\nTo solve this issue I had to add two hidden input field for *medicineId* and *boxNumber* on *medicineOrder* object and populate those input field using **javascript** as below. Anyway if anyone find the solution by only using thymeleaf, please let me know.\r\n\r\n\r\nPopulated those fields using javascript\r\n\r\n    &lt;script&gt;\r\n        function function__02__number__assignment(_element){\r\n            var __element = _element.children[0];\r\n            var __tElement1 = __element.children[0];\r\n            var __tElement2 = __element.children[1];\r\n            // Copy value from 2 to 1\r\n            __tElement1.value = __tElement2.value;\r\n        }\r\n        function function__01__box_traverse(){\r\n            var rootElement = document.getElementsByClassName(&#39;box-stock-details&#39;);\r\n            for(var __i=0 ; __i &lt; rootElement.length ; __i++) {\r\n                function__02__number__assignment(rootElement[__i]);\r\n            }\r\n            function_01_01_medicineId();\r\n            return true;\r\n        }\r\n        function function_01_01_medicineId(){\r\n            var _00_1_id_src = document.getElementById(&#39;00-1-id-src&#39;);\r\n            var _00_1_id_dest = document.getElementById(&#39;00-1-id-dest&#39;);\r\n            _00_1_id_dest.value = _00_1_id_src.value;\r\n        }\r\n    &lt;/script&gt;\r\n\r\nupdated template file \r\n\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;ISO-8859-1&quot;/&gt;\r\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n        &lt;title&gt;Spring Boot Application&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;br/&gt;\r\n        &lt;a class=&quot;btn btn-primary&quot; th:href=&quot;@{/mvc/medicine/list}&quot;&gt;Back&lt;/a&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;h3 class=&quot;text-center alert alert-success&quot;&gt;Medicine Details&lt;/h3&gt;\r\n        &lt;form class=&quot;row g-3&quot; action=&quot;#&quot; th:action=&quot;@{/mvc/medicine/sell}&quot; method=&quot;post&quot; th:object=&quot;${medicineOrder}&quot;&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;name&quot; class=&quot;form-label&quot;&gt;Name&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; style=&quot;background-color:#95edea&quot; disabled class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;${medicine.name}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;company&quot; class=&quot;form-label&quot;&gt;Company&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;company&quot; th:field=&quot;${medicine.companyStringName}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;price&quot; class=&quot;form-label&quot;&gt;Price&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;price&quot; th:field=&quot;${medicine.price}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;count&quot; class=&quot;form-label&quot;&gt;Count&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;count&quot; th:field=&quot;${medicine.count}&quot;/&gt;\r\n            &lt;/div&gt;--&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;volume&quot; class=&quot;form-label&quot;&gt;ML&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;volume&quot; th:field=&quot;${medicine.volume}&quot;/&gt;\r\n            &lt;/div&gt;\r\n    \r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;purchaseDate&quot; class=&quot;form-label&quot;&gt;Date Purchased&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;purchaseDate&quot; th:field=&quot;${medicine.purchaseDate}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;boxNo&quot; class=&quot;form-label&quot;&gt;Box Number&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;boxNo&quot; th:field=&quot;${medicine.boxNumber}&quot;/&gt;\r\n            &lt;/div&gt;--&gt;\r\n            &lt;!-- Hidden input to get the value of medicineId from Medicine object --&gt;\r\n            &lt;input id=&quot;00-1-id-src&quot; type=&quot;hidden&quot; th:value=&quot;${medicine.medicineId}&quot;/&gt;\r\n            &lt;!-- Hidden input to set the medicineId on MedicineOrder object  --&gt;\r\n            &lt;input id=&quot;00-1-id-dest&quot; type=&quot;hidden&quot; th:field=&quot;*{medicineId}&quot; /&gt;\r\n            &lt;table class=&quot;table table-bordered&quot;&gt;\r\n                &lt;tr class=&quot;table-primary&quot;&gt;\r\n                    &lt;td&gt;Box Number&lt;/td&gt;\r\n                    &lt;td&gt;Medicine Count&lt;/td&gt;\r\n                    &lt;td&gt;Sell Count&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr class=&quot;box-stock-details&quot; th:each=&quot;medicineBox : ${medicine.medicineBoxes}&quot;&gt;\r\n                    &lt;td class=&quot;text-center&quot;&gt;\r\n                        &lt;input hidden th:field=&quot;*{boxes[__${medicineBoxStat.index}__].boxNumber}&quot; /&gt;\r\n                        &lt;input disabled class=&quot;form-control&quot; type=&quot;text&quot; th:value=&quot;${medicineBox.box.number}&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td class=&quot;text-center&quot; th:text=&quot;${medicineBox.medicineCount}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;number&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].medicineCount}&quot; class=&quot;form-control&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n            &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot; onclick=&quot;return function__01__box_traverse()&quot;&gt;Sell&lt;/button&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;script&gt;\r\n        function function__02__number__assignment(_element){\r\n            var __element = _element.children[0];\r\n            var __tElement1 = __element.children[0];\r\n            var __tElement2 = __element.children[1];\r\n            // Copy value from 2 to 1\r\n            __tElement1.value = __tElement2.value;\r\n        }\r\n        function function__01__box_traverse(){\r\n            var rootElement = document.getElementsByClassName(&#39;box-stock-details&#39;);\r\n            for(var __i=0 ; __i &lt; rootElement.length ; __i++) {\r\n                function__02__number__assignment(rootElement[__i]);\r\n            }\r\n            function_01_01_medicineId();\r\n            return true;\r\n        }\r\n        function function_01_01_medicineId(){\r\n            var _00_1_id_src = document.getElementById(&#39;00-1-id-src&#39;);\r\n            var _00_1_id_dest = document.getElementById(&#39;00-1-id-dest&#39;);\r\n            _00_1_id_dest.value = _00_1_id_src.value;\r\n        }\r\n    &lt;/script&gt;\r\n    &lt;/html&gt;","title":"How to set a object&#39;s field using another objects field in thymeleaf","body":"<p>After lot of searching I didn't find any answer which is solving the issue only using <strong>thymeleaf</strong>.\nTo solve this issue I had to add two hidden input field for <em>medicineId</em> and <em>boxNumber</em> on <em>medicineOrder</em> object and populate those input field using <strong>javascript</strong> as below. Anyway if anyone find the solution by only using thymeleaf, please let me know.</p>\n<p>Populated those fields using javascript</p>\n<pre><code>&lt;script&gt;\n    function function__02__number__assignment(_element){\n        var __element = _element.children[0];\n        var __tElement1 = __element.children[0];\n        var __tElement2 = __element.children[1];\n        // Copy value from 2 to 1\n        __tElement1.value = __tElement2.value;\n    }\n    function function__01__box_traverse(){\n        var rootElement = document.getElementsByClassName('box-stock-details');\n        for(var __i=0 ; __i &lt; rootElement.length ; __i++) {\n            function__02__number__assignment(rootElement[__i]);\n        }\n        function_01_01_medicineId();\n        return true;\n    }\n    function function_01_01_medicineId(){\n        var _00_1_id_src = document.getElementById('00-1-id-src');\n        var _00_1_id_dest = document.getElementById('00-1-id-dest');\n        _00_1_id_dest.value = _00_1_id_src.value;\n    }\n&lt;/script&gt;\n</code></pre>\n<p>updated template file</p>\n<pre><code>&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;/&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;title&gt;Spring Boot Application&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;br/&gt;\n    &lt;a class=&quot;btn btn-primary&quot; th:href=&quot;@{/mvc/medicine/list}&quot;&gt;Back&lt;/a&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;h3 class=&quot;text-center alert alert-success&quot;&gt;Medicine Details&lt;/h3&gt;\n    &lt;form class=&quot;row g-3&quot; action=&quot;#&quot; th:action=&quot;@{/mvc/medicine/sell}&quot; method=&quot;post&quot; th:object=&quot;${medicineOrder}&quot;&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;name&quot; class=&quot;form-label&quot;&gt;Name&lt;/label&gt;\n            &lt;input type=&quot;text&quot; style=&quot;background-color:#95edea&quot; disabled class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;${medicine.name}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;company&quot; class=&quot;form-label&quot;&gt;Company&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;company&quot; th:field=&quot;${medicine.companyStringName}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;price&quot; class=&quot;form-label&quot;&gt;Price&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;price&quot; th:field=&quot;${medicine.price}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;count&quot; class=&quot;form-label&quot;&gt;Count&lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;count&quot; th:field=&quot;${medicine.count}&quot;/&gt;\n        &lt;/div&gt;--&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;volume&quot; class=&quot;form-label&quot;&gt;ML&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;volume&quot; th:field=&quot;${medicine.volume}&quot;/&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;purchaseDate&quot; class=&quot;form-label&quot;&gt;Date Purchased&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;purchaseDate&quot; th:field=&quot;${medicine.purchaseDate}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;boxNo&quot; class=&quot;form-label&quot;&gt;Box Number&lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;boxNo&quot; th:field=&quot;${medicine.boxNumber}&quot;/&gt;\n        &lt;/div&gt;--&gt;\n        &lt;!-- Hidden input to get the value of medicineId from Medicine object --&gt;\n        &lt;input id=&quot;00-1-id-src&quot; type=&quot;hidden&quot; th:value=&quot;${medicine.medicineId}&quot;/&gt;\n        &lt;!-- Hidden input to set the medicineId on MedicineOrder object  --&gt;\n        &lt;input id=&quot;00-1-id-dest&quot; type=&quot;hidden&quot; th:field=&quot;*{medicineId}&quot; /&gt;\n        &lt;table class=&quot;table table-bordered&quot;&gt;\n            &lt;tr class=&quot;table-primary&quot;&gt;\n                &lt;td&gt;Box Number&lt;/td&gt;\n                &lt;td&gt;Medicine Count&lt;/td&gt;\n                &lt;td&gt;Sell Count&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr class=&quot;box-stock-details&quot; th:each=&quot;medicineBox : ${medicine.medicineBoxes}&quot;&gt;\n                &lt;td class=&quot;text-center&quot;&gt;\n                    &lt;input hidden th:field=&quot;*{boxes[__${medicineBoxStat.index}__].boxNumber}&quot; /&gt;\n                    &lt;input disabled class=&quot;form-control&quot; type=&quot;text&quot; th:value=&quot;${medicineBox.box.number}&quot; /&gt;\n                &lt;/td&gt;\n                &lt;td class=&quot;text-center&quot; th:text=&quot;${medicineBox.medicineCount}&quot;&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;number&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].medicineCount}&quot; class=&quot;form-control&quot; /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot; onclick=&quot;return function__01__box_traverse()&quot;&gt;Sell&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;script&gt;\n    function function__02__number__assignment(_element){\n        var __element = _element.children[0];\n        var __tElement1 = __element.children[0];\n        var __tElement2 = __element.children[1];\n        // Copy value from 2 to 1\n        __tElement1.value = __tElement2.value;\n    }\n    function function__01__box_traverse(){\n        var rootElement = document.getElementsByClassName('box-stock-details');\n        for(var __i=0 ; __i &lt; rootElement.length ; __i++) {\n            function__02__number__assignment(rootElement[__i]);\n        }\n        function_01_01_medicineId();\n        return true;\n    }\n    function function_01_01_medicineId(){\n        var _00_1_id_src = document.getElementById('00-1-id-src');\n        var _00_1_id_dest = document.getElementById('00-1-id-dest');\n        _00_1_id_dest.value = _00_1_id_src.value;\n    }\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":9831735,"reputation":207,"user_id":7283182,"display_name":"Shubhasish Bhunia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72965107,"answer_count":1,"score":0,"last_activity_date":1657709668,"creation_date":1657655077,"question_id":72957616,"body_markdown":"I&#39;m trying to set **boxes&#39;** elements copied from **medicineBox&#39;s** values like below. Can anyone help me in this. I need to post medicineOrder model to the controller\r\n\r\n                &lt;tr th:each=&quot;medicineBox : ${medicine.medicineBoxes}&quot;&gt;\r\n                    &lt;td class=&quot;text-center&quot;&gt;\r\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].boxNumber}&quot; th:value=&quot;${medicineBox.box.number}&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td class=&quot;text-center&quot; th:text=&quot;${medicineBox.medicineCount}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;number&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].medicineCount}&quot; class=&quot;form-control&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n\r\nI&#39;m using two object here -\r\n\r\n1. medicine and medicineOrder  \r\n\r\n------------------&gt; Controller method to get the page\r\n\r\n        @GetMapping(&quot;/{medicineId}&quot;)\r\n        public String loadMedicineDetailPage(@PathVariable(&quot;medicineId&quot;) long medicineId, Model model) {\r\n            model.addAttribute(&quot;medicine&quot;, service.getMedicineById(medicineId));\r\n            model.addAttribute(&quot;medicineOrder&quot;, new MedicineOrder());\r\n            return WebPages.MEDICINE_DETAIL.toString();\r\n        }\r\n\r\n------------------&gt; thymeleaf html page \r\n\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;ISO-8859-1&quot;/&gt;\r\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n        &lt;title&gt;Spring Boot Application&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;br/&gt;\r\n        &lt;a class=&quot;btn btn-primary&quot; th:href=&quot;@{/mvc/medicine/list}&quot;&gt;Back&lt;/a&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;h3 class=&quot;text-center alert alert-success&quot;&gt;Medicine Details&lt;/h3&gt;\r\n        &lt;form class=&quot;row g-3&quot; action=&quot;#&quot; th:action=&quot;@{/mvc/medicine/sell}&quot; method=&quot;post&quot; th:object=&quot;${medicineOrder}&quot;&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;name&quot; class=&quot;form-label&quot;&gt;Name&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; style=&quot;background-color:#95edea&quot; disabled class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;${medicine.name}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;company&quot; class=&quot;form-label&quot;&gt;Company&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;company&quot; th:field=&quot;${medicine.companyStringName}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;price&quot; class=&quot;form-label&quot;&gt;Price&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;price&quot; th:field=&quot;${medicine.price}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;count&quot; class=&quot;form-label&quot;&gt;Count&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;count&quot; th:field=&quot;${medicine.count}&quot;/&gt;\r\n            &lt;/div&gt;--&gt;\r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;volume&quot; class=&quot;form-label&quot;&gt;ML&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;volume&quot; th:field=&quot;${medicine.volume}&quot;/&gt;\r\n            &lt;/div&gt;\r\n    \r\n            &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;purchaseDate&quot; class=&quot;form-label&quot;&gt;Date Purchased&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;purchaseDate&quot; th:field=&quot;${medicine.purchaseDate}&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\r\n                &lt;label for=&quot;boxNo&quot; class=&quot;form-label&quot;&gt;Box Number&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;boxNo&quot; th:field=&quot;${medicine.boxNumber}&quot;/&gt;\r\n            &lt;/div&gt;--&gt;\r\n            **&lt;input type=&quot;hidden&quot; th:field=&quot;*{medicineId}&quot; th:value=&quot;${medicine.medicineId}&quot;/&gt;**\r\n            &lt;table class=&quot;table table-bordered&quot;&gt;\r\n                &lt;tr class=&quot;table-primary&quot;&gt;\r\n                    &lt;td&gt;Box Number&lt;/td&gt;\r\n                    &lt;td&gt;Medicine Count&lt;/td&gt;\r\n                    &lt;td&gt;Sell Count&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr th:each=&quot;medicineBox : ${medicine.medicineBoxes}&quot;&gt;\r\n                    &lt;td class=&quot;text-center&quot;&gt;\r\n                        **&lt;input type=&quot;text&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].boxNumber}&quot; th:value=&quot;${medicineBox.box.number}&quot;** /&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td class=&quot;text-center&quot; th:text=&quot;${medicineBox.medicineCount}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;number&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].medicineCount}&quot; class=&quot;form-control&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n            &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Sell&lt;/button&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n---------------&gt; Controller method to handle the post request\r\n\r\n        @PostMapping(&quot;/sell&quot;)\r\n        public String sellMedicine(@ModelAttribute MedicineOrder medicineOrder, BindingResult bindingResult) {\r\n            if(bindingResult.hasErrors()){\r\n                // error handling\r\n            }\r\n            service.sellMedicine(medicineOrder);\r\n            return &quot;redirect:/mvc/medicine/list&quot;;\r\n        }\r\n----------------&gt; Class MedicineOrder\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    import com.example.demo.model.Box;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MedicineOrder {\r\n    \r\n        private long medicineId;\r\n        private List&lt;OrderedBox&gt; boxes = new ArrayList&lt;&gt;();\r\n    \r\n        public long getMedicineId() {\r\n            return medicineId;\r\n        }\r\n    \r\n        public void setMedicineId(long medicineId) {\r\n            this.medicineId = medicineId;\r\n        }\r\n    \r\n        public List&lt;OrderedBox&gt; getBoxes() {\r\n            return boxes;\r\n        }\r\n    \r\n        public void setBoxes(List&lt;OrderedBox&gt; boxes) {\r\n            this.boxes = boxes;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;MedicineOrder{&quot; +\r\n                    &quot;medicineId=&quot; + medicineId +\r\n                    &quot;, boxes=&quot; + boxes +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    public class OrderedBox {\r\n    \r\n        private String boxNumber;\r\n        private int medicineCount;\r\n    \r\n        public String getBoxNumber() {\r\n            return boxNumber;\r\n        }\r\n    \r\n        public void setBoxNumber(String boxNumber) {\r\n            this.boxNumber = boxNumber;\r\n        }\r\n    \r\n        public int getMedicineCount() {\r\n            return medicineCount;\r\n        }\r\n    \r\n        public void setMedicineCount(int medicineCount) {\r\n            this.medicineCount = medicineCount;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;OrderedBox{&quot; +\r\n                    &quot;boxNumber=&#39;&quot; + boxNumber + &#39;\\&#39;&#39; +\r\n                    &quot;, medicineCount=&quot; + medicineCount +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nNot able to get the **MedicineOrder.medicineId** and **medicineBorder.boxes[*].boxNumber** from template to model object.","title":"How to set a object&#39;s field using another objects field in thymeleaf","body":"<p>I'm trying to set <strong>boxes'</strong> elements copied from <strong>medicineBox's</strong> values like below. Can anyone help me in this. I need to post medicineOrder model to the controller</p>\n<pre><code>            &lt;tr th:each=&quot;medicineBox : ${medicine.medicineBoxes}&quot;&gt;\n                &lt;td class=&quot;text-center&quot;&gt;\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].boxNumber}&quot; th:value=&quot;${medicineBox.box.number}&quot; /&gt;\n                &lt;/td&gt;\n                &lt;td class=&quot;text-center&quot; th:text=&quot;${medicineBox.medicineCount}&quot;&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;number&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].medicineCount}&quot; class=&quot;form-control&quot; /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n</code></pre>\n<p>I'm using two object here -</p>\n<ol>\n<li>medicine and medicineOrder</li>\n</ol>\n<p>------------------&gt; Controller method to get the page</p>\n<pre><code>    @GetMapping(&quot;/{medicineId}&quot;)\n    public String loadMedicineDetailPage(@PathVariable(&quot;medicineId&quot;) long medicineId, Model model) {\n        model.addAttribute(&quot;medicine&quot;, service.getMedicineById(medicineId));\n        model.addAttribute(&quot;medicineOrder&quot;, new MedicineOrder());\n        return WebPages.MEDICINE_DETAIL.toString();\n    }\n</code></pre>\n<p>------------------&gt; thymeleaf html page</p>\n<pre><code>&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;/&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;title&gt;Spring Boot Application&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;br/&gt;\n    &lt;a class=&quot;btn btn-primary&quot; th:href=&quot;@{/mvc/medicine/list}&quot;&gt;Back&lt;/a&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;h3 class=&quot;text-center alert alert-success&quot;&gt;Medicine Details&lt;/h3&gt;\n    &lt;form class=&quot;row g-3&quot; action=&quot;#&quot; th:action=&quot;@{/mvc/medicine/sell}&quot; method=&quot;post&quot; th:object=&quot;${medicineOrder}&quot;&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;name&quot; class=&quot;form-label&quot;&gt;Name&lt;/label&gt;\n            &lt;input type=&quot;text&quot; style=&quot;background-color:#95edea&quot; disabled class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;${medicine.name}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;company&quot; class=&quot;form-label&quot;&gt;Company&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;company&quot; th:field=&quot;${medicine.companyStringName}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;price&quot; class=&quot;form-label&quot;&gt;Price&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;price&quot; th:field=&quot;${medicine.price}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;count&quot; class=&quot;form-label&quot;&gt;Count&lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;count&quot; th:field=&quot;${medicine.count}&quot;/&gt;\n        &lt;/div&gt;--&gt;\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;volume&quot; class=&quot;form-label&quot;&gt;ML&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;volume&quot; th:field=&quot;${medicine.volume}&quot;/&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;purchaseDate&quot; class=&quot;form-label&quot;&gt;Date Purchased&lt;/label&gt;\n            &lt;input type=&quot;text&quot; disabled class=&quot;form-control&quot; id=&quot;purchaseDate&quot; th:field=&quot;${medicine.purchaseDate}&quot;/&gt;\n        &lt;/div&gt;\n        &lt;!--&lt;div class=&quot;col-md-6 col-xs-12 col-sm-12&quot;&gt;\n            &lt;label for=&quot;boxNo&quot; class=&quot;form-label&quot;&gt;Box Number&lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;boxNo&quot; th:field=&quot;${medicine.boxNumber}&quot;/&gt;\n        &lt;/div&gt;--&gt;\n        **&lt;input type=&quot;hidden&quot; th:field=&quot;*{medicineId}&quot; th:value=&quot;${medicine.medicineId}&quot;/&gt;**\n        &lt;table class=&quot;table table-bordered&quot;&gt;\n            &lt;tr class=&quot;table-primary&quot;&gt;\n                &lt;td&gt;Box Number&lt;/td&gt;\n                &lt;td&gt;Medicine Count&lt;/td&gt;\n                &lt;td&gt;Sell Count&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr th:each=&quot;medicineBox : ${medicine.medicineBoxes}&quot;&gt;\n                &lt;td class=&quot;text-center&quot;&gt;\n                    **&lt;input type=&quot;text&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].boxNumber}&quot; th:value=&quot;${medicineBox.box.number}&quot;** /&gt;\n                &lt;/td&gt;\n                &lt;td class=&quot;text-center&quot; th:text=&quot;${medicineBox.medicineCount}&quot;&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;number&quot; th:field=&quot;*{boxes[__${medicineBoxStat.index}__].medicineCount}&quot; class=&quot;form-control&quot; /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Sell&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>---------------&gt; Controller method to handle the post request</p>\n<pre><code>    @PostMapping(&quot;/sell&quot;)\n    public String sellMedicine(@ModelAttribute MedicineOrder medicineOrder, BindingResult bindingResult) {\n        if(bindingResult.hasErrors()){\n            // error handling\n        }\n        service.sellMedicine(medicineOrder);\n        return &quot;redirect:/mvc/medicine/list&quot;;\n    }\n</code></pre>\n<p>----------------&gt; Class MedicineOrder</p>\n<pre><code>package com.example.demo.dto;\n\nimport com.example.demo.model.Box;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MedicineOrder {\n\n    private long medicineId;\n    private List&lt;OrderedBox&gt; boxes = new ArrayList&lt;&gt;();\n\n    public long getMedicineId() {\n        return medicineId;\n    }\n\n    public void setMedicineId(long medicineId) {\n        this.medicineId = medicineId;\n    }\n\n    public List&lt;OrderedBox&gt; getBoxes() {\n        return boxes;\n    }\n\n    public void setBoxes(List&lt;OrderedBox&gt; boxes) {\n        this.boxes = boxes;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MedicineOrder{&quot; +\n                &quot;medicineId=&quot; + medicineId +\n                &quot;, boxes=&quot; + boxes +\n                '}';\n    }\n}\n\npackage com.example.demo.dto;\n\npublic class OrderedBox {\n\n    private String boxNumber;\n    private int medicineCount;\n\n    public String getBoxNumber() {\n        return boxNumber;\n    }\n\n    public void setBoxNumber(String boxNumber) {\n        this.boxNumber = boxNumber;\n    }\n\n    public int getMedicineCount() {\n        return medicineCount;\n    }\n\n    public void setMedicineCount(int medicineCount) {\n        this.medicineCount = medicineCount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OrderedBox{&quot; +\n                &quot;boxNumber='&quot; + boxNumber + '\\'' +\n                &quot;, medicineCount=&quot; + medicineCount +\n                '}';\n    }\n}\n</code></pre>\n<p>Not able to get the <strong>MedicineOrder.medicineId</strong> and <strong>medicineBorder.boxes[*].boxNumber</strong> from template to model object.</p>\n"},{"tags":["java","hibernate","mariadb","jpql"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575794482,"creation_date":1575792806,"answer_id":59233611,"question_id":59233341,"body_markdown":"Several things to check and note:\r\n\r\n- The table name used in the UPDATE query should refer to the mapped Java class name rather than the database table name and it is case-sensitive. So does the `users` in the query is the table name as we seldom name the Java class starting with the lower case ?  If yes , please change it to the mapped Java class name. (The same applied to the column too , refer them using java object field name rather than the actual table columns name)\r\n\r\n- The point of using ORM is that we don&#39;t want to manually write SQL to update the DB record. We want to treat the DB record as an Object such as we can use the OOP technique to implement the update logic. so through changing the state of the object , JPA will automatically generate the SQL to update the corresponding DB records rather than writing it by ourself.  So the correct way to update the record using JPA is to get the record that you want to update , change its state :\r\n\r\n```\r\nUser user = entmngr.find(User.class, 2L);\r\nuser.setName(&quot;John&quot;)\r\n```","title":"Error in JPQL Update Query using Hibernate on MariaDB","body":"<p>Several things to check and note:</p>\n\n<ul>\n<li><p>The table name used in the UPDATE query should refer to the mapped Java class name rather than the database table name and it is case-sensitive. So does the <code>users</code> in the query is the table name as we seldom name the Java class starting with the lower case ?  If yes , please change it to the mapped Java class name. (The same applied to the column too , refer them using java object field name rather than the actual table columns name)</p></li>\n<li><p>The point of using ORM is that we don't want to manually write SQL to update the DB record. We want to treat the DB record as an Object such as we can use the OOP technique to implement the update logic. so through changing the state of the object , JPA will automatically generate the SQL to update the corresponding DB records rather than writing it by ourself.  So the correct way to update the record using JPA is to get the record that you want to update , change its state :</p></li>\n</ul>\n\n<pre><code>User user = entmngr.find(User.class, 2L);\nuser.setName(\"John\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12671791,"reputation":624,"user_id":9209083,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657709353,"creation_date":1589917483,"answer_id":61899469,"question_id":59233341,"body_markdown":"Had the same problem for this code, db is postgresql:\r\n\r\n    @Modifying\r\n    @Query(&quot;DELETE FROM Account a WHERE a.id = :id AND a.user.id = :userId&quot;)\r\n    int delete(@Param(&quot;id&quot;) int id, @Param(&quot;userId&quot;) int userId);\r\n\r\nI used dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.0.Alpha5&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\nAfter only change to the following dependency, all works:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.15.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMaybe it&#39;s a bug in the new version, or maybe we need some magic for Hibernate 6.0.0.Alpha5 + Spring Data JPA 2.3.0.RELEASE. I didn&#39;t find any information. If you know something about that, let me know.\r\n","title":"Error in JPQL Update Query using Hibernate on MariaDB","body":"<p>Had the same problem for this code, db is postgresql:</p>\n<pre><code>@Modifying\n@Query(&quot;DELETE FROM Account a WHERE a.id = :id AND a.user.id = :userId&quot;)\nint delete(@Param(&quot;id&quot;) int id, @Param(&quot;userId&quot;) int userId);\n</code></pre>\n<p>I used dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0.Alpha5&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After only change to the following dependency, all works:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.4.15.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maybe it's a bug in the new version, or maybe we need some magic for Hibernate 6.0.0.Alpha5 + Spring Data JPA 2.3.0.RELEASE. I didn't find any information. If you know something about that, let me know.</p>\n"}],"owner":{"account_id":17261310,"reputation":11,"user_id":12499124,"display_name":"rufsmd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657709353,"creation_date":1575790061,"question_id":59233341,"body_markdown":"**Hi**\r\n\r\nI am trying to update a row in MariaDB database table using hibernate. It is like this :\r\n```\r\n    public static void updateJPQL() {\r\n        EntityManager entmngr = JPAProvider.getEntityManager();\r\n        EntityTransaction transaction = entmngr.getTransaction();\r\n        transaction.begin();\r\n        Query query = entmngr.createQuery(&quot;UPDATE users o set o.name = &#39;John&#39; where o.id =: NID&quot;);\r\n        query.setParameter(&quot;NID&quot;, 2L);\r\n        \r\n        query.executeUpdate();\r\n        \r\n        \r\n        transaction.commit();\r\n        entmngr.close();\r\n    }\r\n\r\n```\r\nHibernate gives this error :\r\n```\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.sql.ast.SqlTreeCreationException: Could not locate TableGroup - NavigablePath[model.entity.Users(o)]\r\n```\r\nthe other queries would execute fine. I could insert into my table, I could fetch all of the records but this update query is the problem.","title":"Error in JPQL Update Query using Hibernate on MariaDB","body":"<p><strong>Hi</strong></p>\n\n<p>I am trying to update a row in MariaDB database table using hibernate. It is like this :</p>\n\n<pre><code>    public static void updateJPQL() {\n        EntityManager entmngr = JPAProvider.getEntityManager();\n        EntityTransaction transaction = entmngr.getTransaction();\n        transaction.begin();\n        Query query = entmngr.createQuery(\"UPDATE users o set o.name = 'John' where o.id =: NID\");\n        query.setParameter(\"NID\", 2L);\n\n        query.executeUpdate();\n\n\n        transaction.commit();\n        entmngr.close();\n    }\n\n</code></pre>\n\n<p>Hibernate gives this error :</p>\n\n<pre><code>Exception in thread \"main\" javax.persistence.PersistenceException: org.hibernate.sql.ast.SqlTreeCreationException: Could not locate TableGroup - NavigablePath[model.entity.Users(o)]\n</code></pre>\n\n<p>the other queries would execute fine. I could insert into my table, I could fetch all of the records but this update query is the problem.</p>\n"},{"tags":["java","selenium","jsoup","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657709313,"creation_date":1657709313,"answer_id":72965033,"question_id":72964024,"body_markdown":"What are you looking for is `element.getAttribute(&quot;innerHTML&quot;)`\r\n\r\n**Code example:**\r\n\r\n    package tests;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    import selenium.ChromeDriverSetup;\r\n    \r\n    public class Rookie extends ChromeDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tWebDriver driver = startChromeDriver(); // wrapped driver init\r\n    \t\tdriver.get(&quot;https://stackoverflow.com&quot;);\r\n    \t\tWebElement header = driver.findElement(By.tagName(&quot;header&quot;));\r\n    \t\tString headerSourceCode = header.getAttribute(&quot;innerHTML&quot;);\t\r\n    \t\tDocument document = Jsoup.parse(headerSourceCode);\r\n    \t\tSystem.out.println(&quot;Ammount of attributes: &quot; + document.attributesSize());\r\n    \t\tSystem.out.println(&quot;Ammount of childs: &quot; + document.childrenSize());\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n    Starting ChromeDriver 103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853}) on port 3173\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Čvc 13, 2022 12:44:52 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Ammount of attributes: 1\r\n    Ammount of childs: 1","title":"What&#39;s an alternative to webDriver.getPageSource() that doesn&#39;t select the entire page?","body":"<p>What are you looking for is <code>element.getAttribute(&quot;innerHTML&quot;)</code></p>\n<p><strong>Code example:</strong></p>\n<pre><code>package tests;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\nimport selenium.ChromeDriverSetup;\n\npublic class Rookie extends ChromeDriverSetup {\n\n    public static void main(String[] args) {\n        \n        WebDriver driver = startChromeDriver(); // wrapped driver init\n        driver.get(&quot;https://stackoverflow.com&quot;);\n        WebElement header = driver.findElement(By.tagName(&quot;header&quot;));\n        String headerSourceCode = header.getAttribute(&quot;innerHTML&quot;); \n        Document document = Jsoup.parse(headerSourceCode);\n        System.out.println(&quot;Ammount of attributes: &quot; + document.attributesSize());\n        System.out.println(&quot;Ammount of childs: &quot; + document.childrenSize());\n        driver.quit();\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Starting ChromeDriver 103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853}) on port 3173\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nČvc 13, 2022 12:44:52 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nAmmount of attributes: 1\nAmmount of childs: 1\n</code></pre>\n"}],"owner":{"display_name":"user17953271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657709313,"creation_date":1657704955,"question_id":72964024,"body_markdown":"On my current project we use Selenium together with Jsoup in some of our integration tests. We don&#39;t want to get the entire pageSource as this is too slow. Instead we want to select the elements we need directly. Is there a way to do this and then still return a Jsoup Element ArrayList?\r\n\r\n      public Elements getElementsByTag(final String tag) {\r\n        final Document document = Jsoup.parse(webDriver.getPageSource());\r\n        return document.getElementsByTag(tag);\r\n      }","title":"What&#39;s an alternative to webDriver.getPageSource() that doesn&#39;t select the entire page?","body":"<p>On my current project we use Selenium together with Jsoup in some of our integration tests. We don't want to get the entire pageSource as this is too slow. Instead we want to select the elements we need directly. Is there a way to do this and then still return a Jsoup Element ArrayList?</p>\n<pre><code>  public Elements getElementsByTag(final String tag) {\n    final Document document = Jsoup.parse(webDriver.getPageSource());\n    return document.getElementsByTag(tag);\n  }\n</code></pre>\n"},{"tags":["java","maven","quarkus","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1657709182,"creation_date":1657709182,"answer_id":72964994,"question_id":72954579,"body_markdown":"Able to figure out the issue so posting here:\r\n\r\n1. Increase the Docker memory resource from default 2GB to 8GB. (Docker Desktop -&gt; Settings icon on top right -&gt; Resources -&gt; memory 2GB to 8GB apply and restart.)\r\n\r\n2. Then run the command `mvn clean install -Dnative -Dquarkus.native.container-build=true`\r\n\r\nthis should create a -runner file in project root/target folder.","title":"Quarkus Native image building throws error: Image generation failed","body":"<p>Able to figure out the issue so posting here:</p>\n<ol>\n<li><p>Increase the Docker memory resource from default 2GB to 8GB. (Docker Desktop -&gt; Settings icon on top right -&gt; Resources -&gt; memory 2GB to 8GB apply and restart.)</p>\n</li>\n<li><p>Then run the command <code>mvn clean install -Dnative -Dquarkus.native.container-build=true</code></p>\n</li>\n</ol>\n<p>this should create a -runner file in project root/target folder.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5000,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1657709182,"creation_date":1657638709,"question_id":72954579,"body_markdown":"I am trying to build the native Quarkus image using the GraalVM but I am running into following Build Failure error:\r\n```\r\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.9.2.Final:build (default) on project converter-service: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n[ERROR]         [error]: Build step io.quarkus.deployment.pkg.steps.NativeImageBuildStep#build threw an exception: io.quarkus.deployment.pkg.steps.NativeImageBuildStep$ImageGenerationFailureException: Image generation failed. Exit code: 1\r\n[ERROR]         at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:400)\r\n[ERROR]         at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:240)\r\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[ERROR]         at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\r\n[ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n[ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n[ERROR]         at java.base/java.lang.Thread.run(Thread.java:833)\r\n[ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```\r\n\r\nThis is the first time I am working with GraalVM so I am bit confused.\r\n\r\nFollowing are the basic information:\r\nJava version 17\r\nGraavl VM version graalvm-ce-javaV-22.1.0\r\n\r\nI followed the steps provided: https://stackoverflow.com/a/65837409/7584240 and https://github.com/graalvm/homebrew-tap.\r\n\r\nThen I ran the command: `mvn package -Pnative` but running into the error. I tried to run even `mvn package -Dquarkus.package.type=native` but still getting the error.\r\n\r\nI looked at the following issue: https://github.com/quarkusio/quarkus/issues/6884 but the solution is not working for me.\r\n\r\nCan someone please help me?\r\n\r\n\r\n**Update**\r\n\r\nWhen the same application was tried on Linux then everything is working correctly but on Macos the above error is being occurred. Is it due to Macos settings or some environment problem? If so how to fix this. ","title":"Quarkus Native image building throws error: Image generation failed","body":"<p>I am trying to build the native Quarkus image using the GraalVM but I am running into following Build Failure error:</p>\n<pre><code>[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.9.2.Final:build (default) on project converter-service: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n[ERROR]         [error]: Build step io.quarkus.deployment.pkg.steps.NativeImageBuildStep#build threw an exception: io.quarkus.deployment.pkg.steps.NativeImageBuildStep$ImageGenerationFailureException: Image generation failed. Exit code: 1\n[ERROR]         at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:400)\n[ERROR]         at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:240)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]         at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:925)\n[ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n[ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n[ERROR]         at java.base/java.lang.Thread.run(Thread.java:833)\n[ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n<p>This is the first time I am working with GraalVM so I am bit confused.</p>\n<p>Following are the basic information:\nJava version 17\nGraavl VM version graalvm-ce-javaV-22.1.0</p>\n<p>I followed the steps provided: <a href=\"https://stackoverflow.com/a/65837409/7584240\">https://stackoverflow.com/a/65837409/7584240</a> and <a href=\"https://github.com/graalvm/homebrew-tap\" rel=\"nofollow noreferrer\">https://github.com/graalvm/homebrew-tap</a>.</p>\n<p>Then I ran the command: <code>mvn package -Pnative</code> but running into the error. I tried to run even <code>mvn package -Dquarkus.package.type=native</code> but still getting the error.</p>\n<p>I looked at the following issue: <a href=\"https://github.com/quarkusio/quarkus/issues/6884\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/6884</a> but the solution is not working for me.</p>\n<p>Can someone please help me?</p>\n<p><strong>Update</strong></p>\n<p>When the same application was tried on Linux then everything is working correctly but on Macos the above error is being occurred. Is it due to Macos settings or some environment problem? If so how to fix this.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657707733,"creation_date":1657707733,"answer_id":72964661,"question_id":72964434,"body_markdown":"Here is just another approach. Deserialize your Json always into a `Map&lt;String, Object&gt;` (for JSON Object) or `List&lt;Object&gt;` (for Json List). And than convert your Map into your custom class based on your property. To do so you can have all your relevant classes have a constructor that accepts Map, or static method &lt;br&gt;\r\n`T getInstance(Map&lt;String, Object&gt;)` creates an instance. It would be simpler to implement Map -&gt; particular class conversion than JSON -&gt; particular class.","title":"Jackson deserialize JSON into generic type using property name as value to fetch type from registry","body":"<p>Here is just another approach. Deserialize your Json always into a <code>Map&lt;String, Object&gt;</code> (for JSON Object) or <code>List&lt;Object&gt;</code> (for Json List). And than convert your Map into your custom class based on your property. To do so you can have all your relevant classes have a constructor that accepts Map, or static method <br>\n<code>T getInstance(Map&lt;String, Object&gt;)</code> creates an instance. It would be simpler to implement Map -&gt; particular class conversion than JSON -&gt; particular class.</p>\n"}],"owner":{"account_id":11971012,"reputation":43,"user_id":9537134,"display_name":"Aurimas Niekis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657709146,"creation_date":1657706650,"question_id":72964434,"body_markdown":"I have been trying to implement the deserialization of JSON into a generic type by using property value as a reference to what type to deserialize for `T` and fetch the type from the registry.\r\n\r\nI was able to implement a proof of concept that I can deserialize generic type if I provide the correct JavaType by using `TypeFactory.constructParametricType`, but then I tried to implement `JsonDeserializer` but it ended up calling itself again because that deserializer is registered to `Property.class` so another thing I tried is to use new `ObjectManager` which worked, but I don&#39;t really want to create new ObjectMapper and would like to use the same one.\r\n\r\nSo maybe someone will be able to guide me in the correct direction. (I am aware of the annotations, but I can&#39;t really use them as the type registry requires specific logic)\r\n\r\nHere is my current scratch code which works:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\nimport com.fasterxml.jackson.databind.type.TypeFactory;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nclass Scratch {\r\n\r\n  interface Type {\r\n\r\n    @JsonIgnore\r\n    public default String getName() {\r\n      return this.getClass().getSimpleName();\r\n    }\r\n  }\r\n\r\n  static class Property&lt;T extends Type&gt; {\r\n\r\n    private String typeName;\r\n\r\n    private T type;\r\n\r\n    private String name;\r\n\r\n    public Property() {\r\n\r\n    }\r\n\r\n    public Property(T type, String name) {\r\n      this.typeName = type.getName();\r\n      this.type = type;\r\n      this.name = name;\r\n    }\r\n\r\n    public String getTypeName() {\r\n      return typeName;\r\n    }\r\n\r\n    public void setTypeName(String typeName) {\r\n      this.typeName = typeName;\r\n    }\r\n\r\n    public T getType() {\r\n      return type;\r\n    }\r\n\r\n    public void setType(T type) {\r\n      this.type = type;\r\n      this.typeName = type.getName();\r\n    }\r\n\r\n    public String getName() {\r\n      return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n      this.name = name;\r\n    }\r\n  }\r\n\r\n  static class TypeRegistry {\r\n\r\n    private final Map&lt;String, Class&lt;? extends Type&gt;&gt; types = new HashMap&lt;&gt;();\r\n\r\n    public void add(Type type) {\r\n      types.put(type.getName(), type.getClass());\r\n    }\r\n\r\n    public boolean has(String typeName) {\r\n      return types.containsKey(typeName);\r\n    }\r\n\r\n    public Class&lt;? extends Type&gt; get(String typeName) {\r\n      return this.types.get(typeName);\r\n    }\r\n  }\r\n\r\n  static class TextType implements Type {\r\n    private String color;\r\n\r\n    public String getColor() {\r\n      return color;\r\n    }\r\n\r\n    public void setColor(String color) {\r\n      this.color = color;\r\n    }\r\n  }\r\n\r\n  static class NumberType implements Type {\r\n    private String format;\r\n\r\n    public String getFormat() {\r\n      return format;\r\n    }\r\n\r\n    public void setFormat(String format) {\r\n      this.format = format;\r\n    }\r\n  }\r\n\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    var typeRegistry = new TypeRegistry();\r\n    typeRegistry.add(new TextType());\r\n    typeRegistry.add(new NumberType());\r\n\r\n    var parameters = new ArrayList&lt;Property&lt;?&gt;&gt;();\r\n    parameters.add(new Property&lt;&gt;(new TextType(), &quot;text_field&quot;));\r\n    parameters.add(new Property&lt;&gt;(new NumberType(), &quot;number_field&quot;));\r\n\r\n    var module = new SimpleModule();\r\n    module.addDeserializer(Property.class, new JsonDeserializer&lt;Property&lt;?&gt;&gt;() {\r\n\r\n      private final ObjectMapper newObjectMapper = new ObjectMapper();\r\n\r\n      @Override\r\n      public Property&lt;?&gt; deserialize(JsonParser p, DeserializationContext ctxt)\r\n          throws IOException, JsonProcessingException {\r\n        JsonNode node = p.getCodec().readTree(p);\r\n        if (node == null || node.isNull()) {\r\n          return null;\r\n        }\r\n\r\n        var typeName = node.get(&quot;typeName&quot;).asText();\r\n        var type = typeRegistry.get(typeName);\r\n\r\n\r\n        return newObjectMapper.readValue(\r\n            node.toString(),\r\n            ctxt.getTypeFactory().constructParametricType(Property.class, type)\r\n        );\r\n      }\r\n    });\r\n\r\n    var objectMapper = new ObjectMapper();\r\n\r\n    var desObjectMapper = new ObjectMapper();\r\n    desObjectMapper.registerModule(module);\r\n\r\n    var jsonSingle = objectMapper.writeValueAsString(parameters.get(0));\r\n    var json = objectMapper.writeValueAsString(parameters);\r\n\r\n    var parsedSingle = objectMapper.readValue(\r\n        jsonSingle,\r\n        TypeFactory.defaultInstance().constructParametricType(\r\n            Property.class,\r\n            typeRegistry.get(&quot;TextType&quot;)\r\n        )\r\n    );\r\n\r\n    var parsedProperties = desObjectMapper.readValue(\r\n        json,\r\n        new TypeReference&lt;List&lt;Property&lt;?&gt;&gt;&gt;() {}\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nThanks for any help!\r\n\r\n\r\n**Edit 1 (Added @michael-gantman proposed solution):**\r\n\r\n```java\r\nvar parsedProperties = objectMapper.readValue(\r\n        json,\r\n        new TypeReference&lt;List&lt;LinkedHashMap&lt;String, Object&gt;&gt;&gt;() {\r\n        }\r\n    );\r\n\r\n    var castedProperties = new ArrayList&lt;Property&lt;?&gt;&gt;();\r\n    for (var parsedProperty : parsedProperties) {\r\n      var typeName = (String) parsedProperty.get(&quot;typeName&quot;);\r\n\r\n      castedProperties.add(\r\n          objectMapper.convertValue(\r\n              parsedProperty,\r\n              TypeFactory.defaultInstance().constructParametricType(\r\n                  Property.class,\r\n                  typeRegistry.get(typeName)\r\n              )\r\n          )\r\n      );\r\n    }\r\n```","title":"Jackson deserialize JSON into generic type using property name as value to fetch type from registry","body":"<p>I have been trying to implement the deserialization of JSON into a generic type by using property value as a reference to what type to deserialize for <code>T</code> and fetch the type from the registry.</p>\n<p>I was able to implement a proof of concept that I can deserialize generic type if I provide the correct JavaType by using <code>TypeFactory.constructParametricType</code>, but then I tried to implement <code>JsonDeserializer</code> but it ended up calling itself again because that deserializer is registered to <code>Property.class</code> so another thing I tried is to use new <code>ObjectManager</code> which worked, but I don't really want to create new ObjectMapper and would like to use the same one.</p>\n<p>So maybe someone will be able to guide me in the correct direction. (I am aware of the annotations, but I can't really use them as the type registry requires specific logic)</p>\n<p>Here is my current scratch code which works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nclass Scratch {\n\n  interface Type {\n\n    @JsonIgnore\n    public default String getName() {\n      return this.getClass().getSimpleName();\n    }\n  }\n\n  static class Property&lt;T extends Type&gt; {\n\n    private String typeName;\n\n    private T type;\n\n    private String name;\n\n    public Property() {\n\n    }\n\n    public Property(T type, String name) {\n      this.typeName = type.getName();\n      this.type = type;\n      this.name = name;\n    }\n\n    public String getTypeName() {\n      return typeName;\n    }\n\n    public void setTypeName(String typeName) {\n      this.typeName = typeName;\n    }\n\n    public T getType() {\n      return type;\n    }\n\n    public void setType(T type) {\n      this.type = type;\n      this.typeName = type.getName();\n    }\n\n    public String getName() {\n      return name;\n    }\n\n    public void setName(String name) {\n      this.name = name;\n    }\n  }\n\n  static class TypeRegistry {\n\n    private final Map&lt;String, Class&lt;? extends Type&gt;&gt; types = new HashMap&lt;&gt;();\n\n    public void add(Type type) {\n      types.put(type.getName(), type.getClass());\n    }\n\n    public boolean has(String typeName) {\n      return types.containsKey(typeName);\n    }\n\n    public Class&lt;? extends Type&gt; get(String typeName) {\n      return this.types.get(typeName);\n    }\n  }\n\n  static class TextType implements Type {\n    private String color;\n\n    public String getColor() {\n      return color;\n    }\n\n    public void setColor(String color) {\n      this.color = color;\n    }\n  }\n\n  static class NumberType implements Type {\n    private String format;\n\n    public String getFormat() {\n      return format;\n    }\n\n    public void setFormat(String format) {\n      this.format = format;\n    }\n  }\n\n\n  public static void main(String[] args) throws Exception {\n    var typeRegistry = new TypeRegistry();\n    typeRegistry.add(new TextType());\n    typeRegistry.add(new NumberType());\n\n    var parameters = new ArrayList&lt;Property&lt;?&gt;&gt;();\n    parameters.add(new Property&lt;&gt;(new TextType(), &quot;text_field&quot;));\n    parameters.add(new Property&lt;&gt;(new NumberType(), &quot;number_field&quot;));\n\n    var module = new SimpleModule();\n    module.addDeserializer(Property.class, new JsonDeserializer&lt;Property&lt;?&gt;&gt;() {\n\n      private final ObjectMapper newObjectMapper = new ObjectMapper();\n\n      @Override\n      public Property&lt;?&gt; deserialize(JsonParser p, DeserializationContext ctxt)\n          throws IOException, JsonProcessingException {\n        JsonNode node = p.getCodec().readTree(p);\n        if (node == null || node.isNull()) {\n          return null;\n        }\n\n        var typeName = node.get(&quot;typeName&quot;).asText();\n        var type = typeRegistry.get(typeName);\n\n\n        return newObjectMapper.readValue(\n            node.toString(),\n            ctxt.getTypeFactory().constructParametricType(Property.class, type)\n        );\n      }\n    });\n\n    var objectMapper = new ObjectMapper();\n\n    var desObjectMapper = new ObjectMapper();\n    desObjectMapper.registerModule(module);\n\n    var jsonSingle = objectMapper.writeValueAsString(parameters.get(0));\n    var json = objectMapper.writeValueAsString(parameters);\n\n    var parsedSingle = objectMapper.readValue(\n        jsonSingle,\n        TypeFactory.defaultInstance().constructParametricType(\n            Property.class,\n            typeRegistry.get(&quot;TextType&quot;)\n        )\n    );\n\n    var parsedProperties = desObjectMapper.readValue(\n        json,\n        new TypeReference&lt;List&lt;Property&lt;?&gt;&gt;&gt;() {}\n    );\n  }\n}\n</code></pre>\n<p>Thanks for any help!</p>\n<p><strong>Edit 1 (Added @michael-gantman proposed solution):</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>var parsedProperties = objectMapper.readValue(\n        json,\n        new TypeReference&lt;List&lt;LinkedHashMap&lt;String, Object&gt;&gt;&gt;() {\n        }\n    );\n\n    var castedProperties = new ArrayList&lt;Property&lt;?&gt;&gt;();\n    for (var parsedProperty : parsedProperties) {\n      var typeName = (String) parsedProperty.get(&quot;typeName&quot;);\n\n      castedProperties.add(\n          objectMapper.convertValue(\n              parsedProperty,\n              TypeFactory.defaultInstance().constructParametricType(\n                  Property.class,\n                  typeRegistry.get(typeName)\n              )\n          )\n      );\n    }\n</code></pre>\n"},{"tags":["java","csrf"],"comments":[{"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"score":0,"creation_date":1657663447,"post_id":72958308,"comment_id":128863379,"body_markdown":"Did you look at the Related questions section (4th one, 57 upvotes)? There&#39;s an 11yo post on preventing CSRF in JSF, along with XSS and others...","body":"Did you look at the Related questions section (4th one, 57 upvotes)? There&#39;s an 11yo post on preventing CSRF in JSF, along with XSS and others..."},{"owner":{"display_name":"user13079485"},"score":0,"creation_date":1657744326,"post_id":72958308,"comment_id":128886394,"body_markdown":"Hello Boris, thanks for the answer. I&#39;ve read the post and I would like to give some extra information about the problem. I&#39;m working with WildFly 10.0.1Final and I really did anything to protect my application of CSRF attacks, I put some http headers as x-content-type-options, x-frame-options, x-xss-protection, even I updated my faces-config.xml and added the &quot;protected views&quot; tag to match any .xhtml in my web application but I&#39;m still getting CSRF vulnerabilities from OWASP - ZAP. I really don&#39;t understand how to make my application safer from those attacks.","body":"Hello Boris, thanks for the answer. I&#39;ve read the post and I would like to give some extra information about the problem. I&#39;m working with WildFly 10.0.1Final and I really did anything to protect my application of CSRF attacks, I put some http headers as x-content-type-options, x-frame-options, x-xss-protection, even I updated my faces-config.xml and added the &quot;protected views&quot; tag to match any .xhtml in my web application but I&#39;m still getting CSRF vulnerabilities from OWASP - ZAP. I really don&#39;t understand how to make my application safer from those attacks."},{"owner":{"display_name":"user13079485"},"score":0,"creation_date":1657744480,"post_id":72958308,"comment_id":128886435,"body_markdown":"I would like to add that I implemented a code that adds a Cipher phrase to the HTTPSession and using WebFilters I read that information and validate the content, but I&#39;m still getting the same problem.","body":"I would like to add that I implemented a code that adds a Cipher phrase to the HTTPSession and using WebFilters I read that information and validate the content, but I&#39;m still getting the same problem."}],"owner":{"display_name":"user13079485"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657709115,"creation_date":1657659491,"question_id":72958308,"body_markdown":"I&#39;m working in a Java EE application with JSF and Primefaces Framework and I need to add some kind of CSRF attack protection. I read about OWASP CSRF Guard but I really don&#39;t understand how to implement it into my project and I saw lot of codes using Spring Framework too, but I would like to avoid the implementation of that framework in my project (besides I don&#39;t know anything about Spring). \r\n\r\nIf anyone can help me about how to proceed with this problem or maybe some documentation that I should read or anything to help I will be really thankful.\r\n","title":"CSRF for Java EE Aplication - JSF (No Spring Framework)","body":"<p>I'm working in a Java EE application with JSF and Primefaces Framework and I need to add some kind of CSRF attack protection. I read about OWASP CSRF Guard but I really don't understand how to implement it into my project and I saw lot of codes using Spring Framework too, but I would like to avoid the implementation of that framework in my project (besides I don't know anything about Spring).</p>\n<p>If anyone can help me about how to proceed with this problem or maybe some documentation that I should read or anything to help I will be really thankful.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"score":1,"creation_date":1657694005,"post_id":72961588,"comment_id":128868259,"body_markdown":"This doesn&#39;t seem to be [a topic for StackOverflow](https://stackoverflow.com/help/on-topic) since it&#39;s not a problem at all nor would somebody else find this helpful since this is a specific question, not a general one. This would most likely fall into the &quot;Seeking reccomendations&quot; flag since this is seeking reccomendations and would most likely lead to opinionated answers.","body":"This doesn&#39;t seem to be <a href=\"https://stackoverflow.com/help/on-topic\">a topic for StackOverflow</a> since it&#39;s not a problem at all nor would somebody else find this helpful since this is a specific question, not a general one. This would most likely fall into the &quot;Seeking reccomendations&quot; flag since this is seeking reccomendations and would most likely lead to opinionated answers."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1657695233,"post_id":72961588,"comment_id":128868592,"body_markdown":"It&#39;s not clear in which way you want to improve this. What exactly, according to you, is wrong with the existing code?","body":"It&#39;s not clear in which way you want to improve this. What exactly, according to you, is wrong with the existing code?"},{"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"score":0,"creation_date":1657701678,"post_id":72961588,"comment_id":128870656,"body_markdown":"Hello there @Anuska, it seems like you didn&#39;t understood what I have said. What I meant there was this question is &quot;Seeking recommendations&quot;, hence I flagged it us such. Because it was flagged, it can be closed or deleted by moderators.","body":"Hello there @Anuska, it seems like you didn&#39;t understood what I have said. What I meant there was this question is &quot;Seeking recommendations&quot;, hence I flagged it us such. Because it was flagged, it can be closed or deleted by moderators."},{"owner":{"account_id":22518259,"reputation":61,"user_id":16712209,"display_name":"Anuska"},"score":0,"creation_date":1657702279,"post_id":72961588,"comment_id":128870876,"body_markdown":"Thanks @Jesper I would like to understand better how does  anyMatch in Stream work. In my example the `get(blogContext.getBlogContextEnum().getTagName(), new String[0])` can have one or many tags. Will the `anymatch` iterate through each value that comes from the previous get?","body":"Thanks @Jesper I would like to understand better how does  anyMatch in Stream work. In my example the <code>get(blogContext.getBlogContextEnum().getTagName(), new String[0])</code> can have one or many tags. Will the <code>anymatch</code> iterate through each value that comes from the previous get?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1657703084,"post_id":72961588,"comment_id":128871174,"body_markdown":"That&#39;s very simple: `anyMatch` will check if there is an item in the stream for which the predicate returns `true`. In your code: if there is a tag in the stream of tags that is also present in `blogTags`.","body":"That&#39;s very simple: <code>anyMatch</code> will check if there is an item in the stream for which the predicate returns <code>true</code>. In your code: if there is a tag in the stream of tags that is also present in <code>blogTags</code>."}],"answers":[{"tags":[],"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657708938,"creation_date":1657696893,"answer_id":72962356,"question_id":72961588,"body_markdown":"Will this be considered as improvement?\r\n\r\n    private boolean containsSelectedTag(Resource resource) {\r\n        Stream&lt;String&gt; tagStream = Arrays.stream(resource.getValueMap().get(blogContext.getBlogContextEnum().getTagName(), new String[0]));\r\n        boolean containsSelectedTag = \r\n            tagStream.anyMatch(tag -&gt; showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;) ? blogTags.contains(tag)) : tag.contains(currentFilterTag));\r\n        return containsSelectedTag;\r\n    }","title":"How to improve the Java Stream method?","body":"<p>Will this be considered as improvement?</p>\n<pre><code>private boolean containsSelectedTag(Resource resource) {\n    Stream&lt;String&gt; tagStream = Arrays.stream(resource.getValueMap().get(blogContext.getBlogContextEnum().getTagName(), new String[0]));\n    boolean containsSelectedTag = \n        tagStream.anyMatch(tag -&gt; showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;) ? blogTags.contains(tag)) : tag.contains(currentFilterTag));\n    return containsSelectedTag;\n}\n</code></pre>\n"}],"owner":{"account_id":22518259,"reputation":61,"user_id":16712209,"display_name":"Anuska"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72962356,"answer_count":1,"score":-3,"last_activity_date":1657708938,"creation_date":1657692132,"question_id":72961588,"body_markdown":"I would like to improve the following Java Stream method and to understand better how does anyMatch in Stream work. \r\n\r\nIn my example the `get(blogContext.getBlogContextEnum().getTagName(), new String[0])` can have one or many tags. Will the `anymatch` iterate through each value that comes from the previous get? \r\n\r\nWhen `showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;`) evaluates to `true` it should check that blogTags contain the resource tag. \r\nWhen `showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;`) evaluates to `false` it should check resource tag matches the currentFilterTag. \r\n\r\nI could of course solve it with if statements but would like to learn using `Streams` for that.\r\n\r\nThe blogTags is a class variable of type `private List&lt;String&gt; blogTags`;\r\n\r\n    private boolean containsSelectedTag(Resource resource) {\r\n            Stream&lt;String&gt; tagStream = Arrays.stream(resource.getValueMap().get(blogContext.getBlogContextEnum().getTagName(), new String[0]));\r\n            boolean containsSelectedTag = showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;) ?\r\n                    tagStream.anyMatch(tag -&gt; blogTags.contains(tag)) : tagStream.anyMatch(tag -&gt; tag.contains(currentFilterTag));\r\n            return containsSelectedTag;\r\n        }\r\n","title":"How to improve the Java Stream method?","body":"<p>I would like to improve the following Java Stream method and to understand better how does anyMatch in Stream work.</p>\n<p>In my example the <code>get(blogContext.getBlogContextEnum().getTagName(), new String[0])</code> can have one or many tags. Will the <code>anymatch</code> iterate through each value that comes from the previous get?</p>\n<p>When <code>showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;</code>) evaluates to <code>true</code> it should check that blogTags contain the resource tag.\nWhen <code>showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;</code>) evaluates to <code>false</code> it should check resource tag matches the currentFilterTag.</p>\n<p>I could of course solve it with if statements but would like to learn using <code>Streams</code> for that.</p>\n<p>The blogTags is a class variable of type <code>private List&lt;String&gt; blogTags</code>;</p>\n<pre><code>private boolean containsSelectedTag(Resource resource) {\n        Stream&lt;String&gt; tagStream = Arrays.stream(resource.getValueMap().get(blogContext.getBlogContextEnum().getTagName(), new String[0]));\n        boolean containsSelectedTag = showAllTopics &amp;&amp; currentFilterTag.equals(&quot;xxx:content/something&quot;) ?\n                tagStream.anyMatch(tag -&gt; blogTags.contains(tag)) : tagStream.anyMatch(tag -&gt; tag.contains(currentFilterTag));\n        return containsSelectedTag;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","compiler-warnings","checkstyle","maven-checkstyle-plugin"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657708548,"post_id":72964783,"comment_id":128873009,"body_markdown":"Well, the warning message exactly tells you what&#39;s wrong: you have a `{` which is not preceded with a whitespace. On the second line of your code, replace `){` with `) {`.","body":"Well, the warning message exactly tells you what&#39;s wrong: you have a <code>{</code> which is not preceded with a whitespace. On the second line of your code, replace <code>){</code> with <code>) {</code>."},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1657710971,"post_id":72964783,"comment_id":128873812,"body_markdown":"sorry but this is obvious, why posting it here?","body":"sorry but this is obvious, why posting it here?"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657708563,"creation_date":1657708563,"answer_id":72964856,"question_id":72964783,"body_markdown":"The Checkstyle configuration that you are using expects the `{` to have a space before it. Your code looks like this at the moment:\r\n\r\n```java\r\nif (connectorId == null &amp;&amp; entityRequest == null){\r\n    return Collections.emptyList();\r\n}\r\n```\r\n\r\nCheckstyle wants it to look like this:\r\n\r\n```java\r\nif (connectorId == null &amp;&amp; entityRequest == null) {\r\n    return Collections.emptyList();\r\n}","title":"I got checkstyle warning: WhitespaceAround: WhitespaceAround: &#39;{&#39; is not preceded with whitespace","body":"<p>The Checkstyle configuration that you are using expects the <code>{</code> to have a space before it. Your code looks like this at the moment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (connectorId == null &amp;&amp; entityRequest == null){\n    return Collections.emptyList();\n}\n</code></pre>\n<p>Checkstyle wants it to look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (connectorId == null &amp;&amp; entityRequest == null) {\n    return Collections.emptyList();\n}\n</code></pre>\n"}],"owner":{"account_id":25453332,"reputation":19,"user_id":19254358,"display_name":"Suraj Karosia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4195,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1657708563,"creation_date":1657708238,"question_id":72964783,"body_markdown":"When I build my project, So I got this checkstyle warning : WhitespaceAround: WhitespaceAround: &#39;{&#39; is not preceded with whitespace. Can you please help me to remove this warning.\r\n\r\n    public List&lt;ObjectSyncStatus&gt; createEntities(Long connectorId, EntityRequest entityRequest) {\r\n        if (connectorId == null &amp;&amp; entityRequest == null){\r\n            return Collections.emptyList();\r\n        }\r\n        String entitiesUrl = connectorEndpoint + CONNECTOR_PATH + connectorId + &quot;/entities&quot;;\r\n        HttpMethod method = HttpMethod.POST;\r\n\r\n        HttpEntity&lt;EntityRequest&gt; httpEntity = new HttpEntity&lt;&gt;(entityRequest);\r\n        ResponseEntity&lt;List&gt; responseEntity = restTemplate.exchange(entitiesUrl, method, httpEntity, List.class);\r\n        log.info(OPERATION_SUCCESSFUL, responseEntity);\r\n\r\n        return mapper.mapAsList(responseEntity.getBody(), ObjectSyncStatus.class);\r\n    }\r\n\r\nI got the warning in If condition.","title":"I got checkstyle warning: WhitespaceAround: WhitespaceAround: &#39;{&#39; is not preceded with whitespace","body":"<p>When I build my project, So I got this checkstyle warning : WhitespaceAround: WhitespaceAround: '{' is not preceded with whitespace. Can you please help me to remove this warning.</p>\n<pre><code>public List&lt;ObjectSyncStatus&gt; createEntities(Long connectorId, EntityRequest entityRequest) {\n    if (connectorId == null &amp;&amp; entityRequest == null){\n        return Collections.emptyList();\n    }\n    String entitiesUrl = connectorEndpoint + CONNECTOR_PATH + connectorId + &quot;/entities&quot;;\n    HttpMethod method = HttpMethod.POST;\n\n    HttpEntity&lt;EntityRequest&gt; httpEntity = new HttpEntity&lt;&gt;(entityRequest);\n    ResponseEntity&lt;List&gt; responseEntity = restTemplate.exchange(entitiesUrl, method, httpEntity, List.class);\n    log.info(OPERATION_SUCCESSFUL, responseEntity);\n\n    return mapper.mapAsList(responseEntity.getBody(), ObjectSyncStatus.class);\n}\n</code></pre>\n<p>I got the warning in If condition.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":1674405,"reputation":979,"user_id":1540241,"accept_rate":60,"display_name":"MychaL"},"score":0,"creation_date":1511352910,"post_id":47434402,"comment_id":81823047,"body_markdown":"Should we use the @aftermapping to make a manual mapping ?","body":"Should we use the @aftermapping to make a manual mapping ?"}],"answers":[{"tags":[],"owner":{"account_id":1674405,"reputation":979,"user_id":1540241,"accept_rate":60,"display_name":"MychaL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1511553869,"creation_date":1511553869,"answer_id":47479410,"question_id":47434402,"body_markdown":"Not sure its the best way to do it...\r\n\r\nBut we used @AfterMapping to create manually in default method the object to implement on interface.\r\n\r\nWe had to delete @InheritInverseConfiguration for reverse operation.","title":"How to convert an interface with MapStruct?","body":"<p>Not sure its the best way to do it...</p>\n\n<p>But we used @AfterMapping to create manually in default method the object to implement on interface.</p>\n\n<p>We had to delete @InheritInverseConfiguration for reverse operation.</p>\n"},{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512161172,"creation_date":1512161172,"answer_id":47601238,"question_id":47434402,"body_markdown":"It should work with an [object factory method](http://mapstruct.org/documentation/stable/reference/html/#object-factories):\r\n\r\n    public IUser createIUser() {\r\n        return new User();\r\n    }\r\n\r\nThis factory method will the be invoked if an instance of `IUser` is needed.","title":"How to convert an interface with MapStruct?","body":"<p>It should work with an <a href=\"http://mapstruct.org/documentation/stable/reference/html/#object-factories\" rel=\"nofollow noreferrer\">object factory method</a>:</p>\n\n<pre><code>public IUser createIUser() {\n    return new User();\n}\n</code></pre>\n\n<p>This factory method will the be invoked if an instance of <code>IUser</code> is needed.</p>\n"},{"tags":[],"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657708535,"creation_date":1657708535,"answer_id":72964849,"question_id":47434402,"body_markdown":"hi i am using map struct version : 1.3.1.Final and i mapped from interface to dto easily: \r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface OrderSummeryMapper {\r\n        AllocatedOrderSummeryResponse toOrderSummery (AllocatedOrderSummery orderSummery);\r\n    }\r\n\r\nmy dto: \r\n\r\n    @Data //lombok annotation\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class AllocatedOrderSummeryResponse implements Serializable {\r\n         Integer customerId;\r\n         String deliveryCategory;\r\n    }\r\n\r\ninterface: \r\n\r\n    public interface AllocatedOrderSummery {\r\n    \r\n        Integer getCustomerId();\r\n        String getDeliveryCategory();\r\n    }\r\n\r\n","title":"How to convert an interface with MapStruct?","body":"<p>hi i am using map struct version : 1.3.1.Final and i mapped from interface to dto easily:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface OrderSummeryMapper {\n    AllocatedOrderSummeryResponse toOrderSummery (AllocatedOrderSummery orderSummery);\n}\n</code></pre>\n<p>my dto:</p>\n<pre><code>@Data //lombok annotation\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AllocatedOrderSummeryResponse implements Serializable {\n     Integer customerId;\n     String deliveryCategory;\n}\n</code></pre>\n<p>interface:</p>\n<pre><code>public interface AllocatedOrderSummery {\n\n    Integer getCustomerId();\n    String getDeliveryCategory();\n}\n</code></pre>\n"}],"owner":{"account_id":1674405,"reputation":979,"user_id":1540241,"accept_rate":60,"display_name":"MychaL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3072,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47479410,"answer_count":3,"score":1,"last_activity_date":1657708535,"creation_date":1511352641,"question_id":47434402,"body_markdown":"I made some research in the mapStruct documentation but did not find or understood what I could do to achieve this: the conversation of an entity containing an interface to a flat DTO object.\r\n\r\nHere the entity with the attribute:\r\n\r\n    public class Group {\r\n        ...\r\n\r\n        private IUser user;\r\n\r\n        ...\r\n    }\r\n\r\nHere the DTO:\r\n\r\n    public GroupDTO {\r\n\r\n        private Long idUser;\r\n\r\n        private String username;\r\n    }\r\n\r\nWe try this mapping :\r\n\r\n    @Mappings({\r\n            @Mapping(source = &quot;user.id&quot;, target = &quot;idUser&quot;),\r\n            @Mapping(source = &quot;user.name&quot;, target = &quot;username&quot;)})\r\n    GroupDTO toDTO(Group entity);\r\n\r\nWith a classic mapping, mapStruct generates an error (IUser is abstract; cannot be instantiated).\r\n\r\nAny idea ? \r\nThank you.","title":"How to convert an interface with MapStruct?","body":"<p>I made some research in the mapStruct documentation but did not find or understood what I could do to achieve this: the conversation of an entity containing an interface to a flat DTO object.</p>\n\n<p>Here the entity with the attribute:</p>\n\n<pre><code>public class Group {\n    ...\n\n    private IUser user;\n\n    ...\n}\n</code></pre>\n\n<p>Here the DTO:</p>\n\n<pre><code>public GroupDTO {\n\n    private Long idUser;\n\n    private String username;\n}\n</code></pre>\n\n<p>We try this mapping :</p>\n\n<pre><code>@Mappings({\n        @Mapping(source = \"user.id\", target = \"idUser\"),\n        @Mapping(source = \"user.name\", target = \"username\")})\nGroupDTO toDTO(Group entity);\n</code></pre>\n\n<p>With a classic mapping, mapStruct generates an error (IUser is abstract; cannot be instantiated).</p>\n\n<p>Any idea ? \nThank you.</p>\n"},{"tags":["java","kotlin","datetime","localdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657724219,"post_id":72958295,"comment_id":128879452,"body_markdown":"Please remember to specify *desired result*.  Your string, `120722202122`, is not so easy to read that this is self evident.","body":"Please remember to specify <i>desired result</i>.  Your string, <code>120722202122</code>, is not so easy to read that this is self evident."}],"answers":[{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657660204,"creation_date":1657660204,"answer_id":72958421,"question_id":72958295,"body_markdown":"According to the [DateTimeFormatter documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) &quot;DD&quot; stands for day of year. You want day of month, which is &quot;dd&quot;.","title":"How to parse this date/time in Java/Kotlin?","body":"<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter documentation</a> &quot;DD&quot; stands for day of year. You want day of month, which is &quot;dd&quot;.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657708192,"creation_date":1657660684,"answer_id":72958495,"question_id":72958295,"body_markdown":"I assume you&#39;ve probably meant the *day of the month* `d`, not the *day of the year* `D`.\r\n\r\nIn your pattern, you&#39;ve specified the day of the year `DD`, and therefore the next part `MM` representing the *month* happens to be redundant. And exception-message says that the *month* you&#39;ve specified conflicts with the provided *day of the year*. Because the `12th` *day of the year* falls on the *first month*, not on the `7th`, and therefore string `&quot;1207...&quot;` can&#39;t be resolved into a valid date-time.\r\n\r\nIf you need the *day of the month*, the correct pattern would be `&quot;ddMMyyHHmmss&quot;`.\r\n\r\nWith the *day of the year*, you can use pattern `&quot;DyyHHmmss&quot;` (but the string from your example doesn&#39;t match it).\r\n\r\n[*A link to Kotlin Playground*](https://pl.kotl.in/Dkqk7xAWO)","title":"How to parse this date/time in Java/Kotlin?","body":"<p>I assume you've probably meant the <em>day of the month</em> <code>d</code>, not the <em>day of the year</em> <code>D</code>.</p>\n<p>In your pattern, you've specified the day of the year <code>DD</code>, and therefore the next part <code>MM</code> representing the <em>month</em> happens to be redundant. And exception-message says that the <em>month</em> you've specified conflicts with the provided <em>day of the year</em>. Because the <code>12th</code> <em>day of the year</em> falls on the <em>first month</em>, not on the <code>7th</code>, and therefore string <code>&quot;1207...&quot;</code> can't be resolved into a valid date-time.</p>\n<p>If you need the <em>day of the month</em>, the correct pattern would be <code>&quot;ddMMyyHHmmss&quot;</code>.</p>\n<p>With the <em>day of the year</em>, you can use pattern <code>&quot;DyyHHmmss&quot;</code> (but the string from your example doesn't match it).</p>\n<p><a href=\"https://pl.kotl.in/Dkqk7xAWO\" rel=\"nofollow noreferrer\"><em>A link to Kotlin Playground</em></a></p>\n"}],"owner":{"account_id":219270,"reputation":32920,"user_id":476074,"accept_rate":70,"display_name":"AndreKR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72958495,"answer_count":2,"score":0,"last_activity_date":1657708192,"creation_date":1657659431,"question_id":72958295,"body_markdown":"I have this NMEA timestamp: `120722202122` and I want to parse it.\r\n\r\nI tried\r\n```\r\nimport java.time.LocalDateTime\r\nimport java.time.format.DateTimeFormatter\r\n\r\nfun main() {\r\n   println(LocalDateTime.parse(&quot;120722202122&quot;, DateTimeFormatter.ofPattern(&quot;DDMMyyHHmmss&quot;)))\r\n}\r\n```\r\n&lt;sup&gt;[Playground](https://pl.kotl.in/oZ8v4gB-M)&lt;/sup&gt;\r\n\r\nbut I get an Exception:\r\n&gt; ```\r\n&gt; Conflict found: Field MonthOfYear 1 differs from MonthOfYear 7 derived from 2022-01-12\r\n&gt; ```\r\n\r\nI don&#39;t know what the Exception wants to tell me or what my pattern should look like.","title":"How to parse this date/time in Java/Kotlin?","body":"<p>I have this NMEA timestamp: <code>120722202122</code> and I want to parse it.</p>\n<p>I tried</p>\n<pre><code>import java.time.LocalDateTime\nimport java.time.format.DateTimeFormatter\n\nfun main() {\n   println(LocalDateTime.parse(&quot;120722202122&quot;, DateTimeFormatter.ofPattern(&quot;DDMMyyHHmmss&quot;)))\n}\n</code></pre>\n<p><sup><a href=\"https://pl.kotl.in/oZ8v4gB-M\" rel=\"nofollow noreferrer\">Playground</a></sup></p>\n<p>but I get an Exception:</p>\n<blockquote>\n<pre><code>Conflict found: Field MonthOfYear 1 differs from MonthOfYear 7 derived from 2022-01-12\n</code></pre>\n</blockquote>\n<p>I don't know what the Exception wants to tell me or what my pattern should look like.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1649257650,"post_id":71768778,"comment_id":126831165,"body_markdown":"&quot;var person&quot; is horrible syntax.","body":"&quot;var person&quot; is horrible syntax."},{"owner":{"account_id":7938987,"reputation":539,"user_id":6148086,"display_name":"strider0160"},"score":1,"creation_date":1649265065,"post_id":71768778,"comment_id":126834187,"body_markdown":"@K.Nicholas thanks for the feedback. Could you please elaborate why its bad?","body":"@K.Nicholas thanks for the feedback. Could you please elaborate why its bad?"},{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":0,"creation_date":1668234988,"post_id":71768778,"comment_id":131360784,"body_markdown":"Hi, have u found the root cause of why your validation not working?","body":"Hi, have u found the root cause of why your validation not working?"}],"answers":[{"tags":[],"owner":{"account_id":3724904,"reputation":1828,"user_id":3099037,"display_name":"Romain VDK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649342565,"creation_date":1649342565,"answer_id":71784222,"question_id":71768778,"body_markdown":"You should annotate your controller with the `@Validated` annotation. Don&#39;t forget to also add the `spring-boot-starter-validation` to your pom. ","title":"How to use custom validators in Spring","body":"<p>You should annotate your controller with the <code>@Validated</code> annotation. Don't forget to also add the <code>spring-boot-starter-validation</code> to your pom.</p>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1649440919,"creation_date":1649435168,"answer_id":71800376,"question_id":71768778,"body_markdown":"The primary reason this isn&#39;t working for you is that you haven&#39;t registered your validator with the DataBinder.\r\n\r\nMake a couple of changes to your controller.  Instead of auto wiring the `LocalValidatorFactoryBean`, auto wire your validator(s) into the controller and register them with the DataBinder.\r\n\r\n    @Autowired\r\n    private PersonValidator personValidator;\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n      binder.addValidators(personValidator);\r\n    }\r\n\r\nYour controller method will be simpler too as you no longer need to explicitly call the ValidatorFactory, Spring will invoke the validators automatically when you add the @Valid annotation to your method parameter.  Add the `BindingResult` parameter to the method and all errors that come from the validators will be present in the BindingResult errors, this includes errors caused by the javax validations like, @Min, @Max, @NotNull, etc.\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public Person getPerson(@RequestBody @Valid Person person, BindingResult bindingResult) {\r\n       if (bindingResult.hasErrors()) {\r\n          log.info(bindingResult.getAllErrors());\r\n       }\r\n       return null;\r\n    }\r\n\r\nAs you want to do this in the service layer, you&#39;re forced to write your own logic to handle this.  Spring doesn&#39;t do any magic as far as calling the custom validations.  This is intentional, the ingress into your application is through the controller, this is the one place where you have limited control over the data being input so if you want to validate, it should be handled here.  Every mutation of the Person object downstream of the controller you have total control over.  If you feel that you absolutely must validate in the service layer, then you&#39;re going to be writing this yourself and frankly, I wouldn&#39;t use an implementation of Spring&#39;s Validator for this.  If you&#39;re deadset on doing this in the service layer, here&#39;s a way to pull it off.\r\n\r\n\r\nCreate an annotation to apply to your `Person` class\r\n\r\n    import static java.lang.annotation.ElementType.TYPE;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    import javax.validation.Constraint;\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = PersonValidator.class)\r\n    @Target({TYPE})\r\n    @Retention(RUNTIME)\r\n    public @interface ValidPerson {\r\n\r\n      String message() default &quot;This isn&#39;t correct&quot;;\r\n\r\n      Class[] groups() default {};\r\n\r\n      Class[] payload() default {};\r\n    }\r\n\r\nAdd the above annotation to your `Person` class.\r\n\r\n    @ValidPerson\r\n    public class Person {\r\n\r\nModify your PersonValidator to be a `ConstraintValidator`, I&#39;ve thrown together an implementation that validates two of the fields on Person.\r\n\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import org.springframework.util.ObjectUtils;\r\n\r\n\r\n    public class PersonValidator implements ConstraintValidator&lt;ValidPerson, Person&gt; {\r\n\r\n      @Override\r\n      public void initialize(ValidPerson constraintAnnotation) {\r\n        ConstraintValidator.super.initialize(constraintAnnotation);\r\n      }\r\n\r\n      @Override\r\n      public boolean isValid(Person value, ConstraintValidatorContext context) {\r\n         boolean isErrored = false;\r\n\r\n         if (ObjectUtils.isEmpty(value.getLastName())) {\r\n            context.disableDefaultConstraintViolation();\r\n            context.buildConstraintViolationWithTemplate(&quot;lastName can&#39;t be empty&quot;).addConstraintViolation();\r\n            isErrored = true;\r\n         }\r\n         if (value.getAge() &lt; 0) {\r\n            context.disableDefaultConstraintViolation();\r\n            context.buildConstraintViolationWithTemplate(&quot;You&#39;re not old enough to be alive&quot;).addConstraintViolation();\r\n            isErrored = true;\r\n         }\r\n\r\n        return !isErrored;\r\n      }\r\n    }\r\n\r\nIn your service class, inject a Validator and call it in your method, this will invoke the `ConstraintValidator` that you have defined and added to your `Person`\r\n\r\n    import java.util.Set;\r\n    import javax.validation.ConstraintViolation;\r\n    import javax.validation.Validator;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class PersonService {\r\n\r\n      @Autowired\r\n      private Validator validator;\r\n\r\n      public Person updatePerson(Person person) {\r\n        Set&lt;ConstraintViolation&lt;Person&gt;&gt; validate = validator.validate(person);\r\n\r\n        return person;\r\n      }\r\n    }\r\n\r\nYou can do some fancy things with AOP to do this automatically the way that Spring does on the Controller side of things, but I&#39;ll leave that for you to discover.","title":"How to use custom validators in Spring","body":"<p>The primary reason this isn't working for you is that you haven't registered your validator with the DataBinder.</p>\n<p>Make a couple of changes to your controller.  Instead of auto wiring the <code>LocalValidatorFactoryBean</code>, auto wire your validator(s) into the controller and register them with the DataBinder.</p>\n<pre><code>@Autowired\nprivate PersonValidator personValidator;\n\n@InitBinder\npublic void initBinder(WebDataBinder binder) {\n  binder.addValidators(personValidator);\n}\n</code></pre>\n<p>Your controller method will be simpler too as you no longer need to explicitly call the ValidatorFactory, Spring will invoke the validators automatically when you add the @Valid annotation to your method parameter.  Add the <code>BindingResult</code> parameter to the method and all errors that come from the validators will be present in the BindingResult errors, this includes errors caused by the javax validations like, @Min, @Max, @NotNull, etc.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic Person getPerson(@RequestBody @Valid Person person, BindingResult bindingResult) {\n   if (bindingResult.hasErrors()) {\n      log.info(bindingResult.getAllErrors());\n   }\n   return null;\n}\n</code></pre>\n<p>As you want to do this in the service layer, you're forced to write your own logic to handle this.  Spring doesn't do any magic as far as calling the custom validations.  This is intentional, the ingress into your application is through the controller, this is the one place where you have limited control over the data being input so if you want to validate, it should be handled here.  Every mutation of the Person object downstream of the controller you have total control over.  If you feel that you absolutely must validate in the service layer, then you're going to be writing this yourself and frankly, I wouldn't use an implementation of Spring's Validator for this.  If you're deadset on doing this in the service layer, here's a way to pull it off.</p>\n<p>Create an annotation to apply to your <code>Person</code> class</p>\n<pre><code>import static java.lang.annotation.ElementType.TYPE;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\nimport javax.validation.Constraint;\n\n@Documented\n@Constraint(validatedBy = PersonValidator.class)\n@Target({TYPE})\n@Retention(RUNTIME)\npublic @interface ValidPerson {\n\n  String message() default &quot;This isn't correct&quot;;\n\n  Class[] groups() default {};\n\n  Class[] payload() default {};\n}\n</code></pre>\n<p>Add the above annotation to your <code>Person</code> class.</p>\n<pre><code>@ValidPerson\npublic class Person {\n</code></pre>\n<p>Modify your PersonValidator to be a <code>ConstraintValidator</code>, I've thrown together an implementation that validates two of the fields on Person.</p>\n<pre><code>import javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport org.springframework.util.ObjectUtils;\n\n\npublic class PersonValidator implements ConstraintValidator&lt;ValidPerson, Person&gt; {\n\n  @Override\n  public void initialize(ValidPerson constraintAnnotation) {\n    ConstraintValidator.super.initialize(constraintAnnotation);\n  }\n\n  @Override\n  public boolean isValid(Person value, ConstraintValidatorContext context) {\n     boolean isErrored = false;\n\n     if (ObjectUtils.isEmpty(value.getLastName())) {\n        context.disableDefaultConstraintViolation();\n        context.buildConstraintViolationWithTemplate(&quot;lastName can't be empty&quot;).addConstraintViolation();\n        isErrored = true;\n     }\n     if (value.getAge() &lt; 0) {\n        context.disableDefaultConstraintViolation();\n        context.buildConstraintViolationWithTemplate(&quot;You're not old enough to be alive&quot;).addConstraintViolation();\n        isErrored = true;\n     }\n\n    return !isErrored;\n  }\n}\n</code></pre>\n<p>In your service class, inject a Validator and call it in your method, this will invoke the <code>ConstraintValidator</code> that you have defined and added to your <code>Person</code></p>\n<pre><code>import java.util.Set;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validator;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class PersonService {\n\n  @Autowired\n  private Validator validator;\n\n  public Person updatePerson(Person person) {\n    Set&lt;ConstraintViolation&lt;Person&gt;&gt; validate = validator.validate(person);\n\n    return person;\n  }\n}\n</code></pre>\n<p>You can do some fancy things with AOP to do this automatically the way that Spring does on the Controller side of things, but I'll leave that for you to discover.</p>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657706010,"creation_date":1657705128,"answer_id":72964066,"question_id":71768778,"body_markdown":"After searching with the spark of luck, got enlightenment from this documentation \r\nhttps://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/validation.html#validation-binder\r\n\r\nI hate writing custom annotation, so here we come.\r\n\r\nValidator Class\r\n---------------\r\n\r\nThe class of `public class PersonValidator implements Validator` keep as is, it&#39;s the best so far to encapsulate &quot;validator class&quot;.\r\n\r\nAOP Class\r\n---------\r\nThis AOP class, &quot;magically&quot; intercept before method &quot;save&quot; executed.\r\n\r\n    @Aspect\r\n    @Component\r\n    public class RoAspect {\r\n\r\n    @Autowired\r\n    private PersonValidator validator;\r\n\r\n    /**\r\n     * Validation before save\r\n     *\r\n     * @param joinPoint join point information\r\n     * @param entity    passed entity\r\n     */\r\n    @Before(&quot;execution(* go.to.your.service.PersonService+.save(*)) &amp;&amp; args(entity)&quot;)\r\n    public void beforeSave(JoinPoint joinPoint, Person entity) throws MethodArgumentNotValidException {\r\n\r\n        DataBinder dataBinder = new DataBinder(entity);\r\n        dataBinder.setValidator(validator);\r\n        dataBinder.validate();\r\n\r\n        BindingResult bindingResult = dataBinder.getBindingResult();\r\n\r\n        if(bindingResult.hasErrors()){\r\n            throw new MethodArgumentNotValidException(null, bindingResult);\r\n        }\r\n        }\r\n\r\nException Handler\r\n-----------------\r\n\r\nHandle the exception thrown by &quot;AOP class&quot;\r\n\r\n    @RestControllerAdvice\r\n    public class ControllerExceptionHandler {\r\n\r\n    @ExceptionHandler({MethodArgumentNotValidException.class})\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public Map&lt;String, List&lt;String&gt;&gt; handleValidationError(MethodArgumentNotValidException exception) {\r\n\r\n        Map&lt;String, List&lt;String&gt;&gt; errorMap = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; errors = new ArrayList&lt;&gt;();\r\n        if (exception.hasErrors()) {\r\n            for (ObjectError error : exception.getAllErrors()) {\r\n                errors.add(error.getDefaultMessage());\r\n            }\r\n            errorMap.put(&quot;errors&quot;, errors);\r\n        }\r\n        return errorMap;\r\n    }\r\n    }\r\n\r\nThat&#39;s it. May be you&#39;re wondering the keyword of &quot;@RestControllerAdvice&quot;. Yes it&#39;s designed for controller only (may be!, correct if i&#39;m wrong). \r\n\r\nBut, don&#39;t worry it can be handled also using native java &quot;try catch&quot;. Example :\r\n\r\n        try {\r\n            personService.save(new Person());\r\n        } catch (Exception e) {\r\n            // exception thrown by &quot;AOP class&quot; can be catch here\r\n        }","title":"How to use custom validators in Spring","body":"<p>After searching with the spark of luck, got enlightenment from this documentation\n<a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/validation.html#validation-binder\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/validation.html#validation-binder</a></p>\n<p>I hate writing custom annotation, so here we come.</p>\n<h2>Validator Class</h2>\n<p>The class of <code>public class PersonValidator implements Validator</code> keep as is, it's the best so far to encapsulate &quot;validator class&quot;.</p>\n<h2>AOP Class</h2>\n<p>This AOP class, &quot;magically&quot; intercept before method &quot;save&quot; executed.</p>\n<pre><code>@Aspect\n@Component\npublic class RoAspect {\n\n@Autowired\nprivate PersonValidator validator;\n\n/**\n * Validation before save\n *\n * @param joinPoint join point information\n * @param entity    passed entity\n */\n@Before(&quot;execution(* go.to.your.service.PersonService+.save(*)) &amp;&amp; args(entity)&quot;)\npublic void beforeSave(JoinPoint joinPoint, Person entity) throws MethodArgumentNotValidException {\n\n    DataBinder dataBinder = new DataBinder(entity);\n    dataBinder.setValidator(validator);\n    dataBinder.validate();\n\n    BindingResult bindingResult = dataBinder.getBindingResult();\n\n    if(bindingResult.hasErrors()){\n        throw new MethodArgumentNotValidException(null, bindingResult);\n    }\n    }\n</code></pre>\n<h2>Exception Handler</h2>\n<p>Handle the exception thrown by &quot;AOP class&quot;</p>\n<pre><code>@RestControllerAdvice\npublic class ControllerExceptionHandler {\n\n@ExceptionHandler({MethodArgumentNotValidException.class})\n@ResponseStatus(HttpStatus.BAD_REQUEST)\npublic Map&lt;String, List&lt;String&gt;&gt; handleValidationError(MethodArgumentNotValidException exception) {\n\n    Map&lt;String, List&lt;String&gt;&gt; errorMap = new HashMap&lt;&gt;();\n    List&lt;String&gt; errors = new ArrayList&lt;&gt;();\n    if (exception.hasErrors()) {\n        for (ObjectError error : exception.getAllErrors()) {\n            errors.add(error.getDefaultMessage());\n        }\n        errorMap.put(&quot;errors&quot;, errors);\n    }\n    return errorMap;\n}\n}\n</code></pre>\n<p>That's it. May be you're wondering the keyword of &quot;@RestControllerAdvice&quot;. Yes it's designed for controller only (may be!, correct if i'm wrong).</p>\n<p>But, don't worry it can be handled also using native java &quot;try catch&quot;. Example :</p>\n<pre><code>    try {\n        personService.save(new Person());\n    } catch (Exception e) {\n        // exception thrown by &quot;AOP class&quot; can be catch here\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657708160,"creation_date":1657708160,"answer_id":72964767,"question_id":71768778,"body_markdown":"If you want to create your own validator in form of annotation. Below info will help you.\r\n\r\nI have created my own validator in my project to validate the tags given by the user. Which validates the tags for spaces and #. This **@Hashtag** annotation in below code is my custom annotation.\r\n\r\nFirst of all you need decide the annotation name and declare an interface like below: (This interface will be implemented by a java class &quot;HashtagConstraintValidator&quot; where you will provide your logic of validation)\r\n\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Constraint(validatedBy = HashtagConstraintValidator.class)//says the logic of validation is in which class\r\n    @Target({ElementType.FIELD})//decides what level this annotation would work like on only fileds/ class level or both fields and class level.\r\n    @Retention(RetentionPolicy.RUNTIME)//decides up to which time this annotation should be valid like till compile time or runtime\r\n    public @interface Hashtag {\r\n    \r\n    //This is kind of a method which returns # as a value to its caller and we use this value in our implementation class to build the logic \r\n        public String value() default &quot;#&quot;;\r\n    //This is kind of a method which returns , as a value to its caller and we use in our implementation class to build the logic\r\n        public String separator() default &quot;,&quot;;\r\n    \r\n    //This message will be shown on UI when the user input fails the validation\r\n        public String message() default &quot;[Tags should not start with #],[divide with , (comma)],[Do not give .(periods)],&quot; +\r\n                &quot;[Should not have spaces]&quot;;\r\n    \r\n        //Groups-can group related constraints\r\n        public Class&lt;?&gt;[] groups() default {};\r\n    \r\n        //Payload-Extra info about errors\r\n        public Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n**Implementation class**\r\n\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    \r\n    public class HashtagConstraintValidator implements ConstraintValidator&lt;Hashtag, String&gt; {\r\n    \r\n        private String tagPrefix;//value will be #\r\n        private String tagSuffix;//value will be ,\r\n    \r\n    //Both initialize() and isValid() are mandatory\r\n    \r\n        @Override\r\n        public void initialize(Hashtag hashtag) {\r\n            tagPrefix = hashtag.value();\r\n            tagSuffix = hashtag.separator();\r\n        }\r\n    \r\n    //Your validation logic\r\n        @Override\r\n        public boolean isValid(String theTags, ConstraintValidatorContext constraintValidatorContext) {\r\n            boolean result = false;\r\n    \r\n            if(theTags == null) {\r\n                return true;\r\n            } else if(theTags.contains(&quot;#&quot;) || theTags.contains(&quot; &quot;) || theTags.contains(&quot;.&quot;)) {\r\n                return false;\r\n            }\r\n    \r\n            String[] tags = theTags.split(&quot;,&quot;);\r\n    \r\n            for(String tag : tags){\r\n                if(tag.trim().equals(&quot;&quot;) || tag.trim().equals(&quot;#&quot;)){\r\n                    return false;\r\n                }\r\n            }\r\n    \r\n            if(tags.length ==1){\r\n                result = true;\r\n            } else {\r\n                result = theTags.contains(tagSuffix) ? true : false;\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\n*Now the @Hashtag can be applied on the fields only because I gave @Target({ElementType.FIELD})*\r\n\r\n    @Hashtag\r\n        private String tags;\r\n\r\nyou need to use @Valid and BindingResult in your controller to catch the validation error and send the error back to user.\r\n\r\n \r\n\r\n    @PostMapping(&quot;/publish&quot;)\r\n        public String saveTags(@Valid @ModelAttribute(&quot;tags&quot;) String tags, BindingResult bindingResult) {\r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;postTagsPage&quot;;\r\n            }\r\n\r\n\r\nIf you are using thymeleaf as your template. Below code will display the error to the user on UI\r\n\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;tags&#39;)}&quot; th:errorclass=&quot;error&quot; th:errors=&quot;*{tags}&quot;/&gt;","title":"How to use custom validators in Spring","body":"<p>If you want to create your own validator in form of annotation. Below info will help you.</p>\n<p>I have created my own validator in my project to validate the tags given by the user. Which validates the tags for spaces and #. This <strong>@Hashtag</strong> annotation in below code is my custom annotation.</p>\n<p>First of all you need decide the annotation name and declare an interface like below: (This interface will be implemented by a java class &quot;HashtagConstraintValidator&quot; where you will provide your logic of validation)</p>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Constraint(validatedBy = HashtagConstraintValidator.class)//says the logic of validation is in which class\n@Target({ElementType.FIELD})//decides what level this annotation would work like on only fileds/ class level or both fields and class level.\n@Retention(RetentionPolicy.RUNTIME)//decides up to which time this annotation should be valid like till compile time or runtime\npublic @interface Hashtag {\n\n//This is kind of a method which returns # as a value to its caller and we use this value in our implementation class to build the logic \n    public String value() default &quot;#&quot;;\n//This is kind of a method which returns , as a value to its caller and we use in our implementation class to build the logic\n    public String separator() default &quot;,&quot;;\n\n//This message will be shown on UI when the user input fails the validation\n    public String message() default &quot;[Tags should not start with #],[divide with , (comma)],[Do not give .(periods)],&quot; +\n            &quot;[Should not have spaces]&quot;;\n\n    //Groups-can group related constraints\n    public Class&lt;?&gt;[] groups() default {};\n\n    //Payload-Extra info about errors\n    public Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><strong>Implementation class</strong></p>\n<pre><code>import javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class HashtagConstraintValidator implements ConstraintValidator&lt;Hashtag, String&gt; {\n\n    private String tagPrefix;//value will be #\n    private String tagSuffix;//value will be ,\n\n//Both initialize() and isValid() are mandatory\n\n    @Override\n    public void initialize(Hashtag hashtag) {\n        tagPrefix = hashtag.value();\n        tagSuffix = hashtag.separator();\n    }\n\n//Your validation logic\n    @Override\n    public boolean isValid(String theTags, ConstraintValidatorContext constraintValidatorContext) {\n        boolean result = false;\n\n        if(theTags == null) {\n            return true;\n        } else if(theTags.contains(&quot;#&quot;) || theTags.contains(&quot; &quot;) || theTags.contains(&quot;.&quot;)) {\n            return false;\n        }\n\n        String[] tags = theTags.split(&quot;,&quot;);\n\n        for(String tag : tags){\n            if(tag.trim().equals(&quot;&quot;) || tag.trim().equals(&quot;#&quot;)){\n                return false;\n            }\n        }\n\n        if(tags.length ==1){\n            result = true;\n        } else {\n            result = theTags.contains(tagSuffix) ? true : false;\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<p><em>Now the @Hashtag can be applied on the fields only because I gave @Target({ElementType.FIELD})</em></p>\n<pre><code>@Hashtag\n    private String tags;\n</code></pre>\n<p>you need to use @Valid and BindingResult in your controller to catch the validation error and send the error back to user.</p>\n<pre><code>@PostMapping(&quot;/publish&quot;)\n    public String saveTags(@Valid @ModelAttribute(&quot;tags&quot;) String tags, BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return &quot;postTagsPage&quot;;\n        }\n</code></pre>\n<p>If you are using thymeleaf as your template. Below code will display the error to the user on UI</p>\n<pre><code>&lt;p th:if=&quot;${#fields.hasErrors('tags')}&quot; th:errorclass=&quot;error&quot; th:errors=&quot;*{tags}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":7938987,"reputation":539,"user_id":6148086,"display_name":"strider0160"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18633,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1657708160,"creation_date":1649255965,"question_id":71768778,"body_markdown":"I am building a Spring Boot application and trying to implement custom validation for some DTOs/Entities that I will be validating in the service layer. Based on the [Spring documentation on this matter](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validation), I think one way to do this is to implement the `org.springframework.validation.Validator` interface.\r\n\r\nAs a minimal, complete, reproducible example, consider the following code:\r\n\r\n[Spring Initializr Bootstrapped Project](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.6&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=com.example&amp;artifactId=using-validation&amp;name=using-validation&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.using-validation&amp;dependencies=web,validation)\r\n\r\nWith the following code added in `src/main/java/com.example.usingvalidation`:\r\n\r\n```java\r\n// Person.java\r\n\r\npackage com.example.usingvalidation;\r\n\r\npublic class Person {\r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n    private String gender;\r\n\r\n    public Person() {\r\n    }\r\n\r\n    public Person(String firstName, String lastName, int age, String gender) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, age=&quot; + age +\r\n                &quot;, gender=&#39;&quot; + gender + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n// PersonValidator.java\r\n\r\npackage com.example.usingvalidation;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.validation.Errors;\r\nimport org.springframework.validation.Validator;\r\n\r\n@Component\r\npublic class PersonValidator implements Validator {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; clazz) {\r\n        log.info(&quot;supports called&quot;);\r\n       return Person.class.equals(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        log.info(&quot;validate called&quot;);\r\n        Person person = (Person) target;\r\n        errors.reject(&quot;E00001&quot;, &quot;This is the default error message, just to test.&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n// MyController.java\r\npackage com.example.usingvalidation;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.validation.ConstraintViolation;\r\nimport java.util.Set;\r\n\r\n@RestController\r\npublic class MyController {\r\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n    private final LocalValidatorFactoryBean validatorFactory;\r\n\r\n    @Autowired\r\n    public MyController(LocalValidatorFactoryBean validatorFactory) {\r\n        this.validatorFactory = validatorFactory;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public Person getPerson(@RequestBody Person person) {\r\n        log.info(&quot;calling validate&quot;);\r\n        Set&lt;ConstraintViolation&lt;Person&gt;&gt; errors =  validatorFactory.validate(person);\r\n        log.info(&quot;called validate, result: {}&quot;, errors);\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n// UsingValidationApplication.java  nothing changed here\r\n\r\npackage com.example.usingvalidation;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class MyController {\r\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n    private final LocalValidatorFactoryBean validatorFactory;\r\n\r\n    @Autowired\r\n    public MyController(LocalValidatorFactoryBean validatorFactory) {\r\n        this.validatorFactory = validatorFactory;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public Person getPerson(@RequestBody Person person) {\r\n        log.info(&quot;calling validate&quot;);\r\n        validatorFactory.validate(person);\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nIf I hit the endpoint to trigger validation, nothing happens. I see the `calling validate` log message. But the errors object is empty.\r\nNone of the log messages in `PersonValidater` are being logged, so clearly no calls are reaching there.\r\n\r\nMy question is: How do I *register* my Validator with Spring so that I can use the Validator?\r\n\r\nI have gone through the docs multiple times and hundreds of SO questions (like [java - Implementing custom validation logic for a spring boot endpoint using a combination of JSR-303 and Spring&#39;s Validator - Stack Overflow](https://stackoverflow.com/questions/39001106/implementing-custom-validation-logic-for-a-spring-boot-endpoint-using-a-combinat)) but to no avail.\r\n\r\n## Additional Info ##\r\n\r\n - If there are any JSR-303 annotations like `@NotNull` then the current setup will pick up errors related to the JSR-303 validations. But that is not what I need, I need it to use my custom validator.\r\n- I saw other SO questions where `InitBinder` was used in the controller for registering the validator with Spring. But I don&#39;t want to do that as I plan to do these custom validations in the service layer.\r\n","title":"How to use custom validators in Spring","body":"<p>I am building a Spring Boot application and trying to implement custom validation for some DTOs/Entities that I will be validating in the service layer. Based on the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validation\" rel=\"noreferrer\">Spring documentation on this matter</a>, I think one way to do this is to implement the <code>org.springframework.validation.Validator</code> interface.</p>\n<p>As a minimal, complete, reproducible example, consider the following code:</p>\n<p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.6&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=com.example&amp;artifactId=using-validation&amp;name=using-validation&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.using-validation&amp;dependencies=web,validation\" rel=\"noreferrer\">Spring Initializr Bootstrapped Project</a></p>\n<p>With the following code added in <code>src/main/java/com.example.usingvalidation</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Person.java\n\npackage com.example.usingvalidation;\n\npublic class Person {\n    private String firstName;\n    private String lastName;\n    private int age;\n    private String gender;\n\n    public Person() {\n    }\n\n    public Person(String firstName, String lastName, int age, String gender) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n        this.gender = gender;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; +\n                &quot;firstName='&quot; + firstName + '\\'' +\n                &quot;, lastName='&quot; + lastName + '\\'' +\n                &quot;, age=&quot; + age +\n                &quot;, gender='&quot; + gender + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// PersonValidator.java\n\npackage com.example.usingvalidation;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.Validator;\n\n@Component\npublic class PersonValidator implements Validator {\n\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        log.info(&quot;supports called&quot;);\n       return Person.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        log.info(&quot;validate called&quot;);\n        Person person = (Person) target;\n        errors.reject(&quot;E00001&quot;, &quot;This is the default error message, just to test.&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// MyController.java\npackage com.example.usingvalidation;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.validation.ConstraintViolation;\nimport java.util.Set;\n\n@RestController\npublic class MyController {\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n    private final LocalValidatorFactoryBean validatorFactory;\n\n    @Autowired\n    public MyController(LocalValidatorFactoryBean validatorFactory) {\n        this.validatorFactory = validatorFactory;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public Person getPerson(@RequestBody Person person) {\n        log.info(&quot;calling validate&quot;);\n        Set&lt;ConstraintViolation&lt;Person&gt;&gt; errors =  validatorFactory.validate(person);\n        log.info(&quot;called validate, result: {}&quot;, errors);\n        return null;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// UsingValidationApplication.java  nothing changed here\n\npackage com.example.usingvalidation;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class MyController {\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n    private final LocalValidatorFactoryBean validatorFactory;\n\n    @Autowired\n    public MyController(LocalValidatorFactoryBean validatorFactory) {\n        this.validatorFactory = validatorFactory;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public Person getPerson(@RequestBody Person person) {\n        log.info(&quot;calling validate&quot;);\n        validatorFactory.validate(person);\n        return null;\n    }\n}\n</code></pre>\n<p>If I hit the endpoint to trigger validation, nothing happens. I see the <code>calling validate</code> log message. But the errors object is empty.\nNone of the log messages in <code>PersonValidater</code> are being logged, so clearly no calls are reaching there.</p>\n<p>My question is: How do I <em>register</em> my Validator with Spring so that I can use the Validator?</p>\n<p>I have gone through the docs multiple times and hundreds of SO questions (like <a href=\"https://stackoverflow.com/questions/39001106/implementing-custom-validation-logic-for-a-spring-boot-endpoint-using-a-combinat\">java - Implementing custom validation logic for a spring boot endpoint using a combination of JSR-303 and Spring's Validator - Stack Overflow</a>) but to no avail.</p>\n<h2>Additional Info</h2>\n<ul>\n<li>If there are any JSR-303 annotations like <code>@NotNull</code> then the current setup will pick up errors related to the JSR-303 validations. But that is not what I need, I need it to use my custom validator.</li>\n<li>I saw other SO questions where <code>InitBinder</code> was used in the controller for registering the validator with Spring. But I don't want to do that as I plan to do these custom validations in the service layer.</li>\n</ul>\n"},{"tags":["java","sql","sqlite","android-studio","android-sqlite"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1657704539,"post_id":72963565,"comment_id":128871696,"body_markdown":"You use a blob for what exactly? Saving to database? Then the blob must be created by the driver, check the `Connection`&#39;s methods for that. Also, please don&#39;t use images of your code. It makes your problem harder to search.","body":"You use a blob for what exactly? Saving to database? Then the blob must be created by the driver, check the <code>Connection</code>&#39;s methods for that. Also, please don&#39;t use images of your code. It makes your problem harder to search."},{"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"score":0,"creation_date":1657706214,"post_id":72963565,"comment_id":128872223,"body_markdown":"@M.Prokhorov I am using Blob to save an image as a Blob and save it into a database. What do you mean by it must be created by the driver?","body":"@M.Prokhorov I am using Blob to save an image as a Blob and save it into a database. What do you mean by it must be created by the driver?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1657708397,"post_id":72963565,"comment_id":128872953,"body_markdown":"I&#39;ve added the answer since there doesn&#39;t seem to be many different questions with answers about specifically writing using blobs. Also, pretty sure `String.valueOf(R.drawable.fried_chicken)` is not how you get the path to your image file. Check very carefully what that part returns, it might just be some integer.","body":"I&#39;ve added the answer since there doesn&#39;t seem to be many different questions with answers about specifically writing using blobs. Also, pretty sure <code>String.valueOf(R.drawable.fried_chicken)</code> is not how you get the path to your image file. Check very carefully what that part returns, it might just be some integer."},{"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"score":0,"creation_date":1657709469,"post_id":72963565,"comment_id":128873330,"body_markdown":"@M.Prokhorov for the Connection, how do I know what to connect to?","body":"@M.Prokhorov for the Connection, how do I know what to connect to?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1657709817,"post_id":72963565,"comment_id":128873444,"body_markdown":"You added the database to your app. Who better to know what you are supposed to connect with?","body":"You added the database to your app. Who better to know what you are supposed to connect with?"},{"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"score":0,"creation_date":1657717825,"post_id":72963565,"comment_id":128876563,"body_markdown":"@M.Prokhorov is this connection connecting to a website or file directory?","body":"@M.Prokhorov is this connection connecting to a website or file directory?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1657791264,"post_id":72963565,"comment_id":128896276,"body_markdown":"It&#39;s a connection to a database. Which may or may not be on remote machine, but in case of android apps that&#39;s unlikely, you guys usually have sqlite or something similar.","body":"It&#39;s a connection to a database. Which may or may not be on remote machine, but in case of android apps that&#39;s unlikely, you guys usually have sqlite or something similar."}],"answers":[{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657708153,"creation_date":1657708153,"answer_id":72964764,"question_id":72963565,"body_markdown":"Blobs are representation of binary arrays (which may be files) that your database engine know about.\r\n\r\nThis, typically, means that blobs are created by the driver, or added to the database&#39;s datafile registry some other way (but the latter is database-specific, can be unsupported by some databases, and unlikely to even be accessible for JDBC API).\r\n\r\nFor the first approach, there is an API since JDBC 3.0 (which is around Java 1.6):\r\n\r\n    import java.sql.Connection;\r\n\r\n    ...\r\n\r\n    Bitmap src = &lt;...create your bitmap...&gt;\r\n    try (Connection conn = &lt;...get connection from somewhere...&gt;) {\r\n    \r\n       Blob b = conn.createBlob();\r\n\r\n       OutputStream blobOut = b.setOutputStream(0); // 0 so you write to start of the blob\r\n       src.compress(Bitmap.CompressFormat.JPG, 100, blobOut);\r\n\r\n       /* after all that you save blob by executing UPDATE or INSERT statements */\r\n    }","title":"How do i import SerialBlob?","body":"<p>Blobs are representation of binary arrays (which may be files) that your database engine know about.</p>\n<p>This, typically, means that blobs are created by the driver, or added to the database's datafile registry some other way (but the latter is database-specific, can be unsupported by some databases, and unlikely to even be accessible for JDBC API).</p>\n<p>For the first approach, there is an API since JDBC 3.0 (which is around Java 1.6):</p>\n<pre><code>import java.sql.Connection;\n\n...\n\nBitmap src = &lt;...create your bitmap...&gt;\ntry (Connection conn = &lt;...get connection from somewhere...&gt;) {\n\n   Blob b = conn.createBlob();\n\n   OutputStream blobOut = b.setOutputStream(0); // 0 so you write to start of the blob\n   src.compress(Bitmap.CompressFormat.JPG, 100, blobOut);\n\n   /* after all that you save blob by executing UPDATE or INSERT statements */\n}\n</code></pre>\n"}],"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657708153,"creation_date":1657702804,"question_id":72963565,"body_markdown":"```java\r\n// Initialise database\r\ndb = new MyDBHandler(this);\r\n\r\n// convert image to bitmap\r\nBitmap src = BitmapFactory.decodeFile(String.valueOf(R.drawable.fried_chicken));\r\n\r\n// Convert bitmap to byte\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nsrc.compress(Bitmap.CompressFormat.JPEG, 100, baos);\r\nbyte[] byte1 = baos.toByteArray();\r\n\r\n// Convert byte to blob\r\nBlob blob1 = new SerialBlob(byte1);  // Error here\r\n```\r\n\r\n\r\nI am trying to save the image into a database by converting it from a jpeg to blob\r\n\r\nEven though I had imported `java.sql.Blob`, I cant seem to use `SerialBlob`. This can be seen in the image.\r\n\r\nAny advice?","title":"How do i import SerialBlob?","body":"<pre class=\"lang-java prettyprint-override\"><code>// Initialise database\ndb = new MyDBHandler(this);\n\n// convert image to bitmap\nBitmap src = BitmapFactory.decodeFile(String.valueOf(R.drawable.fried_chicken));\n\n// Convert bitmap to byte\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nsrc.compress(Bitmap.CompressFormat.JPEG, 100, baos);\nbyte[] byte1 = baos.toByteArray();\n\n// Convert byte to blob\nBlob blob1 = new SerialBlob(byte1);  // Error here\n</code></pre>\n<p>I am trying to save the image into a database by converting it from a jpeg to blob</p>\n<p>Even though I had imported <code>java.sql.Blob</code>, I cant seem to use <code>SerialBlob</code>. This can be seen in the image.</p>\n<p>Any advice?</p>\n"},{"tags":["java","maven","intellij-idea","javafx","stack-overflow"],"answers":[{"tags":[],"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593182877,"creation_date":1593182877,"answer_id":62597284,"question_id":62596666,"body_markdown":"I think you put the breakpoint on the method.Click to ctrl+shift+f8 list breakpoint,\r\nand remove breakpoints on  methods","title":"IntelliJ IDEA Maven project StackOverflowError when running debug configuration","body":"<p>I think you put the breakpoint on the method.Click to ctrl+shift+f8 list breakpoint,\nand remove breakpoints on  methods</p>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593242564,"creation_date":1593242564,"answer_id":62607120,"question_id":62596666,"body_markdown":"It is known issue, please vote for [IDEA-203018](https://youtrack.jetbrains.com/issue/IDEA-203018).","title":"IntelliJ IDEA Maven project StackOverflowError when running debug configuration","body":"<p>It is known issue, please vote for <a href=\"https://youtrack.jetbrains.com/issue/IDEA-203018\" rel=\"nofollow noreferrer\">IDEA-203018</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user13685906"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593294515,"creation_date":1593294515,"answer_id":62615916,"question_id":62596666,"body_markdown":"made maven configuration `compile exec:exec &quot;-Dexec.args=-classpath %classpath -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=1044 com.me.myapp.myclass&quot;`, and added remote configuration. Launched maven cfg, then remote cfg","title":"IntelliJ IDEA Maven project StackOverflowError when running debug configuration","body":"<p>made maven configuration <code>compile exec:exec &quot;-Dexec.args=-classpath %classpath -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=1044 com.me.myapp.myclass&quot;</code>, and added remote configuration. Launched maven cfg, then remote cfg</p>\n"}],"owner":{"display_name":"user13685906"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62615916,"answer_count":3,"score":0,"last_activity_date":1657707266,"creation_date":1593180857,"question_id":62596666,"body_markdown":"When I run mvn compile exec:exec, everything works fine, but when I click the debug button for the same configuration, it gives me the following error:\r\n\r\n    /home/miika/.jdks/openjdk-14.0.1/bin/java -Dmaven.multiModuleProjectDirectory=/home/miika/IdeaProjects/jetfuel -Dmaven.home=/opt/IntelliJ-IDEA/plugins/maven/lib/maven3 -Dclassworlds.conf=/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/bin/m2.conf -Dmaven.ext.class.path=/opt/IntelliJ-IDEA/plugins/maven/lib/maven-event-listener.jar -Dfile.encoding=UTF-8 -classpath /opt/IntelliJ-IDEA/plugins/maven/lib/maven3/boot/plexus-classworlds.license:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/boot/plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version2020.1.2 compile exec:exec &quot;-Dexec.args=-classpath %classpath:/opt/IntelliJ-IDEA/lib/idea_rt.jar -agentlib:jdwp=transport=dt_socket,address=40913,suspend=y,server=y -javaagent:/opt/IntelliJ-IDEA/plugins/java/lib/rt/debugger-agent.jar ${exec.args}&quot;\r\n        [INFO] Scanning for projects...\r\n        [INFO] \r\n        [INFO] ------------------------&lt; com.discape:jetfuel &gt;-------------------------\r\n        [INFO] Building Jetfuel 1.0-SNAPSHOT\r\n        [INFO] --------------------------------[ jar ]---------------------------------\r\n        [INFO] \r\n        [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ jetfuel ---\r\n        [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n        [INFO] Copying 7 resources\r\n        [INFO] Copying 0 resource\r\n        [INFO] Copying 0 resource\r\n        [INFO] \r\n        [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ jetfuel ---\r\n        [INFO] Nothing to compile - all classes are up to date\r\n        [INFO] \r\n        [INFO] --- exec-maven-plugin:1.6.0:exec (default-cli) @ jetfuel ---\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] BUILD FAILURE\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] Total time:  1.037 s\r\n        [INFO] Finished at: 2020-06-26T17:05:50+03:00\r\n        [INFO] ------------------------------------------------------------------------\r\n        ---------------------------------------------------\r\n        constituent[0]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/conf/logging/\r\n        constituent[1]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-utils-3.2.1.jar\r\n        constituent[2]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jsoup-1.12.1.jar\r\n        constituent[3]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-transport-wagon-1.4.1.jar\r\n        constituent[4]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-provider-3.6.3.jar\r\n        constituent[5]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-core-3.6.3.jar\r\n        constituent[6]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-compat-3.6.3.jar\r\n        constituent[7]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-spi-1.4.1.jar\r\n        constituent[8]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-connector-basic-1.4.1.jar\r\n        constituent[9]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/commons-lang3-3.8.1.jar\r\n        constituent[10]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-model-builder-3.6.3.jar\r\n        constituent[11]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-sec-dispatcher-1.4.jar\r\n        constituent[12]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-artifact-3.6.3.jar\r\n        constituent[13]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jsr250-api-1.0.jar\r\n        constituent[14]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/wagon-http-3.3.4-shaded.jar\r\n        constituent[15]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/commons-cli-1.4.jar\r\n        constituent[16]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-builder-support-3.6.3.jar\r\n        constituent[17]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-component-annotations-2.1.0.jar\r\n        constituent[18]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/cdi-api-1.0.jar\r\n        constituent[19]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-impl-1.4.1.jar\r\n        constituent[20]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/wagon-provider-api-3.3.4.jar\r\n        constituent[21]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-api-1.4.1.jar\r\n        constituent[22]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-util-1.4.1.jar\r\n        constituent[23]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/commons-io-2.5.jar\r\n        constituent[24]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-repository-metadata-3.6.3.jar\r\n        constituent[25]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/slf4j-api-1.7.29.jar\r\n        constituent[26]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/org.eclipse.sisu.inject-0.3.4.jar\r\n        constituent[27]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-plugin-api-3.6.3.jar\r\n        constituent[28]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-model-3.6.3.jar\r\n        constituent[29]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-settings-builder-3.6.3.jar\r\n        constituent[30]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jcl-over-slf4j-1.7.29.jar\r\n        constituent[31]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/wagon-file-3.3.4.jar\r\n        constituent[32]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-embedder-3.6.3.jar\r\n        constituent[33]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-shared-utils-3.2.1.jar\r\n        constituent[34]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/javax.inject-1.jar\r\n        constituent[35]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/org.eclipse.sisu.plexus-0.3.4.jar\r\n        constituent[36]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-interpolation-1.25.jar\r\n        constituent[37]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-slf4j-provider-3.6.3.jar\r\n        constituent[38]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/guava-25.1-android.jar\r\n        constituent[39]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-cipher-1.7.jar\r\n        constituent[40]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/guice-4.2.1-no_aop.jar\r\n        constituent[41]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-settings-3.6.3.jar\r\n        constituent[42]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jansi-1.17.1.jar\r\n        ---------------------------------------------------\r\n        Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n        \tat org.apache.maven.plugin.PluginParameterExpressionEvaluator.stripTokens(PluginParameterExpressionEvaluator.java:453)\r\n        \tat org.apache.maven.plugin.PluginParameterExpressionEvaluator.evaluate(PluginParameterExpressionEvaluator.java:160)\r\n        \tat org.apache.maven.plugin.PluginParameterExpressionEvaluator.evaluate(PluginParameterExpressionEvaluator.java:145)\r\n        \tat org.apache.maven.plugin.PluginParameterExpressionEvaluator.evaluate(PluginParameterExpressionEvaluator.java:428)\r\n^ the end repeats for ~1020 lines\r\n\r\nhere&#39;s my pom.xml if anyone needs it:\r\nhttps://raw.githubusercontent.com/discapes/jetfuel/v1.1/pom.xml\r\n\r\nI am trying to debug to find out which thread is preventing my application from closing.","title":"IntelliJ IDEA Maven project StackOverflowError when running debug configuration","body":"<p>When I run mvn compile exec:exec, everything works fine, but when I click the debug button for the same configuration, it gives me the following error:</p>\n<pre><code>/home/miika/.jdks/openjdk-14.0.1/bin/java -Dmaven.multiModuleProjectDirectory=/home/miika/IdeaProjects/jetfuel -Dmaven.home=/opt/IntelliJ-IDEA/plugins/maven/lib/maven3 -Dclassworlds.conf=/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/bin/m2.conf -Dmaven.ext.class.path=/opt/IntelliJ-IDEA/plugins/maven/lib/maven-event-listener.jar -Dfile.encoding=UTF-8 -classpath /opt/IntelliJ-IDEA/plugins/maven/lib/maven3/boot/plexus-classworlds.license:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/boot/plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version2020.1.2 compile exec:exec &quot;-Dexec.args=-classpath %classpath:/opt/IntelliJ-IDEA/lib/idea_rt.jar -agentlib:jdwp=transport=dt_socket,address=40913,suspend=y,server=y -javaagent:/opt/IntelliJ-IDEA/plugins/java/lib/rt/debugger-agent.jar ${exec.args}&quot;\n    [INFO] Scanning for projects...\n    [INFO] \n    [INFO] ------------------------&lt; com.discape:jetfuel &gt;-------------------------\n    [INFO] Building Jetfuel 1.0-SNAPSHOT\n    [INFO] --------------------------------[ jar ]---------------------------------\n    [INFO] \n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ jetfuel ---\n    [INFO] Using 'UTF-8' encoding to copy filtered resources.\n    [INFO] Copying 7 resources\n    [INFO] Copying 0 resource\n    [INFO] Copying 0 resource\n    [INFO] \n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ jetfuel ---\n    [INFO] Nothing to compile - all classes are up to date\n    [INFO] \n    [INFO] --- exec-maven-plugin:1.6.0:exec (default-cli) @ jetfuel ---\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time:  1.037 s\n    [INFO] Finished at: 2020-06-26T17:05:50+03:00\n    [INFO] ------------------------------------------------------------------------\n    ---------------------------------------------------\n    constituent[0]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/conf/logging/\n    constituent[1]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-utils-3.2.1.jar\n    constituent[2]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jsoup-1.12.1.jar\n    constituent[3]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-transport-wagon-1.4.1.jar\n    constituent[4]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-provider-3.6.3.jar\n    constituent[5]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-core-3.6.3.jar\n    constituent[6]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-compat-3.6.3.jar\n    constituent[7]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-spi-1.4.1.jar\n    constituent[8]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-connector-basic-1.4.1.jar\n    constituent[9]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/commons-lang3-3.8.1.jar\n    constituent[10]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-model-builder-3.6.3.jar\n    constituent[11]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-sec-dispatcher-1.4.jar\n    constituent[12]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-artifact-3.6.3.jar\n    constituent[13]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jsr250-api-1.0.jar\n    constituent[14]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/wagon-http-3.3.4-shaded.jar\n    constituent[15]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/commons-cli-1.4.jar\n    constituent[16]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-builder-support-3.6.3.jar\n    constituent[17]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-component-annotations-2.1.0.jar\n    constituent[18]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/cdi-api-1.0.jar\n    constituent[19]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-impl-1.4.1.jar\n    constituent[20]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/wagon-provider-api-3.3.4.jar\n    constituent[21]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-api-1.4.1.jar\n    constituent[22]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-resolver-util-1.4.1.jar\n    constituent[23]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/commons-io-2.5.jar\n    constituent[24]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-repository-metadata-3.6.3.jar\n    constituent[25]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/slf4j-api-1.7.29.jar\n    constituent[26]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/org.eclipse.sisu.inject-0.3.4.jar\n    constituent[27]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-plugin-api-3.6.3.jar\n    constituent[28]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-model-3.6.3.jar\n    constituent[29]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-settings-builder-3.6.3.jar\n    constituent[30]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jcl-over-slf4j-1.7.29.jar\n    constituent[31]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/wagon-file-3.3.4.jar\n    constituent[32]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-embedder-3.6.3.jar\n    constituent[33]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-shared-utils-3.2.1.jar\n    constituent[34]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/javax.inject-1.jar\n    constituent[35]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/org.eclipse.sisu.plexus-0.3.4.jar\n    constituent[36]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-interpolation-1.25.jar\n    constituent[37]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-slf4j-provider-3.6.3.jar\n    constituent[38]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/guava-25.1-android.jar\n    constituent[39]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/plexus-cipher-1.7.jar\n    constituent[40]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/guice-4.2.1-no_aop.jar\n    constituent[41]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/maven-settings-3.6.3.jar\n    constituent[42]: file:/opt/IntelliJ-IDEA/plugins/maven/lib/maven3/lib/jansi-1.17.1.jar\n    ---------------------------------------------------\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\n        at org.apache.maven.plugin.PluginParameterExpressionEvaluator.stripTokens(PluginParameterExpressionEvaluator.java:453)\n        at org.apache.maven.plugin.PluginParameterExpressionEvaluator.evaluate(PluginParameterExpressionEvaluator.java:160)\n        at org.apache.maven.plugin.PluginParameterExpressionEvaluator.evaluate(PluginParameterExpressionEvaluator.java:145)\n        at org.apache.maven.plugin.PluginParameterExpressionEvaluator.evaluate(PluginParameterExpressionEvaluator.java:428)\n</code></pre>\n<p>^ the end repeats for ~1020 lines</p>\n<p>here's my pom.xml if anyone needs it:\n<a href=\"https://raw.githubusercontent.com/discapes/jetfuel/v1.1/pom.xml\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/discapes/jetfuel/v1.1/pom.xml</a></p>\n<p>I am trying to debug to find out which thread is preventing my application from closing.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1467725003,"post_id":38204579,"comment_id":63833168,"body_markdown":"What i your input and expected output? What is wrong with the code you tried? Your question is extremely unclear and your example can&#39;t compile as it stands.","body":"What i your input and expected output? What is wrong with the code you tried? Your question is extremely unclear and your example can&#39;t compile as it stands."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1467725110,"post_id":38204579,"comment_id":63833248,"body_markdown":"You&#39;ve got `rows * columns * depth` cells. There&#39;s no need to iterate so deep, you already browse all the cells with your three first `for` loops.","body":"You&#39;ve got <code>rows * columns * depth</code> cells. There&#39;s no need to iterate so deep, you already browse all the cells with your three first <code>for</code> loops."}],"answers":[{"tags":[],"owner":{"account_id":8525882,"reputation":2719,"user_id":6391367,"display_name":"explv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467726991,"creation_date":1467725212,"answer_id":38204711,"question_id":38204579,"body_markdown":"In Java 8 you can simply do:\r\n\r\n    double[][][] vals = {{{1.1, 2.1}, {3.2, 4.1}}, {{5.2, 6.1}, {7.1, 8.3}}};\r\n\r\n    double[] test = Arrays.stream(vals)\r\n                          .flatMap(Arrays::stream)\r\n                          .flatMapToDouble(Arrays::stream)\r\n                          .toArray();\r\n\r\n    System.out.println(Arrays.toString(test));\r\n\r\n\r\nOutput:\r\n\r\n    [1.1, 2.1, 3.2, 4.1, 5.2, 6.1, 7.1, 8.3]\r\nExplanation:\r\n\r\n`Arrays.stream(vals)` creates a `Stream&lt;double[][]&gt;`.\r\n\r\n`.flatMap(Arrays::stream)` flattens it into a `Stream&lt;double[]&gt;`\r\n\r\n`.flatMapToDouble` flattens the `Stream&lt;double[]&gt;` into an `DoubleStream`\r\n\r\nFinally `.toArray()` collects all the values in the `DoubleStream` and returns a `double[]`.\r\n\r\n\r\n\r\n","title":"Flatten 3D array to 1D array","body":"<p>In Java 8 you can simply do:</p>\n\n<pre><code>double[][][] vals = {{{1.1, 2.1}, {3.2, 4.1}}, {{5.2, 6.1}, {7.1, 8.3}}};\n\ndouble[] test = Arrays.stream(vals)\n                      .flatMap(Arrays::stream)\n                      .flatMapToDouble(Arrays::stream)\n                      .toArray();\n\nSystem.out.println(Arrays.toString(test));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1.1, 2.1, 3.2, 4.1, 5.2, 6.1, 7.1, 8.3]\n</code></pre>\n\n<p>Explanation:</p>\n\n<p><code>Arrays.stream(vals)</code> creates a <code>Stream&lt;double[][]&gt;</code>.</p>\n\n<p><code>.flatMap(Arrays::stream)</code> flattens it into a <code>Stream&lt;double[]&gt;</code></p>\n\n<p><code>.flatMapToDouble</code> flattens the <code>Stream&lt;double[]&gt;</code> into an <code>DoubleStream</code></p>\n\n<p>Finally <code>.toArray()</code> collects all the values in the <code>DoubleStream</code> and returns a <code>double[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":4550270,"reputation":827,"user_id":3695740,"display_name":"majk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467727045,"creation_date":1467725307,"answer_id":38204757,"question_id":38204579,"body_markdown":"Your method is correct, but you are not multiplying your coordinates correctly. A good way to make sure you&#39;re correct is to use an adaptation of Horner&#39;s scheme: `value_x + upper_bound_of_x * (value_y + upper_bound_of_y * ( ... ))`. \r\n\r\nAlso, the inner-most loop is superfluous, you should be able to calculate the index to `S_p` using the method above.\r\n\r\n    int rows = S_p.length;\r\n    int columns = S_p[0].length;\r\n    int depth = S_p[0][0].length;\r\n    double[] d1 = new double[rows * columns * depth];\r\n\r\n    for (int i = 0; i &lt; depth; i++) {\r\n        for (int j = 0; j &lt; rows; j++) {\r\n            for (int k = 0; k &lt; columns; k++) {\r\n                d1[i + depth*(j + rows*(k))] = S_p[j][k][i];\r\n            }\r\n        }\r\n    }\r\n","title":"Flatten 3D array to 1D array","body":"<p>Your method is correct, but you are not multiplying your coordinates correctly. A good way to make sure you're correct is to use an adaptation of Horner's scheme: <code>value_x + upper_bound_of_x * (value_y + upper_bound_of_y * ( ... ))</code>. </p>\n\n<p>Also, the inner-most loop is superfluous, you should be able to calculate the index to <code>S_p</code> using the method above.</p>\n\n<pre><code>int rows = S_p.length;\nint columns = S_p[0].length;\nint depth = S_p[0][0].length;\ndouble[] d1 = new double[rows * columns * depth];\n\nfor (int i = 0; i &lt; depth; i++) {\n    for (int j = 0; j &lt; rows; j++) {\n        for (int k = 0; k &lt; columns; k++) {\n            d1[i + depth*(j + rows*(k))] = S_p[j][k][i];\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15239945,"reputation":1,"user_id":19534948,"display_name":"lot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657707004,"creation_date":1657706291,"answer_id":72964358,"question_id":38204579,"body_markdown":"I was struggling with this problem for some time.\r\nGiven a 1D array1D[height x width x depth] and 3D array array3D[height][width][depth] with x in height y in width and z in depth. the folowing loops maps correctly every element in array3D to array1D by the following equation:\r\n\r\n     x* width + y +z*( width * height)\r\ncode it in C++:\r\n\r\n     for(int x=0; x&lt;height;++x){\r\n         for (int y=0; y&lt; width; ++y){   \r\n             for (int z=0; z&lt; depth; ++z){\r\n                 array3D[x][y][z]=array1D[x* width + y +z*( width * height)];}}}\r\n\r\nif you are doing some calculations and you want to save your data in 1D array that will be converted later on to 3D array  you are looking at:\r\n\r\n     for(int x=0; x&lt;height;++x){\r\n         for (int y=0; y&lt; width; ++y){   \r\n             for (int z=0; z&lt; depth; ++z){\r\n                 array1D[x* width + y +z*( width * height)]=YourCalculatedData;}}}\r\n\r\nPS: for Matlab you should minus 1 from indices and at last you should add 1 to the equation because Matlab&#39;s loops start from 1, not 0\r\n    \r\n    for x=1: height\r\n        for y=1: width\r\n            for z= 1:depth\r\n                volume(x,y,z)=rawdata((x-1)* width + (y-1 ) +(z-1)*( width * height)+1);\r\n            \r\n            end\r\n        end\r\n    end\r\n\r\nGood luck!\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Flatten 3D array to 1D array","body":"<p>I was struggling with this problem for some time.\nGiven a 1D array1D[height x width x depth] and 3D array array3D[height][width][depth] with x in height y in width and z in depth. the folowing loops maps correctly every element in array3D to array1D by the following equation:</p>\n<pre><code> x* width + y +z*( width * height)\n</code></pre>\n<p>code it in C++:</p>\n<pre><code> for(int x=0; x&lt;height;++x){\n     for (int y=0; y&lt; width; ++y){   \n         for (int z=0; z&lt; depth; ++z){\n             array3D[x][y][z]=array1D[x* width + y +z*( width * height)];}}}\n</code></pre>\n<p>if you are doing some calculations and you want to save your data in 1D array that will be converted later on to 3D array  you are looking at:</p>\n<pre><code> for(int x=0; x&lt;height;++x){\n     for (int y=0; y&lt; width; ++y){   \n         for (int z=0; z&lt; depth; ++z){\n             array1D[x* width + y +z*( width * height)]=YourCalculatedData;}}}\n</code></pre>\n<p>PS: for Matlab you should minus 1 from indices and at last you should add 1 to the equation because Matlab's loops start from 1, not 0</p>\n<pre><code>for x=1: height\n    for y=1: width\n        for z= 1:depth\n            volume(x,y,z)=rawdata((x-1)* width + (y-1 ) +(z-1)*( width * height)+1);\n        \n        end\n    end\nend\n</code></pre>\n<p>Good luck!</p>\n"}],"owner":{"account_id":8621180,"reputation":3,"user_id":6456054,"display_name":"Mrmem Aziz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657707004,"creation_date":1467724887,"question_id":38204579,"body_markdown":"How can we convert 3D array to 1D array in java??\r\n\r\nI used the code bellow:\r\n\r\n    input :double  [][][]S_p = { { { 1.1, 2.1 }, { 3.2, 4.1 } },  \r\n        { { 5.2, 6.1 }, { 7.1, 8.3 } } };\r\n\r\n    int rows = S_p.length;\r\n    int columns = S_p[0].length;\r\n    int depth = S_p[0][0].length;\r\n    double [] d1 = new double[row*columns*depth];\r\n    \r\n    for(int i=0;i&lt;depth;i++) {\r\n        for(int j=0;j&lt;rows;j++){\r\n            for(int k=0;k&lt;columns;k++) {         \r\n                for(int ii=0;ii&lt;rows*columns*depth;ii++) {\r\n                    d1 [ii]  = S_p[ depth *rows *i + columns *k +j];\r\n                }\r\n            }\r\n        }\r\n\r\n    out put b[]= {1.1, 2.1, 3.2 , 4.1 ...}\r\n\r\nBut this does not work ","title":"Flatten 3D array to 1D array","body":"<p>How can we convert 3D array to 1D array in java??</p>\n\n<p>I used the code bellow:</p>\n\n<pre><code>input :double  [][][]S_p = { { { 1.1, 2.1 }, { 3.2, 4.1 } },  \n    { { 5.2, 6.1 }, { 7.1, 8.3 } } };\n\nint rows = S_p.length;\nint columns = S_p[0].length;\nint depth = S_p[0][0].length;\ndouble [] d1 = new double[row*columns*depth];\n\nfor(int i=0;i&lt;depth;i++) {\n    for(int j=0;j&lt;rows;j++){\n        for(int k=0;k&lt;columns;k++) {         \n            for(int ii=0;ii&lt;rows*columns*depth;ii++) {\n                d1 [ii]  = S_p[ depth *rows *i + columns *k +j];\n            }\n        }\n    }\n\nout put b[]= {1.1, 2.1, 3.2 , 4.1 ...}\n</code></pre>\n\n<p>But this does not work </p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657706011,"creation_date":1657705297,"answer_id":72964106,"question_id":72963232,"body_markdown":"`Gdx.input.justTouched()` returns true only once, when the screen is touched, but not when the contact remains. Therefore the animation is just **shown for a single frame**.  \r\nTry using `Gdx.input.isTouched()` instead. This will return true, as long as the screen is touched.\r\n\r\nAlso see [this answer](https://stackoverflow.com/a/52388237/8178842).\r\n\r\n**EDIT**\r\n\r\nIf you don&#39;t want the button to be held down to start the animation you can use a boolean flag to indicate whether the animation should be playing:\r\n\r\n```\r\nprivate boolean playAnimation = false;\r\n\r\n// ...\r\n\r\npublic void render() {\r\n  if(Gdx.input.justTouched()){\r\n    playAnimation = true;\r\n  }\r\n  \r\n  if (playAnimation) {\r\n    boomAnimation.elapsedTime+=Gdx.graphics.getDeltaTime();\r\n    game.batch.draw((TextureRegion) boomAnimation.animation.getKeyFrame(boomAnimation.elapsedTime,true), 137,121,80,80);\r\n  }\r\n}\r\n```","title":"Animation too fast when Gdx.input.justTouched() libgdx","body":"<p><code>Gdx.input.justTouched()</code> returns true only once, when the screen is touched, but not when the contact remains. Therefore the animation is just <strong>shown for a single frame</strong>.<br />\nTry using <code>Gdx.input.isTouched()</code> instead. This will return true, as long as the screen is touched.</p>\n<p>Also see <a href=\"https://stackoverflow.com/a/52388237/8178842\">this answer</a>.</p>\n<p><strong>EDIT</strong></p>\n<p>If you don't want the button to be held down to start the animation you can use a boolean flag to indicate whether the animation should be playing:</p>\n<pre><code>private boolean playAnimation = false;\n\n// ...\n\npublic void render() {\n  if(Gdx.input.justTouched()){\n    playAnimation = true;\n  }\n  \n  if (playAnimation) {\n    boomAnimation.elapsedTime+=Gdx.graphics.getDeltaTime();\n    game.batch.draw((TextureRegion) boomAnimation.animation.getKeyFrame(boomAnimation.elapsedTime,true), 137,121,80,80);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72964106,"answer_count":1,"score":0,"last_activity_date":1657706903,"creation_date":1657701443,"question_id":72963232,"body_markdown":"I run an animation when `Gdx.input.justTouched()`, but when the button is clicked, the animation is seen for a thousandth of a second. It&#39;s too speed, but I&#39;m not talking about `new Animation(0.25f)`. \r\n\r\nExample of my code:\r\n\r\n    if (Gdx.input.justTouched()) {\r\n         boomAnimation.elapsedTime += Gdx.graphics.getDeltaTime();\r\n         game.batch.draw((TextureRegion) boomAnimation.animation.getKeyFrame(boomAnimation.elapsedTime, true), 137, 121, 80, 80);\r\n    }","title":"Animation too fast when Gdx.input.justTouched() libgdx","body":"<p>I run an animation when <code>Gdx.input.justTouched()</code>, but when the button is clicked, the animation is seen for a thousandth of a second. It's too speed, but I'm not talking about <code>new Animation(0.25f)</code>.</p>\n<p>Example of my code:</p>\n<pre><code>if (Gdx.input.justTouched()) {\n     boomAnimation.elapsedTime += Gdx.graphics.getDeltaTime();\n     game.batch.draw((TextureRegion) boomAnimation.animation.getKeyFrame(boomAnimation.elapsedTime, true), 137, 121, 80, 80);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-feign","openfeign"],"answers":[{"tags":[],"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657678926,"creation_date":1657678926,"answer_id":72960212,"question_id":72958520,"body_markdown":"Try giving your Feign client class name in this format and check whether this works,\r\n\r\n    @EnableFeignClients(basePackageClasses=com.abc.xxx.client.TestClient.class)\r\n\r\nThis parameter accept single or multiple class name. You can also give the base package of the same,\r\n\r\n    @EnableFeignClients(basePackages = {&quot;my.external.feign.client.package&quot;, &quot;my.local.package&quot;})","title":"How to autowire feign client (for external API) in a test?","body":"<p>Try giving your Feign client class name in this format and check whether this works,</p>\n<pre><code>@EnableFeignClients(basePackageClasses=com.abc.xxx.client.TestClient.class)\n</code></pre>\n<p>This parameter accept single or multiple class name. You can also give the base package of the same,</p>\n<pre><code>@EnableFeignClients(basePackages = {&quot;my.external.feign.client.package&quot;, &quot;my.local.package&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657706820,"creation_date":1657706820,"answer_id":72964469,"question_id":72958520,"body_markdown":"From the javadoc of `@EnableFeignClients`:\r\n\r\n&gt; Scans for interfaces that declare they are feign clients (via FeignClient `@FeignClient`). Configures component scanning directives **for use with org.springframework.context.annotation.Configuration `@Configuration` classes**.\r\n\r\nGenerally this is placed on a `@SpringBootApplication` annotated class so that your Feign clients are available in production as well as your `@SpringBootTest`&#39;s.\r\n\r\nIf you really want to enable your Feign client only in your test, it should look something like this:\r\n```java\r\n@SpringBootTest\r\nclass ClientApplicationTests {\r\n\r\n\t@EnableFeignClients(clients = TestClient.class)\r\n\t@Configuration\r\n    protected static class ClientApplicationTestsConfig {\r\n    }\t\r\n\r\n    @Autowired\r\n    private TestClient client;\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        System.out.println(client.test(TestRequest.builder().foo(&quot;foo&quot;).build()));\r\n    }\r\n}\r\n```\r\nThis way your test will use the nested `@Configuration` instead of the automatically found `@SpringBootConfiguration`/`@SpringBootApplication`.","title":"How to autowire feign client (for external API) in a test?","body":"<p>From the javadoc of <code>@EnableFeignClients</code>:</p>\n<blockquote>\n<p>Scans for interfaces that declare they are feign clients (via FeignClient <code>@FeignClient</code>). Configures component scanning directives <strong>for use with org.springframework.context.annotation.Configuration <code>@Configuration</code> classes</strong>.</p>\n</blockquote>\n<p>Generally this is placed on a <code>@SpringBootApplication</code> annotated class so that your Feign clients are available in production as well as your <code>@SpringBootTest</code>'s.</p>\n<p>If you really want to enable your Feign client only in your test, it should look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass ClientApplicationTests {\n\n    @EnableFeignClients(clients = TestClient.class)\n    @Configuration\n    protected static class ClientApplicationTestsConfig {\n    }   \n\n    @Autowired\n    private TestClient client;\n\n    @Test\n    void contextLoads() {\n        System.out.println(client.test(TestRequest.builder().foo(&quot;foo&quot;).build()));\n    }\n}\n</code></pre>\n<p>This way your test will use the nested <code>@Configuration</code> instead of the automatically found <code>@SpringBootConfiguration</code>/<code>@SpringBootApplication</code>.</p>\n"}],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72960212,"answer_count":2,"score":1,"last_activity_date":1657706820,"creation_date":1657660848,"question_id":72958520,"body_markdown":"I&#39;ve written a simple Feign client, for calling an external API (running on a different server):\r\n\r\n    @FeignClient(\r\n            name = &quot;test-service&quot;,\r\n            url = &quot;https://some-test-server.com/api&quot;\r\n    )\r\n    public interface TestClient {\r\n    \r\n        @RequestMapping(method = RequestMethod.POST, value = &quot;/test&quot;)\r\n        TestResponse test(TestRequest request);\r\n    }\r\n\r\nI wrote some simple bean classes, `TestRequest` &amp; `TestResponse` to model the request / response - I&#39;m expecting them to be serialized &amp; deserialized as json.\r\n\r\nI want to just test that its able to make the HTTP call and receive a response, so I wrote a test:\r\n\r\n    @SpringBootTest\r\n    @EnableFeignClients(clients = TestClient.class)\r\n    class ClientApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate TestClient client;\r\n    \r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t\tSystem.out.println(client.test(TestRequest.builder().foo(&quot;foo&quot;).build()));\r\n    \t}\r\n\r\nBut Intellij warns me that no Beans were found to autowire `TestClient`, and running this gives a similar exception:\r\n\r\n    java.lang.NoClassDefFoundError: org/springframework/cloud/context/named/NamedContextFactory$Specification\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat org.springframework.cloud.openfeign.FeignClientsRegistrar.registerClientConfiguration(FeignClientsRegistrar.java:410) ~[spring-cloud-openfeign-core-3.1.3.jar:3.1.3]\r\n\r\nWhat am I doing wrong?","title":"How to autowire feign client (for external API) in a test?","body":"<p>I've written a simple Feign client, for calling an external API (running on a different server):</p>\n<pre><code>@FeignClient(\n        name = &quot;test-service&quot;,\n        url = &quot;https://some-test-server.com/api&quot;\n)\npublic interface TestClient {\n\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/test&quot;)\n    TestResponse test(TestRequest request);\n}\n</code></pre>\n<p>I wrote some simple bean classes, <code>TestRequest</code> &amp; <code>TestResponse</code> to model the request / response - I'm expecting them to be serialized &amp; deserialized as json.</p>\n<p>I want to just test that its able to make the HTTP call and receive a response, so I wrote a test:</p>\n<pre><code>@SpringBootTest\n@EnableFeignClients(clients = TestClient.class)\nclass ClientApplicationTests {\n\n    @Autowired\n    private TestClient client;\n\n    @Test\n    void contextLoads() {\n        System.out.println(client.test(TestRequest.builder().foo(&quot;foo&quot;).build()));\n    }\n</code></pre>\n<p>But Intellij warns me that no Beans were found to autowire <code>TestClient</code>, and running this gives a similar exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/cloud/context/named/NamedContextFactory$Specification\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.springframework.cloud.openfeign.FeignClientsRegistrar.registerClientConfiguration(FeignClientsRegistrar.java:410) ~[spring-cloud-openfeign-core-3.1.3.jar:3.1.3]\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1632423089,"post_id":69305439,"comment_id":122495263,"body_markdown":"Are these beans proxies?","body":"Are these beans proxies?"},{"owner":{"account_id":10450488,"reputation":85,"user_id":8839342,"display_name":"Toniotti"},"score":0,"creation_date":1632423151,"post_id":69305439,"comment_id":122495293,"body_markdown":"How do i know that? Never heard about it.","body":"How do i know that? Never heard about it."},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1632423389,"post_id":69305439,"comment_id":122495389,"body_markdown":"`@Repository` annotated class is automatically proxiedby `Spring`","body":"<code>@Repository</code> annotated class is automatically proxiedby <code>Spring</code>"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1632423756,"post_id":69305439,"comment_id":122495546,"body_markdown":"See some of the techniques in https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean","body":"See some of the techniques in <a href=\"https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean\" title=\"is it possible to unproxy a spring bean\">stackoverflow.com/questions/8121551/&hellip;</a>"},{"owner":{"account_id":10450488,"reputation":85,"user_id":8839342,"display_name":"Toniotti"},"score":0,"creation_date":1632424122,"post_id":69305439,"comment_id":122495674,"body_markdown":"With this AopUtils class, i tried using all the &quot;isProxy&quot; methods, none of them returned true. &quot;obj instanceof Advised&quot; returned false too","body":"With this AopUtils class, i tried using all the &quot;isProxy&quot; methods, none of them returned true. &quot;obj instanceof Advised&quot; returned false too"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1632424186,"post_id":69305439,"comment_id":122495702,"body_markdown":"The bean is a proxy, as Sotirios said. Maybe you can use BeanPostProcessor, which can do something with the bean before it&#39;s proxied. https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-extension","body":"The bean is a proxy, as Sotirios said. Maybe you can use BeanPostProcessor, which can do something with the bean before it&#39;s proxied. <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-extension\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10450488,"reputation":85,"user_id":8839342,"display_name":"Toniotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632439918,"creation_date":1632424646,"answer_id":69305817,"question_id":69305439,"body_markdown":"I found a solution in using the `AnnotationUtils.findAnnotation()` method.\r\n\r\nBasically for every `beanMethod`, you get the annotation using the `findAnnotation` method.\r\n\r\n```java\r\nvar annotation = AnnotationUtils.findAnnotation(beanMethod, MyAnnotation.class);\r\n```","title":"Spring method annotations null","body":"<p>I found a solution in using the <code>AnnotationUtils.findAnnotation()</code> method.</p>\n<p>Basically for every <code>beanMethod</code>, you get the annotation using the <code>findAnnotation</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var annotation = AnnotationUtils.findAnnotation(beanMethod, MyAnnotation.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8217927,"reputation":1,"user_id":6183553,"display_name":"Sanket Unche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657706613,"creation_date":1657706613,"answer_id":72964422,"question_id":69305439,"body_markdown":"I was using `isAnnotationPresent` method but it was always returning false. I have then used `AnnotationUtils.findAnnotation(method, &lt;Annotation.class&gt;)`\r\n\r\nHere is how I am finding method that is using custom annotation:\r\n\r\n    for (String beanName : applicationContext.getBeanDefinitionNames()) {\r\n            Object bean = applicationContext.getBean(beanName);\r\n            Class&lt;?&gt; objClass = bean.getClass();\r\n            for (Method m : objClass.getDeclaredMethods()) {\r\n\r\n                Annotation a = AnnotationUtils.findAnnotation(m, &lt;Annotation_NAME&gt;.class);\r\n                if (a != null) {","title":"Spring method annotations null","body":"<p>I was using <code>isAnnotationPresent</code> method but it was always returning false. I have then used <code>AnnotationUtils.findAnnotation(method, &lt;Annotation.class&gt;)</code></p>\n<p>Here is how I am finding method that is using custom annotation:</p>\n<pre><code>for (String beanName : applicationContext.getBeanDefinitionNames()) {\n        Object bean = applicationContext.getBean(beanName);\n        Class&lt;?&gt; objClass = bean.getClass();\n        for (Method m : objClass.getDeclaredMethods()) {\n\n            Annotation a = AnnotationUtils.findAnnotation(m, &lt;Annotation_NAME&gt;.class);\n            if (a != null) {\n</code></pre>\n"}],"owner":{"account_id":10450488,"reputation":85,"user_id":8839342,"display_name":"Toniotti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657706613,"creation_date":1632422716,"question_id":69305439,"body_markdown":"I&#39;am trying to get the methods that are using a custom annotation, but when i get the method, i can&#39;t get any annotation from it, every paramter that cites &quot;annotation&quot; is null.\r\n\r\nMy annotation:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n        String value() default &quot;&quot;;\r\n    }\r\n\r\nClass using annotation:\r\n\r\n    public interface Interface {\r\n        void doSomething();\r\n    }\r\n\r\n    @Repository\r\n    public class ImplementationClass implements Interface {\r\n        \r\n        @Override\r\n        @MyAnnotation(&quot;some_value&quot;)\r\n        public void doSomething() {\r\n    \r\n        }\r\n    }\r\n\r\nGetting annotation:\r\n\r\n    @Configuration\r\n    public class MyAnnotationScanner implements ApplicationContextAware {\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n    \r\n            for (String beanName : applicationContext.getBeanNamesForAnnotation(Repository.class)) {\r\n                Object bean = applicationContext.getBean(beanName);\r\n                for (Method beanMethod : bean.getClass().getDeclaredMethods()) {\r\n                    if (beanMethod.isAnnotationPresent(MyAnnotation.class))\r\n                        // do something\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m able to get the correct method, but when i check with intellij it has no annotations and the &quot;isAnnotationPresent&quot; method always returns false.","title":"Spring method annotations null","body":"<p>I'am trying to get the methods that are using a custom annotation, but when i get the method, i can't get any annotation from it, every paramter that cites &quot;annotation&quot; is null.</p>\n<p>My annotation:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Class using annotation:</p>\n<pre><code>public interface Interface {\n    void doSomething();\n}\n\n@Repository\npublic class ImplementationClass implements Interface {\n    \n    @Override\n    @MyAnnotation(&quot;some_value&quot;)\n    public void doSomething() {\n\n    }\n}\n</code></pre>\n<p>Getting annotation:</p>\n<pre><code>@Configuration\npublic class MyAnnotationScanner implements ApplicationContextAware {\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n\n        for (String beanName : applicationContext.getBeanNamesForAnnotation(Repository.class)) {\n            Object bean = applicationContext.getBean(beanName);\n            for (Method beanMethod : bean.getClass().getDeclaredMethods()) {\n                if (beanMethod.isAnnotationPresent(MyAnnotation.class))\n                    // do something\n            }\n        }\n    }\n}\n</code></pre>\n<p>I'm able to get the correct method, but when i check with intellij it has no annotations and the &quot;isAnnotationPresent&quot; method always returns false.</p>\n"},{"tags":["java","spring-boot","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":11500149,"reputation":1,"user_id":8428201,"display_name":"Yurii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657703754,"creation_date":1657703754,"answer_id":72963755,"question_id":72963019,"body_markdown":"Use `Semaphore` for your desired endpoint and `acquire()` when needed.\r\nhttps://www.geeksforgeeks.org/semaphore-in-java/","title":"Synchronous Facade For Asynchronous Request-Response","body":"<p>Use <code>Semaphore</code> for your desired endpoint and <code>acquire()</code> when needed.\n<a href=\"https://www.geeksforgeeks.org/semaphore-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/semaphore-in-java/</a></p>\n"}],"owner":{"account_id":6091638,"reputation":1607,"user_id":5407679,"display_name":"Vedant Shetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657706378,"creation_date":1657700340,"question_id":72963019,"body_markdown":"# Context\r\n\r\n 1. I am receiving a sync request from an external client to my spring boot rest endpoint(`/request`)\r\n 2. My rest service makes a sync call to Microservice A\r\n 3. After A is finished executing it publishes an event &amp; then returns a response to my rest client\r\n 4. The event published by A is being consumed by another microservice B which performs some transaction and sends a response to the restClient endpoint `/success` indicating a success response\r\n\r\n\r\n# Problem\r\nHow do I make my `/request` endpoint wait until `/success` has been hit before returning a response to the client. ","title":"Synchronous Facade For Asynchronous Request-Response","body":"<h1>Context</h1>\n<ol>\n<li>I am receiving a sync request from an external client to my spring boot rest endpoint(<code>/request</code>)</li>\n<li>My rest service makes a sync call to Microservice A</li>\n<li>After A is finished executing it publishes an event &amp; then returns a response to my rest client</li>\n<li>The event published by A is being consumed by another microservice B which performs some transaction and sends a response to the restClient endpoint <code>/success</code> indicating a success response</li>\n</ol>\n<h1>Problem</h1>\n<p>How do I make my <code>/request</code> endpoint wait until <code>/success</code> has been hit before returning a response to the client.</p>\n"},{"tags":["java","ssl","cxf","jax-ws","webclient"],"comments":[{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1657711276,"post_id":72964158,"comment_id":128873951,"body_markdown":"You can find solution example here: https://www.javafixing.com/2022/04/fixed-apache-cxf-jaxwsproxyfactorybean.html","body":"You can find solution example here: <a href=\"https://www.javafixing.com/2022/04/fixed-apache-cxf-jaxwsproxyfactorybean.html\" rel=\"nofollow noreferrer\">javafixing.com/2022/04/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657730302,"post_id":72964158,"comment_id":128881884,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25797977,"reputation":1,"user_id":19540849,"display_name":"Ashish Siwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657705995,"creation_date":1657705536,"question_id":72964158,"body_markdown":"So I want to enable SSL support in JaxWsProxyFactoryBean object but could not find any resource for the same.","title":"How to enable SSL in JaxWsProxyFactoryBean?","body":"<p>So I want to enable SSL support in JaxWsProxyFactoryBean object but could not find any resource for the same.</p>\n"},{"tags":["java","binance"],"answers":[{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657700531,"creation_date":1657696734,"answer_id":72962323,"question_id":72962129,"body_markdown":"According to [documentation you already referenced][1] you can call:\r\n\r\n    //Before closing, the `onClosing` handler will be called, then `onClosed` once the connection is closed.\r\n    client.close();\r\n\r\nAlso you should set handler first, only then open the connection:\r\n\r\n    client.onMessage(cb -&gt; ...\r\n    client.open();\r\n\r\n  [1]: https://binance4j.github.io/binance4j/binance4j-documentation/docs/websocket","title":"can&#39;t exit event handler","body":"<p>According to <a href=\"https://binance4j.github.io/binance4j/binance4j-documentation/docs/websocket\" rel=\"nofollow noreferrer\">documentation you already referenced</a> you can call:</p>\n<pre><code>//Before closing, the `onClosing` handler will be called, then `onClosed` once the connection is closed.\nclient.close();\n</code></pre>\n<p>Also you should set handler first, only then open the connection:</p>\n<pre><code>client.onMessage(cb -&gt; ...\nclient.open();\n</code></pre>\n"}],"owner":{"account_id":24931213,"reputation":51,"user_id":18798293,"display_name":"AnSill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657705959,"creation_date":1657695741,"question_id":72962129,"body_markdown":"I am making a bot for binance using java. for this I found a library for binance websocket binance4j. I managed to open a websocket, but I don&#39;t know how to terminate it under certain conditions. \r\n\r\nlibrary documentation\r\nhttps://binance4j.github.io/binance4j/binance4j-documentation/docs/websocket \r\n\r\nmy code\r\n\r\n    public class Timer {\r\n         private static String symbol = &quot;btcusdt&quot;.toUpperCase();\r\n         \r\n         public Timer(CandlestickInterval interval) {\r\n                  WebsocketCandlestickClient client = new WebsocketCandlestickClient(symbol, interval);\r\n\r\n                  client.open();\r\n        \r\n                  client.onMessage(cb -&gt; {\r\n            \r\n                       if (cb.getIsBarFinal()) {\r\n                       //when the candle closes\r\n                       //close the connection and transfer execution to the main function\r\n                       \r\n                       }\r\n\r\n                  });\r\n\r\n          }\r\n\r\n    }","title":"can&#39;t exit event handler","body":"<p>I am making a bot for binance using java. for this I found a library for binance websocket binance4j. I managed to open a websocket, but I don't know how to terminate it under certain conditions.</p>\n<p>library documentation\n<a href=\"https://binance4j.github.io/binance4j/binance4j-documentation/docs/websocket\" rel=\"nofollow noreferrer\">https://binance4j.github.io/binance4j/binance4j-documentation/docs/websocket</a></p>\n<p>my code</p>\n<pre><code>public class Timer {\n     private static String symbol = &quot;btcusdt&quot;.toUpperCase();\n     \n     public Timer(CandlestickInterval interval) {\n              WebsocketCandlestickClient client = new WebsocketCandlestickClient(symbol, interval);\n\n              client.open();\n    \n              client.onMessage(cb -&gt; {\n        \n                   if (cb.getIsBarFinal()) {\n                   //when the candle closes\n                   //close the connection and transfer execution to the main function\n                   \n                   }\n\n              });\n\n      }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","mybatis"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1657700587,"post_id":72962961,"comment_id":128870296,"body_markdown":"please try it locally","body":"please try it locally"},{"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"score":0,"creation_date":1657705940,"post_id":72962961,"comment_id":128872126,"body_markdown":"My batis by default will return an empty list when no data is hitted.","body":"My batis by default will return an empty list when no data is hitted."}],"answers":[{"tags":[],"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1657705802,"creation_date":1657705802,"answer_id":72964227,"question_id":72962961,"body_markdown":"It&#39;s better to have an empty collection instead of null as a result of your query. When working with a collection you usually loop through each item and do something with it, something like this:\r\n\r\n    List&lt;User&gt; resultList = (List&lt;User&gt;) sqlSession.select(&quot;statementId&quot;);\r\n    for (User u : resultList) { \r\n       //... \r\n    }\r\n\r\nwhich doesn&#39;t do anything if the list is empty.\r\n\r\nBut if you return null, you have to guard your code against NullPointerExceptions and write code like this instead:\r\n\r\n    List&lt;User&gt; resultList = (List&lt;User&gt;) sqlSession.select(&quot;statementId&quot;);\r\n    if (resultList != null) {\r\n      for (User u : resultList) { \r\n         //... \r\n      }\r\n    }\r\n\r\nThe first approach is usually better and **MyBatis does it like that returning an empty list when no data is hitted**, but you could force it to return null if that is really what you want.","title":"What will MyBatis return when no vaule return?","body":"<p>It's better to have an empty collection instead of null as a result of your query. When working with a collection you usually loop through each item and do something with it, something like this:</p>\n<pre><code>List&lt;User&gt; resultList = (List&lt;User&gt;) sqlSession.select(&quot;statementId&quot;);\nfor (User u : resultList) { \n   //... \n}\n</code></pre>\n<p>which doesn't do anything if the list is empty.</p>\n<p>But if you return null, you have to guard your code against NullPointerExceptions and write code like this instead:</p>\n<pre><code>List&lt;User&gt; resultList = (List&lt;User&gt;) sqlSession.select(&quot;statementId&quot;);\nif (resultList != null) {\n  for (User u : resultList) { \n     //... \n  }\n}\n</code></pre>\n<p>The first approach is usually better and <strong>MyBatis does it like that returning an empty list when no data is hitted</strong>, but you could force it to return null if that is really what you want.</p>\n"}],"owner":{"account_id":11392018,"reputation":7,"user_id":8351689,"display_name":"Michael Hsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657733330,"accepted_answer_id":72964227,"answer_count":1,"score":-1,"last_activity_date":1657705802,"creation_date":1657700045,"question_id":72962961,"body_markdown":"I use mybatis to get data from MySql, I wanna know what will return when no data hitted, eg. the mapper method return List data type, when no data hitted by query condition, it will return empty list or null?","title":"What will MyBatis return when no vaule return?","body":"<p>I use mybatis to get data from MySql, I wanna know what will return when no data hitted, eg. the mapper method return List data type, when no data hitted by query condition, it will return empty list or null?</p>\n"},{"tags":["java","json","rest","jax-rs"],"comments":[{"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"score":0,"creation_date":1500405590,"post_id":45175115,"comment_id":77319016,"body_markdown":"I tend to prefer Strings over Enums in APIs for exactly this reason; it&#39;s often more convenient to perform validation and format a helpful error message at the implementation-level than trying to do it with a filter.","body":"I tend to prefer Strings over Enums in APIs for exactly this reason; it&#39;s often more convenient to perform validation and format a helpful error message at the implementation-level than trying to do it with a filter."},{"owner":{"account_id":8947092,"reputation":509,"user_id":6674146,"display_name":"iavanish"},"score":0,"creation_date":1500406382,"post_id":45175115,"comment_id":77319511,"body_markdown":"Yes, that seems to be the right way. But then, when we give out API contracts, we explicitly mention what values we are expecting. I&#39;m using Swagger for automatically creating the API documentation. It can easily detect the whitelisted values from the code and prepare the document accordingly if I use Enum type in the request. But if I use string, I&#39;ll have to manually edit the API doc to write down the whitelisted values. But I would prefer to do whatever is the standard, instead of what is convenient for me. Isn&#39;t there a standard with respect to this?","body":"Yes, that seems to be the right way. But then, when we give out API contracts, we explicitly mention what values we are expecting. I&#39;m using Swagger for automatically creating the API documentation. It can easily detect the whitelisted values from the code and prepare the document accordingly if I use Enum type in the request. But if I use string, I&#39;ll have to manually edit the API doc to write down the whitelisted values. But I would prefer to do whatever is the standard, instead of what is convenient for me. Isn&#39;t there a standard with respect to this?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1500407238,"post_id":45175115,"comment_id":77320068,"body_markdown":"Enum types are a better way to document acceptable values.  If you’re maintaining good API documentation that describes acceptable values, String isn’t terrible, but are other developers on your team as meticulous about such documentation?","body":"Enum types are a better way to document acceptable values.  If you’re maintaining good API documentation that describes acceptable values, String isn’t terrible, but are other developers on your team as meticulous about such documentation?"},{"owner":{"account_id":8947092,"reputation":509,"user_id":6674146,"display_name":"iavanish"},"score":0,"creation_date":1500488463,"post_id":45175115,"comment_id":77363607,"body_markdown":"@VGR Actually, I&#39;m the only one working on these REST services as I work in a very small team. But still, I need to handout the API contracts to other teams. So, I have to be meticulous about the documentation.","body":"@VGR Actually, I&#39;m the only one working on these REST services as I work in a very small team. But still, I need to handout the API contracts to other teams. So, I have to be meticulous about the documentation."}],"answers":[{"tags":[],"owner":{"account_id":96566,"reputation":2860,"user_id":262406,"accept_rate":25,"display_name":"smentek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657705783,"creation_date":1657705783,"answer_id":72964222,"question_id":45175115,"body_markdown":"Using enums on API, brings better design. Reasons for it are same as why we use them in general. There is compatibility between enums in programming languages that have them, and OpenApi specification https://swagger.io/docs/specification/data-models/enums/ therefore there I see no good argument against them.","title":"Should we use enum constants in REST API&#39;s path-params, query-params or JSON requests?","body":"<p>Using enums on API, brings better design. Reasons for it are same as why we use them in general. There is compatibility between enums in programming languages that have them, and OpenApi specification <a href=\"https://swagger.io/docs/specification/data-models/enums/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/data-models/enums/</a> therefore there I see no good argument against them.</p>\n"}],"owner":{"account_id":8947092,"reputation":509,"user_id":6674146,"display_name":"iavanish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4298,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1657705783,"creation_date":1500404690,"question_id":45175115,"body_markdown":"The question is regarding best practices with respect to REST APIs.\r\n\r\nExample: I have a get API with a path-param as status.\r\n\r\n    /api/{status}\r\n\r\nNow, in the code, the status is defined as an enum (Status). There can only be 3 (or some small finite) possible values of status.\r\n\r\n    public enum Status {\r\n        created,\r\n        completed,\r\n        cancelled\r\n    }\r\n\r\nSo, should I accept &quot;status&quot; as a string or as Enum type?\r\n\r\n    @Path(&quot;/api/{status}&quot;)\r\n    @GET\r\n    public Response get(@PathParam(&quot;status&quot;) String status) {}\r\n    // then I can check if it is a valid status\r\n\r\nOR\r\n\r\n    @Path(&quot;/api/{status}&quot;)\r\n    @GET\r\n    public Response get(@PathParam(&quot;status&quot;) Status status) {}\r\n    // it will throw an exception if it is an invalid status\r\n\r\nAlso, I would like to know the best-practices with respect to query-params and JSON requests as well.","title":"Should we use enum constants in REST API&#39;s path-params, query-params or JSON requests?","body":"<p>The question is regarding best practices with respect to REST APIs.</p>\n\n<p>Example: I have a get API with a path-param as status.</p>\n\n<pre><code>/api/{status}\n</code></pre>\n\n<p>Now, in the code, the status is defined as an enum (Status). There can only be 3 (or some small finite) possible values of status.</p>\n\n<pre><code>public enum Status {\n    created,\n    completed,\n    cancelled\n}\n</code></pre>\n\n<p>So, should I accept \"status\" as a string or as Enum type?</p>\n\n<pre><code>@Path(\"/api/{status}\")\n@GET\npublic Response get(@PathParam(\"status\") String status) {}\n// then I can check if it is a valid status\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>@Path(\"/api/{status}\")\n@GET\npublic Response get(@PathParam(\"status\") Status status) {}\n// it will throw an exception if it is an invalid status\n</code></pre>\n\n<p>Also, I would like to know the best-practices with respect to query-params and JSON requests as well.</p>\n"},{"tags":["java","logging","time","split","stopwatch"],"comments":[{"owner":{"account_id":5068444,"reputation":325,"user_id":4067929,"accept_rate":57,"display_name":"Orvil Nordstr&#246;m"},"score":0,"creation_date":1456351701,"post_id":35610008,"comment_id":58912075,"body_markdown":"What exactly are you trying to do ?? Your For example and not example seem to be identical to me.","body":"What exactly are you trying to do ?? Your For example and not example seem to be identical to me."},{"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"score":0,"creation_date":1456353052,"post_id":35610008,"comment_id":58912775,"body_markdown":"counting between splits","body":"counting between splits"},{"owner":{"account_id":178949,"reputation":12261,"user_id":411247,"accept_rate":91,"display_name":"Topera"},"score":0,"creation_date":1577752647,"post_id":35610008,"comment_id":105246698,"body_markdown":"I&#39;ve opened a ticket for this https://issues.apache.org/jira/browse/LANG-1504","body":"I&#39;ve opened a ticket for this <a href=\"https://issues.apache.org/jira/browse/LANG-1504\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LANG-1504</a>"}],"answers":[{"tags":[],"owner":{"account_id":1781418,"reputation":1399,"user_id":1624052,"accept_rate":92,"display_name":"Dan Torrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461181202,"creation_date":1461181202,"answer_id":36753598,"question_id":35610008,"body_markdown":"Unfortunately, this is the only way. I had the same need, but Apache StopWatch does not have native support for this.\r\n\r\nI did it a slightly different way:\r\n\r\n    private void lapWatchAndLog( StopWatch watch, String messageForLap ) {\r\n\r\n        watch.stop();\r\n        LOGGER.info( String.format( &quot;Time: [%s] %s&quot;, watch.getTime(), messageForLap ) );\r\n        watch.reset();\r\n        watch.start();\r\n    }","title":"how to get last time interval since last split?","body":"<p>Unfortunately, this is the only way. I had the same need, but Apache StopWatch does not have native support for this.</p>\n\n<p>I did it a slightly different way:</p>\n\n<pre><code>private void lapWatchAndLog( StopWatch watch, String messageForLap ) {\n\n    watch.stop();\n    LOGGER.info( String.format( \"Time: [%s] %s\", watch.getTime(), messageForLap ) );\n    watch.reset();\n    watch.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606216062,"creation_date":1587538570,"answer_id":61359000,"question_id":35610008,"body_markdown":"Or you can use this:\r\n```\r\nprivate long stopWatchGap(StopWatch stopWatch) {\r\n    try {\r\n        stopWatch.stop();\r\n        return stopWatch.getTime();\r\n    } finally {\r\n        stopWatch.reset();\r\n        stopWatch.start();\r\n    }\r\n}\r\n```\r\njust to return gap value.","title":"how to get last time interval since last split?","body":"<p>Or you can use this:</p>\n<pre><code>private long stopWatchGap(StopWatch stopWatch) {\n    try {\n        stopWatch.stop();\n        return stopWatch.getTime();\n    } finally {\n        stopWatch.reset();\n        stopWatch.start();\n    }\n}\n</code></pre>\n<p>just to return gap value.</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36753598,"answer_count":2,"score":6,"last_activity_date":1657705743,"creation_date":1456338079,"question_id":35610008,"body_markdown":"I want to run a stop watch form the beginning of my program\r\n\r\nand log the time split of some intervals.\r\n\r\nWhich StopWatch should I prefer?\r\n\r\n    import com.google.common.base.Stopwatch;\r\n    \r\n    org.apache.commons.lang.time.StopWatch\r\n\r\nFor example:\r\n\r\n\r\n    Start -----&gt; split 1 (1:00 min from split 0) ----&gt; split 2 (0:30 from split 1) --&gt;  split 3 (0:35 from split 2)\r\n\r\nand not\r\n\r\n\r\n    Start -----&gt; split 1 (1:00 min from start) ----&gt; split 2 (1:30 from from start) ----&gt; split 3 (2:05 from from start) \r\n\r\n\r\nIs there a more elegant way to do so than this?\r\n\r\n\r\n\r\n    stopWatch.split();\r\n    stopWatch.getSplitTime() - lastSpiltTime;\r\n    last splitTime = stopWatch.getSplitTime();\r\n\r\n","title":"how to get last time interval since last split?","body":"<p>I want to run a stop watch form the beginning of my program</p>\n<p>and log the time split of some intervals.</p>\n<p>Which StopWatch should I prefer?</p>\n<pre><code>import com.google.common.base.Stopwatch;\n\norg.apache.commons.lang.time.StopWatch\n</code></pre>\n<p>For example:</p>\n<pre><code>Start -----&gt; split 1 (1:00 min from split 0) ----&gt; split 2 (0:30 from split 1) --&gt;  split 3 (0:35 from split 2)\n</code></pre>\n<p>and not</p>\n<pre><code>Start -----&gt; split 1 (1:00 min from start) ----&gt; split 2 (1:30 from from start) ----&gt; split 3 (2:05 from from start) \n</code></pre>\n<p>Is there a more elegant way to do so than this?</p>\n<pre><code>stopWatch.split();\nstopWatch.getSplitTime() - lastSpiltTime;\nlast splitTime = stopWatch.getSplitTime();\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":4777551,"reputation":23,"user_id":3860255,"display_name":"Lamminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657705589,"creation_date":1657567383,"answer_id":72943646,"question_id":72943207,"body_markdown":"Figured out it was due to a `wiremock` dependency I had in my `build.gradle` file. \r\n\r\nCommenting out the below dependency fixed the issue:\r\n\r\n    testImplementation &#39;com.github.tomakehurst:wiremock-jre8:2.33.2&#39;\r\n","title":"Spring Cloud Contract failed to start Stub Runner","body":"<p>Figured out it was due to a <code>wiremock</code> dependency I had in my <code>build.gradle</code> file.</p>\n<p>Commenting out the below dependency fixed the issue:</p>\n<pre><code>testImplementation 'com.github.tomakehurst:wiremock-jre8:2.33.2'\n</code></pre>\n"}],"owner":{"account_id":4777551,"reputation":23,"user_id":3860255,"display_name":"Lamminski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657705589,"creation_date":1657564872,"question_id":72943207,"body_markdown":"I&#39;ve made a Consumer side spring-cloud-contract test and it fails on starting the stub server. I see in the logs it is able to download and unpack the stub.jar but then it fails with the following Exception:\r\n\r\n    initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;batchStubRunnerBeanPostProcessor&#39; defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Unsatisfied dependency expressed through method &#39;batchStubRunnerBeanPostProcessor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;batchStubRunner&#39; defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.contract.stubrunner.BatchStubRunner]: Factory method &#39;batchStubRunner&#39; threw exception; nested exception is java.lang.ClassCastException: org.springframework.cloud.contract.verifier.builder.handlebars.HandlebarsJsonPathHelper incompatible with com.github.jknack.handlebars.Helper\r\n    2022-07-11 19:20:59.683  INFO 14704 --- [    Test worker] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-07-11 19:20:59.694 ERROR 14704 --- [    Test worker] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;batchStubRunnerBeanPostProcessor&#39; defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Unsatisfied dependency expressed through method &#39;batchStubRunnerBeanPostProcessor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;batchStubRunner&#39; defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.contract.stubrunner.BatchStubRunner]: Factory method &#39;batchStubRunner&#39; threw exception; nested exception is java.lang.ClassCastException: org.springframework.cloud.contract.verifier.builder.handlebars.HandlebarsJsonPathHelper incompatible with com.github.jknack.handlebars.Helper\r\n      at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\r\nI am using mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2021.0.3&quot; with Java 8. It has chosen to use &quot;spring-cloud-contract-stub-runner-3.1.3.jar:3.1.3&quot;.","title":"Spring Cloud Contract failed to start Stub Runner","body":"<p>I've made a Consumer side spring-cloud-contract test and it fails on starting the stub server. I see in the logs it is able to download and unpack the stub.jar but then it fails with the following Exception:</p>\n<pre><code>initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchStubRunnerBeanPostProcessor' defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Unsatisfied dependency expressed through method 'batchStubRunnerBeanPostProcessor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'batchStubRunner' defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.contract.stubrunner.BatchStubRunner]: Factory method 'batchStubRunner' threw exception; nested exception is java.lang.ClassCastException: org.springframework.cloud.contract.verifier.builder.handlebars.HandlebarsJsonPathHelper incompatible with com.github.jknack.handlebars.Helper\n2022-07-11 19:20:59.683  INFO 14704 --- [    Test worker] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-11 19:20:59.694 ERROR 14704 --- [    Test worker] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'batchStubRunnerBeanPostProcessor' defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Unsatisfied dependency expressed through method 'batchStubRunnerBeanPostProcessor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'batchStubRunner' defined in class path resource [org/springframework/cloud/contract/stubrunner/spring/StubRunnerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.contract.stubrunner.BatchStubRunner]: Factory method 'batchStubRunner' threw exception; nested exception is java.lang.ClassCastException: org.springframework.cloud.contract.verifier.builder.handlebars.HandlebarsJsonPathHelper incompatible with com.github.jknack.handlebars.Helper\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n</code></pre>\n<p>I am using mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2021.0.3&quot; with Java 8. It has chosen to use &quot;spring-cloud-contract-stub-runner-3.1.3.jar:3.1.3&quot;.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657703255,"post_id":72963510,"comment_id":128871234,"body_markdown":"You ar at least missing an `@Configuration` annotation.","body":"You ar at least missing an <code>@Configuration</code> annotation."},{"owner":{"account_id":14755949,"reputation":947,"user_id":10656609,"display_name":"Alan"},"score":0,"creation_date":1657703919,"post_id":72963510,"comment_id":128871474,"body_markdown":"Added @Configuration, didnt change anything","body":"Added @Configuration, didnt change anything"}],"answers":[{"tags":[],"owner":{"account_id":20880790,"reputation":116,"user_id":15338570,"display_name":"Dhana_Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657704844,"creation_date":1657704494,"answer_id":72963919,"question_id":72963510,"body_markdown":"I also faced the same scenario of discarding the deprecated method and replacing it with SecurityFilterChain\r\n\r\nif you want to disable the security on given path then try this:\r\n\r\n    security.mvcMatcher(&quot;/my/path/*&quot;).permitAll();\r\n\r\nEdit: Here is my migrated code which worked fine with permitting every request without authentication.\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class SecurityConfig {\r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Bean\r\n        protected SecurityFilterChain authorizationConfig(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/login&quot;, &quot;/post/**&quot;, &quot;/newcomment/**&quot;, &quot;/page/**&quot;,&quot;/api/&quot;,&quot;/api/posts/filter&quot;,\r\n                            &quot;/api/comments&quot;).permitAll();\r\n            return httpSecurity.build();\r\n        }","title":"Disable securitycontext without using depricated WebSecurityConfigurerAdapter","body":"<p>I also faced the same scenario of discarding the deprecated method and replacing it with SecurityFilterChain</p>\n<p>if you want to disable the security on given path then try this:</p>\n<pre><code>security.mvcMatcher(&quot;/my/path/*&quot;).permitAll();\n</code></pre>\n<p>Edit: Here is my migrated code which worked fine with permitting every request without authentication.</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class SecurityConfig {\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    protected SecurityFilterChain authorizationConfig(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/login&quot;, &quot;/post/**&quot;, &quot;/newcomment/**&quot;, &quot;/page/**&quot;,&quot;/api/&quot;,&quot;/api/posts/filter&quot;,\n                        &quot;/api/comments&quot;).permitAll();\n        return httpSecurity.build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657705543,"creation_date":1657704804,"answer_id":72963994,"question_id":72963510,"body_markdown":"You can use below code for reference\r\n\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        public class WebSecurityConfiguration {\r\n        \r\n            private final String[] WHITE_LABEL_URLS = {&quot;/blogapp&quot;, &quot;/usercreation&quot;, &quot;/css/**&quot;, &quot;/saveuser&quot;, &quot;/page/**&quot;};\r\n        \r\n            @Bean\r\n            public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n                httpSecurity\r\n                        .httpBasic()\r\n                        .and()\r\n                        .authorizeHttpRequests()\r\n                        .antMatchers(WHITE_LABEL_URLS).permitAll()\r\n                        .anyRequest().authenticated()\r\n    .securityContext().disable();\r\n        \r\n                return httpSecurity.build();\r\n            }\r\n        }","title":"Disable securitycontext without using depricated WebSecurityConfigurerAdapter","body":"<p>You can use below code for reference</p>\n<pre><code>    @Configuration\n    @EnableWebSecurity\n    public class WebSecurityConfiguration {\n    \n        private final String[] WHITE_LABEL_URLS = {&quot;/blogapp&quot;, &quot;/usercreation&quot;, &quot;/css/**&quot;, &quot;/saveuser&quot;, &quot;/page/**&quot;};\n    \n        @Bean\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n            httpSecurity\n                    .httpBasic()\n                    .and()\n                    .authorizeHttpRequests()\n                    .antMatchers(WHITE_LABEL_URLS).permitAll()\n                    .anyRequest().authenticated()\n.securityContext().disable();\n    \n            return httpSecurity.build();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14755949,"reputation":947,"user_id":10656609,"display_name":"Alan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657705543,"creation_date":1657702615,"question_id":72963510,"body_markdown":"I&#39;m trying to rewrite following class in order to get rid of the depricated WebSecurityConfigurerAdapter:\r\n```\r\n@EnableWebSecurity\r\npublic class MyWebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(HttpSecurity security) throws Exception {\r\n        security.mvcMatcher(&quot;/my/path/*&quot;).securityContext().disable();\r\n    }\r\n\r\n}\r\n```\r\nAnd I&#39;ve tried to rewrite this with the help of the [official Spring documentation](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter). The following two attempts resulted in 403 Errors when trying to access resources on that path:\r\n```\r\n@EnableWebSecurity\r\npublic class MyWebSecurityConfiguration {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\r\n        security.mvcMatcher(&quot;/my/path/*&quot;).securityContext().disable();\r\n        return security.build();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class ConsentWebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() throws Exception {\r\n        return (web) -&gt;  web.ignoring().mvcMatchers(&quot;/v1/containers/*&quot;);\r\n    }\r\n}\r\n```\r\nWhile in the original code everything is running","title":"Disable securitycontext without using depricated WebSecurityConfigurerAdapter","body":"<p>I'm trying to rewrite following class in order to get rid of the depricated WebSecurityConfigurerAdapter:</p>\n<pre><code>@EnableWebSecurity\npublic class MyWebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity security) throws Exception {\n        security.mvcMatcher(&quot;/my/path/*&quot;).securityContext().disable();\n    }\n\n}\n</code></pre>\n<p>And I've tried to rewrite this with the help of the <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">official Spring documentation</a>. The following two attempts resulted in 403 Errors when trying to access resources on that path:</p>\n<pre><code>@EnableWebSecurity\npublic class MyWebSecurityConfiguration {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\n        security.mvcMatcher(&quot;/my/path/*&quot;).securityContext().disable();\n        return security.build();\n    }\n}\n</code></pre>\n<pre><code>@EnableWebSecurity\npublic class ConsentWebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() throws Exception {\n        return (web) -&gt;  web.ignoring().mvcMatchers(&quot;/v1/containers/*&quot;);\n    }\n}\n</code></pre>\n<p>While in the original code everything is running</p>\n"},{"tags":["java","sql","jdbc","prepared-statement"],"comments":[{"owner":{"display_name":"user166390"},"score":0,"creation_date":1345759192,"post_id":12100550,"comment_id":16172639,"body_markdown":"(Make sure transactions are being used correctly. Otherwise the posted code &quot;will not be good&quot;, even [re-]using prepared statements. That is, INSERT/UPDATE is &quot;fast&quot;. COMMIT is &quot;slow&quot;.)","body":"(Make sure transactions are being used correctly. Otherwise the posted code &quot;will not be good&quot;, even [re-]using prepared statements. That is, INSERT/UPDATE is &quot;fast&quot;. COMMIT is &quot;slow&quot;.)"}],"answers":[{"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1657705445,"creation_date":1345759113,"answer_id":12100587,"question_id":12100550,"body_markdown":"You can think of using [`addBatch()`][1] and executing a back of statements in one shot. Also, as @pst commented in your question, consider using `trasaction`.\r\n\r\nThe way you would do is as follows:\r\n\r\n    boolean autoCommit = connection.getAutoCommit();\r\n    try{\r\n    \tconnection.setAutoCommit(false //Turn off autoCommit\r\n    \tpstatement = db_connection.prepareStatement(PDSLnPConstants.UPSERT_SQL);\r\n    \r\n    \tint batchLimit = 1000;\r\n    \r\n    \ttry{\r\n    \t\tfor (Entry&lt;Integer, LinkedHashMap&lt;Integer, String&gt;&gt; entry : MAPPING.entrySet()) {\r\n    \t\t\tpstatement.setInt(1, entry.getKey());\r\n    \t\t\tpstatement.setString(2, entry.getValue().get(LnPConstants.CGUID_ID));\r\n    \t\t\tpstatement.setString(3, entry.getValue().get(LnPConstants.PGUID_ID));\r\n    \t\t\tpstatement.setString(4, entry.getValue().get(LnPConstants.SGUID_ID));\r\n    \t\t\tpstatement.setString(5, entry.getValue().get(LnPConstants.UID_ID));\r\n    \t\t\tpstatement.setString(6, entry.getValue().get(LnPConstants.ULOC_ID));\r\n    \t\t\tpstatement.setString(7, entry.getValue().get(LnPConstants.SLOC_ID));\r\n    \t\t\tpstatement.setString(8, entry.getValue().get(LnPConstants.PLOC_ID));\r\n    \t\t\tpstatement.setString(9, entry.getValue().get(LnPConstants.ALOC_ID));\r\n    \t\t\tpstatement.setString(10, entry.getValue().get(LnPConstants.SITE_ID));\r\n    \t\t\t\r\n    \t\t\tpstatement.addBatch();\r\n    \t\t\tbatchLimit--;\r\n    \t\t\t\r\n    \t\t\tif(batchLimit == 0){\r\n    \t\t\t\tpstatement.executeBatch();\r\n    \t\t\t\tpstatement.clearBatch();\r\n    \t\t\t\tbatchLimit = 1000;\r\n    \t\t\t}\r\n    \t\t\t pstatement.clearParameters();\r\n    \t\t}\r\n    \t}finally{\r\n    \t\t//for the remaining ones\r\n    \t\tpstatement.executeBatch();\r\n    \t\t\r\n    \t\t//commit your updates\r\n    \t\tconnection.commit();\r\n    \t}\r\n    }finally{\r\n    \tconnection.setAutoCommit(autoCommit);\r\n    }\r\n\r\nThe idea is to set a limit for batch updates and execute a database update only when you reach a particular limit. This way you&#39;re limiting a database call to once every `batchLimit` that you&#39;ve defined. This way it would be faster.\r\n\r\nAlso note for the `transaction`, I&#39;ve just shown how and when to `commit`. This might not always be the correct point to `commit` because this decision would be based on your requirement. You might also want to perform a `rollback` in case of an exception. So it&#39;s upto you to decide. \r\n\r\nHave a look at [&quot;Using Transaction&quot;][2] tutorial to get a better picture of how to use `transaction`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#addBatch%28%29\r\n  [2]: http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","title":"Using Prepared Statement multiple times efficiently","body":"<p>You can think of using <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#addBatch%28%29\" rel=\"nofollow noreferrer\"><code>addBatch()</code></a> and executing a back of statements in one shot. Also, as @pst commented in your question, consider using <code>trasaction</code>.</p>\n<p>The way you would do is as follows:</p>\n<pre><code>boolean autoCommit = connection.getAutoCommit();\ntry{\n    connection.setAutoCommit(false //Turn off autoCommit\n    pstatement = db_connection.prepareStatement(PDSLnPConstants.UPSERT_SQL);\n\n    int batchLimit = 1000;\n\n    try{\n        for (Entry&lt;Integer, LinkedHashMap&lt;Integer, String&gt;&gt; entry : MAPPING.entrySet()) {\n            pstatement.setInt(1, entry.getKey());\n            pstatement.setString(2, entry.getValue().get(LnPConstants.CGUID_ID));\n            pstatement.setString(3, entry.getValue().get(LnPConstants.PGUID_ID));\n            pstatement.setString(4, entry.getValue().get(LnPConstants.SGUID_ID));\n            pstatement.setString(5, entry.getValue().get(LnPConstants.UID_ID));\n            pstatement.setString(6, entry.getValue().get(LnPConstants.ULOC_ID));\n            pstatement.setString(7, entry.getValue().get(LnPConstants.SLOC_ID));\n            pstatement.setString(8, entry.getValue().get(LnPConstants.PLOC_ID));\n            pstatement.setString(9, entry.getValue().get(LnPConstants.ALOC_ID));\n            pstatement.setString(10, entry.getValue().get(LnPConstants.SITE_ID));\n            \n            pstatement.addBatch();\n            batchLimit--;\n            \n            if(batchLimit == 0){\n                pstatement.executeBatch();\n                pstatement.clearBatch();\n                batchLimit = 1000;\n            }\n             pstatement.clearParameters();\n        }\n    }finally{\n        //for the remaining ones\n        pstatement.executeBatch();\n        \n        //commit your updates\n        connection.commit();\n    }\n}finally{\n    connection.setAutoCommit(autoCommit);\n}\n</code></pre>\n<p>The idea is to set a limit for batch updates and execute a database update only when you reach a particular limit. This way you're limiting a database call to once every <code>batchLimit</code> that you've defined. This way it would be faster.</p>\n<p>Also note for the <code>transaction</code>, I've just shown how and when to <code>commit</code>. This might not always be the correct point to <code>commit</code> because this decision would be based on your requirement. You might also want to perform a <code>rollback</code> in case of an exception. So it's upto you to decide.</p>\n<p>Have a look at <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">&quot;Using Transaction&quot;</a> tutorial to get a better picture of how to use <code>transaction</code>.</p>\n"},{"tags":[],"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345759486,"creation_date":1345759120,"answer_id":12100590,"question_id":12100550,"body_markdown":"Your piece of code seems good to me.\r\n\r\nJust for code cleanness, I&#39;d put `entry.getValue()` into a variable (call it `value`).  \r\nAnd there&#39;s no need to call `clearParameters()`.\r\n\r\nLast, remember to correctly dispose the prepared statement when you don&#39;t need it anymore (`close()`).","title":"Using Prepared Statement multiple times efficiently","body":"<p>Your piece of code seems good to me.</p>\n\n<p>Just for code cleanness, I'd put <code>entry.getValue()</code> into a variable (call it <code>value</code>).<br>\nAnd there's no need to call <code>clearParameters()</code>.</p>\n\n<p>Last, remember to correctly dispose the prepared statement when you don't need it anymore (<code>close()</code>).</p>\n"},{"tags":[],"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345760275,"creation_date":1345759775,"answer_id":12100709,"question_id":12100550,"body_markdown":"Yes, doing batch updates would significantly improve your performance. Just google for it, my preferred answer is [this one from Mkyong.com][1]. Else, your code looks ok. &quot;clearParameters()&quot; is not really necessary, it might even consume some processor cycles. Important: if AutoCommit was enabled, don&#39;t forget to disable it before, and enable it after doing the updates, this brings again a tremendous improvement. \r\n\r\nPS\r\n\r\nAbove recommendation is based also on my experience. I&#39;ve just noted that this question was already asked [here at Stackoverflow][2] and the answer is very detailed. More on PreparedStatements and batches can be found in the Oracle docs [here][3] and about Transactions (AutoCommit) [here][4].\r\n\r\n\r\n  [1]: http://www.mkyong.com/jdbc/jdbc-preparedstatement-example-batch-update/\r\n  [2]: https://stackoverflow.com/questions/6892105/bulk-insert-in-java-using-prepared-statements-batch-update\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/getstart/preparedstatement.html\r\n  [4]: http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","title":"Using Prepared Statement multiple times efficiently","body":"<p>Yes, doing batch updates would significantly improve your performance. Just google for it, my preferred answer is <a href=\"http://www.mkyong.com/jdbc/jdbc-preparedstatement-example-batch-update/\" rel=\"nofollow noreferrer\">this one from Mkyong.com</a>. Else, your code looks ok. \"clearParameters()\" is not really necessary, it might even consume some processor cycles. Important: if AutoCommit was enabled, don't forget to disable it before, and enable it after doing the updates, this brings again a tremendous improvement. </p>\n\n<p>PS</p>\n\n<p>Above recommendation is based also on my experience. I've just noted that this question was already asked <a href=\"https://stackoverflow.com/questions/6892105/bulk-insert-in-java-using-prepared-statements-batch-update\">here at Stackoverflow</a> and the answer is very detailed. More on PreparedStatements and batches can be found in the Oracle docs <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/getstart/preparedstatement.html\" rel=\"nofollow noreferrer\">here</a> and about Transactions (AutoCommit) <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21648,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":12100587,"answer_count":3,"score":8,"last_activity_date":1657705445,"creation_date":1345758923,"question_id":12100550,"body_markdown":"Below is the code which I am using to insert `multiple records( around 5000-7000)` in the Oracle Database using Prepared Statement.\r\n\r\nThe way I am doing currently is good? Or it can be improve more using some `batch thing`?\r\n\r\n    pstatement = db_connection.prepareStatement(PDSLnPConstants.UPSERT_SQL);\r\n    \r\n    for (Entry&lt;Integer, LinkedHashMap&lt;Integer, String&gt;&gt; entry : MAPPING.entrySet()) {\r\n    \r\n        pstatement.setInt(1, entry.getKey());\r\n        pstatement.setString(2, entry.getValue().get(LnPConstants.CGUID_ID));\r\n        pstatement.setString(3, entry.getValue().get(LnPConstants.PGUID_ID));\r\n        pstatement.setString(4, entry.getValue().get(LnPConstants.SGUID_ID));\r\n        pstatement.setString(5, entry.getValue().get(LnPConstants.UID_ID));\r\n        pstatement.setString(6, entry.getValue().get(LnPConstants.ULOC_ID));\r\n        pstatement.setString(7, entry.getValue().get(LnPConstants.SLOC_ID));\r\n        pstatement.setString(8, entry.getValue().get(LnPConstants.PLOC_ID));\r\n        pstatement.setString(9, entry.getValue().get(LnPConstants.ALOC_ID));\r\n        pstatement.setString(10, entry.getValue().get(LnPConstants.SITE_ID));\r\n        pstatement.executeUpdate();\r\n    \r\n        pstatement.clearParameters();\r\n    }\r\n\r\n**Udpated Code That I am Using:-**\r\n\r\n    \r\n    public void runNextCommand() {\r\n    \r\n    \tConnection db_connection = null;\r\n    \tPreparedStatement pstatement = null;\r\n    \tint batchLimit = 1000;\r\n    \tboolean autoCommit = false;\r\n    \r\n    \ttry {\r\n    \t\tdb_connection = getDBConnection();\r\n    \r\n    \t\tautoCommit = db_connection.getAutoCommit();\r\n    \t\tdb_connection.setAutoCommit(false); //Turn off autoCommit\r\n    \t\tpstatement = db_connection.prepareStatement(LnPConstants.UPSERT_SQL); // create a statement\r\n    \r\n    \t\tfor (Entry&lt;Integer, LinkedHashMap&lt;Integer, String&gt;&gt; entry : GUID_ID_MAPPING.entrySet()) {\r\n    \t\t\tpstatement.setInt(1, entry.getKey());\r\n    \t\t\tpstatement.setString(2, entry.getValue().get(LnPConstants.CGUID_ID));\r\n    \t\t\tpstatement.setString(3, entry.getValue().get(LnPConstants.PGUID_ID));\r\n    \t\t\tpstatement.setString(4, entry.getValue().get(LnPConstants.SGUID_ID));\r\n    \t\t\tpstatement.setString(5, entry.getValue().get(LnPConstants.UID_ID));\r\n    \t\t\tpstatement.setString(6, entry.getValue().get(LnPConstants.ULOC_ID));\r\n    \t\t\tpstatement.setString(7, entry.getValue().get(LnPConstants.SLOC_ID));\r\n    \t\t\tpstatement.setString(8, entry.getValue().get(LnPConstants.PLOC_ID));\r\n    \t\t\tpstatement.setString(9, entry.getValue().get(LnPConstants.ALOC_ID));\r\n    \t\t\tpstatement.setString(10, entry.getValue().get(LnPConstants.SITE_ID));\r\n    \t\t\tpstatement.addBatch();\r\n    \t\t\t\r\n    \t\t\tbatchLimit--;\r\n    \r\n    \t\t\tif(batchLimit == 0){\r\n    \t\t\t\tpstatement.executeBatch();\r\n    \t\t\t\tpstatement.clearBatch();\r\n    \t\t\t\tbatchLimit = 1000;\r\n    \t\t\t}\r\n    \t\t\tpstatement.clearParameters();\r\n    \t\t}\r\n    \r\n    \t} catch (SQLException e) {\r\n    \t\tgetLogger().log(LogLevel.ERROR, e);\r\n    \t} finally {\r\n    \t\ttry {\r\n    \t\t\tpstatement.executeBatch();\r\n    \t\t\tdb_connection.commit();\r\n    \t\t\tdb_connection.setAutoCommit(autoCommit);\r\n    \t\t} catch (SQLException e1) {\r\n    \t\t\tgetLogger().log(LogLevel.ERROR, e1.getMessage(), e1.fillInStackTrace());\r\n    \t\t}\r\n    \r\n    \t\tif (pstatement\t!= null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tpstatement.close();\r\n    \t\t\t\tpstatement = null;\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tgetLogger().log(LogLevel.ERROR, e.getMessage(), e.fillInStackTrace());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (db_connection!= null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tdb_connection.close();\r\n    \t\t\t\tdb_connection = null;\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tgetLogger().log(LogLevel.ERROR, e.getMessage(), e.fillInStackTrace());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"Using Prepared Statement multiple times efficiently","body":"<p>Below is the code which I am using to insert <code>multiple records( around 5000-7000)</code> in the Oracle Database using Prepared Statement.</p>\n\n<p>The way I am doing currently is good? Or it can be improve more using some <code>batch thing</code>?</p>\n\n<pre><code>pstatement = db_connection.prepareStatement(PDSLnPConstants.UPSERT_SQL);\n\nfor (Entry&lt;Integer, LinkedHashMap&lt;Integer, String&gt;&gt; entry : MAPPING.entrySet()) {\n\n    pstatement.setInt(1, entry.getKey());\n    pstatement.setString(2, entry.getValue().get(LnPConstants.CGUID_ID));\n    pstatement.setString(3, entry.getValue().get(LnPConstants.PGUID_ID));\n    pstatement.setString(4, entry.getValue().get(LnPConstants.SGUID_ID));\n    pstatement.setString(5, entry.getValue().get(LnPConstants.UID_ID));\n    pstatement.setString(6, entry.getValue().get(LnPConstants.ULOC_ID));\n    pstatement.setString(7, entry.getValue().get(LnPConstants.SLOC_ID));\n    pstatement.setString(8, entry.getValue().get(LnPConstants.PLOC_ID));\n    pstatement.setString(9, entry.getValue().get(LnPConstants.ALOC_ID));\n    pstatement.setString(10, entry.getValue().get(LnPConstants.SITE_ID));\n    pstatement.executeUpdate();\n\n    pstatement.clearParameters();\n}\n</code></pre>\n\n<p><strong>Udpated Code That I am Using:-</strong></p>\n\n<pre><code>public void runNextCommand() {\n\n    Connection db_connection = null;\n    PreparedStatement pstatement = null;\n    int batchLimit = 1000;\n    boolean autoCommit = false;\n\n    try {\n        db_connection = getDBConnection();\n\n        autoCommit = db_connection.getAutoCommit();\n        db_connection.setAutoCommit(false); //Turn off autoCommit\n        pstatement = db_connection.prepareStatement(LnPConstants.UPSERT_SQL); // create a statement\n\n        for (Entry&lt;Integer, LinkedHashMap&lt;Integer, String&gt;&gt; entry : GUID_ID_MAPPING.entrySet()) {\n            pstatement.setInt(1, entry.getKey());\n            pstatement.setString(2, entry.getValue().get(LnPConstants.CGUID_ID));\n            pstatement.setString(3, entry.getValue().get(LnPConstants.PGUID_ID));\n            pstatement.setString(4, entry.getValue().get(LnPConstants.SGUID_ID));\n            pstatement.setString(5, entry.getValue().get(LnPConstants.UID_ID));\n            pstatement.setString(6, entry.getValue().get(LnPConstants.ULOC_ID));\n            pstatement.setString(7, entry.getValue().get(LnPConstants.SLOC_ID));\n            pstatement.setString(8, entry.getValue().get(LnPConstants.PLOC_ID));\n            pstatement.setString(9, entry.getValue().get(LnPConstants.ALOC_ID));\n            pstatement.setString(10, entry.getValue().get(LnPConstants.SITE_ID));\n            pstatement.addBatch();\n\n            batchLimit--;\n\n            if(batchLimit == 0){\n                pstatement.executeBatch();\n                pstatement.clearBatch();\n                batchLimit = 1000;\n            }\n            pstatement.clearParameters();\n        }\n\n    } catch (SQLException e) {\n        getLogger().log(LogLevel.ERROR, e);\n    } finally {\n        try {\n            pstatement.executeBatch();\n            db_connection.commit();\n            db_connection.setAutoCommit(autoCommit);\n        } catch (SQLException e1) {\n            getLogger().log(LogLevel.ERROR, e1.getMessage(), e1.fillInStackTrace());\n        }\n\n        if (pstatement  != null) {\n            try {\n                pstatement.close();\n                pstatement = null;\n            } catch (SQLException e) {\n                getLogger().log(LogLevel.ERROR, e.getMessage(), e.fillInStackTrace());\n            }\n        }\n        if (db_connection!= null) {\n            try {\n                db_connection.close();\n                db_connection = null;\n            } catch (SQLException e) {\n                getLogger().log(LogLevel.ERROR, e.getMessage(), e.fillInStackTrace());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-cognito"],"comments":[{"owner":{"account_id":17401006,"reputation":412,"user_id":12609883,"display_name":"brian enno"},"score":0,"creation_date":1668176916,"post_id":72964096,"comment_id":131349102,"body_markdown":"Hi, did you manage to get the users using multiple filters? Thank you","body":"Hi, did you manage to get the users using multiple filters? Thank you"}],"owner":{"account_id":25517358,"reputation":11,"user_id":19307981,"display_name":"Airmode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657705272,"creation_date":1657705272,"question_id":72964096,"body_markdown":"I need to call `ListUsersRequest` but for filter I need to pass multiple values as parameters \r\n\r\nexample wit sql:\r\n `select from users where email IN (&#39;email1&#39;, &#39;email2&#39;); `\r\n\r\nhow I can do that with cognito ","title":"Cognito list users multiple filter options","body":"<p>I need to call <code>ListUsersRequest</code> but for filter I need to pass multiple values as parameters</p>\n<p>example wit sql:\n<code>select from users where email IN ('email1', 'email2'); </code></p>\n<p>how I can do that with cognito</p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":1375681,"reputation":733,"user_id":1309717,"display_name":"Sterls"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537278819,"creation_date":1537278819,"answer_id":52388204,"question_id":52388128,"body_markdown":"&gt; boolean justTouched()\r\n\r\nReturns:\r\nwhether a new touch down event just occurred.\r\n\r\n\r\n&gt; boolean isTouched(int pointer)\r\n\r\nWhether the screen is currently touched by the pointer with the given index. Pointers are indexed from 0 to n. The pointer id identifies the order in which the fingers went down on the screen, e.g. 0 is the first finger, 1 is the second and so on. When two fingers are touched down and the first one is lifted the second one keeps its index. If another finger is placed on the touch screen the first free index will be used.\r\n\r\nParameters:\r\npointer - the pointer\r\n\r\nReturns:\r\nwhether the screen is touched by the pointer\r\n\r\nYou can check the API for all your concerns : \r\nhttps://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/Input.html","title":"Difference between isTouched and justTouched","body":"<blockquote>\n  <p>boolean justTouched()</p>\n</blockquote>\n\n<p>Returns:\nwhether a new touch down event just occurred.</p>\n\n<blockquote>\n  <p>boolean isTouched(int pointer)</p>\n</blockquote>\n\n<p>Whether the screen is currently touched by the pointer with the given index. Pointers are indexed from 0 to n. The pointer id identifies the order in which the fingers went down on the screen, e.g. 0 is the first finger, 1 is the second and so on. When two fingers are touched down and the first one is lifted the second one keeps its index. If another finger is placed on the touch screen the first free index will be used.</p>\n\n<p>Parameters:\npointer - the pointer</p>\n\n<p>Returns:\nwhether the screen is touched by the pointer</p>\n\n<p>You can check the API for all your concerns : \n<a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/Input.html\" rel=\"nofollow noreferrer\">https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/Input.html</a></p>\n"},{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537278940,"creation_date":1537278940,"answer_id":52388237,"question_id":52388128,"body_markdown":"`justTouched` will be called ***once***, when the *touch* occurs.\r\n\r\n`isTouched` will be called ***multiple*** times, while the *contact* is maintained.\r\n\r\n","title":"Difference between isTouched and justTouched","body":"<p><code>justTouched</code> will be called <strong><em>once</em></strong>, when the <em>touch</em> occurs.</p>\n\n<p><code>isTouched</code> will be called <strong><em>multiple</em></strong> times, while the <em>contact</em> is maintained.</p>\n"},{"tags":[],"owner":{"account_id":6127710,"reputation":1068,"user_id":4779042,"display_name":"Alperen Kantarcı"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1537278952,"creation_date":1537278952,"answer_id":52388244,"question_id":52388128,"body_markdown":"They both called when user touched but difference between them is continuity. justTouched will be called only once when user touched. But isTouched will continously called. So we can briefly say that justTouched only will be called when **new** touch event occur (holding will not give new event) however isTouched always will be called while user touching the screen (holding).","title":"Difference between isTouched and justTouched","body":"<p>They both called when user touched but difference between them is continuity. justTouched will be called only once when user touched. But isTouched will continously called. So we can briefly say that justTouched only will be called when <strong>new</strong> touch event occur (holding will not give new event) however isTouched always will be called while user touching the screen (holding).</p>\n"}],"owner":{"account_id":10747283,"reputation":1740,"user_id":7908077,"display_name":"akhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":52388244,"answer_count":3,"score":1,"last_activity_date":1657705129,"creation_date":1537278596,"question_id":52388128,"body_markdown":"Basically what is the difference between `isTouched()` and `justTouched()`?\r\n\r\nWhen should we use `isTouched()` and When should we use `justTouched()`? \r\n\r\n\r\nPlease help me.","title":"Difference between isTouched and justTouched","body":"<p>Basically what is the difference between <code>isTouched()</code> and <code>justTouched()</code>?</p>\n<p>When should we use <code>isTouched()</code> and When should we use <code>justTouched()</code>?</p>\n<p>Please help me.</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657705077,"creation_date":1657705077,"answer_id":72964052,"question_id":72941831,"body_markdown":"I ended up creating custom filter for console and logs to divert the log stream based on MDC map value, and this solved the filtering problem. This idea came from @KC Baltz from this [post][1]. \r\n\r\nMy log4j.xml looks as below:\r\n\r\n    &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t\t\r\n    \t\t&lt;!-- This is custom console filter, modify decide() function accordingly --&gt;\r\n    \t\t&lt;filter class=&quot;com.lumn.logtest.web.common.Log4JConsoleFilter&quot;&gt;\r\n    \t\t    &lt;param name=&quot;keyToMatch&quot; value=&quot;COMPANYNAME&quot; /&gt;\r\n    \t        &lt;param name=&quot;valueToMatch&quot; value=&quot;&quot; /&gt;\r\n    \t        &lt;param name=&quot;acceptOnMatch&quot; value=&quot;false&quot; /&gt;\r\n    \t\t&lt;/filter&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;LUMN&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;./logs/lumen.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;param name=&quot;ImmediateFlush&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;10MB&quot; /&gt;\r\n    \r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \r\n    \t\t&lt;!-- This is custom company filter, modify decide() function accordingly --&gt;\r\n    \t\t&lt;filter class=&quot;com.lumn.logtest.web.common.Log4JCompanyFilter&quot;&gt;\r\n    \t\t    &lt;param name=&quot;keyToMatch&quot; value=&quot;COMPANYNAME&quot; /&gt;\r\n    \t        &lt;param name=&quot;valueToMatch&quot; value=&quot;ABCD&quot; /&gt;\r\n    \t        &lt;param name=&quot;acceptOnMatch&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;/filter&gt;\r\n    \t&lt;/appender&gt;\r\n\r\nAnd my custom Filters Log4JConsoleFilter and Log4JCompanyFilter are as below:\r\n\r\n    public class Log4JConsoleFilter extends Filter {\r\n\r\n\tprivate String keyToMatch;\r\n\tprivate String valueToMatch;\r\n\tprivate boolean acceptOnMatch = true;\r\n\r\n\t@Override\r\n\tpublic int decide(LoggingEvent event) {\r\n\t\t\r\n\t\t//Modify this condition based on the need, there is room for improvement to reduce number of conditions.\r\n\t\tif (keyToMatch == null || valueToMatch == null)\r\n\t\t\treturn Filter.NEUTRAL;\r\n\t\telse {\r\n\t\t\tif(event.getMDC(keyToMatch) == null)\r\n\t\t\t\treturn Filter.NEUTRAL;\r\n\t\t\telse{ \r\n\t\t\t\t//MDC has value\r\n\t\t\t\treturn acceptOnMatch ? Filter.ACCEPT: Filter.DENY;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic String getKeyToMatch() {\r\n\t\treturn keyToMatch;\r\n\t}\r\n\r\n\tpublic void setKeyToMatch(String keyToMatch) {\r\n\t\tthis.keyToMatch = keyToMatch;\r\n\t}\r\n\r\n\tpublic String getValueToMatch() {\r\n\t\treturn valueToMatch;\r\n\t}\r\n\r\n\tpublic void setValueToMatch(String valueToMatch) {\r\n\t\tthis.valueToMatch = valueToMatch;\r\n\t}\r\n\r\n\tpublic boolean isAcceptOnMatch() {\r\n\t\treturn acceptOnMatch;\r\n\t}\r\n\r\n\tpublic void setAcceptOnMatch(boolean acceptOnMatch) {\r\n\t\tthis.acceptOnMatch = acceptOnMatch;\r\n\t}\r\n\r\n}\r\n\r\n    public class Log4JCompanyFilter extends Filter {\r\n\r\n\tprivate String keyToMatch;\r\n\tprivate String valueToMatch;\r\n\tprivate boolean acceptOnMatch = true;\r\n\r\n\t@Override\r\n\tpublic int decide(LoggingEvent event) {\t \r\n\t\tif (keyToMatch == null || valueToMatch == null)\r\n\t\t\treturn Filter.DENY;\r\n\t\telse {\r\n\t\t\tif (valueToMatch.equals(event.getMDC(keyToMatch)))\r\n\t\t\t\treturn acceptOnMatch ? Filter.ACCEPT: Filter.DENY;\r\n\t\t\telse\r\n\t\t\t\treturn Filter.DENY;\t\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic String getKeyToMatch() {\r\n\t\treturn keyToMatch;\r\n\t}\r\n\r\n\tpublic void setKeyToMatch(String keyToMatch) {\r\n\t\tthis.keyToMatch = keyToMatch;\r\n\t}\r\n\r\n\tpublic String getValueToMatch() {\r\n\t\treturn valueToMatch;\r\n\t}\r\n\r\n\tpublic void setValueToMatch(String valueToMatch) {\r\n\t\tthis.valueToMatch = valueToMatch;\r\n\t}\r\n\r\n\tpublic boolean isAcceptOnMatch() {\r\n\t\treturn acceptOnMatch;\r\n\t}\r\n\r\n\tpublic void setAcceptOnMatch(boolean acceptOnMatch) {\r\n\t\tthis.acceptOnMatch = acceptOnMatch;\r\n\t}\r\n\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7404435/conditional-logging-with-log4j?noredirect=1&amp;lq=1#:~:text=Matthew%20Farwell%27s%20answer%20(use%20MDC)","title":"Log4j config to filter logs to multiple files","body":"<p>I ended up creating custom filter for console and logs to divert the log stream based on MDC map value, and this solved the filtering problem. This idea came from @KC Baltz from this <a href=\"https://stackoverflow.com/questions/7404435/conditional-logging-with-log4j?noredirect=1&amp;lq=1#:%7E:text=Matthew%20Farwell%27s%20answer%20(use%20MDC)\">post</a>.</p>\n<p>My log4j.xml looks as below:</p>\n<pre><code>&lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&quot; /&gt;\n        &lt;/layout&gt;\n        \n        &lt;!-- This is custom console filter, modify decide() function accordingly --&gt;\n        &lt;filter class=&quot;com.lumn.logtest.web.common.Log4JConsoleFilter&quot;&gt;\n            &lt;param name=&quot;keyToMatch&quot; value=&quot;COMPANYNAME&quot; /&gt;\n            &lt;param name=&quot;valueToMatch&quot; value=&quot;&quot; /&gt;\n            &lt;param name=&quot;acceptOnMatch&quot; value=&quot;false&quot; /&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;LUMN&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;./logs/lumen.log&quot; /&gt;\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\n        &lt;param name=&quot;ImmediateFlush&quot; value=&quot;true&quot; /&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;10MB&quot; /&gt;\n\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&quot; /&gt;\n        &lt;/layout&gt;\n\n        &lt;!-- This is custom company filter, modify decide() function accordingly --&gt;\n        &lt;filter class=&quot;com.lumn.logtest.web.common.Log4JCompanyFilter&quot;&gt;\n            &lt;param name=&quot;keyToMatch&quot; value=&quot;COMPANYNAME&quot; /&gt;\n            &lt;param name=&quot;valueToMatch&quot; value=&quot;ABCD&quot; /&gt;\n            &lt;param name=&quot;acceptOnMatch&quot; value=&quot;true&quot; /&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>And my custom Filters Log4JConsoleFilter and Log4JCompanyFilter are as below:</p>\n<pre><code>public class Log4JConsoleFilter extends Filter {\n\nprivate String keyToMatch;\nprivate String valueToMatch;\nprivate boolean acceptOnMatch = true;\n\n@Override\npublic int decide(LoggingEvent event) {\n    \n    //Modify this condition based on the need, there is room for improvement to reduce number of conditions.\n    if (keyToMatch == null || valueToMatch == null)\n        return Filter.NEUTRAL;\n    else {\n        if(event.getMDC(keyToMatch) == null)\n            return Filter.NEUTRAL;\n        else{ \n            //MDC has value\n            return acceptOnMatch ? Filter.ACCEPT: Filter.DENY;\n        }\n    }\n}\npublic String getKeyToMatch() {\n    return keyToMatch;\n}\n\npublic void setKeyToMatch(String keyToMatch) {\n    this.keyToMatch = keyToMatch;\n}\n\npublic String getValueToMatch() {\n    return valueToMatch;\n}\n\npublic void setValueToMatch(String valueToMatch) {\n    this.valueToMatch = valueToMatch;\n}\n\npublic boolean isAcceptOnMatch() {\n    return acceptOnMatch;\n}\n\npublic void setAcceptOnMatch(boolean acceptOnMatch) {\n    this.acceptOnMatch = acceptOnMatch;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class Log4JCompanyFilter extends Filter {\n\nprivate String keyToMatch;\nprivate String valueToMatch;\nprivate boolean acceptOnMatch = true;\n\n@Override\npublic int decide(LoggingEvent event) {  \n    if (keyToMatch == null || valueToMatch == null)\n        return Filter.DENY;\n    else {\n        if (valueToMatch.equals(event.getMDC(keyToMatch)))\n            return acceptOnMatch ? Filter.ACCEPT: Filter.DENY;\n        else\n            return Filter.DENY;             \n    }\n}\n\npublic String getKeyToMatch() {\n    return keyToMatch;\n}\n\npublic void setKeyToMatch(String keyToMatch) {\n    this.keyToMatch = keyToMatch;\n}\n\npublic String getValueToMatch() {\n    return valueToMatch;\n}\n\npublic void setValueToMatch(String valueToMatch) {\n    this.valueToMatch = valueToMatch;\n}\n\npublic boolean isAcceptOnMatch() {\n    return acceptOnMatch;\n}\n\npublic void setAcceptOnMatch(boolean acceptOnMatch) {\n    this.acceptOnMatch = acceptOnMatch;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72964052,"answer_count":1,"score":0,"last_activity_date":1657705077,"creation_date":1657557412,"question_id":72941831,"body_markdown":"I am trying to route specific logs to different files based on a pattern within the log using Log4j 1.2.17 on a JDK1.6 application. I found that the solution mentioned on posts [here][1] and [here][2] say the below configuration done within the log4j xml should work along with MDC context but for some reason they have no effect on the filter and the logs end up getting routed to both the console and the file. \r\n\r\n\r\nMy java code looks like below:\r\n\r\n    @RequestMapping(value = &quot;/fetchBookById&quot;,  method = RequestMethod.GET, produces=&quot;application/json&quot;)\r\n    public @ResponseBody Map&lt;String,? extends Object&gt; bookApi(ParamDTO params) throws InterruptedException {\r\n    \t\r\n    \tlog.info(&quot;SimpleBookController.bookApi: THIS IS A COMMON LOG&quot;);\r\n    \t Map&lt;String,Object&gt; rxdMap = null;\r\n    \ttry{\r\n            //This below will put either ABCD or EFGH etc\r\n    \t\tMDC.put(&quot;COMPANYNAME&quot;, companyMap.get(params.getCompanyOwnerId()));\r\n    \t\t\r\n\t    \tlog.info(&quot;SimpleBookController.bookApi: THis is test with routing&quot;);\r\n\t    \tlog.info(&quot;SimpleBookController.bookApi: Payload: &quot;+params.toString());\r\n\t    \t\r\n\t    \t//do something here\r\n\t     \tlog.info(&quot;SimpleBookController.bookApi API completed for :&quot;+params.getCompanyOwnerId());\r\n\t     \t\r\n    \t} finally {\r\n    \t\tMDC.clear();\r\n    \t}\r\n         return rxdMap;\r\n    }\r\n\r\n\r\nLog4j.xml:\r\n\r\n\r\n    &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] COMPANYNAME:%X{COMPANYNAME} %-5p - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t\t&lt;filter class=&quot;org.apache.log4j.varia.StringMatchFilter&quot;&gt;\r\n\t\t    &lt;param name=&quot;StringToMatch&quot; value=&quot;COMPANYNAME:&quot;/&gt;\r\n\t\t    &lt;param name=&quot;AcceptOnMatch&quot; value=&quot;false&quot;/&gt;\r\n\t\t&lt;/filter&gt;\r\n\t&lt;/appender&gt;\r\n    &lt;appender name=&quot;file&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;File&quot; value=&quot;./logs/company.log&quot; /&gt;\r\n\t\t&lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;param name=&quot;ImmediateFlush&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;10MB&quot; /&gt;\r\n\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] COMPANYNAME:%X{COMPANYNAME} %-5p - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t\t&lt;filter class=&quot;org.apache.log4j.varia.StringMatchFilter&quot;&gt;\r\n\t\t    &lt;param name=&quot;StringToMatch&quot; value=&quot;COMPANYNAME:ABCD&quot;/&gt;\r\n\t\t    &lt;param name=&quot;AcceptOnMatch&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/filter&gt;\r\n\t\t&lt;filter class=&quot;org.apache.log4j.varia.DenyAllFilter&quot;/&gt;\r\n\t&lt;/appender&gt;\r\n     &lt;root&gt;\r\n\t\t&lt;level value=&quot;info&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;file&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;console&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\n\r\n\r\nIn the above configuration I am trying to route any logs that do not have &quot;COMPANYNAME:&quot; string to console and the logs that have &quot;COMPANYNAME:ABCD&quot; should route to a specific file. But both console and the file Appender end up having all the logs irrespective of the string pattern. Much appreciated if anyone can point me in the right direction. \r\n\r\n\r\nSample logs:\r\n\r\n    2022-07-11 21:29:44 [[ACTIVE] ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] COMPANYNAME: INFO  - FrameworkServlet &#39;TestJDK6Logging&#39;: initialization completed in 423 ms\r\n    2022-07-11 21:29:56 [[ACTIVE] ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] COMPANYNAME: INFO  - SimpleBookController.bookApi: THIS IS A COMMON LOG\r\n    2022-07-11 21:29:56 [[ACTIVE] ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] COMPANYNAME:ABCD INFO  - SimpleBookController.bookApi: THis is test with routing\r\n    2022-07-11 21:29:56 [[ACTIVE] ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] COMPANYNAME:ABCD INFO  - SimpleBookController.bookApi: Payload: ParamDTO [identifier=sdfdf, bookId=1, companyOwnerId=4]\r\n    2022-07-11 21:30:01 [[ACTIVE] ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] COMPANYNAME:ABCD INFO  - SimpleBookController.bookApi API completed for :4\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7404435/conditional-logging-with-log4j#:~:text=Add%20a%20comment-,4%20Answers,-Sorted%20by%3A\r\n  [2]: https://stackoverflow.com/questions/60411841/log4j-1-2-filter-exception-with-expressionfilter#:~:text=Add%20a%20comment-,1%20Answer,-Sorted%20by%3A","title":"Log4j config to filter logs to multiple files","body":"<p>I am trying to route specific logs to different files based on a pattern within the log using Log4j 1.2.17 on a JDK1.6 application. I found that the solution mentioned on posts <a href=\"https://stackoverflow.com/questions/7404435/conditional-logging-with-log4j#:%7E:text=Add%20a%20comment-,4%20Answers,-Sorted%20by%3A\">here</a> and <a href=\"https://stackoverflow.com/questions/60411841/log4j-1-2-filter-exception-with-expressionfilter#:%7E:text=Add%20a%20comment-,1%20Answer,-Sorted%20by%3A\">here</a> say the below configuration done within the log4j xml should work along with MDC context but for some reason they have no effect on the filter and the logs end up getting routed to both the console and the file.</p>\n<p>My java code looks like below:</p>\n<pre><code>@RequestMapping(value = &quot;/fetchBookById&quot;,  method = RequestMethod.GET, produces=&quot;application/json&quot;)\npublic @ResponseBody Map&lt;String,? extends Object&gt; bookApi(ParamDTO params) throws InterruptedException {\n    \n    log.info(&quot;SimpleBookController.bookApi: THIS IS A COMMON LOG&quot;);\n     Map&lt;String,Object&gt; rxdMap = null;\n    try{\n        //This below will put either ABCD or EFGH etc\n        MDC.put(&quot;COMPANYNAME&quot;, companyMap.get(params.getCompanyOwnerId()));\n        \n        log.info(&quot;SimpleBookController.bookApi: THis is test with routing&quot;);\n        log.info(&quot;SimpleBookController.bookApi: Payload: &quot;+params.toString());\n        \n        //do something here\n        log.info(&quot;SimpleBookController.bookApi API completed for :&quot;+params.getCompanyOwnerId());\n        \n    } finally {\n        MDC.clear();\n    }\n     return rxdMap;\n}\n</code></pre>\n<p>Log4j.xml:</p>\n<pre><code>&lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n        &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] COMPANYNAME:%X{COMPANYNAME} %-5p - %m%n&quot; /&gt;\n    &lt;/layout&gt;\n    &lt;filter class=&quot;org.apache.log4j.varia.StringMatchFilter&quot;&gt;\n        &lt;param name=&quot;StringToMatch&quot; value=&quot;COMPANYNAME:&quot;/&gt;\n        &lt;param name=&quot;AcceptOnMatch&quot; value=&quot;false&quot;/&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n&lt;appender name=&quot;file&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n    &lt;param name=&quot;File&quot; value=&quot;./logs/company.log&quot; /&gt;\n    &lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\n    &lt;param name=&quot;ImmediateFlush&quot; value=&quot;true&quot; /&gt;\n    &lt;param name=&quot;MaxFileSize&quot; value=&quot;10MB&quot; /&gt;\n\n    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n        &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] COMPANYNAME:%X{COMPANYNAME} %-5p - %m%n&quot; /&gt;\n    &lt;/layout&gt;\n    &lt;filter class=&quot;org.apache.log4j.varia.StringMatchFilter&quot;&gt;\n        &lt;param name=&quot;StringToMatch&quot; value=&quot;COMPANYNAME:ABCD&quot;/&gt;\n        &lt;param name=&quot;AcceptOnMatch&quot; value=&quot;true&quot;/&gt;\n    &lt;/filter&gt;\n    &lt;filter class=&quot;org.apache.log4j.varia.DenyAllFilter&quot;/&gt;\n&lt;/appender&gt;\n &lt;root&gt;\n    &lt;level value=&quot;info&quot; /&gt;\n    &lt;appender-ref ref=&quot;file&quot; /&gt;\n    &lt;appender-ref ref=&quot;console&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>In the above configuration I am trying to route any logs that do not have &quot;COMPANYNAME:&quot; string to console and the logs that have &quot;COMPANYNAME:ABCD&quot; should route to a specific file. But both console and the file Appender end up having all the logs irrespective of the string pattern. Much appreciated if anyone can point me in the right direction.</p>\n<p>Sample logs:</p>\n<pre><code>2022-07-11 21:29:44 [[ACTIVE] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] COMPANYNAME: INFO  - FrameworkServlet 'TestJDK6Logging': initialization completed in 423 ms\n2022-07-11 21:29:56 [[ACTIVE] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] COMPANYNAME: INFO  - SimpleBookController.bookApi: THIS IS A COMMON LOG\n2022-07-11 21:29:56 [[ACTIVE] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] COMPANYNAME:ABCD INFO  - SimpleBookController.bookApi: THis is test with routing\n2022-07-11 21:29:56 [[ACTIVE] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] COMPANYNAME:ABCD INFO  - SimpleBookController.bookApi: Payload: ParamDTO [identifier=sdfdf, bookId=1, companyOwnerId=4]\n2022-07-11 21:30:01 [[ACTIVE] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'] COMPANYNAME:ABCD INFO  - SimpleBookController.bookApi API completed for :4\n</code></pre>\n"},{"tags":["java","compilation"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1657697080,"post_id":72962237,"comment_id":128869162,"body_markdown":"You have to press [enter] after the command.","body":"You have to press [enter] after the command."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657705846,"post_id":72962237,"comment_id":128872090,"body_markdown":"But if you &gt;have&lt; pressed [enter] and it still didn&#39;t work ... contact the CodeAcademy support team.","body":"But if you &gt;have&lt; pressed [enter] and it still didn&#39;t work ... contact the CodeAcademy support team."}],"owner":{"account_id":25796735,"reputation":1,"user_id":19539781,"display_name":"Yousuf Mohammad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657704986,"creation_date":1657696278,"question_id":72962237,"body_markdown":"it&#39;s my first time here and I&#39;m currently learning Java using Codeacademy. I reached compiling Java code and for some reason, I&#39;m not getting the compilation correctly even though I&#39;m following the instructions and everything. You compile by writing &quot;javac FileName.java&quot; and that&#39;s exactly what I&#39;m doing. I checked for spelling mistakes or capitalization mistakes and found none. I tried resetting Codeacademy a few times, still getting the same issue. Please see below and inform me what is wrong because Codeacademy&#39;s &quot;hint&quot; also turned out useless.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HWSjt.png","title":"Codeacademy &quot;Learn Java.&quot; Compilation: Creating Executables issue","body":"<p>it's my first time here and I'm currently learning Java using Codeacademy. I reached compiling Java code and for some reason, I'm not getting the compilation correctly even though I'm following the instructions and everything. You compile by writing &quot;javac FileName.java&quot; and that's exactly what I'm doing. I checked for spelling mistakes or capitalization mistakes and found none. I tried resetting Codeacademy a few times, still getting the same issue. Please see below and inform me what is wrong because Codeacademy's &quot;hint&quot; also turned out useless.\n<a href=\"https://i.stack.imgur.com/HWSjt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HWSjt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sockets","connection","client-server","inputstream"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1657709070,"post_id":72963992,"comment_id":128873165,"body_markdown":"ServerOneClient is not used. At all. So it doesn&#39;t matter what code you put in it.","body":"ServerOneClient is not used. At all. So it doesn&#39;t matter what code you put in it."},{"owner":{"account_id":19563554,"reputation":1,"user_id":14316268,"display_name":"Luigi Daddario"},"score":0,"creation_date":1657714712,"post_id":72963992,"comment_id":128875293,"body_markdown":"I know.. but probably i do not understand how it should work","body":"I know.. but probably i do not understand how it should work"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1657721124,"post_id":72963992,"comment_id":128878064,"body_markdown":"Use your search engine to search for &quot;java simple multithreaded server&quot;.","body":"Use your search engine to search for &quot;java simple multithreaded server&quot;."},{"owner":{"account_id":19563554,"reputation":1,"user_id":14316268,"display_name":"Luigi Daddario"},"score":0,"creation_date":1657724168,"post_id":72963992,"comment_id":128879430,"body_markdown":"sorry but i was here to learn something new, thanks to some advices given by people who has a lot experience. I would prefer this instead of searching on Google.","body":"sorry but i was here to learn something new, thanks to some advices given by people who has a lot experience. I would prefer this instead of searching on Google."}],"owner":{"account_id":19563554,"reputation":1,"user_id":14316268,"display_name":"Luigi Daddario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657704800,"creation_date":1657704800,"question_id":72963992,"body_markdown":"i&#39;m developing a Java App, but i have a big problem. I&#39;m trying to develop a client-server app, so that the client could retrieve information managed by a server.\r\n\r\nThe problem is that, when the connection is established, probably goes in loop, near two specifics lines of code (cause if i delete this lines, it goes on):\r\n\r\n    out = new ObjectOutputStream(socket.getOutputStream());\r\n    in = new ObjectInputStream(socket.getInputStream());\r\n\r\nI&#39;m an University Student and the client.java has been delivered by professor, so i do not think that this could have problem, but you never know. Now i post 3 files:\r\n\r\n**MultiServer**: used to manage multiclients connection\r\n**ServerOneClient**: to implements the protocol\r\n**Client**.java\r\n\r\n    package server;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.PrintWriter;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    import com.mysql.cj.xdevapi.Client;\r\n    \r\n    public class MultiServer {\r\n    \t\r\n    \tprivate int PORT = 2025;\r\n    \t\r\n    \tprivate void run() throws IOException\r\n    \t{\r\n    \t\tServerSocket serverSocket = new ServerSocket(PORT);\r\n    \t\tSocket clientSocket = null;\r\n    \t\tBufferedReader in=null;\r\n    \t\tPrintWriter out=null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tclientSocket = serverSocket.accept();\r\n    \t\t\tSystem.out.println(&quot;Connection Accepted&quot;);\r\n    \t\t\t\r\n    \t\t\t//stream di input\r\n    \t\t\tInputStreamReader isr = new InputStreamReader(clientSocket.getInputStream());\r\n    \t\t\tin = new BufferedReader(isr);\r\n    \t\t\t\r\n    \t\t\t//creazione stream di output\r\n    \t\t\tOutputStreamWriter osw = new OutputStreamWriter(clientSocket.getOutputStream());\r\n    \t\t\tBufferedWriter bw = new BufferedWriter(osw);\r\n    \t\t\tout = new PrintWriter(bw, true);\r\n    \t\t\t\r\n    \t\t\t//ciclo di ricezione dal client e invio risposta\r\n    \t\t\twhile(true)\r\n    \t\t\t{\r\n    \t\t\t\tString str = in.readLine();\r\n    \t\t\t\tif(str.equals(&quot;END&quot;)) break;\r\n    \t\t\t\tSystem.out.println(&quot;Echoing: &quot; + str);\r\n    \t\t\t\tout.println(str);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (IOException e)\r\n    \t\t{\r\n    \t\t\tSystem.err.println(&quot;Accept failed&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\t\r\n    \t\t//chiusura di stream e socket\r\n    \t\tSystem.out.println(&quot;Echoserver: closing..&quot;);\r\n    \t\tout.close();\r\n    \t\tin.close();\r\n    \t\tclientSocket.close();\r\n    \t\tserverSocket.close();\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic MultiServer(int port) throws IOException {\r\n    \t\tPORT=port;\r\n    \t\trun();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException\r\n    \t{\r\n    \t\tMultiServer s = new MultiServer(2025);\r\n    \t\ts.run();\r\n    \t}\t\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n**ServerOneClient.java**\r\n\r\n    package server;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class ServerOneClient extends Thread {\r\n    \r\n    \t\r\n    \tprivate Socket socket;\r\n    \tprivate ObjectInputStream in;\r\n    \tprivate ObjectOutputStream out;\r\n    \t\r\n    \tpublic ServerOneClient(Socket s) throws IOException {\r\n    \t\t\r\n    \t\tsocket = s;\r\n    \t\tin = new ObjectInputStream(s.getInputStream());\r\n            out = new ObjectOutputStream(s.getOutputStream());\r\n    \t\tstart();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void run()\r\n    \t{\r\n    \t\tsuper.run();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n**Client.java**\r\n\r\n    package client;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.InetAddress;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    \r\n    import utility.Keyboard;\r\n    \r\n    public class Client {\r\n    \t\r\n    \tprivate Socket socket=null;\r\n    \tprivate ObjectOutputStream out=null;\r\n    \tprivate ObjectInputStream in=null;\r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws IOException \r\n    \t * @throws ClassNotFoundException \r\n    \t */\r\n    \t\r\n    \tClient (String address, int port) throws IOException, ClassNotFoundException{\r\n    \t\t\r\n    \t\t\tsocket = new Socket(address, port);\r\n    \t\t\tSystem.out.println(socket);\t\t\r\n    \t\t\ttalking();\r\n    \t}\r\n    \t\r\n    \tprivate void talking() throws IOException, ClassNotFoundException {\r\n    \t\t\r\n    \t\tint decision=0;\r\n    \t\tout = new ObjectOutputStream(socket.getOutputStream());\r\n    \t\tin = new ObjectInputStream(socket.getInputStream());\t // stream con richieste del client\r\n    \t\tString menu=&quot;&quot;;\r\n    \t\t\r\n    \t\tdo {\t\r\n    \t\t\tdo{\r\n    \t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Load KNN from file [1]&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Load KNN from binary file  [2]&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Load KNN from database  [3]&quot;);\r\n    \t\t\t\tdecision=Keyboard.readInt();\r\n    \t\t\t}while(decision &lt;0 || decision &gt;3);\r\n    \t\t\t\r\n    \t\t\tString risposta=&quot;&quot;;\r\n    \t\t\tdo {\r\n    \t\t\t\tout.writeObject(decision);\r\n    \t\t\t\tString tableName=&quot;&quot;;\r\n    \t\t\t\tSystem.out.println(&quot;Table name (without estensione):&quot;);\r\n    \t\t\t\ttableName=Keyboard.readString();\r\n    \t\t\t\tout.writeObject(tableName);\r\n    \t\t\t\trisposta=(String)in.readObject();\r\n    \t\t\t\r\n    \t\t\t}while(risposta.contains(&quot;@ERROR&quot;));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;KNN loaded on the server&quot;);\r\n    \t\t\t// predict\r\n    \t\t\tString c;\r\n    \t\t\tdo {\r\n    \t\t\t\tout.writeObject(4);\r\n    \t\t\t\tboolean flag=true; //reading example\r\n    \t\t\t\tdo {\r\n    \t\t\t\t\trisposta=(String)(in.readObject());\r\n    \t\t\t\t\tif(!risposta.contains(&quot;@ENDEXAMPLE&quot;)) {\r\n    \t\t\t\t\t\t// sto leggendo l&#39;esempio\r\n    \t\t\t\t\t\tString msg=(String)(in.readObject());\r\n    \t\t\t\t\t\tif(risposta.equals(&quot;@READSTRING&quot;))  //leggo una stringa\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tSystem.out.println(msg);\r\n    \t\t\t\t\t\t\tout.writeObject(Keyboard.readString());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\telse //leggo un numero\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tdouble x=0.0;\r\n    \t\t\t\t\t\t\tdo {\r\n    \t\t\t\t\t\t\t\tSystem.out.println(msg);\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\tx=Keyboard.readDouble();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twhile(new Double(x).equals(Double.NaN));\r\n    \t\t\t\t\t\t\tout.writeObject(x);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse flag=false;\r\n    \t\t\t\t}while( flag);\r\n    \t\t\t\t\r\n    \t\t\t\t//sto leggendo  k\r\n    \t\t\t\trisposta=(String)(in.readObject());\r\n    \t\t\t\tint k=0;\r\n    \t\t\t\tdo {\r\n    \t\t\t\t\tSystem.out.print(risposta);\r\n    \t\t\t\t\tk=Keyboard.readInt();\r\n    \t\t\t\t}while (k&lt;1);\r\n    \t\t\t\tout.writeObject(k);\r\n    \t\t\t\t//aspetto la predizione \r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Prediction:&quot;+in.readObject());\r\n    \t\r\n    \t\t\t\t\t\r\n    \t\t\r\n    \t\t\t\tSystem.out.println(&quot;Vuoi ripetere predizione? Y/N&quot;);\r\n    \t\t\t\tc=Keyboard.readString();\r\n    \t\t\t\t\r\n    \t\t\t}while (c.toLowerCase().equals(&quot;y&quot;));\t\r\n    \t\t\tSystem.out.println(&quot;Vuoi ripetere una nuova esecuzione con un nuovo oggetto KNN? (Y/N)&quot;);\r\n    \t\t\tmenu=Keyboard.readString();\r\n    \t\t}\r\n    \t\twhile(menu.toLowerCase().equals(&quot;y&quot;));\r\n    \t\t\r\n    \t}\r\n    \tpublic static void main(String[] args){\r\n    \t\t\r\n    \t\tInetAddress addr;\r\n    \t\ttry {\r\n    \t\t\taddr = InetAddress.getByName(&quot;localhost&quot;);\r\n    \t\t} catch (UnknownHostException e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tClient c;\r\n    \t\ttry {\r\n    \t\t\tc=new Client(&quot;localhost&quot;, 2025);\r\n    \t\t\t\r\n    \t\t}  catch (IOException e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t\treturn;\r\n    \t\t} catch (NumberFormatException e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t\treturn;\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\t\r\n    \r\n    \r\n    }\r\n\r\nHope you can help me, for any doubt, i&#39;m here!","title":"Problems with MultiClient - server in Java","body":"<p>i'm developing a Java App, but i have a big problem. I'm trying to develop a client-server app, so that the client could retrieve information managed by a server.</p>\n<p>The problem is that, when the connection is established, probably goes in loop, near two specifics lines of code (cause if i delete this lines, it goes on):</p>\n<pre><code>out = new ObjectOutputStream(socket.getOutputStream());\nin = new ObjectInputStream(socket.getInputStream());\n</code></pre>\n<p>I'm an University Student and the client.java has been delivered by professor, so i do not think that this could have problem, but you never know. Now i post 3 files:</p>\n<p><strong>MultiServer</strong>: used to manage multiclients connection\n<strong>ServerOneClient</strong>: to implements the protocol\n<strong>Client</strong>.java</p>\n<pre><code>package server;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\nimport com.mysql.cj.xdevapi.Client;\n\npublic class MultiServer {\n    \n    private int PORT = 2025;\n    \n    private void run() throws IOException\n    {\n        ServerSocket serverSocket = new ServerSocket(PORT);\n        Socket clientSocket = null;\n        BufferedReader in=null;\n        PrintWriter out=null;\n        \n        try {\n            clientSocket = serverSocket.accept();\n            System.out.println(&quot;Connection Accepted&quot;);\n            \n            //stream di input\n            InputStreamReader isr = new InputStreamReader(clientSocket.getInputStream());\n            in = new BufferedReader(isr);\n            \n            //creazione stream di output\n            OutputStreamWriter osw = new OutputStreamWriter(clientSocket.getOutputStream());\n            BufferedWriter bw = new BufferedWriter(osw);\n            out = new PrintWriter(bw, true);\n            \n            //ciclo di ricezione dal client e invio risposta\n            while(true)\n            {\n                String str = in.readLine();\n                if(str.equals(&quot;END&quot;)) break;\n                System.out.println(&quot;Echoing: &quot; + str);\n                out.println(str);\n            }\n        }\n        catch (IOException e)\n        {\n            System.err.println(&quot;Accept failed&quot;);\n            System.exit(1);\n        }\n        \n        //chiusura di stream e socket\n        System.out.println(&quot;Echoserver: closing..&quot;);\n        out.close();\n        in.close();\n        clientSocket.close();\n        serverSocket.close();\n        \n    }\n\n    public MultiServer(int port) throws IOException {\n        PORT=port;\n        run();\n    }\n    \n    public static void main(String[] args) throws IOException\n    {\n        MultiServer s = new MultiServer(2025);\n        s.run();\n    }   \n\n\n\n}\n</code></pre>\n<p><strong>ServerOneClient.java</strong></p>\n<pre><code>package server;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class ServerOneClient extends Thread {\n\n    \n    private Socket socket;\n    private ObjectInputStream in;\n    private ObjectOutputStream out;\n    \n    public ServerOneClient(Socket s) throws IOException {\n        \n        socket = s;\n        in = new ObjectInputStream(s.getInputStream());\n        out = new ObjectOutputStream(s.getOutputStream());\n        start();\n        \n    }\n    \n    public void run()\n    {\n        super.run();\n    }\n    \n}\n</code></pre>\n<p><strong>Client.java</strong></p>\n<pre><code>package client;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\nimport utility.Keyboard;\n\npublic class Client {\n    \n    private Socket socket=null;\n    private ObjectOutputStream out=null;\n    private ObjectInputStream in=null;\n    /**\n     * @param args\n     * @throws IOException \n     * @throws ClassNotFoundException \n     */\n    \n    Client (String address, int port) throws IOException, ClassNotFoundException{\n        \n            socket = new Socket(address, port);\n            System.out.println(socket);     \n            talking();\n    }\n    \n    private void talking() throws IOException, ClassNotFoundException {\n        \n        int decision=0;\n        out = new ObjectOutputStream(socket.getOutputStream());\n        in = new ObjectInputStream(socket.getInputStream());     // stream con richieste del client\n        String menu=&quot;&quot;;\n        \n        do {    \n            do{\n            \n                System.out.println(&quot;Load KNN from file [1]&quot;);\n                System.out.println(&quot;Load KNN from binary file  [2]&quot;);\n                System.out.println(&quot;Load KNN from database  [3]&quot;);\n                decision=Keyboard.readInt();\n            }while(decision &lt;0 || decision &gt;3);\n            \n            String risposta=&quot;&quot;;\n            do {\n                out.writeObject(decision);\n                String tableName=&quot;&quot;;\n                System.out.println(&quot;Table name (without estensione):&quot;);\n                tableName=Keyboard.readString();\n                out.writeObject(tableName);\n                risposta=(String)in.readObject();\n            \n            }while(risposta.contains(&quot;@ERROR&quot;));\n            \n            System.out.println(&quot;KNN loaded on the server&quot;);\n            // predict\n            String c;\n            do {\n                out.writeObject(4);\n                boolean flag=true; //reading example\n                do {\n                    risposta=(String)(in.readObject());\n                    if(!risposta.contains(&quot;@ENDEXAMPLE&quot;)) {\n                        // sto leggendo l'esempio\n                        String msg=(String)(in.readObject());\n                        if(risposta.equals(&quot;@READSTRING&quot;))  //leggo una stringa\n                        {\n                            System.out.println(msg);\n                            out.writeObject(Keyboard.readString());\n                        }\n                        else //leggo un numero\n                        {\n                            double x=0.0;\n                            do {\n                                System.out.println(msg);                                \n                                x=Keyboard.readDouble();\n                            }\n                            while(new Double(x).equals(Double.NaN));\n                            out.writeObject(x);\n                        }\n                        \n                    }\n                    else flag=false;\n                }while( flag);\n                \n                //sto leggendo  k\n                risposta=(String)(in.readObject());\n                int k=0;\n                do {\n                    System.out.print(risposta);\n                    k=Keyboard.readInt();\n                }while (k&lt;1);\n                out.writeObject(k);\n                //aspetto la predizione \n                \n                System.out.println(&quot;Prediction:&quot;+in.readObject());\n    \n                    \n        \n                System.out.println(&quot;Vuoi ripetere predizione? Y/N&quot;);\n                c=Keyboard.readString();\n                \n            }while (c.toLowerCase().equals(&quot;y&quot;));   \n            System.out.println(&quot;Vuoi ripetere una nuova esecuzione con un nuovo oggetto KNN? (Y/N)&quot;);\n            menu=Keyboard.readString();\n        }\n        while(menu.toLowerCase().equals(&quot;y&quot;));\n        \n    }\n    public static void main(String[] args){\n        \n        InetAddress addr;\n        try {\n            addr = InetAddress.getByName(&quot;localhost&quot;);\n        } catch (UnknownHostException e) {\n            System.out.println(e.toString());\n            return;\n        }\n        \n        Client c;\n        try {\n            c=new Client(&quot;localhost&quot;, 2025);\n            \n        }  catch (IOException e) {\n            System.out.println(e.toString());\n            return;\n        } catch (NumberFormatException e) {\n            System.out.println(e.toString());\n            return;\n        } catch (ClassNotFoundException e) {\n            System.out.println(e.toString());\n            return;\n        }\n    }\n\n        \n\n\n}\n</code></pre>\n<p>Hope you can help me, for any doubt, i'm here!</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6097216"},"score":3,"creation_date":1458650341,"post_id":36154469,"comment_id":59946272,"body_markdown":"check this link : [enter link description here](http://stackoverflow.com/questions/3618122/does-an-object-in-java-have-any-memory-size-constraints)","body":"check this link : <a href=\"http://stackoverflow.com/questions/3618122/does-an-object-in-java-have-any-memory-size-constraints\">enter link description here</a>"}],"answers":[{"tags":[],"owner":{"account_id":27171,"reputation":9206,"user_id":71420,"accept_rate":87,"display_name":"Igor Konoplyanko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657698949,"creation_date":1458650353,"answer_id":36154636,"question_id":36154469,"body_markdown":"It depends on JRE which you are using. Whether you are using x64 - then more space your object will take.\r\n\r\nYou can use [JOL (Java Object Layout)](http://openjdk.java.net/projects/code-tools/jol/) to calculate how large will be your object.\r\n\r\nThis will give you an idea how much space it takes.","title":"Java largest object size in Heap","body":"<p>It depends on JRE which you are using. Whether you are using x64 - then more space your object will take.</p>\n<p>You can use <a href=\"http://openjdk.java.net/projects/code-tools/jol/\" rel=\"nofollow noreferrer\">JOL (Java Object Layout)</a> to calculate how large will be your object.</p>\n<p>This will give you an idea how much space it takes.</p>\n"},{"tags":[],"owner":{"display_name":"user6097216"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1458650535,"creation_date":1458650535,"answer_id":36154700,"question_id":36154469,"body_markdown":"Java Heap is limit for size of objects those you can have in system. \r\ncheck this link :\r\nhttps://stackoverflow.com/questions/3618122/does-an-object-in-java-have-any-memory-size-constraints","title":"Java largest object size in Heap","body":"<p>Java Heap is limit for size of objects those you can have in system. \ncheck this link :\n<a href=\"https://stackoverflow.com/questions/3618122/does-an-object-in-java-have-any-memory-size-constraints\">Does an object in java have any memory size constraints?</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1657704199,"creation_date":1458653307,"answer_id":36155687,"question_id":36154469,"body_markdown":"The **theoretical**&lt;sup&gt;1&lt;/sup&gt; largest single Java object you will be able to create (if you have a large enough heap) will be a `long[]` with 2&lt;sup&gt;31&lt;/sup&gt; - 1 elements.  That is 16GB.  In theory.\r\n\r\nBut the largest object you are going to be able to create for a given heap size is platform dependent.\r\n\r\n1.  In practice the maximum array length is JVM specific and is slightly less than 2&lt;sup&gt;31&lt;/sup&gt; - 1; see https://stackoverflow.com/questions/3038392\r\n\r\n2.  The JVM&#39;s heap is segmented into two or more &quot;spaces&quot;, and any given object must fit inside a single space&lt;sup&gt;1&lt;/sup&gt;.  An object that approaches the size of the entire heap is impossible because of this, and because various other heap-related overheads.\r\n\r\nThe default sizes of the various GC spaces are calculated by the memory manager, and I&#39;ve never come across a simple formula that predicts what the sizes will be.\r\n\r\nSo, if you really want to know the largest object you can allocate, then your best bet is to measure it experimentally.  Write a simple program that allocates successively larger arrays until you get an OOME.  But note that the answer you get will depend on your VM version and on the JVM command line options you use.\r\n\r\n------------\r\n\r\n&gt; Suppose, my application has only a single class and I&#39;m creating exactly a single object.\r\n\r\nYour `BigSingleObj` class is not actually allocating a large object at all.  The `HashMap` will start out small&lt;sup&gt;2&lt;/sup&gt;, and will automatically grow as entries are added to it.  \r\n\r\nFurthermore, the `HashMap` object is actually composed of a number of objects.  The largest of these will be the hash array, but the total size of the `HashMap` will be 5 or more times the size of that array.  And then you need to add the space occupied by the keys and values ... which in your case will depend on the string sizes.\r\n\r\nAll of this means that the size of largest allocatable object in Java is not a useful predictor of how many entries you can store in your big `HashMap`. \r\n\r\n------------\r\n\r\nAs [this answer][1] notes, you can use the JOL tool to determine the size of an instance of a given Java type. However, it relies on measuring the size of an instance (in various ways) rather than predicting what it would be.  In your example, it would give a misleading answer (see footnote 2) unless you populated the map before measuring it.\r\n\r\n------------\r\n\r\n&lt;sup&gt;1 - It is more complicated with G1GC.  It splits the old generation into many standard-sized regions that can be collected independently.  If an object is more than half the size of a standard region, G1GC classes it as &quot;humongous&quot;, and creates a &quot;humongous region&quot; to hold it.  This may trigger a full collection to (in effect) defragment at the region level.  Even so, the process of creating a humongous region may fail if the heap is already too close to full or too fragmented.&lt;br&gt;\r\n2 - Even if you supply a large `capacity` argument, current versions of `HashMap` will defer the allocation of the internal hash array until it is needed.&lt;/sup&gt;  \r\n\r\n\r\n  [1]: https://./src/java.base/share/classes/java/util/HashMap.java","title":"Java largest object size in Heap","body":"<p>The <strong>theoretical</strong><sup>1</sup> largest single Java object you will be able to create (if you have a large enough heap) will be a <code>long[]</code> with 2<sup>31</sup> - 1 elements.  That is 16GB.  In theory.</p>\n<p>But the largest object you are going to be able to create for a given heap size is platform dependent.</p>\n<ol>\n<li><p>In practice the maximum array length is JVM specific and is slightly less than 2<sup>31</sup> - 1; see <a href=\"https://stackoverflow.com/questions/3038392\">Do Java arrays have a maximum size?</a></p>\n</li>\n<li><p>The JVM's heap is segmented into two or more &quot;spaces&quot;, and any given object must fit inside a single space<sup>1</sup>.  An object that approaches the size of the entire heap is impossible because of this, and because various other heap-related overheads.</p>\n</li>\n</ol>\n<p>The default sizes of the various GC spaces are calculated by the memory manager, and I've never come across a simple formula that predicts what the sizes will be.</p>\n<p>So, if you really want to know the largest object you can allocate, then your best bet is to measure it experimentally.  Write a simple program that allocates successively larger arrays until you get an OOME.  But note that the answer you get will depend on your VM version and on the JVM command line options you use.</p>\n<hr />\n<blockquote>\n<p>Suppose, my application has only a single class and I'm creating exactly a single object.</p>\n</blockquote>\n<p>Your <code>BigSingleObj</code> class is not actually allocating a large object at all.  The <code>HashMap</code> will start out small<sup>2</sup>, and will automatically grow as entries are added to it.</p>\n<p>Furthermore, the <code>HashMap</code> object is actually composed of a number of objects.  The largest of these will be the hash array, but the total size of the <code>HashMap</code> will be 5 or more times the size of that array.  And then you need to add the space occupied by the keys and values ... which in your case will depend on the string sizes.</p>\n<p>All of this means that the size of largest allocatable object in Java is not a useful predictor of how many entries you can store in your big <code>HashMap</code>.</p>\n<hr />\n<p>As <a href=\"https://./src/java.base/share/classes/java/util/HashMap.java\" rel=\"nofollow noreferrer\">this answer</a> notes, you can use the JOL tool to determine the size of an instance of a given Java type. However, it relies on measuring the size of an instance (in various ways) rather than predicting what it would be.  In your example, it would give a misleading answer (see footnote 2) unless you populated the map before measuring it.</p>\n<hr />\n<p><sup>1 - It is more complicated with G1GC.  It splits the old generation into many standard-sized regions that can be collected independently.  If an object is more than half the size of a standard region, G1GC classes it as &quot;humongous&quot;, and creates a &quot;humongous region&quot; to hold it.  This may trigger a full collection to (in effect) defragment at the region level.  Even so, the process of creating a humongous region may fail if the heap is already too close to full or too fragmented.<br>\n2 - Even if you supply a large <code>capacity</code> argument, current versions of <code>HashMap</code> will defer the allocation of the internal hash array until it is needed.</sup></p>\n"}],"owner":{"account_id":4891569,"reputation":2250,"user_id":3942569,"accept_rate":100,"display_name":"mmuzahid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5651,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36155687,"answer_count":3,"score":4,"last_activity_date":1657704199,"creation_date":1458649895,"question_id":36154469,"body_markdown":"If I set the maximum Java heap size ``-Xmx512m``, when what is the possible maximum size for an single object?\r\n\r\nSuppose, my application has only a single class and I&#39;m creating exactly a single object.\r\n\r\nIs there any approximate size limit for that object?\r\n\r\nMy class looks something like the one below:\r\n\r\n    public class BigSingleObj {\r\n    \t//conf will contain thousand of String.\r\n    \tprivate Map&lt;String, String&gt; conf = new HashMap&lt;String, String&gt;();\r\n    \tpublic String getConf(String key) {\r\n    \t\treturn conf.get(key);\r\n    \t}\r\n    }\r\n\r\n\r\n**NOTE**\r\n\r\nAs I mentioned my JVM heap size, I&#39;m requesting to answer something quantitative.","title":"Java largest object size in Heap","body":"<p>If I set the maximum Java heap size <code>-Xmx512m</code>, when what is the possible maximum size for an single object?</p>\n\n<p>Suppose, my application has only a single class and I'm creating exactly a single object.</p>\n\n<p>Is there any approximate size limit for that object?</p>\n\n<p>My class looks something like the one below:</p>\n\n<pre><code>public class BigSingleObj {\n    //conf will contain thousand of String.\n    private Map&lt;String, String&gt; conf = new HashMap&lt;String, String&gt;();\n    public String getConf(String key) {\n        return conf.get(key);\n    }\n}\n</code></pre>\n\n<p><strong>NOTE</strong></p>\n\n<p>As I mentioned my JVM heap size, I'm requesting to answer something quantitative.</p>\n"},{"tags":["java","maven","gitlab-ci","testcontainers"],"comments":[{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1657022492,"post_id":72868752,"comment_id":128705983,"body_markdown":"What kind of Gitlab setup is this? Public cloud? On premise? Which executor?","body":"What kind of Gitlab setup is this? Public cloud? On premise? Which executor?"},{"owner":{"account_id":1211914,"reputation":931,"user_id":1180302,"accept_rate":60,"display_name":"neoerol"},"score":0,"creation_date":1657707661,"post_id":72868752,"comment_id":128872719,"body_markdown":"I am using public gitlab","body":"I am using public gitlab"},{"owner":{"account_id":4047491,"reputation":81,"user_id":3330380,"display_name":"Ahmed Mokhtar"},"score":0,"creation_date":1697706739,"post_id":72868752,"comment_id":136314533,"body_markdown":"i ran into the same issue, i am trying a solution is to specify docker:${version}-dind so i use `docker:24.0.6-dind`,  i will monitor the build to see if the issue rises again","body":"i ran into the same issue, i am trying a solution is to specify docker:${version}-dind so i use <code>docker:24.0.6-dind</code>,  i will monitor the build to see if the issue rises again"}],"answers":[{"tags":[],"owner":{"account_id":10334916,"reputation":823,"user_id":7623407,"display_name":"R10t--"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657651893,"creation_date":1657651893,"answer_id":72957094,"question_id":72868752,"body_markdown":"Just using the `maven:3.8.6-jdk-11-slim` image is not enough. You also need `docker` installed in your image. A very easy way to get docker is by just installing it manually in your pipeline:\r\n\r\n```\r\nbefore_script:\r\n    - curl -fsSL https://get.docker.com -o get-docker.sh\r\n    - bash ./get-docker.sh\r\n    - docker info\r\n```\r\n\r\nHowever, it would be much better if you installed docker in a custom docker image so that you aren&#39;t constantly installing docker on every pipeline run. You can do that with this dockerfile:\r\n\r\n```Dockerfile\r\nFROM maven:3.8.6-jdk-11-slim\r\nRUN curl -fsSL https://get.docker.com -o get-docker.sh\r\nRUN bash ./get-docker.sh\r\n```\r\n\r\nThe resulting image can then be uploaded to a registry and used instead of `maven:3.8.6-jdk-11-slim` without needing to install docker each time.","title":"TestContainers integration test on Gitlab CI","body":"<p>Just using the <code>maven:3.8.6-jdk-11-slim</code> image is not enough. You also need <code>docker</code> installed in your image. A very easy way to get docker is by just installing it manually in your pipeline:</p>\n<pre><code>before_script:\n    - curl -fsSL https://get.docker.com -o get-docker.sh\n    - bash ./get-docker.sh\n    - docker info\n</code></pre>\n<p>However, it would be much better if you installed docker in a custom docker image so that you aren't constantly installing docker on every pipeline run. You can do that with this dockerfile:</p>\n<pre><code>FROM maven:3.8.6-jdk-11-slim\nRUN curl -fsSL https://get.docker.com -o get-docker.sh\nRUN bash ./get-docker.sh\n</code></pre>\n<p>The resulting image can then be uploaded to a registry and used instead of <code>maven:3.8.6-jdk-11-slim</code> without needing to install docker each time.</p>\n"}],"owner":{"account_id":1211914,"reputation":931,"user_id":1180302,"accept_rate":60,"display_name":"neoerol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5031,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1657703905,"creation_date":1657020784,"question_id":72868752,"body_markdown":"I have java project which using testcontainers for integration test. I want to implement gitlab ci for that stage but I&#39;ve got that error\r\n\r\n    java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n\r\n\r\nThe project build successfully on local machine but gitlap ci docker couldn&#39;t start propeply\r\n\r\n\r\nHere a log output\r\n```\r\n\r\n[0KRunning with gitlab-runner 14.3.0 (b37d3da9)[0;m\r\n[0K  on Backend Docker runner 9L3Zko1w[0;m\r\nsection_start:1657698628:prepare_executor\r\n[0K[0K[36;1mPreparing the &quot;docker&quot; executor[0;m[0;m\r\n[0KUsing Docker executor with image maven:3.6.0-jdk-11-slim ...[0;m\r\n[0KStarting service docker:dind ...[0;m\r\n[0KPulling docker image docker:dind ...[0;m\r\n[0KUsing docker image sha256:232342342342 for docker:dind with digest docker@sha256:2342342342 ...[0;m\r\n[0KWaiting for services to be up and running...[0;m\r\n\r\n[0;33m*** WARNING:[0;m Service runner-23423423-docker-0 probably didn&#39;t start properly.\r\n\r\nHealth check error:\r\nservice &quot;runner-234234234-docker-0-wait-for-service&quot; timeout\r\n\r\nHealth check container logs:\r\n\r\n\r\nService container logs:\r\n2022-07-13T07:50:40.800780292Z ip: can&#39;t find device &#39;ip_tables&#39;\r\n2022-07-13T07:50:40.801898214Z ip_tables              32768  2 iptable_filter,iptable_nat\r\n2022-07-13T07:50:40.802546323Z x_tables               45056  5 xt_conntrack,xt_MASQUERADE,xt_addrtype,iptable_filter,ip_tables\r\n2022-07-13T07:50:40.802609399Z modprobe: can&#39;t change directory to &#39;/lib/modules&#39;: No such file or directory\r\n2022-07-13T07:50:40.806461330Z mount: permission denied (are you root?)\r\n2022-07-13T07:50:40.807019652Z Could not mount /sys/kernel/security.\r\n2022-07-13T07:50:40.807028026Z AppArmor detection and --privileged mode might break.\r\n2022-07-13T07:50:40.807931221Z mount: permission denied (are you root?)\r\n\r\n```\r\n\r\n\r\n\r\nhere is gitlab ci yaml\r\n\r\n\r\n``` # DinD service is required for Testcontainers\r\nservices:\r\n  - name: docker:dind\r\n    # explicitly disable tls to avoid docker startup interruption\r\n    command: [&quot;--tls=false&quot;]\r\nvariables:\r\n  # Instruct Testcontainers to use the daemon of DinD.\r\n  DOCKER_HOST: &quot;tcp://docker:2375&quot;\r\n  # Instruct Docker not to start over TLS.\r\n  DOCKER_TLS_CERTDIR: &quot;&quot;\r\n  # Improve performance with overlayfs.\r\n  DOCKER_DRIVER: overlay2\r\ntest:\r\n  image: maven:3.8.6-jdk-11-slim\r\n  stage: ⚙️ maven-build\r\n  before_script:\r\n    - docker info\r\n    - cp $MAVEN_SETTINGS_XML ~/.m2/settings.xml\r\n  script:\r\n    - mvn $MAVEN_CLI_OPTS clean verify\r\n\r\n\r\n\r\n","title":"TestContainers integration test on Gitlab CI","body":"<p>I have java project which using testcontainers for integration test. I want to implement gitlab ci for that stage but I've got that error</p>\n<pre><code>java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\n</code></pre>\n<p>The project build successfully on local machine but gitlap ci docker couldn't start propeply</p>\n<p>Here a log output</p>\n<pre><code>\n[0KRunning with gitlab-runner 14.3.0 (b37d3da9)[0;m\n[0K  on Backend Docker runner 9L3Zko1w[0;m\nsection_start:1657698628:prepare_executor\n[0K[0K[36;1mPreparing the &quot;docker&quot; executor[0;m[0;m\n[0KUsing Docker executor with image maven:3.6.0-jdk-11-slim ...[0;m\n[0KStarting service docker:dind ...[0;m\n[0KPulling docker image docker:dind ...[0;m\n[0KUsing docker image sha256:232342342342 for docker:dind with digest docker@sha256:2342342342 ...[0;m\n[0KWaiting for services to be up and running...[0;m\n\n[0;33m*** WARNING:[0;m Service runner-23423423-docker-0 probably didn't start properly.\n\nHealth check error:\nservice &quot;runner-234234234-docker-0-wait-for-service&quot; timeout\n\nHealth check container logs:\n\n\nService container logs:\n2022-07-13T07:50:40.800780292Z ip: can't find device 'ip_tables'\n2022-07-13T07:50:40.801898214Z ip_tables              32768  2 iptable_filter,iptable_nat\n2022-07-13T07:50:40.802546323Z x_tables               45056  5 xt_conntrack,xt_MASQUERADE,xt_addrtype,iptable_filter,ip_tables\n2022-07-13T07:50:40.802609399Z modprobe: can't change directory to '/lib/modules': No such file or directory\n2022-07-13T07:50:40.806461330Z mount: permission denied (are you root?)\n2022-07-13T07:50:40.807019652Z Could not mount /sys/kernel/security.\n2022-07-13T07:50:40.807028026Z AppArmor detection and --privileged mode might break.\n2022-07-13T07:50:40.807931221Z mount: permission denied (are you root?)\n\n</code></pre>\n<p>here is gitlab ci yaml</p>\n<pre><code>services:\n  - name: docker:dind\n    # explicitly disable tls to avoid docker startup interruption\n    command: [&quot;--tls=false&quot;]\nvariables:\n  # Instruct Testcontainers to use the daemon of DinD.\n  DOCKER_HOST: &quot;tcp://docker:2375&quot;\n  # Instruct Docker not to start over TLS.\n  DOCKER_TLS_CERTDIR: &quot;&quot;\n  # Improve performance with overlayfs.\n  DOCKER_DRIVER: overlay2\ntest:\n  image: maven:3.8.6-jdk-11-slim\n  stage: ⚙️ maven-build\n  before_script:\n    - docker info\n    - cp $MAVEN_SETTINGS_XML ~/.m2/settings.xml\n  script:\n    - mvn $MAVEN_CLI_OPTS clean verify\n\n\n\n</code></pre>\n"},{"tags":["java","mysql","database","prefix"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657702678,"post_id":72963493,"comment_id":128871016,"body_markdown":"What is supposedly `null`?","body":"What is supposedly <code>null</code>?"},{"owner":{"account_id":24046020,"reputation":1,"user_id":18025013,"display_name":"Ancheta Laurent Antoine C"},"score":0,"creation_date":1657702886,"post_id":72963493,"comment_id":128871089,"body_markdown":"@XtremeBaumer it output this error -&gt; No value specified for parameter 1. which is I think is the variable `lastid`","body":"@XtremeBaumer it output this error -&gt; No value specified for parameter 1. which is I think is the variable <code>lastid</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657703125,"post_id":72963493,"comment_id":128871189,"body_markdown":"print `lastid` to verify it","body":"print <code>lastid</code> to verify it"},{"owner":{"account_id":24046020,"reputation":1,"user_id":18025013,"display_name":"Ancheta Laurent Antoine C"},"score":0,"creation_date":1657703236,"post_id":72963493,"comment_id":128871228,"body_markdown":"@XtremeBaumer is just the same as what is in my code. It&#39;s just different syntax","body":"@XtremeBaumer is just the same as what is in my code. It&#39;s just different syntax"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657703317,"post_id":72963493,"comment_id":128871253,"body_markdown":"You think `lastid` is null. Have you verified it? - Also, it can&#39;t be null, as its an primitive `int` which is always at least `0` and never null. So find out what exactly is null and return with that information","body":"You think <code>lastid</code> is null. Have you verified it? - Also, it can&#39;t be null, as its an primitive <code>int</code> which is always at least <code>0</code> and never null. So find out what exactly is null and return with that information"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657703986,"post_id":72963493,"comment_id":128871499,"body_markdown":"`if(generatedKeyResult.next())` have you checked if that `if` is ever entered? I guess that you statement does not return any generated keys, which might be cause by your trigger creating or altering the value","body":"<code>if(generatedKeyResult.next())</code> have you checked if that <code>if</code> is ever entered? I guess that you statement does not return any generated keys, which might be cause by your trigger creating or altering the value"},{"owner":{"account_id":24046020,"reputation":1,"user_id":18025013,"display_name":"Ancheta Laurent Antoine C"},"score":0,"creation_date":1657704059,"post_id":72963493,"comment_id":128871526,"body_markdown":"@XtremeBaumer Im sorry with the confusion, it always return 0 instead if the code ends before `Sell sell = new Sell();` while in the database I&#39;ve already entered 3 data items. So it should be `SIN0000003` and when I run the whole code it outputs an error No value specified for parameter 1","body":"@XtremeBaumer Im sorry with the confusion, it always return 0 instead if the code ends before <code>Sell sell = new Sell();</code> while in the database I&#39;ve already entered 3 data items. So it should be <code>SIN0000003</code> and when I run the whole code it outputs an error No value specified for parameter 1"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657704185,"post_id":72963493,"comment_id":128871569,"body_markdown":"Please show table schema. Do you want the ID of the insert?","body":"Please show table schema. Do you want the ID of the insert?"},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":0,"creation_date":1657704351,"post_id":72963493,"comment_id":128871617,"body_markdown":"@AnchetaLaurentAntoineC What is Sell class?","body":"@AnchetaLaurentAntoineC What is Sell class?"},{"owner":{"account_id":24046020,"reputation":1,"user_id":18025013,"display_name":"Ancheta Laurent Antoine C"},"score":0,"creation_date":1657704449,"post_id":72963493,"comment_id":128871655,"body_markdown":"@XtremeBaumer im thinking of that whole day around. im not really sure because the `sales` table has all the columns that needs to fulfill while the another table was for only the `sales_number`. Its just shakes my head","body":"@XtremeBaumer im thinking of that whole day around. im not really sure because the <code>sales</code> table has all the columns that needs to fulfill while the another table was for only the <code>sales_number</code>. Its just shakes my head"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657704562,"post_id":72963493,"comment_id":128871703,"body_markdown":"As Bohemian said, provide the table schema. Also could help to include the full stacktrace in the question","body":"As Bohemian said, provide the table schema. Also could help to include the full stacktrace in the question"},{"owner":{"account_id":24046020,"reputation":1,"user_id":18025013,"display_name":"Ancheta Laurent Antoine C"},"score":0,"creation_date":1657704611,"post_id":72963493,"comment_id":128871711,"body_markdown":"@DrishtiJain this is where you input the barcode of a certain item.product then quantity then when you click the button `Process` it will proceed to the `Payment` class which is the code above belong","body":"@DrishtiJain this is where you input the barcode of a certain item.product then quantity then when you click the button <code>Process</code> it will proceed to the <code>Payment</code> class which is the code above belong"}],"owner":{"account_id":24046020,"reputation":1,"user_id":18025013,"display_name":"Ancheta Laurent Antoine C"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657703709,"creation_date":1657702541,"question_id":72963493,"body_markdown":"I want to get the last inserted id but it has a prefix on it like for example &quot;SIN0000001&quot;\r\nand when I enter this code it creates an error that says No value specified for parameter 1.\r\n\r\nIt should pop up a GUI which says \r\n\r\n&gt; Successfully recorded!\r\n\r\nbut it only saves the data directly to the database and outputs an error.\r\n\r\nSuccesfully recorded!\r\n\r\nI&#39;ve also used triggers in my database to have prefixes in my id.\r\n\r\nThese are my two tables.\r\n[sales][1] and [sales_seq][2]\r\n\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n        LocalDateTime now = LocalDateTime.now();\r\n        String date = dtf.format(now);\r\n        \r\n        String amount_due = jTextField_amountDuePayment.getText();\r\n        String cash = jTextField_cash.getText();\r\n        String balance = jTextField_balance.getText();\r\n        int lastid = 0;\r\n        \r\n        try {\r\n            String sale_query = &quot;INSERT INTO dnk_database.sales (`date`, `amount_due`, `cash`,  `balance`) VALUES (?,?,?,?);&quot;;\r\n            pst = con.prepareStatement(sale_query, Statement.RETURN_GENERATED_KEYS);\r\n            pst.setString(1, date);\r\n            pst.setString(2, amount_due);\r\n            pst.setString(3, cash);\r\n            pst.setString(4, balance);\r\n            pst.executeUpdate();\r\n            \r\n            ResultSet generatedKeyResult = pst.getGeneratedKeys();\r\n            \r\n            if(generatedKeyResult.next()){\r\n                lastid = generatedKeyResult.getInt(1);\r\n            }\r\n            \r\n            Sell sell = new Sell();\r\n            int rows = sell.jTable_itemList.getRowCount();\r\n            \r\n            String product_query = &quot;INSERT INTO dnk_database.product_sales (`sales_number`, `product_barcode`, `sell_price`,  `quantity`,  `total`) VALUES (?,?,?,?,?);&quot;;\r\n            pst = con.prepareStatement(product_query);\r\n            \r\n            String product_barcode = &quot;&quot;;\r\n            String price = &quot;&quot;;\r\n            String qty = &quot;&quot;;\r\n            int total = 0;\r\n            \r\n            for(int i = 0; i &lt; sell.jTable_itemList.getRowCount(); i++){\r\n                product_barcode = (String)sell.jTable_itemList.getValueAt(i, 0);\r\n                price = (String)sell.jTable_itemList.getValueAt(i, 2);\r\n                qty = (String)sell.jTable_itemList.getValueAt(i, 3);\r\n                total = (int)sell.jTable_itemList.getValueAt(i, 4);\r\n                \r\n                pst.setInt(1, lastid);\r\n                pst.setString(2, product_barcode);\r\n                pst.setString(3, price);\r\n                pst.setString(4, qty);\r\n                pst.setInt(5, total);\r\n                pst.executeUpdate();\r\n            }\r\n            \r\n            pst.addBatch();\r\n            JOptionPane.showMessageDialog(this, &quot;Succesfully recorded!&quot;);\r\n            \r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(Payment.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c47GN.png\r\n  [2]: https://i.stack.imgur.com/ZLCfd.png","title":"Is there a way on how to get the last inserted id that has prefix?","body":"<p>I want to get the last inserted id but it has a prefix on it like for example &quot;SIN0000001&quot;\nand when I enter this code it creates an error that says No value specified for parameter 1.</p>\n<p>It should pop up a GUI which says</p>\n<blockquote>\n<p>Successfully recorded!</p>\n</blockquote>\n<p>but it only saves the data directly to the database and outputs an error.</p>\n<p>Succesfully recorded!</p>\n<p>I've also used triggers in my database to have prefixes in my id.</p>\n<p>These are my two tables.\n<a href=\"https://i.stack.imgur.com/c47GN.png\" rel=\"nofollow noreferrer\">sales</a> and <a href=\"https://i.stack.imgur.com/ZLCfd.png\" rel=\"nofollow noreferrer\">sales_seq</a></p>\n<pre><code>    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\n    LocalDateTime now = LocalDateTime.now();\n    String date = dtf.format(now);\n    \n    String amount_due = jTextField_amountDuePayment.getText();\n    String cash = jTextField_cash.getText();\n    String balance = jTextField_balance.getText();\n    int lastid = 0;\n    \n    try {\n        String sale_query = &quot;INSERT INTO dnk_database.sales (`date`, `amount_due`, `cash`,  `balance`) VALUES (?,?,?,?);&quot;;\n        pst = con.prepareStatement(sale_query, Statement.RETURN_GENERATED_KEYS);\n        pst.setString(1, date);\n        pst.setString(2, amount_due);\n        pst.setString(3, cash);\n        pst.setString(4, balance);\n        pst.executeUpdate();\n        \n        ResultSet generatedKeyResult = pst.getGeneratedKeys();\n        \n        if(generatedKeyResult.next()){\n            lastid = generatedKeyResult.getInt(1);\n        }\n        \n        Sell sell = new Sell();\n        int rows = sell.jTable_itemList.getRowCount();\n        \n        String product_query = &quot;INSERT INTO dnk_database.product_sales (`sales_number`, `product_barcode`, `sell_price`,  `quantity`,  `total`) VALUES (?,?,?,?,?);&quot;;\n        pst = con.prepareStatement(product_query);\n        \n        String product_barcode = &quot;&quot;;\n        String price = &quot;&quot;;\n        String qty = &quot;&quot;;\n        int total = 0;\n        \n        for(int i = 0; i &lt; sell.jTable_itemList.getRowCount(); i++){\n            product_barcode = (String)sell.jTable_itemList.getValueAt(i, 0);\n            price = (String)sell.jTable_itemList.getValueAt(i, 2);\n            qty = (String)sell.jTable_itemList.getValueAt(i, 3);\n            total = (int)sell.jTable_itemList.getValueAt(i, 4);\n            \n            pst.setInt(1, lastid);\n            pst.setString(2, product_barcode);\n            pst.setString(3, price);\n            pst.setString(4, qty);\n            pst.setInt(5, total);\n            pst.executeUpdate();\n        }\n        \n        pst.addBatch();\n        JOptionPane.showMessageDialog(this, &quot;Succesfully recorded!&quot;);\n        \n    } catch (SQLException ex) {\n        Logger.getLogger(Payment.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","path","io","inputstream","relative-path"],"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":2,"creation_date":1318017730,"post_id":7692298,"comment_id":9352065,"body_markdown":"Thats not a relative path. That&#39;s an absolute path.","body":"Thats not a relative path. That&#39;s an absolute path."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1318017692,"creation_date":1318017692,"answer_id":7692316,"question_id":7692298,"body_markdown":"Use [`FileInputStream`](http://download.oracle.com/javase/6/docs/api/java/io/FileInputStream.html):\r\n\r\n    InputStream is = new FileInputStream(&quot;/res/example.xls&quot;);\r\n\r\nBut never read from raw file input stream as this is terribly slow. Wrap it with buffering decorator first:\r\n\r\n    new BufferedInputStream(is);\r\n\r\nBTW leading slash means that the path is **absolute**, not relative.","title":"InputStream from relative path","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/FileInputStream.html\" rel=\"noreferrer\"><code>FileInputStream</code></a>:</p>\n\n<pre><code>InputStream is = new FileInputStream(\"/res/example.xls\");\n</code></pre>\n\n<p>But never read from raw file input stream as this is terribly slow. Wrap it with buffering decorator first:</p>\n\n<pre><code>new BufferedInputStream(is);\n</code></pre>\n\n<p>BTW leading slash means that the path is <strong>absolute</strong>, not relative.</p>\n"},{"tags":[],"owner":{"account_id":434913,"reputation":3251,"user_id":821202,"display_name":"michael667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318017735,"creation_date":1318017735,"answer_id":7692322,"question_id":7692298,"body_markdown":"`new FileInputStream(&quot;your_relative_path&quot;)` will be relative to the current working directory.","title":"InputStream from relative path","body":"<p><code>new FileInputStream(\"your_relative_path\")</code> will be relative to the current working directory.</p>\n"},{"tags":[],"owner":{"account_id":4406471,"reputation":86,"user_id":3590735,"display_name":"Christian Ceballos"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1539876287,"creation_date":1409720270,"answer_id":25636523,"question_id":7692298,"body_markdown":"Initialize a variable like: `Path filePath`, and then:\r\n\r\n    FileInputStream fileStream;\r\n\ttry {\r\n\t    fileStream = new FileInputStream(filePath.toFile());\r\n    } catch (Exception e) {\r\n\t\tthrow new RuntimeException(e);\r\n\t}\r\n\r\nDone !\r\nUsing Path you can have access to many useful methods.","title":"InputStream from relative path","body":"<p>Initialize a variable like: <code>Path filePath</code>, and then:</p>\n\n<pre><code>FileInputStream fileStream;\ntry {\n    fileStream = new FileInputStream(filePath.toFile());\n} catch (Exception e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n\n<p>Done !\nUsing Path you can have access to many useful methods.</p>\n"},{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1469900278,"creation_date":1469900278,"answer_id":38676717,"question_id":7692298,"body_markdown":"    InputStream inputStream = Files.newInputStream(Path);","title":"InputStream from relative path","body":"<pre><code>InputStream inputStream = Files.newInputStream(Path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657703688,"creation_date":1657703688,"answer_id":72963736,"question_id":7692298,"body_markdown":"Found this to be more elegant and less typing.\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    InputStream inputStream = Files.newInputStream(Paths.get(&quot;src/test/resources/sampleFile.csv&quot;));\r\n\r\nNote: In my case, file was very small (used for Unit Tests), but prefer to use BufferedInputStream for better efficiency.","title":"InputStream from relative path","body":"<p>Found this to be more elegant and less typing.</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\nInputStream inputStream = Files.newInputStream(Paths.get(&quot;src/test/resources/sampleFile.csv&quot;));\n</code></pre>\n<p>Note: In my case, file was very small (used for Unit Tests), but prefer to use BufferedInputStream for better efficiency.</p>\n"}],"owner":{"account_id":467160,"reputation":11163,"user_id":872344,"accept_rate":72,"display_name":"Allan Jiang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140938,"favorite_count":0,"down_vote_count":1,"up_vote_count":68,"accepted_answer_id":7692316,"answer_count":5,"score":67,"last_activity_date":1657703688,"creation_date":1318017562,"question_id":7692298,"body_markdown":"I have a **relative file path** (for example &quot;/res/example.xls&quot;) and I would like to get an **InputStream** Object of that file from that path. \r\n\r\nI checked the `JavaDoc` and did not find a constructor or method to get such an InputStream from a path/\r\n\r\nAnyone has any idea? Please let me know!","title":"InputStream from relative path","body":"<p>I have a <strong>relative file path</strong> (for example &quot;/res/example.xls&quot;) and I would like to get an <strong>InputStream</strong> Object of that file from that path.</p>\n<p>I checked the <code>JavaDoc</code> and did not find a constructor or method to get such an InputStream from a path/</p>\n<p>Anyone has any idea? Please let me know!</p>\n"},{"tags":["java","spring","junit","drools"],"comments":[{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1489556328,"post_id":42799850,"comment_id":72717204,"body_markdown":"I doubt that HelloController&#39;s method `metadata&#39; is executed. Add a println to ascertain that the insert is executed. Also, put some code into the consequence of  &quot;Another rule&quot; to count the facts in WM and add that number to the message.","body":"I doubt that HelloController&#39;s method `metadata&#39; is executed. Add a println to ascertain that the insert is executed. Also, put some code into the consequence of  &quot;Another rule&quot; to count the facts in WM and add that number to the message."},{"owner":{"account_id":5509697,"reputation":480,"user_id":4376415,"display_name":"Rabbit"},"score":0,"creation_date":1489561620,"post_id":42799850,"comment_id":72719367,"body_markdown":"The log shows that &quot;insert&quot; has bean executed.","body":"The log shows that &quot;insert&quot; has bean executed."},{"owner":{"account_id":5509697,"reputation":480,"user_id":4376415,"display_name":"Rabbit"},"score":0,"creation_date":1489561979,"post_id":42799850,"comment_id":72719548,"body_markdown":"Add a more detail here:     When I code &quot;sessionStatefull.setGlobal(...&quot;  ,it report an error:java.lang.RuntimeException: Illegal class for global. Expected [com.happylifeplat.checkin.utils.DroolsOutputUtil], found [com.happylifeplat.checkin.utils.DroolsOutputUtil].        Looks like that the object in the project are not in drools system&#39;s space.        Any operations to put beans in drl file will fail.","body":"Add a more detail here:     When I code &quot;sessionStatefull.setGlobal(...&quot;  ,it report an error:java.lang.RuntimeException: Illegal class for global. Expected [com.happylifeplat.checkin.utils.DroolsOutputUtil], found [com.happylifeplat.checkin.utils.DroolsOutputUtil].        Looks like that the object in the project are not in drools system&#39;s space.        Any operations to put beans in drl file will fail."},{"owner":{"account_id":5509697,"reputation":480,"user_id":4376415,"display_name":"Rabbit"},"score":0,"creation_date":1489566403,"post_id":42799850,"comment_id":72721823,"body_markdown":"Here is another important point:    When i &quot;mvn package &quot; the project,then use &quot;java -jar&quot; to run this jar file,and send http request , Everything is alright. the &quot;Hello World&quot; Rule run!   I think it is because of my Intellj Idea.(jboss&#39;s doc recommended eclipse)","body":"Here is another important point:    When i &quot;mvn package &quot; the project,then use &quot;java -jar&quot; to run this jar file,and send http request , Everything is alright. the &quot;Hello World&quot; Rule run!   I think it is because of my Intellj Idea.(jboss&#39;s doc recommended eclipse)"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1489574071,"post_id":42799850,"comment_id":72726907,"body_markdown":"Use code in the consequence of the rule that does fire to list the class names of all facts in working memory.","body":"Use code in the consequence of the rule that does fire to list the class names of all facts in working memory."},{"owner":{"account_id":5509697,"reputation":480,"user_id":4376415,"display_name":"Rabbit"},"score":0,"creation_date":1489628195,"post_id":42799850,"comment_id":72758861,"body_markdown":"@laune how to do the &quot;list all facts&quot;,can you show me please?","body":"@laune how to do the &quot;list all facts&quot;,can you show me please?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1489641862,"post_id":42799850,"comment_id":72762644,"body_markdown":"Iterate `kcontext.getKieRuntime().getObjects()`.","body":"Iterate <code>kcontext.getKieRuntime().getObjects()</code>."},{"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"score":0,"creation_date":1557765026,"post_id":42799850,"comment_id":98866243,"body_markdown":"Possible duplicate of [Drools doesn&#39;t work with spring-boot-devtools](https://stackoverflow.com/questions/55373809/drools-doesnt-work-with-spring-boot-devtools)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/55373809/drools-doesnt-work-with-spring-boot-devtools\">Drools doesn&#39;t work with spring-boot-devtools</a>"}],"answers":[{"tags":[],"owner":{"account_id":5509697,"reputation":480,"user_id":4376415,"display_name":"Rabbit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1490335205,"creation_date":1490322720,"answer_id":42990405,"question_id":42799850,"body_markdown":"Finally a friend helped me.\r\nIt is because the &quot;hot deployment&quot;.\r\nclose it ,then problem solved.\r\n\r\nIt is in pom.xml:\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;","title":"Drools rule does&#39;t working in Spring Boot Controller but working in Junit Test","body":"<p>Finally a friend helped me.\nIt is because the \"hot deployment\".\nclose it ,then problem solved.</p>\n\n<p>It is in pom.xml:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5003616,"reputation":211,"user_id":4021854,"display_name":"Lalchand Mali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542023869,"creation_date":1542004105,"answer_id":53256906,"question_id":42799850,"body_markdown":"I also faced the same issue.\r\nThe reason in my case was a conflict due to the dev-tools dependency.\r\nAfter removing the conflicted dependency, it started working for me.","title":"Drools rule does&#39;t working in Spring Boot Controller but working in Junit Test","body":"<p>I also faced the same issue.\nThe reason in my case was a conflict due to the dev-tools dependency.\nAfter removing the conflicted dependency, it started working for me.</p>\n"},{"tags":[],"owner":{"account_id":274578,"reputation":37,"user_id":4551668,"display_name":"Manjunath Ch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567544795,"creation_date":1567544795,"answer_id":57778741,"question_id":42799850,"body_markdown":"We can still use dev-tools by adding this line`restart.include.dools=/(drools|kie)\\-.*\\.jar` in META-INF/spring-devtools.properties file in resources folder.","title":"Drools rule does&#39;t working in Spring Boot Controller but working in Junit Test","body":"<p>We can still use dev-tools by adding this line<code>restart.include.dools=/(drools|kie)\\-.*\\.jar</code> in META-INF/spring-devtools.properties file in resources folder.</p>\n"},{"tags":[],"owner":{"account_id":21521393,"reputation":1,"user_id":15862493,"display_name":"Chandrakant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620384957,"creation_date":1620384957,"answer_id":67433656,"question_id":42799850,"body_markdown":"I removed this dependency its working \r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Drools rule does&#39;t working in Spring Boot Controller but working in Junit Test","body":"<p>I removed this dependency its working</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5509697,"reputation":480,"user_id":4376415,"display_name":"Rabbit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42990405,"answer_count":4,"score":0,"last_activity_date":1657703462,"creation_date":1489543294,"question_id":42799850,"body_markdown":"On my first day to learn drools.I got this weird problem.\r\n\r\nrule &quot;**Hello World**&quot; in drl cannot run in Controller,but working well in     Junit test case.\r\nrule &quot;**Another rule**&quot; always run on both Controller and Junit test.\r\n\r\nthe code in controller and junit test are same totally.\r\n\r\nAnyone who have idea is welcome. \r\nthanks .\r\n\r\n\r\n----------\r\n\r\n\r\n*Sample.drl:*\r\n\r\n    package com.happylifeplat.checkin\r\n\r\n    import com.happylifeplat.checkin.managerorder.beans.RaBean1;\r\n\r\n    rule &quot;Hello World&quot;\r\n       when\r\n           $h : RaBean1( id == 1)\r\n       then\r\n           $h.setContent(&quot;from drl content&quot;);\r\n           System.out.println(&quot;-----Hello World rule called  id == 1&quot;);\r\n    end\r\n\r\n    rule &quot;Another rule&quot;\r\n       when\r\n       then\r\n           System.out.println(&quot;-----Another rule called&quot;);\r\n    end\r\n\r\nkmodule.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;kmodule xmlns=&quot;http://jboss.org/kie/6.0.0/kmodule&quot;&gt;\r\n        &lt;kbase name=&quot;rules&quot; packages=&quot;rules&quot;&gt;\r\n            &lt;ksession name=&quot;ksession-rules&quot;/&gt;\r\n        &lt;/kbase&gt;\r\n    &lt;/kmodule&gt;\r\n\r\nRaBean1.java:\r\n\r\n    package com.happylifeplat.checkin.managerorder.beans;\r\n\r\n    public class RaBean1 {\r\n        private int id;\r\n        private String content;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getContent() {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent(String content) {\r\n            this.content = content;\r\n        }\r\n    }\r\nHelloController.java:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public class HelloController {\r\n    \r\n        private static KieContainer kieContainer;\r\n        private KieSession sessionStatefull = null;\r\n    \r\n        @RequestMapping(value = &quot;/helloworld&quot;, method = RequestMethod.GET)\r\n        @ApiOperation(value = &quot;hello&quot;)\r\n        public Result metadata() {\r\n            try {\r\n                if (kieContainer == null) {\r\n                    kieContainer = KnowledgeSessionHelper.createRuleBase();\r\n                }\r\n                sessionStatefull = KnowledgeSessionHelper.getStatefulKnowledgeSessionWithCallback(kieContainer, &quot;ksession-rules&quot;);\r\n                RaBean1 bean1 = new RaBean1();\r\n                bean1.setId(1);\r\n                bean1.setContent(&quot;default content&quot;);\r\n                sessionStatefull.insert(bean1);\r\n                sessionStatefull.fireAllRules();\r\n                return new Result(CommonCode.sussess, bean1.getContent());\r\n            } catch (Exception e) {\r\n                return new Result(CommonCode.fail, null);\r\n            }\r\n        }\r\n    }\r\n\r\nHelloControllerTest.java:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = Application.class)\r\n    @ImportResource({&quot;classpath:spring/applicationContext.xml&quot;})\r\n    @IntegrationTest(&quot;server.port=0&quot;)\r\n    @WebAppConfiguration\r\n    public class HelloControllerTest {\r\n        private static final Logger log = LoggerFactory.getLogger(HelloControllerTest.class);\r\n        private MockMvc mockMvc;\r\n        private static KieContainer kieContainer;\r\n        private KieSession sessionStatefull = null;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n    //        mockMvc = MockMvcBuilders.standaloneSetup(managerOrderController).build();\r\n        }\r\n    \r\n        @Test\r\n        public void helloTest() throws Exception {\r\n            if (kieContainer == null) {\r\n                kieContainer = KnowledgeSessionHelper.createRuleBase();\r\n            }\r\n            sessionStatefull = KnowledgeSessionHelper.getStatefulKnowledgeSessionWithCallback(kieContainer, &quot;ksession-rules&quot;);\r\n            RaBean1 bean1 = new RaBean1();\r\n            bean1.setId(1);\r\n            bean1.setContent(&quot;default content&quot;);\r\n            sessionStatefull.insert(bean1);\r\n            sessionStatefull.fireAllRules();\r\n            System.out.println(&quot;rabean.getContent----&gt;&quot;+bean1.getContent());\r\n        }\r\n    }","title":"Drools rule does&#39;t working in Spring Boot Controller but working in Junit Test","body":"<p>On my first day to learn drools.I got this weird problem.</p>\n\n<p>rule \"<strong>Hello World</strong>\" in drl cannot run in Controller,but working well in     Junit test case.\nrule \"<strong>Another rule</strong>\" always run on both Controller and Junit test.</p>\n\n<p>the code in controller and junit test are same totally.</p>\n\n<p>Anyone who have idea is welcome. \nthanks .</p>\n\n<hr>\n\n<p><em>Sample.drl:</em></p>\n\n<pre><code>package com.happylifeplat.checkin\n\nimport com.happylifeplat.checkin.managerorder.beans.RaBean1;\n\nrule \"Hello World\"\n   when\n       $h : RaBean1( id == 1)\n   then\n       $h.setContent(\"from drl content\");\n       System.out.println(\"-----Hello World rule called  id == 1\");\nend\n\nrule \"Another rule\"\n   when\n   then\n       System.out.println(\"-----Another rule called\");\nend\n</code></pre>\n\n<p>kmodule.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;kmodule xmlns=\"http://jboss.org/kie/6.0.0/kmodule\"&gt;\n    &lt;kbase name=\"rules\" packages=\"rules\"&gt;\n        &lt;ksession name=\"ksession-rules\"/&gt;\n    &lt;/kbase&gt;\n&lt;/kmodule&gt;\n</code></pre>\n\n<p>RaBean1.java:</p>\n\n<pre><code>package com.happylifeplat.checkin.managerorder.beans;\n\npublic class RaBean1 {\n    private int id;\n    private String content;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n}\n</code></pre>\n\n<p>HelloController.java:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/hello\")\npublic class HelloController {\n\n    private static KieContainer kieContainer;\n    private KieSession sessionStatefull = null;\n\n    @RequestMapping(value = \"/helloworld\", method = RequestMethod.GET)\n    @ApiOperation(value = \"hello\")\n    public Result metadata() {\n        try {\n            if (kieContainer == null) {\n                kieContainer = KnowledgeSessionHelper.createRuleBase();\n            }\n            sessionStatefull = KnowledgeSessionHelper.getStatefulKnowledgeSessionWithCallback(kieContainer, \"ksession-rules\");\n            RaBean1 bean1 = new RaBean1();\n            bean1.setId(1);\n            bean1.setContent(\"default content\");\n            sessionStatefull.insert(bean1);\n            sessionStatefull.fireAllRules();\n            return new Result(CommonCode.sussess, bean1.getContent());\n        } catch (Exception e) {\n            return new Result(CommonCode.fail, null);\n        }\n    }\n}\n</code></pre>\n\n<p>HelloControllerTest.java:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = Application.class)\n@ImportResource({\"classpath:spring/applicationContext.xml\"})\n@IntegrationTest(\"server.port=0\")\n@WebAppConfiguration\npublic class HelloControllerTest {\n    private static final Logger log = LoggerFactory.getLogger(HelloControllerTest.class);\n    private MockMvc mockMvc;\n    private static KieContainer kieContainer;\n    private KieSession sessionStatefull = null;\n\n    @Before\n    public void setUp() throws Exception {\n//        mockMvc = MockMvcBuilders.standaloneSetup(managerOrderController).build();\n    }\n\n    @Test\n    public void helloTest() throws Exception {\n        if (kieContainer == null) {\n            kieContainer = KnowledgeSessionHelper.createRuleBase();\n        }\n        sessionStatefull = KnowledgeSessionHelper.getStatefulKnowledgeSessionWithCallback(kieContainer, \"ksession-rules\");\n        RaBean1 bean1 = new RaBean1();\n        bean1.setId(1);\n        bean1.setContent(\"default content\");\n        sessionStatefull.insert(bean1);\n        sessionStatefull.fireAllRules();\n        System.out.println(\"rabean.getContent----&gt;\"+bean1.getContent());\n    }\n}\n</code></pre>\n"},{"tags":["java","datagrid","log4j2","infinispan","helm3"],"answers":[{"tags":[],"owner":{"account_id":17082628,"reputation":381,"user_id":12360697,"display_name":"Ryan Emerson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657703420,"creation_date":1657703420,"answer_id":72963684,"question_id":72951489,"body_markdown":"The Infinispan server image allows dependencies to be resolved on startup via http/ftp/maven by specifying the `SERVER_LIBS` env variable with space separated artifacts. [More details here][1]\r\n\r\nIt&#39;s possible to modify the `templates/statefulset.yaml` to include the following env var `SERVER_LIBS=com.lmax:disruptor:3.4.2` in the &quot;infinispan&quot; container. This will result in the artifact being downloaded to each of the StatefulSet pods.\r\n\r\n\r\n  [1]: https://github.com/infinispan/infinispan-images#deploying-artifacts-to-the-server-lib-directory","title":"How to add Asynchronous Loggers to Infinispan 13 using Helm","body":"<p>The Infinispan server image allows dependencies to be resolved on startup via http/ftp/maven by specifying the <code>SERVER_LIBS</code> env variable with space separated artifacts. <a href=\"https://github.com/infinispan/infinispan-images#deploying-artifacts-to-the-server-lib-directory\" rel=\"nofollow noreferrer\">More details here</a></p>\n<p>It's possible to modify the <code>templates/statefulset.yaml</code> to include the following env var <code>SERVER_LIBS=com.lmax:disruptor:3.4.2</code> in the &quot;infinispan&quot; container. This will result in the artifact being downloaded to each of the StatefulSet pods.</p>\n"}],"owner":{"account_id":8610136,"reputation":11,"user_id":6463121,"display_name":"Alexis C. C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657703420,"creation_date":1657624880,"question_id":72951489,"body_markdown":"I am trying to Add Asynchronous Logger to Infinispan Server using helm. \r\nWe follow this guide https://logging.apache.org/log4j/log4j-2.3/manual/async.html to do this. But unfortunately we got the following error.\r\n```sh\r\nmain ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.async.AsyncLoggerConfig for element AsyncLogger: java.lang.NoClassDefFoundError: com/lmax/disruptor/EventHandler java.lang.reflect.InvocationTargetException\r\n...\r\nCaused by: java.lang.ClassNotFoundException: com.lmax.disruptor.EventHandler\r\n```\r\n\r\nI found a solution here https://mkyong.com/logging/log4j-2-java-lang-noclassdeffounderror-com-lmax-disruptor-eventtranslatorvararg/ \r\n\r\nBut I am using helm https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/data-grid/8.3.1 to deploy the Server.\r\n\r\nThe question is **&quot;How I can add a dependency to our Server using Helm template. It is possible?&quot;** \r\n\r\nThanks for your time\r\n\r\nAlexis.","title":"How to add Asynchronous Loggers to Infinispan 13 using Helm","body":"<p>I am trying to Add Asynchronous Logger to Infinispan Server using helm.\nWe follow this guide <a href=\"https://logging.apache.org/log4j/log4j-2.3/manual/async.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/log4j-2.3/manual/async.html</a> to do this. But unfortunately we got the following error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.async.AsyncLoggerConfig for element AsyncLogger: java.lang.NoClassDefFoundError: com/lmax/disruptor/EventHandler java.lang.reflect.InvocationTargetException\n...\nCaused by: java.lang.ClassNotFoundException: com.lmax.disruptor.EventHandler\n</code></pre>\n<p>I found a solution here <a href=\"https://mkyong.com/logging/log4j-2-java-lang-noclassdeffounderror-com-lmax-disruptor-eventtranslatorvararg/\" rel=\"nofollow noreferrer\">https://mkyong.com/logging/log4j-2-java-lang-noclassdeffounderror-com-lmax-disruptor-eventtranslatorvararg/</a></p>\n<p>But I am using helm <a href=\"https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/data-grid/8.3.1\" rel=\"nofollow noreferrer\">https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/data-grid/8.3.1</a> to deploy the Server.</p>\n<p>The question is <strong>&quot;How I can add a dependency to our Server using Helm template. It is possible?&quot;</strong></p>\n<p>Thanks for your time</p>\n<p>Alexis.</p>\n"},{"tags":["java","oracle11g","weblogic","web-deployment","thin-client"],"answers":[{"tags":[],"owner":{"account_id":6254420,"reputation":356,"user_id":4863482,"accept_rate":85,"display_name":"tinnapat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657703362,"creation_date":1657703362,"answer_id":72963679,"question_id":72957261,"body_markdown":"Refer to https://www.baeldung.com/java-jdbc-url-format. URL for connect to Oracle using service name is \r\n\r\n    jdbc:oracle:thin:[&lt;user&gt;/&lt;password&gt;]@//&lt;host&gt;[:&lt;port&gt;]/&lt;service&gt;\r\n\r\nSo you should try changing : in front of SID to /\r\n\r\n    jdbc:oracle:thin:@hostname.test.intranet:1521/service_name","title":"Weblogic 6.1 not able to resolve Oracle DB connection string with Service_name","body":"<p>Refer to <a href=\"https://www.baeldung.com/java-jdbc-url-format\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-jdbc-url-format</a>. URL for connect to Oracle using service name is</p>\n<pre><code>jdbc:oracle:thin:[&lt;user&gt;/&lt;password&gt;]@//&lt;host&gt;[:&lt;port&gt;]/&lt;service&gt;\n</code></pre>\n<p>So you should try changing : in front of SID to /</p>\n<pre><code>jdbc:oracle:thin:@hostname.test.intranet:1521/service_name\n</code></pre>\n"}],"owner":{"account_id":8767617,"reputation":133,"user_id":6555495,"display_name":"Vishesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657703362,"creation_date":1657652909,"question_id":72957261,"body_markdown":"Working on a legacy web application developed in java 1.3, hosted using Weblogic 6.1, on a unix server that connects to two Databases maintained through connection pools.\r\nDue to industry level change, many Databases got reconfigured. Till now they were connected using SID, now it needs to be connected through service_name.\r\n\r\nConnection String used till now for SID:\r\n```jdbc:oracle:thin:@hostname.test.intranet:1521:sid```\r\n\r\nNew Connection string after DB hosted with Service_name value\r\n```jdbc:oracle:thin:@hostname.test.intranet:1521:service_name```\r\n\r\nThis syntax throws \r\n&gt;Status : Failure -Test failed: Listener refused the connection with the following error:\r\nORA-12505, TNS:listener does not currently know of SID given in connect descriptor\r\n\r\n\r\nWe can not upgrade Weblogic , is there any solution to connect with new DB string using WL6.1 ? ","title":"Weblogic 6.1 not able to resolve Oracle DB connection string with Service_name","body":"<p>Working on a legacy web application developed in java 1.3, hosted using Weblogic 6.1, on a unix server that connects to two Databases maintained through connection pools.\nDue to industry level change, many Databases got reconfigured. Till now they were connected using SID, now it needs to be connected through service_name.</p>\n<p>Connection String used till now for SID:\n<code>jdbc:oracle:thin:@hostname.test.intranet:1521:sid</code></p>\n<p>New Connection string after DB hosted with Service_name value\n<code>jdbc:oracle:thin:@hostname.test.intranet:1521:service_name</code></p>\n<p>This syntax throws</p>\n<blockquote>\n<p>Status : Failure -Test failed: Listener refused the connection with the following error:\nORA-12505, TNS:listener does not currently know of SID given in connect descriptor</p>\n</blockquote>\n<p>We can not upgrade Weblogic , is there any solution to connect with new DB string using WL6.1 ?</p>\n"},{"tags":["java","android","json","api","android-studio"],"comments":[{"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"score":0,"creation_date":1657670982,"post_id":72959279,"comment_id":128864638,"body_markdown":"Please also show the code for `Apis.JSON_API`.","body":"Please also show the code for <code>Apis.JSON_API</code>."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1657672528,"post_id":72959279,"comment_id":128864879,"body_markdown":"So your problem is in `intent.setData(Uri.parse(urlModels.get(position).getLink()));`? Which part in there is null? Try breaking it into several separate statements and logging the values to better understand what&#39;s happening there.","body":"So your problem is in <code>intent.setData(Uri.parse(urlModels.get(position).getLink()))&zwnj;&#8203;;</code>? Which part in there is null? Try breaking it into several separate statements and logging the values to better understand what&#39;s happening there."}],"answers":[{"tags":[],"owner":{"account_id":22321398,"reputation":177,"user_id":16543985,"display_name":"ChandraShekhara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657703302,"creation_date":1657689969,"answer_id":72961306,"question_id":72959279,"body_markdown":"Please check your JSON format first, \r\n``` \r\n{\r\n &quot;key_name1&quot;: {\r\n    &quot;link&quot;: &quot;https://example.com&quot;\r\n  },\r\n &quot;key_name2&quot;:{\r\n    ...\r\n  }\r\n}\r\n```\r\nmake sure your inner object should have key_name as above example or make this JSONObject to JSONArray like this \r\n```\r\n[\r\n  {\r\n    &quot;link&quot;: &quot;https://example.com&quot;\r\n  },\r\n  {\r\n    \r\n  }\r\n]\r\n```","title":"Retrieve a url from a Json API","body":"<p>Please check your JSON format first,</p>\n<pre><code>{\n &quot;key_name1&quot;: {\n    &quot;link&quot;: &quot;https://example.com&quot;\n  },\n &quot;key_name2&quot;:{\n    ...\n  }\n}\n</code></pre>\n<p>make sure your inner object should have key_name as above example or make this JSONObject to JSONArray like this</p>\n<pre><code>[\n  {\n    &quot;link&quot;: &quot;https://example.com&quot;\n  },\n  {\n    \n  }\n]\n</code></pre>\n"}],"owner":{"account_id":20504572,"reputation":19,"user_id":15047696,"display_name":"FloFlaFli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657703302,"creation_date":1657667693,"question_id":72959279,"body_markdown":"I want to know how to get a URL in a json and open it in a setOnClickListener of a RecyclerView \r\n\r\nMy API Json\r\n\r\n```\r\n{\r\n  {\r\n    &quot;link&quot;: &quot;https://example.com&quot;\r\n  },\r\n  {\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nMy URLModel\r\n\r\n```\r\npublic class URLModel {\r\n    String Link;\r\n    public MonlixModel(String link) {\r\n        Link = link;\r\n    }\r\n\r\n    public String getLink() {\r\n        return Link;\r\n    }\r\n\r\n    public void setLink(String link) {\r\n        Link = link;\r\n    }\r\n}\r\n```\r\n\r\nI think the problem comes from my Adapter but I don&#39;t know where and how to fix it\r\n\r\n```\r\npublic class URLAdapter extends RecyclerView.Adapter&lt;URLAdapter.URLHolder&gt; {\r\n    Context mContext;\r\n    List&lt;URLModel&gt; urlModels;\r\n\r\n    public URLAdapter(Context mContext, List&lt;URLAdapter&gt; urlModels) {\r\n        this.mContext = mContext;\r\n        this.urlModels= urlModels;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public URLHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.recycler_view, parent, false);\r\n        return new URLHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull URLHolder holder, int position) {\r\n        holder.recyclerUrl.setOnClickListener(view -&gt; {\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setData(Uri.parse(urlModels.get(position).getLink()));\r\n            mContext.startActivity(intent);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return urlModels.size();\r\n    }\r\n\r\n    public static class URLHolder extends RecyclerView.ViewHolder {\r\n        private final RecyclerView recyclerUrl;\r\n\r\n        public URLHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            recyclerUrl = itemView.findViewById(R.id.recycler_url);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd finally my Main.java\r\n\r\n```\r\nprivate void getData() {\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;) JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, Apis.JSON_API, null, response -&gt; {\r\n            for(int i = 0; i &lt;=response.length(); i++){\r\n                try {\r\n                    JSONObject jsonObject = response.getJSONObject(i);\r\n                    URLModelList.add(new URLModel(\r\n                            jsonObject.getString(&quot;link&quot;)\r\n                    ));\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            URLAdapter adapter = new URLAdapter(getApplicationContext(), URLModelList);\r\n            recyclerView.setAdapter(adapter);\r\n            adapter.notifyDataSetChanged();\r\n            Toast.makeText(Main.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n        }, error -&gt; Toast.makeText(Main.this, error.getMessage(), Toast.LENGTH_SHORT).show());\r\n        requestQueue.add(jsonArrayRequest);\r\n    }\r\n```\r\n\r\nI use Volley, I don&#39;t know if it&#39;s the most adapted but I succeeded with that, I also tried to change in my ```URLModel``` the ```String``` by a ```Uri```. But I noticed that the ```JSONObject``` didn&#39;t have a ```getUri``` or something like that\r\n\r\nIn my Logcat it tells me it&#39;s a ```null object reference```\r\n\r\nAny help will be much appreciated!","title":"Retrieve a url from a Json API","body":"<p>I want to know how to get a URL in a json and open it in a setOnClickListener of a RecyclerView</p>\n<p>My API Json</p>\n<pre><code>{\n  {\n    &quot;link&quot;: &quot;https://example.com&quot;\n  },\n  {\n    ...\n  }\n}\n</code></pre>\n<p>My URLModel</p>\n<pre><code>public class URLModel {\n    String Link;\n    public MonlixModel(String link) {\n        Link = link;\n    }\n\n    public String getLink() {\n        return Link;\n    }\n\n    public void setLink(String link) {\n        Link = link;\n    }\n}\n</code></pre>\n<p>I think the problem comes from my Adapter but I don't know where and how to fix it</p>\n<pre><code>public class URLAdapter extends RecyclerView.Adapter&lt;URLAdapter.URLHolder&gt; {\n    Context mContext;\n    List&lt;URLModel&gt; urlModels;\n\n    public URLAdapter(Context mContext, List&lt;URLAdapter&gt; urlModels) {\n        this.mContext = mContext;\n        this.urlModels= urlModels;\n    }\n\n    @NonNull\n    @Override\n    public URLHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(mContext).inflate(R.layout.recycler_view, parent, false);\n        return new URLHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull URLHolder holder, int position) {\n        holder.recyclerUrl.setOnClickListener(view -&gt; {\n            Intent intent = new Intent(Intent.ACTION_VIEW);\n            intent.setData(Uri.parse(urlModels.get(position).getLink()));\n            mContext.startActivity(intent);\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return urlModels.size();\n    }\n\n    public static class URLHolder extends RecyclerView.ViewHolder {\n        private final RecyclerView recyclerUrl;\n\n        public URLHolder(@NonNull View itemView) {\n            super(itemView);\n            recyclerUrl = itemView.findViewById(R.id.recycler_url);\n        }\n    }\n}\n</code></pre>\n<p>And finally my Main.java</p>\n<pre><code>private void getData() {\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;) JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, Apis.JSON_API, null, response -&gt; {\n            for(int i = 0; i &lt;=response.length(); i++){\n                try {\n                    JSONObject jsonObject = response.getJSONObject(i);\n                    URLModelList.add(new URLModel(\n                            jsonObject.getString(&quot;link&quot;)\n                    ));\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n            URLAdapter adapter = new URLAdapter(getApplicationContext(), URLModelList);\n            recyclerView.setAdapter(adapter);\n            adapter.notifyDataSetChanged();\n            Toast.makeText(Main.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n        }, error -&gt; Toast.makeText(Main.this, error.getMessage(), Toast.LENGTH_SHORT).show());\n        requestQueue.add(jsonArrayRequest);\n    }\n</code></pre>\n<p>I use Volley, I don't know if it's the most adapted but I succeeded with that, I also tried to change in my <code>URLModel</code> the <code>String</code> by a <code>Uri</code>. But I noticed that the <code>JSONObject</code> didn't have a <code>getUri</code> or something like that</p>\n<p>In my Logcat it tells me it's a <code>null object reference</code></p>\n<p>Any help will be much appreciated!</p>\n"},{"tags":["java","spring-boot","caching"],"answers":[{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657702605,"creation_date":1657702605,"answer_id":72963508,"question_id":72955885,"body_markdown":"Figured it out - apparently I needed to clone the hierarchy in the upstream method, like this:\r\n\r\n      @Override\r\n      public List&lt;ProductHierarchyBean&gt; getFullHierarchy(Integer licenceId) {\r\n        List&lt;ProductHierarchyBean&gt; hierarchy = productHierarchyService.getHierarchy();\r\n        hierarchy = ProductHierarchyCloner.cloneHierarchy(hierarchy);\r\n        ...\r\n      }\r\n\r\nThis way the inital full hierarchy stays cached and we clone it every time we need to use it.  \r\n\r\n","title":"Spring Cache @Cacheable - seem to have transitive effect through the methods","body":"<p>Figured it out - apparently I needed to clone the hierarchy in the upstream method, like this:</p>\n<pre><code>  @Override\n  public List&lt;ProductHierarchyBean&gt; getFullHierarchy(Integer licenceId) {\n    List&lt;ProductHierarchyBean&gt; hierarchy = productHierarchyService.getHierarchy();\n    hierarchy = ProductHierarchyCloner.cloneHierarchy(hierarchy);\n    ...\n  }\n</code></pre>\n<p>This way the inital full hierarchy stays cached and we clone it every time we need to use it.</p>\n"}],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72963508,"answer_count":1,"score":0,"last_activity_date":1657702605,"creation_date":1657644950,"question_id":72955885,"body_markdown":"I have the following method in one of my services. Since the operation in `getHierarchy()` method is expensive, I chose to cache it:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Log4j2\r\n    public class ProductHierarchyServiceImpl implements ProductHierarchyService {\r\n      private final ProductGroupRepository repository;\r\n      private final ProductTreeMapper mapper;\r\n    \r\n      @Override\r\n      @Cacheable(value = HIERARCHY)\r\n      @Trace(dispatcher = true)\r\n      public List&lt;ProductHierarchyBean&gt; getHierarchy() {\r\n        var productGroups = repository.findAll();\r\n        return mapper.productGroupsToProductHierarchyBeans(productGroups);\r\n      }\r\n\r\nThat works well and I confirm the `List&lt;ProductHierarchyBean&gt;` gets cached between cache purges so the method is not invoked, as expected.\r\n\r\nI then invoke that method from another service:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Log4j2\r\n    public class ProductGroupAccessServiceImpl implements ProductGroupAccessService {\r\n      private final LicenceCategoryAccessRepository accessRepository;\r\n      private final ProductHierarchyService productHierarchyService;\r\n    \r\n      @Override\r\n      public List&lt;ProductHierarchyBean&gt; getFullHierarchy(Integer licenceId) {\r\n        List&lt;ProductHierarchyBean&gt; hierarchy = productHierarchyService.getHierarchy();\r\n        \r\n            ... // more transformations here to add licensing to the hierarchy nodes\r\n        return hierarchy;\r\n       }\r\n\r\n      @Override\r\n      public List&lt;ProductHierarchyBean&gt; getLicensedHierarchy(Integer licenceId) {\r\n        List&lt;ProductHierarchyBean&gt; licensedHierarchy = getFullHierarchy(licenceId);\r\n    \r\n        trimHierarchyToLicencedNodes(licensedHierarchy); ... // perform transformations here to remove unlicensed nodes\r\n        return licensedHierarchy;\r\n      }\r\n\r\n\r\nThe idea is the `ProductHierarchyService` provides full hierarchy of all available products, whereas the `ProductGroupAccessService` applies licence-based filtering that removes non-licensed nodes. \r\n\r\nBoth services methods of `ProductGroupAccessService` are invoked from different end points, `getFullHierarchy()` to retrieve full hierarchy used for editing hierarchy by admin users, and `getLicensedHierarchy()` by the actual user who builds a report based on the licensed hierarchy (and only have access to the allowed nodes).\r\n\r\nSo far so good, the problem starts when these REST end points (or the above methods directly) are invoked in turn. If `getFullHierarchy` invoked after `getLicensedHierarchy`, the truncated hierarchy with unlicensed nodes removed is served as if it were the full hierarchy from the cache. \r\n\r\nIf I remove the `@Cache` from `ProductHierarchyService.getHierarchy()` it all works as expected, and a hierarchy gets refreshed every time, albeit at a speed cost. \r\n\r\nI figured the downstream service uses the same object as initially was retrieved and stored in the cache, and it modifies that. \r\n\r\nTo overcome that, I&#39;ve implemented a `cloneHierarchy()` method, that creates a fresh copy of the hiserarchy, which I use as below:\r\n\r\n      @Override\r\n      @Cacheable(value = ARGOSHIERARCHY)\r\n      @Trace(dispatcher = true)     \r\n      private List&lt;ProductHierarchyBean&gt; getHierarchy() {\r\n        var productGroups = repository.findAll();    \r\n        var root = mapper.productGroupsToProductHierarchyBeans(productGroups);\r\n        return cloneHierarchy(root);\r\n      }\r\n\r\nBut that still doesn&#39;t work since I clone inside the @Cached method itself, so whatever is returned last gets cached. \r\n\r\nMy cache configuration is bog-standard, as below:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    @EnableScheduling\r\n    @Log4j2\r\n    public class CacheConfiguration {\r\n      public static final String HIERARCHY = &quot;hierarchy&quot;;\r\n    \r\n      @Bean\r\n      public CacheManager cacheManager() {\r\n        SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n        cacheManager.setCaches(\r\n            List.of(\r\n                new ConcurrentMapCache(HIERARCHY));\r\n        return cacheManager;\r\n      }\r\n    \r\n      @CacheEvict(\r\n          allEntries = true,\r\n          value = {HIERARCHY})\r\n      @Scheduled(fixedDelayString = &quot;${products.hierarchy.cacheMsDelay:60000}&quot;)\r\n      public void reportCacheEvict() {\r\n        log.debug(&quot;Flush Cache {}&quot;, LocalDateTime.now());\r\n      }\r\n    }\r\n\r\nAny suggestions how can I overcome this problem please? Basically, I want the hierarchy to be cached, but only one single copy, that I can clone and pass to a client on demand? \r\n","title":"Spring Cache @Cacheable - seem to have transitive effect through the methods","body":"<p>I have the following method in one of my services. Since the operation in <code>getHierarchy()</code> method is expensive, I chose to cache it:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Log4j2\npublic class ProductHierarchyServiceImpl implements ProductHierarchyService {\n  private final ProductGroupRepository repository;\n  private final ProductTreeMapper mapper;\n\n  @Override\n  @Cacheable(value = HIERARCHY)\n  @Trace(dispatcher = true)\n  public List&lt;ProductHierarchyBean&gt; getHierarchy() {\n    var productGroups = repository.findAll();\n    return mapper.productGroupsToProductHierarchyBeans(productGroups);\n  }\n</code></pre>\n<p>That works well and I confirm the <code>List&lt;ProductHierarchyBean&gt;</code> gets cached between cache purges so the method is not invoked, as expected.</p>\n<p>I then invoke that method from another service:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Log4j2\npublic class ProductGroupAccessServiceImpl implements ProductGroupAccessService {\n  private final LicenceCategoryAccessRepository accessRepository;\n  private final ProductHierarchyService productHierarchyService;\n\n  @Override\n  public List&lt;ProductHierarchyBean&gt; getFullHierarchy(Integer licenceId) {\n    List&lt;ProductHierarchyBean&gt; hierarchy = productHierarchyService.getHierarchy();\n    \n        ... // more transformations here to add licensing to the hierarchy nodes\n    return hierarchy;\n   }\n\n  @Override\n  public List&lt;ProductHierarchyBean&gt; getLicensedHierarchy(Integer licenceId) {\n    List&lt;ProductHierarchyBean&gt; licensedHierarchy = getFullHierarchy(licenceId);\n\n    trimHierarchyToLicencedNodes(licensedHierarchy); ... // perform transformations here to remove unlicensed nodes\n    return licensedHierarchy;\n  }\n</code></pre>\n<p>The idea is the <code>ProductHierarchyService</code> provides full hierarchy of all available products, whereas the <code>ProductGroupAccessService</code> applies licence-based filtering that removes non-licensed nodes.</p>\n<p>Both services methods of <code>ProductGroupAccessService</code> are invoked from different end points, <code>getFullHierarchy()</code> to retrieve full hierarchy used for editing hierarchy by admin users, and <code>getLicensedHierarchy()</code> by the actual user who builds a report based on the licensed hierarchy (and only have access to the allowed nodes).</p>\n<p>So far so good, the problem starts when these REST end points (or the above methods directly) are invoked in turn. If <code>getFullHierarchy</code> invoked after <code>getLicensedHierarchy</code>, the truncated hierarchy with unlicensed nodes removed is served as if it were the full hierarchy from the cache.</p>\n<p>If I remove the <code>@Cache</code> from <code>ProductHierarchyService.getHierarchy()</code> it all works as expected, and a hierarchy gets refreshed every time, albeit at a speed cost.</p>\n<p>I figured the downstream service uses the same object as initially was retrieved and stored in the cache, and it modifies that.</p>\n<p>To overcome that, I've implemented a <code>cloneHierarchy()</code> method, that creates a fresh copy of the hiserarchy, which I use as below:</p>\n<pre><code>  @Override\n  @Cacheable(value = ARGOSHIERARCHY)\n  @Trace(dispatcher = true)     \n  private List&lt;ProductHierarchyBean&gt; getHierarchy() {\n    var productGroups = repository.findAll();    \n    var root = mapper.productGroupsToProductHierarchyBeans(productGroups);\n    return cloneHierarchy(root);\n  }\n</code></pre>\n<p>But that still doesn't work since I clone inside the @Cached method itself, so whatever is returned last gets cached.</p>\n<p>My cache configuration is bog-standard, as below:</p>\n<pre><code>@Configuration\n@EnableCaching\n@EnableScheduling\n@Log4j2\npublic class CacheConfiguration {\n  public static final String HIERARCHY = &quot;hierarchy&quot;;\n\n  @Bean\n  public CacheManager cacheManager() {\n    SimpleCacheManager cacheManager = new SimpleCacheManager();\n    cacheManager.setCaches(\n        List.of(\n            new ConcurrentMapCache(HIERARCHY));\n    return cacheManager;\n  }\n\n  @CacheEvict(\n      allEntries = true,\n      value = {HIERARCHY})\n  @Scheduled(fixedDelayString = &quot;${products.hierarchy.cacheMsDelay:60000}&quot;)\n  public void reportCacheEvict() {\n    log.debug(&quot;Flush Cache {}&quot;, LocalDateTime.now());\n  }\n}\n</code></pre>\n<p>Any suggestions how can I overcome this problem please? Basically, I want the hierarchy to be cached, but only one single copy, that I can clone and pass to a client on demand?</p>\n"},{"tags":["java","spring","spring-boot","neo4j","repository"],"answers":[{"tags":[],"owner":{"account_id":11084494,"reputation":66,"user_id":8138720,"display_name":"olir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574636534,"creation_date":1574636534,"answer_id":59023284,"question_id":59020099,"body_markdown":"I used the neo4j java driver in my spring boot as described at [Using Neo4j from Java][1]\r\n\r\n  [1]: https://neo4j.com/developer/java/\r\n\r\nThis is maybe not what neo4j offers first, but i feel it is simple. You can also use it without transactions.","title":"Execution of neo4j cypher query from spring boot","body":"<p>I used the neo4j java driver in my spring boot as described at <a href=\"https://neo4j.com/developer/java/\" rel=\"nofollow noreferrer\">Using Neo4j from Java</a></p>\n\n<p>This is maybe not what neo4j offers first, but i feel it is simple. You can also use it without transactions.</p>\n"},{"tags":[],"owner":{"account_id":232720,"reputation":1625,"user_id":497753,"accept_rate":70,"display_name":"Mannie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657702109,"creation_date":1657702109,"answer_id":72963386,"question_id":59020099,"body_markdown":"Depending on your needs, have a look at `org.springframework.data.neo4j.core.Neo4jClient` - specifically the `query()` method - if you have setup neo4j correctly in Spring then you can simply inject this class.","title":"Execution of neo4j cypher query from spring boot","body":"<p>Depending on your needs, have a look at <code>org.springframework.data.neo4j.core.Neo4jClient</code> - specifically the <code>query()</code> method - if you have setup neo4j correctly in Spring then you can simply inject this class.</p>\n"}],"owner":{"account_id":5608893,"reputation":11,"user_id":4442440,"display_name":"Justin Babu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657702109,"creation_date":1574614337,"question_id":59020099,"body_markdown":"Hi neo4j/spring boot masters\r\n\r\nI am new to spring boot and I am trying to execute a cypher query without the `@Query` annotation.\r\n\r\nI can see that my requirement is possible with `entityManage.createQuery()` in spring repository (javax)\r\n\r\nBut the adaptor for **neo4j** doesn&#39;t seem to have an entity Manager. \r\n\r\nAny help is greatly appreciated. ","title":"Execution of neo4j cypher query from spring boot","body":"<p>Hi neo4j/spring boot masters</p>\n\n<p>I am new to spring boot and I am trying to execute a cypher query without the <code>@Query</code> annotation.</p>\n\n<p>I can see that my requirement is possible with <code>entityManage.createQuery()</code> in spring repository (javax)</p>\n\n<p>But the adaptor for <strong>neo4j</strong> doesn't seem to have an entity Manager. </p>\n\n<p>Any help is greatly appreciated. </p>\n"},{"tags":["java","generics","types"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1657699669,"post_id":72962821,"comment_id":128869981,"body_markdown":"primitive types are not reference types, but generic types can only *hold* reference types (one reason for wrapper types)","body":"primitive types are not reference types, but generic types can only <i>hold</i> reference types (one reason for wrapper types)"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1657700241,"post_id":72962821,"comment_id":128870163,"body_markdown":"Why do you need this anyway?","body":"Why do you need this anyway?"},{"owner":{"account_id":22463658,"reputation":26,"user_id":18954735,"display_name":"RORAK"},"score":0,"creation_date":1657700487,"post_id":72962821,"comment_id":128870248,"body_markdown":"@user16320675 i know, thats why i&#39;m asking, If user used `Integer.class` as input the output will be `new Integer(0)`. But I don&#39;t know how to do that. I edited the question so now it&#39;s clear","body":"@user16320675 i know, thats why i&#39;m asking, If user used <code>Integer.class</code> as input the output will be <code>new Integer(0)</code>. But I don&#39;t know how to do that. I edited the question so now it&#39;s clear"},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1658026613,"post_id":72962821,"comment_id":128948002,"body_markdown":"Note that `Integer` is not a primitive type, so it would already return `null` according to your code.","body":"Note that <code>Integer</code> is not a primitive type, so it would already return <code>null</code> according to your code."}],"answers":[{"tags":[],"owner":{"account_id":1909497,"reputation":7762,"user_id":1723695,"accept_rate":78,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657701780,"creation_date":1657701780,"answer_id":72963303,"question_id":72962821,"body_markdown":"You can just check each primitive type manually (there are not so many primitives in Java):\r\n```\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T defaultValue(Class&lt;T&gt; clazz) {\r\n        if (!clazz.isPrimitive()) {\r\n            return null;\r\n        }\r\n        if (clazz == int.class) {\r\n            return (T) Integer.valueOf(0);\r\n        } else if (clazz == long.class) {\r\n            return (T) Long.valueOf(0);\r\n        } else if (clazz == float.class) {\r\n            return (T) Float.valueOf(0);\r\n        } else if (clazz == double.class) {\r\n            return (T) Double.valueOf(0);\r\n        } else if (clazz == char.class) {\r\n            return (T) Character.valueOf(&#39;\\0&#39;);\r\n        } else if (clazz == byte.class) {\r\n            return (T) Byte.valueOf((byte) 0);\r\n        } else if (clazz == short.class) {\r\n            return (T) Short.valueOf((short) 0);\r\n        } else if (clazz == boolean.class) {\r\n            return (T) Boolean.valueOf(false);\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;Unsupported primitive type: &quot; + clazz);\r\n        }\r\n    }\r\n```\r\n\r\nTo test you can use:\r\n```\r\n    public static void main(String[] args) {\r\n        List.of(String.class, int.class, long.class, double.class, float.class, boolean.class, byte.class, char.class).forEach(\r\n                cls -&gt; System.out.printf(&quot;%s - %s\\n&quot;, cls.getName(), defaultValue(cls))\r\n        );\r\n    }\r\n```","title":"How to get default value of java datatype using generic method?","body":"<p>You can just check each primitive type manually (there are not so many primitives in Java):</p>\n<pre><code>    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; T defaultValue(Class&lt;T&gt; clazz) {\n        if (!clazz.isPrimitive()) {\n            return null;\n        }\n        if (clazz == int.class) {\n            return (T) Integer.valueOf(0);\n        } else if (clazz == long.class) {\n            return (T) Long.valueOf(0);\n        } else if (clazz == float.class) {\n            return (T) Float.valueOf(0);\n        } else if (clazz == double.class) {\n            return (T) Double.valueOf(0);\n        } else if (clazz == char.class) {\n            return (T) Character.valueOf('\\0');\n        } else if (clazz == byte.class) {\n            return (T) Byte.valueOf((byte) 0);\n        } else if (clazz == short.class) {\n            return (T) Short.valueOf((short) 0);\n        } else if (clazz == boolean.class) {\n            return (T) Boolean.valueOf(false);\n        } else {\n            throw new IllegalArgumentException(&quot;Unsupported primitive type: &quot; + clazz);\n        }\n    }\n</code></pre>\n<p>To test you can use:</p>\n<pre><code>    public static void main(String[] args) {\n        List.of(String.class, int.class, long.class, double.class, float.class, boolean.class, byte.class, char.class).forEach(\n                cls -&gt; System.out.printf(&quot;%s - %s\\n&quot;, cls.getName(), defaultValue(cls))\n        );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657702072,"creation_date":1657702072,"answer_id":72963377,"question_id":72962821,"body_markdown":"In addition to Kirill&#39;s solution, I&#39;d like to add some background reasoning.\r\n\r\nYour approach is correct, you only need an additional `(T)` cast:\r\n\r\n    private static &lt;T&gt; T getDefaultValue(Class&lt;T&gt; type) {\r\n        if (!type.isPrimitive()) return null;\r\n        if (type.equals(Integer.class)) return (T) (new Integer(0));\r\n        // and so on for the other primitive types\r\n    }\r\n\r\nThis `(T)` cast will earn you a warning, as the compiler can&#39;t infer that it&#39;s in fact safe.\r\n\r\nBy writing the `(T)` cast, you as the developer guarantee that in this case (being called with `Integer.class`) the `new Integer(0)` instance is of the requested type `T`, and that&#39;s correct, as with the argument being `Integer.class`, `T` can only be `Integer`.\r\n\r\nYou need not even consider superclass/subclass situations, as you specified an exact type `&lt;T&gt;`, not `&lt;? super T&gt;` or `&lt;? extends T&gt;`, so you can be sure that the class object received as argument exactly matches the generic type `T` (unless you ignore errors/warnings elsewhere).","title":"How to get default value of java datatype using generic method?","body":"<p>In addition to Kirill's solution, I'd like to add some background reasoning.</p>\n<p>Your approach is correct, you only need an additional <code>(T)</code> cast:</p>\n<pre><code>private static &lt;T&gt; T getDefaultValue(Class&lt;T&gt; type) {\n    if (!type.isPrimitive()) return null;\n    if (type.equals(Integer.class)) return (T) (new Integer(0));\n    // and so on for the other primitive types\n}\n</code></pre>\n<p>This <code>(T)</code> cast will earn you a warning, as the compiler can't infer that it's in fact safe.</p>\n<p>By writing the <code>(T)</code> cast, you as the developer guarantee that in this case (being called with <code>Integer.class</code>) the <code>new Integer(0)</code> instance is of the requested type <code>T</code>, and that's correct, as with the argument being <code>Integer.class</code>, <code>T</code> can only be <code>Integer</code>.</p>\n<p>You need not even consider superclass/subclass situations, as you specified an exact type <code>&lt;T&gt;</code>, not <code>&lt;? super T&gt;</code> or <code>&lt;? extends T&gt;</code>, so you can be sure that the class object received as argument exactly matches the generic type <code>T</code> (unless you ignore errors/warnings elsewhere).</p>\n"}],"owner":{"account_id":22463658,"reputation":26,"user_id":18954735,"display_name":"RORAK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72963303,"answer_count":2,"score":0,"last_activity_date":1657702072,"creation_date":1657699354,"question_id":72962821,"body_markdown":"I&#39;m writing a program and need to get the default value of datatype (for example null for List, 0 for int, false for boolean, etc...). I have this method\r\n```java\r\nprivate static &lt;T&gt; T getDefaultValue(Class&lt;T&gt; type) {\r\n    if (!type.isPrimitive()) return null;\r\n    // something should go there\r\n}\r\n```\r\nand I don&#39;t know how to recognize the type and return the value without errors.\r\nI tried `if (type.equals(Integer.class)) return new Integer(0);` but I get an error for the return statement `Required type: T, Provided: Integer`.\r\n\r\nHow can I do that and is there any other method than mine? (I don&#39;t want the method to return `Object` ofc)\r\n\r\nThanks!","title":"How to get default value of java datatype using generic method?","body":"<p>I'm writing a program and need to get the default value of datatype (for example null for List, 0 for int, false for boolean, etc...). I have this method</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T&gt; T getDefaultValue(Class&lt;T&gt; type) {\n    if (!type.isPrimitive()) return null;\n    // something should go there\n}\n</code></pre>\n<p>and I don't know how to recognize the type and return the value without errors.\nI tried <code>if (type.equals(Integer.class)) return new Integer(0);</code> but I get an error for the return statement <code>Required type: T, Provided: Integer</code>.</p>\n<p>How can I do that and is there any other method than mine? (I don't want the method to return <code>Object</code> ofc)</p>\n<p>Thanks!</p>\n"},{"tags":["java","swagger","swagger-ui","openapi"],"owner":{"account_id":3704036,"reputation":415,"user_id":3083022,"accept_rate":89,"display_name":"user3083022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657701759,"creation_date":1657701759,"question_id":72963298,"body_markdown":"I have a GET method with this signature:\r\n`ResponseEntity&lt;byte[]&gt; getDocuments` and I want to provide an example of what a response should look like. This is what I have:\r\n\r\n    @Operation(summary = &quot;some stuff&quot;,\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;200&quot;,\r\n                content = @Content(array = @ArraySchema(schema = @Schema(type = &quot;string&quot;, format = &quot;byte&quot;)),\r\n                    examples = @ExampleObject(value = &quot;[104, 111, 108, 97]&quot;))\r\n\r\nBut I am getting the following:\r\n\r\n&gt; &quot;0&quot; property type must be string                               paths./documents.get.responses[200].content.application/json.example[0]\r\n\r\nHow do I specify in swagger en example for a byte array response?","title":"Provide @ExampleObject for @ArraySchema of byte[]","body":"<p>I have a GET method with this signature:\n<code>ResponseEntity&lt;byte[]&gt; getDocuments</code> and I want to provide an example of what a response should look like. This is what I have:</p>\n<pre><code>@Operation(summary = &quot;some stuff&quot;,\n    responses = {\n        @ApiResponse(responseCode = &quot;200&quot;,\n            content = @Content(array = @ArraySchema(schema = @Schema(type = &quot;string&quot;, format = &quot;byte&quot;)),\n                examples = @ExampleObject(value = &quot;[104, 111, 108, 97]&quot;))\n</code></pre>\n<p>But I am getting the following:</p>\n<blockquote>\n<p>&quot;0&quot; property type must be string                               paths./documents.get.responses[200].content.application/json.example[0]</p>\n</blockquote>\n<p>How do I specify in swagger en example for a byte array response?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1481651251,"post_id":41127391,"comment_id":69458798,"body_markdown":"Possible duplicate of [Can you split a stream into two streams?](http://stackoverflow.com/questions/19940319/can-you-split-a-stream-into-two-streams)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/19940319/can-you-split-a-stream-into-two-streams\">Can you split a stream into two streams?</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1481655513,"post_id":41127391,"comment_id":69461034,"body_markdown":"No, you can&#39;t, not really.  Collect into actual literal collections, not streams, and it&#39;ll be doable.","body":"No, you can&#39;t, not really.  Collect into actual literal collections, not streams, and it&#39;ll be doable."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1481710576,"post_id":41127391,"comment_id":69482800,"body_markdown":"This is a recurring [XY Problem](http://meta.stackexchange.com/a/66378). Instead of asking, how to split the Stream, think about what you actually want to do with the Stream(s). Ask, how to get the desired result from the Stream, not how to split the Stream.","body":"This is a recurring <a href=\"http://meta.stackexchange.com/a/66378\">XY Problem</a>. Instead of asking, how to split the Stream, think about what you actually want to do with the Stream(s). Ask, how to get the desired result from the Stream, not how to split the Stream."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657695891,"creation_date":1528586357,"answer_id":50779326,"question_id":41127391,"body_markdown":"You can&#39;t split a `Stream` into 2 or more `Streas`s easily and directly. The only way the procedural one consisting of collecting the elements to the `List` by the couples and mapping them back to `Stream` again:\r\n\r\n    Stream&lt;Integer&gt; s = Stream.of(1,2,3,4,5);\r\n\tList&lt;Integer&gt; list = s.collect(Collectors.toList());\r\n\tint size = list.size();\r\n\t\t\r\n\tList&lt;List&lt;Integer&gt;&gt; temp = new ArrayList&lt;&gt;();\r\n\tList&lt;Integer&gt; temp2 = new ArrayList&lt;&gt;();\r\n\t\t\r\n\tint index = 0;\r\n\tfor (int i=0; i&lt;size; i++) {\r\n\t\ttemp2.add(list.get(i));\r\n\t\tif (i%2!=0) {\r\n\t\t\ttemp.add(temp2);\r\n\t\t\ttemp2 = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\tif (i == size - 1) {\r\n\t\t\ttemp.add(temp2);\r\n\t\t}\r\n\t}\r\n\tStream&lt;Stream&lt;Integer&gt;&gt; stream = temp.stream().map(i -&gt; i.stream());\r\n\r\nAs you see it&#39;s a really long way an not worth. Wouldn&#39;t be better to store the pairs in the `List` rather than `Stream`? The [tag:java-stream] API is not used for data storage but their processing.","title":"Split stream into substreams with N elements","body":"<p>You can't split a <code>Stream</code> into 2 or more <code>Streas</code>s easily and directly. The only way the procedural one consisting of collecting the elements to the <code>List</code> by the couples and mapping them back to <code>Stream</code> again:</p>\n<pre><code>Stream&lt;Integer&gt; s = Stream.of(1,2,3,4,5);\nList&lt;Integer&gt; list = s.collect(Collectors.toList());\nint size = list.size();\n    \nList&lt;List&lt;Integer&gt;&gt; temp = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; temp2 = new ArrayList&lt;&gt;();\n    \nint index = 0;\nfor (int i=0; i&lt;size; i++) {\n    temp2.add(list.get(i));\n    if (i%2!=0) {\n        temp.add(temp2);\n        temp2 = new ArrayList&lt;&gt;();\n    }\n    if (i == size - 1) {\n        temp.add(temp2);\n    }\n}\nStream&lt;Stream&lt;Integer&gt;&gt; stream = temp.stream().map(i -&gt; i.stream());\n</code></pre>\n<p>As you see it's a really long way an not worth. Wouldn't be better to store the pairs in the <code>List</code> rather than <code>Stream</code>? The <a href=\"/questions/tagged/java-stream\" class=\"post-tag\" title=\"show questions tagged &#39;java-stream&#39;\" rel=\"tag\">java-stream</a> API is not used for data storage but their processing.</p>\n"},{"tags":[],"owner":{"account_id":15123194,"reputation":126,"user_id":10913399,"display_name":"Arsegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657701585,"creation_date":1657701585,"answer_id":72963258,"question_id":41127391,"body_markdown":"For example:\r\n```\r\n&lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; split(Stream&lt;T&gt; stream, int n) {\r\n  final var it = stream.iterator();\r\n  final Stream.Builder&lt;Stream&lt;T&gt;&gt; result = Stream.builder();\r\n  while (it.hasNext()) {\r\n    final Stream.Builder&lt;T&gt; buf = Stream.builder();\r\n    for (int i = 0; i &lt; n &amp;&amp; it.hasNext(); i++) {\r\n      buf.accept(it.next());\r\n    }\r\n    result.accept(buf.build());\r\n  }\r\n  return result.build();\r\n}\r\n\r\n\r\nStream&lt;Integer&gt; s = Stream.of(1,2,3,4,5);\r\nStream&lt;Stream&lt;Integer&gt;&gt; separated = split(s, 2);\r\nseparated.map(x -&gt; x.collect(Collectors.toList())).forEach(System.out::println);\r\n```\r\n```\r\n[1, 2]\r\n[3, 4]\r\n[5]\r\n```","title":"Split stream into substreams with N elements","body":"<p>For example:</p>\n<pre><code>&lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; split(Stream&lt;T&gt; stream, int n) {\n  final var it = stream.iterator();\n  final Stream.Builder&lt;Stream&lt;T&gt;&gt; result = Stream.builder();\n  while (it.hasNext()) {\n    final Stream.Builder&lt;T&gt; buf = Stream.builder();\n    for (int i = 0; i &lt; n &amp;&amp; it.hasNext(); i++) {\n      buf.accept(it.next());\n    }\n    result.accept(buf.build());\n  }\n  return result.build();\n}\n\n\nStream&lt;Integer&gt; s = Stream.of(1,2,3,4,5);\nStream&lt;Stream&lt;Integer&gt;&gt; separated = split(s, 2);\nseparated.map(x -&gt; x.collect(Collectors.toList())).forEach(System.out::println);\n</code></pre>\n<pre><code>[1, 2]\n[3, 4]\n[5]\n</code></pre>\n"}],"owner":{"account_id":5524355,"reputation":1580,"user_id":4386321,"accept_rate":76,"display_name":"maxpovver"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2930,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50779326,"answer_count":2,"score":3,"last_activity_date":1657701585,"creation_date":1481650991,"question_id":41127391,"body_markdown":"Can we somehow split stream into substreams with no more than N elements in Java?\r\nFor example \r\n\r\n    Stream&lt;Integer&gt; s = Stream.of(1,2,3,4,5);\r\n    Stream&lt;Stream&lt;Integer&gt;&gt; separated = split(s, 2);\r\n    // after that separated should contain stream(1,2), stream(3,4), stream(5)\r\n\r\nsplitting by two streams solution is correct only for 2 streams, the same for N streams will be very ugly and write-only.","title":"Split stream into substreams with N elements","body":"<p>Can we somehow split stream into substreams with no more than N elements in Java?\nFor example </p>\n\n<pre><code>Stream&lt;Integer&gt; s = Stream.of(1,2,3,4,5);\nStream&lt;Stream&lt;Integer&gt;&gt; separated = split(s, 2);\n// after that separated should contain stream(1,2), stream(3,4), stream(5)\n</code></pre>\n\n<p>splitting by two streams solution is correct only for 2 streams, the same for N streams will be very ugly and write-only.</p>\n"},{"tags":["java","spring","spring-boot","netbeans-8"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1657700895,"post_id":72956961,"comment_id":128870394,"body_markdown":"That&#39;s too generic error message... you need to investigate some details about it","body":"That&#39;s too generic error message... you need to investigate some details about it"},{"owner":{"account_id":2290661,"reputation":2679,"user_id":2013578,"accept_rate":82,"display_name":"Humphrey"},"score":0,"creation_date":1657815218,"post_id":72956961,"comment_id":128905315,"body_markdown":"been trying sir","body":"been trying sir"}],"owner":{"account_id":2290661,"reputation":2679,"user_id":2013578,"accept_rate":82,"display_name":"Humphrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657701422,"creation_date":1657651069,"question_id":72956961,"body_markdown":"I am new to spring boot am using Apache netbeans. I did follow all the steps but the application give me the error\r\n&quot;There was an unexpected error (type=Internal Server Error, status=500) &quot; and jsp doesn&#39;t work. Any help will be appreciated.\r\n     \r\n    \r\n        here is my application.properties\r\n        \r\n        server.port=8082\r\n        \r\n        \r\n        \r\n        spring.datasource.url=jdbc:mysql://localhost:3306/musadb\r\n        spring.datasource.username=admin\r\n        spring.datasource.password=admin\r\n        spring.jpa.hibernate.ddl-auto=update\r\n        \r\n        \r\n        spring.mvc.view.prefix=/WEB-INF/jsp/\r\n        spring.mvc.view.suffix=.jsp\r\n        \r\n        logging.level.org.springframework.web=DEBUG\r\n        \r\n        my controller code \r\n        \r\n        /*\r\n         * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n         * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n         */\r\n        package com.springboot.firstwebapplication.spring;\r\n        \r\n        import static com.fasterxml.jackson.databind.cfg.CoercionInputShape.String;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.stereotype.Controller;\r\n        import org.springframework.ui.ModelMap;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import org.springframework.web.bind.annotation.RequestParam;\r\n        import org.springframework.web.bind.annotation.ResponseBody;\r\n        import org.springframework.web.bind.annotation.RestController;\r\n        import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n        \r\n        /**\r\n         *\r\n         * @author bbc\r\n         */\r\n        @Controller\r\n        public class LoginController {\r\n            \r\n            @RequestMapping(&quot;/login&quot;)\r\n            public String loginMessage(){\r\n         \r\n                return &quot;login&quot;;\r\n            }\r\n           \r\n        }\r\n        \r\n        my main class \r\n        \r\n        package com.springboot.firstwebapplication.spring;\r\n        \r\n        import javax.swing.JOptionPane;\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        \r\n        @SpringBootApplication\r\n        public class SpringBootFirstWebApplication {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(SpringBootFirstWebApplication.class, args);\r\n                        \r\n                        //JOptionPane.showMessageDialog(null, &quot;I am working &quot;);\r\n                        System.out.println(&quot;WE are the winners&quot;);\r\n                        \r\n        \t}\r\n        \r\n        }\r\n        \r\n        my login.jsp\r\n        \r\n        \r\n        &lt;html &gt;\r\n        &lt;head&gt;\r\n        &lt;title&gt;First web application&lt;/title&gt;\r\n                &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt; Welcome ${name}!&lt;/h1&gt;\r\n        &lt;/body&gt;\r\n        \r\n        &lt;/html&gt;\r\n    \r\n    \r\n    my pom.xml file \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t\r\n    \r\n            &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n              \r\n    \t&lt;/parent&gt;   \r\n    \r\n    \t&lt;groupId&gt;com.springboot.firstwebapplication&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-first-web-application&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;spring-boot-first-web-application&lt;/name&gt;\r\n    \t&lt;description&gt;Spring Boot First Web Application&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n            \r\n      &lt;!--   Musa put these --&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t &lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t &lt;/dependency&gt;\r\n             \r\n       \r\n             \r\n                &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    \r\n     \r\n                     &lt;!--   Musa put these ENDED --&gt;\r\n    \r\n             \r\n             \r\n    \t &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"JSP spring boot and netbeans does give an error and do not work","body":"<p>I am new to spring boot am using Apache netbeans. I did follow all the steps but the application give me the error\n&quot;There was an unexpected error (type=Internal Server Error, status=500) &quot; and jsp doesn't work. Any help will be appreciated.</p>\n<pre><code>    here is my application.properties\n    \n    server.port=8082\n    \n    \n    \n    spring.datasource.url=jdbc:mysql://localhost:3306/musadb\n    spring.datasource.username=admin\n    spring.datasource.password=admin\n    spring.jpa.hibernate.ddl-auto=update\n    \n    \n    spring.mvc.view.prefix=/WEB-INF/jsp/\n    spring.mvc.view.suffix=.jsp\n    \n    logging.level.org.springframework.web=DEBUG\n    \n    my controller code \n    \n    /*\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n     */\n    package com.springboot.firstwebapplication.spring;\n    \n    import static com.fasterxml.jackson.databind.cfg.CoercionInputShape.String;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.ui.ModelMap;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestParam;\n    import org.springframework.web.bind.annotation.ResponseBody;\n    import org.springframework.web.bind.annotation.RestController;\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\n    \n    /**\n     *\n     * @author bbc\n     */\n    @Controller\n    public class LoginController {\n        \n        @RequestMapping(&quot;/login&quot;)\n        public String loginMessage(){\n     \n            return &quot;login&quot;;\n        }\n       \n    }\n    \n    my main class \n    \n    package com.springboot.firstwebapplication.spring;\n    \n    import javax.swing.JOptionPane;\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    \n    @SpringBootApplication\n    public class SpringBootFirstWebApplication {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(SpringBootFirstWebApplication.class, args);\n                    \n                    //JOptionPane.showMessageDialog(null, &quot;I am working &quot;);\n                    System.out.println(&quot;WE are the winners&quot;);\n                    \n        }\n    \n    }\n    \n    my login.jsp\n    \n    \n    &lt;html &gt;\n    &lt;head&gt;\n    &lt;title&gt;First web application&lt;/title&gt;\n            &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt; Welcome ${name}!&lt;/h1&gt;\n    &lt;/body&gt;\n    \n    &lt;/html&gt;\n\n\nmy pom.xml file \n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n\n        &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n          \n    &lt;/parent&gt;   \n\n    &lt;groupId&gt;com.springboot.firstwebapplication&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-first-web-application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-first-web-application&lt;/name&gt;\n    &lt;description&gt;Spring Boot First Web Application&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n        \n  &lt;!--   Musa put these --&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n      &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n         \n   \n         \n            &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n\n \n                 &lt;!--   Musa put these ENDED --&gt;\n\n         \n         \n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","macos","azul-zulu"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1603984482,"post_id":64593869,"comment_id":114214032,"body_markdown":"Check https://docs.azul.com/zulu/zuludocs/ZuluUserGuide/UninstallingZulu/UninstallZulu_MacOSX.htm","body":"Check <a href=\"https://docs.azul.com/zulu/zuludocs/ZuluUserGuide/UninstallingZulu/UninstallZulu_MacOSX.htm\" rel=\"nofollow noreferrer\">docs.azul.com/zulu/zuludocs/ZuluUserGuide/UninstallingZulu/&hellip;</a>"},{"owner":{"display_name":"user6511334"},"score":0,"creation_date":1603984735,"post_id":64593869,"comment_id":114214195,"body_markdown":"I did it, and in the folder Virtual Machine the only folder there is: jdk-15.0.1.jdk","body":"I did it, and in the folder Virtual Machine the only folder there is: jdk-15.0.1.jdk"},{"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"score":1,"creation_date":1603986390,"post_id":64593869,"comment_id":114215075,"body_markdown":"try `which java` to find where this Zulu installation resides","body":"try <code>which java</code> to find where this Zulu installation resides"},{"owner":{"display_name":"user6511334"},"score":0,"creation_date":1604048508,"post_id":64593869,"comment_id":114233793,"body_markdown":"Thank you, I found Zulu in the Anaconda folder","body":"Thank you, I found Zulu in the Anaconda folder"}],"answers":[{"tags":[],"owner":{"account_id":3884390,"reputation":1324,"user_id":3996989,"accept_rate":100,"display_name":"Saba"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1639334348,"creation_date":1621505241,"answer_id":67618258,"question_id":64593869,"body_markdown":"`rm -rf /Library/Java/JavaVirtualMachines/`","title":"Uninstall Open JDK Zulu - Install Oracle JDK / Mac","body":"<p><code>rm -rf /Library/Java/JavaVirtualMachines/</code></p>\n"},{"tags":[],"owner":{"account_id":19562864,"reputation":27,"user_id":14323789,"display_name":"R Buragohain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624110027,"creation_date":1624110027,"answer_id":68047320,"question_id":64593869,"body_markdown":"For reference - in ubuntu 18.04 - the following would do:\r\n\r\n\r\n```rm -rf /usr/lib/jvm/*zulu*```\r\n\r\n```rm -rf /var/lib/dpkg/info/zulu*```","title":"Uninstall Open JDK Zulu - Install Oracle JDK / Mac","body":"<p>For reference - in ubuntu 18.04 - the following would do:</p>\n<p><code>rm -rf /usr/lib/jvm/*zulu*</code></p>\n<p><code>rm -rf /var/lib/dpkg/info/zulu*</code></p>\n"},{"tags":[],"owner":{"account_id":14914693,"reputation":744,"user_id":10768894,"display_name":"Dr Neo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657701394,"creation_date":1657699909,"answer_id":72962929,"question_id":64593869,"body_markdown":"The website uninstall page is changed to this:\r\n\r\n[https://docs.azul.com/core/zulu-openjdk/uninstall/macos][1]\r\n\r\nLaunch Terminal and navigate to the `JavaVirtualMachines` directory:\r\n \r\n```bash\r\n    cd /Library/Java/JavaVirtualMachines/\r\n    # Display the list of directories:\r\n```\r\n \r\n```bash\r\n    % ls -1\r\n    zulu-11.jdk\r\n    zulu-13.jre\r\n    zulu-15.jdk\r\n```\r\nEach directory corresponds to a version of Azul Zulu.\r\n\r\nTo uninstall a specific version of Azul Zulu, use the following command:\r\n\r\n```bash\r\nsudo rm -rf &lt;zulu_directory&gt;\r\n# For example, to uninstall Azul Zulu 11 JDK, run:\r\nsudo rm -rf zulu-11.jdk\r\n```\r\n \r\n## Note \r\nThere are two other locations that should not be `rm` as they are shipped with the `macOS` these are\r\n\r\n```bash\r\n# java_home\r\n/usr/libexec\r\n# java \r\n/usr/bin/ \r\n# try to find them using \r\n# at /usr/bin/ for example\r\n#/usr/bin\r\nls -lgh | grep java | xargs -I {}\r\n# you will get all the wheel \r\n-rwxr-xr-x 52 wheel 164K May 10 06:30 java\r\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javac\r\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javadoc\r\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javah\r\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javap\r\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javapackager\r\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javaws\r\n \r\n```\r\n\r\n\r\n  [1]: https://docs.azul.com/core/zulu-openjdk/uninstall/macos","title":"Uninstall Open JDK Zulu - Install Oracle JDK / Mac","body":"<p>The website uninstall page is changed to this:</p>\n<p><a href=\"https://docs.azul.com/core/zulu-openjdk/uninstall/macos\" rel=\"noreferrer\">https://docs.azul.com/core/zulu-openjdk/uninstall/macos</a></p>\n<p>Launch Terminal and navigate to the <code>JavaVirtualMachines</code> directory:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>    cd /Library/Java/JavaVirtualMachines/\n    # Display the list of directories:\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>    % ls -1\n    zulu-11.jdk\n    zulu-13.jre\n    zulu-15.jdk\n</code></pre>\n<p>Each directory corresponds to a version of Azul Zulu.</p>\n<p>To uninstall a specific version of Azul Zulu, use the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo rm -rf &lt;zulu_directory&gt;\n# For example, to uninstall Azul Zulu 11 JDK, run:\nsudo rm -rf zulu-11.jdk\n</code></pre>\n<h2>Note</h2>\n<p>There are two other locations that should not be <code>rm</code> as they are shipped with the <code>macOS</code> these are</p>\n<pre class=\"lang-bash prettyprint-override\"><code># java_home\n/usr/libexec\n# java \n/usr/bin/ \n# try to find them using \n# at /usr/bin/ for example\n#/usr/bin\nls -lgh | grep java | xargs -I {}\n# you will get all the wheel \n-rwxr-xr-x 52 wheel 164K May 10 06:30 java\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javac\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javadoc\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javah\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javap\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javapackager\n-rwxr-xr-x 52 wheel 164K May 10 06:30 javaws\n \n</code></pre>\n"}],"owner":{"display_name":"user6511334"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8140,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":67618258,"answer_count":3,"score":5,"last_activity_date":1657701394,"creation_date":1603984028,"question_id":64593869,"body_markdown":"I&#39;m having some problems trying to install the last version of Oracle Java JDk on my Mac running macOS Catalina 10.15.7.\r\nBrief, when I use the java -version command I get this information:\r\n[![Java Version on my Mac][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yx3Mv.png\r\nI never ever installed Zulu, does it come with the Mac or do I have it because I have anaconda navigator? Sorry but I don&#39;t use very often Java, I&#39;m more a Python person\r\n\r\nAnyways, I also tried to uninstall Java completely and install Java from scratch, but I still get that version and Zulu.\r\n\r\nI would be extremely grateful if someone could tell how to get rid of Zulu or if I can use Oracle Java JDK without uninstalling Zulu.\r\n\r\nThank you very much in advance\r\n\r\n","title":"Uninstall Open JDK Zulu - Install Oracle JDK / Mac","body":"<p>I'm having some problems trying to install the last version of Oracle Java JDk on my Mac running macOS Catalina 10.15.7.\nBrief, when I use the java -version command I get this information:\n<a href=\"https://i.stack.imgur.com/Yx3Mv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Yx3Mv.png\" alt=\"Java Version on my Mac\" /></a></p>\n<p>I never ever installed Zulu, does it come with the Mac or do I have it because I have anaconda navigator? Sorry but I don't use very often Java, I'm more a Python person</p>\n<p>Anyways, I also tried to uninstall Java completely and install Java from scratch, but I still get that version and Zulu.</p>\n<p>I would be extremely grateful if someone could tell how to get rid of Zulu or if I can use Oracle Java JDK without uninstalling Zulu.</p>\n<p>Thank you very much in advance</p>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1657529343,"post_id":72935847,"comment_id":128822869,"body_markdown":"What is your question","body":"What is your question"},{"owner":{"account_id":9168132,"reputation":517,"user_id":6816893,"display_name":"Anjani Mittal"},"score":0,"creation_date":1657529449,"post_id":72935847,"comment_id":128822902,"body_markdown":"@NicoVanBelle I need solution to creating this API that filters the data in postgres DB and provides with a page wise response. Code for achieving the same tasks mentioned above","body":"@NicoVanBelle I need solution to creating this API that filters the data in postgres DB and provides with a page wise response. Code for achieving the same tasks mentioned above"}],"answers":[{"tags":[],"owner":{"account_id":25781655,"reputation":109,"user_id":19527184,"display_name":"gaurav jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657548524,"creation_date":1657548524,"answer_id":72939916,"question_id":72935847,"body_markdown":"first, create a pageable object.\r\nPageable pageable = PageRequest.of(pageNumber, limit);\r\n\r\nthem just run\r\nrepoName.findByNameOfColumn(value,pageable);\r\n\r\nyou have to declare the function\r\nfindByNameOfColumn(value)\r\ninside your jpa Repository\r\n","title":"Filtering &amp; Paging API in Spring Boot Application","body":"<p>first, create a pageable object.\nPageable pageable = PageRequest.of(pageNumber, limit);</p>\n<p>them just run\nrepoName.findByNameOfColumn(value,pageable);</p>\n<p>you have to declare the function\nfindByNameOfColumn(value)\ninside your jpa Repository</p>\n"}],"owner":{"account_id":9168132,"reputation":517,"user_id":6816893,"display_name":"Anjani Mittal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657548732,"answer_count":1,"score":0,"last_activity_date":1657701316,"creation_date":1657529151,"question_id":72935847,"body_markdown":"My requirement is to create an API that provides me filtered results page wise.\r\n\r\nI have a JSONB structure with customer name and email id and want the API to filter based on these fields and provide paged results.\r\n\r\neg. /search/abc/pageNo/1   -&gt; upon passing customer name the api should search all data with same customer name in DB and reply with 10 queries for display on page 1. if page value is 2 then it should provide with next 10 entries with customer name &quot;abc&quot;\r\n\r\n\r\nTasks here-&gt;\r\n\r\n 1. Fetch values of fields inside the JSONB structure in postgresql.\r\n 2. Filter based on the input value from api and fetch all rows which contains the same customer name or email id\r\n 3. Return a paged response of these filtered values.\r\n\r\n\r\n**EDIT:**\r\n\r\nNeed help in creating a function that filters (not sorts) and returns a paged response.\r\n\r\nI have also tried using @Query but it doesn&#39;t work-&gt;\r\nI want it to be genric cause there are 6 columns and one column is JSONB type \r\n```\r\n    @Query(&quot;SELECT q FROM quote q WHERE q.column1 LIKE %?1%&quot;  \r\n           + &quot; OR q.customerDetails-&gt;&gt;firstName LIKE %?1%&quot; \r\n          + &quot; OR q.column2 LIKE %?1%&quot;) \r\n    public List&lt;Customer&gt; search(String keyword);\r\n```","title":"Filtering &amp; Paging API in Spring Boot Application","body":"<p>My requirement is to create an API that provides me filtered results page wise.</p>\n<p>I have a JSONB structure with customer name and email id and want the API to filter based on these fields and provide paged results.</p>\n<p>eg. /search/abc/pageNo/1   -&gt; upon passing customer name the api should search all data with same customer name in DB and reply with 10 queries for display on page 1. if page value is 2 then it should provide with next 10 entries with customer name &quot;abc&quot;</p>\n<p>Tasks here-&gt;</p>\n<ol>\n<li>Fetch values of fields inside the JSONB structure in postgresql.</li>\n<li>Filter based on the input value from api and fetch all rows which contains the same customer name or email id</li>\n<li>Return a paged response of these filtered values.</li>\n</ol>\n<p><strong>EDIT:</strong></p>\n<p>Need help in creating a function that filters (not sorts) and returns a paged response.</p>\n<p>I have also tried using @Query but it doesn't work-&gt;\nI want it to be genric cause there are 6 columns and one column is JSONB type</p>\n<pre><code>    @Query(&quot;SELECT q FROM quote q WHERE q.column1 LIKE %?1%&quot;  \n           + &quot; OR q.customerDetails-&gt;&gt;firstName LIKE %?1%&quot; \n          + &quot; OR q.column2 LIKE %?1%&quot;) \n    public List&lt;Customer&gt; search(String keyword);\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":2341852,"reputation":509,"user_id":2052954,"display_name":"vmallet"},"score":2,"creation_date":1620451439,"post_id":67444270,"comment_id":119209932,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"score":0,"creation_date":1620451614,"post_id":67444270,"comment_id":119209947,"body_markdown":"What are you trying to achieve, convert the string to array of integers?","body":"What are you trying to achieve, convert the string to array of integers?"},{"owner":{"account_id":9171649,"reputation":468,"user_id":6818919,"display_name":"Aditya Vikram Singh"},"score":0,"creation_date":1620453751,"post_id":67444270,"comment_id":119210239,"body_markdown":"I wanted to know about the best practice to convert String  to a String [] , it can be a array to strings","body":"I wanted to know about the best practice to convert String  to a String [] , it can be a array to strings"}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620452029,"creation_date":1620452029,"answer_id":67444383,"question_id":67444270,"body_markdown":"I exactly, don&#39;t gather whether you want an array of Strings or an array of Integer as your result, but for the example, you have provided, this should work.\r\n\r\n    import java.util.Arrays;\r\n    class HelloWorld {\r\n        public static void main(String[] args) {\r\n            String x = &quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot;;\r\n            String[] array = x.split(&quot;\\&quot;&quot;);\r\n            array = Arrays.stream(array).filter(i -&gt; i.matches(&quot;[\\\\dA-Za-z]&quot;)).toArray(String[]::new);\r\n            System.out.println(Arrays.toString(array)); \r\n        }\r\n    }\r\n\r\nI have filtered the array because initially there will be some empty strings and opening and closing braces as strings.","title":"Java Convert String to Array &quot;[1,2,3,4,5,5]&quot; to [1,2,3,4,5,5]","body":"<p>I exactly, don't gather whether you want an array of Strings or an array of Integer as your result, but for the example, you have provided, this should work.</p>\n<pre><code>import java.util.Arrays;\nclass HelloWorld {\n    public static void main(String[] args) {\n        String x = &quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot;;\n        String[] array = x.split(&quot;\\&quot;&quot;);\n        array = Arrays.stream(array).filter(i -&gt; i.matches(&quot;[\\\\dA-Za-z]&quot;)).toArray(String[]::new);\n        System.out.println(Arrays.toString(array)); \n    }\n}\n</code></pre>\n<p>I have filtered the array because initially there will be some empty strings and opening and closing braces as strings.</p>\n"},{"tags":[],"owner":{"account_id":18338728,"reputation":36,"user_id":13355540,"display_name":"Sai Ashish Das"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620452195,"creation_date":1620452195,"answer_id":67444397,"question_id":67444270,"body_markdown":"You can use ObjectMapper on the string\r\n```\r\nList list = new ObjectMapper().readValue(x, List.class); // list of object\r\n```\r\ncast them to your required class","title":"Java Convert String to Array &quot;[1,2,3,4,5,5]&quot; to [1,2,3,4,5,5]","body":"<p>You can use ObjectMapper on the string</p>\n<pre><code>List list = new ObjectMapper().readValue(x, List.class); // list of object\n</code></pre>\n<p>cast them to your required class</p>\n"},{"tags":[],"owner":{"account_id":21485767,"reputation":938,"user_id":15832433,"display_name":"kausko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620452757,"creation_date":1620452757,"answer_id":67444456,"question_id":67444270,"body_markdown":"You can use `JSONArray` in the `org.json` package to parse the string as an array.\r\n```java\r\nimport org.json.JSONArray;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot;;\r\n\t\tJSONArray jsonArray = new JSONArray(x);\r\n\t\tString [] stringArray = new String[jsonArray.length()];\r\n\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t\t\tstringArray[i] = jsonArray.getString(i);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nFor integer arrays, you can use `getInt(i)` instead.","title":"Java Convert String to Array &quot;[1,2,3,4,5,5]&quot; to [1,2,3,4,5,5]","body":"<p>You can use <code>JSONArray</code> in the <code>org.json</code> package to parse the string as an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.json.JSONArray;\n\npublic class Test {\n    public static void main(String[] args) {\n        String x = &quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot;;\n        JSONArray jsonArray = new JSONArray(x);\n        String [] stringArray = new String[jsonArray.length()];\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            stringArray[i] = jsonArray.getString(i);\n        }\n    }\n}\n\n</code></pre>\n<p>For integer arrays, you can use <code>getInt(i)</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657701097,"creation_date":1657701097,"answer_id":72963156,"question_id":67444270,"body_markdown":"[Sai Ashish Das answer][1] is working well. But I recommnad to use generics through TypeReference  for type safe.\r\n```\r\nObjectMapper om = new ObjectMapper();\r\nList&lt;String&gt; result = om.readValue(&quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot;, new TypeReference&lt;List&lt;String&gt;&gt;() {});\r\n\r\nresult.forEach(System.out::println); // a , 1\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67444397/15510171","title":"Java Convert String to Array &quot;[1,2,3,4,5,5]&quot; to [1,2,3,4,5,5]","body":"<p><a href=\"https://stackoverflow.com/a/67444397/15510171\">Sai Ashish Das answer</a> is working well. But I recommnad to use generics through TypeReference  for type safe.</p>\n<pre><code>ObjectMapper om = new ObjectMapper();\nList&lt;String&gt; result = om.readValue(&quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot;, new TypeReference&lt;List&lt;String&gt;&gt;() {});\n\nresult.forEach(System.out::println); // a , 1\n</code></pre>\n"}],"owner":{"account_id":9171649,"reputation":468,"user_id":6818919,"display_name":"Aditya Vikram Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3731,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":67444383,"answer_count":4,"score":-1,"last_activity_date":1657701097,"creation_date":1620450381,"question_id":67444270,"body_markdown":"I am trying to convert a string which is a in the format \r\n\r\n    String x= &quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot; ;\r\n\r\n\r\nto \r\n \r\n\r\n    String [] vals =[&quot;a&quot; , &quot;1&quot;];\r\n\r\n\r\nI am currently doing it in two steps \r\n\r\n 1. removing the [ &amp; ] from the string \r\n 2. Splitting the string with at the comma character \r\n\r\n    \r\n\r\n&gt; `String x2=&quot;\\&quot;a\\&quot;,\\&quot;1\\&quot;&quot;`\r\n\r\n&gt; `x2.split(&quot;,&quot;)`\r\n\r\n    \r\n\r\n\r\n","title":"Java Convert String to Array &quot;[1,2,3,4,5,5]&quot; to [1,2,3,4,5,5]","body":"<p>I am trying to convert a string which is a in the format</p>\n<pre><code>String x= &quot;[\\&quot;a\\&quot;,\\&quot;1\\&quot;]&quot; ;\n</code></pre>\n<p>to</p>\n<pre><code>String [] vals =[&quot;a&quot; , &quot;1&quot;];\n</code></pre>\n<p>I am currently doing it in two steps</p>\n<ol>\n<li>removing the [ &amp; ] from the string</li>\n<li>Splitting the string with at the comma character</li>\n</ol>\n<blockquote>\n<p><code>String x2=&quot;\\&quot;a\\&quot;,\\&quot;1\\&quot;&quot;</code></p>\n</blockquote>\n<blockquote>\n<p><code>x2.split(&quot;,&quot;)</code></p>\n</blockquote>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"score":2,"creation_date":1657695056,"post_id":72961973,"comment_id":128868543,"body_markdown":"Just to pick a nit, and I don&#39;t see it as the root of the problem, but `&quot;1234567.89&quot;` ain&#39;t *an integer which is in string format*.","body":"Just to pick a nit, and I don&#39;t see it as the root of the problem, but <code>&quot;1234567.89&quot;</code> ain&#39;t <i>an integer which is in string format</i>."},{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":2,"creation_date":1657696346,"post_id":72961973,"comment_id":128868928,"body_markdown":"I changed it to Double.parseDouble and it worked somehow","body":"I changed it to Double.parseDouble and it worked somehow"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1657702030,"post_id":72961973,"comment_id":128870780,"body_markdown":"I strongly recommend you to ***not*** use `float` or `double` for currency, as this tends to be inaccurate at times.","body":"I strongly recommend you to <b><i>not</i></b> use <code>float</code> or <code>double</code> for currency, as this tends to be inaccurate at times."}],"answers":[{"tags":[],"owner":{"account_id":25797123,"reputation":1,"user_id":19540117,"display_name":"zhouquan wu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657701090,"creation_date":1657701090,"answer_id":72963155,"question_id":72961973,"body_markdown":"```\r\n NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;)).format(new BigDecimal(amount));\r\n```","title":"Formatting integer to currency without rounding it up","body":"<pre><code> NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;)).format(new BigDecimal(amount));\n</code></pre>\n"}],"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657701090,"creation_date":1657694871,"question_id":72961973,"body_markdown":"I learning java and I am trying to learn conversion to currency format.\r\n\r\n ```\r\nString amount = &quot;1234567.89&quot;\r\namount = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;)).format(Float.parseFloat(amount);\r\n```\r\nBut the output for this becomes\r\n```\r\n$1,234,568.00\r\n```\r\n\r\nI don&#39;t want the value to round up and the output to be \r\n```\r\n$1,234,567.89\r\n```\r\n\r\nNot sure how to do it.","title":"Formatting integer to currency without rounding it up","body":"<p>I learning java and I am trying to learn conversion to currency format.</p>\n<pre><code>String amount = &quot;1234567.89&quot;\namount = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;)).format(Float.parseFloat(amount);\n</code></pre>\n<p>But the output for this becomes</p>\n<pre><code>$1,234,568.00\n</code></pre>\n<p>I don't want the value to round up and the output to be</p>\n<pre><code>$1,234,567.89\n</code></pre>\n<p>Not sure how to do it.</p>\n"},{"tags":["java","embedded","jetty","http2"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1657637589,"post_id":72952268,"comment_id":128855186,"body_markdown":"Use a proper hostname if you are testing https (SSL/TLS).  Chrome has special behavior for localhost, and ip addresses that will get in your way (done due to security concerns).  Not to mention that Java itself (on your server side) will also have similar restrictions for using localhost or ip addresses with TLS.","body":"Use a proper hostname if you are testing https (SSL/TLS).  Chrome has special behavior for localhost, and ip addresses that will get in your way (done due to security concerns).  Not to mention that Java itself (on your server side) will also have similar restrictions for using localhost or ip addresses with TLS."}],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657634950,"creation_date":1657634950,"answer_id":72953716,"question_id":72952268,"body_markdown":"You don&#39;t need to re-wrap the `ConnectionFactory`s using `AbstractConnectionFactory.getFactories(...)`.\r\n\r\nSee [this section](https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#pg-server-http-connector-protocol-http2-tls) of the documentation to setup HTTP/2 over TLS.\r\n\r\nMake sure the KeyStore contains a valid certificate, even if it is self-signed.\r\n\r\nYou can also try to run (from your IDE) [this example](https://github.com/eclipse/jetty.project/blob/jetty-11.0.11/demos/embedded/src/main/java/org/eclipse/jetty/demos/Http2Server.java).\r\n","title":"How to enable http/2 on an embedded Jetty 10?","body":"<p>You don't need to re-wrap the <code>ConnectionFactory</code>s using <code>AbstractConnectionFactory.getFactories(...)</code>.</p>\n<p>See <a href=\"https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#pg-server-http-connector-protocol-http2-tls\" rel=\"nofollow noreferrer\">this section</a> of the documentation to setup HTTP/2 over TLS.</p>\n<p>Make sure the KeyStore contains a valid certificate, even if it is self-signed.</p>\n<p>You can also try to run (from your IDE) <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-11.0.11/demos/embedded/src/main/java/org/eclipse/jetty/demos/Http2Server.java\" rel=\"nofollow noreferrer\">this example</a>.</p>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657700884,"creation_date":1657700884,"answer_id":72963122,"question_id":72952268,"body_markdown":"The cause of the problem was:\r\n\r\nwrong:\r\n\r\n    HTTP2CServerConnectionFactory http2 = new HTTP2CServerConnectionFactory( httpConfig );\r\n\r\nright:\r\n\r\n    HTTP2ServerConnectionFactory http2 = new HTTP2ServerConnectionFactory( httpConfig );\r\n\r\nWhy ever any create such classes with such similar class name.","title":"How to enable http/2 on an embedded Jetty 10?","body":"<p>The cause of the problem was:</p>\n<p>wrong:</p>\n<pre><code>HTTP2CServerConnectionFactory http2 = new HTTP2CServerConnectionFactory( httpConfig );\n</code></pre>\n<p>right:</p>\n<pre><code>HTTP2ServerConnectionFactory http2 = new HTTP2ServerConnectionFactory( httpConfig );\n</code></pre>\n<p>Why ever any create such classes with such similar class name.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72953716,"answer_count":2,"score":0,"last_activity_date":1657700918,"creation_date":1657628694,"question_id":72952268,"body_markdown":"I try to enable http/2 on my Jetty 10.0.11 without luck. I use the follow code to create the ServerConnector:\r\n\r\n``` java\r\nHttpConfiguration httpConfig = new HttpConfiguration();\r\nhttpConfig.setSendServerVersion( false );\r\nhttpConfig.setSendXPoweredBy( false );\r\nHttpConnectionFactory http1 = new HttpConnectionFactory( httpConfig );\r\n\r\nhttpConfig.addCustomizer( new SecureRequestCustomizer( false ) ); // for https://localhost\r\n\r\nSslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n// ... load the certificate\r\nsslContextFactory.setCipherComparator( HTTP2Cipher.COMPARATOR );\r\n\r\nThread.currentThread().setContextClassLoader( getClass().getClassLoader() ); // for service worker\r\n//HTTP2CServerConnectionFactory http2 = new HTTP2CServerConnectionFactory( httpConfig );\r\nHTTP2ServerConnectionFactory http2 = new HTTP2ServerConnectionFactory( httpConfig );\r\nALPNServerConnectionFactory alpn = new ALPNServerConnectionFactory();\r\nalpn.setDefaultProtocol( http1.getProtocol() );\r\nSslConnectionFactory ssl = new SslConnectionFactory( sslContextFactory, alpn.getProtocol() );\r\n\r\nServerConnector connector = new ServerConnector( this, acceptors, selectors, ssl, alpn, http2, http1 );\r\n\r\nconnector.setReuseAddress( false );\r\nconnector.setPort( port );\r\nconnector.setAcceptQueueSize( MAX_CONCURRENT_REQUESTS.get().intValue() );\r\n```\r\nI have add the follow additional libraries for http/2:\r\n* org.eclipse.jetty.http2:http2-server\r\n* org.eclipse.jetty.http2:http2-common\r\n* org.eclipse.jetty.http2:http2-hpack\r\n* org.eclipse.jetty:jetty-alpn-server\r\n* org.eclipse.jetty:jetty-alpn-java-server\r\n\r\n---\r\nIf I try it with `https://localhost` the browser (Chrome) is using ever http/1.1.\r\n\r\n* Does http/2 does not work with localhost?\r\n* Does I need to add more libraries? Which?\r\n* What is wrong on my code?\r\n* Must I change some things on my servlets?","title":"How to enable http/2 on an embedded Jetty 10?","body":"<p>I try to enable http/2 on my Jetty 10.0.11 without luck. I use the follow code to create the ServerConnector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpConfiguration httpConfig = new HttpConfiguration();\nhttpConfig.setSendServerVersion( false );\nhttpConfig.setSendXPoweredBy( false );\nHttpConnectionFactory http1 = new HttpConnectionFactory( httpConfig );\n\nhttpConfig.addCustomizer( new SecureRequestCustomizer( false ) ); // for https://localhost\n\nSslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n// ... load the certificate\nsslContextFactory.setCipherComparator( HTTP2Cipher.COMPARATOR );\n\nThread.currentThread().setContextClassLoader( getClass().getClassLoader() ); // for service worker\n//HTTP2CServerConnectionFactory http2 = new HTTP2CServerConnectionFactory( httpConfig );\nHTTP2ServerConnectionFactory http2 = new HTTP2ServerConnectionFactory( httpConfig );\nALPNServerConnectionFactory alpn = new ALPNServerConnectionFactory();\nalpn.setDefaultProtocol( http1.getProtocol() );\nSslConnectionFactory ssl = new SslConnectionFactory( sslContextFactory, alpn.getProtocol() );\n\nServerConnector connector = new ServerConnector( this, acceptors, selectors, ssl, alpn, http2, http1 );\n\nconnector.setReuseAddress( false );\nconnector.setPort( port );\nconnector.setAcceptQueueSize( MAX_CONCURRENT_REQUESTS.get().intValue() );\n</code></pre>\n<p>I have add the follow additional libraries for http/2:</p>\n<ul>\n<li>org.eclipse.jetty.http2:http2-server</li>\n<li>org.eclipse.jetty.http2:http2-common</li>\n<li>org.eclipse.jetty.http2:http2-hpack</li>\n<li>org.eclipse.jetty:jetty-alpn-server</li>\n<li>org.eclipse.jetty:jetty-alpn-java-server</li>\n</ul>\n<hr />\n<p>If I try it with <code>https://localhost</code> the browser (Chrome) is using ever http/1.1.</p>\n<ul>\n<li>Does http/2 does not work with localhost?</li>\n<li>Does I need to add more libraries? Which?</li>\n<li>What is wrong on my code?</li>\n<li>Must I change some things on my servlets?</li>\n</ul>\n"},{"tags":["java","c#","android","xamarin","xamarin.forms"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657702352,"post_id":72963081,"comment_id":128870903,"body_markdown":"what actual programming language is this about?","body":"what actual programming language is this about?"},{"owner":{"account_id":6918788,"reputation":629,"user_id":5312103,"display_name":"MrSpt"},"score":0,"creation_date":1657708089,"post_id":72963081,"comment_id":128872844,"body_markdown":"C# with xamarin forms.","body":"C# with xamarin forms."},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1657787807,"post_id":72963081,"comment_id":128895088,"body_markdown":"Did this issue just appear on this kind of device and worked well on others? In addition, can you debug it on this device to find which line caused this error?","body":"Did this issue just appear on this kind of device and worked well on others? In addition, can you debug it on this device to find which line caused this error?"},{"owner":{"account_id":6918788,"reputation":629,"user_id":5312103,"display_name":"MrSpt"},"score":0,"creation_date":1657798434,"post_id":72963081,"comment_id":128898701,"body_markdown":"The app is only used on this devices. I am not able to debug it sorry, but regarding the callstack i would say it&#39;s caused by the backspace on the hardware keyboard. Really confused why the key events are handled by the NestedScrollView and not from an entry or so.","body":"The app is only used on this devices. I am not able to debug it sorry, but regarding the callstack i would say it&#39;s caused by the backspace on the hardware keyboard. Really confused why the key events are handled by the NestedScrollView and not from an entry or so."},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1658121378,"post_id":72963081,"comment_id":128962976,"body_markdown":"But you said sometimes? Do you mean it works well some times?","body":"But you said sometimes? Do you mean it works well some times?"},{"owner":{"account_id":6918788,"reputation":629,"user_id":5312103,"display_name":"MrSpt"},"score":0,"creation_date":1658125825,"post_id":72963081,"comment_id":128963795,"body_markdown":"Yes the crash appears rarely","body":"Yes the crash appears rarely"},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1658221860,"post_id":72963081,"comment_id":128991753,"body_markdown":"Do all the devices running the project have the same android version?","body":"Do all the devices running the project have the same android version?"},{"owner":{"account_id":6918788,"reputation":629,"user_id":5312103,"display_name":"MrSpt"},"score":0,"creation_date":1658222564,"post_id":72963081,"comment_id":128992040,"body_markdown":"Yes, all devices use 8.1.0.","body":"Yes, all devices use 8.1.0."},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1658304314,"post_id":72963081,"comment_id":129015441,"body_markdown":"According to the information you provided, I can&#39;t reproduce it. And the logs show the `java.lang.IndexOutOfBoundsException`, can you find it&#39;s location?","body":"According to the information you provided, I can&#39;t reproduce it. And the logs show the <code>java.lang.IndexOutOfBoundsException</code>, can you find it&#39;s location?"},{"owner":{"account_id":6918788,"reputation":629,"user_id":5312103,"display_name":"MrSpt"},"score":0,"creation_date":1658305019,"post_id":72963081,"comment_id":129015713,"body_markdown":"Really bad for me. I posted all information which i got for this issue sorry.","body":"Really bad for me. I posted all information which i got for this issue sorry."},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1658738530,"post_id":72963081,"comment_id":129116559,"body_markdown":"But according to these messages, I can&#39;t find what caused the error.","body":"But according to these messages, I can&#39;t find what caused the error."}],"owner":{"account_id":6918788,"reputation":629,"user_id":5312103,"display_name":"MrSpt"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657700653,"creation_date":1657700653,"question_id":72963081,"body_markdown":"We are facing a quiet strange behavior in our Xamarin forms app. Sometimes the app crashes on a Zebra Technologies MC33 device with android version 8.1.0. Xamarin forms version is 5.0.0.2478. The following exception is retrieved from the app center. I don&#39;t know how this happens and i was not able to reproduce it.\r\n\r\n    java.lang.IndexOutOfBoundsException: replace (-1 ... 0) starts before 0\r\n      at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1314)\r\n      at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:510)\r\n      at android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:229)\r\n      at android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:227)\r\n      at android.text.method.BaseKeyListener.backspaceOrForwardDelete(BaseKeyListener.java:370)\r\n      at android.text.method.BaseKeyListener.backspace(BaseKeyListener.java:71)\r\n      at android.text.method.BaseKeyListener.onKeyDown(BaseKeyListener.java:479)\r\n      at android.text.method.MpaMultiTapKeyListener.onKeyDown(MpaMultiTapKeyListener.java:261)\r\n      at android.text.method.TextKeyListener.onKeyDown(TextKeyListener.java:196)\r\n      at android.widget.TextView.doKeyDown(TextView.java:7335)\r\n      at android.widget.TextView.onKeyDown(TextView.java:7112)\r\n      at android.view.KeyEvent.dispatch(KeyEvent.java:2874)\r\n      at android.view.View.dispatchKeyEvent(View.java:11713)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at androidx.core.widget.NestedScrollView.dispatchKeyEvent(NestedScrollView.java:622)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at androidx.core.widget.NestedScrollView.dispatchKeyEvent(NestedScrollView.java:622)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\r\n      at com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:440)\r\n      at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1819)\r\n      at androidx.core.view.KeyEventDispatcher.activitySuperDispatchKeyEventPre28(KeyEventDispatcher.java:130)\r\n      at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:87)\r\n      at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:140)\r\n      at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent(AppCompatActivity.java:599)\r\n      at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)\r\n      at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent(AppCompatDelegateImpl.java:3068)\r\n      at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)\r\n      at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:354)\r\n      at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:4802)\r\n      at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4674)\r\n      at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4206)\r\n      at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4259)\r\n      at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4225)\r\n      at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4352)\r\n      at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4233)\r\n      at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4409)\r\n      at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4206)\r\n      at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4259)\r\n      at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4225)\r\n      at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4233)\r\n      at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4206)\r\n      at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4259)\r\n      at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4225)\r\n      at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4385)\r\n      at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent(ViewRootImpl.java:4546)\r\n      at android.view.inputmethod.InputMethodManager$PendingEvent.run(InputMethodManager.java:2435)\r\n      at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback(InputMethodManager.java:1998)\r\n      at android.view.inputmethod.InputMethodManager.finishedInputEvent(InputMethodManager.java:1989)\r\n      at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished(InputMethodManager.java:2412)\r\n      at android.view.InputEventSender.dispatchInputEventFinished(InputEventSender.java:141)\r\n      at android.os.MessageQueue.nativePollOnce(MessageQueue.java:-2)\r\n      at android.os.MessageQueue.next(MessageQueue.java:325)\r\n      at android.os.Looper.loop(Looper.java:142)\r\n      at android.app.ActivityThread.main(ActivityThread.java:6518)\r\n      at java.lang.reflect.Method.invoke(Method.java:-2)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)","title":"NestedScrollView: java.lang.IndexOutOfBoundsException","body":"<p>We are facing a quiet strange behavior in our Xamarin forms app. Sometimes the app crashes on a Zebra Technologies MC33 device with android version 8.1.0. Xamarin forms version is 5.0.0.2478. The following exception is retrieved from the app center. I don't know how this happens and i was not able to reproduce it.</p>\n<pre><code>java.lang.IndexOutOfBoundsException: replace (-1 ... 0) starts before 0\n  at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1314)\n  at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:510)\n  at android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:229)\n  at android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:227)\n  at android.text.method.BaseKeyListener.backspaceOrForwardDelete(BaseKeyListener.java:370)\n  at android.text.method.BaseKeyListener.backspace(BaseKeyListener.java:71)\n  at android.text.method.BaseKeyListener.onKeyDown(BaseKeyListener.java:479)\n  at android.text.method.MpaMultiTapKeyListener.onKeyDown(MpaMultiTapKeyListener.java:261)\n  at android.text.method.TextKeyListener.onKeyDown(TextKeyListener.java:196)\n  at android.widget.TextView.doKeyDown(TextView.java:7335)\n  at android.widget.TextView.onKeyDown(TextView.java:7112)\n  at android.view.KeyEvent.dispatch(KeyEvent.java:2874)\n  at android.view.View.dispatchKeyEvent(View.java:11713)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at androidx.core.widget.NestedScrollView.dispatchKeyEvent(NestedScrollView.java:622)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at androidx.core.widget.NestedScrollView.dispatchKeyEvent(NestedScrollView.java:622)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1834)\n  at com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:440)\n  at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1819)\n  at androidx.core.view.KeyEventDispatcher.activitySuperDispatchKeyEventPre28(KeyEventDispatcher.java:130)\n  at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:87)\n  at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:140)\n  at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent(AppCompatActivity.java:599)\n  at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)\n  at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent(AppCompatDelegateImpl.java:3068)\n  at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)\n  at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:354)\n  at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:4802)\n  at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4674)\n  at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4206)\n  at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4259)\n  at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4225)\n  at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4352)\n  at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4233)\n  at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4409)\n  at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4206)\n  at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4259)\n  at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4225)\n  at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4233)\n  at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4206)\n  at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4259)\n  at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4225)\n  at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4385)\n  at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent(ViewRootImpl.java:4546)\n  at android.view.inputmethod.InputMethodManager$PendingEvent.run(InputMethodManager.java:2435)\n  at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback(InputMethodManager.java:1998)\n  at android.view.inputmethod.InputMethodManager.finishedInputEvent(InputMethodManager.java:1989)\n  at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished(InputMethodManager.java:2412)\n  at android.view.InputEventSender.dispatchInputEventFinished(InputEventSender.java:141)\n  at android.os.MessageQueue.nativePollOnce(MessageQueue.java:-2)\n  at android.os.MessageQueue.next(MessageQueue.java:325)\n  at android.os.Looper.loop(Looper.java:142)\n  at android.app.ActivityThread.main(ActivityThread.java:6518)\n  at java.lang.reflect.Method.invoke(Method.java:-2)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657700872,"post_id":72963073,"comment_id":128870387,"body_markdown":"Your logic doesn&#39;t make sense... Why would you need to move it because of a parallel read? Seems like there is another problem you solved in a wrong way.","body":"Your logic doesn&#39;t make sense... Why would you need to move it because of a parallel read? Seems like there is another problem you solved in a wrong way."},{"owner":{"account_id":25797273,"reputation":1,"user_id":19540242,"display_name":"Juzo"},"score":0,"creation_date":1657701861,"post_id":72963073,"comment_id":128870722,"body_markdown":"This is valid, but I am not particularly allowed to rewrite something that was written incorrectly. This pulls along such problems - @M.Deinum","body":"This is valid, but I am not particularly allowed to rewrite something that was written incorrectly. This pulls along such problems - @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657702175,"post_id":72963073,"comment_id":128870834,"body_markdown":"Ehrm so instead of solving it correctly you want some dirty hack that might even make it worse? The reasoning just doesn&#39;t make sense, nor the XML part... If you want to load additional property files Spring Boot has support for that (which is pretty well documented and you don&#39;t need anything additional for that).","body":"Ehrm so instead of solving it correctly you want some dirty hack that might even make it worse? The reasoning just doesn&#39;t make sense, nor the XML part... If you want to load additional property files Spring Boot has support for that (which is pretty well documented and you don&#39;t need anything additional for that)."},{"owner":{"account_id":25797273,"reputation":1,"user_id":19540242,"display_name":"Juzo"},"score":0,"creation_date":1657702427,"post_id":72963073,"comment_id":128870942,"body_markdown":"@M.Deinum Maybe I didn&#39;t get you right or you got me. Why do you think it&#39;s a &quot;dirty hack&quot; if I need to separate spring settings and &quot;user&quot; data.","body":"@M.Deinum Maybe I didn&#39;t get you right or you got me. Why do you think it&#39;s a &quot;dirty hack&quot; if I need to separate spring settings and &quot;user&quot; data."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657703451,"post_id":72963073,"comment_id":128871303,"body_markdown":"There are just settings, like spring settings. The difference only exists in your head. Your question is mentioning a parallel issue, which is something with concurrency hence a dirty hack but apparently you meant you want to separate the properties. Spring Boot already supports that and as mentioned how to do that is documented pretty well in the official documentation. Hint something like `--spring.config.additional-location` as a parameter while starting, or adding it the the `SpringApplication` in the main method.","body":"There are just settings, like spring settings. The difference only exists in your head. Your question is mentioning a parallel issue, which is something with concurrency hence a dirty hack but apparently you meant you want to separate the properties. Spring Boot already supports that and as mentioned how to do that is documented pretty well in the official documentation. Hint something like <code>--spring.config.additional-location</code> as a parameter while starting, or adding it the the <code>SpringApplication</code> in the main method."},{"owner":{"account_id":25797273,"reputation":1,"user_id":19540242,"display_name":"Juzo"},"score":0,"creation_date":1657703969,"post_id":72963073,"comment_id":128871488,"body_markdown":"@M.Deinum I think I got your thought. I have no idea why this thought did not occur to me. Thank you for your help, but I feel slightly humiliated :))","body":"@M.Deinum I think I got your thought. I have no idea why this thought did not occur to me. Thank you for your help, but I feel slightly humiliated :))"}],"owner":{"account_id":25797273,"reputation":1,"user_id":19540242,"display_name":"Juzo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657700616,"creation_date":1657700616,"question_id":72963073,"body_markdown":"Early data lay in the application.yml file, but it was necessary to move it into a separate file to solve a parallel problem. The question is how to specify the path to this data.\r\n\r\nI tried to change the path using PropertySource, but nothing really happened. Each time or data was taken from the same file or spring fell before it could start\r\n```\r\n@ConstructorBinding\r\n@ConfigurationProperties(prefix = &quot;merchant-connection&quot;)\r\ndata class ConnectionsProfileProperties(\r\n    val connectionProfiles: Map&lt;String, ConnectionProperties&gt;\r\n) {\r\n\r\n    data class ConnectionProperties(\r\n        val smser: SmserProperties,\r\n        val two: TwoProperties,\r\n        val masterPass: MasterPassProperties,\r\n        val priority: PriorityProperties\r\n    ) {\r\n        data class SmserProperties(\r\n            val host: String,\r\n            val port: Int,\r\n            val version: Int,\r\n            val priority: Int,\r\n            val dstHost: Int,\r\n            val srcHost: Int,\r\n            val phoneSrc: String,\r\n            val socketTimeout: Duration\r\n        )\r\n\r\n        data class TwoProperties(\r\n            val host: String,\r\n            val port: Int,\r\n            val useProxy: Boolean,\r\n            val proxyHost: String?,\r\n            val proxyPort: Int,\r\n            val clerk: String,\r\n            val password: String,\r\n            val product: String,\r\n            val retAddress: String,\r\n            val version: String,\r\n            val needDict: Int,\r\n            val allVendors: Int,\r\n            val avoidSession: Int,\r\n            val readTimeout: Duration,\r\n            val connectionTimeout: Duration\r\n        )\r\n\r\n        data class MasterPassProperties(\r\n            val baseUrl: String,\r\n            val consumerKey: String,\r\n            val keyStorePath: String,\r\n            val keyStorePassword: String,\r\n            val keyAlias: String,\r\n            val readTimeout: Duration,\r\n            val connectionTimeout: Duration,\r\n            val sessionTimeout: Duration,\r\n            val needSendPhoneCheckDate: Boolean,\r\n            val useSpecLogicMlccof: Boolean?\r\n        )\r\n\r\n        data class PriorityProperties(\r\n            val regCardPriorityCof: CofName,\r\n            val cardMatchPriorityCof: CofName,\r\n            val sortCardPriorityCof: CofName,\r\n            val delCardPriorityCof: CofName,\r\n            val getCardInfoCof: CofName\r\n        )\r\n    }\r\n}\r\n```","title":"how to fill the data class from xml file?","body":"<p>Early data lay in the application.yml file, but it was necessary to move it into a separate file to solve a parallel problem. The question is how to specify the path to this data.</p>\n<p>I tried to change the path using PropertySource, but nothing really happened. Each time or data was taken from the same file or spring fell before it could start</p>\n<pre><code>@ConstructorBinding\n@ConfigurationProperties(prefix = &quot;merchant-connection&quot;)\ndata class ConnectionsProfileProperties(\n    val connectionProfiles: Map&lt;String, ConnectionProperties&gt;\n) {\n\n    data class ConnectionProperties(\n        val smser: SmserProperties,\n        val two: TwoProperties,\n        val masterPass: MasterPassProperties,\n        val priority: PriorityProperties\n    ) {\n        data class SmserProperties(\n            val host: String,\n            val port: Int,\n            val version: Int,\n            val priority: Int,\n            val dstHost: Int,\n            val srcHost: Int,\n            val phoneSrc: String,\n            val socketTimeout: Duration\n        )\n\n        data class TwoProperties(\n            val host: String,\n            val port: Int,\n            val useProxy: Boolean,\n            val proxyHost: String?,\n            val proxyPort: Int,\n            val clerk: String,\n            val password: String,\n            val product: String,\n            val retAddress: String,\n            val version: String,\n            val needDict: Int,\n            val allVendors: Int,\n            val avoidSession: Int,\n            val readTimeout: Duration,\n            val connectionTimeout: Duration\n        )\n\n        data class MasterPassProperties(\n            val baseUrl: String,\n            val consumerKey: String,\n            val keyStorePath: String,\n            val keyStorePassword: String,\n            val keyAlias: String,\n            val readTimeout: Duration,\n            val connectionTimeout: Duration,\n            val sessionTimeout: Duration,\n            val needSendPhoneCheckDate: Boolean,\n            val useSpecLogicMlccof: Boolean?\n        )\n\n        data class PriorityProperties(\n            val regCardPriorityCof: CofName,\n            val cardMatchPriorityCof: CofName,\n            val sortCardPriorityCof: CofName,\n            val delCardPriorityCof: CofName,\n            val getCardInfoCof: CofName\n        )\n    }\n}\n</code></pre>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":1,"creation_date":1657610838,"post_id":72948095,"comment_id":128845337,"body_markdown":"You issue lies in brs.indexingservice.support.PersistentQueue constructor","body":"You issue lies in brs.indexingservice.support.PersistentQueue constructor"},{"owner":{"account_id":6458667,"reputation":69,"user_id":5003220,"accept_rate":50,"display_name":"Vishism"},"score":0,"creation_date":1657684917,"post_id":72948095,"comment_id":128866614,"body_markdown":"Thank you,  you were right. the file used by the constructor was corrupted. Deleted the file and it recreated the file. It is all working now. Thank you so much.","body":"Thank you,  you were right. the file used by the constructor was corrupted. Deleted the file and it recreated the file. It is all working now. Thank you so much."}],"owner":{"account_id":6458667,"reputation":69,"user_id":5003220,"accept_rate":50,"display_name":"Vishism"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657700365,"creation_date":1657608468,"question_id":72948095,"body_markdown":"I am new to wildfly and we currently use it to host Fileserver services on a AWS ec2 instance.\r\nIt was all working fine while we were testing until we re-ran the build script a few times.\r\nAfter building the ec2 servers around 5 times, it was all working fine. However, on the 6th build without changing anything, we are getting the below error and i cannnot figure out whats going on.\r\n\r\nAny help will be appreciated.\r\n\r\n```\r\n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;FileServer.ear\\&quot;.\\&quot;brs.indexingservice-web-2.0.0.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processingQueue&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    Caused by: java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processingQueue&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processingQueue&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0&quot;}}\r\n```\r\n","title":"Error starting service in Wildly 24 with JBOSS","body":"<p>I am new to wildfly and we currently use it to host Fileserver services on a AWS ec2 instance.\nIt was all working fine while we were testing until we re-ran the build script a few times.\nAfter building the ec2 servers around 5 times, it was all working fine. However, on the 6th build without changing anything, we are getting the below error and i cannnot figure out whats going on.</p>\n<p>Any help will be appreciated.</p>\n<pre><code>{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;FileServer.ear\\&quot;.\\&quot;brs.indexingservice-web-2.0.0.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processingQueue' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    Caused by: java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processingQueue' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processingQueue' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [brs.indexingservice.support.PersistentQueue]: Constructor threw exception; nested exception is java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0&quot;}}\n</code></pre>\n"},{"tags":["java","spring","spring-statemachine"],"answers":[{"tags":[],"owner":{"account_id":3553118,"reputation":149,"user_id":2967496,"display_name":"Dauren D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600884469,"creation_date":1600884469,"answer_id":64033875,"question_id":64030647,"body_markdown":"As I understand your problem, your flow looks like below:\r\n\r\n                              US flow [stock -&gt; deliver]\r\n    created -&gt; processing -&gt;                                             -&gt; completed\r\n                              Canada flow [stock -&gt; export -&gt; deliver]\r\n\r\n\r\nIf it is true, you can use [Hierarchical States][1] and [Regions][2] to configure nested states. You can configure your flow with hierarchical states and mark each nested flow as a region. See examples [here][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-statemachine/docs/current/reference/#configuring-hierarchical-states\r\n  [2]: https://docs.spring.io/spring-statemachine/docs/current/reference/#configuring-regions\r\n  [3]: https://docs.spring.io/spring-statemachine/docs/current/reference/#statemachine-examples-showcase","title":"Spring State Machine with nested state machine","body":"<p>As I understand your problem, your flow looks like below:</p>\n<pre><code>                          US flow [stock -&gt; deliver]\ncreated -&gt; processing -&gt;                                             -&gt; completed\n                          Canada flow [stock -&gt; export -&gt; deliver]\n</code></pre>\n<p>If it is true, you can use <a href=\"https://docs.spring.io/spring-statemachine/docs/current/reference/#configuring-hierarchical-states\" rel=\"nofollow noreferrer\">Hierarchical States</a> and <a href=\"https://docs.spring.io/spring-statemachine/docs/current/reference/#configuring-regions\" rel=\"nofollow noreferrer\">Regions</a> to configure nested states. You can configure your flow with hierarchical states and mark each nested flow as a region. See examples <a href=\"https://docs.spring.io/spring-statemachine/docs/current/reference/#statemachine-examples-showcase\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4998979,"reputation":1614,"user_id":4018558,"accept_rate":33,"display_name":"posthumecaver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657699856,"creation_date":1657699856,"answer_id":72962921,"question_id":64030647,"body_markdown":"Well in my opinion the way you want to design your state machine is not practical, you either have to define two different states, PROCESSING_US and PROCESSING_CANADA, decide via a Guard condition which State you would go and make the correct process chain, or use another unspoken concept that I discuss here [Master / Slave State Machines][1]. In your place I would have 2 Slave State Machines that can only exist in the context of you Master State Machine (which you called Primary).\r\n\r\nWhen you arrive to PROCESSING State, you decide it is US or Canada Processing and delegate to UsProcessingSlaveStateMachine or CanadaProcessingSlaveStateMachine, this way you would have a clean design.\r\n\r\nI have another [blog][2] that discuss Master / Slave State Machine concept but it relies another technology stack, Akka Finite State Machine, but it might help understand the concepts better.\r\n\r\n\r\n  [1]: https://mehmetsalgar.wordpress.com/2014/05/22/extremely-ajaxified-web-application-with-spring-webflow-primefaces-and-state-machines/#master_slave\r\n  [2]: https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/#uml_model_master","title":"Spring State Machine with nested state machine","body":"<p>Well in my opinion the way you want to design your state machine is not practical, you either have to define two different states, PROCESSING_US and PROCESSING_CANADA, decide via a Guard condition which State you would go and make the correct process chain, or use another unspoken concept that I discuss here <a href=\"https://mehmetsalgar.wordpress.com/2014/05/22/extremely-ajaxified-web-application-with-spring-webflow-primefaces-and-state-machines/#master_slave\" rel=\"nofollow noreferrer\">Master / Slave State Machines</a>. In your place I would have 2 Slave State Machines that can only exist in the context of you Master State Machine (which you called Primary).</p>\n<p>When you arrive to PROCESSING State, you decide it is US or Canada Processing and delegate to UsProcessingSlaveStateMachine or CanadaProcessingSlaveStateMachine, this way you would have a clean design.</p>\n<p>I have another <a href=\"https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/#uml_model_master\" rel=\"nofollow noreferrer\">blog</a> that discuss Master / Slave State Machine concept but it relies another technology stack, Akka Finite State Machine, but it might help understand the concepts better.</p>\n"}],"owner":{"account_id":12948283,"reputation":399,"user_id":9361935,"display_name":"Cimon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657699856,"creation_date":1600872739,"question_id":64030647,"body_markdown":"I want to run a state machine with different configuration inside of my &#39;primary&#39; state machine.\r\nI haven&#39;t found something relevant in the web and i do not have a lot experience in Spring State Machine.\r\n\r\nOne solution i have found is to send an event to the second state machine when the primary one finished its flow. However it is not enough satisfied for me.\r\n\r\nIf someone knows and share how to create a nested state machine it will be appreciated. ","title":"Spring State Machine with nested state machine","body":"<p>I want to run a state machine with different configuration inside of my 'primary' state machine.\nI haven't found something relevant in the web and i do not have a lot experience in Spring State Machine.</p>\n<p>One solution i have found is to send an event to the second state machine when the primary one finished its flow. However it is not enough satisfied for me.</p>\n<p>If someone knows and share how to create a nested state machine it will be appreciated.</p>\n"},{"tags":["javafx-2","javafx","java"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1377970882,"post_id":18547362,"comment_id":27288964,"body_markdown":"What is the [execution mode](http://docs.oracle.com/javafx/2/deployment/deploy_overview.htm#CEGHEAHD) of your application (how is it deployed?)","body":"What is the <a href=\"http://docs.oracle.com/javafx/2/deployment/deploy_overview.htm#CEGHEAHD\" rel=\"nofollow noreferrer\">execution mode</a> of your application (how is it deployed?)"},{"owner":{"account_id":3217234,"reputation":1502,"user_id":2715587,"display_name":"mdriesen"},"score":0,"creation_date":1377972041,"post_id":18547362,"comment_id":27289290,"body_markdown":"@jewelsea It runs as a standalone program.","body":"@jewelsea It runs as a standalone program."},{"owner":{"account_id":294955,"reputation":1456,"user_id":599110,"accept_rate":66,"display_name":"nyyrikki"},"score":0,"creation_date":1378058651,"post_id":18547362,"comment_id":27307656,"body_markdown":"@docM would it be a solution to switch to the oracle-(sun)-jdk for the ubuntu machines? http://www.webupd8.org/2012/01/install-oracle-java-jdk-7-in-ubuntu-via.html","body":"@docM would it be a solution to switch to the oracle-(sun)-jdk for the ubuntu machines? <a href=\"http://www.webupd8.org/2012/01/install-oracle-java-jdk-7-in-ubuntu-via.html\" rel=\"nofollow noreferrer\">webupd8.org/2012/01/&hellip;</a>"},{"owner":{"account_id":3217234,"reputation":1502,"user_id":2715587,"display_name":"mdriesen"},"score":0,"creation_date":1378143112,"post_id":18547362,"comment_id":27337006,"body_markdown":"@nyyrikki That is an option. But I&#39;d rather stick with Java Swing if JavaFX and OpenJDK don&#39;t mix.","body":"@nyyrikki That is an option. But I&#39;d rather stick with Java Swing if JavaFX and OpenJDK don&#39;t mix."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1382482758,"post_id":18547362,"comment_id":28975139,"body_markdown":"Some of the links in this question are now outdated making them slightly misleading.","body":"Some of the links in this question are now outdated making them slightly misleading."},{"owner":{"account_id":3217234,"reputation":1502,"user_id":2715587,"display_name":"mdriesen"},"score":0,"creation_date":1383590009,"post_id":18547362,"comment_id":29390967,"body_markdown":"@jewelsea I edited the question slightly to indicate that the first link is indeed a bit old.","body":"@jewelsea I edited the question slightly to indicate that the first link is indeed a bit old."},{"owner":{"account_id":23803,"reputation":1013,"user_id":59943,"accept_rate":55,"display_name":"Yngve Sneen Lindal"},"score":0,"creation_date":1442221963,"post_id":18547362,"comment_id":52977631,"body_markdown":"Don&#39;t go with Java Swing. Please. But now it has been two years, is it too late? :/","body":"Don&#39;t go with Java Swing. Please. But now it has been two years, is it too late? :/"},{"owner":{"account_id":3217234,"reputation":1502,"user_id":2715587,"display_name":"mdriesen"},"score":2,"creation_date":1442335928,"post_id":18547362,"comment_id":53036741,"body_markdown":"@Yngve I ported everything to JavaFX when Ubuntu and Debian started including the packages.","body":"@Yngve I ported everything to JavaFX when Ubuntu and Debian started including the packages."}],"answers":[{"tags":[],"owner":{"account_id":2607098,"reputation":1259,"user_id":2258047,"accept_rate":59,"display_name":"Stathis Andronikos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382476044,"creation_date":1382476044,"answer_id":19528380,"question_id":18547362,"body_markdown":"According to Oracle integration of OpenJDK &amp; javaFX will be on Q1-2014 ( see roadmap : http://www.oracle.com/technetwork/java/javafx/overview/roadmap-1446331.html ). So, for the 1st question the answer is that you have to wait until then. For the 2nd question there is no other way. So, for now go with java swing or start javaFX and wait","title":"JavaFX and OpenJDK","body":"<p>According to Oracle integration of OpenJDK &amp; javaFX will be on Q1-2014 ( see roadmap : <a href=\"http://www.oracle.com/technetwork/java/javafx/overview/roadmap-1446331.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javafx/overview/roadmap-1446331.html</a> ). So, for the 1st question the answer is that you have to wait until then. For the 2nd question there is no other way. So, for now go with java swing or start javaFX and wait</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":1,"up_vote_count":121,"is_accepted":true,"score":120,"last_activity_date":1631231343,"creation_date":1382482570,"answer_id":19529820,"question_id":18547362,"body_markdown":"**JavaFX is part of OpenJDK**\r\n\r\nThe JavaFX project itself is [open source][1] and is [part of the OpenJDK project][2].\r\n\r\nHowever, the OpenJDK project includes many projects, including incubating projects and other projects, such as OpenJFX, whose source and implementation are not shipped as part of some JDK/JRE distributions (e.g. Oracle JDK 11+ implementations and many open-source JDK Linux package installations do not include JavaFX runtimes).\r\n\r\n**Modern JavaFX distributions are modules**\r\n\r\nJavaFX is not part of most JDK 11+ downloads, it is usually downloaded by developers as modules or a separate SDK.  \r\n\r\nSpecifically for JavaFX 11+, as detailed on the https://openjfx.io site:\r\n\r\n&gt; JavaFX runtime is available as a platform-specific SDK, or as a number of jmods, or as a set of artifacts in Maven Central.\r\n\r\nThis means that JavaFX can be used from any modern JDK running on a supported platform, by including the appropriate JavaFX modules (available from openjfx or Maven Central) on the runtime module path.\r\n\r\nAll JavaFX modules available from openjfx are open source implementations that contain no closed source code.\r\n\r\nFor distribution of JavaFX-based applications to end-users, it is advised to package a run-time image distribution based on the JDK and JavaFX modules + required dependent library code and application code. A full discussion of this packaging is out of scope for this answer, but one can create a distribution based purely on open-source JDK+JavaFX+library+application code if desired.  See the [openjfx.io documentation][3] on run-time images for some more (though not comprehensive) information on this. \r\n\r\n**Update Sep 2021**\r\n\r\nAlso, see the related question:\r\n\r\n * https://stackoverflow.com/questions/69111336/javafx-in-oracle-jdk-8-is-same-as-openjfx-8-versions-or-not-what-is-the-relatio/69125593#69125593\r\n\r\nWhich covers information regarding Java 8 and also some later versions.\r\n\r\n**Update Dec 2019**\r\n\r\nFor current information on how to use Open Source JavaFX, visit https://openjfx.io.  This includes instructions on using JavaFX as a modular library accessed from an existing JDK (such as an [Open JDK installation][4]).\r\n\r\nThe open source code repository for JavaFX is at https://github.com/openjdk/jfx.  \r\n\r\nAt the source location linked, you can find license files for open JavaFX (currently this [license][1] matches the license for OpenJDK: GPL+classpath exception).\r\n\r\nThe wiki for the project is located at: https://wiki.openjdk.java.net/display/OpenJFX/Main\r\n\r\nIf you want a quick start to using open JavaFX, the Bellsoft&#39;s [Liberica JDK][5] distributions provide pre-built OpenJDK binaries that include OpenJFX for a variety of platforms.\r\n\r\nFor distribution as self-contained applications, Java 14 is scheduled to implement [JEP 343: Packaging Tool](https://openjdk.java.net/jeps/343), which &quot;Supports native packaging formats to give end users a natural installation experience. These formats include msi and exe on Windows, pkg and dmg on macOS, and deb and rpm on Linux.&quot;, for deployment of OpenJFX based applications with native installers and no additional platform dependencies (such as a pre-installed JDK).\r\n\r\n----\r\n\r\n*Older information that may become outdated over time*\r\n\r\n**Building JavaFX from the OpenJDK repository**\r\n\r\nYou can build an [open version of OpenJDK (including JavaFX)][6] completely from source which has no dependencies on the Oracle JDK or closed source code.\r\n\r\n**Update: Using a JavaFX distribution pre-built from OpenJDK sources**\r\n\r\nAs noted in comments to this question and in another answer, the Debian Linux distributions offer a JavaFX binary distibution based upon OpenJDK:\r\n\r\n  * https://packages.qa.debian.org/o/openjfx.html\r\n  * Install via:\r\n\r\n        sudo apt-get install openjfx\r\n\r\n(currently this only works for Java 8 as far as I know).\r\n\r\n**Differences between Open JDK and Oracle JDK with respect to JavaFX**\r\n\r\nThe following information was provided for Java 8.  As of Java 9, [VP6 encoding is deprecated for JavaFX][7] and the [Oracle WebStart/Browser embedded application deployment technology is also deprecated][8].  So future versions of JavaFX, even if they are distributed by Oracle, will likely not include any technology which is not open source. \r\n\r\nOracle JDK includes some software that is not usable from the OpenJDK.  The components that relate to JavaFX:\r\n\r\n* The ON2 VP6 video codec, which is owned by Google and Google has not open sourced.\r\n* The Oracle WebStart/Browser Embedded application deployment technology.\r\n\r\nThis means that an open version of JavaFX cannot play VP6 FLV files. This is not a big loss as it is difficult to find VP6 encoders or media encoded in VP6.  \r\n\r\nOther more common video formats, such as H.264 will playback fine with an open version of JavaFX (as long as you have the appropriate codecs pre-installed on the target machine).\r\n\r\nThe lack of WebStart/Browser Embedded deployment technology is really something to do with OpenJDK itself rather than JavaFX specifically.  This technology can be used to deploy non-JavaFX applications.  \r\n\r\nIt would be great if the Open Source community developed a deployment technology for Java (and other software) which completely replaced WebStart and Browser Embedded deployment methods, allowing a nice light-weight, low impact user experience for application distribution.  I believe there have been some projects started to serve such a goal, but they have not yet reached a high maturity and adoption level.\r\n\r\nPersonally, I feel that WebStart/Browser Embedded deployments are legacy technology and there are currently better ways to deploy many JavaFX applications (such as self-contained applications). \r\n\r\n*Update Dec, 2019:*\r\n\r\nAn open source version of WebStart for JDK 11+ has been developed and is available at https://openwebstart.com. \r\n\r\n**Who needs to create Linux OpenJDK Distributions which include JavaFX**\r\n\r\nIt is up to the people which create packages for Linux distributions based upon OpenJDK (e.g. Redhat, Ubuntu etc) to create RPMs for the JDK and JRE that include JavaFX.  Those software distributors, then need to place the generated packages in their standard distribution code repositories (e.g. fedora/red hat network yum repositories).  Currently this is not being done, but I would be quite surprised if Java 8 Linux packages did not include JavaFX when Java 8 is released in March 2014.\r\n\r\n*Update, Dec 2019*: \r\n\r\nNow that JavaFX has been separated from most binary JDK and JRE distributions (including Oracle&#39;s distribution) and is, instead, available as either a stand-alone SDK, set of jmods or as a library dependencies available from the [central Maven repository][9] (as outlined as https://openjfx.io), there is less of a need for standard Linux OpenJDK distributions to include JavaFX.\r\n\r\nIf you want a pre-built JDK which includes JavaFX, consider the [Liberica JDK distributions][5], which are provided for a variety of platforms.\r\n\r\n**Advice on Deployment for Substantial Applications**\r\n\r\nI advise using Java&#39;s [self-contained application][10] deployment mode.\r\n\r\nA description of this deployment mode is:\r\n\r\n&gt; Application is installed on the local drive and runs as a standalone\r\n&gt; program using a private copy of Java and JavaFX runtimes. The\r\n&gt; application can be launched in the same way as other native\r\n&gt; applications for that operating system, for example using a desktop\r\n&gt; shortcut or menu entry.\r\n\r\nYou can build a self-contained application either from the Oracle JDK distribution or from an OpenJDK build which includes JavaFX.  It currently easier to do so with an Oracle JDK.\r\n \r\nAs a version of Java is bundled with your application, you don&#39;t have to care about what version of Java may have been pre-installed on the machine, what capabilities it has and whether or not it is compatible with your program.  Instead, you can test your application against an exact Java runtime version, and distribute that with your application.  The user experience for deploying your application will be the same as installing a native application on their machine (e.g. a windows .exe or .msi installed, an OS X .dmg, a linux .rpm or .deb).\r\n\r\n*Note:* The self-contained application feature was only available for Java 8 and 9, and not for Java 10-13.  Java 14, via [JEP 343: Packaging Tool][11], is scheduled to again provide support for this feature from OpenJDK distributions.\r\n\r\n**Update, April 2018: Information on Oracle&#39;s current policy towards future developments**\r\n\r\n * [The Future of JavaFX and Other Java Client Roadmap Updates](https://blogs.oracle.com/java-platform-group/the-future-of-javafx-and-other-java-client-roadmap-updates) by Donald Smith, Sr. Director of Product Management, Oracle.\r\n * [Java Client Roadmap Update - March 2018](http://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf) an Oracle White Paper.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jfx/blob/master/LICENSE\r\n  [2]: http://openjdk.java.net/projects/openjfx/\r\n  [3]: https://openjfx.io/openjfx-docs/\r\n  [4]: https://adoptopenjdk.net\r\n  [5]: https://bell-sw.com\r\n  [6]: https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\r\n  [7]: https://docs.oracle.com/javase/9/docs/api/javafx/scene/media/package-summary.html\r\n  [8]: https://stackoverflow.com/questions/46904795/java-web-start-support-in-java-9-and-beyond\r\n  [9]: https://search.maven.org/search?q=g:org.openjfx\r\n  [10]: http://docs.oracle.com/javafx/2/deployment/deploy_overview.htm#CEGHEAHD\r\n  [11]: https://openjdk.java.net/jeps/343","title":"JavaFX and OpenJDK","body":"<p><strong>JavaFX is part of OpenJDK</strong></p>\n<p>The JavaFX project itself is <a href=\"https://github.com/openjdk/jfx/blob/master/LICENSE\" rel=\"noreferrer\">open source</a> and is <a href=\"http://openjdk.java.net/projects/openjfx/\" rel=\"noreferrer\">part of the OpenJDK project</a>.</p>\n<p>However, the OpenJDK project includes many projects, including incubating projects and other projects, such as OpenJFX, whose source and implementation are not shipped as part of some JDK/JRE distributions (e.g. Oracle JDK 11+ implementations and many open-source JDK Linux package installations do not include JavaFX runtimes).</p>\n<p><strong>Modern JavaFX distributions are modules</strong></p>\n<p>JavaFX is not part of most JDK 11+ downloads, it is usually downloaded by developers as modules or a separate SDK.</p>\n<p>Specifically for JavaFX 11+, as detailed on the <a href=\"https://openjfx.io\" rel=\"noreferrer\">https://openjfx.io</a> site:</p>\n<blockquote>\n<p>JavaFX runtime is available as a platform-specific SDK, or as a number of jmods, or as a set of artifacts in Maven Central.</p>\n</blockquote>\n<p>This means that JavaFX can be used from any modern JDK running on a supported platform, by including the appropriate JavaFX modules (available from openjfx or Maven Central) on the runtime module path.</p>\n<p>All JavaFX modules available from openjfx are open source implementations that contain no closed source code.</p>\n<p>For distribution of JavaFX-based applications to end-users, it is advised to package a run-time image distribution based on the JDK and JavaFX modules + required dependent library code and application code. A full discussion of this packaging is out of scope for this answer, but one can create a distribution based purely on open-source JDK+JavaFX+library+application code if desired.  See the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"noreferrer\">openjfx.io documentation</a> on run-time images for some more (though not comprehensive) information on this.</p>\n<p><strong>Update Sep 2021</strong></p>\n<p>Also, see the related question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/69111336/javafx-in-oracle-jdk-8-is-same-as-openjfx-8-versions-or-not-what-is-the-relatio/69125593#69125593\">JavaFx in oracle JDK 8 is same as openjfx 8 versions or not? what is the relationship between javafx in oracle jdk 8 and openjfx8?</a></li>\n</ul>\n<p>Which covers information regarding Java 8 and also some later versions.</p>\n<p><strong>Update Dec 2019</strong></p>\n<p>For current information on how to use Open Source JavaFX, visit <a href=\"https://openjfx.io\" rel=\"noreferrer\">https://openjfx.io</a>.  This includes instructions on using JavaFX as a modular library accessed from an existing JDK (such as an <a href=\"https://adoptopenjdk.net\" rel=\"noreferrer\">Open JDK installation</a>).</p>\n<p>The open source code repository for JavaFX is at <a href=\"https://github.com/openjdk/jfx\" rel=\"noreferrer\">https://github.com/openjdk/jfx</a>.</p>\n<p>At the source location linked, you can find license files for open JavaFX (currently this <a href=\"https://github.com/openjdk/jfx/blob/master/LICENSE\" rel=\"noreferrer\">license</a> matches the license for OpenJDK: GPL+classpath exception).</p>\n<p>The wiki for the project is located at: <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Main\" rel=\"noreferrer\">https://wiki.openjdk.java.net/display/OpenJFX/Main</a></p>\n<p>If you want a quick start to using open JavaFX, the Bellsoft's <a href=\"https://bell-sw.com\" rel=\"noreferrer\">Liberica JDK</a> distributions provide pre-built OpenJDK binaries that include OpenJFX for a variety of platforms.</p>\n<p>For distribution as self-contained applications, Java 14 is scheduled to implement <a href=\"https://openjdk.java.net/jeps/343\" rel=\"noreferrer\">JEP 343: Packaging Tool</a>, which &quot;Supports native packaging formats to give end users a natural installation experience. These formats include msi and exe on Windows, pkg and dmg on macOS, and deb and rpm on Linux.&quot;, for deployment of OpenJFX based applications with native installers and no additional platform dependencies (such as a pre-installed JDK).</p>\n<hr />\n<p><em>Older information that may become outdated over time</em></p>\n<p><strong>Building JavaFX from the OpenJDK repository</strong></p>\n<p>You can build an <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\" rel=\"noreferrer\">open version of OpenJDK (including JavaFX)</a> completely from source which has no dependencies on the Oracle JDK or closed source code.</p>\n<p><strong>Update: Using a JavaFX distribution pre-built from OpenJDK sources</strong></p>\n<p>As noted in comments to this question and in another answer, the Debian Linux distributions offer a JavaFX binary distibution based upon OpenJDK:</p>\n<ul>\n<li><p><a href=\"https://packages.qa.debian.org/o/openjfx.html\" rel=\"noreferrer\">https://packages.qa.debian.org/o/openjfx.html</a></p>\n</li>\n<li><p>Install via:</p>\n<pre><code>sudo apt-get install openjfx\n</code></pre>\n</li>\n</ul>\n<p>(currently this only works for Java 8 as far as I know).</p>\n<p><strong>Differences between Open JDK and Oracle JDK with respect to JavaFX</strong></p>\n<p>The following information was provided for Java 8.  As of Java 9, <a href=\"https://docs.oracle.com/javase/9/docs/api/javafx/scene/media/package-summary.html\" rel=\"noreferrer\">VP6 encoding is deprecated for JavaFX</a> and the <a href=\"https://stackoverflow.com/questions/46904795/java-web-start-support-in-java-9-and-beyond\">Oracle WebStart/Browser embedded application deployment technology is also deprecated</a>.  So future versions of JavaFX, even if they are distributed by Oracle, will likely not include any technology which is not open source.</p>\n<p>Oracle JDK includes some software that is not usable from the OpenJDK.  The components that relate to JavaFX:</p>\n<ul>\n<li>The ON2 VP6 video codec, which is owned by Google and Google has not open sourced.</li>\n<li>The Oracle WebStart/Browser Embedded application deployment technology.</li>\n</ul>\n<p>This means that an open version of JavaFX cannot play VP6 FLV files. This is not a big loss as it is difficult to find VP6 encoders or media encoded in VP6.</p>\n<p>Other more common video formats, such as H.264 will playback fine with an open version of JavaFX (as long as you have the appropriate codecs pre-installed on the target machine).</p>\n<p>The lack of WebStart/Browser Embedded deployment technology is really something to do with OpenJDK itself rather than JavaFX specifically.  This technology can be used to deploy non-JavaFX applications.</p>\n<p>It would be great if the Open Source community developed a deployment technology for Java (and other software) which completely replaced WebStart and Browser Embedded deployment methods, allowing a nice light-weight, low impact user experience for application distribution.  I believe there have been some projects started to serve such a goal, but they have not yet reached a high maturity and adoption level.</p>\n<p>Personally, I feel that WebStart/Browser Embedded deployments are legacy technology and there are currently better ways to deploy many JavaFX applications (such as self-contained applications).</p>\n<p><em>Update Dec, 2019:</em></p>\n<p>An open source version of WebStart for JDK 11+ has been developed and is available at <a href=\"https://openwebstart.com\" rel=\"noreferrer\">https://openwebstart.com</a>.</p>\n<p><strong>Who needs to create Linux OpenJDK Distributions which include JavaFX</strong></p>\n<p>It is up to the people which create packages for Linux distributions based upon OpenJDK (e.g. Redhat, Ubuntu etc) to create RPMs for the JDK and JRE that include JavaFX.  Those software distributors, then need to place the generated packages in their standard distribution code repositories (e.g. fedora/red hat network yum repositories).  Currently this is not being done, but I would be quite surprised if Java 8 Linux packages did not include JavaFX when Java 8 is released in March 2014.</p>\n<p><em>Update, Dec 2019</em>:</p>\n<p>Now that JavaFX has been separated from most binary JDK and JRE distributions (including Oracle's distribution) and is, instead, available as either a stand-alone SDK, set of jmods or as a library dependencies available from the <a href=\"https://search.maven.org/search?q=g:org.openjfx\" rel=\"noreferrer\">central Maven repository</a> (as outlined as <a href=\"https://openjfx.io\" rel=\"noreferrer\">https://openjfx.io</a>), there is less of a need for standard Linux OpenJDK distributions to include JavaFX.</p>\n<p>If you want a pre-built JDK which includes JavaFX, consider the <a href=\"https://bell-sw.com\" rel=\"noreferrer\">Liberica JDK distributions</a>, which are provided for a variety of platforms.</p>\n<p><strong>Advice on Deployment for Substantial Applications</strong></p>\n<p>I advise using Java's <a href=\"http://docs.oracle.com/javafx/2/deployment/deploy_overview.htm#CEGHEAHD\" rel=\"noreferrer\">self-contained application</a> deployment mode.</p>\n<p>A description of this deployment mode is:</p>\n<blockquote>\n<p>Application is installed on the local drive and runs as a standalone\nprogram using a private copy of Java and JavaFX runtimes. The\napplication can be launched in the same way as other native\napplications for that operating system, for example using a desktop\nshortcut or menu entry.</p>\n</blockquote>\n<p>You can build a self-contained application either from the Oracle JDK distribution or from an OpenJDK build which includes JavaFX.  It currently easier to do so with an Oracle JDK.</p>\n<p>As a version of Java is bundled with your application, you don't have to care about what version of Java may have been pre-installed on the machine, what capabilities it has and whether or not it is compatible with your program.  Instead, you can test your application against an exact Java runtime version, and distribute that with your application.  The user experience for deploying your application will be the same as installing a native application on their machine (e.g. a windows .exe or .msi installed, an OS X .dmg, a linux .rpm or .deb).</p>\n<p><em>Note:</em> The self-contained application feature was only available for Java 8 and 9, and not for Java 10-13.  Java 14, via <a href=\"https://openjdk.java.net/jeps/343\" rel=\"noreferrer\">JEP 343: Packaging Tool</a>, is scheduled to again provide support for this feature from OpenJDK distributions.</p>\n<p><strong>Update, April 2018: Information on Oracle's current policy towards future developments</strong></p>\n<ul>\n<li><a href=\"https://blogs.oracle.com/java-platform-group/the-future-of-javafx-and-other-java-client-roadmap-updates\" rel=\"noreferrer\">The Future of JavaFX and Other Java Client Roadmap Updates</a> by Donald Smith, Sr. Director of Product Management, Oracle.</li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf\" rel=\"noreferrer\">Java Client Roadmap Update - March 2018</a> an Oracle White Paper.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3260113,"reputation":805,"user_id":2745839,"accept_rate":77,"display_name":"DeepSidhu1313"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420541266,"creation_date":1420541266,"answer_id":27797008,"question_id":18547362,"body_markdown":"Try [obuildfactory][1].\r\n\r\nThere is need to modify these scripts (contains error and don&#39;t exactly do the &quot;thing&quot; required), i will upload mine scripts forked from obuildfactory in next few days. and so i will also update my answer accordingly.\r\n\r\nUntil then enjoy, sir :)\r\n\r\n  [1]: https://github.com/hgomez/obuildfactory/wiki/How-to-build-and-package-OpenJDK-8-with-OpenJFX-on-Linux","title":"JavaFX and OpenJDK","body":"<p>Try <a href=\"https://github.com/hgomez/obuildfactory/wiki/How-to-build-and-package-OpenJDK-8-with-OpenJFX-on-Linux\" rel=\"nofollow\">obuildfactory</a>.</p>\n\n<p>There is need to modify these scripts (contains error and don't exactly do the \"thing\" required), i will upload mine scripts forked from obuildfactory in next few days. and so i will also update my answer accordingly.</p>\n\n<p>Until then enjoy, sir :)</p>\n"},{"tags":[],"owner":{"account_id":1926954,"reputation":3201,"user_id":1737151,"display_name":"Максим Шатов"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1420848112,"creation_date":1420848112,"answer_id":27871252,"question_id":18547362,"body_markdown":"As a quick solution you can copy the JavaFX runtime JAR file and those referenced from [Oracle JRE(JDK)][1] or any self-contained application that uses JavaFX(e.g. [JavaFX Scene Builder 2.0][2]):\r\n\r\n    cp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/ext/jfxrt.jar     &lt;JRE_HOME&gt;/lib/ext/\r\n    cp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/javafx.properties &lt;JRE_HOME&gt;/lib/\r\n    cp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/amd64/libprism_*  &lt;JRE_HOME&gt;/lib/amd64/\r\n    cp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/amd64/libglass.so &lt;JRE_HOME&gt;/lib/amd64/\r\n    cp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/amd64/libjavafx_* &lt;JRE_HOME&gt;/lib/amd64/\r\n\r\n*just [make sure][3] you have the gtk 2.18 or higher*\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/downloads/sb2download-2177776.html\r\n  [3]: https://stackoverflow.com/a/27871238/1737151","title":"JavaFX and OpenJDK","body":"<p>As a quick solution you can copy the JavaFX runtime JAR file and those referenced from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">Oracle JRE(JDK)</a> or any self-contained application that uses JavaFX(e.g. <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/sb2download-2177776.html\" rel=\"noreferrer\">JavaFX Scene Builder 2.0</a>):</p>\n\n<pre><code>cp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/ext/jfxrt.jar     &lt;JRE_HOME&gt;/lib/ext/\ncp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/javafx.properties &lt;JRE_HOME&gt;/lib/\ncp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/amd64/libprism_*  &lt;JRE_HOME&gt;/lib/amd64/\ncp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/amd64/libglass.so &lt;JRE_HOME&gt;/lib/amd64/\ncp &lt;JRE_WITH_JAVAFX_HOME&gt;/lib/amd64/libjavafx_* &lt;JRE_HOME&gt;/lib/amd64/\n</code></pre>\n\n<p><em>just <a href=\"https://stackoverflow.com/a/27871238/1737151\">make sure</a> you have the gtk 2.18 or higher</em></p>\n"},{"tags":[],"owner":{"account_id":2741941,"reputation":1430,"user_id":2407966,"accept_rate":75,"display_name":"Vineel"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1570025778,"creation_date":1457779487,"answer_id":35956637,"question_id":18547362,"body_markdown":"For me this worked.\r\n\r\n    $ sudo apt-get install openjfx\r\n\r\n","title":"JavaFX and OpenJDK","body":"<p>For me this worked.</p>\n\n<pre><code>$ sudo apt-get install openjfx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":700,"reputation":16953,"user_id":917,"accept_rate":44,"display_name":"Mauli"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1564766882,"creation_date":1541673388,"answer_id":53205949,"question_id":18547362,"body_markdown":"Also answering this question:\r\n\r\nhttps://stackoverflow.com/questions/52356629/where-can-i-get-pre-built-javafx-libraries-for-openjdk-windows\r\n\r\nOn Linux its not really a problem, but on Windows its not that easy, especially if you want to distribute the JRE.\r\n\r\nYou can actually use OpenJFX with OpenJDK 8 on windows, you just have to assemble it yourself:\r\n\r\nDownload the OpenJDK from here: https://github.com/AdoptOpenJDK/openjdk8-releases/releases/tag/jdk8u172-b11\r\n\r\nDownload OpenJFX from here: https://github.com/SkyLandTW/OpenJFX-binary-windows/releases/tag/v8u172-b11\r\n\r\ncopy all the files from the OpenFX zip on top of the JDK, voila, you have an OpenJDK with JavaFX.\r\n\r\n**Update**:\r\n\r\nFortunately from Azul there is now a OpenJDK+OpenJFX build which can be downloaded at their community page: https://www.azul.com/downloads/zulu-community/?&amp;version=java-8-lts&amp;os=windows&amp;package=jdk-fx","title":"JavaFX and OpenJDK","body":"<p>Also answering this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/52356629/where-can-i-get-pre-built-javafx-libraries-for-openjdk-windows\">Where can I get pre-built JavaFX libraries for OpenJDK (Windows)</a></p>\n\n<p>On Linux its not really a problem, but on Windows its not that easy, especially if you want to distribute the JRE.</p>\n\n<p>You can actually use OpenJFX with OpenJDK 8 on windows, you just have to assemble it yourself:</p>\n\n<p>Download the OpenJDK from here: <a href=\"https://github.com/AdoptOpenJDK/openjdk8-releases/releases/tag/jdk8u172-b11\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-releases/releases/tag/jdk8u172-b11</a></p>\n\n<p>Download OpenJFX from here: <a href=\"https://github.com/SkyLandTW/OpenJFX-binary-windows/releases/tag/v8u172-b11\" rel=\"nofollow noreferrer\">https://github.com/SkyLandTW/OpenJFX-binary-windows/releases/tag/v8u172-b11</a></p>\n\n<p>copy all the files from the OpenFX zip on top of the JDK, voila, you have an OpenJDK with JavaFX.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Fortunately from Azul there is now a OpenJDK+OpenJFX build which can be downloaded at their community page: <a href=\"https://www.azul.com/downloads/zulu-community/?&amp;version=java-8-lts&amp;os=windows&amp;package=jdk-fx\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/zulu-community/?&amp;version=java-8-lts&amp;os=windows&amp;package=jdk-fx</a></p>\n"},{"tags":[],"owner":{"account_id":5215272,"reputation":95,"user_id":4170439,"display_name":"Bangaio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646856270,"creation_date":1646838386,"answer_id":71411504,"question_id":18547362,"body_markdown":"I needed to run a .jar in Windows which required Java FX. I also didn&#39;t need the JDK part.\r\n\r\nNote: I didn&#39;t bother changing the `PATH`/`JAVA_HOME` variables because it wasn&#39;t needed in my case, for a more complete walkthrough see: https://stackoverflow.com/questions/52511778/how-to-install-openjdk-11-on-windows\r\n\r\n1. Download OpenJDK and Java FX (jmods) (version 17.0.2 for this example)\r\n\r\n  [https://jdk.java.net/17/][1]\r\n\r\n  [https://gluonhq.com/products/javafx/][2]\r\n\r\n2. Unzip the downloaded files. Copy/move the .jmod files from the Java FX directory to the OpenJDK dir (jmods subdirectory).\r\n\r\n3. Create a JRE with jlink, use this web app to get the exact command line options: \r\n[https://justinmahar.github.io/easyjre/][3]\r\n\r\nPowerShell snippet:\r\n\r\n    $Version = &#39;17.0.2&#39;\r\n    $DownDir = &#39;path\\to\\dir\\with\\.zip&#39;\r\n    $JdkDir = &quot;jdk-${Version}&quot;\r\n    $JavaFxDir = &quot;javafx-jmods-${Version}&quot;\r\n    $NewDir = &quot;jre-${Version}+javafx&quot;\r\n    $ProgramFilesDir = &quot;$env:ProgramFiles\\OpenJDK\\${NewDir}&quot;\r\n    Set-Location -Path $DownDir\r\n    \r\n    # Unzip archives\r\n    Expand-Archive -Path &quot;openjfx-${Version}_windows-x64_bin-jmods.zip&quot; -Destination .\r\n    Expand-Archive -Path &quot;openjdk-${Version}_windows-x64_bin.zip&quot; -Destination .\r\n    \r\n    # Create a custom runtime image using jlink, excluding all modules that start with &#39;jdk.&#39;\r\n    Copy-Item -Path &quot;${JavaFxDir}\\*.jmod&quot; -Destination &quot;${JdkDir}\\jmods&quot;\r\n    $Mods = Get-Item -Path &quot;$JdkDir\\jmods\\*.jmod&quot; | ? { !($_.Name -like &#39;jdk.*&#39;) }\r\n    $Mods = $Mods.Name -replace &#39;.jmod$&#39; -join &#39;,&#39;\r\n    &amp; &quot;${JdkDir}\\bin\\jlink.exe&quot; --output $NewDir --compress=2 --no-header-files --no-man-pages --module-path &quot;${JdkDir}\\jmods&quot; --add-modules $Mods\r\n    \r\n    # (Optional) Delete unzipped directories\r\n    Remove-Item -Path $JdkDir,$JavaFxDir -Recurse\r\n    \r\n    # Test if the .jar works\r\n    $jar = Get-Item &quot;\\path\\to\\.jar&quot;\r\n    &amp; &quot;${NewDir}\\bin\\javaw.exe&quot; -jar $jar\r\n    \r\n    # (Optional) Copy the new directory to Program Files (requires admin privileges), zip it to distribute to other computers and delete it\r\n    Copy-Item -Path $NewDir -Destination $ProgramFilesDir -Recurse\r\n    Compress-Archive -Path $NewDir -DestinationPath &quot;openjdk-${Version}_jre+javafx_windows-x64_bin.zip&quot;\r\n    Remove-Item -Path $NewDir -Recurse\r\n\r\n    # (Optional) Create shortcut in Desktop\r\n    $Lnk = &quot;$env:USERPROFILE\\Desktop\\Shortcut.lnk&quot;\r\n    $WshShell = New-Object -ComObject WScript.Shell\r\n    $Shortcut = $WshShell.CreateShortcut($Lnk)\r\n    $Shortcut.TargetPath = &quot;${ProgramFilesDir}\\bin\\javaw.exe&quot;\r\n    $Shortcut.WorkingDirectory = $jar.DirectoryName\r\n    $Shortcut.Arguments = &#39;-jar &quot;&#39; + $jar.FullName + &#39;&quot;&#39;\r\n    $Shortcut.Save()\r\n\r\n\r\n  [1]: https://jdk.java.net/17/%20https://gluonhq.com/products/javafx/\r\n  [2]: https://gluonhq.com/products/javafx/\r\n  [3]: https://justinmahar.github.io/easyjre/","title":"JavaFX and OpenJDK","body":"<p>I needed to run a .jar in Windows which required Java FX. I also didn't need the JDK part.</p>\n<p>Note: I didn't bother changing the <code>PATH</code>/<code>JAVA_HOME</code> variables because it wasn't needed in my case, for a more complete walkthrough see: <a href=\"https://stackoverflow.com/questions/52511778/how-to-install-openjdk-11-on-windows\">How to install OpenJDK 11 on Windows?</a></p>\n<ol>\n<li>Download OpenJDK and Java FX (jmods) (version 17.0.2 for this example)</li>\n</ol>\n<p><a href=\"https://jdk.java.net/17/%20https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://jdk.java.net/17/</a></p>\n<p><a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n<ol start=\"2\">\n<li><p>Unzip the downloaded files. Copy/move the .jmod files from the Java FX directory to the OpenJDK dir (jmods subdirectory).</p>\n</li>\n<li><p>Create a JRE with jlink, use this web app to get the exact command line options:\n<a href=\"https://justinmahar.github.io/easyjre/\" rel=\"nofollow noreferrer\">https://justinmahar.github.io/easyjre/</a></p>\n</li>\n</ol>\n<p>PowerShell snippet:</p>\n<pre><code>$Version = '17.0.2'\n$DownDir = 'path\\to\\dir\\with\\.zip'\n$JdkDir = &quot;jdk-${Version}&quot;\n$JavaFxDir = &quot;javafx-jmods-${Version}&quot;\n$NewDir = &quot;jre-${Version}+javafx&quot;\n$ProgramFilesDir = &quot;$env:ProgramFiles\\OpenJDK\\${NewDir}&quot;\nSet-Location -Path $DownDir\n\n# Unzip archives\nExpand-Archive -Path &quot;openjfx-${Version}_windows-x64_bin-jmods.zip&quot; -Destination .\nExpand-Archive -Path &quot;openjdk-${Version}_windows-x64_bin.zip&quot; -Destination .\n\n# Create a custom runtime image using jlink, excluding all modules that start with 'jdk.'\nCopy-Item -Path &quot;${JavaFxDir}\\*.jmod&quot; -Destination &quot;${JdkDir}\\jmods&quot;\n$Mods = Get-Item -Path &quot;$JdkDir\\jmods\\*.jmod&quot; | ? { !($_.Name -like 'jdk.*') }\n$Mods = $Mods.Name -replace '.jmod$' -join ','\n&amp; &quot;${JdkDir}\\bin\\jlink.exe&quot; --output $NewDir --compress=2 --no-header-files --no-man-pages --module-path &quot;${JdkDir}\\jmods&quot; --add-modules $Mods\n\n# (Optional) Delete unzipped directories\nRemove-Item -Path $JdkDir,$JavaFxDir -Recurse\n\n# Test if the .jar works\n$jar = Get-Item &quot;\\path\\to\\.jar&quot;\n&amp; &quot;${NewDir}\\bin\\javaw.exe&quot; -jar $jar\n\n# (Optional) Copy the new directory to Program Files (requires admin privileges), zip it to distribute to other computers and delete it\nCopy-Item -Path $NewDir -Destination $ProgramFilesDir -Recurse\nCompress-Archive -Path $NewDir -DestinationPath &quot;openjdk-${Version}_jre+javafx_windows-x64_bin.zip&quot;\nRemove-Item -Path $NewDir -Recurse\n\n# (Optional) Create shortcut in Desktop\n$Lnk = &quot;$env:USERPROFILE\\Desktop\\Shortcut.lnk&quot;\n$WshShell = New-Object -ComObject WScript.Shell\n$Shortcut = $WshShell.CreateShortcut($Lnk)\n$Shortcut.TargetPath = &quot;${ProgramFilesDir}\\bin\\javaw.exe&quot;\n$Shortcut.WorkingDirectory = $jar.DirectoryName\n$Shortcut.Arguments = '-jar &quot;' + $jar.FullName + '&quot;'\n$Shortcut.Save()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16336101,"reputation":49,"user_id":11798283,"display_name":"martin0815100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657699798,"creation_date":1657699798,"answer_id":72962912,"question_id":18547362,"body_markdown":"I used Amazon Coretto JDK. This had all FX Components I needed.","title":"JavaFX and OpenJDK","body":"<p>I used Amazon Coretto JDK. This had all FX Components I needed.</p>\n"}],"owner":{"account_id":3217234,"reputation":1502,"user_id":2715587,"display_name":"mdriesen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162415,"favorite_count":0,"down_vote_count":0,"up_vote_count":133,"accepted_answer_id":19529820,"answer_count":8,"score":133,"last_activity_date":1657699798,"creation_date":1377946581,"question_id":18547362,"body_markdown":"I&#39;m trying to decide whether I could switch to JavaFX for the user interface of my Java application. Most of my users would be using the Oracle JRE, which has JavaFX integrated these days. However, some are using OpenJDK (on linux). [This](https://stackoverflow.com/questions/1927173/distributing-deploying-javafx-apps) (old) question suggests that OpenJDK deals very badly with JavaFX. According to [this](https://stackoverflow.com/questions/15654271/javafx-on-linux) question, the alternative OpenJFX will only be fully integrated into OpenJDK in version 9. So my question is twofold:\r\n\r\n* Is the JavaFX support in OpenJDK still so bad?\r\n* If so, are there any Linux distributions that already offer an OpenJFX package so users wouldn&#39;t have to [build it themselves](https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX)?","title":"JavaFX and OpenJDK","body":"<p>I'm trying to decide whether I could switch to JavaFX for the user interface of my Java application. Most of my users would be using the Oracle JRE, which has JavaFX integrated these days. However, some are using OpenJDK (on linux). <a href=\"https://stackoverflow.com/questions/1927173/distributing-deploying-javafx-apps\">This</a> (old) question suggests that OpenJDK deals very badly with JavaFX. According to <a href=\"https://stackoverflow.com/questions/15654271/javafx-on-linux\">this</a> question, the alternative OpenJFX will only be fully integrated into OpenJDK in version 9. So my question is twofold:</p>\n\n<ul>\n<li>Is the JavaFX support in OpenJDK still so bad?</li>\n<li>If so, are there any Linux distributions that already offer an OpenJFX package so users wouldn't have to <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\" rel=\"noreferrer\">build it themselves</a>?</li>\n</ul>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1657699843,"post_id":72962864,"comment_id":128870054,"body_markdown":"`int i = rand.nextInt(200); i &lt;= 100;` -&gt; nothing will happen if you roll &gt;100. Also, `int j = 0; j &lt; rand.nextInt(2)` you might reassing the value multiple times instead of just once","body":"<code>int i = rand.nextInt(200); i &lt;= 100;</code> -&gt; nothing will happen if you roll &gt;100. Also, <code>int j = 0; j &lt; rand.nextInt(2)</code> you might reassing the value multiple times instead of just once"},{"owner":{"account_id":25796854,"reputation":1,"user_id":19539878,"display_name":"Maxe2016"},"score":0,"creation_date":1657700563,"post_id":72962864,"comment_id":128870282,"body_markdown":"thank you really much, but it doesnt work either","body":"thank you really much, but it doesnt work either"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1657700787,"post_id":72962864,"comment_id":128870364,"body_markdown":"Might I ask what you intent with this &quot;looping&quot; to get a random value at all? Running a loop and stopping it at a random time will have no advantages over just getting a random value directly like `wert[rand.nextInt(wert.length)][rand.nextInt(2)]`","body":"Might I ask what you intent with this &quot;looping&quot; to get a random value at all? Running a loop and stopping it at a random time will have no advantages over just getting a random value directly like <code>wert[rand.nextInt(wert.length)][rand.nextInt(2)]</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657700955,"post_id":72962864,"comment_id":128870408,"body_markdown":"As @OHGODSPIDERS said, remove the loops and only assign `int i = rand.nextInt(wert.length);` and `int j = rand.nextInt(2);` for each value (without `int` keyword for the calls afterwards)","body":"As @OHGODSPIDERS said, remove the loops and only assign <code>int i = rand.nextInt(wert.length);</code> and <code>int j = rand.nextInt(2);</code> for each value (without <code>int</code> keyword for the calls afterwards)"},{"owner":{"account_id":25796854,"reputation":1,"user_id":19539878,"display_name":"Maxe2016"},"score":0,"creation_date":1657701722,"post_id":72962864,"comment_id":128870673,"body_markdown":"And its a way to get more random random numbers","body":"And its a way to get more random random numbers"}],"owner":{"account_id":25796854,"reputation":1,"user_id":19539878,"display_name":"Maxe2016"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657699564,"creation_date":1657699564,"question_id":72962864,"body_markdown":"I have written a program in which a 2d array should loop until a random position. The problem is that some values are not transfered/registrated.\r\nIn addition to that, the 2nd array isnt random. It gets 0 all time.\r\nAnd sometimes it doesnt even check the for-loop or just prints out some loops mltiple times \r\n\r\n         int value1 = 777; //just to check if the value has updated\r\n            int value2 = 777;\r\n            int value3 = 777;\r\n        \r\n            int[][] wert = { { 0, 0 }, { 0, 1 }, { 0, 2 }, { 0, 3 }, { 0, 4 }, { 0, 5 }, { 0, 6 }, { 0, 7 },\r\n                    { 0, 8 }, { 0, 9 },\r\n                    { 1, 0 }, { 1, 1 }, { 1, 2 }, { 1, 3 }, { 1, 4 }, { 1, 5 }, { 1, 6 }, { 1, 7 },\r\n                    { 1, 8 }, { 1, 9 },\r\n                    { 2, 0 }, { 2, 1 }, { 2, 2 }, { 2, 3 }, { 2, 4 }, { 2, 5 }, { 2, 6 }, { 2, 7 },\r\n                    { 2, 8 }, { 2, 9 },\r\n                    { 3, 0 }, { 3, 1 }, { 3, 2 }, { 3, 3 }, { 3, 4 }, { 3, 5 }, { 3, 6 }, { 3, 7 },\r\n                    { 3, 8 }, { 3, 9 },\r\n                    { 4, 0 }, { 4, 1 }, { 4, 2 }, { 4, 3 }, { 4, 4 }, { 4, 5 }, { 4, 6 }, { 4, 7 },\r\n                    { 4, 8 }, { 4, 9 },\r\n                    { 5, 0 }, { 5, 1 }, { 5, 2 }, { 5, 3 }, { 5, 4 }, { 5, 5 }, { 5, 6 }, { 5, 7 },\r\n                    { 5, 8 }, { 5, 9 },\r\n                    { 6, 0 }, { 6, 1 }, { 6, 2 }, { 6, 3 }, { 6, 4 }, { 6, 5 }, { 6, 6 }, { 6, 7 },\r\n                    { 6, 8 }, { 6, 9 },\r\n                    { 7, 0 }, { 7, 1 }, { 7, 2 }, { 7, 3 }, { 7, 4 }, { 7, 5 }, { 7, 6 }, { 7, 7 },\r\n                    { 7, 8 }, { 7, 9 },\r\n                    { 8, 0 }, { 8, 1 }, { 8, 2 }, { 8, 3 }, { 8, 4 }, { 8, 5 }, { 8, 6 }, { 8, 7 },\r\n                    { 8, 8 }, { 8, 9 },\r\n                    { 9, 0 }, { 9, 1 }, { 9, 2 }, { 9, 3 }, { 9, 4 }, { 9, 5 }, { 9, 6 }, { 9, 7 },\r\n                    { 9, 8 }, { 9, 9 }, }; //2d array\r\n            Random rand = new Random();\r\n\r\n            for (int i = rand.nextInt(200); i &lt;= 100; i = rand.nextInt(200)) //random pos at the 1st array\r\n            {\r\n                for (int j = 0; j &lt; rand.nextInt(2); j++) //random pos at the 2nd array\r\n                {\r\n                    value1 = wert[i][j];\r\n                    System.out.println(&quot;i: &quot; + i);\r\n                    System.out.println(&quot;j: &quot; + j);\r\n                     System.out.println(&quot;value1 &quot; + value1);\r\n                     System.out.println(&quot;  &quot;);\r\n                }\r\n            }\r\n            for (int i = rand.nextInt(200); i &lt;= 100; i = rand.nextInt(200)) {\r\n                for (int j = 0; j &lt; rand.nextInt(2); j++) {\r\n                    value2 = wert[i][j];\r\n                    System.out.println(&quot;i: &quot; + i);\r\n                    System.out.println(&quot;j: &quot; + j);\r\n                     System.out.println(&quot;value2 &quot; + value2);\r\n                     System.out.println(&quot;  &quot;);\r\n                }\r\n            }\r\n\r\n            for (int i = rand.nextInt(200); i &lt;= 100; i = rand.nextInt(200)) {\r\n                for (int j = 0; j &lt; rand.nextInt(2); j++) {\r\n                    value3 = wert[i][j];\r\n                    System.out.println(&quot;i: &quot; + i);\r\n                    System.out.println(&quot;j: &quot; + j);\r\n                     System.out.println(&quot;value3 &quot; + value3 );\r\n                     System.out.println(&quot;  &quot;);\r\n                }\r\n            }\r\n            System.out.println(value1 + &quot; &quot; + value2 + &quot; &quot; + value3); //outprinting the values\r\n            Thread.sleep(300);","title":"stop a 2d array at a random position","body":"<p>I have written a program in which a 2d array should loop until a random position. The problem is that some values are not transfered/registrated.\nIn addition to that, the 2nd array isnt random. It gets 0 all time.\nAnd sometimes it doesnt even check the for-loop or just prints out some loops mltiple times</p>\n<pre><code>     int value1 = 777; //just to check if the value has updated\n        int value2 = 777;\n        int value3 = 777;\n    \n        int[][] wert = { { 0, 0 }, { 0, 1 }, { 0, 2 }, { 0, 3 }, { 0, 4 }, { 0, 5 }, { 0, 6 }, { 0, 7 },\n                { 0, 8 }, { 0, 9 },\n                { 1, 0 }, { 1, 1 }, { 1, 2 }, { 1, 3 }, { 1, 4 }, { 1, 5 }, { 1, 6 }, { 1, 7 },\n                { 1, 8 }, { 1, 9 },\n                { 2, 0 }, { 2, 1 }, { 2, 2 }, { 2, 3 }, { 2, 4 }, { 2, 5 }, { 2, 6 }, { 2, 7 },\n                { 2, 8 }, { 2, 9 },\n                { 3, 0 }, { 3, 1 }, { 3, 2 }, { 3, 3 }, { 3, 4 }, { 3, 5 }, { 3, 6 }, { 3, 7 },\n                { 3, 8 }, { 3, 9 },\n                { 4, 0 }, { 4, 1 }, { 4, 2 }, { 4, 3 }, { 4, 4 }, { 4, 5 }, { 4, 6 }, { 4, 7 },\n                { 4, 8 }, { 4, 9 },\n                { 5, 0 }, { 5, 1 }, { 5, 2 }, { 5, 3 }, { 5, 4 }, { 5, 5 }, { 5, 6 }, { 5, 7 },\n                { 5, 8 }, { 5, 9 },\n                { 6, 0 }, { 6, 1 }, { 6, 2 }, { 6, 3 }, { 6, 4 }, { 6, 5 }, { 6, 6 }, { 6, 7 },\n                { 6, 8 }, { 6, 9 },\n                { 7, 0 }, { 7, 1 }, { 7, 2 }, { 7, 3 }, { 7, 4 }, { 7, 5 }, { 7, 6 }, { 7, 7 },\n                { 7, 8 }, { 7, 9 },\n                { 8, 0 }, { 8, 1 }, { 8, 2 }, { 8, 3 }, { 8, 4 }, { 8, 5 }, { 8, 6 }, { 8, 7 },\n                { 8, 8 }, { 8, 9 },\n                { 9, 0 }, { 9, 1 }, { 9, 2 }, { 9, 3 }, { 9, 4 }, { 9, 5 }, { 9, 6 }, { 9, 7 },\n                { 9, 8 }, { 9, 9 }, }; //2d array\n        Random rand = new Random();\n\n        for (int i = rand.nextInt(200); i &lt;= 100; i = rand.nextInt(200)) //random pos at the 1st array\n        {\n            for (int j = 0; j &lt; rand.nextInt(2); j++) //random pos at the 2nd array\n            {\n                value1 = wert[i][j];\n                System.out.println(&quot;i: &quot; + i);\n                System.out.println(&quot;j: &quot; + j);\n                 System.out.println(&quot;value1 &quot; + value1);\n                 System.out.println(&quot;  &quot;);\n            }\n        }\n        for (int i = rand.nextInt(200); i &lt;= 100; i = rand.nextInt(200)) {\n            for (int j = 0; j &lt; rand.nextInt(2); j++) {\n                value2 = wert[i][j];\n                System.out.println(&quot;i: &quot; + i);\n                System.out.println(&quot;j: &quot; + j);\n                 System.out.println(&quot;value2 &quot; + value2);\n                 System.out.println(&quot;  &quot;);\n            }\n        }\n\n        for (int i = rand.nextInt(200); i &lt;= 100; i = rand.nextInt(200)) {\n            for (int j = 0; j &lt; rand.nextInt(2); j++) {\n                value3 = wert[i][j];\n                System.out.println(&quot;i: &quot; + i);\n                System.out.println(&quot;j: &quot; + j);\n                 System.out.println(&quot;value3 &quot; + value3 );\n                 System.out.println(&quot;  &quot;);\n            }\n        }\n        System.out.println(value1 + &quot; &quot; + value2 + &quot; &quot; + value3); //outprinting the values\n        Thread.sleep(300);\n</code></pre>\n"},{"tags":["java","arrays","null"],"answers":[{"tags":[],"owner":{"account_id":2069,"reputation":82839,"user_id":2847,"accept_rate":100,"display_name":"John Boker"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1265167503,"creation_date":1265167503,"answer_id":2189472,"question_id":2189464,"body_markdown":"No, the first one makes each element of the array null, the length of the array will still be array.length, the second will set the array variable to null.","title":"making elements of an array null","body":"<p>No, the first one makes each element of the array null, the length of the array will still be array.length, the second will set the array variable to null.</p>\n"},{"tags":[],"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1265167523,"creation_date":1265167523,"answer_id":2189474,"question_id":2189464,"body_markdown":"Not at all.\r\n\r\nIn the first case you&#39;re setting all the references in your array to null.\r\n\r\nIn the second case you&#39;re setting the very reference to the array itself to null.\r\n","title":"making elements of an array null","body":"<p>Not at all.</p>\n\n<p>In the first case you're setting all the references in your array to null.</p>\n\n<p>In the second case you're setting the very reference to the array itself to null.</p>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1265171243,"creation_date":1265167989,"answer_id":2189503,"question_id":2189464,"body_markdown":"A small snippet to show the difference:\r\n\r\n    // declare a array variable that can hold a reference.\r\n    String [] array;\r\n    \r\n    // make it null, to indicate it does not refer anything.\r\n    array = null;\r\n    \r\n    // at this point there is just a array var initialized to null but no actual array.\r\n    \r\n    // now allocate an array.\r\n    array = new String[3];\r\n    \r\n    // now make the individual array elements null..although they already are null.\r\n    for(int i=0;i&lt;array.length;i++)\r\n    {\r\n    \tarray[i] = null;\r\n    }\r\n    // at this point we have a array variable, holding reference to an array, \r\n    // whose individual elements are null.\r\n","title":"making elements of an array null","body":"<p>A small snippet to show the difference:</p>\n\n<pre><code>// declare a array variable that can hold a reference.\nString [] array;\n\n// make it null, to indicate it does not refer anything.\narray = null;\n\n// at this point there is just a array var initialized to null but no actual array.\n\n// now allocate an array.\narray = new String[3];\n\n// now make the individual array elements null..although they already are null.\nfor(int i=0;i&lt;array.length;i++)\n{\n    array[i] = null;\n}\n// at this point we have a array variable, holding reference to an array, \n// whose individual elements are null.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93884,"reputation":11967,"user_id":256660,"accept_rate":75,"display_name":"Lombo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1265168780,"creation_date":1265168780,"answer_id":2189548,"question_id":2189464,"body_markdown":"No, it is not the same.\r\n\r\nAs a matter of fact, for the first snippet of code to run correctly, the array variable should be declared and initialized like this (for example)\r\n\r\n    Object[] array = new Object[5];\r\n\r\nThis creates an array of 5 elements with each element having a `null` value.\r\n\r\nOnce you have this, in the first example what you are doing is assigning a null value to each of the `array[i]` elements. `array` will not be `null`. So you should have something like this.\r\n\r\n\r\narray -&gt;\r\n\r\n - array[0] -&gt; null\r\n - array[1] -&gt; null\r\n - array[2] -&gt; null\r\n - array[3] -&gt; null\r\n - array[4] -&gt; null\r\n\r\nBy doing `array = null` you are saying that the array no longer references that array of elements. Now you should have\r\n\r\narray -&gt; null","title":"making elements of an array null","body":"<p>No, it is not the same.</p>\n\n<p>As a matter of fact, for the first snippet of code to run correctly, the array variable should be declared and initialized like this (for example)</p>\n\n<pre><code>Object[] array = new Object[5];\n</code></pre>\n\n<p>This creates an array of 5 elements with each element having a <code>null</code> value.</p>\n\n<p>Once you have this, in the first example what you are doing is assigning a null value to each of the <code>array[i]</code> elements. <code>array</code> will not be <code>null</code>. So you should have something like this.</p>\n\n<p>array -></p>\n\n<ul>\n<li>array[0] -> null</li>\n<li>array[1] -> null</li>\n<li>array[2] -> null</li>\n<li>array[3] -> null</li>\n<li>array[4] -> null</li>\n</ul>\n\n<p>By doing <code>array = null</code> you are saying that the array no longer references that array of elements. Now you should have</p>\n\n<p>array -> null</p>\n"},{"tags":[],"owner":{"account_id":5647628,"reputation":29,"user_id":4469190,"display_name":"Tris"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1657698602,"creation_date":1421656691,"answer_id":28020653,"question_id":2189464,"body_markdown":"Neither of them will work! If you have an array of integers and you try to make an element null you can&#39;t do \r\n \r\n\r\n    arr[i]=null;\r\n\r\nbecause integer cannot be converted to null.","title":"making elements of an array null","body":"<p>Neither of them will work! If you have an array of integers and you try to make an element null you can't do</p>\n<pre><code>arr[i]=null;\n</code></pre>\n<p>because integer cannot be converted to null.</p>\n"}],"owner":{"account_id":26634,"reputation":27155,"user_id":69514,"accept_rate":70,"display_name":"user69514"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100763,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1657698602,"creation_date":1265167399,"question_id":2189464,"body_markdown":"are these two the same things?\r\n\r\n    for(int i=0; i&lt;array.length; i++){\r\n    array[i] = null;\r\n    }\r\n\r\nand \r\n\r\n    array = null;\r\n\r\n\r\n\r\n","title":"making elements of an array null","body":"<p>are these two the same things?</p>\n\n<pre><code>for(int i=0; i&lt;array.length; i++){\narray[i] = null;\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>array = null;\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1657697434,"post_id":72962171,"comment_id":128869275,"body_markdown":"String has no property _name_","body":"String has no property <i>name</i>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1657697884,"post_id":72962171,"comment_id":128869408,"body_markdown":"also see the tutorial about how to use treetableview https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/tree-table-view.htm#CJAFBAEG","body":"also see the tutorial about how to use treetableview <a href=\"https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/tree-table-view.htm#CJAFBAEG\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/user-interface-tutorial/&hellip;</a>"},{"owner":{"account_id":20888119,"reputation":1,"user_id":15344204,"display_name":"Yella32121"},"score":0,"creation_date":1657699361,"post_id":72962171,"comment_id":128869874,"body_markdown":"i see it, i have error with: \n\nnew ReadOnlyStringWrapper(p.getValue().getValue()));  \n\nNetBeans show that i don&#39;t have method getValue() in p.getValue()","body":"i see it, i have error with:   new ReadOnlyStringWrapper(p.getValue().getValue()));    NetBeans show that i don&#39;t have method getValue() in p.getValue()"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657741601,"post_id":72962171,"comment_id":128885499,"body_markdown":"I&#39;d add an answer but it is closed. Assuming a column named `fileNameColumn` of type `TreeTableColumn&lt;String, String&gt;`, where you want a cell factory with a read only property, set the cell value factory like this: `fileNameColumn.setCellValueFactory(p -&gt; new ReadOnlyStringWrapper(p.getValue().getValue()).getReadOnlyProperty())`.  In local testing, that worked fine for me.","body":"I&#39;d add an answer but it is closed. Assuming a column named <code>fileNameColumn</code> of type <code>TreeTableColumn&lt;String, String&gt;</code>, where you want a cell factory with a read only property, set the cell value factory like this: <code>fileNameColumn.setCellValueFactory(p -&gt; new ReadOnlyStringWrapper(p.getValue().getValue()).getReadOnlyPr&zwnj;&#8203;operty())</code>.  In local testing, that worked fine for me."}],"owner":{"account_id":20888119,"reputation":1,"user_id":15344204,"display_name":"Yella32121"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657697748,"answer_count":0,"score":0,"last_activity_date":1657697440,"creation_date":1657695929,"question_id":72962171,"body_markdown":"I have TreeTableView, and 1 column ine one, and 1 root item and 3 child item.\r\n\r\nMy init code:\r\n\r\n```\r\npublic void init(){\r\n    \r\n        TreeTableView&lt;String&gt; treeTableViewFileName = controller.getTreeTableViewFileName();\r\n    \r\n        //Creating tree items\r\n        TreeItem&lt;String&gt; childNode1 = new TreeItem&lt;&gt;(&quot;Child Node 1&quot;);\r\n        TreeItem&lt;String&gt; childNode2 = new TreeItem&lt;&gt;(&quot;Child Node 2&quot;);\r\n        TreeItem&lt;String&gt; childNode3 = new TreeItem&lt;&gt;(&quot;Child Node 3&quot;);\r\n    \r\n        //Creating the root element\r\n        TreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(&quot;Root&quot;);\r\n        root.setExpanded(true);\r\n    \r\n        //Adding tree items to the root\r\n        root.getChildren().setAll(childNode1, childNode2, childNode3);        \r\n\r\n        TreeTableColumn&lt;String, String&gt; column1 = controller.getTreeColumnFileName();\r\n        column1.setCellValueFactory(new TreeItemPropertyValueFactory&lt;&gt;(&quot;name&quot;));\r\n    \r\n        treeTableViewFileName.setRoot(root); \r\n        treeTableViewFileName.setShowRoot(true); \r\n}\r\n```\r\n\r\nAnd after run app i show:\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\nIn TreeTableView i have 4 rows: 1 root and 3 child, but tree don&#39;t show content of items.\r\n\r\n  [1]: https://i.stack.imgur.com/vGA5p.png\r\n\r\n ```\r\n&lt;Pane fx:id=&quot;pane3&quot; prefHeight=&quot;280.0&quot; prefWidth=&quot;917.0&quot;&gt;\r\n     &lt;children&gt;\r\n        &lt;TreeTableView fx:id=&quot;treeTableViewFileName&quot; layoutX=&quot;14.0&quot; layoutY=&quot;16.0&quot; prefHeight=&quot;240.0&quot; prefWidth=&quot;227.0&quot;&gt;\r\n          &lt;columns&gt;\r\n            &lt;TreeTableColumn fx:id=&quot;treeColumnFileName&quot; prefWidth=&quot;199.0&quot; text=&quot;FileName&quot; /&gt;\r\n          &lt;/columns&gt;\r\n        &lt;/TreeTableView&gt;\r\n     &lt;/children&gt;\r\n  &lt;/Pane&gt;\r\n ```\r\n\r\nCan someone help me? Thanks\r\n","title":"(Java) javafx TreeTableView don&#39;t show simple items","body":"<p>I have TreeTableView, and 1 column ine one, and 1 root item and 3 child item.</p>\n<p>My init code:</p>\n<pre><code>public void init(){\n    \n        TreeTableView&lt;String&gt; treeTableViewFileName = controller.getTreeTableViewFileName();\n    \n        //Creating tree items\n        TreeItem&lt;String&gt; childNode1 = new TreeItem&lt;&gt;(&quot;Child Node 1&quot;);\n        TreeItem&lt;String&gt; childNode2 = new TreeItem&lt;&gt;(&quot;Child Node 2&quot;);\n        TreeItem&lt;String&gt; childNode3 = new TreeItem&lt;&gt;(&quot;Child Node 3&quot;);\n    \n        //Creating the root element\n        TreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(&quot;Root&quot;);\n        root.setExpanded(true);\n    \n        //Adding tree items to the root\n        root.getChildren().setAll(childNode1, childNode2, childNode3);        \n\n        TreeTableColumn&lt;String, String&gt; column1 = controller.getTreeColumnFileName();\n        column1.setCellValueFactory(new TreeItemPropertyValueFactory&lt;&gt;(&quot;name&quot;));\n    \n        treeTableViewFileName.setRoot(root); \n        treeTableViewFileName.setShowRoot(true); \n}\n</code></pre>\n<p>And after run app i show:</p>\n<p><a href=\"https://i.stack.imgur.com/vGA5p.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In TreeTableView i have 4 rows: 1 root and 3 child, but tree don't show content of items.</p>\n<pre><code>&lt;Pane fx:id=&quot;pane3&quot; prefHeight=&quot;280.0&quot; prefWidth=&quot;917.0&quot;&gt;\n    &lt;children&gt;\n       &lt;TreeTableView fx:id=&quot;treeTableViewFileName&quot; layoutX=&quot;14.0&quot; layoutY=&quot;16.0&quot; prefHeight=&quot;240.0&quot; prefWidth=&quot;227.0&quot;&gt;\n         &lt;columns&gt;\n           &lt;TreeTableColumn fx:id=&quot;treeColumnFileName&quot; prefWidth=&quot;199.0&quot; text=&quot;FileName&quot; /&gt;\n         &lt;/columns&gt;\n       &lt;/TreeTableView&gt;\n    &lt;/children&gt;\n &lt;/Pane&gt;\n</code></pre>\n<p>Can someone help me? Thanks</p>\n"},{"tags":["java","eclipse","build.gradle","minecraft-forge","launch-configuration"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1657696984,"post_id":72962187,"comment_id":128869133,"body_markdown":"The project is not configured as a Java project, so the .java files will not be compiled and cannot be executed. Does right-clicking and choosing _Grade &gt; Refresh Gradle Project_ help? If not, please add the content of your `build.gradle` file as text formatted as _Code Sample_ to your question. What is shown in the _Problems_ view?","body":"The project is not configured as a Java project, so the .java files will not be compiled and cannot be executed. Does right-clicking and choosing <i>Grade &gt; Refresh Gradle Project</i> help? If not, please add the content of your <code>build.gradle</code> file as text formatted as <i>Code Sample</i> to your question. What is shown in the <i>Problems</i> view?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1657697171,"post_id":72962187,"comment_id":128869195,"body_markdown":"The Run Configuration is showing you an error - at the top of the dialog. The project name can&#39;t have a \\ character.","body":"The Run Configuration is showing you an error - at the top of the dialog. The project name can&#39;t have a \\ character."},{"owner":{"account_id":19439635,"reputation":19,"user_id":14218324,"display_name":"CubeTastick N"},"score":0,"creation_date":1657697346,"post_id":72962187,"comment_id":128869253,"body_markdown":"i ended up deleting the \\ after i took the screenshot but it didn&#39;t help","body":"i ended up deleting the \\ after i took the screenshot but it didn&#39;t help"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1657702119,"post_id":72962187,"comment_id":128870812,"body_markdown":"The Classpath tab on the Run Configuration also has a red X as does the Project. You need to sort out all those errors. Looking at the Problems view may also help..","body":"The Classpath tab on the Run Configuration also has a red X as does the Project. You need to sort out all those errors. Looking at the Problems view may also help.."},{"owner":{"account_id":19439635,"reputation":19,"user_id":14218324,"display_name":"CubeTastick N"},"score":0,"creation_date":1657705396,"post_id":72962187,"comment_id":128871946,"body_markdown":"I checked out the error it says: Description\tResource\tPath\tLocation\tType\nCould not create an instance of Tooling API implementation using the specified Gradle distribution &#39;https://services.gradle.org/distributions/gradle-2.7-bin.zip&#39;.\nUnable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @135774d6\tTutorialMod\t\tline 0\tGradle Error Marker\n\nNot sure how to fix it though...","body":"I checked out the error it says: Description\tResource\tPath\tLocation\tType Could not create an instance of Tooling API implementation using the specified Gradle distribution &#39;<a href=\"https://services.gradle.org/distributions/gradle-2.7-bin.zip\" rel=\"nofollow noreferrer\">services.gradle.org/distributions/gradle-2.7-bin.zip</a>&#39;. Unable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @135774d6\tTutorialMod\t\tline 0\tGradle Error Marker  Not sure how to fix it though..."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1657738492,"post_id":72962187,"comment_id":128884513,"body_markdown":"That version of gradle is trying to do something that modern versions of Java don&#39;t allow anymore. You may need to specify an older Java (probably Java 8) in the run configuration, or use a newer gradle.","body":"That version of gradle is trying to do something that modern versions of Java don&#39;t allow anymore. You may need to specify an older Java (probably Java 8) in the run configuration, or use a newer gradle."},{"owner":{"account_id":19439635,"reputation":19,"user_id":14218324,"display_name":"CubeTastick N"},"score":0,"creation_date":1657745936,"post_id":72962187,"comment_id":128886845,"body_markdown":"I am now trying to run gradle through java 1.8 but the recent version of eclipse only allows java versions 11+ from what I am seeing. Where could I get an older version of eclipse? [photo](https://gyazo.com/b4e3b0b0825856f1f16df9a4518fc05e) [photo](https://gyazo.com/6cc8cf7caf34956e5e7dd10917874367)","body":"I am now trying to run gradle through java 1.8 but the recent version of eclipse only allows java versions 11+ from what I am seeing. Where could I get an older version of eclipse? <a href=\"https://gyazo.com/b4e3b0b0825856f1f16df9a4518fc05e\" rel=\"nofollow noreferrer\">photo</a> <a href=\"https://gyazo.com/6cc8cf7caf34956e5e7dd10917874367\" rel=\"nofollow noreferrer\">photo</a>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1657778568,"post_id":72962187,"comment_id":128892218,"body_markdown":"You don&#39;t need a older version of Eclipse. You can tell Eclipse to use older versions of Java to run programs - see my answer to your other question.","body":"You don&#39;t need a older version of Eclipse. You can tell Eclipse to use older versions of Java to run programs - see my answer to your other question."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1657780808,"post_id":72962187,"comment_id":128892793,"body_markdown":"Which Buildship version do you have (see _Help &gt; About Eclipse IDE_)? Your root problem is that your project is not a Java project (for unknown reasons). So your Java code will not be compiled and cannot be run. Telling about the errors you get for launching does not provide any helpful information about your root problem.","body":"Which Buildship version do you have (see <i>Help &gt; About Eclipse IDE</i>)? Your root problem is that your project is not a Java project (for unknown reasons). So your Java code will not be compiled and cannot be run. Telling about the errors you get for launching does not provide any helpful information about your root problem."}],"owner":{"account_id":19439635,"reputation":19,"user_id":14218324,"display_name":"CubeTastick N"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657697308,"creation_date":1657696033,"question_id":72962187,"body_markdown":"I am trying to learn how to make minecraft mods and am following a tutorial using gradle. On one step of the tutorial he runs the empty mod using: Run &gt; Run Configuration &gt; Java Application &gt; run client\r\n\r\n[Configuration Menu][1]\r\n\r\nWhen I go to run configuration, it doesn&#39;t show me any configurations installed and when I try to make one, it says: **Launch configuration Trial references non-existing project TrialMod.**\r\n\r\n[Error Message][2]\r\n\r\nDoes anyone know how to fix this? The project clearly exists lol (u can see in background)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4s6s7.png\r\n  [2]: https://i.stack.imgur.com/L755x.png\r\n\r\n\r\n\r\n\r\nEDIT:\r\n\r\n```\r\n\r\n// For those who want the bleeding edge\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            name = &quot;forge&quot;\r\n            url = &quot;http://files.minecraftforge.net/maven&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT&#39;\r\n    }\r\n}\r\napply plugin: &#39;net.minecraftforge.gradle.forge&#39;\r\n\r\n/*\r\n// for people who want stable - not yet functional for MC 1.8.8 - we require the forgegradle 2.1 snapshot\r\nplugins {\r\n    id &quot;net.minecraftforge.gradle.forge&quot; version &quot;2.0.2&quot;\r\n}\r\n*/\r\nversion = &quot;2.0&quot;\r\ngroup= &quot;com.oopermass.trialmod&quot; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\r\narchivesBaseName = &quot;trialmod&quot;\r\n\r\nminecraft {\r\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\r\n    runDir = &quot;run&quot;\r\n    \r\n    // the mappings can be changed at any time, and must be in the following format.\r\n    // snapshot_YYYYMMDD   snapshot are built nightly.\r\n    // stable_#            stables are built at the discretion of the MCP team.\r\n    // Use non-default mappings at your own risk. they may not allways work.\r\n    // simply re-run your setup task after changing the mappings to update your workspace.\r\n    mappings = &quot;stable_20&quot;\r\n    // makeObfSourceJar = false // an Srg named sources jar is made by default. uncomment this to disable.\r\n}\r\n\r\ndependencies {\r\n    // you may put jars on which you depend on in ./libs\r\n    // or you may define them like so..\r\n    //compile &quot;some.group:artifact:version:classifier&quot;\r\n    //compile &quot;some.group:artifact:version&quot;\r\n      \r\n    // real examples\r\n    //compile &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;  // adds buildcraft to the dev env\r\n    //compile &#39;com.googlecode.efficient-java-matrix-library:ejml:0.24&#39; // adds ejml to the dev env\r\n\r\n    // the &#39;provided&#39; configuration is for optional dependencies that exist at compile-time but might not at runtime.\r\n    //provided &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;\r\n\r\n    // the deobf configurations:  &#39;deobfCompile&#39; and &#39;deobfProvided&#39; are the same as the normal compile and provided,\r\n    // except that these dependencies get remapped to your current MCP mappings\r\n    //deobfCompile &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;\r\n    //deobfProvided &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;\r\n\r\n    // for more info...\r\n    // http://www.gradle.org/docs/current/userguide/artifact_dependencies_tutorial.html\r\n    // http://www.gradle.org/docs/current/userguide/dependency_management.html\r\n\r\n}\r\n\r\nprocessResources\r\n{\r\n    // this will ensure that this task is redone when the versions change.\r\n    inputs.property &quot;version&quot;, project.version\r\n    inputs.property &quot;mcversion&quot;, project.minecraft.version\r\n\r\n    // replace stuff in mcmod.info, nothing else\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        include &#39;mcmod.info&#39;\r\n                \r\n        // replace version and mcversion\r\n        expand &#39;version&#39;:project.version, &#39;mcversion&#39;:project.minecraft.version\r\n    }\r\n        \r\n    // copy everything else, thats not the mcmod.info\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        exclude &#39;mcmod.info&#39;\r\n    }\r\n}\r\n\r\n```","title":"Cannot find configuration for gradle","body":"<p>I am trying to learn how to make minecraft mods and am following a tutorial using gradle. On one step of the tutorial he runs the empty mod using: Run &gt; Run Configuration &gt; Java Application &gt; run client</p>\n<p><a href=\"https://i.stack.imgur.com/4s6s7.png\" rel=\"nofollow noreferrer\">Configuration Menu</a></p>\n<p>When I go to run configuration, it doesn't show me any configurations installed and when I try to make one, it says: <strong>Launch configuration Trial references non-existing project TrialMod.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/L755x.png\" rel=\"nofollow noreferrer\">Error Message</a></p>\n<p>Does anyone know how to fix this? The project clearly exists lol (u can see in background)</p>\n<p>EDIT:</p>\n<pre><code>\n// For those who want the bleeding edge\nbuildscript {\n    repositories {\n        jcenter()\n        maven {\n            name = &quot;forge&quot;\n            url = &quot;http://files.minecraftforge.net/maven&quot;\n        }\n    }\n    dependencies {\n        classpath 'net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT'\n    }\n}\napply plugin: 'net.minecraftforge.gradle.forge'\n\n/*\n// for people who want stable - not yet functional for MC 1.8.8 - we require the forgegradle 2.1 snapshot\nplugins {\n    id &quot;net.minecraftforge.gradle.forge&quot; version &quot;2.0.2&quot;\n}\n*/\nversion = &quot;2.0&quot;\ngroup= &quot;com.oopermass.trialmod&quot; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\narchivesBaseName = &quot;trialmod&quot;\n\nminecraft {\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\n    runDir = &quot;run&quot;\n    \n    // the mappings can be changed at any time, and must be in the following format.\n    // snapshot_YYYYMMDD   snapshot are built nightly.\n    // stable_#            stables are built at the discretion of the MCP team.\n    // Use non-default mappings at your own risk. they may not allways work.\n    // simply re-run your setup task after changing the mappings to update your workspace.\n    mappings = &quot;stable_20&quot;\n    // makeObfSourceJar = false // an Srg named sources jar is made by default. uncomment this to disable.\n}\n\ndependencies {\n    // you may put jars on which you depend on in ./libs\n    // or you may define them like so..\n    //compile &quot;some.group:artifact:version:classifier&quot;\n    //compile &quot;some.group:artifact:version&quot;\n      \n    // real examples\n    //compile 'com.mod-buildcraft:buildcraft:6.0.8:dev'  // adds buildcraft to the dev env\n    //compile 'com.googlecode.efficient-java-matrix-library:ejml:0.24' // adds ejml to the dev env\n\n    // the 'provided' configuration is for optional dependencies that exist at compile-time but might not at runtime.\n    //provided 'com.mod-buildcraft:buildcraft:6.0.8:dev'\n\n    // the deobf configurations:  'deobfCompile' and 'deobfProvided' are the same as the normal compile and provided,\n    // except that these dependencies get remapped to your current MCP mappings\n    //deobfCompile 'com.mod-buildcraft:buildcraft:6.0.8:dev'\n    //deobfProvided 'com.mod-buildcraft:buildcraft:6.0.8:dev'\n\n    // for more info...\n    // http://www.gradle.org/docs/current/userguide/artifact_dependencies_tutorial.html\n    // http://www.gradle.org/docs/current/userguide/dependency_management.html\n\n}\n\nprocessResources\n{\n    // this will ensure that this task is redone when the versions change.\n    inputs.property &quot;version&quot;, project.version\n    inputs.property &quot;mcversion&quot;, project.minecraft.version\n\n    // replace stuff in mcmod.info, nothing else\n    from(sourceSets.main.resources.srcDirs) {\n        include 'mcmod.info'\n                \n        // replace version and mcversion\n        expand 'version':project.version, 'mcversion':project.minecraft.version\n    }\n        \n    // copy everything else, thats not the mcmod.info\n    from(sourceSets.main.resources.srcDirs) {\n        exclude 'mcmod.info'\n    }\n}\n\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","apache-flink","amazon-timestream"],"comments":[{"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"score":1,"creation_date":1657548404,"post_id":72939342,"comment_id":128830058,"body_markdown":"Can you elaborate on what you mean by &quot;my guess is that the endpoint for Timestream also gets overwritten because they use the same builder&quot;? Can you provide example code where they use the same builder? I&#39;m not sure they should use the same builder. In AWS SDK, the S3 client and the Timestream client should be produced using their own builders.","body":"Can you elaborate on what you mean by &quot;my guess is that the endpoint for Timestream also gets overwritten because they use the same builder&quot;? Can you provide example code where they use the same builder? I&#39;m not sure they should use the same builder. In AWS SDK, the S3 client and the Timestream client should be produced using their own builders."},{"owner":{"account_id":10687474,"reputation":43,"user_id":7867566,"display_name":"Normalerd"},"score":0,"creation_date":1657550460,"post_id":72939342,"comment_id":128830939,"body_markdown":"@Mark Edited the original post","body":"@Mark Edited the original post"},{"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"score":0,"creation_date":1657635667,"post_id":72939342,"comment_id":128854395,"body_markdown":"Although they both extend the same base class I doubt that they both use the same service endpoint. If configured properly they shouldn&#39;t as each service has it&#39;s own endpoint. You could probably check this using a debugger to inspect the client for each service.","body":"Although they both extend the same base class I doubt that they both use the same service endpoint. If configured properly they shouldn&#39;t as each service has it&#39;s own endpoint. You could probably check this using a debugger to inspect the client for each service."},{"owner":{"account_id":10687474,"reputation":43,"user_id":7867566,"display_name":"Normalerd"},"score":0,"creation_date":1657700893,"post_id":72939342,"comment_id":128870393,"body_markdown":"I would say that as well, but when I remove the S3 sink from the pipeline, data gets inserted into Timestream. When I add the sink back in, I get that exception shown above. So this is my guess on what is happening, but I fully agree with you. The debugger shows the correct endpoints, which makes it even weirder.","body":"I would say that as well, but when I remove the S3 sink from the pipeline, data gets inserted into Timestream. When I add the sink back in, I get that exception shown above. So this is my guess on what is happening, but I fully agree with you. The debugger shows the correct endpoints, which makes it even weirder."},{"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"score":0,"creation_date":1658174943,"post_id":72939342,"comment_id":128981851,"body_markdown":"Does the Adobe S3 mock introduce some kind of interceptor that might be re-writing endpoint URLs?","body":"Does the Adobe S3 mock introduce some kind of interceptor that might be re-writing endpoint URLs?"}],"owner":{"account_id":10687474,"reputation":43,"user_id":7867566,"display_name":"Normalerd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657696837,"creation_date":1657546028,"question_id":72939342,"body_markdown":"I&#39;m working on a system that saves large amounts of data to AWS Timestream and AWS S3 from an Apache Flink pipeline. I use the AWS SDK for this.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.89&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nFor testing purposes, I&#39;m using a Docker container with [Adobe S3 Mock][1] to mock all the data from actually going to AWS S3. I&#39;ve tried this for Timestream as well, but unfortunately there isn&#39;t a mock for that (I think). I&#39;m writing to a real Timestream instance.\r\n\r\nTo write to the S3 Mock, I&#39;ve overwritten the endpoint to the Docker container. But, my guess is that the endpoint for Timestream also gets overwritten because they use the same builder.\r\n\r\n**Edit:** Both the S3 builder and the Timestream builder extend the `SdkSyncClientBuilder`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n I&#39;m not 100% sure this is the case, but this is my guess. Disabling the logic for writing to S3 fixes the problem for Timestream. I still want to test locally with the S3 Mock. Below you can find the error message the Timestream SDK provides:\r\n\r\n[![Failed when retrieving a required endpoint from AWS][3]][3]\r\n\r\nDoes anyone have any experience with this problem? Or any advice on a better way to test Timestream locally as well?\r\n\r\n\r\n  [1]: https://hub.docker.com/r/adobe/s3mock/\r\n  [2]: https://i.stack.imgur.com/5WI56.png\r\n  [3]: https://i.stack.imgur.com/jscSu.png","title":"Are AWS endpoint overrides universal for all other AWS SDK services?","body":"<p>I'm working on a system that saves large amounts of data to AWS Timestream and AWS S3 from an Apache Flink pipeline. I use the AWS SDK for this.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;bom&lt;/artifactId&gt;\n            &lt;version&gt;2.17.89&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>For testing purposes, I'm using a Docker container with <a href=\"https://hub.docker.com/r/adobe/s3mock/\" rel=\"nofollow noreferrer\">Adobe S3 Mock</a> to mock all the data from actually going to AWS S3. I've tried this for Timestream as well, but unfortunately there isn't a mock for that (I think). I'm writing to a real Timestream instance.</p>\n<p>To write to the S3 Mock, I've overwritten the endpoint to the Docker container. But, my guess is that the endpoint for Timestream also gets overwritten because they use the same builder.</p>\n<p><strong>Edit:</strong> Both the S3 builder and the Timestream builder extend the <code>SdkSyncClientBuilder</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/5WI56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5WI56.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm not 100% sure this is the case, but this is my guess. Disabling the logic for writing to S3 fixes the problem for Timestream. I still want to test locally with the S3 Mock. Below you can find the error message the Timestream SDK provides:</p>\n<p><a href=\"https://i.stack.imgur.com/jscSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jscSu.png\" alt=\"Failed when retrieving a required endpoint from AWS\" /></a></p>\n<p>Does anyone have any experience with this problem? Or any advice on a better way to test Timestream locally as well?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1657264634,"post_id":72907867,"comment_id":128774040,"body_markdown":"Independent of the question. If you are using the application context, then there shouldn&#39;t need to use a weak reference. You can&#39;t leak an application context.","body":"Independent of the question. If you are using the application context, then there shouldn&#39;t need to use a weak reference. You can&#39;t leak an application context."}],"answers":[{"tags":[],"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657265027,"creation_date":1657264301,"answer_id":72907909,"question_id":72907867,"body_markdown":"Settings &gt; Keymap &gt; Find &#39;Alt+Enter&#39;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pIv8N.png","title":"How to import @NonNull class","body":"<p>Settings &gt; Keymap &gt; Find 'Alt+Enter'.</p>\n<p><a href=\"https://i.stack.imgur.com/pIv8N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pIv8N.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25743926,"reputation":288,"user_id":19497465,"display_name":"Aniket Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72907909,"answer_count":1,"score":-1,"last_activity_date":1657696727,"creation_date":1657264082,"question_id":72907867,"body_markdown":"**I have to import @NonNull but can not find out using Alt+Enter in Windows, what steps have to do to import @NonNull class in java.**\r\n\r\n    private Toaster(@NonNull Context context) {\r\n        weakReference = new WeakReference&lt;&gt;(context);\r\n    }\r\n\r\n    public static Toaster getInstance(@NonNull Context context) {\r\n        if (toaster == null) {\r\n            toaster = new Toaster(context.getApplicationContext());\r\n        }\r\n        return toaster;\r\n    }\r\n\r\n[Settings &gt; Build, Execution, Deployment &gt; Compiler][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Ikd2U.png","title":"How to import @NonNull class","body":"<p><strong>I have to import @NonNull but can not find out using Alt+Enter in Windows, what steps have to do to import @NonNull class in java.</strong></p>\n<pre><code>private Toaster(@NonNull Context context) {\n    weakReference = new WeakReference&lt;&gt;(context);\n}\n\npublic static Toaster getInstance(@NonNull Context context) {\n    if (toaster == null) {\n        toaster = new Toaster(context.getApplicationContext());\n    }\n    return toaster;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ikd2U.png\" rel=\"nofollow noreferrer\">Settings &gt; Build, Execution, Deployment &gt; Compiler</a></p>\n"},{"tags":["java","arrays","hashmap"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657695366,"post_id":72962037,"comment_id":128868634,"body_markdown":"By the way, most of that code is irrelevant. You could just have said you have an array `int[] finalAns = new int[]{1, 3};`. Please read about [**Minimal**, Complete, and Verifiable Examples](http://stackoverflow.com/help/mcve).","body":"By the way, most of that code is irrelevant. You could just have said you have an array <code>int[] finalAns = new int[]{1, 3};</code>. Please read about <a href=\"http://stackoverflow.com/help/mcve\"><b>Minimal</b>, Complete, and Verifiable Examples</a>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1657695423,"post_id":72962037,"comment_id":128868652,"body_markdown":"`Arrays.toString(array)`. What you see here is the default `toString()` representation of arrays, or Objects in particular.","body":"<code>Arrays.toString(array)</code>. What you see here is the default <code>toString()</code> representation of arrays, or Objects in particular."}],"owner":{"account_id":19573988,"reputation":11,"user_id":14324476,"display_name":"Nazmus Saqueeb Ashrafi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657695348,"answer_count":0,"score":0,"last_activity_date":1657696474,"creation_date":1657695232,"question_id":72962037,"body_markdown":"I have an integer and an integer that I get from a hashmap stored in an array called finalAns.\r\n\r\n    int[] finalAns = {};\r\n    finalAns = new int[]{1, 3};\r\n    System.out.println(finalAns);\r\n\r\nWhen I print it out I get **[I@77459877**\r\n\r\n\r\nHow do I get [1,3] when I print out the final answer (`System.out.println(finalAns)`)?","title":"Print out array in Java","body":"<p>I have an integer and an integer that I get from a hashmap stored in an array called finalAns.</p>\n<pre><code>int[] finalAns = {};\nfinalAns = new int[]{1, 3};\nSystem.out.println(finalAns);\n</code></pre>\n<p>When I print it out I get <strong>[I@77459877</strong></p>\n<p>How do I get [1,3] when I print out the final answer (<code>System.out.println(finalAns)</code>)?</p>\n"},{"tags":["java","dl4j","nd4j"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1657691906,"post_id":72961432,"comment_id":128867792,"body_markdown":"You&#39;re trying to create a **class** called `org.nd4j.linalg.factory.Nd4j.linspace`, which does not exist. Maybe `linspace` is a **method**, if so, remove `new`.","body":"You&#39;re trying to create a <b>class</b> called <code>org.nd4j.linalg.factory.Nd4j.linspace</code>, which does not exist. Maybe <code>linspace</code> is a <b>method</b>, if so, remove <code>new</code>."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657693660,"post_id":72961432,"comment_id":128868194,"body_markdown":"For reference your method call appears correct: https://javadoc.io/static/org.nd4j/nd4j-api/1.0.0-M2/org/nd4j/linalg/factory/Nd4j.html#linspace-long-long-long- So the issue is likely to be that your API/library is not setup correctly.","body":"For reference your method call appears correct: <a href=\"https://javadoc.io/static/org.nd4j/nd4j-api/1.0.0-M2/org/nd4j/linalg/factory/Nd4j.html#linspace-long-long-long-\" rel=\"nofollow noreferrer\">javadoc.io/static/org.nd4j/nd4j-api/1.0.0-M2/org/nd4j/linalg&zwnj;&#8203;/&hellip;</a> So the issue is likely to be that your API/library is not setup correctly."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657694345,"post_id":72961432,"comment_id":128868344,"body_markdown":"@sorifiend The OP is using `new`, so they&#39;re calling a constructor, not a method, and that what you show is a method.","body":"@sorifiend The OP is using <code>new</code>, so they&#39;re calling a constructor, not a method, and that what you show is a method."}],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657696043,"creation_date":1657692197,"answer_id":72961597,"question_id":72961432,"body_markdown":"Edit: Apologies. Thanks to the commenter down below. That error upon first glance looked like the standard error you get when the IDE only shows part of the error. That&#39;s very common when you are missing a backend.\r\n\r\nIn the context of a compilation error ensure you still have the backend. You don&#39;t need to depend on nd4j-api directly. It will be pulled in as a transitive dependency and wont&#39; work without a backend anyways.\r\n\r\nFor the IDE, just make sure after declaring the correct dependencies (please see below answer for that) then refresh your maven context to ensure that the IDE has the correct information. Also ensure that you give the IDE time to download the correct dependencies.\r\n\r\nNote also with the IDE it may still be out of sync so you may also test it independently on command line. When you do this you can just run:\r\n```\r\nmvn clean install -DskipTests\r\n```\r\n\r\nIf your project compiles, then your IDE is the problem. That may mean you need to restart it or invalidate your IDE&#39;s cache.\r\n\r\n\r\n\r\nOn your correct dependencies:\r\n\r\n\r\nYou need more than just api. You need to pick a backend. A backend allows you to either use cpu or gpu depending on your use case.\r\n\r\nNote that nd4j-api is just the layer for which you access lower level functionality provided by a specific implementation(eg: a backend)\r\n\r\nMost of the time this is going to be nd4j-native-platform. This will allow you to use a cpu backend.\r\n\r\nIn concrete terms this will be:\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n \r\nNote that when you specify nd4j-native-platform it will provide everything you need but will require a bit of time to download. \r\n\r\nThis artifact pre declares a set of dependencies for every operating system that nd4j supports.  When running maven, you may prevent this by adding a JVM property:\r\n```\r\nmvn -Djavacpp.platform=&quot;$YOUR_PLATFORM&quot; clean package\r\n```\r\n\r\nYou should be able to also pre specify this in your pom&#39;s properties like:\r\n```xml\r\n&lt;properties&gt;\r\n&lt;javacpp.platform&gt;$YOUR_PLATFORM&lt;/javacpp.platform&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n$YOUR_PLATFORM can usually be one of: linux-x86_64, windows-x86_64, macosx-x86_64 \r\nThese are maven classifiers. You can see the comprehensive list for a particular version here: https://repo1.maven.org/maven2/org/nd4j/nd4j-native/1.0.0-M2/\r\n\r\nNote that 1.0.0-M2 is the current version but may change so always specify the newest version if you want a version for a specific platform.","title":"Cannot resolve symbol &#39;linspace&#39; in ND4j","body":"<p>Edit: Apologies. Thanks to the commenter down below. That error upon first glance looked like the standard error you get when the IDE only shows part of the error. That's very common when you are missing a backend.</p>\n<p>In the context of a compilation error ensure you still have the backend. You don't need to depend on nd4j-api directly. It will be pulled in as a transitive dependency and wont' work without a backend anyways.</p>\n<p>For the IDE, just make sure after declaring the correct dependencies (please see below answer for that) then refresh your maven context to ensure that the IDE has the correct information. Also ensure that you give the IDE time to download the correct dependencies.</p>\n<p>Note also with the IDE it may still be out of sync so you may also test it independently on command line. When you do this you can just run:</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p>If your project compiles, then your IDE is the problem. That may mean you need to restart it or invalidate your IDE's cache.</p>\n<p>On your correct dependencies:</p>\n<p>You need more than just api. You need to pick a backend. A backend allows you to either use cpu or gpu depending on your use case.</p>\n<p>Note that nd4j-api is just the layer for which you access lower level functionality provided by a specific implementation(eg: a backend)</p>\n<p>Most of the time this is going to be nd4j-native-platform. This will allow you to use a cpu backend.</p>\n<p>In concrete terms this will be:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n        &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-M2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Note that when you specify nd4j-native-platform it will provide everything you need but will require a bit of time to download.</p>\n<p>This artifact pre declares a set of dependencies for every operating system that nd4j supports.  When running maven, you may prevent this by adding a JVM property:</p>\n<pre><code>mvn -Djavacpp.platform=&quot;$YOUR_PLATFORM&quot; clean package\n</code></pre>\n<p>You should be able to also pre specify this in your pom's properties like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n&lt;javacpp.platform&gt;$YOUR_PLATFORM&lt;/javacpp.platform&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>$YOUR_PLATFORM can usually be one of: linux-x86_64, windows-x86_64, macosx-x86_64\nThese are maven classifiers. You can see the comprehensive list for a particular version here: <a href=\"https://repo1.maven.org/maven2/org/nd4j/nd4j-native/1.0.0-M2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/nd4j/nd4j-native/1.0.0-M2/</a></p>\n<p>Note that 1.0.0-M2 is the current version but may change so always specify the newest version if you want a version for a specific platform.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657696381,"creation_date":1657695768,"answer_id":72962136,"question_id":72961432,"body_markdown":"The problem is:\r\n\r\n```java\r\nINDArray x = new Nd4j.linspace(0, 1, 100);\r\n```\r\n\r\nBecause you use `new`, Java tries to create a **class** called `Nd4j.linspace`, which does not exist (as indicated by the _&quot;cannot find symbol, symbol: class linspace&quot;_). The class `Nd4j` does have a **method** [`linspace`][1]. To fix this, remove `new` so you call the method:\r\n\r\n```java\r\nINDArray x = Nd4j.linspace(0, 1, 100);\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.nd4j/nd4j-api/1.0.0-M2/org/nd4j/linalg/factory/Nd4j.html#linspace-long-long-long-","title":"Cannot resolve symbol &#39;linspace&#39; in ND4j","body":"<p>The problem is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>INDArray x = new Nd4j.linspace(0, 1, 100);\n</code></pre>\n<p>Because you use <code>new</code>, Java tries to create a <strong>class</strong> called <code>Nd4j.linspace</code>, which does not exist (as indicated by the <em>&quot;cannot find symbol, symbol: class linspace&quot;</em>). The class <code>Nd4j</code> does have a <strong>method</strong> <a href=\"https://javadoc.io/static/org.nd4j/nd4j-api/1.0.0-M2/org/nd4j/linalg/factory/Nd4j.html#linspace-long-long-long-\" rel=\"nofollow noreferrer\"><code>linspace</code></a>. To fix this, remove <code>new</code> so you call the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>INDArray x = Nd4j.linspace(0, 1, 100);\n</code></pre>\n"}],"owner":{"account_id":12675282,"reputation":533,"user_id":9217178,"display_name":"Z&#233;zouille"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72962136,"answer_count":2,"score":0,"last_activity_date":1657696381,"creation_date":1657690996,"question_id":72961432,"body_markdown":"I&#39;m pretty new in Java. I would like to initiate an array using Nd4j library `INDArray x = new Nd4j.linspace(0, 1, 100);`, doing something like `x = np.linspace(0, 1, 100)` in Python. \r\nAnd I ran into an error \r\n\r\n&gt; java: cannot find symbol \r\n&gt;\r\n&gt; symbol:   class linspace location: class\r\n&gt;\r\n&gt; org.nd4j.linalg.factory.Nd4j\r\n\r\nAlthough my Nd4j was well installed adding the following in pom.xml, and my IDE IntelliJ can detect ND4j class.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nd4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAm I missing or misunderstood anything?\r\nThanks for your kind help","title":"Cannot resolve symbol &#39;linspace&#39; in ND4j","body":"<p>I'm pretty new in Java. I would like to initiate an array using Nd4j library <code>INDArray x = new Nd4j.linspace(0, 1, 100);</code>, doing something like <code>x = np.linspace(0, 1, 100)</code> in Python.\nAnd I ran into an error</p>\n<blockquote>\n<p>java: cannot find symbol</p>\n<p>symbol:   class linspace location: class</p>\n<p>org.nd4j.linalg.factory.Nd4j</p>\n</blockquote>\n<p>Although my Nd4j was well installed adding the following in pom.xml, and my IDE IntelliJ can detect ND4j class.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n        &lt;artifactId&gt;nd4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-M2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Am I missing or misunderstood anything?\nThanks for your kind help</p>\n"},{"tags":["java","language-lawyer","java-17"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1653993433,"post_id":72446186,"comment_id":127980756,"body_markdown":"@RealSkeptic See https://docs.oracle.com/en/java/javase/17/language/pattern-matching.html","body":"@RealSkeptic See <a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/language/&hellip;</a>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1653993688,"post_id":72446186,"comment_id":127980851,"body_markdown":"The relevant section is [&#167;6.3.1](https://docs.oracle.com/javase/specs/jls/se18/html/jls-6.html#jls-6.3.1) - the error indicates that `javac` thinks variable `s` is not in scope here, given that the error is &quot;s? What s?&quot;. It&#39;s like a `javac` bug, but I haven&#39;t  yet found the exact chapter and verse where `javac` breaks spec here.","body":"The relevant section is <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-6.html#jls-6.3.1\" rel=\"nofollow noreferrer\">&#167;6.3.1</a> - the error indicates that <code>javac</code> thinks variable <code>s</code> is not in scope here, given that the error is &quot;s? What s?&quot;. It&#39;s like a <code>javac</code> bug, but I haven&#39;t  yet found the exact chapter and verse where <code>javac</code> breaks spec here."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1653993695,"post_id":72446186,"comment_id":127980855,"body_markdown":"To my untrained eye, it does seem to be an issue. I can&#39;t see any logical reason why the examples you&#39;ve showed would work, but that one wouldn&#39;t. You can report a bug here: https://bugreport.java.com/bugreport/","body":"To my untrained eye, it does seem to be an issue. I can&#39;t see any logical reason why the examples you&#39;ve showed would work, but that one wouldn&#39;t. You can report a bug here: <a href=\"https://bugreport.java.com/bugreport/\" rel=\"nofollow noreferrer\">bugreport.java.com/bugreport</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1653993696,"post_id":72446186,"comment_id":127980856,"body_markdown":"I *suspect* this is a difference in the reachability of if-then-else vs if-then, depending on the body of the clauses.","body":"I <i>suspect</i> this is a difference in the reachability of if-then-else vs if-then, depending on the body of the clauses."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1653993757,"post_id":72446186,"comment_id":127980881,"body_markdown":"Looks scope related, like `s` being available in the `if` scope only… Would be weird if that was the reason… Could be a bug or intentional and your use case is not covered (since you want to print `s` in the outer scope while it is declared in an inner scope). The `else` extends the scope, which explains why that option does work.","body":"Looks scope related, like <code>s</code> being available in the <code>if</code> scope only… Would be weird if that was the reason… Could be a bug or intentional and your use case is not covered (since you want to print <code>s</code> in the outer scope while it is declared in an inner scope). The <code>else</code> extends the scope, which explains why that option does work."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1653993909,"post_id":72446186,"comment_id":127980953,"body_markdown":"https://openjdk.java.net/jeps/394 includes an example that is very similar so I think it is a bug. Please report it (link in other comment above)!","body":"<a href=\"https://openjdk.java.net/jeps/394\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/394</a> includes an example that is very similar so I think it is a bug. Please report it (link in other comment above)!"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653993992,"post_id":72446186,"comment_id":127980990,"body_markdown":"Going by the example (under _&quot;The flow scoping analysis for pattern variables is sensitive to the notion of whether a statement can complete normally.&quot;_) seems to suggest both should be equivalent, so I guess it&#39;s a bug, but maybe the null check is throwing this flow analysis off here.","body":"Going by the example (under <i>&quot;The flow scoping analysis for pattern variables is sensitive to the notion of whether a statement can complete normally.&quot;</i>) seems to suggest both should be equivalent, so I guess it&#39;s a bug, but maybe the null check is throwing this flow analysis off here."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1653994075,"post_id":72446186,"comment_id":127981028,"body_markdown":"I would have expected that `s` has a possible scope inside the if&#39;s `( )` and inside the `{ }`; comparable to _try-with-resources_. Anything else is bad style imho.","body":"I would have expected that <code>s</code> has a possible scope inside the if&#39;s <code>( )</code> and inside the <code>{ }</code>; comparable to <i>try-with-resources</i>. Anything else is bad style imho."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653994727,"post_id":72446186,"comment_id":127981262,"body_markdown":"@JoopEggen Kind of agree, but you have to remember that `s` is really just `o` with type-narrowing, and `o` is already in-scope. The point of pattern matching is to make the compiler able to perform some of the same inferences that humans can. A human can infer that `o` is a String after those if-statements, because it would have thrown an exception if it weren&#39;t.","body":"@JoopEggen Kind of agree, but you have to remember that <code>s</code> is really just <code>o</code> with type-narrowing, and <code>o</code> is already in-scope. The point of pattern matching is to make the compiler able to perform some of the same inferences that humans can. A human can infer that <code>o</code> is a String after those if-statements, because it would have thrown an exception if it weren&#39;t."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1653995295,"post_id":72446186,"comment_id":127981428,"body_markdown":"@Michael right, but `if (... &amp;&amp; !(o instanceof String s) &amp;&amp; ...) { ... } ... s` becomes slightly dubious.  I hope a more strict ruling will come soon.","body":"@Michael right, but <code>if (... &amp;&amp; !(o instanceof String s) &amp;&amp; ...) { ... } ... s</code> becomes slightly dubious.  I hope a more strict ruling will come soon."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1653995315,"post_id":72446186,"comment_id":127981434,"body_markdown":"Works with Eclipse. As a side note, the `null` check is obsolete here…","body":"Works with Eclipse. As a side note, the <code>null</code> check is obsolete here…"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1654075144,"post_id":72446186,"comment_id":128003303,"body_markdown":"@JonSkeet not just reachability issue, please check my example in the answers. It seems that this is probably an issue of how the compiler evaluates and transforms the code.","body":"@JonSkeet not just reachability issue, please check my example in the answers. It seems that this is probably an issue of how the compiler evaluates and transforms the code."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1654075475,"post_id":72446186,"comment_id":128003419,"body_markdown":"@PanagiotisBougioukos: No, your example seems to actually point to reachability being important, just as I was suggesting...","body":"@PanagiotisBougioukos: No, your example seems to actually point to reachability being important, just as I was suggesting..."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1654678916,"post_id":72446186,"comment_id":128145875,"body_markdown":"The second example of [JLS &#167; 6.3.2](https://docs.oracle.com/javase/specs/jls/se18/html/jls-6.html#jls-6.3.2) looks very much like the abovementioned examples. *Looks* to me it&#39;s related to how exactly `if`, `else if` and `else` work. Kinda what k314159 says in their answer.","body":"The second example of <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-6.html#jls-6.3.2\" rel=\"nofollow noreferrer\">JLS &#167; 6.3.2</a> looks very much like the abovementioned examples. <i>Looks</i> to me it&#39;s related to how exactly <code>if</code>, <code>else if</code> and <code>else</code> work. Kinda what k314159 says in their answer."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1653996197,"creation_date":1653996197,"answer_id":72446910,"question_id":72446186,"body_markdown":"The `doesNotWork` case is equivalent to this:\r\n\r\n    static void doesNotWork(Object o) {\r\n        if (o == null) {\r\n            throw new Error();\r\n        } else {\r\n            if (!(o instanceof String s)) {\r\n                throw new Error();\r\n            }\r\n        }\r\n        System.out.println(s); // error here\r\n    }\r\n\r\nThis makes it more obvious that `String s` is inside a block bounded by curly brackets and is therefore out of scope in the same way that this doesn&#39;t work either:\r\n\r\n    static void doesNotWork(Object o) {\r\n        {\r\n            if (!(o instanceof String s)) {\r\n                throw new Error();\r\n            }\r\n        }\r\n        System.out.println(s); // error here\r\n    }\r\n\r\nIn the case where it does work, with the println inside the else, it&#39;s equivalent to this:\r\n\r\n    if (o == null) {\r\n        throw new Error();\r\n    } else {\r\n        if (!(o instanceof String s)) {\r\n            throw new Error();\r\n        } else {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\nWhich shows the println being in scope.\r\n\r\n","title":"Why doesn&#39;t instanceof pattern matching work with else if in this particular case?","body":"<p>The <code>doesNotWork</code> case is equivalent to this:</p>\n<pre><code>static void doesNotWork(Object o) {\n    if (o == null) {\n        throw new Error();\n    } else {\n        if (!(o instanceof String s)) {\n            throw new Error();\n        }\n    }\n    System.out.println(s); // error here\n}\n</code></pre>\n<p>This makes it more obvious that <code>String s</code> is inside a block bounded by curly brackets and is therefore out of scope in the same way that this doesn't work either:</p>\n<pre><code>static void doesNotWork(Object o) {\n    {\n        if (!(o instanceof String s)) {\n            throw new Error();\n        }\n    }\n    System.out.println(s); // error here\n}\n</code></pre>\n<p>In the case where it does work, with the println inside the else, it's equivalent to this:</p>\n<pre><code>if (o == null) {\n    throw new Error();\n} else {\n    if (!(o instanceof String s)) {\n        throw new Error();\n    } else {\n        System.out.println(s);\n    }\n}\n</code></pre>\n<p>Which shows the println being in scope.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1657696097,"creation_date":1654677722,"answer_id":72542635,"question_id":72446186,"body_markdown":"The relevant bug ticket has been created in the OpenJdk Jira. It is marked as reproduceable so most probably will be handled as bug, and fixed.\r\n\r\nHere is the [aforementioned ticket][1] so we can trace the progress.\r\n\r\n**Edit**: Seems that this issue is going to affect JDK 20 as well. Resolution is going to take some time.\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8287884","title":"Why doesn&#39;t instanceof pattern matching work with else if in this particular case?","body":"<p>The relevant bug ticket has been created in the OpenJdk Jira. It is marked as reproduceable so most probably will be handled as bug, and fixed.</p>\n<p>Here is the <a href=\"https://bugs.openjdk.org/browse/JDK-8287884\" rel=\"nofollow noreferrer\">aforementioned ticket</a> so we can trace the progress.</p>\n<p><strong>Edit</strong>: Seems that this issue is going to affect JDK 20 as well. Resolution is going to take some time.</p>\n"}],"owner":{"account_id":17677570,"reputation":331,"user_id":12832257,"display_name":"Fabian K&#252;rten"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":72446910,"answer_count":2,"score":27,"last_activity_date":1657696097,"creation_date":1653993018,"question_id":72446186,"body_markdown":"The following snippet does not compile on javac, version 17 (Temurin)\r\n\r\n    class Instanceof {\r\n        static void doesNotWork(Object o) {\r\n            if (o == null) {\r\n                throw new Error();\r\n            } else if (!(o instanceof String s)) {\r\n                throw new Error();\r\n            }   \r\n            System.out.println(s); // error here\r\n        }\r\n    }\r\n\r\nIt generates this error: cannot find symbol\r\n\r\n    cannot find symbol\r\n    symbol:   variable s\r\n    location: class Instanceof\r\n\r\nHowever, the following (in my opinion) equivalent variations work:\r\nWith an explicit else block:\r\n\r\n    static void doesWork(Object o) {\r\n        if (o == null) {\r\n            throw new Error();\r\n        } else if (!(o instanceof String s)) {\r\n            throw new Error();\r\n        } else {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\nOr without an else:\r\n\r\n    static void doesWork(Object o) {\r\n        if (o == null) {\r\n            throw new Error();\r\n        }\r\n        if (!(o instanceof String s)) {\r\n            throw new Error();\r\n        }\r\n        System.out.println(s);\r\n    }\r\n\r\nOr with a single if:\r\n\r\n    static void doesWork(Object o) {\r\n        if (o == null || !(o instanceof String s)) {\r\n            throw new Error();\r\n        }\r\n        System.out.println(s);\r\n    }\r\n\r\nIs this a bug in javac?\r\nIf yes, should I report this, but where exactly?","title":"Why doesn&#39;t instanceof pattern matching work with else if in this particular case?","body":"<p>The following snippet does not compile on javac, version 17 (Temurin)</p>\n<pre><code>class Instanceof {\n    static void doesNotWork(Object o) {\n        if (o == null) {\n            throw new Error();\n        } else if (!(o instanceof String s)) {\n            throw new Error();\n        }   \n        System.out.println(s); // error here\n    }\n}\n</code></pre>\n<p>It generates this error: cannot find symbol</p>\n<pre><code>cannot find symbol\nsymbol:   variable s\nlocation: class Instanceof\n</code></pre>\n<p>However, the following (in my opinion) equivalent variations work:\nWith an explicit else block:</p>\n<pre><code>static void doesWork(Object o) {\n    if (o == null) {\n        throw new Error();\n    } else if (!(o instanceof String s)) {\n        throw new Error();\n    } else {\n        System.out.println(s);\n    }\n}\n</code></pre>\n<p>Or without an else:</p>\n<pre><code>static void doesWork(Object o) {\n    if (o == null) {\n        throw new Error();\n    }\n    if (!(o instanceof String s)) {\n        throw new Error();\n    }\n    System.out.println(s);\n}\n</code></pre>\n<p>Or with a single if:</p>\n<pre><code>static void doesWork(Object o) {\n    if (o == null || !(o instanceof String s)) {\n        throw new Error();\n    }\n    System.out.println(s);\n}\n</code></pre>\n<p>Is this a bug in javac?\nIf yes, should I report this, but where exactly?</p>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1341569268,"creation_date":1341569268,"answer_id":11360149,"question_id":11360088,"body_markdown":"You most likely want to invoke your Java program in [headless mode][1]:\r\n\r\n    java -Djava.awt.headless=true -cp ... come.your.Class\r\n\r\nAlternatively, at runtime before any graphics code (e.g. in a `static {}` block):\r\n\r\n    System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/J2SE/Desktop/headless/","title":"Jfreechart without X11","body":"<p>You most likely want to invoke your Java program in <a href=\"http://java.sun.com/developer/technicalArticles/J2SE/Desktop/headless/\" rel=\"noreferrer\">headless mode</a>:</p>\n\n<pre><code>java -Djava.awt.headless=true -cp ... come.your.Class\n</code></pre>\n\n<p>Alternatively, at runtime before any graphics code (e.g. in a <code>static {}</code> block):</p>\n\n<pre><code>System.setProperty(\"java.awt.headless\", \"true\");\n</code></pre>\n"}],"owner":{"account_id":1018190,"reputation":93,"user_id":1070600,"accept_rate":91,"display_name":"DDD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11360149,"answer_count":1,"score":3,"last_activity_date":1657695997,"creation_date":1341568999,"question_id":11360088,"body_markdown":"I&#39;m using Jfreechart for creating charts. I&#39;m creating `BufferedImage` of chart and writing it in `OutputStream`.\r\n\r\nIt&#39;s working fine with display environment, but its Not working In `headless` environment.\r\n\r\nPlease help how do you make it work in such an environment.\r\n\r\nException I got in log: \r\n\r\n    SEVERE: Servlet.service() for servlet [appServlet] in context with path [/WebAdmin] threw exception [Handler processing failed; nested exception is java.lang.InternalError: Can&#39;t connect to X11 window server using &#39;:0.0&#39; as the value of the DISPLAY variable.] with root cause\r\n    java.lang.InternalError: Can&#39;t connect to X11 window server using &#39;:0.0&#39; as the value of the DISPLAY variable.\r\n    \tat sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\r\n    \tat sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\r\n    \tat sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:110)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:186)\r\n    \tat java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:102)\r\n    \tat java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:81)\r\n    \tat sun.swing.SwingUtilities2.isLocalDisplay(SwingUtilities2.java:1457)\r\n    \tat javax.swing.plaf.metal.MetalLookAndFeel.initComponentDefaults(MetalLookAndFeel.java:1556)\r\n    \tat javax.swing.plaf.basic.BasicLookAndFeel.getDefaults(BasicLookAndFeel.java:148)\r\n    \tat javax.swing.plaf.metal.MetalLookAndFeel.getDefaults(MetalLookAndFeel.java:1592)\r\n    \tat javax.swing.UIManager.setLookAndFeel(UIManager.java:536)\r\n    \tat javax.swing.UIManager.setLookAndFeel(UIManager.java:576)\r\n    \tat javax.swing.UIManager.initializeDefaultLAF(UIManager.java:1345)\r\n    \tat javax.swing.UIManager.initialize(UIManager.java:1455)\r\n    \tat javax.swing.UIManager.maybeInitialize(UIManager.java:1422)\r\n    \tat javax.swing.UIManager.getDefaults(UIManager.java:656)\r\n    \tat javax.swing.UIManager.getColor(UIManager.java:698)\r\n    \tat org.jfree.chart.JFreeChart.&lt;clinit&gt;(JFreeChart.java:263)\r\n    \tat org.jfree.chart.ChartFactory.createBarChart(ChartFactory.java:893)\r\n\r\nAnd the part of catalina.sh I have edited:\r\n \r\n\r\n    #   JSSE_HOME       (Optional) May point at your Java Secure Sockets Extension\r\n    #                   (JSSE) installation, whose JAR files will be added to the\r\n    #                   system class path used to start Tomcat.\r\n    #\r\n    #   CATALINA_PID    (Optional) Path of the file which should contains the pid\r\n    #                   of catalina startup java process, when start (fork) is used\r\n    #\r\n    # $Id: catalina.sh 609438 2008-01-06 22:14:28Z markt $\r\n    # -----------------------------------------------------------------------------\r\n     \r\n    JAVA_OPTS=&quot;-Djava.awt.headless=true -Dfile.encoding=UTF-8 -server -Xms1536m \r\n    -Xmx1536m -XX:NewSize=256m -XX:MaxNewSize=256m -XX:PermSize=256m \r\n    -XX:MaxPermSize=256m -XX:+DisableExplicitGC&quot;\r\n     \r\nThank you for your reply. ","title":"Jfreechart without X11","body":"<p>I'm using Jfreechart for creating charts. I'm creating <code>BufferedImage</code> of chart and writing it in <code>OutputStream</code>.</p>\n\n<p>It's working fine with display environment, but its Not working In <code>headless</code> environment.</p>\n\n<p>Please help how do you make it work in such an environment.</p>\n\n<p>Exception I got in log: </p>\n\n<pre><code>SEVERE: Servlet.service() for servlet [appServlet] in context with path [/WebAdmin] threw exception [Handler processing failed; nested exception is java.lang.InternalError: Can't connect to X11 window server using ':0.0' as the value of the DISPLAY variable.] with root cause\njava.lang.InternalError: Can't connect to X11 window server using ':0.0' as the value of the DISPLAY variable.\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:110)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:186)\n    at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:102)\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:81)\n    at sun.swing.SwingUtilities2.isLocalDisplay(SwingUtilities2.java:1457)\n    at javax.swing.plaf.metal.MetalLookAndFeel.initComponentDefaults(MetalLookAndFeel.java:1556)\n    at javax.swing.plaf.basic.BasicLookAndFeel.getDefaults(BasicLookAndFeel.java:148)\n    at javax.swing.plaf.metal.MetalLookAndFeel.getDefaults(MetalLookAndFeel.java:1592)\n    at javax.swing.UIManager.setLookAndFeel(UIManager.java:536)\n    at javax.swing.UIManager.setLookAndFeel(UIManager.java:576)\n    at javax.swing.UIManager.initializeDefaultLAF(UIManager.java:1345)\n    at javax.swing.UIManager.initialize(UIManager.java:1455)\n    at javax.swing.UIManager.maybeInitialize(UIManager.java:1422)\n    at javax.swing.UIManager.getDefaults(UIManager.java:656)\n    at javax.swing.UIManager.getColor(UIManager.java:698)\n    at org.jfree.chart.JFreeChart.&lt;clinit&gt;(JFreeChart.java:263)\n    at org.jfree.chart.ChartFactory.createBarChart(ChartFactory.java:893)\n</code></pre>\n\n<p>And the part of catalina.sh I have edited:</p>\n\n<pre><code>#   JSSE_HOME       (Optional) May point at your Java Secure Sockets Extension\n#                   (JSSE) installation, whose JAR files will be added to the\n#                   system class path used to start Tomcat.\n#\n#   CATALINA_PID    (Optional) Path of the file which should contains the pid\n#                   of catalina startup java process, when start (fork) is used\n#\n# $Id: catalina.sh 609438 2008-01-06 22:14:28Z markt $\n# -----------------------------------------------------------------------------\n\nJAVA_OPTS=\"-Djava.awt.headless=true -Dfile.encoding=UTF-8 -server -Xms1536m \n-Xmx1536m -XX:NewSize=256m -XX:MaxNewSize=256m -XX:PermSize=256m \n-XX:MaxPermSize=256m -XX:+DisableExplicitGC\"\n</code></pre>\n\n<p>Thank you for your reply. </p>\n"},{"tags":["java","list","duplicates","equals"],"comments":[{"owner":{"account_id":1887192,"reputation":5567,"user_id":2225572,"accept_rate":67,"display_name":"Ankit Rustagi"},"score":2,"creation_date":1381932446,"post_id":19405643,"comment_id":28764163,"body_markdown":"put up your code, working or not.","body":"put up your code, working or not."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":5,"creation_date":1381932488,"post_id":19405643,"comment_id":28764190,"body_markdown":"Wanted: Code. Dead or alive.","body":"Wanted: Code. Dead or alive."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":1,"creation_date":1381932527,"post_id":19405643,"comment_id":28764214,"body_markdown":"@MarounMaroun Award must be a Great answer :P","body":"@MarounMaroun Award must be a Great answer :P"},{"owner":{"account_id":1423067,"reputation":30040,"user_id":1347281,"accept_rate":86,"display_name":"Vidya"},"score":0,"creation_date":1381933019,"post_id":19405643,"comment_id":28764536,"body_markdown":"By the way, HashSet uses equals in the add operation under the hood, so you can just explain that to your teacher: http://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#add(E)","body":"By the way, HashSet uses equals in the add operation under the hood, so you can just explain that to your teacher: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#add(E)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#add&zwnj;&#8203;(E)</a>"},{"owner":{"account_id":230677,"reputation":6016,"user_id":494428,"accept_rate":80,"display_name":"hage"},"score":0,"creation_date":1381933197,"post_id":19405643,"comment_id":28764637,"body_markdown":"Move the output-loop to the main method!","body":"Move the output-loop to the main method!"},{"owner":{"account_id":2864952,"reputation":797,"user_id":2459452,"accept_rate":42,"display_name":"Cold"},"score":0,"creation_date":1381933282,"post_id":19405643,"comment_id":28764705,"body_markdown":"You can print the method parameter, because you pass the reference of object, so, every changes will be on the given parameter object.","body":"You can print the method parameter, because you pass the reference of object, so, every changes will be on the given parameter object."}],"answers":[{"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381933191,"creation_date":1381933191,"answer_id":19405920,"question_id":19405643,"body_markdown":"`java.util.HashSet` uses `Object.equals(Object)` in its implementation of `Set.add(Object)` to determine that the element being inserted is unique (as defined by not being equal to another element). HashSet also has the advantage of allowing you to do the de-duping process in `O(n)` time vs a more naive approach of comparing every element to every other element in `O(n^2)` time.\r\n\r\nThe code in `main` will see the modified list, because the List object is mutable. When a  method changes the state of a passed in argument the calling code will see those changes.","title":"Remove List&lt;String&gt; duplicates using equals","body":"<p><code>java.util.HashSet</code> uses <code>Object.equals(Object)</code> in its implementation of <code>Set.add(Object)</code> to determine that the element being inserted is unique (as defined by not being equal to another element). HashSet also has the advantage of allowing you to do the de-duping process in <code>O(n)</code> time vs a more naive approach of comparing every element to every other element in <code>O(n^2)</code> time.</p>\n\n<p>The code in <code>main</code> will see the modified list, because the List object is mutable. When a  method changes the state of a passed in argument the calling code will see those changes.</p>\n"},{"tags":[],"owner":{"account_id":254607,"reputation":31358,"user_id":534124,"accept_rate":75,"display_name":"Oswald"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381933257,"creation_date":1381933257,"answer_id":19405946,"question_id":19405643,"body_markdown":"  1. `removeDuplicates` creates a [set][1], then iterates over the input list. If it encounters an element in the input list, that is also in the set, `removeDuplicates` removes the element from the input list, otherwise it adds the element to the set.\r\n  2. Java is a call-by-reference language ([sort of][2]). This means, the method `removeDuplicates` can modify the `List&lt;String&gt; array` that it receives and the caller will see that modified list after the call to `removeDuplicates` returned.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/index.html?java/util/Set.html\r\n  [2]: http://javadude.com/articles/passbyvalue.htm","title":"Remove List&lt;String&gt; duplicates using equals","body":"<ol>\n<li><code>removeDuplicates</code> creates a <a href=\"http://docs.oracle.com/javase/7/docs/api/index.html?java/util/Set.html\" rel=\"nofollow\">set</a>, then iterates over the input list. If it encounters an element in the input list, that is also in the set, <code>removeDuplicates</code> removes the element from the input list, otherwise it adds the element to the set.</li>\n<li>Java is a call-by-reference language (<a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"nofollow\">sort of</a>). This means, the method <code>removeDuplicates</code> can modify the <code>List&lt;String&gt; array</code> that it receives and the caller will see that modified list after the call to <code>removeDuplicates</code> returned.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381935303,"creation_date":1381933332,"answer_id":19405974,"question_id":19405643,"body_markdown":"The probably easiest way would be to use a Set in the first place, which by definition does not allow duplicates.\r\n\r\nFor your actual problem, you can do several approaches:\r\n\r\n- The easy but slow approach: compare each element A with each other element N in the list. If A.equals(N) remove N. Hint: you only need to compare A to each further element, as you have already checked each element before A.\r\n\r\n- The faster approach: sort the list using the natural comperator. Now you no longer need to compare each element A vs N, but only A vs the next few elements. To be exact: until you find the first element that is not equal to A. In this case you can assume that there is no further duplicate of A (thanks to the sorting) and continue with this next element as A.\r\n\r\n- The Map approach (fast but takes more memory): for each element put into the list, put the same element into a Map with any Object as value. Now you can just look-up whether or not that element is already in the map, and if it is, it is a duplicate.\r\n\r\nThe best way would be the 2nd approach as the sorting is very fast, you only need to get each element once, and there is no 2nd list necessary. \r\n\r\nEdit: The 2nd approach in code:\r\n\r\n    static void removeDuplicates(List&lt;String&gt; array) {\r\n      if (array.size() &lt;= 1) {\r\n        return;\r\n      }\r\n      Collections.sort(array);\r\n      final Iterator&lt;String&gt; it = array.iterator();\r\n      String a = it.next(), n;\r\n      while (it.hasNext()) {\r\n        n = it.next();\r\n        if (((a == null) &amp;&amp; (n != null))\r\n                || ((a != null) &amp;&amp; (a.equals(n) == false))) {\r\n          a = n;\r\n        } else {\r\n          it.remove();\r\n        }\r\n      }\r\n    }\r\n","title":"Remove List&lt;String&gt; duplicates using equals","body":"<p>The probably easiest way would be to use a Set in the first place, which by definition does not allow duplicates.</p>\n\n<p>For your actual problem, you can do several approaches:</p>\n\n<ul>\n<li><p>The easy but slow approach: compare each element A with each other element N in the list. If A.equals(N) remove N. Hint: you only need to compare A to each further element, as you have already checked each element before A.</p></li>\n<li><p>The faster approach: sort the list using the natural comperator. Now you no longer need to compare each element A vs N, but only A vs the next few elements. To be exact: until you find the first element that is not equal to A. In this case you can assume that there is no further duplicate of A (thanks to the sorting) and continue with this next element as A.</p></li>\n<li><p>The Map approach (fast but takes more memory): for each element put into the list, put the same element into a Map with any Object as value. Now you can just look-up whether or not that element is already in the map, and if it is, it is a duplicate.</p></li>\n</ul>\n\n<p>The best way would be the 2nd approach as the sorting is very fast, you only need to get each element once, and there is no 2nd list necessary. </p>\n\n<p>Edit: The 2nd approach in code:</p>\n\n<pre><code>static void removeDuplicates(List&lt;String&gt; array) {\n  if (array.size() &lt;= 1) {\n    return;\n  }\n  Collections.sort(array);\n  final Iterator&lt;String&gt; it = array.iterator();\n  String a = it.next(), n;\n  while (it.hasNext()) {\n    n = it.next();\n    if (((a == null) &amp;&amp; (n != null))\n            || ((a != null) &amp;&amp; (a.equals(n) == false))) {\n      a = n;\n    } else {\n      it.remove();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1714477,"reputation":2068,"user_id":1571871,"display_name":"SamYonnou"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1381933826,"creation_date":1381933826,"answer_id":19406157,"question_id":19405643,"body_markdown":"Here&#39;s how you would do the same thing without using a `Set` and just using `equals()` (also to somewhat answer your &quot;EDIT&quot; question about initializing a `List`) :\r\n\r\n      public static void main(String[] args) {\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(new String[] {\r\n            &quot;good&quot;, &quot;better&quot;, &quot;best&quot;, &quot;best&quot;, &quot;first&quot;, &quot;last&quot;, &quot;last&quot;, &quot;last&quot;,\r\n            &quot;good&quot;}));\r\n        removeDuplicates(list);\r\n        for (String x : list) {\r\n          System.out.println(x);\r\n        }\r\n      }\r\n    \r\n      static void removeDuplicates(List&lt;String&gt; array) {\r\n        for (int i = 0; i &lt; array.size(); i++) {\r\n          String next = array.get(i);\r\n    \r\n          // check if this has already appeared before\r\n          for (int j = 0; j &lt; i; j++) {\r\n            // if it has, stop the search and remove it\r\n            if (next.equals(array.get(j))) {\r\n              array.remove(i);\r\n              // decrement i since we just removed the i&#39;th element\r\n              i--;\r\n              // stop the search\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\nThat said, using `HashSet` is a better idea since as has already been pointed out it is more efficient.\r\n\r\nIf you want the efficiency of `HashSet` but still preserve the order of the `List` you could do something like this :\r\n\r\n      static void removeDuplicates(List&lt;String&gt; array) {\r\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n    \r\n        for (int i = 0; i &lt; array.size(); i++) {\r\n          String next = array.get(i);\r\n    \r\n          // check if this has already appeared before\r\n          if (!set.add(next)) {\r\n            // if it has then remove it\r\n            array.remove(i);\r\n            // decrement i since we just removed the i&#39;th element\r\n            i--;\r\n          }\r\n        }\r\n      }","title":"Remove List&lt;String&gt; duplicates using equals","body":"<p>Here's how you would do the same thing without using a <code>Set</code> and just using <code>equals()</code> (also to somewhat answer your \"EDIT\" question about initializing a <code>List</code>) :</p>\n\n<pre><code>  public static void main(String[] args) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(new String[] {\n        \"good\", \"better\", \"best\", \"best\", \"first\", \"last\", \"last\", \"last\",\n        \"good\"}));\n    removeDuplicates(list);\n    for (String x : list) {\n      System.out.println(x);\n    }\n  }\n\n  static void removeDuplicates(List&lt;String&gt; array) {\n    for (int i = 0; i &lt; array.size(); i++) {\n      String next = array.get(i);\n\n      // check if this has already appeared before\n      for (int j = 0; j &lt; i; j++) {\n        // if it has, stop the search and remove it\n        if (next.equals(array.get(j))) {\n          array.remove(i);\n          // decrement i since we just removed the i'th element\n          i--;\n          // stop the search\n          break;\n        }\n      }\n    }\n  }\n</code></pre>\n\n<p>That said, using <code>HashSet</code> is a better idea since as has already been pointed out it is more efficient.</p>\n\n<p>If you want the efficiency of <code>HashSet</code> but still preserve the order of the <code>List</code> you could do something like this :</p>\n\n<pre><code>  static void removeDuplicates(List&lt;String&gt; array) {\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;();\n\n    for (int i = 0; i &lt; array.size(); i++) {\n      String next = array.get(i);\n\n      // check if this has already appeared before\n      if (!set.add(next)) {\n        // if it has then remove it\n        array.remove(i);\n        // decrement i since we just removed the i'th element\n        i--;\n      }\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7961683,"reputation":1012,"user_id":6009308,"display_name":"bara batta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657695774,"creation_date":1657695774,"answer_id":72962140,"question_id":19405643,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            list.add(&quot;good&quot;);\r\n            list.add(&quot;better&quot;);\r\n            list.add(&quot;best&quot;);\r\n            list.add(&quot;best&quot;);\r\n            list.add(&quot;first&quot;);\r\n            list.add(&quot;last&quot;);\r\n            list.add(&quot;last&quot;);\r\n            list.add(&quot;last&quot;);\r\n            list.add(&quot;good&quot;);\r\n            removeDuplicates(list);\r\n            System.out.println(list.toString());\r\n        }\r\n    \r\n        public static void removeDuplicates(List&lt;String&gt; list) {\r\n            if (list != null) {\r\n                for (int i = 0; i &lt; list.size(); i++) {\r\n                    ListIterator&lt;String&gt; listIterator = list.listIterator();\r\n    \r\n                    while (listIterator.hasNext()) {\r\n                        int nextIndex = listIterator.nextIndex();\r\n                        String nextElement = listIterator.next();\r\n                        if (list.get(i).equals(nextElement) &amp;&amp; i != nextIndex)\r\n                            listIterator.remove();\r\n    \r\n                    }\r\n    \r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"Remove List&lt;String&gt; duplicates using equals","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.ListIterator;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(&quot;good&quot;);\n        list.add(&quot;better&quot;);\n        list.add(&quot;best&quot;);\n        list.add(&quot;best&quot;);\n        list.add(&quot;first&quot;);\n        list.add(&quot;last&quot;);\n        list.add(&quot;last&quot;);\n        list.add(&quot;last&quot;);\n        list.add(&quot;good&quot;);\n        removeDuplicates(list);\n        System.out.println(list.toString());\n    }\n\n    public static void removeDuplicates(List&lt;String&gt; list) {\n        if (list != null) {\n            for (int i = 0; i &lt; list.size(); i++) {\n                ListIterator&lt;String&gt; listIterator = list.listIterator();\n\n                while (listIterator.hasNext()) {\n                    int nextIndex = listIterator.nextIndex();\n                    String nextElement = listIterator.next();\n                    if (list.get(i).equals(nextElement) &amp;&amp; i != nextIndex)\n                        listIterator.remove();\n\n                }\n\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3349354,"reputation":149,"user_id":2813708,"accept_rate":100,"display_name":"dono"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19406157,"answer_count":5,"score":1,"last_activity_date":1657695774,"creation_date":1381932407,"question_id":19405643,"body_markdown":"I&#39;m fairly new to Java and I&#39;ve been trying to solve the following problem unsuccessfully. \r\n\r\nWrite a Java method that will remove duplicates from a given list. \r\n\r\nAssuming:\r\n\r\n1. Method accepts type List\r\n2. Return type is `void`\r\n3. Duplicates are determined using `equals()`\r\n\r\nMain:\r\n\r\n1. Creates an instant of List and loads it with duplicate String values\r\n2. Invoke `removeDuplicates()`, pass in this list\r\n3. Outputs modified list to the console.\r\n\r\nI can solve the problem by passing in my list to a new HashSet and copy it back. \r\nBut the problem is:\r\n\r\n1. Question is asking me to solve it using `equals()...` \r\n2. If the return type is `void`, how can i output it in the `main` ?\r\n\r\nimport java.util.*;\r\n    public class Question1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    String[] words = {&quot;good&quot;,&quot;better&quot;, &quot;best&quot;, &quot;best&quot;, &quot;first&quot; , &quot;last&quot;, &quot;last&quot;, &quot;last&quot;, &quot;good&quot;};  \r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();  \r\n    \t\tfor (String s : words) {  \r\n    \t\t    list.add(s);  \r\n    \t\t}  \r\n    \t\tremoveDuplicates(list);\r\n    \t}\r\n        static void removeDuplicates(List&lt;String&gt; array){\r\n        \tHashSet&lt;String&gt; hs = new HashSet&lt;&gt;();\r\n        \ths.addAll(array);\r\n        \tarray.clear();\r\n        \tarray.addAll(hs);\r\n        \tfor (String x : array){ \r\n        \t\tSystem.out.println(x);\r\n        \t}\r\n        }\r\n    }\r\n\r\nEDIT: well, this one works, but as you can see i&#39;m not using equals() and i&#39;m printing out from my static method, not from main. \r\nAlso, is there any way I can populate the List&lt;String&gt; faster than using String[] ?\r\n\r\n","title":"Remove List&lt;String&gt; duplicates using equals","body":"<p>I'm fairly new to Java and I've been trying to solve the following problem unsuccessfully. </p>\n\n<p>Write a Java method that will remove duplicates from a given list. </p>\n\n<p>Assuming:</p>\n\n<ol>\n<li>Method accepts type List</li>\n<li>Return type is <code>void</code></li>\n<li>Duplicates are determined using <code>equals()</code></li>\n</ol>\n\n<p>Main:</p>\n\n<ol>\n<li>Creates an instant of List and loads it with duplicate String values</li>\n<li>Invoke <code>removeDuplicates()</code>, pass in this list</li>\n<li>Outputs modified list to the console.</li>\n</ol>\n\n<p>I can solve the problem by passing in my list to a new HashSet and copy it back. \nBut the problem is:</p>\n\n<ol>\n<li>Question is asking me to solve it using <code>equals()...</code> </li>\n<li>If the return type is <code>void</code>, how can i output it in the <code>main</code> ?</li>\n</ol>\n\n<p>import java.util.*;\n    public class Question1 {</p>\n\n<pre><code>    public static void main(String[] args) {\nString[] words = {\"good\",\"better\", \"best\", \"best\", \"first\" , \"last\", \"last\", \"last\", \"good\"};  \n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();  \n        for (String s : words) {  \n            list.add(s);  \n        }  \n        removeDuplicates(list);\n    }\n    static void removeDuplicates(List&lt;String&gt; array){\n        HashSet&lt;String&gt; hs = new HashSet&lt;&gt;();\n        hs.addAll(array);\n        array.clear();\n        array.addAll(hs);\n        for (String x : array){ \n            System.out.println(x);\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT: well, this one works, but as you can see i'm not using equals() and i'm printing out from my static method, not from main. \nAlso, is there any way I can populate the List faster than using String[] ?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657695395,"creation_date":1657695395,"answer_id":72962072,"question_id":72955957,"body_markdown":"Given that you are using centOS:\r\ntry the following command:\r\n\r\n````\r\nsudo update-alternatives --config java\r\n````\r\n\r\nIt should show you the list of available Java versions in your system. You can switch using the numbers shown in the result of the command.","title":"centos using older version of java","body":"<p>Given that you are using centOS:\ntry the following command:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>It should show you the list of available Java versions in your system. You can switch using the numbers shown in the result of the command.</p>\n"}],"owner":{"account_id":10088755,"reputation":1,"user_id":7456399,"display_name":"Amith Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657695395,"creation_date":1657645430,"question_id":72955957,"body_markdown":"I want to install open office in my centos linux and as part of the requirement is jdk 11.0.2 version.\r\n\r\nI installed new version of java JDK 11.0.2 however when I use the command java -version it is still showing that it is using old version of java.\r\n\r\n    java -version\r\n    \r\n    openjdk version &quot;1.8.0_262&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_262-b10)\r\n    OpenJDK 64-Bit Server VM (build 25.262-b10, mixed mode)\r\n\r\ni created the file `/etc/profile.d/jdk11.sh` and ran the command below\r\n\r\n    &quot;source /etc/profile.d/jdk11.sh&quot;\r\n\r\nthe file contains\r\n\r\n    export JAVA_HOME=/usr/local/jdk-11.0.2\r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n\r\n\r\n","title":"centos using older version of java","body":"<p>I want to install open office in my centos linux and as part of the requirement is jdk 11.0.2 version.</p>\n<p>I installed new version of java JDK 11.0.2 however when I use the command java -version it is still showing that it is using old version of java.</p>\n<pre><code>java -version\n\nopenjdk version &quot;1.8.0_262&quot;\nOpenJDK Runtime Environment (build 1.8.0_262-b10)\nOpenJDK 64-Bit Server VM (build 25.262-b10, mixed mode)\n</code></pre>\n<p>i created the file <code>/etc/profile.d/jdk11.sh</code> and ran the command below</p>\n<pre><code>&quot;source /etc/profile.d/jdk11.sh&quot;\n</code></pre>\n<p>the file contains</p>\n<pre><code>export JAVA_HOME=/usr/local/jdk-11.0.2\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1657641917,"post_id":72955230,"comment_id":128856836,"body_markdown":"What are internet explorer subcodes? Is that a thing? 403.1 is not part of the http standard.","body":"What are internet explorer subcodes? Is that a thing? 403.1 is not part of the http standard."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1657642209,"post_id":72955230,"comment_id":128856928,"body_markdown":"The Http standard defines status codes to be integers so 403.1 etc. would not even be possible. If you get something like this it&#39;s probably part of the response body or a response header.","body":"The Http standard defines status codes to be integers so 403.1 etc. would not even be possible. If you get something like this it&#39;s probably part of the response body or a response header."}],"owner":{"account_id":25790563,"reputation":11,"user_id":19534696,"display_name":"Andrea Rovelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657695025,"creation_date":1657641789,"question_id":72955230,"body_markdown":"I&#39;ve this code in Java 8\r\n```\r\nString u = &quot;https://test.com?WSDL&quot;;\r\nURL url = new URL(u);\r\nSystem.out.println(&quot;Link: &quot; + u);\r\nSSLContext sc = SSLContext.getInstance(&quot;TLSv1&quot;);\r\nsc.init(null, null, new java.security.SecureRandom());\r\nHttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\ncon.setSSLSocketFactory(sc.getSocketFactory());\r\nSystem.out.println(&quot;After url connection&quot;);\r\n\r\ncon.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11&quot;);\r\ncon.connect();\r\n\r\nBufferedReader br  = new BufferedReader(new InputStreamReader(con.getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\r\nString input;\r\nwhile ((input = br.readLine()) != null) {\r\n\tSystem.out.println(input);\r\n}\r\nbr.close();\r\n```\r\n\r\nAnd I get Error 403 forbidden when I connect to a ii&#39;s web service. How can I get Internet explorer subcode error (es. 403.1  execute access forbidden, 403.2  Read access forbidden)?\r\n","title":"How to get error 403 internet explorer subcodes","body":"<p>I've this code in Java 8</p>\n<pre><code>String u = &quot;https://test.com?WSDL&quot;;\nURL url = new URL(u);\nSystem.out.println(&quot;Link: &quot; + u);\nSSLContext sc = SSLContext.getInstance(&quot;TLSv1&quot;);\nsc.init(null, null, new java.security.SecureRandom());\nHttpsURLConnection con = (HttpsURLConnection) url.openConnection();\ncon.setSSLSocketFactory(sc.getSocketFactory());\nSystem.out.println(&quot;After url connection&quot;);\n\ncon.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11&quot;);\ncon.connect();\n\nBufferedReader br  = new BufferedReader(new InputStreamReader(con.getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\nString input;\nwhile ((input = br.readLine()) != null) {\n    System.out.println(input);\n}\nbr.close();\n</code></pre>\n<p>And I get Error 403 forbidden when I connect to a ii's web service. How can I get Internet explorer subcode error (es. 403.1  execute access forbidden, 403.2  Read access forbidden)?</p>\n"},{"tags":["java","web-services","networking","architecture"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1657695592,"post_id":72961969,"comment_id":128868708,"body_markdown":"10M is not huge. I would keep it simple. A regular HTTP POST with binary data using gzip compression (built into most HTTP clients and servers, so no special code) should do the job.","body":"10M is not huge. I would keep it simple. A regular HTTP POST with binary data using gzip compression (built into most HTTP clients and servers, so no special code) should do the job."},{"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"score":0,"creation_date":1657695608,"post_id":72961969,"comment_id":128868712,"body_markdown":"Can you send the data as a file using multi-part form data encoding as explained here. https://stackoverflow.com/a/35091777/734744 In that example the client is a standard browser. You java code needs to emulate that behavior. Otherwise you can send data in normal POST body as name=value format.","body":"Can you send the data as a file using multi-part form data encoding as explained here. <a href=\"https://stackoverflow.com/a/35091777/734744\">stackoverflow.com/a/35091777/734744</a> In that example the client is a standard browser. You java code needs to emulate that behavior. Otherwise you can send data in normal POST body as name=value format."},{"owner":{"account_id":25572933,"reputation":146,"user_id":19352974,"display_name":"Danish"},"score":0,"creation_date":1657790948,"post_id":72961969,"comment_id":128896150,"body_markdown":"Does it have anything to do with IoT? If not then first comment holds true","body":"Does it have anything to do with IoT? If not then first comment holds true"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1657694837,"creation_date":1657694837,"question_id":72961969,"body_markdown":"I&#39;m designing a system that will need to make WS calls to an endpoint, passing a payload of approximately 10MB in size (uncompressed).  \r\nI&#39;m a bit clueless as I&#39;ve only dealt with ordinary WS calls so appreciate any advice on the best practices (TCP/UDP, REST/GRPC, compression, etc).  \r\n\r\nSome context:  \r\n- Latency and throughput are not critical\r\n- I&#39;ll be using Java for the call, receiver will be python\r\n- We have control over the receiver end too, so we can ask them to accommodate our solution","title":"Best approach for web service call with 10MB payload","body":"<p>I'm designing a system that will need to make WS calls to an endpoint, passing a payload of approximately 10MB in size (uncompressed).<br />\nI'm a bit clueless as I've only dealt with ordinary WS calls so appreciate any advice on the best practices (TCP/UDP, REST/GRPC, compression, etc).</p>\n<p>Some context:</p>\n<ul>\n<li>Latency and throughput are not critical</li>\n<li>I'll be using Java for the call, receiver will be python</li>\n<li>We have control over the receiver end too, so we can ask them to accommodate our solution</li>\n</ul>\n"},{"tags":["java","openapi","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657640214,"creation_date":1657640214,"answer_id":72954920,"question_id":72954680,"body_markdown":"The question is: what result do you expect from `openapi-generator-maven-plugin`? \r\n\r\nIt&#39;s main idea is to generate API with methods like:\r\n\r\n```java\r\nResponseEntity&lt;TheResponseObject&gt; get(...) \r\n```\r\n\r\nnow, your schema defines that endpoint may return both `application/json` and `byte[]`, so, from java perspective API would look like:\r\n\r\n```java\r\n\r\nResponseEntity&lt;TheResponseObject&gt; get(...);\r\n\r\nResponseEntity&lt;byte[]&gt; get(...);\r\n\r\n```\r\n\r\nwhich is not possible, because both methods has the same signature. In general it is possible to override `mustache` template ([spring template for example](https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaSpring/api.mustache)) by placing your own version in `resources` directory and specifying `templateDirectory` in plugin configuration, but the best what you can get would look like:\r\n\r\n```java\r\nResponseEntity&lt;java.lang.Object&gt; get(...);\r\n```\r\n\r\ndo you really need that?","title":"Handling two different response media types with openapi-generator-maven-plugin","body":"<p>The question is: what result do you expect from <code>openapi-generator-maven-plugin</code>?</p>\n<p>It's main idea is to generate API with methods like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;TheResponseObject&gt; get(...) \n</code></pre>\n<p>now, your schema defines that endpoint may return both <code>application/json</code> and <code>byte[]</code>, so, from java perspective API would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nResponseEntity&lt;TheResponseObject&gt; get(...);\n\nResponseEntity&lt;byte[]&gt; get(...);\n\n</code></pre>\n<p>which is not possible, because both methods has the same signature. In general it is possible to override <code>mustache</code> template (<a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaSpring/api.mustache\" rel=\"nofollow noreferrer\">spring template for example</a>) by placing your own version in <code>resources</code> directory and specifying <code>templateDirectory</code> in plugin configuration, but the best what you can get would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;java.lang.Object&gt; get(...);\n</code></pre>\n<p>do you really need that?</p>\n"},{"tags":[],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657694695,"creation_date":1657694695,"answer_id":72961952,"question_id":72954680,"body_markdown":"To handle this, I&#39;ve changed the contract to always handle `byte[]` in the response.\r\n\r\n            &quot;content&quot;: {\r\n              &quot;application/plain&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;,\r\n                  &quot;format&quot;: &quot;byte&quot;\r\n                }\r\n              },\r\n\r\nThen, instead of calling `api.theEndpoint(...)`, I&#39;m calling `api.theEndpointWithHttpInfo(...)` which sends back a `ResponseEntity&lt;byte[]&gt;` object.\r\n\r\nAccording to the content type, I can choose how to process the result :\r\n\r\n            if (MediaType.APPLICATION_JSON.isCompatibleWith(reponse.getHeaders().getContentType())) {\r\n                // parse json response (reponse.getBody()) \r\n            } else {\r\n                // it&#39;s a pdf \r\n            }","title":"Handling two different response media types with openapi-generator-maven-plugin","body":"<p>To handle this, I've changed the contract to always handle <code>byte[]</code> in the response.</p>\n<pre><code>        &quot;content&quot;: {\n          &quot;application/plain&quot;: {\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;string&quot;,\n              &quot;format&quot;: &quot;byte&quot;\n            }\n          },\n</code></pre>\n<p>Then, instead of calling <code>api.theEndpoint(...)</code>, I'm calling <code>api.theEndpointWithHttpInfo(...)</code> which sends back a <code>ResponseEntity&lt;byte[]&gt;</code> object.</p>\n<p>According to the content type, I can choose how to process the result :</p>\n<pre><code>        if (MediaType.APPLICATION_JSON.isCompatibleWith(reponse.getHeaders().getContentType())) {\n            // parse json response (reponse.getBody()) \n        } else {\n            // it's a pdf \n        }\n</code></pre>\n"}],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72961952,"answer_count":2,"score":0,"last_activity_date":1657694695,"creation_date":1657639136,"question_id":72954680,"body_markdown":"I&#39;m generating the sources of an OpenAPI contract with the `openapi-generator-maven-plugin` maven plugin (version `5.4.0`).\r\n\r\nI&#39;m using the `java` generator and the `webclient` library.\r\n\r\nI have one endpoint that is responding either `application/octet-stream` or `application/json` :\r\n\r\n        &quot;responses&quot;: {\r\n          &quot;200&quot;: {\r\n            &quot;content&quot;: {\r\n              &quot;application/octet-stream&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;,\r\n                  &quot;format&quot;: &quot;byte&quot;\r\n                }\r\n              },\r\n              &quot;application/json&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;$ref&quot;: &quot;#/components/schemas/TheResponseObject&quot;\r\n                }\r\n              }\r\n            }\r\n          },\r\n\r\nThe problem is that the plugin is just considering the first media type (in the order of declaration) to generate the according java return type.\r\n\r\nWith the example above, I have to deal with `byte[]`.\r\n\r\nIf I invert the media types (`application/json` first), I have to deal with the `TheResponseObject`.\r\n\r\nIs there a way to handle both of them and to get the good format according to the response headers ?","title":"Handling two different response media types with openapi-generator-maven-plugin","body":"<p>I'm generating the sources of an OpenAPI contract with the <code>openapi-generator-maven-plugin</code> maven plugin (version <code>5.4.0</code>).</p>\n<p>I'm using the <code>java</code> generator and the <code>webclient</code> library.</p>\n<p>I have one endpoint that is responding either <code>application/octet-stream</code> or <code>application/json</code> :</p>\n<pre><code>    &quot;responses&quot;: {\n      &quot;200&quot;: {\n        &quot;content&quot;: {\n          &quot;application/octet-stream&quot;: {\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;string&quot;,\n              &quot;format&quot;: &quot;byte&quot;\n            }\n          },\n          &quot;application/json&quot;: {\n            &quot;schema&quot;: {\n              &quot;$ref&quot;: &quot;#/components/schemas/TheResponseObject&quot;\n            }\n          }\n        }\n      },\n</code></pre>\n<p>The problem is that the plugin is just considering the first media type (in the order of declaration) to generate the according java return type.</p>\n<p>With the example above, I have to deal with <code>byte[]</code>.</p>\n<p>If I invert the media types (<code>application/json</code> first), I have to deal with the <code>TheResponseObject</code>.</p>\n<p>Is there a way to handle both of them and to get the good format according to the response headers ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1657620617,"post_id":72950335,"comment_id":128848653,"body_markdown":"Why are you migrating to `8u66` [released in 2015](https://www.java.com/download/help/release_dates.html)? It&#39;s a very old version.","body":"Why are you migrating to <code>8u66</code> <a href=\"https://www.java.com/download/help/release_dates.html\" rel=\"nofollow noreferrer\">released in 2015</a>? It&#39;s a very old version."},{"owner":{"account_id":5136045,"reputation":1601,"user_id":4114782,"accept_rate":11,"display_name":"Duston"},"score":0,"creation_date":1657629025,"post_id":72950335,"comment_id":128851628,"body_markdown":"Show us the code.  &quot;Name can&#39;t be null&quot; doesn&#39;t sound like a dll problem to me.","body":"Show us the code.  &quot;Name can&#39;t be null&quot; doesn&#39;t sound like a dll problem to me."},{"owner":{"account_id":13930036,"reputation":3,"user_id":10058444,"display_name":"Abuthahir"},"score":0,"creation_date":1657687044,"post_id":72950335,"comment_id":128866924,"body_markdown":"Thanks @Robert for highlighting...i&#39;ve done the edit. \nError happens at line 6 while trying to get PortIdentifier(&quot;COM1&quot;)","body":"Thanks @Robert for highlighting...i&#39;ve done the edit.  Error happens at line 6 while trying to get PortIdentifier(&quot;COM1&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":14504534,"reputation":477,"user_id":10476654,"display_name":"Geeganage Punsara Prathibha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657693745,"creation_date":1657693074,"answer_id":72961722,"question_id":72950335,"body_markdown":"It seems like Java can&#39;t find the provided  driver location which causes for a null pointer exception saying that &quot;Caught java.lang.NullPointerException: name can&#39;t be null while loading driver com.sun.comm.Win32Driver&quot;.\r\n\r\nSo Firstly, please make sure that you&#39;ve already installed the given driver or else please follow the below installation steps to install it.\r\n\r\n\r\n1. Download and unpack the `javacomm20-win32.zip` file.\r\n\r\n2. Place the `win32com.dll` in `&lt;jdk&gt;\\jre\\bin` directory (or the `\\jre\\bin` subdirectory of your current J2SDK directory.)\r\n\r\n3. Place the `comm.jar` in `&lt;jdk&gt;\\jre\\lib\\ext`.\r\n\r\n4. Place the `javax.comm.properties` in `&lt;jdk&gt;\\jre\\lib`.\r\n\r\n5. Do not alter the `CLASSPATH`.\r\n\r\nPlease refer this [oracle forum][1] for further details.\r\n\r\n\r\nHope this will fix your issue. \r\n\r\n\r\n  [1]: https://community.oracle.com/tech/developers/discussion/2105954/name-cant-be-null-while-loading-driver-com-sun-comm-win32driver","title":"Null Pointer Exception while trying to print via Comm Port, in JDK 1.8","body":"<p>It seems like Java can't find the provided  driver location which causes for a null pointer exception saying that &quot;Caught java.lang.NullPointerException: name can't be null while loading driver com.sun.comm.Win32Driver&quot;.</p>\n<p>So Firstly, please make sure that you've already installed the given driver or else please follow the below installation steps to install it.</p>\n<ol>\n<li><p>Download and unpack the <code>javacomm20-win32.zip</code> file.</p>\n</li>\n<li><p>Place the <code>win32com.dll</code> in <code>&lt;jdk&gt;\\jre\\bin</code> directory (or the <code>\\jre\\bin</code> subdirectory of your current J2SDK directory.)</p>\n</li>\n<li><p>Place the <code>comm.jar</code> in <code>&lt;jdk&gt;\\jre\\lib\\ext</code>.</p>\n</li>\n<li><p>Place the <code>javax.comm.properties</code> in <code>&lt;jdk&gt;\\jre\\lib</code>.</p>\n</li>\n<li><p>Do not alter the <code>CLASSPATH</code>.</p>\n</li>\n</ol>\n<p>Please refer this <a href=\"https://community.oracle.com/tech/developers/discussion/2105954/name-cant-be-null-while-loading-driver-com-sun-comm-win32driver\" rel=\"nofollow noreferrer\">oracle forum</a> for further details.</p>\n<p>Hope this will fix your issue.</p>\n"}],"owner":{"account_id":13930036,"reputation":3,"user_id":10058444,"display_name":"Abuthahir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72961722,"answer_count":1,"score":0,"last_activity_date":1657694681,"creation_date":1657619432,"question_id":72950335,"body_markdown":"Null Pointer Exception while trying to print via Comm Port, in JDK 1.8. We are migrating from JDK 1.7 to 1.8. (1.8u66)\r\nwe are using javax.comm jar. Copied the &#39;win32com.dll&#39; inside JDK 1.8 / bin folder. \r\nBelow is the full exception trace:\r\n\r\n    Caused by: java.lang.NullPointerException: name can&#39;t be null\r\n    \tat java.io.FilePermission.init(FilePermission.java:191)\r\n    \tat java.io.FilePermission.&lt;init&gt;(FilePermission.java:277)\r\n    \tat java.lang.SecurityManager.checkDelete(SecurityManager.java:1007)\r\n    \tat javax.comm.CommPortIdentifier.getPortIdentifier(CommPortIdentifier.java:89)\r\n\r\nApplication code goes here:\r\n\r\n    public class PrintClient { \r\n        protected final Log log = LogFactory.getLog(getClass()); \r\n        public PrintClient() {\r\n            try { \r\n                CommDriver driver = (CommDriver) Class.forName(&quot;com.sun.comm.Win32Driver&quot;).newInstance(); \r\n                driver.initialize(); \r\n                CommPortIdentifier portId = CommPortIdentifier.getPortIdentifier(&quot;COM1&quot;); \r\n            } catch (Exception ex) {\r\n            }\r\n        } \r\n    }\r\n\r\nAny suggestion how to fix this?","title":"Null Pointer Exception while trying to print via Comm Port, in JDK 1.8","body":"<p>Null Pointer Exception while trying to print via Comm Port, in JDK 1.8. We are migrating from JDK 1.7 to 1.8. (1.8u66)\nwe are using javax.comm jar. Copied the 'win32com.dll' inside JDK 1.8 / bin folder.\nBelow is the full exception trace:</p>\n<pre><code>Caused by: java.lang.NullPointerException: name can't be null\n    at java.io.FilePermission.init(FilePermission.java:191)\n    at java.io.FilePermission.&lt;init&gt;(FilePermission.java:277)\n    at java.lang.SecurityManager.checkDelete(SecurityManager.java:1007)\n    at javax.comm.CommPortIdentifier.getPortIdentifier(CommPortIdentifier.java:89)\n</code></pre>\n<p>Application code goes here:</p>\n<pre><code>public class PrintClient { \n    protected final Log log = LogFactory.getLog(getClass()); \n    public PrintClient() {\n        try { \n            CommDriver driver = (CommDriver) Class.forName(&quot;com.sun.comm.Win32Driver&quot;).newInstance(); \n            driver.initialize(); \n            CommPortIdentifier portId = CommPortIdentifier.getPortIdentifier(&quot;COM1&quot;); \n        } catch (Exception ex) {\n        }\n    } \n}\n</code></pre>\n<p>Any suggestion how to fix this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1657653302,"post_id":72956372,"comment_id":128860581,"body_markdown":"See https://stackoverflow.com/questions/58916647/difference-between-enableautoconfiguration-vs-springbootconfiguration-autoc","body":"See <a href=\"https://stackoverflow.com/questions/58916647/difference-between-enableautoconfiguration-vs-springbootconfiguration-autoc\" title=\"difference between enableautoconfiguration vs springbootconfiguration autoc\">stackoverflow.com/questions/58916647/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25779467,"reputation":116,"user_id":19525292,"display_name":"Shantanu Vora"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657693985,"creation_date":1657693985,"answer_id":72961854,"question_id":72956372,"body_markdown":"**The [@EnableAutoConfiguration][1] annotation enables Spring Boot to auto-configure the application context. Therefore, it automatically creates and registers beans based on both the included jar files in the classpath and the beans defined by us.**\r\n\r\nFor example, when we define the spring-boot-starter-web dependency in our classpath, Spring boot auto-configures Tomcat and Spring MVC. However, this auto-configuration has less precedence in case we define our own configurations.\r\n\r\n**The package of the class declaring the [@EnableAutoConfiguration][1] annotation is considered the default.** Therefore, we should always apply the [@EnableAutoConfiguration][1] annotation in the root package so that every sub-package and class can be examined:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    public class EmployeeApplication {\r\n        public static void main(String[] args) {\r\n            ApplicationContext context = SpringApplication.run(EmployeeApplication.class, args);\r\n            // ...\r\n        }\r\n    }\r\n\r\nSecondly, if you have bootstrapped your application with Spring Boot, it will have [@SpringBootApplication][2] annotation which is equivalent to using [@Configuration][3], [@EnableAutoConfiguration][1], and [@ComponentScan][3], so you wouldn&#39;t need to explicitly add [@EnableAutoConfiguration][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html","title":"Why @EnableAutoConfiguration when we already have @Conditonal and @Configuration","body":"<p><strong>The <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a> annotation enables Spring Boot to auto-configure the application context. Therefore, it automatically creates and registers beans based on both the included jar files in the classpath and the beans defined by us.</strong></p>\n<p>For example, when we define the spring-boot-starter-web dependency in our classpath, Spring boot auto-configures Tomcat and Spring MVC. However, this auto-configuration has less precedence in case we define our own configurations.</p>\n<p><strong>The package of the class declaring the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a> annotation is considered the default.</strong> Therefore, we should always apply the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a> annotation in the root package so that every sub-package and class can be examined:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\npublic class EmployeeApplication {\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(EmployeeApplication.class, args);\n        // ...\n    }\n}\n</code></pre>\n<p>Secondly, if you have bootstrapped your application with Spring Boot, it will have <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\" rel=\"nofollow noreferrer\">@SpringBootApplication</a> annotation which is equivalent to using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\">@Configuration</a>, <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a>, and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\">@ComponentScan</a>, so you wouldn't need to explicitly add <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a>.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657693985,"creation_date":1657647652,"question_id":72956372,"body_markdown":"Why do we need `@EnableAutoConfiguration` when we already have `@Conditional` on `@Configuration` annotated classes. Aren&#39;t these 2 annotations self sufficient to scan the libs on the classpath and create beans? Why do we need an extra `@EnableAutoConfiguration`. ","title":"Why @EnableAutoConfiguration when we already have @Conditonal and @Configuration","body":"<p>Why do we need <code>@EnableAutoConfiguration</code> when we already have <code>@Conditional</code> on <code>@Configuration</code> annotated classes. Aren't these 2 annotations self sufficient to scan the libs on the classpath and create beans? Why do we need an extra <code>@EnableAutoConfiguration</code>.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657652747,"post_id":72956395,"comment_id":128860397,"body_markdown":"Is it usn = -N6nPEDs0OEgpeESJSXl ?","body":"Is it usn = -N6nPEDs0OEgpeESJSXl ?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657692158,"post_id":72956395,"comment_id":128867850,"body_markdown":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":22296933,"reputation":3,"user_id":16522807,"display_name":"sanjana s bharadwaj"},"score":0,"creation_date":1657694041,"post_id":72956395,"comment_id":128868269,"body_markdown":"@GobuCSG No. Usn is 132","body":"@GobuCSG No. Usn is 132"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657695848,"post_id":72956395,"comment_id":128868785,"body_markdown":"@sanjanasbharadwaj you&#39;ve refer this child &quot;-N6nPEDs0OEgpeESJSXl&quot; then only you can fetch.. So first create another tree TREE_NAME:{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} get the value from here then, firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).child(&quot;PASS THE VALUE&quot;). No need orderByChild there","body":"@sanjanasbharadwaj you&#39;ve refer this child &quot;-N6nPEDs0OEgpeESJSXl&quot; then only you can fetch.. So first create another tree TREE_NAME:{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} get the value from here then, firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).ch&zwnj;&#8203;ild(&quot;PASS THE VALUE&quot;). No need orderByChild there"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657695966,"post_id":72956395,"comment_id":128868823,"body_markdown":"orderByChild()\tOrder results by the value of a specified child key or nested child path.\n\nRefer this : https://firebase.google.com/docs/database/android/lists-of-data","body":"orderByChild()\tOrder results by the value of a specified child key or nested child path.  Refer this : <a href=\"https://firebase.google.com/docs/database/android/lists-of-data\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/lists-of-data</a>"},{"owner":{"account_id":22296933,"reputation":3,"user_id":16522807,"display_name":"sanjana s bharadwaj"},"score":0,"creation_date":1657807148,"post_id":72956395,"comment_id":128902234,"body_markdown":"how do i generate the  tree{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} dynamically everytime a user enters data ? is there a way i can make the usn as key?","body":"how do i generate the  tree{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} dynamically everytime a user enters data ? is there a way i can make the usn as key?"}],"owner":{"account_id":22296933,"reputation":3,"user_id":16522807,"display_name":"sanjana s bharadwaj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657693951,"creation_date":1657647794,"question_id":72956395,"body_markdown":"I want to display student information according to the usn searched but when I click the read button the data isn&#39;t displaying. Im stuck here.Any help soon would be really helpful.\r\n\r\nthis is my firebase structure\r\n\r\n\r\n\r\n\r\n```\r\n&quot;sem1Info1&quot;: {\r\n    &quot;users&quot;: {\r\n      &quot;-N6nPEDs0OEgpeESJSXl&quot;: {\r\n        &quot;BACKLOGS&quot;: &quot;5&quot;,\r\n        &quot;CGPA&quot;: &quot;55&quot;,\r\n        &quot;SGPA&quot;: &quot;55&quot;,\r\n        &quot;USN&quot;: 132\r\n      }\r\n    }\r\n  }\r\n```\r\nand this is the android studio code that would be of use\r\n```public class MentorHome extends AppCompatActivity  {\r\n    FirebaseDatabase firebaseDatabase;\r\n\r\n    DatabaseReference databaseReference;\r\n\r\n    .\r\n    private TextView retrieveTV, retrieveTV1, retrieveTV2, readBtn,enterUsn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_mentor_home);\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        retrieveTV = findViewById(R.id.tv_mentName);\r\n        retrieveTV1 = findViewById(R.id.tv_studName);\r\n        retrieveTV2 = findViewById(R.id.tv_usn);\r\n        enterUsn=findViewById(R.id.etusername);\r\n        readBtn = findViewById(R.id.readdataBtn);\r\n        String usn= enterUsn.getText().toString();\r\n        readBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).orderByChild(&quot;USN&quot;).equalTo(usn).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                            \r\n                            String spga=snapshot.child(&quot;SGPA&quot;).getValue().toString();\r\n                            String cgpa =snapshot.child(&quot;CGPA&quot;).getValue().toString();\r\n                            String back=snapshot.child(&quot;BACKLOGS&quot;).getValue().toString();\r\n                            retrieveTV.setText(spga);\r\n                            retrieveTV1.setText(cgpa);\r\n                            retrieveTV2.setText(back);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(MentorHome.this,&quot;ERROR&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n\r\n                    ;\r\n                });\r\n            }\r\n        });\r\n        \r\n        }\r\n}\r\n\r\n```","title":"data from firebase not displaying in android studio","body":"<p>I want to display student information according to the usn searched but when I click the read button the data isn't displaying. Im stuck here.Any help soon would be really helpful.</p>\n<p>this is my firebase structure</p>\n<pre><code>&quot;sem1Info1&quot;: {\n    &quot;users&quot;: {\n      &quot;-N6nPEDs0OEgpeESJSXl&quot;: {\n        &quot;BACKLOGS&quot;: &quot;5&quot;,\n        &quot;CGPA&quot;: &quot;55&quot;,\n        &quot;SGPA&quot;: &quot;55&quot;,\n        &quot;USN&quot;: 132\n      }\n    }\n  }\n</code></pre>\n<p>and this is the android studio code that would be of use</p>\n<pre><code>    FirebaseDatabase firebaseDatabase;\n\n    DatabaseReference databaseReference;\n\n    .\n    private TextView retrieveTV, retrieveTV1, retrieveTV2, readBtn,enterUsn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_mentor_home);\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        retrieveTV = findViewById(R.id.tv_mentName);\n        retrieveTV1 = findViewById(R.id.tv_studName);\n        retrieveTV2 = findViewById(R.id.tv_usn);\n        enterUsn=findViewById(R.id.etusername);\n        readBtn = findViewById(R.id.readdataBtn);\n        String usn= enterUsn.getText().toString();\n        readBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).orderByChild(&quot;USN&quot;).equalTo(usn).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                            \n                            String spga=snapshot.child(&quot;SGPA&quot;).getValue().toString();\n                            String cgpa =snapshot.child(&quot;CGPA&quot;).getValue().toString();\n                            String back=snapshot.child(&quot;BACKLOGS&quot;).getValue().toString();\n                            retrieveTV.setText(spga);\n                            retrieveTV1.setText(cgpa);\n                            retrieveTV2.setText(back);\n\n                        }\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        Toast.makeText(MentorHome.this,&quot;ERROR&quot;,Toast.LENGTH_LONG).show();\n\n                    }\n\n                    ;\n                });\n            }\n        });\n        \n        }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","sql-update","jpql"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657694847,"post_id":72961667,"comment_id":128868482,"body_markdown":"Changes in a test are rolled back after the test, so no changes. If you want them to persist after the test you need to add `@Rollback(false)` to the test method.","body":"Changes in a test are rolled back after the test, so no changes. If you want them to persist after the test you need to add <code>@Rollback(false)</code> to the test method."}],"answers":[{"tags":[],"owner":{"account_id":23136359,"reputation":274,"user_id":17240540,"display_name":"Puneet Kundliya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657693320,"creation_date":1657693320,"answer_id":72961759,"question_id":72961667,"body_markdown":"Add nativeQuery = true in the your Query, Try using the below @Query\r\n\r\n    @Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;,nativeQuery = true)","title":"JPQL update query not working in spring boot application","body":"<p>Add nativeQuery = true in the your Query, Try using the below @Query</p>\n<pre><code>@Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;,nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":25796284,"reputation":1,"user_id":19539401,"display_name":"rami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657693844,"creation_date":1657692768,"question_id":72961667,"body_markdown":"    \r\nI am trying to update Student emailId based on the firstName as following.\r\n\r\n\r\n    @Modifying(clearAutomatically = true)//, flushAutomatically = true)\r\n    @Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;)\r\n    public int updateStudentEmailByFirstName(@Param(&quot;firstName&quot;) String firstName, @Param(&quot;email&quot;) String email);\r\n\r\nMy test code \r\n\r\n     @Test\r\n     @Order(11)\r\n     @Transactional\r\n     public void updateEmailByFirstName() {\r\n         String firstName = &quot;sm&quot;;\r\n         String email = &quot;sm2@gmail.com&quot;;\r\n         //studentRepository.setSafeUpdateFalse();\r\n         int res = studentRepository.updateStudentEmailByFirstName(firstName, email);\r\n         //studentRepository.setSafeUpdateTrue();\r\n         System.out.println(&quot;res = &quot; + res);\r\n     }\r\n\r\nI get the following output for my Test code\r\n\r\n    2022-07-13 11:27:54.693  INFO 12932 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@1f05d08c testClass = StudentRepositoryTest, testInstance = com.sm.jpa.demo.repository.StudentRepositoryTest@2c6d442d, testMethod = updateEmailByFirstName@StudentRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71842e18 testClass = StudentRepositoryTest, locations = &#39;{}&#39;, classes = &#39;{class com.sm.jpa.demo.JpaDemoApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@49912c99, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5f9b2141, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3c73951, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@71def8f8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@17f6480], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4bab804f]; rollback [true]\r\n    Hibernate: update tbl_student set email_address=? where first_name=? and id&gt;0\r\n    res = 1\r\n\r\n\r\nBut cannot see the updated changes in the MySQL database. Corresponding native query also not working. How can I fix this? ","title":"JPQL update query not working in spring boot application","body":"<p>I am trying to update Student emailId based on the firstName as following.</p>\n<pre><code>@Modifying(clearAutomatically = true)//, flushAutomatically = true)\n@Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;)\npublic int updateStudentEmailByFirstName(@Param(&quot;firstName&quot;) String firstName, @Param(&quot;email&quot;) String email);\n</code></pre>\n<p>My test code</p>\n<pre><code> @Test\n @Order(11)\n @Transactional\n public void updateEmailByFirstName() {\n     String firstName = &quot;sm&quot;;\n     String email = &quot;sm2@gmail.com&quot;;\n     //studentRepository.setSafeUpdateFalse();\n     int res = studentRepository.updateStudentEmailByFirstName(firstName, email);\n     //studentRepository.setSafeUpdateTrue();\n     System.out.println(&quot;res = &quot; + res);\n }\n</code></pre>\n<p>I get the following output for my Test code</p>\n<pre><code>2022-07-13 11:27:54.693  INFO 12932 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@1f05d08c testClass = StudentRepositoryTest, testInstance = com.sm.jpa.demo.repository.StudentRepositoryTest@2c6d442d, testMethod = updateEmailByFirstName@StudentRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71842e18 testClass = StudentRepositoryTest, locations = '{}', classes = '{class com.sm.jpa.demo.JpaDemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@49912c99, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5f9b2141, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3c73951, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@71def8f8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@17f6480], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -&gt; true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4bab804f]; rollback [true]\nHibernate: update tbl_student set email_address=? where first_name=? and id&gt;0\nres = 1\n</code></pre>\n<p>But cannot see the updated changes in the MySQL database. Corresponding native query also not working. How can I fix this?</p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"score":0,"creation_date":1657634450,"post_id":72953591,"comment_id":128853951,"body_markdown":"I should also add that I am specifically trying to upload a .zip. But it could be anything in the future.","body":"I should also add that I am specifically trying to upload a .zip. But it could be anything in the future."}],"answers":[{"tags":[],"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657693784,"creation_date":1657635339,"answer_id":72953813,"question_id":72953591,"body_markdown":"The problem was my credentials. The secret access key I provided was incorrect. :(","title":"Issuing uploading file to Amazon S3 Bucket. using the AWS SDK for Java v2","body":"<p>The problem was my credentials. The secret access key I provided was incorrect. :(</p>\n"},{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657639117,"creation_date":1657635523,"answer_id":72953848,"question_id":72953591,"body_markdown":"This Java example works fine. Here is a screenshot of this Java code working: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou state:\r\n\r\n    key(&quot;testing&quot;) //No idea what goes in here.\r\n        .build();\r\n\r\nThe **key** is the name of the object to update. For example, **book.pdf** to upload a PDF file. All input to Java AWS V2 examples is documented at start in the main method.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow for your problem - make sure you have the **required dependencies** in the POM file. Use the POM file located here: \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\r\n\r\nAlso at start of every program, there is a link to **Java V2 Dev guide** that talks about setting up your DEV Environment, including your creds. \r\n\r\n  [1]: https://i.stack.imgur.com/wNHYb.png\r\n  [2]: https://i.stack.imgur.com/R8IZd.png","title":"Issuing uploading file to Amazon S3 Bucket. using the AWS SDK for Java v2","body":"<p>This Java example works fine. Here is a screenshot of this Java code working:</p>\n<p><a href=\"https://i.stack.imgur.com/wNHYb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNHYb.png\" alt=\"enter image description here\" /></a></p>\n<p>You state:</p>\n<pre><code>key(&quot;testing&quot;) //No idea what goes in here.\n    .build();\n</code></pre>\n<p>The <strong>key</strong> is the name of the object to update. For example, <strong>book.pdf</strong> to upload a PDF file. All input to Java AWS V2 examples is documented at start in the main method.</p>\n<p><a href=\"https://i.stack.imgur.com/R8IZd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8IZd.png\" alt=\"enter image description here\" /></a></p>\n<p>Now for your problem - make sure you have the <strong>required dependencies</strong> in the POM file. Use the POM file located here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3</a></p>\n<p>Also at start of every program, there is a link to <strong>Java V2 Dev guide</strong> that talks about setting up your DEV Environment, including your creds.</p>\n"}],"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72953813,"answer_count":2,"score":1,"last_activity_date":1657693784,"creation_date":1657634368,"question_id":72953591,"body_markdown":"I am trying to upload a file to an AWS S3 Bucket using the AWS SDK 2.0 for Java, but I am getting an error when trying to do so. \r\n\r\n    software.amazon.awssdk.services.s3.model.S3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method.\r\n\r\nI am not sure what I am missing. I have tried adding in a key, but I am not even sure what I need to put in there, think it is just a name to refer to what has been uploaded though.\r\n\r\n    private S3Client s3Client;\r\n\r\n    private void upload() {\r\n        setUpS3Client();\r\n\r\n         PutObjectRequest putObjectRequest = PutObjectRequest.builder()\r\n        .bucket(bucketName) //name of the bucket i am trying to upload to\r\n        .key(&quot;testing&quot;) //No idea what goes in here.\r\n        .build();\r\n\r\n        byte[] objectByteArray = getObjectByteArray(bucketRequest.getPathToFile()); //bucketRequest just holds the data that will be sent\r\n        PutObjectResponse putObjectResponse = s3Client.putObject(putObjectRequest, RequestBody.fromBytes(objectByteArray));\r\n    }\r\n\r\n      private void setUpS3Client() {\r\n\r\n        Region region = Region.AF_SOUTH_1;\r\n\r\n        s3Client = S3Client.builder()\r\n        .region(region)\r\n        .credentialsProvider(createStaticCredentialsProvider())\r\n        .build();\r\n\r\n        this.s3Client = s3Client;\r\n    }\r\n\r\n  \r\n\r\n\r\nDoes anyone know what this error is referring to and what I need to change to get the file to upload? Any help will be appreciated.\r\n","title":"Issuing uploading file to Amazon S3 Bucket. using the AWS SDK for Java v2","body":"<p>I am trying to upload a file to an AWS S3 Bucket using the AWS SDK 2.0 for Java, but I am getting an error when trying to do so.</p>\n<pre><code>software.amazon.awssdk.services.s3.model.S3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method.\n</code></pre>\n<p>I am not sure what I am missing. I have tried adding in a key, but I am not even sure what I need to put in there, think it is just a name to refer to what has been uploaded though.</p>\n<pre><code>private S3Client s3Client;\n\nprivate void upload() {\n    setUpS3Client();\n\n     PutObjectRequest putObjectRequest = PutObjectRequest.builder()\n    .bucket(bucketName) //name of the bucket i am trying to upload to\n    .key(&quot;testing&quot;) //No idea what goes in here.\n    .build();\n\n    byte[] objectByteArray = getObjectByteArray(bucketRequest.getPathToFile()); //bucketRequest just holds the data that will be sent\n    PutObjectResponse putObjectResponse = s3Client.putObject(putObjectRequest, RequestBody.fromBytes(objectByteArray));\n}\n\n  private void setUpS3Client() {\n\n    Region region = Region.AF_SOUTH_1;\n\n    s3Client = S3Client.builder()\n    .region(region)\n    .credentialsProvider(createStaticCredentialsProvider())\n    .build();\n\n    this.s3Client = s3Client;\n}\n</code></pre>\n<p>Does anyone know what this error is referring to and what I need to change to get the file to upload? Any help will be appreciated.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1641488390,"post_id":70610170,"comment_id":124822208,"body_markdown":"Can you add the Hibernate version to your question?","body":"Can you add the Hibernate version to your question?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1641488950,"post_id":70610170,"comment_id":124822449,"body_markdown":"I don&#39;t know why, but it hits the error dealing with your count query, which is why it works without paging. How does your count query work with the other queries that work with pageable?","body":"I don&#39;t know why, but it hits the error dealing with your count query, which is why it works without paging. How does your count query work with the other queries that work with pageable?"},{"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"score":0,"creation_date":1641575678,"post_id":70610170,"comment_id":124848255,"body_markdown":"The count query returns the correct count when I execute it using Oracle SQL Developer, as do the count queries for the other queries.\n\nCOUNT(GF.FACT_ID)\n-----------------\n            25487","body":"The count query returns the correct count when I execute it using Oracle SQL Developer, as do the count queries for the other queries.  COUNT(GF.FACT_ID) -----------------             25487"},{"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"score":0,"creation_date":1641577337,"post_id":70610170,"comment_id":124848911,"body_markdown":"I added an example of a query that does work","body":"I added an example of a query that does work"},{"owner":{"account_id":9643088,"reputation":67,"user_id":7156734,"display_name":"Wilson"},"score":0,"creation_date":1649361061,"post_id":70610170,"comment_id":126862724,"body_markdown":"I&#39;ve debugging this issue for hours and I found the reason, it&#39;s because the NamedNativeQuery for counting does not have resultSetMapping or resultClass then causing &quot;queryReturns = namedQueryDefinition.getQueryReturns()&quot; to be empty then leading to an error at final NativeSQLQueryReturn nativeSQLQueryReturn = queryReturns[0];\nline 965 from AbstractSharedSessionContract class","body":"I&#39;ve debugging this issue for hours and I found the reason, it&#39;s because the NamedNativeQuery for counting does not have resultSetMapping or resultClass then causing &quot;queryReturns = namedQueryDefinition.getQueryReturns()&quot; to be empty then leading to an error at final NativeSQLQueryReturn nativeSQLQueryReturn = queryReturns[0]; line 965 from AbstractSharedSessionContract class"},{"owner":{"account_id":9643088,"reputation":67,"user_id":7156734,"display_name":"Wilson"},"score":0,"creation_date":1649361511,"post_id":70610170,"comment_id":126862872,"body_markdown":"I try to use resultClass/ResultSetMapping but I stuck again due to the namednativequery for count query is being created as java.lang.Long and won&#39;t accept other targets than Long, I am trying to find a way as resultClass/ResultSetMapping only accept Entities.\nThese issues are really annoying me, another thing I tried was using countQuery which also did not works having a silent exception where it could not find the named query for &quot;count&quot; or any name I give to the count","body":"I try to use resultClass/ResultSetMapping but I stuck again due to the namednativequery for count query is being created as java.lang.Long and won&#39;t accept other targets than Long, I am trying to find a way as resultClass/ResultSetMapping only accept Entities. These issues are really annoying me, another thing I tried was using countQuery which also did not works having a silent exception where it could not find the named query for &quot;count&quot; or any name I give to the count"}],"answers":[{"tags":[],"owner":{"account_id":18545106,"reputation":11,"user_id":13512681,"display_name":"Pavel Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657693476,"creation_date":1657693476,"answer_id":72961781,"question_id":70610170,"body_markdown":"You need to add resultSetMapping to your count query:\r\n```\r\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\r\n    resultSetMapping = &quot;sasVariableCount&quot;,\r\n    query = &quot;SELECT count(gf.fact_id)&quot; +\r\n            &quot;   FROM gref_facts            gf&quot; +\r\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\r\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;)\r\n```\r\n\r\nThen add\r\n```\r\n@SqlResultSetMappings(value = {\r\n    @SqlResultSetMapping(\r\n        name = &quot;sasVariableCount&quot;,\r\n        columns = { @ColumnResult(name = &quot;count&quot;, type = Long.class) }\r\n    ),\r\n    @SqlResultSetMapping(\r\n        name = &quot;SasVariableMapping&quot;,\r\n        classes = {\r\n            @ConstructorResult(\r\n                targetClass = com.epsilon.metadater.domain.SasVariable.class,\r\n                columns = {\r\n                    @ColumnResult(name = &quot;factId&quot;, type = Long.class),\r\n                    @ColumnResult(name = &quot;sasName&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\r\n                    @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\r\n                    @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\r\n                    @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\r\n                    @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\r\n                }\r\n            )\r\n        }\r\n    )\r\n})\r\n```\r\n","title":"Hibernate throws ArrayIndexOutOfBoundsException on some native queries returning POJOs with Pageable","body":"<p>You need to add resultSetMapping to your count query:</p>\n<pre><code>@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\n    resultSetMapping = &quot;sasVariableCount&quot;,\n    query = &quot;SELECT count(gf.fact_id)&quot; +\n            &quot;   FROM gref_facts            gf&quot; +\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;)\n</code></pre>\n<p>Then add</p>\n<pre><code>@SqlResultSetMappings(value = {\n    @SqlResultSetMapping(\n        name = &quot;sasVariableCount&quot;,\n        columns = { @ColumnResult(name = &quot;count&quot;, type = Long.class) }\n    ),\n    @SqlResultSetMapping(\n        name = &quot;SasVariableMapping&quot;,\n        classes = {\n            @ConstructorResult(\n                targetClass = com.epsilon.metadater.domain.SasVariable.class,\n                columns = {\n                    @ColumnResult(name = &quot;factId&quot;, type = Long.class),\n                    @ColumnResult(name = &quot;sasName&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\n                    @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\n                    @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\n                    @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\n                    @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\n                }\n            )\n        }\n    )\n})\n</code></pre>\n"}],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2706,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657693476,"creation_date":1641485915,"question_id":70610170,"body_markdown":"I am using Java, Spring, Hibernate (&amp; jhipster &amp; openapi) and an Oracle database in a project and a couple of my repository findAll() methods throw an &quot;ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0&quot; exception when calling them with a Pageable argument. (However, other classes using the same pattern do not). Also, calling a similar method without a Pageable argument does not throw an exception.\r\n\r\nHere is an example of one that throws this exception:\r\n```\r\n@Entity\r\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables&quot;,\r\n    query = &quot;SELECT gf.fact_id                  AS factid,&quot; +\r\n            &quot;        gf.script_variable_nm      AS sasname,&quot; +\r\n            &quot;        upper(gf.script_variable_nm),&quot; +\r\n            &quot;        gf.script_variable_desc    AS sasdesc,&quot; +\r\n            &quot;        gf.data_type_lcd           AS sasdatatype,&quot; +\r\n            &quot;        gf.bt_answer_msk           AS bitposmask,&quot; +\r\n            &quot;        gf.metadata_status_lcd     AS sasstatus,&quot; +\r\n            &quot;        gf.answer_id               AS answerid,&quot; +\r\n            &quot;        nus.new_script_variable_nm AS saspname,&quot; +\r\n            &quot;        upper(nus.new_script_variable_nm),&quot; +\r\n            &quot;        nus.script_variable_desc   AS saspdesc,&quot; +\r\n            &quot;        script_note_str            AS saspnote,&quot; +\r\n            &quot;        (SELECT COUNT(sf.cat_id)&quot; +\r\n            &quot;           FROM sdde_facts sf&quot; +\r\n            &quot;          WHERE gf.fact_id = sf.fact_id&quot; +\r\n            &quot;        )                          AS saslinkedcvarcount&quot; +\r\n            &quot;   FROM gref_facts            gf&quot; +\r\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\r\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot; +\r\n            &quot;  ORDER BY upper(gf.script_variable_nm) ASC,&quot; +\r\n            &quot;           upper(nus.new_script_variable_nm) ASC&quot;,\r\n    resultSetMapping = &quot;SasVariableMapping&quot;\r\n)\r\n\r\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\r\n    query = &quot;SELECT count(gf.fact_id)&quot; +\r\n            &quot;   FROM gref_facts            gf&quot; +\r\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\r\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;\r\n)\r\n\r\n@SqlResultSetMapping(name = &quot;SasVariableMapping&quot;,\r\n    classes=@ConstructorResult(\r\n        targetClass = com.epsilon.metadater.domain.SasVariable.class,\r\n        columns = {\r\n            @ColumnResult(name = &quot;factId&quot;, type = Long.class),\r\n            @ColumnResult(name = &quot;sasName&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\r\n            @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\r\n            @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\r\n            @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\r\n            @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\r\n        }\r\n))\r\n\r\n@Table( ... )\r\npublic class GrefFacts implements Serializable { ... }\r\n```\r\n```java\r\n@Repository\r\npublic interface GrefFactsRepository extends JpaRepository&lt;GrefFacts, Long&gt;, JpaSpecificationExecutor&lt;GrefFacts&gt;\r\n{\r\n    @Query(nativeQuery = true)\r\n    List&lt;SasVariable&gt; findAllSasVariables();\r\n    \r\n    @Query(nativeQuery = true)\r\n    Page&lt;SasVariable&gt; findAllSasVariables(Pageable pageable);\r\n}\r\n```\r\n\r\n```java\r\npublic class SasVariablesApiDelegateImpl implements SasVariablesApiDelegate\r\n{\r\n    private final GrefFactsRepository grefFactsRepository;\r\n    public ResponseEntity&lt;List&lt;SasVariable&gt;&gt; getSasVariables(Pageable pageable, Boolean unpaged)\r\n    {\r\n        Page&lt;SasVariable&gt; page = grefFactsRepository.findAllSasVariables(pageable); // &lt;-- Exception thrown here\r\n    }\r\n}\r\n```\r\n\r\nand this is the Exception:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0; nested exception is java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n        at com.sun.proxy.$Proxy277.findAllSasVariables(Unknown Source)\r\n        at com.epsilon.metadater.web.api.SasVariablesApiDelegateImpl.getSasVariables(SasVariablesApiDelegateImpl.java:68)\r\n        at com.epsilon.metadater.web.api.SasVariablesApi.getSasVariables(SasVariablesApi.java:51)\r\n        at com.epsilon.metadater.web.api.SasVariablesApi$$FastClassBySpringCGLIB$$923ad51a.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n        at com.epsilon.metadater.web.api.SasVariablesApiController$$EnhancerBySpringCGLIB$$fa4a950a.getSasVariables(&lt;generated&gt;)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at com.epsilon.metadater.security.jwt.JWTFilter.doFilter(JWTFilter.java:37)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:97)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:908)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:1003)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:114)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\r\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:190)\r\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:43)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createCountQuery(AbstractJpaQuery.java:253)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:183)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:178)\r\n        at org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:62)\r\n        at org.springframework.data.repository.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:51)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:177)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n        ... 133 common frames omitted\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:965)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:924)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:902)\r\n        ... 170 common frames omitted\r\n````\r\nUpdate I initallialy had these versions:\r\n```\r\n&lt;java.version&gt;11&lt;/java.version&gt;\r\n&lt;spring-boot.version&gt;2.4.7&lt;/spring-boot.version&gt;\r\n&lt;hibernate.version&gt;5.4.32.Final&lt;/hibernate.version&gt;\r\n```\r\n\r\nand have since updated to the latest versions and it still happens:\r\n````\r\n&lt;spring-boot.version&gt;2.6.2&lt;/spring-boot.version&gt;\r\n&lt;hibernate.version&gt;5.6.2.Final&lt;/hibernate.version&gt;\r\n````\r\n\r\nHere is an example of a native query that works (does NOT throw an Exception) using the same Entity class. However it only returns a few rows, much less than a page:\r\n```\r\n@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas&quot;,\r\n        query = &quot;SELECT DISTINCT\\n&quot;+\r\n        &quot;    ( nvl(c.qvroot, &#39; &#39;)\\n&quot;+\r\n        &quot;      || nvl(w.qvsufx, &#39; &#39;) ) AS cvarName,\\n&quot;+\r\n        &quot;    sf.tk_bit               AS tkBit\\n&quot;+\r\n        &quot;FROM gref_facts gf,\\n&quot;+\r\n        &quot;     sdde_facts sf,\\n&quot;+\r\n        &quot;     sdd_c      c,\\n&quot;+\r\n        &quot;     sdd_w      w\\n&quot;+\r\n        &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\r\n        &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\r\n        &quot;  AND sf.cat_id = c.catid\\n&quot;+\r\n        &quot;  AND c.catid = w.catid\\n&quot;+\r\n        &quot;  AND sf.tk_word = w.tkword\\n&quot;+\r\n        &quot;ORDER BY cvarname ASC, tkbit ASC&quot;,\r\n    resultSetMapping = &quot;CvarLinkMapping&quot;\r\n)\r\n\r\n@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas.count&quot;,\r\n    query = &quot;SELECT count(*)\\n&quot;+\r\n            &quot;  FROM (\\n&quot;+\r\n            &quot;SELECT DISTINCT\\n&quot;+\r\n            &quot;    (c.qvroot || w.qvsufx) AS cvarName,\\n&quot;+\r\n            &quot;    sf.tk_bit              AS tkBit\\n&quot;+\r\n            &quot;FROM gref_facts gf,\\n&quot;+\r\n            &quot;     sdde_facts sf,\\n&quot;+\r\n            &quot;     sdd_c      c,\\n&quot;+\r\n            &quot;     sdd_w      w\\n&quot;+\r\n            &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\r\n            &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\r\n            &quot;  AND sf.cat_id = c.catid\\n&quot;+\r\n            &quot;  AND c.catid = w.catid\\n&quot;+\r\n            &quot;  AND sf.tk_word = w.tkword\\n&quot;+\r\n            &quot;)&quot;\r\n)\r\n\r\n@SqlResultSetMapping(name = &quot;CvarLinkMapping&quot;,\r\n    classes=@ConstructorResult(\r\n        targetClass = com.epsilon.metadater.domain.CvarLink.class,\r\n        columns = {\r\n            @ColumnResult(name = &quot;cvarName&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;tkBit&quot;,type = Integer.class),\r\n        }\r\n))\r\n\r\n```\r\n\r\n```\r\n    @Query(nativeQuery = true)\r\n    List&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName);\r\n\r\n    @Query(nativeQuery = true)\r\n    Page&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName,\r\n                                      Pageable pageable);\r\n```\r\n\r\n```\r\npublic class CvarLinksApiDelegateImpl implements CvarLinksApiDelegate\r\n{\r\n    private final GrefFactsRepository grefFactsRepository;\r\n\r\n    public ResponseEntity&lt;List&lt;CvarLink&gt;&gt; getCvarLinks(String sasname,\r\n                                                       Pageable pageable,\r\n                                                       Boolean unpaged)\r\n    {\r\n            Page&lt;CvarLink&gt; page = grefFactsRepository.findCvarLinksBySas(sasname, pageable);\r\n    }\r\n}\r\n```","title":"Hibernate throws ArrayIndexOutOfBoundsException on some native queries returning POJOs with Pageable","body":"<p>I am using Java, Spring, Hibernate (&amp; jhipster &amp; openapi) and an Oracle database in a project and a couple of my repository findAll() methods throw an &quot;ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0&quot; exception when calling them with a Pageable argument. (However, other classes using the same pattern do not). Also, calling a similar method without a Pageable argument does not throw an exception.</p>\n<p>Here is an example of one that throws this exception:</p>\n<pre><code>@Entity\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables&quot;,\n    query = &quot;SELECT gf.fact_id                  AS factid,&quot; +\n            &quot;        gf.script_variable_nm      AS sasname,&quot; +\n            &quot;        upper(gf.script_variable_nm),&quot; +\n            &quot;        gf.script_variable_desc    AS sasdesc,&quot; +\n            &quot;        gf.data_type_lcd           AS sasdatatype,&quot; +\n            &quot;        gf.bt_answer_msk           AS bitposmask,&quot; +\n            &quot;        gf.metadata_status_lcd     AS sasstatus,&quot; +\n            &quot;        gf.answer_id               AS answerid,&quot; +\n            &quot;        nus.new_script_variable_nm AS saspname,&quot; +\n            &quot;        upper(nus.new_script_variable_nm),&quot; +\n            &quot;        nus.script_variable_desc   AS saspdesc,&quot; +\n            &quot;        script_note_str            AS saspnote,&quot; +\n            &quot;        (SELECT COUNT(sf.cat_id)&quot; +\n            &quot;           FROM sdde_facts sf&quot; +\n            &quot;          WHERE gf.fact_id = sf.fact_id&quot; +\n            &quot;        )                          AS saslinkedcvarcount&quot; +\n            &quot;   FROM gref_facts            gf&quot; +\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot; +\n            &quot;  ORDER BY upper(gf.script_variable_nm) ASC,&quot; +\n            &quot;           upper(nus.new_script_variable_nm) ASC&quot;,\n    resultSetMapping = &quot;SasVariableMapping&quot;\n)\n\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\n    query = &quot;SELECT count(gf.fact_id)&quot; +\n            &quot;   FROM gref_facts            gf&quot; +\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;\n)\n\n@SqlResultSetMapping(name = &quot;SasVariableMapping&quot;,\n    classes=@ConstructorResult(\n        targetClass = com.epsilon.metadater.domain.SasVariable.class,\n        columns = {\n            @ColumnResult(name = &quot;factId&quot;, type = Long.class),\n            @ColumnResult(name = &quot;sasName&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\n            @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\n            @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\n            @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\n            @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\n        }\n))\n\n@Table( ... )\npublic class GrefFacts implements Serializable { ... }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface GrefFactsRepository extends JpaRepository&lt;GrefFacts, Long&gt;, JpaSpecificationExecutor&lt;GrefFacts&gt;\n{\n    @Query(nativeQuery = true)\n    List&lt;SasVariable&gt; findAllSasVariables();\n    \n    @Query(nativeQuery = true)\n    Page&lt;SasVariable&gt; findAllSasVariables(Pageable pageable);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SasVariablesApiDelegateImpl implements SasVariablesApiDelegate\n{\n    private final GrefFactsRepository grefFactsRepository;\n    public ResponseEntity&lt;List&lt;SasVariable&gt;&gt; getSasVariables(Pageable pageable, Boolean unpaged)\n    {\n        Page&lt;SasVariable&gt; page = grefFactsRepository.findAllSasVariables(pageable); // &lt;-- Exception thrown here\n    }\n}\n</code></pre>\n<p>and this is the Exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0; nested exception is java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n        at com.sun.proxy.$Proxy277.findAllSasVariables(Unknown Source)\n        at com.epsilon.metadater.web.api.SasVariablesApiDelegateImpl.getSasVariables(SasVariablesApiDelegateImpl.java:68)\n        at com.epsilon.metadater.web.api.SasVariablesApi.getSasVariables(SasVariablesApi.java:51)\n        at com.epsilon.metadater.web.api.SasVariablesApi$$FastClassBySpringCGLIB$$923ad51a.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n        at com.epsilon.metadater.web.api.SasVariablesApiController$$EnhancerBySpringCGLIB$$fa4a950a.getSasVariables(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at com.epsilon.metadater.security.jwt.JWTFilter.doFilter(JWTFilter.java:37)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:97)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:908)\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:1003)\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:114)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:190)\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:43)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createCountQuery(AbstractJpaQuery.java:253)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:183)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:178)\n        at org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:62)\n        at org.springframework.data.repository.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:51)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:177)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n        ... 133 common frames omitted\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n        at org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:965)\n        at org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:924)\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:902)\n        ... 170 common frames omitted\n</code></pre>\n<p>Update I initallialy had these versions:</p>\n<pre><code>&lt;java.version&gt;11&lt;/java.version&gt;\n&lt;spring-boot.version&gt;2.4.7&lt;/spring-boot.version&gt;\n&lt;hibernate.version&gt;5.4.32.Final&lt;/hibernate.version&gt;\n</code></pre>\n<p>and have since updated to the latest versions and it still happens:</p>\n<pre><code>&lt;spring-boot.version&gt;2.6.2&lt;/spring-boot.version&gt;\n&lt;hibernate.version&gt;5.6.2.Final&lt;/hibernate.version&gt;\n</code></pre>\n<p>Here is an example of a native query that works (does NOT throw an Exception) using the same Entity class. However it only returns a few rows, much less than a page:</p>\n<pre><code>@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas&quot;,\n        query = &quot;SELECT DISTINCT\\n&quot;+\n        &quot;    ( nvl(c.qvroot, ' ')\\n&quot;+\n        &quot;      || nvl(w.qvsufx, ' ') ) AS cvarName,\\n&quot;+\n        &quot;    sf.tk_bit               AS tkBit\\n&quot;+\n        &quot;FROM gref_facts gf,\\n&quot;+\n        &quot;     sdde_facts sf,\\n&quot;+\n        &quot;     sdd_c      c,\\n&quot;+\n        &quot;     sdd_w      w\\n&quot;+\n        &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\n        &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\n        &quot;  AND sf.cat_id = c.catid\\n&quot;+\n        &quot;  AND c.catid = w.catid\\n&quot;+\n        &quot;  AND sf.tk_word = w.tkword\\n&quot;+\n        &quot;ORDER BY cvarname ASC, tkbit ASC&quot;,\n    resultSetMapping = &quot;CvarLinkMapping&quot;\n)\n\n@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas.count&quot;,\n    query = &quot;SELECT count(*)\\n&quot;+\n            &quot;  FROM (\\n&quot;+\n            &quot;SELECT DISTINCT\\n&quot;+\n            &quot;    (c.qvroot || w.qvsufx) AS cvarName,\\n&quot;+\n            &quot;    sf.tk_bit              AS tkBit\\n&quot;+\n            &quot;FROM gref_facts gf,\\n&quot;+\n            &quot;     sdde_facts sf,\\n&quot;+\n            &quot;     sdd_c      c,\\n&quot;+\n            &quot;     sdd_w      w\\n&quot;+\n            &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\n            &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\n            &quot;  AND sf.cat_id = c.catid\\n&quot;+\n            &quot;  AND c.catid = w.catid\\n&quot;+\n            &quot;  AND sf.tk_word = w.tkword\\n&quot;+\n            &quot;)&quot;\n)\n\n@SqlResultSetMapping(name = &quot;CvarLinkMapping&quot;,\n    classes=@ConstructorResult(\n        targetClass = com.epsilon.metadater.domain.CvarLink.class,\n        columns = {\n            @ColumnResult(name = &quot;cvarName&quot;,type = String.class),\n            @ColumnResult(name = &quot;tkBit&quot;,type = Integer.class),\n        }\n))\n\n</code></pre>\n<pre><code>    @Query(nativeQuery = true)\n    List&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName);\n\n    @Query(nativeQuery = true)\n    Page&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName,\n                                      Pageable pageable);\n</code></pre>\n<pre><code>public class CvarLinksApiDelegateImpl implements CvarLinksApiDelegate\n{\n    private final GrefFactsRepository grefFactsRepository;\n\n    public ResponseEntity&lt;List&lt;CvarLink&gt;&gt; getCvarLinks(String sasname,\n                                                       Pageable pageable,\n                                                       Boolean unpaged)\n    {\n            Page&lt;CvarLink&gt; page = grefFactsRepository.findCvarLinksBySas(sasname, pageable);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","logging","software-distribution"],"answers":[{"tags":[],"owner":{"account_id":9608825,"reputation":754,"user_id":7133935,"accept_rate":100,"display_name":"Logan Kitchen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657693401,"creation_date":1657693401,"answer_id":72961771,"question_id":72961770,"body_markdown":"The file is referenced relatively from the location of the .bat file in the distribution. For example, my .bat file is in the bin folder of my distribution. I added the logging.properties file to the distribution in the bin folder so I could reference it correctly.\r\n\r\nWith logging.properties in the bin directory I could simply change the reference to:\r\n\r\n    LogManager.getLogManager().readConfiguration(\r\n    new FileInputStream(&quot;./logging.properties&quot;));\r\n\r\nand it references correctly.\r\n","title":"How do I reference a Java logging.properties file path in a distributed Gradle project?","body":"<p>The file is referenced relatively from the location of the .bat file in the distribution. For example, my .bat file is in the bin folder of my distribution. I added the logging.properties file to the distribution in the bin folder so I could reference it correctly.</p>\n<p>With logging.properties in the bin directory I could simply change the reference to:</p>\n<pre><code>LogManager.getLogManager().readConfiguration(\nnew FileInputStream(&quot;./logging.properties&quot;));\n</code></pre>\n<p>and it references correctly.</p>\n"}],"owner":{"account_id":9608825,"reputation":754,"user_id":7133935,"accept_rate":100,"display_name":"Logan Kitchen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657693401,"creation_date":1657693401,"question_id":72961770,"body_markdown":"I have a Java Gradle application that logs correctly during development, but does not work correctly when it is distributed.\r\n\r\nWhen I run the program in my IDE (IntelliJ if that is relevant) the logging is formatted correctly, however, when I run &quot;./gradlew distZip&quot; and use the distributed software on our production server it does not create a log file and looses the logging.properties configuration it should have.\r\n\r\nThe logger pulls input from my logging.properties into LogManager, creates a handler with a simple formatter (configured in logging.properties), and adds the handler to the logger:\r\n\r\n    LogManager.getLogManager().readConfiguration(\r\n        new FileInputStream(&quot;./src/main/java/logging/logging.properties&quot;));\r\n    FileHandler handler = new FileHandler(&quot;myLog.log&quot;, FILE_SIZE, 4, true);\r\n    handler.setFormatter(new SimpleFormatter());\r\n    logger.addHandler(handler);\r\n\r\nWhen I run this in IntelliJ I get a set of output files: myLog.log.x and log entries in those files match the properties I created:\r\n\r\n    [2022-07-12 09:26:32] [INFO] APPLICATION: Setting up application \r\n    [2022-07-12 09:26:32] [INFO] Starting server on port: 8080\r\n    [2022-07-12 09:26:32] [INFO] Updating data from API \r\n    ...\r\n\r\nWhen I run the bat file from the distribution it logs to the terminal and gives an IO error:\r\n\r\n    Jul 12, 2022 12:53:09 PM logging.ApplicationLogger getLogger\r\n    SEVERE: .\\src\\main\\java\\logging\\logging.properties (The system cannot find the path \r\n    specified)\r\n\r\nI think this makes sense, since the distributed bat file doesn&#39;t know about the development file structure. What I don&#39;t know, is how to compensate for whatever &quot;./gradlew distZip&quot; does to the file structure. I tried adding the logging.properties file to the distribution as an additional file, but that didn&#39;t work. \r\n\r\nHow do I reference my logging.properties file so that it is found by my distribution?\r\n\r\n ","title":"How do I reference a Java logging.properties file path in a distributed Gradle project?","body":"<p>I have a Java Gradle application that logs correctly during development, but does not work correctly when it is distributed.</p>\n<p>When I run the program in my IDE (IntelliJ if that is relevant) the logging is formatted correctly, however, when I run &quot;./gradlew distZip&quot; and use the distributed software on our production server it does not create a log file and looses the logging.properties configuration it should have.</p>\n<p>The logger pulls input from my logging.properties into LogManager, creates a handler with a simple formatter (configured in logging.properties), and adds the handler to the logger:</p>\n<pre><code>LogManager.getLogManager().readConfiguration(\n    new FileInputStream(&quot;./src/main/java/logging/logging.properties&quot;));\nFileHandler handler = new FileHandler(&quot;myLog.log&quot;, FILE_SIZE, 4, true);\nhandler.setFormatter(new SimpleFormatter());\nlogger.addHandler(handler);\n</code></pre>\n<p>When I run this in IntelliJ I get a set of output files: myLog.log.x and log entries in those files match the properties I created:</p>\n<pre><code>[2022-07-12 09:26:32] [INFO] APPLICATION: Setting up application \n[2022-07-12 09:26:32] [INFO] Starting server on port: 8080\n[2022-07-12 09:26:32] [INFO] Updating data from API \n...\n</code></pre>\n<p>When I run the bat file from the distribution it logs to the terminal and gives an IO error:</p>\n<pre><code>Jul 12, 2022 12:53:09 PM logging.ApplicationLogger getLogger\nSEVERE: .\\src\\main\\java\\logging\\logging.properties (The system cannot find the path \nspecified)\n</code></pre>\n<p>I think this makes sense, since the distributed bat file doesn't know about the development file structure. What I don't know, is how to compensate for whatever &quot;./gradlew distZip&quot; does to the file structure. I tried adding the logging.properties file to the distribution as an additional file, but that didn't work.</p>\n<p>How do I reference my logging.properties file so that it is found by my distribution?</p>\n"},{"tags":["java","maven","extract"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1657617869,"post_id":72949748,"comment_id":128847676,"body_markdown":"First of all, why is it a problem? Very little space or bandwidth? Second, there are corner cases where you cannot decide programmatically which classes are needed - only way to be sure you have what you need is through heavy testing.","body":"First of all, why is it a problem? Very little space or bandwidth? Second, there are corner cases where you cannot decide programmatically which classes are needed - only way to be sure you have what you need is through heavy testing."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657620485,"post_id":72949748,"comment_id":128848615,"body_markdown":"I would also ask what is really the problem here? Also why using `mvn package assembly:single.` to create a jar I suppose using jar-with-dependencies. The other important part is: Does not exist a more recent version of math lib because this one is of 2016?","body":"I would also ask what is really the problem here? Also why using <code>mvn package assembly:single.</code> to create a jar I suppose using jar-with-dependencies. The other important part is: Does not exist a more recent version of math lib because this one is of 2016?"},{"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"score":0,"creation_date":1657694445,"post_id":72949748,"comment_id":128868372,"body_markdown":"Comment for Thorbj&#248;rn : Thanks for your comment. Yes, it is for space and speed reasons and because I need to create a lot of small libraries that include this commons.math3 library, for simulation.\n\nIn my code, I specify which class I need. However, as you suggested, I prefer to test my approach before I continue to develop other small libraries for simulation.\n\nOn the Apache site, the most recent commons.math3 library is version 3.6.1","body":"Comment for Thorbj&#248;rn : Thanks for your comment. Yes, it is for space and speed reasons and because I need to create a lot of small libraries that include this commons.math3 library, for simulation.  In my code, I specify which class I need. However, as you suggested, I prefer to test my approach before I continue to develop other small libraries for simulation.  On the Apache site, the most recent commons.math3 library is version 3.6.1"},{"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"score":0,"creation_date":1657694956,"post_id":72949748,"comment_id":128868512,"body_markdown":"Comment for khmarbaise: Thanks for your comment. I used mvn package assembly :single command because I don&#39;t know what other command to use. I don&#39;t know how to make the link between the assembly and the output of the package execution command. Running this command gives me the expected result. I&#39;m new to using Maven. :- ))","body":"Comment for khmarbaise: Thanks for your comment. I used mvn package assembly :single command because I don&#39;t know what other command to use. I don&#39;t know how to make the link between the assembly and the output of the package execution command. Running this command gives me the expected result. I&#39;m new to using Maven. :- ))"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657717322,"post_id":72949748,"comment_id":128876352,"body_markdown":"You can tag a person using `@user` with tab-completion.  The way Java works, large jar files only take space on disk, only classes needed are loaded into memory.  So, unless you have an actual problem with this, I would suggest saving it for later and solve other stuff first.","body":"You can tag a person using <code>@user</code> with tab-completion.  The way Java works, large jar files only take space on disk, only classes needed are loaded into memory.  So, unless you have an actual problem with this, I would suggest saving it for later and solve other stuff first."},{"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"score":0,"creation_date":1657864058,"post_id":72949748,"comment_id":128915521,"body_markdown":"Comment for Thorbj&#248;rn : Thanks for your comment. You said that java load into memory only needed class. You give me an answer that meets my needs. I&#39;m happy about that, so I&#39;ll stop looking for the way to extract a part of the commons.math3 library. In you comment, you wrote that it could be possible to use a tag @user. My question: In which file should this tag be placed and where?","body":"Comment for Thorbj&#248;rn : Thanks for your comment. You said that java load into memory only needed class. You give me an answer that meets my needs. I&#39;m happy about that, so I&#39;ll stop looking for the way to extract a part of the commons.math3 library. In you comment, you wrote that it could be possible to use a tag @user. My question: In which file should this tag be placed and where?"}],"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657693141,"creation_date":1657616949,"question_id":72949748,"body_markdown":"In my pom.xml file, I declare a dependency with the apache library : commons.math3-3.6.1.jar (21 subdirectories. The size of this library is about 2162Ko). \r\nFrom my point of view, this library is heavy for my use. I would like to extract only\r\nthe part I need: org.apache.commons.math3.ode.\r\nI&#39;ve read a lot of explanations, but I haven&#39;t found anything that would help me.\r\nDoes anyone have an idea?\r\nThank you for your help.\r\nRLB\r\n\r\nFor information: currently, I create the .jar file with the command :\r\nmvn package assembly:single. \r\nThis jar file has a size of 2.2 MB, which includes the commons.math3 library and another one.\r\nWith the command :\r\nmvn package, \r\nthe generated jar file is 8Kb in size. It includes only my own code.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.rlb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;FlyingBall&lt;/artifactId&gt;\r\n    &lt;version&gt; 0 &lt;/version&gt;\r\n    &lt;name&gt;FlyingBallCode&lt;/name&gt;\r\n    &lt;description&gt;My description &lt;/description&gt;\r\n\r\n    &lt;properties&gt;  \r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n       &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.siani.javafmi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fmu-framework&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n\t\t  &lt;plugins&gt;\r\n\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;!-- RLB : Exclude the class which contain the main function, before jar creation. --&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;siani/javafmi/FlyingBallMain.java&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.22.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.7.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n      \t      &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"How to extract a sub-part of a library with maven?","body":"<p>In my pom.xml file, I declare a dependency with the apache library : commons.math3-3.6.1.jar (21 subdirectories. The size of this library is about 2162Ko).\nFrom my point of view, this library is heavy for my use. I would like to extract only\nthe part I need: org.apache.commons.math3.ode.\nI've read a lot of explanations, but I haven't found anything that would help me.\nDoes anyone have an idea?\nThank you for your help.\nRLB</p>\n<p>For information: currently, I create the .jar file with the command :\nmvn package assembly:single.\nThis jar file has a size of 2.2 MB, which includes the commons.math3 library and another one.\nWith the command :\nmvn package,\nthe generated jar file is 8Kb in size. It includes only my own code.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;org.rlb&lt;/groupId&gt;\n&lt;artifactId&gt;FlyingBall&lt;/artifactId&gt;\n&lt;version&gt; 0 &lt;/version&gt;\n&lt;name&gt;FlyingBallCode&lt;/name&gt;\n&lt;description&gt;My description &lt;/description&gt;\n\n&lt;properties&gt;  \n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n   &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n   &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.siani.javafmi&lt;/groupId&gt;\n        &lt;artifactId&gt;fmu-framework&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;!-- RLB : Exclude the class which contain the main function, before jar creation. --&gt;\n                    &lt;exclude&gt;siani/javafmi/FlyingBallMain.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1534219183,"post_id":51833423,"comment_id":90620881,"body_markdown":"Basically, if I understand your problem, you need to strip off the &quot;source&quot; folder name from the desired zip entry name.  Something like [this example](https://stackoverflow.com/questions/28732118/java-zip-file-with-non-static-filename/28732297#28732297) and [this example](https://stackoverflow.com/questions/16381281/creating-folders-in-a-zip-folder-in-java/16381391#16381391) and [this example](https://stackoverflow.com/questions/30183634/how-to-zip-files-and-folders-in-java/30184644#30184644)","body":"Basically, if I understand your problem, you need to strip off the &quot;source&quot; folder name from the desired zip entry name.  Something like <a href=\"https://stackoverflow.com/questions/28732118/java-zip-file-with-non-static-filename/28732297#28732297\">this example</a> and <a href=\"https://stackoverflow.com/questions/16381281/creating-folders-in-a-zip-folder-in-java/16381391#16381391\">this example</a> and <a href=\"https://stackoverflow.com/questions/30183634/how-to-zip-files-and-folders-in-java/30184644#30184644\">this example</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1534220149,"post_id":51833423,"comment_id":90621107,"body_markdown":"Try this: The current folder is &quot;testing&quot; and create a sub-folder called &quot;testfolder&quot;. The testfolder has multiple files and one of them is &quot;user-guide.pdf&quot;. The program should be able to create a ZIP folder with only one entry user-guide.pdf - the output zip file &quot;MyZip&quot; will have just one file user-guide.pdf. The output zip file is created in a folder of your choice - testing or testfolder. If you are able to do that, you can apply the same logic to the application you are trying. Also, one can use `Files.walkFileTree` and `FileVisitor` APIs to walk the file tree and zip the contents.","body":"Try this: The current folder is &quot;testing&quot; and create a sub-folder called &quot;testfolder&quot;. The testfolder has multiple files and one of them is &quot;user-guide.pdf&quot;. The program should be able to create a ZIP folder with only one entry user-guide.pdf - the output zip file &quot;MyZip&quot; will have just one file user-guide.pdf. The output zip file is created in a folder of your choice - testing or testfolder. If you are able to do that, you can apply the same logic to the application you are trying. Also, one can use <code>Files.walkFileTree</code> and <code>FileVisitor</code> APIs to walk the file tree and zip the contents."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1534219728,"creation_date":1534219728,"answer_id":51833575,"question_id":51833423,"body_markdown":"So, if I understand correctly, what you want is, instead of the target folder appearing in the Zip file, all the files within it should start at &quot;/&quot; in the Zip file.\r\n\r\nFor example, if you had\r\n\r\n    FolderToZip/\r\n        TestFile1.txt\r\n        TestFile2.txt\r\n        TestFile3.txt\r\n        SomeSubFolder/\r\n            TestFile4.txt\r\n            TestFile5.txt\r\n            TestFile6.txt\r\n\r\n\r\nThe contents of the Zip file should contain\r\n\r\n    TestFile1.txt\r\n    TestFile2.txt\r\n    TestFile3.txt\r\n    SomeSubFolder/\r\n        TestFile4.txt\r\n        TestFile5.txt\r\n        TestFile6.txt\r\n\r\nTo do this, you need to keep a reference to the &quot;start&quot; folder and strip it&#39;s path off the files you are adding, to create the `ZipEntry`.\r\n\r\nFor simplicity, I changed your code to support `File` instead of `String`, it just makes the whole thing a lot less messy.\r\n\r\nBut the magic appears here...\r\n\r\n    FileInputStream in = new FileInputStream(srcFile);\r\n    String name = srcFile.getPath();\r\n    name = name.replace(rootPath.getPath(), &quot;&quot;);\r\n    System.out.println(&quot;Zip &quot; + srcFile + &quot;\\n to &quot; + name);\r\n    zip.putNextEntry(new ZipEntry(name));\r\n\r\n`rootPath` is the initial folder (`C:\\\\Drive\\\\temp\\\\testZip&quot;` in your example), `srcFile` is the file to be added.\r\n\r\nRunnable example...\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n\r\n    public class ZipFolder {\r\n\r\n        public ZipFolder() {\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            ZipFolder obj = new ZipFolder();\r\n            obj.zipFolder(new File(&quot;/Users/shanewhitehead/exports&quot;),\r\n                    new File(&quot;FolderZiper.zip&quot;));\r\n        }\r\n\r\n        public void zipFolder(File srcFolder, File destZipFile) throws Exception {\r\n            try (FileOutputStream fileWriter = new FileOutputStream(destZipFile);\r\n                    ZipOutputStream zip = new ZipOutputStream(fileWriter)) {\r\n\r\n                addFolderToZip(srcFolder, srcFolder, zip);\r\n            }\r\n        }\r\n\r\n        private void addFileToZip(File rootPath, File srcFile, ZipOutputStream zip) throws Exception {\r\n\r\n            if (srcFile.isDirectory()) {\r\n                addFolderToZip(rootPath, srcFile, zip);\r\n            } else {\r\n                byte[] buf = new byte[1024];\r\n                int len;\r\n                try (FileInputStream in = new FileInputStream(srcFile)) {\r\n                    String name = srcFile.getPath();\r\n                    name = name.replace(rootPath.getPath(), &quot;&quot;);\r\n                    System.out.println(&quot;Zip &quot; + srcFile + &quot;\\n to &quot; + name);\r\n                    zip.putNextEntry(new ZipEntry(name));\r\n                    while ((len = in.read(buf)) &gt; 0) {\r\n                        zip.write(buf, 0, len);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private void addFolderToZip(File rootPath, File srcFolder, ZipOutputStream zip) throws Exception {\r\n            for (File fileName : srcFolder.listFiles()) {\r\n                addFileToZip(rootPath, fileName, zip);\r\n            }\r\n        }\r\n    }\r\n\r\nI also cleaned up your resource management, using [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","title":"How to zip the content of a directory in Java","body":"<p>So, if I understand correctly, what you want is, instead of the target folder appearing in the Zip file, all the files within it should start at \"/\" in the Zip file.</p>\n\n<p>For example, if you had</p>\n\n<pre><code>FolderToZip/\n    TestFile1.txt\n    TestFile2.txt\n    TestFile3.txt\n    SomeSubFolder/\n        TestFile4.txt\n        TestFile5.txt\n        TestFile6.txt\n</code></pre>\n\n<p>The contents of the Zip file should contain</p>\n\n<pre><code>TestFile1.txt\nTestFile2.txt\nTestFile3.txt\nSomeSubFolder/\n    TestFile4.txt\n    TestFile5.txt\n    TestFile6.txt\n</code></pre>\n\n<p>To do this, you need to keep a reference to the \"start\" folder and strip it's path off the files you are adding, to create the <code>ZipEntry</code>.</p>\n\n<p>For simplicity, I changed your code to support <code>File</code> instead of <code>String</code>, it just makes the whole thing a lot less messy.</p>\n\n<p>But the magic appears here...</p>\n\n<pre><code>FileInputStream in = new FileInputStream(srcFile);\nString name = srcFile.getPath();\nname = name.replace(rootPath.getPath(), \"\");\nSystem.out.println(\"Zip \" + srcFile + \"\\n to \" + name);\nzip.putNextEntry(new ZipEntry(name));\n</code></pre>\n\n<p><code>rootPath</code> is the initial folder (<code>C:\\\\Drive\\\\temp\\\\testZip\"</code> in your example), <code>srcFile</code> is the file to be added.</p>\n\n<p>Runnable example...</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\n\npublic class ZipFolder {\n\n    public ZipFolder() {\n    }\n\n    public static void main(String[] args) throws Exception {\n        ZipFolder obj = new ZipFolder();\n        obj.zipFolder(new File(\"/Users/shanewhitehead/exports\"),\n                new File(\"FolderZiper.zip\"));\n    }\n\n    public void zipFolder(File srcFolder, File destZipFile) throws Exception {\n        try (FileOutputStream fileWriter = new FileOutputStream(destZipFile);\n                ZipOutputStream zip = new ZipOutputStream(fileWriter)) {\n\n            addFolderToZip(srcFolder, srcFolder, zip);\n        }\n    }\n\n    private void addFileToZip(File rootPath, File srcFile, ZipOutputStream zip) throws Exception {\n\n        if (srcFile.isDirectory()) {\n            addFolderToZip(rootPath, srcFile, zip);\n        } else {\n            byte[] buf = new byte[1024];\n            int len;\n            try (FileInputStream in = new FileInputStream(srcFile)) {\n                String name = srcFile.getPath();\n                name = name.replace(rootPath.getPath(), \"\");\n                System.out.println(\"Zip \" + srcFile + \"\\n to \" + name);\n                zip.putNextEntry(new ZipEntry(name));\n                while ((len = in.read(buf)) &gt; 0) {\n                    zip.write(buf, 0, len);\n                }\n            }\n        }\n    }\n\n    private void addFolderToZip(File rootPath, File srcFolder, ZipOutputStream zip) throws Exception {\n        for (File fileName : srcFolder.listFiles()) {\n            addFileToZip(rootPath, fileName, zip);\n        }\n    }\n}\n</code></pre>\n\n<p>I also cleaned up your resource management, using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a></p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595192625,"creation_date":1595192625,"answer_id":62985640,"question_id":51833423,"body_markdown":"What about use this lib [Zeroturnaround Zip library][1]  \r\nThen you will zip your folder just a one line:\r\n\r\n    ZipUtil.pack(new File(&quot;D:\\\\sourceFolder\\\\&quot;), new File(&quot;D:\\\\generatedZipFile.zip&quot;));\r\n\r\n\r\n  [1]: https://github.com/zeroturnaround/zt-zip","title":"How to zip the content of a directory in Java","body":"<p>What about use this lib <a href=\"https://github.com/zeroturnaround/zt-zip\" rel=\"nofollow noreferrer\">Zeroturnaround Zip library</a><br />\nThen you will zip your folder just a one line:</p>\n<pre><code>ZipUtil.pack(new File(&quot;D:\\\\sourceFolder\\\\&quot;), new File(&quot;D:\\\\generatedZipFile.zip&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14369892,"reputation":312,"user_id":10379931,"display_name":"Nur Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657693061,"creation_date":1657693061,"answer_id":72961720,"question_id":51833423,"body_markdown":"You can call like this.\r\n\r\n    zipFoldersAndFiles(Paths.get(sourcesPath), Paths.get(exportLocationPath));\r\n\r\n\r\nDeclare the method.\r\n\r\n    private void zipFoldersAndFiles(Path sourcesFolderPath, Path zipPath){\r\n\r\n        new Thread(() -&gt; {\r\n\r\n            try {\r\n                ZipOutputStream zipOutputStream = new ZipOutputStream(new FileOutputStream(zipPath.toFile()));\r\n\r\n                Files.walkFileTree(sourcesFolderPath, new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n                    public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n\r\n                        zipOutputStream.putNextEntry(new ZipEntry(sourcesFolderPath.relativize(file).toString()));\r\n                        zipOutputStream.setLevel(ZipOutputStream.STORED);\r\n                        Files.copy(file, zipOutputStream);\r\n                        zipOutputStream.closeEntry();\r\n                        return FileVisitResult.CONTINUE;\r\n                    }\r\n                });\r\n\r\n                zipOutputStream.close();\r\n            }\r\n            catch (Exception e){\r\n                System.out.println(&quot;error&quot;);\r\n            }\r\n        }).start();\r\n    }","title":"How to zip the content of a directory in Java","body":"<p>You can call like this.</p>\n<pre><code>zipFoldersAndFiles(Paths.get(sourcesPath), Paths.get(exportLocationPath));\n</code></pre>\n<p>Declare the method.</p>\n<pre><code>private void zipFoldersAndFiles(Path sourcesFolderPath, Path zipPath){\n\n    new Thread(() -&gt; {\n\n        try {\n            ZipOutputStream zipOutputStream = new ZipOutputStream(new FileOutputStream(zipPath.toFile()));\n\n            Files.walkFileTree(sourcesFolderPath, new SimpleFileVisitor&lt;Path&gt;() {\n\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n\n                    zipOutputStream.putNextEntry(new ZipEntry(sourcesFolderPath.relativize(file).toString()));\n                    zipOutputStream.setLevel(ZipOutputStream.STORED);\n                    Files.copy(file, zipOutputStream);\n                    zipOutputStream.closeEntry();\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n\n            zipOutputStream.close();\n        }\n        catch (Exception e){\n            System.out.println(&quot;error&quot;);\n        }\n    }).start();\n}\n</code></pre>\n"}],"owner":{"account_id":6481132,"reputation":83,"user_id":5018073,"accept_rate":75,"display_name":"Vivek Vishal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9380,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51833575,"answer_count":3,"score":6,"last_activity_date":1657693061,"creation_date":1534218324,"question_id":51833423,"body_markdown":"I am using below java, but when it zips, it creates a directory and zips all contents inside that directory.\r\nFor ex. if I have a folder named &#39;Directory&#39; and I want to zip the content to a Zipped file, inside the zipped file it creates a folder testZip and have files inside that.\r\nI need all files inside the zipped file, not inside a parent directory.\r\nPlease help. or suggest if there is any other way.\r\n\r\n    package folderZip;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    public class ZipFolder {\r\n        public ZipFolder() {  \r\n        }  \r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ZipFolder obj = new ZipFolder();\r\n            obj.zipFolder(&quot;C:\\\\Drive\\\\temp\\\\testZip&quot;,&quot;C:\\\\Drive\\\\temp\\\\FolderZiper.zip&quot;);       \r\n        }\r\n    \r\n    \r\n         public void zipFolder(String srcFolder,\r\n                                     String destZipFile) throws Exception {\r\n            ZipOutputStream zip = null;\r\n            FileOutputStream fileWriter = null;\r\n    \r\n            fileWriter = new FileOutputStream(destZipFile);\r\n            zip = new ZipOutputStream(fileWriter);\r\n    \r\n            addFolderToZip(&quot;&quot;, srcFolder, zip);\r\n            \r\n            zip.flush();\r\n            zip.close();\r\n    \r\n        }\r\n    \r\n        private void addFileToZip(String path, String srcFile,\r\n                                         ZipOutputStream zip) throws Exception {\r\n    \r\n            File folder = new File(srcFile);\r\n            if (folder.isDirectory()) {\r\n                addFolderToZip(path, srcFile, zip);\r\n            } else {\r\n                byte[] buf = new byte[1024];\r\n                int len;\r\n                FileInputStream in = new FileInputStream(srcFile);\r\n                zip.putNextEntry(new ZipEntry(path + &quot;/&quot; + folder.getName()));\r\n                while ((len = in.read(buf)) &gt; 0) {\r\n                    zip.write(buf, 0, len);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void addFolderToZip(String path, String srcFolder,\r\n                                           ZipOutputStream zip) throws Exception {\r\n            File folder = new File(srcFolder);\r\n    \r\n            for (String fileName : folder.list()) {\r\n                if (path.equals(&quot;&quot;)) {\r\n                    addFileToZip(folder.getName(), srcFolder + &quot;/&quot; + fileName,\r\n                                 zip);\r\n                } else {\r\n                    addFileToZip(path + &quot;/&quot; + folder.getName(),\r\n                                 srcFolder + &quot;/&quot; + fileName, zip);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to zip the content of a directory in Java","body":"<p>I am using below java, but when it zips, it creates a directory and zips all contents inside that directory.\nFor ex. if I have a folder named 'Directory' and I want to zip the content to a Zipped file, inside the zipped file it creates a folder testZip and have files inside that.\nI need all files inside the zipped file, not inside a parent directory.\nPlease help. or suggest if there is any other way.</p>\n\n<pre><code>package folderZip;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipFolder {\n    public ZipFolder() {  \n    }  \n\n\n    public static void main(String[] args) throws Exception {\n        ZipFolder obj = new ZipFolder();\n        obj.zipFolder(\"C:\\\\Drive\\\\temp\\\\testZip\",\"C:\\\\Drive\\\\temp\\\\FolderZiper.zip\");       \n    }\n\n\n     public void zipFolder(String srcFolder,\n                                 String destZipFile) throws Exception {\n        ZipOutputStream zip = null;\n        FileOutputStream fileWriter = null;\n\n        fileWriter = new FileOutputStream(destZipFile);\n        zip = new ZipOutputStream(fileWriter);\n\n        addFolderToZip(\"\", srcFolder, zip);\n\n        zip.flush();\n        zip.close();\n\n    }\n\n    private void addFileToZip(String path, String srcFile,\n                                     ZipOutputStream zip) throws Exception {\n\n        File folder = new File(srcFile);\n        if (folder.isDirectory()) {\n            addFolderToZip(path, srcFile, zip);\n        } else {\n            byte[] buf = new byte[1024];\n            int len;\n            FileInputStream in = new FileInputStream(srcFile);\n            zip.putNextEntry(new ZipEntry(path + \"/\" + folder.getName()));\n            while ((len = in.read(buf)) &gt; 0) {\n                zip.write(buf, 0, len);\n            }\n        }\n    }\n\n    private void addFolderToZip(String path, String srcFolder,\n                                       ZipOutputStream zip) throws Exception {\n        File folder = new File(srcFolder);\n\n        for (String fileName : folder.list()) {\n            if (path.equals(\"\")) {\n                addFileToZip(folder.getName(), srcFolder + \"/\" + fileName,\n                             zip);\n            } else {\n                addFileToZip(path + \"/\" + folder.getName(),\n                             srcFolder + \"/\" + fileName, zip);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","java-8","java-time"],"comments":[{"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"score":0,"creation_date":1657691545,"post_id":72960914,"comment_id":128867715,"body_markdown":"Why? because I am taking the input string through google voice input. so it needs some explicit characters.","body":"Why? because I am taking the input string through google voice input. so it needs some explicit characters."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657697614,"post_id":72960914,"comment_id":128869330,"body_markdown":"I suggest you educate the publisher of your data about the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) standard for date-time formats. These are used by default in the *java.time* classes.","body":"I suggest you educate the publisher of your data about the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard for date-time formats. These are used by default in the <i>java.time</i> classes."}],"answers":[{"tags":[],"owner":{"account_id":7851443,"reputation":24,"user_id":5934813,"display_name":"Vuthisak Khy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657688502,"creation_date":1657688502,"answer_id":72961160,"question_id":72960914,"body_markdown":"You passed 11:2 AM but the format is hh m A.\r\nThe format should be hh:m A but if you wanted to use format(hh m A) you should pass 11 2 AM. And LocalDate you should pass the date too. Check my answer below:\r\n\r\n```\r\nString time = &quot;2022-07-13 11:2 AM&quot;;\r\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\r\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\r\nSystem.out.println(&quot;Init:&quot; + time);\r\nif (time.contains(&quot;AM&quot;)) {\r\n   DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:m a&quot;,\r\n                    Locale.ENGLISH);\r\n            // a second one to be used in order to format the desired result\r\n            DateTimeFormatter dtfFormat1 = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\r\n            LocalDateTime localDate1 = LocalDateTime.parse(time, dtfParse1);\r\n            System.out.println(localDate1);\r\n            //mDatebtn.setText(day + &quot;-&quot; + month + &quot;-&quot; + year);\r\n            System.out.println(localDate1.format(dtfFormat1));\r\n            //finaltime = localDate1.format(dtfFormat1);\r\n        }\r\n```","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>You passed 11:2 AM but the format is hh m A.\nThe format should be hh:m A but if you wanted to use format(hh m A) you should pass 11 2 AM. And LocalDate you should pass the date too. Check my answer below:</p>\n<pre><code>String time = &quot;2022-07-13 11:2 AM&quot;;\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\nSystem.out.println(&quot;Init:&quot; + time);\nif (time.contains(&quot;AM&quot;)) {\n   DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:m a&quot;,\n                    Locale.ENGLISH);\n            // a second one to be used in order to format the desired result\n            DateTimeFormatter dtfFormat1 = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\n            LocalDateTime localDate1 = LocalDateTime.parse(time, dtfParse1);\n            System.out.println(localDate1);\n            //mDatebtn.setText(day + &quot;-&quot; + month + &quot;-&quot; + year);\n            System.out.println(localDate1.format(dtfFormat1));\n            //finaltime = localDate1.format(dtfFormat1);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19687014,"reputation":51,"user_id":14412756,"display_name":"Ritu Nambath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657690734,"creation_date":1657690734,"answer_id":72961400,"question_id":72960914,"body_markdown":"To Convert in hh:mm:a format \r\nany of the form will work for 11:22 AM or 11:2 AM\r\n\r\n \r\n\r\n     val time = &quot;11:22 AM&quot;\r\n            //  or\r\n            val time2 = &quot;11:2 AM&quot;\r\n            val parser = SimpleDateFormat(&quot;HH:mm a&quot;)\r\n            val date = parser.parse(time2) as Date\r\n            var format=parser.format(date)","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>To Convert in hh:mm:a format\nany of the form will work for 11:22 AM or 11:2 AM</p>\n<pre><code> val time = &quot;11:22 AM&quot;\n        //  or\n        val time2 = &quot;11:2 AM&quot;\n        val parser = SimpleDateFormat(&quot;HH:mm a&quot;)\n        val date = parser.parse(time2) as Date\n        var format=parser.format(date)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7851443,"reputation":24,"user_id":5934813,"display_name":"Vuthisak Khy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657692684,"creation_date":1657692551,"answer_id":72961644,"question_id":72960914,"body_markdown":"```\r\ntry {\r\n     String time = &quot;11 2 AM&quot;;\r\n     String parsePatter = time.contains(&quot;:&quot;) ? &quot;hh:mm a&quot; : &quot;hh m a&quot;;\r\n     SimpleDateFormat parser = new SimpleDateFormat(parsePatter);\r\n     Date date = parser.parse(time);\r\n\r\n     // Result\r\n     SimpleDateFormat resultParse = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n     String result = resultParse.format(date);\r\n     System.out.println(result); // 11:02 AM\r\n    } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n    }\r\n```","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<pre><code>try {\n     String time = &quot;11 2 AM&quot;;\n     String parsePatter = time.contains(&quot;:&quot;) ? &quot;hh:mm a&quot; : &quot;hh m a&quot;;\n     SimpleDateFormat parser = new SimpleDateFormat(parsePatter);\n     Date date = parser.parse(time);\n\n     // Result\n     SimpleDateFormat resultParse = new SimpleDateFormat(&quot;hh:mm a&quot;);\n     String result = resultParse.format(date);\n     System.out.println(result); // 11:02 AM\n    } catch (Exception ex) {\n       ex.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657693029,"creation_date":1657693029,"answer_id":72961712,"question_id":72960914,"body_markdown":"If you want to parse some *time of day*, you will be needing a *`java.time.LocalTime`*, *not* a `LocalDate`.\r\n\r\nIn contrast to the old and outdated `java.util.Date`, a `LocalDate` represents a date consisting of day of month, month of year and year.\r\n\r\nYou are trying to parse a time of day, the pattern might even be working for it but you cannot create a `LocalDate` from information about hour of day, minute of hour and AM/PM. That won&#39;t be working…\r\n\r\nThe following code might be working for you:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// your example input String\r\n\tString someTime = &quot;11 2 AM&quot;;\r\n\t// one dtf for parsing input\r\n\tDateTimeFormatter timeParser = DateTimeFormatter\r\n\t\t\t\t\t\t\t\t\t.ofPattern(&quot;K m a&quot;, Locale.ENGLISH);\r\n\t// another one for formatting as desired\r\n\tDateTimeFormatter timeFormatter = DateTimeFormatter\r\n\t\t\t\t\t\t\t\t\t\t.ofPattern(&quot;KK:mm a&quot;, Locale.ENGLISH);\r\n\t// parse using the parser\r\n\tLocalTime localTime = LocalTime.parse(someTime, timeParser);\r\n\t// print using the formatter\r\n\tSystem.out.println(localTime.format(timeFormatter));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n11:02 AM\r\n```","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>If you want to parse some <em>time of day</em>, you will be needing a <em><code>java.time.LocalTime</code></em>, <em>not</em> a <code>LocalDate</code>.</p>\n<p>In contrast to the old and outdated <code>java.util.Date</code>, a <code>LocalDate</code> represents a date consisting of day of month, month of year and year.</p>\n<p>You are trying to parse a time of day, the pattern might even be working for it but you cannot create a <code>LocalDate</code> from information about hour of day, minute of hour and AM/PM. That won't be working…</p>\n<p>The following code might be working for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // your example input String\n    String someTime = &quot;11 2 AM&quot;;\n    // one dtf for parsing input\n    DateTimeFormatter timeParser = DateTimeFormatter\n                                    .ofPattern(&quot;K m a&quot;, Locale.ENGLISH);\n    // another one for formatting as desired\n    DateTimeFormatter timeFormatter = DateTimeFormatter\n                                        .ofPattern(&quot;KK:mm a&quot;, Locale.ENGLISH);\n    // parse using the parser\n    LocalTime localTime = LocalTime.parse(someTime, timeParser);\n    // print using the formatter\n    System.out.println(localTime.format(timeFormatter));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>11:02 AM\n</code></pre>\n"}],"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72961644,"answer_count":4,"score":-1,"last_activity_date":1657693029,"creation_date":1657686072,"question_id":72960914,"body_markdown":"I want parse the time in hh:mm:a format. but when I passed the string in hh:m:a format it gives error java.time.format.DateTimeParseException: at index 3.\r\nfor example:- when I passed the string like 11:15 AM everything is fine. but when I passed the String in 11:2 AM. It says Text &#39;11 2 AM&#39; could not be parsed at index 3.\r\n\r\nHere is my java code:-\r\n```java\r\nString time = result.get(0);\r\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\r\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\r\ntime = time.substring(0, time.length() - 1);\r\n\r\nmTimebtn.setText(time);\r\n\r\nif (time.contains(&quot;AM&quot;)) {\r\n    DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;hh m a&quot;, Locale.ENGLISH);\r\n    // a second one to be used in order to format the desired result\r\n    DateTimeFormatter dtfFormat1 =  DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\r\n    LocalDate localDate1 = LocalDate.parse(time, \r\n    mTimebtn.setText(localDate1.format(dtfFormat1));\r\n\r\n    finaltime = localDate1.format(dtfFormat1);\r\n}\r\n\r\n```\r\n","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>I want parse the time in hh:mm:a format. but when I passed the string in hh:m:a format it gives error java.time.format.DateTimeParseException: at index 3.\nfor example:- when I passed the string like 11:15 AM everything is fine. but when I passed the String in 11:2 AM. It says Text '11 2 AM' could not be parsed at index 3.</p>\n<p>Here is my java code:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>String time = result.get(0);\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\ntime = time.substring(0, time.length() - 1);\n\nmTimebtn.setText(time);\n\nif (time.contains(&quot;AM&quot;)) {\n    DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;hh m a&quot;, Locale.ENGLISH);\n    // a second one to be used in order to format the desired result\n    DateTimeFormatter dtfFormat1 =  DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\n    LocalDate localDate1 = LocalDate.parse(time, \n    mTimebtn.setText(localDate1.format(dtfFormat1));\n\n    finaltime = localDate1.format(dtfFormat1);\n}\n\n</code></pre>\n"},{"tags":["java","testing","junit","scope"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1657661773,"post_id":72958344,"comment_id":128862962,"body_markdown":"_I cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where each test runs in its own thread and they have their own testinfo object._.        \nare you only reading `tesftInfo`  or updating them too inside your test methods?","body":"<i>I cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where each test runs in its own thread and they have their own testinfo object.</i>.         are you only reading <code>tesftInfo</code>  or updating them too inside your test methods?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1657666414,"post_id":72958344,"comment_id":128863944,"body_markdown":"You can call A.get() once in each method and use the result 3 times, for a trivial bit of simplification.  But I&#39;d consider scrapping the getters entirely and making use of package-level access.","body":"You can call A.get() once in each method and use the result 3 times, for a trivial bit of simplification.  But I&#39;d consider scrapping the getters entirely and making use of package-level access."},{"owner":{"account_id":13881550,"reputation":1,"user_id":10021789,"display_name":"Pranitha"},"score":0,"creation_date":1657691264,"post_id":72958344,"comment_id":128867660,"body_markdown":"@Tintin I am updating them too","body":"@Tintin I am updating them too"}],"owner":{"account_id":13881550,"reputation":1,"user_id":10021789,"display_name":"Pranitha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657692790,"creation_date":1657659741,"question_id":72958344,"body_markdown":"I have two classes A and B. One is a helper and other is for Integration Tests.\r\nAs shown below, Variables in TestInfo class are shared among the test methods in B.class.\r\nI cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where **each test runs in its own thread and they have their own testinfo object**.\r\n\r\nAs you can see, to **access or modify the variable from testinfo object in the test method, I need to call A.get() everytime** and declare a local variable to hold it. I have to do it in each method which looks redundant. Is there any better way where I can scope variable such that it&#39;s scope holds good for the methods inside it too?\r\n```\r\nclass TestInfo {\r\nint a;\r\nint b;\r\nint c;\r\n}\r\n\r\n\r\nclass A() {\r\nTestInfo testinfo;\r\n\r\nTestInfo get() {\r\n   return testinfo;\r\n  }\r\n}\r\n\r\n\r\nclass B() {\r\n\r\nvoid test1() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nA.get().setA(&quot;a&quot;);\r\n\r\n}\r\n\r\nvoid test2() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nA.get().setA(&quot;test2&quot;);\r\n\r\n}\r\n\r\nvoid test3() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\n}\r\n\r\nvoid test4() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nA.get().setA(&quot;test4&quot;);\r\n}\r\n\r\nvoid helper_method1() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nB.get().setB(&quot;helper&quot;);\r\n}\r\n\r\nvoid helper_method2() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n```","title":"Java - Scope of variables in JUnit test methods","body":"<p>I have two classes A and B. One is a helper and other is for Integration Tests.\nAs shown below, Variables in TestInfo class are shared among the test methods in B.class.\nI cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where <strong>each test runs in its own thread and they have their own testinfo object</strong>.</p>\n<p>As you can see, to <strong>access or modify the variable from testinfo object in the test method, I need to call A.get() everytime</strong> and declare a local variable to hold it. I have to do it in each method which looks redundant. Is there any better way where I can scope variable such that it's scope holds good for the methods inside it too?</p>\n<pre><code>class TestInfo {\nint a;\nint b;\nint c;\n}\n\n\nclass A() {\nTestInfo testinfo;\n\nTestInfo get() {\n   return testinfo;\n  }\n}\n\n\nclass B() {\n\nvoid test1() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nA.get().setA(&quot;a&quot;);\n\n}\n\nvoid test2() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nA.get().setA(&quot;test2&quot;);\n\n}\n\nvoid test3() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\n}\n\nvoid test4() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nA.get().setA(&quot;test4&quot;);\n}\n\nvoid helper_method1() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nB.get().setB(&quot;helper&quot;);\n}\n\nvoid helper_method2() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\n}\n\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","hssfworkbook"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1635882214,"post_id":69816064,"comment_id":123410120,"body_markdown":"If you&#39;re using external libraries, learn to use Maven or Gradle; it will make your life *much* easier.","body":"If you&#39;re using external libraries, learn to use Maven or Gradle; it will make your life <i>much</i> easier."},{"owner":{"account_id":222369,"reputation":31,"user_id":480911,"display_name":"Doug Gardiner"},"score":0,"creation_date":1635883483,"post_id":69816064,"comment_id":123410557,"body_markdown":"I wish I could.  I am stuck in a corporate situation where I only have the basic compiler to work with and no other tools.  No version control, no IDE of any sort, etc.  Just Notepad and my wits.","body":"I wish I could.  I am stuck in a corporate situation where I only have the basic compiler to work with and no other tools.  No version control, no IDE of any sort, etc.  Just Notepad and my wits."},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":2,"creation_date":1635900964,"post_id":69816064,"comment_id":123414561,"body_markdown":"mixing hssf and xssf imports seems strange without knowing the details. your classpath misses a few entries. In your restricted situation, I would download the [poi bin](https://poi.apache.org/download.html) archive and [use wildcards](https://stackoverflow.com/questions/219585). An example invocation can be found [on the PPT render page](http://poi.apache.org/components/slideshow/ppt-wmf-emf-renderer.html) in &quot;Instructions to run&quot;.","body":"mixing hssf and xssf imports seems strange without knowing the details. your classpath misses a few entries. In your restricted situation, I would download the <a href=\"https://poi.apache.org/download.html\" rel=\"nofollow noreferrer\">poi bin</a> archive and <a href=\"https://stackoverflow.com/questions/219585\">use wildcards</a>. An example invocation can be found <a href=\"http://poi.apache.org/components/slideshow/ppt-wmf-emf-renderer.html\" rel=\"nofollow noreferrer\">on the PPT render page</a> in &quot;Instructions to run&quot;."},{"owner":{"account_id":222369,"reputation":31,"user_id":480911,"display_name":"Doug Gardiner"},"score":0,"creation_date":1635946656,"post_id":69816064,"comment_id":123427215,"body_markdown":"Build path now includes all libraries as a wildcard.  I also adjusted the import statement to:  [import org.apache.poi.ss.usermodel.Cell; \nimport org.apache.poi.ss.usermodel.CellStyle; \nimport org.apache.poi.ss.usermodel.DataFormat; \nimport org.apache.poi.ss.usermodel.Row; \nimport org.apache.poi.ss.usermodel.Sheet; \nimport org.apache.poi.ss.usermodel.Workbook; \nimport org.apache.poi.xssf.usermodel.XSSFRow; \nimport org.apache.poi.xssf.usermodel.XSSFSheet; \nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFCell; ]  It builds, but same error","body":"Build path now includes all libraries as a wildcard.  I also adjusted the import statement to:  [import org.apache.poi.ss.usermodel.Cell;  import org.apache.poi.ss.usermodel.CellStyle;  import org.apache.poi.ss.usermodel.DataFormat;  import org.apache.poi.ss.usermodel.Row;  import org.apache.poi.ss.usermodel.Sheet;  import org.apache.poi.ss.usermodel.Workbook;  import org.apache.poi.xssf.usermodel.XSSFRow;  import org.apache.poi.xssf.usermodel.XSSFSheet;  import org.apache.poi.xssf.usermodel.XSSFWorkbook; import org.apache.poi.xssf.usermodel.XSSFCell; ]  It builds, but same error"}],"answers":[{"tags":[],"owner":{"account_id":2381040,"reputation":185,"user_id":2083070,"accept_rate":30,"display_name":"Vuzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657692776,"creation_date":1657692776,"answer_id":72961669,"question_id":69816064,"body_markdown":"Faced a similar issue, using Eclipse Enterprise Enterprise, version: 2019-06 (4.12.0). I had added apache-poi 5 jars in a user library\r\n[![enter image description here][1]][1]\r\n\r\n The project compiled fine. But when I run the web application on my location machine, was getting the error  \r\n\r\n\r\nWhat I was missing in eclipse was to include the following\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M3A9B.png\r\n  [2]: https://i.stack.imgur.com/tOt7H.png\r\n\r\nAfter this, everything was working fine","title":"Attempt to write using POI 5.0.0 give java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook","body":"<p>Faced a similar issue, using Eclipse Enterprise Enterprise, version: 2019-06 (4.12.0). I had added apache-poi 5 jars in a user library\n<a href=\"https://i.stack.imgur.com/M3A9B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M3A9B.png\" alt=\"enter image description here\" /></a></p>\n<p>The project compiled fine. But when I run the web application on my location machine, was getting the error</p>\n<p>What I was missing in eclipse was to include the following</p>\n<p><a href=\"https://i.stack.imgur.com/tOt7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tOt7H.png\" alt=\"enter image description here\" /></a></p>\n<p>After this, everything was working fine</p>\n"}],"owner":{"account_id":222369,"reputation":31,"user_id":480911,"display_name":"Doug Gardiner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657692776,"creation_date":1635881801,"question_id":69816064,"body_markdown":"So I downloaded Ant POI 5.0.0 and installed (to the best of my knowledge) it to my lib directory for use in my project.\r\n\r\nwhen I try execute the following code:\r\n\r\n    XSSFWorkbook book = new XSSFWorkbook(new FileInputStream(xlFile));\r\n\tXSSFSheet sheet = book.getSheetAt(0);\r\n\r\nI get &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook&quot; but I know at least this directory and classes are there.  What other classes am I missing?  \r\n\r\nI&#39;m also using the following imports.\r\n\r\n    import org.apache.poi.hssf.usermodel.HSSFCell; \r\n    import org.apache.poi.ss.usermodel.Cell; \r\n    import org.apache.poi.ss.usermodel.CellStyle; \r\n    import org.apache.poi.ss.usermodel.DataFormat; \r\n    import org.apache.poi.ss.usermodel.Row; \r\n    import org.apache.poi.ss.usermodel.Sheet; \r\n    import org.apache.poi.ss.usermodel.Workbook; \r\n    import org.apache.poi.xssf.usermodel.XSSFRow; \r\n    import org.apache.poi.xssf.usermodel.XSSFSheet; \r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nJust for clarification, I have included my compiler command just in case I am missing something in my classpath as well.\r\n\r\njavac -g -d ..\\bin SomeApp.java -cp ..\\src;..\\lib\\poi-ooxml-5.0.0.jar;..\\lib\\poi-5.0.0.jar\r\n\r\n","title":"Attempt to write using POI 5.0.0 give java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook","body":"<p>So I downloaded Ant POI 5.0.0 and installed (to the best of my knowledge) it to my lib directory for use in my project.</p>\n<p>when I try execute the following code:</p>\n<pre><code>XSSFWorkbook book = new XSSFWorkbook(new FileInputStream(xlFile));\nXSSFSheet sheet = book.getSheetAt(0);\n</code></pre>\n<p>I get &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook&quot; but I know at least this directory and classes are there.  What other classes am I missing?</p>\n<p>I'm also using the following imports.</p>\n<pre><code>import org.apache.poi.hssf.usermodel.HSSFCell; \nimport org.apache.poi.ss.usermodel.Cell; \nimport org.apache.poi.ss.usermodel.CellStyle; \nimport org.apache.poi.ss.usermodel.DataFormat; \nimport org.apache.poi.ss.usermodel.Row; \nimport org.apache.poi.ss.usermodel.Sheet; \nimport org.apache.poi.ss.usermodel.Workbook; \nimport org.apache.poi.xssf.usermodel.XSSFRow; \nimport org.apache.poi.xssf.usermodel.XSSFSheet; \nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n</code></pre>\n<p>Just for clarification, I have included my compiler command just in case I am missing something in my classpath as well.</p>\n<p>javac -g -d ..\\bin SomeApp.java -cp ..\\src;..\\lib\\poi-ooxml-5.0.0.jar;..\\lib\\poi-5.0.0.jar</p>\n"},{"tags":["java","mysql","auto-generate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1655989457,"post_id":72730493,"comment_id":128466347,"body_markdown":"Sounds like your `auto_increment` starts with 4 and increases by 10 each time","body":"Sounds like your <code>auto_increment</code> starts with 4 and increases by 10 each time"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1655989464,"post_id":72730493,"comment_id":128466348,"body_markdown":"Does this answer your question? [How is the MySQL auto\\_increment step size determined](https://stackoverflow.com/questions/8262863/how-is-the-mysql-auto-increment-step-size-determined)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8262863/how-is-the-mysql-auto-increment-step-size-determined\">How is the MySQL auto_increment step size determined</a>"}],"owner":{"account_id":25604871,"reputation":1,"user_id":19379145,"display_name":"Syan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657692406,"creation_date":1655988741,"question_id":72730493,"body_markdown":"When I save any data, it&#39;ll save in id 4,14,24,etc. I want it to be in order like 1,2,3. Here is my code.\r\n\r\n    @Entity@Data@Table(name = &quot;user&quot;) @NoArgsConstructor @AllArgsConstructor public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;idUser&quot;)\r\n    private Long idUser;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;dob&quot;)\r\n    private Date DOB;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    \r\n    @Column(name= &quot;updated_by&quot;)\r\n    private String updatedBy;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;)\r\n    private Date createdAt;}\r\n    \r\nHere is my DTO\r\n\r\n    @Data public class UserDTO {\r\n    private long idUser;\r\n    private String name;\r\n    private Date DOB;\r\n    private String address;\r\n    private Date updated_at;\r\n    private Date created_at;}\r\n\r\nHere is my Service\r\n\r\n    @Slf4j @Service @AllArgsConstructor @NoArgsConstructor @Transactional public class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public User save( User request) {\r\n        return userRepository.save(request);\r\n    }}\r\n\r\nI only include some code in question so it will not be too long, but my code is like the one I use in photo. \r\nHere is the return from get:\r\n[the IDs are 4 and id 14][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YgmPT.png\r\n\r\nThank you in advance\r\n\r\n\r\n\r\n\r\nEdit: I just found that the Id starts with 4 as default from addons ClearDB from heroku that I use","title":"How to generate my My JPA MySQL Long Ids to be in order?","body":"<p>When I save any data, it'll save in id 4,14,24,etc. I want it to be in order like 1,2,3. Here is my code.</p>\n<pre><code>@Entity@Data@Table(name = &quot;user&quot;) @NoArgsConstructor @AllArgsConstructor public class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;idUser&quot;)\nprivate Long idUser;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;dob&quot;)\nprivate Date DOB;\n\n@Column(name = &quot;address&quot;)\nprivate String address;\n\n@UpdateTimestamp\n@Column(name = &quot;updated_at&quot;)\nprivate Date updatedAt;\n\n\n@Column(name= &quot;updated_by&quot;)\nprivate String updatedBy;\n\n@CreationTimestamp\n@Column(name = &quot;created_at&quot;)\nprivate Date createdAt;}\n</code></pre>\n<p>Here is my DTO</p>\n<pre><code>@Data public class UserDTO {\nprivate long idUser;\nprivate String name;\nprivate Date DOB;\nprivate String address;\nprivate Date updated_at;\nprivate Date created_at;}\n</code></pre>\n<p>Here is my Service</p>\n<pre><code>@Slf4j @Service @AllArgsConstructor @NoArgsConstructor @Transactional public class UserService {\n@Autowired\nprivate UserRepository userRepository;\n\npublic User save( User request) {\n    return userRepository.save(request);\n}}\n</code></pre>\n<p>I only include some code in question so it will not be too long, but my code is like the one I use in photo.\nHere is the return from get:\n<a href=\"https://i.stack.imgur.com/YgmPT.png\" rel=\"nofollow noreferrer\">the IDs are 4 and id 14</a></p>\n<p>Thank you in advance</p>\n<p>Edit: I just found that the Id starts with 4 as default from addons ClearDB from heroku that I use</p>\n"},{"tags":["java","validation","annotations"],"answers":[{"tags":[],"owner":{"account_id":4788875,"reputation":1284,"user_id":3868605,"accept_rate":62,"display_name":"alobodzk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406212243,"creation_date":1406212243,"answer_id":24936556,"question_id":24935991,"body_markdown":"You created class with isValid(..) method, it doesn&#39;t have anything to do with annotations.\r\nI understand, that you want to create annotation as a place of discovery of a validator class, if yes, just overload isValid(..) method with different types an it will work.","title":"Is it possible to overload javax validation annotations to read in multiple data types?","body":"<p>You created class with isValid(..) method, it doesn't have anything to do with annotations.\nI understand, that you want to create annotation as a place of discovery of a validator class, if yes, just overload isValid(..) method with different types an it will work.</p>\n"},{"tags":[],"owner":{"account_id":8894158,"reputation":129,"user_id":6639778,"display_name":"Shai Barak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657691673,"creation_date":1657691673,"answer_id":72961534,"question_id":24935991,"body_markdown":"For anyone still wondering the answer to this question - it is just possible to pass an array of validators to the interface and each validator will implement different data type.\r\n\r\nfor example if we make a custom @Max annotation :\r\n\r\n    @Target({ FIELD, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class})\r\n    public @interface CustomMax {\r\n        /**\r\n         * @return value the element must be lower or equal to\r\n         */\r\n        long value();\r\n    \r\n        String message() default &quot;Custom Max Validation error&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\npay attention it is validated by 3 validator classes \r\n\r\n    validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class}\r\n\r\nEach class will have it&#39;s own type \r\n\r\n    public class CustomMaxIntValidator implements ConstraintValidator&lt;CustomMax, Integer&gt;\r\n    public class CustomMaxShortValidator implements ConstraintValidator&lt;CustomMax, Short&gt;\r\n    public class CustomMaxLongValidator implements ConstraintValidator&lt;CustomMax, Long&gt;\r\n\r\nHope that helps!\r\n\r\n","title":"Is it possible to overload javax validation annotations to read in multiple data types?","body":"<p>For anyone still wondering the answer to this question - it is just possible to pass an array of validators to the interface and each validator will implement different data type.</p>\n<p>for example if we make a custom @Max annotation :</p>\n<pre><code>@Target({ FIELD, PARAMETER })\n@Retention(RUNTIME)\n@Constraint(validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class})\npublic @interface CustomMax {\n    /**\n     * @return value the element must be lower or equal to\n     */\n    long value();\n\n    String message() default &quot;Custom Max Validation error&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>pay attention it is validated by 3 validator classes</p>\n<pre><code>validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class}\n</code></pre>\n<p>Each class will have it's own type</p>\n<pre><code>public class CustomMaxIntValidator implements ConstraintValidator&lt;CustomMax, Integer&gt;\npublic class CustomMaxShortValidator implements ConstraintValidator&lt;CustomMax, Short&gt;\npublic class CustomMaxLongValidator implements ConstraintValidator&lt;CustomMax, Long&gt;\n</code></pre>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":4794867,"reputation":1,"user_id":3873086,"display_name":"Cam Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657691673,"creation_date":1406210805,"question_id":24935991,"body_markdown":"I&#39;m using custom validations from [javax.validator](http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html); @Min, @Max. I&#39;ve made custom annotations though. Is there a way to use a single annotation for multiple datatypes?\r\n\r\n\r\nIf my annotation is roughly:\r\n\r\n        @Target( { METHOD, FIELD, ANNOTATION_TYPE })\r\n        @Retention(RUNTIME)\r\n        @Constraint(validatedBy = CustomValidator.class)\r\n        @Documented\r\n        public @interface CustomAnnotation{ /* Annotation code */ }\r\n\r\nand my validator is roughly: \r\n\r\n        public class CustomValidator implements ConstraintValidator&lt;CustomAnnotation, int&gt; {\r\n        \r\n            @Override\r\n            public void initialize(CustomAnnoation constraintAnnotation) { /* Init Code */ }\r\n        \r\n            @Override\r\n            public boolean isValid(int object, ConstraintValidatorContext constraintContext) { /* isValid Code */ }\r\n        }\r\n\r\nThis would make an annotation that only accepts int inputs. How could I overload the annotation to also accept, say doubles?\r\n","title":"Is it possible to overload javax validation annotations to read in multiple data types?","body":"<p>I'm using custom validations from <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html\" rel=\"nofollow\">javax.validator</a>; @Min, @Max. I've made custom annotations though. Is there a way to use a single annotation for multiple datatypes?</p>\n\n<p>If my annotation is roughly:</p>\n\n<pre><code>    @Target( { METHOD, FIELD, ANNOTATION_TYPE })\n    @Retention(RUNTIME)\n    @Constraint(validatedBy = CustomValidator.class)\n    @Documented\n    public @interface CustomAnnotation{ /* Annotation code */ }\n</code></pre>\n\n<p>and my validator is roughly: </p>\n\n<pre><code>    public class CustomValidator implements ConstraintValidator&lt;CustomAnnotation, int&gt; {\n\n        @Override\n        public void initialize(CustomAnnoation constraintAnnotation) { /* Init Code */ }\n\n        @Override\n        public boolean isValid(int object, ConstraintValidatorContext constraintContext) { /* isValid Code */ }\n    }\n</code></pre>\n\n<p>This would make an annotation that only accepts int inputs. How could I overload the annotation to also accept, say doubles?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8802,"page":1190,"page_size":100}
