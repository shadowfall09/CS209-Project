{"items":[{"tags":["java","linux","user-interface","command-line"],"answers":[{"tags":[],"owner":{"account_id":431516,"reputation":16665,"user_id":815632,"accept_rate":86,"display_name":"David Cain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1335641572,"creation_date":1335641572,"answer_id":10366844,"question_id":10366504,"body_markdown":"Swing is probably a good choice for creating a GUI; I see no reason why you should change it.\r\n\r\nI would suggest taking a look at X forwarding. With X forwarding, you SSH into the server as normal. The server runs all your code and handles the creation of your GUI. It then sends the window display information back to your machine.\r\n\r\nI found a quick [guide to configuring X forwarding in PuTTy](http://www.math.umn.edu/systems_guide/putty_xwin32.html). It should serve your needs well.\r\n\r\n### Caveats ###\r\n\r\nFor X forwarding to work, your SSH configuration must have it enabled. You can surely talk to your professor about this- it&#39;s a simple change to the sshd config file. The speed of X forwarding shouldn&#39;t be a concern if you and the server are both on campus, but note that this can be a drawback with other networking setups.","title":"How using a Java GUI in a GL Linux Server command line?","body":"<p>Swing is probably a good choice for creating a GUI; I see no reason why you should change it.</p>\n\n<p>I would suggest taking a look at X forwarding. With X forwarding, you SSH into the server as normal. The server runs all your code and handles the creation of your GUI. It then sends the window display information back to your machine.</p>\n\n<p>I found a quick <a href=\"http://www.math.umn.edu/systems_guide/putty_xwin32.html\" rel=\"nofollow\">guide to configuring X forwarding in PuTTy</a>. It should serve your needs well.</p>\n\n<h3>Caveats</h3>\n\n<p>For X forwarding to work, your SSH configuration must have it enabled. You can surely talk to your professor about this- it's a simple change to the sshd config file. The speed of X forwarding shouldn't be a concern if you and the server are both on campus, but note that this can be a drawback with other networking setups.</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664957064,"creation_date":1664788427,"answer_id":73933330,"question_id":10366504,"body_markdown":"To run a GUI application inside a Linux-based machine, the $DISPLAY should be defined to pass all GUI info.\r\n\r\nSo we have multiple ways to do that:\r\n\r\n\r\n1- Connect a real Display:  \r\nSo you will find the `$DISPLAY` environment variable defined, then you can run the GUI application.\r\n\r\n2- Use SSH with X forwarding:  \r\nWhen you connect to a remote Linux system, ask it to forward the GUI operations buffer to your machine   \r\n`ssh -X run-my-gui-application.sh`\r\n\r\n3- Fake the DISPLAY (**Hardware** solution):  \r\nBy injecting small real hardware like a USB connector (not a display) then the operating system will assume there is a display, then the GUI app will run\r\n\r\n4- Fake the DISPLAY (**Software** solution):  \r\nBy installing a package to emulate the DISPLAY, for example, use [xvfb][1] lib:\r\n\r\n    sudo apt-get install xvfb\r\n\r\n    # [GUI] headless mode\r\n    # ~FAKE DISPLAY~ number 88\r\n    nohup Xvfb :88 -ac &amp; \r\n    export DISPLAY=:88.0\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Xvfb","title":"How using a Java GUI in a GL Linux Server command line?","body":"<p>To run a GUI application inside a Linux-based machine, the $DISPLAY should be defined to pass all GUI info.</p>\n<p>So we have multiple ways to do that:</p>\n<p>1- Connect a real Display:<br />\nSo you will find the <code>$DISPLAY</code> environment variable defined, then you can run the GUI application.</p>\n<p>2- Use SSH with X forwarding:<br />\nWhen you connect to a remote Linux system, ask it to forward the GUI operations buffer to your machine<br />\n<code>ssh -X run-my-gui-application.sh</code></p>\n<p>3- Fake the DISPLAY (<strong>Hardware</strong> solution):<br />\nBy injecting small real hardware like a USB connector (not a display) then the operating system will assume there is a display, then the GUI app will run</p>\n<p>4- Fake the DISPLAY (<strong>Software</strong> solution):<br />\nBy installing a package to emulate the DISPLAY, for example, use <a href=\"https://en.wikipedia.org/wiki/Xvfb\" rel=\"nofollow noreferrer\">xvfb</a> lib:</p>\n<pre><code>sudo apt-get install xvfb\n\n# [GUI] headless mode\n# ~FAKE DISPLAY~ number 88\nnohup Xvfb :88 -ac &amp; \nexport DISPLAY=:88.0\n</code></pre>\n"}],"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1556,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10366844,"answer_count":2,"score":3,"last_activity_date":1664957064,"creation_date":1335638883,"question_id":10366504,"body_markdown":"My school projects are all done on the Linux Server, which is all done with command lines and no GUI. One of my java projects requires me to create a java GUI and to be able to build and run the project on the GL server.\r\n\r\nI&#39;m confused since the GL server is all command line, but my professor says that it can be done. \r\n\r\nTo connect to the school&#39;s GL Server, I use Putty. I don&#39;t know if it matters or not. And I&#39;m using swing for Java GUI. I use ant to compile and run, and so will my professor when he grades it.\r\n\r\nI built the program with success, but when I run it this comes up:\r\n\r\n    Buildfile: build.xml\r\n\r\n    run:\r\n         [java] Exception in thread &quot;main&quot; java.awt.HeadlessException:\r\n         [java] No X11 DISPLAY variable was set, but this program performed an operation which requires it.\r\n         [java]     at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)\r\n         [java]     at java.awt.Window.&lt;init&gt;(Window.java:406)\r\n         [java]     at java.awt.Frame.&lt;init&gt;(Frame.java:402)\r\n         [java]     at javax.swing.JFrame.&lt;init&gt;(JFrame.java:207)\r\n         [java]     at gui.PushCounter.main(PushCounter.java:18)\r\n         [java] Java Result: 1\r\n\r\n    BUILD SUCCESSFUL\r\n    Total time: 0 seconds\r\n\r\nIs there a different class or method of creating a GUI in Java when you are working with command line? Is there another terminal I can log into other than Putty that would better suit using Java GUI? Is there some extra thing I have to add in my code or in the Linux Server?","title":"How using a Java GUI in a GL Linux Server command line?","body":"<p>My school projects are all done on the Linux Server, which is all done with command lines and no GUI. One of my java projects requires me to create a java GUI and to be able to build and run the project on the GL server.</p>\n\n<p>I'm confused since the GL server is all command line, but my professor says that it can be done. </p>\n\n<p>To connect to the school's GL Server, I use Putty. I don't know if it matters or not. And I'm using swing for Java GUI. I use ant to compile and run, and so will my professor when he grades it.</p>\n\n<p>I built the program with success, but when I run it this comes up:</p>\n\n<pre><code>Buildfile: build.xml\n\nrun:\n     [java] Exception in thread \"main\" java.awt.HeadlessException:\n     [java] No X11 DISPLAY variable was set, but this program performed an operation which requires it.\n     [java]     at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)\n     [java]     at java.awt.Window.&lt;init&gt;(Window.java:406)\n     [java]     at java.awt.Frame.&lt;init&gt;(Frame.java:402)\n     [java]     at javax.swing.JFrame.&lt;init&gt;(JFrame.java:207)\n     [java]     at gui.PushCounter.main(PushCounter.java:18)\n     [java] Java Result: 1\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n</code></pre>\n\n<p>Is there a different class or method of creating a GUI in Java when you are working with command line? Is there another terminal I can log into other than Putty that would better suit using Java GUI? Is there some extra thing I have to add in my code or in the Linux Server?</p>\n"},{"tags":["java","image","api","blogger"],"answers":[{"tags":[],"owner":{"account_id":6886744,"reputation":3653,"user_id":5291566,"accept_rate":74,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441791007,"creation_date":1441630537,"answer_id":32439313,"question_id":31209682,"body_markdown":"I am working with the Blogger API right now and had the same issue with python, the codesample google offered to post an Image doesnt work.\r\n\r\nYou have to add the image via html img-tag into your content.\r\n\r\nThats how it worked for Python but should be similar with Java:\r\n\r\n    request = posts.insert(blogId=your_blog_id, body = {&quot;title&quot; : &quot;content title&quot;, &quot;content&quot; : &quot;some text ... &lt;img src = &#39;http://amazon.com/mybucket/example.jpg&#39; title = &#39;test&#39; alt = &#39;test&#39; style=&#39;width:304px;height:228px;&#39;&gt;&quot;}).execute()\r\n","title":"blogger api post image","body":"<p>I am working with the Blogger API right now and had the same issue with python, the codesample google offered to post an Image doesnt work.</p>\n\n<p>You have to add the image via html img-tag into your content.</p>\n\n<p>Thats how it worked for Python but should be similar with Java:</p>\n\n<pre><code>request = posts.insert(blogId=your_blog_id, body = {\"title\" : \"content title\", \"content\" : \"some text ... &lt;img src = 'http://amazon.com/mybucket/example.jpg' title = 'test' alt = 'test' style='width:304px;height:228px;'&gt;\"}).execute()\n</code></pre>\n"}],"owner":{"account_id":1377092,"reputation":575,"user_id":1310898,"accept_rate":21,"display_name":"fredy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664956946,"creation_date":1435935474,"question_id":31209682,"body_markdown":"I&#39;m trying to add a post with an image using java api. As the documentation describes (https://developers.google.com/blogger/docs/3.0/reference/posts) we can have an image with a URL. Running the following code didn&#39;t help:\r\n\t\tPost content = new Post();\r\n\t\tcontent.setTitle(...);\r\n\t\tcontent.setContent(...);\r\n\t\t\r\n\t\tList&lt;Images&gt; images=new ArrayList&lt;Images&gt;();\r\n\t\tfor (PostAttachment attachment : attachmentsList) {\r\n\t\t\t\tImages img=new Post.Images();\r\n\t\t\t\tString imageUrl=&quot;http://amazon.com/mybucket/example.jpg&quot;;\r\n\t\t\t\timg.setUrl(imageUrl);\r\n\t\t\t\timages.add(img);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcontent.setImages(images);\r\n\t\t}\r\n\t\t// The request action.\r\n\t\tInsert postsInsertAction = blogger.posts()\r\n\t\t        .insert(userId(), content);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n- can we post with a URL that has external image link (http://s3.amazon.com/abc.jpg for example?)\r\n\r\nBTW, i saw that we need upload images to picassaweb (link please?)  . don&#39;t know if they are still relevant. \r\n\r\nThanks,\r\n   Fredy","title":"blogger api post image","body":"<p>I'm trying to add a post with an image using java api. As the documentation describes (<a href=\"https://developers.google.com/blogger/docs/3.0/reference/posts\" rel=\"nofollow\">https://developers.google.com/blogger/docs/3.0/reference/posts</a>) we can have an image with a URL. Running the following code didn't help:\n        Post content = new Post();\n        content.setTitle(...);\n        content.setContent(...);</p>\n\n<pre><code>    List&lt;Images&gt; images=new ArrayList&lt;Images&gt;();\n    for (PostAttachment attachment : attachmentsList) {\n            Images img=new Post.Images();\n            String imageUrl=\"http://amazon.com/mybucket/example.jpg\";\n            img.setUrl(imageUrl);\n            images.add(img);\n\n        }\n        content.setImages(images);\n    }\n    // The request action.\n    Insert postsInsertAction = blogger.posts()\n            .insert(userId(), content);\n</code></pre>\n\n<ul>\n<li>can we post with a URL that has external image link (<a href=\"http://s3.amazon.com/abc.jpg\" rel=\"nofollow\">http://s3.amazon.com/abc.jpg</a> for example?)</li>\n</ul>\n\n<p>BTW, i saw that we need upload images to picassaweb (link please?)  . don't know if they are still relevant. </p>\n\n<p>Thanks,\n   Fredy</p>\n"},{"tags":["java","c#","android","xamarin","jar"],"comments":[{"owner":{"account_id":5955132,"reputation":373,"user_id":4682040,"display_name":"burgund"},"score":0,"creation_date":1664873265,"post_id":73944866,"comment_id":130564240,"body_markdown":"Does this answer your question? - [How can i call a method from library to C# console](https://stackoverflow.com/questions/9389870/how-can-i-call-a-method-from-library-to-c-sharp-console).","body":"Does this answer your question? - <a href=\"https://stackoverflow.com/questions/9389870/how-can-i-call-a-method-from-library-to-c-sharp-console\">How can i call a method from library to C# console</a>."},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1664890357,"post_id":73944866,"comment_id":130569847,"body_markdown":"the binding library is supposed to expose the methods from the Java library to your C# code","body":"the binding library is supposed to expose the methods from the Java library to your C# code"}],"answers":[{"tags":[],"owner":{"account_id":14270806,"reputation":10859,"user_id":10308336,"display_name":"Jessie Zhang -MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664956910,"creation_date":1664956910,"answer_id":73957415,"question_id":73944866,"body_markdown":"For this, you can check document [Binding a .JAR][1].\r\n\r\n\r\nThe Android community offers many Java libraries that you may want to use in your app. These Java libraries are often packaged in `.JAR` (Java Archive) format, but you can package a `.JAR` it in a Java Bindings Library so that its functionality is available to Xamarin.Android apps. The purpose of the Java Bindings library is to make the APIs in the `.JAR` file available to C# code through automatically-generated code wrappers.\r\n\r\n\r\nXamarin tooling can generate a Bindings Library from one or more input .JAR files. The Bindings Library (.DLL assembly) contains the following:\r\n\r\n - The contents of the original .JAR file(s).\r\n - Managed Callable Wrappers (MCW), which are C# types that wrap\r\n   corresponding Java types within the .JAR file(s).\r\n\r\nThe generated MCW code uses JNI (Java Native Interface) to forward your API calls to the underlying .JAR file. You can create bindings libraries for any .JAR file that was originally targeted to be used with Android (note that Xamarin tooling does not currently support the binding of non-Android Java libraries). You can also elect to build the Bindings Library without including the contents of the .JAR file so that the DLL has a dependency on the .JAR at runtime.\r\n\r\nFor more information, you can check: [Binding a Java Library][2] .\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/binding-a-jar\r\n  [2]: https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/","title":"How to access jar file through Xamarin Forms","body":"<p>For this, you can check document <a href=\"https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/binding-a-jar\" rel=\"nofollow noreferrer\">Binding a .JAR</a>.</p>\n<p>The Android community offers many Java libraries that you may want to use in your app. These Java libraries are often packaged in <code>.JAR</code> (Java Archive) format, but you can package a <code>.JAR</code> it in a Java Bindings Library so that its functionality is available to Xamarin.Android apps. The purpose of the Java Bindings library is to make the APIs in the <code>.JAR</code> file available to C# code through automatically-generated code wrappers.</p>\n<p>Xamarin tooling can generate a Bindings Library from one or more input .JAR files. The Bindings Library (.DLL assembly) contains the following:</p>\n<ul>\n<li>The contents of the original .JAR file(s).</li>\n<li>Managed Callable Wrappers (MCW), which are C# types that wrap\ncorresponding Java types within the .JAR file(s).</li>\n</ul>\n<p>The generated MCW code uses JNI (Java Native Interface) to forward your API calls to the underlying .JAR file. You can create bindings libraries for any .JAR file that was originally targeted to be used with Android (note that Xamarin tooling does not currently support the binding of non-Android Java libraries). You can also elect to build the Bindings Library without including the contents of the .JAR file so that the DLL has a dependency on the .JAR at runtime.</p>\n<p>For more information, you can check: <a href=\"https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/\" rel=\"nofollow noreferrer\">Binding a Java Library</a> .</p>\n"}],"owner":{"account_id":25322055,"reputation":11,"user_id":19152364,"display_name":"Smile1337"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664956910,"creation_date":1664871136,"question_id":73944866,"body_markdown":"I have a Xamarin project and an android bindings library that has a jar file attached. How can I call a function from the jar library. For example, so that when a button is pressed, a function from the library is called.\r\n\r\nSample project:  \r\n![sample project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s69Fa.jpg","title":"How to access jar file through Xamarin Forms","body":"<p>I have a Xamarin project and an android bindings library that has a jar file attached. How can I call a function from the jar library. For example, so that when a button is pressed, a function from the library is called.</p>\n<p>Sample project:<br />\n<img src=\"https://i.stack.imgur.com/s69Fa.jpg\" alt=\"sample project\" /></p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":15,"creation_date":1348491856,"post_id":12565587,"comment_id":16926857,"body_markdown":"`Map&lt;E, Integer&gt;`  where the integer is the count?","body":"<code>Map&lt;E, Integer&gt;</code>  where the integer is the count?"},{"owner":{"account_id":194889,"reputation":1163,"user_id":437472,"accept_rate":82,"display_name":"outlaw"},"score":1,"creation_date":1348491974,"post_id":12565587,"comment_id":16926910,"body_markdown":"@delnan Set&lt;List&lt;E&gt;&gt; is a way around but the operations are not that clean as the mutliset.","body":"@delnan Set&lt;List&lt;E&gt;&gt; is a way around but the operations are not that clean as the mutliset."},{"owner":{"account_id":194889,"reputation":1163,"user_id":437472,"accept_rate":82,"display_name":"outlaw"},"score":0,"creation_date":1348492037,"post_id":12565587,"comment_id":16926932,"body_markdown":"@Peter Lawrey Actually I have a bounch of objects which is ordered by their keys.","body":"@Peter Lawrey Actually I have a bounch of objects which is ordered by their keys."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1348493292,"post_id":12565587,"comment_id":16927446,"body_markdown":"That would normally be a TreeMap for sorted keys and a collection for the duplicates.","body":"That would normally be a TreeMap for sorted keys and a collection for the duplicates."},{"owner":{"account_id":724444,"reputation":1151,"user_id":665216,"accept_rate":50,"display_name":"sse"},"score":0,"creation_date":1518759902,"post_id":12565587,"comment_id":84644938,"body_markdown":"com.google.common.collect.TreeMultiset is what you want, i believe","body":"com.google.common.collect.TreeMultiset is what you want, i believe"}],"answers":[{"tags":[],"owner":{"account_id":194460,"reputation":388,"user_id":1570791,"display_name":"Istvan Neuwirth"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1348492155,"creation_date":1348492155,"answer_id":12565723,"question_id":12565587,"body_markdown":"There is no Multiset in the standard Java libraries. You should use the Google Guava framework which contains Multiset classes.\r\n[See][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Multiset","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p>There is no Multiset in the standard Java libraries. You should use the Google Guava framework which contains Multiset classes.\n<a href=\"http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Multiset\">See</a></p>\n"},{"tags":[],"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426675783,"creation_date":1348492378,"answer_id":12565796,"question_id":12565587,"body_markdown":"[Apache Commons Collections][1] has [`Bag`][2] and [`SortedBag`][3] interfaces.  It sounds like [`TreeBag`][4] might meet your needs, but there are plenty of implementations to choose from.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/\r\n  [2]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html\r\n  [3]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/SortedBag.html\r\n  [4]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bag/TreeBag.html","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p><a href=\"http://commons.apache.org/collections/\" rel=\"nofollow\">Apache Commons Collections</a> has <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html\" rel=\"nofollow\"><code>Bag</code></a> and <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/SortedBag.html\" rel=\"nofollow\"><code>SortedBag</code></a> interfaces.  It sounds like <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bag/TreeBag.html\" rel=\"nofollow\"><code>TreeBag</code></a> might meet your needs, but there are plenty of implementations to choose from.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1349218056,"creation_date":1349218056,"answer_id":12699535,"question_id":12565587,"body_markdown":"[Algorithms 4th edition][1] has a [`Bag`][2] implementation that&#39;s available on the book&#39;s web site.  You can view the [javadoc][3] online as well.\r\n\r\n&gt; The Bag class represents a bag (or multiset) of generic items. It supports insertion and iterating over the items in arbitrary order.\r\n\r\nYou&#39;ll probably just want to have a look at the source code if `Bag` is all you need, but there are a lot of other interesting things in `algs4.jar`, so it&#39;s worth a look.\r\n\r\n\r\n  [1]: http://algs4.cs.princeton.edu/code/\r\n  [2]: http://algs4.cs.princeton.edu/13stacks/Bag.java.html\r\n  [3]: http://algs4.cs.princeton.edu/code/javadoc/Bag.html","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p><a href=\"http://algs4.cs.princeton.edu/code/\" rel=\"noreferrer\">Algorithms 4th edition</a> has a <a href=\"http://algs4.cs.princeton.edu/13stacks/Bag.java.html\" rel=\"noreferrer\"><code>Bag</code></a> implementation that's available on the book's web site.  You can view the <a href=\"http://algs4.cs.princeton.edu/code/javadoc/Bag.html\" rel=\"noreferrer\">javadoc</a> online as well.</p>\n\n<blockquote>\n  <p>The Bag class represents a bag (or multiset) of generic items. It supports insertion and iterating over the items in arbitrary order.</p>\n</blockquote>\n\n<p>You'll probably just want to have a look at the source code if <code>Bag</code> is all you need, but there are a lot of other interesting things in <code>algs4.jar</code>, so it's worth a look.</p>\n"},{"tags":[],"owner":{"account_id":1254246,"reputation":8068,"user_id":1214064,"accept_rate":60,"display_name":"TheCrazyProgrammer"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1488358870,"creation_date":1385905413,"answer_id":20312758,"question_id":12565587,"body_markdown":"Using `Map&lt;E, Integer&gt;` where Integer is the count is a good replacement for Multiset, and it does not need any third party library as well.\r\n\r\n**Update:** If you really want to store the object twice, use a List with a Map like `Map&lt;E, List&lt;E&gt;&gt;`. ","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p>Using <code>Map&lt;E, Integer&gt;</code> where Integer is the count is a good replacement for Multiset, and it does not need any third party library as well.</p>\n\n<p><strong>Update:</strong> If you really want to store the object twice, use a List with a Map like <code>Map&lt;E, List&lt;E&gt;&gt;</code>. </p>\n"},{"tags":[],"owner":{"account_id":12705770,"reputation":25,"user_id":9231127,"display_name":"user9231127"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1516212923,"creation_date":1516212923,"answer_id":48307502,"question_id":12565587,"body_markdown":"    TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();\r\n    TreeSet&lt;Integer&gt; multiset = new TreeSet&lt;&gt;((i, j) -&gt; i &lt; j ? 1 : -1);\r\nMake a set multiset just by making 1 != 1!","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<pre><code>TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();\nTreeSet&lt;Integer&gt; multiset = new TreeSet&lt;&gt;((i, j) -&gt; i &lt; j ? 1 : -1);\n</code></pre>\n\n<p>Make a set multiset just by making 1 != 1!</p>\n"},{"tags":[],"owner":{"account_id":4554915,"reputation":342,"user_id":3698909,"display_name":"DaveB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539398693,"creation_date":1539398693,"answer_id":52789064,"question_id":12565587,"body_markdown":"You could use a PriorityQueue&lt;E&gt; The elements are sorted in their natural order, or if you provide one, by comparator, and duplicates are allowed. ","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p>You could use a PriorityQueue The elements are sorted in their natural order, or if you provide one, by comparator, and duplicates are allowed. </p>\n"},{"tags":[],"owner":{"account_id":6334404,"reputation":81,"user_id":13427216,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608317389,"creation_date":1608317389,"answer_id":65362407,"question_id":12565587,"body_markdown":"Since 1.8, Map allows you to do this:\r\n\r\n      map.computeIfAbsent(key, k -&gt; new HashSet&lt;V&gt;()).add(v);\r\n\r\nEach value is added into a Set, which is created on demand.\r\n\r\nYou may need to change remove() too.\r\n","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p>Since 1.8, Map allows you to do this:</p>\n<pre><code>  map.computeIfAbsent(key, k -&gt; new HashSet&lt;V&gt;()).add(v);\n</code></pre>\n<p>Each value is added into a Set, which is created on demand.</p>\n<p>You may need to change remove() too.</p>\n"},{"tags":[],"owner":{"account_id":22940689,"reputation":11,"user_id":17073512,"display_name":"Anshul Chouhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664956825,"creation_date":1664956673,"answer_id":73957377,"question_id":12565587,"body_markdown":"Implemented using TreeMap\r\n\r\n     public static class multiset{\r\n        public TreeMap&lt;Integer,Integer&gt; map;\r\n        public int size=0;\r\n        public multiset(){\r\n            map=new TreeMap&lt;&gt;();\r\n        }\r\n        public multiset(int[] a){\r\n            map=new TreeMap&lt;&gt;();\r\n            size=a.length;\r\n            for(int i=0;i&lt;a.length;i++){\r\n                map.put(a[i], map.getOrDefault(a[i], 0)+1);\r\n            }\r\n        }\r\n        void add(int a){\r\n            size++;\r\n            map.put(a, map.getOrDefault(a, 0)+1);\r\n        }\r\n        void remove(int a){\r\n            size--;\r\n            int val=map.get(a);\r\n            map.put(a, val-1);\r\n            if(val==1)map.remove(a);\r\n        }\r\n        void removeAll(int a){\r\n            if(map.containsKey(a))\r\n            {\r\n                size-=map.get(a);\r\n                map.remove(a);\r\n            }\r\n        }\r\n        int ceiling(int a){\r\n            if (map.ceilingKey(a) != null) {\r\n                int find = map.ceilingKey(a);\r\n                return find;\r\n            }else return Integer.MIN_VALUE;\r\n        }\r\n        int floor(int a){\r\n            if (map.floorKey(a) != null) {\r\n                int find = map.floorKey(a);\r\n                return find;\r\n            }else return Integer.MAX_VALUE;\r\n        }\r\n        int lower(int a){\r\n            if (map.lowerKey(a) != null) {\r\n                int find = map.lowerKey(a);\r\n                return find;\r\n            }else return Integer.MAX_VALUE;\r\n        }\r\n        int higher(int a){\r\n            if (map.higherKey(a) != null) {\r\n                int find = map.higherKey(a);\r\n                return find;\r\n            }else return Integer.MIN_VALUE;\r\n        }\r\n        int first(){\r\n            return map.firstKey();\r\n        }\r\n        int last(){\r\n            return map.lastKey();\r\n        }\r\n        boolean contains(int a){\r\n            if(map.containsKey(a))return true;\r\n            return false;\r\n        }\r\n        int size(){\r\n            return size;\r\n        }\r\n        void clear(){\r\n            map.clear();\r\n        }\r\n        int poll(){\r\n            if(map.size()==0){\r\n                return Integer.MAX_VALUE;\r\n            }\r\n            size--;\r\n            int first=map.firstKey();\r\n            if(map.get(first)==1){\r\n                map.pollFirstEntry();\r\n            }else map.put(first, map.get(first)-1);\r\n            return first;\r\n        }\r\n        int polllast(){\r\n            if(map.size()==0){\r\n                return Integer.MAX_VALUE;\r\n            }\r\n            size--;\r\n            int last=map.lastKey();\r\n            if(map.get(last)==1){\r\n                map.pollLastEntry();\r\n            }else map.put(last, map.get(last)-1);\r\n            return last;\r\n        }\r\n    }","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p>Implemented using TreeMap</p>\n<pre><code> public static class multiset{\n    public TreeMap&lt;Integer,Integer&gt; map;\n    public int size=0;\n    public multiset(){\n        map=new TreeMap&lt;&gt;();\n    }\n    public multiset(int[] a){\n        map=new TreeMap&lt;&gt;();\n        size=a.length;\n        for(int i=0;i&lt;a.length;i++){\n            map.put(a[i], map.getOrDefault(a[i], 0)+1);\n        }\n    }\n    void add(int a){\n        size++;\n        map.put(a, map.getOrDefault(a, 0)+1);\n    }\n    void remove(int a){\n        size--;\n        int val=map.get(a);\n        map.put(a, val-1);\n        if(val==1)map.remove(a);\n    }\n    void removeAll(int a){\n        if(map.containsKey(a))\n        {\n            size-=map.get(a);\n            map.remove(a);\n        }\n    }\n    int ceiling(int a){\n        if (map.ceilingKey(a) != null) {\n            int find = map.ceilingKey(a);\n            return find;\n        }else return Integer.MIN_VALUE;\n    }\n    int floor(int a){\n        if (map.floorKey(a) != null) {\n            int find = map.floorKey(a);\n            return find;\n        }else return Integer.MAX_VALUE;\n    }\n    int lower(int a){\n        if (map.lowerKey(a) != null) {\n            int find = map.lowerKey(a);\n            return find;\n        }else return Integer.MAX_VALUE;\n    }\n    int higher(int a){\n        if (map.higherKey(a) != null) {\n            int find = map.higherKey(a);\n            return find;\n        }else return Integer.MIN_VALUE;\n    }\n    int first(){\n        return map.firstKey();\n    }\n    int last(){\n        return map.lastKey();\n    }\n    boolean contains(int a){\n        if(map.containsKey(a))return true;\n        return false;\n    }\n    int size(){\n        return size;\n    }\n    void clear(){\n        map.clear();\n    }\n    int poll(){\n        if(map.size()==0){\n            return Integer.MAX_VALUE;\n        }\n        size--;\n        int first=map.firstKey();\n        if(map.get(first)==1){\n            map.pollFirstEntry();\n        }else map.put(first, map.get(first)-1);\n        return first;\n    }\n    int polllast(){\n        if(map.size()==0){\n            return Integer.MAX_VALUE;\n        }\n        size--;\n        int last=map.lastKey();\n        if(map.get(last)==1){\n            map.pollLastEntry();\n        }else map.put(last, map.get(last)-1);\n        return last;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":194889,"reputation":1163,"user_id":437472,"accept_rate":82,"display_name":"outlaw"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39720,"favorite_count":0,"down_vote_count":2,"up_vote_count":43,"accepted_answer_id":12565723,"answer_count":8,"score":41,"last_activity_date":1664956825,"creation_date":1348491694,"question_id":12565587,"body_markdown":"I need a data structure which works like the STL multiset but the TreeSet in Java doesn&#39;t allow duplicate elements. Is there any built-in data structure in Java which is equivalent to multiset? ","title":"Does Java have a multiset data structure like the one in C++ STL?","body":"<p>I need a data structure which works like the STL multiset but the TreeSet in Java doesn't allow duplicate elements. Is there any built-in data structure in Java which is equivalent to multiset? </p>\n"},{"tags":["java","spring","spring-batch","spring-integration","spring-batch-integration"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664961263,"post_id":73957394,"comment_id":130586175,"body_markdown":"You don&#39;t as you shouldn&#39;t do it like that. Instead you probably should make (or find) a ftp based `ItemReader` and simply pass the filename/location to Spring Batch to retrieve it. Passng around an `InputStream` won&#39;t work especially as `JobParameters` as how should that be written to a database?","body":"You don&#39;t as you shouldn&#39;t do it like that. Instead you probably should make (or find) a ftp based <code>ItemReader</code> and simply pass the filename/location to Spring Batch to retrieve it. Passng around an <code>InputStream</code> won&#39;t work especially as <code>JobParameters</code> as how should that be written to a database?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1664962966,"post_id":73957394,"comment_id":130586694,"body_markdown":"I second what @M.Deinum said. Moving an input stream around is not a good idea, as things may get serialized in between. The file name/location is a better option as input to the batch job.","body":"I second what @M.Deinum said. Moving an input stream around is not a good idea, as things may get serialized in between. The file name/location is a better option as input to the batch job."},{"owner":{"account_id":26521337,"reputation":15,"user_id":20154968,"display_name":"Jekshenov Chingiz"},"score":0,"creation_date":1664963696,"post_id":73957394,"comment_id":130586951,"body_markdown":"@M.Deinum then it makes no sense to use spring integration because I have already read file from Inbound Channel Adapter, I can create File using apache commons FileUtils.copyInputStreamToFile(inputStream, file) at Integration Layer without saving to file system it is not a problem. Do you recommend to read it twice from InboudChannelAdapter and then in Batch Job read it again by filename/location? I though that here Integration as a Transport and Batch as processing engine for messages from that transport.","body":"@M.Deinum then it makes no sense to use spring integration because I have already read file from Inbound Channel Adapter, I can create File using apache commons FileUtils.copyInputStreamToFile(inputStream, file) at Integration Layer without saving to file system it is not a problem. Do you recommend to read it twice from InboudChannelAdapter and then in Batch Job read it again by filename/location? I though that here Integration as a Transport and Batch as processing engine for messages from that transport."},{"owner":{"account_id":26521337,"reputation":15,"user_id":20154968,"display_name":"Jekshenov Chingiz"},"score":0,"creation_date":1664964085,"post_id":73957394,"comment_id":130587073,"body_markdown":"@MahmoudBenHassine sure, but that would be redundant network connection to retrieve the file, which I already have. Looks illogical. Where are the benefits of using spring batch integration ?","body":"@MahmoudBenHassine sure, but that would be redundant network connection to retrieve the file, which I already have. Looks illogical. Where are the benefits of using spring batch integration ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1664968690,"post_id":73957394,"comment_id":130588550,"body_markdown":"You use the message to kickoff a batch process, but you shouldn&#39;t pass the binary data. That data will be stored in the database, so passing an `InputStream` around is thus a bad idea as there is no way to store that in a database. So you need a file or read it from FTP through Spring Batch. So actually Spring Integration isn&#39;t the transport so much but rather the triggering mechanism for the Batch part.","body":"You use the message to kickoff a batch process, but you shouldn&#39;t pass the binary data. That data will be stored in the database, so passing an <code>InputStream</code> around is thus a bad idea as there is no way to store that in a database. So you need a file or read it from FTP through Spring Batch. So actually Spring Integration isn&#39;t the transport so much but rather the triggering mechanism for the Batch part."},{"owner":{"account_id":26521337,"reputation":15,"user_id":20154968,"display_name":"Jekshenov Chingiz"},"score":0,"creation_date":1664970542,"post_id":73957394,"comment_id":130589130,"body_markdown":"@M.Deinum I&#39;ll take note of this, it seems that integration is indeed mounted to a remote source in the first place in order to become a trigger for launching batch processes, mount a couple of filters for files and get simple type meta information for the job. Thank you.","body":"@M.Deinum I&#39;ll take note of this, it seems that integration is indeed mounted to a remote source in the first place in order to become a trigger for launching batch processes, mount a couple of filters for files and get simple type meta information for the job. Thank you."}],"owner":{"account_id":26521337,"reputation":15,"user_id":20154968,"display_name":"Jekshenov Chingiz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664956810,"creation_date":1664956810,"question_id":73957394,"body_markdown":"I have an **FTP Streaming Inbound Channel Adapter** from **Spring Integration** which produces message with payloads of type **InputStream**, letting files be fetched without writing to the local file system.\r\n\r\n    @Bean\r\n    @InboundChannelAdapter(channel = Constants.CHANNEL_INBOUND_FTP_ADAPTER, poller = @Poller(fixedDelay = Constants.FIXED_POLLING_FROM_INBOUND_FTP_ADAPTER_DELAY))\r\n    public MessageSource&lt;InputStream&gt; ftpMessageSource() {\r\n        FtpStreamingMessageSource ftpStreamingMessageSource = new FtpStreamingMessageSource(ftpRemoteFileTemplate());\r\n        ftpStreamingMessageSource.setRemoteDirectory(ftpConnectionParameters.getRootDir());\r\n        ftpStreamingMessageSource.setFilter(chainFileListFilter());\r\n        ftpStreamingMessageSource.setMaxFetchSize(Constants.INBOUND_ADAPTER_MAX_FETCH_SIZE);\r\n        return ftpStreamingMessageSource;\r\n    }\r\n\r\nAfter I transform with\r\n\r\n    @Bean\r\n    @org.springframework.integration.annotation.Transformer(inputChannel = Constants.CHANNEL_INBOUND_FTP_ADAPTER, outputChannel = Constants.CHANNEL_STREAMED_DATA)\r\n    public Transformer transformer() {\r\n        return new StreamTransformer(Charset.defaultCharset().name());\r\n    }\r\n\r\nThen handle data to check it works and maybe for custom inteceptors for future:\r\n\r\n    @ServiceActivator(inputChannel = Constants.CHANNEL_STREAMED_DATA, outputChannel = &quot;BATCH_ALARM_CHANNEL&quot;)\r\n    public Message&lt;?&gt; alarmHandler(Message&lt;?&gt; message) {\r\n            System.out.println(Constants.CHANNEL_ALARM);\r\n            System.out.println(message.getHeaders());\r\n            return message;\r\n    }\r\n\r\nAfter this according to **official Spring Batch Integration documentation** I have one more Transformer which let us transform to **JobLaunchRequest**\r\n\r\n    @Transformer\r\n    public JobLaunchRequest toRequest(Message&lt;File&gt; message) {\r\n        JobParametersBuilder jobParametersBuilder = new JobParametersBuilder();\r\n        jobParametersBuilder.addDate(&quot;dummy&quot;, new Date());\r\n        return new JobLaunchRequest(job, jobParametersBuilder.toJobParameters());\r\n    }\r\nHere we have **Message** from last **BATCH_ALARM_CHANNEL** which needs in Spring Batch Jobs, but **JobParametersBuilder doesn&#39;t allow to put complex object only primitive types**. So how I can pass message payload for JobLaunching and do the rest of the work such as read, parse and save to DB?","title":"How to delegate Spring Integration Message Payload to Spring Batch Job?","body":"<p>I have an <strong>FTP Streaming Inbound Channel Adapter</strong> from <strong>Spring Integration</strong> which produces message with payloads of type <strong>InputStream</strong>, letting files be fetched without writing to the local file system.</p>\n<pre><code>@Bean\n@InboundChannelAdapter(channel = Constants.CHANNEL_INBOUND_FTP_ADAPTER, poller = @Poller(fixedDelay = Constants.FIXED_POLLING_FROM_INBOUND_FTP_ADAPTER_DELAY))\npublic MessageSource&lt;InputStream&gt; ftpMessageSource() {\n    FtpStreamingMessageSource ftpStreamingMessageSource = new FtpStreamingMessageSource(ftpRemoteFileTemplate());\n    ftpStreamingMessageSource.setRemoteDirectory(ftpConnectionParameters.getRootDir());\n    ftpStreamingMessageSource.setFilter(chainFileListFilter());\n    ftpStreamingMessageSource.setMaxFetchSize(Constants.INBOUND_ADAPTER_MAX_FETCH_SIZE);\n    return ftpStreamingMessageSource;\n}\n</code></pre>\n<p>After I transform with</p>\n<pre><code>@Bean\n@org.springframework.integration.annotation.Transformer(inputChannel = Constants.CHANNEL_INBOUND_FTP_ADAPTER, outputChannel = Constants.CHANNEL_STREAMED_DATA)\npublic Transformer transformer() {\n    return new StreamTransformer(Charset.defaultCharset().name());\n}\n</code></pre>\n<p>Then handle data to check it works and maybe for custom inteceptors for future:</p>\n<pre><code>@ServiceActivator(inputChannel = Constants.CHANNEL_STREAMED_DATA, outputChannel = &quot;BATCH_ALARM_CHANNEL&quot;)\npublic Message&lt;?&gt; alarmHandler(Message&lt;?&gt; message) {\n        System.out.println(Constants.CHANNEL_ALARM);\n        System.out.println(message.getHeaders());\n        return message;\n}\n</code></pre>\n<p>After this according to <strong>official Spring Batch Integration documentation</strong> I have one more Transformer which let us transform to <strong>JobLaunchRequest</strong></p>\n<pre><code>@Transformer\npublic JobLaunchRequest toRequest(Message&lt;File&gt; message) {\n    JobParametersBuilder jobParametersBuilder = new JobParametersBuilder();\n    jobParametersBuilder.addDate(&quot;dummy&quot;, new Date());\n    return new JobLaunchRequest(job, jobParametersBuilder.toJobParameters());\n}\n</code></pre>\n<p>Here we have <strong>Message</strong> from last <strong>BATCH_ALARM_CHANNEL</strong> which needs in Spring Batch Jobs, but <strong>JobParametersBuilder doesn't allow to put complex object only primitive types</strong>. So how I can pass message payload for JobLaunching and do the rest of the work such as read, parse and save to DB?</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664939720,"creation_date":1664939720,"answer_id":73955595,"question_id":73953918,"body_markdown":"You can write an Interceptor that adds the IP address as an HTTP header in the response. You can get this information from the `connection` which is on the `chain` of a network interceptor. Note that this IP address will apply to cached responses also.\r\n\r\nSee the Interceptors doc for samples.\r\nhttps://square.github.io/okhttp/features/interceptors/","title":"Get IP address of server from Response in okhttp3","body":"<p>You can write an Interceptor that adds the IP address as an HTTP header in the response. You can get this information from the <code>connection</code> which is on the <code>chain</code> of a network interceptor. Note that this IP address will apply to cached responses also.</p>\n<p>See the Interceptors doc for samples.\n<a href=\"https://square.github.io/okhttp/features/interceptors/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/features/interceptors/</a></p>\n"}],"owner":{"account_id":26529831,"reputation":3,"user_id":20162212,"display_name":"ajeanlaurent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73955595,"answer_count":1,"score":0,"last_activity_date":1664956363,"creation_date":1664919960,"question_id":73953918,"body_markdown":"I&#39;m using okhttp3 and am trying to get the Ip address of the server that I am contacting, (for logging reasons).\r\n\r\nIdeally I&#39;d like to be able to receive a response, and grab the IPV4 or IPV6 address from the server that the response came from. Looking through okhttp3 docs I don&#39;t see an obvious way.\r\n\r\nIs this possible? Or is there perhaps another way to get this information?","title":"Get IP address of server from Response in okhttp3","body":"<p>I'm using okhttp3 and am trying to get the Ip address of the server that I am contacting, (for logging reasons).</p>\n<p>Ideally I'd like to be able to receive a response, and grab the IPV4 or IPV6 address from the server that the response came from. Looking through okhttp3 docs I don't see an obvious way.</p>\n<p>Is this possible? Or is there perhaps another way to get this information?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1665007029,"post_id":73955946,"comment_id":130601357,"body_markdown":"Does this answer your question? [Spring Boot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;](https://stackoverflow.com/questions/70036953/spring-boot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70036953/spring-boot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboo\">Spring Boot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664956340,"creation_date":1664956340,"answer_id":73957316,"question_id":73955946,"body_markdown":"This is an open [issue][1] for `sprinfox` project, which is also documented in the release notes of `spring-boot` [2.6 Release Notes][2].\r\n\r\nWhat you currently can do is try the [workaround1][3] or [workaround2][4] offered in the above issue.\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/3462\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc\r\n  [3]: https://github.com/springfox/springfox/issues/3462#issuecomment-978707909\r\n  [4]: https://github.com/springfox/springfox/issues/3462#issuecomment-1076552144","title":"spring mvc path match matching-strategy","body":"<p>This is an open <a href=\"https://github.com/springfox/springfox/issues/3462\" rel=\"nofollow noreferrer\">issue</a> for <code>sprinfox</code> project, which is also documented in the release notes of <code>spring-boot</code> <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc\" rel=\"nofollow noreferrer\">2.6 Release Notes</a>.</p>\n<p>What you currently can do is try the <a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-978707909\" rel=\"nofollow noreferrer\">workaround1</a> or <a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-1076552144\" rel=\"nofollow noreferrer\">workaround2</a> offered in the above issue.</p>\n"}],"owner":{"account_id":20890373,"reputation":99,"user_id":15345872,"display_name":"Caesarius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664956340,"creation_date":1664944188,"question_id":73955946,"body_markdown":"This \r\n\r\n*application.properties* file\r\nspring.mvc.pathmatch.matching-strategy = ant-path-matcher\r\n\r\ndoes not work with \r\n\r\n\r\n  \r\n\r\n      &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-boot-starter --&gt;\r\n    &lt;!-- &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt; --&gt;\r\n\r\nin pom.xml file\r\n\r\n  \r\nbut does work with this :\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin pom.xml file.\r\n\r\nHow one can set  the *application.properties* file property \r\n*spring.mvc.pathmatch.matching-strategy = ?*\r\nsuch that both dependencies are used in the same application without having the error :\r\n\r\n**&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null**\r\n\r\nat maven clean install command .\r\n\r\n \r\n\r\n\r\n","title":"spring mvc path match matching-strategy","body":"<p>This</p>\n<p><em>application.properties</em> file\nspring.mvc.pathmatch.matching-strategy = ant-path-matcher</p>\n<p>does not work with</p>\n<pre><code>  &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-boot-starter --&gt;\n&lt;!-- &lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt; --&gt;\n</code></pre>\n<p>in pom.xml file</p>\n<p>but does work with this :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>in pom.xml file.</p>\n<p>How one can set  the <em>application.properties</em> file property\n<em>spring.mvc.pathmatch.matching-strategy = ?</em>\nsuch that both dependencies are used in the same application without having the error :</p>\n<p><strong>&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null</strong></p>\n<p>at maven clean install command .</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","json-patch"],"comments":[{"owner":{"account_id":559817,"reputation":1452,"user_id":1281331,"accept_rate":50,"display_name":"yodamad"},"score":0,"creation_date":1588326364,"post_id":61539955,"comment_id":108858738,"body_markdown":"Did u have a look at `@JsonView` from jackson. Maybe u can find a nicer solution. Tutorial here : https://www.baeldung.com/jackson-json-view-annotation","body":"Did u have a look at <code>@JsonView</code> from jackson. Maybe u can find a nicer solution. Tutorial here : <a href=\"https://www.baeldung.com/jackson-json-view-annotation\" rel=\"nofollow noreferrer\">baeldung.com/jackson-json-view-annotation</a>"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1588326777,"post_id":61539955,"comment_id":108858885,"body_markdown":"Don&#39;t Expose Entity at controller level, if the path is getting user id you can remove it from POJO class. Also, please take a look at this https://vladmihalcea.com/how-to-update-only-a-subset-of-entity-attributes-using-jpa-and-hibernate/ you need to make Id updatable = false","body":"Don&#39;t Expose Entity at controller level, if the path is getting user id you can remove it from POJO class. Also, please take a look at this <a href=\"https://vladmihalcea.com/how-to-update-only-a-subset-of-entity-attributes-using-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> you need to make Id updatable = false"},{"owner":{"account_id":1342188,"reputation":359,"user_id":1283661,"accept_rate":62,"display_name":"Maria Stellini"},"score":0,"creation_date":1588329365,"post_id":61539955,"comment_id":108859869,"body_markdown":"@yodamad - I will have a look at JsonView.","body":"@yodamad - I will have a look at JsonView."},{"owner":{"account_id":1342188,"reputation":359,"user_id":1283661,"accept_rate":62,"display_name":"Maria Stellini"},"score":0,"creation_date":1588329446,"post_id":61539955,"comment_id":108859900,"body_markdown":"@silentsudo - I can create a different Projo from the entity however I still need to expose an ID as I want to allow the user to request a Person by it&#39;s ID. I just don&#39;t want them to update it, as that just creates a lot of changes and does not provide any value to the user.","body":"@silentsudo - I can create a different Projo from the entity however I still need to expose an ID as I want to allow the user to request a Person by it&#39;s ID. I just don&#39;t want them to update it, as that just creates a lot of changes and does not provide any value to the user."},{"owner":{"account_id":10162810,"reputation":1428,"user_id":7505731,"display_name":"Hemant"},"score":0,"creation_date":1588330448,"post_id":61539955,"comment_id":108860260,"body_markdown":"@shanti can you add a sample JsonPatch you are sending inn requestbody ?","body":"@shanti can you add a sample JsonPatch you are sending inn requestbody ?"},{"owner":{"account_id":1342188,"reputation":359,"user_id":1283661,"accept_rate":62,"display_name":"Maria Stellini"},"score":0,"creation_date":1588331323,"post_id":61539955,"comment_id":108860588,"body_markdown":"@Hemant - added example patch to my question","body":"@Hemant - added example patch to my question"},{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":0,"creation_date":1588338331,"post_id":61539955,"comment_id":108863604,"body_markdown":"What is jsonpatch, show this class.","body":"What is jsonpatch, show this class."},{"owner":{"account_id":1342188,"reputation":359,"user_id":1283661,"accept_rate":62,"display_name":"Maria Stellini"},"score":0,"creation_date":1588423468,"post_id":61539955,"comment_id":108892162,"body_markdown":"@improbable - I am using this library https://github.com/java-json-tools/json-patch","body":"@improbable - I am using this library <a href=\"https://github.com/java-json-tools/json-patch\" rel=\"nofollow noreferrer\">github.com/java-json-tools/json-patch</a>"},{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":0,"creation_date":1588528674,"post_id":61539955,"comment_id":108926696,"body_markdown":"put its body in the description, ain&#39;t nobody got time to go and look for that class","body":"put its body in the description, ain&#39;t nobody got time to go and look for that class"}],"answers":[{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588326948,"creation_date":1588326948,"answer_id":61540261,"question_id":61539955,"body_markdown":"Can you try following code, once the entity is persisted any following updates are discarded by setting id column as `updatable = false`\r\n\r\n```\r\nclass Person {\r\n\r\n     @Id @GeneratedValue\r\n     @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n     Long id;\r\n     @NotNull @NotBlank String name;\r\n     @NotNull @NotBlank String surname\r\n}\r\n```","title":"How to disallow updating of a field while patching with Java JSON Patch","body":"<p>Can you try following code, once the entity is persisted any following updates are discarded by setting id column as <code>updatable = false</code></p>\n\n<pre><code>class Person {\n\n     @Id @GeneratedValue\n     @Column(name = \"id\", updatable = false, nullable = false)\n     Long id;\n     @NotNull @NotBlank String name;\n     @NotNull @NotBlank String surname\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22178411,"reputation":105,"user_id":16422535,"display_name":"Khoa Le"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664956053,"creation_date":1628625666,"answer_id":68732874,"question_id":61539955,"body_markdown":"I suggest you to expose a DTO instead of entity in the controller. Additionally, you can use ```@JsonView``` to provide different views for different REST operations. See [this article][1] for usage of ```@JsonView```.\r\n\r\nFirst, you can define views for GET and PATCH methods. Since GET method requires more data than PATCH, ```GetView``` can extend ```PatchView``` like this:\r\n```\r\npublic class View {\r\n     \r\n     public interface PatchView {}\r\n     public interface GetView extends PatchView {}\r\n}\r\n```\r\n\r\nIn addition to Person entity, we can have a PersonDto class. ```PatchView``` will have name and surename while ```GetView``` extends ```PatchView``` and has an additional ```id``` property:\r\n```\r\nclass PersonDto {\r\n     \r\n     @JsonView(View.GetView.class)\r\n     Long id;\r\n\r\n     @JsonView(View.PatchView.class)\r\n     @NotBlank \r\n     String name;\r\n     \r\n     @JsonView(View.PatchView.class)\r\n     @NotBlank \r\n     String surname;\r\n}\r\n```\r\n\r\nYou can use [Mapstruct][2] mapping library to convert Person entity to PersoDto and vice versa.\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface PersonMapper() {\r\n\r\n    PersonDto toPersonDto(Person person);\r\n\r\n    Person toPerson(PersonDto personDto);\r\n\r\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    Person toPerson(PersonDto personDto, @MappingTarget Person person)\r\n}\r\n```\r\n\r\nFurthermore, in the controller, you can configure ObjectMapper to include ```PatchView``` in its deserialization configuration [like this SO answer][3]:\r\n```\r\n@Autowired     // you should use construtor injection instead of @Autowired\r\nprivate PersonMapper personMapper;\r\n\r\n@PatchMapping(path = &quot;/{personId}&quot;, consumes = &quot;application/json-patch+json&quot;)\r\nResponseEntity&lt;Trip&gt; patchPerson(@PathVariable Long personId,\r\n                               @RequestBody JsonPatch jsonPatch) throws JsonProcessingException, JsonPatchException {\r\n    Person targetPerson = personRepository.findOne(personId);\r\n    \r\n    // Mapstruct mapper to map Person to PersonDto\r\n    PersonDto personDto = personMapper.toPersonDto(targetPerson);\r\n    \r\n    // new ObjectMapper instance\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    // configure ObjectMapper instance to include JsonView in its deserializer config (View.PatchView.class in this case)\r\n    objectMapper.disable(MapperFeature.DEFAULT_VIEW_INCLUSION);\r\n    objectMapper.setConfig(mapper.getDerializationConfig()\r\n                            .withView(View.PatchView.class));\r\n    \r\n    // apply Json patch to PersonDto\r\n    JsonNode target = objectMapper.convertValue(personDto, JsonNode.class);\r\n    JsonNode patched = jsonPatch.apply(target);\r\n    PersonDto updatedPersonDto = objectMapper.treeToValue(patched, PersonDto.class);\r\n\r\n    // convert patched PersonDto back to Person entity using Mapstruct\r\n    Person person = personMapper.toPerson(updatedPersonDto, targetPerson);\r\n\r\n    // your additional logic\r\n}\r\n```\r\n\r\nNow PATCH method will ignore the ```id``` property in its deserialization.\r\n\r\n**Update:** This workaround basically set properties that are not in @JsonView to null, and mapstruct will ignore null values when converting from DTO back to entity, hence it satisfies the purpose of this post. However, ```boolean``` type properties will be automatically ```set to false``` if they are not included in @JsonView. A solution for this problem is using ```Boolean``` in DTO (not the primitive type boolean) and primitive type ```boolean``` in entity. The reason why it works because ```Boolean``` accepts null value and ```boolean``` does not. If a Boolean property in DTO is null, then mapstruct will not convert it to the mapped boolean property in entity. \r\n\r\n\r\n  [1]: https://medium.com/@iamitpatil1993/jackson-jsonview-and-its-meaningful-use-with-spring-boot-rest-5fb2ad58dcfe\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/\r\n  [3]: https://stackoverflow.com/a/24545347/16422535","title":"How to disallow updating of a field while patching with Java JSON Patch","body":"<p>I suggest you to expose a DTO instead of entity in the controller. Additionally, you can use <code>@JsonView</code> to provide different views for different REST operations. See <a href=\"https://medium.com/@iamitpatil1993/jackson-jsonview-and-its-meaningful-use-with-spring-boot-rest-5fb2ad58dcfe\" rel=\"nofollow noreferrer\">this article</a> for usage of <code>@JsonView</code>.</p>\n<p>First, you can define views for GET and PATCH methods. Since GET method requires more data than PATCH, <code>GetView</code> can extend <code>PatchView</code> like this:</p>\n<pre><code>public class View {\n     \n     public interface PatchView {}\n     public interface GetView extends PatchView {}\n}\n</code></pre>\n<p>In addition to Person entity, we can have a PersonDto class. <code>PatchView</code> will have name and surename while <code>GetView</code> extends <code>PatchView</code> and has an additional <code>id</code> property:</p>\n<pre><code>class PersonDto {\n     \n     @JsonView(View.GetView.class)\n     Long id;\n\n     @JsonView(View.PatchView.class)\n     @NotBlank \n     String name;\n     \n     @JsonView(View.PatchView.class)\n     @NotBlank \n     String surname;\n}\n</code></pre>\n<p>You can use <a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">Mapstruct</a> mapping library to convert Person entity to PersoDto and vice versa.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface PersonMapper() {\n\n    PersonDto toPersonDto(Person person);\n\n    Person toPerson(PersonDto personDto);\n\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n    Person toPerson(PersonDto personDto, @MappingTarget Person person)\n}\n</code></pre>\n<p>Furthermore, in the controller, you can configure ObjectMapper to include <code>PatchView</code> in its deserialization configuration <a href=\"https://stackoverflow.com/a/24545347/16422535\">like this SO answer</a>:</p>\n<pre><code>@Autowired     // you should use construtor injection instead of @Autowired\nprivate PersonMapper personMapper;\n\n@PatchMapping(path = &quot;/{personId}&quot;, consumes = &quot;application/json-patch+json&quot;)\nResponseEntity&lt;Trip&gt; patchPerson(@PathVariable Long personId,\n                               @RequestBody JsonPatch jsonPatch) throws JsonProcessingException, JsonPatchException {\n    Person targetPerson = personRepository.findOne(personId);\n    \n    // Mapstruct mapper to map Person to PersonDto\n    PersonDto personDto = personMapper.toPersonDto(targetPerson);\n    \n    // new ObjectMapper instance\n    ObjectMapper objectMapper = new ObjectMapper();\n    // configure ObjectMapper instance to include JsonView in its deserializer config (View.PatchView.class in this case)\n    objectMapper.disable(MapperFeature.DEFAULT_VIEW_INCLUSION);\n    objectMapper.setConfig(mapper.getDerializationConfig()\n                            .withView(View.PatchView.class));\n    \n    // apply Json patch to PersonDto\n    JsonNode target = objectMapper.convertValue(personDto, JsonNode.class);\n    JsonNode patched = jsonPatch.apply(target);\n    PersonDto updatedPersonDto = objectMapper.treeToValue(patched, PersonDto.class);\n\n    // convert patched PersonDto back to Person entity using Mapstruct\n    Person person = personMapper.toPerson(updatedPersonDto, targetPerson);\n\n    // your additional logic\n}\n</code></pre>\n<p>Now PATCH method will ignore the <code>id</code> property in its deserialization.</p>\n<p><strong>Update:</strong> This workaround basically set properties that are not in @JsonView to null, and mapstruct will ignore null values when converting from DTO back to entity, hence it satisfies the purpose of this post. However, <code>boolean</code> type properties will be automatically <code>set to false</code> if they are not included in @JsonView. A solution for this problem is using <code>Boolean</code> in DTO (not the primitive type boolean) and primitive type <code>boolean</code> in entity. The reason why it works because <code>Boolean</code> accepts null value and <code>boolean</code> does not. If a Boolean property in DTO is null, then mapstruct will not convert it to the mapped boolean property in entity.</p>\n"}],"owner":{"account_id":1342188,"reputation":359,"user_id":1283661,"accept_rate":62,"display_name":"Maria Stellini"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664956053,"creation_date":1588325511,"question_id":61539955,"body_markdown":"I have a spring boot project containing a Pojo named Person and a controller which allows a user to get a person by Id and to Patch the Person object so that it&#39;s name or/and surname could be updated.\r\n\r\nThe Person Pojo (simplified for example purposes)\r\n\r\n    class Person {\r\n         @Id @GeneratedValue Long id;\r\n         @NotNull @NotBlank String name;\r\n         @NotNull @NotBlank String surname\r\n    }\r\n\r\nIn controller\r\n\r\n    @PatchMapping(path = &quot;/{personId}&quot;, consumes = &quot;application/json-patch+json&quot;)\r\n    ResponseEntity&lt;Trip&gt; patchPerson(@PathVariable Long personId,\r\n                                   @RequestBody final JsonPatch jsonPatch) throws JsonProcessingException, JsonPatchException {\r\n        final Person targetPerson = personRepository.findOne(personId);\r\n\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        final JsonNode patch = objectMapper.convertValue(targetPerson, JsonNode.class);\r\n        JsonNode patched = jsonPatch.apply(patch);\r\n        final Person updatedPerson = objectMapper.treeToValue(patched, Person.class);\r\n\r\nHow best to achieve the following behaviour?\r\n\r\n - Send all fields as response when a GET request is received.\r\n - Do not allow the user to update the id when sending a Patch. Only the name and surname can be updated.\r\n\r\nAdding an example patch I am sending \r\n\r\n    [{ &quot;op&quot;: &quot;replace&quot;, &quot;path&quot;:&quot;/id&quot;, &quot;value&quot;:&quot;200&quot; }]","title":"How to disallow updating of a field while patching with Java JSON Patch","body":"<p>I have a spring boot project containing a Pojo named Person and a controller which allows a user to get a person by Id and to Patch the Person object so that it's name or/and surname could be updated.</p>\n\n<p>The Person Pojo (simplified for example purposes)</p>\n\n<pre><code>class Person {\n     @Id @GeneratedValue Long id;\n     @NotNull @NotBlank String name;\n     @NotNull @NotBlank String surname\n}\n</code></pre>\n\n<p>In controller</p>\n\n<pre><code>@PatchMapping(path = \"/{personId}\", consumes = \"application/json-patch+json\")\nResponseEntity&lt;Trip&gt; patchPerson(@PathVariable Long personId,\n                               @RequestBody final JsonPatch jsonPatch) throws JsonProcessingException, JsonPatchException {\n    final Person targetPerson = personRepository.findOne(personId);\n\n    final ObjectMapper objectMapper = new ObjectMapper();\n    final JsonNode patch = objectMapper.convertValue(targetPerson, JsonNode.class);\n    JsonNode patched = jsonPatch.apply(patch);\n    final Person updatedPerson = objectMapper.treeToValue(patched, Person.class);\n</code></pre>\n\n<p>How best to achieve the following behaviour?</p>\n\n<ul>\n<li>Send all fields as response when a GET request is received.</li>\n<li>Do not allow the user to update the id when sending a Patch. Only the name and surname can be updated.</li>\n</ul>\n\n<p>Adding an example patch I am sending </p>\n\n<pre><code>[{ \"op\": \"replace\", \"path\":\"/id\", \"value\":\"200\" }]\n</code></pre>\n"},{"tags":["java","docker","maven","jenkins"],"answers":[{"tags":[],"owner":{"account_id":20968214,"reputation":349,"user_id":15405927,"display_name":"Gonzalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664955680,"creation_date":1664897034,"answer_id":73950155,"question_id":73947387,"body_markdown":"What worked in my case was that Jenkins controller (built-in node, master) passes the environment variables to the container... So the container inherits the whole ``env`` from the controller.\r\n\r\nHence the container is trying to use a ``JAVA_HOME`` that is not appropiate for the container. \r\n\r\nJust unsetting the ``JAVA_HOME`` variable when building the container fixed the error.\r\n\r\n```groovy\r\nagent {\r\n    docker {\r\n        image &#39;myimage:latest&#39;\r\n        reuseNode true\r\n    }\r\n    steps {\r\n        sh &quot;unset JAVA_HOME &amp;&amp; mvn clean install&quot;\r\n    }\r\n}\r\n```","title":"Jenkins with docker agent can&#39;t find JAVA_HOME when installing Maven","body":"<p>What worked in my case was that Jenkins controller (built-in node, master) passes the environment variables to the container... So the container inherits the whole <code>env</code> from the controller.</p>\n<p>Hence the container is trying to use a <code>JAVA_HOME</code> that is not appropiate for the container.</p>\n<p>Just unsetting the <code>JAVA_HOME</code> variable when building the container fixed the error.</p>\n<pre><code>agent {\n    docker {\n        image 'myimage:latest'\n        reuseNode true\n    }\n    steps {\n        sh &quot;unset JAVA_HOME &amp;&amp; mvn clean install&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20968214,"reputation":349,"user_id":15405927,"display_name":"Gonzalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73950155,"answer_count":1,"score":0,"last_activity_date":1664955680,"creation_date":1664883906,"question_id":73947387,"body_markdown":"I have a declarative pipeline: \r\n```\r\nagent {\r\n    docker {\r\n        image &#39;myimage:latest&#39;\r\n        reuseNode true\r\n    }\r\n    steps {\r\n        sh &quot;mvn clean install&quot;\r\n    }\r\n}\r\n\r\n```\r\n\r\nIt errors with:\r\n```\r\nThe JAVA_HOME environment variable is not defined correctly\r\n\r\nThis environment variable is needed to run this program\r\n\r\nNB: JAVA_HOME should point to a JDK not a JRE\r\n```\r\n\r\nThis is a problem with Jenkins and how it treats docker containers, cause the **same image** outside of the Jenkins environment effectively does the maven cleanup and install command without problems.\r\n\r\nI prefer not using external plugins, I would like to adopt a vanilla solution. Has anyone faced something similar?\r\n\r\nMany thanks. \r\n\r\nJava version used:\r\n``` bash\r\n$ java -version\r\n\r\nopenjdk version &quot;1.8.0_302&quot;\r\nOpenJDK Runtime Environment (IcedTea 3.20.0) (Alpine 8.302.08-r1)\r\nOpenJDK 64-Bit Server VM (build 25.302-b08, mixed mode)\r\n```\r\nMaven version used (output from outside of the Jenkins environment):\r\n``` bash\r\n$ mvn -v\r\n\r\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\nMaven home: /usr/share/java/maven-3\r\nJava version: 1.8.0_302, vendor: IcedTea, runtime: /usr/lib/jvm/java-1.8-openjdk/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.10.104-linuxkit&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n``` \r\n\r\nMy dockerfile which builds the image **myimage**:\r\n``` Dockerfile\r\nFROM amd64/alpine:3.14\r\nRUN apk update\r\nRUN apk add --no-cache openjdk8\r\nRUN apk add --no-cache maven\r\n```","title":"Jenkins with docker agent can&#39;t find JAVA_HOME when installing Maven","body":"<p>I have a declarative pipeline:</p>\n<pre><code>agent {\n    docker {\n        image 'myimage:latest'\n        reuseNode true\n    }\n    steps {\n        sh &quot;mvn clean install&quot;\n    }\n}\n\n</code></pre>\n<p>It errors with:</p>\n<pre><code>The JAVA_HOME environment variable is not defined correctly\n\nThis environment variable is needed to run this program\n\nNB: JAVA_HOME should point to a JDK not a JRE\n</code></pre>\n<p>This is a problem with Jenkins and how it treats docker containers, cause the <strong>same image</strong> outside of the Jenkins environment effectively does the maven cleanup and install command without problems.</p>\n<p>I prefer not using external plugins, I would like to adopt a vanilla solution. Has anyone faced something similar?</p>\n<p>Many thanks.</p>\n<p>Java version used:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -version\n\nopenjdk version &quot;1.8.0_302&quot;\nOpenJDK Runtime Environment (IcedTea 3.20.0) (Alpine 8.302.08-r1)\nOpenJDK 64-Bit Server VM (build 25.302-b08, mixed mode)\n</code></pre>\n<p>Maven version used (output from outside of the Jenkins environment):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn -v\n\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /usr/share/java/maven-3\nJava version: 1.8.0_302, vendor: IcedTea, runtime: /usr/lib/jvm/java-1.8-openjdk/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.10.104-linuxkit&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>My dockerfile which builds the image <strong>myimage</strong>:</p>\n<pre><code>FROM amd64/alpine:3.14\nRUN apk update\nRUN apk add --no-cache openjdk8\nRUN apk add --no-cache maven\n</code></pre>\n"},{"tags":["java","android-studio","google-maps"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664955049,"post_id":73956667,"comment_id":130584328,"body_markdown":"Why not store latitude and longitude in separate columns for each point? I&#39;d probably also create a table to store the polygons or the fields and keep a reference to that in each point that is part of it - along with an order column for each point so you get the right sequence for the polygon.","body":"Why not store latitude and longitude in separate columns for each point? I&#39;d probably also create a table to store the polygons or the fields and keep a reference to that in each point that is part of it - along with an order column for each point so you get the right sequence for the polygon."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664955139,"creation_date":1664955139,"answer_id":73957108,"question_id":73956667,"body_markdown":"Try this.\r\n\r\n    Pattern LAT_LNG = Pattern.compile(&quot;([-\\\\d.]+),([-\\\\d.]+)&quot;);\r\n    String latlng = &quot;[lat/lng: (-3.987413925092502,-18.76223847270012),&quot;\r\n        + &quot;lat/lng: (-4.878691546616136,-2.84572284668684),&quot;\r\n        + &quot;lat/lng: (-7.610723424687183,-11.666696257889273),&quot;\r\n        + &quot;lat/lng: (-3.987413925092502,-18.76223847270012)]&quot;;\r\n    Matcher matcher = LAT_LNG.matcher(latlng);\r\n    while (matcher.find()) {\r\n        double lat = Double.parseDouble(matcher.group(1));\r\n        double lng = Double.parseDouble(matcher.group(2));\r\n        System.out.println(&quot;lat=&quot; + lat + &quot; lng=&quot; + lng);\r\n    }\r\n\r\noutput:\r\n\r\n    lat=-3.987413925092502 lng=-18.76223847270012\r\n    lat=-4.878691546616136 lng=-2.84572284668684\r\n    lat=-7.610723424687183 lng=-11.666696257889273\r\n    lat=-3.987413925092502 lng=-18.76223847270012\r\n\r\n","title":"Store Polygon points to sqlite database","body":"<p>Try this.</p>\n<pre><code>Pattern LAT_LNG = Pattern.compile(&quot;([-\\\\d.]+),([-\\\\d.]+)&quot;);\nString latlng = &quot;[lat/lng: (-3.987413925092502,-18.76223847270012),&quot;\n    + &quot;lat/lng: (-4.878691546616136,-2.84572284668684),&quot;\n    + &quot;lat/lng: (-7.610723424687183,-11.666696257889273),&quot;\n    + &quot;lat/lng: (-3.987413925092502,-18.76223847270012)]&quot;;\nMatcher matcher = LAT_LNG.matcher(latlng);\nwhile (matcher.find()) {\n    double lat = Double.parseDouble(matcher.group(1));\n    double lng = Double.parseDouble(matcher.group(2));\n    System.out.println(&quot;lat=&quot; + lat + &quot; lng=&quot; + lng);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>lat=-3.987413925092502 lng=-18.76223847270012\nlat=-4.878691546616136 lng=-2.84572284668684\nlat=-7.610723424687183 lng=-11.666696257889273\nlat=-3.987413925092502 lng=-18.76223847270012\n</code></pre>\n"}],"owner":{"account_id":25713222,"reputation":95,"user_id":19471412,"display_name":"Bitti4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73957108,"answer_count":1,"score":0,"last_activity_date":1664955139,"creation_date":1664952092,"question_id":73956667,"body_markdown":"In my app I create fields on the map by using polygons.The polygons are created by the user by clicking on the map and creating points/markers and the clicking a button to create the polygon.\r\nNow I want these fields/polygons to be stored on my SQLite database but the points are given in lat/lng data type.\r\n\r\nOne way I thought of doing this is by storing the string of the *polygon.getPoints()* function:\r\n\r\n    Polygon p;\r\n    String latlng = p.getPoints().toString();\r\nThe output of latlng is:\r\n\r\n    [lat/lng: (-3.987413925092502,-18.76223847270012), lat/lng: (-4.878691546616136,-2.84572284668684), lat/lng: (-7.610723424687183,-11.666696257889273), lat/lng: (-3.987413925092502,-18.76223847270012)]\r\n\r\nAnd then when retrieving it from the database convert all the points by first removing all the unnecessary text from the string using *replaceAll()* and then putting every single point on the list and then again converting them to lat/lng.\r\n\r\nIt seems a little bit like overkill is there a better way to handle this?","title":"Store Polygon points to sqlite database","body":"<p>In my app I create fields on the map by using polygons.The polygons are created by the user by clicking on the map and creating points/markers and the clicking a button to create the polygon.\nNow I want these fields/polygons to be stored on my SQLite database but the points are given in lat/lng data type.</p>\n<p>One way I thought of doing this is by storing the string of the <em>polygon.getPoints()</em> function:</p>\n<pre><code>Polygon p;\nString latlng = p.getPoints().toString();\n</code></pre>\n<p>The output of latlng is:</p>\n<pre><code>[lat/lng: (-3.987413925092502,-18.76223847270012), lat/lng: (-4.878691546616136,-2.84572284668684), lat/lng: (-7.610723424687183,-11.666696257889273), lat/lng: (-3.987413925092502,-18.76223847270012)]\n</code></pre>\n<p>And then when retrieving it from the database convert all the points by first removing all the unnecessary text from the string using <em>replaceAll()</em> and then putting every single point on the list and then again converting them to lat/lng.</p>\n<p>It seems a little bit like overkill is there a better way to handle this?</p>\n"},{"tags":["java","android","testing","mobile","cts"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664954523,"post_id":73956993,"comment_id":130584202,"body_markdown":"*but it not work* is not an error description. Please explain what it means","body":"<i>but it not work</i> is not an error description. Please explain what it means"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664957306,"post_id":73956993,"comment_id":130584984,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25880941,"reputation":1,"user_id":19610009,"display_name":"Tin Nguyen"},"score":0,"creation_date":1664958601,"post_id":73956993,"comment_id":130585436,"body_markdown":"when i double click .bat file, prompt is blink in task bar but can not run and i can&#39;t receive any error","body":"when i double click .bat file, prompt is blink in task bar but can not run and i can&#39;t receive any error"},{"owner":{"account_id":25880941,"reputation":1,"user_id":19610009,"display_name":"Tin Nguyen"},"score":0,"creation_date":1664958982,"post_id":73956993,"comment_id":130585540,"body_markdown":"Can you give me some way to set up and run android CTS 11 on window","body":"Can you give me some way to set up and run android CTS 11 on window"}],"owner":{"account_id":25880941,"reputation":1,"user_id":19610009,"display_name":"Tin Nguyen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664954477,"creation_date":1664954429,"question_id":73956993,"body_markdown":"I find solution create .bat file and edit it with :  \r\n\r\n    java -cp ddmlib-prebuilt.jar;tradefed-prebuilt.jar;hosttestlib.jar;cts-tradefed.jar -DCTS_ROOT=D:\\ com.android.cts.tradefed.command.CtsConsole\r\n\r\nIt run for CTS 4.2 but not run for cts android 11. File .bat not work. I had replaced DCTS_ROOT path, but it not work too. I see the directory structure cts 4.2 and cts 11 are different","title":"How to setup CTS for android 11 on window","body":"<p>I find solution create .bat file and edit it with :</p>\n<pre><code>java -cp ddmlib-prebuilt.jar;tradefed-prebuilt.jar;hosttestlib.jar;cts-tradefed.jar -DCTS_ROOT=D:\\ com.android.cts.tradefed.command.CtsConsole\n</code></pre>\n<p>It run for CTS 4.2 but not run for cts android 11. File .bat not work. I had replaced DCTS_ROOT path, but it not work too. I see the directory structure cts 4.2 and cts 11 are different</p>\n"},{"tags":["java","json","xml","jackson","tags"],"comments":[{"owner":{"account_id":15788230,"reputation":42024,"user_id":11392290,"display_name":"Serge"},"score":0,"creation_date":1657040566,"post_id":72872856,"comment_id":128713256,"body_markdown":"What language are you using?","body":"What language are you using?"},{"owner":{"account_id":14145567,"reputation":261,"user_id":10219004,"display_name":"mr. abhi"},"score":0,"creation_date":1657040837,"post_id":72872856,"comment_id":128713354,"body_markdown":"@Serge i am using java","body":"@Serge i am using java"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1657048010,"post_id":72872856,"comment_id":128715443,"body_markdown":"The JSON and XML data models don&#39;t have a one-to-one correspondence and every converter deals with the differences in its own way. If you want the output in a precise format under your own control, you&#39;re probably going to have to do it yourself (e.g. in XSLT) rather than using an off-the-shelf converter.","body":"The JSON and XML data models don&#39;t have a one-to-one correspondence and every converter deals with the differences in its own way. If you want the output in a precise format under your own control, you&#39;re probably going to have to do it yourself (e.g. in XSLT) rather than using an off-the-shelf converter."},{"owner":{"account_id":14145567,"reputation":261,"user_id":10219004,"display_name":"mr. abhi"},"score":0,"creation_date":1657078344,"post_id":72872856,"comment_id":128721279,"body_markdown":"But the conversion should give the correct output right..@MichaelKay","body":"But the conversion should give the correct output right..@MichaelKay"}],"answers":[{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664953836,"creation_date":1657273704,"answer_id":72909593,"question_id":72872856,"body_markdown":"There is [underscore-java][1] library with method `U.xmlToJson(xml)`.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;AccumulateResponse&gt;\r\n  &lt;TestCase&gt;\r\n    &lt;Transactionid&gt;str1234&lt;/Transactionid&gt;\r\n    &lt;TransactionType&gt;str1234&lt;/TransactionType&gt;\r\n    &lt;Status&gt;str1234&lt;/Status&gt;\r\n  &lt;/TestCase&gt;\r\n  &lt;TestCase&gt;\r\n    &lt;Transactionid&gt;str5678&lt;/Transactionid&gt;\r\n    &lt;TransactionType&gt;str5678&lt;/TransactionType&gt;\r\n    &lt;Status&gt;str5678&lt;/Status&gt;\r\n  &lt;/TestCase&gt;\r\n&lt;/AccumulateResponse&gt;\r\n```\r\n\r\n```\r\n{\r\n  &quot;AccumulateResponse&quot;: {\r\n    &quot;TestCase&quot;: [\r\n      {\r\n        &quot;Transactionid&quot;: &quot;str1234&quot;,\r\n        &quot;TransactionType&quot;: &quot;str1234&quot;,\r\n        &quot;Status&quot;: &quot;str1234&quot;\r\n      },\r\n      {\r\n        &quot;Transactionid&quot;: &quot;str5678&quot;,\r\n        &quot;TransactionType&quot;: &quot;str5678&quot;,\r\n        &quot;Status&quot;: &quot;str5678&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"XML to JSON conversion: why my 1st xml tag is getting skipped?","body":"<p>There is <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library with method <code>U.xmlToJson(xml)</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;AccumulateResponse&gt;\n  &lt;TestCase&gt;\n    &lt;Transactionid&gt;str1234&lt;/Transactionid&gt;\n    &lt;TransactionType&gt;str1234&lt;/TransactionType&gt;\n    &lt;Status&gt;str1234&lt;/Status&gt;\n  &lt;/TestCase&gt;\n  &lt;TestCase&gt;\n    &lt;Transactionid&gt;str5678&lt;/Transactionid&gt;\n    &lt;TransactionType&gt;str5678&lt;/TransactionType&gt;\n    &lt;Status&gt;str5678&lt;/Status&gt;\n  &lt;/TestCase&gt;\n&lt;/AccumulateResponse&gt;\n</code></pre>\n<pre><code>{\n  &quot;AccumulateResponse&quot;: {\n    &quot;TestCase&quot;: [\n      {\n        &quot;Transactionid&quot;: &quot;str1234&quot;,\n        &quot;TransactionType&quot;: &quot;str1234&quot;,\n        &quot;Status&quot;: &quot;str1234&quot;\n      },\n      {\n        &quot;Transactionid&quot;: &quot;str5678&quot;,\n        &quot;TransactionType&quot;: &quot;str5678&quot;,\n        &quot;Status&quot;: &quot;str5678&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14145567,"reputation":261,"user_id":10219004,"display_name":"mr. abhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664953836,"creation_date":1657039089,"question_id":72872856,"body_markdown":"while converting XML to JSON my 1st XML tag into JSON is getting skipped\r\n\r\nHere is the JAVA code snippet:\r\n\r\n```\r\n       String data=&quot;&quot;;\r\n       data = FileUtils.readFileToString(new File(&quot;src/main/resources/student.xml&quot;), &quot;UTF-8&quot;);\r\n       XmlMapper xmlMapper = new XmlMapper();\r\n       JsonNode jsonNode = xmlMapper.readTree(data.getBytes());\r\n       ObjectMapper objectMapper = new ObjectMapper();\r\n       objectMapper.writerWithDefaultPrettyPrinter().writeValue(newFile(&quot;src/main/resources/student.json&quot;),jsonNode);\r\n```\r\n\r\nhere is the input:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;AccumulateResponse&gt;\r\n  &lt;TestCase&gt;\r\n    &lt;Transactionid&gt;str1234&lt;/Transactionid&gt;\r\n    &lt;TransactionType&gt;str1234&lt;/TransactionType&gt;\r\n    &lt;Status&gt;str1234&lt;/Status&gt;\r\n  &lt;/TestCase&gt;\r\n  &lt;TestCase&gt;\r\n    &lt;Transactionid&gt;str5678&lt;/Transactionid&gt;\r\n    &lt;TransactionType&gt;str5678&lt;/TransactionType&gt;\r\n    &lt;Status&gt;str5678&lt;/Status&gt;\r\n  &lt;/TestCase&gt;\r\n&lt;/AccumulateResponse&gt;\r\n```\r\n\r\nhere is the output:\r\n\r\n```\r\n{\r\n  &quot;TestCase&quot;: [\r\n   {\r\n    &quot;Transactionid&quot;: &quot;str1234&quot;,\r\n    &quot;TransactionType&quot;: &quot;str1234&quot;,\r\n    &quot;Status&quot;: &quot;str1234&quot;\r\n   },\r\n   {\r\n    &quot;Transactionid&quot;: &quot;str5678&quot;,\r\n    &quot;TransactionType&quot;: &quot;str5678&quot;,\r\n    &quot;Status&quot;: &quot;str5678&quot;\r\n   }\r\n  ]\r\n}\r\n```\r\n\r\nhere is the required Output:\r\n\r\n```\r\n{\r\n&quot;AccumulateResponse&quot;: {\r\n  &quot;TestCase&quot;: [\r\n   {\r\n    &quot;Transactionid&quot;: &quot;str1234&quot;,\r\n    &quot;TransactionType&quot;: &quot;str1234&quot;,\r\n    &quot;Status&quot;: &quot;str1234&quot;\r\n   },\r\n   {\r\n    &quot;Transactionid&quot;: &quot;str5678&quot;,\r\n    &quot;TransactionType&quot;: &quot;str5678&quot;,\r\n    &quot;Status&quot;: &quot;str5678&quot;\r\n   }\r\n  ]\r\n }\r\n}\r\n```\r\n\r\nAccumulateResponse tag is getting skipped.","title":"XML to JSON conversion: why my 1st xml tag is getting skipped?","body":"<p>while converting XML to JSON my 1st XML tag into JSON is getting skipped</p>\n<p>Here is the JAVA code snippet:</p>\n<pre><code>       String data=&quot;&quot;;\n       data = FileUtils.readFileToString(new File(&quot;src/main/resources/student.xml&quot;), &quot;UTF-8&quot;);\n       XmlMapper xmlMapper = new XmlMapper();\n       JsonNode jsonNode = xmlMapper.readTree(data.getBytes());\n       ObjectMapper objectMapper = new ObjectMapper();\n       objectMapper.writerWithDefaultPrettyPrinter().writeValue(newFile(&quot;src/main/resources/student.json&quot;),jsonNode);\n</code></pre>\n<p>here is the input:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;AccumulateResponse&gt;\n  &lt;TestCase&gt;\n    &lt;Transactionid&gt;str1234&lt;/Transactionid&gt;\n    &lt;TransactionType&gt;str1234&lt;/TransactionType&gt;\n    &lt;Status&gt;str1234&lt;/Status&gt;\n  &lt;/TestCase&gt;\n  &lt;TestCase&gt;\n    &lt;Transactionid&gt;str5678&lt;/Transactionid&gt;\n    &lt;TransactionType&gt;str5678&lt;/TransactionType&gt;\n    &lt;Status&gt;str5678&lt;/Status&gt;\n  &lt;/TestCase&gt;\n&lt;/AccumulateResponse&gt;\n</code></pre>\n<p>here is the output:</p>\n<pre><code>{\n  &quot;TestCase&quot;: [\n   {\n    &quot;Transactionid&quot;: &quot;str1234&quot;,\n    &quot;TransactionType&quot;: &quot;str1234&quot;,\n    &quot;Status&quot;: &quot;str1234&quot;\n   },\n   {\n    &quot;Transactionid&quot;: &quot;str5678&quot;,\n    &quot;TransactionType&quot;: &quot;str5678&quot;,\n    &quot;Status&quot;: &quot;str5678&quot;\n   }\n  ]\n}\n</code></pre>\n<p>here is the required Output:</p>\n<pre><code>{\n&quot;AccumulateResponse&quot;: {\n  &quot;TestCase&quot;: [\n   {\n    &quot;Transactionid&quot;: &quot;str1234&quot;,\n    &quot;TransactionType&quot;: &quot;str1234&quot;,\n    &quot;Status&quot;: &quot;str1234&quot;\n   },\n   {\n    &quot;Transactionid&quot;: &quot;str5678&quot;,\n    &quot;TransactionType&quot;: &quot;str5678&quot;,\n    &quot;Status&quot;: &quot;str5678&quot;\n   }\n  ]\n }\n}\n</code></pre>\n<p>AccumulateResponse tag is getting skipped.</p>\n"},{"tags":["java","json","xml","spring-boot","soap"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1658484249,"post_id":73078472,"comment_id":129068147,"body_markdown":"1. Get the XML answer from the SOAP body. 2. Loop through the KeyValues. 3. For each key-value, store it into a Map 4. Serialize the Map to Json and you&#39;ll get what you want.","body":"1. Get the XML answer from the SOAP body. 2. Loop through the KeyValues. 3. For each key-value, store it into a Map 4. Serialize the Map to Json and you&#39;ll get what you want."}],"answers":[{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664953695,"creation_date":1664953695,"answer_id":73956891,"question_id":73078472,"body_markdown":"[Underscore-java][1] can convert xml to json.\r\n\r\n```\r\n        String xml = &quot;&lt;soap:Envelope xmlns:soap=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;\\n&quot; +\r\n            &quot;   &lt;soap:Body&gt;\\n&quot; +\r\n            &quot;      &lt;ns2:confirmPayer_10Response xmlns:ns2=\\&quot;http://v1.ws.provider.acp.com/\\&quot;&gt;\\n&quot; +\r\n            &quot;         &lt;return&gt;\\n&quot; +\r\n            &quot;            &lt;KeyValues&gt;\\n&quot; +\r\n            &quot;               &lt;Key&gt;MICROFILM_NUMBER&lt;/Key&gt;\\n&quot; +\r\n            &quot;               &lt;Data&gt;71111112236100141977490&lt;/Data&gt;\\n&quot; +\r\n            &quot;            &lt;/KeyValues&gt;\\n&quot; +\r\n            &quot;            &lt;KeyValues&gt;\\n&quot; +\r\n            &quot;               &lt;Key&gt;USER_TOKEN&lt;/Key&gt;\\n&quot; +\r\n            &quot;               &lt;Data&gt;hpuser&lt;/Data&gt;\\n&quot; +\r\n            &quot;            &lt;/KeyValues&gt;\\n&quot; +\r\n            &quot;            &lt;KeyValues&gt;\\n&quot; +\r\n            &quot;               &lt;Key&gt;PASSWORD_TOKEN&lt;/Key&gt;\\n&quot; +\r\n            &quot;               &lt;Data&gt;hpuser+22**&lt;/Data&gt;\\n&quot; +\r\n            &quot;            &lt;/KeyValues&gt;\\n&quot; +\r\n            &quot;         &lt;/return&gt;\\n&quot; +\r\n            &quot;      &lt;/ns2:confirmPayer_10Response&gt;\\n&quot; +\r\n            &quot;   &lt;/soap:Body&gt;\\n&quot; +\r\n            &quot;&lt;/soap:Envelope&gt;&quot;;\r\n        U.Builder builder = U.objectBuilder().fromXml(xml);\r\n        U.Builder out = U.objectBuilder();\r\n        out.add(builder.get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.0.Key&quot;),\r\n            builder.&lt;Object&gt;get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.0.Data&quot;));\r\n        out.add(builder.get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.1.Key&quot;),\r\n            builder.&lt;Object&gt;get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.1.Data&quot;));\r\n        out.add(builder.get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.2.Key&quot;),\r\n            builder.&lt;Object&gt;get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.2.Data&quot;));\r\n        System.out.println(out.toJson());\r\n```\r\n\r\n```json\r\n{\r\n  &quot;MICROFILM_NUMBER&quot;: &quot;71111112236100141977490&quot;,\r\n  &quot;USER_TOKEN&quot;: &quot;hpuser&quot;,\r\n  &quot;PASSWORD_TOKEN&quot;: &quot;hpuser+22**&quot;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"Convert soap response to json","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> can convert xml to json.</p>\n<pre><code>        String xml = &quot;&lt;soap:Envelope xmlns:soap=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;\\n&quot; +\n            &quot;   &lt;soap:Body&gt;\\n&quot; +\n            &quot;      &lt;ns2:confirmPayer_10Response xmlns:ns2=\\&quot;http://v1.ws.provider.acp.com/\\&quot;&gt;\\n&quot; +\n            &quot;         &lt;return&gt;\\n&quot; +\n            &quot;            &lt;KeyValues&gt;\\n&quot; +\n            &quot;               &lt;Key&gt;MICROFILM_NUMBER&lt;/Key&gt;\\n&quot; +\n            &quot;               &lt;Data&gt;71111112236100141977490&lt;/Data&gt;\\n&quot; +\n            &quot;            &lt;/KeyValues&gt;\\n&quot; +\n            &quot;            &lt;KeyValues&gt;\\n&quot; +\n            &quot;               &lt;Key&gt;USER_TOKEN&lt;/Key&gt;\\n&quot; +\n            &quot;               &lt;Data&gt;hpuser&lt;/Data&gt;\\n&quot; +\n            &quot;            &lt;/KeyValues&gt;\\n&quot; +\n            &quot;            &lt;KeyValues&gt;\\n&quot; +\n            &quot;               &lt;Key&gt;PASSWORD_TOKEN&lt;/Key&gt;\\n&quot; +\n            &quot;               &lt;Data&gt;hpuser+22**&lt;/Data&gt;\\n&quot; +\n            &quot;            &lt;/KeyValues&gt;\\n&quot; +\n            &quot;         &lt;/return&gt;\\n&quot; +\n            &quot;      &lt;/ns2:confirmPayer_10Response&gt;\\n&quot; +\n            &quot;   &lt;/soap:Body&gt;\\n&quot; +\n            &quot;&lt;/soap:Envelope&gt;&quot;;\n        U.Builder builder = U.objectBuilder().fromXml(xml);\n        U.Builder out = U.objectBuilder();\n        out.add(builder.get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.0.Key&quot;),\n            builder.&lt;Object&gt;get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.0.Data&quot;));\n        out.add(builder.get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.1.Key&quot;),\n            builder.&lt;Object&gt;get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.1.Data&quot;));\n        out.add(builder.get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.2.Key&quot;),\n            builder.&lt;Object&gt;get(&quot;soap:Envelope.soap:Body.ns2:confirmPayer_10Response.return.KeyValues.2.Data&quot;));\n        System.out.println(out.toJson());\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;MICROFILM_NUMBER&quot;: &quot;71111112236100141977490&quot;,\n  &quot;USER_TOKEN&quot;: &quot;hpuser&quot;,\n  &quot;PASSWORD_TOKEN&quot;: &quot;hpuser+22**&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664953695,"creation_date":1658483938,"question_id":73078472,"body_markdown":"I have the below soap response\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n       &lt;soap:Body&gt;\r\n          &lt;ns2:confirmPayer_10Response xmlns:ns2=&quot;http://v1.ws.provider.acp.com/&quot;&gt;\r\n             &lt;return&gt;\r\n                &lt;KeyValues&gt;\r\n                   &lt;Key&gt;MICROFILM_NUMBER&lt;/Key&gt;\r\n                   &lt;Data&gt;71111112236100141977490&lt;/Data&gt;\r\n                &lt;/KeyValues&gt;\r\n                &lt;KeyValues&gt;\r\n                   &lt;Key&gt;USER_TOKEN&lt;/Key&gt;\r\n                   &lt;Data&gt;hpuser&lt;/Data&gt;\r\n                &lt;/KeyValues&gt;\r\n                &lt;KeyValues&gt;\r\n                   &lt;Key&gt;PASSWORD_TOKEN&lt;/Key&gt;\r\n                   &lt;Data&gt;hpuser+22**&lt;/Data&gt;\r\n                &lt;/KeyValues&gt;\r\n             &lt;/return&gt;\r\n          &lt;/ns2:confirmPayer_10Response&gt;\r\n       &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nHow can i convert this response to json like below\r\n\r\n    {\r\n       &quot;MICROFILM_NUMBER&quot; : &quot;71111112236100141977490&quot;,\r\n       &quot;USER_TOKEN&quot; : &quot;hpuser&quot;,\r\n       &quot;PASSWORD_TOKEN&quot; : &quot;hpuser+22**&quot;\r\n    }","title":"Convert soap response to json","body":"<p>I have the below soap response</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;soap:Body&gt;\n      &lt;ns2:confirmPayer_10Response xmlns:ns2=&quot;http://v1.ws.provider.acp.com/&quot;&gt;\n         &lt;return&gt;\n            &lt;KeyValues&gt;\n               &lt;Key&gt;MICROFILM_NUMBER&lt;/Key&gt;\n               &lt;Data&gt;71111112236100141977490&lt;/Data&gt;\n            &lt;/KeyValues&gt;\n            &lt;KeyValues&gt;\n               &lt;Key&gt;USER_TOKEN&lt;/Key&gt;\n               &lt;Data&gt;hpuser&lt;/Data&gt;\n            &lt;/KeyValues&gt;\n            &lt;KeyValues&gt;\n               &lt;Key&gt;PASSWORD_TOKEN&lt;/Key&gt;\n               &lt;Data&gt;hpuser+22**&lt;/Data&gt;\n            &lt;/KeyValues&gt;\n         &lt;/return&gt;\n      &lt;/ns2:confirmPayer_10Response&gt;\n   &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>How can i convert this response to json like below</p>\n<pre><code>{\n   &quot;MICROFILM_NUMBER&quot; : &quot;71111112236100141977490&quot;,\n   &quot;USER_TOKEN&quot; : &quot;hpuser&quot;,\n   &quot;PASSWORD_TOKEN&quot; : &quot;hpuser+22**&quot;\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","in-app-purchase","in-app-billing"],"answers":[{"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664953215,"creation_date":1664953215,"answer_id":73956832,"question_id":73948108,"body_markdown":" * Make sure your product key is the same and in ACTIVE State.\r\n * You Upload the signed apk on the google play console.\r\n * On the internal testing.\r\n * After uploading to internal testing add emails to your testing list.\r\n * Accept the invite and move to your testing.\r\n \r\nFor more, you can visit there:&lt;br&gt;\r\nhttps://www.answertopia.com/java-android/a-java-android-in-app-purchasing-tutorial/\r\n \r\n\r\n ","title":"The Requested Item is not found , Google In App Billing ,V:5","body":"<ul>\n<li>Make sure your product key is the same and in ACTIVE State.</li>\n<li>You Upload the signed apk on the google play console.</li>\n<li>On the internal testing.</li>\n<li>After uploading to internal testing add emails to your testing list.</li>\n<li>Accept the invite and move to your testing.</li>\n</ul>\n<p>For more, you can visit there:<br>\n<a href=\"https://www.answertopia.com/java-android/a-java-android-in-app-purchasing-tutorial/\" rel=\"nofollow noreferrer\">https://www.answertopia.com/java-android/a-java-android-in-app-purchasing-tutorial/</a></p>\n"}],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73956832,"answer_count":1,"score":-1,"last_activity_date":1664953215,"creation_date":1664887723,"question_id":73948108,"body_markdown":"I&#39;m Unable to get the item on my in-app purchase bottom sheet of google.\r\n\r\n&gt; **Error: say item not found**\r\n\r\nEven the item **exists**.","title":"The Requested Item is not found , Google In App Billing ,V:5","body":"<p>I'm Unable to get the item on my in-app purchase bottom sheet of google.</p>\n<blockquote>\n<p><strong>Error: say item not found</strong></p>\n</blockquote>\n<p>Even the item <strong>exists</strong>.</p>\n"},{"tags":["java","encryption","bouncycastle","gnupg"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664542859,"post_id":73909000,"comment_id":130501923,"body_markdown":"It would help if you showed off what you have so far. A crucial piece of info is how the `gpg` tool converts a passphrase into the cipherkey, which for AES256 has to be precisely 256-bit (hence the name). I doubt a phassphrase is going to have 256 bits of entropy so in this sense, using AES256 with a passphrase is nasty security theater you need to stop (AES256 makes people go: Oooh, 256 bit, nice! but you don&#39;t have that at all; AES128 is strictly better here, it sends the better message).","body":"It would help if you showed off what you have so far. A crucial piece of info is how the <code>gpg</code> tool converts a passphrase into the cipherkey, which for AES256 has to be precisely 256-bit (hence the name). I doubt a phassphrase is going to have 256 bits of entropy so in this sense, using AES256 with a passphrase is nasty security theater you need to stop (AES256 makes people go: Oooh, 256 bit, nice! but you don&#39;t have that at all; AES128 is strictly better here, it sends the better message)."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664542938,"post_id":73909000,"comment_id":130501955,"body_markdown":"Once you have determined how `PASSWORD` is turned into 256 bits, from there the task is mostly trivial; the one extra thing you need to know is the &#39;mode&#39;. Is it CBC, GCM, etc. For some modes you need a padding algorithm but virtually everybody uses PKCS5Padding. If you know &quot;passphrase to cipherkey algorithm&quot;, and &quot;mode&quot;, then you can write it in java.","body":"Once you have determined how <code>PASSWORD</code> is turned into 256 bits, from there the task is mostly trivial; the one extra thing you need to know is the &#39;mode&#39;. Is it CBC, GCM, etc. For some modes you need a padding algorithm but virtually everybody uses PKCS5Padding. If you know &quot;passphrase to cipherkey algorithm&quot;, and &quot;mode&quot;, then you can write it in java."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664543173,"post_id":73909000,"comment_id":130502035,"body_markdown":"A quick check on the GPG docs seem to indicate none of this stuff is written down anywhere, which means `gpg`&#39;s input and output is a black hole as far as the docs is concerned: Proprietary. Fortunately, gpg is open source. Your task is to dive into the source and figure out the answers to my 2 questions. Or find docs I wasn&#39;t able to.","body":"A quick check on the GPG docs seem to indicate none of this stuff is written down anywhere, which means <code>gpg</code>&#39;s input and output is a black hole as far as the docs is concerned: Proprietary. Fortunately, gpg is open source. Your task is to dive into the source and figure out the answers to my 2 questions. Or find docs I wasn&#39;t able to."},{"owner":{"account_id":26446392,"reputation":3,"user_id":20090187,"display_name":"Darien Bowen"},"score":0,"creation_date":1664544487,"post_id":73909000,"comment_id":130502507,"body_markdown":"Thanks! I will look into those questions and provide some example code when I get so far.","body":"Thanks! I will look into those questions and provide some example code when I get so far."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664546193,"post_id":73909000,"comment_id":130503183,"body_markdown":"gpg will encrypt it using public/private key. The only place passphrases arise in gpg is to access said private keys","body":"gpg will encrypt it using public/private key. The only place passphrases arise in gpg is to access said private keys"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664549726,"post_id":73909000,"comment_id":130504444,"body_markdown":"@g00se I find various references in the docs that the `--symmetric` option will &quot;This command asks for a passphrase&quot; which suggests you&#39;re incorrect.","body":"@g00se I find various references in the docs that the <code>--symmetric</code> option will &quot;This command asks for a passphrase&quot; which suggests you&#39;re incorrect."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664549776,"post_id":73909000,"comment_id":130504459,"body_markdown":"It&#39;s possible that `--cipher-algo` means: &quot;Encrypt/decrypt in the usual fashion: Generate a random symmetric encryption key, encrypt the data with this, then encrypt this key with a public key or private key as normal - just, for the symmetric part, use this algo&quot;. Docs are unclear.","body":"It&#39;s possible that <code>--cipher-algo</code> means: &quot;Encrypt/decrypt in the usual fashion: Generate a random symmetric encryption key, encrypt the data with this, then encrypt this key with a public key or private key as normal - just, for the symmetric part, use this algo&quot;. Docs are unclear."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664550429,"post_id":73909000,"comment_id":130504713,"body_markdown":"@rzwitserloot, it would seem that gpg *can* do symmetric encryption but I&#39;m not quite sure why an app/API for PKI encryption would be used for this purpose, irrespective of the lack of &quot;good examples&quot; using Bouncy, etc. It would be better to use proper PKI","body":"@rzwitserloot, it would seem that gpg <i>can</i> do symmetric encryption but I&#39;m not quite sure why an app/API for PKI encryption would be used for this purpose, irrespective of the lack of &quot;good examples&quot; using Bouncy, etc. It would be better to use proper PKI"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664552384,"post_id":73909000,"comment_id":130505408,"body_markdown":"gpg is a toolbox to do all sorts of crypto stuff. The docs are unfortunately highly nebulous about the specific steps and algorithms used; probably intentionally, in the sense that your average tech savvy user doesn&#39;t really know which chain of crypto operations is safe and which isn&#39;t, and you can&#39;t easily test either. Doing symmetric crypto is part of the tools in the box.","body":"gpg is a toolbox to do all sorts of crypto stuff. The docs are unfortunately highly nebulous about the specific steps and algorithms used; probably intentionally, in the sense that your average tech savvy user doesn&#39;t really know which chain of crypto operations is safe and which isn&#39;t, and you can&#39;t easily test either. Doing symmetric crypto is part of the tools in the box."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664552457,"post_id":73909000,"comment_id":130505428,"body_markdown":"There are reasons for wanting only symmetric encryption. It&#39;s dangerous to walk off of the beaten path here of course (again, an error in your understanding of the process means your stuff is now insecure, and you won&#39;t know and can&#39;t easily test until it is too late) - I agree, @DarienBowen should consider their ideas on whatever process involves &quot;I want symmetric crypto here&quot; carefully.","body":"There are reasons for wanting only symmetric encryption. It&#39;s dangerous to walk off of the beaten path here of course (again, an error in your understanding of the process means your stuff is now insecure, and you won&#39;t know and can&#39;t easily test until it is too late) - I agree, @DarienBowen should consider their ideas on whatever process involves &quot;I want symmetric crypto here&quot; carefully."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1664558592,"post_id":73909000,"comment_id":130507247,"body_markdown":"@rzwitserloot: gpg implements exactly the algorithms and formats defined in RFC4880 (plus some additions and extensions not relevant here), and so does bcpg. That&#39;s the _point_ of having a standard -- there is _one_ specification and all the implementations implement it (or at least sufficient parts of it) so that they can interoperate. `gpg --symmetric` does packet type 3 which _does_ use PBE and NOT publickey. And although `gpg` has quite a few options, it isn&#39;t really a &#39;toolbox&#39;; `libgcrypt` (which it uses internally) is.","body":"@rzwitserloot: gpg implements exactly the algorithms and formats defined in RFC4880 (plus some additions and extensions not relevant here), and so does bcpg. That&#39;s the <i>point</i> of having a standard -- there is <i>one</i> specification and all the implementations implement it (or at least sufficient parts of it) so that they can interoperate. <code>gpg --symmetric</code> does packet type 3 which <i>does</i> use PBE and NOT publickey. And although <code>gpg</code> has quite a few options, it isn&#39;t really a &#39;toolbox&#39;; <code>libgcrypt</code> (which it uses internally) is."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664885711,"post_id":73909000,"comment_id":130568146,"body_markdown":"*And then I try to decrypt the resulting file with GPG.* How, and with what result?","body":"<i>And then I try to decrypt the resulting file with GPG.</i> How, and with what result?"},{"owner":{"account_id":26446392,"reputation":3,"user_id":20090187,"display_name":"Darien Bowen"},"score":0,"creation_date":1664887905,"post_id":73909000,"comment_id":130568908,"body_markdown":"I am decrypting with the command specified at the start of the post, and the result is `gpg: [don&#39;t know]: 1st length byte missing`","body":"I am decrypting with the command specified at the start of the post, and the result is <code>gpg: [don&#39;t know]: 1st length byte missing</code>"}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664558562,"creation_date":1664558224,"answer_id":73912019,"question_id":73909000,"body_markdown":"You were right on the edge of it. If you look at the whole directory https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples you see there are:\r\n\r\n* `KeyBasedFileProcessor` -- for the encrypt side, does:\r\n\r\n    1. read the (whole) input file and create compressed-literal-data packet in memory\r\n\r\n    2. create `PGPEncryptedDataGenerator` and give it a public-key encryption &#39;method&#39; (for a selected key)\r\n\r\n    3. open a stream on the generator and write the compressed-literal-data packet to it (which results in it being encrypted and written to the output file)\r\n\r\n* `KeyBasedLargeFileProcessor` -- ditto:\r\n\r\n    1. _don&#39;t_ read the whole input\r\n\r\n    2. create the same generator as for non-Large\r\n\r\n    3. open a stream on the generator \r\n\r\n    4. use `PGPCompressedDataGenerator` to open a compressed-data stream on 3\r\n\r\n    5. (in `PGPUtil.writeFileToLiteralData`) use `PGPLiteralDataGenerator` to open a literal-data stream on 4, and then copy from the input file to that stream, which results in it being put into PGP&#39;s literal-data format, compressed _and_ encrypted and written to the output file)\r\n\r\n* `PBEFileProcessor` -- for encrypt is exactly the same as `KeyBased` except that it uses a method for PBE (with the given passphrase) instead of one for public-key encryption\r\n\r\nNow, what do you think would happen if you make the same changes to `PBEFileProcessor` as the `KeyBasedLargeFileProcessor` made to `KeyBasedFileProcessor`? Might you have a `PBELargeFileProcessor` that does password-based encryption of large files -- or with the obvious changes, anything you can access and read as an `InputStream`? \r\n\r\nExcept that (all) the examples use CAST5; you want to change that to AES_256 (or whatever else).\r\n\r\n","title":"Stream symmetric encrypted data with java that can be decryptet by GPG","body":"<p>You were right on the edge of it. If you look at the whole directory <a href=\"https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples</a> you see there are:</p>\n<ul>\n<li><p><code>KeyBasedFileProcessor</code> -- for the encrypt side, does:</p>\n<ol>\n<li><p>read the (whole) input file and create compressed-literal-data packet in memory</p>\n</li>\n<li><p>create <code>PGPEncryptedDataGenerator</code> and give it a public-key encryption 'method' (for a selected key)</p>\n</li>\n<li><p>open a stream on the generator and write the compressed-literal-data packet to it (which results in it being encrypted and written to the output file)</p>\n</li>\n</ol>\n</li>\n<li><p><code>KeyBasedLargeFileProcessor</code> -- ditto:</p>\n<ol>\n<li><p><em>don't</em> read the whole input</p>\n</li>\n<li><p>create the same generator as for non-Large</p>\n</li>\n<li><p>open a stream on the generator</p>\n</li>\n<li><p>use <code>PGPCompressedDataGenerator</code> to open a compressed-data stream on 3</p>\n</li>\n<li><p>(in <code>PGPUtil.writeFileToLiteralData</code>) use <code>PGPLiteralDataGenerator</code> to open a literal-data stream on 4, and then copy from the input file to that stream, which results in it being put into PGP's literal-data format, compressed <em>and</em> encrypted and written to the output file)</p>\n</li>\n</ol>\n</li>\n<li><p><code>PBEFileProcessor</code> -- for encrypt is exactly the same as <code>KeyBased</code> except that it uses a method for PBE (with the given passphrase) instead of one for public-key encryption</p>\n</li>\n</ul>\n<p>Now, what do you think would happen if you make the same changes to <code>PBEFileProcessor</code> as the <code>KeyBasedLargeFileProcessor</code> made to <code>KeyBasedFileProcessor</code>? Might you have a <code>PBELargeFileProcessor</code> that does password-based encryption of large files -- or with the obvious changes, anything you can access and read as an <code>InputStream</code>?</p>\n<p>Except that (all) the examples use CAST5; you want to change that to AES_256 (or whatever else).</p>\n"}],"owner":{"account_id":26446392,"reputation":3,"user_id":20090187,"display_name":"Darien Bowen"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73912019,"answer_count":1,"score":0,"last_activity_date":1664953187,"creation_date":1664541936,"question_id":73909000,"body_markdown":"I am trying to stream output a large file that can be decrypted with the following command:\r\n\r\n```gpg --decrypt --cipher-algo AES256 --passphrase=&quot;password&quot;```\r\n\r\nI do not know the size of the data before I start streaming.\r\n\r\nI am able to encrypt using Java Cipher, but it appears then that it can only be decrypted using OpenSSL.\r\n\r\nI have looked into Bouncy Castle and BouncyGPG but find it hard to find good examples using symmetric encryption and a passphrase only. I am able to encrypt using GPG and a passphrase in both ends, so I feel that it should be possible when encrypting with Java too.\r\n\r\nThe closest example I&#39;ve found is https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/examples/PBEFileProcessor.java \r\n\r\nI have tried to adjust this example so that I can pass through a stream in a similar way to Java Cipher, but I&#39;ve been unable to get it working, and I don&#39;t even know if I am on the right path.\r\n\r\nUPDATE:\r\n\r\nI got it to work now. Below is the code used:\r\n\r\n```\r\n    public OutputStream cOut;\r\n\r\n    public OutputStream armoredOutputStream;\r\n\r\n    public OutputStream encryptedOutputStream;\r\n\r\n    public PGPEncrypter() {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n    }\r\n\r\n    public OutputStream encrypt(\r\n        OutputStream encryptedOutputStream, String passPhrase\r\n    ) throws IOException,\r\n        PGPException {\r\n\r\n        encryptedOutputStream = new ArmoredOutputStream(encryptedOutputStream);\r\n\r\n        PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\r\n            new JcePGPDataEncryptorBuilder(PGPEncryptedData.AES_256)\r\n                .setWithIntegrityPacket(true)\r\n                .setSecureRandom(new SecureRandom()).setProvider(&quot;BC&quot;));\r\n\r\n        encGen.addMethod(new JcePBEKeyEncryptionMethodGenerator(passPhrase.toCharArray()).setProvider(&quot;BC&quot;));\r\n\r\n        OutputStream cOut = encGen.open(encryptedOutputStream, new byte[4096]);\r\n\r\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n        return lData.open(cOut, PGPLiteralData.BINARY, &quot;&quot;, new Date(), new byte[4096]);\r\n    }\r\n```\r\n\r\nTesting it with:\r\n\r\n```\r\nPGPEncrypter pgpEncrypter = new PGPEncrypter();\r\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;encrypted.txt&quot;);\r\nOutputStream outputStream = pgpEncrypter.encrypt(fileOutputStream, &quot;password&quot;);\r\noutputStream.write(&quot;content&quot;.getBytes(StandardCharsets.UTF_8));\r\noutputStream.close()\r\npgpEncrypter.cOut.close()\r\npgpEncrypter.armoredOutputStream.close()\r\npgpEncrypter.encryptedOutputStream.close()\r\n```\r\n\r\nAnd then I am able to decrypt using PGP and the command at the start of the post.\r\n\r\nThe next step will be to have the class extend OutputStream and automatically close the underlying streams in the correct order when `close()` is called.","title":"Stream symmetric encrypted data with java that can be decryptet by GPG","body":"<p>I am trying to stream output a large file that can be decrypted with the following command:</p>\n<p><code>gpg --decrypt --cipher-algo AES256 --passphrase=&quot;password&quot;</code></p>\n<p>I do not know the size of the data before I start streaming.</p>\n<p>I am able to encrypt using Java Cipher, but it appears then that it can only be decrypted using OpenSSL.</p>\n<p>I have looked into Bouncy Castle and BouncyGPG but find it hard to find good examples using symmetric encryption and a passphrase only. I am able to encrypt using GPG and a passphrase in both ends, so I feel that it should be possible when encrypting with Java too.</p>\n<p>The closest example I've found is <a href=\"https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/examples/PBEFileProcessor.java\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/examples/PBEFileProcessor.java</a></p>\n<p>I have tried to adjust this example so that I can pass through a stream in a similar way to Java Cipher, but I've been unable to get it working, and I don't even know if I am on the right path.</p>\n<p>UPDATE:</p>\n<p>I got it to work now. Below is the code used:</p>\n<pre><code>    public OutputStream cOut;\n\n    public OutputStream armoredOutputStream;\n\n    public OutputStream encryptedOutputStream;\n\n    public PGPEncrypter() {\n        Security.addProvider(new BouncyCastleProvider());\n    }\n\n    public OutputStream encrypt(\n        OutputStream encryptedOutputStream, String passPhrase\n    ) throws IOException,\n        PGPException {\n\n        encryptedOutputStream = new ArmoredOutputStream(encryptedOutputStream);\n\n        PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\n            new JcePGPDataEncryptorBuilder(PGPEncryptedData.AES_256)\n                .setWithIntegrityPacket(true)\n                .setSecureRandom(new SecureRandom()).setProvider(&quot;BC&quot;));\n\n        encGen.addMethod(new JcePBEKeyEncryptionMethodGenerator(passPhrase.toCharArray()).setProvider(&quot;BC&quot;));\n\n        OutputStream cOut = encGen.open(encryptedOutputStream, new byte[4096]);\n\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n        return lData.open(cOut, PGPLiteralData.BINARY, &quot;&quot;, new Date(), new byte[4096]);\n    }\n</code></pre>\n<p>Testing it with:</p>\n<pre><code>PGPEncrypter pgpEncrypter = new PGPEncrypter();\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;encrypted.txt&quot;);\nOutputStream outputStream = pgpEncrypter.encrypt(fileOutputStream, &quot;password&quot;);\noutputStream.write(&quot;content&quot;.getBytes(StandardCharsets.UTF_8));\noutputStream.close()\npgpEncrypter.cOut.close()\npgpEncrypter.armoredOutputStream.close()\npgpEncrypter.encryptedOutputStream.close()\n</code></pre>\n<p>And then I am able to decrypt using PGP and the command at the start of the post.</p>\n<p>The next step will be to have the class extend OutputStream and automatically close the underlying streams in the correct order when <code>close()</code> is called.</p>\n"},{"tags":["java","json","xml","jackson","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661345453,"creation_date":1661345453,"answer_id":73473511,"question_id":73473358,"body_markdown":"just create a pojo and add jackson annotations, e.g.\r\n\r\n    @JacksonXmlProperty(localName=&quot;ns2:http://whatever-it-is.de/&quot;)\r\n    public class Status {\r\n    // ...\r\n    }\r\n\r\nOr if you want to go without a pojo try a custom serializer which adds namespaces\r\n\r\nhttps://www.baeldung.com/jackson-custom-serialization","title":"How to dynamically convert JSON to XML with custom namespace?","body":"<p>just create a pojo and add jackson annotations, e.g.</p>\n<pre><code>@JacksonXmlProperty(localName=&quot;ns2:http://whatever-it-is.de/&quot;)\npublic class Status {\n// ...\n}\n</code></pre>\n<p>Or if you want to go without a pojo try a custom serializer which adds namespaces</p>\n<p><a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-custom-serialization</a></p>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661428321,"creation_date":1661359926,"answer_id":73476972,"question_id":73473358,"body_markdown":"You need to provide custom `Json Node` serialiser and use `ToXmlGenerator`. See below example:\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.BeanDescription;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializationConfig;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\r\n\r\nimport javax.xml.namespace.QName;\r\nimport java.io.IOException;\r\n\r\npublic class XmlMapperApp {\r\n\r\n\tpublic static void main(String... args) throws Exception {\r\n\t\tXmlMapper xmlMapper = new XmlMapper();\r\n\t\txmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n\t\tObjectNode node = xmlMapper.createObjectNode()\r\n\t\t\t\t.put(&quot;Status&quot;, &quot;OK&quot;)\r\n\t\t\t\t.set(&quot;node&quot;, xmlMapper.createObjectNode()\r\n\t\t\t\t\t\t.put(&quot;int&quot;, 1)\r\n\t\t\t\t\t\t.put(&quot;str&quot;, &quot;str&quot;));\r\n\r\n\t\tSimpleModule module = new SimpleModule();\r\n\t\tmodule.setSerializerModifier(new BeanSerializerModifier() {\r\n\t\t\t@Override\r\n\t\t\tpublic JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n\t\t\t\tif (beanDesc.getType().getRawClass().equals(ObjectNode.class)) {\r\n\t\t\t\t\treturn new ObjectNodeJsonSerializer(serializer);\r\n\t\t\t\t}\r\n\t\t\t\treturn super.modifySerializer(config, beanDesc, serializer);\r\n\t\t\t}\r\n\t\t});\r\n\t\txmlMapper.registerModule(module);\r\n\r\n\t\tSystem.out.println(xmlMapper.writeValueAsString(node));\r\n\t}\r\n}\r\n\r\nclass ObjectNodeJsonSerializer extends JsonSerializer&lt;JsonNode&gt; {\r\n\r\n\tprivate final JsonSerializer baseSerializer;\r\n\r\n\tObjectNodeJsonSerializer(JsonSerializer baseSerializer) {\r\n\t\tthis.baseSerializer = baseSerializer;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void serialize(JsonNode value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n\t\tToXmlGenerator xmlGenerator = (ToXmlGenerator) gen;\r\n\r\n\t\txmlGenerator.setNextName(new QName(&quot;http://whatever-it-is.de/&quot;, &quot;rootname&quot;, &quot;anything&quot;));\r\n\t\tbaseSerializer.serialize(value, gen, serializers);\r\n\t}\r\n}\r\n```\r\n\r\nAbove example prints:\r\n```xml\r\n&lt;wstxns1:rootname xmlns:wstxns1=&quot;http://whatever-it-is.de/&quot;&gt;\r\n  &lt;wstxns1:Status&gt;OK&lt;/wstxns1:Status&gt;\r\n  &lt;wstxns1:node&gt;\r\n    &lt;wstxns1:int&gt;1&lt;/wstxns1:int&gt;\r\n    &lt;wstxns1:str&gt;str&lt;/wstxns1:str&gt;\r\n  &lt;/wstxns1:node&gt;\r\n&lt;/wstxns1:rootname&gt;\r\n```","title":"How to dynamically convert JSON to XML with custom namespace?","body":"<p>You need to provide custom <code>Json Node</code> serialiser and use <code>ToXmlGenerator</code>. See below example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.BeanDescription;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializationConfig;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\n\nimport javax.xml.namespace.QName;\nimport java.io.IOException;\n\npublic class XmlMapperApp {\n\n    public static void main(String... args) throws Exception {\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n        ObjectNode node = xmlMapper.createObjectNode()\n                .put(&quot;Status&quot;, &quot;OK&quot;)\n                .set(&quot;node&quot;, xmlMapper.createObjectNode()\n                        .put(&quot;int&quot;, 1)\n                        .put(&quot;str&quot;, &quot;str&quot;));\n\n        SimpleModule module = new SimpleModule();\n        module.setSerializerModifier(new BeanSerializerModifier() {\n            @Override\n            public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n                if (beanDesc.getType().getRawClass().equals(ObjectNode.class)) {\n                    return new ObjectNodeJsonSerializer(serializer);\n                }\n                return super.modifySerializer(config, beanDesc, serializer);\n            }\n        });\n        xmlMapper.registerModule(module);\n\n        System.out.println(xmlMapper.writeValueAsString(node));\n    }\n}\n\nclass ObjectNodeJsonSerializer extends JsonSerializer&lt;JsonNode&gt; {\n\n    private final JsonSerializer baseSerializer;\n\n    ObjectNodeJsonSerializer(JsonSerializer baseSerializer) {\n        this.baseSerializer = baseSerializer;\n    }\n\n    @Override\n    public void serialize(JsonNode value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        ToXmlGenerator xmlGenerator = (ToXmlGenerator) gen;\n\n        xmlGenerator.setNextName(new QName(&quot;http://whatever-it-is.de/&quot;, &quot;rootname&quot;, &quot;anything&quot;));\n        baseSerializer.serialize(value, gen, serializers);\n    }\n}\n</code></pre>\n<p>Above example prints:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;wstxns1:rootname xmlns:wstxns1=&quot;http://whatever-it-is.de/&quot;&gt;\n  &lt;wstxns1:Status&gt;OK&lt;/wstxns1:Status&gt;\n  &lt;wstxns1:node&gt;\n    &lt;wstxns1:int&gt;1&lt;/wstxns1:int&gt;\n    &lt;wstxns1:str&gt;str&lt;/wstxns1:str&gt;\n  &lt;/wstxns1:node&gt;\n&lt;/wstxns1:rootname&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664953018,"creation_date":1664953018,"answer_id":73956799,"question_id":73473358,"body_markdown":"[Underscore-java][1] library can convert JSON to XML with namespace.\r\n\r\n```json\r\n{\r\n  &quot;ns2:rootname&quot;: {\r\n    &quot;-xmlns:ns2&quot;: &quot;http://whatever-it-is.de/&quot;,\r\n    &quot;ns2:state&quot;: &quot;OK&quot;\r\n  },\r\n  &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\r\n}\r\n```\r\n\r\n```xml\r\n&lt;ns2:rootname xmlns:ns2=&quot;http://whatever-it-is.de/&quot;&gt;\r\n  &lt;ns2:state&gt;OK&lt;/ns2:state&gt;\r\n&lt;/ns2:rootname&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"How to dynamically convert JSON to XML with custom namespace?","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library can convert JSON to XML with namespace.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ns2:rootname&quot;: {\n    &quot;-xmlns:ns2&quot;: &quot;http://whatever-it-is.de/&quot;,\n    &quot;ns2:state&quot;: &quot;OK&quot;\n  },\n  &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ns2:rootname xmlns:ns2=&quot;http://whatever-it-is.de/&quot;&gt;\n  &lt;ns2:state&gt;OK&lt;/ns2:state&gt;\n&lt;/ns2:rootname&gt;\n</code></pre>\n"}],"owner":{"account_id":3573491,"reputation":21,"user_id":2983299,"display_name":"dank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1664953018,"creation_date":1661344838,"question_id":73473358,"body_markdown":"I try to convert a `JSON` into an `XML` with the following code\r\n\r\n```\r\nfinal ObjectMapper objectMapper = new ObjectMapper();\r\nfinal XmlMapper xmlMapper = new XmlMapper();\r\n\r\nJsonNode jsonNode = objectMapper.readTree(jsonString);\r\n\r\nString xmlString = xmlMapper\r\n   .writerWithDefaultPrettyPrinter()\r\n   .withRootName(&quot;rootname&quot;)\r\n   .writeValueAsString(jsonNode);\r\n```\r\n\r\nBasically it works. Does anyone know, how I can add a namespace to the serialized XML-attributes. I&#39;ve no POJOs for the objects. The convert should generate from this\r\n\r\n```\r\n{\r\n    &quot;Status&quot; : &quot;OK&quot;\r\n}\r\n```\r\nsomething like this:\r\n```\r\n&lt;ns2:rootname xmlns:ns2=&quot;http://whatever-it-is.de/&quot;&gt;\r\n  &lt;ns2:state&gt;OK&lt;/ns2:state&gt;\r\n&lt;/ns2:rootname&gt;\r\n```\r\n","title":"How to dynamically convert JSON to XML with custom namespace?","body":"<p>I try to convert a <code>JSON</code> into an <code>XML</code> with the following code</p>\n<pre><code>final ObjectMapper objectMapper = new ObjectMapper();\nfinal XmlMapper xmlMapper = new XmlMapper();\n\nJsonNode jsonNode = objectMapper.readTree(jsonString);\n\nString xmlString = xmlMapper\n   .writerWithDefaultPrettyPrinter()\n   .withRootName(&quot;rootname&quot;)\n   .writeValueAsString(jsonNode);\n</code></pre>\n<p>Basically it works. Does anyone know, how I can add a namespace to the serialized XML-attributes. I've no POJOs for the objects. The convert should generate from this</p>\n<pre><code>{\n    &quot;Status&quot; : &quot;OK&quot;\n}\n</code></pre>\n<p>something like this:</p>\n<pre><code>&lt;ns2:rootname xmlns:ns2=&quot;http://whatever-it-is.de/&quot;&gt;\n  &lt;ns2:state&gt;OK&lt;/ns2:state&gt;\n&lt;/ns2:rootname&gt;\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":6113087,"reputation":1047,"user_id":4768929,"accept_rate":100,"display_name":"Ahmed Abidi"},"score":6,"creation_date":1438855448,"post_id":31852653,"comment_id":51625310,"body_markdown":"`getActivity().getContentResolver();` doesn&#39;t do the trick ?","body":"<code>getActivity().getContentResolver();</code> doesn&#39;t do the trick ?"},{"owner":{"account_id":6739044,"reputation":381,"user_id":5192801,"accept_rate":47,"display_name":"Syed Danish Ali"},"score":1,"creation_date":1438855572,"post_id":31852653,"comment_id":51625397,"body_markdown":"Nope. Neither `getActivity()` nor `getApplicationContext()` is working.","body":"Nope. Neither <code>getActivity()</code> nor <code>getApplicationContext()</code> is working."},{"owner":{"display_name":"user2886765"},"score":0,"creation_date":1521212277,"post_id":31852653,"comment_id":85648814,"body_markdown":"@AhmedAbidi Yes it did the trick for me and its the correct way too, Thanks","body":"@AhmedAbidi Yes it did the trick for me and its the correct way too, Thanks"}],"answers":[{"tags":[],"owner":{"account_id":6113087,"reputation":1047,"user_id":4768929,"accept_rate":100,"display_name":"Ahmed Abidi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1438856207,"creation_date":1438856207,"answer_id":31853098,"question_id":31852653,"body_markdown":"Try to add this code to a previous activity: \r\n\r\n    // a static variable to get a reference of our application context\r\n    public static Context contextOfApplication;\r\n    public static Context getContextOfApplication()\r\n    {\r\n    return contextOfApplication;\r\n    }\r\n\r\nand in the same activity, in your onCreate method add this line:\r\n\r\n     contextOfApplication = getApplicationContext();\r\n\r\nIn your fragment you can access this by using :\r\n\r\n    Context applicationContext = YourActivity.getContextOfApplication();\r\n    applicationContext.getContentResolver();\r\n\r\n","title":"Making getContentResolver() to work in class extending Fragment class","body":"<p>Try to add this code to a previous activity: </p>\n\n<pre><code>// a static variable to get a reference of our application context\npublic static Context contextOfApplication;\npublic static Context getContextOfApplication()\n{\nreturn contextOfApplication;\n}\n</code></pre>\n\n<p>and in the same activity, in your onCreate method add this line:</p>\n\n<pre><code> contextOfApplication = getApplicationContext();\n</code></pre>\n\n<p>In your fragment you can access this by using :</p>\n\n<pre><code>Context applicationContext = YourActivity.getContextOfApplication();\napplicationContext.getContentResolver();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5415112"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1479882660,"creation_date":1479881470,"answer_id":40757258,"question_id":31852653,"body_markdown":"Getting the application context using getter doesn&#39;t work. The equivalent of above answer is\r\n\r\n    getActivity().getApplicationContext().getContentResolver(). ","title":"Making getContentResolver() to work in class extending Fragment class","body":"<p>Getting the application context using getter doesn't work. The equivalent of above answer is</p>\n\n<pre><code>getActivity().getApplicationContext().getContentResolver(). \n</code></pre>\n"},{"tags":[],"owner":{"account_id":873155,"reputation":3719,"user_id":923557,"accept_rate":62,"display_name":"Nino van Hooff"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1486031724,"creation_date":1486031724,"answer_id":41999905,"question_id":31852653,"body_markdown":"When using `android.support.v4.app.Fragment`:\r\n\r\n`getActivity().getContentResolver()`","title":"Making getContentResolver() to work in class extending Fragment class","body":"<p>When using <code>android.support.v4.app.Fragment</code>:</p>\n\n<p><code>getActivity().getContentResolver()</code></p>\n"},{"tags":[],"owner":{"account_id":10489883,"reputation":11,"user_id":7732158,"display_name":"Mike Fallon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490758561,"creation_date":1490758561,"answer_id":43083828,"question_id":31852653,"body_markdown":"I had similar problem with a fragment, but tried \r\n\r\n    (getContext().getContentResolver(), filePath);","title":"Making getContentResolver() to work in class extending Fragment class","body":"<p>I had similar problem with a fragment, but tried </p>\n\n<pre><code>(getContext().getContentResolver(), filePath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9038737,"reputation":1,"user_id":6733670,"display_name":"Samo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522747388,"creation_date":1522746278,"answer_id":49626129,"question_id":31852653,"body_markdown":"    if (requestCode == GALLERY) {\r\n\r\n\r\n            if (resultCode==RESULT_OK){\r\n                if (data!=null) {\r\n                     Uri uri = data.getData();\r\n                    BitmapFactory.Options options = new BitmapFactory.Options();\r\n                    options.inJustDecodeBounds = true;\r\n                    try {\r\n                        BitmapFactory.decodeStream(getActivity().getContentResolver().openInputStream(uri), null, options);\r\n                        options.inSampleSize = calculateInSampleSize(options, 100, 100);\r\n                        options.inJustDecodeBounds = false;\r\n                        Bitmap image = BitmapFactory.decodeStream(getActivity().getContentResolver().openInputStream(uri), null, options);\r\n                        //imageofpic.setImageBitmap(image);\r\n\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }else {\r\n                    Toast.makeText(getActivity(), &quot;Cancelled&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n                }\r\n    }","title":"Making getContentResolver() to work in class extending Fragment class","body":"<pre><code>if (requestCode == GALLERY) {\n\n\n        if (resultCode==RESULT_OK){\n            if (data!=null) {\n                 Uri uri = data.getData();\n                BitmapFactory.Options options = new BitmapFactory.Options();\n                options.inJustDecodeBounds = true;\n                try {\n                    BitmapFactory.decodeStream(getActivity().getContentResolver().openInputStream(uri), null, options);\n                    options.inSampleSize = calculateInSampleSize(options, 100, 100);\n                    options.inJustDecodeBounds = false;\n                    Bitmap image = BitmapFactory.decodeStream(getActivity().getContentResolver().openInputStream(uri), null, options);\n                    //imageofpic.setImageBitmap(image);\n\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n            }else {\n                Toast.makeText(getActivity(), \"Cancelled\",\n                        Toast.LENGTH_SHORT).show();\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3922397,"reputation":11,"user_id":3244142,"display_name":"shady"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541352044,"creation_date":1541352044,"answer_id":53143394,"question_id":31852653,"body_markdown":"Edit like this.\r\n\r\n  \r\n\r\n      Cursor contctCursorVar = getContext().getContentResolver().query(contctDataVar, null,","title":"Making getContentResolver() to work in class extending Fragment class","body":"<p>Edit like this.</p>\n\n<pre><code>  Cursor contctCursorVar = getContext().getContentResolver().query(contctDataVar, null,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20153089,"reputation":97,"user_id":14965748,"display_name":"Kushal Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628514392,"creation_date":1628514046,"answer_id":68712516,"question_id":31852653,"body_markdown":"**For kotlin users-** \r\n    \r\n    activity!!.contentResolver\r\n\r\n**but what worked for me-** \r\n\r\n      requireActivity().contentResolver\r\nYou can use whatever work for you.","title":"Making getContentResolver() to work in class extending Fragment class","body":"<p><strong>For kotlin users-</strong></p>\n<pre><code>activity!!.contentResolver\n</code></pre>\n<p><strong>but what worked for me-</strong></p>\n<pre><code>  requireActivity().contentResolver\n</code></pre>\n<p>You can use whatever work for you.</p>\n"}],"owner":{"account_id":6739044,"reputation":381,"user_id":5192801,"accept_rate":47,"display_name":"Syed Danish Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37020,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":31853098,"answer_count":7,"score":13,"last_activity_date":1664952975,"creation_date":1438855048,"question_id":31852653,"body_markdown":"&lt;br&gt;&lt;br&gt;\r\n\r\nWhat I have in mind is to use two fragments, first one to show the contacts list and second one to show the details of contact which is being selected in the upper fragment.&lt;br&gt;\r\nThe class that I&#39;m using to extend the **Fragment** class does not allow me to use `getContentResolver()` method due to the context issue. Now I&#39;m trying to fetch the contact in the same class which is extending Fragment class and use it to show in the list view and its details. After going through some older solution I found the way to create a function and pass Context to it as a parameter but the problem is I don&#39;t have to call it from any other class which is extending Activity. I want to do it from that same class extending Fragment.\r\n\r\nHow should I do this? \r\n\r\nAny help will be highly appreciated.","title":"Making getContentResolver() to work in class extending Fragment class","body":"<p><br><br></p>\n\n<p>What I have in mind is to use two fragments, first one to show the contacts list and second one to show the details of contact which is being selected in the upper fragment.<br>\nThe class that I'm using to extend the <strong>Fragment</strong> class does not allow me to use <code>getContentResolver()</code> method due to the context issue. Now I'm trying to fetch the contact in the same class which is extending Fragment class and use it to show in the list view and its details. After going through some older solution I found the way to create a function and pass Context to it as a parameter but the problem is I don't have to call it from any other class which is extending Activity. I want to do it from that same class extending Fragment.</p>\n\n<p>How should I do this? </p>\n\n<p>Any help will be highly appreciated.</p>\n"},{"tags":["java","websocket","spring-websocket","java-http-client"],"comments":[{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1664883343,"post_id":73945176,"comment_id":130567395,"body_markdown":"Can you use wss instead? The upgrade headers are probably stripped by the proxy.","body":"Can you use wss instead? The upgrade headers are probably stripped by the proxy."},{"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"score":0,"creation_date":1664884288,"post_id":73945176,"comment_id":130567683,"body_markdown":"Changing to `wss` has the same result","body":"Changing to <code>wss</code> has the same result"},{"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"score":0,"creation_date":1664884420,"post_id":73945176,"comment_id":130567730,"body_markdown":"Note: In the server&#39;s console&#39;s listed headers, `Connection` is always listed as `close`, whether I attempt to set it or not.  `Upgrade` is never set.","body":"Note: In the server&#39;s console&#39;s listed headers, <code>Connection</code> is always listed as <code>close</code>, whether I attempt to set it or not.  <code>Upgrade</code> is never set."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":1,"creation_date":1664887831,"post_id":73945176,"comment_id":130568882,"body_markdown":"I&#39;d suggest enabling the client side logs by specifying `-Djdk.httpclient.HttpClient.log=errors,headers,requests` on the java command line on the client side. This will help you see what headers &amp; requests are sent by the client to establish the websocket connection.\nhttps://docs.oracle.com/en/java/javase/17/core/java-networking.html","body":"I&#39;d suggest enabling the client side logs by specifying <code>-Djdk.httpclient.HttpClient.log=errors,headers,requests</code> on the java command line on the client side. This will help you see what headers &amp; requests are sent by the client to establish the websocket connection. <a href=\"https://docs.oracle.com/en/java/javase/17/core/java-networking.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/core/java-networking.html</a>"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":1,"creation_date":1664889222,"post_id":73945176,"comment_id":130569406,"body_markdown":"Another note: no need to try to specify Upgrade or Connection from the calling code. There is a reason why they are restricted: the HttpClient will set them appropriately.","body":"Another note: no need to try to specify Upgrade or Connection from the calling code. There is a reason why they are restricted: the HttpClient will set them appropriately."},{"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"score":0,"creation_date":1664949163,"post_id":73945176,"comment_id":130583047,"body_markdown":"@daniel This shows that the `Connection` and `Upgrade` headers are indeed added, being set to `Upgrade` and `websocket` respectively.  However, on the server, `Connection` is still `close` and there is still no `Upgrade` header","body":"@daniel This shows that the <code>Connection</code> and <code>Upgrade</code> headers are indeed added, being set to <code>Upgrade</code> and <code>websocket</code> respectively.  However, on the server, <code>Connection</code> is still <code>close</code> and there is still no <code>Upgrade</code> header"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":1,"creation_date":1664967969,"post_id":73945176,"comment_id":130588325,"body_markdown":"If it doesn&#39;t work: blame the proxy ;-) I believe the issue is with the proxy you are using - or the proxy that sits in front of the server - if any. Fix the proxy.","body":"If it doesn&#39;t work: blame the proxy ;-) I believe the issue is with the proxy you are using - or the proxy that sits in front of the server - if any. Fix the proxy."},{"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"score":0,"creation_date":1665052544,"post_id":73945176,"comment_id":130611156,"body_markdown":"As you said, it was an issue with the proxy.  It wasn&#39;t forwarding headers, so I contacted the host and they fixed it.  Thanks!","body":"As you said, it was an issue with the proxy.  It wasn&#39;t forwarding headers, so I contacted the host and they fixed it.  Thanks!"}],"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664952570,"creation_date":1664872805,"question_id":73945176,"body_markdown":"I created a WebSocket server using Java Spring, which worked correctly when connecting via `ws://localhost:8080/socket` and `ws://localhost:30019/socket`.  However, when I attempt to upload the socket to a host and connect to it via `ws://website.com/socket`, it cannot connect.  The difference in ports (connecting to port `80` on the host despite it running on port `30019`) is due to the host using a proxy server and redirecting port 80 of the proxy to port 30019 of the hosting server.  Connecting to the static portion of the page is the same between `localhost:30019` and `website.com`, where the webpage displays accurately in both cases.\r\n\r\nWhen I try to connect, I receive a `WebSocketHandshakeException` due to a 400 response from the server:\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.net.http.WebSocketHandshakeException\r\n\tat com.socketsimpl.Main.main(Main.java:34)\r\nCaused by: java.util.concurrent.ExecutionException: java.net.http.WebSocketHandshakeException\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\r\n\tat  com.socketsimpl.Main.main(Main.java:27)\r\nCaused by: java.net.http.WebSocketHandshakeException\r\n\tat java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.resultFrom(OpeningHandshake.java:226)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\nCaused by: jdk.internal.net.http.websocket.CheckFailedException: Unexpected HTTP response status code 400\r\n\tat java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.checkFailed(OpeningHandshake.java:343)\r\n\tat java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.handleResponse(OpeningHandshake.java:252)\r\n\tat java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.resultFrom(OpeningHandshake.java:222)\r\n\t... 10 more\r\n```\r\nWhen the server returns the 400 code, the error in the server console is `&quot;Handshake failed due to invalid Upgrade header: null&quot;`.  When switching the log level to debug by adding `logging.level.root=DEBUG` to `application.properties`, it can be seen that the `Upgrade` header is not in the headers list.\r\n\r\nTo add the header, I changed my connection code from:\r\n```\r\nHttpClient client = HttpClient.newHttpClient();\r\nsocket = client.newWebSocketBuilder()\r\n    .buildAsync(\r\n        URI.create(&quot;ws://website.com/socket&quot;),\r\n        new Listener()\r\n    )\r\n    .get();\r\n```\r\nto\r\n```\r\nHttpClient client = HttpClient.newHttpClient();\r\n    .header(&quot;Connection&quot;, &quot;Upgrade&quot;)\r\n    .header(&quot;Upgrade&quot;, &quot;WebSocket&quot;)\r\n    .buildAsync(\r\n        URI.create(&quot;ws://website.com/socket&quot;),\r\n        new Listener()\r\n    )\r\n    .get();\r\n```\r\nHowever, as `Connection` and `Upgrade` are considered restricted headers by Java, this causes an `IllegalArgumentException` with description `restricted header name: &quot;Connection&quot;`.  As widely suggested across StackOverflow and other websites, I added the `allowRestrictedHeaders` property, making my startup command:\r\n```\r\njava -&quot;Djdk.httpclient.allowRestrictedHeaders=Upgrade,Connection&quot; -jar .\\untitled-1.0-SNAPSHOT-all.jar\r\n```\r\nHowever, the headers logged in the server console remain the exact same, the error returns to `WebSocketHandshakeException`, and the error in the server console also remains the same; it is as if I didn&#39;t add the headers.  When testing with other headers, they appear in the headers logged in the server console, meaning it is a valid way to add headers.\r\n\r\nHow can I fix the handshake, allowing the client to successfully connect to the server?","title":"Cannot connect to Spring WebSocket server due to null Upgrade Header","body":"<p>I created a WebSocket server using Java Spring, which worked correctly when connecting via <code>ws://localhost:8080/socket</code> and <code>ws://localhost:30019/socket</code>.  However, when I attempt to upload the socket to a host and connect to it via <code>ws://website.com/socket</code>, it cannot connect.  The difference in ports (connecting to port <code>80</code> on the host despite it running on port <code>30019</code>) is due to the host using a proxy server and redirecting port 80 of the proxy to port 30019 of the hosting server.  Connecting to the static portion of the page is the same between <code>localhost:30019</code> and <code>website.com</code>, where the webpage displays accurately in both cases.</p>\n<p>When I try to connect, I receive a <code>WebSocketHandshakeException</code> due to a 400 response from the server:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.net.http.WebSocketHandshakeException\n    at com.socketsimpl.Main.main(Main.java:34)\nCaused by: java.util.concurrent.ExecutionException: java.net.http.WebSocketHandshakeException\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\n    at  com.socketsimpl.Main.main(Main.java:27)\nCaused by: java.net.http.WebSocketHandshakeException\n    at java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.resultFrom(OpeningHandshake.java:226)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\nCaused by: jdk.internal.net.http.websocket.CheckFailedException: Unexpected HTTP response status code 400\n    at java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.checkFailed(OpeningHandshake.java:343)\n    at java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.handleResponse(OpeningHandshake.java:252)\n    at java.net.http/jdk.internal.net.http.websocket.OpeningHandshake.resultFrom(OpeningHandshake.java:222)\n    ... 10 more\n</code></pre>\n<p>When the server returns the 400 code, the error in the server console is <code>&quot;Handshake failed due to invalid Upgrade header: null&quot;</code>.  When switching the log level to debug by adding <code>logging.level.root=DEBUG</code> to <code>application.properties</code>, it can be seen that the <code>Upgrade</code> header is not in the headers list.</p>\n<p>To add the header, I changed my connection code from:</p>\n<pre><code>HttpClient client = HttpClient.newHttpClient();\nsocket = client.newWebSocketBuilder()\n    .buildAsync(\n        URI.create(&quot;ws://website.com/socket&quot;),\n        new Listener()\n    )\n    .get();\n</code></pre>\n<p>to</p>\n<pre><code>HttpClient client = HttpClient.newHttpClient();\n    .header(&quot;Connection&quot;, &quot;Upgrade&quot;)\n    .header(&quot;Upgrade&quot;, &quot;WebSocket&quot;)\n    .buildAsync(\n        URI.create(&quot;ws://website.com/socket&quot;),\n        new Listener()\n    )\n    .get();\n</code></pre>\n<p>However, as <code>Connection</code> and <code>Upgrade</code> are considered restricted headers by Java, this causes an <code>IllegalArgumentException</code> with description <code>restricted header name: &quot;Connection&quot;</code>.  As widely suggested across StackOverflow and other websites, I added the <code>allowRestrictedHeaders</code> property, making my startup command:</p>\n<pre><code>java -&quot;Djdk.httpclient.allowRestrictedHeaders=Upgrade,Connection&quot; -jar .\\untitled-1.0-SNAPSHOT-all.jar\n</code></pre>\n<p>However, the headers logged in the server console remain the exact same, the error returns to <code>WebSocketHandshakeException</code>, and the error in the server console also remains the same; it is as if I didn't add the headers.  When testing with other headers, they appear in the headers logged in the server console, meaning it is a valid way to add headers.</p>\n<p>How can I fix the handshake, allowing the client to successfully connect to the server?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664108708,"post_id":73844436,"comment_id":130391352,"body_markdown":"replace `??` with `string`, then add the missing `)` at the end of that line? (Line: `.map(string -&gt; getRateAtDate(symbol, ??)`).","body":"replace <code>??</code> with <code>string</code>, then add the missing <code>)</code> at the end of that line? (Line: <code>.map(string -&gt; getRateAtDate(symbol, ??)</code>)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1664111378,"post_id":73844436,"comment_id":130391810,"body_markdown":"Please don&#39;t ask the [same question](https://stackoverflow.com/questions/73843504/how-to-loop-through-elements-in-a-stream-and-return-a-value-in-java) constantly. Instead, if you have new information to add to it, edit the existing question.","body":"Please don&#39;t ask the <a href=\"https://stackoverflow.com/questions/73843504/how-to-loop-through-elements-in-a-stream-and-return-a-value-in-java\">same question</a> constantly. Instead, if you have new information to add to it, edit the existing question."}],"answers":[{"tags":[],"owner":{"account_id":162233,"reputation":3101,"user_id":383568,"accept_rate":86,"display_name":"JayK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664120076,"creation_date":1664109904,"answer_id":73844584,"question_id":73844436,"body_markdown":"I unterstand that you want to compute the rate with getRateAtDate and collect both the date string and the rate double into an output string in the final streaming step. For this you need to pass along both the date string and the rate value to the last map step. *If you do not want to keep the map steps separated as you have them, better see Arvind Kumar Avinash&#39;s answer.*\r\n\r\nFirst, pass your date string to the getDateAtRate function, so that you get the rate value. Second, you need to return a &quot;tuple&quot; of the date and the rate from that map step in order to have both available in the final step.\r\n\r\nIf you do not have a class for a combination (the tuple) of date and rate yet, you could create an inner class with two fields: one for the date string, one for the rate. Create an object of this class and return it from the map step that computes the rate. The string conversion step will get the object as input, and you can retrieve the two values from it to build the string.\r\n\r\n    static class RateAtDate {\r\n        String date;\r\n        Double rate;\r\n        \r\n        RateAtDate(Double r, String d) {\r\n            rate = r;\r\n            date = d;\r\n        }\r\n    }\r\n\r\n    public String[] getRatesForYear(String symbol, String year) {\r\n        ...\r\n        List&lt;String&gt; stringsList = listOfYearFiles.stream()\r\n            .filter(string -&gt; string.startsWith(year))\r\n            .sorted()\r\n            .map(string -&gt; new RateAtDate(getRateAtDate(symbol, string), string))\r\n            .map(tuple -&gt; &quot;Date: &quot; + tuple.date + &quot; Rate: &quot; + tuple.rate)\r\n            .toList();\r\n        ...\r\n    }\r\n\r\n(If you prefer to use getters over direct field access and to make the fields private, please do. I did not want to make the example more verbose.)","title":"How to get an element&#39;s name as a String inside a stream in Java?","body":"<p>I unterstand that you want to compute the rate with getRateAtDate and collect both the date string and the rate double into an output string in the final streaming step. For this you need to pass along both the date string and the rate value to the last map step. <em>If you do not want to keep the map steps separated as you have them, better see Arvind Kumar Avinash's answer.</em></p>\n<p>First, pass your date string to the getDateAtRate function, so that you get the rate value. Second, you need to return a &quot;tuple&quot; of the date and the rate from that map step in order to have both available in the final step.</p>\n<p>If you do not have a class for a combination (the tuple) of date and rate yet, you could create an inner class with two fields: one for the date string, one for the rate. Create an object of this class and return it from the map step that computes the rate. The string conversion step will get the object as input, and you can retrieve the two values from it to build the string.</p>\n<pre><code>static class RateAtDate {\n    String date;\n    Double rate;\n    \n    RateAtDate(Double r, String d) {\n        rate = r;\n        date = d;\n    }\n}\n\npublic String[] getRatesForYear(String symbol, String year) {\n    ...\n    List&lt;String&gt; stringsList = listOfYearFiles.stream()\n        .filter(string -&gt; string.startsWith(year))\n        .sorted()\n        .map(string -&gt; new RateAtDate(getRateAtDate(symbol, string), string))\n        .map(tuple -&gt; &quot;Date: &quot; + tuple.date + &quot; Rate: &quot; + tuple.rate)\n        .toList();\n    ...\n}\n</code></pre>\n<p>(If you prefer to use getters over direct field access and to make the fields private, please do. I did not want to make the example more verbose.)</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664115202,"creation_date":1664112281,"answer_id":73844844,"question_id":73844436,"body_markdown":"For your requirement, you do not need to use `.map` twice. You can achieve it this way:\r\n\r\n    List&lt;String&gt; stringsList = listOfYearFiles.stream()\r\n                .filter(string -&gt; string.startsWith(year))\r\n                .sorted()\r\n                .map(string -&gt; &quot;Date: &quot; + string + &quot; Rate: &quot; + getRateAtDate(symbol, string))\r\n                .toList();\r\n\r\nYou can also join the elements to a single `String` as follows:\r\n\r\n    String output = listOfYearFiles.stream()\r\n                .filter(string -&gt; string.startsWith(year))\r\n                .sorted()\r\n                .map(string -&gt; &quot;Date: &quot; + string + &quot; Rate: &quot; + getRateAtDate(symbol, string))\r\n                .collect(Collectors.joining(&quot;, \\n&quot;));","title":"How to get an element&#39;s name as a String inside a stream in Java?","body":"<p>For your requirement, you do not need to use <code>.map</code> twice. You can achieve it this way:</p>\n<pre><code>List&lt;String&gt; stringsList = listOfYearFiles.stream()\n            .filter(string -&gt; string.startsWith(year))\n            .sorted()\n            .map(string -&gt; &quot;Date: &quot; + string + &quot; Rate: &quot; + getRateAtDate(symbol, string))\n            .toList();\n</code></pre>\n<p>You can also join the elements to a single <code>String</code> as follows:</p>\n<pre><code>String output = listOfYearFiles.stream()\n            .filter(string -&gt; string.startsWith(year))\n            .sorted()\n            .map(string -&gt; &quot;Date: &quot; + string + &quot; Rate: &quot; + getRateAtDate(symbol, string))\n            .collect(Collectors.joining(&quot;, \\n&quot;));\n</code></pre>\n"}],"owner":{"account_id":18056490,"reputation":35,"user_id":19832072,"display_name":"santa_cloudy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":73844844,"answer_count":2,"score":-2,"last_activity_date":1664952243,"creation_date":1664108389,"question_id":73844436,"body_markdown":"I have a List&lt;String&gt; of file names `[1999-01-01, 1999-06-01, 1999-11-01]` and I would like to stream the list and access each file by its name in order to get some data from them. \r\nThe `getRatesFiles` gives me a list in the above format.\r\n\r\nI would then like to use the name of each element, in order to feed it to `getRateAtDate` method that uses the date to read data from that file.\r\nThe final output should look like below:\r\n\r\n    &quot;Date: 1999-01-01 Rate: 0.602941&quot;,\r\n    &quot;Date: 1999-06-01 Rate: 0.621195&quot;,\r\n    &quot;Date: 1999-11-01 Rate: 0.60824&quot;\r\n\r\n```\r\n\r\n  public Double getRateAtDate(String symbol, String date) {\r\n    RateListing rateListing = rlrReader.readRatesAtDate(date);\r\n    throwExceptionIfSymbolNotFound(rateListing, symbol);\r\n\r\n    return rateListing.rates().get(symbol);\r\n  }\r\n\r\n\r\n\r\npublic String[] getRatesForYear(String symbol, String year) {\r\n\r\n    List&lt;String&gt; listOfYearFiles = rlrReader.getRatesFiles();\r\n\r\n\r\n\r\nList&lt;String&gt; stringsList = listOfYearFiles.stream()\r\n            .filter(string -&gt; string.startsWith(year))\r\n            .sorted()\r\n            .map(string -&gt; getRateAtDate(symbol, ??)\r\n            .map(string -&gt; &quot;Date: &quot; + string)\r\n            .toList();\r\n\r\n```","title":"How to get an element&#39;s name as a String inside a stream in Java?","body":"<p>I have a List of file names <code>[1999-01-01, 1999-06-01, 1999-11-01]</code> and I would like to stream the list and access each file by its name in order to get some data from them.\nThe <code>getRatesFiles</code> gives me a list in the above format.</p>\n<p>I would then like to use the name of each element, in order to feed it to <code>getRateAtDate</code> method that uses the date to read data from that file.\nThe final output should look like below:</p>\n<pre><code>&quot;Date: 1999-01-01 Rate: 0.602941&quot;,\n&quot;Date: 1999-06-01 Rate: 0.621195&quot;,\n&quot;Date: 1999-11-01 Rate: 0.60824&quot;\n</code></pre>\n<pre><code>\n  public Double getRateAtDate(String symbol, String date) {\n    RateListing rateListing = rlrReader.readRatesAtDate(date);\n    throwExceptionIfSymbolNotFound(rateListing, symbol);\n\n    return rateListing.rates().get(symbol);\n  }\n\n\n\npublic String[] getRatesForYear(String symbol, String year) {\n\n    List&lt;String&gt; listOfYearFiles = rlrReader.getRatesFiles();\n\n\n\nList&lt;String&gt; stringsList = listOfYearFiles.stream()\n            .filter(string -&gt; string.startsWith(year))\n            .sorted()\n            .map(string -&gt; getRateAtDate(symbol, ??)\n            .map(string -&gt; &quot;Date: &quot; + string)\n            .toList();\n\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","jpql"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1565178432,"post_id":57393539,"comment_id":101269150,"body_markdown":"`GROUP_CONCAT` is a MySQL (and SQLite) specific function, so I doubt JPQL would support it.  You might have to handle this on the Java side, perhaps using streams.","body":"<code>GROUP_CONCAT</code> is a MySQL (and SQLite) specific function, so I doubt JPQL would support it.  You might have to handle this on the Java side, perhaps using streams."},{"owner":{"account_id":1695451,"reputation":464,"user_id":1556908,"display_name":"Tirex"},"score":0,"creation_date":1565178712,"post_id":57393539,"comment_id":101269283,"body_markdown":"https://stackoverflow.com/questions/7005354/jpa-criteria-api-group-concat-usage","body":"<a href=\"https://stackoverflow.com/questions/7005354/jpa-criteria-api-group-concat-usage\" title=\"jpa criteria api group concat usage\">stackoverflow.com/questions/7005354/&hellip;</a>"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1565263960,"post_id":57393539,"comment_id":101303295,"body_markdown":"I actually want to handle it using JPQL. Isn&#39;t there alternative in JPQL? @TimBiegeleisen","body":"I actually want to handle it using JPQL. Isn&#39;t there alternative in JPQL? @TimBiegeleisen"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1565264034,"post_id":57393539,"comment_id":101303338,"body_markdown":"No, I don&#39;t think there is, mainly because every database vendor has a different way of handling group concatenation (there probably is an ANSI SQL way of doing it, but my guess is that few/none of the vendors actually support it).","body":"No, I don&#39;t think there is, mainly because every database vendor has a different way of handling group concatenation (there probably is an ANSI SQL way of doing it, but my guess is that few/none of the vendors actually support it)."}],"answers":[{"tags":[],"owner":{"account_id":881423,"reputation":1631,"user_id":263116,"display_name":"Konstantin Triger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565709204,"creation_date":1565709204,"answer_id":57480742,"question_id":57393539,"body_markdown":"You may consider using [FluentJPA][1], which supports any custom function:\r\n\r\n```java\r\npublic ProfileMenuGroup getMenuIdsByProfile(int profileId) {\r\n    FluentQuery query = FluentJPA.SQL((Profile p,\r\n                                       ProfileMenu pm) -&gt; {\r\n        String menuIds = alias(GROUP_CONCAT(pm.getUserMenuId(), &quot;,&quot;),\r\n                                            ProfileMenuGroup::getProfileMenuIds);\r\n        String description = alias(p.getDescription(), ProfileMenuGroup::getDescription);\r\n        \r\n        SELECT(menuIds, description);\r\n        FROM(p).LEFT_JOIN(pm).ON(p == pm.getProfile());\r\n        WHERE(p.getId() == profileId &amp;&amp; pm.getStatus() == &quot;Y&quot;);\r\n        GROUP(BY(p.getId()));\r\n    });\r\n    return query.createQuery(em, ProfileMenuGroup.class).getSingleResult();\r\n}\r\n```\r\n\r\nthe query produces the following SQL (`profileId` is auto bound):\r\n\r\n```SQL\r\nSELECT GROUP_CONCAT(t1.user_menu_id SEPARATOR &#39;,&#39;) AS profile_menu_ids,\r\n                                    t0.description AS description \r\nFROM profile t0  LEFT JOIN profile_menu t1  ON (t0.id = t1.profile_id) \r\nWHERE ((t0.id = ?1) AND (t1.status = &#39;Y&#39;)) \r\nGROUP BY  t0.id\r\n```\r\n\r\nGiven the following type declarations:\r\n\r\n```java\r\n@Entity\r\n@Data // lombok\r\n@Table(name = &quot;profile&quot;)\r\npublic class Profile {\r\n    @Id\r\n    private int id;\r\n\r\n    private String description;\r\n}\r\n\r\n@Entity\r\n@Data // lombok\r\n@Table(name = &quot;profile_menu&quot;)\r\npublic class ProfileMenu {\r\n    @Id\r\n    private int id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;profile_id&quot;)\r\n    private Profile profile;\r\n\r\n    private int userMenuId;\r\n\r\n    private String status;\r\n}\r\n\r\n@Tuple\r\n@Data // lombok\r\npublic class ProfileMenuGroup {\r\n\r\n    private String profileMenuIds;\r\n\r\n    private String description;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/streamx-co/FluentJPA","title":"Is there an alternative for native query&#39;s &#39;GROUP_CONCAT&#39; in JPQL with JPA?","body":"<p>You may consider using <a href=\"https://github.com/streamx-co/FluentJPA\" rel=\"nofollow noreferrer\">FluentJPA</a>, which supports any custom function:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ProfileMenuGroup getMenuIdsByProfile(int profileId) {\n    FluentQuery query = FluentJPA.SQL((Profile p,\n                                       ProfileMenu pm) -&gt; {\n        String menuIds = alias(GROUP_CONCAT(pm.getUserMenuId(), \",\"),\n                                            ProfileMenuGroup::getProfileMenuIds);\n        String description = alias(p.getDescription(), ProfileMenuGroup::getDescription);\n\n        SELECT(menuIds, description);\n        FROM(p).LEFT_JOIN(pm).ON(p == pm.getProfile());\n        WHERE(p.getId() == profileId &amp;&amp; pm.getStatus() == \"Y\");\n        GROUP(BY(p.getId()));\n    });\n    return query.createQuery(em, ProfileMenuGroup.class).getSingleResult();\n}\n</code></pre>\n\n<p>the query produces the following SQL (<code>profileId</code> is auto bound):</p>\n\n<pre><code>SELECT GROUP_CONCAT(t1.user_menu_id SEPARATOR ',') AS profile_menu_ids,\n                                    t0.description AS description \nFROM profile t0  LEFT JOIN profile_menu t1  ON (t0.id = t1.profile_id) \nWHERE ((t0.id = ?1) AND (t1.status = 'Y')) \nGROUP BY  t0.id\n</code></pre>\n\n<p>Given the following type declarations:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data // lombok\n@Table(name = \"profile\")\npublic class Profile {\n    @Id\n    private int id;\n\n    private String description;\n}\n\n@Entity\n@Data // lombok\n@Table(name = \"profile_menu\")\npublic class ProfileMenu {\n    @Id\n    private int id;\n\n    @ManyToOne\n    @JoinColumn(name = \"profile_id\")\n    private Profile profile;\n\n    private int userMenuId;\n\n    private String status;\n}\n\n@Tuple\n@Data // lombok\npublic class ProfileMenuGroup {\n\n    private String profileMenuIds;\n\n    private String description;\n}\n</code></pre>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4946,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1664952069,"creation_date":1565177769,"question_id":57393539,"body_markdown":"I am trying to fetch profile menus of a profile using jpql with JPA. My &#39;Profile&#39; and &#39;ProfileMenus&#39; entities have many to one relationship.\r\n\r\nI have tried looking into these answers but couldn&#39;t find any working solution.\r\n\r\nhttps://stackoverflow.com/questions/39041756/how-to-add-non-standardized-sql-functions-in-spring-boot-application\r\n\r\nhttps://stackoverflow.com/questions/12346845/registering-a-sql-function-with-jpa-and-hibernate\r\n\r\nhttps://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/\r\n\r\nI also went through this link and seems to have same problem as mine, \r\nhttps://stackoverflow.com/questions/57385780/how-to-register-non-standarized-sql-functions-manually-in-spring-boot-applicatio\r\n\r\nWhen using native query I can fetch my data using the query below:\r\n\r\n     SELECT\r\n     GROUP_CONCAT(pm.user_menu_id SEPARATOR &#39;,&#39;)\r\n     AS profile_menu_ids,\r\n     p.description\r\n     FROM profile p\r\n     LEFT JOIN profile_menu pm ON p.id = pm.profile_id\r\n     WHERE\r\n     p.id =:profileId\r\n     AND\r\n     pm.status = &#39;Y&#39;\r\n     GROUP BY p.id\r\n\r\nThe above query provides me data as,\r\n\r\n|profile_menu_ids|description  |\r\n|----------------|-------------|\r\n|4,5             |admin profile|\r\n\r\n\r\nIs there any way or alternatives in jpql with JPA to obtain result as above?\r\n\r\n","title":"Is there an alternative for native query&#39;s &#39;GROUP_CONCAT&#39; in JPQL with JPA?","body":"<p>I am trying to fetch profile menus of a profile using jpql with JPA. My 'Profile' and 'ProfileMenus' entities have many to one relationship.</p>\n<p>I have tried looking into these answers but couldn't find any working solution.</p>\n<p><a href=\"https://stackoverflow.com/questions/39041756/how-to-add-non-standardized-sql-functions-in-spring-boot-application\">How to add non-standardized sql functions in Spring Boot application?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/12346845/registering-a-sql-function-with-jpa-and-hibernate\">Registering a SQL function with JPA and Hibernate</a></p>\n<p><a href=\"https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/</a></p>\n<p>I also went through this link and seems to have same problem as mine,\n<a href=\"https://stackoverflow.com/questions/57385780/how-to-register-non-standarized-sql-functions-manually-in-spring-boot-applicatio\">How to register non-standarized SQL functions manually in Spring Boot application?</a></p>\n<p>When using native query I can fetch my data using the query below:</p>\n<pre><code> SELECT\n GROUP_CONCAT(pm.user_menu_id SEPARATOR ',')\n AS profile_menu_ids,\n p.description\n FROM profile p\n LEFT JOIN profile_menu pm ON p.id = pm.profile_id\n WHERE\n p.id =:profileId\n AND\n pm.status = 'Y'\n GROUP BY p.id\n</code></pre>\n<p>The above query provides me data as,</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>profile_menu_ids</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4,5</td>\n<td>admin profile</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is there any way or alternatives in jpql with JPA to obtain result as above?</p>\n"},{"tags":["java","sql","postgresql","criteria-api"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664885852,"post_id":73947301,"comment_id":130568193,"body_markdown":"Of course you can; `ORDER BY col1, col2, col3`.","body":"Of course you can; <code>ORDER BY col1, col2, col3</code>."},{"owner":{"account_id":23536848,"reputation":1,"user_id":17581678,"display_name":"dertiende"},"score":0,"creation_date":1664887110,"post_id":73947301,"comment_id":130568619,"body_markdown":"That is one column for all fields","body":"That is one column for all fields"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664897216,"post_id":73947301,"comment_id":130572591,"body_markdown":"2 answers and a comment that all indicate folks don&#39;t understand what you&#39;re asking. Maybe you should edit the question, and show the actual data in your table. Make example data if you want. Let&#39;s say the survey has only 3 questions: &quot;1. What is your name&quot;, &quot;2. What is your favourite color&quot; and &quot;3. Are you an adult&quot;. Make up 2 example survey takers and show us the exact data you do have (`SELECT * FROM x` for every table in your design). Until then I&#39;m voting-to-close this.","body":"2 answers and a comment that all indicate folks don&#39;t understand what you&#39;re asking. Maybe you should edit the question, and show the actual data in your table. Make example data if you want. Let&#39;s say the survey has only 3 questions: &quot;1. What is your name&quot;, &quot;2. What is your favourite color&quot; and &quot;3. Are you an adult&quot;. Make up 2 example survey takers and show us the exact data you do have (<code>SELECT * FROM x</code> for every table in your design). Until then I&#39;m voting-to-close this."}],"answers":[{"tags":[],"owner":{"account_id":8502919,"reputation":1,"user_id":6375375,"display_name":"A.J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664951788,"creation_date":1664887547,"answer_id":73948066,"question_id":73947301,"body_markdown":"From the example provided, all you would need is a simple &quot;ORDER BY&quot; clause as per the first comment. Multiple columns can be added to the order by separated by a comma.  The key for you will then be how you need to order the columns, to achieve the desired output.\r\n\r\nIf you want all answers for Field1 first, followed by all answers for Field 2, then &quot;Field&quot; should be the first column \r\neg: ORDER BY Field, Value, Person \r\nIf you want field 1 then field 2, but per person, then you would say:\r\nORDER BY Person, field, Value\r\n\r\nYou may need to try run it a few times in different sequence to ensure that you get the desired result.   ","title":"Order by multiple fields in list of entity","body":"<p>From the example provided, all you would need is a simple &quot;ORDER BY&quot; clause as per the first comment. Multiple columns can be added to the order by separated by a comma.  The key for you will then be how you need to order the columns, to achieve the desired output.</p>\n<p>If you want all answers for Field1 first, followed by all answers for Field 2, then &quot;Field&quot; should be the first column\neg: ORDER BY Field, Value, Person\nIf you want field 1 then field 2, but per person, then you would say:\nORDER BY Person, field, Value</p>\n<p>You may need to try run it a few times in different sequence to ensure that you get the desired result.</p>\n"}],"owner":{"account_id":23536848,"reputation":1,"user_id":17581678,"display_name":"dertiende"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664951788,"creation_date":1664883354,"question_id":73947301,"body_markdown":"I have a list of survey answers. Each answer store in table as value with id reference to parent survey field and reference to person who answer. Parent field store title and type of question. \r\nCan i with sql do sort by multiple fields? \r\n\r\nThe problem for me is that answer value for multiple fields store in one table in one column as text.\r\n\r\nUPD: there is exapmle\r\nAnswers table:\r\n\r\n|   Value  |     Field      |     Person    |\r\n| -------- | -------------- |-------------- |\r\n|     12   | 1              | user1         |\r\n|     no   | 2              | user1         |\r\n|     41   | 1              | user2         |\r\n| yes      | 2              | user2         |\r\n|    52    | 1              | user3         |\r\n| yes      | 2              | user3         |\r\n\r\nIn answer entity i store list of this rows (by this example every answer contains list of 2 elements - number and boolean). So i need to sort answers first by value for field1, then by value for field2","title":"Order by multiple fields in list of entity","body":"<p>I have a list of survey answers. Each answer store in table as value with id reference to parent survey field and reference to person who answer. Parent field store title and type of question.\nCan i with sql do sort by multiple fields?</p>\n<p>The problem for me is that answer value for multiple fields store in one table in one column as text.</p>\n<p>UPD: there is exapmle\nAnswers table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Value</th>\n<th>Field</th>\n<th>Person</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>12</td>\n<td>1</td>\n<td>user1</td>\n</tr>\n<tr>\n<td>no</td>\n<td>2</td>\n<td>user1</td>\n</tr>\n<tr>\n<td>41</td>\n<td>1</td>\n<td>user2</td>\n</tr>\n<tr>\n<td>yes</td>\n<td>2</td>\n<td>user2</td>\n</tr>\n<tr>\n<td>52</td>\n<td>1</td>\n<td>user3</td>\n</tr>\n<tr>\n<td>yes</td>\n<td>2</td>\n<td>user3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In answer entity i store list of this rows (by this example every answer contains list of 2 elements - number and boolean). So i need to sort answers first by value for field1, then by value for field2</p>\n"},{"tags":["java","function","doubly-linked-list","deque","sentinel"],"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1664949941,"post_id":73956373,"comment_id":130583164,"body_markdown":"When you create your SLList it already has one element. What do you do with this existing element when you add another element? You have to indicate the method that adds the element.","body":"When you create your SLList it already has one element. What do you do with this existing element when you add another element? You have to indicate the method that adds the element."},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1664950067,"post_id":73956373,"comment_id":130583193,"body_markdown":"so while(sentinel.next != null) {\n            x++;\n        }\n        return x; ?","body":"so while(sentinel.next != null) {             x++;         }         return x; ?"},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1664950092,"post_id":73956373,"comment_id":130583199,"body_markdown":"since SLList already have one element","body":"since SLList already have one element"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664950212,"post_id":73956373,"comment_id":130583219,"body_markdown":"[Edit] your question and post a [mcve]. Create a [doubly-linked] list and then post what string should be returned by method `makestring` for this list.","body":"<a href=\"https://stackoverflow.com/posts/73956373/edit\">Edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Create a [doubly-linked] list and then post what string should be returned by method <code>makestring</code> for this list."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1664950257,"post_id":73956373,"comment_id":130583232,"body_markdown":"Would be more efficient if you keep track of the size each time the list is modified.","body":"Would be more efficient if you keep track of the size each time the list is modified."},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1664950747,"post_id":73956373,"comment_id":130583336,"body_markdown":"@ChengThao can u elaborate please. I don&#39;t know how to do this with sentinels present.","body":"@ChengThao can u elaborate please. I don&#39;t know how to do this with sentinels present."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1664953807,"post_id":73956373,"comment_id":130584016,"body_markdown":"The title is &quot;find the size of the list&quot; the question body is &quot;how to implement makestring?&quot;. Please pick one question and stick with it","body":"The title is &quot;find the size of the list&quot; the question body is &quot;how to implement makestring?&quot;. Please pick one question and stick with it"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664955514,"post_id":73956373,"comment_id":130584458,"body_markdown":"What Cheng Thao means is that you shouldn&#39;t calculate the size in `size()` but keep a variable in your list and each time you add a node you increment and each time you remove a node you decrement that variable.","body":"What Cheng Thao means is that you shouldn&#39;t calculate the size in <code>size()</code> but keep a variable in your list and each time you add a node you increment and each time you remove a node you decrement that variable."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664955641,"post_id":73956373,"comment_id":130584490,"body_markdown":"As for &quot;how to implement `makestring()`?&quot; - think about what exactly you&#39;d like the string to contain. What&#39;s its purpose? If you can provide that information you might already see some implementation options as well. And please don&#39;t ask &quot;what should I put into the string?&quot; - that&#39;s _your_ decision.","body":"As for &quot;how to implement <code>makestring()</code>?&quot; - think about what exactly you&#39;d like the string to contain. What&#39;s its purpose? If you can provide that information you might already see some implementation options as well. And please don&#39;t ask &quot;what should I put into the string?&quot; - that&#39;s <i>your</i> decision."}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664951326,"creation_date":1664949356,"question_id":73956373,"body_markdown":"I have a class `SLList` where a doubly linked list `SLList` would be taking in values of any generic type.\r\n\r\nI have used sentinels to help myself in working with these, and here is my code so far:\r\n```java\r\npublic class SLList&lt;T&gt; {\r\n\r\n    private class IntNode {\r\n        private T data;\r\n        private IntNode previous;\r\n        private IntNode next;\r\n\r\n        public IntNode(T data, IntNode previous, IntNode next) {\r\n            this.data = data;\r\n            this.previous = previous;\r\n            this.next = next;\r\n        }\r\n\r\n        public IntNode() {\r\n            next = previous = this;\r\n        }\r\n    }\r\n\r\n    IntNode sentinel;\r\n\r\n    public SLList() {\r\n        sentinel = new IntNode();\r\n    }\r\n\r\n    public int size() {\r\n        int x = 0;\r\n        while (sentinel.next != null) {\r\n            x++;\r\n        }\r\n        return x;\r\n    }\r\n\r\n    public String makestring() {\r\n        return sentinel.data.toString();\r\n    }\r\n}\r\n```\r\nNow I&#39;m trying to turn my doubly linked list into a string using `makestring()` but I&#39;m confused on how can I implement this properly into code. Can anyone please explain what am I doing wrong?\r\n\r\nAlso, if anyone can see if my `size()` function is wrong, please feel free to correct me","title":"How to find the size of your doubly linked list?","body":"<p>I have a class <code>SLList</code> where a doubly linked list <code>SLList</code> would be taking in values of any generic type.</p>\n<p>I have used sentinels to help myself in working with these, and here is my code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SLList&lt;T&gt; {\n\n    private class IntNode {\n        private T data;\n        private IntNode previous;\n        private IntNode next;\n\n        public IntNode(T data, IntNode previous, IntNode next) {\n            this.data = data;\n            this.previous = previous;\n            this.next = next;\n        }\n\n        public IntNode() {\n            next = previous = this;\n        }\n    }\n\n    IntNode sentinel;\n\n    public SLList() {\n        sentinel = new IntNode();\n    }\n\n    public int size() {\n        int x = 0;\n        while (sentinel.next != null) {\n            x++;\n        }\n        return x;\n    }\n\n    public String makestring() {\n        return sentinel.data.toString();\n    }\n}\n</code></pre>\n<p>Now I'm trying to turn my doubly linked list into a string using <code>makestring()</code> but I'm confused on how can I implement this properly into code. Can anyone please explain what am I doing wrong?</p>\n<p>Also, if anyone can see if my <code>size()</code> function is wrong, please feel free to correct me</p>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":68204,"reputation":7679,"user_id":199148,"accept_rate":93,"display_name":"Kartoch"},"score":0,"creation_date":1585750610,"post_id":60972567,"comment_id":107872526,"body_markdown":"Show us how you&#39;re starting the postgresql database, especially the port mapping option","body":"Show us how you&#39;re starting the postgresql database, especially the port mapping option"},{"owner":{"account_id":1463022,"reputation":515,"user_id":1376772,"accept_rate":62,"display_name":"Nasir"},"score":0,"creation_date":1585750824,"post_id":60972567,"comment_id":107872664,"body_markdown":"You must create `demodb` database manually in Postgres at first.","body":"You must create <code>demodb</code> database manually in Postgres at first."},{"owner":{"account_id":1463022,"reputation":515,"user_id":1376772,"accept_rate":62,"display_name":"Nasir"},"score":0,"creation_date":1585752215,"post_id":60972567,"comment_id":107873604,"body_markdown":"See this site: https://medium.com/better-programming/connect-from-local-machine-to-postgresql-docker-container-f785f00461a7","body":"See this site: <a href=\"https://medium.com/better-programming/connect-from-local-machine-to-postgresql-docker-container-f785f00461a7\" rel=\"nofollow noreferrer\">medium.com/better-programming/&hellip;</a>"},{"owner":{"account_id":18129328,"reputation":1,"user_id":13184584,"display_name":"mirashgoku"},"score":0,"creation_date":1585753901,"post_id":60972567,"comment_id":107874640,"body_markdown":"@Kartoch What i did was in the docker terminal, i typed (after each line i pressed return):\n\ndocker run --name postgres-spring -e POSTGRES_PASSWORD=password -d -p 5432:5432 postgres:alpine\n\ndocker exec -it dockerID bin/bash\n\npsql -U postgres\n\nCREATE DATABASE demodb;","body":"@Kartoch What i did was in the docker terminal, i typed (after each line i pressed return):  docker run --name postgres-spring -e POSTGRES_PASSWORD=password -d -p 5432:5432 postgres:alpine  docker exec -it dockerID bin/bash  psql -U postgres  CREATE DATABASE demodb;"},{"owner":{"account_id":18129328,"reputation":1,"user_id":13184584,"display_name":"mirashgoku"},"score":0,"creation_date":1585755609,"post_id":60972567,"comment_id":107875673,"body_markdown":"@Nasir i tried using pgAdmin 4, but i couldn&#39;t connect to server: could not connect to server.  Dialog box asking me for the password: &quot;Please enter the password for the user &#39;postgres&#39; to connect the server - &quot;PostgreSQL 10&quot; &quot;.  But After i enterted the password, i got this error message: &quot;Connection refused (0x0000274D/10061) Is the server running on host &quot;localhost&quot; (::1) and accepting TCP/IP connections on port 5432? could not connect to server: Connection refused (0x0000274D/10061) Is the server running on host &quot;localhost&quot; (127.0.0.1) and accepting TCP/IP connections on port 5432? &quot;","body":"@Nasir i tried using pgAdmin 4, but i couldn&#39;t connect to server: could not connect to server.  Dialog box asking me for the password: &quot;Please enter the password for the user &#39;postgres&#39; to connect the server - &quot;PostgreSQL 10&quot; &quot;.  But After i enterted the password, i got this error message: &quot;Connection refused (0x0000274D/10061) Is the server running on host &quot;localhost&quot; (::1) and accepting TCP/IP connections on port 5432? could not connect to server: Connection refused (0x0000274D/10061) Is the server running on host &quot;localhost&quot; (127.0.0.1) and accepting TCP/IP connections on port 5432? &quot;"},{"owner":{"account_id":1463022,"reputation":515,"user_id":1376772,"accept_rate":62,"display_name":"Nasir"},"score":0,"creation_date":1585756699,"post_id":60972567,"comment_id":107876315,"body_markdown":"See this question https://stackoverflow.com/questions/48770884/how-to-connect-to-postgres-database-on-docker-in-windows-10-using-sqlalchemy","body":"See this question <a href=\"https://stackoverflow.com/questions/48770884/how-to-connect-to-postgres-database-on-docker-in-windows-10-using-sqlalchemy\" title=\"how to connect to postgres database on docker in windows 10 using sqlalchemy\">stackoverflow.com/questions/48770884/&hellip;</a>"},{"owner":{"account_id":18129328,"reputation":1,"user_id":13184584,"display_name":"mirashgoku"},"score":0,"creation_date":1585761132,"post_id":60972567,"comment_id":107878784,"body_markdown":"@Nasir I tried that just now. I used the IP address that the docker terminal gave me.Now i have a different error which is:  &quot; psql: could not connect to server: Connection refused (0x0000274D/10061)\n        Is the server running on host &quot;192.168.x.x&quot; and accepting\n        TCP/IP connections on port 5432?&quot;  I also tried using Windows cmd using &quot;psql -h 192.168.x.x -p 5432 -U postgres&quot; and i got the exact same error.","body":"@Nasir I tried that just now. I used the IP address that the docker terminal gave me.Now i have a different error which is:  &quot; psql: could not connect to server: Connection refused (0x0000274D/10061)         Is the server running on host &quot;192.168.x.x&quot; and accepting         TCP/IP connections on port 5432?&quot;  I also tried using Windows cmd using &quot;psql -h 192.168.x.x -p 5432 -U postgres&quot; and i got the exact same error."},{"owner":{"account_id":18129328,"reputation":1,"user_id":13184584,"display_name":"mirashgoku"},"score":0,"creation_date":1585762246,"post_id":60972567,"comment_id":107879344,"body_markdown":"I have managed to solve this issue. I think i still don&#39;t have the hang of docker yet. What i did was i stopped and removed the old container, created a new one and tried to use the IP address from the Docker Quick start terminal  instead of &quot;local host&quot;.  The one thing that i don&#39;t understand is that if i close the terminal and reopen it, i cannot access it anymore, but the containers still exist. When i use &quot;docker ps&quot;, it won&#39;t show. Any idea why that is happening?","body":"I have managed to solve this issue. I think i still don&#39;t have the hang of docker yet. What i did was i stopped and removed the old container, created a new one and tried to use the IP address from the Docker Quick start terminal  instead of &quot;local host&quot;.  The one thing that i don&#39;t understand is that if i close the terminal and reopen it, i cannot access it anymore, but the containers still exist. When i use &quot;docker ps&quot;, it won&#39;t show. Any idea why that is happening?"}],"answers":[{"tags":[],"owner":{"account_id":9509701,"reputation":33,"user_id":7068019,"display_name":"Md9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599158916,"creation_date":1599152996,"answer_id":63728523,"question_id":60972567,"body_markdown":"Check if the Postgres database is installed locally on your machine.\r\nIf so, then uninstalling it should do the work.\r\n`localhost:5432` is captured by your local database and demodb does not exist there.","title":"&#39;FATAL: database &quot;demodb&quot; does not exist&#39; When trying to connect spring boot application to postgresql database","body":"<p>Check if the Postgres database is installed locally on your machine.\nIf so, then uninstalling it should do the work.\n<code>localhost:5432</code> is captured by your local database and demodb does not exist there.</p>\n"},{"tags":[],"owner":{"account_id":16864264,"reputation":11,"user_id":12194341,"display_name":"Zhengyang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664261557,"creation_date":1645393247,"answer_id":71199047,"question_id":60972567,"body_markdown":"I have had the same issue, just simply stop the Postgres app if you’ve downloaded it before, then the problem will be solved.  ","title":"&#39;FATAL: database &quot;demodb&quot; does not exist&#39; When trying to connect spring boot application to postgresql database","body":"<p>I have had the same issue, just simply stop the Postgres app if you’ve downloaded it before, then the problem will be solved.</p>\n"},{"tags":[],"owner":{"account_id":16983748,"reputation":36,"user_id":12285013,"display_name":"Bharath Kalyan S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661493915,"creation_date":1661493915,"answer_id":73496697,"question_id":60972567,"body_markdown":"I believe you have been following Amigos Code Tutorial!!\r\nIf so, you are are running postgres on docker, so it would be advised to stop the postgres(locally installed on pc) and restart the spring application.You are connecting to the container right!!","title":"&#39;FATAL: database &quot;demodb&quot; does not exist&#39; When trying to connect spring boot application to postgresql database","body":"<p>I believe you have been following Amigos Code Tutorial!!\nIf so, you are are running postgres on docker, so it would be advised to stop the postgres(locally installed on pc) and restart the spring application.You are connecting to the container right!!</p>\n"},{"tags":[],"owner":{"account_id":25893824,"reputation":22,"user_id":19620771,"display_name":"tech-kz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664950993,"creation_date":1664950743,"answer_id":73956510,"question_id":60972567,"body_markdown":"I don&#39;t think your modification of &quot;pg_hba.conf&quot; file led to that error.\r\n```\r\nhost  all  all 0.0.0.0/0 trust\r\n```\r\njust configured PostgreSQL to accept all incoming connections.\r\nI guess the reason is that your local computer has a PostgreSQL running which takes the port 5432.  I suggest changing the port number to another free one, for example, 5433 in the command that mirashgoku posted for you:\r\n```\r\ndocker run --name postgres-spring -e POSTGRES_PASSWORD=password -d -p **5433**:5432\r\n```\r\nMeanwhile, please change the port number in your &quot;application.yml&quot;:\r\n```\r\njdbc-url: jdbc:postgresql://localhost:**5433**/demodb\r\n```","title":"&#39;FATAL: database &quot;demodb&quot; does not exist&#39; When trying to connect spring boot application to postgresql database","body":"<p>I don't think your modification of &quot;pg_hba.conf&quot; file led to that error.</p>\n<pre><code>host  all  all 0.0.0.0/0 trust\n</code></pre>\n<p>just configured PostgreSQL to accept all incoming connections.\nI guess the reason is that your local computer has a PostgreSQL running which takes the port 5432.  I suggest changing the port number to another free one, for example, 5433 in the command that mirashgoku posted for you:</p>\n<pre><code>docker run --name postgres-spring -e POSTGRES_PASSWORD=password -d -p **5433**:5432\n</code></pre>\n<p>Meanwhile, please change the port number in your &quot;application.yml&quot;:</p>\n<pre><code>jdbc-url: jdbc:postgresql://localhost:**5433**/demodb\n</code></pre>\n"}],"owner":{"account_id":18129328,"reputation":1,"user_id":13184584,"display_name":"mirashgoku"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1664950993,"creation_date":1585749464,"question_id":60972567,"body_markdown":"I am trying to connect my spring boot application to my postgresql database (with docker) with the following error:\r\n\r\n```\r\norg.postgresql.util.PSQLException: FATAL: database &quot;demodb&quot; does not exist\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2578) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2690) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:156) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:255) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:211) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:459) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.2.11.jar:42.2.11]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136) ~[HikariCP-3.2.0.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369) ~[HikariCP-3.2.0.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198) ~[HikariCP-3.2.0.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467) ~[HikariCP-3.2.0.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541) ~[HikariCP-3.2.0.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.2.0.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.2.0.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:56) ~[flyway-core-6.0.8.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:80) ~[flyway-core-6.0.8.jar:na]\r\n\tat org.flywaydb.core.Flyway.execute(Flyway.java:438) ~[flyway-core-6.0.8.jar:na]\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:149) ~[flyway-core-6.0.8.jar:na]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:65) ~[spring-boot-autoconfigure-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat com.LearnSpring.LearnSpringApplication.main(LearnSpringApplication.java:10) ~[classes/:na]\r\n\r\n2020-04-01 14:34:38.168  WARN 17616 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \r\nUnable to obtain connection from database: FATAL: database &quot;demodb&quot; does not exist\r\n```\r\n\r\n\r\nBefore, i had an issue, where i got a Fatal error that my Password was wrong. I made it made it go away (not sure if that leaded to this problem) by changing the &quot;pg_hba.conf&quot; from:\r\n\r\n``` \r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\n# IPv4 local connections:\r\nhost    all             all             127.0.0.1/32            md5\r\n# IPv6 local connections:\r\nhost    all             all             ::1/128                 md5\r\n# Allow replication connections from localhost, by a user with the\r\n# replication privilege.\r\nhost    replication     all             127.0.0.1/32            md5\r\nhost    replication     all             ::1/128                 md5\r\n```\r\nto:\r\n```\r\nhost  all  all 0.0.0.0/0 trust\r\n```\r\nThen i have restarted the server with:\r\n```\r\ndocker restart container-name\r\n```\r\nOS: Windows 10\r\n\r\nmy &quot;application.yml&quot; in my springboot application is:\r\n\r\n```\r\napp:\r\n  datasource:\r\n    jdbc-url: jdbc:postgresql://localhost:5432/demodb\r\n    username: postgres\r\n    password: password\r\n    pool-size: 30\r\n```\r\n\r\n\r\nHow do i fix this issue?\r\n\r\n\r\n\r\n\r\n","title":"&#39;FATAL: database &quot;demodb&quot; does not exist&#39; When trying to connect spring boot application to postgresql database","body":"<p>I am trying to connect my spring boot application to my postgresql database (with docker) with the following error:</p>\n\n<pre><code>org.postgresql.util.PSQLException: FATAL: database \"demodb\" does not exist\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2578) ~[postgresql-42.2.11.jar:42.2.11]\n    at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2690) ~[postgresql-42.2.11.jar:42.2.11]\n    at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:156) ~[postgresql-42.2.11.jar:42.2.11]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:255) ~[postgresql-42.2.11.jar:42.2.11]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.11.jar:42.2.11]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:211) ~[postgresql-42.2.11.jar:42.2.11]\n    at org.postgresql.Driver.makeConnection(Driver.java:459) ~[postgresql-42.2.11.jar:42.2.11]\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.2.11.jar:42.2.11]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.2.0.jar:na]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:56) ~[flyway-core-6.0.8.jar:na]\n    at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:80) ~[flyway-core-6.0.8.jar:na]\n    at org.flywaydb.core.Flyway.execute(Flyway.java:438) ~[flyway-core-6.0.8.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:149) ~[flyway-core-6.0.8.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:65) ~[spring-boot-autoconfigure-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at com.LearnSpring.LearnSpringApplication.main(LearnSpringApplication.java:10) ~[classes/:na]\n\n2020-04-01 14:34:38.168  WARN 17616 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \nUnable to obtain connection from database: FATAL: database \"demodb\" does not exist\n</code></pre>\n\n<p>Before, i had an issue, where i got a Fatal error that my Password was wrong. I made it made it go away (not sure if that leaded to this problem) by changing the \"pg_hba.conf\" from:</p>\n\n<pre><code># TYPE  DATABASE        USER            ADDRESS                 METHOD\n# IPv4 local connections:\nhost    all             all             127.0.0.1/32            md5\n# IPv6 local connections:\nhost    all             all             ::1/128                 md5\n# Allow replication connections from localhost, by a user with the\n# replication privilege.\nhost    replication     all             127.0.0.1/32            md5\nhost    replication     all             ::1/128                 md5\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>host  all  all 0.0.0.0/0 trust\n</code></pre>\n\n<p>Then i have restarted the server with:</p>\n\n<pre><code>docker restart container-name\n</code></pre>\n\n<p>OS: Windows 10</p>\n\n<p>my \"application.yml\" in my springboot application is:</p>\n\n<pre><code>app:\n  datasource:\n    jdbc-url: jdbc:postgresql://localhost:5432/demodb\n    username: postgres\n    password: password\n    pool-size: 30\n</code></pre>\n\n<p>How do i fix this issue?</p>\n"},{"tags":["java","spring","nullpointerexception","mockito","webtestclient"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664947373,"post_id":73956182,"comment_id":130582735,"body_markdown":"Has your `ProfileDTO` an `equals` method? If not add it","body":"Has your <code>ProfileDTO</code> an <code>equals</code> method? If not add it"},{"owner":{"account_id":16924181,"reputation":120,"user_id":12240232,"display_name":"Mohammad Shahwez"},"score":0,"creation_date":1664947922,"post_id":73956182,"comment_id":130582820,"body_markdown":"@Jens Thankyou this solved the problem. Can you tell me where and why mockito is using equals method?","body":"@Jens Thankyou this solved the problem. Can you tell me where and why mockito is using equals method?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664947970,"post_id":73956182,"comment_id":130582828,"body_markdown":"It will be used to compare the  data.","body":"It will be used to compare the  data."},{"owner":{"account_id":16924181,"reputation":120,"user_id":12240232,"display_name":"Mohammad Shahwez"},"score":0,"creation_date":1664948067,"post_id":73956182,"comment_id":130582845,"body_markdown":"Oh ok understood. It will compare the object in when() and verify().","body":"Oh ok understood. It will compare the object in when() and verify()."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1664948242,"post_id":73956182,"comment_id":130582879,"body_markdown":"You can find a more detailed explanation in an answer for a similar question here: https://stackoverflow.com/a/73745189/3305737","body":"You can find a more detailed explanation in an answer for a similar question here: <a href=\"https://stackoverflow.com/a/73745189/3305737\">stackoverflow.com/a/73745189/3305737</a>"},{"owner":{"account_id":16924181,"reputation":120,"user_id":12240232,"display_name":"Mohammad Shahwez"},"score":0,"creation_date":1664948437,"post_id":73956182,"comment_id":130582918,"body_markdown":"Ok @Jonasz. I am reading it.","body":"Ok @Jonasz. I am reading it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664950007,"post_id":73956182,"comment_id":130583176,"body_markdown":"Reference equality would be sufficient if you didn&#39;t create a new instance of `ProfileDTO` to pass to `putProfile`.","body":"Reference equality would be sufficient if you didn&#39;t create a new instance of <code>ProfileDTO</code> to pass to <code>putProfile</code>."},{"owner":{"account_id":16924181,"reputation":120,"user_id":12240232,"display_name":"Mohammad Shahwez"},"score":0,"creation_date":1664950795,"post_id":73956182,"comment_id":130583343,"body_markdown":"@tgdavies but I have created only one instance of ProfileDto and using the same in when(), bodyValue() and verify() so reference equality should have worked?","body":"@tgdavies but I have created only one instance of ProfileDto and using the same in when(), bodyValue() and verify() so reference equality should have worked?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664952705,"post_id":73956182,"comment_id":130583740,"body_markdown":"I expect webTestClient translates your dto to JSON and it is translated back to another dto instance by your endpoint.","body":"I expect webTestClient translates your dto to JSON and it is translated back to another dto instance by your endpoint."},{"owner":{"account_id":16924181,"reputation":120,"user_id":12240232,"display_name":"Mohammad Shahwez"},"score":0,"creation_date":1664953441,"post_id":73956182,"comment_id":130583919,"body_markdown":"Ok understood @tgdavies","body":"Ok understood @tgdavies"}],"answers":[{"tags":[],"owner":{"account_id":16924181,"reputation":120,"user_id":12240232,"display_name":"Mohammad Shahwez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664949224,"creation_date":1664949224,"answer_id":73956353,"question_id":73956182,"body_markdown":"As pointed out in the comments section adding the equals method solved the problem because it was needed for comparing the objects in when() and verify().","title":"Null Pointer Exception Mockito Argument(s) are different (WebTestClient Put bodyValue)","body":"<p>As pointed out in the comments section adding the equals method solved the problem because it was needed for comparing the objects in when() and verify().</p>\n"}],"owner":{"account_id":16924181,"reputation":120,"user_id":12240232,"display_name":"Mohammad Shahwez"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73956353,"answer_count":1,"score":-1,"last_activity_date":1664949224,"creation_date":1664947188,"question_id":73956182,"body_markdown":"\r\n```\r\n@Test\r\n    void checkPutProfileNotFound() {\r\n        ProfileDto profileDto = new ProfileDto(&quot;abcd@gmail.com&quot;, &quot;abcd&quot;, null, null);\r\n        when(profileService.putProfile(profileDto)).thenReturn(Mono.error(new NotFoundException()));\r\n        webTestClient.put().uri(&quot;/profile/put&quot;)\r\n                .bodyValue(profileDto)\r\n                .exchange();\r\n        verify(profileService, times(1)).putProfile(profileDto);\r\n    }\r\n```\r\nNull Pointer Exception is caused and below error is also shown. This error is resolved if I replace profileDto object with any() in when() and verify(). I want to understand where exactly I am making mistake in my test case. \r\n```\r\nArgument(s) are different! Wanted:\r\ncom.example.profile.service.ProfileService#0 bean.putProfile(\r\n    ProfileDto(email=abcd@gmail.com, name=abcd, dob=null, number=null)\r\n);\r\n-&gt; at com.example.profile.controller.ProfileControllerTest.checkPutProfileNotFound(ProfileControllerTest.java:115)\r\nActual invocations have different arguments:\r\ncom.example.profile.service.ProfileService#0 bean.putProfile(\r\n    ProfileDto(email=abcd@gmail.com, name=abcd, dob=null, number=null)\r\n);\r\n```","title":"Null Pointer Exception Mockito Argument(s) are different (WebTestClient Put bodyValue)","body":"<pre><code>@Test\n    void checkPutProfileNotFound() {\n        ProfileDto profileDto = new ProfileDto(&quot;abcd@gmail.com&quot;, &quot;abcd&quot;, null, null);\n        when(profileService.putProfile(profileDto)).thenReturn(Mono.error(new NotFoundException()));\n        webTestClient.put().uri(&quot;/profile/put&quot;)\n                .bodyValue(profileDto)\n                .exchange();\n        verify(profileService, times(1)).putProfile(profileDto);\n    }\n</code></pre>\n<p>Null Pointer Exception is caused and below error is also shown. This error is resolved if I replace profileDto object with any() in when() and verify(). I want to understand where exactly I am making mistake in my test case.</p>\n<pre><code>Argument(s) are different! Wanted:\ncom.example.profile.service.ProfileService#0 bean.putProfile(\n    ProfileDto(email=abcd@gmail.com, name=abcd, dob=null, number=null)\n);\n-&gt; at com.example.profile.controller.ProfileControllerTest.checkPutProfileNotFound(ProfileControllerTest.java:115)\nActual invocations have different arguments:\ncom.example.profile.service.ProfileService#0 bean.putProfile(\n    ProfileDto(email=abcd@gmail.com, name=abcd, dob=null, number=null)\n);\n</code></pre>\n"},{"tags":["java","log4j2","tomcat9"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1664791161,"post_id":73932934,"comment_id":130544579,"body_markdown":"If you use `org.apache.log4j.Logger` in your code, you need to bundle the class in your web application. There is nothing Log4j-specific in this behavior. If you don&#39;t want to use `log4j-1.2-api.jar` nor `log4j.jar`, use Log4j2 directly through `org.apache.logging.log4j.Logger`.","body":"If you use <code>org.apache.log4j.Logger</code> in your code, you need to bundle the class in your web application. There is nothing Log4j-specific in this behavior. If you don&#39;t want to use <code>log4j-1.2-api.jar</code> nor <code>log4j.jar</code>, use Log4j2 directly through <code>org.apache.logging.log4j.Logger</code>."},{"owner":{"account_id":22892479,"reputation":1,"user_id":17032423,"display_name":"Ajay Nakhare"},"score":0,"creation_date":1664794642,"post_id":73932934,"comment_id":130545492,"body_markdown":"I have already upgraded my code from log4j1.2 to log4j2, so in my code &#39;org.apache.log4j.Logger&#39; is already replaced with &#39;org.apache.logging.log4j.Logger&#39; and there is no issue at compile time. I have also removed &#39;log4j-1.2-api.jar&#39; jar file. As a part of migration from log4j1 to log4j2, I had added the bridge jar file as mentioned here (https://logging.apache.org/log4j/2.x/manual/migration.html). And now I want to remove this bridge jar file and have my application working only with log4j2 jar files.","body":"I have already upgraded my code from log4j1.2 to log4j2, so in my code &#39;org.apache.log4j.Logger&#39; is already replaced with &#39;org.apache.logging.log4j.Logger&#39; and there is no issue at compile time. I have also removed &#39;log4j-1.2-api.jar&#39; jar file. As a part of migration from log4j1 to log4j2, I had added the bridge jar file as mentioned here (<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a>). And now I want to remove this bridge jar file and have my application working only with log4j2 jar files."},{"owner":{"account_id":22892479,"reputation":1,"user_id":17032423,"display_name":"Ajay Nakhare"},"score":0,"creation_date":1664795008,"post_id":73932934,"comment_id":130545603,"body_markdown":"But when I remove the jar file, tomcat does not deploy my application and throws above error message in catalina logs. It looks like it is still trying to refer log4j1 class from somewhere. Please help me fix this issue.","body":"But when I remove the jar file, tomcat does not deploy my application and throws above error message in catalina logs. It looks like it is still trying to refer log4j1 class from somewhere. Please help me fix this issue."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1664796852,"post_id":73932934,"comment_id":130546132,"body_markdown":"Even if you don&#39;t use `org.apache.log4j.Logger` directly, one of your libraries does. Tomcat fails to scan one of the classes available on the application classpath (probably annotated with `@WebServlet`).","body":"Even if you don&#39;t use <code>org.apache.log4j.Logger</code> directly, one of your libraries does. Tomcat fails to scan one of the classes available on the application classpath (probably annotated with <code>@WebServlet</code>)."},{"owner":{"account_id":22892479,"reputation":1,"user_id":17032423,"display_name":"Ajay Nakhare"},"score":0,"creation_date":1664797774,"post_id":73932934,"comment_id":130546372,"body_markdown":"yes, that&#39;s what I thought. How can I find out which third party jar file is causing this issue coz as per exception stacktrace given above, the error is in &#39;org.apache.catalina&#39; package which is not from the libraries which I am using but could be from tomcat/lib folder. So I thought does tomcat9 always need &#39;Log4j 1.x bridge&#39; to support log4j2 or I am missing something here.","body":"yes, that&#39;s what I thought. How can I find out which third party jar file is causing this issue coz as per exception stacktrace given above, the error is in &#39;org.apache.catalina&#39; package which is not from the libraries which I am using but could be from tomcat/lib folder. So I thought does tomcat9 always need &#39;Log4j 1.x bridge&#39; to support log4j2 or I am missing something here."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664948853,"creation_date":1664948853,"answer_id":73956319,"question_id":73932934,"body_markdown":"Your problem occurs during the Servlet 3.0 annotation scanning phase of your application&#39;s startup:\r\n\r\n - first Tomcat scans your application&#39;s classpath for classes annotated with [`@WebServlet`](https://jakarta.ee/specifications/servlet/4.0/apidocs/javax/servlet/annotation/webservlet) and other similar annotations,\r\n - then Tomcat uses reflection to inject fields into the previously discovered classes. Reflection actually loads and validates all those classes and here your application fails.\r\n\r\nFinding out which library is responsible for this is not easy: look for libraries containing servlets or a `META-INF/web-fragment.xml` file.\r\n\r\nYou can mitigate the problem by adding `metadata-complete=&quot;true&quot;` to your `web.xml` descriptor:\r\n\r\n```lang-xml\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n  version=&quot;4.0&quot;\r\n  metadata-complete=&quot;true&quot;&gt;\r\n    ...\r\n&lt;/web-app&gt;\r\n```","title":"Tomcat 9.0.50 and log4j2 issue","body":"<p>Your problem occurs during the Servlet 3.0 annotation scanning phase of your application's startup:</p>\n<ul>\n<li>first Tomcat scans your application's classpath for classes annotated with <a href=\"https://jakarta.ee/specifications/servlet/4.0/apidocs/javax/servlet/annotation/webservlet\" rel=\"nofollow noreferrer\"><code>@WebServlet</code></a> and other similar annotations,</li>\n<li>then Tomcat uses reflection to inject fields into the previously discovered classes. Reflection actually loads and validates all those classes and here your application fails.</li>\n</ul>\n<p>Finding out which library is responsible for this is not easy: look for libraries containing servlets or a <code>META-INF/web-fragment.xml</code> file.</p>\n<p>You can mitigate the problem by adding <code>metadata-complete=&quot;true&quot;</code> to your <code>web.xml</code> descriptor:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n  version=&quot;4.0&quot;\n  metadata-complete=&quot;true&quot;&gt;\n    ...\n&lt;/web-app&gt;\n</code></pre>\n"}],"owner":{"account_id":22892479,"reputation":1,"user_id":17032423,"display_name":"Ajay Nakhare"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664948853,"creation_date":1664786216,"question_id":73932934,"body_markdown":"I have upgraded from log4j1.2 to to log4j2.17. After upgrading 3 jar files (log4j-core-2.17.1.jar, log4j-api-2.17.1.jar, log4j-1.2-api-2.17.1.jar) app is working fine.\r\nNow when I want to remove the bridge (&#39;log4j-1.2-api-2.17.1.jar&#39;) between log4j1.2 and log4j2.17.\r\nWhen I remove this jar file, I get an error on server start-up. Does tomcat9 support log4j2 only with the bridge ?\r\n\r\n```\r\nSEVERE [main] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying deployment descriptor [D:\\Project\\tomcat\\conf\\Catalina\\localhost\\project.xml]\r\n\tjava.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:731)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:700)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1889)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:583)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:473)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1388)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:921)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:437)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:934)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/compass]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:728)\r\n\t\t... 37 more\r\n\tCaused by: java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger;\r\n\t\tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n\t\tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061)\r\n\t\tat java.base/java.lang.Class.getDeclaredFields(Class.java:2248)\r\n\t\tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\r\n\t\tat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\r\n\t\tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:137)\r\n\t\tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:69)\r\n\t\tat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:332)\r\n\t\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:989)\r\n\t\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 38 more\r\n\tCaused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\t\t... 51 more\r\n```\r\n","title":"Tomcat 9.0.50 and log4j2 issue","body":"<p>I have upgraded from log4j1.2 to to log4j2.17. After upgrading 3 jar files (log4j-core-2.17.1.jar, log4j-api-2.17.1.jar, log4j-1.2-api-2.17.1.jar) app is working fine.\nNow when I want to remove the bridge ('log4j-1.2-api-2.17.1.jar') between log4j1.2 and log4j2.17.\nWhen I remove this jar file, I get an error on server start-up. Does tomcat9 support log4j2 only with the bridge ?</p>\n<pre><code>SEVERE [main] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying deployment descriptor [D:\\Project\\tomcat\\conf\\Catalina\\localhost\\project.xml]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:731)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:700)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1889)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:583)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:473)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1388)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:921)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:437)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:934)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/compass]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:728)\n        ... 37 more\n    Caused by: java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger;\n        at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061)\n        at java.base/java.lang.Class.getDeclaredFields(Class.java:2248)\n        at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\n        at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\n        at org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:137)\n        at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:69)\n        at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:332)\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:989)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 38 more\n    Caused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n        ... 51 more\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"score":0,"creation_date":1664885653,"post_id":73947610,"comment_id":130568123,"body_markdown":"But sometimes i want to exclude age and include sub without changing pojo class","body":"But sometimes i want to exclude age and include sub without changing pojo class"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":1,"creation_date":1664886282,"post_id":73947610,"comment_id":130568334,"body_markdown":"Based on what do you want to exclude those fields?","body":"Based on what do you want to exclude those fields?"},{"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"score":0,"creation_date":1664886351,"post_id":73947610,"comment_id":130568354,"body_markdown":"@Rick Based on map","body":"@Rick Based on map"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":1,"creation_date":1664886485,"post_id":73947610,"comment_id":130568400,"body_markdown":"Are you asking how to exclude null values? Then please [edit] your question to clarify and include the code where you transform the map into a String.","body":"Are you asking how to exclude null values? Then please <a href=\"https://stackoverflow.com/posts/73947610/edit\">edit</a> your question to clarify and include the code where you transform the map into a String."},{"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"score":0,"creation_date":1664886610,"post_id":73947610,"comment_id":130568448,"body_markdown":"No not to exclude null values but to exclude which are not present in map","body":"No not to exclude null values but to exclude which are not present in map"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664886880,"post_id":73947610,"comment_id":130568546,"body_markdown":"Do you want to serialize the map or the pojo? If you want to exclude properties based on the map, why don&#39;t you serialize the map directly? Seems like the obvious choice.","body":"Do you want to serialize the map or the pojo? If you want to exclude properties based on the map, why don&#39;t you serialize the map directly? Seems like the obvious choice."},{"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"score":0,"creation_date":1664887383,"post_id":73947610,"comment_id":130568729,"body_markdown":"I want to serialize the map into pojo excluding attributes which are not present in map","body":"I want to serialize the map into pojo excluding attributes which are not present in map"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1664888917,"post_id":73947610,"comment_id":130569277,"body_markdown":"Then what do you want the values in the pojo to be if not null?","body":"Then what do you want the values in the pojo to be if not null?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664890659,"post_id":73947610,"comment_id":130569973,"body_markdown":"Serialize the map into POJO? But the question talks about serializing the POJO into a JSON string? I&#39;m more confused now than before. Jackson will already not populate fields/properties in the POJO if they are missing from the string.","body":"Serialize the map into POJO? But the question talks about serializing the POJO into a JSON string? I&#39;m more confused now than before. Jackson will already not populate fields/properties in the POJO if they are missing from the string."},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1664890718,"post_id":73947610,"comment_id":130569995,"body_markdown":"@knittl we can make a custom serializer and incorporate that logic.","body":"@knittl we can make a custom serializer and incorporate that logic."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664892683,"post_id":73947610,"comment_id":130570830,"body_markdown":"@AnkitSharma which logic? OP has failed so far to understandabily explain what &quot;that logic&quot; is.","body":"@AnkitSharma which logic? OP has failed so far to understandabily explain what &quot;that logic&quot; is."}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664890498,"creation_date":1664888625,"answer_id":73948309,"question_id":73947610,"body_markdown":"You can try this approach in order to avoid the **null attributes** in the final json.\r\n\r\nI have used **`ObjectMapper`** object and *set the below property* to **avoid null attributes** in the json.\r\n\r\n**`mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);`**\r\n\r\nCode as follows:\r\n\r\n**MyPojo.java**\r\n\r\n    \r\n\r\n        public class MyPojo {\r\n    \r\n        private String name;\r\n        private String age;\r\n        private String sub;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(String age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getSub() {\r\n            return sub;\r\n        }\r\n    \r\n        public void setSub(String sub) {\r\n            this.sub = sub;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;MyPojo{&quot; +\r\n                    &quot;name=&quot; + name +\r\n                    &quot;, age=&quot; + age +\r\n                    &quot;, sub=&quot; + sub +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**Test.java**\r\n\r\n    public class Test {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n\r\n        Map&lt;String,String&gt; inputMap = new HashMap&lt;&gt;();\r\n        inputMap.put(&quot;age&quot;,&quot;21&quot;);\r\n        inputMap.put(&quot;name&quot;,&quot;John&quot;);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\n        MyPojo p = mapper.convertValue(inputMap,MyPojo.class);\r\n        \r\n        System.out.println(p);\r\n        System.out.println(mapper.writeValueAsString(p));\r\n    }\r\n}\r\n\r\n**Output:**\r\n\r\n    MyPojo{name=John, age=21, sub=null}\r\n    \r\n    {&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:&quot;21&quot;}","title":"Jackson skip field when creating JSON","body":"<p>You can try this approach in order to avoid the <strong>null attributes</strong> in the final json.</p>\n<p>I have used <strong><code>ObjectMapper</code></strong> object and <em>set the below property</em> to <strong>avoid null attributes</strong> in the json.</p>\n<p><strong><code>mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);</code></strong></p>\n<p>Code as follows:</p>\n<p><strong>MyPojo.java</strong></p>\n<pre><code>    public class MyPojo {\n\n    private String name;\n    private String age;\n    private String sub;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAge() {\n        return age;\n    }\n\n    public void setAge(String age) {\n        this.age = age;\n    }\n\n    public String getSub() {\n        return sub;\n    }\n\n    public void setSub(String sub) {\n        this.sub = sub;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MyPojo{&quot; +\n                &quot;name=&quot; + name +\n                &quot;, age=&quot; + age +\n                &quot;, sub=&quot; + sub +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Test.java</strong></p>\n<pre><code>public class Test {\n\npublic static void main(String[] args) throws JsonProcessingException {\n\n    Map&lt;String,String&gt; inputMap = new HashMap&lt;&gt;();\n    inputMap.put(&quot;age&quot;,&quot;21&quot;);\n    inputMap.put(&quot;name&quot;,&quot;John&quot;);\n\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n\n    MyPojo p = mapper.convertValue(inputMap,MyPojo.class);\n    \n    System.out.println(p);\n    System.out.println(mapper.writeValueAsString(p));\n}\n</code></pre>\n<p>}</p>\n<p><strong>Output:</strong></p>\n<pre><code>MyPojo{name=John, age=21, sub=null}\n\n{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:&quot;21&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664889153,"creation_date":1664889153,"answer_id":73948437,"question_id":73947610,"body_markdown":"You can use `java.util.Optional` in your `POJO` class. You can convert `Map` to `POJO` and after that serialise it ignoring `null-s`. `Optional` allows to distinguish `map.put(&quot;property&quot;, null)` from not setting `property` at all. See below example:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\npublic class DateApp {\r\n\tprivate final static JsonMapper JSON_MAPPER = JsonMapper.builder()\r\n\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t.addModule(new Jdk8Module())\r\n\t\t\t.build();\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;name&quot;, &quot;John&quot;);\r\n\t\tmap.put(&quot;age&quot;, 21);\r\n\r\n\t\tMyPojo pojo = JSON_MAPPER.convertValue(map, MyPojo.class);\r\n\t\tSystem.out.println(pojo);\r\n\r\n\t\tSystem.out.println(&quot;JSON:&quot;);\r\n\t\tJSON_MAPPER.writeValue(System.out, pojo);\r\n\t}\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\nclass MyPojo {\r\n\tprivate Optional&lt;String&gt; name;\r\n\tprivate Optional&lt;String&gt; age;\r\n\tprivate Optional&lt;String&gt; sub;\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```logs\r\nMyPojo(name=Optional[John], age=Optional[21], sub=null)\r\nJSON:\r\n{\r\n  &quot;name&quot; : &quot;John&quot;,\r\n  &quot;age&quot; : &quot;21&quot;\r\n}\r\n```","title":"Jackson skip field when creating JSON","body":"<p>You can use <code>java.util.Optional</code> in your <code>POJO</code> class. You can convert <code>Map</code> to <code>POJO</code> and after that serialise it ignoring <code>null-s</code>. <code>Optional</code> allows to distinguish <code>map.put(&quot;property&quot;, null)</code> from not setting <code>property</code> at all. See below example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Optional;\n\npublic class DateApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .addModule(new Jdk8Module())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;name&quot;, &quot;John&quot;);\n        map.put(&quot;age&quot;, 21);\n\n        MyPojo pojo = JSON_MAPPER.convertValue(map, MyPojo.class);\n        System.out.println(pojo);\n\n        System.out.println(&quot;JSON:&quot;);\n        JSON_MAPPER.writeValue(System.out, pojo);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\nclass MyPojo {\n    private Optional&lt;String&gt; name;\n    private Optional&lt;String&gt; age;\n    private Optional&lt;String&gt; sub;\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>MyPojo(name=Optional[John], age=Optional[21], sub=null)\nJSON:\n{\n  &quot;name&quot; : &quot;John&quot;,\n  &quot;age&quot; : &quot;21&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664890852,"creation_date":1664890116,"answer_id":73948639,"question_id":73947610,"body_markdown":"You can create your custom serializer.\r\n\r\nJust include your **map** in the serializer code\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n\r\n@JsonSerialize(using = MyPojoSerializer.class)\r\npublic class MyPojo {\r\n    String name;\r\n    String age;\r\n    String sub;\r\n}\r\n```\r\n\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\n\r\npublic class MyPojoSerializer extends JsonSerializer&lt;MyPojo&gt; {\r\n\r\n    @Override\r\n    public void serialize(MyPojo myPojo, JsonGenerator jGen, SerializerProvider serializerProvider) throws IOException {\r\n        jGen.writeStartObject();\r\n        // Map map = ....\r\n        for (final Field field : myPojo.getClass().getDeclaredFields()) {\r\n            ReflectionUtils.makeAccessible(field);\r\n            final String fieldName = field.getName();\r\n            final Object fieldValue = ReflectionUtils.getField(field, myPojo);\r\n            if (map.containsKey(fieldName)) {\r\n                jGen.writeFieldName(fieldName);\r\n                jGen.writeObject(fieldValue);\r\n            }\r\n        }\r\n        jGen.writeEndObject();\r\n    }\r\n}\r\n```","title":"Jackson skip field when creating JSON","body":"<p>You can create your custom serializer.</p>\n<p>Just include your <strong>map</strong> in the serializer code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.annotation.JsonSerialize;\n\n@JsonSerialize(using = MyPojoSerializer.class)\npublic class MyPojo {\n    String name;\n    String age;\n    String sub;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\npublic class MyPojoSerializer extends JsonSerializer&lt;MyPojo&gt; {\n\n    @Override\n    public void serialize(MyPojo myPojo, JsonGenerator jGen, SerializerProvider serializerProvider) throws IOException {\n        jGen.writeStartObject();\n        // Map map = ....\n        for (final Field field : myPojo.getClass().getDeclaredFields()) {\n            ReflectionUtils.makeAccessible(field);\n            final String fieldName = field.getName();\n            final Object fieldValue = ReflectionUtils.getField(field, myPojo);\n            if (map.containsKey(fieldName)) {\n                jGen.writeFieldName(fieldName);\n                jGen.writeObject(fieldValue);\n            }\n        }\n        jGen.writeEndObject();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1664891245,"answer_count":3,"score":-1,"last_activity_date":1664948217,"creation_date":1664885158,"question_id":73947610,"body_markdown":"I have a class like\r\n\r\n    public class MyPojo {\r\n        String name,\r\n        String age\r\n        String sub\r\n    }\r\nAnd map like\r\n\r\nmap(&quot;name&quot;:&quot;john&quot;,&quot;age&quot;:21)\r\n\r\nUsing Jacksons `ObjectMapper`, I get a string like\r\n\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;john&quot;,\r\n  &quot;age&quot;: &quot;21&quot;,\r\n  &quot;sub&quot;: null\r\n}\r\n```\r\nbut instead I want to exclude the `sub`:\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;john&quot;,\r\n  &quot;age&quot;: &quot;21&quot;\r\n}\r\n```\r\n\r\nHow can I do that and tell Jackson to skip `sub`? \r\n\r\n**P.S.** Please keep in mind that I want to have ability to exclude `age` and include `sub` without changing the POJO class, so `@JsonIgnore` doesn&#39;t quite fit.","title":"Jackson skip field when creating JSON","body":"<p>I have a class like</p>\n<pre><code>public class MyPojo {\n    String name,\n    String age\n    String sub\n}\n</code></pre>\n<p>And map like</p>\n<p>map(&quot;name&quot;:&quot;john&quot;,&quot;age&quot;:21)</p>\n<p>Using Jacksons <code>ObjectMapper</code>, I get a string like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;john&quot;,\n  &quot;age&quot;: &quot;21&quot;,\n  &quot;sub&quot;: null\n}\n</code></pre>\n<p>but instead I want to exclude the <code>sub</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;john&quot;,\n  &quot;age&quot;: &quot;21&quot;\n}\n</code></pre>\n<p>How can I do that and tell Jackson to skip <code>sub</code>?</p>\n<p><strong>P.S.</strong> Please keep in mind that I want to have ability to exclude <code>age</code> and include <code>sub</code> without changing the POJO class, so <code>@JsonIgnore</code> doesn't quite fit.</p>\n"},{"tags":["java","mockito","testng"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663936653,"post_id":73827643,"comment_id":130362518,"body_markdown":"What is the result type of methodCall1? ..and why you (think mockito) can easily &quot;chain&quot; it?..you should mock the result type/class and stub(when) methodCall2 as well!","body":"What is the result type of methodCall1? ..and why you (think mockito) can easily &quot;chain&quot; it?..you should mock the result type/class and stub(when) methodCall2 as well!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663936921,"post_id":73827643,"comment_id":130362611,"body_markdown":"..and why are you &quot;operating on a spy&quot;? (not the spied object?)","body":"..and why are you &quot;operating on a spy&quot;? (not the spied object?)"},{"owner":{"account_id":14090110,"reputation":109,"user_id":10178725,"display_name":"Usman Mohammed"},"score":0,"creation_date":1663939342,"post_id":73827643,"comment_id":130363622,"body_markdown":"@xerx593 I have changed following - 1. Removed lst and assigned ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();2. ClassA classA = Mockito.mock(ClassA.class)3.mockedStatic.when(() -&gt; StaticClass.methodCall1(Mockito.anyString())).thenReturn(classA)4.Mockito.when(classA).methodCall2(Mockito.anyString(),Mockito.anyString(),Mockito.anyString()).thenReturn(aList); .  But Assert.equals(aList, StaticClass.methodCall1(&quot;anyString&quot;).methodCall2(&quot;String1&quot;,&quot;String2&quot;,&quot;String3&quot;)); is still throwing AssertionError that size of both lists are different 2 and 0.","body":"@xerx593 I have changed following - 1. Removed lst and assigned ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();2. ClassA classA = Mockito.mock(ClassA.class)3.mockedStatic.when(() -&gt; StaticClass.methodCall1(Mockito.anyString())).thenReturn(cla&zwnj;&#8203;ssA)4.Mockito.when(c&zwnj;&#8203;lassA).methodCall2(M&zwnj;&#8203;ockito.anyString(),M&zwnj;&#8203;ockito.anyString(),M&zwnj;&#8203;ockito.anyString()).&zwnj;&#8203;thenReturn(aList); .  But Assert.equals(aList, StaticClass.methodCall1(&quot;anyString&quot;).methodCall2(&quot;String1&quot;,&quot;&zwnj;&#8203;String2&quot;,&quot;String3&quot;))&zwnj;&#8203;; is still throwing AssertionError that size of both lists are different 2 and 0."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663941124,"post_id":73827643,"comment_id":130364359,"body_markdown":"That is strange! (Because `aList == aList` ..as you comment) ..but (real) methodCall2 is also strange: it returns always empty list!?","body":"That is strange! (Because <code>aList == aList</code> ..as you comment) ..but (real) methodCall2 is also strange: it returns always empty list!?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663941505,"post_id":73827643,"comment_id":130364526,"body_markdown":"I don&#39;t know... Please keep in mind: what &quot;someClass/staticClass&quot; should do? ..and what do you want to test... And if you *then* have a reason for &quot;mocking/spying&quot;, then you can name it..","body":"I don&#39;t know... Please keep in mind: what &quot;someClass/staticClass&quot; should do? ..and what do you want to test... And if you <i>then</i> have a reason for &quot;mocking/spying&quot;, then you can name it.."}],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664947563,"creation_date":1664947563,"answer_id":73956203,"question_id":73827643,"body_markdown":"Below is what I use as a dependencies\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-testng&lt;/artifactId&gt;\r\n      &lt;version&gt;0.4.26&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n      &lt;version&gt;4.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;7.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe sample that you shared in your question works fine for me without any assertion failures. Including the same sample again for reference\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.ArrayList;\r\n    import org.mockito.Answers;\r\n    import org.mockito.MockedStatic;\r\n    import org.mockito.Mockito;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class SampleTestCase {\r\n    \r\n      @Test\r\n      public void testMethod() {\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; lst = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = Mockito.spy(lst);\r\n        for (int i = 0; i &lt; 2; i++) {\r\n          aList.add(new ArrayList&lt;&gt;());\r\n        }\r\n        aList.get(0).add(&quot;A&quot;);\r\n        aList.get(0).add(&quot;B&quot;);\r\n        aList.get(1).add(&quot;C&quot;);\r\n        aList.get(1).add(&quot;D&quot;);\r\n        try (MockedStatic&lt;StaticClass&gt; mockedstatic = Mockito.mockStatic(StaticClass.class,\r\n            Answers.RETURNS_DEEP_STUBS)) {\r\n          mockedstatic.when(() -&gt; StaticClass.methodCall1(Mockito.anyString())\r\n              .methodCall2(Mockito.anyString(), Mockito.anyString(),\r\n                  Mockito.anyString())).thenReturn(aList);\r\n          Assert.assertEquals(aList,\r\n              StaticClass.methodCall1(&quot;anyString&quot;).methodCall2(&quot;String1&quot;, &quot;String2&quot;, &quot;String3&quot;));\r\n        }\r\n      }\r\n    }\r\n\r\nNote: I am using TestNG `7.6.1` (which needs JDK11 now)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lWhhY.png","title":"Mock static method with nested method calls using Mockito","body":"<p>Below is what I use as a dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-testng&lt;/artifactId&gt;\n  &lt;version&gt;0.4.26&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n  &lt;version&gt;4.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.testng&lt;/groupId&gt;\n  &lt;artifactId&gt;testng&lt;/artifactId&gt;\n  &lt;version&gt;7.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The sample that you shared in your question works fine for me without any assertion failures. Including the same sample again for reference</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport org.mockito.Answers;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\npublic class SampleTestCase {\n\n  @Test\n  public void testMethod() {\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; lst = new ArrayList&lt;&gt;();\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = Mockito.spy(lst);\n    for (int i = 0; i &lt; 2; i++) {\n      aList.add(new ArrayList&lt;&gt;());\n    }\n    aList.get(0).add(&quot;A&quot;);\n    aList.get(0).add(&quot;B&quot;);\n    aList.get(1).add(&quot;C&quot;);\n    aList.get(1).add(&quot;D&quot;);\n    try (MockedStatic&lt;StaticClass&gt; mockedstatic = Mockito.mockStatic(StaticClass.class,\n        Answers.RETURNS_DEEP_STUBS)) {\n      mockedstatic.when(() -&gt; StaticClass.methodCall1(Mockito.anyString())\n          .methodCall2(Mockito.anyString(), Mockito.anyString(),\n              Mockito.anyString())).thenReturn(aList);\n      Assert.assertEquals(aList,\n          StaticClass.methodCall1(&quot;anyString&quot;).methodCall2(&quot;String1&quot;, &quot;String2&quot;, &quot;String3&quot;));\n    }\n  }\n}\n</code></pre>\n<p>Note: I am using TestNG <code>7.6.1</code> (which needs JDK11 now)</p>\n<p><a href=\"https://i.stack.imgur.com/lWhhY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWhhY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14090110,"reputation":109,"user_id":10178725,"display_name":"Usman Mohammed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664947563,"creation_date":1663935651,"question_id":73827643,"body_markdown":"This is my Static Class\r\n\r\n    public class StaticClass {\r\n       public static ClassA methodCall1(String s) {\r\n           return new ClassA();\r\n       }\r\n    }\r\n\r\nThis is my ClassA class\r\n\r\n    public class ClassA {\r\n       public ArrayList&lt;ArrayList&lt;String&gt;&gt; methodCall2(String s1, String s2, String s3) {\r\n           ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n           return aList;\r\n       }\r\n    }\r\n\r\n\r\n    \r\n\r\nCurrently my Test method is\r\n\r\n    @Test\r\n    public void testMethod() {\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; lst = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = Mockito.spy(lst);\r\n        for(int i = 0;i&lt;2;i++) {\r\n           aList.add(new ArrayList&lt;String&gt;());\r\n        }\r\n        aList.get(0).add(&quot;A&quot;);\r\n        aList.get(0).add(&quot;B&quot;);\r\n        aList.get(1).add(&quot;C&quot;);\r\n        aList.get(1).add(&quot;D&quot;);\r\n        try(MockedStatic&lt;StaticClass&gt; mockedstatic = Mockito.mockStatic(StaticClass.class, Answers.RETURNS_DEEP_STUBS)) {\r\n            mockedstatic.when(() -&gt; StaticClass.methodCall1(Mockito.anyString()).methodCall2(Mockito.anyString(),Mockito.anyString(),Mockito.anyString())).thenReturn(aList);\r\n            Assert.equals(aList, StaticClass.methodCall1(&quot;anyString&quot;).methodCall2(&quot;String1&quot;,&quot;String2&quot;,&quot;String3&quot;));\r\n        }\r\n    }\r\n\r\nIt is throwing AssertionError that size of both lists are different 2 and 0. ","title":"Mock static method with nested method calls using Mockito","body":"<p>This is my Static Class</p>\n<pre><code>public class StaticClass {\n   public static ClassA methodCall1(String s) {\n       return new ClassA();\n   }\n}\n</code></pre>\n<p>This is my ClassA class</p>\n<pre><code>public class ClassA {\n   public ArrayList&lt;ArrayList&lt;String&gt;&gt; methodCall2(String s1, String s2, String s3) {\n       ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n       return aList;\n   }\n}\n</code></pre>\n<p>Currently my Test method is</p>\n<pre><code>@Test\npublic void testMethod() {\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; lst = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; aList = Mockito.spy(lst);\n    for(int i = 0;i&lt;2;i++) {\n       aList.add(new ArrayList&lt;String&gt;());\n    }\n    aList.get(0).add(&quot;A&quot;);\n    aList.get(0).add(&quot;B&quot;);\n    aList.get(1).add(&quot;C&quot;);\n    aList.get(1).add(&quot;D&quot;);\n    try(MockedStatic&lt;StaticClass&gt; mockedstatic = Mockito.mockStatic(StaticClass.class, Answers.RETURNS_DEEP_STUBS)) {\n        mockedstatic.when(() -&gt; StaticClass.methodCall1(Mockito.anyString()).methodCall2(Mockito.anyString(),Mockito.anyString(),Mockito.anyString())).thenReturn(aList);\n        Assert.equals(aList, StaticClass.methodCall1(&quot;anyString&quot;).methodCall2(&quot;String1&quot;,&quot;String2&quot;,&quot;String3&quot;));\n    }\n}\n</code></pre>\n<p>It is throwing AssertionError that size of both lists are different 2 and 0.</p>\n"},{"tags":["java","file","cross-platform","atomic","file-rename"],"comments":[{"owner":{"account_id":2035,"reputation":16811,"user_id":2797,"accept_rate":82,"display_name":"S&#233;bastien RoccaSerra"},"score":1,"creation_date":1518427942,"post_id":595631,"comment_id":84486103,"body_markdown":"Note to self, 8 years later: I don&#39;t remember the context, but if the *problem* requires cross-platform atomicity, maybe the *solution* should not involve a file?","body":"Note to self, 8 years later: I don&#39;t remember the context, but if the <i>problem</i> requires cross-platform atomicity, maybe the <i>solution</i> should not involve a file?"}],"answers":[{"tags":[],"owner":{"account_id":17336,"reputation":4176,"user_id":38714,"accept_rate":100,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1392662797,"creation_date":1235754406,"answer_id":595660,"question_id":595631,"body_markdown":"On Linux (and I believe Solaris and other UNIX operating systems), Java&#39;s File.renameTo() method will overwrite the destination file if it exists, but this is not the case under Windows. \r\n\r\nTo be cross platform, I think you&#39;d have to use file locking on resource.txt and then overwrite the data.\r\n\r\n&gt; The behavior of the file lock is\r\n&gt; platform-dependent. On some platforms,\r\n&gt; the file lock is advisory, which means\r\n&gt; that unless an application checks for\r\n&gt; a file lock, it will not be prevented\r\n&gt; from accessing the file. On other\r\n&gt; platforms, the file lock is mandatory,\r\n&gt; which means that a file lock prevents\r\n&gt; any application from accessing the\r\n&gt; file.\r\n\r\n    try {\r\n        // Get a file channel for the file\r\n        File file = new File(&quot;filename&quot;);\r\n        FileChannel channel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\r\n    \r\n        // Use the file channel to create a lock on the file.\r\n        // This method blocks until it can retrieve the lock.\r\n        FileLock lock = channel.lock();\r\n    \r\n        // Try acquiring the lock without blocking. This method returns\r\n        // null or throws an exception if the file is already locked.\r\n        try {\r\n            lock = channel.tryLock();\r\n        } catch (OverlappingFileLockException e) {\r\n            // File is already locked in this thread or virtual machine\r\n        }\r\n    \r\n        // Release the lock\r\n        lock.release();\r\n    \r\n        // Close the file\r\n        channel.close();\r\n    } catch (Exception e) {\r\n    }\r\n\r\nLinux, by default, uses voluntary locking, while Windows enforces it. Maybe you could detect the OS, and use renameTo() under UNIX with some locking code for Windows?\r\n\r\nThere&#39;s also a way to turn on mandatory locking under Linux for specific files, but it&#39;s kind of obscure. You have to set the mode bits just right.\r\n\r\n&gt; Linux, following System V (see System\r\n&gt; V Interface Definition (SVID) Version\r\n&gt; 3), lets the sgid bit for files\r\n&gt; without group execute permission mark\r\n&gt; the file for mandatory locking\r\n\r\n","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>On Linux (and I believe Solaris and other UNIX operating systems), Java's File.renameTo() method will overwrite the destination file if it exists, but this is not the case under Windows. </p>\n\n<p>To be cross platform, I think you'd have to use file locking on resource.txt and then overwrite the data.</p>\n\n<blockquote>\n  <p>The behavior of the file lock is\n  platform-dependent. On some platforms,\n  the file lock is advisory, which means\n  that unless an application checks for\n  a file lock, it will not be prevented\n  from accessing the file. On other\n  platforms, the file lock is mandatory,\n  which means that a file lock prevents\n  any application from accessing the\n  file.</p>\n</blockquote>\n\n<pre><code>try {\n    // Get a file channel for the file\n    File file = new File(\"filename\");\n    FileChannel channel = new RandomAccessFile(file, \"rw\").getChannel();\n\n    // Use the file channel to create a lock on the file.\n    // This method blocks until it can retrieve the lock.\n    FileLock lock = channel.lock();\n\n    // Try acquiring the lock without blocking. This method returns\n    // null or throws an exception if the file is already locked.\n    try {\n        lock = channel.tryLock();\n    } catch (OverlappingFileLockException e) {\n        // File is already locked in this thread or virtual machine\n    }\n\n    // Release the lock\n    lock.release();\n\n    // Close the file\n    channel.close();\n} catch (Exception e) {\n}\n</code></pre>\n\n<p>Linux, by default, uses voluntary locking, while Windows enforces it. Maybe you could detect the OS, and use renameTo() under UNIX with some locking code for Windows?</p>\n\n<p>There's also a way to turn on mandatory locking under Linux for specific files, but it's kind of obscure. You have to set the mode bits just right.</p>\n\n<blockquote>\n  <p>Linux, following System V (see System\n  V Interface Definition (SVID) Version\n  3), lets the sgid bit for files\n  without group execute permission mark\n  the file for mandatory locking</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1235754641,"creation_date":1235754641,"answer_id":595681,"question_id":595631,"body_markdown":"Here is a discussion that relates: [https://bugs.java.com/bugdatabase/view_bug?bug_id=4017593][1]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4017593","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>Here is a discussion that relates: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4017593\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4017593</a></p>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1235755797,"creation_date":1235755797,"answer_id":595757,"question_id":595631,"body_markdown":"If this should be cross-platform I suggest 2 options:\r\n \r\n 1. Implement an intermediate service that is responsible for all the file accesses. Here you can use several mechanisms for synchronizing the requests. Each client java app accesses the file only through this service.\r\n 2. Create a *control* file each time you need to perform synchronized operations. Each java app that accesses the file is responsible checking for the *control* file and waiting while this *control* file exists. (almost like a semaphore). The process doing the delete/rename operation is responsible for creating/deleting the *control* file.","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>If this should be cross-platform I suggest 2 options:</p>\n\n<ol>\n<li>Implement an intermediate service that is responsible for all the file accesses. Here you can use several mechanisms for synchronizing the requests. Each client java app accesses the file only through this service.</li>\n<li>Create a <em>control</em> file each time you need to perform synchronized operations. Each java app that accesses the file is responsible checking for the <em>control</em> file and waiting while this <em>control</em> file exists. (almost like a semaphore). The process doing the delete/rename operation is responsible for creating/deleting the <em>control</em> file.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554301862,"creation_date":1235758296,"answer_id":595924,"question_id":595631,"body_markdown":"As stated [here][2], it looks like the Windows OS doesn&#39;t even support atomic file rename for older versions. It&#39;s very likely you have to use some manual locking mechanisms or some kind of transactions. For that, you might want to take a look into the [apache commons transaction][1] package.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-transaction/\r\n  [2]: https://stackoverflow.com/questions/167414/is-an-atomic-file-rename-with-overwrite-possible-on-windows","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>As stated <a href=\"https://stackoverflow.com/questions/167414/is-an-atomic-file-rename-with-overwrite-possible-on-windows\">here</a>, it looks like the Windows OS doesn't even support atomic file rename for older versions. It's very likely you have to use some manual locking mechanisms or some kind of transactions. For that, you might want to take a look into the <a href=\"https://commons.apache.org/proper/commons-transaction/\" rel=\"nofollow noreferrer\">apache commons transaction</a> package.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1235879836,"creation_date":1235879836,"answer_id":599226,"question_id":595631,"body_markdown":"If the purpose of the rename is to replace resource.txt on the fly *and* you have control over all the programs involved, *and* the frequency of replacement is not high, you could do the following.\r\n\r\nTo open/read the file:\r\n\r\n  1. Open &quot;resource.txt&quot;, if that fails\r\n  2. Open &quot;resource.old.txt&quot;, if that fails\r\n  3. Open &quot;resource.txt&quot; again, if that fails\r\n  4. You have an error condition.\r\n\r\nTo replace the file:\r\n\r\n  1. Rename &quot;resource.txt&quot; to &quot;resource.old.txt&quot;, then\r\n  2. Rename &quot;resource.new.txt&quot; to &quot;resource.txt&quot;, then\r\n  3. Delete &quot;resource.old.txt&quot;.\r\n\r\nWhich will ensure all your readers always find a valid file.\r\n\r\nBut, easier, would be to simply try your opening in a loop, like:\r\n\r\n    InputStream inp=null;\r\n    StopWatch   tmr=new StopWatch();                     // made up class, not std Java\r\n    IOException err=null;\r\n\r\n    while(inp==null &amp;&amp; tmr.elapsed()&lt;5000) {             // or some approp. length of time\r\n        try { inp=new FileInputStream(&quot;resource.txt&quot;); }\r\n        catch(IOException thr) { err=thr; sleep(100); }  // or some approp. length of time\r\n        }\r\n\r\n    if(inp==null) {\r\n         // handle error here - file did not turn up after required elapsed time\r\n         throw new IOException(&quot;Could not obtain data from resource.txt file&quot;);\r\n         }\r\n\r\n    ... carry on","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>If the purpose of the rename is to replace resource.txt on the fly <em>and</em> you have control over all the programs involved, <em>and</em> the frequency of replacement is not high, you could do the following.</p>\n\n<p>To open/read the file:</p>\n\n<ol>\n<li>Open \"resource.txt\", if that fails</li>\n<li>Open \"resource.old.txt\", if that fails</li>\n<li>Open \"resource.txt\" again, if that fails</li>\n<li>You have an error condition.</li>\n</ol>\n\n<p>To replace the file:</p>\n\n<ol>\n<li>Rename \"resource.txt\" to \"resource.old.txt\", then</li>\n<li>Rename \"resource.new.txt\" to \"resource.txt\", then</li>\n<li>Delete \"resource.old.txt\".</li>\n</ol>\n\n<p>Which will ensure all your readers always find a valid file.</p>\n\n<p>But, easier, would be to simply try your opening in a loop, like:</p>\n\n<pre><code>InputStream inp=null;\nStopWatch   tmr=new StopWatch();                     // made up class, not std Java\nIOException err=null;\n\nwhile(inp==null &amp;&amp; tmr.elapsed()&lt;5000) {             // or some approp. length of time\n    try { inp=new FileInputStream(\"resource.txt\"); }\n    catch(IOException thr) { err=thr; sleep(100); }  // or some approp. length of time\n    }\n\nif(inp==null) {\n     // handle error here - file did not turn up after required elapsed time\n     throw new IOException(\"Could not obtain data from resource.txt file\");\n     }\n\n... carry on\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266873020,"creation_date":1266873020,"answer_id":2314214,"question_id":595631,"body_markdown":"You might get some traction by establishing a filechannel lock on the file before renaming it (and deleting the file you&#39;re going to overwrite once you have the lock).\r\n-r","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>You might get some traction by establishing a filechannel lock on the file before renaming it (and deleting the file you're going to overwrite once you have the lock).\n-r</p>\n"},{"tags":[],"owner":{"account_id":209349,"reputation":3096,"user_id":460318,"display_name":"Eirik W"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1475626892,"creation_date":1336646956,"answer_id":10532430,"question_id":595631,"body_markdown":"For Java 1.7+, use `java.nio.file.Files.move(Path source, Path target, CopyOption... options)` with CopyOptions &quot;REPLACE_EXISTING&quot; and &quot;ATOMIC_MOVE&quot;.\r\n\r\n*[See API documentation for more information.][1]*\r\n\r\nFor example:\r\n\r\n    Files.move(src, dst, StandardCopyOption.ATOMIC_MOVE);\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>For Java 1.7+, use <code>java.nio.file.Files.move(Path source, Path target, CopyOption... options)</code> with CopyOptions \"REPLACE_EXISTING\" and \"ATOMIC_MOVE\".</p>\n\n<p><em><a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#move%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29\" rel=\"noreferrer\">See API documentation for more information.</a></em></p>\n\n<p>For example:</p>\n\n<pre><code>Files.move(src, dst, StandardCopyOption.ATOMIC_MOVE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550662373,"creation_date":1550662373,"answer_id":54785343,"question_id":595631,"body_markdown":"I solve with a simple rename function.\r\n\r\nCalling :\r\n\r\n    File newPath = new File(&quot;...&quot;);\r\n    newPath = checkName(newPath);\r\n    Files.copy(file.toPath(), newPath.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\r\nThe checkName function checks if exits. \r\nIf exits then concat a number between two bracket (1) to the end of the filename.\r\nFunctions:\r\n\r\n\r\n\tprivate static File checkName(File newPath) {\r\n\t\tif (Files.exists(newPath.toPath())) {\r\n\r\n\t\t\tString extractRegExSubStr = extractRegExSubStr(newPath.getName(), &quot;\\\\([0-9]+\\\\)&quot;);\r\n\t\t\tif (extractRegExSubStr != null) {\r\n\t\t\t\textractRegExSubStr = extractRegExSubStr.replaceAll(&quot;\\\\(|\\\\)&quot;, &quot;&quot;);\r\n\t\t\t\tint parseInt = Integer.parseInt(extractRegExSubStr);\r\n\t\t\t\tint parseIntPLus = parseInt + 1;\r\n\r\n\t\t\t\tnewPath = new File(newPath.getAbsolutePath().replace(&quot;(&quot; + parseInt + &quot;)&quot;, &quot;(&quot; + parseIntPLus + &quot;)&quot;));\r\n\t\t\t\treturn checkName(newPath);\r\n\t\t\t} else {\r\n\t\t\t\tnewPath = new File(newPath.getAbsolutePath().replace(&quot;.pdf&quot;, &quot; (&quot; + 1 + &quot;).pdf&quot;));\r\n\t\t\t\treturn checkName(newPath);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn newPath;\r\n\r\n\t}\r\n\r\n\tprivate static String extractRegExSubStr(String row, String patternStr) {\r\n\t\tPattern pattern = Pattern.compile(patternStr);\r\n\t\tMatcher matcher = pattern.matcher(row);\r\n\t\tif (matcher.find()) {\r\n\t\t\treturn matcher.group(0);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n**EDIT:** Its only works for pdf. If you want other please replace the .pdf or create an extension paramter for it. \r\nNOTE: If the file contains additional numbers between brackets &#39;(&#39; then it may mess up your file names.","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>I solve with a simple rename function.</p>\n\n<p>Calling :</p>\n\n<pre><code>File newPath = new File(\"...\");\nnewPath = checkName(newPath);\nFiles.copy(file.toPath(), newPath.toPath(), StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n\n<p>The checkName function checks if exits. \nIf exits then concat a number between two bracket (1) to the end of the filename.\nFunctions:</p>\n\n<pre><code>private static File checkName(File newPath) {\n    if (Files.exists(newPath.toPath())) {\n\n        String extractRegExSubStr = extractRegExSubStr(newPath.getName(), \"\\\\([0-9]+\\\\)\");\n        if (extractRegExSubStr != null) {\n            extractRegExSubStr = extractRegExSubStr.replaceAll(\"\\\\(|\\\\)\", \"\");\n            int parseInt = Integer.parseInt(extractRegExSubStr);\n            int parseIntPLus = parseInt + 1;\n\n            newPath = new File(newPath.getAbsolutePath().replace(\"(\" + parseInt + \")\", \"(\" + parseIntPLus + \")\"));\n            return checkName(newPath);\n        } else {\n            newPath = new File(newPath.getAbsolutePath().replace(\".pdf\", \" (\" + 1 + \").pdf\"));\n            return checkName(newPath);\n        }\n\n    }\n    return newPath;\n\n}\n\nprivate static String extractRegExSubStr(String row, String patternStr) {\n    Pattern pattern = Pattern.compile(patternStr);\n    Matcher matcher = pattern.matcher(row);\n    if (matcher.find()) {\n        return matcher.group(0);\n    }\n    return null;\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> Its only works for pdf. If you want other please replace the .pdf or create an extension paramter for it. \nNOTE: If the file contains additional numbers between brackets '(' then it may mess up your file names.</p>\n"}],"owner":{"account_id":2035,"reputation":16811,"user_id":2797,"accept_rate":82,"display_name":"S&#233;bastien RoccaSerra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39162,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"answer_count":8,"score":45,"last_activity_date":1664946747,"creation_date":1235753973,"question_id":595631,"body_markdown":"I have a cluster of machines, each running a Java app.\r\n\r\nThese Java apps need to access a unique `resource.txt` file concurrently.\r\n\r\nI need to atomically rename a `temp.txt` file to `resource.txt` in Java, even if `resource.txt` already exist.\r\n\r\nDeleting `resource.txt` and renaming `temp.txt` doesn&#39;t work, as it&#39;s not atomic (it creates a small timeframe where `resource.txt` doesn&#39;t exist).\r\n\r\nAnd it should be cross-platform...\r\n","title":"How to atomically rename a file in Java, even if the dest file already exists?","body":"<p>I have a cluster of machines, each running a Java app.</p>\n<p>These Java apps need to access a unique <code>resource.txt</code> file concurrently.</p>\n<p>I need to atomically rename a <code>temp.txt</code> file to <code>resource.txt</code> in Java, even if <code>resource.txt</code> already exist.</p>\n<p>Deleting <code>resource.txt</code> and renaming <code>temp.txt</code> doesn't work, as it's not atomic (it creates a small timeframe where <code>resource.txt</code> doesn't exist).</p>\n<p>And it should be cross-platform...</p>\n"},{"tags":["java","maven","azure-devops","azure-pipelines"],"answers":[{"tags":[],"owner":{"account_id":15929111,"reputation":624,"user_id":11493989,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664946653,"creation_date":1664946653,"answer_id":73956125,"question_id":73911058,"body_markdown":"I have found a solution for this problem thanks to a coleague of mine:\r\nChanges this line in the script above:\r\n```\r\ngoals: &#39;deploy&#39;\r\n```\r\n\r\nin this line:\r\n```\r\ngoals: &#39;deploy -U&#39;\r\n```\r\n\r\nWill do the job, because it forces Maven to Update the dependencies.","title":"Cache not updated in Azure devops Pipelines using Java Maven","body":"<p>I have found a solution for this problem thanks to a coleague of mine:\nChanges this line in the script above:</p>\n<pre><code>goals: 'deploy'\n</code></pre>\n<p>in this line:</p>\n<pre><code>goals: 'deploy -U'\n</code></pre>\n<p>Will do the job, because it forces Maven to Update the dependencies.</p>\n"}],"owner":{"account_id":15929111,"reputation":624,"user_id":11493989,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73956125,"answer_count":1,"score":0,"last_activity_date":1664946653,"creation_date":1664552283,"question_id":73911058,"body_markdown":"I have a problem with Azure devops Pipeline using Java Maven and caching. When I change a file in a custom dependency then the Cache is not updated by Azure devops.\r\n\r\nI use Azure devops artifacts to store the created artifacts.\r\n\r\nI have a basic Java Application we call it:  nl.mycompany.toolA\r\n&lt;br&gt;\r\nI have a dependency with the name: nl.mycompany.dependencyB \r\n&lt;br&gt;\r\nThe Dependency nl.mycompany.dependencyB is included via the pom.xml in the basic Java application\r\n&lt;br&gt;\r\n\r\nThis is my Azure devops pipeline code:\r\n```\r\n# Maven\r\nvariables:\r\n  MAVEN_CACHE_FOLDER: $(Pipeline.Workspace)/.m2/repository\r\n  MAVEN_OPTS: &#39;-Dmaven.repo.local=$(MAVEN_CACHE_FOLDER)&#39;\r\n\r\npool:\r\n  vmImage: ubuntu-latest\r\n\r\nsteps:\r\n- task: DownloadSecureFile@1\r\n  name: settings_xml\r\n  displayName: Download settings.xml\r\n  inputs:\r\n    secureFile: &#39;settings.xml&#39;\r\n\r\n- task: Cache@2\r\n  inputs:\r\n    key: &#39;maven | &quot;$(Agent.OS)&quot; | **/pom.xml&#39;\r\n    restoreKeys: |\r\n      maven | &quot;$(Agent.OS)&quot;\r\n      maven\r\n    path: $(MAVEN_CACHE_FOLDER)\r\n  displayName: Cache Maven local repo\r\n\r\n- task: Maven@3\r\n  inputs:\r\n    mavenPomFile: &#39;pom.xml&#39;\r\n    goals: &#39;deploy&#39;\r\n    options: &#39;-s $(settings_xml.secureFilePath)&#39;\r\n    publishJUnitResults: true\r\n    testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n    javaHomeOption: &#39;JDKVersion&#39;\r\n    jdkVersionOption: &#39;1.8&#39;\r\n    mavenVersionOption: &#39;Default&#39;\r\n    mavenOptions: &#39;-Xmx3072m $(MAVEN_OPTS)&#39;\r\n    mavenAuthenticateFeed: false\r\n    effectivePomSkip: false\r\n    sonarQubeRunAnalysis: false\r\n```\r\n\r\nMy dependency nl.mycompany.dependencyB  has a file: sharedModule/cdm.dwl which very often has to be updated.\r\n\r\nFirst I build my basic Java app with Azure Devops pipeline, with the code above and the inserted Junit tests run fine.\r\n\r\nThen I update the cdm.dwl file in the dependency \r\nThen I build the dependency with Azure devops with the code above.\r\n\r\nThen I build the basic Java app with Azure devops again and the Junit test run fine again but they should give an error because the cdm.dwl file has changed.\r\n\r\nWhen I download the JAR file and check the content the included dependency does not have the updated cdm.dwl file, so the cache is NOT updated by Azure devops.\r\n\r\nWhen I remove the Cache@2 task in the pipeline yaml file then there is no problem at all.\r\n\r\n\r\nHow can I fix this ?\r\n","title":"Cache not updated in Azure devops Pipelines using Java Maven","body":"<p>I have a problem with Azure devops Pipeline using Java Maven and caching. When I change a file in a custom dependency then the Cache is not updated by Azure devops.</p>\n<p>I use Azure devops artifacts to store the created artifacts.</p>\n<p>I have a basic Java Application we call it:  nl.mycompany.toolA\n<br>\nI have a dependency with the name: nl.mycompany.dependencyB\n<br>\nThe Dependency nl.mycompany.dependencyB is included via the pom.xml in the basic Java application\n<br></p>\n<p>This is my Azure devops pipeline code:</p>\n<pre><code># Maven\nvariables:\n  MAVEN_CACHE_FOLDER: $(Pipeline.Workspace)/.m2/repository\n  MAVEN_OPTS: '-Dmaven.repo.local=$(MAVEN_CACHE_FOLDER)'\n\npool:\n  vmImage: ubuntu-latest\n\nsteps:\n- task: DownloadSecureFile@1\n  name: settings_xml\n  displayName: Download settings.xml\n  inputs:\n    secureFile: 'settings.xml'\n\n- task: Cache@2\n  inputs:\n    key: 'maven | &quot;$(Agent.OS)&quot; | **/pom.xml'\n    restoreKeys: |\n      maven | &quot;$(Agent.OS)&quot;\n      maven\n    path: $(MAVEN_CACHE_FOLDER)\n  displayName: Cache Maven local repo\n\n- task: Maven@3\n  inputs:\n    mavenPomFile: 'pom.xml'\n    goals: 'deploy'\n    options: '-s $(settings_xml.secureFilePath)'\n    publishJUnitResults: true\n    testResultsFiles: '**/surefire-reports/TEST-*.xml'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.8'\n    mavenVersionOption: 'Default'\n    mavenOptions: '-Xmx3072m $(MAVEN_OPTS)'\n    mavenAuthenticateFeed: false\n    effectivePomSkip: false\n    sonarQubeRunAnalysis: false\n</code></pre>\n<p>My dependency nl.mycompany.dependencyB  has a file: sharedModule/cdm.dwl which very often has to be updated.</p>\n<p>First I build my basic Java app with Azure Devops pipeline, with the code above and the inserted Junit tests run fine.</p>\n<p>Then I update the cdm.dwl file in the dependency\nThen I build the dependency with Azure devops with the code above.</p>\n<p>Then I build the basic Java app with Azure devops again and the Junit test run fine again but they should give an error because the cdm.dwl file has changed.</p>\n<p>When I download the JAR file and check the content the included dependency does not have the updated cdm.dwl file, so the cache is NOT updated by Azure devops.</p>\n<p>When I remove the Cache@2 task in the pipeline yaml file then there is no problem at all.</p>\n<p>How can I fix this ?</p>\n"},{"tags":["java","swing","whitespace","jlabel"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664946537,"post_id":73954446,"comment_id":130582619,"body_markdown":"[Edit] your question and post a [mcve]. What is the type of variable `image`? Is it a class that you wrote? If it is then post the code of that class. Otherwise people will just guess and suggest (which they have done already). After all, you are asking for help in debugging your code and the best way for me to debug your code is to be able to reproduce your problem.","body":"<a href=\"https://stackoverflow.com/posts/73954446/edit\">Edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What is the type of variable <code>image</code>? Is it a class that you wrote? If it is then post the code of that class. Otherwise people will just guess and suggest (which they have done already). After all, you are asking for help in debugging your code and the best way for me to debug your code is to be able to reproduce your problem."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664926962,"creation_date":1664926962,"answer_id":73954639,"question_id":73954446,"body_markdown":"Let&#39;s assume you want to draw the following:\r\n\r\n```\r\n  x\r\n x\r\nx\r\n```\r\n\r\nIn plain HTML you can add `&amp;nbsp;`-encoded spaces (non breaking spaces) or use preformatted text.\r\n\r\nExample using encoded spaces:\r\n\r\n```\r\nString txt = &quot;&amp;nbsp;&amp;nbsp;x&lt;br&gt;&amp;nbsp;x&lt;br&gt;x&quot;;\r\nJLabel label = new JLabel(&quot;&lt;html&gt;&quot; + txt + &quot;&lt;/html&gt;&quot;);\r\n```\r\n\r\nExample using preformatted text:\r\n\r\n```\r\nString txt = &quot;  x\\n x\\nx&quot;;\r\nJLabel label = new JLabel(&quot;&lt;html&gt;&lt;pre&gt;&quot; + txt + &quot;&lt;/pre&gt;&lt;/html&gt;&quot;);\r\n```\r\n\r\n","title":"How can I get my JLabel to draw a space in java","body":"<p>Let's assume you want to draw the following:</p>\n<pre><code>  x\n x\nx\n</code></pre>\n<p>In plain HTML you can add <code>&amp;nbsp;</code>-encoded spaces (non breaking spaces) or use preformatted text.</p>\n<p>Example using encoded spaces:</p>\n<pre><code>String txt = &quot;&amp;nbsp;&amp;nbsp;x&lt;br&gt;&amp;nbsp;x&lt;br&gt;x&quot;;\nJLabel label = new JLabel(&quot;&lt;html&gt;&quot; + txt + &quot;&lt;/html&gt;&quot;);\n</code></pre>\n<p>Example using preformatted text:</p>\n<pre><code>String txt = &quot;  x\\n x\\nx&quot;;\nJLabel label = new JLabel(&quot;&lt;html&gt;&lt;pre&gt;&quot; + txt + &quot;&lt;/pre&gt;&lt;/html&gt;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664945146,"creation_date":1664945146,"answer_id":73956023,"question_id":73954446,"body_markdown":"Something like this using the CSS **margin** property should also work:\r\n\r\n    myJLabel.setVerticalAlignment(JLabel.TOP);\r\n    myJLabel.setHorizontalAlignment(JLabel.LEFT);\r\n\r\n    myJLabel.setText(&quot;&lt;html&gt;&lt;p style=margin-top:20&gt;&quot; +\r\n                     &quot;&lt;p style=margin-left:100&gt;First Line&quot; +\r\n                     &quot;&lt;p style=margin-left:100&gt;Second Line&quot; +\r\n                     &quot;&lt;p style=margin-left:100&gt;Third Line&quot; +\r\n                     &quot;&lt;p style=margin-left:100&gt;=======&quot; +\r\n                     &quot;&lt;p style=margin-top:5&gt;&quot; +\r\n                     &quot;&lt;p style=margin-left:100&gt;Fourth Line&quot; +\r\n                     &quot;&lt;p style=margin-left:100&gt;Fifth Line&quot; +\r\n                     &quot;&lt;p style=margin-left:100&gt;Sixth Line&quot;);\r\n\r\nWhich in a JLabel, should produce something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPerhaps place the `&quot;&lt;p style=margin-top:5&gt;&quot;` and `&quot;&lt;p style=margin-left:100&gt;&quot;` into String variables and work it in your `for` loop as you build your String for the JLabel.\r\n\r\n  [1]: https://i.stack.imgur.com/Fp2Cc.png","title":"How can I get my JLabel to draw a space in java","body":"<p>Something like this using the CSS <strong>margin</strong> property should also work:</p>\n<pre><code>myJLabel.setVerticalAlignment(JLabel.TOP);\nmyJLabel.setHorizontalAlignment(JLabel.LEFT);\n\nmyJLabel.setText(&quot;&lt;html&gt;&lt;p style=margin-top:20&gt;&quot; +\n                 &quot;&lt;p style=margin-left:100&gt;First Line&quot; +\n                 &quot;&lt;p style=margin-left:100&gt;Second Line&quot; +\n                 &quot;&lt;p style=margin-left:100&gt;Third Line&quot; +\n                 &quot;&lt;p style=margin-left:100&gt;=======&quot; +\n                 &quot;&lt;p style=margin-top:5&gt;&quot; +\n                 &quot;&lt;p style=margin-left:100&gt;Fourth Line&quot; +\n                 &quot;&lt;p style=margin-left:100&gt;Fifth Line&quot; +\n                 &quot;&lt;p style=margin-left:100&gt;Sixth Line&quot;);\n</code></pre>\n<p>Which in a JLabel, should produce something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Fp2Cc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fp2Cc.png\" alt=\"enter image description here\" /></a></p>\n<p>Perhaps place the <code>&quot;&lt;p style=margin-top:5&gt;&quot;</code> and <code>&quot;&lt;p style=margin-left:100&gt;&quot;</code> into String variables and work it in your <code>for</code> loop as you build your String for the JLabel.</p>\n"}],"owner":{"account_id":25825446,"reputation":45,"user_id":19563707,"display_name":"KeLLox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73954639,"answer_count":2,"score":1,"last_activity_date":1664946384,"creation_date":1664924967,"question_id":73954446,"body_markdown":"I want my `JLabel` to draw spaces but for some reason they don&#39;t get drawn. This is an example of something that the `JLabel` should draw, but it doesn&#39;t do so for some reason:                       \r\n \r\n                     =========                    \r\n                     ==========                   \r\n                     ==========                   \r\n                     ==========                  \r\n \r\n                     =========                    \r\n                      =======                     \r\n                                  \r\nIs there a way for it to do so? Not with borders but with `&lt;html&gt;` or `\\n` or something else.             \r\nThe code for the `JLabel` text:\r\n```java\r\nlabel.setText(&quot;&lt;html&gt;&quot;);\r\nfor (int i = 0; i &lt; image.getHeight(); i++) {\r\n    for (int j = 0; j &lt; image.getWidth(); j++) {\r\n        char symbol = getSymbol(i,j,image);\r\n        line += symbol;\r\n        if (line.length() &gt;= image.getWidth()) {\r\n            label.setText(label.getText()+&quot;&quot;+line+&quot;&lt;br&gt;&quot;);\r\n            line = &quot;&quot;;\r\n        } // end of if\r\n        System.out.print(symbol);\r\n    }\r\n    System.out.println();\r\n}\r\nlabel.setText(label.getText()+&quot;&lt;br&gt;&lt;/html&gt;&quot;); \r\n```\r\n","title":"How can I get my JLabel to draw a space in java","body":"<p>I want my <code>JLabel</code> to draw spaces but for some reason they don't get drawn. This is an example of something that the <code>JLabel</code> should draw, but it doesn't do so for some reason:</p>\n<pre><code>                 =========                    \n                 ==========                   \n                 ==========                   \n                 ==========                  \n\n                 =========                    \n                  =======                     \n                              \n</code></pre>\n<p>Is there a way for it to do so? Not with borders but with <code>&lt;html&gt;</code> or <code>\\n</code> or something else.<br />\nThe code for the <code>JLabel</code> text:</p>\n<pre class=\"lang-java prettyprint-override\"><code>label.setText(&quot;&lt;html&gt;&quot;);\nfor (int i = 0; i &lt; image.getHeight(); i++) {\n    for (int j = 0; j &lt; image.getWidth(); j++) {\n        char symbol = getSymbol(i,j,image);\n        line += symbol;\n        if (line.length() &gt;= image.getWidth()) {\n            label.setText(label.getText()+&quot;&quot;+line+&quot;&lt;br&gt;&quot;);\n            line = &quot;&quot;;\n        } // end of if\n        System.out.print(symbol);\n    }\n    System.out.println();\n}\nlabel.setText(label.getText()+&quot;&lt;br&gt;&lt;/html&gt;&quot;); \n</code></pre>\n"},{"tags":["java","android","signals","television","infrared"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1405414839,"post_id":24753587,"comment_id":38405725,"body_markdown":"I&#39;m not at all familiar with IR functionality (I just this minute found out my device has an emitter), but it&#39;s obvious that `this.getSystemService(&quot;irda&quot;)` is returning `null`. Where did you get `&quot;irda&quot;` from?","body":"I&#39;m not at all familiar with IR functionality (I just this minute found out my device has an emitter), but it&#39;s obvious that <code>this.getSystemService(&quot;irda&quot;)</code> is returning <code>null</code>. Where did you get <code>&quot;irda&quot;</code> from?"},{"owner":{"account_id":2719772,"reputation":303,"user_id":2346321,"accept_rate":71,"display_name":"Heixss"},"score":0,"creation_date":1405415430,"post_id":24753587,"comment_id":38406051,"body_markdown":"well I guessed that was the problem, but I copied the code from http://devtrigger.blogspot.ro/2014/05/android-infrared-ir-transmitter-code.html and this guy tells it&#39;s working","body":"well I guessed that was the problem, but I copied the code from <a href=\"http://devtrigger.blogspot.ro/2014/05/android-infrared-ir-transmitter-code.html\" rel=\"nofollow noreferrer\">devtrigger.blogspot.ro/2014/05/&hellip;</a> and this guy tells it&#39;s working"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1405415465,"post_id":24753587,"comment_id":38406064,"body_markdown":"I found it. It appears that this code is very device-specific. What device are you testing on?","body":"I found it. It appears that this code is very device-specific. What device are you testing on?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1405415796,"post_id":24753587,"comment_id":38406274,"body_markdown":"Ah, yeah, I had found what I believe to be the code of the developer who initially figured this out on xda-developers.com. It looks like your source is a newer, albeit _very_ similar, version.","body":"Ah, yeah, I had found what I believe to be the code of the developer who initially figured this out on xda-developers.com. It looks like your source is a newer, albeit <i>very</i> similar, version."},{"owner":{"account_id":2719772,"reputation":303,"user_id":2346321,"accept_rate":71,"display_name":"Heixss"},"score":0,"creation_date":1405415800,"post_id":24753587,"comment_id":38406277,"body_markdown":"I&#39;m testing on an LG E440","body":"I&#39;m testing on an LG E440"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1405415912,"post_id":24753587,"comment_id":38406352,"body_markdown":"Yeah, this code is specific to Samsung Galaxy devices. I think you&#39;re outta luck with this code on an LG. You might try searching xda-developers.com for code specific to LGs. These types of functionalities are reverse-engineered, and can&#39;t be expected to work everywhere.","body":"Yeah, this code is specific to Samsung Galaxy devices. I think you&#39;re outta luck with this code on an LG. You might try searching xda-developers.com for code specific to LGs. These types of functionalities are reverse-engineered, and can&#39;t be expected to work everywhere."},{"owner":{"account_id":2719772,"reputation":303,"user_id":2346321,"accept_rate":71,"display_name":"Heixss"},"score":0,"creation_date":1405416067,"post_id":24753587,"comment_id":38406452,"body_markdown":"I guessed that, but why? and is there a way to transmit ir signals from devices with lower api?","body":"I guessed that, but why? and is there a way to transmit ir signals from devices with lower api?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1405416347,"post_id":24753587,"comment_id":38406633,"body_markdown":"Quite possibly, but as I edited my above comment to point out, this is a functionality that not many, if any, manufacturers have made available through public APIs, and have to be reverse-engineered. Are you sure your device even has an emitter?","body":"Quite possibly, but as I edited my above comment to point out, this is a functionality that not many, if any, manufacturers have made available through public APIs, and have to be reverse-engineered. Are you sure your device even has an emitter?"},{"owner":{"account_id":2719772,"reputation":303,"user_id":2346321,"accept_rate":71,"display_name":"Heixss"},"score":0,"creation_date":1405416532,"post_id":24753587,"comment_id":38406748,"body_markdown":"It doesn&#39;t but I just wanted it to open","body":"It doesn&#39;t but I just wanted it to open"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1405416649,"post_id":24753587,"comment_id":38406828,"body_markdown":"Um, I&#39;m not sure why you would if you can&#39;t use it, but all you&#39;d need to do is remove any code specific to JellyBean.","body":"Um, I&#39;m not sure why you would if you can&#39;t use it, but all you&#39;d need to do is remove any code specific to JellyBean."},{"owner":{"account_id":2719772,"reputation":303,"user_id":2346321,"accept_rate":71,"display_name":"Heixss"},"score":0,"creation_date":1405421074,"post_id":24753587,"comment_id":38409764,"body_markdown":"anyway, If I had a phone with IR blaster but not with kitkat version what can I use to send ir signals?","body":"anyway, If I had a phone with IR blaster but not with kitkat version what can I use to send ir signals?"},{"owner":{"account_id":2719772,"reputation":303,"user_id":2346321,"accept_rate":71,"display_name":"Heixss"},"score":0,"creation_date":1405421148,"post_id":24753587,"comment_id":38409818,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/57320/discussion-between-heixss-and-mike-m).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/57320/discussion-between-heixss-and-mike-m\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":166708,"reputation":1227,"user_id":391017,"accept_rate":75,"display_name":"lordhong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1412628416,"creation_date":1412628416,"answer_id":26224610,"question_id":24753587,"body_markdown":"The &quot;irda&quot; service is only available on Samsung devices prior to KitKat. On KitKat and upwards, all IR commands are handled in Consumer IR API.","title":"IR Remote control app","body":"<p>The \"irda\" service is only available on Samsung devices prior to KitKat. On KitKat and upwards, all IR commands are handled in Consumer IR API.</p>\n"},{"tags":[],"owner":{"account_id":3660913,"reputation":272,"user_id":3050757,"display_name":"user3050757"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425596005,"creation_date":1425596005,"answer_id":28889402,"question_id":24753587,"body_markdown":"The same code you have published works for me, but it has a simple and tiny error...\r\n\r\nAt the method  irInit4JellyBean() you have the Object irService which you made the\r\ngetSystemService(&quot;irda&quot;) that works only for Samsung devices according i have read\r\n\r\nthen, after that, you use irSend4JellyBean() and when you made the irWrite.invoke(irdaService, data); the variable irdaService is not equal to irService,so it means irdaService never got a value at all, so i rename at the top of the class irdaService by irService and i run it, and works in a Samsung Galaxy S4 and also a Samsung Galaxy Tab 3 10&#39;1.\r\n\r\nalso i have the codes for LG TV\r\n\r\nhere is it:\r\n\r\nprivate String power_on = &quot;0000 006d 0022 0002 0157 00ac 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0689 0157 0056 0015 0e94&quot;;\r\n    \r\nprivate String power_off = &quot;0000 006d 0022 0002 0157 00ac 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0689 0157 0056 0015 0e94&quot;;\r\n    \r\nprivate String channel_next=&quot;0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94&quot;;\r\n    \r\nprivate String channel_prev = &quot;0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94&quot;;\r\n    \r\nprivate String vol_up = &quot;0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94&quot;;\r\n    \r\nprivate String vol_down = &quot;0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94&quot;;","title":"IR Remote control app","body":"<p>The same code you have published works for me, but it has a simple and tiny error...</p>\n\n<p>At the method  irInit4JellyBean() you have the Object irService which you made the\ngetSystemService(\"irda\") that works only for Samsung devices according i have read</p>\n\n<p>then, after that, you use irSend4JellyBean() and when you made the irWrite.invoke(irdaService, data); the variable irdaService is not equal to irService,so it means irdaService never got a value at all, so i rename at the top of the class irdaService by irService and i run it, and works in a Samsung Galaxy S4 and also a Samsung Galaxy Tab 3 10'1.</p>\n\n<p>also i have the codes for LG TV</p>\n\n<p>here is it:</p>\n\n<p>private String power_on = \"0000 006d 0022 0002 0157 00ac 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0689 0157 0056 0015 0e94\";</p>\n\n<p>private String power_off = \"0000 006d 0022 0002 0157 00ac 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0689 0157 0056 0015 0e94\";</p>\n\n<p>private String channel_next=\"0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94\";</p>\n\n<p>private String channel_prev = \"0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94\";</p>\n\n<p>private String vol_up = \"0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94\";</p>\n\n<p>private String vol_down = \"0000 006D 0022 0002 0157 00AC 0015 0016 0015 0016 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0041 0015 0689 0157 0056 0015 0E94\";</p>\n"},{"tags":[],"owner":{"account_id":10098420,"reputation":1,"user_id":7463060,"display_name":"Oz Nami"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485369627,"creation_date":1485266009,"answer_id":41830002,"question_id":24753587,"body_markdown":"I tried this code ,and is works great!\r\n\r\n    final ConsumerIrManager mCIR;\r\n    mCIR = (ConsumerIrManager) getSystemService(Context.CONSUMER_IR_SERVICE);\r\n    int[] pattern_off = {8918 ,4446, 572, 546 ,572 ,546 ,572, 1638, 572, 546, 572, 546,\r\n                         572 ,546 ,572 ,546 ,572 ,546 ,572 ,1638 ,572 ,1638 ,572 ,546 ,572 ,1638 ,572 ,\r\n                         1638, 572 ,1638 ,572 ,1638 ,572 ,1638 ,572 ,1638 ,572 ,546 ,572 ,1638 ,572,\r\n                         546, 572 ,546, 572 ,546, 572, 1638, 572, 1638, 572, 546, 572, 1638, 572 ,546,\r\n                         572, 1638, 572, 1638, 572, 1638, 572, 546, 572, 546, 572, 39598, 8892, 2210, 572, 95186};\r\n    mCIR.transmit(38000,pattern_off);\r\n    \r\n    \r\n    \r\nHow can I send this type hex code (For example: 0x000000000000847B)??\r\n    \r\n    begin remote\r\n    \r\n      bits           16\r\n      flags SPACE_ENC|CONST_LENGTH\r\n      eps            30\r\n      aeps          100\r\n    \r\n      header       9042  4558\r\n      one           555  1682\r\n      zero          555   570\r\n      ptrail        544\r\n      repeat       9041  2296\r\n      pre_data_bits   16\r\n      pre_data       0x213C\r\n      gap          108556\r\n      min_repeat      0\r\n      toggle_bit      0\r\n    \r\n    \r\n          begin codes\r\n              KEY_POWER                0x000000000000847B        #  Was: power\r\n              KEY_1                    0x0000000000000CF3        #  Was: 1\r\n              KEY_2                    0x000000000000946B        #  Was: 2\r\n              KEY_3                    0x0000000000009C63        #  Was: 3\r\n              KEY_4                    0x00000000000014EB        #  Was: 4\r\n              KEY_5                    0x00000000000004FB        #  Was: 5\r\n              KEY_6                    0x0000000000001CE3        #  Was: 6\r\n              KEY_7                    0x0000000000004CB3        #  Was: 7\r\n              KEY_8                    0x00000000000054AB        #  Was: 8\r\n              KEY_9                    0x00000000000044BB        #  Was: 9\r\n              KEY_EXIT                 0x0000000000008C73        #  Was: exit\r\n              KEY_0                    0x000000000000CC33        #  Was: 0\r\n              KEY_0                    0x000000000000F40B        #  Was: 10\r\n              KEY_MUTE                 0x000000000000A45B        #  Was: mute\r\n              KEY_ENTER                0x0000000000005CA3        #  Was: return\r\n              KEY_VOLUMEUP             0x000000000000649B        #  Was: vol+\r\n              KEY_VOLUMEDOWN           0x000000000000E41B        #  Was: vol-\r\n              KEY_CHANNELUP            0x000000000000AC53        #  Was: channel+\r\n              KEY_CHANNELDOWN          0x000000000000EC13        #  Was: channel-\r\n              KEY_INFO                 0x000000000000748B        #  Was: guide\r\n              mosaic                   0x0000000000006C93\r\n              yes                      0x000000000000C43B\r\n              KEY_UP                   0x000000000000D42B        #  Was: up\r\n              KEY_DOWN                 0x00000000000024DB        #  Was: down\r\n              KEY_LEFT                 0x0000000000002CD3        #  Was: left\r\n              KEY_RIGHT                0x000000000000DC23        #  Was: right\r\n              ?                        0x00000000000034CB\r\n              KEY_KPPLUS               0x0000000000003CC3        #  Was: +\r\n              orange                   0x0000000000007C83\r\n              KEY_GREEN                0x000000000000B44B        #  Was: green\r\n              KEY_YELLOW               0x000000000000BC43        #  Was: yellow\r\n              KEY_BLUE                 0x000000000000FC03        #  Was: blue\r\n              envelope                 0x000000000000C23D\r\n              KEY_B                    0x00000000000042BD        #  Was: B\r\n              KEY_A                    0x000000000000827D        #  Was: A\r\n              KEY_I                    0x00000000000002FD        #  Was: i\r\n          end codes\r\n    \r\n    end remote\r\n\r\n","title":"IR Remote control app","body":"<p>I tried this code ,and is works great!</p>\n\n<pre><code>final ConsumerIrManager mCIR;\nmCIR = (ConsumerIrManager) getSystemService(Context.CONSUMER_IR_SERVICE);\nint[] pattern_off = {8918 ,4446, 572, 546 ,572 ,546 ,572, 1638, 572, 546, 572, 546,\n                     572 ,546 ,572 ,546 ,572 ,546 ,572 ,1638 ,572 ,1638 ,572 ,546 ,572 ,1638 ,572 ,\n                     1638, 572 ,1638 ,572 ,1638 ,572 ,1638 ,572 ,1638 ,572 ,546 ,572 ,1638 ,572,\n                     546, 572 ,546, 572 ,546, 572, 1638, 572, 1638, 572, 546, 572, 1638, 572 ,546,\n                     572, 1638, 572, 1638, 572, 1638, 572, 546, 572, 546, 572, 39598, 8892, 2210, 572, 95186};\nmCIR.transmit(38000,pattern_off);\n</code></pre>\n\n<p>How can I send this type hex code (For example: 0x000000000000847B)??</p>\n\n<pre><code>begin remote\n\n  bits           16\n  flags SPACE_ENC|CONST_LENGTH\n  eps            30\n  aeps          100\n\n  header       9042  4558\n  one           555  1682\n  zero          555   570\n  ptrail        544\n  repeat       9041  2296\n  pre_data_bits   16\n  pre_data       0x213C\n  gap          108556\n  min_repeat      0\n  toggle_bit      0\n\n\n      begin codes\n          KEY_POWER                0x000000000000847B        #  Was: power\n          KEY_1                    0x0000000000000CF3        #  Was: 1\n          KEY_2                    0x000000000000946B        #  Was: 2\n          KEY_3                    0x0000000000009C63        #  Was: 3\n          KEY_4                    0x00000000000014EB        #  Was: 4\n          KEY_5                    0x00000000000004FB        #  Was: 5\n          KEY_6                    0x0000000000001CE3        #  Was: 6\n          KEY_7                    0x0000000000004CB3        #  Was: 7\n          KEY_8                    0x00000000000054AB        #  Was: 8\n          KEY_9                    0x00000000000044BB        #  Was: 9\n          KEY_EXIT                 0x0000000000008C73        #  Was: exit\n          KEY_0                    0x000000000000CC33        #  Was: 0\n          KEY_0                    0x000000000000F40B        #  Was: 10\n          KEY_MUTE                 0x000000000000A45B        #  Was: mute\n          KEY_ENTER                0x0000000000005CA3        #  Was: return\n          KEY_VOLUMEUP             0x000000000000649B        #  Was: vol+\n          KEY_VOLUMEDOWN           0x000000000000E41B        #  Was: vol-\n          KEY_CHANNELUP            0x000000000000AC53        #  Was: channel+\n          KEY_CHANNELDOWN          0x000000000000EC13        #  Was: channel-\n          KEY_INFO                 0x000000000000748B        #  Was: guide\n          mosaic                   0x0000000000006C93\n          yes                      0x000000000000C43B\n          KEY_UP                   0x000000000000D42B        #  Was: up\n          KEY_DOWN                 0x00000000000024DB        #  Was: down\n          KEY_LEFT                 0x0000000000002CD3        #  Was: left\n          KEY_RIGHT                0x000000000000DC23        #  Was: right\n          ?                        0x00000000000034CB\n          KEY_KPPLUS               0x0000000000003CC3        #  Was: +\n          orange                   0x0000000000007C83\n          KEY_GREEN                0x000000000000B44B        #  Was: green\n          KEY_YELLOW               0x000000000000BC43        #  Was: yellow\n          KEY_BLUE                 0x000000000000FC03        #  Was: blue\n          envelope                 0x000000000000C23D\n          KEY_B                    0x00000000000042BD        #  Was: B\n          KEY_A                    0x000000000000827D        #  Was: A\n          KEY_I                    0x00000000000002FD        #  Was: i\n      end codes\n\nend remote\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25343142,"reputation":55,"user_id":19161262,"display_name":"niaz muhammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664945342,"creation_date":1664945342,"answer_id":73956042,"question_id":24753587,"body_markdown":"you can wrap the specific code in try catch block because every device don&#39;t have ir sensor so that&#39;s why it&#39;s return null.\r\nfollowing are the list of devices which have ir sensors.\r\n Samsung Galaxy Note 4\r\nSamsung Galaxy S4\r\nSamsung Galaxy S4 Mini\r\nSamsung Galaxy S5\r\nSamsung Galaxy Note 3\r\nSamsung Galaxy S6\r\nSamsung Galaxy S5 Mini\r\nSamsung Galaxy S4 Zoom\r\nSamsung Galaxy S6 Active\r\nSamsung Galaxy Note Edge\r\nSamsung Galaxy S6\r\nVivo X70 Pro Plus\r\nHuawei P50 Pro\r\nPoco F3 series\r\nXiaomi 12 Pro\r\nXiaomi 11T series\r\nPoco X4 Pro\r\nRedmi Note 11 Pro and 11 Pro Plus\r\nPoco M4 Pro\r\nTCL 10 Pro\r\nXiaomi Mi 10 Pro 5G\r\nHuawei P30 Pro\r\nHuawei Mate 10 Pro\r\nLG G5","title":"IR Remote control app","body":"<p>you can wrap the specific code in try catch block because every device don't have ir sensor so that's why it's return null.\nfollowing are the list of devices which have ir sensors.\nSamsung Galaxy Note 4\nSamsung Galaxy S4\nSamsung Galaxy S4 Mini\nSamsung Galaxy S5\nSamsung Galaxy Note 3\nSamsung Galaxy S6\nSamsung Galaxy S5 Mini\nSamsung Galaxy S4 Zoom\nSamsung Galaxy S6 Active\nSamsung Galaxy Note Edge\nSamsung Galaxy S6\nVivo X70 Pro Plus\nHuawei P50 Pro\nPoco F3 series\nXiaomi 12 Pro\nXiaomi 11T series\nPoco X4 Pro\nRedmi Note 11 Pro and 11 Pro Plus\nPoco M4 Pro\nTCL 10 Pro\nXiaomi Mi 10 Pro 5G\nHuawei P30 Pro\nHuawei Mate 10 Pro\nLG G5</p>\n"}],"owner":{"account_id":2719772,"reputation":303,"user_id":2346321,"accept_rate":71,"display_name":"Heixss"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7759,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26224610,"answer_count":4,"score":3,"last_activity_date":1664945342,"creation_date":1405413690,"question_id":24753587,"body_markdown":"I&#39;m making a remote control app with 6 buttons which works with samsung tv&#39;s. For kitkat I used the new api ConsumerIRmanager but I want the app to work with jellybean also so the app works great for kitkat version but it won&#39;t start on jellybean here is the code:\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n    \tObject irdaService;\r\n    \tMethod irWrite;\r\n    \tSparseArray&lt;String&gt; irData;\r\n    \tTextView mFreqsText;\r\n    \tConsumerIrManager mCIR;\r\n    \tImageButton power;\r\n    \tSeekBar sBar;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\t// Be sure to call the super class.\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \r\n    \t\tsetContentView(R.layout.activity_layout);\r\n    \t\tpower = (ImageButton) findViewById(R.id.powerBtn);\r\n    \t\tpower.setVisibility(View.GONE);\r\n    \t\tirData = new SparseArray&lt;String&gt;();\r\n    \t\tirData.put(\r\n    \t\t\t\tR.id.toggleButton1,\r\n    \t\t\t\thex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n    \t\tirData.put(\r\n    \t\t\t\tR.id.upProg,\r\n    \t\t\t\thex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 0015 0015 0040 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n    \t\tirData.put(\r\n    \t\t\t\tR.id.downBtn,\r\n    \t\t\t\thex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 0015 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n    \t\tirData.put(\r\n    \t\t\t\tR.id.minusBtn,\r\n    \t\t\t\thex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n    \t\tirData.put(\r\n    \t\t\t\tR.id.plusBtn,\r\n    \t\t\t\thex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n    \t\tirData.put(\r\n    \t\t\t\tR.id.muteBtn,\r\n    \t\t\t\thex2dec(&quot;0000 006c 0022 0003 00ab 00aa 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0714 00ab 00aa 0015 0015 0015 0e91&quot;));\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n    \r\n    \t\t\tirInit4KitKat();\r\n    \t\t} else {\r\n    \t\t\tirInit4JellyBean();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@TargetApi(Build.VERSION_CODES.KITKAT)\r\n    \tpublic void irInit4KitKat() {\r\n    \r\n    \t\t// Get a reference to the ConsumerIrManager\r\n    \t\tmCIR = (ConsumerIrManager) getSystemService(Context.CONSUMER_IR_SERVICE);\r\n    \r\n    \t}\r\n    \r\n    \tpublic void irInit4JellyBean() {\r\n    \t\tObject irService = this.getSystemService(&quot;irda&quot;);\r\n        \t//irService.getClass();\r\n        \tClass irClass = irService.getClass();\r\n        \tClass params[] = new Class[1];\r\n        \tparams[0] = String.class;\r\n    \t\ttry {\r\n    \t\t\tirWrite = irClass.getMethod(&quot;write_irsend&quot;, params);\r\n    \t\t} catch (NoSuchMethodException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void irSend(View view) {\r\n    \r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n    \r\n    \t\t\tirSend4Kitkat(view);\r\n    \t\t} else {\r\n    \r\n    \t\t\tirSend4JellyBean(view);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@TargetApi(Build.VERSION_CODES.KITKAT)\r\n    \tprivate void irSend4Kitkat(View view) {\r\n    \r\n    \t\tString data = irData.get(view.getId());\r\n    \t\tif (data != null) {\r\n    \t\t\tString values[] = data.split(&quot;,&quot;);\r\n    \t\t\tint[] pattern = new int[values.length - 1];\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; pattern.length; i++) {\r\n    \t\t\t\tpattern[i] = Integer.parseInt(values[i + 1]);\r\n    \t\t\t}\r\n    \r\n    \t\t\tmCIR.transmit(Integer.parseInt(values[0]), pattern);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void irSend4JellyBean(View view) {\r\n    \t\tString data = irData.get(view.getId());\r\n    \t\tif (data != null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tirWrite.invoke(irdaService, data);\r\n    \t\t\t} catch (IllegalArgumentException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (IllegalAccessException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (InvocationTargetException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected String hex2dec(String irData) {\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(irData\r\n    \t\t\t\t.split(&quot; &quot;)));\r\n    \t\tlist.remove(0); // dummy\r\n    \t\tint frequency = Integer.parseInt(list.remove(0), 16); // frequency\r\n    \t\tlist.remove(0); // seq1\r\n    \t\tlist.remove(0); // seq2\r\n    \r\n    \t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n    \t\t\tlist.set(i, Integer.toString(Integer.parseInt(list.get(i), 16)));\r\n    \t\t}\r\n    \r\n    \t\tfrequency = (int) (1000000 / (frequency * 0.241246));\r\n    \t\tlist.add(0, Integer.toString(frequency));\r\n    \r\n    \t\tirData = &quot;&quot;;\r\n    \t\tfor (String s : list) {\r\n    \t\t\tirData += s + &quot;,&quot;;\r\n    \t\t}\r\n    \t\treturn irData;\r\n    \t}\r\n    }\r\nmainfest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.irtest&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.TRANSMIT_IR&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.consumerir&quot; /&gt;\r\n        &lt;uses-sdk\r\n            android:minSdkVersion=&quot;16&quot;\r\n            android:targetSdkVersion=&quot;19&quot; /&gt;\r\n    \r\n        \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n          android:screenOrientation=&quot;portrait&quot;\r\n                android:label=&quot;@string/app_name&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\nI get unable to start activity ComponentInfo com.example.irtest/com.irtest.MainActivity : java.lang.NullPointerException \r\nand I have problems at this line Class irClass = irService.getClass();","title":"IR Remote control app","body":"<p>I'm making a remote control app with 6 buttons which works with samsung tv's. For kitkat I used the new api ConsumerIRmanager but I want the app to work with jellybean also so the app works great for kitkat version but it won't start on jellybean here is the code:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    Object irdaService;\n    Method irWrite;\n    SparseArray&lt;String&gt; irData;\n    TextView mFreqsText;\n    ConsumerIrManager mCIR;\n    ImageButton power;\n    SeekBar sBar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // Be sure to call the super class.\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_layout);\n        power = (ImageButton) findViewById(R.id.powerBtn);\n        power.setVisibility(View.GONE);\n        irData = new SparseArray&lt;String&gt;();\n        irData.put(\n                R.id.toggleButton1,\n                hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n        irData.put(\n                R.id.upProg,\n                hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 0015 0015 0040 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n        irData.put(\n                R.id.downBtn,\n                hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 0015 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n        irData.put(\n                R.id.minusBtn,\n                hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n        irData.put(\n                R.id.plusBtn,\n                hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n        irData.put(\n                R.id.muteBtn,\n                hex2dec(\"0000 006c 0022 0003 00ab 00aa 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0714 00ab 00aa 0015 0015 0015 0e91\"));\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n\n            irInit4KitKat();\n        } else {\n            irInit4JellyBean();\n        }\n\n    }\n\n    @TargetApi(Build.VERSION_CODES.KITKAT)\n    public void irInit4KitKat() {\n\n        // Get a reference to the ConsumerIrManager\n        mCIR = (ConsumerIrManager) getSystemService(Context.CONSUMER_IR_SERVICE);\n\n    }\n\n    public void irInit4JellyBean() {\n        Object irService = this.getSystemService(\"irda\");\n        //irService.getClass();\n        Class irClass = irService.getClass();\n        Class params[] = new Class[1];\n        params[0] = String.class;\n        try {\n            irWrite = irClass.getMethod(\"write_irsend\", params);\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void irSend(View view) {\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n\n            irSend4Kitkat(view);\n        } else {\n\n            irSend4JellyBean(view);\n        }\n    }\n\n    @TargetApi(Build.VERSION_CODES.KITKAT)\n    private void irSend4Kitkat(View view) {\n\n        String data = irData.get(view.getId());\n        if (data != null) {\n            String values[] = data.split(\",\");\n            int[] pattern = new int[values.length - 1];\n\n            for (int i = 0; i &lt; pattern.length; i++) {\n                pattern[i] = Integer.parseInt(values[i + 1]);\n            }\n\n            mCIR.transmit(Integer.parseInt(values[0]), pattern);\n        }\n    }\n\n    private void irSend4JellyBean(View view) {\n        String data = irData.get(view.getId());\n        if (data != null) {\n            try {\n                irWrite.invoke(irdaService, data);\n            } catch (IllegalArgumentException e) {\n                e.printStackTrace();\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            } catch (InvocationTargetException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    protected String hex2dec(String irData) {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(irData\n                .split(\" \")));\n        list.remove(0); // dummy\n        int frequency = Integer.parseInt(list.remove(0), 16); // frequency\n        list.remove(0); // seq1\n        list.remove(0); // seq2\n\n        for (int i = 0; i &lt; list.size(); i++) {\n            list.set(i, Integer.toString(Integer.parseInt(list.get(i), 16)));\n        }\n\n        frequency = (int) (1000000 / (frequency * 0.241246));\n        list.add(0, Integer.toString(frequency));\n\n        irData = \"\";\n        for (String s : list) {\n            irData += s + \",\";\n        }\n        return irData;\n    }\n}\n</code></pre>\n\n<p>mainfest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.irtest\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;uses-permission android:name=\"android.permission.TRANSMIT_IR\"\n    android:required=\"false\" /&gt;\n    &lt;uses-feature android:name=\"android.hardware.consumerir\" /&gt;\n    &lt;uses-sdk\n        android:minSdkVersion=\"16\"\n        android:targetSdkVersion=\"19\" /&gt;\n\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n      android:screenOrientation=\"portrait\"\n            android:label=\"@string/app_name\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I get unable to start activity ComponentInfo com.example.irtest/com.irtest.MainActivity : java.lang.NullPointerException \nand I have problems at this line Class irClass = irService.getClass();</p>\n"},{"tags":["java","maven","heroku"],"comments":[{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":0,"creation_date":1664930645,"post_id":73812951,"comment_id":130580795,"body_markdown":"I&#39;ve never used Heroku but in Tomcat you just simply specify the JAVA_HOME or JRE_HOME in the startup script. Have in mind that you must have a JDK v 1.7 installed and you need to specify it&#39;s path somewhere so the 1.7 could be used. You can have multiple JDK versions on the same computer.","body":"I&#39;ve never used Heroku but in Tomcat you just simply specify the JAVA_HOME or JRE_HOME in the startup script. Have in mind that you must have a JDK v 1.7 installed and you need to specify it&#39;s path somewhere so the 1.7 could be used. You can have multiple JDK versions on the same computer."}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664945314,"creation_date":1664945314,"answer_id":73956040,"question_id":73812951,"body_markdown":"Two things:\r\n1. System properties file should be at root level of the project. \r\nRefer: https://github.com/heroku/java-getting-started\r\n\r\n\r\n2. If that does not work for you you can instead use maven deployment\r\n\r\nIn your pom.xml\r\ngoto &lt;plugins&gt; section add following\r\n\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n           &lt;jdkVersion&gt;17&lt;/jdkVersion&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nif you do not want to use procfile as well you can add config for that as well in configuration section.\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  ...\r\n  &lt;processTypes&gt;\r\n     &lt;web&gt;java $JAVA_OPTS -cp target/classes:target/dependency/* Main&lt;/web&gt;\r\n  &lt;/processTypes&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nalso you will see configuration for java opts there if required\r\nRef:\r\nhttps://devcenter.heroku.com/articles/deploying-java-applications-with-the-heroku-maven-plugin\r\n\r\nIf you want to understand or customize and use any other java version\r\nyou can have a look at :\r\nhttps://devcenter.heroku.com/articles/java-support#specifying-a-java-version","title":"Heroku ignores system.properties file and does not change jdk version","body":"<p>Two things:</p>\n<ol>\n<li><p>System properties file should be at root level of the project.\nRefer: <a href=\"https://github.com/heroku/java-getting-started\" rel=\"nofollow noreferrer\">https://github.com/heroku/java-getting-started</a></p>\n</li>\n<li><p>If that does not work for you you can instead use maven deployment</p>\n</li>\n</ol>\n<p>In your pom.xml\ngoto  section add following</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;configuration&gt;\n           &lt;jdkVersion&gt;17&lt;/jdkVersion&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>if you do not want to use procfile as well you can add config for that as well in configuration section.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  ...\n  &lt;processTypes&gt;\n     &lt;web&gt;java $JAVA_OPTS -cp target/classes:target/dependency/* Main&lt;/web&gt;\n  &lt;/processTypes&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>also you will see configuration for java opts there if required\nRef:\n<a href=\"https://devcenter.heroku.com/articles/deploying-java-applications-with-the-heroku-maven-plugin\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/deploying-java-applications-with-the-heroku-maven-plugin</a></p>\n<p>If you want to understand or customize and use any other java version\nyou can have a look at :\n<a href=\"https://devcenter.heroku.com/articles/java-support#specifying-a-java-version\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/java-support#specifying-a-java-version</a></p>\n"}],"owner":{"account_id":23270618,"reputation":127,"user_id":18453555,"display_name":"ruskaof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664945314,"creation_date":1663841778,"question_id":73812951,"body_markdown":"I&#39;m trying to deploy jsp project on Heroku and I followed the guide https://devcenter.heroku.com/articles/java-webapp-runner#create-a-procfile. When I tried to deploy, Heroku used jdk 1.8 (i need 17 in my project). So I created a `system.properties` file with the line `java.runtime.version=17`, commited and pushed it to master, but Heroku still tries to use jdk 1.8. What am I doing wrong?\r\n\r\npom.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.ruskaof&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lab2WildFly&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;lab2WildFly&lt;/name&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;&lt;goal&gt;copy&lt;/goal&gt;&lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;com.heroku&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;webapp-runner&lt;/artifactId&gt;\r\n                                        &lt;version&gt;9.0.52.1&lt;/version&gt;\r\n                                        &lt;destFileName&gt;webapp-runner.jar&lt;/destFileName&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nProcfile:\r\n\r\n    web: java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT target/*.war\r\n","title":"Heroku ignores system.properties file and does not change jdk version","body":"<p>I'm trying to deploy jsp project on Heroku and I followed the guide <a href=\"https://devcenter.heroku.com/articles/java-webapp-runner#create-a-procfile\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/java-webapp-runner#create-a-procfile</a>. When I tried to deploy, Heroku used jdk 1.8 (i need 17 in my project). So I created a <code>system.properties</code> file with the line <code>java.runtime.version=17</code>, commited and pushed it to master, but Heroku still tries to use jdk 1.8. What am I doing wrong?</p>\n<p>pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.ruskaof&lt;/groupId&gt;\n    &lt;artifactId&gt;lab2WildFly&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;lab2WildFly&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\n                &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;&lt;goal&gt;copy&lt;/goal&gt;&lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;com.heroku&lt;/groupId&gt;\n                                    &lt;artifactId&gt;webapp-runner&lt;/artifactId&gt;\n                                    &lt;version&gt;9.0.52.1&lt;/version&gt;\n                                    &lt;destFileName&gt;webapp-runner.jar&lt;/destFileName&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Procfile:</p>\n<pre><code>web: java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT target/*.war\n</code></pre>\n"},{"tags":["java","function","doubly-linked-list","deque","sentinel"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664944139,"creation_date":1664944139,"answer_id":73955943,"question_id":73955899,"body_markdown":"You can loop for `i` iterations, moving between nodes through the `next` field each time.\r\n\r\n```java\r\npublic T findindexof(int i) {\r\n\tIntNode curr = sentinel;\r\n\tfor (int j = 0; j &lt; i &amp;&amp; curr != null; j++)\r\n\t\tcurr = curr.next;\r\n\treturn curr != null ? curr.data : null;\r\n}\r\n```","title":"How can I get the index of a specific node in a doubly linked list?","body":"<p>You can loop for <code>i</code> iterations, moving between nodes through the <code>next</code> field each time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public T findindexof(int i) {\n    IntNode curr = sentinel;\n    for (int j = 0; j &lt; i &amp;&amp; curr != null; j++)\n        curr = curr.next;\n    return curr != null ? curr.data : null;\n}\n</code></pre>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73955943,"answer_count":1,"score":0,"last_activity_date":1664944139,"creation_date":1664943636,"question_id":73955899,"body_markdown":"I have a class called `SLList` whuch accepts a doubly linked list `SLList` of any generic type as an input.\r\n\r\nI&#39;ve decided to use a sentinel approach to aid in my task.\r\n\r\nI am now trying to convert my doubly linked list into a string using function `public String makestring()` and also get the index of a specific node via function `public T findindexof(int i)` \r\n\r\nHere is my code so far:\r\n\r\n    public class SLList&lt;T&gt;{ \r\n            private class IntNode {\r\n            private T data;\r\n            private IntNode previous;\r\n            private IntNode next;\r\n    \r\n            public IntNode (T data, IntNode previous, IntNode next) {\r\n                this.data = data;\r\n                this.previous = previous;\r\n                this.next = next;\r\n            }\r\n    \r\n            public IntNode () { \r\n                next = previous = this;\r\n            }\r\n        }\r\n    \r\n        IntNode sentinel; \r\n        private int length = 0;\r\n    \r\n        public SLList(){\r\n            sentinel = new IntNode(); // Self referencing previous/next\r\n        }\r\n   \r\n        \r\n        public String makestring() {\r\n            return sentinel.data.toString();\r\n        }\r\n        public T findindexof(int i) {\r\n            return sentinel.data[i];\r\n        }\r\n\r\nMy `findindexof(int i)` must only get the item at the given index, where 0 is the front, 1 is the next item and so forth. If no such item exists, returns null. It must not alter the deque either.\r\n\r\nI am struggling to understand how to implement this function, so any advice would be greatly appreciated. \r\n\r\nThank you","title":"How can I get the index of a specific node in a doubly linked list?","body":"<p>I have a class called <code>SLList</code> whuch accepts a doubly linked list <code>SLList</code> of any generic type as an input.</p>\n<p>I've decided to use a sentinel approach to aid in my task.</p>\n<p>I am now trying to convert my doubly linked list into a string using function <code>public String makestring()</code> and also get the index of a specific node via function <code>public T findindexof(int i)</code></p>\n<p>Here is my code so far:</p>\n<pre><code>public class SLList&lt;T&gt;{ \n        private class IntNode {\n        private T data;\n        private IntNode previous;\n        private IntNode next;\n\n        public IntNode (T data, IntNode previous, IntNode next) {\n            this.data = data;\n            this.previous = previous;\n            this.next = next;\n        }\n\n        public IntNode () { \n            next = previous = this;\n        }\n    }\n\n    IntNode sentinel; \n    private int length = 0;\n\n    public SLList(){\n        sentinel = new IntNode(); // Self referencing previous/next\n    }\n\n    \n    public String makestring() {\n        return sentinel.data.toString();\n    }\n    public T findindexof(int i) {\n        return sentinel.data[i];\n    }\n</code></pre>\n<p>My <code>findindexof(int i)</code> must only get the item at the given index, where 0 is the front, 1 is the next item and so forth. If no such item exists, returns null. It must not alter the deque either.</p>\n<p>I am struggling to understand how to implement this function, so any advice would be greatly appreciated.</p>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1993154,"reputation":585,"user_id":1786699,"accept_rate":100,"display_name":"PapaAtHome"},"score":0,"creation_date":1664966679,"post_id":73955848,"comment_id":130587897,"body_markdown":"Please read [this](https://stackoverflow.com/help/how-to-ask)","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664943442,"creation_date":1664943442,"answer_id":73955882,"question_id":73955848,"body_markdown":"`b` might appear multiple times in `a` (and vice versa). However, `indexOf` only returns the first occurrence, so your index checks can fail.\r\n\r\nUse [`String#endsWith`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-) instead.\r\n\r\n```java\r\nreturn a.endsWith(b) || b.endsWith(a);\r\n```","title":"what type of other tests will cause an error?","body":"<p><code>b</code> might appear multiple times in <code>a</code> (and vice versa). However, <code>indexOf</code> only returns the first occurrence, so your index checks can fail.</p>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String#endsWith</code></a> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return a.endsWith(b) || b.endsWith(a);\n</code></pre>\n"}],"owner":{"account_id":26531443,"reputation":11,"user_id":20163554,"display_name":"notzuriel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73955882,"answer_count":1,"score":0,"last_activity_date":1664943442,"creation_date":1664943043,"question_id":73955848,"body_markdown":"   \r\nOn codingbat string-2, the question end other asks to return true if either a appears at the end of b or if b appears at the end of a. Upon finishing my code, the &quot;other tests&quot; is the only test with an error. What am I missing?\r\n\r\n \r\n\r\n    public boolean endOther(String a, String b) {\r\n          a = a.trim();\r\n          a = a.toLowerCase();\r\n          b = b.trim();\r\n          b = b.toLowerCase();\r\n        \r\n          if (a.indexOf(b) == -1 &amp;&amp; b.indexOf(a) == -1)\r\n          return false;\r\n          else if (a.indexOf(b) == a.length()-b.length()) \r\n          return true;\r\n          else if (b.indexOf(a) == b.length()-a.length())\r\n          return true;\r\n          else\r\n          return false;\r\n        }\r\n[&quot;other tests&quot; is negative][1]\r\n    \r\n    \r\n[1]: https://i.stack.imgur.com/uGcu9.png","title":"what type of other tests will cause an error?","body":"<p>On codingbat string-2, the question end other asks to return true if either a appears at the end of b or if b appears at the end of a. Upon finishing my code, the &quot;other tests&quot; is the only test with an error. What am I missing?</p>\n<pre><code>public boolean endOther(String a, String b) {\n      a = a.trim();\n      a = a.toLowerCase();\n      b = b.trim();\n      b = b.toLowerCase();\n    \n      if (a.indexOf(b) == -1 &amp;&amp; b.indexOf(a) == -1)\n      return false;\n      else if (a.indexOf(b) == a.length()-b.length()) \n      return true;\n      else if (b.indexOf(a) == b.length()-a.length())\n      return true;\n      else\n      return false;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uGcu9.png\" rel=\"nofollow noreferrer\">&quot;other tests&quot; is negative</a></p>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1664980555,"post_id":73955795,"comment_id":130593081,"body_markdown":"Show the code that does this, there are a number of questions that immediately come to mind, and rather than play a game of 20 questions it&#39;s better to just show your code. Also, why do you RSA-encrypt more than once?","body":"Show the code that does this, there are a number of questions that immediately come to mind, and rather than play a game of 20 questions it&#39;s better to just show your code. Also, why do you RSA-encrypt more than once?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664943064,"creation_date":1664943064,"answer_id":73955851,"question_id":73955795,"body_markdown":"That&#39;s just not how it works. If it would be the same, that&#39;s rather insecure. PKI (Public key crypto) is incredibly slow and inefficient. Hence, you don&#39;t actually encrypt the data with it. Instead, you generate a random key, you use a symmetric algorithm like AES to encrypt the data, and then you encrypt _the randomly generated key_ with your RSA algorithm.\r\n\r\nPresumably (you included no details at all in your question), you&#39;re using a library that takes care of all this for you. As well it should, it is incredibly easy to make a mistake that results in data that _looks_ encrypted but can fairly easily be disassembled; if not outright decrypted, at least a lot of info can be trivially gleaned from it. Even if you hand-wrote all the low-level stuff for PKI, it&#39;s still far less secure to re-use keys like this. All other involved parties assume those encryped symmetric keys are fleeting. They are used for this &#39;session&#39; and not reused. Various cryptographic primitives do not do well when things are reused.\r\n","title":"Keep the encryption value of the encryption result using RSA algorithm","body":"<p>That's just not how it works. If it would be the same, that's rather insecure. PKI (Public key crypto) is incredibly slow and inefficient. Hence, you don't actually encrypt the data with it. Instead, you generate a random key, you use a symmetric algorithm like AES to encrypt the data, and then you encrypt <em>the randomly generated key</em> with your RSA algorithm.</p>\n<p>Presumably (you included no details at all in your question), you're using a library that takes care of all this for you. As well it should, it is incredibly easy to make a mistake that results in data that <em>looks</em> encrypted but can fairly easily be disassembled; if not outright decrypted, at least a lot of info can be trivially gleaned from it. Even if you hand-wrote all the low-level stuff for PKI, it's still far less secure to re-use keys like this. All other involved parties assume those encryped symmetric keys are fleeting. They are used for this 'session' and not reused. Various cryptographic primitives do not do well when things are reused.</p>\n"}],"owner":{"account_id":7145702,"reputation":71,"user_id":5461483,"accept_rate":14,"display_name":"Le Trung Anh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664943064,"creation_date":1664942323,"question_id":73955795,"body_markdown":"I&#39;m using RSA algorithm to encrypt/decrypt string with pair key. This pair key is fixed. After encrypting many times, the result return is different. With my biz, I want to keep the value of the encryption result after encrypting many times. How I should do that?\r\n\r\nI&#39;m using `javax.crypto` of java sdk.","title":"Keep the encryption value of the encryption result using RSA algorithm","body":"<p>I'm using RSA algorithm to encrypt/decrypt string with pair key. This pair key is fixed. After encrypting many times, the result return is different. With my biz, I want to keep the value of the encryption result after encrypting many times. How I should do that?</p>\n<p>I'm using <code>javax.crypto</code> of java sdk.</p>\n"},{"tags":["java","process"],"answers":[{"tags":[],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664940629,"creation_date":1664940629,"answer_id":73955674,"question_id":73955507,"body_markdown":"After some tweaking and testing, I finally made it work by using the following code:\r\n\r\n```java\r\npublic class ClipboardService {\r\n\r\n    public String getClipboardContents() {\r\n        try {\r\n            List&lt;String&gt; result;\r\n            List&lt;Process&gt; processes = ProcessBuilder.startPipeline(List.of(\r\n                    new ProcessBuilder(&quot;osascript&quot;, &quot;-e&quot;, &quot;the clipboard as &#171;class HTML&#187;&quot;)\r\n                            .redirectOutput(ProcessBuilder.Redirect.PIPE).redirectError(ProcessBuilder.Redirect.INHERIT),\r\n                    new ProcessBuilder(&quot;perl&quot;, &quot;-ne&quot;, &quot;print chr foreach unpack(\\&quot;C*\\&quot;,pack(\\&quot;H*\\&quot;,substr($_,11,-3)))&quot;)\r\n            ));\r\n            String res = new String(processes.get(processes.size() - 1).getInputStream().readAllBytes());\r\n            return res;\r\n        } catch (Exception e) {\r\n            throw  new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"Java process outputs nothing","body":"<p>After some tweaking and testing, I finally made it work by using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClipboardService {\n\n    public String getClipboardContents() {\n        try {\n            List&lt;String&gt; result;\n            List&lt;Process&gt; processes = ProcessBuilder.startPipeline(List.of(\n                    new ProcessBuilder(&quot;osascript&quot;, &quot;-e&quot;, &quot;the clipboard as «class HTML»&quot;)\n                            .redirectOutput(ProcessBuilder.Redirect.PIPE).redirectError(ProcessBuilder.Redirect.INHERIT),\n                    new ProcessBuilder(&quot;perl&quot;, &quot;-ne&quot;, &quot;print chr foreach unpack(\\&quot;C*\\&quot;,pack(\\&quot;H*\\&quot;,substr($_,11,-3)))&quot;)\n            ));\n            String res = new String(processes.get(processes.size() - 1).getInputStream().readAllBytes());\n            return res;\n        } catch (Exception e) {\n            throw  new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73955674,"answer_count":1,"score":0,"last_activity_date":1664940629,"creation_date":1664938121,"question_id":73955507,"body_markdown":"I&#39;m trying to start a process in Java, which runs the following command (taken from [this StackOverflow answer][1]):\r\n\r\n```sh\r\nosascript -e &#39;the clipboard as &#171;class HTML&#187;&#39; |   perl -ne &#39;print chr foreach unpack(&quot;C*&quot;,pack(&quot;H*&quot;,substr($_,11,-3)))&#39;\r\n```\r\n\r\nHere is my code:\r\n\r\n```java\r\npublic class ClipboardService {\r\n\r\n    public String getClipboardContents() {\r\n        try {\r\n            List&lt;String&gt; result;\r\n            List&lt;Process&gt; processes = ProcessBuilder.startPipeline(List.of(\r\n                    new ProcessBuilder(&quot;osascript&quot;, &quot;-e&quot;, &quot;&#39;the clipboard as &#171;class HTML&#187;&#39;&quot;)\r\n                            .inheritIO().redirectOutput(ProcessBuilder.Redirect.PIPE),\r\n                    new ProcessBuilder(&quot;perl&quot;, &quot;-ne&quot;, &quot;&#39;print chr foreach unpack(\\&quot;C*\\&quot;,pack(\\&quot;H*\\&quot;,substr($_,11,-3)))&#39;&quot;)\r\n                            .redirectError(ProcessBuilder.Redirect.INHERIT)\r\n            ));\r\n            String res = new String(processes.get(processes.size() - 1).getInputStream().readAllBytes());\r\n            return res;\r\n        } catch (Exception e) {\r\n            throw  new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI noticed that this method returned nothing, why? How to make it work?\r\n\r\n  [1]: https://stackoverflow.com/a/24132171/1031769","title":"Java process outputs nothing","body":"<p>I'm trying to start a process in Java, which runs the following command (taken from <a href=\"https://stackoverflow.com/a/24132171/1031769\">this StackOverflow answer</a>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>osascript -e 'the clipboard as «class HTML»' |   perl -ne 'print chr foreach unpack(&quot;C*&quot;,pack(&quot;H*&quot;,substr($_,11,-3)))'\n</code></pre>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClipboardService {\n\n    public String getClipboardContents() {\n        try {\n            List&lt;String&gt; result;\n            List&lt;Process&gt; processes = ProcessBuilder.startPipeline(List.of(\n                    new ProcessBuilder(&quot;osascript&quot;, &quot;-e&quot;, &quot;'the clipboard as «class HTML»'&quot;)\n                            .inheritIO().redirectOutput(ProcessBuilder.Redirect.PIPE),\n                    new ProcessBuilder(&quot;perl&quot;, &quot;-ne&quot;, &quot;'print chr foreach unpack(\\&quot;C*\\&quot;,pack(\\&quot;H*\\&quot;,substr($_,11,-3)))'&quot;)\n                            .redirectError(ProcessBuilder.Redirect.INHERIT)\n            ));\n            String res = new String(processes.get(processes.size() - 1).getInputStream().readAllBytes());\n            return res;\n        } catch (Exception e) {\n            throw  new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>I noticed that this method returned nothing, why? How to make it work?</p>\n"},{"tags":["java","redis","lettuce"],"comments":[{"owner":{"account_id":14853924,"reputation":131,"user_id":10727010,"display_name":"singgel"},"score":0,"creation_date":1595906615,"post_id":62992129,"comment_id":111628967,"body_markdown":"redis cluster version 4.0.10, redis server has no failover operation during this period","body":"redis cluster version 4.0.10, redis server has no failover operation during this period"},{"owner":{"account_id":14853924,"reputation":131,"user_id":10727010,"display_name":"singgel"},"score":0,"creation_date":1595907469,"post_id":62992129,"comment_id":111629131,"body_markdown":"The slaves corresponding to the write requests sent by these docker nodes that are in error are not the same","body":"The slaves corresponding to the write requests sent by these docker nodes that are in error are not the same"},{"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"score":0,"creation_date":1596457473,"post_id":62992129,"comment_id":111808194,"body_markdown":"Interesting, this issue seems related to Redis Cluster (mis-)configuration. I wasn&#39;t able to reproduce `READONLY` responses as Redis Cluster typically sends a `MOVED` redirection for write commands on a replica.","body":"Interesting, this issue seems related to Redis Cluster (mis-)configuration. I wasn&#39;t able to reproduce <code>READONLY</code> responses as Redis Cluster typically sends a <code>MOVED</code> redirection for write commands on a replica."},{"owner":{"account_id":14853924,"reputation":131,"user_id":10727010,"display_name":"singgel"},"score":0,"creation_date":1597026606,"post_id":62992129,"comment_id":111990664,"body_markdown":"@mp911de Yes, as you said, it is caused by cluster problems, for example: https://github.com/redis/redis/issues/2969, but can lettuce do a check when getting topology information on the client side? , For example: redis-cli --cluster check 127.0.0.1:6379","body":"@mp911de Yes, as you said, it is caused by cluster problems, for example: <a href=\"https://github.com/redis/redis/issues/2969\" rel=\"nofollow noreferrer\">github.com/redis/redis/issues/2969</a>, but can lettuce do a check when getting topology information on the client side? , For example: redis-cli --cluster check 127.0.0.1:6379"}],"answers":[{"tags":[],"owner":{"account_id":14853924,"reputation":131,"user_id":10727010,"display_name":"singgel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596422119,"creation_date":1596422119,"answer_id":63223002,"question_id":62992129,"body_markdown":"1. In the face of distributed middleware, the client side will put some partitions, sharding and other relationships on the client side for management.\r\n\r\n  And lettuce is the slot mapping management of redis cluster:\r\n\r\n  The method adopted is to use an array of slotCache, and cache the node corresponding to each slot locally in the form of an array.\r\n\r\n  When there is a key that needs to read and write to the server, the slot will be calculated through the CRC16 in the client, and then the node will be obtained in the cache.\r\n\r\n2. When the redis cluster server performs cluster management, it records the mapping relationship between slot and node in the local node.conf of each node.\r\n\r\n  When ping pong data is exchanged through the gossip protocol, these metadata information are broadcast to form the final consistent metadata information.\r\n\r\n  However, if there is an error in the slot mapping relationship on the server side, the client side will use these wrong data.\r\n\r\n  This time the problem appears here. The server part node maps the slot to the slave, so that the slot cached by the client is mapped to the slave node, and the read and write requests are sent to the slave node, resulting in an error.","title":"(lettuce) READONLY You can&#39;t write against a read only slave","body":"<ol>\n<li>In the face of distributed middleware, the client side will put some partitions, sharding and other relationships on the client side for management.</li>\n</ol>\n<p>And lettuce is the slot mapping management of redis cluster:</p>\n<p>The method adopted is to use an array of slotCache, and cache the node corresponding to each slot locally in the form of an array.</p>\n<p>When there is a key that needs to read and write to the server, the slot will be calculated through the CRC16 in the client, and then the node will be obtained in the cache.</p>\n<ol start=\"2\">\n<li>When the redis cluster server performs cluster management, it records the mapping relationship between slot and node in the local node.conf of each node.</li>\n</ol>\n<p>When ping pong data is exchanged through the gossip protocol, these metadata information are broadcast to form the final consistent metadata information.</p>\n<p>However, if there is an error in the slot mapping relationship on the server side, the client side will use these wrong data.</p>\n<p>This time the problem appears here. The server part node maps the slot to the slave, so that the slot cached by the client is mapped to the slave node, and the read and write requests are sent to the slave node, resulting in an error.</p>\n"},{"tags":[],"owner":{"account_id":14853924,"reputation":131,"user_id":10727010,"display_name":"singgel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631252311,"creation_date":1631252311,"answer_id":69127711,"question_id":62992129,"body_markdown":"## lettuce source code investigation\r\n1 lettuce initialization *Partitions.java*\r\n```\r\n    /**\r\n        * Update the partition cache. Updates are necessary after the partition details have changed.\r\n        */\r\n    public void updateCache() {\r\n\r\n        synchronized (partitions) {\r\n\r\n            if (partitions.isEmpty()) {\r\n                this.slotCache = EMPTY;\r\n                this.nodeReadView = Collections.emptyList();\r\n                return;\r\n            }\r\n\r\n            RedisClusterNode[] slotCache = new RedisClusterNode[SlotHash.SLOT_COUNT];\r\n            List&lt;RedisClusterNode&gt; readView = new ArrayList&lt;&gt;(partitions.size());\r\n\r\n            for (RedisClusterNode partition: partitions) {\r\n\r\n                readView.add(partition);\r\n                for (Integer integer: partition.getSlots()) {\r\n                    slotCache[integer.intValue()] = partition;\r\n                }\r\n            }\r\n\r\n            this.slotCache = slotCache;\r\n            this.nodeReadView = Collections.unmodifiableCollection(readView);\r\n        }\r\n    }\r\n```\r\n2 lettuce send command *PooledClusterConnectionProvider.java*\r\n```\r\n    private CompletableFuture&lt;StatefulRedisConnection&lt;K, V&gt;&gt; getWriteConnection(int slot) {\r\n\r\n        CompletableFuture&lt;StatefulRedisConnection&lt;K, V&gt;&gt; writer;// avoid races when reconfiguring partitions.\r\n        synchronized (stateLock) {\r\n            writer = writers[slot];\r\n        }\r\n\r\n        if (writer == null) {\r\n            RedisClusterNode partition = partitions.getPartitionBySlot(slot);\r\n            if (partition == null) {\r\n                clusterEventListener.onUncoveredSlot(slot);\r\n                return Futures.failed(new PartitionSelectorException(&quot;Cannot determine a partition for slot &quot;+ slot + &quot;.&quot;,\r\n                        partitions.clone()));\r\n            }\r\n\r\n            // Use always host and port for slot-oriented operations. We don&#39;t want to get reconnected on a different\r\n            // host because the nodeId can be handled by a different host.\r\n            RedisURI uri = partition.getUri();\r\n            ConnectionKey key = new ConnectionKey(Intent.WRITE, uri.getHost(), uri.getPort());\r\n\r\n            ConnectionFuture&lt;StatefulRedisConnection&lt;K, V&gt;&gt; future = getConnectionAsync(key);\r\n\r\n            return future.thenApply(connection -&gt; {\r\n\r\n                synchronized (stateLock) {\r\n                    if (writers[slot] == ​​null) {\r\n                        writers[slot] = CompletableFuture.completedFuture(connection);\r\n                    }\r\n                }\r\n\r\n                return connection;\r\n            }).toCompletableFuture();\r\n        }\r\n\r\n        return writer;\r\n    }\r\n```\r\n&gt; The sending principle of lettuce:\r\n&gt;1. Load the topology when the client starts, and store the mapping relationship between slot and node locally in an array structure **slotCache**\r\n&gt;2. When sending, after calculating the CRC16 of the key, go to the array **slotCache** through slot to get the corresponding node, and continue to get the connection of this node\r\n&gt;3. **Note that basically in all middleware of this cluster mode, the logic of the client is to obtain the network topology of the server, and then calculate the mapping logic on the client**,\r\nCompare the performance analysis of Kafka across computer rooms:\r\n## redis cluster information troubleshooting\r\n./bin/redis-cli -h 10.10.28.2 -p 25661 cluster info\r\n```\r\ncluster_state:ok\r\ncluster_slots_assigned:16384\r\ncluster_slots_ok:16384\r\ncluster_slots_pfail:0\r\ncluster_slots_fail:0\r\ncluster_known_nodes:6\r\ncluster_size: 3\r\ncluster_current_epoch:8\r\ncluster_my_epoch:6\r\ncluster_stats_messages_ping_sent:615483\r\ncluster_stats_messages_pong_sent:610194\r\ncluster_stats_messages_meet_sent:3\r\ncluster_stats_messages_fail_sent:8\r\ncluster_stats_messages_auth-req_sent:5\r\ncluster_stats_messages_auth-ack_sent:2\r\ncluster_stats_messages_update_sent:4\r\ncluster_stats_messages_sent:1225699\r\ncluster_stats_messages_ping_received:610188\r\ncluster_stats_messages_pong_received:603593\r\ncluster_stats_messages_meet_received:2\r\ncluster_stats_messages_fail_received:4\r\ncluster_stats_messages_auth-req_received:2\r\ncluster_stats_messages_auth-ack_received:2\r\ncluster_stats_messages_received:1213791\r\n```\r\n./bin/redis-cli -h 10.10.28.2 -p 25661 cluster nodes\r\n```\r\n5e9d0c185a2ba2fc9564495730c874bea76c15fa 10.10.28.3:25662@35662 slave 2281f330d771ee682221bc6c239afd68e6f20571 0 1595921769000 15 connected\r\n79cb673db12199c32737b959cd82ec9963106558 10.10.25.2:25651@35651 master - 0 1595921770000 18 connected 4096-6143\r\n2281f330d771ee682221bc6c239afd68e6f20571 10.10.28.2:25661@35661 myself,master - 0 1595921759000 15 connected 10240-12287\r\n6a9ea568d6b49360afbb650c712bd7920403ba19 10.10.28.3:25686@35686 master - 0 1595921769000 14 connected 12288-14335\r\n5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656@35656 master - 0 1595921771000 13 connected 14336-16383\r\nf5148dba1127bd9bada8ecc39341a0b72ef25d8e 10.10.25.3:25652@35652 slave 79cb673db12199c32737b959cd82ec9963106558 0 1595921769000 18 connected\r\nf6788b4829e601642ed4139548153830c430b932 10.10.26.3:25666@35666 master - 0 1595921769870 16 connected 8192-10239\r\nf54cfebc12c69725f471d16133e7ca3a8567dc18 10.10.28.15:25687@35687 slave 6a9ea568d6b49360afbb650c712bd7920403ba19 0 1595921763000 14 connected\r\nf09ad21effff245cae23c024a8a886f883634f5c 10.10.28.15:25667@35667 slave f6788b4829e601642ed4139548153830c430b932 0 1595921770870 16 connected\r\nff5f5a56a7866f32e84ec89482aabd9ca1f05e20 10.10.25.3:25681@35681 master - 0 1595921773876 0 connected 0-2047\r\n19c57214e4293b2e37d881534dcd55318fa96a70 10.10.50.16:25677@35677 slave 5f677e012808b09c67316f6ac5bdf0ec005cd598 0 1595921768000 17 connected\r\nd8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671@35671 master - 0 1595921773000 6 connected 2048-4095\r\n068e3bc73c27782c49782d30b66aa8b1140666ce 10.10.27.3:25682@35682 slave ff5f5a56a7866f32e84ec89482aabd9ca1f05e20 0 1595921771872 12 connected\r\ne8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672@35672 slave d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 0 1595921770000 6 connected\r\nf03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657@35657 slave 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 0 1595921762000 13 connected\r\n5f677e012808b09c67316f6ac5bdf0ec005cd598 10.10.50.7:25676@35676 master - 0 1595921772873 17 connected 6144-8191\r\n```\r\n./bin/redis-cli -h 10.10.28.3 -p 25662 cluster nodes\r\n```\r\nf5148dba1127bd9bada8ecc39341a0b72ef25d8e 10.10.25.3:25652@35652 slave 79cb673db12199c32737b959cd82ec9963106558 0 1595921741000 18 connected\r\nf6788b4829e601642ed4139548153830c430b932 10.10.26.3:25666@35666 master - 0 1595921744000 16 connected 8192-10239\r\nf03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657@35657 slave 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 0 1595921740000 13 connected\r\n5f677e012808b09c67316f6ac5bdf0ec005cd598 10.10.50.7:25676@35676 master - 0 1595921743127 17 connected 6144-8191\r\n79cb673db12199c32737b959cd82ec9963106558 10.10.25.2:25651@35651 master - 0 1595921743000 18 connected 4096-6143\r\n2281f330d771ee682221bc6c239afd68e6f20571 10.10.28.2:25661@35661 master - 0 1595921744129 15 connected 10240-12287\r\nf09ad21effff245cae23c024a8a886f883634f5c 10.10.28.15:25667@35667 slave f6788b4829e601642ed4139548153830c430b932 0 1595921740000 16 connected\r\nf54cfebc12c69725f471d16133e7ca3a8567dc18 10.10.28.15:25687@35687 slave 6a9ea568d6b49360afbb650c712bd7920403ba19 0 1595921745130 14 connected\r\n5e9d0c185a2ba2fc9564495730c874bea76c15fa 10.10.28.3:25662@35662 myself,slave 2281f330d771ee682221bc6c239afd68e6f20571 0 1595921733000 5 connected 0-1820\r\n068e3bc73c27782c49782d30b66aa8b1140666ce 10.10.27.3:25682@35682 slave ff5f5a56a7866f32e84ec89482aabd9ca1f05e20 0 1595921744000 12 connected\r\nd8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671@35671 master - 0 1595921739000 6 connected 2048-4095\r\n5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656@35656 master - 0 1595921742000 13 connected 14336-16383\r\nff5f5a56a7866f32e84ec89482aabd9ca1f05e20 10.10.25.3:25681@35681 master - 0 1595921746131 0 connected 1821-2047\r\n6a9ea568d6b49360afbb650c712bd7920403ba19 10.10.28.3:25686@35686 master - 0 1595921747133 14 connected 12288-14335\r\n19c57214e4293b2e37d881534dcd55318fa96a70 10.10.50.16:25677@35677 slave 5f677e012808b09c67316f6ac5bdf0ec005cd598 0 1595921742126 17 connected\r\ne8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672@35672 slave d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 0 1595921745000 6 connected\r\n```\r\n./bin/redis-cli -h 10.10.49.9 -p 25672 cluster nodes\r\n```\r\nd8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671@35671 master - 0 1595921829000 6 connected 2048-4095\r\n79cb673db12199c32737b959cd82ec9963106558 10.10.25.2:25651@35651 master - 0 1595921830000 18 connected 4096-6143\r\nff5f5a56a7866f32e84ec89482aabd9ca1f05e20 10.10.25.3:25681@35681 master - 0 1595921830719 0 connected 0-1820\r\nf54cfebc12c69725f471d16133e7ca3a8567dc18 10.10.28.15:25687@35687 slave 6a9ea568d6b49360afbb650c712bd7920403ba19 0 1595921827000 14 connected\r\n5f677e012808b09c67316f6ac5bdf0ec005cd598 10.10.50.7:25676@35676 master - 0 1595921827000 17 connected 6144-8191\r\n2281f330d771ee682221bc6c239afd68e6f20571 10.10.28.2:25661@35661 master - 0 1595921822000 15 connected 10240-12287\r\n5e9d0c185a2ba2fc9564495730c874bea76c15fa 10.10.28.3:25662@35662 slave 2281f330d771ee682221bc6c239afd68e6f20571 0 1595921828714 15 connected\r\n068e3bc73c27782c49782d30b66aa8b1140666ce 10.10.27.3:25682@35682 slave ff5f5a56a7866f32e84ec89482aabd9ca1f05e20 0 1595921832721 12 connected\r\n6a9ea568d6b49360afbb650c712bd7920403ba19 10.10.28.3:25686@35686 master - 0 1595921825000 14 connected 12288-14335\r\nf5148dba1127bd9bada8ecc39341a0b72ef25d8e 10.10.25.3:25652@35652 slave 79cb673db12199c32737b959cd82ec9963106558 0 1595921830000 18 connected\r\n19c57214e4293b2e37d881534dcd55318fa96a70 10.10.50.16:25677@35677 slave 5f677e012808b09c67316f6ac5bdf0ec005cd598 0 1595921829716 17 connected\r\ne8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672@35672 myself,slave d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 0 1595921832000 4 connected 1821-2047\r\nf09ad21effff245cae23c024a8a886f883634f5c 10.10.28.15:25667@35667 slave f6788b4829e601642ed4139548153830c430b932 0 1595921826711 16 connected\r\nf03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657@35657 slave 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 0 1595921829000 13 connected\r\nf6788b4829e601642ed4139548153830c430b932 10.10.26.3:25666@35666 master - 0 1595921831720 16 connected 8192-10239\r\n5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656@35656 master - 0 1595921827714 13 connected 14336-16383\r\n```\r\n./bin/redis-trib.rb check 10.10.30.9:25671\r\n```\r\n&gt;&gt;&gt; Performing Cluster Check (using node 10.10.30.9:25671)\r\nM: d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671\r\n   slots:2048-4095 (2048 slots) master\r\n   1 additional replica(s)\r\nS: e8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672\r\n   slots: (0 slots) slave\r\n   &#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n   &#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\nS: f03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657\r\n   slots: (0 slots) slave\r\n   replicates 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757\r\nM: 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656\r\n   slots:14336-16383 (2048 slots) master\r\n   1 additional replica(s)\r\n[ERR] Nodes don&#39;t agree about configuration!\r\n&gt;&gt;&gt; Check for open slots...\r\n&gt;&gt;&gt; Check slots coverage...\r\n[OK] All 16384 slots covered.\r\n```\r\n&gt;**Be suspicious of everything, be vigilant, diligence can make up for one’s weaknesses**\r\n&gt;1. At the beginning, I suspected that the cluster is healthy, but due to online phenomena, most of the nodes are normal, and a few do not have problems, restart the problem fix\r\n&gt;2. In the beginning, the information was checked through normal nodes, and no problems were found. Even if the topological information of several nodes was inconsistent through the logs at the beginning, it would be difficult to see the problem without the mapping relationship of the client.\r\n&gt;3. Comparison found that some slots are mapped to slave nodes\r\n&gt;4. After executing the check, it is found that there is a problem with the cluster, which is explained in the following open source related issues","title":"(lettuce) READONLY You can&#39;t write against a read only slave","body":"<h2>lettuce source code investigation</h2>\n<p>1 lettuce initialization <em>Partitions.java</em></p>\n<pre><code>    /**\n        * Update the partition cache. Updates are necessary after the partition details have changed.\n        */\n    public void updateCache() {\n\n        synchronized (partitions) {\n\n            if (partitions.isEmpty()) {\n                this.slotCache = EMPTY;\n                this.nodeReadView = Collections.emptyList();\n                return;\n            }\n\n            RedisClusterNode[] slotCache = new RedisClusterNode[SlotHash.SLOT_COUNT];\n            List&lt;RedisClusterNode&gt; readView = new ArrayList&lt;&gt;(partitions.size());\n\n            for (RedisClusterNode partition: partitions) {\n\n                readView.add(partition);\n                for (Integer integer: partition.getSlots()) {\n                    slotCache[integer.intValue()] = partition;\n                }\n            }\n\n            this.slotCache = slotCache;\n            this.nodeReadView = Collections.unmodifiableCollection(readView);\n        }\n    }\n</code></pre>\n<p>2 lettuce send command <em>PooledClusterConnectionProvider.java</em></p>\n<pre><code>    private CompletableFuture&lt;StatefulRedisConnection&lt;K, V&gt;&gt; getWriteConnection(int slot) {\n\n        CompletableFuture&lt;StatefulRedisConnection&lt;K, V&gt;&gt; writer;// avoid races when reconfiguring partitions.\n        synchronized (stateLock) {\n            writer = writers[slot];\n        }\n\n        if (writer == null) {\n            RedisClusterNode partition = partitions.getPartitionBySlot(slot);\n            if (partition == null) {\n                clusterEventListener.onUncoveredSlot(slot);\n                return Futures.failed(new PartitionSelectorException(&quot;Cannot determine a partition for slot &quot;+ slot + &quot;.&quot;,\n                        partitions.clone()));\n            }\n\n            // Use always host and port for slot-oriented operations. We don't want to get reconnected on a different\n            // host because the nodeId can be handled by a different host.\n            RedisURI uri = partition.getUri();\n            ConnectionKey key = new ConnectionKey(Intent.WRITE, uri.getHost(), uri.getPort());\n\n            ConnectionFuture&lt;StatefulRedisConnection&lt;K, V&gt;&gt; future = getConnectionAsync(key);\n\n            return future.thenApply(connection -&gt; {\n\n                synchronized (stateLock) {\n                    if (writers[slot] == ​​null) {\n                        writers[slot] = CompletableFuture.completedFuture(connection);\n                    }\n                }\n\n                return connection;\n            }).toCompletableFuture();\n        }\n\n        return writer;\n    }\n</code></pre>\n<blockquote>\n<p>The sending principle of lettuce:</p>\n<ol>\n<li>Load the topology when the client starts, and store the mapping relationship between slot and node locally in an array structure <strong>slotCache</strong></li>\n<li>When sending, after calculating the CRC16 of the key, go to the array <strong>slotCache</strong> through slot to get the corresponding node, and continue to get the connection of this node</li>\n<li><strong>Note that basically in all middleware of this cluster mode, the logic of the client is to obtain the network topology of the server, and then calculate the mapping logic on the client</strong>,\nCompare the performance analysis of Kafka across computer rooms:</li>\n</ol>\n</blockquote>\n<h2>redis cluster information troubleshooting</h2>\n<p>./bin/redis-cli -h 10.10.28.2 -p 25661 cluster info</p>\n<pre><code>cluster_state:ok\ncluster_slots_assigned:16384\ncluster_slots_ok:16384\ncluster_slots_pfail:0\ncluster_slots_fail:0\ncluster_known_nodes:6\ncluster_size: 3\ncluster_current_epoch:8\ncluster_my_epoch:6\ncluster_stats_messages_ping_sent:615483\ncluster_stats_messages_pong_sent:610194\ncluster_stats_messages_meet_sent:3\ncluster_stats_messages_fail_sent:8\ncluster_stats_messages_auth-req_sent:5\ncluster_stats_messages_auth-ack_sent:2\ncluster_stats_messages_update_sent:4\ncluster_stats_messages_sent:1225699\ncluster_stats_messages_ping_received:610188\ncluster_stats_messages_pong_received:603593\ncluster_stats_messages_meet_received:2\ncluster_stats_messages_fail_received:4\ncluster_stats_messages_auth-req_received:2\ncluster_stats_messages_auth-ack_received:2\ncluster_stats_messages_received:1213791\n</code></pre>\n<p>./bin/redis-cli -h 10.10.28.2 -p 25661 cluster nodes</p>\n<pre><code>5e9d0c185a2ba2fc9564495730c874bea76c15fa 10.10.28.3:25662@35662 slave 2281f330d771ee682221bc6c239afd68e6f20571 0 1595921769000 15 connected\n79cb673db12199c32737b959cd82ec9963106558 10.10.25.2:25651@35651 master - 0 1595921770000 18 connected 4096-6143\n2281f330d771ee682221bc6c239afd68e6f20571 10.10.28.2:25661@35661 myself,master - 0 1595921759000 15 connected 10240-12287\n6a9ea568d6b49360afbb650c712bd7920403ba19 10.10.28.3:25686@35686 master - 0 1595921769000 14 connected 12288-14335\n5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656@35656 master - 0 1595921771000 13 connected 14336-16383\nf5148dba1127bd9bada8ecc39341a0b72ef25d8e 10.10.25.3:25652@35652 slave 79cb673db12199c32737b959cd82ec9963106558 0 1595921769000 18 connected\nf6788b4829e601642ed4139548153830c430b932 10.10.26.3:25666@35666 master - 0 1595921769870 16 connected 8192-10239\nf54cfebc12c69725f471d16133e7ca3a8567dc18 10.10.28.15:25687@35687 slave 6a9ea568d6b49360afbb650c712bd7920403ba19 0 1595921763000 14 connected\nf09ad21effff245cae23c024a8a886f883634f5c 10.10.28.15:25667@35667 slave f6788b4829e601642ed4139548153830c430b932 0 1595921770870 16 connected\nff5f5a56a7866f32e84ec89482aabd9ca1f05e20 10.10.25.3:25681@35681 master - 0 1595921773876 0 connected 0-2047\n19c57214e4293b2e37d881534dcd55318fa96a70 10.10.50.16:25677@35677 slave 5f677e012808b09c67316f6ac5bdf0ec005cd598 0 1595921768000 17 connected\nd8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671@35671 master - 0 1595921773000 6 connected 2048-4095\n068e3bc73c27782c49782d30b66aa8b1140666ce 10.10.27.3:25682@35682 slave ff5f5a56a7866f32e84ec89482aabd9ca1f05e20 0 1595921771872 12 connected\ne8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672@35672 slave d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 0 1595921770000 6 connected\nf03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657@35657 slave 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 0 1595921762000 13 connected\n5f677e012808b09c67316f6ac5bdf0ec005cd598 10.10.50.7:25676@35676 master - 0 1595921772873 17 connected 6144-8191\n</code></pre>\n<p>./bin/redis-cli -h 10.10.28.3 -p 25662 cluster nodes</p>\n<pre><code>f5148dba1127bd9bada8ecc39341a0b72ef25d8e 10.10.25.3:25652@35652 slave 79cb673db12199c32737b959cd82ec9963106558 0 1595921741000 18 connected\nf6788b4829e601642ed4139548153830c430b932 10.10.26.3:25666@35666 master - 0 1595921744000 16 connected 8192-10239\nf03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657@35657 slave 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 0 1595921740000 13 connected\n5f677e012808b09c67316f6ac5bdf0ec005cd598 10.10.50.7:25676@35676 master - 0 1595921743127 17 connected 6144-8191\n79cb673db12199c32737b959cd82ec9963106558 10.10.25.2:25651@35651 master - 0 1595921743000 18 connected 4096-6143\n2281f330d771ee682221bc6c239afd68e6f20571 10.10.28.2:25661@35661 master - 0 1595921744129 15 connected 10240-12287\nf09ad21effff245cae23c024a8a886f883634f5c 10.10.28.15:25667@35667 slave f6788b4829e601642ed4139548153830c430b932 0 1595921740000 16 connected\nf54cfebc12c69725f471d16133e7ca3a8567dc18 10.10.28.15:25687@35687 slave 6a9ea568d6b49360afbb650c712bd7920403ba19 0 1595921745130 14 connected\n5e9d0c185a2ba2fc9564495730c874bea76c15fa 10.10.28.3:25662@35662 myself,slave 2281f330d771ee682221bc6c239afd68e6f20571 0 1595921733000 5 connected 0-1820\n068e3bc73c27782c49782d30b66aa8b1140666ce 10.10.27.3:25682@35682 slave ff5f5a56a7866f32e84ec89482aabd9ca1f05e20 0 1595921744000 12 connected\nd8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671@35671 master - 0 1595921739000 6 connected 2048-4095\n5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656@35656 master - 0 1595921742000 13 connected 14336-16383\nff5f5a56a7866f32e84ec89482aabd9ca1f05e20 10.10.25.3:25681@35681 master - 0 1595921746131 0 connected 1821-2047\n6a9ea568d6b49360afbb650c712bd7920403ba19 10.10.28.3:25686@35686 master - 0 1595921747133 14 connected 12288-14335\n19c57214e4293b2e37d881534dcd55318fa96a70 10.10.50.16:25677@35677 slave 5f677e012808b09c67316f6ac5bdf0ec005cd598 0 1595921742126 17 connected\ne8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672@35672 slave d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 0 1595921745000 6 connected\n</code></pre>\n<p>./bin/redis-cli -h 10.10.49.9 -p 25672 cluster nodes</p>\n<pre><code>d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671@35671 master - 0 1595921829000 6 connected 2048-4095\n79cb673db12199c32737b959cd82ec9963106558 10.10.25.2:25651@35651 master - 0 1595921830000 18 connected 4096-6143\nff5f5a56a7866f32e84ec89482aabd9ca1f05e20 10.10.25.3:25681@35681 master - 0 1595921830719 0 connected 0-1820\nf54cfebc12c69725f471d16133e7ca3a8567dc18 10.10.28.15:25687@35687 slave 6a9ea568d6b49360afbb650c712bd7920403ba19 0 1595921827000 14 connected\n5f677e012808b09c67316f6ac5bdf0ec005cd598 10.10.50.7:25676@35676 master - 0 1595921827000 17 connected 6144-8191\n2281f330d771ee682221bc6c239afd68e6f20571 10.10.28.2:25661@35661 master - 0 1595921822000 15 connected 10240-12287\n5e9d0c185a2ba2fc9564495730c874bea76c15fa 10.10.28.3:25662@35662 slave 2281f330d771ee682221bc6c239afd68e6f20571 0 1595921828714 15 connected\n068e3bc73c27782c49782d30b66aa8b1140666ce 10.10.27.3:25682@35682 slave ff5f5a56a7866f32e84ec89482aabd9ca1f05e20 0 1595921832721 12 connected\n6a9ea568d6b49360afbb650c712bd7920403ba19 10.10.28.3:25686@35686 master - 0 1595921825000 14 connected 12288-14335\nf5148dba1127bd9bada8ecc39341a0b72ef25d8e 10.10.25.3:25652@35652 slave 79cb673db12199c32737b959cd82ec9963106558 0 1595921830000 18 connected\n19c57214e4293b2e37d881534dcd55318fa96a70 10.10.50.16:25677@35677 slave 5f677e012808b09c67316f6ac5bdf0ec005cd598 0 1595921829716 17 connected\ne8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672@35672 myself,slave d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 0 1595921832000 4 connected 1821-2047\nf09ad21effff245cae23c024a8a886f883634f5c 10.10.28.15:25667@35667 slave f6788b4829e601642ed4139548153830c430b932 0 1595921826711 16 connected\nf03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657@35657 slave 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 0 1595921829000 13 connected\nf6788b4829e601642ed4139548153830c430b932 10.10.26.3:25666@35666 master - 0 1595921831720 16 connected 8192-10239\n5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656@35656 master - 0 1595921827714 13 connected 14336-16383\n</code></pre>\n<p>./bin/redis-trib.rb check 10.10.30.9:25671</p>\n<pre><code>&gt;&gt;&gt; Performing Cluster Check (using node 10.10.30.9:25671)\nM: d8b4f99e0f9961f2e866b92e7351760faa3e0f2b 10.10.30.9:25671\n   slots:2048-4095 (2048 slots) master\n   1 additional replica(s)\nS: e8b0311aeec4e3d285028abc377f0c277f9a5c74 10.10.49.9:25672\n   slots: (0 slots) slave\n   ········\n   ········\nS: f03bc2ca91b3012f4612ecbc8c611c9f4a0e1305 10.10.27.3:25657\n   slots: (0 slots) slave\n   replicates 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757\nM: 5a12dd423370e6f4085e593f9cd0b3a4ddfa9757 10.10.27.2:25656\n   slots:14336-16383 (2048 slots) master\n   1 additional replica(s)\n[ERR] Nodes don't agree about configuration!\n&gt;&gt;&gt; Check for open slots...\n&gt;&gt;&gt; Check slots coverage...\n[OK] All 16384 slots covered.\n</code></pre>\n<blockquote>\n<p><strong>Be suspicious of everything, be vigilant, diligence can make up for one’s weaknesses</strong></p>\n<ol>\n<li>At the beginning, I suspected that the cluster is healthy, but due to online phenomena, most of the nodes are normal, and a few do not have problems, restart the problem fix</li>\n<li>In the beginning, the information was checked through normal nodes, and no problems were found. Even if the topological information of several nodes was inconsistent through the logs at the beginning, it would be difficult to see the problem without the mapping relationship of the client.</li>\n<li>Comparison found that some slots are mapped to slave nodes</li>\n<li>After executing the check, it is found that there is a problem with the cluster, which is explained in the following open source related issues</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10379490,"reputation":11,"user_id":7654754,"display_name":"Nguyễn Thanh Hải"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664940027,"creation_date":1664940027,"answer_id":73955620,"question_id":62992129,"body_markdown":"I saw the same issue as you and tried to investigate that. \r\n\r\nI figured out that caused by lettuce.\r\n\r\nWhen we run a Redis command, lettuce will analyze and recognize which is the Redis-Endpoint to send the order.\r\n\r\nIf **READ-COMMAND** then it will send to **slave-node** (By setting ReadFrom.Any_Rep). Please note that the other ReadFrom options may change the behavior.\r\n\r\nIf **WRITE-COMMAND** then it will send to **master-node**\r\n\r\nTo determine what are READ-COMMAND. Lettuce used ReadOnlyCommands class to list all Read commands.\r\n\r\nIn my case, I used the EVAL command to write a key value to Redis. **But Lettuce determines it is READ-COMMAND then send to slave-node =&gt; The exception happens.**\r\n\r\nSo please check ReadOnlyCommands class and make sure your write-command does not include that. This is a mistake from the Lettuce team and they already fix this issue from newer versions.\r\n\r\n\r\nIn your version, ReadOnlyCommands for cluster settings is\r\n\r\n    class ReadOnlyCommands {\r\n\r\n    private static final Set&lt;CommandType&gt; READ_ONLY_COMMANDS = EnumSet.noneOf(CommandType.class);\r\n\r\n    static {\r\n        for (CommandName commandNames : CommandName.values()) {\r\n            READ_ONLY_COMMANDS.add(CommandType.valueOf(commandNames.name()));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param protocolKeyword must not be {@literal null}.\r\n     * @return {@literal true} if {@link ProtocolKeyword} is a read-only command.\r\n     */\r\n    public static boolean isReadOnlyCommand(ProtocolKeyword protocolKeyword) {\r\n        return READ_ONLY_COMMANDS.contains(protocolKeyword);\r\n    }\r\n\r\n    /**\r\n     * @return an unmodifiable {@link Set} of {@link CommandType read-only} commands.\r\n     */\r\n    public static Set&lt;CommandType&gt; getReadOnlyCommands() {\r\n        return Collections.unmodifiableSet(READ_ONLY_COMMANDS);\r\n    }\r\n\r\n    enum CommandName {\r\n        ASKING, BITCOUNT, BITPOS, CLIENT, COMMAND, DUMP, ECHO, EVAL, EVALSHA, EXISTS, //\r\n        GEODIST, GEOPOS, GEORADIUS, GEORADIUSBYMEMBER, GEOHASH, GET, GETBIT, //\r\n        GETRANGE, HEXISTS, HGET, HGETALL, HKEYS, HLEN, HMGET, HSCAN, HSTRLEN, //\r\n        HVALS, INFO, KEYS, LINDEX, LLEN, LRANGE, MGET, PFCOUNT, PTTL, //\r\n        RANDOMKEY, READWRITE, SCAN, SCARD, SCRIPT, //\r\n        SDIFF, SINTER, SISMEMBER, SMEMBERS, SRANDMEMBER, SSCAN, STRLEN, //\r\n        SUNION, TIME, TTL, TYPE, ZCARD, ZCOUNT, ZLEXCOUNT, ZRANGE, //\r\n        ZRANGEBYLEX, ZRANGEBYSCORE, ZRANK, ZREVRANGE, ZREVRANGEBYLEX, ZREVRANGEBYSCORE, ZREVRANK, ZSCAN, ZSCORE, //\r\n\r\n        // Pub/Sub commands are no key-space commands so they are safe to execute on slave nodes\r\n        PUBLISH, PUBSUB, PSUBSCRIBE, PUNSUBSCRIBE, SUBSCRIBE, UNSUBSCRIBE\r\n \r\n\r\n\r\n\r\nSo you can check easily.\r\n\r\n**Solution -&gt; Upgrade version Letture is the best way to do. Or you can try to override this setting**","title":"(lettuce) READONLY You can&#39;t write against a read only slave","body":"<p>I saw the same issue as you and tried to investigate that.</p>\n<p>I figured out that caused by lettuce.</p>\n<p>When we run a Redis command, lettuce will analyze and recognize which is the Redis-Endpoint to send the order.</p>\n<p>If <strong>READ-COMMAND</strong> then it will send to <strong>slave-node</strong> (By setting ReadFrom.Any_Rep). Please note that the other ReadFrom options may change the behavior.</p>\n<p>If <strong>WRITE-COMMAND</strong> then it will send to <strong>master-node</strong></p>\n<p>To determine what are READ-COMMAND. Lettuce used ReadOnlyCommands class to list all Read commands.</p>\n<p>In my case, I used the EVAL command to write a key value to Redis. <strong>But Lettuce determines it is READ-COMMAND then send to slave-node =&gt; The exception happens.</strong></p>\n<p>So please check ReadOnlyCommands class and make sure your write-command does not include that. This is a mistake from the Lettuce team and they already fix this issue from newer versions.</p>\n<p>In your version, ReadOnlyCommands for cluster settings is</p>\n<pre><code>class ReadOnlyCommands {\n\nprivate static final Set&lt;CommandType&gt; READ_ONLY_COMMANDS = EnumSet.noneOf(CommandType.class);\n\nstatic {\n    for (CommandName commandNames : CommandName.values()) {\n        READ_ONLY_COMMANDS.add(CommandType.valueOf(commandNames.name()));\n    }\n}\n\n/**\n * @param protocolKeyword must not be {@literal null}.\n * @return {@literal true} if {@link ProtocolKeyword} is a read-only command.\n */\npublic static boolean isReadOnlyCommand(ProtocolKeyword protocolKeyword) {\n    return READ_ONLY_COMMANDS.contains(protocolKeyword);\n}\n\n/**\n * @return an unmodifiable {@link Set} of {@link CommandType read-only} commands.\n */\npublic static Set&lt;CommandType&gt; getReadOnlyCommands() {\n    return Collections.unmodifiableSet(READ_ONLY_COMMANDS);\n}\n\nenum CommandName {\n    ASKING, BITCOUNT, BITPOS, CLIENT, COMMAND, DUMP, ECHO, EVAL, EVALSHA, EXISTS, //\n    GEODIST, GEOPOS, GEORADIUS, GEORADIUSBYMEMBER, GEOHASH, GET, GETBIT, //\n    GETRANGE, HEXISTS, HGET, HGETALL, HKEYS, HLEN, HMGET, HSCAN, HSTRLEN, //\n    HVALS, INFO, KEYS, LINDEX, LLEN, LRANGE, MGET, PFCOUNT, PTTL, //\n    RANDOMKEY, READWRITE, SCAN, SCARD, SCRIPT, //\n    SDIFF, SINTER, SISMEMBER, SMEMBERS, SRANDMEMBER, SSCAN, STRLEN, //\n    SUNION, TIME, TTL, TYPE, ZCARD, ZCOUNT, ZLEXCOUNT, ZRANGE, //\n    ZRANGEBYLEX, ZRANGEBYSCORE, ZRANK, ZREVRANGE, ZREVRANGEBYLEX, ZREVRANGEBYSCORE, ZREVRANK, ZSCAN, ZSCORE, //\n\n    // Pub/Sub commands are no key-space commands so they are safe to execute on slave nodes\n    PUBLISH, PUBSUB, PSUBSCRIBE, PUNSUBSCRIBE, SUBSCRIBE, UNSUBSCRIBE\n</code></pre>\n<p>So you can check easily.</p>\n<p><strong>Solution -&gt; Upgrade version Letture is the best way to do. Or you can try to override this setting</strong></p>\n"}],"owner":{"account_id":14853924,"reputation":131,"user_id":10727010,"display_name":"singgel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11347,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1664940027,"creation_date":1595236205,"question_id":62992129,"body_markdown":"I need some help, Our service uses the lettuce 5.1.6 version, and a total of 22 docker nodes are deployed.  \r\nWhenever the service is deployed, several docker nodes will appear ERROR: READONLY You can&#39;t write against a read only slave.   \r\nRestart the problematic docker node ERROR no longer appears\r\n\r\n* redis server configuration:\r\n&gt; 8 master 8 slave  \r\nstop-writes-on-bgsave-error no  \r\nslave-serve-stale-data yes  \r\nslave-read-only yes  \r\ncluster-enabled yes  \r\ncluster-config-file &quot;/data/server/redis-cluster/{port}/conf/node.conf&quot;  \r\n\r\n\r\n* lettuce configuration:\r\n``` $java\r\nClientResources res = DefaultClientResources.builder()\r\n        .commandLatencyPublisherOptions(\r\n                DefaultEventPublisherOptions.builder()\r\n                        .eventEmitInterval(Duration.ofSeconds(5))\r\n                        .build()\r\n        )\r\n        .build();\r\nredisClusterClient = RedisClusterClient.create(res, REDIS_CLUSTER_URI);\r\nredisClusterClient.setOptions(\r\n        ClusterClientOptions.builder()\r\n                .maxRedirects(99)\r\n                .socketOptions(SocketOptions.builder().keepAlive(true).build())\r\n                .topologyRefreshOptions(\r\n                        ClusterTopologyRefreshOptions.builder()\r\n                                .enableAllAdaptiveRefreshTriggers()\r\n                                .build())\r\n                .build());\r\nRedisAdvancedClusterCommands&lt;String, String&gt; command = redisClusterClient.connect().sync();\r\ncommand.setex(&quot;some key&quot;, 18000, &quot;some value&quot;);\r\n```\r\n\r\n* The Exception that appears:\r\n```\r\nio.lettuce.core.RedisCommandExecutionException: READONLY You can&#39;t write against a read only slave.\r\n\tat io.lettuce.core.ExceptionFactory.createExecutionException(ExceptionFactory.java:135)\r\n\tat io.lettuce.core.LettuceFutures.awaitOrCancel(LettuceFutures.java:122)\r\n\tat io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:123)\r\n\tat io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)\r\n\tat com.sun.proxy.$Proxy135.setex(Unknown Source)\r\n\tat com.xueqiu.infra.redis4.RedisClusterImpl.lambda$setex$164(RedisClusterImpl.java:1489)\r\n\tat com.xueqiu.infra.redis4.RedisClusterImpl$$Lambda$1422/1017847781.apply(Unknown Source)\r\n\tat com.xueqiu.infra.redis4.RedisClusterImpl.execute(RedisClusterImpl.java:526)\r\n\tat com.xueqiu.infra.redis4.RedisClusterImpl.executeTotal(RedisClusterImpl.java:491)\r\n\tat com.xueqiu.infra.redis4.RedisClusterImpl.setex(RedisClusterImpl.java:1489)\r\n```","title":"(lettuce) READONLY You can&#39;t write against a read only slave","body":"<p>I need some help, Our service uses the lettuce 5.1.6 version, and a total of 22 docker nodes are deployed.<br />\nWhenever the service is deployed, several docker nodes will appear ERROR: READONLY You can't write against a read only slave.<br />\nRestart the problematic docker node ERROR no longer appears</p>\n<ul>\n<li>redis server configuration:</li>\n</ul>\n<blockquote>\n<p>8 master 8 slave<br />\nstop-writes-on-bgsave-error no<br />\nslave-serve-stale-data yes<br />\nslave-read-only yes<br />\ncluster-enabled yes<br />\ncluster-config-file &quot;/data/server/redis-cluster/{port}/conf/node.conf&quot;</p>\n</blockquote>\n<ul>\n<li>lettuce configuration:</li>\n</ul>\n<pre><code>ClientResources res = DefaultClientResources.builder()\n        .commandLatencyPublisherOptions(\n                DefaultEventPublisherOptions.builder()\n                        .eventEmitInterval(Duration.ofSeconds(5))\n                        .build()\n        )\n        .build();\nredisClusterClient = RedisClusterClient.create(res, REDIS_CLUSTER_URI);\nredisClusterClient.setOptions(\n        ClusterClientOptions.builder()\n                .maxRedirects(99)\n                .socketOptions(SocketOptions.builder().keepAlive(true).build())\n                .topologyRefreshOptions(\n                        ClusterTopologyRefreshOptions.builder()\n                                .enableAllAdaptiveRefreshTriggers()\n                                .build())\n                .build());\nRedisAdvancedClusterCommands&lt;String, String&gt; command = redisClusterClient.connect().sync();\ncommand.setex(&quot;some key&quot;, 18000, &quot;some value&quot;);\n</code></pre>\n<ul>\n<li>The Exception that appears:</li>\n</ul>\n<pre><code>io.lettuce.core.RedisCommandExecutionException: READONLY You can't write against a read only slave.\n    at io.lettuce.core.ExceptionFactory.createExecutionException(ExceptionFactory.java:135)\n    at io.lettuce.core.LettuceFutures.awaitOrCancel(LettuceFutures.java:122)\n    at io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:123)\n    at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)\n    at com.sun.proxy.$Proxy135.setex(Unknown Source)\n    at com.xueqiu.infra.redis4.RedisClusterImpl.lambda$setex$164(RedisClusterImpl.java:1489)\n    at com.xueqiu.infra.redis4.RedisClusterImpl$$Lambda$1422/1017847781.apply(Unknown Source)\n    at com.xueqiu.infra.redis4.RedisClusterImpl.execute(RedisClusterImpl.java:526)\n    at com.xueqiu.infra.redis4.RedisClusterImpl.executeTotal(RedisClusterImpl.java:491)\n    at com.xueqiu.infra.redis4.RedisClusterImpl.setex(RedisClusterImpl.java:1489)\n</code></pre>\n"},{"tags":["python","java","tensorflow","machine-learning","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664939571,"creation_date":1664939571,"answer_id":73955584,"question_id":73951766,"body_markdown":"That is the old model import. Please use the new one. The old one is not and will not be supported. You can find that here:\r\n\r\nhttps://deeplearning4j.konduit.ai/samediff/explanation/model-import-framework\r\nBoth tensorflow and onnx work similarly. For tensorflow use:\r\n```\r\n  //create the framework importer\r\n   TensorflowFrameworkImporter tensorflowFrameworkImporter = new TensorflowFrameworkImporter();\r\n   File pathToPbFile = ...;\r\n   SameDiff graph = tensorflowFrameworkImporter.runImport(pathToPbFile.getAbsolutePath(),Collections.emptyMap());\r\n```\r\n\r\nFile an issue on the github repo: https://github.com/deeplearning4j/deeplearning4j/issues/new if something doesn&#39;t work for you.\r\n\r\nAlso note that if you use the tf keras api you can also import it using the keras hdf5 format (the old one).\r\n\r\nFor many graphs, you may also need to save the model and freeze it. You can use that here:\r\n```\r\ndef convert_saved_model(saved_model_dir) -&gt; GraphDef:\r\n    &quot;&quot;&quot;\r\n    Convert the saved model (expanded as a directory)\r\n    to a frozen graph def\r\n    :param saved_model_dir: the input model directory\r\n    :return:  the loaded graph def with all parameters in the model\r\n    &quot;&quot;&quot;\r\n    saved_model = tf.saved_model.load(saved_model_dir)\r\n    graph_def = saved_model.signatures[&#39;serving_default&#39;]\r\n    frozen = convert_variables_to_constants_v2(graph_def)\r\n    return frozen.graph.as_graph_def()\r\n```\r\n\r\nWe publish more code and utilities for that kind of thing here:\r\nhttps://github.com/deeplearning4j/deeplearning4j/tree/master/contrib/omnihub/src/omnihub/frameworks","title":"Could not find class for TF Ops: TensorListFromTensor when I&#39;m trying to import a trained model with Tensorflow in DeepLearning4j","body":"<p>That is the old model import. Please use the new one. The old one is not and will not be supported. You can find that here:</p>\n<p><a href=\"https://deeplearning4j.konduit.ai/samediff/explanation/model-import-framework\" rel=\"nofollow noreferrer\">https://deeplearning4j.konduit.ai/samediff/explanation/model-import-framework</a>\nBoth tensorflow and onnx work similarly. For tensorflow use:</p>\n<pre><code>  //create the framework importer\n   TensorflowFrameworkImporter tensorflowFrameworkImporter = new TensorflowFrameworkImporter();\n   File pathToPbFile = ...;\n   SameDiff graph = tensorflowFrameworkImporter.runImport(pathToPbFile.getAbsolutePath(),Collections.emptyMap());\n</code></pre>\n<p>File an issue on the github repo: <a href=\"https://github.com/deeplearning4j/deeplearning4j/issues/new\" rel=\"nofollow noreferrer\">https://github.com/deeplearning4j/deeplearning4j/issues/new</a> if something doesn't work for you.</p>\n<p>Also note that if you use the tf keras api you can also import it using the keras hdf5 format (the old one).</p>\n<p>For many graphs, you may also need to save the model and freeze it. You can use that here:</p>\n<pre><code>def convert_saved_model(saved_model_dir) -&gt; GraphDef:\n    &quot;&quot;&quot;\n    Convert the saved model (expanded as a directory)\n    to a frozen graph def\n    :param saved_model_dir: the input model directory\n    :return:  the loaded graph def with all parameters in the model\n    &quot;&quot;&quot;\n    saved_model = tf.saved_model.load(saved_model_dir)\n    graph_def = saved_model.signatures['serving_default']\n    frozen = convert_variables_to_constants_v2(graph_def)\n    return frozen.graph.as_graph_def()\n</code></pre>\n<p>We publish more code and utilities for that kind of thing here:\n<a href=\"https://github.com/deeplearning4j/deeplearning4j/tree/master/contrib/omnihub/src/omnihub/frameworks\" rel=\"nofollow noreferrer\">https://github.com/deeplearning4j/deeplearning4j/tree/master/contrib/omnihub/src/omnihub/frameworks</a></p>\n"}],"owner":{"account_id":14025826,"reputation":1,"user_id":10130891,"display_name":"Ricardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664939571,"creation_date":1664905734,"question_id":73951766,"body_markdown":"I&#39;m new to Tensorflow and I&#39;m trying to import a frozen graph (.pb file) that was trained in Python into a Java project using Deeplearning4j. \r\n\r\nIt seems that the model was saved successfully and it is working in Python, but when I try to import it with DL4J I&#39;m getting the following issue and I don&#39;t know why:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Could not find class for TF Ops: TensorListFromTensor\r\n\tat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\r\n\tat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:301)\r\n\tat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:283)\r\n\tat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:141)\r\n\tat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:87)\r\n\tat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:73)\r\n\tat MLModel.loadModel(MLModel.java:30)\r\n\r\nThis is my model in Python:\r\n\r\n    def RNN():\r\n    inputs = tf.keras.layers.Input(name=&#39;inputs&#39;,shape=[max_len])\r\n    layer = tf.keras.layers.Embedding(max_words,50,input_length=max_len)(inputs)\r\n    layer = tf.keras.layers.LSTM(64)(layer)\r\n    layer = tf.keras.layers.Dense(256,name=&#39;FC1&#39;)(layer)\r\n    layer = tf.keras.layers.Activation(&#39;relu&#39;)(layer)\r\n    layer = tf.keras.layers.Dropout(0.5)(layer)\r\n    layer = tf.keras.layers.Dense(12,name=&#39;out_layer&#39;)(layer)\r\n    layer = tf.keras.layers.Activation(&#39;softmax&#39;)(layer)\r\n    model = tf.keras.models.Model(inputs=inputs,outputs=layer)\r\n    return model\r\n\r\nActually I based on this blog how to export the model: [Save, Load and Inference From TensorFlow 2.x Frozen Graph][1]\r\n\r\n\r\n  [1]: https://leimao.github.io/blog/Save-Load-Inference-From-TF2-Frozen-Graph/\r\n\r\nAnd this is how I&#39;m trying to import the model in Java with DeepLearning4J:\r\n\r\n    public static void loadModel(String filepath) throws Exception{\r\n        File file = new File(filepath);\r\n        if (!file.exists()){\r\n            file = new File(filepath);\r\n        }\r\n\r\n        sd = TFGraphMapper.importGraph(file);\r\n\r\n        if (sd == null) {\r\n            throw new Exception(&quot;Error loading model : &quot; + file);\r\n        }\r\n    }\r\n\r\nI&#39;m getting the exception in `sd = TFGraphMapper.importGraph(file);`\r\n\r\nDoes anyone know if I&#39;m missing something?","title":"Could not find class for TF Ops: TensorListFromTensor when I&#39;m trying to import a trained model with Tensorflow in DeepLearning4j","body":"<p>I'm new to Tensorflow and I'm trying to import a frozen graph (.pb file) that was trained in Python into a Java project using Deeplearning4j.</p>\n<p>It seems that the model was saved successfully and it is working in Python, but when I try to import it with DL4J I'm getting the following issue and I don't know why:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Could not find class for TF Ops: TensorListFromTensor\nat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\nat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:301)\nat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:283)\nat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:141)\nat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:87)\nat org.nd4j.imports.graphmapper.tf.TFGraphMapper.importGraph(TFGraphMapper.java:73)\nat MLModel.loadModel(MLModel.java:30)\n</code></pre>\n<p>This is my model in Python:</p>\n<pre><code>def RNN():\ninputs = tf.keras.layers.Input(name='inputs',shape=[max_len])\nlayer = tf.keras.layers.Embedding(max_words,50,input_length=max_len)(inputs)\nlayer = tf.keras.layers.LSTM(64)(layer)\nlayer = tf.keras.layers.Dense(256,name='FC1')(layer)\nlayer = tf.keras.layers.Activation('relu')(layer)\nlayer = tf.keras.layers.Dropout(0.5)(layer)\nlayer = tf.keras.layers.Dense(12,name='out_layer')(layer)\nlayer = tf.keras.layers.Activation('softmax')(layer)\nmodel = tf.keras.models.Model(inputs=inputs,outputs=layer)\nreturn model\n</code></pre>\n<p>Actually I based on this blog how to export the model: <a href=\"https://leimao.github.io/blog/Save-Load-Inference-From-TF2-Frozen-Graph/\" rel=\"nofollow noreferrer\">Save, Load and Inference From TensorFlow 2.x Frozen Graph</a></p>\n<p>And this is how I'm trying to import the model in Java with DeepLearning4J:</p>\n<pre><code>public static void loadModel(String filepath) throws Exception{\n    File file = new File(filepath);\n    if (!file.exists()){\n        file = new File(filepath);\n    }\n\n    sd = TFGraphMapper.importGraph(file);\n\n    if (sd == null) {\n        throw new Exception(&quot;Error loading model : &quot; + file);\n    }\n}\n</code></pre>\n<p>I'm getting the exception in <code>sd = TFGraphMapper.importGraph(file);</code></p>\n<p>Does anyone know if I'm missing something?</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664937586,"creation_date":1664937586,"answer_id":73955471,"question_id":73927690,"body_markdown":"**You should install the official [*Java extension pack*][1].**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://i.stack.imgur.com/pUcM7.png","title":"Red squiggles not showing even when enabled. (C/C++ extension)","body":"<p><strong>You should install the official <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\"><em>Java extension pack</em></a>.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pUcM7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pUcM7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26156455,"reputation":11,"user_id":19843650,"display_name":"Anmol Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664937586,"creation_date":1664729786,"question_id":73927690,"body_markdown":"Till yesterday, they are working properly and detecting every syntex error, but today when I started working again I found that there is no highlighting(ERROR_SQUIGGLES) showing even if the code is not written with the correct syntex.\r\n\r\nEven, I also tried,\r\n \r\n     C_Cpp.errorSquiggles&quot;: &quot;Enabled&quot;\r\n\r\nin settings.json, but I&#39;m still not getting any squiggly lines for errors.\r\n\r\n[Example][1]\r\n\r\nHere it is supposed to show the error(RED Line below the code), but it is not showing.\r\n\r\n\r\n  \r\n  [1]: https://i.stack.imgur.com/qTIIJ.png","title":"Red squiggles not showing even when enabled. (C/C++ extension)","body":"<p>Till yesterday, they are working properly and detecting every syntex error, but today when I started working again I found that there is no highlighting(ERROR_SQUIGGLES) showing even if the code is not written with the correct syntex.</p>\n<p>Even, I also tried,</p>\n<pre><code> C_Cpp.errorSquiggles&quot;: &quot;Enabled&quot;\n</code></pre>\n<p>in settings.json, but I'm still not getting any squiggly lines for errors.</p>\n<p><a href=\"https://i.stack.imgur.com/qTIIJ.png\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>Here it is supposed to show the error(RED Line below the code), but it is not showing.</p>\n"},{"tags":["java","visual-studio-code","package","src"],"answers":[{"tags":[],"owner":{"account_id":26497644,"reputation":1,"user_id":20135092,"display_name":"sudarshan shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664597189,"creation_date":1664597189,"answer_id":73915735,"question_id":73915601,"body_markdown":" reload VS Code window or F1 -&gt;Clean the java language server workspace. try this could help","title":"What&#39;s different between run code - run java vscode? And error Could not find or load main class? And package?","body":"<p>reload VS Code window or F1 -&gt;Clean the java language server workspace. try this could help</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664936712,"creation_date":1664936712,"answer_id":73955410,"question_id":73915601,"body_markdown":"The **[Code Runner][1]** extension sometimes has problems running code under multiple levels of folders. For a better coding experience, please use the [official extension][2] to run the code.\r\n\r\n*Tips:*\r\n\r\n`Run Code` is provided by **Code Runner**\r\n\r\n`Run Java` and `Debug Java` are provided by the official extension\r\n\r\n[![enter image description here][3]][3]\r\n\r\n*You can ask questions about the **Code Runne** [here][4].*\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [3]: https://i.stack.imgur.com/b8jwF.png\r\n  [4]: https://github.com/formulahendry/vscode-code-runner/issues","title":"What&#39;s different between run code - run java vscode? And error Could not find or load main class? And package?","body":"<p>The <strong><a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\">Code Runner</a></strong> extension sometimes has problems running code under multiple levels of folders. For a better coding experience, please use the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">official extension</a> to run the code.</p>\n<p><em>Tips:</em></p>\n<p><code>Run Code</code> is provided by <strong>Code Runner</strong></p>\n<p><code>Run Java</code> and <code>Debug Java</code> are provided by the official extension</p>\n<p><a href=\"https://i.stack.imgur.com/b8jwF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8jwF.png\" alt=\"enter image description here\" /></a></p>\n<p><em>You can ask questions about the <strong>Code Runne</strong> <a href=\"https://github.com/formulahendry/vscode-code-runner/issues\" rel=\"nofollow noreferrer\">here</a>.</em></p>\n"}],"owner":{"account_id":23090731,"reputation":21,"user_id":17201651,"display_name":"NamNguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73955410,"answer_count":2,"score":0,"last_activity_date":1664936712,"creation_date":1664594659,"question_id":73915601,"body_markdown":"I am coding java on vscode. I have source folder:\r\n\r\n\r\n      &gt;...\r\n      &gt;lib\r\n      &gt;&gt;src\r\n        exam1.java\r\n        exam1.class\r\n        &gt;&gt;Month10\r\n          app1.class\r\n          app1.java\r\nWith:\r\n    \r\n    exam1.java \r\n    public class exam1 {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world&quot;);\r\n        } \r\n    }\r\n    \r\n    app1.java\r\n    package Month10;\r\n    \r\n    public class app1 {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n   I want to ask about why I need to use package Month10 in here. And another, exam1.java run well(both run code and run java), but in app1.java, I only can &quot;run java&quot;, can&#39;t &quot;run code&quot; (Ctrl+Alt+N in vs code), it exists error Could not find or load main class app1, I think because the command package? (I saved file before running), can anyone help me, thanks.\r\n\r\n\r\n","title":"What&#39;s different between run code - run java vscode? And error Could not find or load main class? And package?","body":"<p>I am coding java on vscode. I have source folder:</p>\n<pre><code>  &gt;...\n  &gt;lib\n  &gt;&gt;src\n    exam1.java\n    exam1.class\n    &gt;&gt;Month10\n      app1.class\n      app1.java\n</code></pre>\n<p>With:</p>\n<pre><code>exam1.java \npublic class exam1 {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world&quot;);\n    } \n}\n\napp1.java\npackage Month10;\n\npublic class app1 {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>I want to ask about why I need to use package Month10 in here. And another, exam1.java run well(both run code and run java), but in app1.java, I only can &quot;run java&quot;, can't &quot;run code&quot; (Ctrl+Alt+N in vs code), it exists error Could not find or load main class app1, I think because the command package? (I saved file before running), can anyone help me, thanks.</p>\n"},{"tags":["java","android","apk","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":5131367,"reputation":10939,"user_id":4111447,"accept_rate":59,"display_name":"Tomer Shemesh"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1592744754,"creation_date":1429735815,"answer_id":29808531,"question_id":29808504,"body_markdown":"The gradle file is not compiled into the APK, it is only for the actual android studio project for fetching dependencies and app configuration. There is no way to get a gradle file from an APK","title":"How to recover Gradle files from APK file?","body":"<p>The gradle file is not compiled into the APK, it is only for the actual android studio project for fetching dependencies and app configuration. There is no way to get a gradle file from an APK</p>\n"},{"tags":[],"owner":{"account_id":6004302,"reputation":6728,"user_id":4716694,"accept_rate":35,"display_name":"johnrao07"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1429736700,"creation_date":1429736700,"answer_id":29808810,"question_id":29808504,"body_markdown":"Try creating your own folders in the studio and try copying the code into the studio....that should work...and about gradle files? android studio will build it with gradle...as much as i know studio uses gradle build system to build app","title":"How to recover Gradle files from APK file?","body":"<p>Try creating your own folders in the studio and try copying the code into the studio....that should work...and about gradle files? android studio will build it with gradle...as much as i know studio uses gradle build system to build app</p>\n"},{"tags":[],"owner":{"account_id":12057644,"reputation":1537,"user_id":8817821,"display_name":"Mehrdad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569746153,"creation_date":1569746153,"answer_id":58153606,"question_id":29808504,"body_markdown":"you can’t . when you compile apk it will merge all the file into single file . An APK file contains all of that program&#39;s code (such as .dex files), resources, assets, certificates, and manifest file.\r\n\r\nSo When You decompile it . you can not file gradle file .","title":"How to recover Gradle files from APK file?","body":"<p>you can’t . when you compile apk it will merge all the file into single file . An APK file contains all of that program's code (such as .dex files), resources, assets, certificates, and manifest file.</p>\n\n<p>So When You decompile it . you can not file gradle file .</p>\n"},{"tags":[],"owner":{"account_id":22873923,"reputation":85,"user_id":17016542,"display_name":"Morsmalleo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664936509,"creation_date":1664936200,"answer_id":73955366,"question_id":29808504,"body_markdown":"From what I&#39;ve read in terms of [Apktool vs JADX: Pros and Cons](https://www.slant.co/versus/10232/30245/~apktool_vs_jadx), **JADX** apparently decompiles APK files to Java Code and also has the option to allow you to save said Decompiled APK as a Gradle project, it has CLI version as well as a GUI version.\r\n\r\nhowever I noticed that one of the Cons of JADX comes from when the APK that JADX is being used on, contains some non-ASCII characters, causing the Decompiling process to fail.\r\n\r\nMaybe this could work for you, not sure if it will give you exactly what you want in terms of original Gradle files but it might be a step in the right direction.\r\n\r\n\r\nYou can find more information about JADX, from the creators [Jadx GitHub repository](https://github.com/skylot/jadx), Note that it doesn&#39;t work on every APK you use it on.\r\n\r\nHope this helps.\r\n","title":"How to recover Gradle files from APK file?","body":"<p>From what I've read in terms of <a href=\"https://www.slant.co/versus/10232/30245/%7Eapktool_vs_jadx\" rel=\"nofollow noreferrer\">Apktool vs JADX: Pros and Cons</a>, <strong>JADX</strong> apparently decompiles APK files to Java Code and also has the option to allow you to save said Decompiled APK as a Gradle project, it has CLI version as well as a GUI version.</p>\n<p>however I noticed that one of the Cons of JADX comes from when the APK that JADX is being used on, contains some non-ASCII characters, causing the Decompiling process to fail.</p>\n<p>Maybe this could work for you, not sure if it will give you exactly what you want in terms of original Gradle files but it might be a step in the right direction.</p>\n<p>You can find more information about JADX, from the creators <a href=\"https://github.com/skylot/jadx\" rel=\"nofollow noreferrer\">Jadx GitHub repository</a>, Note that it doesn't work on every APK you use it on.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"display_name":"user3677169"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15784,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":29808810,"answer_count":4,"score":12,"last_activity_date":1664936509,"creation_date":1429735723,"question_id":29808504,"body_markdown":"I&#39;ve succeeded in recovering the Java files and XML files from an APK file using [this][1] tutorial but I cannot find the Gradle scripts( build.gradle, settings gradle, local.properties, etc.) \r\n\r\nI&#39;ve created a new project and I had imported the Java and XML files but the project doesn&#39;t work, I guess because of the Gradle.\r\n\r\nDoes anyone know how to do this?\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=euaGbxxdBKc","title":"How to recover Gradle files from APK file?","body":"<p>I've succeeded in recovering the Java files and XML files from an APK file using <a href=\"https://www.youtube.com/watch?v=euaGbxxdBKc\" rel=\"noreferrer\">this</a> tutorial but I cannot find the Gradle scripts( build.gradle, settings gradle, local.properties, etc.) </p>\n\n<p>I've created a new project and I had imported the Java and XML files but the project doesn't work, I guess because of the Gradle.</p>\n\n<p>Does anyone know how to do this?</p>\n"},{"tags":["java","sqlite","kotlin","memory-leaks","jdbi"],"answers":[{"tags":[],"owner":{"account_id":5546763,"reputation":31,"user_id":4401166,"display_name":"Henning Schmiedehausen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664935215,"creation_date":1664935215,"answer_id":73955296,"question_id":73410418,"body_markdown":"Are you sure that this is JDBI and not Sqlite related? Can you reproduce that with another database (e.g. h2 or hsqldb)? That would be really helpful.\r\n\r\nFrom what I can see is that this is a JDK cleaner thread and that might be unrelated to both JDBI and sqllite. ","title":"JDBI leaking threads","body":"<p>Are you sure that this is JDBI and not Sqlite related? Can you reproduce that with another database (e.g. h2 or hsqldb)? That would be really helpful.</p>\n<p>From what I can see is that this is a JDK cleaner thread and that might be unrelated to both JDBI and sqllite.</p>\n"}],"owner":{"account_id":1849884,"reputation":650,"user_id":1676632,"accept_rate":48,"display_name":"sattu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664935215,"creation_date":1660865256,"question_id":73410418,"body_markdown":"Even though I see the SQLite table is being populated, the test fails due to a thread leak.\r\nThe problem started happening when I introduced writing to SQLite table using JDBI.\r\nIs there a known thread leak issue with JDBI? How would I debug it further?\r\n\r\n([This][1] annotation in base test class is looking for and reporting about thread leaks. ) \r\n\r\n```\r\nimport org.apache.lucene.util.LuceneTestCase\r\nimport org.junit.Assert\r\nimport org.junit.Test\r\nimport org.jdbi.v3.core.Jdbi\r\nimport org.jdbi.v3.core.kotlin.KotlinPlugin\r\nimport org.jdbi.v3.sqlite3.SQLitePlugin\r\nimport org.jdbi.v3.sqlobject.SqlObjectPlugin\r\nimport org.jdbi.v3.sqlobject.kotlin.KotlinSqlObjectPlugin\r\nimport java.sql.Connection\r\nimport java.sql.DriverManager\r\n\r\nclass MyTest: LuceneTestCase() {\r\n    @Test\r\n    fun testDatawrite() {\r\n        \r\n        val rawdata = MyData(id=1, name=&quot;stackoverflow&quot;)\r\n        val jdbi = Jdbi.create(DriverManager.getConnection(&quot;jdbc:sqlite:/tmp/world.db&quot;))\r\n        jdbi.installPlugin(SQLitePlugin())\r\n        jdbi.installPlugin(KotlinPlugin())\r\n        jdbi.installPlugin(SqlObjectPlugin())\r\n        jdbi.installPlugin(KotlinSqlObjectPlugin())\r\n\r\n        jdbi.withExtension&lt;Unit, MyDao, Exception&gt; (\r\n            MyDao::class.java)\r\n            {\r\n                dao -&gt;\r\n                dao.insert(listOf(rawdata))\r\n\r\n            }\r\n    }\r\n}\r\n\r\n```\r\n\r\nError message\r\n```\r\n\r\n1 thread leaked from SUITE scope at MyTest: \r\n   1) Thread[id=26, name=ForkJoinPool.commonPool-worker-19, state=WAITING, group=TGRP-MyTest]\r\n        at java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\r\n        at java.base@11.0.11/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n        at java.base@11.0.11/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1628)\r\n        at java.base@11.0.11/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\ncom.carrotsearch.randomizedtesting.ThreadLeakError: 1 thread leaked from SUITE scope at MyTest: \r\n   1) Thread[id=26, name=ForkJoinPool.commonPool-worker-19, state=WAITING, group=TGRP-MyTest]\r\n        at java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\r\n        at java.base@11.0.11/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n        at java.base@11.0.11/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1628)\r\n        at java.base@11.0.11/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n\tat __randomizedtesting.SeedInfo.seed([63412597]:0)\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/lucene/blob/main/lucene/test-framework/src/java/org/apache/lucene/tests/util/LuceneTestCase.java#L254","title":"JDBI leaking threads","body":"<p>Even though I see the SQLite table is being populated, the test fails due to a thread leak.\nThe problem started happening when I introduced writing to SQLite table using JDBI.\nIs there a known thread leak issue with JDBI? How would I debug it further?</p>\n<p>(<a href=\"https://github.com/apache/lucene/blob/main/lucene/test-framework/src/java/org/apache/lucene/tests/util/LuceneTestCase.java#L254\" rel=\"nofollow noreferrer\">This</a> annotation in base test class is looking for and reporting about thread leaks. )</p>\n<pre><code>import org.apache.lucene.util.LuceneTestCase\nimport org.junit.Assert\nimport org.junit.Test\nimport org.jdbi.v3.core.Jdbi\nimport org.jdbi.v3.core.kotlin.KotlinPlugin\nimport org.jdbi.v3.sqlite3.SQLitePlugin\nimport org.jdbi.v3.sqlobject.SqlObjectPlugin\nimport org.jdbi.v3.sqlobject.kotlin.KotlinSqlObjectPlugin\nimport java.sql.Connection\nimport java.sql.DriverManager\n\nclass MyTest: LuceneTestCase() {\n    @Test\n    fun testDatawrite() {\n        \n        val rawdata = MyData(id=1, name=&quot;stackoverflow&quot;)\n        val jdbi = Jdbi.create(DriverManager.getConnection(&quot;jdbc:sqlite:/tmp/world.db&quot;))\n        jdbi.installPlugin(SQLitePlugin())\n        jdbi.installPlugin(KotlinPlugin())\n        jdbi.installPlugin(SqlObjectPlugin())\n        jdbi.installPlugin(KotlinSqlObjectPlugin())\n\n        jdbi.withExtension&lt;Unit, MyDao, Exception&gt; (\n            MyDao::class.java)\n            {\n                dao -&gt;\n                dao.insert(listOf(rawdata))\n\n            }\n    }\n}\n\n</code></pre>\n<p>Error message</p>\n<pre><code>\n1 thread leaked from SUITE scope at MyTest: \n   1) Thread[id=26, name=ForkJoinPool.commonPool-worker-19, state=WAITING, group=TGRP-MyTest]\n        at java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\n        at java.base@11.0.11/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n        at java.base@11.0.11/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1628)\n        at java.base@11.0.11/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\ncom.carrotsearch.randomizedtesting.ThreadLeakError: 1 thread leaked from SUITE scope at MyTest: \n   1) Thread[id=26, name=ForkJoinPool.commonPool-worker-19, state=WAITING, group=TGRP-MyTest]\n        at java.base@11.0.11/jdk.internal.misc.Unsafe.park(Native Method)\n        at java.base@11.0.11/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n        at java.base@11.0.11/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1628)\n        at java.base@11.0.11/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\n    at __randomizedtesting.SeedInfo.seed([63412597]:0)\n\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1442676750,"post_id":32669889,"comment_id":53185679,"body_markdown":"Post the stack trace of the exception. Tell us which line it refers to.","body":"Post the stack trace of the exception. Tell us which line it refers to."},{"owner":{"account_id":6093107,"reputation":23142,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1442694780,"post_id":32669889,"comment_id":53191466,"body_markdown":"What is the implementation of `customerService.findByName`?","body":"What is the implementation of <code>customerService.findByName</code>?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1442699324,"creation_date":1442699324,"answer_id":32673570,"question_id":32669889,"body_markdown":"Your method is defined as\r\n\r\n    return em.find(Customer.class, Name);\r\n\r\n`EntityManager.find()` takes the ID of an entity, and returns the entity that has that ID. The ID of Customer is a Long. It&#39;s not the name. You need a query to implement `findByName()`.\r\n","title":"Provided id of the wrong type for class when testing","body":"<p>Your method is defined as</p>\n\n<pre><code>return em.find(Customer.class, Name);\n</code></pre>\n\n<p><code>EntityManager.find()</code> takes the ID of an entity, and returns the entity that has that ID. The ID of Customer is a Long. It's not the name. You need a query to implement <code>findByName()</code>.</p>\n"},{"tags":[],"owner":{"account_id":7641789,"reputation":762,"user_id":5793661,"display_name":"Dejazmach"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467118775,"creation_date":1467118775,"answer_id":38076944,"question_id":32669889,"body_markdown":"I faced this problem and the cause was that I didn&#39;t specify &#39;Name&#39; as an ID(a primary key) in my model. As a result the parameter I passed as Id was being compared with the system generated Id (hjid) of that Customer object, and ended up not finding the object with that system generated ID (which is long in type). So it is necessary to explicitly specify the desired primary key in the model.","title":"Provided id of the wrong type for class when testing","body":"<p>I faced this problem and the cause was that I didn't specify 'Name' as an ID(a primary key) in my model. As a result the parameter I passed as Id was being compared with the system generated Id (hjid) of that Customer object, and ended up not finding the object with that system generated ID (which is long in type). So it is necessary to explicitly specify the desired primary key in the model.</p>\n"}],"owner":{"account_id":2118443,"reputation":157,"user_id":1882231,"accept_rate":70,"display_name":"Ru Ru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18994,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":32673570,"answer_count":2,"score":6,"last_activity_date":1664934777,"creation_date":1442676018,"question_id":32669889,"body_markdown":"I have got this issue when testing-\r\nProvided id of the wrong type for class `com.myapp.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String`\r\n\r\nAnd I honestly cant figure out why I have got this and what is actually happening. When I use it normally, like running on a local tomcat and saving it through a controller and then service, it works just fine. No errors. This behaviour makes no sense to me. \r\n\r\nI am using JPA 2.1 with Hibernate as a provider.\r\n\r\nHere is test code:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextHierarchy({\r\n            @ContextConfiguration(classes = RootConfig.class),\r\n            @ContextConfiguration(classes = WebConfig.class)\r\n    \r\n    })\r\n    @Transactional\r\n    public class AccountRepositoryTest {\r\n    \r\n        @Autowired\r\n        private WebApplicationContext wac;\r\n        @Autowired\r\n        private AccountRepository accountRepository;\r\n        @Autowired\r\n        private CustomerService customerService;\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n    \r\n            Customer cus = new Customer();\r\n            cus.setFirstName(&quot;John&quot;);\r\n            cus.setLastName(&quot;Smith&quot;);\r\n            customerService.save(cus);\r\n        }\r\n    \r\n        @Test\r\n        public void testSaveAccount() {\r\n    \r\n            Account account = new Account();\r\n            account.setCustomer(customerService.findByName(&quot;John&quot;));\r\n            account.setName();\r\n            account.setDebitCard(new DebitCard((long) 2000));\r\n    \r\n            accountRepository.create(account);\r\n        }\r\n    \r\n        @Test\r\n        public void testSavePremiumAccount() {\r\n    \r\n            PremiumAccount premAccount = new PremiumAccount();\r\n            premAccount.setCustomer(customerService.findByName(&quot;John&quot;));\r\n            premAccount.setName();\r\n            premAccount.setDebitCard(new DebitCard((long) 6000));\r\n            premAccount.setCreditCard(new CreditCard((long) 12000));\r\n    \r\n            accountRepository.create(premAccount);\r\n        }\r\n    \r\n    }\r\n\r\nMy Customer Entity (Short version):\r\n\r\n    @Entity\r\n    @DynamicUpdate\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;customer&quot;)\r\n        //@JoinColumn(name=&quot;account_id&quot;, referencedColumnName=&quot;id&quot;)\r\n        @Nullable\r\n        @JsonManagedReference\r\n        private List&lt;Account&gt; Accounts = new ArrayList&lt;Account&gt;();\r\n        //private Address Address;\r\n    \r\n    \r\n        public Customer() {\r\n        }\r\n    \r\n        public Customer(String firstName, String lastName,  List&lt;Account&gt; accounts) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.Accounts = accounts;\r\n        }\r\n\r\nAnd my repo:\r\n \r\n\r\n    @Repository(&quot;customerRepository&quot;)\r\n    public class CustomerRepositoryImpl implements CustomerRepository {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n    \r\n        @Override\r\n        @Transactional\r\n        @NotNull\r\n        public void save(Customer customer) {\r\n            em.persist(customer);\r\n            em.flush();\r\n        }\r\n        \r\n        @Override\r\n        public Customer findByName(String Name) {\r\n        return em.find(Customer.class, Name);\r\n        }\r\n    }\r\n\r\n\r\nWhat do I miss, or is this a general bug with the hibernate that cant be avoided? I read somewhere that this is a typical bug.\r\n\r\n**Full Stack Trace:**\r\n\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String; nested exception is java.lang.IllegalArgumentException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:381)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:157)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tat com.sun.proxy.$Proxy45.findByName(Unknown Source)\r\n    \tat com.ruruapps.ibank.service.CustomerServiceImpl.findByName(CustomerServiceImpl.java:40)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tat com.sun.proxy.$Proxy48.findByName(Unknown Source)\r\n    \tat com.ruruapps.ibank.AccountRepositoryTest.testSaveAccount(AccountRepositoryTest.java:55)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:72)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:81)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:216)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:82)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:67)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:162)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:127)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:26)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n    Caused by: java.lang.IllegalArgumentException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1135)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1068)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:291)\r\n    \tat com.sun.proxy.$Proxy44.find(Unknown Source)\r\n    \tat com.ruruapps.ibank.repository.CustomerRepositoryImpl.findByName(CustomerRepositoryImpl.java:47)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \t... 59 more\r\n    Caused by: org.hibernate.TypeMismatchException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:134)\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1106)\r\n    \tat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2587)\r\n    \tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:991)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1110)\r\n    \t... 75 more\r\n\r\nCustomer Service Impl:\r\n\r\n\r\n    @Service(&quot;customerService&quot;)\r\n    @Transactional\r\n    public class CustomerServiceImpl implements CustomerService {\r\n    \r\n        @Autowired\r\n        private CustomerRepository customerRepository;\r\n    \r\n        @Override\r\n        public void save(Customer customer) {\r\n            customerRepository.save(customer);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Customer&gt; findAll() {\r\n            return customerRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public Customer findById(Long id) {\r\n            return customerRepository.findById(id);\r\n        }\r\n    \r\n        @Override\r\n        public Customer findByName(String Name) {\r\n            return customerRepository.findByName(Name);\r\n        }\r\n    }\r\n\r\n","title":"Provided id of the wrong type for class when testing","body":"<p>I have got this issue when testing-\nProvided id of the wrong type for class <code>com.myapp.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String</code></p>\n\n<p>And I honestly cant figure out why I have got this and what is actually happening. When I use it normally, like running on a local tomcat and saving it through a controller and then service, it works just fine. No errors. This behaviour makes no sense to me. </p>\n\n<p>I am using JPA 2.1 with Hibernate as a provider.</p>\n\n<p>Here is test code:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextHierarchy({\n        @ContextConfiguration(classes = RootConfig.class),\n        @ContextConfiguration(classes = WebConfig.class)\n\n})\n@Transactional\npublic class AccountRepositoryTest {\n\n    @Autowired\n    private WebApplicationContext wac;\n    @Autowired\n    private AccountRepository accountRepository;\n    @Autowired\n    private CustomerService customerService;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n\n        Customer cus = new Customer();\n        cus.setFirstName(\"John\");\n        cus.setLastName(\"Smith\");\n        customerService.save(cus);\n    }\n\n    @Test\n    public void testSaveAccount() {\n\n        Account account = new Account();\n        account.setCustomer(customerService.findByName(\"John\"));\n        account.setName();\n        account.setDebitCard(new DebitCard((long) 2000));\n\n        accountRepository.create(account);\n    }\n\n    @Test\n    public void testSavePremiumAccount() {\n\n        PremiumAccount premAccount = new PremiumAccount();\n        premAccount.setCustomer(customerService.findByName(\"John\"));\n        premAccount.setName();\n        premAccount.setDebitCard(new DebitCard((long) 6000));\n        premAccount.setCreditCard(new CreditCard((long) 12000));\n\n        accountRepository.create(premAccount);\n    }\n\n}\n</code></pre>\n\n<p>My Customer Entity (Short version):</p>\n\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = \"customer\")\npublic class Customer implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = \"customer\")\n    //@JoinColumn(name=\"account_id\", referencedColumnName=\"id\")\n    @Nullable\n    @JsonManagedReference\n    private List&lt;Account&gt; Accounts = new ArrayList&lt;Account&gt;();\n    //private Address Address;\n\n\n    public Customer() {\n    }\n\n    public Customer(String firstName, String lastName,  List&lt;Account&gt; accounts) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.Accounts = accounts;\n    }\n</code></pre>\n\n<p>And my repo:</p>\n\n<pre><code>@Repository(\"customerRepository\")\npublic class CustomerRepositoryImpl implements CustomerRepository {\n\n    @PersistenceContext\n    private EntityManager em;\n\n\n    @Override\n    @Transactional\n    @NotNull\n    public void save(Customer customer) {\n        em.persist(customer);\n        em.flush();\n    }\n\n    @Override\n    public Customer findByName(String Name) {\n    return em.find(Customer.class, Name);\n    }\n}\n</code></pre>\n\n<p>What do I miss, or is this a general bug with the hibernate that cant be avoided? I read somewhere that this is a typical bug.</p>\n\n<p><strong>Full Stack Trace:</strong></p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String; nested exception is java.lang.IllegalArgumentException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:381)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:157)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy45.findByName(Unknown Source)\n    at com.ruruapps.ibank.service.CustomerServiceImpl.findByName(CustomerServiceImpl.java:40)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy48.findByName(Unknown Source)\n    at com.ruruapps.ibank.AccountRepositoryTest.testSaveAccount(AccountRepositoryTest.java:55)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:72)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:81)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:216)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:82)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:67)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:162)\n    at org.junit.runners.Suite.runChild(Suite.java:127)\n    at org.junit.runners.Suite.runChild(Suite.java:26)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:160)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\nCaused by: java.lang.IllegalArgumentException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1135)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1068)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:291)\n    at com.sun.proxy.$Proxy44.find(Unknown Source)\n    at com.ruruapps.ibank.repository.CustomerRepositoryImpl.findByName(CustomerRepositoryImpl.java:47)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    ... 59 more\nCaused by: org.hibernate.TypeMismatchException: Provided id of the wrong type for class com.ruruapps.ibank.domain.Customer. Expected: class java.lang.Long, got class java.lang.String\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:134)\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1106)\n    at org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2587)\n    at org.hibernate.internal.SessionImpl.get(SessionImpl.java:991)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1110)\n    ... 75 more\n</code></pre>\n\n<p>Customer Service Impl:</p>\n\n<pre><code>@Service(\"customerService\")\n@Transactional\npublic class CustomerServiceImpl implements CustomerService {\n\n    @Autowired\n    private CustomerRepository customerRepository;\n\n    @Override\n    public void save(Customer customer) {\n        customerRepository.save(customer);\n    }\n\n    @Override\n    public List&lt;Customer&gt; findAll() {\n        return customerRepository.findAll();\n    }\n\n    @Override\n    public Customer findById(Long id) {\n        return customerRepository.findById(id);\n    }\n\n    @Override\n    public Customer findByName(String Name) {\n        return customerRepository.findByName(Name);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":22432343,"reputation":23,"user_id":16638017,"display_name":"xuxu"},"score":0,"creation_date":1645506907,"post_id":71216185,"comment_id":125882988,"body_markdown":"Yes, can you let me know how pass a correct type? I tried but I cannot","body":"Yes, can you let me know how pass a correct type? I tried but I cannot"},{"owner":{"account_id":22432343,"reputation":23,"user_id":16638017,"display_name":"xuxu"},"score":0,"creation_date":1645507541,"post_id":71216185,"comment_id":125883100,"body_markdown":"I got this error\n```org.hibernate.AnnotationException: Property of @IdClass not found in entity StudentIdEntity: value```","body":"I got this error <code>org.hibernate.AnnotationException: Property of @IdClass not found in entity StudentIdEntity: value</code>"},{"owner":{"account_id":22432343,"reputation":23,"user_id":16638017,"display_name":"xuxu"},"score":0,"creation_date":1645508673,"post_id":71216185,"comment_id":125883308,"body_markdown":"they have Long data type","body":"they have Long data type"},{"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"score":0,"creation_date":1645510021,"post_id":71216185,"comment_id":125883576,"body_markdown":"sorry I misinterpreted the question, @Faeemazaz Bhanej has answered it correctly!","body":"sorry I misinterpreted the question, @Faeemazaz Bhanej has answered it correctly!"}],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645606850,"creation_date":1645509452,"answer_id":71216527,"question_id":71216185,"body_markdown":"You have know about how to composite primary key there are two way to composite primary key using [**`@IdClass()`**][1] or [**`@EmbeddedId()`**][1]. You have make separate class for composite primary key.\r\n\r\n* First you have to make class `StudentId.java` then pass it into `IdClass` annotation.\r\n\r\nHere down is code to composite primary key using `IdClass`:\r\n\r\n**StudentId.java**\r\n```\r\npublic class StudentId implements Serializable {\r\n    private Long id1;\r\n    private Long id2;\r\n\r\n    // default constructor\r\n\r\n    public StudentId(Long id1, Long id2) {\r\n        this.id1 = id1;\r\n        this.id2 = id2;\r\n    }\r\n\r\n    // equals() and hashCode()\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;STUDENT_ID&quot;)\r\n@IdClass(StudentId.class)\r\npublic class StudentIdEntity {\r\n    @Id\r\n    @Column(name = &quot;ID_1&quot;)\r\n    private Long id1;\r\n\r\n    @Id\r\n    @Column(name = &quot;ID_2&quot;, nullable = false)\r\n    private Long id2;\r\n\r\n    // default constructor, constructer, getter and setter\r\n}\r\n\r\nStudentIdEntity studentIdEntity = new StudentIdEntity();\r\nstudentIdEntity.setId1(id1);\r\nstudentIdEntity.setId2(id2);\r\nstudentImplement.save(studentIdEntity);\r\n```\r\n\r\nFor further information see here https://stackoverflow.com/questions/69735636/how-to-define-composite-foreign-key-mapping-in-hibernate/69736713#69736713\r\n\r\n  [1]: https://www.baeldung.com/jpa-composite-primary-keys","title":"Hibernate: provided id of the wrong type for class","body":"<p>You have know about how to composite primary key there are two way to composite primary key using <a href=\"https://www.baeldung.com/jpa-composite-primary-keys\" rel=\"nofollow noreferrer\"><strong><code>@IdClass()</code></strong></a> or <a href=\"https://www.baeldung.com/jpa-composite-primary-keys\" rel=\"nofollow noreferrer\"><strong><code>@EmbeddedId()</code></strong></a>. You have make separate class for composite primary key.</p>\n<ul>\n<li>First you have to make class <code>StudentId.java</code> then pass it into <code>IdClass</code> annotation.</li>\n</ul>\n<p>Here down is code to composite primary key using <code>IdClass</code>:</p>\n<p><strong>StudentId.java</strong></p>\n<pre><code>public class StudentId implements Serializable {\n    private Long id1;\n    private Long id2;\n\n    // default constructor\n\n    public StudentId(Long id1, Long id2) {\n        this.id1 = id1;\n        this.id2 = id2;\n    }\n\n    // equals() and hashCode()\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;STUDENT_ID&quot;)\n@IdClass(StudentId.class)\npublic class StudentIdEntity {\n    @Id\n    @Column(name = &quot;ID_1&quot;)\n    private Long id1;\n\n    @Id\n    @Column(name = &quot;ID_2&quot;, nullable = false)\n    private Long id2;\n\n    // default constructor, constructer, getter and setter\n}\n\nStudentIdEntity studentIdEntity = new StudentIdEntity();\nstudentIdEntity.setId1(id1);\nstudentIdEntity.setId2(id2);\nstudentImplement.save(studentIdEntity);\n</code></pre>\n<p>For further information see here <a href=\"https://stackoverflow.com/questions/69735636/how-to-define-composite-foreign-key-mapping-in-hibernate/69736713#69736713\">How to define composite foreign key mapping in hibernate?</a></p>\n"}],"owner":{"account_id":22432343,"reputation":23,"user_id":16638017,"display_name":"xuxu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664934568,"creation_date":1645506493,"question_id":71216185,"body_markdown":"I got the below exception when trying to save studentId to the STUDENT_ID table. I don&#39;t know how to save an entity has a composite primary key by itself.\r\n\r\n&gt;org.hibernate.TypeMismatchException: Provided id of the wrong type for class StudentIdEntity . Expected: StudentIdEntity , got class java.lang.Long|ConsoleCatcherOutputStream:write\r\n\r\nHere down is my code:\r\n```\r\n@Entity\r\n@Table(name = &quot;STUDENT_ID&quot;)\r\n@IdClass(StudentIdEntity.class)\r\npublic class StudentIdEntity implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;ID_1&quot;)\r\n    private Long id1;\r\n    @Id\r\n    @Column(name = &quot;ID_2&quot;, nullable = false)\r\n    private Long id2;\r\n\r\n    public StudentIdEntity() {\r\n    }\r\n\r\n    public Long getId1() {\r\n        return id1;\r\n    }\r\n\r\n    public void setId1(Long id1) {\r\n        this.id = id1;\r\n    }\r\n\r\n    public Long getLocationId2() {\r\n        return id2;\r\n    }\r\n\r\n    public void setLocationId2(Long id2) {\r\n        this.id2 = id2;\r\n    }\r\n}\r\n\r\nStudentIdEntity studentIdEntity = new StudentIdEntity();\r\nstudentIdEntity.setId1(id1);\r\nstudentIdEntity.setId2(id2);\r\nstudentImplement.save(studentIdEntity);\r\n```\r\n","title":"Hibernate: provided id of the wrong type for class","body":"<p>I got the below exception when trying to save studentId to the STUDENT_ID table. I don't know how to save an entity has a composite primary key by itself.</p>\n<blockquote>\n<p>org.hibernate.TypeMismatchException: Provided id of the wrong type for class StudentIdEntity . Expected: StudentIdEntity , got class java.lang.Long|ConsoleCatcherOutputStream:write</p>\n</blockquote>\n<p>Here down is my code:</p>\n<pre><code>@Entity\n@Table(name = &quot;STUDENT_ID&quot;)\n@IdClass(StudentIdEntity.class)\npublic class StudentIdEntity implements Serializable {\n    @Id\n    @Column(name = &quot;ID_1&quot;)\n    private Long id1;\n    @Id\n    @Column(name = &quot;ID_2&quot;, nullable = false)\n    private Long id2;\n\n    public StudentIdEntity() {\n    }\n\n    public Long getId1() {\n        return id1;\n    }\n\n    public void setId1(Long id1) {\n        this.id = id1;\n    }\n\n    public Long getLocationId2() {\n        return id2;\n    }\n\n    public void setLocationId2(Long id2) {\n        this.id2 = id2;\n    }\n}\n\nStudentIdEntity studentIdEntity = new StudentIdEntity();\nstudentIdEntity.setId1(id1);\nstudentIdEntity.setId2(id2);\nstudentImplement.save(studentIdEntity);\n</code></pre>\n"},{"tags":["java","json","spring","jackson","record"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664933564,"creation_date":1664933564,"answer_id":73955160,"question_id":73954839,"body_markdown":"You can use `Map` instead of `String` like this.\r\n\r\n    public record TypeIdentifier(\r\n        @JsonProperty(&quot;Type&quot;) String type,\r\n        @JsonProperty(&quot;Identifier&quot;) String identifier) {\r\n    }\r\n\r\n    public record CarrierABCStatusUpdateRecord(\r\n        @JsonProperty(&quot;Timestamp&quot;) String timeStamp,\r\n        @JsonProperty(&quot;Agent&quot;) String agent,\r\n        @JsonProperty(&quot;AgentDevice&quot;) String agentDevice,\r\n        @JsonProperty(&quot;Trace&quot;) String trace,\r\n        @JsonProperty(&quot;Consignment&quot;) String consignment,\r\n    //  @JsonProperty(&quot;Items&quot;) String items,\r\n        @JsonProperty(&quot;Items&quot;) Map&lt;String, TypeIdentifier&gt; items,\r\n        @JsonProperty(&quot;FreightHandler&quot;) String freightHandler,\r\n        @JsonProperty(&quot;Signature&quot;) String signature,\r\n        @JsonProperty(&quot;Comment&quot;) String comment,\r\n        @JsonProperty(&quot;Depot&quot;) String depot) {\r\n    }\r\n","title":"Can I Create a Java 17 Record From a JSON Payload With a Dynamic Field?","body":"<p>You can use <code>Map</code> instead of <code>String</code> like this.</p>\n<pre><code>public record TypeIdentifier(\n    @JsonProperty(&quot;Type&quot;) String type,\n    @JsonProperty(&quot;Identifier&quot;) String identifier) {\n}\n\npublic record CarrierABCStatusUpdateRecord(\n    @JsonProperty(&quot;Timestamp&quot;) String timeStamp,\n    @JsonProperty(&quot;Agent&quot;) String agent,\n    @JsonProperty(&quot;AgentDevice&quot;) String agentDevice,\n    @JsonProperty(&quot;Trace&quot;) String trace,\n    @JsonProperty(&quot;Consignment&quot;) String consignment,\n//  @JsonProperty(&quot;Items&quot;) String items,\n    @JsonProperty(&quot;Items&quot;) Map&lt;String, TypeIdentifier&gt; items,\n    @JsonProperty(&quot;FreightHandler&quot;) String freightHandler,\n    @JsonProperty(&quot;Signature&quot;) String signature,\n    @JsonProperty(&quot;Comment&quot;) String comment,\n    @JsonProperty(&quot;Depot&quot;) String depot) {\n}\n</code></pre>\n"}],"owner":{"account_id":26390971,"reputation":13,"user_id":20042838,"display_name":"Kurtis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73955160,"answer_count":1,"score":1,"last_activity_date":1664933564,"creation_date":1664929571,"question_id":73954839,"body_markdown":"I am receiving a JSON payload with a dynamic field but I need to turn it into a Record. Is there a way to do that with a dynamic field?\r\nThe field in question is under &#39;`Items`&#39;: &quot;`CABC00033003`&quot;, &quot;`CABC00033002`&quot;, &quot;`CABC00033001`&quot;\r\n\r\nPayload\r\n\r\n    {\r\n    \t&quot;Timestamp&quot;: &quot;2022-09-15T08:35:15&quot;,\r\n    \t&quot;Agent&quot;: &quot;JP&quot;,\r\n    \t&quot;AgentDevice&quot;: &quot;&quot;,\r\n    \t&quot;Trace&quot;: &quot;LOAD FOR DELIVERY&quot;,\r\n    \t&quot;Consignment&quot;: &quot;CABC00033&quot;,\r\n    \t&quot;Items&quot;: {\r\n    \t\t&quot;CABC00033003&quot;: {\r\n    \t\t\t&quot;Type&quot;: &quot;CONSIGNMENT&quot;,\r\n    \t\t\t&quot;Identifier&quot;: &quot;&quot;\r\n    \t\t},\r\n    \t\t&quot;CABC00033002&quot;: {\r\n    \t\t\t&quot;Type&quot;: &quot;CONSIGNMENT&quot;,\r\n    \t\t\t&quot;Identifier&quot;: &quot;&quot;\r\n    \t\t},\r\n    \t\t&quot;CABC00033001&quot;: {\r\n    \t\t\t&quot;Type&quot;: &quot;CONSIGNMENT&quot;,\r\n    \t\t\t&quot;Identifier&quot;: &quot;&quot;\r\n    \t\t}\r\n    \t},\r\n    \t&quot;FreightHandler&quot;: &quot;&quot;,\r\n    \t&quot;Signature&quot;: &quot;&quot;,\r\n    \t&quot;Comment&quot;: &quot;&quot;,\r\n    \t&quot;Depot&quot;: null\r\n    }\r\n\r\nThis is the Method to accept a JSON Payload -&gt; Record\r\n\r\n    public record CarrierABCStatusUpdateRecord(@JsonProperty(&quot;Timestamp&quot;) String timeStamp,\r\n                                             @JsonProperty(&quot;Agent&quot;) String agent,\r\n                                             @JsonProperty(&quot;AgentDevice&quot;) String agentDevice,\r\n                                             @JsonProperty(&quot;Trace&quot;) String trace,\r\n                                             @JsonProperty(&quot;Consignment&quot;) String consignment,\r\n                                             @JsonProperty(&quot;Items&quot;) String items,\r\n                                             @JsonProperty(&quot;FreightHandler&quot;) String freightHandler,\r\n                                             @JsonProperty(&quot;Signature&quot;) String signature,\r\n                                             @JsonProperty(&quot;Comment&quot;) String comment,\r\n                                             @JsonProperty(&quot;Depot&quot;) String depot) {}","title":"Can I Create a Java 17 Record From a JSON Payload With a Dynamic Field?","body":"<p>I am receiving a JSON payload with a dynamic field but I need to turn it into a Record. Is there a way to do that with a dynamic field?\nThe field in question is under '<code>Items</code>': &quot;<code>CABC00033003</code>&quot;, &quot;<code>CABC00033002</code>&quot;, &quot;<code>CABC00033001</code>&quot;</p>\n<p>Payload</p>\n<pre><code>{\n    &quot;Timestamp&quot;: &quot;2022-09-15T08:35:15&quot;,\n    &quot;Agent&quot;: &quot;JP&quot;,\n    &quot;AgentDevice&quot;: &quot;&quot;,\n    &quot;Trace&quot;: &quot;LOAD FOR DELIVERY&quot;,\n    &quot;Consignment&quot;: &quot;CABC00033&quot;,\n    &quot;Items&quot;: {\n        &quot;CABC00033003&quot;: {\n            &quot;Type&quot;: &quot;CONSIGNMENT&quot;,\n            &quot;Identifier&quot;: &quot;&quot;\n        },\n        &quot;CABC00033002&quot;: {\n            &quot;Type&quot;: &quot;CONSIGNMENT&quot;,\n            &quot;Identifier&quot;: &quot;&quot;\n        },\n        &quot;CABC00033001&quot;: {\n            &quot;Type&quot;: &quot;CONSIGNMENT&quot;,\n            &quot;Identifier&quot;: &quot;&quot;\n        }\n    },\n    &quot;FreightHandler&quot;: &quot;&quot;,\n    &quot;Signature&quot;: &quot;&quot;,\n    &quot;Comment&quot;: &quot;&quot;,\n    &quot;Depot&quot;: null\n}\n</code></pre>\n<p>This is the Method to accept a JSON Payload -&gt; Record</p>\n<pre><code>public record CarrierABCStatusUpdateRecord(@JsonProperty(&quot;Timestamp&quot;) String timeStamp,\n                                         @JsonProperty(&quot;Agent&quot;) String agent,\n                                         @JsonProperty(&quot;AgentDevice&quot;) String agentDevice,\n                                         @JsonProperty(&quot;Trace&quot;) String trace,\n                                         @JsonProperty(&quot;Consignment&quot;) String consignment,\n                                         @JsonProperty(&quot;Items&quot;) String items,\n                                         @JsonProperty(&quot;FreightHandler&quot;) String freightHandler,\n                                         @JsonProperty(&quot;Signature&quot;) String signature,\n                                         @JsonProperty(&quot;Comment&quot;) String comment,\n                                         @JsonProperty(&quot;Depot&quot;) String depot) {}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":10203231,"reputation":1487,"user_id":7532721,"display_name":"Chi Dov"},"score":0,"creation_date":1507848653,"post_id":46718011,"comment_id":80386728,"body_markdown":"can you show how you write the jsp action form?","body":"can you show how you write the jsp action form?"}],"answers":[{"tags":[],"owner":{"account_id":10203231,"reputation":1487,"user_id":7532721,"display_name":"Chi Dov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507860228,"creation_date":1507860228,"answer_id":46721408,"question_id":46718011,"body_markdown":"try to change \r\n\r\n    &lt;form:label path=&quot;myDate&quot;&gt;Follow-up date&lt;/form:label&gt;\r\n    &lt;form:input path=&quot;myDate&quot; type=&quot;date&quot;/&gt;\r\n\r\nto\r\n\r\n    &lt;form:label&gt;Follow-up date&lt;/form:label&gt;\r\n    &lt;form:input path=&quot;myDate&quot; type=&quot;date&quot;/&gt;\r\n\r\nwe should not bind the date with label\r\n\r\nand please let me know if that works","title":"Setting a ModelAttribute&#39;s date field when receiving a String from an &lt;input type=&quot;date&quot;&gt; in Spring MVC","body":"<p>try to change </p>\n\n<pre><code>&lt;form:label path=\"myDate\"&gt;Follow-up date&lt;/form:label&gt;\n&lt;form:input path=\"myDate\" type=\"date\"/&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;form:label&gt;Follow-up date&lt;/form:label&gt;\n&lt;form:input path=\"myDate\" type=\"date\"/&gt;\n</code></pre>\n\n<p>we should not bind the date with label</p>\n\n<p>and please let me know if that works</p>\n"},{"tags":[],"owner":{"account_id":23253882,"reputation":29,"user_id":17341218,"display_name":"Rim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664931700,"creation_date":1664772763,"answer_id":73931225,"question_id":46718011,"body_markdown":"```\r\npublic class MyForm{\r\n    @DateTimeFormat(iso=ISO.DATE)\r\n    private Date date;\r\n\r\n}\r\n```\r\nDeclaring @DateTimeFormat at field specify the field must be format to date or time.So basically everytime u try to get a date value it will automatically format to\r\n date or time. And regarding your controller after form submit the request is not mapped to the controller, I guess probably it is your request handler path.\r\n\r\nTry change to: @PostMapping(value=&quot;/new/MyForm&quot;, params=&quot;complete&quot;)","title":"Setting a ModelAttribute&#39;s date field when receiving a String from an &lt;input type=&quot;date&quot;&gt; in Spring MVC","body":"<pre><code>public class MyForm{\n    @DateTimeFormat(iso=ISO.DATE)\n    private Date date;\n\n}\n</code></pre>\n<p>Declaring @DateTimeFormat at field specify the field must be format to date or time.So basically everytime u try to get a date value it will automatically format to\ndate or time. And regarding your controller after form submit the request is not mapped to the controller, I guess probably it is your request handler path.</p>\n<p>Try change to: @PostMapping(value=&quot;/new/MyForm&quot;, params=&quot;complete&quot;)</p>\n"}],"owner":{"account_id":4147765,"reputation":709,"user_id":3401008,"display_name":"dyslexit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664931700,"creation_date":1507838744,"question_id":46718011,"body_markdown":"I&#39;m using Spring MVC and having an issue with submitting a form when the ModelAttribute for that form contains a `Date` field. When I make a POST my Apache Tomcat log gives me the following warning but no stack trace:\r\n\r\n    WARN    2017-10-12 11:51:05,574 [http-nio-8080-exec-7] org.springframework.web.servlet.PageNotFound  - Request method &#39;POST&#39; not supported\r\n\r\nMy `@PostMapping` controller method never even gets called. The thing is, when I change the field from `Date` to `String`, the POST request goes through without any further changes.\r\n\r\nMy form class:\r\n\r\n    public class MyForm {\r\n        private Date myDate;\r\n        // Other unrelated fields\r\n        \r\n        // getters + setters\r\n    }\r\n\r\nMy JSP:\r\n    \r\n    &lt;form:form method=&quot;POST&quot; action=&quot;/new/MyForm&quot; modelAttribute=&quot;myForm&quot;&gt;\r\n        // Unrelated inputs\r\n\r\n        &lt;form:label path=&quot;myDate&quot;&gt;Follow-up date&lt;/form:label&gt;\r\n        &lt;form:input path=&quot;myDate&quot; type=&quot;date&quot;/&gt;\r\n\r\n        &lt;input type=&quot;submit&quot; name=&quot;complete&quot; value=&quot;Submit&quot;/&gt;\r\n    &lt;/form:form&gt;\r\n\r\nMy Controller:\r\n\r\n    @InitBinder\r\n    public void dataBinding(WebDataBinder binder) {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n        CustomDateEditor dateEditor = new CustomDateEditor(dateFormat, true);\r\n        binder.registerCustomEditor(Date.class, dateEditor);\r\n    }\r\n    \r\n    @PostMapping(value=&quot;new/MyForm&quot;, params=&quot;complete&quot;)\r\n    public ModelAndView submitMyForm(@ModelAttribute(&quot;myForm&quot;) MyForm form,\r\n            BindingResult result) {\r\n        \r\n        if (result.hasErrors()) {\r\n            return new ModelAndView(&quot;myURL&quot;);\r\n        }\r\n\r\n        return this.saveAndRedirect(form);\r\n    }\r\n\r\nIf I take out the date input from the JSP completely, everything goes through and gets submitted as expected. If I change the `Date` type to `String` in the Form class, again, the form gets submitted (but I would need to convert the String to a Date manually each time in each controller that uses Date for database storage, and vice versa to display the retrieved Date).\r\n\r\nWhat am I doing wrong?","title":"Setting a ModelAttribute&#39;s date field when receiving a String from an &lt;input type=&quot;date&quot;&gt; in Spring MVC","body":"<p>I'm using Spring MVC and having an issue with submitting a form when the ModelAttribute for that form contains a <code>Date</code> field. When I make a POST my Apache Tomcat log gives me the following warning but no stack trace:</p>\n\n<pre><code>WARN    2017-10-12 11:51:05,574 [http-nio-8080-exec-7] org.springframework.web.servlet.PageNotFound  - Request method 'POST' not supported\n</code></pre>\n\n<p>My <code>@PostMapping</code> controller method never even gets called. The thing is, when I change the field from <code>Date</code> to <code>String</code>, the POST request goes through without any further changes.</p>\n\n<p>My form class:</p>\n\n<pre><code>public class MyForm {\n    private Date myDate;\n    // Other unrelated fields\n\n    // getters + setters\n}\n</code></pre>\n\n<p>My JSP:</p>\n\n<pre><code>&lt;form:form method=\"POST\" action=\"/new/MyForm\" modelAttribute=\"myForm\"&gt;\n    // Unrelated inputs\n\n    &lt;form:label path=\"myDate\"&gt;Follow-up date&lt;/form:label&gt;\n    &lt;form:input path=\"myDate\" type=\"date\"/&gt;\n\n    &lt;input type=\"submit\" name=\"complete\" value=\"Submit\"/&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>My Controller:</p>\n\n<pre><code>@InitBinder\npublic void dataBinding(WebDataBinder binder) {\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\n    CustomDateEditor dateEditor = new CustomDateEditor(dateFormat, true);\n    binder.registerCustomEditor(Date.class, dateEditor);\n}\n\n@PostMapping(value=\"new/MyForm\", params=\"complete\")\npublic ModelAndView submitMyForm(@ModelAttribute(\"myForm\") MyForm form,\n        BindingResult result) {\n\n    if (result.hasErrors()) {\n        return new ModelAndView(\"myURL\");\n    }\n\n    return this.saveAndRedirect(form);\n}\n</code></pre>\n\n<p>If I take out the date input from the JSP completely, everything goes through and gets submitted as expected. If I change the <code>Date</code> type to <code>String</code> in the Form class, again, the form gets submitted (but I would need to convert the String to a Date manually each time in each controller that uses Date for database storage, and vice versa to display the retrieved Date).</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","selenium","xpath","datagridview","grid"],"comments":[{"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"score":0,"creation_date":1664930316,"post_id":73954882,"comment_id":130580745,"body_markdown":"can u pls provide page url or html dom","body":"can u pls provide page url or html dom"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664930365,"post_id":73954882,"comment_id":130580753,"body_markdown":"Hey @SonaliDas pal. It is not exposed at all","body":"Hey @SonaliDas pal. It is not exposed at all"},{"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"score":0,"creation_date":1664930397,"post_id":73954882,"comment_id":130580756,"body_markdown":"then pls provide html dom","body":"then pls provide html dom"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664930461,"post_id":73954882,"comment_id":130580765,"body_markdown":"How can i get the html dom? @SonaliDas","body":"How can i get the html dom? @SonaliDas"},{"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"score":0,"creation_date":1664930518,"post_id":73954882,"comment_id":130580776,"body_markdown":"driver.getpagesource() and then copy the value it returns and paste it or you can provide little bit more node details than what you have posted.","body":"driver.getpagesource() and then copy the value it returns and paste it or you can provide little bit more node details than what you have posted."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664931610,"post_id":73954882,"comment_id":130580911,"body_markdown":"@SonaliDas take a look, pal. I have edited my question","body":"@SonaliDas take a look, pal. I have edited my question"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664931584,"creation_date":1664930031,"question_id":73954882,"body_markdown":"I have this search bar from a GRID:\r\n[![enter image description here][1]][1]\r\n\r\nThat bar has this:\r\n\r\n    &lt;input class=&quot;admin__control-text data-grid-search-control&quot; type=&quot;text&quot; data-bind=&quot;\r\n                    i18n: placeholder,\r\n                    attr: {\r\n                        id: index,\r\n                        placeholder: $t(placeholder)\r\n                    },\r\n                    textInput: inputValue,\r\n                    hasFocus: focused,\r\n                    keyboard: {\r\n                        13: apply.bind($data, false),\r\n                        27: cancel\r\n                    }&quot; id=&quot;fulltext&quot; placeholder=&quot;Search by keyword&quot;&gt;\r\n\r\nXPATH:\r\n\r\n    //*[@id=&quot;fulltext&quot;]\r\n\r\nI&#39;ve tried different things but no one seems to work for me:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fulltext\\&quot;]&quot;)).sendKeys(&quot;9132A42H&quot;);\r\n\r\nor even:\r\n\r\n    driver.findElement(By.linkText(&quot;9132A42H&quot;)).click();\r\n\r\nWhat should i do?\r\n\r\n--------------------------------------------------\r\nI have added the HTML DOM\r\n\r\nHTML DOM:\r\n\r\n    &lt;html lang=&quot;es&quot;&gt;&lt;head&gt;&lt;script&gt; var BASE_URL = &#39;https://testing.test.com/backend/admin/index/index/key/b8574be62125963e01c2a6e44944a0c7f25ff01223a23e2ec0ccc66240a34e68/&#39;; var FORM_KEY = &#39;7nHtBRpYjWY028GP&#39;; var require = { &#39;baseUrl&#39;: &#39;https://testing.test.com/static/adminhtml/Magento/backend/US&#39; };&lt;/script&gt; &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;title&quot; content=&quot;Magento Admin&quot;&gt;\r\n    &lt;meta name=&quot;keywords&quot; content=&quot;Company, B2B, Orders&quot;&gt;\r\n    &lt;meta name=&quot;robots&quot; content=&quot;NOINDEX,NOFOLLOW&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=1024&quot;&gt;\r\n    &lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot;&gt;\r\n    &lt;title&gt;Magento Admin&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/extjs/resources/css/ext-all.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/extjs/resources/css/ytheme-magento.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jstree/themes/default/style.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/css/styles.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_ReCaptchaUser/css/recaptcha.css&quot;&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/requirejs/require.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/requirejs/mixins.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/requirejs-config.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Mageplaza_Core/js/help.js&quot;&gt;&lt;/script&gt;\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://testing.test.com/media/favicon/stores/1/CompanyIcon.png&quot;&gt;\r\n    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://testing.test.com/media/favicon/stores/1/CompanyIcon.png&quot;&gt;\r\n      &lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;js/theme&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/js/theme.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/bootstrap&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/bootstrap.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/adminhtml/globals&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/adminhtml/globals.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Catalog/catalog/product&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Catalog/catalog/product.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Translation/js/mage-translation-dictionary&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Translation/js/mage-translation-dictionary.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;underscore&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/underscore.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/smart-keyboard-handler&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/smart-keyboard-handler.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/ie-class-fixer&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/ie-class-fixer.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/jquery.tabs&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jquery.tabs.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;domReady&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/requirejs/domReady.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/patches/jquery&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/patches/jquery.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/modal/confirm&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/modal/confirm.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/dataPost&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/dataPost.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/apply/main&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/apply/main.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/notification&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/notification.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bootstrap&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bootstrap.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/mage&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/mage.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/translate&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/translate.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;text&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/requirejs/text.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/jquery-migrate&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jquery-migrate.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/ui&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jquery-ui-1.9.2.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/modal/modal&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/modal/modal.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout-es5&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout-es5.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/template&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/template.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/engine&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/engine.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/bootstrap&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/bootstrap.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/extender/observable_array&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/extender/observable_array.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/extender/bound-nodes&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/extender/bound-nodes.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/apply/scripts&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/apply/scripts.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/key-codes&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/key-codes.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/observable_source&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/observable_source.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/renderer&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/renderer.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/console-logger&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/console-logger.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout-repeat&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout-repeat.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout-fast-foreach&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout-fast-foreach.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/resizable&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/resizable.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/i18n&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/i18n.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/scope&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/scope.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/range&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/range.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/mage-init&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/mage-init.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/keyboard&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/keyboard.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/optgroup&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/optgroup.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/after-render&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/after-render.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/autoselect&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/autoselect.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/datepicker&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/datepicker.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/outer_click&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/outer_click.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/fadeVisible&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/fadeVisible.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/collapsible&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/collapsible.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/staticChecked&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/staticChecked.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/simple-checked&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/simple-checked.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/bind-html&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/bind-html.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/tooltip&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/tooltip.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/color-picker&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/color-picker.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/wrapper&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/wrapper.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/core/events&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/core/events.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/loader&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/loader.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/core/storage/local&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/core/storage/local.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/core/class&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/core/class.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/logger&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/logger.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/entry-factory&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/entry-factory.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/console-output-handler&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/console-output-handler.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/formatter&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/formatter.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/message-pool&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/message-pool.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/levels-pool&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/levels-pool.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/logger-utils&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/logger-utils.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/view/utils/async&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/view/utils/async.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/registry/registry&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/registry/registry.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/main&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/main.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;spectrum&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/spectrum/spectrum.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;tinycolor&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/spectrum/tinycolor.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;moment&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/moment.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/template&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/template.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/entry&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/entry.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/view/utils/dom-observer&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/view/utils/dom-observer.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/view/utils/bindings&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/view/utils/bindings.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/arrays&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/arrays.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/compare&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/compare.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/misc&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/misc.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/objects&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/objects.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/strings&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/strings.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/loader_old&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/loader_old.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/form&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/form.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/validation&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/validation.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body data-container=&quot;body&quot; id=&quot;html-body&quot; class=&quot;adminhtml-auth-login page-layout-admin-login&quot;&gt;&lt;section class=&quot;page-wrapper&quot;&gt;    &lt;script&gt; require([ &quot;jquery&quot;, &quot;jquery/ui&quot; ], function($){ $.extend(true, $, { calendarConfig: { dayNames: [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;], dayNamesMin: [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;&quot;,&quot;.&quot;,&quot;.&quot;,&quot;&quot;], monthNames: [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;], monthNamesShort: [&quot;ene.&quot;,&quot;feb.&quot;,&quot;mar.&quot;,&quot;abr.&quot;,&quot;may.&quot;,&quot;jun.&quot;,&quot;jul.&quot;,&quot;ago.&quot;,&quot;sept.&quot;,&quot;oct.&quot;,&quot;nov.&quot;,&quot;dic.&quot;], infoTitle: &quot;Sobre\\u0020el\\u0020calendario&quot;, firstDay: 1, closeText: &quot;Cerrar&quot;, currentText: &quot;Hoy&quot;, prevText: &quot;Anterior&quot;, nextText: &quot;Siguiente&quot;, weekHeader: &quot;WK&quot;, timeText: &quot;Tiempo&quot;, hourText: &quot;Hora&quot;, minuteText: &quot;Minuto&quot;, dateFormat: $.datepicker.RFC_2822, showOn: &quot;button&quot;, showAnim: &quot;&quot;, changeMonth: true, changeYear: true, buttonImageOnly: null, buttonImage: null, showButtonPanel: true, showOtherMonths: true, showWeek: false, timeFormat: &#39;&#39;, showTime: false, showHour: false, showMinute: false, serverTimezoneSeconds: 1664920254, serverTimezoneOffset: -10800, yearRange: &#39;1922\\u003A2122&#39; } }); enUS = {&quot;m&quot;:{&quot;wide&quot;:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;],&quot;abbr&quot;:[&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;]}}; });&lt;/script&gt; &lt;script&gt;    require.config({\r\n            map: {\r\n                &#39;*&#39;: {\r\n                    wysiwygAdapter: &#39;mage/adminhtml/wysiwyg/tiny_mce/tinymce4Adapter&#39;\r\n                }\r\n            }\r\n        });&lt;/script&gt; &lt;script&gt; window.cookiesConfig = window.cookiesConfig || {}; window.cookiesConfig.secure = true; &lt;/script&gt;&lt;header class=&quot;login-header&quot;&gt;    &lt;a href=&quot;https://testing.test.com/backend/admin/&quot; data-edition=&quot;Enterprise&quot; class=&quot;logo&quot;&gt;&lt;img class=&quot;logo-img&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/images/magento-logo.svg&quot; alt=&quot;Admin Panel&quot; title=&quot;Admin Panel&quot;&gt;&lt;/a&gt; &lt;/header&gt;&lt;div class=&quot;login-content&quot;&gt; &lt;form method=&quot;post&quot; action=&quot;&quot; id=&quot;login-form&quot; autocomplete=&quot;off&quot;&gt;&lt;fieldset class=&quot;admin__fieldset&quot;&gt;&lt;legend class=&quot;admin__legend&quot;&gt;&lt;span&gt;Welcome&lt;/span&gt;&lt;/legend&gt;&lt;br&gt;&lt;input name=&quot;form_key&quot; type=&quot;hidden&quot; value=&quot;7nHtBRpYjWY028GP&quot;&gt;&lt;div class=&quot;admin__field _required field-username&quot;&gt;&lt;label for=&quot;username&quot; class=&quot;admin__field-label&quot;&gt;&lt;span&gt;Nombre de usuario&lt;/span&gt;&lt;/label&gt; &lt;div class=&quot;admin__field-control&quot;&gt;&lt;input id=&quot;username&quot; class=&quot;admin__control-text&quot; type=&quot;text&quot; name=&quot;login[username]&quot; autofocus=&quot;&quot; value=&quot;&quot; data-validate=&quot;{required:true}&quot; placeholder=&quot;nombre de usuario&quot; autocomplete=&quot;off&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;admin__field _required field-password&quot;&gt;&lt;label for=&quot;login&quot; class=&quot;admin__field-label&quot;&gt;&lt;span&gt;password&lt;/span&gt;&lt;/label&gt; &lt;div class=&quot;admin__field-control&quot;&gt;&lt;input id=&quot;login&quot; class=&quot;admin__control-text&quot; type=&quot;password&quot; name=&quot;login[password]&quot; data-validate=&quot;{required:true}&quot; value=&quot;&quot; placeholder=&quot;password&quot; autocomplete=&quot;off&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;div class=&quot;form-actions&quot;&gt; &lt;div class=&quot;links&quot;&gt;&lt;a class=&quot;action-forgotpassword&quot; href=&quot;https://testing.test.com/backend/admin/auth/forgotpassword/&quot;&gt;Forget password?&lt;/a&gt;&lt;/div&gt; &lt;div class=&quot;actions&quot;&gt;&lt;button class=&quot;action-login action-primary&quot;&gt;&lt;span&gt;Iniciar sesi&#243;n&lt;/span&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/fieldset&gt;&lt;/form&gt;&lt;/div&gt;&lt;footer class=&quot;login-footer&quot;&gt; &lt;a class=&quot;link-copyright&quot; href=&quot;http://magento.com&quot; target=&quot;_blank&quot; title=&quot;Magento&quot;&gt;&lt;/a&gt; Copyright &#169; 2022 Magento Commerce Inc. All rights reserved.&lt;/footer&gt;&lt;/section&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QM58E.gif","title":"Cannot click on the search bar from grid in Selenium &amp; JAVA","body":"<p>I have this search bar from a GRID:\n<a href=\"https://i.stack.imgur.com/QM58E.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QM58E.gif\" alt=\"enter image description here\" /></a></p>\n<p>That bar has this:</p>\n<pre><code>&lt;input class=&quot;admin__control-text data-grid-search-control&quot; type=&quot;text&quot; data-bind=&quot;\n                i18n: placeholder,\n                attr: {\n                    id: index,\n                    placeholder: $t(placeholder)\n                },\n                textInput: inputValue,\n                hasFocus: focused,\n                keyboard: {\n                    13: apply.bind($data, false),\n                    27: cancel\n                }&quot; id=&quot;fulltext&quot; placeholder=&quot;Search by keyword&quot;&gt;\n</code></pre>\n<p>XPATH:</p>\n<pre><code>//*[@id=&quot;fulltext&quot;]\n</code></pre>\n<p>I've tried different things but no one seems to work for me:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fulltext\\&quot;]&quot;)).sendKeys(&quot;9132A42H&quot;);\n</code></pre>\n<p>or even:</p>\n<pre><code>driver.findElement(By.linkText(&quot;9132A42H&quot;)).click();\n</code></pre>\n<p>What should i do?</p>\n<hr />\n<p>I have added the HTML DOM</p>\n<p>HTML DOM:</p>\n<pre><code>&lt;html lang=&quot;es&quot;&gt;&lt;head&gt;&lt;script&gt; var BASE_URL = 'https://testing.test.com/backend/admin/index/index/key/b8574be62125963e01c2a6e44944a0c7f25ff01223a23e2ec0ccc66240a34e68/'; var FORM_KEY = '7nHtBRpYjWY028GP'; var require = { 'baseUrl': 'https://testing.test.com/static/adminhtml/Magento/backend/US' };&lt;/script&gt; &lt;meta charset=&quot;utf-8&quot;&gt;\n&lt;meta name=&quot;title&quot; content=&quot;Magento Admin&quot;&gt;\n&lt;meta name=&quot;keywords&quot; content=&quot;Company, B2B, Orders&quot;&gt;\n&lt;meta name=&quot;robots&quot; content=&quot;NOINDEX,NOFOLLOW&quot;&gt;\n&lt;meta name=&quot;viewport&quot; content=&quot;width=1024&quot;&gt;\n&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot;&gt;\n&lt;title&gt;Magento Admin&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/extjs/resources/css/ext-all.css&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/extjs/resources/css/ytheme-magento.css&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jstree/themes/default/style.css&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/css/styles.css&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_ReCaptchaUser/css/recaptcha.css&quot;&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/requirejs/require.js&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/requirejs/mixins.js&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/requirejs-config.js&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Mageplaza_Core/js/help.js&quot;&gt;&lt;/script&gt;\n&lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://testing.test.com/media/favicon/stores/1/CompanyIcon.png&quot;&gt;\n&lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://testing.test.com/media/favicon/stores/1/CompanyIcon.png&quot;&gt;\n  &lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;js/theme&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/js/theme.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/bootstrap&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/bootstrap.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/adminhtml/globals&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/adminhtml/globals.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Catalog/catalog/product&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Catalog/catalog/product.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Translation/js/mage-translation-dictionary&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Translation/js/mage-translation-dictionary.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;underscore&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/underscore.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/smart-keyboard-handler&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/smart-keyboard-handler.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/ie-class-fixer&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/ie-class-fixer.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/jquery.tabs&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jquery.tabs.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;domReady&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/requirejs/domReady.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/patches/jquery&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/patches/jquery.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/modal/confirm&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/modal/confirm.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/dataPost&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/dataPost.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/apply/main&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/apply/main.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/notification&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/notification.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bootstrap&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bootstrap.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/mage&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/mage.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/translate&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/translate.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;text&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/requirejs/text.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/jquery-migrate&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jquery-migrate.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;jquery/ui&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/jquery-ui-1.9.2.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/modal/modal&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/modal/modal.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout-es5&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout-es5.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/template&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/template.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/engine&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/engine.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/bootstrap&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/bootstrap.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/extender/observable_array&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/extender/observable_array.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/extender/bound-nodes&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/extender/bound-nodes.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/apply/scripts&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/apply/scripts.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/key-codes&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/key-codes.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/observable_source&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/observable_source.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/renderer&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/renderer.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/console-logger&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/console-logger.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout-repeat&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout-repeat.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;knockoutjs/knockout-fast-foreach&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/knockoutjs/knockout-fast-foreach.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/resizable&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/resizable.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/i18n&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/i18n.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/scope&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/scope.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/range&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/range.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/mage-init&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/mage-init.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/keyboard&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/keyboard.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/optgroup&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/optgroup.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/after-render&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/after-render.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/autoselect&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/autoselect.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/datepicker&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/datepicker.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/outer_click&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/outer_click.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/fadeVisible&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/fadeVisible.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/collapsible&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/collapsible.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/staticChecked&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/staticChecked.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/simple-checked&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/simple-checked.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/bind-html&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/bind-html.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/tooltip&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/tooltip.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/bindings/color-picker&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/bindings/color-picker.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/wrapper&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/wrapper.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/core/events&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/core/events.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/knockout/template/loader&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/knockout/template/loader.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/core/storage/local&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/core/storage/local.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/core/class&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/core/class.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/logger&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/logger.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/entry-factory&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/entry-factory.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/console-output-handler&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/console-output-handler.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/formatter&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/formatter.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/message-pool&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/message-pool.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/levels-pool&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/levels-pool.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/logger-utils&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/logger-utils.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/view/utils/async&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/view/utils/async.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/registry/registry&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/registry/registry.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/main&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/main.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;spectrum&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/spectrum/spectrum.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;tinycolor&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/jquery/spectrum/tinycolor.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;moment&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/moment.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/template&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/template.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/logger/entry&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/logger/entry.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/view/utils/dom-observer&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/view/utils/dom-observer.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;Magento_Ui/js/lib/view/utils/bindings&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/Magento_Ui/js/lib/view/utils/bindings.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/arrays&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/arrays.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/compare&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/compare.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/misc&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/misc.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/objects&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/objects.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/utils/strings&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/utils/strings.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/loader_old&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/loader_old.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/form&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/form.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; data-requirecontext=&quot;_&quot; data-requiremodule=&quot;mage/backend/validation&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/mage/backend/validation.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body data-container=&quot;body&quot; id=&quot;html-body&quot; class=&quot;adminhtml-auth-login page-layout-admin-login&quot;&gt;&lt;section class=&quot;page-wrapper&quot;&gt;    &lt;script&gt; require([ &quot;jquery&quot;, &quot;jquery/ui&quot; ], function($){ $.extend(true, $, { calendarConfig: { dayNames: [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;], dayNamesMin: [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;&quot;,&quot;.&quot;,&quot;.&quot;,&quot;&quot;], monthNames: [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;], monthNamesShort: [&quot;ene.&quot;,&quot;feb.&quot;,&quot;mar.&quot;,&quot;abr.&quot;,&quot;may.&quot;,&quot;jun.&quot;,&quot;jul.&quot;,&quot;ago.&quot;,&quot;sept.&quot;,&quot;oct.&quot;,&quot;nov.&quot;,&quot;dic.&quot;], infoTitle: &quot;Sobre\\u0020el\\u0020calendario&quot;, firstDay: 1, closeText: &quot;Cerrar&quot;, currentText: &quot;Hoy&quot;, prevText: &quot;Anterior&quot;, nextText: &quot;Siguiente&quot;, weekHeader: &quot;WK&quot;, timeText: &quot;Tiempo&quot;, hourText: &quot;Hora&quot;, minuteText: &quot;Minuto&quot;, dateFormat: $.datepicker.RFC_2822, showOn: &quot;button&quot;, showAnim: &quot;&quot;, changeMonth: true, changeYear: true, buttonImageOnly: null, buttonImage: null, showButtonPanel: true, showOtherMonths: true, showWeek: false, timeFormat: '', showTime: false, showHour: false, showMinute: false, serverTimezoneSeconds: 1664920254, serverTimezoneOffset: -10800, yearRange: '1922\\u003A2122' } }); enUS = {&quot;m&quot;:{&quot;wide&quot;:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;],&quot;abbr&quot;:[&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;]}}; });&lt;/script&gt; &lt;script&gt;    require.config({\n        map: {\n            '*': {\n                wysiwygAdapter: 'mage/adminhtml/wysiwyg/tiny_mce/tinymce4Adapter'\n            }\n        }\n    });&lt;/script&gt; &lt;script&gt; window.cookiesConfig = window.cookiesConfig || {}; window.cookiesConfig.secure = true; &lt;/script&gt;&lt;header class=&quot;login-header&quot;&gt;    &lt;a href=&quot;https://testing.test.com/backend/admin/&quot; data-edition=&quot;Enterprise&quot; class=&quot;logo&quot;&gt;&lt;img class=&quot;logo-img&quot; src=&quot;https://testing.test.com/static/adminhtml/Magento/backend/US/images/magento-logo.svg&quot; alt=&quot;Admin Panel&quot; title=&quot;Admin Panel&quot;&gt;&lt;/a&gt; &lt;/header&gt;&lt;div class=&quot;login-content&quot;&gt; &lt;form method=&quot;post&quot; action=&quot;&quot; id=&quot;login-form&quot; autocomplete=&quot;off&quot;&gt;&lt;fieldset class=&quot;admin__fieldset&quot;&gt;&lt;legend class=&quot;admin__legend&quot;&gt;&lt;span&gt;Welcome&lt;/span&gt;&lt;/legend&gt;&lt;br&gt;&lt;input name=&quot;form_key&quot; type=&quot;hidden&quot; value=&quot;7nHtBRpYjWY028GP&quot;&gt;&lt;div class=&quot;admin__field _required field-username&quot;&gt;&lt;label for=&quot;username&quot; class=&quot;admin__field-label&quot;&gt;&lt;span&gt;Nombre de usuario&lt;/span&gt;&lt;/label&gt; &lt;div class=&quot;admin__field-control&quot;&gt;&lt;input id=&quot;username&quot; class=&quot;admin__control-text&quot; type=&quot;text&quot; name=&quot;login[username]&quot; autofocus=&quot;&quot; value=&quot;&quot; data-validate=&quot;{required:true}&quot; placeholder=&quot;nombre de usuario&quot; autocomplete=&quot;off&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;admin__field _required field-password&quot;&gt;&lt;label for=&quot;login&quot; class=&quot;admin__field-label&quot;&gt;&lt;span&gt;password&lt;/span&gt;&lt;/label&gt; &lt;div class=&quot;admin__field-control&quot;&gt;&lt;input id=&quot;login&quot; class=&quot;admin__control-text&quot; type=&quot;password&quot; name=&quot;login[password]&quot; data-validate=&quot;{required:true}&quot; value=&quot;&quot; placeholder=&quot;password&quot; autocomplete=&quot;off&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;div class=&quot;form-actions&quot;&gt; &lt;div class=&quot;links&quot;&gt;&lt;a class=&quot;action-forgotpassword&quot; href=&quot;https://testing.test.com/backend/admin/auth/forgotpassword/&quot;&gt;Forget password?&lt;/a&gt;&lt;/div&gt; &lt;div class=&quot;actions&quot;&gt;&lt;button class=&quot;action-login action-primary&quot;&gt;&lt;span&gt;Iniciar sesión&lt;/span&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/fieldset&gt;&lt;/form&gt;&lt;/div&gt;&lt;footer class=&quot;login-footer&quot;&gt; &lt;a class=&quot;link-copyright&quot; href=&quot;http://magento.com&quot; target=&quot;_blank&quot; title=&quot;Magento&quot;&gt;&lt;/a&gt; Copyright © 2022 Magento Commerce Inc. All rights reserved.&lt;/footer&gt;&lt;/section&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","data-structures","linked-list","singly-linked-list","doubly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":7044519,"reputation":137,"user_id":5395752,"display_name":"Janath"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443778868,"creation_date":1443778868,"answer_id":32904498,"question_id":32904134,"body_markdown":"you can iterate through the list and check the availability of item using below method.\r\n\r\nboolean contains(Object o)\r\n\r\nThen if you found it, then you remove it since you already know the index.\r\n\r\nObject remove(int index)","title":"Remove the same elements from a linked list","body":"<p>you can iterate through the list and check the availability of item using below method.</p>\n\n<p>boolean contains(Object o)</p>\n\n<p>Then if you found it, then you remove it since you already know the index.</p>\n\n<p>Object remove(int index)</p>\n"},{"tags":[],"owner":{"account_id":3434762,"reputation":1002,"user_id":2878130,"display_name":"Lemm Ras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443779767,"creation_date":1443779767,"answer_id":32904783,"question_id":32904134,"body_markdown":"The method `boolean remove(Object)` returns true in the case the element is in the list. You could do something like (in an uncompressed form on purpose):\r\n\r\n    boolean condition = true;\r\n    while(condition){\r\n         condition = list.remove(3);\r\n    }\r\n\r\nThe condition will ensure that each unwanted element is deleted in the list. Pay attention to the method, I do not know exactly the precedence, but there is also `E remove(int i)` that may lead you to delete the element at the i-th position and not the wanted one. Assigning the value to a boolean, as above, could work in disambiguating things, but in the other case use:\r\n\r\n    list.remove(new Integer(3));\r\n\r\nthat will work as highlighted in this question:\r\nhttps://stackoverflow.com/questions/4534146/properly-removing-an-integer-from-a-listinteger","title":"Remove the same elements from a linked list","body":"<p>The method <code>boolean remove(Object)</code> returns true in the case the element is in the list. You could do something like (in an uncompressed form on purpose):</p>\n\n<pre><code>boolean condition = true;\nwhile(condition){\n     condition = list.remove(3);\n}\n</code></pre>\n\n<p>The condition will ensure that each unwanted element is deleted in the list. Pay attention to the method, I do not know exactly the precedence, but there is also <code>E remove(int i)</code> that may lead you to delete the element at the i-th position and not the wanted one. Assigning the value to a boolean, as above, could work in disambiguating things, but in the other case use:</p>\n\n<pre><code>list.remove(new Integer(3));\n</code></pre>\n\n<p>that will work as highlighted in this question:\n<a href=\"https://stackoverflow.com/questions/4534146/properly-removing-an-integer-from-a-listinteger\">Properly removing an Integer from a List&lt;Integer&gt;</a></p>\n"},{"tags":[],"owner":{"account_id":5844488,"reputation":1704,"user_id":4605005,"accept_rate":79,"display_name":"Zizoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443792835,"creation_date":1443784917,"answer_id":32906078,"question_id":32904134,"body_markdown":"your code is good but you forgot to check all elements because in for loop when the first element 3 is found will get into break , so it won&#39;t check the rest of 3s elements . try this code ,also you don&#39;t need break just when you find this element delete it and go to the next:\r\n\r\nPS : The count variable you need to minimize it after every deletion process , in your code it will be executed just for one time .\r\n\r\n    public void remove(int value) {\r\n\t\tIntegerNode curr = head;\r\n\t\tIntegerNode prev = null;\r\n\r\n\t\t\tfor (curr = head; curr != null; curr = curr.next) {\r\n\t\t\t\tif(curr.item == value) {\r\n\t\t\t\t\tif (prev == null) {\r\n\t\t\t\t\t\thead = curr.next;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprev.next = curr.next;\r\n\t\t\t\t\t}\r\n                        count--;\r\n\t\t\t\t}\r\n\t\t\t\tprev = curr;\r\n\t\t\t}\r\n\t}","title":"Remove the same elements from a linked list","body":"<p>your code is good but you forgot to check all elements because in for loop when the first element 3 is found will get into break , so it won't check the rest of 3s elements . try this code ,also you don't need break just when you find this element delete it and go to the next:</p>\n\n<p>PS : The count variable you need to minimize it after every deletion process , in your code it will be executed just for one time .</p>\n\n<pre><code>public void remove(int value) {\n    IntegerNode curr = head;\n    IntegerNode prev = null;\n\n        for (curr = head; curr != null; curr = curr.next) {\n            if(curr.item == value) {\n                if (prev == null) {\n                    head = curr.next;\n                } else {\n                    prev.next = curr.next;\n                }\n                    count--;\n            }\n            prev = curr;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5769951,"reputation":725,"user_id":4553646,"accept_rate":67,"display_name":"Alexander Stepchkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664929700,"creation_date":1443789190,"answer_id":32907265,"question_id":32904134,"body_markdown":"Just one line:\r\n\r\n`while(list.remove(new Integer(3))){}`\r\n\r\nJust test it (to be sure) with next code:\r\n\r\n    LinkedList&lt;Integer&gt; list =new LinkedList&lt;Integer&gt;();\r\n    list.add(1);\r\n    list.add(2);\r\n    list.add(3);\r\n    list.add(3);\r\n    list.add(3);\r\n    list.add(2);\r\n    System.out.println(list);\r\n    while(list.remove(new Integer(3))){}\r\n    System.out.println(list);\r\n\r\nResult:\r\n\r\n    [1, 2, 3, 3, 3, 2]\r\n    [1, 2, 2]\r\n\r\n","title":"Remove the same elements from a linked list","body":"<p>Just one line:</p>\n<p><code>while(list.remove(new Integer(3))){}</code></p>\n<p>Just test it (to be sure) with next code:</p>\n<pre><code>LinkedList&lt;Integer&gt; list =new LinkedList&lt;Integer&gt;();\nlist.add(1);\nlist.add(2);\nlist.add(3);\nlist.add(3);\nlist.add(3);\nlist.add(2);\nSystem.out.println(list);\nwhile(list.remove(new Integer(3))){}\nSystem.out.println(list);\n</code></pre>\n<p>Result:</p>\n<pre><code>[1, 2, 3, 3, 3, 2]\n[1, 2, 2]\n</code></pre>\n"}],"owner":{"account_id":6987616,"reputation":89,"user_id":5357917,"display_name":"Jimmy Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32906078,"answer_count":4,"score":1,"last_activity_date":1664929700,"creation_date":1443777601,"question_id":32904134,"body_markdown":"I want to remove the required values(int) in a linked list. For example, {3,1,2,3,3}. I use remove(int 3), then it should be {1,2}. Can you help me, my code can just remove the 3 in the index 0, but I still need to remove the index 3 and 4.\r\n\r\n    public void remove(int value) {\r\n        IntegerNode curr = head;\r\n        IntegerNode prev = null;\r\n        \r\n        for(curr = head; curr != null; curr = curr.next) {\r\n            if(curr.item == value) {\r\n                break;\r\n            }\r\n    \r\n            prev = curr;\r\n        }\r\n        \r\n        if(prev == null) {\r\n            head = curr.next;\r\n        } else {\r\n            prev.next = curr.next;\r\n        }\r\n\r\n        count--;\r\n    }\r\n\r\n ","title":"Remove the same elements from a linked list","body":"<p>I want to remove the required values(int) in a linked list. For example, {3,1,2,3,3}. I use remove(int 3), then it should be {1,2}. Can you help me, my code can just remove the 3 in the index 0, but I still need to remove the index 3 and 4.</p>\n\n<pre><code>public void remove(int value) {\n    IntegerNode curr = head;\n    IntegerNode prev = null;\n\n    for(curr = head; curr != null; curr = curr.next) {\n        if(curr.item == value) {\n            break;\n        }\n\n        prev = curr;\n    }\n\n    if(prev == null) {\n        head = curr.next;\n    } else {\n        prev.next = curr.next;\n    }\n\n    count--;\n}\n</code></pre>\n"},{"tags":["java","bouncycastle","elliptic-curve"],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1664928240,"creation_date":1310428890,"answer_id":6658122,"question_id":6648166,"body_markdown":"Your example makes no sense at all so it is hard to understand what you think the result should be. By using low-level classes like `ECFieldElement` you are taking full responsibility to provide sensible parameters. You have selected NIST curve P-224. This elliptic curve is defined over a specific field. You can retrieve the prime &#39;q&#39; for this finite field and use it to create field elements by the following (departing from your example):\r\n\r\n\r\n        X9ECParameters x9 = NISTNamedCurves.getByName(&quot;P-224&quot;);\r\n        ECCurve.Fp curve = (Fp) x9.getCurve();\r\n        BigInteger q = curve.getQ();\r\n        ECFieldElement x1 = new ECFieldElement.Fp(q, new BigInteger(&quot;8&quot;));\r\n        ECFieldElement y1 = new ECFieldElement.Fp(q, new BigInteger(&quot;9&quot;));\r\n\r\nThe first argument of the `ECFieldElement.Fp` constructor is the prime that defines the field.\r\n\r\nThe second problem with your example is that not every pair (x,y) of integers is a point on the elliptic curve. The chance of a random (x,y) being on P-224 is incredibly small. Here again, by messing with the low-level EPoint classes Bouncycastle does not check this for you. So while you can make the machinery of the elliptic curve addition software run and give you answers, those answers are meaningless.\r\n\r\nTo make any more progress I have to ask first: what are you trying to do? \r\n\r\nFinding a point on an Elliptic Curve\r\n------------------------------------\r\n\r\nThere are two basic ways to find a point on an elliptic curve.\r\n\r\n 1. take an existing known point on the curve and scalar multiply by an integer. The result is another point on the curve.\r\n 2. Pick an x-coordinate, say x&lt;sub&gt;1&lt;/sub&gt;. Plug it into the right side of the [elliptic curve formula][1] to get y&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;2&lt;/sup&gt; = E(x1). Then attempt to compute a square root in the field. If the square root exists, then you get two points (x&lt;sub&gt;1&lt;/sub&gt;, y&lt;sub&gt;1&lt;/sub&gt;) and (x&lt;sub&gt;1&lt;/sub&gt;,-y&lt;sub&gt;1&lt;/sub&gt;) that are on the curve. If the square root does not exists, then there is no point on the curve with x-coordinate x&lt;sub&gt;1&lt;/sub&gt;.\r\n\r\nYou can get a point on your elliptic curve by `ECPoint.Fp = (ECPoint.Fp)x9.getG();` You can multiply that point by an integer with the `ECPoint.multiply(...)`.\r\n\r\nUsing method #2 is harder than it needs to be with Bouncycastle. All the methods are in the ECPoint and ECFieldElement classes. The ECFieldElement class contains a public square root method that you can use to attempt to compute the square root. If it returns null then the square root does not exist.\r\n\r\n\r\n  [1]: https://secure.wikimedia.org/wikipedia/en/wiki/Elliptic_curve","title":"Elliptic Curve Encryption","body":"<p>Your example makes no sense at all so it is hard to understand what you think the result should be. By using low-level classes like <code>ECFieldElement</code> you are taking full responsibility to provide sensible parameters. You have selected NIST curve P-224. This elliptic curve is defined over a specific field. You can retrieve the prime 'q' for this finite field and use it to create field elements by the following (departing from your example):</p>\n<pre><code>    X9ECParameters x9 = NISTNamedCurves.getByName(&quot;P-224&quot;);\n    ECCurve.Fp curve = (Fp) x9.getCurve();\n    BigInteger q = curve.getQ();\n    ECFieldElement x1 = new ECFieldElement.Fp(q, new BigInteger(&quot;8&quot;));\n    ECFieldElement y1 = new ECFieldElement.Fp(q, new BigInteger(&quot;9&quot;));\n</code></pre>\n<p>The first argument of the <code>ECFieldElement.Fp</code> constructor is the prime that defines the field.</p>\n<p>The second problem with your example is that not every pair (x,y) of integers is a point on the elliptic curve. The chance of a random (x,y) being on P-224 is incredibly small. Here again, by messing with the low-level EPoint classes Bouncycastle does not check this for you. So while you can make the machinery of the elliptic curve addition software run and give you answers, those answers are meaningless.</p>\n<p>To make any more progress I have to ask first: what are you trying to do?</p>\n<h2>Finding a point on an Elliptic Curve</h2>\n<p>There are two basic ways to find a point on an elliptic curve.</p>\n<ol>\n<li>take an existing known point on the curve and scalar multiply by an integer. The result is another point on the curve.</li>\n<li>Pick an x-coordinate, say x<sub>1</sub>. Plug it into the right side of the <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Elliptic_curve\" rel=\"nofollow noreferrer\">elliptic curve formula</a> to get y<sub>1</sub><sup>2</sup> = E(x1). Then attempt to compute a square root in the field. If the square root exists, then you get two points (x<sub>1</sub>, y<sub>1</sub>) and (x<sub>1</sub>,-y<sub>1</sub>) that are on the curve. If the square root does not exists, then there is no point on the curve with x-coordinate x<sub>1</sub>.</li>\n</ol>\n<p>You can get a point on your elliptic curve by <code>ECPoint.Fp = (ECPoint.Fp)x9.getG();</code> You can multiply that point by an integer with the <code>ECPoint.multiply(...)</code>.</p>\n<p>Using method #2 is harder than it needs to be with Bouncycastle. All the methods are in the ECPoint and ECFieldElement classes. The ECFieldElement class contains a public square root method that you can use to attempt to compute the square root. If it returns null then the square root does not exist.</p>\n"}],"owner":{"account_id":299007,"reputation":2543,"user_id":605343,"accept_rate":65,"display_name":"RAVITEJA SATYAVADA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6658122,"answer_count":1,"score":0,"last_activity_date":1664928240,"creation_date":1310376514,"question_id":6648166,"body_markdown":"Please provide me an example using the Bouncycastle library showing how to add two points on an elliptic curve.\r\n\r\nI tried the following code but i didn&#39;t get the same result that should happen theoretically.\r\n\r\n       X9ECParameters x9=NISTNamedCurves.getByName(&quot;P-224&quot;);\r\n       ECCurve curve=x9.getCurve();\r\n       ECFieldElement x1=new ECFieldElement.Fp(new BigInteger(&quot;10&quot;), new BigInteger(&quot;8&quot;));\r\n       ECFieldElement y1=new ECFieldElement.Fp(new BigInteger(&quot;10&quot;), new BigInteger(&quot;9&quot;));\r\n       ECPoint.Fp p1=new ECPoint.Fp(curve, x1, y1);\r\n       ECFieldElement x2=new ECFieldElement.Fp(new BigInteger(&quot;10&quot;), new BigInteger(&quot;5&quot;));\r\n       ECFieldElement y2=new ECFieldElement.Fp(new BigInteger(&quot;10&quot;), new BigInteger(&quot;6&quot;));\r\n       ECPoint.Fp p2=new ECPoint.Fp(curve, x2, y2);\r\n       p2=(ECPoint.Fp) p1.add(p2);\r\n       System.out.println(p2.getX().toBigInteger()+&quot; &quot;+p2.getY().toBigInteger());\r\n\r\nAnd also I didn&#39;t understand what value is to provide for first `BigInteger` in `ECFiledElement`.","title":"Elliptic Curve Encryption","body":"<p>Please provide me an example using the Bouncycastle library showing how to add two points on an elliptic curve.</p>\n\n<p>I tried the following code but i didn't get the same result that should happen theoretically.</p>\n\n<pre><code>   X9ECParameters x9=NISTNamedCurves.getByName(\"P-224\");\n   ECCurve curve=x9.getCurve();\n   ECFieldElement x1=new ECFieldElement.Fp(new BigInteger(\"10\"), new BigInteger(\"8\"));\n   ECFieldElement y1=new ECFieldElement.Fp(new BigInteger(\"10\"), new BigInteger(\"9\"));\n   ECPoint.Fp p1=new ECPoint.Fp(curve, x1, y1);\n   ECFieldElement x2=new ECFieldElement.Fp(new BigInteger(\"10\"), new BigInteger(\"5\"));\n   ECFieldElement y2=new ECFieldElement.Fp(new BigInteger(\"10\"), new BigInteger(\"6\"));\n   ECPoint.Fp p2=new ECPoint.Fp(curve, x2, y2);\n   p2=(ECPoint.Fp) p1.add(p2);\n   System.out.println(p2.getX().toBigInteger()+\" \"+p2.getY().toBigInteger());\n</code></pre>\n\n<p>And also I didn't understand what value is to provide for first <code>BigInteger</code> in <code>ECFiledElement</code>.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9632688,"reputation":67,"user_id":7149956,"display_name":"Kiran Nemani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664927906,"creation_date":1479113027,"answer_id":40584748,"question_id":40584685,"body_markdown":"You should call onBackPressed() in the following manner in order to exit from the app:\r\n\r\n    public void onBackPressed(){\r\n    system.exit(0);\r\n    super.onBackPressed();\r\n    }\r\n\r\n","title":"redirect to main window/screen in android device on clicking the back button","body":"<p>You should call onBackPressed() in the following manner in order to exit from the app:</p>\n<pre><code>public void onBackPressed(){\nsystem.exit(0);\nsuper.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2065154,"reputation":1574,"user_id":1840795,"display_name":"Nakul Sudhakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1479113213,"creation_date":1479113213,"answer_id":40584792,"question_id":40584685,"body_markdown":"    public void onBackPressed(){\r\n    \r\n     if (mWebView.canGoBack()) {\r\n          mWebView.goBack();\r\n     } else {\r\n          finish();\r\n     }\r\n    }\r\n\r\nI suppose this is the solution you are looking for. This would move webview to previous webpage if it has a previous page, or else it would finish the activity","title":"redirect to main window/screen in android device on clicking the back button","body":"<pre><code>public void onBackPressed(){\n\n if (mWebView.canGoBack()) {\n      mWebView.goBack();\n } else {\n      finish();\n }\n}\n</code></pre>\n\n<p>I suppose this is the solution you are looking for. This would move webview to previous webpage if it has a previous page, or else it would finish the activity</p>\n"}],"owner":{"account_id":9035098,"reputation":71,"user_id":6731422,"accept_rate":56,"display_name":"user6731422"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40584792,"answer_count":2,"score":0,"last_activity_date":1664927906,"creation_date":1479112780,"question_id":40584685,"body_markdown":"I am opening a web url within my android app using this code below. My challenge is that on opening a url, it loads the page but on after navigating the url then clicking the back button of the android device instead of the app going back to the previous screen, it exits the application. This is the code\r\n\r\n   \r\n\r\n     mWebView = (WebView) findViewById(R.id.webview);\r\n                mWebView.loadUrl(&quot;http://weburl.com&quot;);\r\n                mWebView.setWebViewClient(new WebViewClient() {\r\n                    public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                        view.loadUrl(url);\r\n                        return true;\r\n\r\nPlease how can I make it in such a way that clicking the back button let it navigate to the previous screen of the web url.","title":"redirect to main window/screen in android device on clicking the back button","body":"<p>I am opening a web url within my android app using this code below. My challenge is that on opening a url, it loads the page but on after navigating the url then clicking the back button of the android device instead of the app going back to the previous screen, it exits the application. This is the code</p>\n\n<pre><code> mWebView = (WebView) findViewById(R.id.webview);\n            mWebView.loadUrl(\"http://weburl.com\");\n            mWebView.setWebViewClient(new WebViewClient() {\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                    view.loadUrl(url);\n                    return true;\n</code></pre>\n\n<p>Please how can I make it in such a way that clicking the back button let it navigate to the previous screen of the web url.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1481781763,"post_id":41157404,"comment_id":69516230,"body_markdown":"Which version of Eclipse was used to create the project originally? Which version of Eclipse are you using?","body":"Which version of Eclipse was used to create the project originally? Which version of Eclipse are you using?"},{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1481782260,"post_id":41157404,"comment_id":69516383,"body_markdown":"Did you an update project on Maven?","body":"Did you an update project on Maven?"},{"owner":{"account_id":5616536,"reputation":1283,"user_id":4447655,"accept_rate":76,"display_name":"magic_turtle"},"score":0,"creation_date":1481782492,"post_id":41157404,"comment_id":69516470,"body_markdown":"The project was not created using eclipse at all. I am using Eclipse Neon. I believe that originally it could be recreated in Eclipse Mars.","body":"The project was not created using eclipse at all. I am using Eclipse Neon. I believe that originally it could be recreated in Eclipse Mars."}],"answers":[{"tags":[],"owner":{"account_id":9783920,"reputation":129,"user_id":7250838,"display_name":"Romeo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481783585,"creation_date":1481783585,"answer_id":41157830,"question_id":41157404,"body_markdown":"I suggest that you can try to create a new workspace and import the parent project into it.","title":"Eclipse shows empty files","body":"<p>I suggest that you can try to create a new workspace and import the parent project into it.</p>\n"},{"tags":[],"owner":{"account_id":26530473,"reputation":1,"user_id":20162748,"display_name":"user20162748"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664927689,"creation_date":1664927689,"answer_id":73954694,"question_id":41157404,"body_markdown":"I could have this fixed simply by trying to select/expand the folders above it. For e.g. Double click on &#39;src&#39; and then click on the the folders &#39;main&#39; and &#39;test&#39; below it. Then click &#39;target&#39; and finally click on &#39;pom.xml&#39;. It works like wonders and strangely the content of pom.xml started to shown up in the workspace!!","title":"Eclipse shows empty files","body":"<p>I could have this fixed simply by trying to select/expand the folders above it. For e.g. Double click on 'src' and then click on the the folders 'main' and 'test' below it. Then click 'target' and finally click on 'pom.xml'. It works like wonders and strangely the content of pom.xml started to shown up in the workspace!!</p>\n"}],"owner":{"account_id":5616536,"reputation":1283,"user_id":4447655,"accept_rate":76,"display_name":"magic_turtle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664927689,"creation_date":1481781644,"question_id":41157404,"body_markdown":"I have a complex Maven project in eclipse, with a parent pom.xml file and a few childs. When I import as an Existing Maven project in Eclipse, I cannot open any of the files - the workspace shows an empty page. I have gone through this solution here - https://stackoverflow.com/questions/16192607/eclipse-opens-blank-workspace After restarting, I am able to view 1 or 2 files but in a min my workspace starts showing empty pages again. \r\n\r\nAny workaround? \r\nIn eclipse&#39;s configuration/congif.ini osgi.instance.area.default= points to my current workspace, and Maven&#39;s settings and repo are set to .m2 folder. \r\n\r\nEclipse gives me no errors. \r\n\r\nI have tried deleting an entire .metadata folder and re-creating a project but a workspace for my project is still empty. For no-complex project pages are shown correctly. ","title":"Eclipse shows empty files","body":"<p>I have a complex Maven project in eclipse, with a parent pom.xml file and a few childs. When I import as an Existing Maven project in Eclipse, I cannot open any of the files - the workspace shows an empty page. I have gone through this solution here - <a href=\"https://stackoverflow.com/questions/16192607/eclipse-opens-blank-workspace\">Eclipse opens blank workspace</a> After restarting, I am able to view 1 or 2 files but in a min my workspace starts showing empty pages again. </p>\n\n<p>Any workaround? \nIn eclipse's configuration/congif.ini osgi.instance.area.default= points to my current workspace, and Maven's settings and repo are set to .m2 folder. </p>\n\n<p>Eclipse gives me no errors. </p>\n\n<p>I have tried deleting an entire .metadata folder and re-creating a project but a workspace for my project is still empty. For no-complex project pages are shown correctly. </p>\n"},{"tags":["java","list","jersey","jax-rs"],"comments":[{"owner":{"account_id":1292103,"reputation":9146,"user_id":1243996,"accept_rate":97,"display_name":"Adam Sznajder"},"score":5,"creation_date":1339706586,"post_id":11040995,"comment_id":14440396,"body_markdown":"Seems similiar: http://stackoverflow.com/questions/5161466/how-do-i-use-the-jersey-json-pojo-support","body":"Seems similiar: <a href=\"http://stackoverflow.com/questions/5161466/how-do-i-use-the-jersey-json-pojo-support\" title=\"how do i use the jersey json pojo support\">stackoverflow.com/questions/5161466/&hellip;</a>"},{"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"score":2,"creation_date":1339707251,"post_id":11040995,"comment_id":14440633,"body_markdown":"Great thanks. That&#39;s exactly it!! It was actually the question that solved my problem. I needed to add the com.sun.jersey.api.json.POJOMappingFeature parameter. *facepalm*","body":"Great thanks. That&#39;s exactly it!! It was actually the question that solved my problem. I needed to add the com.sun.jersey.api.json.POJOMappingFeature parameter. <i>facepalm</i>"},{"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"score":0,"creation_date":1339707318,"post_id":11040995,"comment_id":14440663,"body_markdown":"Whats the best way to go about this question now? Could you post your comment as an answer or should I just delete this silly question altogether?","body":"Whats the best way to go about this question now? Could you post your comment as an answer or should I just delete this silly question altogether?"},{"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"score":3,"creation_date":1351886174,"post_id":11040995,"comment_id":17974480,"body_markdown":"don&#39;t delete it. this is a useful google search result.","body":"don&#39;t delete it. this is a useful google search result."},{"owner":{"account_id":238444,"reputation":18241,"user_id":507339,"accept_rate":78,"display_name":"Nilzor"},"score":0,"creation_date":1359567976,"post_id":11040995,"comment_id":20400986,"body_markdown":"Hi I&#39;m having the same problem but I don&#39;t understand what you mean with &quot;add the com.sun.jersey.api.json.POJOMappingFeature parameter&quot;. Where / how do you do that?","body":"Hi I&#39;m having the same problem but I don&#39;t understand what you mean with &quot;add the com.sun.jersey.api.json.POJOMappingFeature parameter&quot;. Where / how do you do that?"},{"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"score":0,"creation_date":1443185291,"post_id":11040995,"comment_id":53403652,"body_markdown":"In `web.xml`, add param to your Jersey servlet: `&lt;init-param&gt;&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;&lt;param-value&gt;true&lt;/param-value&gt;&lt;/init-param&gt;`. Alternatively if the problem comes from client code, then add this feature to Jersey client config: `ClientConfig cc = new DefaultClientConfig(); cc.getFeatures().put(&quot;com.sun.jersey.api.json.POJOMappingFeature&quot;, true);Client.create(cc);`.","body":"In <code>web.xml</code>, add param to your Jersey servlet: <code>&lt;init-param&gt;&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingF&zwnj;&#8203;eature&lt;&#47;param-name&gt;&lt;&zwnj;&#8203;param-value&gt;true&lt;&#47;pa&zwnj;&#8203;ram-value&gt;&lt;&#47;init-par&zwnj;&#8203;am&gt;</code>. Alternatively if the problem comes from client code, then add this feature to Jersey client config: <code>ClientConfig cc = new DefaultClientConfig(); cc.getFeatures().put(&quot;com.sun.jersey.api.json.POJOMappingFea&zwnj;&#8203;ture&quot;, true);Client.create(cc);</code>."}],"answers":[{"tags":[],"owner":{"account_id":917789,"reputation":7969,"user_id":950199,"display_name":"Martin Matula"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1339707069,"creation_date":1339707069,"answer_id":11041142,"question_id":11040995,"body_markdown":"You need to annotate Region class with @XmlRootElement.","title":"A message body writer for Java class java.util.ArrayList","body":"<p>You need to annotate Region class with @XmlRootElement.</p>\n"},{"tags":[],"owner":{"account_id":469001,"reputation":7729,"user_id":875305,"accept_rate":67,"display_name":"11101101b"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1382475936,"creation_date":1364398221,"answer_id":15662780,"question_id":11040995,"body_markdown":"The other answer didn&#39;t work for me (I already had the XmlRootElement annotation), but I finally got it to work with JSON.  It was returning XML just fine, just not JSON.\r\n\r\nI was using the jersey-bundle-1.17.jar (also tried with the asm-3.1.jar and jersey-json-1.17.jar added to classpath and still didn&#39;t work). I finally just tried downloading the zip that includes 12 different jars. Once I added all 12 jars to my classpath I finally got rid of the error and works great returning JSON.\r\n\r\nI hope this helps somebody.\r\n\r\nEDIT: Here is a link to the zip file that contains the 12 jar files: [jersey-archive-1.17.zip][1]\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/com/sun/jersey/jersey-archive/1.17.1/jersey-archive-1.17.1.zip","title":"A message body writer for Java class java.util.ArrayList","body":"<p>The other answer didn't work for me (I already had the XmlRootElement annotation), but I finally got it to work with JSON.  It was returning XML just fine, just not JSON.</p>\n\n<p>I was using the jersey-bundle-1.17.jar (also tried with the asm-3.1.jar and jersey-json-1.17.jar added to classpath and still didn't work). I finally just tried downloading the zip that includes 12 different jars. Once I added all 12 jars to my classpath I finally got rid of the error and works great returning JSON.</p>\n\n<p>I hope this helps somebody.</p>\n\n<p>EDIT: Here is a link to the zip file that contains the 12 jar files: <a href=\"http://repo1.maven.org/maven2/com/sun/jersey/jersey-archive/1.17.1/jersey-archive-1.17.1.zip\" rel=\"noreferrer\">jersey-archive-1.17.zip</a></p>\n"},{"tags":[],"owner":{"account_id":290821,"reputation":742,"user_id":592593,"display_name":"Dante"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366983558,"creation_date":1366983558,"answer_id":16237928,"question_id":11040995,"body_markdown":"@XmlRootElement with this annotation it&#39;s possible to select JSON ou XML in Jersey.\r\nThank you very much!\r\n\r\nJust add to rest this:\r\n@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n\r\nOn the request you set on the header if you won the return in xml or in json!\r\n","title":"A message body writer for Java class java.util.ArrayList","body":"<p>@XmlRootElement with this annotation it's possible to select JSON ou XML in Jersey.\nThank you very much!</p>\n\n<p>Just add to rest this:\n@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})</p>\n\n<p>On the request you set on the header if you won the return in xml or in json!</p>\n"},{"tags":[],"owner":{"account_id":2334140,"reputation":2428,"user_id":2046862,"display_name":"Pinkesh Sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1664926961,"creation_date":1395220104,"answer_id":22500845,"question_id":11040995,"body_markdown":"        You can use JSONObject to create a Json Response \r\n        \r\n        eg: \r\n        \r\n        List&lt;Region&gt; regions = regionDao.getAll();\r\n        JSONArray list = new JSONArray();\r\n        for(Region region : regions )\r\n        {\r\n           JSONObject jObject= new JSONObject();\r\n           //put all the data in json object\r\n           jObject.put(region.getSomething());\r\n           // and put this Jsonobject in JsonArray\r\n           list.add(jObject);\r\n        }\r\n    \r\n    Or \r\n    \r\n    Response.ok().entity(new GenericEntity&lt;List&lt;Region&gt;&gt;(regions) {}).build();\r\n","title":"A message body writer for Java class java.util.ArrayList","body":"<pre><code>    You can use JSONObject to create a Json Response \n    \n    eg: \n    \n    List&lt;Region&gt; regions = regionDao.getAll();\n    JSONArray list = new JSONArray();\n    for(Region region : regions )\n    {\n       JSONObject jObject= new JSONObject();\n       //put all the data in json object\n       jObject.put(region.getSomething());\n       // and put this Jsonobject in JsonArray\n       list.add(jObject);\n    }\n\nOr \n\nResponse.ok().entity(new GenericEntity&lt;List&lt;Region&gt;&gt;(regions) {}).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":515180,"reputation":1185,"user_id":1107450,"display_name":"Rodislav Moldovan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1402495109,"creation_date":1402495109,"answer_id":24164866,"question_id":11040995,"body_markdown":"as a quick solution I see:\r\n\r\n    final List&lt;MyModel&gt; myList = new ArrayList&lt;&gt;();\r\n    Response.ok().entity(new GenericEntity&lt;List&lt;MyModel&gt;&gt;(myList) {}).build();","title":"A message body writer for Java class java.util.ArrayList","body":"<p>as a quick solution I see:</p>\n\n<pre><code>final List&lt;MyModel&gt; myList = new ArrayList&lt;&gt;();\nResponse.ok().entity(new GenericEntity&lt;List&lt;MyModel&gt;&gt;(myList) {}).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4778267,"reputation":1,"user_id":3860796,"display_name":"serena"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1405949877,"creation_date":1405947566,"answer_id":24865738,"question_id":11040995,"body_markdown":"add `@@XmlRootElement` before your class Region","title":"A message body writer for Java class java.util.ArrayList","body":"<p>add <code>@@XmlRootElement</code> before your class Region</p>\n"},{"tags":[],"owner":{"account_id":7816923,"reputation":21,"user_id":5911307,"display_name":"Anudeep Abraham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455153269,"creation_date":1455153269,"answer_id":35329111,"question_id":11040995,"body_markdown":"As you are expecting List, you can annotate your bean class with @XmlRootElement. But the same won&#39;t work for Map.\r\nJersey internally uses moxy to do the job done.","title":"A message body writer for Java class java.util.ArrayList","body":"<p>As you are expecting List, you can annotate your bean class with @XmlRootElement. But the same won't work for Map.\nJersey internally uses moxy to do the job done.</p>\n"},{"tags":[],"owner":{"account_id":443924,"reputation":56,"user_id":3647312,"display_name":"Vadym Vikulin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519159680,"creation_date":1519159680,"answer_id":48893954,"question_id":11040995,"body_markdown":"Add dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n        &lt;version&gt;${jersey-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"A message body writer for Java class java.util.ArrayList","body":"<p>Add dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n    &lt;version&gt;${jersey-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55715,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":8,"score":28,"last_activity_date":1664926961,"creation_date":1339706288,"question_id":11040995,"body_markdown":"I received the below stack trace when accessing on of my jax-rs resources.\r\n\r\nI&#39;m using Tomcat 7, with Jersey 1.12 and Hibernate 4 and MySQL.\r\n\r\nI found this tutorial while searching for a solution: http://aruld.info/handling-generified-collections-in-jersey-jax-rs/ but none of the examples listed seemed to work.\r\n\r\nWhat am I missing here?\r\n\r\nPlease no answers that have me writing `MessageBodyWriters`, this should work out the box. (And I know there&#39;s a solution, I just can&#39;t figure it out.)\r\n\r\nHere are all my jars:\r\n\r\n    antlr-2.7.7.jar\r\n    asm-3.1.jar\r\n    commons-collections-3.2.1.jar\r\n    dom4j-1.6.1.jar\r\n    gson-1.7.1.jar\r\n    hibernate-commons-annotations-4.0.1.Final.jar\r\n    hibernate-core-4.1.0.Final.jar\r\n    hibernate-jpa-2.0-api-1.0.1.Final.jar\r\n    jackson-core-asl-1.9.2.jar\r\n    jackson-jaxrs-1.9.2.jar\r\n    jackson-mapper-asl-1.9.2.jar\r\n    jackson-xc-1.9.2.jar\r\n    javassist-3.15.0-GA.jar\r\n    jboss-logging-3.1.0.CR2.jar\r\n    jboss-transaction-api_1.1_spec-1.0.0.Final.jar\r\n    jersey-client-1.12.jar\r\n    jersey-core-1.12.jar\r\n    jersey-json-1.12.jar\r\n    jersey-server-1.12.jar\r\n    jersey-servlet-1.12.jar\r\n    jettison-1.1.jar\r\n    jsr311-api-1.1.1.jar\r\n    mysql-connector-java-3.1.12-bin.jar\r\n\r\nHere is my resource class and method:\r\n\r\n    @Path(&quot;/region&quot;)\r\n    public class RegionService {\r\n    \t// This method is called if TEXT_PLAIN is request\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\t\r\n    \tpublic JResponse&lt;List&lt;Region&gt;&gt; region() {\r\n    \t\tRegionDao regionDao = new RegionDao();\r\n    \t\tregionDao.openSession();\r\n    \t\tList&lt;Region&gt; regions = regionDao.getAll();\r\n    \t\tregionDao.closeSession();\r\n    \t    return JResponse.ok(regions).build();\r\n    \t}\r\n    }\r\n\r\nAnd here is the stacktrace: \r\n\r\n    SEVERE: Mapped exception to response: 500 (Internal Server Error)\r\n    javax.ws.rs.WebApplicationException: com.sun.jersey.api.MessageException: A message body writer for Java class java.util.ArrayList, and Java type java.util.List&lt;campher.hibernate.entities.Region&gt;, and MIME media type application/json was not found\r\n    \tat com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:285)\r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)\r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)\r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)\r\n","title":"A message body writer for Java class java.util.ArrayList","body":"<p>I received the below stack trace when accessing on of my jax-rs resources.</p>\n\n<p>I'm using Tomcat 7, with Jersey 1.12 and Hibernate 4 and MySQL.</p>\n\n<p>I found this tutorial while searching for a solution: <a href=\"http://aruld.info/handling-generified-collections-in-jersey-jax-rs/\">http://aruld.info/handling-generified-collections-in-jersey-jax-rs/</a> but none of the examples listed seemed to work.</p>\n\n<p>What am I missing here?</p>\n\n<p>Please no answers that have me writing <code>MessageBodyWriters</code>, this should work out the box. (And I know there's a solution, I just can't figure it out.)</p>\n\n<p>Here are all my jars:</p>\n\n<pre><code>antlr-2.7.7.jar\nasm-3.1.jar\ncommons-collections-3.2.1.jar\ndom4j-1.6.1.jar\ngson-1.7.1.jar\nhibernate-commons-annotations-4.0.1.Final.jar\nhibernate-core-4.1.0.Final.jar\nhibernate-jpa-2.0-api-1.0.1.Final.jar\njackson-core-asl-1.9.2.jar\njackson-jaxrs-1.9.2.jar\njackson-mapper-asl-1.9.2.jar\njackson-xc-1.9.2.jar\njavassist-3.15.0-GA.jar\njboss-logging-3.1.0.CR2.jar\njboss-transaction-api_1.1_spec-1.0.0.Final.jar\njersey-client-1.12.jar\njersey-core-1.12.jar\njersey-json-1.12.jar\njersey-server-1.12.jar\njersey-servlet-1.12.jar\njettison-1.1.jar\njsr311-api-1.1.1.jar\nmysql-connector-java-3.1.12-bin.jar\n</code></pre>\n\n<p>Here is my resource class and method:</p>\n\n<pre><code>@Path(\"/region\")\npublic class RegionService {\n    // This method is called if TEXT_PLAIN is request\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)   \n    public JResponse&lt;List&lt;Region&gt;&gt; region() {\n        RegionDao regionDao = new RegionDao();\n        regionDao.openSession();\n        List&lt;Region&gt; regions = regionDao.getAll();\n        regionDao.closeSession();\n        return JResponse.ok(regions).build();\n    }\n}\n</code></pre>\n\n<p>And here is the stacktrace: </p>\n\n<pre><code>SEVERE: Mapped exception to response: 500 (Internal Server Error)\njavax.ws.rs.WebApplicationException: com.sun.jersey.api.MessageException: A message body writer for Java class java.util.ArrayList, and Java type java.util.List&lt;campher.hibernate.entities.Region&gt;, and MIME media type application/json was not found\n    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:285)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)\n    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1272120496,"post_id":2704812,"comment_id":2728352,"body_markdown":"Can&#39;t you simply call the methods you already use in your shutdown-hook whenever you want?","body":"Can&#39;t you simply call the methods you already use in your shutdown-hook whenever you want?"},{"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"score":0,"creation_date":1272268763,"post_id":2704812,"comment_id":9058729,"body_markdown":"The error you mention here is a compiler error, warning you that you catch an exception that is never thrown inside the corresponding try-block. The call to `AudioSystem.write` can throw an IOException, and when you move the call outside the try-block, that try-block cannot throw the exception. You have to move the complete try-catch-block instead of only the two statements.","body":"The error you mention here is a compiler error, warning you that you catch an exception that is never thrown inside the corresponding try-block. The call to <code>AudioSystem.write</code> can throw an IOException, and when you move the call outside the try-block, that try-block cannot throw the exception. You have to move the complete try-catch-block instead of only the two statements."}],"answers":[{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1272120592,"creation_date":1272120592,"answer_id":2704856,"question_id":2704812,"body_markdown":"First of all, all your comments are completely redundant, you just repeat the name of the various classes and methods you&#39;re using.\r\n\r\nAs for the problem, well your save code is in the shutdown hook which means &quot;*do this when the application is about to close*&quot; which naturally means that it won&#39;t save it until the program is about to close. So, move that logic away from the shutdown hook to whatever the logical place for it is - most likely at the end of the method, mayhaps in `final` block even - and that&#39;s it.","title":"Avoiding shutdown hook","body":"<p>First of all, all your comments are completely redundant, you just repeat the name of the various classes and methods you're using.</p>\n\n<p>As for the problem, well your save code is in the shutdown hook which means \"<em>do this when the application is about to close</em>\" which naturally means that it won't save it until the program is about to close. So, move that logic away from the shutdown hook to whatever the logical place for it is - most likely at the end of the method, mayhaps in <code>final</code> block even - and that's it.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664926949,"creation_date":1664926549,"answer_id":73954583,"question_id":2704812,"body_markdown":"Create a method\r\n\r\n    public static native shutdownWithoutHooks();\r\n\r\nCreate a headerfile of the method using `javah`.\r\n\r\nCreate a native c++-File calling \r\n\r\n    exit(0);\r\n\r\nCompile and load the library using \r\n\r\n    Runtime.getRuntime().load(&quot;&lt;absolute filename of the .dll/.so-file&quot;);\r\n    shutdownWithoutHooks();\r\n","title":"Avoiding shutdown hook","body":"<p>Create a method</p>\n<pre><code>public static native shutdownWithoutHooks();\n</code></pre>\n<p>Create a headerfile of the method using <code>javah</code>.</p>\n<p>Create a native c++-File calling</p>\n<pre><code>exit(0);\n</code></pre>\n<p>Compile and load the library using</p>\n<pre><code>Runtime.getRuntime().load(&quot;&lt;absolute filename of the .dll/.so-file&quot;);\nshutdownWithoutHooks();\n</code></pre>\n"}],"owner":{"account_id":609856,"reputation":11,"user_id":324963,"display_name":"meryl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664926949,"creation_date":1272119613,"question_id":2704812,"body_markdown":"Through the following code I can play and cut and audio file.\r\nIs there any other way to avoid using a shutdown hook?\r\nThe problem is that whenever I push the cut button , the file doesn&#39;t get saved until I close the application\r\n\r\nthanks \r\n\r\n    void play_cut() {\r\n    \r\n            try {\r\n    \r\n        // First, we get the format of the input file\r\n        final AudioFileFormat.Type fileType = AudioSystem.getAudioFileFormat(inputAudio).getType();\r\n        // Then, we get a clip for playing the audio.\r\n        c = AudioSystem.getClip();\r\n        // We get a stream for playing the input file.\r\n        AudioInputStream ais = AudioSystem.getAudioInputStream(inputAudio);\r\n        // We use the clip to open (but not start) the input stream\r\n        c.open(ais);\r\n        // We get the format of the audio codec (not the file format we got above)\r\n        final AudioFormat audioFormat = ais.getFormat();\r\n        \r\n         // We add a shutdown hook, an anonymous inner class.\r\n        Runtime.getRuntime().addShutdownHook(new Thread()\r\n        {\r\n          public void run()\r\n          {\r\n            // We&#39;re now in the hook, which means the program is shutting down.\r\n            // You would need to use better exception handling in a production application.\r\n            try\r\n            {\r\n              // Stop the audio clip.\r\n              c.stop();\r\n              // Create a new input stream, with the duration set to the frame count we reached.  Note that we use the previously determined audio format\r\n              AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\r\n              // Write it out to the output file, using the same file type.\r\n              AudioSystem.write(startStream, fileType, outputAudio);\r\n            }\r\n            catch(IOException e)\r\n            {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        });\r\n        // After setting up the hook, we start the clip.\r\n        \r\n    \r\n         c.start();\r\n               \r\n            } catch (UnsupportedAudioFileException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (LineUnavailableException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }// end play_cut\r\n\r\n\r\n---\r\n\r\nActually , what I wanted to know is :\r\nDo I really need a shutdown hook?\r\n\r\nIf I move these two code statements \r\n\r\n    AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\r\n    AudioSystem.write(startStream, fileType, outputAudio);\r\n   \r\n\r\n\r\nsomewhere else after   c.start(); I get an error :\r\n\r\n&gt; exception java.io.IOException is never thrown in body of corresponding try statement --&gt;catch(IOException e)\r\n\r\n\r\nDo you think I can get the same results without resorting to the hook?\r\n\r\n        \r\n\r\n","title":"Avoiding shutdown hook","body":"<p>Through the following code I can play and cut and audio file.\nIs there any other way to avoid using a shutdown hook?\nThe problem is that whenever I push the cut button , the file doesn't get saved until I close the application</p>\n\n<p>thanks </p>\n\n<pre><code>void play_cut() {\n\n        try {\n\n    // First, we get the format of the input file\n    final AudioFileFormat.Type fileType = AudioSystem.getAudioFileFormat(inputAudio).getType();\n    // Then, we get a clip for playing the audio.\n    c = AudioSystem.getClip();\n    // We get a stream for playing the input file.\n    AudioInputStream ais = AudioSystem.getAudioInputStream(inputAudio);\n    // We use the clip to open (but not start) the input stream\n    c.open(ais);\n    // We get the format of the audio codec (not the file format we got above)\n    final AudioFormat audioFormat = ais.getFormat();\n\n     // We add a shutdown hook, an anonymous inner class.\n    Runtime.getRuntime().addShutdownHook(new Thread()\n    {\n      public void run()\n      {\n        // We're now in the hook, which means the program is shutting down.\n        // You would need to use better exception handling in a production application.\n        try\n        {\n          // Stop the audio clip.\n          c.stop();\n          // Create a new input stream, with the duration set to the frame count we reached.  Note that we use the previously determined audio format\n          AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\n          // Write it out to the output file, using the same file type.\n          AudioSystem.write(startStream, fileType, outputAudio);\n        }\n        catch(IOException e)\n        {\n          e.printStackTrace();\n        }\n      }\n    });\n    // After setting up the hook, we start the clip.\n\n\n     c.start();\n\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n        }\n    }// end play_cut\n</code></pre>\n\n<hr>\n\n<p>Actually , what I wanted to know is :\nDo I really need a shutdown hook?</p>\n\n<p>If I move these two code statements </p>\n\n<pre><code>AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\nAudioSystem.write(startStream, fileType, outputAudio);\n</code></pre>\n\n<p>somewhere else after   c.start(); I get an error :</p>\n\n<blockquote>\n  <p>exception java.io.IOException is never thrown in body of corresponding try statement -->catch(IOException e)</p>\n</blockquote>\n\n<p>Do you think I can get the same results without resorting to the hook?</p>\n"},{"tags":["java","authentication","grpc","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664926240,"creation_date":1664924087,"answer_id":73954356,"question_id":73954274,"body_markdown":"You could catch it all in a try block and send the message just in there; The issue you face is that you are first closing the call before returning it, so it tries to process an already closed pipe.\r\n\r\nIn the second scenario, as you send the &quot;void&quot; message right after the &quot;close&quot; message, the detailed message gets overriden.\r\n\r\nTry something like:\r\n\r\n\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) \r\n    {\r\n        String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\r\n        Context context = Context.current();\r\n        boolean mustClose=false;\r\n        try\r\n        {\r\n           if (!Strings.isNullOrEmpty(token)) \r\n           {\r\n               String fbToken = authenticationService.verifyIdToken(token);\r\n               context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\r\n               return Contexts.interceptCall(context,serverCall,metadata, serverCallHandler);\r\n           } \r\n           else \r\n           {\r\n               mustClose=true;\r\n               return new ServerCall.Listener&lt;ReqT&gt;() {};\r\n           }              \r\n         } \r\n         finally \r\n         {\r\n            if (mustClose)\r\n                 serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\r\n         }\r\n    }\r\n\r\n","title":"What is the proper way to return an error from gRPC ServerInterceptor","body":"<p>You could catch it all in a try block and send the message just in there; The issue you face is that you are first closing the call before returning it, so it tries to process an already closed pipe.</p>\n<p>In the second scenario, as you send the &quot;void&quot; message right after the &quot;close&quot; message, the detailed message gets overriden.</p>\n<p>Try something like:</p>\n<pre><code>@Override\npublic &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) \n{\n    String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\n    Context context = Context.current();\n    boolean mustClose=false;\n    try\n    {\n       if (!Strings.isNullOrEmpty(token)) \n       {\n           String fbToken = authenticationService.verifyIdToken(token);\n           context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\n           return Contexts.interceptCall(context,serverCall,metadata, serverCallHandler);\n       } \n       else \n       {\n           mustClose=true;\n           return new ServerCall.Listener&lt;ReqT&gt;() {};\n       }              \n     } \n     finally \n     {\n        if (mustClose)\n             serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":194097,"reputation":2923,"user_id":436210,"display_name":"Tea Curran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73954356,"answer_count":1,"score":1,"last_activity_date":1664926696,"creation_date":1664923249,"question_id":73954274,"body_markdown":"I have a Quarkus application that uses gRPC.  I have implemented a ServerInterceptor to look for and validate auth tokens. \r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n@ApplicationScoped\r\npublic class GrpcAuthInterceptor implements ServerInterceptor {\r\n\r\n    @Inject\r\n    AuthenticationService authenticationService;\r\n\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\r\n        String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\r\n\r\n        Context context = Context.current();\r\n\r\n        if (!Strings.isNullOrEmpty(token)) {\r\n            String fbToken = authenticationService.verifyIdToken(token);\r\n            context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\r\n        } else {\r\n            serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\r\n        }\r\n\r\n        return Contexts.interceptCall(\r\n                context,\r\n                serverCall,\r\n                metadata,\r\n                serverCallHandler);\r\n    }\r\n}\r\n```\r\n\r\nThis works and sends a message to the client like this:\r\n\r\n```\r\ngRPC Error (code: 16, codeName: UNAUTHENTICATED, message: Auth Token Required, details: [], rawResponse: null, trailers: {})\r\n```\r\n\r\nbut it logs this error on the server because I didn&#39;t return from the method after sending the error:\r\n\r\n```\r\n2022-10-04 21:50:23,006 ERROR [io.qua.mut.run.MutinyInfrastructure] (vert.x-eventloop-thread-0)\r\nMutiny had to drop the following exception: java.lang.IllegalStateException: call is closed\r\n```\r\n\r\nSeveral posts suggest I can return an empty ServerCall.Listener like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\nserverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\r\nreturn new ServerCall.Listener&lt;ReqT&gt;() {};\r\n```\r\n\r\nthis works and gets rid of the server-side error message BUT it breaks the message returned to the client.  The client just gets this:\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\ngRPC Error (code: 2, codeName: UNKNOWN, message: null, details: [], rawResponse: null, trailers: {})\r\n```\r\n\r\nSo my question is: how do I return a meaningful error message to the client and not log an exception server-side?","title":"What is the proper way to return an error from gRPC ServerInterceptor","body":"<p>I have a Quarkus application that uses gRPC.  I have implemented a ServerInterceptor to look for and validate auth tokens.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class GrpcAuthInterceptor implements ServerInterceptor {\n\n    @Inject\n    AuthenticationService authenticationService;\n\n    @Override\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\n        String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\n\n        Context context = Context.current();\n\n        if (!Strings.isNullOrEmpty(token)) {\n            String fbToken = authenticationService.verifyIdToken(token);\n            context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\n        } else {\n            serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\n        }\n\n        return Contexts.interceptCall(\n                context,\n                serverCall,\n                metadata,\n                serverCallHandler);\n    }\n}\n</code></pre>\n<p>This works and sends a message to the client like this:</p>\n<pre><code>gRPC Error (code: 16, codeName: UNAUTHENTICATED, message: Auth Token Required, details: [], rawResponse: null, trailers: {})\n</code></pre>\n<p>but it logs this error on the server because I didn't return from the method after sending the error:</p>\n<pre><code>2022-10-04 21:50:23,006 ERROR [io.qua.mut.run.MutinyInfrastructure] (vert.x-eventloop-thread-0)\nMutiny had to drop the following exception: java.lang.IllegalStateException: call is closed\n</code></pre>\n<p>Several posts suggest I can return an empty ServerCall.Listener like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\nreturn new ServerCall.Listener&lt;ReqT&gt;() {};\n</code></pre>\n<p>this works and gets rid of the server-side error message BUT it breaks the message returned to the client.  The client just gets this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gRPC Error (code: 2, codeName: UNKNOWN, message: null, details: [], rawResponse: null, trailers: {})\n</code></pre>\n<p>So my question is: how do I return a meaningful error message to the client and not log an exception server-side?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"score":1,"creation_date":1511858840,"post_id":47527129,"comment_id":82010670,"body_markdown":"This should fix your issue https://stackoverflow.com/questions/38662547/context-initialization-failed-nosuchmethoderror-antpathmatcher-setcasesensiti","body":"This should fix your issue <a href=\"https://stackoverflow.com/questions/38662547/context-initialization-failed-nosuchmethoderror-antpathmatcher-setcasesensiti\" title=\"context initialization failed nosuchmethoderror antpathmatcher setcasesensiti\">stackoverflow.com/questions/38662547/&hellip;</a>"},{"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"score":0,"creation_date":1511859227,"post_id":47527129,"comment_id":82010905,"body_markdown":"Why don&#39;t you try pure java based configuration?","body":"Why don&#39;t you try pure java based configuration?"},{"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"score":0,"creation_date":1511859597,"post_id":47527129,"comment_id":82011151,"body_markdown":"I already have xml based configuration with the existing MVC application. I just want to follow the same thing","body":"I already have xml based configuration with the existing MVC application. I just want to follow the same thing"}],"answers":[{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664925953,"creation_date":1511988714,"answer_id":47561607,"question_id":47527129,"body_markdown":"I used  4.2.1 spring security library \r\nand updated spring security xsd like this\r\n\r\nspring-security-4.2.xsd\r\n\r\nAnd was able to see the app running well.\r\n","title":"Adding spring security to an existing Spring MVC","body":"<p>I used  4.2.1 spring security library\nand updated spring security xsd like this</p>\n<p>spring-security-4.2.xsd</p>\n<p>And was able to see the app running well.</p>\n"}],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":47561607,"answer_count":1,"score":0,"last_activity_date":1664925953,"creation_date":1511858068,"question_id":47527129,"body_markdown":"I have spent hours to look for answers and fix this problem. But after spending many hours it seems I might need to put this question for help. I saw many similar scenarios but none became an answer. \r\n\r\nI already have a spring web application that runs well with out authentication. I  am trying to implement a simple spring security using xml configuration.\r\n\r\n\r\n\r\n[![Before the update][1]][1]\r\n\r\nBefore Modification \r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThis Is after Modification \r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;course-project&lt;/display-name&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;\r\n    \t\t\t/WEB-INF/spring-security.xml,\r\n    \t\t\t/WEB-INF/spring-database.xml\r\n    \t\t&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \r\n    \t&lt;!-- Spring Security --&gt;\r\n    \t&lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/core&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \t\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- --&gt;\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.tadtab.core&quot;&gt;&lt;/context:component-scan&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\r\n    &lt;/beans&gt;\r\n\r\nAnd this is the dispatcher servlet\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;course-project&lt;/display-name&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    &lt;/web-app&gt;\r\n\r\n    \r\nHere is my configuration before updating it with the example I found online.\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;course-project&lt;/display-name&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t\r\n&lt;/web-app&gt;\r\n\r\nI used to be able to access my application at calhost:8283/core/ \r\n\r\n\r\nBy the time I update web.xml with the following code \r\n\r\n\r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\t/WEB-INF/spring-security.xml,\r\n\t\t\t/WEB-INF/spring-database.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;!-- Spring Security --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/core&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\r\nI am getting the following exception \r\n\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.filterChains&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39; while setting bean property &#39;sourceList&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39;: Cannot create inner bean &#39;(inner bean)#60cee7ca&#39; of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#60cee7ca&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\r\n    .\r\n    .\r\n    .\r\n    \r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39;: Cannot create inner bean &#39;(inner bean)#60cee7ca&#39; of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#60cee7ca&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\r\n    \r\n    .\r\n    .\r\n    .\r\n    \t... 47 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#60cee7ca&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1139)\r\n    \r\n    \t.\r\n    \t.\r\n    \t.\r\n    \tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:267)\r\n    \t... 66 more\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.createMatcher(AntPathRequestMatcher.java:268)\r\n    \tat org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:252)\r\n    \tat org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:2\r\n\r\n  [1]: https://i.stack.imgur.com/BAEwW.png\r\n  [2]: https://i.stack.imgur.com/PnN7w.png\r\n  [3]: https://i.stack.imgur.com/EJt2q.png\r\n  [4]: https://i.stack.imgur.com/3Zw7d.png\r\n  [5]: https://i.stack.imgur.com/aTpJK.png\r\n  [6]: https://i.stack.imgur.com/nlqWA.png","title":"Adding spring security to an existing Spring MVC","body":"<p>I have spent hours to look for answers and fix this problem. But after spending many hours it seems I might need to put this question for help. I saw many similar scenarios but none became an answer. </p>\n\n<p>I already have a spring web application that runs well with out authentication. I  am trying to implement a simple spring security using xml configuration.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BAEwW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BAEwW.png\" alt=\"Before the update\"></a></p>\n\n<p>Before Modification </p>\n\n<p><a href=\"https://i.stack.imgur.com/PnN7w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PnN7w.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/EJt2q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJt2q.png\" alt=\"enter image description here\"></a></p>\n\n<p>This Is after Modification </p>\n\n<p><a href=\"https://i.stack.imgur.com/3Zw7d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Zw7d.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/aTpJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aTpJK.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nlqWA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nlqWA.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;course-project&lt;/display-name&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/spring-security.xml,\n            /WEB-INF/spring-database.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Spring Security --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/core&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\"&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=\"com.tadtab.core\"&gt;&lt;/context:component-scan&gt;\n\n    &lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/view/\"&gt;&lt;/property&gt;\n        &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;mvc:resources location=\"/resources/\" mapping=\"/resources/**\"&gt;&lt;/mvc:resources&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>And this is the dispatcher servlet</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;course-project&lt;/display-name&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here is my configuration before updating it with the example I found online.</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;course-project&lt;/display-name&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p></p>\n\n<p>I used to be able to access my application at calhost:8283/core/ </p>\n\n<p>By the time I update web.xml with the following code </p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/spring-security.xml,\n        /WEB-INF/spring-database.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;!-- Spring Security --&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/core&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>I am getting the following exception </p>\n\n<pre><code>    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#0' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot create inner bean '(inner bean)#60cee7ca' of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#60cee7ca': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\n.\n.\n.\n\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot create inner bean '(inner bean)#60cee7ca' of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#60cee7ca': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\n\n.\n.\n.\n    ... 47 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#60cee7ca': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1139)\n\n    .\n    .\n    .\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:267)\n    ... 66 more\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.createMatcher(AntPathRequestMatcher.java:268)\n    at org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:252)\n    at org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:2\n</code></pre>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920814,"creation_date":1664920814,"answer_id":73954015,"question_id":73953948,"body_markdown":"The simplest thing to do is to stub the call to `getObjectA()` separately, to return another mock or spy, where you stub `getPara1()` and/or `getPara2()`.  So it might look something like this.\r\n\r\n    Data dataMock = Mockito.mock(Data.class);\r\n    ClassA objectASpy = Mockito.spy(objectA);\r\n    when(dataMock.getObjectA()).thenReturn(objectASpy);\r\n    when(objectASpy.getPara1()).thenReturn(required);\r\n\r\nI also recommend using annotations for your mocking and spying.  So you might have field declarations like\r\n\r\n    @Mock\r\n    private Data dataMock;\r\n\r\n    @Spy\r\n    private ClassA objectASpy;\r\n\r\noutside of the test method itself.","title":"Mockito only mock part of value and return real value for others","body":"<p>The simplest thing to do is to stub the call to <code>getObjectA()</code> separately, to return another mock or spy, where you stub <code>getPara1()</code> and/or <code>getPara2()</code>.  So it might look something like this.</p>\n<pre><code>Data dataMock = Mockito.mock(Data.class);\nClassA objectASpy = Mockito.spy(objectA);\nwhen(dataMock.getObjectA()).thenReturn(objectASpy);\nwhen(objectASpy.getPara1()).thenReturn(required);\n</code></pre>\n<p>I also recommend using annotations for your mocking and spying.  So you might have field declarations like</p>\n<pre><code>@Mock\nprivate Data dataMock;\n\n@Spy\nprivate ClassA objectASpy;\n</code></pre>\n<p>outside of the test method itself.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664923170,"creation_date":1664923170,"answer_id":73954265,"question_id":73953948,"body_markdown":"If you want to override ObjectA&#39;s behavior, then the instance that `data` returns needs to be a mock or spy. Fundamentally you have three choices:\r\n\r\n### Use a spy\r\n\r\nAs in [Dawood&#39;s answer](https://stackoverflow.com/a/73954015/1426891):\r\n\r\n```java\r\nData dataMock = Mockito.mock(Data.class);\r\nClassA objectASpy = Mockito.spy(objectA);\r\nwhen(dataMock.getObjectA()).thenReturn(objectASpy);\r\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\r\n```\r\n\r\nIf you want `getPara1()` to return the same result for any _internal_ calls within `objectASpy`, this is the way to go.\r\n\r\n### Use [delegatesTo](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalAnswers.html#delegatesTo(java.lang.Object))\r\n\r\nThis opts into a delegation-based behavior for Mockito, rather than overriding as it usually does.\r\n\r\n```java\r\nData dataMock = Mockito.mock(Data.class);\r\nClassA objectAMock = Mockito.mock(ObjectA.class, delegatesTo(objectA));\r\nwhen(dataMock.getObjectA()).thenReturn(objectAMock);\r\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\r\n```\r\n\r\nIf you only want `getPara1()` to return `required` on the _outside_ calls, but have `objectASpy` return its original value for its internal calls, you could use this technique. \r\n\r\n### Use [deep stubbing](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html)\r\n\r\nMockito does have a feature that would allow for your current syntax:\r\n\r\n```java\r\nMockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\r\nMockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\r\n```\r\n\r\nThis feature is called _returning deep stubs_, and is best for when an object like `dataSpy` here represents a tree of very straightforward objects. That said, heed its warning:\r\n\r\n&gt; **WARNING:** This feature should rarely be required for regular clean code! Leave it for legacy code. Mocking a mock to return a mock, to return a mock, (...), to return something meaningful hints at violation of Law of Demeter or mocking a value object (a well known anti-pattern).\r\n\r\n### Note 1\r\n\r\nThe line `when(objectASpy.getPara1()).thenReturn(required);` will actually call `objectASpy.getPara1()`. This might be fine as long as the object doesn&#39;t throw an exception and doesn&#39;t have side effects, but you can avoid that behavior with `doVerb` syntax so Mockito can see ahead of the call that you&#39;re starting to stub.\r\n\r\nNote that unlike `when().thenReturn()` syntax, the `when` below only contains the mock instead of the full mock method call.\r\n\r\n```java\r\ndoReturn(required).when(objectASpy).getPara1();\r\n```","title":"Mockito only mock part of value and return real value for others","body":"<p>If you want to override ObjectA's behavior, then the instance that <code>data</code> returns needs to be a mock or spy. Fundamentally you have three choices:</p>\n<h3>Use a spy</h3>\n<p>As in <a href=\"https://stackoverflow.com/a/73954015/1426891\">Dawood's answer</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Data dataMock = Mockito.mock(Data.class);\nClassA objectASpy = Mockito.spy(objectA);\nwhen(dataMock.getObjectA()).thenReturn(objectASpy);\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\n</code></pre>\n<p>If you want <code>getPara1()</code> to return the same result for any <em>internal</em> calls within <code>objectASpy</code>, this is the way to go.</p>\n<h3>Use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalAnswers.html#delegatesTo(java.lang.Object)\" rel=\"nofollow noreferrer\">delegatesTo</a></h3>\n<p>This opts into a delegation-based behavior for Mockito, rather than overriding as it usually does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Data dataMock = Mockito.mock(Data.class);\nClassA objectAMock = Mockito.mock(ObjectA.class, delegatesTo(objectA));\nwhen(dataMock.getObjectA()).thenReturn(objectAMock);\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\n</code></pre>\n<p>If you only want <code>getPara1()</code> to return <code>required</code> on the <em>outside</em> calls, but have <code>objectASpy</code> return its original value for its internal calls, you could use this technique.</p>\n<h3>Use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html\" rel=\"nofollow noreferrer\">deep stubbing</a></h3>\n<p>Mockito does have a feature that would allow for your current syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\nMockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\n</code></pre>\n<p>This feature is called <em>returning deep stubs</em>, and is best for when an object like <code>dataSpy</code> here represents a tree of very straightforward objects. That said, heed its warning:</p>\n<blockquote>\n<p><strong>WARNING:</strong> This feature should rarely be required for regular clean code! Leave it for legacy code. Mocking a mock to return a mock, to return a mock, (...), to return something meaningful hints at violation of Law of Demeter or mocking a value object (a well known anti-pattern).</p>\n</blockquote>\n<h3>Note 1</h3>\n<p>The line <code>when(objectASpy.getPara1()).thenReturn(required);</code> will actually call <code>objectASpy.getPara1()</code>. This might be fine as long as the object doesn't throw an exception and doesn't have side effects, but you can avoid that behavior with <code>doVerb</code> syntax so Mockito can see ahead of the call that you're starting to stub.</p>\n<p>Note that unlike <code>when().thenReturn()</code> syntax, the <code>when</code> below only contains the mock instead of the full mock method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>doReturn(required).when(objectASpy).getPara1();\n</code></pre>\n"}],"owner":{"account_id":3851490,"reputation":59,"user_id":3191566,"display_name":"CCCCos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73954265,"answer_count":2,"score":0,"last_activity_date":1664923170,"creation_date":1664920189,"question_id":73953948,"body_markdown":"I have a unit test with a real object (Data data) and a boolean value (boolean required) as input.\r\n\r\n    mockTest(Data data, boolean required)\r\n\r\nIn my code I have\r\n\r\n    data.getObjectA().getPara1();\r\n\r\nIn other places I also have\r\n\r\n    data.getObjectA().getPara2();\r\n\r\n\r\nAnd I&#39;m trying to mock the return value of data.getObjectA().getPara1() to the booelan in the input\r\n\r\nBut below won&#39;t work:\r\n\r\n    Mockito.when(data.getObjectA().getPara1()).thenReturn(required);\r\nOr\r\n\r\n    Data dataSpy = Mockito.spy(data);\r\n    Mockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\r\n    Mockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\r\n\r\nThey either throw NullPointerException or Type errors\r\n\r\nWhat is the correct way of mocking/spying it? I need to mock the return of para1 and keep para2 the real value.\r\n\r\n\r\n","title":"Mockito only mock part of value and return real value for others","body":"<p>I have a unit test with a real object (Data data) and a boolean value (boolean required) as input.</p>\n<pre><code>mockTest(Data data, boolean required)\n</code></pre>\n<p>In my code I have</p>\n<pre><code>data.getObjectA().getPara1();\n</code></pre>\n<p>In other places I also have</p>\n<pre><code>data.getObjectA().getPara2();\n</code></pre>\n<p>And I'm trying to mock the return value of data.getObjectA().getPara1() to the booelan in the input</p>\n<p>But below won't work:</p>\n<pre><code>Mockito.when(data.getObjectA().getPara1()).thenReturn(required);\n</code></pre>\n<p>Or</p>\n<pre><code>Data dataSpy = Mockito.spy(data);\nMockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\nMockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\n</code></pre>\n<p>They either throw NullPointerException or Type errors</p>\n<p>What is the correct way of mocking/spying it? I need to mock the return of para1 and keep para2 the real value.</p>\n"},{"tags":["java","android","opencv"],"answers":[{"tags":[],"owner":{"account_id":26244587,"reputation":2202,"user_id":19918310,"display_name":"u1234x1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664922932,"creation_date":1664922932,"answer_id":73954242,"question_id":73953502,"body_markdown":"You may need to have OpenCV build with a support of a certain backend that supports `CAP_PROP_POS_MSEC`\r\n\r\nFrom the [official documentation][1]:\r\n\r\n&gt; Reading / writing properties involves many layers. **Some unexpected\r\n&gt; result might happens along this chain.** Effective behaviour depends\r\n&gt; from device hardware, driver and API Backend.\r\n\r\nYou can check your backend with `cap.getBackendName()` method - [Documentation][2]\r\n\r\nHere the general information about backends:\r\n\r\nhttps://docs.opencv.org/4.6.0/d0/da7/videoio_overview.html\r\n\r\nAlso beware that `CAP_PROP_POS_MSEC` may work incorrectly for example in the case of videos with variable frame rate even with the working backends such as ffmpeg.\r\n\r\n  [1]: https://docs.opencv.org/3.4/d4/d15/group__videoio__flags__base.html#gaeb8dd9c89c10a5c63c139bf7c4f5704d\r\n  [2]: https://docs.opencv.org/4.6.0/d8/dfe/classcv_1_1VideoCapture.html#a4576e03f447abfdbd602c0809824ec03","title":"How to extract a particular frame from a video in openCV java","body":"<p>You may need to have OpenCV build with a support of a certain backend that supports <code>CAP_PROP_POS_MSEC</code></p>\n<p>From the <a href=\"https://docs.opencv.org/3.4/d4/d15/group__videoio__flags__base.html#gaeb8dd9c89c10a5c63c139bf7c4f5704d\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n<blockquote>\n<p>Reading / writing properties involves many layers. <strong>Some unexpected\nresult might happens along this chain.</strong> Effective behaviour depends\nfrom device hardware, driver and API Backend.</p>\n</blockquote>\n<p>You can check your backend with <code>cap.getBackendName()</code> method - <a href=\"https://docs.opencv.org/4.6.0/d8/dfe/classcv_1_1VideoCapture.html#a4576e03f447abfdbd602c0809824ec03\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<p>Here the general information about backends:</p>\n<p><a href=\"https://docs.opencv.org/4.6.0/d0/da7/videoio_overview.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.6.0/d0/da7/videoio_overview.html</a></p>\n<p>Also beware that <code>CAP_PROP_POS_MSEC</code> may work incorrectly for example in the case of videos with variable frame rate even with the working backends such as ffmpeg.</p>\n"}],"owner":{"account_id":24405597,"reputation":151,"user_id":18333832,"display_name":"Gireesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664922932,"creation_date":1664916494,"question_id":73953502,"body_markdown":"I want to extract a particular frame from a video using openCV java. For this, I am using the below code,\r\n\r\n    int tmsec;\r\n    \r\n    VideoCapture cap = new VideoCapture();\r\n    \r\n                        String input = &quot;/storage/emulated/0/DCIM/Camera/VID_20221005_013149.mp4&quot;;\r\n    \r\n    \r\n                        cap.open(input);\r\n    \r\n                        Mat frame = new Mat();\r\n                        cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec);\r\n                        cap.read(frame);\r\n                        if (Imgcodecs.imwrite(&quot;/storage/emulated/0/Images/testImg.jpg&quot;, frame)) {\r\n                            System.out.println(&quot;Success&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;Failed&quot;);\r\n                        }\r\n\r\n\r\nthe time in milliseconds for the frame is assigned to the variable &#39;tmsec&#39; correctly(No error in that. That code is not shown here).\r\n\r\nAfter running this code for several time with different values of &#39;tmsec&#39;, everytime I am getting the first frame instead of the specified frame.\r\n\r\nWhat is the error in my code? Is there any error with &#39;cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec)&#39; ? isn&#39;t that supported ?\r\nCan anyone tell me what is wrong with my code or any alternative approach ?","title":"How to extract a particular frame from a video in openCV java","body":"<p>I want to extract a particular frame from a video using openCV java. For this, I am using the below code,</p>\n<pre><code>int tmsec;\n\nVideoCapture cap = new VideoCapture();\n\n                    String input = &quot;/storage/emulated/0/DCIM/Camera/VID_20221005_013149.mp4&quot;;\n\n\n                    cap.open(input);\n\n                    Mat frame = new Mat();\n                    cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec);\n                    cap.read(frame);\n                    if (Imgcodecs.imwrite(&quot;/storage/emulated/0/Images/testImg.jpg&quot;, frame)) {\n                        System.out.println(&quot;Success&quot;);\n                    } else {\n                        System.out.println(&quot;Failed&quot;);\n                    }\n</code></pre>\n<p>the time in milliseconds for the frame is assigned to the variable 'tmsec' correctly(No error in that. That code is not shown here).</p>\n<p>After running this code for several time with different values of 'tmsec', everytime I am getting the first frame instead of the specified frame.</p>\n<p>What is the error in my code? Is there any error with 'cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec)' ? isn't that supported ?\nCan anyone tell me what is wrong with my code or any alternative approach ?</p>\n"},{"tags":["java","apache-kafka","apache-flink","avro"],"comments":[{"owner":{"account_id":9450053,"reputation":418,"user_id":7027284,"display_name":"guru"},"score":0,"creation_date":1643653585,"post_id":65399873,"comment_id":125392538,"body_markdown":"Did you figure out the solution to this issue?","body":"Did you figure out the solution to this issue?"}],"answers":[{"tags":[],"owner":{"account_id":2691557,"reputation":1054,"user_id":2324782,"accept_rate":95,"display_name":"Jicaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650303917,"creation_date":1650303917,"answer_id":71915212,"question_id":65399873,"body_markdown":"So I wasn&#39;t able to find the answer to that because things switched to using a schema registry, but wanted to post how it was done with a schema registry at least.\r\n\r\nSo instead of doing:\r\n\r\n    FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\r\n                fsiProcessorProps.getKafkaEventsInput(),\r\n                AvroDeserializationSchema.forSpecific(Sde.class),\r\n                properties);\r\n\r\nIt was changed to:\r\n\r\n    private static &lt;T extends SpecificRecordBase&gt; FlinkKafkaConsumerBase&lt;T&gt; getFlinkKafkaConsumer(\r\n      Properties properties, String topic, Class&lt;? extends SpecificRecordBase&gt; type, String schemaRegistryUrl, Map&lt;String, String&gt; sslConfiguration) {\r\n      ConfluentRegistryAvroDeserializationSchema&lt;?&gt; schema =\r\n        ConfluentRegistryAvroDeserializationSchema.forSpecific(\r\n            type, schemaRegistryUrl, sslConfiguration);\r\n    return new FlinkKafkaConsumer&lt;T&gt;(topic, (DeserializationSchema&lt;T&gt;) schema, properties);\r\n    }\r\n\r\nI won&#39;t mark this as an answer, but wanted to give it as at least another way involving schema registry which is a good thing to use with Avro anyway.","title":"Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo","body":"<p>So I wasn't able to find the answer to that because things switched to using a schema registry, but wanted to post how it was done with a schema registry at least.</p>\n<p>So instead of doing:</p>\n<pre><code>FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\n            fsiProcessorProps.getKafkaEventsInput(),\n            AvroDeserializationSchema.forSpecific(Sde.class),\n            properties);\n</code></pre>\n<p>It was changed to:</p>\n<pre><code>private static &lt;T extends SpecificRecordBase&gt; FlinkKafkaConsumerBase&lt;T&gt; getFlinkKafkaConsumer(\n  Properties properties, String topic, Class&lt;? extends SpecificRecordBase&gt; type, String schemaRegistryUrl, Map&lt;String, String&gt; sslConfiguration) {\n  ConfluentRegistryAvroDeserializationSchema&lt;?&gt; schema =\n    ConfluentRegistryAvroDeserializationSchema.forSpecific(\n        type, schemaRegistryUrl, sslConfiguration);\nreturn new FlinkKafkaConsumer&lt;T&gt;(topic, (DeserializationSchema&lt;T&gt;) schema, properties);\n}\n</code></pre>\n<p>I won't mark this as an answer, but wanted to give it as at least another way involving schema registry which is a good thing to use with Avro anyway.</p>\n"},{"tags":[],"owner":{"account_id":18244520,"reputation":1,"user_id":13280928,"display_name":"gzkevinl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664922915,"creation_date":1664922857,"answer_id":73954235,"question_id":65399873,"body_markdown":"Make it sure Avro generated POJO has both get/set method implemented by adding this:                             \r\n\r\n    &lt;createSetters&gt;true&lt;/createSetters&gt;\r\n\r\n","title":"Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo","body":"<p>Make it sure Avro generated POJO has both get/set method implemented by adding this:</p>\n<pre><code>&lt;createSetters&gt;true&lt;/createSetters&gt;\n</code></pre>\n"}],"owner":{"account_id":2691557,"reputation":1054,"user_id":2324782,"accept_rate":95,"display_name":"Jicaar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664922915,"creation_date":1608584326,"question_id":65399873,"body_markdown":"I am using Flink v1.11.2 and Avro v1.10.1.\r\n\r\nI am trying to deserialize an Avro record as a Specific record from a Kafka topic, but for some reason keep getting this error: \r\n\r\nI was able to output it as a generic record using this: \r\n\r\n    FlinkKafkaConsumer&lt;GenericRecord&gt; eventsConsumer = new FlinkKafkaConsumer(\r\n                fsiProcessorProps.getKafkaEventsInput(),\r\n                AvroDeserializationSchema.forGeneric(Sde.getClassSchema()),\r\n                properties);\r\n\r\nAnd am now trying:\r\n\r\n    FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\r\n                    fsiProcessorProps.getKafkaEventsInput(),\r\n                    AvroDeserializationSchema.forSpecific(Sde.class),\r\n                    properties);\r\n\r\nbut get the following error when trying to start the job:\r\n\r\n\r\n    &quot;org.apache.flink.runtime.rest.handler.RestHandlerException: Could not execute application.\r\n    \tat org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$1(JarRunHandler.java:103)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniHandle(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.util.concurrent.CompletionException: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(Unknown Source)\r\n    \t... 7 more\r\n    Caused by: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\r\n    \tat org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:81)\r\n    \tat org.apache.flink.client.deployment.application.DetachedApplicationRunner.run(DetachedApplicationRunner.java:67)\r\n    \tat org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$0(JarRunHandler.java:100)\r\n    \t... 7 more\r\n    Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Expecting type to be a PojoTypeInfo\r\n    \tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)\r\n    \tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)\r\n    \tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149)\r\n    \tat org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:78)\r\n    \t... 9 more\r\n    Caused by: java.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\r\n    \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:74)\r\n    \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:56)\r\n    \tat org.apache.flink.formats.avro.AvroDeserializationSchema.getProducedType(AvroDeserializationSchema.java:168)\r\n    \tat org.apache.flink.streaming.connectors.kafka.internals.KafkaDeserializationSchemaWrapper.getProducedType(KafkaDeserializationSchemaWrapper.java:66)\r\n    \tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.getProducedType(FlinkKafkaConsumerBase.java:1066)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.getTypeInfo(StreamExecutionEnvironment.java:2172)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1608)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1569)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1551)\r\n    \tat FsiProcessor.main(FsiProcessor.java:46)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)\r\n    \t... 12 more\r\n    &quot;\r\n\r\nThe Sde class is a typical generated avro class so I am not sure what I am missing. Also the data does not have the schema embedded (tried with schema embedded as well and got same issue).\r\n","title":"Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo","body":"<p>I am using Flink v1.11.2 and Avro v1.10.1.</p>\n<p>I am trying to deserialize an Avro record as a Specific record from a Kafka topic, but for some reason keep getting this error:</p>\n<p>I was able to output it as a generic record using this:</p>\n<pre><code>FlinkKafkaConsumer&lt;GenericRecord&gt; eventsConsumer = new FlinkKafkaConsumer(\n            fsiProcessorProps.getKafkaEventsInput(),\n            AvroDeserializationSchema.forGeneric(Sde.getClassSchema()),\n            properties);\n</code></pre>\n<p>And am now trying:</p>\n<pre><code>FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\n                fsiProcessorProps.getKafkaEventsInput(),\n                AvroDeserializationSchema.forSpecific(Sde.class),\n                properties);\n</code></pre>\n<p>but get the following error when trying to start the job:</p>\n<pre><code>&quot;org.apache.flink.runtime.rest.handler.RestHandlerException: Could not execute application.\n    at org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$1(JarRunHandler.java:103)\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.util.concurrent.CompletionException: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(Unknown Source)\n    ... 7 more\nCaused by: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\n    at org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:81)\n    at org.apache.flink.client.deployment.application.DetachedApplicationRunner.run(DetachedApplicationRunner.java:67)\n    at org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$0(JarRunHandler.java:100)\n    ... 7 more\nCaused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Expecting type to be a PojoTypeInfo\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149)\n    at org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:78)\n    ... 9 more\nCaused by: java.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:74)\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:56)\n    at org.apache.flink.formats.avro.AvroDeserializationSchema.getProducedType(AvroDeserializationSchema.java:168)\n    at org.apache.flink.streaming.connectors.kafka.internals.KafkaDeserializationSchemaWrapper.getProducedType(KafkaDeserializationSchemaWrapper.java:66)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.getProducedType(FlinkKafkaConsumerBase.java:1066)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.getTypeInfo(StreamExecutionEnvironment.java:2172)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1608)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1569)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1551)\n    at FsiProcessor.main(FsiProcessor.java:46)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)\n    ... 12 more\n&quot;\n</code></pre>\n<p>The Sde class is a typical generated avro class so I am not sure what I am missing. Also the data does not have the schema embedded (tried with schema embedded as well and got same issue).</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664921735,"post_id":73954063,"comment_id":130579579,"body_markdown":"You need to post `find` method too.","body":"You need to post <code>find</code> method too."},{"owner":{"account_id":26497407,"reputation":31,"user_id":20134897,"display_name":"anon"},"score":0,"creation_date":1664922840,"post_id":73954063,"comment_id":130579748,"body_markdown":"I&#39;ve just updated with my find() method","body":"I&#39;ve just updated with my find() method"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664934291,"post_id":73954063,"comment_id":130581261,"body_markdown":"Your find-implementation is wrong (look at the second for loop, closely).","body":"Your find-implementation is wrong (look at the second for loop, closely)."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1665002095,"post_id":73954063,"comment_id":130600114,"body_markdown":"Try looking at [How to find time complexity of an algorithm?](https://adrianmejia.com/how-to-find-time-complexity-of-an-algorithm-code-big-o-notation/)","body":"Try looking at <a href=\"https://adrianmejia.com/how-to-find-time-complexity-of-an-algorithm-code-big-o-notation/\" rel=\"nofollow noreferrer\">How to find time complexity of an algorithm?</a>"}],"owner":{"account_id":26497407,"reputation":31,"user_id":20134897,"display_name":"anon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664922819,"creation_date":1664921224,"question_id":73954063,"body_markdown":"How would I do a time complexity analysis for my get() method?\r\n\r\n```\r\n\r\n    private DNode find(int index)\r\n\t{\r\n\t\tDNode curr = head;  // alias\r\n\t\t\r\n\t\t// Conditional Statements - if the index is in the first half of the list, loop forward to find\r\n\t\tif(index &gt;= 0 &amp;&amp; index &lt;= size()/2)\r\n\t\t{\r\n\t\t\t// For loop - indexes the reference result to the next node\r\n\t\t\tfor(int skip = 0; skip &lt; index; skip++)\r\n\t\t\t{\r\n\t\t\t\tcurr = curr.getNext();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Otherwise, loop backwards in the list\r\n\t\telse\r\n\t\t{\r\n\t\t\t// For loop - indexes the reference result to the back node\r\n\t\t\tfor(int skip = 0; skip &lt; index; skip--)\r\n\t\t\t{\r\n\t\t\t\tcurr = curr.getBack();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn curr;  // The item at the specified index for the node\r\n\t}\r\n\r\n\r\n    public Object get(int index) throws ListIndexOutOfBoundsException\r\n\t{\r\n\t\t// Conditional Statements - checks if index is valid\r\n\t\tif(isValid(index))\r\n\t\t{\r\n\t\t\tDNode result = find(index);\r\n\t\t\treturn result.getItem();\r\n\t\t}\r\n\t\t\r\n\t\tthrow new ListIndexOutOfBoundsException(&quot;Out of bounds&quot;);\r\n\t}\r\n\r\n```\r\n\r\nHow do I test for the best, worst, and average cases for time complexity?  I&#39;m a little confused on how I analyze for this.\r\n\r\nEDIT: I&#39;ve added my find() method","title":"How do I do a time complexity analysis for my get method?","body":"<p>How would I do a time complexity analysis for my get() method?</p>\n<pre><code>\n    private DNode find(int index)\n    {\n        DNode curr = head;  // alias\n        \n        // Conditional Statements - if the index is in the first half of the list, loop forward to find\n        if(index &gt;= 0 &amp;&amp; index &lt;= size()/2)\n        {\n            // For loop - indexes the reference result to the next node\n            for(int skip = 0; skip &lt; index; skip++)\n            {\n                curr = curr.getNext();\n            }\n        }\n        // Otherwise, loop backwards in the list\n        else\n        {\n            // For loop - indexes the reference result to the back node\n            for(int skip = 0; skip &lt; index; skip--)\n            {\n                curr = curr.getBack();\n            }\n        }\n        \n        return curr;  // The item at the specified index for the node\n    }\n\n\n    public Object get(int index) throws ListIndexOutOfBoundsException\n    {\n        // Conditional Statements - checks if index is valid\n        if(isValid(index))\n        {\n            DNode result = find(index);\n            return result.getItem();\n        }\n        \n        throw new ListIndexOutOfBoundsException(&quot;Out of bounds&quot;);\n    }\n\n</code></pre>\n<p>How do I test for the best, worst, and average cases for time complexity?  I'm a little confused on how I analyze for this.</p>\n<p>EDIT: I've added my find() method</p>\n"},{"tags":["java","multithreading","resttemplate"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1664651302,"post_id":73920478,"comment_id":130522424,"body_markdown":"well, if nothing was changed at your side, probably something got changed on the other end: the `smppMoSMS.getApplicationUrl()`","body":"well, if nothing was changed at your side, probably something got changed on the other end: the <code>smppMoSMS.getApplicationUrl()</code>"},{"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"score":0,"creation_date":1664682081,"post_id":73920478,"comment_id":130526204,"body_markdown":"@ShaharT When we have the issue, it&#39;s observable only the &quot;** SMS received from SMSC [{}]&quot;, &quot;Point 1: Active thread count : [{}]&quot; and &quot;Point 2: Active thread count : [{}]&quot;. If the problem is on the other end we could see at least &quot;Thread start &quot; which is inside the thread before the resttemplate call. Isn&#39;t it?","body":"@ShaharT When we have the issue, it&#39;s observable only the &quot;** SMS received from SMSC [{}]&quot;, &quot;Point 1: Active thread count : [{}]&quot; and &quot;Point 2: Active thread count : [{}]&quot;. If the problem is on the other end we could see at least &quot;Thread start &quot; which is inside the thread before the resttemplate call. Isn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664922241,"creation_date":1664903717,"answer_id":73951424,"question_id":73920478,"body_markdown":"&gt; What can be the reasons for the above assumptions or the observations?\r\n\r\nOne of the issues that you need to realize is that you will not get more than the core number of threads allocated in your thread-pool until the queue fills up.  I kid you not.  In your case, it&#39;s only when the 5 threads are busy and 10000 jobs are queued that the 6th thread will be started.\r\n\r\nI would set the `corePoolSize` and the `maxPoolSize` both to be 100 and then set the `keepAliveSeconds` to 30 or something if you want the core threads to drop down during periods of inactivity.  See this question for more details: https://stackoverflow.com/q/19528304/179850\r\n\r\nCouple other comments:\r\n\r\n&gt;     int i = Thread.activeCount();\r\n&gt;     logger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\r\n&gt;     askExecutor.execute(new Runnable() { ... });\r\n&gt;     logger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\r\n\r\nThe active-count won&#39;t change at point 2 since you aren&#39;t making another call to `Thread.activeCount()`.  Also, you are scheduling a job to be run by the thread-pool but that doesn&#39;t necessarily mean that a thread will be created.\r\n\r\nIf you are using a `ThreadPoolExecutor` directly (as opposed to the Spring wrapper) then you could call `pool.getActiveCount()` and other methods to get a more accurate picture of the threads running in your thread pool.  The 114 threads running in your application may be associated with the tomcat handlers and other JVM threads instead of your pool specifically.  You can also use jconsole, jstack, or a `SIGQUIT` to dump the thread stacks and see how many threads are associated with your pool.  The thread names should be something like xxx-pool-1 or something unless you are using a thread-factory.\r\n\r\nLastly a general comment.  Maybe this is obvious but you really should be trying to optimize your throughput as opposed to worrying about the number of threads.  100 may be too many threads if you are pounding the server too hard or if the job is computational or 100 may be too few if your HTTP connections take a while to be satisfied because of latency.\r\n","title":"New threads are not created by the Java ThreadPoolTaskExecutor","body":"<blockquote>\n<p>What can be the reasons for the above assumptions or the observations?</p>\n</blockquote>\n<p>One of the issues that you need to realize is that you will not get more than the core number of threads allocated in your thread-pool until the queue fills up.  I kid you not.  In your case, it's only when the 5 threads are busy and 10000 jobs are queued that the 6th thread will be started.</p>\n<p>I would set the <code>corePoolSize</code> and the <code>maxPoolSize</code> both to be 100 and then set the <code>keepAliveSeconds</code> to 30 or something if you want the core threads to drop down during periods of inactivity.  See this question for more details: <a href=\"https://stackoverflow.com/q/19528304/179850\">How to get the ThreadPoolExecutor to increase threads to max before queueing?</a></p>\n<p>Couple other comments:</p>\n<blockquote>\n<pre><code>int i = Thread.activeCount();\nlogger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\naskExecutor.execute(new Runnable() { ... });\nlogger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\n</code></pre>\n</blockquote>\n<p>The active-count won't change at point 2 since you aren't making another call to <code>Thread.activeCount()</code>.  Also, you are scheduling a job to be run by the thread-pool but that doesn't necessarily mean that a thread will be created.</p>\n<p>If you are using a <code>ThreadPoolExecutor</code> directly (as opposed to the Spring wrapper) then you could call <code>pool.getActiveCount()</code> and other methods to get a more accurate picture of the threads running in your thread pool.  The 114 threads running in your application may be associated with the tomcat handlers and other JVM threads instead of your pool specifically.  You can also use jconsole, jstack, or a <code>SIGQUIT</code> to dump the thread stacks and see how many threads are associated with your pool.  The thread names should be something like xxx-pool-1 or something unless you are using a thread-factory.</p>\n<p>Lastly a general comment.  Maybe this is obvious but you really should be trying to optimize your throughput as opposed to worrying about the number of threads.  100 may be too many threads if you are pounding the server too hard or if the job is computational or 100 may be too few if your HTTP connections take a while to be satisfied because of latency.</p>\n"}],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664922241,"creation_date":1664646021,"question_id":73920478,"body_markdown":"This particular Java application uses the following dependency and service versions.\r\n- Java 7\r\n- Tomcat 7\r\n- Spring 4.3.6\r\n\r\nIt has the following method.\r\n\r\n    public void submitSms(final SmppMoSMS smppMoSMS) {\r\n        logger.info(&quot;** SMS received from SMSC [{}]&quot;, smppMoSMS.toString());\r\n        int i = Thread.activeCount();\r\n        logger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\r\n        taskExecutor.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    logger.info(&quot;Thread start &quot;);\r\n                    logger.debug(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\r\n                    logger.info(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\r\n                    if (smppMoSMS.getApplicationUrl() == null) {\r\n                        return;\r\n                    }\r\n                    HttpEntity&lt;SmppMoSMS&gt; entity = new HttpEntity&lt;&gt;(smppMoSMS, headers);\r\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(smppMoSMS.getApplicationUrl(), HttpMethod.POST, entity, String.class);\r\n                    if (HttpStatus.OK == response.getStatusCode()) {\r\n                        logger.info(&quot;SMS sending success [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), 200);\r\n                    } else {\r\n                        logger.info(&quot;SMS sending fail [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), response.getStatusCode());\r\n                    }\r\n                } catch (Throwable e) {\r\n                    logger.error(&quot;SMS sending fail [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\r\n                    logger.error(&quot;SMS ROUTING FAIL&quot;, e);\r\n                }\r\n                logger.info(&quot;Thread stop &quot;);\r\n            }\r\n        });\r\n        logger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\r\n        MDC.clear();\r\n    }\r\n\r\nRelated to the TaskExecutor following bean configuration is available:\r\n\r\n    &lt;bean id=&quot;threadPool&quot; class=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;\r\n          destroy-method=&quot;destroy&quot;&gt;\r\n        &lt;property name=&quot;corePoolSize&quot; value=&quot;5&quot;/&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;200&quot;/&gt;\r\n        &lt;property name=&quot;queueCapacity&quot; value=&quot;10000&quot;/&gt;\r\n        &lt;property name=&quot;allowCoreThreadTimeOut&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;waitForTasksToCompleteOnShutdown&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nRelated to the RestTemplate the following bean configurations are available.\r\n\r\n    &lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot;&gt;\r\n        &lt;constructor-arg&gt;\r\n            &lt;bean class=&quot;org.springframework.http.client.HttpComponentsClientHttpRequestFactory&quot;&gt;\r\n                &lt;property name=&quot;readTimeout&quot; value=&quot;30000&quot;/&gt;\r\n                &lt;property name=&quot;connectTimeout&quot; value=&quot;30000&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\nThe high-level issue observation is described below.\r\n\r\n1. Let&#39;s say the application is started\r\n2. Application is functioning as expected including the following operations\r\n   - HTTP calls are **generated** by the restTemplate according to the Tcpdumps and the REST API server logs  \r\n   - All logs are printed on log files\r\n\r\n3. After 2-3 hours suddenly we can observe the following behaviours of the application.\r\n   - HTTP calls are **not generated** by the restTemplate according to the TcpDumps and the REST API server logs\r\n   - Only the following logs are available\r\n\r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622, sequence=2244] ** SMS received from SMSC [SmppMoSMS{message=&#39;Test by\r\n&gt; developer &#39;, senderAddress=&#39;94XXXXXXX&#39;, recipientAddress=&#39;94XXXXX&#39;,\r\n&gt; encoding=&#39;0&#39;, operator=&#39;XXXXXXXX&#39;, ncsType=&#39;null&#39;,\r\n&gt; correlationId=&#39;1664588830622&#39;}]\r\n&gt; \r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\r\n&gt; sequence=2244] Active thread count : [114]\r\n&gt; \r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\r\n&gt; sequence=2244] Thread stop \r\n&gt; \r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\r\n&gt; sequence=2244] Active thread count : [114]\r\n\r\nThis &quot;Active thread count&quot; doesn&#39;t increase after this.\r\n\r\nAll the things are getting fine by just an application restart or the whole tomcat server restart.\r\n**NOTE:** This application was in production for several years and we get this issue from the last 2 months only without any code or configuration changes.\r\n\r\nI assume new threads are not created even though the configuration allows up to 200 threads.\r\n1. What can be the reasons for the above assumptions or the observations?\r\n2. Any other assumptions? \r\n3. How can I further investigate the issue?\r\n4. Any suggestions to fix the issue?\r\n","title":"New threads are not created by the Java ThreadPoolTaskExecutor","body":"<p>This particular Java application uses the following dependency and service versions.</p>\n<ul>\n<li>Java 7</li>\n<li>Tomcat 7</li>\n<li>Spring 4.3.6</li>\n</ul>\n<p>It has the following method.</p>\n<pre><code>public void submitSms(final SmppMoSMS smppMoSMS) {\n    logger.info(&quot;** SMS received from SMSC [{}]&quot;, smppMoSMS.toString());\n    int i = Thread.activeCount();\n    logger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\n    taskExecutor.execute(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                logger.info(&quot;Thread start &quot;);\n                logger.debug(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\n                logger.info(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\n                if (smppMoSMS.getApplicationUrl() == null) {\n                    return;\n                }\n                HttpEntity&lt;SmppMoSMS&gt; entity = new HttpEntity&lt;&gt;(smppMoSMS, headers);\n                ResponseEntity&lt;String&gt; response = restTemplate.exchange(smppMoSMS.getApplicationUrl(), HttpMethod.POST, entity, String.class);\n                if (HttpStatus.OK == response.getStatusCode()) {\n                    logger.info(&quot;SMS sending success [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), 200);\n                } else {\n                    logger.info(&quot;SMS sending fail [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), response.getStatusCode());\n                }\n            } catch (Throwable e) {\n                logger.error(&quot;SMS sending fail [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\n                logger.error(&quot;SMS ROUTING FAIL&quot;, e);\n            }\n            logger.info(&quot;Thread stop &quot;);\n        }\n    });\n    logger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\n    MDC.clear();\n}\n</code></pre>\n<p>Related to the TaskExecutor following bean configuration is available:</p>\n<pre><code>&lt;bean id=&quot;threadPool&quot; class=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;\n      destroy-method=&quot;destroy&quot;&gt;\n    &lt;property name=&quot;corePoolSize&quot; value=&quot;5&quot;/&gt;\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;200&quot;/&gt;\n    &lt;property name=&quot;queueCapacity&quot; value=&quot;10000&quot;/&gt;\n    &lt;property name=&quot;allowCoreThreadTimeOut&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;waitForTasksToCompleteOnShutdown&quot; value=&quot;true&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Related to the RestTemplate the following bean configurations are available.</p>\n<pre><code>&lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean class=&quot;org.springframework.http.client.HttpComponentsClientHttpRequestFactory&quot;&gt;\n            &lt;property name=&quot;readTimeout&quot; value=&quot;30000&quot;/&gt;\n            &lt;property name=&quot;connectTimeout&quot; value=&quot;30000&quot;/&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>The high-level issue observation is described below.</p>\n<ol>\n<li><p>Let's say the application is started</p>\n</li>\n<li><p>Application is functioning as expected including the following operations</p>\n<ul>\n<li>HTTP calls are <strong>generated</strong> by the restTemplate according to the Tcpdumps and the REST API server logs</li>\n<li>All logs are printed on log files</li>\n</ul>\n</li>\n<li><p>After 2-3 hours suddenly we can observe the following behaviours of the application.</p>\n<ul>\n<li>HTTP calls are <strong>not generated</strong> by the restTemplate according to the TcpDumps and the REST API server logs</li>\n<li>Only the following logs are available</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622, sequence=2244] ** SMS received from SMSC [SmppMoSMS{message='Test by\ndeveloper ', senderAddress='94XXXXXXX', recipientAddress='94XXXXX',\nencoding='0', operator='XXXXXXXX', ncsType='null',\ncorrelationId='1664588830622'}]</p>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\nsequence=2244] Active thread count : [114]</p>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\nsequence=2244] Thread stop</p>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\nsequence=2244] Active thread count : [114]</p>\n</blockquote>\n<p>This &quot;Active thread count&quot; doesn't increase after this.</p>\n<p>All the things are getting fine by just an application restart or the whole tomcat server restart.\n<strong>NOTE:</strong> This application was in production for several years and we get this issue from the last 2 months only without any code or configuration changes.</p>\n<p>I assume new threads are not created even though the configuration allows up to 200 threads.</p>\n<ol>\n<li>What can be the reasons for the above assumptions or the observations?</li>\n<li>Any other assumptions?</li>\n<li>How can I further investigate the issue?</li>\n<li>Any suggestions to fix the issue?</li>\n</ol>\n"},{"tags":["java","android","database","spring-boot","server"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664923448,"post_id":73954171,"comment_id":130579840,"body_markdown":"Spring boot is not a website and apache is not an application server, are you sure those are the right way around? This isn&#39;t really something this site can answer, I guess you need to talk to whoever gave you this assignment to clear up your questions, since architecture is just a very broad overview of an idea, nothing that has a concrete solution","body":"Spring boot is not a website and apache is not an application server, are you sure those are the right way around? This isn&#39;t really something this site can answer, I guess you need to talk to whoever gave you this assignment to clear up your questions, since architecture is just a very broad overview of an idea, nothing that has a concrete solution"},{"owner":{"account_id":26529921,"reputation":1,"user_id":20162291,"display_name":"Chewie"},"score":0,"creation_date":1664925029,"post_id":73954171,"comment_id":130580050,"body_markdown":"If I&#39;m not mistaken, can&#39;t you build a website with Spring boot? The technologies listed were recommended by my colleague. I&#39;ve asked before, but his reply was very abstract and I couldn&#39;t picture it in my head. I&#39;ll ask again though!","body":"If I&#39;m not mistaken, can&#39;t you build a website with Spring boot? The technologies listed were recommended by my colleague. I&#39;ve asked before, but his reply was very abstract and I couldn&#39;t picture it in my head. I&#39;ll ask again though!"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664925443,"post_id":73954171,"comment_id":130580115,"body_markdown":"Spring boot itself is the technology to build a server backend, it can serve website content but you&#39;ll need to decide how it does that. E.g. Thymeleaf template based or serving a static angular/react/flutter/.. website that uses rest apis of your spring boot server. And Apache itself can be many things but without knowing what it should do I&#39;d assume it&#39;s just a static webpage which is something you can&#39;t send data to. If you use apache with php you can have another backend (but why then spring?).  Or apache could be meant to be a proxy for the spring server but your picture is unclear to me","body":"Spring boot itself is the technology to build a server backend, it can serve website content but you&#39;ll need to decide how it does that. E.g. Thymeleaf template based or serving a static angular/react/flutter/.. website that uses rest apis of your spring boot server. And Apache itself can be many things but without knowing what it should do I&#39;d assume it&#39;s just a static webpage which is something you can&#39;t send data to. If you use apache with php you can have another backend (but why then spring?).  Or apache could be meant to be a proxy for the spring server but your picture is unclear to me"}],"owner":{"account_id":26529921,"reputation":1,"user_id":20162291,"display_name":"Chewie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664922197,"creation_date":1664922197,"question_id":73954171,"body_markdown":"I have an assignment, but I can&#39;t seem to get my head around it. I&#39;ve been tasked to create a mobile app on Android Studio using the microphone sensor to record audio (Parameters: Duration &amp; frequency). The data/sample is then stored locally, perhaps using SQLite to store the id, date, time, location and sample. Let&#39;s say after 10 samples (this is where it starts to get confusing for me), the samples are bundled up and sent to the communication server which I believe OkHttp client is used in this case. The data gets sent to a local server (Apache?) and a website (Springboot) is used to retrieve the information and show the samples on Google Maps. \r\n\r\nhttps://i.stack.imgur.com/ACAfW.jpg\r\n\r\nLink to application architecture is above. I have no doubt it is wrong, but would love some insight on it please. Also, I very new to all of this so I&#39;m sure there are a lot of gaps in my message above. If you have any questions please feel free to ask!\r\n\r\nTechnologies I&#39;ve been recommended to use: \r\n\r\nLocal Server: Apache \r\n\r\nWebsite: SpringBoot \r\n\r\nCommunication tool: OkHttp\r\n\r\nAndroid application: Android Studio","title":"Mobile Sound Tracker Application Architecture","body":"<p>I have an assignment, but I can't seem to get my head around it. I've been tasked to create a mobile app on Android Studio using the microphone sensor to record audio (Parameters: Duration &amp; frequency). The data/sample is then stored locally, perhaps using SQLite to store the id, date, time, location and sample. Let's say after 10 samples (this is where it starts to get confusing for me), the samples are bundled up and sent to the communication server which I believe OkHttp client is used in this case. The data gets sent to a local server (Apache?) and a website (Springboot) is used to retrieve the information and show the samples on Google Maps.</p>\n<p><a href=\"https://i.stack.imgur.com/ACAfW.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ACAfW.jpg</a></p>\n<p>Link to application architecture is above. I have no doubt it is wrong, but would love some insight on it please. Also, I very new to all of this so I'm sure there are a lot of gaps in my message above. If you have any questions please feel free to ask!</p>\n<p>Technologies I've been recommended to use:</p>\n<p>Local Server: Apache</p>\n<p>Website: SpringBoot</p>\n<p>Communication tool: OkHttp</p>\n<p>Android application: Android Studio</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664914134,"post_id":73953141,"comment_id":130577719,"body_markdown":"You probably want to change the order of the constructor arguments in the second binary search. `Collections.binarySearch(names, new Item(null, num));` The variable naming here could be improved.","body":"You probably want to change the order of the constructor arguments in the second binary search. <code>Collections.binarySearch(names, new Item(null, num));</code> The variable naming here could be improved."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664914246,"post_id":73953141,"comment_id":130577760,"body_markdown":"In that case `compareTo` should compare keys and values.","body":"In that case <code>compareTo</code> should compare keys and values."},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664914420,"post_id":73953141,"comment_id":130577802,"body_markdown":"@Unmitigated doing that gives a NullPointerException","body":"@Unmitigated doing that gives a NullPointerException"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664914503,"post_id":73953141,"comment_id":130577838,"body_markdown":"Could you provide the definition of the `Item` class then?","body":"Could you provide the definition of the <code>Item</code> class then?"},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664914523,"post_id":73953141,"comment_id":130577843,"body_markdown":"@JohnnyMopp how would you do that","body":"@JohnnyMopp how would you do that"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664914578,"post_id":73953141,"comment_id":130577863,"body_markdown":"First you need to check that `otherObject` is not null. Then you can, for instance check if the keys are equal. If they are, compare the values (also checking that the keys and values are not null).","body":"First you need to check that <code>otherObject</code> is not null. Then you can, for instance check if the keys are equal. If they are, compare the values (also checking that the keys and values are not null)."},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664914858,"post_id":73953141,"comment_id":130577934,"body_markdown":"@Unmitigated An item with a key and a value","body":"@Unmitigated An item with a key and a value"},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664915248,"post_id":73953141,"comment_id":130578040,"body_markdown":"@JohnnyMopp not really sure what you mean by that","body":"@JohnnyMopp not really sure what you mean by that"}],"answers":[{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664916165,"creation_date":1664916165,"answer_id":73953455,"question_id":73953141,"body_markdown":"In the part where you enter a number, you then search by a number.\r\n\r\nIn the second part where you enter a name, you search for a number. That will not find a name.\r\n\r\nYour `Item` class only compares numbers (you call them `key` and `value` rather than number and name, it will be clearer if you fix that). You might want two classes (e.g. `NumberItem` and `NameItem`), one which compares by number, the other which compares by name (make them inherit from `Item`, which doesn&#39;t implement `Comparable`).\r\n\r\nAnother strategy is to use the existing tools, and store each type of `Item` in a `Map`, one indexed by number, the other by name. The internal implementation will probably be more efficient than what you come up with.","title":"Why is .binary search returning random negative values even though it worked before","body":"<p>In the part where you enter a number, you then search by a number.</p>\n<p>In the second part where you enter a name, you search for a number. That will not find a name.</p>\n<p>Your <code>Item</code> class only compares numbers (you call them <code>key</code> and <code>value</code> rather than number and name, it will be clearer if you fix that). You might want two classes (e.g. <code>NumberItem</code> and <code>NameItem</code>), one which compares by number, the other which compares by name (make them inherit from <code>Item</code>, which doesn't implement <code>Comparable</code>).</p>\n<p>Another strategy is to use the existing tools, and store each type of <code>Item</code> in a <code>Map</code>, one indexed by number, the other by name. The internal implementation will probably be more efficient than what you come up with.</p>\n"},{"tags":[],"owner":{"account_id":19045556,"reputation":16,"user_id":13904775,"display_name":"The Ice Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664921662,"creation_date":1664921662,"answer_id":73954108,"question_id":73953141,"body_markdown":"By using IntelliJ and a debugger I was able to discover the issue:\r\n\r\n`num = in.next();`\r\n\r\nIf you debug right after and you look at `num` value, you will see it will be: `Smith,`\r\n\r\nSeems that the whitespace is the problem here&#128517;\r\n\r\nLet&#39;s find out why:\r\n\r\nIf we take a look at `Scanner.next()` documentation:\r\n\r\n&gt; Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the **delimiter** pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext returned true.\r\n\r\nThis means that the scanner will take only the text until it encounters the delimiter. Who is the delimiter? It should be a default one if you didn&#39;t provide it, right? Let&#39;s take a look again in Scanner class and search for the default delimiter.\r\n\r\nRight at the top of the class the documentation states:\r\n\r\n&gt; A Scanner breaks its input into tokens using a delimiter pattern, which by default matches **whitespace**. The resulting tokens may then be converted into values of different types using the various next methods.\r\n\r\nSo, the whitespace cuts your input from the keyboard.\r\n\r\n**Bonus** some easy tips &amp; tricks that will help you:\r\n\r\n - Name the variables simple and easy to understand. Check out some guides on naming best practices(especially in Java) and naming conventions in Java.\r\n - Use the debugger.\r\n - When your code is not doing what you think it should and you are using &quot;3rd party classes&quot;, try to look at what and how are they doing the things under the hood. It is enough in most of the cases just to read their documentation(and IDEs like IntelliJ facilitate this by just holding ctrl and pressing click on the method name, it will point you right to the implementation where you can see the method&#39;s documentation).","title":"Why is .binary search returning random negative values even though it worked before","body":"<p>By using IntelliJ and a debugger I was able to discover the issue:</p>\n<p><code>num = in.next();</code></p>\n<p>If you debug right after and you look at <code>num</code> value, you will see it will be: <code>Smith,</code></p>\n<p>Seems that the whitespace is the problem here😅</p>\n<p>Let's find out why:</p>\n<p>If we take a look at <code>Scanner.next()</code> documentation:</p>\n<blockquote>\n<p>Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the <strong>delimiter</strong> pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext returned true.</p>\n</blockquote>\n<p>This means that the scanner will take only the text until it encounters the delimiter. Who is the delimiter? It should be a default one if you didn't provide it, right? Let's take a look again in Scanner class and search for the default delimiter.</p>\n<p>Right at the top of the class the documentation states:</p>\n<blockquote>\n<p>A Scanner breaks its input into tokens using a delimiter pattern, which by default matches <strong>whitespace</strong>. The resulting tokens may then be converted into values of different types using the various next methods.</p>\n</blockquote>\n<p>So, the whitespace cuts your input from the keyboard.</p>\n<p><strong>Bonus</strong> some easy tips &amp; tricks that will help you:</p>\n<ul>\n<li>Name the variables simple and easy to understand. Check out some guides on naming best practices(especially in Java) and naming conventions in Java.</li>\n<li>Use the debugger.</li>\n<li>When your code is not doing what you think it should and you are using &quot;3rd party classes&quot;, try to look at what and how are they doing the things under the hood. It is enough in most of the cases just to read their documentation(and IDEs like IntelliJ facilitate this by just holding ctrl and pressing click on the method name, it will point you right to the implementation where you can see the method's documentation).</li>\n</ul>\n"}],"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664921662,"creation_date":1664914008,"question_id":73953141,"body_markdown":"I&#39;ve been writing this program that reads in from a text file consisting of names and phone numbers. I created 2 arraylists both containing Item objects. names array list contains Item object haveing names as the key value and phone numbers as the value value. While the numbers array list is the opposite having the key value being phone numbers and the value value names. \r\n\r\nHere is the code:\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class Test \r\n    {\r\n    \t\r\n\tpublic static void main(String[] args) throws FileNotFoundException\r\n\t{\r\n\t\tFile inputFile = new File(&quot;directory.txt&quot;);\r\n\t\tArrayList&lt;Item&gt; names = new ArrayList&lt;Item&gt;();\r\n\t\tArrayList&lt;Item&gt; numbers = new ArrayList&lt;Item&gt;();\r\n\t\t\r\n\t\tScanner in1 = new Scanner(inputFile);\r\n\t\twhile(in1.hasNextLine())\r\n\t\t{\r\n\t\t\tString name = in1.nextLine();\r\n\t\t\tString num = in1.nextLine();\r\n\t\t\tItem item = new Item(name , num);\r\n\t\t\tnames.add(item);\r\n\t\t}\r\n\t\t\r\n\t\tScanner in2 = new Scanner(inputFile);\r\n\t\twhile(in2.hasNextLine())\r\n\t\t{\r\n\t\t\tString name = in2.nextLine();\r\n\t\t\tString num = in2.nextLine();\r\n\t\t\tItem item = new Item(num, name);\r\n\t\t\tnumbers.add(item);\r\n\t\t}\r\n\t\t\r\n\t\tCollections.sort(names);\r\n\t\tCollections.sort(numbers);\r\n\t\t\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter number: &quot;);\r\n\t\tString num = in.next();\r\n\t\tint index = Collections.binarySearch(numbers, new Item(num, null));\r\n\t\tSystem.out.println(index);\r\n\t\tSystem.out.println(numbers.get(index).getValue()); \r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter name: &quot;);\r\n\t\tnum = in.next();\r\n\t\tindex = Collections.binarySearch(names, new Item(num, null));\r\n\t\tSystem.out.println(index);\r\n\t\tSystem.out.println(names.get(index).getValue());\r\n\t\t\t\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\n    public class Item implements Comparable&lt;Item&gt;\r\n    {\r\n      \r\n       public Item(String k, String v)\r\n       { \r\n          key = k;\r\n          value = v;\r\n       }\r\n       \r\n       \r\n       public String getKey()\r\n       { \r\n          return key;\r\n       }\r\n       \r\n       \r\n       public String getValue()\r\n       { \r\n          return value;\r\n       }\r\n    \r\n       public int compareTo(Item otherObject)\r\n       {\r\n          Item other = (Item) otherObject;\r\n          return key.compareTo(other.key);\r\n       }\r\n    \r\n       private String key;\r\n       private String value;\r\n    }\r\n\r\n\r\n\r\n  \r\nWhen testing entering the phone number it outputs the correct name and since it .binarysearch got the correct index but when entering a name outputs a random negative index value and I have no clue why. \r\n[Here is how the console looks like][1]\r\n  [1]: https://i.stack.imgur.com/rrVEk.png\r\n\r\nSorry if this post is not so good. This is my first post and I really need help. Can&#39;t figure this out","title":"Why is .binary search returning random negative values even though it worked before","body":"<p>I've been writing this program that reads in from a text file consisting of names and phone numbers. I created 2 arraylists both containing Item objects. names array list contains Item object haveing names as the key value and phone numbers as the value value. While the numbers array list is the opposite having the key value being phone numbers and the value value names.</p>\n<p>Here is the code:</p>\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class Test \n{\n    \npublic static void main(String[] args) throws FileNotFoundException\n{\n    File inputFile = new File(&quot;directory.txt&quot;);\n    ArrayList&lt;Item&gt; names = new ArrayList&lt;Item&gt;();\n    ArrayList&lt;Item&gt; numbers = new ArrayList&lt;Item&gt;();\n    \n    Scanner in1 = new Scanner(inputFile);\n    while(in1.hasNextLine())\n    {\n        String name = in1.nextLine();\n        String num = in1.nextLine();\n        Item item = new Item(name , num);\n        names.add(item);\n    }\n    \n    Scanner in2 = new Scanner(inputFile);\n    while(in2.hasNextLine())\n    {\n        String name = in2.nextLine();\n        String num = in2.nextLine();\n        Item item = new Item(num, name);\n        numbers.add(item);\n    }\n    \n    Collections.sort(names);\n    Collections.sort(numbers);\n    \n    Scanner in = new Scanner(System.in);\n    \n    System.out.println(&quot;Enter number: &quot;);\n    String num = in.next();\n    int index = Collections.binarySearch(numbers, new Item(num, null));\n    System.out.println(index);\n    System.out.println(numbers.get(index).getValue()); \n    \n    System.out.println(&quot;Enter name: &quot;);\n    num = in.next();\n    index = Collections.binarySearch(names, new Item(num, null));\n    System.out.println(index);\n    System.out.println(names.get(index).getValue());\n        \n\n}\n\n}\n\n\npublic class Item implements Comparable&lt;Item&gt;\n{\n  \n   public Item(String k, String v)\n   { \n      key = k;\n      value = v;\n   }\n   \n   \n   public String getKey()\n   { \n      return key;\n   }\n   \n   \n   public String getValue()\n   { \n      return value;\n   }\n\n   public int compareTo(Item otherObject)\n   {\n      Item other = (Item) otherObject;\n      return key.compareTo(other.key);\n   }\n\n   private String key;\n   private String value;\n}\n</code></pre>\n<p>When testing entering the phone number it outputs the correct name and since it .binarysearch got the correct index but when entering a name outputs a random negative index value and I have no clue why.\n[Here is how the console looks like][1]\n[1]: https://i.stack.imgur.com/rrVEk.png</p>\n<p>Sorry if this post is not so good. This is my first post and I really need help. Can't figure this out</p>\n"},{"tags":["java","spring","mercadopago","mercadopagosdk"],"comments":[{"owner":{"account_id":3330392,"reputation":1875,"user_id":2799472,"accept_rate":100,"display_name":"Typo"},"score":0,"creation_date":1652216900,"post_id":72192934,"comment_id":127552348,"body_markdown":"Check response for details.","body":"Check response for details."},{"owner":{"account_id":25248370,"reputation":1,"user_id":19081263,"display_name":"&#193;lex Almeida"},"score":0,"creation_date":1652217031,"post_id":72192934,"comment_id":127552385,"body_markdown":"How do i get the response?","body":"How do i get the response?"}],"owner":{"account_id":25248370,"reputation":1,"user_id":19081263,"display_name":"&#193;lex Almeida"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664921580,"creation_date":1652216713,"question_id":72192934,"body_markdown":"I&#39;m receiving this exception everytime that i call one &quot;PreferenceClient&quot; method, pls someone save me\r\n**The Java code**\r\n\r\n    public static void main(String[] args) throws MPException,  MPApiException {\r\n    \r\n        String DOMINIO = &quot;127.0.0.1:2020&quot;;\r\n        String SUCESSO = &quot;/pagamento/aprovado&quot;;\r\n        String FRACASSO = &quot;/pagamento/recusado&quot;;\r\n        \r\n        PreferenceClient client = new PreferenceClient();\r\n\r\n        PreferenceItemRequest item = \r\n            PreferenceItemRequest.builder()\r\n                .id(&quot;1&quot;)\r\n                .title(&quot;Camiseta 1&quot;)\r\n                .description(&quot;Salve&quot;)\r\n                .quantity(1)\r\n                .currencyId(&quot;BRL&quot;)\r\n                .unitPrice(new BigDecimal(&quot;100&quot;))\r\n                .build();\r\n\r\n        PreferenceBackUrlsRequest backUrls =\r\n            PreferenceBackUrlsRequest.builder()\r\n                .success(DOMINIO + SUCESSO)\r\n                .failure(DOMINIO + FRACASSO)\r\n                .build();\r\n\r\n        List&lt;PreferenceTrackRequest&gt; tracks = new ArrayList&lt;&gt;();\r\n        PreferenceTrackRequest googleTrack =\r\n            PreferenceTrackRequest.builder()\r\n                .type(&quot;google_ad&quot;)\r\n                .build();\r\n\r\n        tracks.add(googleTrack);\r\n\r\n        PreferenceRequest request =\r\n            PreferenceRequest.builder()\r\n                .backUrls(backUrls)\r\n                .items(Arrays.asList(item))\r\n                .tracks(tracks)\r\n                .build();\r\n\r\n        client.create(request);\r\n    }\r\n    }\r\n\r\n\r\nThe exception:\r\n\r\nException in thread &quot;main&quot; com.mercadopago.exceptions.MPApiException: Api error. Check response for details\r\n        at com.mercadopago.net.MPDefaultHttpClient.send(MPDefaultHttpClient.java:142)\r\n        at com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:56)\r\n        at com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:78)\r\n        at com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:123)\r\n        at com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:98)\r\n        at me.alexfrocha.mercadopago.mp.controllers.HomeController.main(HomeController.java:83)\r\n\r\n","title":"Mercado Pago API Exception","body":"<p>I'm receiving this exception everytime that i call one &quot;PreferenceClient&quot; method, pls someone save me\n<strong>The Java code</strong></p>\n<pre><code>public static void main(String[] args) throws MPException,  MPApiException {\n\n    String DOMINIO = &quot;127.0.0.1:2020&quot;;\n    String SUCESSO = &quot;/pagamento/aprovado&quot;;\n    String FRACASSO = &quot;/pagamento/recusado&quot;;\n    \n    PreferenceClient client = new PreferenceClient();\n\n    PreferenceItemRequest item = \n        PreferenceItemRequest.builder()\n            .id(&quot;1&quot;)\n            .title(&quot;Camiseta 1&quot;)\n            .description(&quot;Salve&quot;)\n            .quantity(1)\n            .currencyId(&quot;BRL&quot;)\n            .unitPrice(new BigDecimal(&quot;100&quot;))\n            .build();\n\n    PreferenceBackUrlsRequest backUrls =\n        PreferenceBackUrlsRequest.builder()\n            .success(DOMINIO + SUCESSO)\n            .failure(DOMINIO + FRACASSO)\n            .build();\n\n    List&lt;PreferenceTrackRequest&gt; tracks = new ArrayList&lt;&gt;();\n    PreferenceTrackRequest googleTrack =\n        PreferenceTrackRequest.builder()\n            .type(&quot;google_ad&quot;)\n            .build();\n\n    tracks.add(googleTrack);\n\n    PreferenceRequest request =\n        PreferenceRequest.builder()\n            .backUrls(backUrls)\n            .items(Arrays.asList(item))\n            .tracks(tracks)\n            .build();\n\n    client.create(request);\n}\n}\n</code></pre>\n<p>The exception:</p>\n<p>Exception in thread &quot;main&quot; com.mercadopago.exceptions.MPApiException: Api error. Check response for details\nat com.mercadopago.net.MPDefaultHttpClient.send(MPDefaultHttpClient.java:142)\nat com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:56)\nat com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:78)\nat com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:123)\nat com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:98)\nat me.alexfrocha.mercadopago.mp.controllers.HomeController.main(HomeController.java:83)</p>\n"},{"tags":["java","logic"],"comments":[{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":1,"creation_date":1601936556,"post_id":64216960,"comment_id":113556274,"body_markdown":"`strokes &gt; par + 1` you probably want `strokes &gt; par `","body":"<code>strokes &gt; par + 1</code> you probably want <code>strokes &gt; par </code>"},{"owner":{"account_id":483837,"reputation":10002,"user_id":899126,"accept_rate":100,"display_name":"Chris Forrence"},"score":0,"creation_date":1601936568,"post_id":64216960,"comment_id":113556279,"body_markdown":"It looks like there&#39;s specific logic for when Error _should_ be returned that doesn&#39;t appear to be handled in this logic","body":"It looks like there&#39;s specific logic for when Error <i>should</i> be returned that doesn&#39;t appear to be handled in this logic"},{"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"score":0,"creation_date":1601937154,"post_id":64216960,"comment_id":113556429,"body_markdown":"@Berto99 I tried it that way at first but then my other test case wasn&#39;t validating.","body":"@Berto99 I tried it that way at first but then my other test case wasn&#39;t validating."},{"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"score":0,"creation_date":1601937591,"post_id":64216960,"comment_id":113556513,"body_markdown":"@ChrisForrence Okay I think you were right I did it like this and all my test cases passed! :)\n\n`if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\n         return &quot;Error&quot;;\n      }\n      else if(strokes &lt;= par - 2){\n         return &quot;Eagle&quot;;\n      }\n      else if(strokes &lt;= par -1){\n         return &quot;Birdie&quot;;\n      }\n      else if(strokes == par){\n         return &quot;Par&quot;;\n      }\n      else{\n         return &quot;Bogey&quot;;\n      } \n   }`","body":"@ChrisForrence Okay I think you were right I did it like this and all my test cases passed! :)  <code>if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){          return &quot;Error&quot;;       }       else if(strokes &lt;= par - 2){          return &quot;Eagle&quot;;       }       else if(strokes &lt;= par -1){          return &quot;Birdie&quot;;       }       else if(strokes == par){          return &quot;Par&quot;;       }       else{          return &quot;Bogey&quot;;       }     }</code>"}],"answers":[{"tags":[],"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601937725,"creation_date":1601937725,"answer_id":64217135,"question_id":64216960,"body_markdown":"SOLVED! Thanks to ChrisForrence!\r\n\r\n    if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\r\n         return &quot;Error&quot;;\r\n      }\r\n      else if(strokes &lt;= par - 2){\r\n         return &quot;Eagle&quot;;\r\n      }\r\n      else if(strokes &lt;= par -1){\r\n         return &quot;Birdie&quot;;\r\n      }\r\n      else if(strokes == par){\r\n         return &quot;Par&quot;;\r\n      }\r\n      else{\r\n         return &quot;Bogey&quot;;\r\n      } \r\n   }","title":"Golf return output logic issue","body":"<p>SOLVED! Thanks to ChrisForrence!</p>\n<pre><code>if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\n     return &quot;Error&quot;;\n  }\n  else if(strokes &lt;= par - 2){\n     return &quot;Eagle&quot;;\n  }\n  else if(strokes &lt;= par -1){\n     return &quot;Birdie&quot;;\n  }\n  else if(strokes == par){\n     return &quot;Par&quot;;\n  }\n  else{\n     return &quot;Bogey&quot;;\n  } \n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":26529877,"reputation":1,"user_id":20162253,"display_name":"LANCELOT 101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920893,"creation_date":1664920893,"answer_id":73954024,"question_id":64216960,"body_markdown":"If anyone was looking for the solution for this problem but written in C++, here it is.\r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n\r\n    int main() {\r\n\r\n    \tint par;\r\n    \tint strokes;\r\n\r\n    \tcin &gt;&gt; par &gt;&gt; strokes;\r\n\r\n    \tif ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\r\n            cout &lt;&lt; &quot;Error&quot; &lt;&lt; endl;\r\n    \t}\r\n        else if (strokes == par - 2){\r\n            cout &lt;&lt; &quot;Eagle&quot; &lt;&lt; endl;\r\n        }\r\n        else if (strokes == par - 1){\r\n            cout &lt;&lt; &quot;Birdie&quot; &lt;&lt; endl;\r\n        }\r\n        else if (strokes == par){\r\n            cout &lt;&lt; &quot;Par&quot; &lt;&lt; endl;\r\n        }\r\n        else if (strokes == par + 1){\r\n            cout &lt;&lt; &quot;Bogey&quot; &lt;&lt; endl;\r\n        }\r\n        else{\r\n            cout &lt;&lt; &quot;None&quot; &lt;&lt; endl;\r\n        }\r\n\r\n\r\n\t    return 0;\r\n    }\r\n","title":"Golf return output logic issue","body":"<p>If anyone was looking for the solution for this problem but written in C++, here it is.</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n\n    int par;\n    int strokes;\n\n    cin &gt;&gt; par &gt;&gt; strokes;\n\n    if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\n        cout &lt;&lt; &quot;Error&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par - 2){\n        cout &lt;&lt; &quot;Eagle&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par - 1){\n        cout &lt;&lt; &quot;Birdie&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par){\n        cout &lt;&lt; &quot;Par&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par + 1){\n        cout &lt;&lt; &quot;Bogey&quot; &lt;&lt; endl;\n    }\n    else{\n        cout &lt;&lt; &quot;None&quot; &lt;&lt; endl;\n    }\n\n\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5954,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664920893,"creation_date":1601936392,"question_id":64216960,"body_markdown":"Hey guys so I am trying to do a HW question for a java class and I am having some trouble understanding the logic. This is the question they asked of me:\r\n\r\n*Golf scores record the number of strokes used to get the ball in the hole. The expected number of strokes varies from hole to hole and is called par (i.e. 3, 4 or 5). Each score has a cute name based on the actual strokes taken compared to par. Return &quot;Eagle&quot; if strokes is two less than par. Return &quot;Birdie&quot; if strokes is one less than par. Return &quot;Par&quot; if par matches strokes exactly. Return &quot;Bogey&quot; if strokes is one more than par. Return &quot;Error&quot; if par is not 3, 4 or 5.*\r\n\r\nThis is my code:\r\n\r\n```\r\npublic class Main {\r\n   \r\n   public String golfScore(int par, int strokes){\r\n      \r\n      if(strokes &lt;= par - 2){\r\n         return &quot;Eagle&quot;;\r\n      }\r\n      else if(strokes &lt;= par -1){\r\n         return &quot;Birdie&quot;;\r\n      }\r\n      else if(strokes == par){\r\n         return &quot;Par&quot;;\r\n      }\r\n      else if(strokes &gt; par + 1){\r\n         return &quot;Bogey&quot;;\r\n      }\r\n      else{\r\n         return &quot;Error&quot;;\r\n      }\r\n   }\r\n   \r\n   // this method not used but needed for testing\r\n   public static void main(String[] args) {\r\n   }\r\n}\r\n```\r\n\r\n[When I run the results I get correct for everything except for the last test. ][1]\r\n\r\n\r\nBut this logic doesn&#39;t make sense to me cause it should be invalidating my if statement. Cause 1 &gt; 2 + 1 is false therefore it should be outputting an error. Why is my program outputting bogey?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SB8Ox.png","title":"Golf return output logic issue","body":"<p>Hey guys so I am trying to do a HW question for a java class and I am having some trouble understanding the logic. This is the question they asked of me:</p>\n<p><em>Golf scores record the number of strokes used to get the ball in the hole. The expected number of strokes varies from hole to hole and is called par (i.e. 3, 4 or 5). Each score has a cute name based on the actual strokes taken compared to par. Return &quot;Eagle&quot; if strokes is two less than par. Return &quot;Birdie&quot; if strokes is one less than par. Return &quot;Par&quot; if par matches strokes exactly. Return &quot;Bogey&quot; if strokes is one more than par. Return &quot;Error&quot; if par is not 3, 4 or 5.</em></p>\n<p>This is my code:</p>\n<pre><code>public class Main {\n   \n   public String golfScore(int par, int strokes){\n      \n      if(strokes &lt;= par - 2){\n         return &quot;Eagle&quot;;\n      }\n      else if(strokes &lt;= par -1){\n         return &quot;Birdie&quot;;\n      }\n      else if(strokes == par){\n         return &quot;Par&quot;;\n      }\n      else if(strokes &gt; par + 1){\n         return &quot;Bogey&quot;;\n      }\n      else{\n         return &quot;Error&quot;;\n      }\n   }\n   \n   // this method not used but needed for testing\n   public static void main(String[] args) {\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SB8Ox.png\" rel=\"nofollow noreferrer\">When I run the results I get correct for everything except for the last test. </a></p>\n<p>But this logic doesn't make sense to me cause it should be invalidating my if statement. Cause 1 &gt; 2 + 1 is false therefore it should be outputting an error. Why is my program outputting bogey?</p>\n"},{"tags":["java","algorithm","collections"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":5,"creation_date":1484138117,"post_id":41591107,"comment_id":70385463,"body_markdown":"No, there is no such method on the Set interface.  That abstraction doesn&#39;t imply an order, only that it&#39;s a Collection where every element is unique.","body":"No, there is no such method on the Set interface.  That abstraction doesn&#39;t imply an order, only that it&#39;s a Collection where every element is unique."},{"owner":{"account_id":1091813,"reputation":2454,"user_id":1086294,"display_name":"abbath"},"score":0,"creation_date":1484138187,"post_id":41591107,"comment_id":70385508,"body_markdown":"Without counter you simply can&#39;t do it in java.","body":"Without counter you simply can&#39;t do it in java."},{"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"score":0,"creation_date":1484138233,"post_id":41591107,"comment_id":70385552,"body_markdown":"pls tell, what do you want to do if you know the current element is the last. Keep in mind, that the for each on `HashSet` won&#39;t keep the order.","body":"pls tell, what do you want to do if you know the current element is the last. Keep in mind, that the for each on <code>HashSet</code> won&#39;t keep the order."},{"owner":{"account_id":4456018,"reputation":734,"user_id":3626293,"display_name":"Bene"},"score":0,"creation_date":1484138260,"post_id":41591107,"comment_id":70385569,"body_markdown":"Also, be aware that Set does not provide ordering guarantees. The last element you added might not be the last element in the iteration.","body":"Also, be aware that Set does not provide ordering guarantees. The last element you added might not be the last element in the iteration."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1484152897,"post_id":41591107,"comment_id":70395145,"body_markdown":"The important question is why do you need to do this. In many, perhaps most, cases, you can modify your algorithm slightly so that it&#39;s not necessary to know inside the loop that you&#39;re on the last iteration.","body":"The important question is why do you need to do this. In many, perhaps most, cases, you can modify your algorithm slightly so that it&#39;s not necessary to know inside the loop that you&#39;re on the last iteration."}],"answers":[{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484138306,"creation_date":1484138306,"answer_id":41591204,"question_id":41591107,"body_markdown":"There is no build in method to check if the current element is also the last element. Besides that you are using a `HashSet` which does not guarantee the return order. Even if you want to check it e.g. with an index `i` the last element could always be a different one. \r\n\r\n","title":"detect last foreach loop iteration","body":"<p>There is no build in method to check if the current element is also the last element. Besides that you are using a <code>HashSet</code> which does not guarantee the return order. Even if you want to check it e.g. with an index <code>i</code> the last element could always be a different one. </p>\n"},{"tags":[],"owner":{"account_id":10011719,"reputation":537,"user_id":7404378,"display_name":"Lazar Petrovic"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1484138307,"creation_date":1484138307,"answer_id":41591205,"question_id":41591107,"body_markdown":"There isn&#39;t, take a look at https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\r\n\r\nYou must change your loop to use an iterator explicitly or an int counter.","title":"detect last foreach loop iteration","body":"<p>There isn't, take a look at <a href=\"https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">How does the Java &#39;for each&#39; loop work?</a></p>\n\n<p>You must change your loop to use an iterator explicitly or an int counter.</p>\n"},{"tags":[],"owner":{"account_id":7649983,"reputation":1584,"user_id":5799145,"accept_rate":57,"display_name":"CraigR8806"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484138448,"creation_date":1484138448,"answer_id":41591249,"question_id":41591107,"body_markdown":"A `Set` does not guaranty order over of items within it.  You may loop through the `Set` once and retrieve &quot;abc&quot; as the &quot;last item&quot; and the next time you may find that &quot;hij&quot; is the &quot;last item&quot; in the `Set`.  \r\n\r\nThat being said, if you are not concerned about order and you just want to know what the arbitrary &quot;last item&quot; is when observing the `Set` at that current moment, there is not built in way to do this.  You would have to make use of a counter.","title":"detect last foreach loop iteration","body":"<p>A <code>Set</code> does not guaranty order over of items within it.  You may loop through the <code>Set</code> once and retrieve \"abc\" as the \"last item\" and the next time you may find that \"hij\" is the \"last item\" in the <code>Set</code>.  </p>\n\n<p>That being said, if you are not concerned about order and you just want to know what the arbitrary \"last item\" is when observing the <code>Set</code> at that current moment, there is not built in way to do this.  You would have to make use of a counter.</p>\n"},{"tags":[],"owner":{"account_id":9701780,"reputation":1040,"user_id":7196490,"accept_rate":25,"display_name":"Edu G"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1484141170,"creation_date":1484141170,"answer_id":41592183,"question_id":41591107,"body_markdown":"Other answears are completely adequate, just adding this solution for the given question.\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n\r\n       //some code\r\n       int i = 0;\r\n\r\n    for (String name: names) {\r\n        if(i++ == names.size() - 1){\r\n            // Last iteration\r\n        }\r\n       //some code\r\n\r\n    }","title":"detect last foreach loop iteration","body":"<p>Other answears are completely adequate, just adding this solution for the given question.</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\n   //some code\n   int i = 0;\n\nfor (String name: names) {\n    if(i++ == names.size() - 1){\n        // Last iteration\n    }\n   //some code\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73325,"reputation":2464,"user_id":211225,"accept_rate":44,"display_name":"Joao Pereira"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1541940128,"creation_date":1534274722,"answer_id":51848496,"question_id":41591107,"body_markdown":"For simplicity and understandability, imo, would do:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    Iterator&lt;String&gt; iterator = names.iterator();\r\n        while (iterator.hasNext()) {\r\n            String name = iterator.next();\r\n            //Do stuff\r\n            if (!iterator.hasNext()) {\r\n                //last name \r\n            }\r\n         }\r\n\r\n\r\nAlso, it depends on what you&#39;re trying to achieve. Let&#39;s say you are implementing the common use case of separating each name by coma, but not add an empty coma at the end:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    names.add(&quot;Joao&quot;);\r\n    names.add(&quot;Pereira&quot;);\r\n        \r\n    //if the result should be Joao, Pereira then something like this may work\r\n    String result = names.stream().collect(Collectors.joining(&quot;, &quot;));\r\n","title":"detect last foreach loop iteration","body":"<p>For simplicity and understandability, imo, would do:</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\nIterator&lt;String&gt; iterator = names.iterator();\n    while (iterator.hasNext()) {\n        String name = iterator.next();\n        //Do stuff\n        if (!iterator.hasNext()) {\n            //last name \n        }\n     }\n</code></pre>\n\n<p>Also, it depends on what you're trying to achieve. Let's say you are implementing the common use case of separating each name by coma, but not add an empty coma at the end:</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\nnames.add(\"Joao\");\nnames.add(\"Pereira\");\n\n//if the result should be Joao, Pereira then something like this may work\nString result = names.stream().collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8735269,"reputation":7,"user_id":6534127,"display_name":"luk4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537794310,"creation_date":1537793814,"answer_id":52480009,"question_id":41591107,"body_markdown":".map(String::toString) from the answer above is redundant, because HashSet already contains String values. Do not use Set to concatenate strings because the order is not assured.\r\n\r\n    List&lt;String&gt; nameList = Arrays.asList(&quot;Michael&quot;, &quot;Kate&quot;, &quot;Tom&quot;);\r\n    String result = nameList.stream().collect(Collectors.joining(&quot;, &quot;));","title":"detect last foreach loop iteration","body":"<p>.map(String::toString) from the answer above is redundant, because HashSet already contains String values. Do not use Set to concatenate strings because the order is not assured.</p>\n\n<pre><code>List&lt;String&gt; nameList = Arrays.asList(\"Michael\", \"Kate\", \"Tom\");\nString result = nameList.stream().collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5690511,"reputation":63,"user_id":4498709,"display_name":"Manoj G"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564259241,"creation_date":1564259241,"answer_id":57235815,"question_id":41591107,"body_markdown":"If you are working with a complex object and not just a plain list/set the below code might help. Just adding a map function to actually get the desired string before you collect. \r\n\r\n    String result = violations.stream().map(e-&gt;e.getMessage()).collect(Collectors.joining(&quot;, &quot;));","title":"detect last foreach loop iteration","body":"<p>If you are working with a complex object and not just a plain list/set the below code might help. Just adding a map function to actually get the desired string before you collect. </p>\n\n<pre><code>String result = violations.stream().map(e-&gt;e.getMessage()).collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5949798,"reputation":47,"user_id":4678218,"display_name":"Mohamed Zaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608307773,"creation_date":1608297610,"answer_id":65357784,"question_id":41591107,"body_markdown":"There is an easy way you can do this throw one condition.\r\nconsider this is your array:\r\n\r\n```java\r\nint odd[] = {1,3,5,7,9,11};\r\n```\r\n\r\nand you want to print it all in one line with &quot; - &quot; hyphen between them except the last one.\r\n\r\n```java\r\nfor(int aa:odd) {\r\n    System.out.print(aa);\r\n \t\t\t\r\n    if(odd[odd.length - 1] != aa)\r\n        System.out.print(&quot; - &quot;);\r\n}\r\n```\r\n\r\nthis condition \r\n\r\n```java\r\nif( odd[odd.length - 1] != aa )\r\n```\r\n\r\nwill check if you aren&#39;t in the last element so you can still add &quot; - &quot;, otherwise you will not add it.","title":"detect last foreach loop iteration","body":"<p>There is an easy way you can do this throw one condition.\nconsider this is your array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int odd[] = {1,3,5,7,9,11};\n</code></pre>\n<p>and you want to print it all in one line with &quot; - &quot; hyphen between them except the last one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int aa:odd) {\n    System.out.print(aa);\n            \n    if(odd[odd.length - 1] != aa)\n        System.out.print(&quot; - &quot;);\n}\n</code></pre>\n<p>this condition</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( odd[odd.length - 1] != aa )\n</code></pre>\n<p>will check if you aren't in the last element so you can still add &quot; - &quot;, otherwise you will not add it.</p>\n"},{"tags":[],"owner":{"account_id":15726609,"reputation":673,"user_id":11348074,"display_name":"gotwo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630529364,"creation_date":1630529364,"answer_id":69020416,"question_id":41591107,"body_markdown":"Yes, there is a way to check it inside of `foreach`, by use of a counter:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    \r\n    int i = names.size() - 1;\r\n    for (String name: names) {\r\n        if (i-- == 0) {\r\n            // some code for last name\r\n        }\r\n        //some code\r\n    }\r\n\r\nConsider, `names.size()` is called only one time outside of the loop. This makes the loop faster than processing it multiple times within the loop. ","title":"detect last foreach loop iteration","body":"<p>Yes, there is a way to check it inside of <code>foreach</code>, by use of a counter:</p>\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\nint i = names.size() - 1;\nfor (String name: names) {\n    if (i-- == 0) {\n        // some code for last name\n    }\n    //some code\n}\n</code></pre>\n<p>Consider, <code>names.size()</code> is called only one time outside of the loop. This makes the loop faster than processing it multiple times within the loop.</p>\n"},{"tags":[],"owner":{"account_id":3927945,"reputation":5168,"user_id":3247605,"display_name":"Chhorn Elit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920834,"creation_date":1664920834,"answer_id":73954018,"question_id":41591107,"body_markdown":"\t\tList&lt;String&gt; list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n\t\tfor (String each : list) {\r\n\t\t\tif (list.indexOf(each) == (list.size() - 1)) {\r\n\t\t\t\tSystem.out.println(&quot;last loop&quot;);\r\n\t\t\t}\r\n\t\t}\r\nNote: Set is NOT an ordered collection.","title":"detect last foreach loop iteration","body":"<pre><code>    List&lt;String&gt; list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\n    for (String each : list) {\n        if (list.indexOf(each) == (list.size() - 1)) {\n            System.out.println(&quot;last loop&quot;);\n        }\n    }\n</code></pre>\n<p>Note: Set is NOT an ordered collection.</p>\n"}],"owner":{"account_id":8866274,"reputation":2177,"user_id":6621346,"accept_rate":79,"display_name":"mhery"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137156,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":41591205,"answer_count":10,"score":79,"last_activity_date":1664920834,"creation_date":1484138047,"question_id":41591107,"body_markdown":"Supposing that I have some `foreach` loop like this:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    //some code\r\n    for (String name: names) {\r\n         //some code\r\n    }\r\n\r\nIs there a way to check inside `foreach` that the actual name is the last one in `Set` without a counter?  I didn&#39;t found here some question like this.","title":"detect last foreach loop iteration","body":"<p>Supposing that I have some <code>foreach</code> loop like this:</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\n//some code\nfor (String name: names) {\n     //some code\n}\n</code></pre>\n\n<p>Is there a way to check inside <code>foreach</code> that the actual name is the last one in <code>Set</code> without a counter?  I didn't found here some question like this.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1664892770,"post_id":73948975,"comment_id":130570872,"body_markdown":"You are using the wrong annotation, you want `org.springframework.boot.test.mock.mockito.MockBean;` not `@Mock`","body":"You are using the wrong annotation, you want <code>org.springframework.boot.test.mock.mockito.MockBean;</code> not <code>@Mock</code>"},{"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"score":0,"creation_date":1664920249,"post_id":73948975,"comment_id":130579305,"body_markdown":"@IgorFlakiewicz, thanks a lot! I will post my answer shortly!","body":"@IgorFlakiewicz, thanks a lot! I will post my answer shortly!"}],"answers":[{"tags":[],"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920527,"creation_date":1664920527,"answer_id":73953983,"question_id":73948975,"body_markdown":"I ended up figuring it out thanks to Igor.\r\n\r\nI not only had to add `@MockBean` to the service being mocked but also the following annotations to the testing class `@WebMvcTest(controllers = AdditionController.class)` and `@ContextConfiguration(classes = AdditionController.class)`.\r\n\r\n\r\n```\r\n@WebMvcTest(controllers = AdditionController.class)\r\n@ContextConfiguration(classes = AdditionController.class)\r\nclass AdditionControllerTest {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @MockBean\r\n    private SumService sumService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void shouldReturn5() throws Exception {\r\n        Double expectedValue = 5.0;\r\n        SumModel s = new SumModel();\r\n        s.setN1(2.0);\r\n        s.setN2(3.0);\r\n\r\n        String json = objectMapper.writeValueAsString(s);\r\n\r\n        given(this.sumService.sum(any())).willReturn(expectedValue);\r\n\r\n        this.mockMvc.perform(\r\n                post(&quot;/sum&quot;)\r\n                        .accept(MediaType.APPLICATION_JSON_VALUE)\r\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                        .content(json)\r\n                )\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().string(expectedValue.toString()));\r\n    }\r\n}\r\n```\r\n\r\nI am still unsure if it is a good practice to not have a SpringBootApplication annotated class in the addition module.\r\n\r\nIt works for what I needed to understand, I hope this might help others as well.","title":"How to run tests in a Multi Module Springboot project?","body":"<p>I ended up figuring it out thanks to Igor.</p>\n<p>I not only had to add <code>@MockBean</code> to the service being mocked but also the following annotations to the testing class <code>@WebMvcTest(controllers = AdditionController.class)</code> and <code>@ContextConfiguration(classes = AdditionController.class)</code>.</p>\n<pre><code>@WebMvcTest(controllers = AdditionController.class)\n@ContextConfiguration(classes = AdditionController.class)\nclass AdditionControllerTest {\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    @MockBean\n    private SumService sumService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldReturn5() throws Exception {\n        Double expectedValue = 5.0;\n        SumModel s = new SumModel();\n        s.setN1(2.0);\n        s.setN2(3.0);\n\n        String json = objectMapper.writeValueAsString(s);\n\n        given(this.sumService.sum(any())).willReturn(expectedValue);\n\n        this.mockMvc.perform(\n                post(&quot;/sum&quot;)\n                        .accept(MediaType.APPLICATION_JSON_VALUE)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .content(json)\n                )\n                .andExpect(status().isOk())\n                .andExpect(content().string(expectedValue.toString()));\n    }\n}\n</code></pre>\n<p>I am still unsure if it is a good practice to not have a SpringBootApplication annotated class in the addition module.</p>\n<p>It works for what I needed to understand, I hope this might help others as well.</p>\n"}],"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664920527,"creation_date":1664891488,"question_id":73948975,"body_markdown":"I am currently experimenting with Multi Modules for Springboot and I would to know what are the good or best practices when running tests within different modules that do not contain `@SpringBootApplication` annotation but have structures or beans like `@RestController` without errors such as:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.mavenmultimodule.controllers.AdditionController required a bean of type &#39;com.example.mavenmultimodule.services.SumService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.mavenmultimodule.services.SumService&#39; in your configuration.\r\n\r\n```\r\n\r\nFailed test:\r\n\r\n```lang-java\r\npackage com.example.mavenmultimodule.controllers;\r\n\r\nimports...\r\n\r\n@SpringBootTest(classes = AdditionController.class)\r\n@AutoConfigureMockMvc\r\nclass AdditionControllerTest {\r\n\r\n    @Mock\r\n    private SumService sumService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void shouldReturn5() throws Exception {\r\n        SumModel s = new SumModel();\r\n        s.setN1(2.0);\r\n        s.setN2(3.0);\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(s);\r\n\r\n        when(sumService.sum(s)).thenReturn(5.0);\r\n\r\n        MvcResult result = this.mockMvc.perform(\r\n                post(&quot;/sum&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(json)\r\n                )\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n\r\n        assertEquals(5, result.getResponse());\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have the following structure:\r\n\r\n    Parent\r\n    - pom.xml\r\n    - addition\r\n      - pom.xml\r\n      - src\r\n        - main\r\n        - test\r\n    - subtraction\r\n      - pom.xml\r\n      - src\r\n        - main\r\n        - test\r\n    - application\r\n      - pom.xml\r\n      - src\r\n        - main\r\n        - test\r\n\r\nWhere application/src/main/MavenMultiModuleApplication contains the following code:\r\n``` lang-java\r\n    package com.example.mavenmultimodule;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication(scanBasePackages = &quot;com.example.mavenmultimodule&quot;)\r\n    public class MavenMultiModuleApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MavenMultiModuleApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n```\r\n\r\nThe parent pom file contains the following:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mavenmultimodule&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;mavenmultimodule&lt;/name&gt;\r\n    &lt;description&gt;mavenmultimodule&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;addition&lt;/module&gt;\r\n        &lt;module&gt;subtraction&lt;/module&gt;\r\n        &lt;module&gt;application&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe application pom file contains the following:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;!-- Parent for the dependencies --&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Custom dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;addition&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd both addition and subtraction module contain pom contains:\r\n\r\n```lang-xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;!-- Parent for the dependencies --&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nLink to the repository in question on Github:\r\nhttps://github.com/filipe-costa/maven-multi-module\r\n\r\nLink to the failing test:\r\nhttps://github.com/filipe-costa/maven-multi-module/blob/main/addition/src/test/java/com/example/mavenmultimodule/controllers/AdditionControllerTest.java","title":"How to run tests in a Multi Module Springboot project?","body":"<p>I am currently experimenting with Multi Modules for Springboot and I would to know what are the good or best practices when running tests within different modules that do not contain <code>@SpringBootApplication</code> annotation but have structures or beans like <code>@RestController</code> without errors such as:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.mavenmultimodule.controllers.AdditionController required a bean of type 'com.example.mavenmultimodule.services.SumService' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.mavenmultimodule.services.SumService' in your configuration.\n\n</code></pre>\n<p>Failed test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.mavenmultimodule.controllers;\n\nimports...\n\n@SpringBootTest(classes = AdditionController.class)\n@AutoConfigureMockMvc\nclass AdditionControllerTest {\n\n    @Mock\n    private SumService sumService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldReturn5() throws Exception {\n        SumModel s = new SumModel();\n        s.setN1(2.0);\n        s.setN2(3.0);\n        Gson gson = new Gson();\n        String json = gson.toJson(s);\n\n        when(sumService.sum(s)).thenReturn(5.0);\n\n        MvcResult result = this.mockMvc.perform(\n                post(&quot;/sum&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(json)\n                )\n                .andExpect(status().isOk())\n                .andReturn();\n\n        assertEquals(5, result.getResponse());\n    }\n\n}\n</code></pre>\n<p>I have the following structure:</p>\n<pre><code>Parent\n- pom.xml\n- addition\n  - pom.xml\n  - src\n    - main\n    - test\n- subtraction\n  - pom.xml\n  - src\n    - main\n    - test\n- application\n  - pom.xml\n  - src\n    - main\n    - test\n</code></pre>\n<p>Where application/src/main/MavenMultiModuleApplication contains the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.example.mavenmultimodule;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    \n    @SpringBootApplication(scanBasePackages = &quot;com.example.mavenmultimodule&quot;)\n    public class MavenMultiModuleApplication {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(MavenMultiModuleApplication.class, args);\n        }\n    \n    }\n\n</code></pre>\n<p>The parent pom file contains the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mavenmultimodule&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mavenmultimodule&lt;/name&gt;\n    &lt;description&gt;mavenmultimodule&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;addition&lt;/module&gt;\n        &lt;module&gt;subtraction&lt;/module&gt;\n        &lt;module&gt;application&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The application pom file contains the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!-- Parent for the dependencies --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Custom dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;addition&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And both addition and subtraction module contain pom contains:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!-- Parent for the dependencies --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Link to the repository in question on Github:\n<a href=\"https://github.com/filipe-costa/maven-multi-module\" rel=\"nofollow noreferrer\">https://github.com/filipe-costa/maven-multi-module</a></p>\n<p>Link to the failing test:\n<a href=\"https://github.com/filipe-costa/maven-multi-module/blob/main/addition/src/test/java/com/example/mavenmultimodule/controllers/AdditionControllerTest.java\" rel=\"nofollow noreferrer\">https://github.com/filipe-costa/maven-multi-module/blob/main/addition/src/test/java/com/example/mavenmultimodule/controllers/AdditionControllerTest.java</a></p>\n"},{"tags":["java","while-loop","return","break"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664920141,"creation_date":1664920141,"answer_id":73953942,"question_id":73953919,"body_markdown":"Since the while loop is `while (true)` and contains no `break` statements, the only way the loop can exit is by fulfilling this condition, which is already returning from the method\r\n\r\n    if (day &gt; 3) {\r\n        return day;\r\n    }\r\n\r\nTherefore the `return day` at the bottom of the method is not possible to reach.\r\n\r\nJust remove that line `return day;` at the bottom of the method. Provided your logic is correct and `day` will eventually be greater than 3, you don&#39;t need it.\r\n\r\nAlternatively, choose a proper condition rather than `while (true)`, or add a break statement. ","title":"Unreachable statement error when trying to return from a while loop - Java","body":"<p>Since the while loop is <code>while (true)</code> and contains no <code>break</code> statements, the only way the loop can exit is by fulfilling this condition, which is already returning from the method</p>\n<pre><code>if (day &gt; 3) {\n    return day;\n}\n</code></pre>\n<p>Therefore the <code>return day</code> at the bottom of the method is not possible to reach.</p>\n<p>Just remove that line <code>return day;</code> at the bottom of the method. Provided your logic is correct and <code>day</code> will eventually be greater than 3, you don't need it.</p>\n<p>Alternatively, choose a proper condition rather than <code>while (true)</code>, or add a break statement.</p>\n"}],"owner":{"account_id":18809894,"reputation":1,"user_id":13718302,"display_name":"Navi Sureka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664920141,"creation_date":1664919962,"question_id":73953919,"body_markdown":"    static long minDaysToEmpty(long C, long l) {\r\n        long previousFill=C;\r\n        long day=1;\r\n        long currentFill=C;\r\n        while(true){\r\n            currentFill=Math.min(C,(previousFill-(day))+l);\r\n            previousFill=currentFill;\r\n            day++;\r\n            if(day&gt;3){\r\n                return day;\r\n            }\r\n        }\r\n        return day;\r\n    }\r\n\r\nThis code throws a compile time error.\r\n\r\n    Test.java:15: error: unreachable statement return day;\r\n\r\nI don&#39;t understand why this statement can&#39;t be reached.\r\n\r\nOn doing the below modification to the original code, the if block is reachable\r\n\r\n    if(day&gt;3){\r\n      break;\r\n    }\r\nBut inside the same block return statement is unreachable.","title":"Unreachable statement error when trying to return from a while loop - Java","body":"<pre><code>static long minDaysToEmpty(long C, long l) {\n    long previousFill=C;\n    long day=1;\n    long currentFill=C;\n    while(true){\n        currentFill=Math.min(C,(previousFill-(day))+l);\n        previousFill=currentFill;\n        day++;\n        if(day&gt;3){\n            return day;\n        }\n    }\n    return day;\n}\n</code></pre>\n<p>This code throws a compile time error.</p>\n<pre><code>Test.java:15: error: unreachable statement return day;\n</code></pre>\n<p>I don't understand why this statement can't be reached.</p>\n<p>On doing the below modification to the original code, the if block is reachable</p>\n<pre><code>if(day&gt;3){\n  break;\n}\n</code></pre>\n<p>But inside the same block return statement is unreachable.</p>\n"},{"tags":["java","maven","deployment","jboss"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1664298193,"post_id":73871124,"comment_id":130437790,"body_markdown":"it seems that myapp-ejb-web.war is already deployed","body":"it seems that myapp-ejb-web.war is already deployed"},{"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"score":0,"creation_date":1664299354,"post_id":73871124,"comment_id":130438162,"body_markdown":"Okay, thanks, according to this post it has something do to with `application.xml`.  https://developer.jboss.org/thread/249844  Do you have any suggestions on how I should update this file?  Or should I be correcting the issue some other way?","body":"Okay, thanks, according to this post it has something do to with <code>application.xml</code>.  <a href=\"https://developer.jboss.org/thread/249844\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/249844</a>  Do you have any suggestions on how I should update this file?  Or should I be correcting the issue some other way?"}],"answers":[{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664919911,"creation_date":1664919911,"answer_id":73953909,"question_id":73871124,"body_markdown":"Execute these steps:\r\n\r\n 1. Inside `%JBOSS_HOME%\\standalone\\deployments`, delete all `*.failed` files.\r\n 2. In `%JBOSS_HOME%\\standalone\\configuration`, edit `standalone.xml` and find `deployments` element. Remove them.\r\n 3. Redeploy\r\n\r\n","title":"org.jboss.msc.service.DuplicateServiceException Service jboss.undertow.deployment.default-server.default-host/ap-ejb-web.UndertowDeploymentInfoService","body":"<p>Execute these steps:</p>\n<ol>\n<li>Inside <code>%JBOSS_HOME%\\standalone\\deployments</code>, delete all <code>*.failed</code> files.</li>\n<li>In <code>%JBOSS_HOME%\\standalone\\configuration</code>, edit <code>standalone.xml</code> and find <code>deployments</code> element. Remove them.</li>\n<li>Redeploy</li>\n</ol>\n"}],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73953909,"answer_count":1,"score":0,"last_activity_date":1664919911,"creation_date":1664297173,"question_id":73871124,"body_markdown":"I am experiencing issues with a `myapp-ear` project.  Here is the error I am getting after running `mvn clean install` and `mvn wildfly:deploy`.  Does anyone have any suggestions?\r\n\r\n\r\n```\r\n [INFO] ejb-ear ............................................ FAILURE [ \r\n 1.617 s] [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO]\r\n ------------------------------------------------------------------------ [INFO] Total time:  3.089 s [INFO] Finished at:\r\n 2022-09-26T23:16:43-06:00 [INFO]\r\n ------------------------------------------------------------------------ [ERROR] Failed to execute goal\r\n org.wildfly.plugins:wildfly-maven-plugin:2.0.1.Final:deploy\r\n (default-cli) on project myapp-ear: Failed to execute goal deploy:\r\n {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps\r\n that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed\r\n services&quot; =&gt;\r\n {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot;\r\n =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot; [ERROR]    \r\n Caused by: org.jboss.msc.service.DuplicateServiceException: Service\r\n jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService\r\n is already registered&quot;},&quot;WFLYCTL0412: Required services that are not\r\n installed:&quot; =&gt;\r\n [&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180:\r\n Services with missing/unavailable dependencies&quot; =&gt;\r\n [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is\r\n missing\r\n [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\r\n [ERROR] -&gt; [Help 1]\r\n```\r\n\r\n**UPDATE:**\r\n\r\nHere is my `application.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\r\n      &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\r\n      &lt;display-name&gt;myapp-ear&lt;/display-name&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;myapp-ejb-web.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/myapp-ejb-web&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n        &lt;ejb&gt;myapp-ejb.jar&lt;/ejb&gt;\r\n      &lt;/module&gt;\r\n      &lt;library-directory&gt;lib&lt;/library-directory&gt;\r\n    &lt;/application&gt;\r\n\r\n**UPDATE 2:**\r\n\r\nAlso, here is my `pom.xml` file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\r\n        &lt;packaging&gt;ear&lt;/packaging&gt;\r\n        &lt;name&gt;ejb-ear&lt;/name&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.0&lt;/version&gt;\r\n            &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n        &lt;/parent&gt;\r\n        &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n                &lt;type&gt;ejb&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\r\n                &lt;type&gt;war&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;version&gt;7&lt;/version&gt;\r\n                        &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\r\n                        &lt;modules&gt;\r\n                            &lt;webModule&gt;\r\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\r\n                                &lt;contextRoot&gt;/myapp-ejb-web&lt;/contextRoot&gt;\r\n                            &lt;/webModule&gt;\r\n                        &lt;/modules&gt;\r\n                        &lt;outputFileNameMapping&gt;@{artifactId}@@{dashClassifier?}@.@{extension}@&lt;/outputFileNameMapping&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;false&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**UPDATE 3:**\r\n\r\nIf I add the -e flag to the `mvn wildfly:deploy` then this is what I see:\r\n\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot;\r\n        Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService is already registered&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;ec-ear.ear\\&quot;.\\&quot;ec-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\r\n\r\nSo to me it sounds like the error says that the required service `myapp-ear.ear` is not installed because the dependency `myapp-ear.ear` is not installed which makes no sense to me.","title":"org.jboss.msc.service.DuplicateServiceException Service jboss.undertow.deployment.default-server.default-host/ap-ejb-web.UndertowDeploymentInfoService","body":"<p>I am experiencing issues with a <code>myapp-ear</code> project.  Here is the error I am getting after running <code>mvn clean install</code> and <code>mvn wildfly:deploy</code>.  Does anyone have any suggestions?</p>\n<pre><code> [INFO] ejb-ear ............................................ FAILURE [ \n 1.617 s] [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO]\n ------------------------------------------------------------------------ [INFO] Total time:  3.089 s [INFO] Finished at:\n 2022-09-26T23:16:43-06:00 [INFO]\n ------------------------------------------------------------------------ [ERROR] Failed to execute goal\n org.wildfly.plugins:wildfly-maven-plugin:2.0.1.Final:deploy\n (default-cli) on project myapp-ear: Failed to execute goal deploy:\n {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps\n that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed\n services&quot; =&gt;\n {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot;\n =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot; [ERROR]    \n Caused by: org.jboss.msc.service.DuplicateServiceException: Service\n jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService\n is already registered&quot;},&quot;WFLYCTL0412: Required services that are not\n installed:&quot; =&gt;\n [&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180:\n Services with missing/unavailable dependencies&quot; =&gt;\n [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is\n missing\n [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\n [ERROR] -&gt; [Help 1]\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>Here is my <code>application.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\n  &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\n  &lt;display-name&gt;myapp-ear&lt;/display-name&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;myapp-ejb-web.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/myapp-ejb-web&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;ejb&gt;myapp-ejb.jar&lt;/ejb&gt;\n  &lt;/module&gt;\n  &lt;library-directory&gt;lib&lt;/library-directory&gt;\n&lt;/application&gt;\n</code></pre>\n<p><strong>UPDATE 2:</strong></p>\n<p>Also, here is my <code>pom.xml</code> file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\n    &lt;packaging&gt;ear&lt;/packaging&gt;\n    &lt;name&gt;ejb-ear&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;version&gt;7&lt;/version&gt;\n                    &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\n                    &lt;modules&gt;\n                        &lt;webModule&gt;\n                            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                            &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\n                            &lt;contextRoot&gt;/myapp-ejb-web&lt;/contextRoot&gt;\n                        &lt;/webModule&gt;\n                    &lt;/modules&gt;\n                    &lt;outputFileNameMapping&gt;@{artifactId}@@{dashClassifier?}@.@{extension}@&lt;/outputFileNameMapping&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>UPDATE 3:</strong></p>\n<p>If I add the -e flag to the <code>mvn wildfly:deploy</code> then this is what I see:</p>\n<pre><code>Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot;\n    Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService is already registered&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;ec-ear.ear\\&quot;.\\&quot;ec-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\n</code></pre>\n<p>So to me it sounds like the error says that the required service <code>myapp-ear.ear</code> is not installed because the dependency <code>myapp-ear.ear</code> is not installed which makes no sense to me.</p>\n"},{"tags":["java","geometry"],"comments":[{"owner":{"account_id":7800,"reputation":83655,"user_id":13673,"accept_rate":100,"display_name":"David Segonds"},"score":2,"creation_date":1264432697,"post_id":2115976,"comment_id":2072508,"body_markdown":"What are the dimensions of the space you are working in? 2D, 3D?","body":"What are the dimensions of the space you are working in? 2D, 3D?"},{"owner":{"account_id":7798259,"reputation":1411,"user_id":5898626,"accept_rate":74,"display_name":"Stepan"},"score":15,"creation_date":1477761116,"post_id":2115976,"comment_id":67898821,"body_markdown":"Off topic? You gonna be kidding me. Lets close all Java questions then.","body":"Off topic? You gonna be kidding me. Lets close all Java questions then."},{"owner":{"account_id":434515,"reputation":1339,"user_id":820534,"accept_rate":100,"display_name":"PolyGeo"},"score":0,"creation_date":1494827553,"post_id":2115976,"comment_id":74974498,"body_markdown":"You seem to be seeking a software recommendation so researching/asking at the [softwarerecs.se] Stack Exchange seems to be more appropriate.","body":"You seem to be seeking a software recommendation so researching/asking at the <a href=\"https://softwarerecs.stackexchange.com\">Software Recommendations</a> Stack Exchange seems to be more appropriate."}],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1264430474,"creation_date":1264149858,"answer_id":2116008,"question_id":2115976,"body_markdown":"The package you should look at it `java.awt.geom`, which is part of the JDK.\r\n\r\nIn particular check out the [`java.awt.geom.Area`][1] class, which allows you to perform intersection operations between two `Shape`s.\r\n\r\n**EDIT**\r\n\r\nFinding the intersection points is non-trivial as far as I know, as you need to apply a different algorithm depending on the shapes you&#39;re analysing.  For example, the algorithm for the intersection between two circles is given [here][2], whereas the algorithm for calculating the intrsection between two Bezier curves is completely different ([here][3]).\r\n\r\n**EDIT 2**\r\n\r\nOne suggestion: You could look into the `PathIterator` class, which returns a description of a shape&#39;s path as a sequence of segments.  In particular check out `FlatteningPathIterator`, which will collapse any curves into multiple straight lines.  Once your path has been reduced to straight lines, calculating the intersection points will be simple ... although obviously this is an approximation in cases where your shape contains curves.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/geom/Area.html\r\n  [2]: http://mathworld.wolfram.com/Circle-CircleIntersection.html\r\n  [3]: http://www.truetex.com/bezint.htm","title":"Geometry library for Java","body":"<p>The package you should look at it <code>java.awt.geom</code>, which is part of the JDK.</p>\n\n<p>In particular check out the <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/geom/Area.html\" rel=\"noreferrer\"><code>java.awt.geom.Area</code></a> class, which allows you to perform intersection operations between two <code>Shape</code>s.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Finding the intersection points is non-trivial as far as I know, as you need to apply a different algorithm depending on the shapes you're analysing.  For example, the algorithm for the intersection between two circles is given <a href=\"http://mathworld.wolfram.com/Circle-CircleIntersection.html\" rel=\"noreferrer\">here</a>, whereas the algorithm for calculating the intrsection between two Bezier curves is completely different (<a href=\"http://www.truetex.com/bezint.htm\" rel=\"noreferrer\">here</a>).</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>One suggestion: You could look into the <code>PathIterator</code> class, which returns a description of a shape's path as a sequence of segments.  In particular check out <code>FlatteningPathIterator</code>, which will collapse any curves into multiple straight lines.  Once your path has been reduced to straight lines, calculating the intersection points will be simple ... although obviously this is an approximation in cases where your shape contains curves.</p>\n"},{"tags":[],"owner":{"account_id":23343,"reputation":27090,"user_id":58391,"accept_rate":69,"display_name":"codekaizen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264750844,"creation_date":1264750844,"answer_id":2160556,"question_id":2115976,"body_markdown":"JTS - Java Topology Suite - is the best.\r\n\r\nhttp://www.vividsolutions.com/jts/jtshome.htm\r\n\r\nIt is free, fast, robust, and can handle degenerate intersections.","title":"Geometry library for Java","body":"<p>JTS - Java Topology Suite - is the best.</p>\n\n<p><a href=\"http://www.vividsolutions.com/jts/jtshome.htm\" rel=\"nofollow noreferrer\">http://www.vividsolutions.com/jts/jtshome.htm</a></p>\n\n<p>It is free, fast, robust, and can handle degenerate intersections.</p>\n"},{"tags":[],"owner":{"account_id":34653,"reputation":1611,"user_id":97995,"accept_rate":67,"display_name":"rburhum"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1486548909,"creation_date":1265306410,"answer_id":2201979,"question_id":2115976,"body_markdown":"[JTS][1] is your best free open source option. The method you are looking for in JTS is [here][2]\r\n\r\nAs far as commercial options, you have [ESRI&#39;s Java JNI version][3] of their ArcObjects library which has a very robust Geometry Library. The interface on ESRI&#39;s library is called [ITopologicalOperator][4]\r\n\r\n\r\n  [1]: https://github.com/locationtech/jts\r\n  [2]: http://locationtech.github.io/jts/javadoc/org/locationtech/jts/geom/Geometry.html#intersects(org.locationtech.jts.geom.Geometry)\r\n  [3]: http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/index.html\r\n  [4]: http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/com/esri/arcgis/geometry/ITopologicalOperator.html\r\n\r\nIf all you are trying to do is Geometric operations, JTS is your best option - it is an excellent library which has many ports to different languages. If, on the other hand, you are looking for an entire GIS system that does complex symbology, supports GIS workflows and multiuser editing, printing, etc etc, then I would start looking at the ESRI libraries.","title":"Geometry library for Java","body":"<p><a href=\"https://github.com/locationtech/jts\" rel=\"noreferrer\">JTS</a> is your best free open source option. The method you are looking for in JTS is <a href=\"http://locationtech.github.io/jts/javadoc/org/locationtech/jts/geom/Geometry.html#intersects(org.locationtech.jts.geom.Geometry)\" rel=\"noreferrer\">here</a></p>\n\n<p>As far as commercial options, you have <a href=\"http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/index.html\" rel=\"noreferrer\">ESRI's Java JNI version</a> of their ArcObjects library which has a very robust Geometry Library. The interface on ESRI's library is called <a href=\"http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/com/esri/arcgis/geometry/ITopologicalOperator.html\" rel=\"noreferrer\">ITopologicalOperator</a></p>\n\n<p>If all you are trying to do is Geometric operations, JTS is your best option - it is an excellent library which has many ports to different languages. If, on the other hand, you are looking for an entire GIS system that does complex symbology, supports GIS workflows and multiuser editing, printing, etc etc, then I would start looking at the ESRI libraries.</p>\n"},{"tags":[],"owner":{"account_id":103436,"reputation":71,"user_id":277046,"display_name":"Kendric Beachey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664919632,"creation_date":1266592393,"answer_id":2297302,"question_id":2115976,"body_markdown":"I found that JTS has changed hands, or changed home sites, or something.  A newer version can be found here: http://maven.geotoolkit.org/com/vividsolutions/jts/1.10/\r\n\r\nEdit:  This might be its new home page: http://tsusiatsoftware.net/jts/main.html\r\n\r\nEdit:  Moved again! https://locationtech.github.io/jts/","title":"Geometry library for Java","body":"<p>I found that JTS has changed hands, or changed home sites, or something.  A newer version can be found here: <a href=\"http://maven.geotoolkit.org/com/vividsolutions/jts/1.10/\" rel=\"nofollow noreferrer\">http://maven.geotoolkit.org/com/vividsolutions/jts/1.10/</a></p>\n<p>Edit:  This might be its new home page: <a href=\"http://tsusiatsoftware.net/jts/main.html\" rel=\"nofollow noreferrer\">http://tsusiatsoftware.net/jts/main.html</a></p>\n<p>Edit:  Moved again! <a href=\"https://locationtech.github.io/jts/\" rel=\"nofollow noreferrer\">https://locationtech.github.io/jts/</a></p>\n"},{"tags":[],"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1308773123,"creation_date":1308773123,"answer_id":6445845,"question_id":2115976,"body_markdown":"For non-GIS purposes I may suggest **javaGeom** library. It uses the Euclidean abstraction of geometry which most of the people know from school. There&#39;s no recent activity on this project, but I find it well structured and easy to use. They say it supports boolean operations, but never tested how well they work. There is a pretty feature-rich testing application named Euclid, which is developed from the same author.\r\nYou can try to use it, but only if you are sure it&#39;s gonna work for you.\r\n\r\nhttp://sourceforge.net/projects/geom-java/","title":"Geometry library for Java","body":"<p>For non-GIS purposes I may suggest <strong>javaGeom</strong> library. It uses the Euclidean abstraction of geometry which most of the people know from school. There's no recent activity on this project, but I find it well structured and easy to use. They say it supports boolean operations, but never tested how well they work. There is a pretty feature-rich testing application named Euclid, which is developed from the same author.\nYou can try to use it, but only if you are sure it's gonna work for you.</p>\n\n<p><a href=\"http://sourceforge.net/projects/geom-java/\" rel=\"noreferrer\">http://sourceforge.net/projects/geom-java/</a></p>\n"}],"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49854,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"closed_date":1369567906,"accepted_answer_id":2201979,"answer_count":5,"score":35,"last_activity_date":1664919632,"creation_date":1264149400,"question_id":2115976,"body_markdown":"Is there any geometry library available for Java? I&#39;m looking for solution to get an intersection point(s) between two geometry objects.","title":"Geometry library for Java","body":"<p>Is there any geometry library available for Java? I'm looking for solution to get an intersection point(s) between two geometry objects.</p>\n"},{"tags":["java","autodesk-forge"],"answers":[{"tags":[],"owner":{"account_id":6212245,"reputation":8513,"user_id":4838205,"accept_rate":82,"display_name":"Augusto Goncalves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664918269,"creation_date":1664918269,"answer_id":73953726,"question_id":73893155,"body_markdown":"Sorry, that SDK does not have that option yet. I would suggest using direct REST requests. ","title":"the output type “SVF2” doesn’t exist in the java library “forge java sdk”","body":"<p>Sorry, that SDK does not have that option yet. I would suggest using direct REST requests.</p>\n"}],"owner":{"account_id":26383587,"reputation":1,"user_id":20036467,"display_name":"Hamdi Mahjoub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664918269,"creation_date":1664443287,"question_id":73893155,"body_markdown":"I&#39;m coding with Java language ( Spring Boot framework ) and I&#39;m using “forge java sdk” dependency (version 1.0.2)\r\n\r\n[forge java sdk dependency][1]\r\n\r\nI want to translate a &#39;.rvt&#39; file to SVF2 format but I can’t find this output type in the forge library.\r\n\r\n[Forge library piece of code][2]\r\n\r\nSo in this case , I can’t set “SVF2” format. How can i fix that ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nnyeI.png\r\n  [2]: https://i.stack.imgur.com/ie13Q.png","title":"the output type “SVF2” doesn’t exist in the java library “forge java sdk”","body":"<p>I'm coding with Java language ( Spring Boot framework ) and I'm using “forge java sdk” dependency (version 1.0.2)</p>\n<p><a href=\"https://i.stack.imgur.com/nnyeI.png\" rel=\"nofollow noreferrer\">forge java sdk dependency</a></p>\n<p>I want to translate a '.rvt' file to SVF2 format but I can’t find this output type in the forge library.</p>\n<p><a href=\"https://i.stack.imgur.com/ie13Q.png\" rel=\"nofollow noreferrer\">Forge library piece of code</a></p>\n<p>So in this case , I can’t set “SVF2” format. How can i fix that ?</p>\n"},{"tags":["java","swing","jtextfield","boxlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1664915892,"post_id":73953335,"comment_id":130578224,"body_markdown":"1) I wouldn&#39;t use BoxLayout for this. 2) Whenever I see lists of variables with increasing numbers at their ends, my mind yells out: &quot;for the love of all things beautiful, use arrays or ArrayLists!&quot; That code has so much ugly, dangerous and unnecessary repetition -- dangerous because one typo or seemingly trivial error and the whole house of cards comes crumbling down. Also, there is gross over-use of static modifier here. The only things that should be static in this program are the main method and any constants.","body":"1) I wouldn&#39;t use BoxLayout for this. 2) Whenever I see lists of variables with increasing numbers at their ends, my mind yells out: &quot;for the love of all things beautiful, use arrays or ArrayLists!&quot; That code has so much ugly, dangerous and unnecessary repetition -- dangerous because one typo or seemingly trivial error and the whole house of cards comes crumbling down. Also, there is gross over-use of static modifier here. The only things that should be static in this program are the main method and any constants."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916292,"post_id":73953335,"comment_id":130578338,"body_markdown":"Also, I have no idea what sort of structure you&#39;re trying to create","body":"Also, I have no idea what sort of structure you&#39;re trying to create"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916399,"post_id":73953335,"comment_id":130578370,"body_markdown":"As for what I&#39;d use, again, I have no idea what sort of structure you&#39;re trying to build or how your program is supposed to look like. Please post an image or link to an image or something, anything. But BoxLayout isn&#39;t used for this sort of thing.","body":"As for what I&#39;d use, again, I have no idea what sort of structure you&#39;re trying to build or how your program is supposed to look like. Please post an image or link to an image or something, anything. But BoxLayout isn&#39;t used for this sort of thing."},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916435,"post_id":73953335,"comment_id":130578380,"body_markdown":"@HovercraftFullOfEels. I want to have my text Box and my Button at the beginning. After any weekday is typed in, I also want to display If I have school on this day + every hour of this day under each other.","body":"@HovercraftFullOfEels. I want to have my text Box and my Button at the beginning. After any weekday is typed in, I also want to display If I have school on this day + every hour of this day under each other."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1664916451,"post_id":73953335,"comment_id":130578387,"body_markdown":"Picture, image, something please","body":"Picture, image, something please"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916590,"post_id":73953335,"comment_id":130578430,"body_markdown":"@HovercraftFullOfEels. I&#39;m here for critique. But don&#39;t just say: this is bad and this is bad. That doesn&#39;t help at all. If you want to comment on something that isn&#39;t included in my question, I probably don&#39;t even know *why* it is a problem. So, you&#39;d have to be very detailed when it comes to stuff like that to not come of as unfriendly.","body":"@HovercraftFullOfEels. I&#39;m here for critique. But don&#39;t just say: this is bad and this is bad. That doesn&#39;t help at all. If you want to comment on something that isn&#39;t included in my question, I probably don&#39;t even know <i>why</i> it is a problem. So, you&#39;d have to be very detailed when it comes to stuff like that to not come of as unfriendly."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916619,"post_id":73953335,"comment_id":130578441,"body_markdown":"A picture or an image of your GUI, please","body":"A picture or an image of your GUI, please"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916687,"post_id":73953335,"comment_id":130578460,"body_markdown":"@HovercraftFullOfEels. You mean for displaying the school hours? I want to use JLabels for that. I just want to display text underneath each other. That works so far. But before the text is displayed, my text box just takes up all space.","body":"@HovercraftFullOfEels. You mean for displaying the school hours? I want to use JLabels for that. I just want to display text underneath each other. That works so far. But before the text is displayed, my text box just takes up all space."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1664916711,"post_id":73953335,"comment_id":130578468,"body_markdown":"Again, *show* what you&#39;re trying to create, don&#39;t just describe it. Draw it on paper and photograph the image or draw with some simple painting program.","body":"Again, <i>show</i> what you&#39;re trying to create, don&#39;t just describe it. Draw it on paper and photograph the image or draw with some simple painting program."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916769,"post_id":73953335,"comment_id":130578478,"body_markdown":"If you don&#39;t want the JTextField to take up all the space, again, don&#39;t use a BoxLayout, or use it in a smart way (how, hard to say) but you&#39;re not showing what it supposed to look like. Please help a guy out here.","body":"If you don&#39;t want the JTextField to take up all the space, again, don&#39;t use a BoxLayout, or use it in a smart way (how, hard to say) but you&#39;re not showing what it supposed to look like. Please help a guy out here."},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916778,"post_id":73953335,"comment_id":130578481,"body_markdown":"@HovercraftFullOfEels. Okay, I will try to provide that. I didn&#39;t understand what you meant with a picture. mb","body":"@HovercraftFullOfEels. Okay, I will try to provide that. I didn&#39;t understand what you meant with a picture. mb"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916807,"post_id":73953335,"comment_id":130578490,"body_markdown":"I&#39;m not sure how I can be more clear about this. Your descriptions are very hard to follow.","body":"I&#39;m not sure how I can be more clear about this. Your descriptions are very hard to follow."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916989,"post_id":73953335,"comment_id":130578545,"body_markdown":"Often, the JTextField and the button would often be in the same JPanel that is displayed in the PAGE_START location of a BorderLayout. You should probably be doing this. Here a BoxLayout could work fine.","body":"Often, the JTextField and the button would often be in the same JPanel that is displayed in the PAGE_START location of a BorderLayout. You should probably be doing this. Here a BoxLayout could work fine."},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664917118,"post_id":73953335,"comment_id":130578578,"body_markdown":"@HovercraftFullOfEels. I have edited my post. In the picture where I show what It should look like, I removed the BoxLayout Manager.","body":"@HovercraftFullOfEels. I have edited my post. In the picture where I show what It should look like, I removed the BoxLayout Manager."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664917532,"post_id":73953335,"comment_id":130578668,"body_markdown":"Thank you. BoxLayout could work fine as per my example below.","body":"Thank you. BoxLayout could work fine as per my example below."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664918259,"creation_date":1664917417,"answer_id":73953623,"question_id":73953335,"body_markdown":"So yes, put the JTextField and JButton in their own JPanel in a BoxLayout using JPanel, that is fine, and place that JPanel in the BorderLayout.PAGE_START position of a JPanel that uses BorderLayout with the rest of the GUI below it. For example:\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Main2b {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            GamePanel2 mainPanel = new GamePanel2();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass GamePanel2 extends JPanel {\r\n    private JTextField field = new JTextField(10);\r\n    private JButton knopf = new JButton(&quot;klick&quot;);\r\n    \r\n    public GamePanel2() {\r\n        knopf.setMnemonic(KeyEvent.VK_K);\r\n        \r\n        JPanel topPanel = new JPanel();\r\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\r\n        topPanel.add(field);\r\n        topPanel.add(knopf);\r\n        \r\n        setLayout(new BorderLayout());\r\n        add(topPanel, BorderLayout.PAGE_START);\r\n        add(Box.createRigidArea(new Dimension(650, 400)));\r\n        \r\n    }\r\n}\r\n```\r\n\r\ndisplays as\r\n\r\n[![enter image description here][1]][1]\r\n\r\n___________________________________________\r\n\r\nOther unrelated issues:\r\n\r\n* Avoid static variables unless there is a distinct need to use them (that isn&#39;t the case here) such as constants of a class or fields that must be part of the class, not the instance.\r\n* Use arrays or ArrayLists to reduce code repetition. This will make your code much easier to debug and enhance.\r\n* Also, you can give your JTextField an ActionListener, the same as the button, and it will be triggered when enter is pressed and the text field has focus.\r\n* If the user should only type in the days of the week and nothing else, then don&#39;t use a JTextField for this where the user can type in anything. Instead, use a JComboBox where they can only choose the Strings that you offer to them.\r\n\r\nFor example:\r\n\r\n```\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass GamePanel2 extends JPanel {\r\n    public static final String[] TAG_DER_WOCH = { &quot;Montag&quot;, &quot;Dienstag&quot;, &quot;Mittwoch&quot;, &quot;Donnerstag&quot;, &quot;Freitag&quot;, &quot;Samstag&quot;,\r\n            &quot;Sonntag&quot; };\r\n    private JComboBox&lt;String&gt; tagDerWochCombo = new JComboBox&lt;&gt;(TAG_DER_WOCH);\r\n    // private JTextField field = new JTextField(10);\r\n    // private JButton knopf = new JButton(&quot;klick&quot;);\r\n\r\n    public GamePanel2() {\r\n        tagDerWochCombo.setSelectedIndex(-1);\r\n        // knopf.setMnemonic(KeyEvent.VK_K);\r\n        \r\n        tagDerWochCombo.addActionListener(e -&gt; {\r\n            System.out.println(tagDerWochCombo.getSelectedItem());\r\n        });\r\n\r\n        JPanel topPanel = new JPanel();\r\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\r\n        topPanel.add(tagDerWochCombo);\r\n        // topPanel.add(knopf);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(topPanel, BorderLayout.PAGE_START);\r\n        add(Box.createRigidArea(new Dimension(650, 400)));\r\n\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/93msA.jpg","title":"Set size of JTextField with BoyLayout Manager. Java","body":"<p>So yes, put the JTextField and JButton in their own JPanel in a BoxLayout using JPanel, that is fine, and place that JPanel in the BorderLayout.PAGE_START position of a JPanel that uses BorderLayout with the rest of the GUI below it. For example:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.*;\n\npublic class Main2b {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            GamePanel2 mainPanel = new GamePanel2();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass GamePanel2 extends JPanel {\n    private JTextField field = new JTextField(10);\n    private JButton knopf = new JButton(&quot;klick&quot;);\n    \n    public GamePanel2() {\n        knopf.setMnemonic(KeyEvent.VK_K);\n        \n        JPanel topPanel = new JPanel();\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\n        topPanel.add(field);\n        topPanel.add(knopf);\n        \n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);\n        add(Box.createRigidArea(new Dimension(650, 400)));\n        \n    }\n}\n</code></pre>\n<p>displays as</p>\n<p><a href=\"https://i.stack.imgur.com/93msA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/93msA.jpg\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Other unrelated issues:</p>\n<ul>\n<li>Avoid static variables unless there is a distinct need to use them (that isn't the case here) such as constants of a class or fields that must be part of the class, not the instance.</li>\n<li>Use arrays or ArrayLists to reduce code repetition. This will make your code much easier to debug and enhance.</li>\n<li>Also, you can give your JTextField an ActionListener, the same as the button, and it will be triggered when enter is pressed and the text field has focus.</li>\n<li>If the user should only type in the days of the week and nothing else, then don't use a JTextField for this where the user can type in anything. Instead, use a JComboBox where they can only choose the Strings that you offer to them.</li>\n</ul>\n<p>For example:</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\nclass GamePanel2 extends JPanel {\n    public static final String[] TAG_DER_WOCH = { &quot;Montag&quot;, &quot;Dienstag&quot;, &quot;Mittwoch&quot;, &quot;Donnerstag&quot;, &quot;Freitag&quot;, &quot;Samstag&quot;,\n            &quot;Sonntag&quot; };\n    private JComboBox&lt;String&gt; tagDerWochCombo = new JComboBox&lt;&gt;(TAG_DER_WOCH);\n    // private JTextField field = new JTextField(10);\n    // private JButton knopf = new JButton(&quot;klick&quot;);\n\n    public GamePanel2() {\n        tagDerWochCombo.setSelectedIndex(-1);\n        // knopf.setMnemonic(KeyEvent.VK_K);\n        \n        tagDerWochCombo.addActionListener(e -&gt; {\n            System.out.println(tagDerWochCombo.getSelectedItem());\n        });\n\n        JPanel topPanel = new JPanel();\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\n        topPanel.add(tagDerWochCombo);\n        // topPanel.add(knopf);\n\n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);\n        add(Box.createRigidArea(new Dimension(650, 400)));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953623,"answer_count":1,"score":0,"last_activity_date":1664918259,"creation_date":1664915361,"question_id":73953335,"body_markdown":"I have seen this question been answered. but not for BoxLayout.\r\nI have created a schedule app in Java and because I want to display every hour under each other, I have chosen BoxLayout. When every hour is displayed, everything looks perfect. However, before my method is called by clicking a button, the JTextField just takes up the whole screen (with the button). How do I make that different?\r\n\r\nMain class:\r\n```Java\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\tJFrame window = new JFrame();\r\n\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\twindow.setResizable(true);\r\n\t\t\t\t\r\n\tGamePanel gamepanel = new GamePanel();\r\n\t\r\n\twindow.add(gamepanel);\r\n\t\r\n\twindow.pack();\r\n\t\t\t\r\n\twindow.setLocationRelativeTo(null);\r\n\twindow.setVisible(true)\r\n\t\r\n\t}\r\n}\r\n```\r\n\r\nGamePanel Class:\r\n```Java\r\npublic class GamePanel extends JPanel implements ActionListener {\r\n\t\r\n\t//Screen Settings\r\n\tfinal int originalTileSize = 16;\r\n\tfinal int scale = 3;\r\n\tfinal int tileSize = originalTileSize * scale;\r\n\tfinal int maxScreenCol = 16;\r\n\tfinal int maxScreenRow = 12;\r\n\tfinal int screenWidth = tileSize * maxScreenCol;\r\n\tfinal int screenHeight = tileSize * maxScreenRow;\r\n\t\r\n\t//Initialize the things that are displayed\r\n\tJButton knopf;\r\n\tJTextField field;\r\n\tTage days; \r\n\tString textInhalt;\r\n\tstatic JLabel displayIsSchool;\r\n\tstatic JLabel stunden;\r\n\tstatic JLabel stunden1;\r\n\tstatic JLabel stunden2;\r\n\tstatic JLabel stunden3;\r\n\tstatic JLabel stunden4;\r\n\tstatic JLabel stunden5;\r\n\tstatic JLabel stunden6;\r\n\tstatic JLabel stunden7;\r\n\tstatic JLabel stunden8;\r\n\t\r\n\t\t//Panel constructor\r\n\t\tpublic GamePanel(){\r\n\t\t\t\r\n\t\t\tsuper();\r\n\t\t\tthis.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n\t\t\t\r\n\t\t\t//JFrame stats\r\n\t\t\tthis.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n\t\t\tthis.setBackground(Color.darkGray);\r\n\t\t\tthis.setDoubleBuffered(true);\r\n\t\t\tthis.setFocusable(true);\r\n\t\t\t\r\n\t\t\t//Initialize Text field \r\n\t\t\tfield = new JTextField();\r\n\t\t\tfield.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\tfield.setPreferredSize(new Dimension (100, 50));\r\n\t\t\t\r\n\t\t\t//Initialize Button \r\n\t\t\tknopf = new JButton(&quot;klick&quot;);\r\n\t\t\tknopf.addActionListener(this);\r\n\t\t\tknopf.setPreferredSize(new Dimension (100, 35));\r\n\t\t\t\r\n\t\t\t//Initialize isSchool\r\n\t\t\tdisplayIsSchool = new JLabel(&quot;&quot;);\r\n\t\t\tdisplayIsSchool.setForeground(Color.white);\r\n\t\t\tdisplayIsSchool.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\t//Initialize stunden\r\n\t\t\tstunden = new JLabel(&quot;&quot;);\r\n\t\t\tstunden.setForeground(Color.white);\r\n\t\t\tstunden.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\t\r\n\t\t\tstunden1 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden1.setForeground(Color.white);\r\n\t\t\tstunden1.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden2 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden2.setForeground(Color.white);\r\n\t\t\tstunden2.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden3 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden3.setForeground(Color.white);\r\n\t\t\tstunden3.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden4 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden4.setForeground(Color.white);\r\n\t\t\tstunden4.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden5 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden5.setForeground(Color.white);\r\n\t\t\tstunden5.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden6 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden6.setForeground(Color.white);\r\n\t\t\tstunden6.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden7 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden7.setForeground(Color.white);\r\n\t\t\tstunden7.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden8 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden8.setForeground(Color.white);\r\n\t\t\tstunden8.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\t//Add everything to JFrame\r\n\t\t\tthis.add(field);\r\n\t\t\tthis.add(knopf);\r\n\t\t\tthis.add(displayIsSchool);\r\n\t\t\tthis.add(stunden);\r\n\t\t\tthis.add(stunden1);\r\n\t\t\tthis.add(stunden2);\r\n\t\t\tthis.add(stunden3);\r\n\t\t\tthis.add(stunden4);\r\n\t\t\tthis.add(stunden5);\r\n\t\t\tthis.add(stunden6);\r\n\t\t\tthis.add(stunden7);\r\n\t\t\tthis.add(stunden8);\r\n\t\t}\r\n\t\t\r\n\t//Call Method for set Day\r\n\tpublic void sayIf() {\r\n\r\n\t\t//Switch statement for user Input \r\n\t\tswitch(textInhalt) \r\n\t\t{\r\n\t\t\t\t\r\n\t\t\tcase &quot;Montag&quot;:\r\n\t\t\t\tMontag.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Dienstag&quot;:\r\n\t\t\t\tDienstag.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Mittwoch&quot;:\r\n\t\t\t\tMittwoch.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Donnerstag&quot;:\r\n\t\t\t\tDonnerstag.sagName();\r\n\t\t\t\tbreak;\t\r\n\t\t\tcase &quot;Freitag&quot;:\r\n\t\t\t\tFreitag.sagName();\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Samstag&quot;:\r\n\t\t\t\tSamstag.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Sonntag&quot;:\r\n\t\t\t\tSonntag.sagName();\r\n\t\t\t\tbreak;\t\r\n\t\t}\r\n\t}\t\r\n\t\r\n\t\t//schedule\r\n\t\tstatic String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;Frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\r\n\t\tstatic String[] dinHours = {&quot;Deutsch&quot;, &quot;Mathe&quot;, &quot;Physik&quot;, &quot;Physik&quot;, &quot;Englisch&quot;, &quot;Frei&quot;, &quot;Franz&#246;sisch&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\r\n\t\tstatic String[] mitHours = {&quot;Franz&#246;sisch&quot;, &quot;Franz&#246;sisch&quot;, &quot;Englisch&quot;, &quot;Tutor&quot;, &quot;Geschichte&quot;, &quot;Geschichte&quot;, &quot;Frei&quot;, &quot;Sport&quot;, &quot;Sport&quot;};\r\n\t\tstatic String[] donHours = {&quot;Englisch&quot;, &quot;Englisch&quot;, &quot;Deutsch&quot;, &quot;Deutsch&quot;, &quot;Informatik&quot;, &quot;Informatik&quot;, &quot;Frei&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\r\n\t\tstatic String[] freHours = {&quot;PoWi&quot;, &quot;PoWi&quot;, &quot;Ethik&quot;, &quot;Ethik&quot;, &quot;Deutsch&quot;, &quot;Frei&quot;, &quot;Mathe&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\r\n\t\tstatic String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\t\r\n\t\t//create Day objects \r\n\t\tstatic Tage Montag = new Tage(true, monHours, &quot;Montag&quot;);\r\n\t\tstatic Tage Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\r\n\t\tstatic Tage Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\r\n\t\tstatic Tage Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\r\n\t\tstatic Tage Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\r\n\t\tstatic Tage Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\r\n\t\tstatic Tage Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;\t\t\r\n\t\t\r\n\t\t\r\n\t\t//keyListener \r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(e.getSource()==knopf) {\r\n\t\r\n\t\t\t\ttextInhalt = field.getText();\r\n\t\t\t\tsayIf();\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\n```\r\n\r\nTag (Day) Class: \r\n```Java\r\npackage basicsPack;\r\n\r\npublic class Tage{\r\n\t\r\n\t//Variables for constructor \r\n\tboolean isSchool;\r\n\tString[] stunden;\r\n\tString name;\r\n\t\r\n\t//Tage constructor \r\n\tpublic Tage(boolean isSchool, String[] stunden, String name) {\r\n\t\t\r\n\t\tthis.isSchool = isSchool;  \r\n\t\tthis.stunden = stunden;\r\n\t\tthis.name = name;\r\n\t\t\r\n\t}\r\n\t\r\n\t//sagName method\r\n\tpublic void sagName() {\r\n\t\t\r\n\t\t//Display hours an rather I have school\r\n\t\tif(this.isSchool == true) {\r\n\t\t\r\n\t\t\tGamePanel.displayIsSchool.setText(&quot;Du hast am &quot;+ name + &quot; Schule &quot;);\r\n\t\t\tGamePanel.stunden.setText(this.stunden[0]);\r\n\t\t\tGamePanel.stunden1.setText(this.stunden[1]);\r\n\t\t\tGamePanel.stunden2.setText(this.stunden[2]);\r\n\t\t\tGamePanel.stunden3.setText(this.stunden[3]);\r\n\t\t\tGamePanel.stunden4.setText(this.stunden[4]);\r\n\t\t\tGamePanel.stunden5.setText(this.stunden[5]);\r\n\t\t\tGamePanel.stunden6.setText(this.stunden[6]);\r\n\t\t\tGamePanel.stunden7.setText(this.stunden[7]);\r\n\t\t\tGamePanel.stunden8.setText(this.stunden[8]);\r\n\t\t\t\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tGamePanel.displayIsSchool.setText(&quot;Du hast am &quot; + name + &quot; keine Schule&quot;);\r\n\t\t\tGamePanel.stunden.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden1.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden2.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden3.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden4.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden5.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden6.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden7.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden8.setText(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n[![This is what it looks like at the moment][1]][1]\r\n\r\n\r\n[![This Is what I want it to look like][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hj1d9.png\r\n  [2]: https://i.stack.imgur.com/b5Ml2.png","title":"Set size of JTextField with BoyLayout Manager. Java","body":"<p>I have seen this question been answered. but not for BoxLayout.\nI have created a schedule app in Java and because I want to display every hour under each other, I have chosen BoxLayout. When every hour is displayed, everything looks perfect. However, before my method is called by clicking a button, the JTextField just takes up the whole screen (with the button). How do I make that different?</p>\n<p>Main class:</p>\n<pre><code>public class Main {\n    \n    public static void main(String[] args) {\n    JFrame window = new JFrame();\n    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    window.setResizable(true);\n                \n    GamePanel gamepanel = new GamePanel();\n    \n    window.add(gamepanel);\n    \n    window.pack();\n            \n    window.setLocationRelativeTo(null);\n    window.setVisible(true)\n    \n    }\n}\n</code></pre>\n<p>GamePanel Class:</p>\n<pre><code>public class GamePanel extends JPanel implements ActionListener {\n    \n    //Screen Settings\n    final int originalTileSize = 16;\n    final int scale = 3;\n    final int tileSize = originalTileSize * scale;\n    final int maxScreenCol = 16;\n    final int maxScreenRow = 12;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n    \n    //Initialize the things that are displayed\n    JButton knopf;\n    JTextField field;\n    Tage days; \n    String textInhalt;\n    static JLabel displayIsSchool;\n    static JLabel stunden;\n    static JLabel stunden1;\n    static JLabel stunden2;\n    static JLabel stunden3;\n    static JLabel stunden4;\n    static JLabel stunden5;\n    static JLabel stunden6;\n    static JLabel stunden7;\n    static JLabel stunden8;\n    \n        //Panel constructor\n        public GamePanel(){\n            \n            super();\n            this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n            \n            //JFrame stats\n            this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n            this.setBackground(Color.darkGray);\n            this.setDoubleBuffered(true);\n            this.setFocusable(true);\n            \n            //Initialize Text field \n            field = new JTextField();\n            field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n            field.setPreferredSize(new Dimension (100, 50));\n            \n            //Initialize Button \n            knopf = new JButton(&quot;klick&quot;);\n            knopf.addActionListener(this);\n            knopf.setPreferredSize(new Dimension (100, 35));\n            \n            //Initialize isSchool\n            displayIsSchool = new JLabel(&quot;&quot;);\n            displayIsSchool.setForeground(Color.white);\n            displayIsSchool.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            //Initialize stunden\n            stunden = new JLabel(&quot;&quot;);\n            stunden.setForeground(Color.white);\n            stunden.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n            \n            stunden1 = new JLabel(&quot;&quot;);\n            stunden1.setForeground(Color.white);\n            stunden1.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden2 = new JLabel(&quot;&quot;);\n            stunden2.setForeground(Color.white);\n            stunden2.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden3 = new JLabel(&quot;&quot;);\n            stunden3.setForeground(Color.white);\n            stunden3.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden4 = new JLabel(&quot;&quot;);\n            stunden4.setForeground(Color.white);\n            stunden4.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden5 = new JLabel(&quot;&quot;);\n            stunden5.setForeground(Color.white);\n            stunden5.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden6 = new JLabel(&quot;&quot;);\n            stunden6.setForeground(Color.white);\n            stunden6.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden7 = new JLabel(&quot;&quot;);\n            stunden7.setForeground(Color.white);\n            stunden7.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden8 = new JLabel(&quot;&quot;);\n            stunden8.setForeground(Color.white);\n            stunden8.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            //Add everything to JFrame\n            this.add(field);\n            this.add(knopf);\n            this.add(displayIsSchool);\n            this.add(stunden);\n            this.add(stunden1);\n            this.add(stunden2);\n            this.add(stunden3);\n            this.add(stunden4);\n            this.add(stunden5);\n            this.add(stunden6);\n            this.add(stunden7);\n            this.add(stunden8);\n        }\n        \n    //Call Method for set Day\n    public void sayIf() {\n\n        //Switch statement for user Input \n        switch(textInhalt) \n        {\n                \n            case &quot;Montag&quot;:\n                Montag.sagName();\n                break;\n            case &quot;Dienstag&quot;:\n                Dienstag.sagName();\n                break;\n            case &quot;Mittwoch&quot;:\n                Mittwoch.sagName();\n                break;\n            case &quot;Donnerstag&quot;:\n                Donnerstag.sagName();\n                break;  \n            case &quot;Freitag&quot;:\n                Freitag.sagName();      \n                break;\n            case &quot;Samstag&quot;:\n                Samstag.sagName();\n                break;\n            case &quot;Sonntag&quot;:\n                Sonntag.sagName();\n                break;  \n        }\n    }   \n    \n        //schedule\n        static String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;Frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\n        static String[] dinHours = {&quot;Deutsch&quot;, &quot;Mathe&quot;, &quot;Physik&quot;, &quot;Physik&quot;, &quot;Englisch&quot;, &quot;Frei&quot;, &quot;Französisch&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\n        static String[] mitHours = {&quot;Französisch&quot;, &quot;Französisch&quot;, &quot;Englisch&quot;, &quot;Tutor&quot;, &quot;Geschichte&quot;, &quot;Geschichte&quot;, &quot;Frei&quot;, &quot;Sport&quot;, &quot;Sport&quot;};\n        static String[] donHours = {&quot;Englisch&quot;, &quot;Englisch&quot;, &quot;Deutsch&quot;, &quot;Deutsch&quot;, &quot;Informatik&quot;, &quot;Informatik&quot;, &quot;Frei&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\n        static String[] freHours = {&quot;PoWi&quot;, &quot;PoWi&quot;, &quot;Ethik&quot;, &quot;Ethik&quot;, &quot;Deutsch&quot;, &quot;Frei&quot;, &quot;Mathe&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\n        static String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        \n        //create Day objects \n        static Tage Montag = new Tage(true, monHours, &quot;Montag&quot;);\n        static Tage Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\n        static Tage Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\n        static Tage Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\n        static Tage Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\n        static Tage Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\n        static Tage Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;       \n        \n        \n        //keyListener \n        public void actionPerformed(ActionEvent e) {\n            if(e.getSource()==knopf) {\n    \n                textInhalt = field.getText();\n                sayIf();\n            }\n        }\n}\n\n</code></pre>\n<p>Tag (Day) Class:</p>\n<pre><code>package basicsPack;\n\npublic class Tage{\n    \n    //Variables for constructor \n    boolean isSchool;\n    String[] stunden;\n    String name;\n    \n    //Tage constructor \n    public Tage(boolean isSchool, String[] stunden, String name) {\n        \n        this.isSchool = isSchool;  \n        this.stunden = stunden;\n        this.name = name;\n        \n    }\n    \n    //sagName method\n    public void sagName() {\n        \n        //Display hours an rather I have school\n        if(this.isSchool == true) {\n        \n            GamePanel.displayIsSchool.setText(&quot;Du hast am &quot;+ name + &quot; Schule &quot;);\n            GamePanel.stunden.setText(this.stunden[0]);\n            GamePanel.stunden1.setText(this.stunden[1]);\n            GamePanel.stunden2.setText(this.stunden[2]);\n            GamePanel.stunden3.setText(this.stunden[3]);\n            GamePanel.stunden4.setText(this.stunden[4]);\n            GamePanel.stunden5.setText(this.stunden[5]);\n            GamePanel.stunden6.setText(this.stunden[6]);\n            GamePanel.stunden7.setText(this.stunden[7]);\n            GamePanel.stunden8.setText(this.stunden[8]);\n            \n        }else {\n            \n            GamePanel.displayIsSchool.setText(&quot;Du hast am &quot; + name + &quot; keine Schule&quot;);\n            GamePanel.stunden.setText(&quot;&quot;);\n            GamePanel.stunden1.setText(&quot;&quot;);\n            GamePanel.stunden2.setText(&quot;&quot;);\n            GamePanel.stunden3.setText(&quot;&quot;);\n            GamePanel.stunden4.setText(&quot;&quot;);\n            GamePanel.stunden5.setText(&quot;&quot;);\n            GamePanel.stunden6.setText(&quot;&quot;);\n            GamePanel.stunden7.setText(&quot;&quot;);\n            GamePanel.stunden8.setText(&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hj1d9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hj1d9.png\" alt=\"This is what it looks like at the moment\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/b5Ml2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b5Ml2.png\" alt=\"This Is what I want it to look like\" /></a></p>\n"},{"tags":["java","apache-camel","azure-servicebus-topics"],"comments":[{"owner":{"account_id":1575719,"reputation":19504,"user_id":2662355,"display_name":"Christophe Willemsen"},"score":1,"creation_date":1664878728,"post_id":73886170,"comment_id":130565932,"body_markdown":"Camel 19 has been released today https://camel.apache.org/blog/2022/10/RELEASE-3.19.0/","body":"Camel 19 has been released today <a href=\"https://camel.apache.org/blog/2022/10/RELEASE-3.19.0/\" rel=\"nofollow noreferrer\">camel.apache.org/blog/2022/10/RELEASE-3.19.0</a>"}],"answers":[{"tags":[],"owner":{"account_id":1575719,"reputation":19504,"user_id":2662355,"display_name":"Christophe Willemsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664394158,"creation_date":1664394158,"answer_id":73886983,"question_id":73886170,"body_markdown":"Today it&#39;s not possible with the latest version of Camel, however it will be shipped in the next release.\r\n\r\nRelevant ticket : https://issues.apache.org/jira/browse/CAMEL-18459\r\n\r\nCode : https://github.com/apache/camel/blob/main/components/camel-azure/camel-azure-servicebus/src/main/java/org/apache/camel/component/azure/servicebus/ServiceBusProducer.java\r\n\r\nAnd this is how it will look like : \r\n\r\n\r\n```java\r\nfrom(&quot;timer:foo1?period=15000&amp;delay=1000&quot;)\r\n                .process(new Processor() {\r\n                    @Override\r\n                    public void process(Exchange exchange) throws Exception {\r\n                        exchange.getIn().setBody(&quot;{\\&quot;message\\&quot;:\\&quot;hello\\&quot;}&quot;);\r\n                        exchange.getIn().setHeader(ServiceBusConstants.APPLICATION_PROPERTIES, Map.of(&quot;prop1&quot;, &quot;value1&quot;));\r\n                    }\r\n                })\r\n                .to(&quot;azure-servicebus:demo?serviceBusType=topic&amp;connectionString=RAW(connection-string-here&quot;);\r\n```","title":"how to add custom properties or label/subject for azure servicebus topic messages when using apache camel?","body":"<p>Today it's not possible with the latest version of Camel, however it will be shipped in the next release.</p>\n<p>Relevant ticket : <a href=\"https://issues.apache.org/jira/browse/CAMEL-18459\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CAMEL-18459</a></p>\n<p>Code : <a href=\"https://github.com/apache/camel/blob/main/components/camel-azure/camel-azure-servicebus/src/main/java/org/apache/camel/component/azure/servicebus/ServiceBusProducer.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/main/components/camel-azure/camel-azure-servicebus/src/main/java/org/apache/camel/component/azure/servicebus/ServiceBusProducer.java</a></p>\n<p>And this is how it will look like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;timer:foo1?period=15000&amp;delay=1000&quot;)\n                .process(new Processor() {\n                    @Override\n                    public void process(Exchange exchange) throws Exception {\n                        exchange.getIn().setBody(&quot;{\\&quot;message\\&quot;:\\&quot;hello\\&quot;}&quot;);\n                        exchange.getIn().setHeader(ServiceBusConstants.APPLICATION_PROPERTIES, Map.of(&quot;prop1&quot;, &quot;value1&quot;));\n                    }\n                })\n                .to(&quot;azure-servicebus:demo?serviceBusType=topic&amp;connectionString=RAW(connection-string-here&quot;);\n</code></pre>\n"}],"owner":{"account_id":9570155,"reputation":41,"user_id":7108053,"display_name":"tariq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73886983,"answer_count":1,"score":0,"last_activity_date":1664918185,"creation_date":1664389186,"question_id":73886170,"body_markdown":"I am able to send message to a specific subscription of azure service bus topic using apache camel using example here https://camel.apache.org/components/3.18.x/azure-servicebus-component.html#_azure_servicebus_producer_operations. **But i cannot get the properties set up with my code**. below my code -\r\n\r\n        from(&quot;direct:start&quot;)\r\n        .id(&quot;producerId&quot;)\r\n                .marshal(new JacksonDataFormat(String.class))\r\n        .process(exchange -&gt; {\r\n        exchange.setProperty(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;));\r\n        })\r\n        .setProperty(&quot;subject&quot;, constant(&quot;test&quot;))\r\n        .setProperty(ServiceBusConstants.CORRELATION_ID, constant(&quot;111111&quot;))\r\n        .setHeader(&quot;subject&quot;, constant(&quot;test&quot;))\r\n        .setHeader(&quot;label&quot;, constant(&quot;test&quot;))\r\n        .setHeader(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;))\r\n        .to(&quot;azure-servicebus:testTopic?serviceBusType=topic&amp;subscriptionName=testTopic-subscription&amp;producerOperation=sendMessages&amp;connectionString=RAW(Endpoint=sb://blablablablbalabla&quot;)\r\n        .log(LoggingLevel.INFO, &quot;Message sent to test topic ${body} and ${headers}&quot;)\r\n        .setRouteProperties(propertyDefinitions);\r\n\r\nas you see above i have tried with everything such as with &quot;setProperty&quot; and &quot;setHeader&quot; different way. i get below response-\r\n\r\n    Message sent to test topic &quot;{\\&quot;accountId\\&quot;: \\&quot;4471112323123\\&quot;, \\&quot;url\\&quot;: \\&quot;test.com\\&quot;, \\&quot;status\\&quot;: \\&quot;PASS\\&quot;, \\&quot;statusMessage\\&quot;: \\&quot;check if received\\&quot;}&quot; and {applicationProperties={label: test}, CamelAzureServiceBusApplicationProperties={Label=test, Subject=test}, CamelAzureServiceBusSubject=test, Content-Type=application/json}\r\n\r\nThis is my producer code- \r\n\r\n    Test test = new test(uuid, &quot;test.com&quot;, &quot;PASS&quot;, &quot;check if received&quot;);\r\n    ProducerTemplate producerTemplate;\r\n    producerTemplate.sendBody(direct:start, test.toString());\r\n\r\nI have sent a message through azure portal(ui) and this is what looks like the properties:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nif you see &quot;subject&quot; is &quot;test&quot; and there is a custom property &quot;test&quot; that has value &quot;test&quot;. \r\n\r\nI want to see the same thing when i use apache camel to send it. Please help. Thanks\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vv6Xu.png\r\n  [2]: https://i.stack.imgur.com/e8eLn.png","title":"how to add custom properties or label/subject for azure servicebus topic messages when using apache camel?","body":"<p>I am able to send message to a specific subscription of azure service bus topic using apache camel using example here <a href=\"https://camel.apache.org/components/3.18.x/azure-servicebus-component.html#_azure_servicebus_producer_operations\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/azure-servicebus-component.html#_azure_servicebus_producer_operations</a>. <strong>But i cannot get the properties set up with my code</strong>. below my code -</p>\n<pre><code>    from(&quot;direct:start&quot;)\n    .id(&quot;producerId&quot;)\n            .marshal(new JacksonDataFormat(String.class))\n    .process(exchange -&gt; {\n    exchange.setProperty(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;));\n    })\n    .setProperty(&quot;subject&quot;, constant(&quot;test&quot;))\n    .setProperty(ServiceBusConstants.CORRELATION_ID, constant(&quot;111111&quot;))\n    .setHeader(&quot;subject&quot;, constant(&quot;test&quot;))\n    .setHeader(&quot;label&quot;, constant(&quot;test&quot;))\n    .setHeader(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;))\n    .to(&quot;azure-servicebus:testTopic?serviceBusType=topic&amp;subscriptionName=testTopic-subscription&amp;producerOperation=sendMessages&amp;connectionString=RAW(Endpoint=sb://blablablablbalabla&quot;)\n    .log(LoggingLevel.INFO, &quot;Message sent to test topic ${body} and ${headers}&quot;)\n    .setRouteProperties(propertyDefinitions);\n</code></pre>\n<p>as you see above i have tried with everything such as with &quot;setProperty&quot; and &quot;setHeader&quot; different way. i get below response-</p>\n<pre><code>Message sent to test topic &quot;{\\&quot;accountId\\&quot;: \\&quot;4471112323123\\&quot;, \\&quot;url\\&quot;: \\&quot;test.com\\&quot;, \\&quot;status\\&quot;: \\&quot;PASS\\&quot;, \\&quot;statusMessage\\&quot;: \\&quot;check if received\\&quot;}&quot; and {applicationProperties={label: test}, CamelAzureServiceBusApplicationProperties={Label=test, Subject=test}, CamelAzureServiceBusSubject=test, Content-Type=application/json}\n</code></pre>\n<p>This is my producer code-</p>\n<pre><code>Test test = new test(uuid, &quot;test.com&quot;, &quot;PASS&quot;, &quot;check if received&quot;);\nProducerTemplate producerTemplate;\nproducerTemplate.sendBody(direct:start, test.toString());\n</code></pre>\n<p>I have sent a message through azure portal(ui) and this is what looks like the properties:\n<a href=\"https://i.stack.imgur.com/vv6Xu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vv6Xu.png\" alt=\"enter image description here\" /></a></p>\n<p>if you see &quot;subject&quot; is &quot;test&quot; and there is a custom property &quot;test&quot; that has value &quot;test&quot;.</p>\n<p>I want to see the same thing when i use apache camel to send it. Please help. Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/e8eLn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e8eLn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hsm"],"answers":[{"tags":[],"owner":{"account_id":238721,"reputation":2786,"user_id":507798,"display_name":"zeroimpl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664917877,"creation_date":1664917877,"answer_id":73953679,"question_id":51273831,"body_markdown":"Adding `-Dslot=2` to the Java command line can override which slot it uses.","title":"nCipher (Thales HSM) - There is no card in the slot","body":"<p>Adding <code>-Dslot=2</code> to the Java command line can override which slot it uses.</p>\n"}],"owner":{"account_id":1321789,"reputation":401,"user_id":1267461,"accept_rate":40,"display_name":"LuisEduardoSP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1664917877,"creation_date":1531256472,"question_id":51273831,"body_markdown":"I&#39;m trying to encrypt and sign a package with nCipher (Thales HSM), but when I try to do it, there is an exception saying that &quot;There is no card in the slot&quot;. According to HSM admin there is a card, but it is not in the default slot, so one of the options is to change the default slot, but how can I do it? Or how can I workaround to the original exception?\r\n\r\nHere is the code throwing the exception:\r\n\r\n        KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;nCipherKM&quot;);\r\n        kpg.initialize(2048);\r\n        KeyPair kp = kpg.generateKeyPair();\r\n        Signature signer = Signature.getInstance(&quot;SHA256withRSA&quot;,&quot;nCipherKM&quot;);\r\n        signer.initSign(kp.getPrivate());\r\n        signer.update(plainText);\r\n        return new String(signer.sign(),UTF_8);","title":"nCipher (Thales HSM) - There is no card in the slot","body":"<p>I'm trying to encrypt and sign a package with nCipher (Thales HSM), but when I try to do it, there is an exception saying that \"There is no card in the slot\". According to HSM admin there is a card, but it is not in the default slot, so one of the options is to change the default slot, but how can I do it? Or how can I workaround to the original exception?</p>\n\n<p>Here is the code throwing the exception:</p>\n\n<pre><code>    KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"RSA\", \"nCipherKM\");\n    kpg.initialize(2048);\n    KeyPair kp = kpg.generateKeyPair();\n    Signature signer = Signature.getInstance(\"SHA256withRSA\",\"nCipherKM\");\n    signer.initSign(kp.getPrivate());\n    signer.update(plainText);\n    return new String(signer.sign(),UTF_8);\n</code></pre>\n"},{"tags":["java","recursion","directory","io"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1664917125,"post_id":73953530,"comment_id":130578580,"body_markdown":"The last line deletes files, and also empty directories. Perhaps the argument name is misleading. It should perhaps be `directoryOrFileToBeDeleted`. If `listFiles()` returns null then the argument is actually a file and not a directory.","body":"The last line deletes files, and also empty directories. Perhaps the argument name is misleading. It should perhaps be <code>directoryOrFileToBeDeleted</code>. If <code>listFiles()</code> returns null then the argument is actually a file and not a directory."},{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1664918489,"post_id":73953530,"comment_id":130578929,"body_markdown":"return directoryToBeDeleted.delete(); this line? This is deleting the directory I thought?  It calls deleteDirectory(file) with one of the files but each time it just calls deleteDirectory(file) again when does it actually delete each individual files?","body":"return directoryToBeDeleted.delete(); this line? This is deleting the directory I thought?  It calls deleteDirectory(file) with one of the files but each time it just calls deleteDirectory(file) again when does it actually delete each individual files?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1664919384,"post_id":73953530,"comment_id":130579120,"body_markdown":"As I explained, `directoryToBeDeleted` is not always a directory, it can also be a file. And when it&#39;s a file it gets deleted by that line.","body":"As I explained, <code>directoryToBeDeleted</code> is not always a directory, it can also be a file. And when it&#39;s a file it gets deleted by that line."}],"answers":[{"tags":[],"owner":{"account_id":9318013,"reputation":211,"user_id":6917716,"display_name":"Vorkos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664917523,"creation_date":1664917523,"answer_id":73953635,"question_id":73953530,"body_markdown":"`directoryToBeDeleted` is not always a directory. If `allContents == null` then `directoryToBeDeleted` is a file, not a directory as `.listFiles()` returns null if the object of type `File` is a file and not a folder.","title":"Delete files in Folder Recursively in JAVA I/O","body":"<p><code>directoryToBeDeleted</code> is not always a directory. If <code>allContents == null</code> then <code>directoryToBeDeleted</code> is a file, not a directory as <code>.listFiles()</code> returns null if the object of type <code>File</code> is a file and not a folder.</p>\n"}],"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953635,"answer_count":1,"score":0,"last_activity_date":1664917639,"creation_date":1664916680,"question_id":73953530,"body_markdown":"In Java/Unix I understand you can&#39;t delete a folder with something in it and I can do it without recursion but this simple solution is great but I just can&#39;t see where/when this is deleting the actual files? by using the delete() function. I clearly see it using the delete() on the actual folder at the end but I don&#39;t see how it is or when it is calling delete() on the files it just gets them and when I feel it should be calling delete() it makes the recursive call???\r\n\r\nI know it is something simple I am missing but it is driving me crazy and no where can I find answer any help would be greatly appreciated. \r\n\r\n```\r\nboolean deleteDirectory(File directoryToBeDeleted) {\r\n    File[] allContents = directoryToBeDeleted.listFiles();\r\n    if (allContents != null) {\r\n        for (File file : allContents) {\r\n            deleteDirectory(file);\r\n        }\r\n    }\r\n    return directoryToBeDeleted.delete();\r\n}\r\n```\r\n","title":"Delete files in Folder Recursively in JAVA I/O","body":"<p>In Java/Unix I understand you can't delete a folder with something in it and I can do it without recursion but this simple solution is great but I just can't see where/when this is deleting the actual files? by using the delete() function. I clearly see it using the delete() on the actual folder at the end but I don't see how it is or when it is calling delete() on the files it just gets them and when I feel it should be calling delete() it makes the recursive call???</p>\n<p>I know it is something simple I am missing but it is driving me crazy and no where can I find answer any help would be greatly appreciated.</p>\n<pre><code>boolean deleteDirectory(File directoryToBeDeleted) {\n    File[] allContents = directoryToBeDeleted.listFiles();\n    if (allContents != null) {\n        for (File file : allContents) {\n            deleteDirectory(file);\n        }\n    }\n    return directoryToBeDeleted.delete();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":21153493,"reputation":1,"user_id":15553281,"display_name":"Tom-Erik Vals&#248;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617570326,"creation_date":1617570326,"answer_id":66945861,"question_id":64881305,"body_markdown":"about the problem: Could not resolve placeholder &#39;module-name&#39; in value &quot;${module-name}&quot;\r\n\r\nMaybe I misunderstood the question but isn&#39;t this just missing values for that config? It works if you just use String constants?\r\n\r\nTry to add a properties file /yaml on the classpath with these two properties and it should work:\r\nmodule-name=xxx\r\napi-version=xxx\r\n\r\n","title":"How to Activate authorization-Button in swagger-ui with openapi-ui and bearer-token (jwt)?","body":"<p>about the problem: Could not resolve placeholder 'module-name' in value &quot;${module-name}&quot;</p>\n<p>Maybe I misunderstood the question but isn't this just missing values for that config? It works if you just use String constants?</p>\n<p>Try to add a properties file /yaml on the classpath with these two properties and it should work:\nmodule-name=xxx\napi-version=xxx</p>\n"},{"tags":[],"owner":{"account_id":2399782,"reputation":90,"user_id":2097742,"display_name":"Sam Marvasti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664917604,"creation_date":1664917604,"answer_id":73953645,"question_id":64881305,"body_markdown":"You can enable the authorize button by having your openapi specify the location of your token based authorization.\r\n\r\nSo thin the components section of openapi.json\r\n\r\n \r\n\r\n       &quot;securitySchemes&quot;: {\r\n          &quot;OAuth2PasswordBearerWithCookie&quot;: {\r\n            &quot;type&quot;: &quot;oauth2&quot;,\r\n            &quot;flows&quot;: {\r\n              &quot;password&quot;: {\r\n                &quot;scopes&quot;: {},\r\n                &quot;tokenUrl&quot;: &quot;/login/token&quot;\r\n              }\r\n            }\r\n          }\r\n        }","title":"How to Activate authorization-Button in swagger-ui with openapi-ui and bearer-token (jwt)?","body":"<p>You can enable the authorize button by having your openapi specify the location of your token based authorization.</p>\n<p>So thin the components section of openapi.json</p>\n<pre><code>   &quot;securitySchemes&quot;: {\n      &quot;OAuth2PasswordBearerWithCookie&quot;: {\n        &quot;type&quot;: &quot;oauth2&quot;,\n        &quot;flows&quot;: {\n          &quot;password&quot;: {\n            &quot;scopes&quot;: {},\n            &quot;tokenUrl&quot;: &quot;/login/token&quot;\n          }\n        }\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":17903761,"reputation":11,"user_id":13007441,"display_name":"ilikefatcats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664917604,"creation_date":1605638245,"question_id":64881305,"body_markdown":"my task is to enable the authorization-button in the swagger-ui site. I make the documentation of the REST-Controller with Annotations like @Operation or @ApiResponse from the springdoc-openapi-ui - dependency. Now i should enable the button for authorization in the swagger surface.\r\n\r\nI have follow introduction: https://www.baeldung.com/spring-boot-swagger-jwt\r\nbut here i have to include springfox to my maven-dependencies but when i do this i get follow exception:\r\n\r\n    17.11.2020 19:15:46,664 ERROR [o.s.boot.SpringApplication] (main) Application run \r\n    failed\r\n    java.lang.NoClassDefFoundError: org/springframework/data/rest/webmvc/mapping/Associations\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n\tat java.base/java.lang.Class.getDeclaredConstructors(Class.java:2357)\r\n    (....)\r\n\r\nAdditionally the Introduction use apikeys, but we don&#39;t use apikeys in the application and I don&#39;t know how to use them.\r\n\r\nThen I found following question which seems to be my problem: https://stackoverflow.com/questions/59898874/enable-authorize-button-in-springdoc-openapi-ui-for-bearer-token-authentication\r\n\r\nso i implmented the code from the top-answer:\r\n\r\n    import io.swagger.v3.oas.models.Components;\r\n    import io.swagger.v3.oas.models.OpenAPI;\r\n    import io.swagger.v3.oas.models.info.Info;\r\n    import io.swagger.v3.oas.models.security.SecurityRequirement;\r\n    import io.swagger.v3.oas.models.security.SecurityScheme;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.util.StringUtils;\r\n\r\n    @Configuration\r\n    public class OpenApiConfiguration {\r\n\r\n      private final String moduleName;\r\n      private final String apiVersion;\r\n\r\n      public OpenApiConfiguration(\r\n          @Value(&quot;${module-name}&quot;) String moduleName,\r\n          @Value(&quot;${api-version}&quot;) String apiVersion) {\r\n        this.moduleName = moduleName;\r\n        this.apiVersion = apiVersion;\r\n      }\r\n\r\n      @Bean\r\n      public OpenAPI customOpenAPI() {\r\n        final String securitySchemeName = &quot;bearerAuth&quot;;\r\n        final String apiTitle = String.format(&quot;%s API&quot;, StringUtils.capitalize(moduleName));\r\n\r\n        return new OpenAPI().addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\r\n            .components(new Components().addSecuritySchemes(securitySchemeName,\r\n                new SecurityScheme().name(securitySchemeName)\r\n                    .type(SecurityScheme.Type.HTTP)\r\n                    .scheme(&quot;bearer&quot;)\r\n                    .bearerFormat(&quot;JWT&quot;)))\r\n            .info(new Info().title(apiTitle)\r\n                .version(apiVersion));\r\n      }\r\n\r\n    }\r\n\r\nbut then i get follow exception:\r\n\r\n    17.11.2020 19:21:00,215 ERROR [o.s.boot.SpringApplication] (main) Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openApiConfiguration&#39; defined in file [&lt;PATH&gt;/configuration/OpenApiConfiguration.class]: Unexpected exception during bean creation; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;module-name&#39; in value &quot;${module-name}&quot;\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:530)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    (....)\r\n\r\nCan someone explain how this placeholder and @Value works?\r\nMaybe anybody has a good/better way for my problem? Im very new in this topic\r\n\r\n\r\n\r\nbest regards and sorry for my bad english\r\n\r\nilikefatcats","title":"How to Activate authorization-Button in swagger-ui with openapi-ui and bearer-token (jwt)?","body":"<p>my task is to enable the authorization-button in the swagger-ui site. I make the documentation of the REST-Controller with Annotations like @Operation or @ApiResponse from the springdoc-openapi-ui - dependency. Now i should enable the button for authorization in the swagger surface.</p>\n<p>I have follow introduction: <a href=\"https://www.baeldung.com/spring-boot-swagger-jwt\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-swagger-jwt</a>\nbut here i have to include springfox to my maven-dependencies but when i do this i get follow exception:</p>\n<pre><code>17.11.2020 19:15:46,664 ERROR [o.s.boot.SpringApplication] (main) Application run \nfailed\njava.lang.NoClassDefFoundError: org/springframework/data/rest/webmvc/mapping/Associations\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\nat java.base/java.lang.Class.getDeclaredConstructors(Class.java:2357)\n(....)\n</code></pre>\n<p>Additionally the Introduction use apikeys, but we don't use apikeys in the application and I don't know how to use them.</p>\n<p>Then I found following question which seems to be my problem: <a href=\"https://stackoverflow.com/questions/59898874/enable-authorize-button-in-springdoc-openapi-ui-for-bearer-token-authentication\">Enable Authorize button in springdoc-openapi-ui for Bearer Token Authentication (JWT)</a></p>\n<p>so i implmented the code from the top-answer:</p>\n<pre><code>import io.swagger.v3.oas.models.Components;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport io.swagger.v3.oas.models.security.SecurityRequirement;\nimport io.swagger.v3.oas.models.security.SecurityScheme;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.util.StringUtils;\n\n@Configuration\npublic class OpenApiConfiguration {\n\n  private final String moduleName;\n  private final String apiVersion;\n\n  public OpenApiConfiguration(\n      @Value(&quot;${module-name}&quot;) String moduleName,\n      @Value(&quot;${api-version}&quot;) String apiVersion) {\n    this.moduleName = moduleName;\n    this.apiVersion = apiVersion;\n  }\n\n  @Bean\n  public OpenAPI customOpenAPI() {\n    final String securitySchemeName = &quot;bearerAuth&quot;;\n    final String apiTitle = String.format(&quot;%s API&quot;, StringUtils.capitalize(moduleName));\n\n    return new OpenAPI().addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\n        .components(new Components().addSecuritySchemes(securitySchemeName,\n            new SecurityScheme().name(securitySchemeName)\n                .type(SecurityScheme.Type.HTTP)\n                .scheme(&quot;bearer&quot;)\n                .bearerFormat(&quot;JWT&quot;)))\n        .info(new Info().title(apiTitle)\n            .version(apiVersion));\n  }\n\n}\n</code></pre>\n<p>but then i get follow exception:</p>\n<pre><code>17.11.2020 19:21:00,215 ERROR [o.s.boot.SpringApplication] (main) Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openApiConfiguration' defined in file [&lt;PATH&gt;/configuration/OpenApiConfiguration.class]: Unexpected exception during bean creation; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'module-name' in value &quot;${module-name}&quot;\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:530)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n(....)\n</code></pre>\n<p>Can someone explain how this placeholder and @Value works?\nMaybe anybody has a good/better way for my problem? Im very new in this topic</p>\n<p>best regards and sorry for my bad english</p>\n<p>ilikefatcats</p>\n"},{"tags":["java","arrays","dictionary"],"answers":[{"tags":[],"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1396099817,"creation_date":1396099817,"answer_id":22731729,"question_id":22731706,"body_markdown":"It is returning `Object[]` Not `String[]`. Try this:\r\n\r\n    Object[] obj = (Object[]) map1.keySet().toArray();\r\n    for(int i=0; i&lt;obj.length;i++) {\r\n        String someString = (String)obj[i];\r\n        System.out.println(someString);\r\n    }","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p>It is returning <code>Object[]</code> Not <code>String[]</code>. Try this:</p>\n\n<pre><code>Object[] obj = (Object[]) map1.keySet().toArray();\nfor(int i=0; i&lt;obj.length;i++) {\n    String someString = (String)obj[i];\n    System.out.println(someString);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1489654203,"creation_date":1396099982,"answer_id":22731751,"question_id":22731706,"body_markdown":"`toArray()` returns an `Object[]`, regardless of generics. You could use the overloaded variant instead:\r\n\r\n    String[] str = map1.keySet().toArray(new String[map1.size()]);\r\n\r\nAlternatively, since a `Set`&#39;s `toArray` method gives no guarantee about the order, and all you&#39;re using the array for is printing out the values, you could iterate the `keySet()` directly:\r\n\r\n\r\n    for (String str: map1.keySet()) {\r\n        System.out.println(str);\r\n    }\r\n\r\nEDIT:\r\nJust to complete the picture, in Java 8, the `foreach` method can be used to make the code more elegant:\r\n\r\n    map1.keySet().forEach(System.out::println);","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p><code>toArray()</code> returns an <code>Object[]</code>, regardless of generics. You could use the overloaded variant instead:</p>\n\n<pre><code>String[] str = map1.keySet().toArray(new String[map1.size()]);\n</code></pre>\n\n<p>Alternatively, since a <code>Set</code>'s <code>toArray</code> method gives no guarantee about the order, and all you're using the array for is printing out the values, you could iterate the <code>keySet()</code> directly:</p>\n\n<pre><code>for (String str: map1.keySet()) {\n    System.out.println(str);\n}\n</code></pre>\n\n<p>EDIT:\nJust to complete the picture, in Java 8, the <code>foreach</code> method can be used to make the code more elegant:</p>\n\n<pre><code>map1.keySet().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483687314,"creation_date":1483687314,"answer_id":41500894,"question_id":22731706,"body_markdown":"`toArray()`method is defined in List interface so every where there is an instance of List, you also have access to this method.\r\n\r\nAt first you might think that you can cast an array of Objects which its elements are all of type String to a String array but java specs says otherwise [Link][1], in short it says:\r\n  \r\n`bArr = new B[]; A[] aArr = (A[]) bArr;`\r\n\r\n&quot;works&quot; at runtime if and only if B is a subtype of A (or A itself).\r\nWhether B actually only contains As is irrelevant and the compile-time type of bArr is not used either (what matters is the runtime type):\r\n\r\nIn your code by calling : `image_urls.toArray()`\r\nyou will get an array of Object and since Object is not SubType of String, you get exception. To do this write, use other overload of `toArray()` which\r\ngets an array of certain type (for type reference) as &quot;Mureinik&quot; mentioned.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5.3","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p><code>toArray()</code>method is defined in List interface so every where there is an instance of List, you also have access to this method.</p>\n\n<p>At first you might think that you can cast an array of Objects which its elements are all of type String to a String array but java specs says otherwise <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5.3\" rel=\"nofollow noreferrer\">Link</a>, in short it says:</p>\n\n<p><code>bArr = new B[]; A[] aArr = (A[]) bArr;</code></p>\n\n<p>\"works\" at runtime if and only if B is a subtype of A (or A itself).\nWhether B actually only contains As is irrelevant and the compile-time type of bArr is not used either (what matters is the runtime type):</p>\n\n<p>In your code by calling : <code>image_urls.toArray()</code>\nyou will get an array of Object and since Object is not SubType of String, you get exception. To do this write, use other overload of <code>toArray()</code> which\ngets an array of certain type (for type reference) as \"Mureinik\" mentioned.</p>\n"},{"tags":[],"owner":{"account_id":15153969,"reputation":394,"user_id":10935450,"display_name":"Muhammed_G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664917554,"creation_date":1664917554,"answer_id":73953639,"question_id":22731706,"body_markdown":"You can cast Object[] to String[] like this:\r\n\r\n    String[] str = map1.keySet().toArray(String[]::new);","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p>You can cast Object[] to String[] like this:</p>\n<pre><code>String[] str = map1.keySet().toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":2551943,"reputation":1418,"user_id":2215537,"accept_rate":82,"display_name":"JackSun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134635,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":22731751,"answer_count":4,"score":33,"last_activity_date":1664917554,"creation_date":1396099718,"question_id":22731706,"body_markdown":"I need convert HashMap&lt;String, String&gt; to a String array, follow is my java code\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class demo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tMap&lt;String, String&gt; map1 = new HashMap&lt;String, String&gt;();\r\n    \t\t\r\n    \t\tmap1.put(&quot;1&quot;, &quot;1&quot;);\r\n    \t\tmap1.put(&quot;2&quot;, &quot;2&quot;);\r\n    \t\tmap1.put(&quot;3&quot;, &quot;3&quot;);\r\n    \t\t\r\n    \t\tString[] str = (String[]) map1.keySet().toArray();\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;str.length;i++) {\r\n    \t\t\tSystem.out.println(str[i]);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nwhen I run the code, I get the following `ClassCastException`. \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\r\n\tat demo.main(demo.java:17)","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p>I need convert HashMap to a String array, follow is my java code</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class demo {\n\n    public static void main(String[] args) {\n\n        Map&lt;String, String&gt; map1 = new HashMap&lt;String, String&gt;();\n\n        map1.put(\"1\", \"1\");\n        map1.put(\"2\", \"2\");\n        map1.put(\"3\", \"3\");\n\n        String[] str = (String[]) map1.keySet().toArray();\n\n        for(int i=0; i&lt;str.length;i++) {\n            System.out.println(str[i]);\n        }\n    }\n}\n</code></pre>\n\n<p>when I run the code, I get the following <code>ClassCastException</code>. </p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\nat demo.main(demo.java:17)\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1664852746,"post_id":73941382,"comment_id":130560121,"body_markdown":"first of all you can only set `exported=true` to only on activity but here u have setted `true` in both activity. and second is nor you setted a splash screen theme or showed what have you done in `Splash_Screen` activity","body":"first of all you can only set <code>exported=true</code> to only on activity but here u have setted <code>true</code> in both activity. and second is nor you setted a splash screen theme or showed what have you done in <code>Splash_Screen</code> activity"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1664852886,"post_id":73941382,"comment_id":130560136,"body_markdown":"you can check this doc of splash screen it may help you [Splash screens](https://developer.android.com/develop/ui/views/launch/splash-screen)","body":"you can check this doc of splash screen it may help you <a href=\"https://developer.android.com/develop/ui/views/launch/splash-screen\" rel=\"nofollow noreferrer\">Splash screens</a>"},{"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"score":0,"creation_date":1664858326,"post_id":73941382,"comment_id":130560741,"body_markdown":"brother pls share Splash_Screen code so that we can have more information, also the xml if needed","body":"brother pls share Splash_Screen code so that we can have more information, also the xml if needed"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664864714,"post_id":73941382,"comment_id":130561812,"body_markdown":"Most likely you&#39;re looking for something like [this](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336). Here&#39;s the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"Most likely you&#39;re looking for something like <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">this</a>. Here&#39;s the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":21394308,"reputation":375,"user_id":15757714,"display_name":"HamzaKhalid273"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664916818,"creation_date":1664916818,"answer_id":73953548,"question_id":73941382,"body_markdown":"I have resolved this issue in two steps.\r\n\r\n1)-   I set the value of exported to false for every activity including `main activity` like \r\n\r\n``` \r\nandroid:name=&quot;.MainActivity&quot;\r\nandroid:exported=&quot;false&quot;\r\n```\r\n \r\n and in the case of splash screen, I set the value to true like \r\n``` \r\nandroid:name=&quot;.Splash_Screen&quot;\r\nandroid:exported=&quot;true&quot;&gt;\r\n```\r\n\r\n2)- I change the configuration to `app` from `MainActivity` by \r\n\r\n```\r\nRun &gt; Edit Configurations\r\n```\r\n\r\n\r\nUnder the Run/Debug Configuration panel switch `MainActivity` to `app`.\r\nThis made my application run and also now the splash screen is working as expected.","title":"Splash screen is not getting displayed even using &lt;intent-filter&gt; in it","body":"<p>I have resolved this issue in two steps.</p>\n<p>1)-   I set the value of exported to false for every activity including <code>main activity</code> like</p>\n<pre><code>android:name=&quot;.MainActivity&quot;\nandroid:exported=&quot;false&quot;\n</code></pre>\n<p>and in the case of splash screen, I set the value to true like</p>\n<pre><code>android:name=&quot;.Splash_Screen&quot;\nandroid:exported=&quot;true&quot;&gt;\n</code></pre>\n<p>2)- I change the configuration to <code>app</code> from <code>MainActivity</code> by</p>\n<pre><code>Run &gt; Edit Configurations\n</code></pre>\n<p>Under the Run/Debug Configuration panel switch <code>MainActivity</code> to <code>app</code>.\nThis made my application run and also now the splash screen is working as expected.</p>\n"}],"owner":{"account_id":21394308,"reputation":375,"user_id":15757714,"display_name":"HamzaKhalid273"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664916818,"creation_date":1664836100,"question_id":73941382,"body_markdown":"I just want to show my splash screen before any activity.\r\nI don&#39;t have anything in my main activity all the stuff is designed on my splash screen. So, I tried this code to make the splash screen visible before I make the main activity be visible.\r\n\r\n```\r\n&lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Splash_Screen&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\nBut this shows me the blank page (looks like it is running the main activity). \r\nWhy the splash screen is not visible at first?","title":"Splash screen is not getting displayed even using &lt;intent-filter&gt; in it","body":"<p>I just want to show my splash screen before any activity.\nI don't have anything in my main activity all the stuff is designed on my splash screen. So, I tried this code to make the splash screen visible before I make the main activity be visible.</p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.Splash_Screen&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>But this shows me the blank page (looks like it is running the main activity).\nWhy the splash screen is not visible at first?</p>\n"},{"tags":["java","json","generics","jackson","jackson-databind"],"comments":[{"owner":{"account_id":3769645,"reputation":301,"user_id":3132197,"accept_rate":60,"display_name":"YevgenyL"},"score":0,"creation_date":1592443448,"post_id":47348029,"comment_id":110430339,"body_markdown":"Did you got this issue because your project is using Jackson for serialization/deserialization, and you are getting response from external system that is using Moxy? if yes, then I have the same issue.","body":"Did you got this issue because your project is using Jackson for serialization/deserialization, and you are getting response from external system that is using Moxy? if yes, then I have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1664916436,"creation_date":1511181054,"answer_id":47392096,"question_id":47348029,"body_markdown":"Got an answer on the [Jackson Google group][1] directly from the author.\r\n\r\nThe key thing to understand is that **`JsonDeserializer`s are initiated/contextualized once**, and they receive the full type and other information at that moment only. To get a hold of this info, the deserializer needs to implement `ContextualDeserializer`. Its `createContextual` method is called to initialize a deserializer instance, and has access to the `BeanProperty` which also gives the full `JavaType`.\r\n\r\nSo it could look something like this in the end:\r\n\r\n    public class MapDeserializer extends JsonDeserializer implements ContextualDeserializer {\r\n    \r\n        private JavaType type;\r\n    \r\n        public MapDeserializer() {\r\n        }\r\n    \r\n        public MapDeserializer(JavaType type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        @Override\r\n        public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty beanProperty) throws JsonMappingException {\r\n            //beanProperty is null when the type to deserialize is the top-level type or a generic type, not a type of a bean property\r\n            JavaType type = deserializationContext.getContextualType() != null \r\n                ? deserializationContext.getContextualType()\r\n                : beanProperty.getMember().getType();            \r\n            return new MapDeserializer(type);\r\n        }\r\n    \r\n        @Override\r\n        public Map deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            //use this.type as needed\r\n        }\r\n        \r\n        ...\r\n    }\r\n\r\nRegistered and used as normal:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(Map.class, new MapDeserializer());\r\n    mapper.registerModule(module);\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/jackson-user/BR_USCluxng","title":"Get the detected generic type inside Jackson&#39;s JsonDeserializer","body":"<p>Got an answer on the <a href=\"https://groups.google.com/forum/#!topic/jackson-user/BR_USCluxng\" rel=\"nofollow noreferrer\">Jackson Google group</a> directly from the author.</p>\n<p>The key thing to understand is that <strong><code>JsonDeserializer</code>s are initiated/contextualized once</strong>, and they receive the full type and other information at that moment only. To get a hold of this info, the deserializer needs to implement <code>ContextualDeserializer</code>. Its <code>createContextual</code> method is called to initialize a deserializer instance, and has access to the <code>BeanProperty</code> which also gives the full <code>JavaType</code>.</p>\n<p>So it could look something like this in the end:</p>\n<pre><code>public class MapDeserializer extends JsonDeserializer implements ContextualDeserializer {\n\n    private JavaType type;\n\n    public MapDeserializer() {\n    }\n\n    public MapDeserializer(JavaType type) {\n        this.type = type;\n    }\n\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty beanProperty) throws JsonMappingException {\n        //beanProperty is null when the type to deserialize is the top-level type or a generic type, not a type of a bean property\n        JavaType type = deserializationContext.getContextualType() != null \n            ? deserializationContext.getContextualType()\n            : beanProperty.getMember().getType();            \n        return new MapDeserializer(type);\n    }\n\n    @Override\n    public Map deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        //use this.type as needed\n    }\n    \n    ...\n}\n</code></pre>\n<p>Registered and used as normal:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addDeserializer(Map.class, new MapDeserializer());\nmapper.registerModule(module);\n</code></pre>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4334,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":47392096,"answer_count":1,"score":14,"last_activity_date":1664916436,"creation_date":1510913110,"question_id":47348029,"body_markdown":"For external reasons, all java `Map`s in my system can only be received as _lists_ of key-value pairs from the clients, e.g. a `Map&lt;String, Book&gt;` will actually be received as Json-serialized `List&lt;MapEntry&lt;String, Book&gt;&gt;`. This means I need to customize my Json deserialization process to expect this representation of maps.\r\n\r\nThe problem is that `JsonDeserializer` makes me implement\r\n\r\n    deserialize(JsonParser p, DeserializationContext ctxt)\r\n\r\nmethod which has no access to the detected generic type it&#39;s supposed to deserialize (`Map&lt;String, Book&gt;` in the example above). Without that info, I can&#39;t in turn deserialize `List&lt;MapEntry&lt;String, Book&gt;&gt;` without loosing type safety.\r\n\r\nI was looking at [Converter](https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/util/Converter.html) but it gives even less context.\r\n\r\nE.g.\r\n\r\n    public Map&lt;K,V&gt; convert(List&lt;MapToListTypeAdapter.MapEntry&lt;K,V&gt;&gt; list) {\r\n        Map&lt;K,V&gt; x = new HashMap&lt;&gt;();\r\n        list.forEach(entry -&gt; x.put(entry.getKey(), entry.getValue()));\r\n        return x;\r\n    }\r\n\r\nBut this will potentially create dangerous maps that will throw a `ClassCastException` on retrieval, as there&#39;s no way to check the type is actually sensible.\r\nIs there a way to get around this?\r\n\r\nAs an example of what I&#39;d expect, Gson&#39;s [`JsonDeserializer`](https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html) looks like this:\r\n\r\n    T deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n\r\nI.e. it gives access to the expected type in a sane way.","title":"Get the detected generic type inside Jackson&#39;s JsonDeserializer","body":"<p>For external reasons, all java <code>Map</code>s in my system can only be received as <em>lists</em> of key-value pairs from the clients, e.g. a <code>Map&lt;String, Book&gt;</code> will actually be received as Json-serialized <code>List&lt;MapEntry&lt;String, Book&gt;&gt;</code>. This means I need to customize my Json deserialization process to expect this representation of maps.</p>\n\n<p>The problem is that <code>JsonDeserializer</code> makes me implement</p>\n\n<pre><code>deserialize(JsonParser p, DeserializationContext ctxt)\n</code></pre>\n\n<p>method which has no access to the detected generic type it's supposed to deserialize (<code>Map&lt;String, Book&gt;</code> in the example above). Without that info, I can't in turn deserialize <code>List&lt;MapEntry&lt;String, Book&gt;&gt;</code> without loosing type safety.</p>\n\n<p>I was looking at <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/util/Converter.html\" rel=\"noreferrer\">Converter</a> but it gives even less context.</p>\n\n<p>E.g.</p>\n\n<pre><code>public Map&lt;K,V&gt; convert(List&lt;MapToListTypeAdapter.MapEntry&lt;K,V&gt;&gt; list) {\n    Map&lt;K,V&gt; x = new HashMap&lt;&gt;();\n    list.forEach(entry -&gt; x.put(entry.getKey(), entry.getValue()));\n    return x;\n}\n</code></pre>\n\n<p>But this will potentially create dangerous maps that will throw a <code>ClassCastException</code> on retrieval, as there's no way to check the type is actually sensible.\nIs there a way to get around this?</p>\n\n<p>As an example of what I'd expect, Gson's <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html\" rel=\"noreferrer\"><code>JsonDeserializer</code></a> looks like this:</p>\n\n<pre><code>T deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n</code></pre>\n\n<p>I.e. it gives access to the expected type in a sane way.</p>\n"},{"tags":["java","html","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1664908560,"post_id":73951404,"comment_id":130576158,"body_markdown":"Try `${#arrays.indexOf(name, frag)}` - for example: `${#arrays.indexOf(dropdownFields[0], y)}`. A full list of these `#` expression utilities is [here](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#appendix-b-expression-utility-objects). I am not sure what the underlying structure of the source data is (an array of chars? an array of an array of chars? something else?) - so this is a comment, not an answer.","body":"Try <code>${#arrays.indexOf(name, frag)}</code> - for example: <code>${#arrays.indexOf(dropdownFields[0], y)}</code>. A full list of these <code>#</code> expression utilities is <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#appendix-b-expression-utility-objects\" rel=\"nofollow noreferrer\">here</a>. I am not sure what the underlying structure of the source data is (an array of chars? an array of an array of chars? something else?) - so this is a comment, not an answer."},{"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"score":0,"creation_date":1664910443,"post_id":73951404,"comment_id":130576648,"body_markdown":"As far as I saw, there doesn&#39;t exist a `${#arrays.indexOf(name, frag)}` on the site... So I guess it&#39;s not possible? Also, it&#39;s an array of numbers, so an integer array","body":"As far as I saw, there doesn&#39;t exist a <code>${#arrays.indexOf(name, frag)}</code> on the site... So I guess it&#39;s not possible? Also, it&#39;s an array of numbers, so an integer array"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1664912398,"post_id":73951404,"comment_id":130577233,"body_markdown":"Maybe I misunderstood the comment for `#strings.indexOf` where it says &quot;Also works with arrays, lists or sets&quot;. (Java arrays do not have `indexOf`). If so, sorry about that - my mistake.","body":"Maybe I misunderstood the comment for <code>#strings.indexOf</code> where it says &quot;Also works with arrays, lists or sets&quot;. (Java arrays do not have <code>indexOf</code>). If so, sorry about that - my mistake."},{"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"score":0,"creation_date":1664913750,"post_id":73951404,"comment_id":130577622,"body_markdown":"Alright.... it somehow works, if I do a normal &#180;strings.indexOf(a,b)&#180;, it doesn&#39;t work and I have to use &#180;strings.arrayIndexOf(a,b)&#180; but this poses the problem, that now I get back an array and not an int I can put into the brackets of my array. Now I have to somehow cycle through the indexOf list and set the number in the brackets. But then I would have to copy around 100 lines of code, since if it doesn&#39;t find anything, nothing would be shown, and I still want stuff to show just not have that attribute...","body":"Alright.... it somehow works, if I do a normal &#180;strings.indexOf(a,b)&#180;, it doesn&#39;t work and I have to use &#180;strings.arrayIndexOf(a,b)&#180; but this poses the problem, that now I get back an array and not an int I can put into the brackets of my array. Now I have to somehow cycle through the indexOf list and set the number in the brackets. But then I would have to copy around 100 lines of code, since if it doesn&#39;t find anything, nothing would be shown, and I still want stuff to show just not have that attribute..."},{"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"score":0,"creation_date":1664914564,"post_id":73951404,"comment_id":130577855,"body_markdown":"oh, never mind, it doesn&#39;t work at all. It can tell me if it does find what I&#39;m searching for, but if I give it an array that is &#180;{3, 6}&#180; for example, it shows for both cases the index 0 even if it is searching for 6. It&#39;s finding the index 1 but tells me it&#39;s 0","body":"oh, never mind, it doesn&#39;t work at all. It can tell me if it does find what I&#39;m searching for, but if I give it an array that is &#180;{3, 6}&#180; for example, it shows for both cases the index 0 even if it is searching for 6. It&#39;s finding the index 1 but tells me it&#39;s 0"}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664916279,"creation_date":1664916279,"answer_id":73953469,"question_id":73951404,"body_markdown":"A workaround for the lack of `indexOf` for your array is to convert the array to a list.\r\n\r\nYou can do this in Thymeleaf as follows:\r\n\r\n```html\r\n&lt;input th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields, y) \r\n    ? #lists.toList(dropdownFields).indexOf(y)\r\n    : null}&quot;&gt;\r\n```\r\n\r\nThis assumes your Java array is an object `Integer[]` array not a primitive `int[]` array. \r\n\r\n(You can&#39;t convert a primitive array to a list - it has to be an object array. Java does not support collections of primitives, in this way.)\r\n\r\nSo, for example, assuming the Java values as follows:\r\n\r\n```java\r\nint y = 23;\r\nInteger[] dropdownFields = new Integer[]{12, 23, 34};\r\n```\r\n\r\nThen the above Thymeleaf generates the following HTML:\r\n\r\n```html\r\n&lt;input list=&quot;1&quot;&gt;\r\n```\r\n\r\nThat `1` means the number `23` is at index 1 in the original array.\r\n","title":"Thymeleaf IndexOf array elemt","body":"<p>A workaround for the lack of <code>indexOf</code> for your array is to convert the array to a list.</p>\n<p>You can do this in Thymeleaf as follows:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields, y) \n    ? #lists.toList(dropdownFields).indexOf(y)\n    : null}&quot;&gt;\n</code></pre>\n<p>This assumes your Java array is an object <code>Integer[]</code> array not a primitive <code>int[]</code> array.</p>\n<p>(You can't convert a primitive array to a list - it has to be an object array. Java does not support collections of primitives, in this way.)</p>\n<p>So, for example, assuming the Java values as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int y = 23;\nInteger[] dropdownFields = new Integer[]{12, 23, 34};\n</code></pre>\n<p>Then the above Thymeleaf generates the following HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input list=&quot;1&quot;&gt;\n</code></pre>\n<p>That <code>1</code> means the number <code>23</code> is at index 1 in the original array.</p>\n"}],"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73953469,"answer_count":1,"score":0,"last_activity_date":1664916279,"creation_date":1664903589,"question_id":73951404,"body_markdown":"So, I didn&#39;t find any useful information online, so I instead ask about it. The problem is relatively simple. I want to get the index of a value in an array in Thymeleaf. I have this code:\r\n\r\n    th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields[0], y) ?\r\n    dropdownFields[1][dropdownFields[0].indexOF(y)] : null}&quot;\r\n\r\nIt&#39;s a part of a bigger thing ofc, but I generally only want help with this. As you can see, I currently have: `dropdownFields.indexOF(y)` almost at the end, that&#39;s where I get confused, I want to get the same index that is found in the if statement, but now I want to use the index it was found at a different point, to get a different value. Is this somehow possible? \r\nHonestly, all that&#39;s important is the question: How do I use `indexOf` in Thymeleaf.\r\n\r\nThank you.","title":"Thymeleaf IndexOf array elemt","body":"<p>So, I didn't find any useful information online, so I instead ask about it. The problem is relatively simple. I want to get the index of a value in an array in Thymeleaf. I have this code:</p>\n<pre><code>th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields[0], y) ?\ndropdownFields[1][dropdownFields[0].indexOF(y)] : null}&quot;\n</code></pre>\n<p>It's a part of a bigger thing ofc, but I generally only want help with this. As you can see, I currently have: <code>dropdownFields.indexOF(y)</code> almost at the end, that's where I get confused, I want to get the same index that is found in the if statement, but now I want to use the index it was found at a different point, to get a different value. Is this somehow possible?\nHonestly, all that's important is the question: How do I use <code>indexOf</code> in Thymeleaf.</p>\n<p>Thank you.</p>\n"},{"tags":["java","sql-server","hibernate","sql-server-2016"],"answers":[{"tags":[],"owner":{"account_id":4571795,"reputation":76,"user_id":3711312,"display_name":"Stefano Maioli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536054135,"creation_date":1536054135,"answer_id":52163375,"question_id":52162678,"body_markdown":"Probably there is something wrong when the driver is asking for the date to the database, which is the default Hibernate behavior using timestamp type as optimistic locking. Try to use the other approach, getting the time directly from the JVM. This is possible using the predefined attribute in the HBM file.\r\n\r\n    &lt;timestamp name=&quot;lastChange&quot; column=&quot;JS1_LAST_CHANGE&quot; source=&quot;vm&quot;/&gt;\r\n\r\nTry, this should work, but be aware of the drawback of this solution, as highlighted on the official Hibernate documentation (cluster, more jvm, ...)","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>Probably there is something wrong when the driver is asking for the date to the database, which is the default Hibernate behavior using timestamp type as optimistic locking. Try to use the other approach, getting the time directly from the JVM. This is possible using the predefined attribute in the HBM file.</p>\n\n<pre><code>&lt;timestamp name=\"lastChange\" column=\"JS1_LAST_CHANGE\" source=\"vm\"/&gt;\n</code></pre>\n\n<p>Try, this should work, but be aware of the drawback of this solution, as highlighted on the official Hibernate documentation (cluster, more jvm, ...)</p>\n"},{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643403916,"creation_date":1643399755,"answer_id":70899581,"question_id":52162678,"body_markdown":"There was a [change in datetime precision][1] with 2016 and this causes the update statement to fail to match on any rows.\r\n\r\nI&#39;ve had some success by setting sendTemporalDataTypesAsStringForBulkCopy=false in the connection properties. This only works with [Microsoft&#39;s SQLServer driver, version 8.4+][2] \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/troubleshoot/sql/database-design/sql-server-azure-sql-database-improvements#validation-steps-during-an-upgrade-to-database-compatibility-level\r\n  [2]: https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-ver15#properties","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>There was a <a href=\"https://learn.microsoft.com/en-us/troubleshoot/sql/database-design/sql-server-azure-sql-database-improvements#validation-steps-during-an-upgrade-to-database-compatibility-level\" rel=\"nofollow noreferrer\">change in datetime precision</a> with 2016 and this causes the update statement to fail to match on any rows.</p>\n<p>I've had some success by setting sendTemporalDataTypesAsStringForBulkCopy=false in the connection properties. This only works with <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-ver15#properties\" rel=\"nofollow noreferrer\">Microsoft's SQLServer driver, version 8.4+</a></p>\n"},{"tags":[],"owner":{"account_id":1301560,"reputation":27,"user_id":1251341,"display_name":"SriVani B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664916261,"creation_date":1664527509,"answer_id":73906139,"question_id":52162678,"body_markdown":"We ran into a similar problem and changing `source = db` for the timestamp worked for us.\r\n","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>We ran into a similar problem and changing <code>source = db</code> for the timestamp worked for us.</p>\n"}],"owner":{"account_id":14278267,"reputation":1,"user_id":10313666,"display_name":"Davide Mora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664916261,"creation_date":1536051947,"question_id":52162678,"body_markdown":"i have a problem with the combination hibernate + mssql 2016 + microsoft jdbc driver + datetime column.&lt;br&gt;\r\nthe same software it works perfectly with other databases (oracle, mysql, but also mssql &lt;2016) and with mssql 2016 using the jtds driver, so i believe the problem is in the microsoft jdbc driver.\r\n\r\ni use this libraries versions:\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.5.Final&lt;/version&gt;\r\n      &lt;/dependency&gt;        \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0.jre8&lt;/version&gt;\r\n      &lt;/dependency&gt;        \r\n    &lt;/dependencies&gt;\r\n\r\nhibernate.cfg.xml:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlserver://sql2016host\\Sql2016;databaseName=problem&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;user&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n    \r\n            &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n            &lt;!-- SQL dialect --&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/property&gt;\r\n    \r\n            &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n            &lt;!-- Disable the second-level cache  --&gt;\r\n            &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n    \r\n            &lt;!-- Echo all executed SQL to stdout --&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n          &lt;mapping resource=&quot;User.hbm.xml&quot;/&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nUser.hbm.xml:\r\n\r\n    &lt;hibernate-mapping package=&quot;...&quot;&gt;\r\n      &lt;class name=&quot;User&quot; table=&quot;USERS&quot;&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;ID&quot;&gt;\r\n          &lt;generator class=&quot;native&quot;&gt;\r\n            &lt;param name=&quot;sequence_name&quot;&gt;HIBERNATE_SEQUENCE&lt;/param&gt;\r\n          &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;timestamp name=&quot;lastChange&quot; column=&quot;LAST_CHANGE&quot;/&gt;\r\n        &lt;property name=&quot;userId&quot; column=&quot;USERID&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;domain&quot; column=&quot;DOMAIN&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;expiredOn&quot; column=&quot;EXPIRED_ON&quot; type=&quot;timestamp&quot; /&gt;\r\n        &lt;property name=&quot;firstName&quot; column=&quot;FIRSTNAME&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;lastName&quot; column=&quot;LASTNAME&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;language&quot; column=&quot;LANGUAGE&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;role&quot; column=&quot;ROLE&quot; type=&quot;long&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;powerManager&quot; column=&quot;POWERMANAGER&quot; type=&quot;boolean&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;notes&quot; column=&quot;DESCRIPTION&quot; type=&quot;string&quot; not-null=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;company&quot; column=&quot;COMPANY&quot; type=&quot;string&quot; not-null=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;organization&quot; column=&quot;ORGANIZATION&quot; type=&quot;string&quot; not-null=&quot;false&quot;/&gt;\r\n    \r\n      &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nDatabase table:\r\n\r\n    CREATE TABLE USERS(\r\n    \tID numeric(19, 0) IDENTITY(1,1) NOT NULL,\r\n    \tLAST_CHANGE datetime NOT NULL,\r\n    \tUSERID nvarchar(64) NOT NULL,\r\n    \tDOMAIN nvarchar(64) NULL,\r\n    \tSID nvarchar(255) NULL,\r\n    \tEXPIRED_ON datetime NULL,\r\n    \tFIRSTNAME nvarchar(255) NOT NULL,\r\n    \tLASTNAME nvarchar(255) NOT NULL,\r\n    \tLANGUAGE nvarchar(255) NOT NULL,\r\n    \tROLE numeric(19, 0) NOT NULL,\r\n    \tPOWERMANAGER tinyint NULL,\r\n    \tAUTH_TYPE int NULL,\r\n    \tAUTH_PWD_ID numeric(19, 0) NULL,\r\n    \tAUTH_PWD_CHANGE tinyint NULL,\r\n    \tAUTH_PWD_NOEXPIRE tinyint NULL,\r\n    \tAUTH_PWD_ENFORCE_POLICIES tinyint NULL,\r\n    \tAUTH_LOGIN_SUCCESS_DATE datetime NULL,\r\n    \tAUTH_LOGIN_ERROR_DATE datetime NULL,\r\n    \tAUTH_LOGIN_ERROR_COUNT int NOT NULL,\r\n    \tDESCRIPTION nvarchar(255) NULL,\r\n    \tCOMPANY nvarchar(64) NULL,\r\n    \tORGANIZATION nvarchar(64) NULL\r\n    )\r\n\r\n\r\nUser.java:\r\n\r\n    public class User {\r\n    \r\n    \tprivate long id;\r\n        private Date lastChange;        \r\n    \t\r\n    \tprivate String userId;\r\n    \tprivate String domain;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate String language;\r\n    \tprivate String notes;\r\n    \tprivate String company;\r\n    \tprivate String organization;\r\n    \tprivate Date expiredOn;\r\n    \tprivate long role;\r\n    \tprivate boolean powerManager;\r\n    \r\n    \tpublic User() {\r\n    \t}\r\n    \r\n    \tpublic long getId() ..\r\n    \tpublic void setId(long id) ...\r\n    \t\r\n    \tpublic Date getLastChange() ...\r\n    \tpublic void setLastChange(Date lastChange) ...    \t\r\n    \r\n    \tpublic String getUserId() ...\r\n    \tpublic void setUserId(String userId) ...\r\n\r\n    \tpublic String getDomain() ...\r\n    \tpublic void setDomain(String domain) ...\r\n    \r\n        ....\r\n    }\r\n\r\nMain.java, it&#39;s a command line, single thread main():\r\n\r\n    \tprivate void test() {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n    \t\r\n    \t        session.beginTransaction();\r\n               \r\n                // i load and update the user &#39;USER&#39;    \t\r\n                User u = getUserAuth(session, &quot;USER&quot;);\r\n                u.setCompany(&quot;NEWCO&quot;);\r\n                session.update(u);\r\n    \t\r\n    \t        session.getTransaction().commit();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n        private User getUserAuth(Session session, String userId) throws Exception\r\n        {\r\n          TypedQuery&lt;User&gt; query = session.createQuery(&quot;from User u where u.domain = NULL and upper(u.userId) = upper(:userId)&quot;, User.class);\r\n          query.setParameter(&quot;userId&quot;, userId);\r\n          List&lt;User&gt; users = query.getResultList();\r\n          if (users.size() != 1)\r\n             throw new Exception(userId);\r\n          return users.get(0);\r\n        }\r\n\r\nHibernate&#39;s SQL log:\r\n\r\n    Hibernate: select user0_.ID as 0_, user0_.LAST_CHANGE as JS2_0_, user0_.USERID as JS3_0_, user0_.DOMAIN as JS4_0_, user0_.EXPIRED_ON as JS5_0_, user0_.FIRSTNAME as JS6_0_, user0_.LASTNAME as JS7_0_, user0_.LANGUAGE as JS8_0_, user0_.ROLE as JS9_0_, user0_.POWERMANAGER as JS10_0_, user0_.DESCRIPTION as JS11_0_, user0_.COMPANY as JS12_0_, user0_.ORGANIZATION as JS13_0_ from USERS user0_ where (user0_.DOMAIN is null) and upper(user0_.USERID)=upper(?)\r\n    Hibernate: update USERS set LAST_CHANGE=?, USERID=?, DOMAIN=?, EXPIRED_ON=?, FIRSTNAME=?, LASTNAME=?, LANGUAGE=?, ROLE=?, POWERMANAGER=?, DESCRIPTION=?, COMPANY=?, ORGANIZATION=? where ID=? and LAST_CHANGE=?\r\n\r\nException log:\r\n\r\n    ERROR: HHH000346: Error during managed flush [Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [....User#6]]\r\n    javax.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [.....User#6]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:226)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1460)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\r\n    \tat ....BugTimestamp.test(BugTimestamp.java:43)\r\n    \tat ....BugTimestamp.main(BugTimestamp.java:19)\r\n    Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [...User#6]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2522)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3355)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3229)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3630)\r\n    \tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:146)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)\r\n    \t... 10 more\r\n\r\nif i switch from &amp;lt;timestam/p&amp;gt; to &amp;lt;version/&amp;gt; (with a numeric database column) it works.\r\n\r\nAnybody had the same issue?&lt;br&gt;\r\nThanks,&lt;br&gt;\r\nDavid\r\n\r\n\r\n\r\n","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>i have a problem with the combination hibernate + mssql 2016 + microsoft jdbc driver + datetime column.<br>\nthe same software it works perfectly with other databases (oracle, mysql, but also mssql &lt;2016) and with mssql 2016 using the jtds driver, so i believe the problem is in the microsoft jdbc driver.</p>\n\n<p>i use this libraries versions:</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.3.5.Final&lt;/version&gt;\n  &lt;/dependency&gt;        \n  &lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0.jre8&lt;/version&gt;\n  &lt;/dependency&gt;        \n&lt;/dependencies&gt;\n</code></pre>\n\n<p>hibernate.cfg.xml:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:sqlserver://sql2016host\\Sql2016;databaseName=problem&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;user&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;password&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/property&gt;\n\n        &lt;!-- Enable Hibernate's automatic session context management --&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Echo all executed SQL to stdout --&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n      &lt;mapping resource=\"User.hbm.xml\"/&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>User.hbm.xml:</p>\n\n<pre><code>&lt;hibernate-mapping package=\"...\"&gt;\n  &lt;class name=\"User\" table=\"USERS\"&gt;\n    &lt;id name=\"id\" type=\"long\" column=\"ID\"&gt;\n      &lt;generator class=\"native\"&gt;\n        &lt;param name=\"sequence_name\"&gt;HIBERNATE_SEQUENCE&lt;/param&gt;\n      &lt;/generator&gt;\n    &lt;/id&gt;\n    &lt;timestamp name=\"lastChange\" column=\"LAST_CHANGE\"/&gt;\n    &lt;property name=\"userId\" column=\"USERID\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"domain\" column=\"DOMAIN\" type=\"string\" /&gt;\n    &lt;property name=\"expiredOn\" column=\"EXPIRED_ON\" type=\"timestamp\" /&gt;\n    &lt;property name=\"firstName\" column=\"FIRSTNAME\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"lastName\" column=\"LASTNAME\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"language\" column=\"LANGUAGE\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"role\" column=\"ROLE\" type=\"long\" not-null=\"true\"/&gt;\n    &lt;property name=\"powerManager\" column=\"POWERMANAGER\" type=\"boolean\" not-null=\"true\"/&gt;\n    &lt;property name=\"notes\" column=\"DESCRIPTION\" type=\"string\" not-null=\"false\"/&gt;\n    &lt;property name=\"company\" column=\"COMPANY\" type=\"string\" not-null=\"false\"/&gt;\n    &lt;property name=\"organization\" column=\"ORGANIZATION\" type=\"string\" not-null=\"false\"/&gt;\n\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>Database table:</p>\n\n<pre><code>CREATE TABLE USERS(\n    ID numeric(19, 0) IDENTITY(1,1) NOT NULL,\n    LAST_CHANGE datetime NOT NULL,\n    USERID nvarchar(64) NOT NULL,\n    DOMAIN nvarchar(64) NULL,\n    SID nvarchar(255) NULL,\n    EXPIRED_ON datetime NULL,\n    FIRSTNAME nvarchar(255) NOT NULL,\n    LASTNAME nvarchar(255) NOT NULL,\n    LANGUAGE nvarchar(255) NOT NULL,\n    ROLE numeric(19, 0) NOT NULL,\n    POWERMANAGER tinyint NULL,\n    AUTH_TYPE int NULL,\n    AUTH_PWD_ID numeric(19, 0) NULL,\n    AUTH_PWD_CHANGE tinyint NULL,\n    AUTH_PWD_NOEXPIRE tinyint NULL,\n    AUTH_PWD_ENFORCE_POLICIES tinyint NULL,\n    AUTH_LOGIN_SUCCESS_DATE datetime NULL,\n    AUTH_LOGIN_ERROR_DATE datetime NULL,\n    AUTH_LOGIN_ERROR_COUNT int NOT NULL,\n    DESCRIPTION nvarchar(255) NULL,\n    COMPANY nvarchar(64) NULL,\n    ORGANIZATION nvarchar(64) NULL\n)\n</code></pre>\n\n<p>User.java:</p>\n\n<pre><code>public class User {\n\n    private long id;\n    private Date lastChange;        \n\n    private String userId;\n    private String domain;\n    private String firstName;\n    private String lastName;\n    private String language;\n    private String notes;\n    private String company;\n    private String organization;\n    private Date expiredOn;\n    private long role;\n    private boolean powerManager;\n\n    public User() {\n    }\n\n    public long getId() ..\n    public void setId(long id) ...\n\n    public Date getLastChange() ...\n    public void setLastChange(Date lastChange) ...      \n\n    public String getUserId() ...\n    public void setUserId(String userId) ...\n\n    public String getDomain() ...\n    public void setDomain(String domain) ...\n\n    ....\n}\n</code></pre>\n\n<p>Main.java, it's a command line, single thread main():</p>\n\n<pre><code>    private void test() {\n\n        try {\n            Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n\n            session.beginTransaction();\n\n            // i load and update the user 'USER'        \n            User u = getUserAuth(session, \"USER\");\n            u.setCompany(\"NEWCO\");\n            session.update(u);\n\n            session.getTransaction().commit();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private User getUserAuth(Session session, String userId) throws Exception\n    {\n      TypedQuery&lt;User&gt; query = session.createQuery(\"from User u where u.domain = NULL and upper(u.userId) = upper(:userId)\", User.class);\n      query.setParameter(\"userId\", userId);\n      List&lt;User&gt; users = query.getResultList();\n      if (users.size() != 1)\n         throw new Exception(userId);\n      return users.get(0);\n    }\n</code></pre>\n\n<p>Hibernate's SQL log:</p>\n\n<pre><code>Hibernate: select user0_.ID as 0_, user0_.LAST_CHANGE as JS2_0_, user0_.USERID as JS3_0_, user0_.DOMAIN as JS4_0_, user0_.EXPIRED_ON as JS5_0_, user0_.FIRSTNAME as JS6_0_, user0_.LASTNAME as JS7_0_, user0_.LANGUAGE as JS8_0_, user0_.ROLE as JS9_0_, user0_.POWERMANAGER as JS10_0_, user0_.DESCRIPTION as JS11_0_, user0_.COMPANY as JS12_0_, user0_.ORGANIZATION as JS13_0_ from USERS user0_ where (user0_.DOMAIN is null) and upper(user0_.USERID)=upper(?)\nHibernate: update USERS set LAST_CHANGE=?, USERID=?, DOMAIN=?, EXPIRED_ON=?, FIRSTNAME=?, LASTNAME=?, LANGUAGE=?, ROLE=?, POWERMANAGER=?, DESCRIPTION=?, COMPANY=?, ORGANIZATION=? where ID=? and LAST_CHANGE=?\n</code></pre>\n\n<p>Exception log:</p>\n\n<pre><code>ERROR: HHH000346: Error during managed flush [Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [....User#6]]\njavax.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [.....User#6]\n    at org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:226)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1460)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\n    at ....BugTimestamp.test(BugTimestamp.java:43)\n    at ....BugTimestamp.main(BugTimestamp.java:19)\nCaused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [...User#6]\n    at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2522)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3355)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3229)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3630)\n    at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:146)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)\n    ... 10 more\n</code></pre>\n\n<p>if i switch from &lt;timestam/p&gt; to &lt;version/&gt; (with a numeric database column) it works.</p>\n\n<p>Anybody had the same issue?<br>\nThanks,<br>\nDavid</p>\n"},{"tags":["java","embedded-jetty","jetty-9"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402326645,"creation_date":1402326645,"answer_id":24123217,"question_id":24123120,"body_markdown":"Propably you have some config in XML files. XML can be well-formated or even checked against a [DTD][1]. If the DTD resides on the Internet and you don&#39;t have a connection the XMLParser may fail.\r\n\r\nCould be a typo in your XML config file, because the DTD are normally included in the JAR.\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Document_type_definition","title":"Jetty http lookup when not connected to internet","body":"<p>Propably you have some config in XML files. XML can be well-formated or even checked against a <a href=\"http://en.wikipedia.org/wiki/Document_type_definition\" rel=\"nofollow\">DTD</a>. If the DTD resides on the Internet and you don't have a connection the XMLParser may fail.</p>\n\n<p>Could be a typo in your XML config file, because the DTD are normally included in the JAR.</p>\n"},{"tags":[],"owner":{"account_id":256434,"reputation":744,"user_id":537151,"accept_rate":50,"display_name":"rxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664915867,"creation_date":1402382109,"answer_id":24134407,"question_id":24123120,"body_markdown":"Removing following dtd from web.xml solved this issue.\r\n\r\n    \r\n    &lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;","title":"Jetty http lookup when not connected to internet","body":"<p>Removing following dtd from web.xml solved this issue.</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3417768,"reputation":1027,"user_id":2866161,"display_name":"SzB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487680370,"creation_date":1487680370,"answer_id":42367470,"question_id":24123120,"body_markdown":"Adding\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.eclipse.jetty.toolchain&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jetty-schemas&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nsolved the problem for me.\r\n\r\nSee: [https://issues.apache.org/jira/browse/BROOKLYN-197][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/BROOKLYN-197","title":"Jetty http lookup when not connected to internet","body":"<p>Adding</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.eclipse.jetty.toolchain&lt;/groupId&gt;\n    &lt;artifactId&gt;jetty-schemas&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>solved the problem for me.</p>\n\n<p>See: <a href=\"https://issues.apache.org/jira/browse/BROOKLYN-197\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/BROOKLYN-197</a></p>\n"}],"owner":{"account_id":256434,"reputation":744,"user_id":537151,"accept_rate":50,"display_name":"rxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1620,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24134407,"answer_count":3,"score":3,"last_activity_date":1664915867,"creation_date":1402326279,"question_id":24123120,"body_markdown":"I have an embedded jetty server, it is using jetty 9. I am trying to run it&#39;s local instance with host=localhost and port =8080, now when my machine is connected to internet it works well. But when it is not it throws the exception - Any idea how can I fix this?\r\n\r\n    java.net.UnknownHostException: java.sun.com\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:579)\r\n\tat java.net.Socket.connect(Socket.java:528)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:180)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n\tat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:308)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:326)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1300)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:637)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1290)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:1257)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:262)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.dispatch(XMLDocumentScannerImpl.java:1162)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.next(XMLDocumentScannerImpl.java:1050)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:964)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:649)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:333)\r\n\tat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:246)\r\n\tat org.eclipse.jetty.webapp.Descriptor.parse(Descriptor.java:65)\r\n\tat org.eclipse.jetty.webapp.WebDescriptor.parse(WebDescriptor.java:181)\r\n\tat org.eclipse.jetty.webapp.MetaData.setWebXml(MetaData.java:172)\r\n\tat org.eclipse.jetty.webapp.WebXmlConfiguration.preConfigure(WebXmlConfiguration.java:60)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.preConfigure(WebAppContext.java:455)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:491)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:355)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:324)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)","title":"Jetty http lookup when not connected to internet","body":"<p>I have an embedded jetty server, it is using jetty 9. I am trying to run it's local instance with host=localhost and port =8080, now when my machine is connected to internet it works well. But when it is not it throws the exception - Any idea how can I fix this?</p>\n\n<pre><code>java.net.UnknownHostException: java.sun.com\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:579)\nat java.net.Socket.connect(Socket.java:528)\nat sun.net.NetworkClient.doConnect(NetworkClient.java:180)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\nat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\nat sun.net.www.http.HttpClient.New(HttpClient.java:308)\nat sun.net.www.http.HttpClient.New(HttpClient.java:326)\nat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\nat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1300)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:637)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1290)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:1257)\nat com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:262)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.dispatch(XMLDocumentScannerImpl.java:1162)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.next(XMLDocumentScannerImpl.java:1050)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:964)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\nat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:649)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:333)\nat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:246)\nat org.eclipse.jetty.webapp.Descriptor.parse(Descriptor.java:65)\nat org.eclipse.jetty.webapp.WebDescriptor.parse(WebDescriptor.java:181)\nat org.eclipse.jetty.webapp.MetaData.setWebXml(MetaData.java:172)\nat org.eclipse.jetty.webapp.WebXmlConfiguration.preConfigure(WebXmlConfiguration.java:60)\nat org.eclipse.jetty.webapp.WebAppContext.preConfigure(WebAppContext.java:455)\nat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:491)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\nat org.eclipse.jetty.server.Server.start(Server.java:355)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\nat org.eclipse.jetty.server.Server.doStart(Server.java:324)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664915820,"creation_date":1664915820,"answer_id":73953393,"question_id":73953074,"body_markdown":"you aren&#39;t pausing song, you are `stop()`ing it. use `sound.pause()` for pausing :)\r\n\r\nafter `stop()` `MediaPlayer` you have to prepare it again, use `prepare()` or `prepareAsync()`. `MediaPlayer.create(` makes that for you at the beginning, also if you would create `MediaPlayer` using its constructor you would also want to `prepare()`/`preapreAsync()` before calling `start()` in onClick\r\n\r\ncheck out [state diagram of `MediaPlayer`](https://developer.android.com/reference/android/media/MediaPlayer#StateDiagram)","title":"Adding music in android studio (java, MediaPlayer)","body":"<p>you aren't pausing song, you are <code>stop()</code>ing it. use <code>sound.pause()</code> for pausing :)</p>\n<p>after <code>stop()</code> <code>MediaPlayer</code> you have to prepare it again, use <code>prepare()</code> or <code>prepareAsync()</code>. <code>MediaPlayer.create(</code> makes that for you at the beginning, also if you would create <code>MediaPlayer</code> using its constructor you would also want to <code>prepare()</code>/<code>preapreAsync()</code> before calling <code>start()</code> in onClick</p>\n<p>check out <a href=\"https://developer.android.com/reference/android/media/MediaPlayer#StateDiagram\" rel=\"nofollow noreferrer\">state diagram of <code>MediaPlayer</code></a></p>\n"}],"owner":{"account_id":26524509,"reputation":25,"user_id":20159924,"display_name":"Oganes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73953393,"answer_count":1,"score":0,"last_activity_date":1664915820,"creation_date":1664913569,"question_id":73953074,"body_markdown":"       buttonMusic = findViewById(R.id.buttonMus);\r\n\r\n        musicSound = MediaPlayer.create(this, R.raw.music);\r\n        buttonClick();\r\n    }\r\n\r\n    private Button buttonMusic;\r\n    private MediaPlayer musicSound;\r\n\r\n    public void buttonClick() {\r\n        buttonMusic.setOnClickListener(\r\n                new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        soundPlay(musicSound);\r\n\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    public void soundPlay(MediaPlayer sound) {\r\n        if (sound.isPlaying()) {\r\n            sound.stop();\r\n\r\n        }else {\r\n            sound.start();\r\n            sound.setLooping(true);\r\n        } }\r\n\r\nHello.\r\nThe code launches the music, is able to stop it, but it wont play again after pressing the play button, after pausing the song that is.","title":"Adding music in android studio (java, MediaPlayer)","body":"<pre><code>   buttonMusic = findViewById(R.id.buttonMus);\n\n    musicSound = MediaPlayer.create(this, R.raw.music);\n    buttonClick();\n}\n\nprivate Button buttonMusic;\nprivate MediaPlayer musicSound;\n\npublic void buttonClick() {\n    buttonMusic.setOnClickListener(\n            new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    soundPlay(musicSound);\n\n                }\n            }\n    );\n}\n\npublic void soundPlay(MediaPlayer sound) {\n    if (sound.isPlaying()) {\n        sound.stop();\n\n    }else {\n        sound.start();\n        sound.setLooping(true);\n    } }\n</code></pre>\n<p>Hello.\nThe code launches the music, is able to stop it, but it wont play again after pressing the play button, after pausing the song that is.</p>\n"},{"tags":["java","if-statement","negative-number"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1664874146,"post_id":73945411,"comment_id":130564506,"body_markdown":"You are doing calculations with some rather large numbers there. Have you checked if what you are trying to calculate even fits in the `int` datatype? Maybe the numbers are to big and you are experiencing [integer overflow](https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo)","body":"You are doing calculations with some rather large numbers there. Have you checked if what you are trying to calculate even fits in the <code>int</code> datatype? Maybe the numbers are to big and you are experiencing <a href=\"https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo\">integer overflow</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664875328,"post_id":73945411,"comment_id":130564869,"body_markdown":"As a quick fix: try changing all your `int` variables to `long`. It might only be needed on the `hga` and `hgaa` variables, but it just might to the trick.","body":"As a quick fix: try changing all your <code>int</code> variables to <code>long</code>. It might only be needed on the <code>hga</code> and <code>hgaa</code> variables, but it just might to the trick."},{"owner":{"account_id":24832545,"reputation":13,"user_id":18711578,"display_name":"HERI"},"score":0,"creation_date":1664876141,"post_id":73945411,"comment_id":130565127,"body_markdown":"changing to &#39;long&#39;, its work. Guess Im forget about this data type. thanks anyway","body":"changing to &#39;long&#39;, its work. Guess Im forget about this data type. thanks anyway"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664917384,"post_id":73945411,"comment_id":130578633,"body_markdown":"not enexpected at all...","body":"not enexpected at all..."}],"answers":[{"tags":[],"owner":{"account_id":4905682,"reputation":839,"user_id":3952494,"display_name":"Klapsa2503"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914997,"creation_date":1664914997,"answer_id":73953286,"question_id":73945411,"body_markdown":"You are using `int` but you should use `long`. Integer can&#39;t be used in here as the value is just too big and overflows.\r\n\r\nCheck https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html to see available data types and compare maximum values that you can fit into them.\r\n\r\nUse `Math.exact` and similar methods to immediately get an exception when value overflows. See https://stackoverflow.com/questions/21233582/how-can-i-detect-integer-overflow-on-32-bits-int","title":"if-else-if: getting an unexpected negative output","body":"<p>You are using <code>int</code> but you should use <code>long</code>. Integer can't be used in here as the value is just too big and overflows.</p>\n<p>Check <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a> to see available data types and compare maximum values that you can fit into them.</p>\n<p>Use <code>Math.exact</code> and similar methods to immediately get an exception when value overflows. See <a href=\"https://stackoverflow.com/questions/21233582/how-can-i-detect-integer-overflow-on-32-bits-int\">How can I detect integer overflow on 32 bits int?</a></p>\n"}],"owner":{"account_id":24832545,"reputation":13,"user_id":18711578,"display_name":"HERI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1664914997,"creation_date":1664873946,"question_id":73945411,"body_markdown":"So i have this program, where when I select the area and type, the DP will generate.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GJiuf.png\r\n\r\nThe problem is, when I select another type (tipe-45 and tipe-54), the result is showed in minus. What is the problem?\r\n\r\n    if(rb1.isSelected() &amp;&amp; t1.isSelected()){\r\n            hargabangunan.setText(&quot;90000000&quot;);\r\n            luas_tanah_asli.setText(&quot;60&quot;);}\r\n        else if(rb1.isSelected() &amp;&amp; t2.isSelected()){\r\n            hargabangunan.setText(&quot;120000000&quot;);\r\n            luas_tanah_asli.setText(&quot;90&quot;);}\r\n        else if(rb1.isSelected() &amp;&amp; t3.isSelected()){\r\n            hargabangunan.setText(&quot;150000000&quot;);\r\n            luas_tanah_asli.setText(&quot;110&quot;);}\r\n        \r\n        else if(rb2.isSelected() &amp;&amp; t1.isSelected()){\r\n            hargabangunan.setText(&quot;100000000&quot;);\r\n            luas_tanah_asli.setText(&quot;70&quot;);}\r\n        else if(rb2.isSelected() &amp;&amp; t2.isSelected()){\r\n            hargabangunan.setText(&quot;130000000&quot;);\r\n            luas_tanah_asli.setText(&quot;110&quot;);}\r\n        else if(rb2.isSelected() &amp;&amp; t3.isSelected()){\r\n            hargabangunan.setText(&quot;170000000&quot;);\r\n            luas_tanah_asli.setText(&quot;120&quot;);}\r\n       \r\n        else if(rb3.isSelected() &amp;&amp; t1.isSelected()){\r\n            hargabangunan.setText(&quot;120000000&quot;);\r\n            luas_tanah_asli.setText(&quot;80&quot;);}\r\n        else if(rb3.isSelected() &amp;&amp; t2.isSelected()){\r\n            hargabangunan.setText(&quot;140000000&quot;);\r\n            luas_tanah_asli.setText(&quot;120&quot;);}\r\n        else if(rb3.isSelected() &amp;&amp; t3.isSelected()){\r\n            hargabangunan.setText(&quot;200000000&quot;);\r\n            luas_tanah_asli.setText(&quot;140&quot;);}\r\n        \r\n        int htl = hargat*75/100;     \r\n        tst.setText(Integer.toString(htl));\r\n        \r\n        int lta = Integer.parseInt(luas_tanah_asli.getText());\r\n        int ltth = ltt - lta;\r\n        tsa.setText(Integer.toString(ltth));\r\n        \r\n        int hga = Integer.parseInt(hargabangunan.getText());\r\n        int hgaa = hga+lta*hargat+ltth*htl;\r\n        harga.setText(Integer.toString(hgaa));\r\n       \r\n        String hharga;\r\n        hharga = harga.getText();\r\n        int tharga = Integer.parseInt(hharga);\r\n        int dp = tharga*20/100;\r\n        dpf.setText(Integer.toString(dp));","title":"if-else-if: getting an unexpected negative output","body":"<p>So i have this program, where when I select the area and type, the DP will generate.<a href=\"https://i.stack.imgur.com/GJiuf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJiuf.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is, when I select another type (tipe-45 and tipe-54), the result is showed in minus. What is the problem?</p>\n<pre><code>if(rb1.isSelected() &amp;&amp; t1.isSelected()){\n        hargabangunan.setText(&quot;90000000&quot;);\n        luas_tanah_asli.setText(&quot;60&quot;);}\n    else if(rb1.isSelected() &amp;&amp; t2.isSelected()){\n        hargabangunan.setText(&quot;120000000&quot;);\n        luas_tanah_asli.setText(&quot;90&quot;);}\n    else if(rb1.isSelected() &amp;&amp; t3.isSelected()){\n        hargabangunan.setText(&quot;150000000&quot;);\n        luas_tanah_asli.setText(&quot;110&quot;);}\n    \n    else if(rb2.isSelected() &amp;&amp; t1.isSelected()){\n        hargabangunan.setText(&quot;100000000&quot;);\n        luas_tanah_asli.setText(&quot;70&quot;);}\n    else if(rb2.isSelected() &amp;&amp; t2.isSelected()){\n        hargabangunan.setText(&quot;130000000&quot;);\n        luas_tanah_asli.setText(&quot;110&quot;);}\n    else if(rb2.isSelected() &amp;&amp; t3.isSelected()){\n        hargabangunan.setText(&quot;170000000&quot;);\n        luas_tanah_asli.setText(&quot;120&quot;);}\n   \n    else if(rb3.isSelected() &amp;&amp; t1.isSelected()){\n        hargabangunan.setText(&quot;120000000&quot;);\n        luas_tanah_asli.setText(&quot;80&quot;);}\n    else if(rb3.isSelected() &amp;&amp; t2.isSelected()){\n        hargabangunan.setText(&quot;140000000&quot;);\n        luas_tanah_asli.setText(&quot;120&quot;);}\n    else if(rb3.isSelected() &amp;&amp; t3.isSelected()){\n        hargabangunan.setText(&quot;200000000&quot;);\n        luas_tanah_asli.setText(&quot;140&quot;);}\n    \n    int htl = hargat*75/100;     \n    tst.setText(Integer.toString(htl));\n    \n    int lta = Integer.parseInt(luas_tanah_asli.getText());\n    int ltth = ltt - lta;\n    tsa.setText(Integer.toString(ltth));\n    \n    int hga = Integer.parseInt(hargabangunan.getText());\n    int hgaa = hga+lta*hargat+ltth*htl;\n    harga.setText(Integer.toString(hgaa));\n   \n    String hharga;\n    hharga = harga.getText();\n    int tharga = Integer.parseInt(hharga);\n    int dp = tharga*20/100;\n    dpf.setText(Integer.toString(dp));\n</code></pre>\n"},{"tags":["java","maven","dependencies"],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664914931,"creation_date":1370161387,"answer_id":16881042,"question_id":16881015,"body_markdown":"Yes, put it in the resource folder.  By default that&#39;s `src/main/resources`.  If you put a file in there, it&#39;ll become available in your classpath.\r\n\r\nAlternatively, you could modify your pom to say your folder where the xml file is in is a resource folder.  But, I consider this a bad practice *if* your xml file is under your `src/main/java` directory.  ","title":"Adding a non-jar dependency to my maven project","body":"<p>Yes, put it in the resource folder.  By default that's <code>src/main/resources</code>.  If you put a file in there, it'll become available in your classpath.</p>\n<p>Alternatively, you could modify your pom to say your folder where the xml file is in is a resource folder.  But, I consider this a bad practice <em>if</em> your xml file is under your <code>src/main/java</code> directory.</p>\n"},{"tags":[],"owner":{"account_id":354493,"reputation":2496,"user_id":692867,"accept_rate":67,"display_name":"dev_nut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370162252,"creation_date":1370162252,"answer_id":16881126,"question_id":16881015,"body_markdown":"You need to put the file in src/main/resources. After that the file is available on the classpath. Then it can be read with:\r\n\r\n        // Foo.class\r\n        // assuming xml file is foo.xml\r\n        InputStream is = Foo.class.getResourceAsStream(&quot;foo.xml&quot;); ","title":"Adding a non-jar dependency to my maven project","body":"<p>You need to put the file in src/main/resources. After that the file is available on the classpath. Then it can be read with:</p>\n\n<pre><code>    // Foo.class\n    // assuming xml file is foo.xml\n    InputStream is = Foo.class.getResourceAsStream(\"foo.xml\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370162366,"creation_date":1370162366,"answer_id":16881138,"question_id":16881015,"body_markdown":"Maven uses the resources folder for your project as you mention them in pom.xml. Here is a sample of pom. Anything added as a resource will be available in your classpath and can be accessed in your code.\r\n\r\n      &lt;build&gt;\r\n    \t&lt;finalName&gt;Examples&lt;/finalName&gt;\r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/config&lt;/directory&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t&lt;/resources&gt;\r\n    &lt;/build&gt;","title":"Adding a non-jar dependency to my maven project","body":"<p>Maven uses the resources folder for your project as you mention them in pom.xml. Here is a sample of pom. Anything added as a resource will be available in your classpath and can be accessed in your code.</p>\n\n<pre><code>  &lt;build&gt;\n    &lt;finalName&gt;Examples&lt;/finalName&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/config&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3271774,"reputation":329,"user_id":2754985,"display_name":"user2754985"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1409977741,"creation_date":1409977741,"answer_id":25696781,"question_id":16881015,"body_markdown":"This solution works for me.  I am using a WMQ table channel file from a Nexus repository.\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;wmq&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;tab&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    ... \r\n    \r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.8&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;copy&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactItems&gt;\r\n    \t\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;groupId&gt;wmq&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;type&gt;tab&lt;/type&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/${project.artifactId}-${project.version}/WEB-INF/classes&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;destFileName&gt;wmq-channel-tab-file.tab&lt;/destFileName&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n    \t\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- other configurations here --&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"Adding a non-jar dependency to my maven project","body":"<p>This solution works for me.  I am using a WMQ table channel file from a Nexus repository.</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;wmq&lt;/groupId&gt;\n            &lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;type&gt;tab&lt;/type&gt;\n        &lt;/dependency&gt;\n\n... \n\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;wmq&lt;/groupId&gt;\n                                    &lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\n                                    &lt;version&gt;1.0.0&lt;/version&gt;\n                                    &lt;type&gt;tab&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/${project.artifactId}-${project.version}/WEB-INF/classes&lt;/outputDirectory&gt;\n                                    &lt;destFileName&gt;wmq-channel-tab-file.tab&lt;/destFileName&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;!-- other configurations here --&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2846493,"reputation":71,"user_id":2444735,"display_name":"aeneid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2615,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1664914931,"creation_date":1370161134,"question_id":16881015,"body_markdown":"I&#39;d like to add an XML file to my project&#39;s dependencies. I&#39;ve been pretty successful in doing this but unfortunately I&#39;ve found that my XML file is not added to the classpath (which kind of makes sense as it is not a jar file).\r\n\r\nThe reason I want to have the XML file in my classpath is so that I could load it as a resource.\r\n\r\nWhat is the recommended way of doing this, if it is at all recommended?\r\n\r\nThanks","title":"Adding a non-jar dependency to my maven project","body":"<p>I'd like to add an XML file to my project's dependencies. I've been pretty successful in doing this but unfortunately I've found that my XML file is not added to the classpath (which kind of makes sense as it is not a jar file).</p>\n\n<p>The reason I want to have the XML file in my classpath is so that I could load it as a resource.</p>\n\n<p>What is the recommended way of doing this, if it is at all recommended?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1664914829,"post_id":73952792,"comment_id":130577926,"body_markdown":"This seems like a problem with your model. If &quot;title&quot; really has to be unique, mangling it is probably the wrong approach; perhaps there&#39;s a type missing from your model that relates to (references) the quote. More likely, the title is just some information in a record that doesn&#39;t need to be unique.","body":"This seems like a problem with your model. If &quot;title&quot; really has to be unique, mangling it is probably the wrong approach; perhaps there&#39;s a type missing from your model that relates to (references) the quote. More likely, the title is just some information in a record that doesn&#39;t need to be unique."}],"answers":[{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664914382,"creation_date":1664912035,"answer_id":73952829,"question_id":73952792,"body_markdown":"You can use `findByTitleLike` instead of `findByTitle` for your task.It will find titles  match with the given regex.","title":"Increase counter if a value exists","body":"<p>You can use <code>findByTitleLike</code> instead of <code>findByTitle</code> for your task.It will find titles  match with the given regex.</p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664914827,"creation_date":1664914827,"answer_id":73953263,"question_id":73952792,"body_markdown":"One way to solve this would be to add a `counter` column to your table and whenever you need to show your title, concatenate the title with this counter.\r\n\r\ne.g.\r\n\r\n```java\r\nint id = newQuoteRepository.findByTitle(data.getTitle()).size();\r\n\r\nif (id &gt; 0) {\r\n    data.setCounter(data.getCounter() + 1);\r\n    // persist it\r\n}\r\n\r\n// Show title:\r\nSystem.out.println(data.getTitle() + &quot; &quot; + data.getCounter());\r\n```\r\n\r\nThere are several advantages to this approach. \r\n\r\n - You work with numbers directly\r\n - No need to do some `String` magic to achieve what you want\r\n - Cleaner\r\n","title":"Increase counter if a value exists","body":"<p>One way to solve this would be to add a <code>counter</code> column to your table and whenever you need to show your title, concatenate the title with this counter.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int id = newQuoteRepository.findByTitle(data.getTitle()).size();\n\nif (id &gt; 0) {\n    data.setCounter(data.getCounter() + 1);\n    // persist it\n}\n\n// Show title:\nSystem.out.println(data.getTitle() + &quot; &quot; + data.getCounter());\n</code></pre>\n<p>There are several advantages to this approach.</p>\n<ul>\n<li>You work with numbers directly</li>\n<li>No need to do some <code>String</code> magic to achieve what you want</li>\n<li>Cleaner</li>\n</ul>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953263,"answer_count":2,"score":0,"last_activity_date":1664914827,"creation_date":1664911767,"question_id":73952792,"body_markdown":"In my database, I am searching for a specific value. If that value does not exist, it should simply be added, but if it exists, a counter should be added next to it. \r\n\r\nSo for instance, if the value *Hello World* already exists, the added value should be *Hello World 1*, the next one should be *Hello World 2* and so on...\r\n\r\n\r\nThis is what I have tried:\r\n```java\r\nint id = newQuoteRepository.findByTitle(data.getTitle()).size();\r\nSystem.out.println(id);\r\nif (id &gt; 0) {\r\n    data.setTitle(data.getTitle() + id);\r\n}\r\n```\r\n\r\nWell, basically it works but it is not really what I want. So if a value is `bar`, it will add `bar1`. And next time, it will add `bar1` again, because it is searching for `bar` and so the added value, which was `bar1`, will be ignored.\r\n\r\nSo this is what I have: bar, bar1, bar1, bar1 ...\r\n\r\nAnd this is how it should be: bar, bar1, bar2, bar3 ...\r\n\r\nWhat could be a solution for this issue?","title":"Increase counter if a value exists","body":"<p>In my database, I am searching for a specific value. If that value does not exist, it should simply be added, but if it exists, a counter should be added next to it.</p>\n<p>So for instance, if the value <em>Hello World</em> already exists, the added value should be <em>Hello World 1</em>, the next one should be <em>Hello World 2</em> and so on...</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int id = newQuoteRepository.findByTitle(data.getTitle()).size();\nSystem.out.println(id);\nif (id &gt; 0) {\n    data.setTitle(data.getTitle() + id);\n}\n</code></pre>\n<p>Well, basically it works but it is not really what I want. So if a value is <code>bar</code>, it will add <code>bar1</code>. And next time, it will add <code>bar1</code> again, because it is searching for <code>bar</code> and so the added value, which was <code>bar1</code>, will be ignored.</p>\n<p>So this is what I have: bar, bar1, bar1, bar1 ...</p>\n<p>And this is how it should be: bar, bar1, bar2, bar3 ...</p>\n<p>What could be a solution for this issue?</p>\n"},{"tags":["java","scala","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":4881746,"reputation":17,"user_id":16111063,"display_name":"Micah Rothenbuhler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664908157,"creation_date":1664908157,"answer_id":73952154,"question_id":73951858,"body_markdown":"No: if Project-B imports Project-A, and Project-A has an internal dependency on Library-X, you usually don&#39;t need to do anything and it will resolve automatically. \r\n\r\nSome exceptions may include conflicts and libraries that exist in a private nexus. For the former, you need to resolve the conflict in the pom.xml. For the latter, you need to make sure your repo is accessible from wherever you&#39;re compiling.","title":"How does the library dependency is inherited/works in maven?","body":"<p>No: if Project-B imports Project-A, and Project-A has an internal dependency on Library-X, you usually don't need to do anything and it will resolve automatically.</p>\n<p>Some exceptions may include conflicts and libraries that exist in a private nexus. For the former, you need to resolve the conflict in the pom.xml. For the latter, you need to make sure your repo is accessible from wherever you're compiling.</p>\n"},{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664909165,"creation_date":1664909165,"answer_id":73952326,"question_id":73951858,"body_markdown":"No.\r\n\r\nDependencies are transitive &quot;by default&quot; unless the opposite is specificied (either with _exclusions_ or _scopes_ (a test scoped dependency won&#39;t be transitively propagated for instance)).\r\n\r\nEDIT: you can use `mvn dependency:tree` to get a better understanding of your dependencies.\r\n\r\nOne possibility is that library X is pulled in different incompatible versions.","title":"How does the library dependency is inherited/works in maven?","body":"<p>No.</p>\n<p>Dependencies are transitive &quot;by default&quot; unless the opposite is specificied (either with <em>exclusions</em> or <em>scopes</em> (a test scoped dependency won't be transitively propagated for instance)).</p>\n<p>EDIT: you can use <code>mvn dependency:tree</code> to get a better understanding of your dependencies.</p>\n<p>One possibility is that library X is pulled in different incompatible versions.</p>\n"},{"tags":[],"owner":{"account_id":6164391,"reputation":719,"user_id":4804881,"accept_rate":67,"display_name":"coders"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914719,"creation_date":1664914719,"answer_id":73953249,"question_id":73951858,"body_markdown":"Thank you for the having look at my post. By adding the Library-X under &lt;artifactSet&gt; tag in the Project-B pom.xml, worked.Something shown below\r\n\r\n    &lt;artifactSet&gt;                           \r\n    &lt;include&gt;x.y.stone:central-dl-spark-common-integration-logging&lt;/include&gt;\r\n    &lt;/artifactSet&gt;","title":"How does the library dependency is inherited/works in maven?","body":"<p>Thank you for the having look at my post. By adding the Library-X under  tag in the Project-B pom.xml, worked.Something shown below</p>\n<pre><code>&lt;artifactSet&gt;                           \n&lt;include&gt;x.y.stone:central-dl-spark-common-integration-logging&lt;/include&gt;\n&lt;/artifactSet&gt;\n</code></pre>\n"}],"owner":{"account_id":6164391,"reputation":719,"user_id":4804881,"accept_rate":67,"display_name":"coders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664914719,"creation_date":1664906327,"question_id":73951858,"body_markdown":"I have gradle scala project(Lets say **&quot;A&quot;**) which uses the library(Lets say **&quot;X&quot;**). And i have used this **Library-&quot;X&quot;** in the build.gradle of **Project-A** as shown below and i&#39;m using the **Library-X** classes to perform some operations.\r\n\r\nbuild.gradle of **Project-&quot;A&quot;**\r\n\r\n    implementation &quot;com.x.y.z.stone:central-dl-spark-common-integration-logging:0.4.0-SNAPSHOT&quot;\r\n\r\nNow **Project-&quot;A&quot;** is itself a library which is used in the **Project-&quot;B&quot;** and this **Project-B** is maven build. Now when i call the **Project-A** function which is acting as library in-turn uses **Library-X** function. But **Project-B** is complaining that class not found error as shown below. This is the **Library-X** class\r\n\r\n    java.lang.NoClassDefFoundError: com/x/y/z/integrationlogging/IntegrationLogging$\r\n\r\nMy question is do we even need to declare the **Library-X** in the pom.xml of **Project-B** as well?\r\n\r\n","title":"How does the library dependency is inherited/works in maven?","body":"<p>I have gradle scala project(Lets say <strong>&quot;A&quot;</strong>) which uses the library(Lets say <strong>&quot;X&quot;</strong>). And i have used this <strong>Library-&quot;X&quot;</strong> in the build.gradle of <strong>Project-A</strong> as shown below and i'm using the <strong>Library-X</strong> classes to perform some operations.</p>\n<p>build.gradle of <strong>Project-&quot;A&quot;</strong></p>\n<pre><code>implementation &quot;com.x.y.z.stone:central-dl-spark-common-integration-logging:0.4.0-SNAPSHOT&quot;\n</code></pre>\n<p>Now <strong>Project-&quot;A&quot;</strong> is itself a library which is used in the <strong>Project-&quot;B&quot;</strong> and this <strong>Project-B</strong> is maven build. Now when i call the <strong>Project-A</strong> function which is acting as library in-turn uses <strong>Library-X</strong> function. But <strong>Project-B</strong> is complaining that class not found error as shown below. This is the <strong>Library-X</strong> class</p>\n<pre><code>java.lang.NoClassDefFoundError: com/x/y/z/integrationlogging/IntegrationLogging$\n</code></pre>\n<p>My question is do we even need to declare the <strong>Library-X</strong> in the pom.xml of <strong>Project-B</strong> as well?</p>\n"},{"tags":["java","spring","eclipse","web","eclipse-jee"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1664906737,"post_id":73951783,"comment_id":130575693,"body_markdown":"Welcome to Stack Overflow! Please provide specific information about that attempt. To learn more about this community and how we can help you, please read [ask] and its linked resources. Could you provide a minimal reproducible example?","body":"Welcome to Stack Overflow! Please provide specific information about that attempt. To learn more about this community and how we can help you, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources. Could you provide a minimal reproducible example?"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664908371,"creation_date":1664908371,"answer_id":73952184,"question_id":73951783,"body_markdown":"The Eclipse for some reason replaced WebContent with webapp folder.\r\nIt is basically a replacement for it, but if you really want WebContent you can download 2017 version.\r\nHere is the one that I have\r\nEclipse Java EE IDE for Web Developers.\r\n\r\nVersion: Oxygen.1a Release (4.7.1a)\r\nBuild id: 20171005-1200\r\n\r\nhttps://www.eclipse.org/downloads/packages/release/oxygen/1a\r\n\r\nhttps://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1a/eclipse-jee-oxygen-1a-win32-x86_64.zip\r\n\r\nAfter this version WebContent is replaced with webapp\r\n\r\nHere is also a picture of the project structure if you have an eclipse that creates webapp or WebContent, as you can see it is basically a replacement to make it look more like maven structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q01ua.png","title":"WebContent folder does not exist, webapp instead","body":"<p>The Eclipse for some reason replaced WebContent with webapp folder.\nIt is basically a replacement for it, but if you really want WebContent you can download 2017 version.\nHere is the one that I have\nEclipse Java EE IDE for Web Developers.</p>\n<p>Version: Oxygen.1a Release (4.7.1a)\nBuild id: 20171005-1200</p>\n<p><a href=\"https://www.eclipse.org/downloads/packages/release/oxygen/1a\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/packages/release/oxygen/1a</a></p>\n<p><a href=\"https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1a/eclipse-jee-oxygen-1a-win32-x86_64.zip\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1a/eclipse-jee-oxygen-1a-win32-x86_64.zip</a></p>\n<p>After this version WebContent is replaced with webapp</p>\n<p>Here is also a picture of the project structure if you have an eclipse that creates webapp or WebContent, as you can see it is basically a replacement to make it look more like maven structure.</p>\n<p><a href=\"https://i.stack.imgur.com/q01ua.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q01ua.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914389,"creation_date":1664914389,"answer_id":73953187,"question_id":73951783,"body_markdown":"&quot;WebContent&quot; was replaced to form a layout more easily transitioned to building a `.war` file with headless tools like Gradle and Maven. No one should be deploying to a production environment from their IDE. &quot;WebContent&quot; was also fairly unique to Eclipse&#39;s Web Tools. There&#39;s nothing special about it.\r\n\r\nYou don&#39;t need an older version, only to enter a different value when the New Dynamic Web Project wizard asks you what you want to use as your Content Directory on the third page of the wizard (**if** you don&#39;t want to use the new default):\r\n\r\n[![Page 3 in the New Dynamic Web Project wizard][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/QjvwX.png","title":"WebContent folder does not exist, webapp instead","body":"<p>&quot;WebContent&quot; was replaced to form a layout more easily transitioned to building a <code>.war</code> file with headless tools like Gradle and Maven. No one should be deploying to a production environment from their IDE. &quot;WebContent&quot; was also fairly unique to Eclipse's Web Tools. There's nothing special about it.</p>\n<p>You don't need an older version, only to enter a different value when the New Dynamic Web Project wizard asks you what you want to use as your Content Directory on the third page of the wizard (<strong>if</strong> you don't want to use the new default):</p>\n<p><a href=\"https://i.stack.imgur.com/QjvwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QjvwX.png\" alt=\"Page 3 in the New Dynamic Web Project wizard\" /></a></p>\n"}],"owner":{"account_id":26527963,"reputation":3,"user_id":20160638,"display_name":"marou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73952184,"answer_count":2,"score":-1,"last_activity_date":1664914389,"creation_date":1664905865,"question_id":73951783,"body_markdown":"I&#39;m taking the following course right now: &quot;Develop websites with Java EE&quot;.\r\nI encounter a problem when creating the Dynamic Web Project because instead of having a WebContent folder like on all the tutorials I&#39;ve seen, I get a src/main folder... \r\nWhat should I do to be able to have a WebContent folder","title":"WebContent folder does not exist, webapp instead","body":"<p>I'm taking the following course right now: &quot;Develop websites with Java EE&quot;.\nI encounter a problem when creating the Dynamic Web Project because instead of having a WebContent folder like on all the tutorials I've seen, I get a src/main folder...\nWhat should I do to be able to have a WebContent folder</p>\n"},{"tags":["java","redisson"],"answers":[{"tags":[],"owner":{"account_id":3113302,"reputation":11,"user_id":2634632,"display_name":"Venkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914366,"creation_date":1664914366,"answer_id":73953181,"question_id":65090015,"body_markdown":"        Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\r\n\r\n        var rBarch = redissonClient.createBatch();\r\n        Map &lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (String key : keys) {\r\n            rBarch.getList(key).sizeAsync().whenComplete((integer, throwable) -&gt; map.get(key, integer));\r\n        }\r\n        rBarch.execute();\r\n        return map;","title":"Redisson Multiget - Getting multiple key values in single call form Redisson","body":"<pre><code>    Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\n\n    var rBarch = redissonClient.createBatch();\n    Map &lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (String key : keys) {\n        rBarch.getList(key).sizeAsync().whenComplete((integer, throwable) -&gt; map.get(key, integer));\n    }\n    rBarch.execute();\n    return map;\n</code></pre>\n"}],"owner":{"account_id":6512341,"reputation":81,"user_id":5039167,"accept_rate":0,"display_name":"Satish Bhuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664914366,"creation_date":1606823650,"question_id":65090015,"body_markdown":"I have a redis cache where each key is of type list and from redisson i want to make a map of each list key and their size... \r\n\r\nBelow code is working fine but I want to make single call to redis cache.\r\n\r\n    Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\r\n\r\n\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (String key : keys) {\r\n            map.put(key, redissonClient.getList(key).size());\r\n        }\r\n        return map;\r\n    }\r\n\r\nThanks in advance","title":"Redisson Multiget - Getting multiple key values in single call form Redisson","body":"<p>I have a redis cache where each key is of type list and from redisson i want to make a map of each list key and their size...</p>\n<p>Below code is working fine but I want to make single call to redis cache.</p>\n<pre><code>Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\n\n\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (String key : keys) {\n        map.put(key, redissonClient.getList(key).size());\n    }\n    return map;\n}\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1664908576,"post_id":73952117,"comment_id":130576164,"body_markdown":"retry limit is set for kafka producer, it cannot infinitely retry sending message by default.\n\nhttps://kafka.apache.org/documentation/#producerconfigs_retries\nhttps://kafka.apache.org/documentation/#producerconfigs_delivery.timeout.ms","body":"retry limit is set for kafka producer, it cannot infinitely retry sending message by default.  <a href=\"https://kafka.apache.org/documentation/#producerconfigs_retries\" rel=\"nofollow noreferrer\">kafka.apache.org/documentation/#producerconfigs_retries</a> <a href=\"https://kafka.apache.org/documentation/#producerconfigs_delivery.timeout.ms\" rel=\"nofollow noreferrer\">kafka.apache.org/documentation/&hellip;</a>"},{"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"score":0,"creation_date":1664913856,"post_id":73952117,"comment_id":130577654,"body_markdown":"is there a workaround to make it reconnect after disconnecting from broker?","body":"is there a workaround to make it reconnect after disconnecting from broker?"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914054,"creation_date":1664914054,"answer_id":73953144,"question_id":73952117,"body_markdown":"You can wrap the `KafkaTemplate` call in a `RetryTemplate` or `@Retryable` method - see https://github.com/spring-projects/spring-retry - the `RetryTemplate` is already on the class path as a transitive dependency of spring-kafka.","title":"Kafka template connection with broker","body":"<p>You can wrap the <code>KafkaTemplate</code> call in a <code>RetryTemplate</code> or <code>@Retryable</code> method - see <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-retry</a> - the <code>RetryTemplate</code> is already on the class path as a transitive dependency of spring-kafka.</p>\n"}],"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664914054,"creation_date":1664907915,"question_id":73952117,"body_markdown":"I&#39;ve got a @KafkaListener method in my service which processes message and send it to another topic using KafkaTemplate and from time to time it completely stops working due to some reasons. \r\n\r\n```\r\n2022-10-04 16:53:18.218 ERROR 1 --- [pool-1-thread-2] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key=&#39;null&#39; and payload=&#39;{&quot;type&quot;:&quot;INFORMATION&quot;,&quot;messageId&quot;:&quot;f39fabfd-e560-499b-9850-440ad811657b&quot;,&quot;phoneNumber&quot;:&quot;+100000000...&#39; to topic ss.fb.processing-notifications.send:\r\n\r\norg.apache.kafka.common.errors.TimeoutException: Topic ss.fb.processing-notifications.send not present in metadata after 60000 ms.\r\n\r\n2022-10-04 16:53:33.013  INFO 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Disconnecting from node -2 due to socket connection setup timeout. The timeout value is 29794 ms.\r\n2022-10-04 16:53:33.014  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker prd-mqueue-srv2.obi.ru:9092 (id: -2 rack: null) disconnected\r\n2022-10-04 16:53:41.005  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Disconnecting from node -3 due to socket connection setup timeout. The timeout value is 27831 ms.\r\n2022-10-04 16:53:41.005  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Bootstrap broker prd-mqueue-srv3.obi.ru:9092 (id: -3 rack: null) disconnected\r\n```\r\nThere seems to be some network issues however after restarting the service everything works fine again. Anyway I wonder why eventually broker turns out to be disconnected? Is&#39;t producer supposed to infinitely try sending message to broker until it succedes? ","title":"Kafka template connection with broker","body":"<p>I've got a @KafkaListener method in my service which processes message and send it to another topic using KafkaTemplate and from time to time it completely stops working due to some reasons.</p>\n<pre><code>2022-10-04 16:53:18.218 ERROR 1 --- [pool-1-thread-2] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key='null' and payload='{&quot;type&quot;:&quot;INFORMATION&quot;,&quot;messageId&quot;:&quot;f39fabfd-e560-499b-9850-440ad811657b&quot;,&quot;phoneNumber&quot;:&quot;+100000000...' to topic ss.fb.processing-notifications.send:\n\norg.apache.kafka.common.errors.TimeoutException: Topic ss.fb.processing-notifications.send not present in metadata after 60000 ms.\n\n2022-10-04 16:53:33.013  INFO 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Disconnecting from node -2 due to socket connection setup timeout. The timeout value is 29794 ms.\n2022-10-04 16:53:33.014  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker prd-mqueue-srv2.obi.ru:9092 (id: -2 rack: null) disconnected\n2022-10-04 16:53:41.005  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Disconnecting from node -3 due to socket connection setup timeout. The timeout value is 27831 ms.\n2022-10-04 16:53:41.005  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Bootstrap broker prd-mqueue-srv3.obi.ru:9092 (id: -3 rack: null) disconnected\n</code></pre>\n<p>There seems to be some network issues however after restarting the service everything works fine again. Anyway I wonder why eventually broker turns out to be disconnected? Is't producer supposed to infinitely try sending message to broker until it succedes?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664913990,"creation_date":1664913990,"question_id":73953137,"body_markdown":"I tried `MatchingStrategy` as `STRICT` but that won&#39;t update anything since I do not have same number properties in both source and destination.\r\n\r\n`STANDARD` is not working because there&#39;s this one property called `id` in source and `personId` in destination. so `id` is being mapped to `personId` which I do not want. If I skip this property then I am getting an error that `A mapping is missing a required destination member`.\r\n\r\n","title":"How do I configure ModelMapper to map only the exact matching fields in both source and destination?","body":"<p>I tried <code>MatchingStrategy</code> as <code>STRICT</code> but that won't update anything since I do not have same number properties in both source and destination.</p>\n<p><code>STANDARD</code> is not working because there's this one property called <code>id</code> in source and <code>personId</code> in destination. so <code>id</code> is being mapped to <code>personId</code> which I do not want. If I skip this property then I am getting an error that <code>A mapping is missing a required destination member</code>.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664913887,"creation_date":1664908747,"answer_id":73952255,"question_id":73952021,"body_markdown":"Leaving this here for reference for others, but the Question is NOT solved.\r\n\r\nIn AdminService your method:\r\n\r\n    public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\r\n                throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\r\n            UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\r\n            ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\r\n            if(schoolClass.getStudents().contains(user)) {\r\n                throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\r\n            }\r\n            schoolClass.getStudents().add(user);\r\n            classRepo.save(schoolClass);\r\n            userRepo.save(user);\r\n            return schoolClass;\r\n        }\r\n\r\nDoes not indicate that it is a Transactional method: https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\r\n\r\nWhile you call save, it is not performing a commit. Similarly to how in some SQL languages you can perform inserts, updates, deletes, and if you do not commit the result will not be present on your additional queries.\r\n\r\nSo change your ClassEntity to have @Transactional on top of it, which will cause a commit to occur at the end of the method.\r\n\r\nAdditionally ensure you enable TransactionManagement somewhere in your configuration\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class PersistenceJPAConfig {\r\n    \r\n    }","title":"Spring JPA doesn&#39;t update relation","body":"<p>Leaving this here for reference for others, but the Question is NOT solved.</p>\n<p>In AdminService your method:</p>\n<pre><code>public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\n            throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\n        UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\n        ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\n        if(schoolClass.getStudents().contains(user)) {\n            throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\n        }\n        schoolClass.getStudents().add(user);\n        classRepo.save(schoolClass);\n        userRepo.save(user);\n        return schoolClass;\n    }\n</code></pre>\n<p>Does not indicate that it is a Transactional method: <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/transaction-configuration-with-jpa-and-spring</a></p>\n<p>While you call save, it is not performing a commit. Similarly to how in some SQL languages you can perform inserts, updates, deletes, and if you do not commit the result will not be present on your additional queries.</p>\n<p>So change your ClassEntity to have @Transactional on top of it, which will cause a commit to occur at the end of the method.</p>\n<p>Additionally ensure you enable TransactionManagement somewhere in your configuration</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class PersistenceJPAConfig {\n\n}\n</code></pre>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664913887,"creation_date":1664907265,"question_id":73952021,"body_markdown":"I develop a &quot;school electronic diary&quot; app and now I&#39;m trying to create a method that will add students to class. But here I faced with the problem. When I try to add the entity to list of entity - nothing is happening. \r\n\r\nSo here is controller which receives my requests:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/admin/class&quot;)\r\npublic class AdminClassController {\r\n    @Autowired\r\n    private AdminService adminService;\r\n\r\n    @Autowired\r\n    private ClassService classService;\r\n\r\n    @PostMapping(&quot;/user&quot;)\r\n    public ResponseEntity&lt;Object&gt; addUserToClass(@RequestBody AdminAddUserToClassModel userAndClassData) {\r\n        try {\r\n            return ResponseEntity.ok(adminService.addUserToClass(userAndClassData));\r\n        } catch (UserNotFoundException | ClassNotFoundException e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\r\n        } catch (UserAlreadyExistsException e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.FORBIDDEN);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the **AdminService**\r\n```java\r\n@Service\r\npublic class AdminService {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private UserRepository userRepo;\r\n\r\n    @Autowired\r\n    private SchoolRepository schoolRepo;\r\n\r\n    @Autowired\r\n    private SchoolService schoolService;\r\n\r\n    @Autowired\r\n    private ClassService classService;\r\n\r\n    @Autowired\r\n    private ClassRepository classRepo;\r\n\r\n    public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\r\n            throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\r\n        UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\r\n        ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\r\n        if(schoolClass.getStudents().contains(user)) {\r\n            throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\r\n        }\r\n        schoolClass.getStudents().add(user);\r\n        classRepo.save(schoolClass);\r\n        userRepo.save(user);\r\n        return schoolClass;\r\n    }\r\n}\r\n```\r\nAnd in the ```addUserToClass``` method, when I try to add user to **ClassEntity** and try to save it, nothing is happening!\r\n\r\nHere&#39;s the ```getUserEntity``` method of **UserService**\r\n```java\r\npublic UserEntity getUserEntity(long userId) throws UserNotFoundException {\r\n        return userRepo.findById(userId)\r\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;user with id &quot; + userId + &quot; not found&quot;));\r\n    }\r\n```\r\n\r\nAnd ```getClassEntity``` of **ClassService**\r\n```java\r\npublic ClassEntity getClassEntity(long classId) throws ClassNotFoundException {\r\n        return classRepo.findById(classId)\r\n                .orElseThrow(() -&gt; new ClassNotFoundException(&quot;class with such id doesn&#39;t exists&quot;));\r\n    }\r\n```\r\n\r\nAnd,of cource, entities:\r\n\r\n**UserEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;, schema = &quot;working_schema&quot;)\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter\r\n    private String login;\r\n\r\n    @Getter @Setter\r\n    private String password;\r\n\r\n    @Getter @Setter\r\n    private String phoneNumber;\r\n\r\n    @Getter @Setter\r\n    private String email;\r\n\r\n    @Getter @Setter\r\n    private String name;\r\n\r\n    @Getter @Setter\r\n    private String surname;\r\n\r\n    @Getter @Setter\r\n    private String patronymic;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;roleid&quot;, nullable = false)\r\n    @Getter @Setter\r\n    private RoleEntity role;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;classid&quot;)\r\n    @Getter @Setter\r\n    private ClassEntity userClass;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;schoolid&quot;)\r\n    @Getter @Setter\r\n    private SchoolEntity school;\r\n\r\n\r\n    public UserEntity() {\r\n    }\r\n}\r\n```\r\n\r\n**ClassEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;classes&quot;, schema = &quot;working_schema&quot;)\r\npublic class ClassEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter\r\n    private int number;\r\n\r\n    @Getter @Setter\r\n    private char letter;\r\n\r\n    @OneToMany(mappedBy = &quot;userClass&quot;, cascade = CascadeType.ALL)\r\n    @Getter @Setter\r\n    @JsonIgnore\r\n    private List&lt;UserEntity&gt; students;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;schoolid&quot;)\r\n    @Getter @Setter\r\n    private SchoolEntity school;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;timetableid&quot;)\r\n    @JsonIgnore @Getter\r\n    @Setter\r\n    private TimetableEntity timetable;\r\n\r\n    public ClassEntity() {\r\n    }\r\n}\r\n```\r\n\r\n**SchoolEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;schools&quot;, schema = &quot;working_schema&quot;)\r\npublic class SchoolEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter\r\n    private long number;\r\n\r\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\r\n    @Getter @Setter\r\n    @JsonIgnore\r\n    private List&lt;UserEntity&gt; students;\r\n\r\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\r\n    @Getter @Setter\r\n    @JsonIgnore\r\n    private List&lt;ClassEntity&gt; classes;\r\n}\r\n```\r\n\r\nSo if you know what can be a problem, please tell me, I&#39;d really appreciate it!\r\n\r\n**UPDATE**\r\n\r\nHere&#39;s SQL queries:\r\n```sql\r\nHibernate: \r\n    select\r\n        classentit0_.id as id1_0_0_,\r\n        classentit0_.letter as letter2_0_0_,\r\n        classentit0_.number as number3_0_0_,\r\n        classentit0_.schoolid as schoolid4_0_0_,\r\n        classentit0_.timetableid as timetabl5_0_0_,\r\n        schoolenti1_.id as id1_2_1_,\r\n        schoolenti1_.number as number2_2_1_,\r\n        timetablee2_.id as id1_4_2_ \r\n    from\r\n        working_schema.classes classentit0_ \r\n    left outer join\r\n        working_schema.schools schoolenti1_ \r\n            on classentit0_.schoolid=schoolenti1_.id \r\n    left outer join\r\n        working_schema.timetables timetablee2_ \r\n            on classentit0_.timetableid=timetablee2_.id \r\n    where\r\n        classentit0_.id=?\r\n```","title":"Spring JPA doesn&#39;t update relation","body":"<p>I develop a &quot;school electronic diary&quot; app and now I'm trying to create a method that will add students to class. But here I faced with the problem. When I try to add the entity to list of entity - nothing is happening.</p>\n<p>So here is controller which receives my requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/admin/class&quot;)\npublic class AdminClassController {\n    @Autowired\n    private AdminService adminService;\n\n    @Autowired\n    private ClassService classService;\n\n    @PostMapping(&quot;/user&quot;)\n    public ResponseEntity&lt;Object&gt; addUserToClass(@RequestBody AdminAddUserToClassModel userAndClassData) {\n        try {\n            return ResponseEntity.ok(adminService.addUserToClass(userAndClassData));\n        } catch (UserNotFoundException | ClassNotFoundException e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\n        } catch (UserAlreadyExistsException e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.FORBIDDEN);\n        }\n    }\n}\n</code></pre>\n<p>Here's the <strong>AdminService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AdminService {\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private UserRepository userRepo;\n\n    @Autowired\n    private SchoolRepository schoolRepo;\n\n    @Autowired\n    private SchoolService schoolService;\n\n    @Autowired\n    private ClassService classService;\n\n    @Autowired\n    private ClassRepository classRepo;\n\n    public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\n            throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\n        UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\n        ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\n        if(schoolClass.getStudents().contains(user)) {\n            throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\n        }\n        schoolClass.getStudents().add(user);\n        classRepo.save(schoolClass);\n        userRepo.save(user);\n        return schoolClass;\n    }\n}\n</code></pre>\n<p>And in the <code>addUserToClass</code> method, when I try to add user to <strong>ClassEntity</strong> and try to save it, nothing is happening!</p>\n<p>Here's the <code>getUserEntity</code> method of <strong>UserService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public UserEntity getUserEntity(long userId) throws UserNotFoundException {\n        return userRepo.findById(userId)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;user with id &quot; + userId + &quot; not found&quot;));\n    }\n</code></pre>\n<p>And <code>getClassEntity</code> of <strong>ClassService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public ClassEntity getClassEntity(long classId) throws ClassNotFoundException {\n        return classRepo.findById(classId)\n                .orElseThrow(() -&gt; new ClassNotFoundException(&quot;class with such id doesn't exists&quot;));\n    }\n</code></pre>\n<p>And,of cource, entities:</p>\n<p><strong>UserEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;, schema = &quot;working_schema&quot;)\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter\n    private String login;\n\n    @Getter @Setter\n    private String password;\n\n    @Getter @Setter\n    private String phoneNumber;\n\n    @Getter @Setter\n    private String email;\n\n    @Getter @Setter\n    private String name;\n\n    @Getter @Setter\n    private String surname;\n\n    @Getter @Setter\n    private String patronymic;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;roleid&quot;, nullable = false)\n    @Getter @Setter\n    private RoleEntity role;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;classid&quot;)\n    @Getter @Setter\n    private ClassEntity userClass;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;schoolid&quot;)\n    @Getter @Setter\n    private SchoolEntity school;\n\n\n    public UserEntity() {\n    }\n}\n</code></pre>\n<p><strong>ClassEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;classes&quot;, schema = &quot;working_schema&quot;)\npublic class ClassEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter\n    private int number;\n\n    @Getter @Setter\n    private char letter;\n\n    @OneToMany(mappedBy = &quot;userClass&quot;, cascade = CascadeType.ALL)\n    @Getter @Setter\n    @JsonIgnore\n    private List&lt;UserEntity&gt; students;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;schoolid&quot;)\n    @Getter @Setter\n    private SchoolEntity school;\n\n    @OneToOne\n    @JoinColumn(name = &quot;timetableid&quot;)\n    @JsonIgnore @Getter\n    @Setter\n    private TimetableEntity timetable;\n\n    public ClassEntity() {\n    }\n}\n</code></pre>\n<p><strong>SchoolEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;schools&quot;, schema = &quot;working_schema&quot;)\npublic class SchoolEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter\n    private long number;\n\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\n    @Getter @Setter\n    @JsonIgnore\n    private List&lt;UserEntity&gt; students;\n\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\n    @Getter @Setter\n    @JsonIgnore\n    private List&lt;ClassEntity&gt; classes;\n}\n</code></pre>\n<p>So if you know what can be a problem, please tell me, I'd really appreciate it!</p>\n<p><strong>UPDATE</strong></p>\n<p>Here's SQL queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: \n    select\n        classentit0_.id as id1_0_0_,\n        classentit0_.letter as letter2_0_0_,\n        classentit0_.number as number3_0_0_,\n        classentit0_.schoolid as schoolid4_0_0_,\n        classentit0_.timetableid as timetabl5_0_0_,\n        schoolenti1_.id as id1_2_1_,\n        schoolenti1_.number as number2_2_1_,\n        timetablee2_.id as id1_4_2_ \n    from\n        working_schema.classes classentit0_ \n    left outer join\n        working_schema.schools schoolenti1_ \n            on classentit0_.schoolid=schoolenti1_.id \n    left outer join\n        working_schema.timetables timetablee2_ \n            on classentit0_.timetableid=timetablee2_.id \n    where\n        classentit0_.id=?\n</code></pre>\n"},{"tags":["java","eclipse","android-studio","appium","appium-android"],"comments":[{"owner":{"account_id":26405796,"reputation":1,"user_id":20055604,"display_name":"Elvis"},"score":0,"creation_date":1664913993,"post_id":73953109,"comment_id":130577682,"body_markdown":"driver.get(&quot;https://google.com&quot;);\n\t\t //System.out.println(driver.getTitle());\n\t\t \n        Set&lt;String&gt; contexts=driver.getContextHandles();   \n          for(String contextName :contexts)\n        {\n\t\t System.out.println(contextName);\n       }\n        driver.context(&quot;WEBVIEW_chrome&quot;);\n   \n\t\t Thread.sleep(6000);\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;What is Appium&quot;);\n         driver.findElement(By.name(&quot;q&quot;)).sendKeys(Keys.ENTER);","body":"driver.get(&quot;<a href=\"https://google.com&quot;\" rel=\"nofollow noreferrer\">google.com&quot;</a>); \t\t //System.out.println(driver.getTitle()); \t\t          Set&lt;String&gt; contexts=driver.getContextHandles();              for(String contextName :contexts)         { \t\t System.out.println(contextName);        }         driver.context(&quot;WEBVIEW_chrome&quot;);     \t\t Thread.sleep(6000);         driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;What is Appium&quot;);          driver.findElement(By.name(&quot;q&quot;)).sendKeys(Keys.ENTER);"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664950220,"post_id":73953109,"comment_id":130583221,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26405796,"reputation":1,"user_id":20055604,"display_name":"Elvis"},"score":0,"creation_date":1665052588,"post_id":73953109,"comment_id":130611180,"body_markdown":"import java.time.Duration;\nimport java.util.Set;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.testng.annotations.Test;\npublic class MobileBrowserTest extends BrowserBaseTest2 {\t\n@Test\n\tpublic void MobileBrowserDemo() \n\t{\ndriver.get(&quot;http://google.com&quot;); System.out.println(driver.getTitle());\nWebDriverWait w= new WebDriverWait(driver, Duration.ofSeconds(20));       w.until(ExpectedConditions.visibilityOfElementLocated(By.name(&quot;q&quot;)));\n driver.findElement(name(&quot;q&quot;)).sendKeys(&quot;What is Appium?&quot;);driver.findElement(name(&quot;q&quot;)).sendKeys(Keys.ENTER);\t\n}\n}","body":"import java.time.Duration; import java.util.Set; import org.openqa.selenium.By; import org.openqa.selenium.Keys; import org.testng.annotations.Test; public class MobileBrowserTest extends BrowserBaseTest2 {\t @Test \tpublic void MobileBrowserDemo()  \t{ driver.get(&quot;<a href=\"http://google.com&quot;\" rel=\"nofollow noreferrer\">google.com&quot;</a>); System.out.println(driver.getTitle()); WebDriverWait w= new WebDriverWait(driver, Duration.ofSeconds(20));       w.until(ExpectedConditions.visibilityOfElementLocated(By.nam&zwnj;&#8203;e(&quot;q&quot;)));  driver.findElement(name(&quot;q&quot;)).sendKeys(&quot;What is Appium?&quot;);driver.findElement(name(&quot;q&quot;)).sendKeys(Keys.ENTER)&zwnj;&#8203;;\t } }"}],"owner":{"account_id":26405796,"reputation":1,"user_id":20055604,"display_name":"Elvis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664913823,"creation_date":1664913823,"question_id":73953109,"body_markdown":"I am new trying to transition to Mobile Automation testing using appium, i get an error when i try to sendKeys to the search field in chrome browser on Android studio (virtual device) stating: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;q&#39;]&quot;}\r\n\r\n\r\n","title":"Appium: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;q&#39;]&quot;}","body":"<p>I am new trying to transition to Mobile Automation testing using appium, i get an error when i try to sendKeys to the search field in chrome browser on Android studio (virtual device) stating: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='q']&quot;}</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","scrollview"],"comments":[{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1667454912,"post_id":73942338,"comment_id":131171820,"body_markdown":"How did you achieve this?","body":"How did you achieve this?"},{"owner":{"account_id":12244902,"reputation":63,"user_id":8936827,"display_name":"Indirajith"},"score":1,"creation_date":1667785750,"post_id":73942338,"comment_id":131243052,"body_markdown":"Check this out -&gt; https://stackoverflow.com/a/73953044/8936827","body":"Check this out -&gt; <a href=\"https://stackoverflow.com/a/73953044/8936827\">stackoverflow.com/a/73953044/8936827</a>"},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1667790687,"post_id":73942338,"comment_id":131243792,"body_markdown":"Thanks. You must accept the answer which helped you","body":"Thanks. You must accept the answer which helped you"}],"answers":[{"tags":[],"owner":{"account_id":26518299,"reputation":26,"user_id":20152445,"display_name":"Ilya Pechuro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664903273,"creation_date":1664903273,"answer_id":73951349,"question_id":73942338,"body_markdown":"There is no standart view that looks like this one.\r\nBut you can write it by yourself with help of `RecyclerView`, `SnapHelper` and `RecyclerView.ItemDecoration`\r\nSee more:\r\nhttps://developer.android.com/reference/androidx/recyclerview/widget/SnapHelper\r\nhttps://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ItemDecoration\r\n\r\nAlso, take a look at this example, which implements this:\r\nhttps://gist.github.com/Ilyshka991/a2759dd564da41859ad5ebac96f368e5","title":"Scrolling view similar to that of a camera app","body":"<p>There is no standart view that looks like this one.\nBut you can write it by yourself with help of <code>RecyclerView</code>, <code>SnapHelper</code> and <code>RecyclerView.ItemDecoration</code>\nSee more:\n<a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/SnapHelper\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/recyclerview/widget/SnapHelper</a>\n<a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ItemDecoration\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ItemDecoration</a></p>\n<p>Also, take a look at this example, which implements this:\n<a href=\"https://gist.github.com/Ilyshka991/a2759dd564da41859ad5ebac96f368e5\" rel=\"nofollow noreferrer\">https://gist.github.com/Ilyshka991/a2759dd564da41859ad5ebac96f368e5</a></p>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664913353,"creation_date":1664913353,"answer_id":73953044,"question_id":73942338,"body_markdown":"This is pretty simple to do - the tricky part is the extra space at the start of the list. We can do that by adding a dummy item to the list with a fixed width.\r\n\r\nFirst get a basic item layout:\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/label&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:minWidth=&quot;100sp&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Headline5&quot;\r\n        android:gravity=&quot;center&quot;\r\n        tools:text=&quot;1/800&quot;\r\n        /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n````\r\n\r\nThe important thing here is the `minWidth` (in sp) which gives each item a consistent size. You could make it a fixed size too, if you want - this way just allows for longer labels. Really that value should be a *dimension resource*, e.g. `@dimen/stops_item_width` but we&#39;ll get to that later\r\n\r\n----\r\n\r\nNow you need an adapter:\r\n````\r\nclass StopsAdapter(private val items: List&lt;String&gt;) : RecyclerView.Adapter&lt;StopsViewHolder&gt;() {\r\n\r\n    companion object {\r\n        const val PADDING = 0\r\n        const val ITEM = 1\r\n    }\r\n\r\n    // treat the first item in the list as the header\r\n    override fun getItemViewType(position: Int) = if (position == 0) PADDING else ITEM\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): StopsViewHolder {\r\n        val inflater = LayoutInflater.from(parent.context)\r\n        val binding = StopsItemBinding.inflate(inflater)\r\n        return if (viewType == PADDING) StopsViewHolder.Padding(binding)\r\n        else StopsViewHolder.Item(binding)\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: StopsViewHolder, position: Int) {\r\n        // need to offset the lookup, since item 0 in the list is displayed at position 1\r\n        if (holder is StopsViewHolder.Item) holder.binding.label.text = items[position - 1]\r\n    }\r\n\r\n    // add 1 to the list size to account for the padding object\r\n    override fun getItemCount() = items.size + 1\r\n}\r\n\r\nsealed class StopsViewHolder(view: View) : RecyclerView.ViewHolder(view) {\r\n    // basically reusing the same layout, just forcing a fixed width on it\r\n    class Padding(binding: StopsItemBinding) : StopsViewHolder(binding.root) {\r\n        init {\r\n            with(binding.label) {\r\n                // padding needs to be half the screen width, minus half an item (so it&#39;s centred)\r\n                val metrics = context.resources.displayMetrics\r\n                // really this 100 should be a dimension resource that the XML uses too, defined in one place\r\n                val minItemWidth = 100 * metrics.scaledDensity\r\n                width = ((metrics.widthPixels - minItemWidth) / 2f).roundToInt()\r\n            }\r\n        }\r\n    }\r\n\r\n    class Item(val binding: StopsItemBinding) : StopsViewHolder(binding.root)\r\n}\r\n````\r\n\r\nThe comments explain it, but there are basically two types of `ViewHolder` - one that displays items, and one that has a fixed width and only appears as the first item in the list. That size is calculated when the VH is created, and it depends on that *item width* in the XML (so it can offset enough that the first real item is centred). This is why it would be best as a resource - so it&#39;s only defined in one place, instead of hardcoded here *and* in the XML, where you&#39;d need to change both if you ever tweak it.\r\n\r\n----\r\n\r\nAnd then you just need to set it up on your `RecyclerView`\r\n\r\n````\r\nclass MainFragment : Fragment(R.layout.fragment_main) {\r\n\r\n    lateinit var binding: FragmentMainBinding\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        binding = FragmentMainBinding.bind(view)\r\n        with(binding.recyclerView) {\r\n            adapter = StopsAdapter(listOf(\r\n                &quot;Auto&quot;, &quot;1/4000&quot;, &quot;1/3200&quot;, &quot;1/1600&quot;, &quot;1/1250&quot;, &quot;1/1000&quot;, &quot;1/800&quot;\r\n            ))\r\n            layoutManager =\r\n                LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false)\r\n            // snaps the items to the middle of the screen\r\n            LinearSnapHelper().attachToRecyclerView(this)\r\n        }\r\n    }\r\n}\r\n\r\n````\r\n\r\nAnd that&#39;s about it!\r\n\r\n[![The working layout][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MqDJ3.png","title":"Scrolling view similar to that of a camera app","body":"<p>This is pretty simple to do - the tricky part is the extra space at the start of the list. We can do that by adding a dummy item to the list with a fixed width.</p>\n<p>First get a basic item layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/label&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:minWidth=&quot;100sp&quot;\n        android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Headline5&quot;\n        android:gravity=&quot;center&quot;\n        tools:text=&quot;1/800&quot;\n        /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>The important thing here is the <code>minWidth</code> (in sp) which gives each item a consistent size. You could make it a fixed size too, if you want - this way just allows for longer labels. Really that value should be a <em>dimension resource</em>, e.g. <code>@dimen/stops_item_width</code> but we'll get to that later</p>\n<hr />\n<p>Now you need an adapter:</p>\n<pre><code>class StopsAdapter(private val items: List&lt;String&gt;) : RecyclerView.Adapter&lt;StopsViewHolder&gt;() {\n\n    companion object {\n        const val PADDING = 0\n        const val ITEM = 1\n    }\n\n    // treat the first item in the list as the header\n    override fun getItemViewType(position: Int) = if (position == 0) PADDING else ITEM\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): StopsViewHolder {\n        val inflater = LayoutInflater.from(parent.context)\n        val binding = StopsItemBinding.inflate(inflater)\n        return if (viewType == PADDING) StopsViewHolder.Padding(binding)\n        else StopsViewHolder.Item(binding)\n    }\n\n    override fun onBindViewHolder(holder: StopsViewHolder, position: Int) {\n        // need to offset the lookup, since item 0 in the list is displayed at position 1\n        if (holder is StopsViewHolder.Item) holder.binding.label.text = items[position - 1]\n    }\n\n    // add 1 to the list size to account for the padding object\n    override fun getItemCount() = items.size + 1\n}\n\nsealed class StopsViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    // basically reusing the same layout, just forcing a fixed width on it\n    class Padding(binding: StopsItemBinding) : StopsViewHolder(binding.root) {\n        init {\n            with(binding.label) {\n                // padding needs to be half the screen width, minus half an item (so it's centred)\n                val metrics = context.resources.displayMetrics\n                // really this 100 should be a dimension resource that the XML uses too, defined in one place\n                val minItemWidth = 100 * metrics.scaledDensity\n                width = ((metrics.widthPixels - minItemWidth) / 2f).roundToInt()\n            }\n        }\n    }\n\n    class Item(val binding: StopsItemBinding) : StopsViewHolder(binding.root)\n}\n</code></pre>\n<p>The comments explain it, but there are basically two types of <code>ViewHolder</code> - one that displays items, and one that has a fixed width and only appears as the first item in the list. That size is calculated when the VH is created, and it depends on that <em>item width</em> in the XML (so it can offset enough that the first real item is centred). This is why it would be best as a resource - so it's only defined in one place, instead of hardcoded here <em>and</em> in the XML, where you'd need to change both if you ever tweak it.</p>\n<hr />\n<p>And then you just need to set it up on your <code>RecyclerView</code></p>\n<pre><code>class MainFragment : Fragment(R.layout.fragment_main) {\n\n    lateinit var binding: FragmentMainBinding\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        binding = FragmentMainBinding.bind(view)\n        with(binding.recyclerView) {\n            adapter = StopsAdapter(listOf(\n                &quot;Auto&quot;, &quot;1/4000&quot;, &quot;1/3200&quot;, &quot;1/1600&quot;, &quot;1/1250&quot;, &quot;1/1000&quot;, &quot;1/800&quot;\n            ))\n            layoutManager =\n                LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false)\n            // snaps the items to the middle of the screen\n            LinearSnapHelper().attachToRecyclerView(this)\n        }\n    }\n}\n\n</code></pre>\n<p>And that's about it!</p>\n<p><a href=\"https://i.stack.imgur.com/MqDJ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MqDJ3.png\" alt=\"The working layout\" /></a></p>\n"}],"owner":{"account_id":12244902,"reputation":63,"user_id":8936827,"display_name":"Indirajith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664913353,"creation_date":1664847370,"question_id":73942338,"body_markdown":"I&#39;m curious if there&#39;s anything that comes standard with Android that looks exactly like this.\r\n\r\nIf not, do we have a customised approach to accomplishing it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mlycl.gif","title":"Scrolling view similar to that of a camera app","body":"<p>I'm curious if there's anything that comes standard with Android that looks exactly like this.</p>\n<p>If not, do we have a customised approach to accomplishing it?</p>\n<p><a href=\"https://i.stack.imgur.com/Mlycl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mlycl.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","encryption","multidimensional-array"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":2,"creation_date":1664893821,"post_id":73947126,"comment_id":130571293,"body_markdown":"Your current code does not compile. You&#39;re missing a return statement.","body":"Your current code does not compile. You&#39;re missing a return statement."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664896012,"creation_date":1664894204,"answer_id":73949562,"question_id":73947126,"body_markdown":"Refer to *javadoc* comments for method `cifradoTrans` in below code. Note that I replace spaces with underscores for better visualization.\r\n```java\r\npublic class CipherSq {\r\n\r\n    /**\r\n     * Places characters of &lt;var&gt;cadena&lt;/var&gt; in a matrix with &lt;var&gt;numberOfColumnsInMatrix&lt;/var&gt;\r\n     * columns and as many rows as required in order to hold all characters of &lt;var&gt;cadena&lt;/var&gt;.\r\n     * Stores the characters in rows, i.e. first character in &lt;var&gt;cadena&lt;/var&gt; is in first row,\r\n     * first column of matrix. Second character of &lt;var&gt;cadena&lt;/var&gt; is in first row, second column\r\n     * of matrix, and so on. Then a string is created by traversing the matrix column by column and\r\n     * concatenating the matrix elements, i.e. first character of returned string is character in\r\n     * first row, first column of matrix. Second character in string is second row, first column of\r\n     * matrix and so on.\r\n     * \r\n     * @param cadena                  - string to manipulate.\r\n     * @param numberOfColumnsInMatrix - number of columns in matrix.\r\n     * \r\n     * @return Manipulated string.\r\n     */\r\n    public static String cifradoTrans(String cadena, int numberOfColumnsInMatrix) {\r\n        cadena = cadena.replace(&#39; &#39;, &#39;_&#39;);\r\n        char[] characters = cadena.toCharArray();\r\n        int len = cadena.length();\r\n        int rows = (int) Math.ceil((double) len / numberOfColumnsInMatrix);\r\n        char[][] matrix = new char[rows][numberOfColumnsInMatrix];\r\n        int row = 0;\r\n        int col = 0;\r\n        int i = 0;\r\n        for (; i &lt; len; i++) {\r\n            col = i % numberOfColumnsInMatrix;\r\n            if (col == 0) {\r\n                row = i / numberOfColumnsInMatrix;\r\n                System.out.println();\r\n            }\r\n            matrix[row][col] = characters[i];\r\n            System.out.print(characters[i] + &quot; &quot;);\r\n        }\r\n        for (col++; col &lt; numberOfColumnsInMatrix; col++) {\r\n            matrix[row][col] = &#39;_&#39;;\r\n            System.out.print(matrix[row][col] + &quot; &quot;);\r\n        }\r\n        System.out.println(System.lineSeparator());\r\n        i = 0;\r\n        char[] newCharacters = new char[rows * numberOfColumnsInMatrix];\r\n        for (col = 0; col &lt; numberOfColumnsInMatrix; col++) {\r\n            for (row = 0; row &lt; rows; row++) {\r\n                newCharacters[i++] = matrix[row][col];\r\n            }\r\n        }\r\n        return new String(newCharacters);\r\n    }\r\n\r\n    /**\r\n     * Recognizes two command-line arguments. First is string to manipulate.\r\n     * Second is number of columns in matrix.\r\n     */\r\n    public static void main(String[] args) {\r\n        if (args.length &gt; 1) {\r\n            System.out.println(cifradoTrans(args[0], Integer.parseInt(args[1])));\r\n        }\r\n        else {\r\n            System.out.println(&quot;ARGS: string int&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I run above code with [command-line] arguments `&quot;NOS ATACAN CON CARBUNCO&quot;` and `5`, I get the following output:\r\n```none\r\nN O S _ A \r\nT A C A N \r\n_ C O N _ \r\nC A R B U \r\nN C O _ _ \r\n\r\nNT_CNOACACSCORO_ANB_AN_U_\r\n```\r\n","title":"A simple transposition cipher","body":"<p>Refer to <em>javadoc</em> comments for method <code>cifradoTrans</code> in below code. Note that I replace spaces with underscores for better visualization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CipherSq {\n\n    /**\n     * Places characters of &lt;var&gt;cadena&lt;/var&gt; in a matrix with &lt;var&gt;numberOfColumnsInMatrix&lt;/var&gt;\n     * columns and as many rows as required in order to hold all characters of &lt;var&gt;cadena&lt;/var&gt;.\n     * Stores the characters in rows, i.e. first character in &lt;var&gt;cadena&lt;/var&gt; is in first row,\n     * first column of matrix. Second character of &lt;var&gt;cadena&lt;/var&gt; is in first row, second column\n     * of matrix, and so on. Then a string is created by traversing the matrix column by column and\n     * concatenating the matrix elements, i.e. first character of returned string is character in\n     * first row, first column of matrix. Second character in string is second row, first column of\n     * matrix and so on.\n     * \n     * @param cadena                  - string to manipulate.\n     * @param numberOfColumnsInMatrix - number of columns in matrix.\n     * \n     * @return Manipulated string.\n     */\n    public static String cifradoTrans(String cadena, int numberOfColumnsInMatrix) {\n        cadena = cadena.replace(' ', '_');\n        char[] characters = cadena.toCharArray();\n        int len = cadena.length();\n        int rows = (int) Math.ceil((double) len / numberOfColumnsInMatrix);\n        char[][] matrix = new char[rows][numberOfColumnsInMatrix];\n        int row = 0;\n        int col = 0;\n        int i = 0;\n        for (; i &lt; len; i++) {\n            col = i % numberOfColumnsInMatrix;\n            if (col == 0) {\n                row = i / numberOfColumnsInMatrix;\n                System.out.println();\n            }\n            matrix[row][col] = characters[i];\n            System.out.print(characters[i] + &quot; &quot;);\n        }\n        for (col++; col &lt; numberOfColumnsInMatrix; col++) {\n            matrix[row][col] = '_';\n            System.out.print(matrix[row][col] + &quot; &quot;);\n        }\n        System.out.println(System.lineSeparator());\n        i = 0;\n        char[] newCharacters = new char[rows * numberOfColumnsInMatrix];\n        for (col = 0; col &lt; numberOfColumnsInMatrix; col++) {\n            for (row = 0; row &lt; rows; row++) {\n                newCharacters[i++] = matrix[row][col];\n            }\n        }\n        return new String(newCharacters);\n    }\n\n    /**\n     * Recognizes two command-line arguments. First is string to manipulate.\n     * Second is number of columns in matrix.\n     */\n    public static void main(String[] args) {\n        if (args.length &gt; 1) {\n            System.out.println(cifradoTrans(args[0], Integer.parseInt(args[1])));\n        }\n        else {\n            System.out.println(&quot;ARGS: string int&quot;);\n        }\n    }\n}\n</code></pre>\n<p>When I run above code with [command-line] arguments <code>&quot;NOS ATACAN CON CARBUNCO&quot;</code> and <code>5</code>, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>N O S _ A \nT A C A N \n_ C O N _ \nC A R B U \nN C O _ _ \n\nNT_CNOACACSCORO_ANB_AN_U_\n</code></pre>\n"}],"owner":{"account_id":25586465,"reputation":1,"user_id":19364149,"display_name":"Daniel Requena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1664913322,"creation_date":1664882510,"question_id":73947126,"body_markdown":"I need to write a simple column transposition cipher program.\r\n\r\nHere&#39;s what I have so far:\r\n\r\n    public static String transpositionCipher(String text, int N) {\r\n        String output = &quot;&quot;;\r\n        char[][] split = new char[N][text.length()];\r\n        for (int i = 0; i &lt;= N; i++) {\r\n            for (int j = 0; j &lt; text.length(); j++) {\r\n                split[i][j] = text.charAt(i * text.length() + j);\r\n                System.out.println(split[i][j]);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nBellow are the inputs and expected outputs of my program:\r\n\r\n**INPUT #1**\r\n\r\n```\r\ntext = &quot;New atak&quot;, N = 3\r\n```\r\n\r\nTransposition matrix:\r\n\r\n```none\r\nN e w\r\n_ a t\r\na k _\r\n```\r\n\r\n**OUPUT #1**\r\n\r\n```\r\n&quot;N aeakwt&quot;\r\n```\r\n\r\n**INPUT #2**\r\n\r\n```\r\ntext = &quot;NOS ATACAN CON CARBUNCO&quot;, N = 5\r\n```\r\n\r\nTransposition matrix:\r\n\r\n```none\r\nN O S _ A\r\nT A C A N\r\n_ C O N _\r\nC A R B U\r\nN C O _ _\r\n```\r\n\r\n**OUPUT #2**\r\n\r\n```\r\n&quot;NT CNOACACSCORO ANB AN U&quot;\r\n```","title":"A simple transposition cipher","body":"<p>I need to write a simple column transposition cipher program.</p>\n<p>Here's what I have so far:</p>\n<pre><code>public static String transpositionCipher(String text, int N) {\n    String output = &quot;&quot;;\n    char[][] split = new char[N][text.length()];\n    for (int i = 0; i &lt;= N; i++) {\n        for (int j = 0; j &lt; text.length(); j++) {\n            split[i][j] = text.charAt(i * text.length() + j);\n            System.out.println(split[i][j]);\n        }\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>Bellow are the inputs and expected outputs of my program:</p>\n<p><strong>INPUT #1</strong></p>\n<pre><code>text = &quot;New atak&quot;, N = 3\n</code></pre>\n<p>Transposition matrix:</p>\n<pre class=\"lang-none prettyprint-override\"><code>N e w\n_ a t\na k _\n</code></pre>\n<p><strong>OUPUT #1</strong></p>\n<pre><code>&quot;N aeakwt&quot;\n</code></pre>\n<p><strong>INPUT #2</strong></p>\n<pre><code>text = &quot;NOS ATACAN CON CARBUNCO&quot;, N = 5\n</code></pre>\n<p>Transposition matrix:</p>\n<pre class=\"lang-none prettyprint-override\"><code>N O S _ A\nT A C A N\n_ C O N _\nC A R B U\nN C O _ _\n</code></pre>\n<p><strong>OUPUT #2</strong></p>\n<pre><code>&quot;NT CNOACACSCORO ANB AN U&quot;\n</code></pre>\n"},{"tags":["java","loops","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":4390684,"reputation":1345,"user_id":3579174,"accept_rate":89,"display_name":"Ibrennan208"},"score":0,"creation_date":1664911152,"post_id":73952669,"comment_id":130576864,"body_markdown":"You&#39;ll want to become familiar with the concept of a loop. You may want a `while` loop here.","body":"You&#39;ll want to become familiar with the concept of a loop. You may want a <code>while</code> loop here."},{"owner":{"account_id":22337408,"reputation":1,"user_id":16557739,"display_name":"Brian Gomez"},"score":0,"creation_date":1664911644,"post_id":73952669,"comment_id":130577014,"body_markdown":"@Ibrennan208 I have looked at a while loop but was getting this error &#39;Exception in thread &quot;main&quot; java.util.NoSuchElementException&#39; so I thought there might be another solution since I am not sure how to solve that error. I forgot to add that part to the question.","body":"@Ibrennan208 I have looked at a while loop but was getting this error &#39;Exception in thread &quot;main&quot; java.util.NoSuchElementException&#39; so I thought there might be another solution since I am not sure how to solve that error. I forgot to add that part to the question."},{"owner":{"account_id":4390684,"reputation":1345,"user_id":3579174,"accept_rate":89,"display_name":"Ibrennan208"},"score":0,"creation_date":1664913183,"post_id":73952669,"comment_id":130577440,"body_markdown":"We would need more context regarding your previous implementation to tell you exactly what was happening with your `while` loop. It&#39;s possible the scope of the loop was giving you that exception. (Meaning the places you put your brackets and how the brackets could potentially be causing that issue)","body":"We would need more context regarding your previous implementation to tell you exactly what was happening with your <code>while</code> loop. It&#39;s possible the scope of the loop was giving you that exception. (Meaning the places you put your brackets and how the brackets could potentially be causing that issue)"}],"answers":[{"tags":[],"owner":{"account_id":24381519,"reputation":27,"user_id":18312979,"display_name":"kefomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664912724,"creation_date":1664912724,"answer_id":73952930,"question_id":73952669,"body_markdown":"Like has been said you should learn about loops. There are two types while-loop and for-loop. In this case you should youse the while-loop.\r\n\r\nThe implementation of your problem could be this.\r\n\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;What woul you like to do?&quot;);\r\n       \r\n        String response;\r\n        Transactions newTransaction = new Transactions();\r\n\r\n        \r\n        while (true) {\r\n                response = scanner.next().toLowerCase();        \r\n                if (response.equals(&quot;withdraw&quot;)) {\r\n                    newTransaction.Withdrawal();\r\n                    break;\r\n                } else if (response.equals(&quot;deposit&quot;)) {\r\n                    newTransaction.Deposit();\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Please select a valid choice&quot;);        \r\n                }\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}","title":"NoSuchElementException error for ATM Machine app (Modified)","body":"<p>Like has been said you should learn about loops. There are two types while-loop and for-loop. In this case you should youse the while-loop.</p>\n<p>The implementation of your problem could be this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) throws Exception {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;What woul you like to do?&quot;);\n       \n        String response;\n        Transactions newTransaction = new Transactions();\n\n        \n        while (true) {\n                response = scanner.next().toLowerCase();        \n                if (response.equals(&quot;withdraw&quot;)) {\n                    newTransaction.Withdrawal();\n                    break;\n                } else if (response.equals(&quot;deposit&quot;)) {\n                    newTransaction.Deposit();\n                    break;\n                } else {\n                    System.out.println(&quot;Please select a valid choice&quot;);        \n                }\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5447828,"reputation":160,"user_id":4465622,"display_name":"Salvatore Allegra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664913132,"creation_date":1664913132,"answer_id":73953010,"question_id":73952669,"body_markdown":"You can use a sentinel. A sentinel is a value entered that will end the iteration.\r\n\r\n    //incomplete code showing logic\r\n    int choice;\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Choice&quot;);\r\n    choice = input.nextInt();\r\n    while(choice != -1){  //-1 is the sentinel, can be value you choose\r\n        //Some logic you want to do\r\n        System.out.println(&quot;Enter choice or -1 to end&quot;);\r\n        choice = input.NextInt();  //notice we input choice again here\r\n    }\r\n\r\n\r\n","title":"NoSuchElementException error for ATM Machine app (Modified)","body":"<p>You can use a sentinel. A sentinel is a value entered that will end the iteration.</p>\n<pre><code>//incomplete code showing logic\nint choice;\nScanner input = new Scanner(System.in);\nSystem.out.println(&quot;Enter Choice&quot;);\nchoice = input.nextInt();\nwhile(choice != -1){  //-1 is the sentinel, can be value you choose\n    //Some logic you want to do\n    System.out.println(&quot;Enter choice or -1 to end&quot;);\n    choice = input.NextInt();  //notice we input choice again here\n}\n</code></pre>\n"}],"owner":{"account_id":22337408,"reputation":1,"user_id":16557739,"display_name":"Brian Gomez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664913132,"creation_date":1664911002,"question_id":73952669,"body_markdown":"I am currently learning Java and I am trying to retain the information I learned by building a ATM machine app (I plan on adding more to it in the future). \r\nMy current issue is I would like to ask a user &#39;What would you like to do&#39; repeatedly until a valid input is provided(current valid inputs are &#39;Withdraw&#39; and &#39;Deposit&#39;). \r\n\r\nI have a loop that will repeatedly ask the user &#39;Please select a valid choice&#39; if the input is not valid. If the input is valid it will execute only once, ask &#39;What would you like to do&#39;, and then display a NoSuchElementException. Not sure how to fix this. \r\n\r\nHere is my code:\r\n\r\n**App.java**\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in); \r\n        boolean done = false;       \r\n\r\n        while(!done) {\r\n            System.out.println(&quot;What woul you like to do?&quot;);\r\n            String response = scanner.next().toLowerCase();\r\n            Transactions newTransaction = new Transactions();\r\n\r\n            if (response.equals(&quot;withdraw&quot;)) {\r\n                newTransaction.Withdrawal();\r\n            } else if (response.equals(&quot;deposit&quot;)) {\r\n                newTransaction.Deposit();\r\n            } else {\r\n                System.out.println(&quot;Please select a valid choice&quot;);\r\n            }   \r\n        }\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n**Transactions.java**\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Transactions {\r\n    private int currentBalance = 100;\r\n\r\n    public void Withdrawal() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;How much would you like to withdraw?&quot;);\r\n\r\n        int withdrawAmount = scanner.nextInt();\r\n\r\n        if (withdrawAmount &gt; 0) {\r\n            if (currentBalance &gt; 0) {\r\n\r\n                currentBalance -= withdrawAmount;\r\n                System.out.println(&quot;Amount withdrawn: $&quot; + withdrawAmount);\r\n                System.out.println(&quot;Current Balance: $&quot; + Balance());\r\n                if (currentBalance &lt; 0) {\r\n                    System.out.println(\r\n                            &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(\r\n                        &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Can&#39;t remove 0 from account&quot;);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    public void Deposit() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;How much would you like to deposit?&quot;);\r\n\r\n        int depositAmount = scanner.nextInt();\r\n\r\n        if (depositAmount &gt; 0) {\r\n            currentBalance += depositAmount;\r\n            Balance();\r\n        }\r\n        System.out.println(&quot;Amount deposited: $&quot; + depositAmount);\r\n        System.out.println(&quot;Current Balance: $&quot; + Balance());\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    public int Balance() {\r\n        return currentBalance;\r\n    }\r\n}\r\n```\r\n\r\n**Error Message**\r\n\r\n[NoSuchElementException][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QZOS5.png","title":"NoSuchElementException error for ATM Machine app (Modified)","body":"<p>I am currently learning Java and I am trying to retain the information I learned by building a ATM machine app (I plan on adding more to it in the future).\nMy current issue is I would like to ask a user 'What would you like to do' repeatedly until a valid input is provided(current valid inputs are 'Withdraw' and 'Deposit').</p>\n<p>I have a loop that will repeatedly ask the user 'Please select a valid choice' if the input is not valid. If the input is valid it will execute only once, ask 'What would you like to do', and then display a NoSuchElementException. Not sure how to fix this.</p>\n<p>Here is my code:</p>\n<p><strong>App.java</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        Scanner scanner = new Scanner(System.in); \n        boolean done = false;       \n\n        while(!done) {\n            System.out.println(&quot;What woul you like to do?&quot;);\n            String response = scanner.next().toLowerCase();\n            Transactions newTransaction = new Transactions();\n\n            if (response.equals(&quot;withdraw&quot;)) {\n                newTransaction.Withdrawal();\n            } else if (response.equals(&quot;deposit&quot;)) {\n                newTransaction.Deposit();\n            } else {\n                System.out.println(&quot;Please select a valid choice&quot;);\n            }   \n        }\n        scanner.close();\n    }\n}\n</code></pre>\n<p><strong>Transactions.java</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Transactions {\n    private int currentBalance = 100;\n\n    public void Withdrawal() {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;How much would you like to withdraw?&quot;);\n\n        int withdrawAmount = scanner.nextInt();\n\n        if (withdrawAmount &gt; 0) {\n            if (currentBalance &gt; 0) {\n\n                currentBalance -= withdrawAmount;\n                System.out.println(&quot;Amount withdrawn: $&quot; + withdrawAmount);\n                System.out.println(&quot;Current Balance: $&quot; + Balance());\n                if (currentBalance &lt; 0) {\n                    System.out.println(\n                            &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\n                }\n            } else {\n                System.out.println(\n                        &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\n            }\n        } else {\n            System.out.println(&quot;Can't remove 0 from account&quot;);\n        }\n\n        scanner.close();\n    }\n\n    public void Deposit() {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;How much would you like to deposit?&quot;);\n\n        int depositAmount = scanner.nextInt();\n\n        if (depositAmount &gt; 0) {\n            currentBalance += depositAmount;\n            Balance();\n        }\n        System.out.println(&quot;Amount deposited: $&quot; + depositAmount);\n        System.out.println(&quot;Current Balance: $&quot; + Balance());\n\n        scanner.close();\n    }\n\n    public int Balance() {\n        return currentBalance;\n    }\n}\n</code></pre>\n<p><strong>Error Message</strong></p>\n<p><a href=\"https://i.stack.imgur.com/QZOS5.png\" rel=\"nofollow noreferrer\">NoSuchElementException</a></p>\n"},{"tags":["java","filter","xss"],"comments":[{"owner":{"account_id":3521854,"reputation":1144,"user_id":2943913,"display_name":"Pratik Bhajankar"},"score":0,"creation_date":1664526294,"post_id":57673516,"comment_id":130496529,"body_markdown":"I have same problem any solution you got @Vcima","body":"I have same problem any solution you got @Vcima"}],"answers":[{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664749820,"creation_date":1664749820,"answer_id":73929777,"question_id":57673516,"body_markdown":"Here &quot;might&quot; be your problem:\r\n\r\n    private boolean isFileUploadField(FileItem aFileItem){\r\n        return ! aFileItem.isFormField();\r\n    }\r\n\r\nIt&#39;s returning the opposite response of the boolean value (check the `!`). Remove it and test if that works.\r\n\r\nOnly if the `FileItem.isFormField()` that you can get the form parameter data.\r\n\r\n    private boolean isFileUploadField(FileItem aFileItem){\r\n        return aFileItem.isFormField();\r\n    }","title":"HttpServletRequestWrapper lose multipart inputs values","body":"<p>Here &quot;might&quot; be your problem:</p>\n<pre><code>private boolean isFileUploadField(FileItem aFileItem){\n    return ! aFileItem.isFormField();\n}\n</code></pre>\n<p>It's returning the opposite response of the boolean value (check the <code>!</code>). Remove it and test if that works.</p>\n<p>Only if the <code>FileItem.isFormField()</code> that you can get the form parameter data.</p>\n<pre><code>private boolean isFileUploadField(FileItem aFileItem){\n    return aFileItem.isFormField();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664913092,"creation_date":1664913092,"answer_id":73953001,"question_id":57673516,"body_markdown":"If you see for `fRegularParams`, you are touching the `getParameter()` method of servlet lifecycle.\r\n\r\nHere the parameters are already **initialized** in this phase.\r\n\r\nFor `fFileParams` you are trying to get params in constructor, which is **too early** considering lifecycle of servlet and filters.\r\n\r\nImage for your reference:\r\n\r\n[![servlet lifecycle][1]][1]\r\n\r\n**Solution**:\r\n\r\nCan you try with method `request.getParts()` instead?\r\n\r\n\r\nYou can try this approach and override\r\n\r\nhttps://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L131\r\n\r\n\r\nWhich internally deals with request parts.\r\n\r\nhttps://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L91\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8VhIb.png\r\n","title":"HttpServletRequestWrapper lose multipart inputs values","body":"<p>If you see for <code>fRegularParams</code>, you are touching the <code>getParameter()</code> method of servlet lifecycle.</p>\n<p>Here the parameters are already <strong>initialized</strong> in this phase.</p>\n<p>For <code>fFileParams</code> you are trying to get params in constructor, which is <strong>too early</strong> considering lifecycle of servlet and filters.</p>\n<p>Image for your reference:</p>\n<p><a href=\"https://i.stack.imgur.com/8VhIb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8VhIb.png\" alt=\"servlet lifecycle\" /></a></p>\n<p><strong>Solution</strong>:</p>\n<p>Can you try with method <code>request.getParts()</code> instead?</p>\n<p>You can try this approach and override</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L131\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L131</a></p>\n<p>Which internally deals with request parts.</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L91\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L91</a></p>\n"}],"owner":{"account_id":5200323,"reputation":423,"user_id":4159935,"accept_rate":20,"display_name":"vcima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664913092,"creation_date":1566904573,"question_id":57673516,"body_markdown":"I&#39;m trying to develop a XSS Filter. All works fine, but the wrapper is losing the multipart fields. \r\n\r\nAfter the filter, in the controller, when I try to obtain the value of a multipart field always is empty. \r\n\r\nI have the following wrapper:\r\n\r\n    public class XSSRequestWrapperMultipart extends HttpServletRequestWrapper {\r\n\r\n    /** Constructor.  */\r\n    public XSSRequestWrapperMultipart(HttpServletRequest aRequest) throws IOException {\r\n        super(aRequest);\r\n        ServletFileUpload upload = new ServletFileUpload( new DiskFileItemFactory());\r\n        try {\r\n            List&lt;FileItem&gt; fileItems = upload.parseRequest(aRequest);\r\n            convertToMaps(fileItems);\r\n        }\r\n        catch(FileUploadException ex){\r\n            throw new IOException(&quot;Cannot parse underlying request: &quot; + ex.toString());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return all request parameter names, for both regular controls and file upload\r\n     * controls.\r\n     */\r\n    @Override public Enumeration&lt;String&gt; getParameterNames() {\r\n        Set&lt;String&gt; allNames = new LinkedHashSet&lt;&gt;();\r\n        allNames.addAll(fRegularParams.keySet());\r\n        allNames.addAll(fFileParams.keySet());\r\n        return Collections.enumeration(allNames);\r\n    }\r\n\r\n    /**\r\n     * Return the parameter value. Applies only to regular parameters, not to\r\n     * file upload parameters.\r\n     */\r\n    @Override public String getParameter(String aName) {\r\n        String result = null;\r\n        List&lt;String&gt; values = fRegularParams.get(aName);\r\n        if(values == null){\r\n            //you might try the wrappee, to see if it has a value\r\n        }\r\n        else if (values.isEmpty()) {\r\n            //param name known, but no values present\r\n            result = &quot;&quot;;\r\n        }\r\n        else {\r\n            //return first value in list\r\n            result = values.get(FIRST_VALUE);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return the parameter values. Applies only to regular parameters,\r\n     * not to file upload parameters.\r\n     */\r\n    @Override public String[] getParameterValues(String aName) {\r\n        String[] result = null;\r\n        List&lt;String&gt; values = fRegularParams.get(aName);\r\n        if(values != null) {\r\n            result = values.toArray(new String[values.size()]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return a {@code Map&lt;String, List&lt;String&gt;&gt;} for all regular parameters.\r\n     * Does not return any file upload parameters at all.\r\n     */\r\n    @Override public Map&lt;String, List&lt;String&gt;&gt; getParameterMap() {\r\n        return Collections.unmodifiableMap(fRegularParams);\r\n    }\r\n\r\n    /**\r\n     * Return a {@code List&lt;FileItem&gt;}, in the same order as they appear\r\n     *  in the underlying request.\r\n     */\r\n    public List&lt;FileItem&gt; getFileItems(){\r\n        return new ArrayList&lt;FileItem&gt;(fFileParams.values());\r\n    }\r\n\r\n    /**\r\n     * Return the {@link FileItem} of the given name.\r\n     * &lt;P&gt;If the name is unknown, then return &lt;tt&gt;null&lt;/tt&gt;.\r\n     */\r\n    public FileItem getFileItem(String aFieldName){\r\n        return fFileParams.get(aFieldName);\r\n    }\r\n\r\n\r\n    // PRIVATE\r\n\r\n    /** Store regular params only. May be multivalued (hence the List).  */\r\n    private final Map&lt;String, List&lt;String&gt;&gt; fRegularParams = new LinkedHashMap&lt;&gt;();\r\n\r\n    /** Store file params only. */\r\n    private final Map&lt;String, FileItem&gt; fFileParams = new LinkedHashMap&lt;&gt;();\r\n    private static final int FIRST_VALUE = 0;\r\n\r\n    private void convertToMaps(List&lt;FileItem&gt; aFileItems){\r\n        for(FileItem item: aFileItems) {\r\n            if ( isFileUploadField(item) ) {\r\n                fFileParams.put(item.getFieldName(), item);\r\n            }\r\n            else {\r\n                if( alreadyHasValue(item) ){\r\n                    addMultivaluedItem(item);\r\n                }\r\n                else {\r\n                    addSingleValueItem(item);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isFileUploadField(FileItem aFileItem){\r\n        return ! aFileItem.isFormField();\r\n    }\r\n\r\n    private boolean alreadyHasValue(FileItem aItem){\r\n        return fRegularParams.get(aItem.getFieldName()) != null;\r\n    }\r\n\r\n    private void addSingleValueItem(FileItem aItem){\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(aItem.getString());\r\n        fRegularParams.put(aItem.getFieldName(), list);\r\n    }\r\n\r\n    private void addMultivaluedItem(FileItem aItem){\r\n        List&lt;String&gt; values = fRegularParams.get(aItem.getFieldName());\r\n        values.add(aItem.getString());\r\n    }\r\n\r\n    }\r\n\r\nAll relative to the fRegularParams works fine, but the fFileParams always appears as null in the controller.\r\n\r\nWhat can I do to keep the values?\r\n\r\nRegards","title":"HttpServletRequestWrapper lose multipart inputs values","body":"<p>I'm trying to develop a XSS Filter. All works fine, but the wrapper is losing the multipart fields. </p>\n\n<p>After the filter, in the controller, when I try to obtain the value of a multipart field always is empty. </p>\n\n<p>I have the following wrapper:</p>\n\n<pre><code>public class XSSRequestWrapperMultipart extends HttpServletRequestWrapper {\n\n/** Constructor.  */\npublic XSSRequestWrapperMultipart(HttpServletRequest aRequest) throws IOException {\n    super(aRequest);\n    ServletFileUpload upload = new ServletFileUpload( new DiskFileItemFactory());\n    try {\n        List&lt;FileItem&gt; fileItems = upload.parseRequest(aRequest);\n        convertToMaps(fileItems);\n    }\n    catch(FileUploadException ex){\n        throw new IOException(\"Cannot parse underlying request: \" + ex.toString());\n    }\n}\n\n/**\n * Return all request parameter names, for both regular controls and file upload\n * controls.\n */\n@Override public Enumeration&lt;String&gt; getParameterNames() {\n    Set&lt;String&gt; allNames = new LinkedHashSet&lt;&gt;();\n    allNames.addAll(fRegularParams.keySet());\n    allNames.addAll(fFileParams.keySet());\n    return Collections.enumeration(allNames);\n}\n\n/**\n * Return the parameter value. Applies only to regular parameters, not to\n * file upload parameters.\n */\n@Override public String getParameter(String aName) {\n    String result = null;\n    List&lt;String&gt; values = fRegularParams.get(aName);\n    if(values == null){\n        //you might try the wrappee, to see if it has a value\n    }\n    else if (values.isEmpty()) {\n        //param name known, but no values present\n        result = \"\";\n    }\n    else {\n        //return first value in list\n        result = values.get(FIRST_VALUE);\n    }\n    return result;\n}\n\n/**\n * Return the parameter values. Applies only to regular parameters,\n * not to file upload parameters.\n */\n@Override public String[] getParameterValues(String aName) {\n    String[] result = null;\n    List&lt;String&gt; values = fRegularParams.get(aName);\n    if(values != null) {\n        result = values.toArray(new String[values.size()]);\n    }\n    return result;\n}\n\n/**\n * Return a {@code Map&lt;String, List&lt;String&gt;&gt;} for all regular parameters.\n * Does not return any file upload parameters at all.\n */\n@Override public Map&lt;String, List&lt;String&gt;&gt; getParameterMap() {\n    return Collections.unmodifiableMap(fRegularParams);\n}\n\n/**\n * Return a {@code List&lt;FileItem&gt;}, in the same order as they appear\n *  in the underlying request.\n */\npublic List&lt;FileItem&gt; getFileItems(){\n    return new ArrayList&lt;FileItem&gt;(fFileParams.values());\n}\n\n/**\n * Return the {@link FileItem} of the given name.\n * &lt;P&gt;If the name is unknown, then return &lt;tt&gt;null&lt;/tt&gt;.\n */\npublic FileItem getFileItem(String aFieldName){\n    return fFileParams.get(aFieldName);\n}\n\n\n// PRIVATE\n\n/** Store regular params only. May be multivalued (hence the List).  */\nprivate final Map&lt;String, List&lt;String&gt;&gt; fRegularParams = new LinkedHashMap&lt;&gt;();\n\n/** Store file params only. */\nprivate final Map&lt;String, FileItem&gt; fFileParams = new LinkedHashMap&lt;&gt;();\nprivate static final int FIRST_VALUE = 0;\n\nprivate void convertToMaps(List&lt;FileItem&gt; aFileItems){\n    for(FileItem item: aFileItems) {\n        if ( isFileUploadField(item) ) {\n            fFileParams.put(item.getFieldName(), item);\n        }\n        else {\n            if( alreadyHasValue(item) ){\n                addMultivaluedItem(item);\n            }\n            else {\n                addSingleValueItem(item);\n            }\n        }\n    }\n}\n\nprivate boolean isFileUploadField(FileItem aFileItem){\n    return ! aFileItem.isFormField();\n}\n\nprivate boolean alreadyHasValue(FileItem aItem){\n    return fRegularParams.get(aItem.getFieldName()) != null;\n}\n\nprivate void addSingleValueItem(FileItem aItem){\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(aItem.getString());\n    fRegularParams.put(aItem.getFieldName(), list);\n}\n\nprivate void addMultivaluedItem(FileItem aItem){\n    List&lt;String&gt; values = fRegularParams.get(aItem.getFieldName());\n    values.add(aItem.getString());\n}\n\n}\n</code></pre>\n\n<p>All relative to the fRegularParams works fine, but the fFileParams always appears as null in the controller.</p>\n\n<p>What can I do to keep the values?</p>\n\n<p>Regards</p>\n"},{"tags":["java","performance","csv","jmeter","jmx"],"comments":[{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":0,"creation_date":1664916370,"post_id":73950119,"comment_id":130578357,"body_markdown":"Please provide a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) of what you tried into your question. It will increase the chances of you receiving help from others and reduce the changes of having your question flagged and removed.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> of what you tried into your question. It will increase the chances of you receiving help from others and reduce the changes of having your question flagged and removed."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664912828,"creation_date":1664912828,"answer_id":73952952,"question_id":73950119,"body_markdown":"I don&#39;t know what do you mean by &quot;JMeter script processes&quot;, if you want to merge 3 CSV files into one and avoid reading the same value by different threads:\r\n\r\n 1. Set [Sharing Mode][1] of the CSV Data Set Config to `All threads`\r\n 2. Set Recycle on EOF to `False`\r\n 3. Set &quot;Stop thread on EOF&quot; to `True`\r\n\r\nThis way each JMeter thread (virtual user) you define in the [Thread Group][2] will read next line from the CSV file on each iteration so each line of data will be used only once by each thread and there won&#39;t be any duplicates. When JMeter reaches the end of file it will mean the end of the test. \r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/jmeter-csv-dataset-config\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group","title":"How do I implement a dynamic number of JMeter script processes?","body":"<p>I don't know what do you mean by &quot;JMeter script processes&quot;, if you want to merge 3 CSV files into one and avoid reading the same value by different threads:</p>\n<ol>\n<li>Set <a href=\"https://www.blazemeter.com/blog/jmeter-csv-dataset-config\" rel=\"nofollow noreferrer\">Sharing Mode</a> of the CSV Data Set Config to <code>All threads</code></li>\n<li>Set Recycle on EOF to <code>False</code></li>\n<li>Set &quot;Stop thread on EOF&quot; to <code>True</code></li>\n</ol>\n<p>This way each JMeter thread (virtual user) you define in the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\" rel=\"nofollow noreferrer\">Thread Group</a> will read next line from the CSV file on each iteration so each line of data will be used only once by each thread and there won't be any duplicates. When JMeter reaches the end of file it will mean the end of the test.</p>\n"}],"owner":{"account_id":26526670,"reputation":15,"user_id":20159557,"display_name":"Filip Klosiewicz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73952952,"answer_count":1,"score":0,"last_activity_date":1664912828,"creation_date":1664896835,"question_id":73950119,"body_markdown":"I currently have **three** JMeter scripts that run on **three** separate machines, each of the connected to a unique CSV file on the respective machine. The three scripts are essentially the same, they only differ in the name of the CSV file they call (1.csv, 2.csv, 3.csv), which contains unique identification numbers, this is done for the reason that when the three scripts run **simultaneously**, they do not overlap on the unique identifier and perform the work on them at the same time as it may cause errors. My goal is to consolidate these CSV files into one, and consolidate the three JMeter scripts into one, but be able to perform the same operation on the three separate machines with one CSV file and one JMeter script.\r\n\r\nAdditionally, I would like to be able to run **4 processes** on the three machines, for example (so one machine would run 2 processes instead of 1), and achieve the same result, with them not overlapping.","title":"How do I implement a dynamic number of JMeter script processes?","body":"<p>I currently have <strong>three</strong> JMeter scripts that run on <strong>three</strong> separate machines, each of the connected to a unique CSV file on the respective machine. The three scripts are essentially the same, they only differ in the name of the CSV file they call (1.csv, 2.csv, 3.csv), which contains unique identification numbers, this is done for the reason that when the three scripts run <strong>simultaneously</strong>, they do not overlap on the unique identifier and perform the work on them at the same time as it may cause errors. My goal is to consolidate these CSV files into one, and consolidate the three JMeter scripts into one, but be able to perform the same operation on the three separate machines with one CSV file and one JMeter script.</p>\n<p>Additionally, I would like to be able to run <strong>4 processes</strong> on the three machines, for example (so one machine would run 2 processes instead of 1), and achieve the same result, with them not overlapping.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":5,"creation_date":1664911275,"post_id":73952648,"comment_id":130576904,"body_markdown":"Requiring less files is a terrible reason, if a vehicle can only be driven a certain way, I would be annoyed if it &quot;lied&quot; about being able to drive the other way then threw an error. There are legitimate reasons for throwing an error (like if the wheels fell off), but it shouldn&#39;t be a way to jam a bunch of methods into a single interface","body":"Requiring less files is a terrible reason, if a vehicle can only be driven a certain way, I would be annoyed if it &quot;lied&quot; about being able to drive the other way then threw an error. There are legitimate reasons for throwing an error (like if the wheels fell off), but it shouldn&#39;t be a way to jam a bunch of methods into a single interface"},{"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1664948881,"post_id":73952648,"comment_id":130582999,"body_markdown":"This question is not opinion based. The interface segregation principle tells which option is most suited and on an objective base.","body":"This question is not opinion based. The interface segregation principle tells which option is most suited and on an objective base."}],"answers":[{"tags":[],"owner":{"account_id":9643196,"reputation":593,"user_id":7156819,"display_name":"Răzvan Puiu"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1664911325,"creation_date":1664911325,"answer_id":73952718,"question_id":73952648,"body_markdown":"You should create interfaces that represent the “abilities” you want your classes to have. In your case the second example is correct: What is common amongst vehicles? You can drive them. Therefore a vehicle is “Drivable”. Bus and RaceCar are implementations of Drivable. They can also be “Paintable”, “Washable”, etc…","title":"Should I implement one interface with two methods or two interfaces?","body":"<p>You should create interfaces that represent the “abilities” you want your classes to have. In your case the second example is correct: What is common amongst vehicles? You can drive them. Therefore a vehicle is “Drivable”. Bus and RaceCar are implementations of Drivable. They can also be “Paintable”, “Washable”, etc…</p>\n"},{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664912383,"creation_date":1664912383,"answer_id":73952885,"question_id":73952648,"body_markdown":"Option 2 is terrible. Your objects are lying about what functionality they support. Reducing the number of files is nowhere near enough of a justification for that.\r\n\r\nOption 1 is better, but consider option 3: just don&#39;t write those interfaces at all.\r\n\r\nIt doesn&#39;t sound like you have any other classes that would implement those interfaces. The names &quot;RaceCarImpl&quot; and &quot;BusImpl&quot; strongly suggest that those are the *only* implementations. In that case, just use the classes directly.\r\n\r\nIf you later want to write more classes that *actually* share a common API, you&#39;ll have a better understanding of what your interfaces should look like - what methods really generalize, what methods are specific to particular implementations, etc. You can refactor any code that took concrete classes to take meaningful interfaces then.","title":"Should I implement one interface with two methods or two interfaces?","body":"<p>Option 2 is terrible. Your objects are lying about what functionality they support. Reducing the number of files is nowhere near enough of a justification for that.</p>\n<p>Option 1 is better, but consider option 3: just don't write those interfaces at all.</p>\n<p>It doesn't sound like you have any other classes that would implement those interfaces. The names &quot;RaceCarImpl&quot; and &quot;BusImpl&quot; strongly suggest that those are the <em>only</em> implementations. In that case, just use the classes directly.</p>\n<p>If you later want to write more classes that <em>actually</em> share a common API, you'll have a better understanding of what your interfaces should look like - what methods really generalize, what methods are specific to particular implementations, etc. You can refactor any code that took concrete classes to take meaningful interfaces then.</p>\n"}],"owner":{"account_id":1803665,"reputation":4255,"user_id":1641300,"accept_rate":36,"display_name":"Tinker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1664913571,"answer_count":2,"score":2,"last_activity_date":1664912383,"creation_date":1664910911,"question_id":73952648,"body_markdown":"I have two classes that are similar in nature but they have different functional signatures. I am considering between having two interfaces vs having one. Let me illustrate: \r\n\r\n### Approach 1: two interfaces\r\n```\r\npublic interface RaceCar {\r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\r\n\r\n}\r\n\r\npublic interface Bus {\r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\r\n}\r\n```\r\n\r\nOne abstract class AbstractCar to share logic between the two: \r\n```\r\npublic abstract AbstractCar { \r\n    // Add shared logic here... \r\n} \r\n```\r\n\r\nAnd the implementation. \r\n```\r\n\r\npublic class RaceCarImpl extends AbstractCar implements RaceCar {\r\n... \r\n}\r\n\r\n\r\npublic class BusImpl extends AbstractCar implements Bus {\r\n...\r\n}\r\n```\r\n\r\nResults: 2 interfaces, 1 abstract, 2 implementation = 5 files. \r\n\r\n\r\n## Approach 2: One interface, two methods \r\n```\r\npublic interface Vehicle { \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\r\n\r\n} \r\n```\r\n\r\n```\r\npublic abstract AbstractVehicle implements Vehicle {\r\n    // Sharing code here \r\n} \r\n```\r\n\r\n```\r\npublic class RaceCar extends AbstractVehicle { \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \r\n        // Implement this ... \r\n    } \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \r\n        throw new IllegalStateException(&quot;Not implemented&quot;);  \r\n    } \r\n\r\n} \r\n\r\n\r\npublic class Bus extends AbstractVehicle { \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \r\n        throw new IllegalStateException(&quot;Not implemented&quot;);  \r\n    } \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \r\n        // Implement this \r\n    } \r\n\r\n} \r\n\r\n```\r\n\r\nResults: 1 interfaces, 1 abstract, 2 implementation = 4 files. \r\n\r\n\r\n## Verdict \r\n\r\nI think having 1 interface is superior because it requires less files. What are your thoughts? \r\n\r\nWhich approach above incurs less technical debt in the long term? \r\n","title":"Should I implement one interface with two methods or two interfaces?","body":"<p>I have two classes that are similar in nature but they have different functional signatures. I am considering between having two interfaces vs having one. Let me illustrate:</p>\n<h3>Approach 1: two interfaces</h3>\n<pre><code>public interface RaceCar {\n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\n\n}\n\npublic interface Bus {\n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\n}\n</code></pre>\n<p>One abstract class AbstractCar to share logic between the two:</p>\n<pre><code>public abstract AbstractCar { \n    // Add shared logic here... \n} \n</code></pre>\n<p>And the implementation.</p>\n<pre><code>\npublic class RaceCarImpl extends AbstractCar implements RaceCar {\n... \n}\n\n\npublic class BusImpl extends AbstractCar implements Bus {\n...\n}\n</code></pre>\n<p>Results: 2 interfaces, 1 abstract, 2 implementation = 5 files.</p>\n<h2>Approach 2: One interface, two methods</h2>\n<pre><code>public interface Vehicle { \n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\n\n} \n</code></pre>\n<pre><code>public abstract AbstractVehicle implements Vehicle {\n    // Sharing code here \n} \n</code></pre>\n<pre><code>public class RaceCar extends AbstractVehicle { \n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \n        // Implement this ... \n    } \n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \n        throw new IllegalStateException(&quot;Not implemented&quot;);  \n    } \n\n} \n\n\npublic class Bus extends AbstractVehicle { \n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \n        throw new IllegalStateException(&quot;Not implemented&quot;);  \n    } \n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \n        // Implement this \n    } \n\n} \n\n</code></pre>\n<p>Results: 1 interfaces, 1 abstract, 2 implementation = 4 files.</p>\n<h2>Verdict</h2>\n<p>I think having 1 interface is superior because it requires less files. What are your thoughts?</p>\n<p>Which approach above incurs less technical debt in the long term?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1993154,"reputation":585,"user_id":1786699,"accept_rate":100,"display_name":"PapaAtHome"},"score":0,"creation_date":1664966264,"post_id":73952041,"comment_id":130587773,"body_markdown":"Please read [this](https://stackoverflow.com/help/how-to-ask)\nYour question is not clear, What have you tried? What were the results?","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">this</a> Your question is not clear, What have you tried? What were the results?"}],"answers":[{"tags":[],"owner":{"account_id":22478656,"reputation":53,"user_id":18235324,"display_name":"NumericPrime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664912359,"creation_date":1664912359,"answer_id":73952879,"question_id":73952041,"body_markdown":"The problem is: How is Java supposed to know wich method to call.\r\nUsually one would rename one methods but I see you are probably using conflicting interfaces. That way I&#39;m afraid it&#39;s not possible to do so.\r\nDid you write these interfaces yourself or are they beyond your controll?\r\n\r\nHowever if reeaaaly want to do something like this you can only implement the interface for your second method and have a instance of the interface with the first mehtod ready like this:\r\n```java\r\npublic class TestClass implements ConflictingInterface1{\r\n\t@Override\r\n\tpublic void method() {\r\n\t\tSystem.out.println(&quot;Hello there!&quot;);\r\n\t}\r\n\tpublic ConflictingInterface2 conflictingInterface2Instance=new ConflictingInterface2() {\r\n\r\n\t\t@Override\r\n\t\tpublic int method() {\r\n\t\t\tmethod();\r\n\t\t\treturn 0;\r\n\t\t}};\r\n}\r\n```\r\n\r\nHope this helps!","title":"How to solve conflicting java methods","body":"<p>The problem is: How is Java supposed to know wich method to call.\nUsually one would rename one methods but I see you are probably using conflicting interfaces. That way I'm afraid it's not possible to do so.\nDid you write these interfaces yourself or are they beyond your controll?</p>\n<p>However if reeaaaly want to do something like this you can only implement the interface for your second method and have a instance of the interface with the first mehtod ready like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass implements ConflictingInterface1{\n    @Override\n    public void method() {\n        System.out.println(&quot;Hello there!&quot;);\n    }\n    public ConflictingInterface2 conflictingInterface2Instance=new ConflictingInterface2() {\n\n        @Override\n        public int method() {\n            method();\n            return 0;\n        }};\n}\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":26365805,"reputation":1,"user_id":20021305,"display_name":"stack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664912359,"creation_date":1664907388,"question_id":73952041,"body_markdown":"Is there a way that I can not use the below method which just returns the handlerequests ? I just don&#39;t want the method handleRequest method. Can somone help me understand what is this method doing &#39;handlerequest&#39; ? Any alternative to not use this method ? Because it is conflicting with someother thing which I&#39;m trying to do.\r\n\r\n```\r\n @Override\r\n    public FutureResponse handleRequest(BackendRequestContext backendRequestContext, Request request, Metrics metrics) {\r\n        return handleRequests(backendRequestContext, ImmutableList.of(request), metrics).get(0);\r\n    }\r\n```\r\n```\r\n    @Override\r\n    public List&lt;FutureResponse&gt; handleRequests(BackendRequestContext context, List&lt;Request&gt; requests, Metrics metrics) {\r\n        StringRequest[] stringRequests = new StringRequest[requests.size()];\r\n\r\n        final String language = context.locale().toLanguageTag().replace(&quot;-&quot;, &quot;_&quot;);\r\n\r\n        for (int i = 0; i &lt; requests.size(); i++) {\r\n            final Request request = requests.get(i);\r\n\r\n            final String id = request.requiredPathParam(STRING_ID_PATH_PARAM);\r\n            final Optional&lt;String&gt; marketplaceDisplayName = request.queryParam(MARKETPLACE_NAME_QUERY_PARAM);\r\n            final Optional&lt;String&gt; stage = request.queryParam(STAGE_QUERY_PARAM);\r\n\r\n            final StringRequest stringRequest = new StringRequest(id);\r\n            stringRequest.setLanguage(language);\r\n            marketplaceDisplayName.ifPresent(stringRequest::setMarketplaceName);\r\n            stage.map(Stage::getStage).ifPresent(stringRequest::setStage);\r\n            stringRequests[i] = stringRequest;\r\n        }\r\n\r\n        ChainableFuture&lt;StringResultBatch&gt; batchFuture = ChainableFuture.immediate(invokeBatchSync(stringRequests));\r\n\r\n        ImmutableList.Builder&lt;FutureResponse&gt; results = ImmutableList.builder();\r\n        for (int i = 0; i &lt; requests.size(); i++) {\r\n            Request request = requests.get(i);\r\n            int index = i;\r\n            FutureResponse requestResponse = FutureResponse.of(request, batchFuture\r\n                    .transform(batchResponse -&gt; {\r\n                        try {\r\n                            if (batchResponse != null) {\r\n                                return transform(request, batchResponse.get(index), language);\r\n                            }\r\n                        } catch (IllegalArgumentException | IOException e) {\r\n                            LOGGER.error(&quot;&quot;, e);\r\n                        }\r\n                        return Response.builder()\r\n                                .withRequest(request)\r\n                                .withEntityDescriptor(EntityDescriptors.ERROR_V1)\r\n                                .withStatus(Http.Status.SERVICE_UNAVAILABLE)\r\n                                .withBody(ErrorResponses.ServerError.serviceUnavailable(ErrorResponse.InternalInfo.builder()\r\n                                        .withMessage(&quot;Error retrieving [&quot;\r\n                                                + request.requiredPathParam(STRING_ID_PATH_PARAM)\r\n                                                + &quot;]&quot;)\r\n                                        .build())\r\n                                        .tokens())\r\n                                .build();\r\n                    }));\r\n\r\n            results.add(requestResponse);\r\n        }\r\n\r\n        return results.build();\r\n    }\r\n```","title":"How to solve conflicting java methods","body":"<p>Is there a way that I can not use the below method which just returns the handlerequests ? I just don't want the method handleRequest method. Can somone help me understand what is this method doing 'handlerequest' ? Any alternative to not use this method ? Because it is conflicting with someother thing which I'm trying to do.</p>\n<pre><code> @Override\n    public FutureResponse handleRequest(BackendRequestContext backendRequestContext, Request request, Metrics metrics) {\n        return handleRequests(backendRequestContext, ImmutableList.of(request), metrics).get(0);\n    }\n</code></pre>\n<pre><code>    @Override\n    public List&lt;FutureResponse&gt; handleRequests(BackendRequestContext context, List&lt;Request&gt; requests, Metrics metrics) {\n        StringRequest[] stringRequests = new StringRequest[requests.size()];\n\n        final String language = context.locale().toLanguageTag().replace(&quot;-&quot;, &quot;_&quot;);\n\n        for (int i = 0; i &lt; requests.size(); i++) {\n            final Request request = requests.get(i);\n\n            final String id = request.requiredPathParam(STRING_ID_PATH_PARAM);\n            final Optional&lt;String&gt; marketplaceDisplayName = request.queryParam(MARKETPLACE_NAME_QUERY_PARAM);\n            final Optional&lt;String&gt; stage = request.queryParam(STAGE_QUERY_PARAM);\n\n            final StringRequest stringRequest = new StringRequest(id);\n            stringRequest.setLanguage(language);\n            marketplaceDisplayName.ifPresent(stringRequest::setMarketplaceName);\n            stage.map(Stage::getStage).ifPresent(stringRequest::setStage);\n            stringRequests[i] = stringRequest;\n        }\n\n        ChainableFuture&lt;StringResultBatch&gt; batchFuture = ChainableFuture.immediate(invokeBatchSync(stringRequests));\n\n        ImmutableList.Builder&lt;FutureResponse&gt; results = ImmutableList.builder();\n        for (int i = 0; i &lt; requests.size(); i++) {\n            Request request = requests.get(i);\n            int index = i;\n            FutureResponse requestResponse = FutureResponse.of(request, batchFuture\n                    .transform(batchResponse -&gt; {\n                        try {\n                            if (batchResponse != null) {\n                                return transform(request, batchResponse.get(index), language);\n                            }\n                        } catch (IllegalArgumentException | IOException e) {\n                            LOGGER.error(&quot;&quot;, e);\n                        }\n                        return Response.builder()\n                                .withRequest(request)\n                                .withEntityDescriptor(EntityDescriptors.ERROR_V1)\n                                .withStatus(Http.Status.SERVICE_UNAVAILABLE)\n                                .withBody(ErrorResponses.ServerError.serviceUnavailable(ErrorResponse.InternalInfo.builder()\n                                        .withMessage(&quot;Error retrieving [&quot;\n                                                + request.requiredPathParam(STRING_ID_PATH_PARAM)\n                                                + &quot;]&quot;)\n                                        .build())\n                                        .tokens())\n                                .build();\n                    }));\n\n            results.add(requestResponse);\n        }\n\n        return results.build();\n    }\n</code></pre>\n"},{"tags":["java","reflection","noclassdeffounderror","corba"],"comments":[{"owner":{"account_id":34833,"reputation":9231,"user_id":98525,"accept_rate":92,"display_name":"tuergeist"},"score":1,"creation_date":1353872653,"post_id":13517497,"comment_id":18567331,"body_markdown":"What is about your classpath?","body":"What is about your classpath?"},{"owner":{"account_id":222159,"reputation":396,"user_id":480579,"display_name":"Jeff"},"score":0,"creation_date":1360350590,"post_id":13517497,"comment_id":20692519,"body_markdown":"Your classloader may be confused.  Do you have more than one instance of the same JAR file(s) on your classpath?","body":"Your classloader may be confused.  Do you have more than one instance of the same JAR file(s) on your classpath?"}],"answers":[{"tags":[],"owner":{"account_id":2657758,"reputation":635,"user_id":2298085,"display_name":"mki"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1366368769,"creation_date":1366368769,"answer_id":16102962,"question_id":13517497,"body_markdown":"NoClassDefFoundError means that the class was found during compile time but NOT found during runtime.\r\nMost of the time you have a difference between the classpath your runtime environnement and the classpath of your compile environnement. And it will work after you find the difference and fix it.\r\n\r\nIf you have checked and you are 100% sure that the classpath are the same, then the error is more tricky and you can read this tutorial to solve the problem :\r\nhttp://javarevisited.blogspot.be/2011/06/noclassdeffounderror-exception-in.html\r\n","title":"java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef","body":"<p>NoClassDefFoundError means that the class was found during compile time but NOT found during runtime.\nMost of the time you have a difference between the classpath your runtime environnement and the classpath of your compile environnement. And it will work after you find the difference and fix it.</p>\n\n<p>If you have checked and you are 100% sure that the classpath are the same, then the error is more tricky and you can read this tutorial to solve the problem :\n<a href=\"http://javarevisited.blogspot.be/2011/06/noclassdeffounderror-exception-in.html\" rel=\"nofollow\">http://javarevisited.blogspot.be/2011/06/noclassdeffounderror-exception-in.html</a></p>\n"},{"tags":[],"owner":{"account_id":406122,"reputation":455,"user_id":775441,"display_name":"coz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641903409,"creation_date":1641903409,"answer_id":70666658,"question_id":13517497,"body_markdown":"The following error is generated after you install or upgrade the version of Java that a custom application uses: \r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/omg/CORBA/UserException\r\n\r\nThe problem occurs because the java.corba module (for example, org.omg.CORBA* packages) were deprecated in Java 9. In Java 11, that module is no longer be available.\r\n\r\nDeprecating the module means that the classes in the module are not available in the class path, by default. However, you can add them to the class path by including the --add-module java.corba option on the javac or java command line.\r\n\r\nNote: This option is available in Java 9 and Java 10. The CORBA modules are not available in Java 11. However, a workaround is available that enables you to add those modules for Java 11. See the following examples for Java 9 and 10, as well as the workaround for Java 11.\r\n\r\nExample for Java 9 and 10:\r\n\r\nIn Java 9 and 10, you need to change this command:\r\n\r\n    jdk-9.0.4/bin/java -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \r\n\r\nWhen you include --add-module java.corba , the command looks like this:\r\n\r\n    jdk-9.0.4/bin/java --add-modules=java.corba -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \r\n\r\nWorkaround for Java 11:\r\n\r\nTo add the CORBA modules to Java 11, you must download GlassFish CORBA JAR files externally from online resources and add them to the class path for Java 11. The following list shows the five GlassFish JAR files that you need:\r\n\r\n    glassfish-corba-internal-api.jar\r\n    glassfish-corba-omgapi.jar\r\n    glassfish-corba-orb.jar\r\n    pfl-basic.jar\r\n    pfl-tf.jar\r\n\r\n[http://support.sas.com/kb/63/716.html][1]\r\n\r\n\r\n  [1]: http://support.sas.com/kb/63/716.html","title":"java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef","body":"<p>The following error is generated after you install or upgrade the version of Java that a custom application uses:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/omg/CORBA/UserException\n</code></pre>\n<p>The problem occurs because the java.corba module (for example, org.omg.CORBA* packages) were deprecated in Java 9. In Java 11, that module is no longer be available.</p>\n<p>Deprecating the module means that the classes in the module are not available in the class path, by default. However, you can add them to the class path by including the --add-module java.corba option on the javac or java command line.</p>\n<p>Note: This option is available in Java 9 and Java 10. The CORBA modules are not available in Java 11. However, a workaround is available that enables you to add those modules for Java 11. See the following examples for Java 9 and 10, as well as the workaround for Java 11.</p>\n<p>Example for Java 9 and 10:</p>\n<p>In Java 9 and 10, you need to change this command:</p>\n<pre><code>jdk-9.0.4/bin/java -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \n</code></pre>\n<p>When you include --add-module java.corba , the command looks like this:</p>\n<pre><code>jdk-9.0.4/bin/java --add-modules=java.corba -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \n</code></pre>\n<p>Workaround for Java 11:</p>\n<p>To add the CORBA modules to Java 11, you must download GlassFish CORBA JAR files externally from online resources and add them to the class path for Java 11. The following list shows the five GlassFish JAR files that you need:</p>\n<pre><code>glassfish-corba-internal-api.jar\nglassfish-corba-omgapi.jar\nglassfish-corba-orb.jar\npfl-basic.jar\npfl-tf.jar\n</code></pre>\n<p><a href=\"http://support.sas.com/kb/63/716.html\" rel=\"noreferrer\">http://support.sas.com/kb/63/716.html</a></p>\n"}],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21303,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1664912137,"creation_date":1353604914,"question_id":13517497,"body_markdown":"I am seeing `java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef` when I am calling the method `getMethod` of the `java.lang.Class`. I am trying to get the `getEmsSession` method in `EmsSeeionFactory_I` of TMF specific jars using reflection. But when I checked for the class in the `jacorb.jar`,  `org/omg/CORBA/InterfaceDef.class` is available on the class path. I have seen in other forums and I am seeing no answer for the same question in those forums as well. It looks like this exception being thrown from native VM code. I am left with no clue now. Any Ideas ? Complete stack trace is as below\r\n\r\n    java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)\r\n            at java.lang.Class.getMethod0(Class.java:2670)\r\n            at java.lang.Class.getMethod0(Class.java:2688)\r\n            at java.lang.Class.getMethod(Class.java:1603)\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef","body":"<p>I am seeing <code>java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef</code> when I am calling the method <code>getMethod</code> of the <code>java.lang.Class</code>. I am trying to get the <code>getEmsSession</code> method in <code>EmsSeeionFactory_I</code> of TMF specific jars using reflection. But when I checked for the class in the <code>jacorb.jar</code>,  <code>org/omg/CORBA/InterfaceDef.class</code> is available on the class path. I have seen in other forums and I am seeing no answer for the same question in those forums as well. It looks like this exception being thrown from native VM code. I am left with no clue now. Any Ideas ? Complete stack trace is as below</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)\n        at java.lang.Class.getMethod0(Class.java:2670)\n        at java.lang.Class.getMethod0(Class.java:2688)\n        at java.lang.Class.getMethod(Class.java:1603)\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9005,"page":987,"page_size":100}
